import{$ as mapState,ae as mapGetters$1,a0 as openBlock,a1 as createBlock,a2 as withCtx,l as createVNode,a4 as createBaseVNode,c as computed,Y as resolveComponent,M as resolveDirective,A as mergeProps,H as withDirectives,a9 as createElementBlock,ac as createCommentVNode,a6 as renderSlot,a7 as normalizeProps,a8 as guardReactiveProps,S as createTextVNode,I as toDisplayString,F as Fragment,a5 as renderList,af as normalizeClass,ab as normalizeStyle,L as vShow,b as ref,k as watch$1,E as resolveDynamicComponent,W as withModifiers,g as getCurrentInstance,ag as debounce,D as Transition$1,ah as useI18n,r as reactive,t as toRefs,ai as lodash,aj as omit,ak as axios$1,al as reduce,am as cloneDeep,an as createStore,ao as map,ap as useStore,G as nextTick,y as onMounted,ad as isEmpty,aq as filter,ar as transform,as as find,at as useCurrencyInput,au as isObject,av as get,aw as set,ax as isEqual,d as inject,a3 as createSlots,ay as isArray,az as isString,aA as isNumber,aB as isBoolean,aC as forEach,e as defineComponent,aD as useAttrs,aE as useSlots,u as unref,J as TransitionGroup,aF as Draggable,aG as withKeys,aH as truncate,aI as _default,aJ as _default$1,aK as _default$2,aa as vModelSelect,j as isRef,m as toRef,aL as vueFilePond,aM as plugin,aN as plugin$1,aO as setOptions,aP as startCase,aQ as snakeCase$1,aR as range,aS as pick,aT as orderBy,aU as jquery,aV as hooks,aW as pluralize,aX as changeCase,aY as isPlainObject,aZ as isFunction,a_ as delay,a$ as findIndex,b0 as toHandlerKey,p as provide,b1 as toHandlers,b2 as Pusher,b3 as createI18n,b4 as directive}from"./vendor.CucNhufm.js";import{V as VBtn,h as VIcon,s as VSnackbar,u as useDisplay,r as VLayout,t as VMain,v as VRow,w as VCol,x as VSheet,d as VDivider,y as VImg,z as VApp,m as VCardTitle,A as VCardItem,l as VCard,B as VExpandTransition,p as VTooltip,n as VCardText,f as VMenu,C as VHover,b as VToolbar,c as VToolbarTitle,g as VSpacer,D as VProgressCircular,E as VDialog,e as VTextField,F as propsFactory,G as useProxiedModel,a as VSwitch,H as VBadge,j as VListItem,k as VListItemTitle,i as VList,I as VChipGroup,J as VChip,K as VProgressLinear,L as VForm,M as VAvatar,N as VSelect,O as VBottomSheet,P as VListGroup,o as VCardActions,Q as VTable,S as VStepperItem,T as VStepperHeader,U as VStepperWindow,W as VStepperWindowItem,X as useGoTo,Y as VStepper,Z as VStepperActions,_ as VContainer,$ as VItemGroup,a0 as VItem,a1 as VRadioGroup,a2 as VRadio,a3 as VInput,a4 as VDataTableRow,R as Resize,q as VDataTableServer,a5 as VPagination,a6 as VSlideXTransition,a7 as Tooltip,a8 as VCheckbox,a9 as Intersect,aa as VDataTableHeaders,ab as VTab,ac as VTabs,ad as VTabsWindowItem,ae as VTabsWindow,af as VCardSubtitle,ag as VFooter,ah as VNavigationDrawer,ai as VAppBar,aj as VAppBarNavIcon,ak as VBreadcrumbs,al as VSkeletonLoader,am as VTextarea,an as VInfiniteScroll,ao as VDataTable,ap as VWindow,aq as VWindowItem,ar as VOverlay,as as VAutocomplete,at as VNumberInput,au as VCombobox,av as VListSubheader,aw as VAlert,ax as Touch,ay as ClickOutside,az as VFileInput,aA as VSlider,aB as VBtnToggle,aC as VSystemBar,aD as VToolbarItems,aE as createVuetify,aF as aliases,aG as mdi,aH as fa,aI as directives,aJ as components,aK as VDateInput}from"./vuetify.DzW0I9b6.js";import{q as qq}from"./fine-uploader.C8t-Jhyu.js";import{P as PhoneNumber,b as awesomePhonenumberExports}from"./awesome-phonenumber.CPpBdrPW.js";const PREVENT_SUBMIT="preventSubmit",ALLOW_SUBMIT="allowSubmit",UPDATE_FORM_PERMALINK="updateFormPermalink",UPDATE_FORM_FIELD="updateFormField",REMOVE_FORM_FIELD="removeFormField",ADD_FORM_BLOCK="addFormBlock",DELETE_FORM_BLOCK="deleteFormBlock",DUPLICATE_FORM_BLOCK="duplicateFormBlock",DUPLICATE_BLOCK_FORM_FIELDS="duplicateBlockFormFields",ADD_REPEATERS="duplicateBlockRepeaters",REORDER_FORM_BLOCKS="reorderFormBlocks",UPDATE_FORM_LOADING="updateFormLoading",SET_FORM_ERRORS="setFormErrors",SET_SERVER_VALID="setServerValid",CLEAR_FORM_ERRORS="clearFormErrors",UPDATE_FORM_SAVE_TYPE="updateFormSaveType",REPLACE_FORM_FIELDS="replaceFormField",ADD_FORM_FIELDS="addFormField",EMPTY_FORM_FIELDS="emptyFormField",SET_EDITED_ITEM="setEditedItem",RESET_EDITED_ITEM="resetEditedItem",EMPTY_MODAL_FIELDS="emptyModalField",UPDATE_MODAL_FIELD="updateModalField",REMOVE_MODAL_FIELD="removeModalField",REPLACE_MODAL_FIELDS="replaceModalField",SET_TAGGABLE_ITEMS="setTaggableItems",ADD_TAGGABLE_ITEM="addTaggableItem",FORM={SET_EDITED_ITEM,RESET_EDITED_ITEM,SET_SERVER_VALID,PREVENT_SUBMIT,ALLOW_SUBMIT,UPDATE_FORM_PERMALINK,UPDATE_FORM_FIELD,REMOVE_FORM_FIELD,ADD_FORM_BLOCK,DELETE_FORM_BLOCK,DUPLICATE_FORM_BLOCK,DUPLICATE_BLOCK_FORM_FIELDS,ADD_REPEATERS,REORDER_FORM_BLOCKS,UPDATE_FORM_LOADING,SET_FORM_ERRORS,CLEAR_FORM_ERRORS,UPDATE_FORM_SAVE_TYPE,REPLACE_FORM_FIELDS,ADD_FORM_FIELDS,EMPTY_FORM_FIELDS,EMPTY_MODAL_FIELDS,UPDATE_MODAL_FIELD,REMOVE_MODAL_FIELD,REPLACE_MODAL_FIELDS,SET_TAGGABLE_ITEMS,ADD_TAGGABLE_ITEM},SET_ALERT="__setAlert",SET_ALERT_SHOW="__setAlertShow",CLEAR_ALERT="__clearAlert",SET_DIALOG="__setDialog",SET_DIALOG_SHOW="__setDialogShow",CLEAR_DIALOG="__clearDialog",ALERT={SET_ALERT,SET_ALERT_SHOW,CLEAR_ALERT,SET_DIALOG,SET_DIALOG_SHOW,CLEAR_DIALOG},UPDATE_MEDIA_TYPE_TOTAL="updateMediaTypeTotal",INCREMENT_MEDIA_TYPE_TOTAL="incrementMediaTypeTotal",DECREMENT_MEDIA_TYPE_TOTAL="decrementMediaTypeTotal",SAVE_MEDIAS="saveSelectedMedias",UPDATE_MEDIAS="updateMedias",DESTROY_MEDIAS="destroySelectedMedias",REORDER_MEDIAS="reorderSelectedMedias",PROGRESS_UPLOAD="progressUpload",PROGRESS_UPLOAD_MEDIA="progressUploadMedia",DONE_UPLOAD_MEDIA="doneUploadMedia",ERROR_UPLOAD_MEDIA="errorUploadMedia",DESTROY_SPECIFIC_MEDIA="destroyMediasInSelected",UPDATE_MEDIA_MAX="updateMediaMax",UPDATE_MEDIA_FILESIZE_MAX="updateMediaFilesizeMax",UPDATE_MEDIA_WIDTH_MIN="updateMediaWidthMin",UPDATE_MEDIA_HEIGHT_MIN="updateMediaHeightMin",UPDATE_MEDIA_TYPE="updateMediaType",RESET_MEDIA_TYPE="resetMediaType",SET_MEDIA_CROP="setMediaCrop",SET_MEDIA_METADATAS="setMediaMetadatas",UPDATE_MEDIA_CONNECTOR="updateMediaConnector",UPDATE_MEDIA_MODE="updateMediaMode",DESTROY_MEDIA_CONNECTOR="destroyMediaConnector",UPDATE_REPLACE_INDEX="updateReplaceIndex",ADD_MEDIAS="addMedias",UPDATE_IS_INSERTED="updateIsInserted",MEDIA_LIBRARY={UPDATE_MEDIA_TYPE_TOTAL,INCREMENT_MEDIA_TYPE_TOTAL,DECREMENT_MEDIA_TYPE_TOTAL,SAVE_MEDIAS,DESTROY_MEDIAS,REORDER_MEDIAS,PROGRESS_UPLOAD,PROGRESS_UPLOAD_MEDIA,DONE_UPLOAD_MEDIA,ERROR_UPLOAD_MEDIA,DESTROY_SPECIFIC_MEDIA,UPDATE_MEDIA_MAX,UPDATE_MEDIA_FILESIZE_MAX,UPDATE_MEDIA_WIDTH_MIN,UPDATE_MEDIA_HEIGHT_MIN,UPDATE_MEDIA_TYPE,RESET_MEDIA_TYPE,SET_MEDIA_CROP,SET_MEDIA_METADATAS,UPDATE_MEDIA_CONNECTOR,UPDATE_MEDIA_MODE,DESTROY_MEDIA_CONNECTOR,UPDATE_REPLACE_INDEX,UPDATE_MEDIAS,ADD_MEDIAS,UPDATE_IS_INSERTED},SWITCH_LANG="switchLanguage",UPDATE_LANG="updateLanguage",PUBLISH_LANG="updatePublishedLanguage",PUBLISH_SINGLE_LANG="publishLanguage",REPLACE_LANGUAGES="replaceLanguages",RESET_LANGUAGES="resetLanguages",LANGUAGE={SWITCH_LANG,UPDATE_LANG,PUBLISH_LANG,PUBLISH_SINGLE_LANG,REPLACE_LANGUAGES,RESET_LANGUAGES},SAVE_ITEMS="saveSelectedItems",DESTROY_ITEMS="destroyAllItems",DESTROY_ITEM$1="destroySelectedItem",REORDER_ITEMS="reorderSelectedItems",UPDATE_BROWSER_MAX="updateBrowserMax",UPDATE_BROWSER_TITLE="updateBrowserTitle",UPDATE_BROWSER_NOTE="updateBrowserNote",UPDATE_BROWSER_CONNECTOR="updateBrowserConnector",DESTROY_BROWSER_CONNECTOR="destroyBrowserConnector",UPDATE_BROWSER_ENDPOINT="updateBrowserEndpoint",UPDATE_BROWSER_ENDPOINTS="updateBrowserEndpoints",DESTROY_BROWSER_ENDPOINT="destroyBrowserEndpoint",DESTROY_BROWSER_ENDPOINTS="destroyBrowserEndpoints",ADD_BROWSERS="addBrowsers",BROWSER={SAVE_ITEMS,DESTROY_ITEMS,DESTROY_ITEM:DESTROY_ITEM$1,REORDER_ITEMS,UPDATE_BROWSER_MAX,UPDATE_BROWSER_TITLE,UPDATE_BROWSER_NOTE,UPDATE_BROWSER_CONNECTOR,DESTROY_BROWSER_CONNECTOR,UPDATE_BROWSER_ENDPOINT,DESTROY_BROWSER_ENDPOINT,UPDATE_BROWSER_ENDPOINTS,DESTROY_BROWSER_ENDPOINTS,ADD_BROWSERS},SIDEBAR_TOGGLE="__sidebarToggle",SET_SIDEBAR="__setSidebar",SET_REQUEST_IN_PROGRESS="__setRequestInProgress",INCREASE_AXIOS_REQUEST="__increaseAxiosRequest",DECREASE_AXIOS_REQUEST="__decreaseAxiosRequest",CONFIG={SIDEBAR_TOGGLE,SET_SIDEBAR,SET_REQUEST_IN_PROGRESS,INCREASE_AXIOS_REQUEST,DECREASE_AXIOS_REQUEST},SET_PROFILE_DATA="__setProfileData",OPEN_LOGIN_MODAL="__openLoginModal",CLOSE_LOGIN_MODAL="__closeLoginModal",USER={SET_PROFILE_DATA,OPEN_LOGIN_MODAL,CLOSE_LOGIN_MODAL},GET_CACHE="getCache",PUT_CACHE="putCache",PUSH_CACHE="pushCache",GET_LAST_CACHE="getLastCache",FORGET_CACHE="forgetCache",CACHE={GET_CACHE,PUT_CACHE,GET_LAST_CACHE,PUSH_CACHE,FORGET_CACHE},_export_sfc=(e,t)=>{const a=e.__vccOpts||e;for(const[n,r]of t)a[n]=r;return a},_sfc_main$1y={data:()=>({timeout:3e3}),computed:{closeButtonColor(){switch(this.type){case"success":case"warning":case"info":case"error":return"white";default:return"white"}},text(){return this.message||this.defaultMessage},defaultMessage(){return this.$t("messages."+this.type)},show:{get(){return this.$store.state.alert.show},set(e){this.$store.commit(ALERT.SET_ALERT_SHOW,e)}},...mapState({type:e=>e.alert.type,message:e=>e.alert.message,location:e=>e.alert.location}),...mapGetters$1([])},methods:{info(e=null,t=3e3){this.open("info",e,t)},success(e=null,t=3e3){this.open("success",e,t)},warning(e=null,t=3e3){this.open("warning",e,t)},error(e=null,t=3e3){this.open("error",e,t)},activate(){this.show=!0},deactivate(){this.show=!0},open(e="info",t=null,a=3e3){this.type=e,this.message=t??this.message,this.timeout=a,this.activate()},close(){this.deactivate(),this.$nextTick(()=>{this.type="info",this.message=null,this.timeout=3e3})}}},_hoisted_1$Y=["innerHTML"];function _sfc_render$1m(e,t,a,n,r,o){return openBlock(),createBlock(VSnackbar,{modelValue:o.show,"onUpdate:modelValue":t[1]||(t[1]=i=>o.show=i),timeout:e.timeout,color:e.type,location:e.location},{actions:withCtx(()=>[createVNode(VBtn,{color:o.closeButtonColor,variant:"plain",density:"compact",onClick:t[0]||(t[0]=i=>o.show=!1)},{default:withCtx(()=>[createVNode(VIcon,{color:o.closeButtonColor,icon:"$close"},null,8,["color"])]),_:1},8,["color"])]),default:withCtx(()=>[createBaseVNode("div",{innerHTML:o.text},null,8,_hoisted_1$Y)]),_:1},8,["modelValue","timeout","color","location"])}const Alert=_export_sfc(_sfc_main$1y,[["render",_sfc_render$1m]]),__vite_glob_0_0$2=Object.freeze(Object.defineProperty({__proto__:null,default:Alert},Symbol.toStringTag,{value:"Module"})),_sfc_main$1x={props:{slots:{type:Object,default(){return{}}},title:{type:String},bannerDescription:{type:String,default:""},bannerSubDescription:{type:String,default:""},adImg:{type:String,default:""},redirectUrl:{type:String,default:null},redirectButtonText:{type:String,default:""},noDivider:{type:[Boolean,Number],default:!1},noSecondSection:{type:[Boolean,Number],default:!1}},data:()=>({schema:{email:{type:"text",label:"E-mail",col:{cols:12},variant:"outlined",rules:[["email"]]},password:{type:"password",label:"Password",col:{cols:12},variant:"outlined",rules:[]}},model:{email:"",password:""}}),setup(e){const{name:t}=useDisplay(),a=computed(()=>{switch(t.value){case"xs":return 300;case"xl":return 600;case"xxl":return 600;default:return 400}}),n=computed(()=>{if(e.title)return e.title}),r=computed(()=>{if(e.description)return e.description}),o=computed(()=>{if(e.ad)return e.ad}),i=computed(()=>{if(e.rightBtnText)return e.rightBtnText});return{width:a,title:n,description:r,ad:o,rightBtnText:i}},methods:{}},_hoisted_1$X={key:0,symbol:"main-logo-full-light"},_hoisted_2$N={key:1,class:"d-flex w-100 align-center justify-center"},_hoisted_3$H={class:"mw-420"},_hoisted_4$x={class:"text-white mt-5 text-h4 custom-mb-8rem fs-2rem"},_hoisted_5$t={class:"text-white"};function _sfc_render$1l(e,t,a,n,r,o){const i=resolveComponent("ue-form"),s=resolveComponent("ue-svg-icon"),d=resolveComponent("ue-alert"),l=resolveDirective("svg");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VLayout,{class:"rounded rounded-md bg-tertiary h-100"},{default:withCtx(()=>[createVNode(VMain,{class:"d-flex align-center justify-center"},{default:withCtx(()=>[createVNode(VRow,{class:"h-100 mw-100"},{default:withCtx(()=>[createVNode(VCol,mergeProps({cols:"12",...a.noSecondSection?{}:{md:"6",lg:"6"}},{class:"py-12 d-flex flex-column align-center justify-center bg-white"}),{default:withCtx(()=>[createVNode(VRow,{width:"85%",class:"d-flex flex-column justify-center align-center"},{default:withCtx(()=>[t[1]||(t[1]=createBaseVNode("div",{class:"bg-primary darken-3"},null,-1)),a.noSecondSection?withDirectives((openBlock(),createElementBlock("span",_hoisted_1$X,null,512)),[[l]]):createCommentVNode("",!0),renderSlot(e.$slots,"cardTop"),createVNode(VSheet,{class:"",width:n.width},{default:withCtx(()=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({})),()=>[createVNode(i,{model:e.model,schema:e.schema,"action-url":"/login",async:!0,hasSubmit:!0,buttonText:"auth.login",class:"auth-form"},{submit:withCtx(u=>[createVNode(VBtn,{block:"",dense:"",type:"submit",disabled:!u.validForm,loading:u.loading},{default:withCtx(()=>[createTextVNode(toDisplayString(u.buttonDefaultText.toUpperCase()),1)]),_:2},1032,["disabled","loading"])]),_:1},8,["model","schema"])])]),_:3},8,["width"]),!a.noDivider&&e.$isset(e.$slots.bottom)?(openBlock(),createElementBlock("div",_hoisted_2$N,[createVNode(VDivider),t[0]||(t[0]=createBaseVNode("div",{class:"text-no-wrap px-3"},"or",-1)),createVNode(VDivider)])):createCommentVNode("",!0),renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))]),_:3})]),_:3},16),a.noSecondSection?createCommentVNode("",!0):(openBlock(),createBlock(VCol,{key:0,cols:"12",md:"6",lg:"6",class:"px-xs-12 py-xs-3 px-sm-12 py-sm-3 pa-12 pa-md-0 d-flex flex-column align-center justify-center col-right bg-primary"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$H,[createVNode(s,{symbol:"main-logo",class:"mx-0"}),renderSlot(e.$slots,"description",{},()=>[createBaseVNode("h2",_hoisted_4$x,toDisplayString(a.bannerDescription),1)]),createBaseVNode("span",_hoisted_5$t,[createVNode(VImg,{href:a.adImg},null,8,["href"]),createTextVNode(" "+toDisplayString(a.bannerSubDescription),1)]),a.redirectUrl?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"text-white custom-right-auth-button my-5",density:"default",href:a.redirectUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(a.redirectButtonText),1)]),_:1},8,["href"])):createCommentVNode("",!0)])]),_:3}))]),_:3})]),_:3})]),_:3}),createVNode(d,{ref:"alert"},null,512)]),_:3})}const Auth=_export_sfc(_sfc_main$1x,[["render",_sfc_render$1l]]),__vite_glob_0_1$2=Object.freeze(Object.defineProperty({__proto__:null,default:Auth},Symbol.toStringTag,{value:"Module"})),_sfc_main$1w={props:{cards:{type:Array,default:[{title:"Active Webinar",data:"12",flex:6},{title:"Speaker Moderators",data:"3",flex:6},{title:"Company",data:"5",flex:6},{title:"Published Webinars",data:"7",flex:6}]},container:{type:Object,default:{color:"#F8F8FF",elevation:10,class:"px-6 py-5"}},cardAttribute:{type:Object,default:{variant:"outlined",borderRadius:14,class:"px-5",border:"sm",titleClass:"pt-3 pb-3 text-subtitle-2",titleColor:"grey",infoClass:"text-h4 pa-0",infoColor:"#000000",infoLineHeight:"1",infoFontWeight:"700"}}},data:()=>({})},_hoisted_1$W={class:"d-flex"},_hoisted_2$M={class:"d-flex flex-column justify-center align-center pr-3"},_hoisted_3$G={class:"d-flex flex-column"};function _sfc_render$1k(e,t,a,n,r,o){return openBlock(),createBlock(VCard,{color:a.container.color,density:"comfortable",elevation:a.container.elevation,class:normalizeClass(a.container.class)},{default:withCtx(()=>[createVNode(VCardTitle,{style:{"font-weight":"bolder"},class:"py-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1}),createVNode(VCardItem,{class:"pt-0 pb-4"},{default:withCtx(()=>[createVNode(VRow,{class:"",densex:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.cards,(i,s)=>(openBlock(),createBlock(VCol,{key:s,cols:i.flex,class:""},{default:withCtx(()=>[createVNode(VCard,{variant:a.cardAttribute.variant,border:a.cardAttribute.border,class:normalizeClass(a.cardAttribute.class),style:normalizeStyle({"border-radius":a.cardAttribute.borderRadius,"border-color":`${a.cardAttribute.borderColor} !important`})},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$W,[createBaseVNode("div",_hoisted_2$M,[createBaseVNode("div",{class:"glance-icon-container",style:normalizeStyle(`background-color: ${i.iconBackground};`)},[createVNode(VIcon,{icon:i.icon,color:i.iconColor,size:i.iconSize},null,8,["icon","color","size"])],4)]),createBaseVNode("div",_hoisted_3$G,[createVNode(VCardItem,{align:"left",class:normalizeClass(a.cardAttribute.infoClass),style:normalizeStyle({"line-height":a.cardAttribute.infoLineHeight,"font-weight":a.cardAttribute.infoFontWeight,color:i.infoColor})},{default:withCtx(()=>[createTextVNode(toDisplayString(i.data.items),1)]),_:2},1032,["class","style"]),createVNode(VCardTitle,{align:"center",class:normalizeClass(a.cardAttribute.titleClass),style:normalizeStyle({color:a.cardAttribute.titleColor,"line-height":a.cardAttribute.infoLineHeight})},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t(i.title)),1)]),_:2},1032,["class","style"])])])]),_:2},1032,["variant","border","class","style"])]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})]),_:1},8,["color","elevation","class"])}const BoardInformationPlus=_export_sfc(_sfc_main$1w,[["render",_sfc_render$1k]]),__vite_glob_0_2$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformationPlus},Symbol.toStringTag,{value:"Module"})),_sfc_main$1v={name:"ue-btn",props:{revealed:{type:Boolean,default:!1}},data(){return{}},methods:{clickSound(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()},click(e){this.disabled=!0,setTimeout(()=>{this.disabled=!1},5e3),this.$emit("click",e)}}};function _sfc_render$1j(e,t,a,n,r,o){return openBlock(),createBlock(VBtn,mergeProps(e.$bindAttributes(),{onClick:o.click}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},()=>[t[0]||(t[0]=createTextVNode(" Button "))])]),_:3},16,["onClick"])}const Btn=_export_sfc(_sfc_main$1v,[["render",_sfc_render$1j]]),__vite_glob_0_3$1=Object.freeze(Object.defineProperty({__proto__:null,default:Btn},Symbol.toStringTag,{value:"Module"})),_sfc_main$1u={name:"ue-collapsible",components:{VExpandTransition},props:{title:{type:String,default:""},modelValue:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:4},verticalPadding:{type:Number,default:3},color:{type:String,default:"primary"},dense:{type:Boolean,default:!1},noHeaderBackground:{type:Boolean,default:!1},noCollapse:{type:Boolean,default:!1}},data(){return{isOpen:this.noCollapse||this.modelValue}},watch:{modelValue(e){this.noCollapse?this.isOpen=!0:this.isOpen=e}},methods:{toggle(){this.noCollapse||(this.isOpen=!this.isOpen,this.$emit("update:modelValue",this.isOpen),this.$emit(this.isOpen?"open":"close"))}},created(){},mounted(){this.isOpen&&this.$el&&this.$el.querySelector(".ue-collapsible__content")}},_hoisted_1$V={class:"ue-collapsible__title"},_hoisted_2$L={class:"ue-collapsible__content"};function _sfc_render$1i(e,t,a,n,r,o){return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-collapsible",{"ue-collapsible--bordered":a.bordered,"ue-collapsible--elevated":a.elevated,"ue-collapsible--dense":a.dense}])},[a.title||e.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-collapsible__header",r.isOpen?"ue-collapsible__header--active":"",`px-${a.horizontalPadding} py-${a.verticalPadding}`,a.noHeaderBackground?"":"ue-collapsible__header--background"]),onClick:t[0]||(t[0]=(...i)=>o.toggle&&o.toggle(...i))},[createBaseVNode("div",_hoisted_1$V,[renderSlot(e.$slots,"title",{},()=>[createTextVNode(toDisplayString(a.title),1)])]),a.noCollapse?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:r.isOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ue-collapsible__icon"},null,8,["icon"]))],2)):createCommentVNode("",!0),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$L,[createBaseVNode("div",{class:normalizeClass(["ue-collapsible__content-inner",`px-${a.horizontalPadding} py-${a.verticalPadding}`])},[renderSlot(e.$slots,"default")],2)],512),[[vShow,r.isOpen]])]),_:3})],2)}const Collapsible=_export_sfc(_sfc_main$1u,[["render",_sfc_render$1i]]),__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:Collapsible},Symbol.toStringTag,{value:"Module"})),_sfc_main$1t={name:"ue-configurable-card",props:{title:{type:String,default:""},titleColor:{type:String},items:{type:[Object,Array],required:!0},actions:{type:Array,default:()=>[]},hideSeparator:{type:Boolean,default:!1},maxSegments:{type:Number,default:null,validator:e=>e===null||e>0&&e<=12},actionIconSize:{type:String,default:"medium"},actionIconMinWidth:{type:Number,default:44},actionIconMinHeight:{type:Number,default:44},alignCenterColumns:{type:Boolean,default:!1},justifyCenterColumns:{type:Boolean,default:!1},columnStyles:{type:Object,default:()=>({})},columnClasses:{type:Object,default:()=>({})},rowMinHeight:{type:String,default:null}},computed:{cardClass(){return`ue-configurable-card--${this.effectiveSegmentCount}-columns`},itemsWithActions(){const e={...this.items};return this.actions.length&&(e._actions=this.actions),e},effectiveSegmentCount(){const e=this.isArray(this.itemsWithActions)?this.itemsWithActions.length:Object.keys(this.itemsWithActions).length;return this.maxSegments===null?e:Math.min(this.maxSegments,e)},rowStyle(){return{...this.rowMinHeight?{minHeight:this.rowMinHeight}:{}}}},methods:{isObject(e){return __isObject(e)},isArray(e){return __isArray(e)}}},_hoisted_1$U={key:0,class:"d-flex fill-height flex-wrap justify-space-evenly align-center"},_hoisted_2$K={key:1,class:"d-flex fill-height"},_hoisted_3$F={key:2,class:"d-flex fill-height"},_hoisted_4$w={key:3,class:"d-flex fill-height"};function _sfc_render$1h(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-property-list"),d=resolveComponent("ue-dynamic-component-renderer");return openBlock(),createBlock(VCard,{class:normalizeClass(["ue-configurable-card",[e.$bindAttributes().class,o.cardClass]])},{default:withCtx(()=>[a.title?(openBlock(),createBlock(i,{key:0,text:a.title,color:a.titleColor,padding:"x-4",class:"pt-4"},null,8,["text","color"])):createCommentVNode("",!0),createBaseVNode("div",{"no-gutters":"",class:"ue-configurable-card__row",style:normalizeStyle(o.rowStyle)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.itemsWithActions,(l,u)=>(openBlock(),createElementBlock("div",{key:u,class:normalizeClass(["ue-configurable-card__col",a.hideSeparator?"":"ue-configurable-card__col--seperator",a.justifyCenterColumns?"ue-configurable-card__col--justify-center":"",a.alignCenterColumns?"ue-configurable-card__col--align-center":"",e.$isset(a.columnStyles[u])?"ue-configurable-card__col--unset-flex-basis":"",a.columnClasses[u]??""]),style:normalizeStyle(a.columnStyles[u]??"")},[renderSlot(e.$slots,`segment.${u==="_actions"?"actions":parseInt(u)+1}`,mergeProps({ref_for:!0},{data:l,actions:a.actions,actionProps:{actionIconMinHeight:a.actionIconMinHeight,actionIconSize:a.actionIconSize}}),()=>[a.actions.length&&u==="_actions"?(openBlock(),createElementBlock("div",_hoisted_1$U,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.actions,(m,c)=>(openBlock(),createBlock(VBtn,mergeProps({key:c,class:"mx-1 rounded","min-width":a.actionIconMinHeight,"min-height":a.actionIconMinHeight,size:a.actionIconSize,ref_for:!0},m),null,16,["min-width","min-height","size"]))),128))])):o.isObject(l)?(openBlock(),createElementBlock("div",_hoisted_2$K,[createVNode(s,{data:l,class:"",noPadding:""},null,8,["data"])])):o.isArray(l)?(openBlock(),createElementBlock("div",_hoisted_3$F,[createVNode(s,{data:l.map(m=>[m]),class:"",noPadding:""},null,8,["data"])])):(openBlock(),createElementBlock("div",_hoisted_4$w,[createVNode(d,{subject:l},null,8,["subject"])]))],!0)],6))),128))],4)]),_:3},8,["class"])}const ConfigurableCard=_export_sfc(_sfc_main$1t,[["render",_sfc_render$1h],["__scopeId","data-v-3390c128"]]),__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:ConfigurableCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1s={name:"CopyText",props:{text:{type:[String,Number],required:!0},icon:{type:String,default:"mdi-content-copy"},color:{type:String,default:"primary"},size:{type:String,default:"small"}},data(){return{showTooltip:!1}},methods:{handleCopy(){this.$copy(this.text),this.showTooltip=!0,setTimeout(()=>{this.showTooltip=!1},2e3)}}},_hoisted_1$T={class:"d-inline-block"};function _sfc_render$1g(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$T,[createVNode(VTooltip,{"model-value":r.showTooltip,text:"Copied!",location:"top","open-on-hover":!1,"open-on-focus":!1},{activator:withCtx(({props:i})=>[createVNode(VIcon,mergeProps({...i,onClick:o.handleCopy},{icon:a.icon,color:a.color,size:a.size,class:{"cursor-pointer":!0}}),null,16,["icon","color","size"])]),_:1},8,["model-value"])])}const CopyText=_export_sfc(_sfc_main$1s,[["render",_sfc_render$1g]]),__vite_glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:CopyText},Symbol.toStringTag,{value:"Module"})),_sfc_main$1r={props:{blocks:{type:Object,default(){return{}}}},components:{},setup(e,t){},data(){return{}},created(){}};function _sfc_render$1f(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VRow,{class:"h-100"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.blocks,(s,d)=>(openBlock(),createBlock(i,{key:`tag-0-${d}`,configuration:s},null,8,["configuration"]))),128))]),_:1})}const Dashboard=_export_sfc(_sfc_main$1r,[["render",_sfc_render$1f]]),__vite_glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:Dashboard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1q={name:"UEDropdownFilter",props:{buttonText:{type:String,default:"Filter"},loading:{type:Boolean,default:!1},page:{type:Number,required:!0},type:{type:String,required:!0},tags:{type:Array,default:()=>[]},filterState:{type:Object,required:!0},filterModel:{type:Object,required:!0},schema:{type:Object||Array,required:!0}},emits:["update:filterState","submit","clear"],setup(e,{emit:t}){const a=ref({...e.filterState}),n=ref(!1);return watch$1(()=>e.filterState,i=>{a.value={...i}}),{localFilterState:a,menu:n,submitFilter:()=>{t("update:filterState",{...a.value}),t("submit"),n.value=!1},handleClear:()=>{t("clear"),n.value=!1}}}};function _sfc_render$1e(e,t,a,n,r,o){const i=resolveComponent("ue-form");return openBlock(),createElementBlock("div",null,[createVNode(VMenu,{modelValue:n.menu,"onUpdate:modelValue":t[1]||(t[1]=s=>n.menu=s),"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:s})=>[createVNode(VBtn,mergeProps({color:"primary"},s),{default:withCtx(()=>[createTextVNode(toDisplayString(a.buttonText),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(i,{ref:"form",schema:a.schema,"has-submit":"",modelValue:n.localFilterState,"onUpdate:modelValue":t[0]||(t[0]=s=>n.localFilterState=s),onSubmit:n.submitFilter},{submit:withCtx(()=>[createVNode(VBtn,{color:"primary",class:"mt-4 mr-2",type:"button",loading:a.loading,onClick:n.submitFilter},{default:withCtx(()=>t[2]||(t[2]=[createTextVNode(" Apply Filters ")])),_:1},8,["loading","onClick"]),createVNode(VBtn,{color:"secondary",class:"mt-4 ml-2",type:"button",loading:a.loading,onClick:n.handleClear},{default:withCtx(()=>t[3]||(t[3]=[createTextVNode(" Clear Filters ")])),_:1},8,["loading","onClick"])]),_:1},8,["schema","modelValue","onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const DropdownFilter=_export_sfc(_sfc_main$1q,[["render",_sfc_render$1e]]),__vite_glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:DropdownFilter},Symbol.toStringTag,{value:"Module"})),_sfc_main$1p={__name:"DynamicComponentRenderer",props:{subject:{type:String,default:""}},setup(e){const t=e,a=o=>{const d=new DOMParser().parseFromString(o,"text/html").body.firstChild,l=d.tagName.toLowerCase();let u={};const m=d.textContent;for(let c=0;c<d.attributes.length;c++){const h=d.attributes[c];u[h.name]=h.value}return u={...u},{name:l,props:u,content:m}},n=computed(()=>(t.subject.startsWith("<v-")||t.subject.startsWith("<ue-"))&&t.subject.endsWith(">")),r=computed(()=>n.value?a(t.subject):null);return(o,i)=>e.subject&&n.value?(openBlock(),createBlock(resolveDynamicComponent(r.value.name),normalizeProps(mergeProps({key:0},{...r.value.props,...o.$bindAttributes()})),{default:withCtx(()=>[createTextVNode(toDisplayString(r.value.content),1)]),_:1},16)):e.subject?(openBlock(),createElementBlock(Fragment,{key:1},[],64)):createCommentVNode("",!0)}},__vite_glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1p},Symbol.toStringTag,{value:"Module"})),_sfc_main$1o={data(){return{fileUrls:[],thumbnailUrls:[],isImageArray:[],loadingStates:[],downloadingStates:[],previewDialogs:[]}},props:{source:{type:[Object,Array],required:!0},imageSize:{type:[Number,String],default:64},showFileName:{type:Boolean,default:!1},showInlineFileName:{type:Boolean,default:!1},maxFileNameLength:{type:Number,default:10},noOverlay:{type:Boolean,default:!1},showDate:{type:Boolean,default:!1}},computed:{normalizedSource(){return Array.isArray(this.source)?this.source:[this.source]}},methods:{processSource(){const e=this.normalizedSource.length;this.loadingStates=new Array(e).fill(!1),this.downloadingStates=new Array(e).fill(!1),this.previewDialogs=new Array(e).fill(!1),this.fileUrls=new Array(e).fill(null),this.thumbnailUrls=new Array(e).fill(null),this.isImageArray=new Array(e).fill(!1),this.normalizedSource.forEach((t,a)=>{this.isImageFile(t.file_name)&&this.generateThumbnail(t.uuid,a)})},isImageFile(e){const t=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(t)},async generateThumbnail(e,t){try{const a=await fetch(`/api/filepond/preview/${e}`);if(!a.ok)throw new Error("Failed to fetch thumbnail");const n=await a.blob();n.type.startsWith("image/")&&(this.thumbnailUrls[t]=URL.createObjectURL(n))}catch(a){console.error("Error generating thumbnail:",a)}},getFileIcon(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"mdi-file-pdf-box";case"doc":case"docx":return"mdi-file-word";case"xls":case"xlsx":return"mdi-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"mdi-file-image";default:return"mdi-file-document-outline"}},getFileIconColor(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"red";case"doc":case"docx":return"blue";case"xls":case"xlsx":return"green";case"jpg":case"jpeg":case"png":case"gif":return"purple";default:return"grey"}},async previewFile(e){this.previewDialogs[e]=!0,this.fileUrls[e]||(this.loadingStates[e]=!0,await this.fetchFile(this.normalizedSource[e].uuid,e))},async downloadFile(e){const t=this.normalizedSource.findIndex(a=>a.uuid===e);this.downloadingStates[t]=!0;try{const a=await fetch(`/api/filepond/preview/${e}`);if(!a.ok)throw new Error("Download failed");const n=await a.blob(),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=this.normalizedSource[t].file_name,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(r),o.remove()}catch(a){console.error("Error downloading file:",a)}finally{this.downloadingStates[t]=!1}},async fetchFile(e,t){try{const a=await fetch(`/api/filepond/preview/${e}`);if(!a.ok)throw new Error("Network response was not ok");const n=await a.blob();this.isImageArray[t]=n.type.startsWith("image/"),this.fileUrls[t]=URL.createObjectURL(n)}catch(a){console.error("Error fetching file:",a)}finally{this.loadingStates[t]=!1}},shortenFileName(e){if(e.length<=this.maxFileNameLength)return e;const t=e.split(".").pop();return`${e.slice(0,e.lastIndexOf(".")).slice(0,this.maxFileNameLength)}...${t}`}},mounted(){this.processSource()}},_hoisted_1$S={key:0,class:"d-flex align-center px-4"},_hoisted_2$J={class:"text-body-2 text-truncate"},_hoisted_3$E={key:1,class:"ml-auto mr-1"},_hoisted_4$v={class:"text-caption text-truncate"},_hoisted_5$s={key:2,class:"overlay-content d-flex align-center justify-center"},_hoisted_6$q={class:"d-flex justify-center align-center",style:{height:"calc(100vh - 64px)"}},_hoisted_7$g=["src"];function _sfc_render$1d(e,t,a,n,r,o){return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex ga-2",a.showInlineFileName||a.showFileName?"flex-wrap":""])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.normalizedSource,(i,s)=>(openBlock(),createElementBlock("div",{key:i.uuid,class:"file-preview-item",style:normalizeStyle({width:a.showInlineFileName||a.showFileName?"100%":"aut"})},[createVNode(VHover,null,{default:withCtx(({isHovering:d,props:l})=>[createVNode(VCard,mergeProps({ref_for:!0},l,{class:"rounded position-relative d-flex bg-transparent",width:a.showInlineFileName||a.showFileName?"100%":`${a.imageSize}`,height:a.imageSize,elevation:d?4:0,onClick:u=>o.previewFile(s)}),{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle({width:`${a.imageSize}px`,height:`${a.imageSize}px`}),class:"position-relative flex-grow-0"},[r.thumbnailUrls[s]?(openBlock(),createBlock(VImg,{key:0,src:r.thumbnailUrls[s],height:"100%",width:"100%",cover:""},{placeholder:withCtx(()=>[createVNode(VIcon,{color:o.getFileIconColor(i.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.getFileIcon(i.file_name)),1)]),_:2},1032,["color"])]),_:2},1032,["src"])):(openBlock(),createBlock(VCardText,{key:1,class:"pa-0 d-flex justify-center align-center",style:{height:"100%"}},{default:withCtx(()=>[createVNode(VIcon,{color:o.getFileIconColor(i.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.getFileIcon(i.file_name)),1)]),_:2},1032,["color"])]),_:2},1024))],4),a.showInlineFileName||a.showFileName?(openBlock(),createElementBlock("div",_hoisted_1$S,[createBaseVNode("span",_hoisted_2$J,toDisplayString(o.shortenFileName(i.file_name)),1)])):createCommentVNode("",!0),a.showDate?(openBlock(),createElementBlock("div",_hoisted_3$E,[createBaseVNode("span",_hoisted_4$v,toDisplayString(e.$d(new Date(i.created_at),"numeric-full")),1)])):createCommentVNode("",!0),d&&!a.noOverlay?(openBlock(),createElementBlock("div",_hoisted_5$s,[createVNode(VBtn,{icon:"mdi-download",size:"x-small",color:"white",variant:"text",onClick:withModifiers(u=>o.downloadFile(i.uuid),["stop"]),loading:r.downloadingStates[s]},null,8,["onClick","loading"]),createVNode(VBtn,{icon:"mdi-eye",size:"x-small",color:"white",variant:"text",onClick:withModifiers(u=>o.previewFile(s),["stop"]),loading:r.downloadingStates[s]},null,8,["onClick","loading"])])):createCommentVNode("",!0)]),_:2},1040,["width","height","elevation","onClick"])]),_:2},1024),createVNode(VDialog,{modelValue:r.previewDialogs[s],"onUpdate:modelValue":d=>r.previewDialogs[s]=d,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:d=>r.previewDialogs[s]=!1},{default:withCtx(()=>[createVNode(VIcon,{color:"white",icon:"$close"})]),_:2},1032,["onClick"]),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(i.file_name),1)]),_:2},1024),createVNode(VSpacer)]),_:2},1024),createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$q,[r.loadingStates[s]?(openBlock(),createBlock(VProgressCircular,{key:0,indeterminate:"",color:"primary"})):createCommentVNode("",!0),!r.loadingStates[s]&&r.isImageArray[s]?(openBlock(),createBlock(VImg,{key:1,src:r.fileUrls[s],contain:"","max-height":"90vh"},null,8,["src"])):!r.loadingStates[s]&&r.fileUrls[s]?(openBlock(),createElementBlock("iframe",{key:2,src:r.fileUrls[s],width:"100%",height:"100%",frameborder:"0"},null,8,_hoisted_7$g)):createCommentVNode("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])],4))),128))],2)}const FilepondPreview=_export_sfc(_sfc_main$1o,[["render",_sfc_render$1d],["__scopeId","data-v-45967191"]]),__vite_glob_0_10=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondPreview},Symbol.toStringTag,{value:"Module"}));function FormDataAsObj(e){let t=null;const a=!1;let n=/[^\[\]]+|\[\]/g,r=null,o=[];function i(S){return!!(S&&typeof S=="object"&&"nodeType"in S&&S.nodeType===1)}function s(S){if(!(!S||typeof S!="object"))return Object.keys(S).filter(function(I){return!isNaN(parseInt(I,10))}).splice(-1)[0]}function d(S){const I=s(S);return typeof I=="string"?parseInt(I,10):0}function l(S){const I=s(S);return typeof I=="string"?parseInt(I,10)+1:0}function u(S){if(typeof S!="object"||S===null)return 0;let I=0,M;if(typeof Object.keys=="function")I=Object.keys(S).length;else for(M in S)S.hasOwnProperty(M)&&I++;return I}function m(S,I){if([].forEach)return[].forEach.call(S,I);let M;for(M=0;M<S.length;M++)I.call(S,S[M],M)}function c(S){return!S||(t=S,!h())||!p()?!1:T()}function h(){switch(typeof t){case"string":r=document.getElementById(t);break;case"object":i(t)&&(r=t);break}return r}function y(){return!!(r.enctype&&r.enctype==="multipart/form-data")}function p(){return o=r.querySelectorAll("input, textarea, select"),o.length}function v(S){return S.nodeName==="INPUT"&&S.type==="radio"}function V(S){return S.nodeName==="INPUT"&&S.type==="checkbox"}function g(S){return S.nodeName==="INPUT"&&S.type==="file"}function f(S){return S.nodeName==="TEXTAREA"}function C(S){return S.nodeName==="SELECT"&&S.type==="select-one"}function k(S){return S.nodeName==="SELECT"&&S.type==="select-multiple"}function w(S){return S.nodeName==="BUTTON"&&S.type==="submit"}function b(S){return S.checked}function A(S){return window.FileList&&S.files instanceof window.FileList}function E(S){if(v(S)||V(S))return b(S)?S.value:!1;if(g(S))return y()?A(S)&&S.files.length>0?S.files:S.value&&S.value!==""?S.value:!1:!1;if(f(S))return S.value&&S.value!==""?S.value:!1;if(C(S))return S.value&&S.value!==""?S.value:S.options&&S.options.length&&S.options[0].value!==""?S.options[0].value:!1;if(k(S))if(S.options&&S.options.length>0){const I=[];return m(S.options,function(M){M.selected&&I.push(M.value)}),I.length?I:!1}else return!1;return w(S)?S.value&&S.value!==""?S.value:S.innerText&&S.innerText!==""?S.innerText:!1:typeof S.value<"u"&&S.value!==""?S.value:!1}function N(S,I,M,x){const F=I[0];if(v(S))return M!==!1?(x[F]=M,M):void 0;if(V(S))return M!==!1?(x[F]||(x[F]=[]),x[F].push(M)):void 0;if(k(S))if(M!==!1)x[F]=M;else return;return x[F]=M,M}function B(S,I,M,x){const F=I[0];if(I.length>1)return F==="[]"?(x[l(x)]={},B(S,I.splice(1,I.length),M,x[d(x)])):(x[F]&&u(x[F])>0||(x[F]={}),B(S,I.splice(1,I.length),M,x[F]));if(I.length===1)return F==="[]"?(x[l(x)]=M,x):(N(S,I,M,x),x)}function T(){let S=0,I,M,x;const F={};for(S=0;S<o.length;S++)M=o[S],!(!M.name||M.name===""||M.disabled||v(M)&&!b(M))&&(x=E(M),!(x===!1&&!a)&&(I=M.name.match(n),I.length===1&&N(M,I,x||"",F),I.length>1&&B(M,I,x||"",F)));return u(F)>0?F:!1}return c(e)}const _sfc_main$1n={name:"UEFilter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default(){return getCurrentInstance().appContext.config.globalProperties.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},filterState:{type:Object,required:!0}},emits:["update:filterState","submit","clear"],data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,t){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{e.style.overflow="visible"},275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,t){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){const e=FormDataAsObj(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:debounce(function(){this.resetHeight()},50),updateSearch(e){this.$emit("update:filterState",{...this.filterState,search:e})}},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},_hoisted_1$R={class:"filter__inner"},_hoisted_2$I={class:"filter__navigation"},_hoisted_3$D={class:"filter__search"},_hoisted_4$u={class:"float-right",symbol:"dropdown_module"},_hoisted_5$r=["aria-hidden"],_hoisted_6$p={class:"filter__moreInner",ref:"moreInner"};function _sfc_render$1c(e,t,a,n,r,o){const i=resolveComponent("ue-btn"),s=resolveDirective("svg");return openBlock(),createElementBlock("div",null,[createBaseVNode("form",{class:normalizeClass(["filter",{"filter--opened":o.opened,"filter--single":!e.withNavigation,"filter--withHiddenFilters":e.withHiddenFilters}]),onSubmit:t[0]||(t[0]=withModifiers((...d)=>o.submitFilter&&o.submitFilter(...d),["prevent"])),ref:"form"},[createBaseVNode("div",_hoisted_1$R,[createBaseVNode("div",_hoisted_2$I,[renderSlot(e.$slots,"navigation",{},void 0,!0)]),createBaseVNode("div",_hoisted_3$D,[createVNode(VTextField,{type:"search",class:"form__input form__input--small v-filter__search__input",name:"search",modelValue:a.filterState.search,"onUpdate:modelValue":o.updateSearch,placeholder:a.placeholder,variant:"outlined","hide-details":"true"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.withHiddenFilters?(openBlock(),createBlock(i,{key:0,class:"filter__toggle",variant:"outlined",onClick:o.toggleFilter,"aria-expanded":o.opened?"true":"false",fab:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.toggle-label","Filter"))+" ",1),withDirectives(createBaseVNode("span",_hoisted_4$u,null,512),[[s]])]),_:1},8,["onClick","aria-expanded"])):createCommentVNode("",!0),renderSlot(e.$slots,"additional-actions",{},void 0,!0)])]),createVNode(Transition$1,{css:!1,duration:275,onBeforeEnter:o.beforeEnter,onEnter:o.enter,onBeforeLeave:o.beforeLeave,onLeave:o.leave},{default:withCtx(()=>[e.withHiddenFilters?withDirectives((openBlock(),createElementBlock("div",{key:0,class:"filter__more","aria-hidden":o.opened?null:!0,ref:"more"},[createBaseVNode("div",_hoisted_6$p,[renderSlot(e.$slots,"hidden-filters",{},void 0,!0),createVNode(i,{variant:"outlined",type:"submit"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.apply-btn","Apply")),1)]),_:1}),a.clearOption?(openBlock(),createBlock(i,{key:0,variant:"elavated",type:"button",onClick:o.clear},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.clear-btn","Clear")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)],512)],8,_hoisted_5$r)),[[vShow,o.opened]]):createCommentVNode("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],34),renderSlot(e.$slots,"default",{},void 0,!0)])}const Filter=_export_sfc(_sfc_main$1n,[["render",_sfc_render$1c],["__scopeId","data-v-e1692dd5"]]),__vite_glob_0_11=Object.freeze(Object.defineProperty({__proto__:null,default:Filter},Symbol.toStringTag,{value:"Module"})),makeFormatterProps=propsFactory({ignoreFormatters:{type:[Array],default:[]}});function useFormatter(e,t,a=[]){const{d:n,te:r,t:o}=useI18n({useScope:"global"}),i=ref(a.filter(l=>Object.prototype.hasOwnProperty.call(l,"formatter")&&l.formatter.length>0&&(!Object.prototype.hasOwnProperty.call(e,"ignoreFormatters")||!e.ignoreFormatters.includes(l.formatter[0])))),s=reactive({dateFormatter:function(l,u="long"){return{configuration:s.makeText(n(new Date(l),u))}},chipFormatter:function(l,u={}){return{configuration:s.makeChip(l,u)}},badgeFormatter:function(l,u={}){return{configuration:s.makeBadge(l,u)}},editFormatter:function(l){return{configuration:{elements:`${l}`,tag:"span",attributes:{onClick:"editItem"}}}},pascalFormatter:function(l){return lodash.startCase(lodash.camelCase(l)).replace(/ /g,"")},priceFormatter:(l,u="₺",m=null)=>({configuration:{elements:[{tag:"p",attributes:{class:"featured"},elements:`${u}${l}`},{tag:"p",attributes:{class:"value"},elements:`${m?`+${m}`:""}`}]}}),statusFormatter:(l,u=null,m=null)=>({configuration:{tag:"p",attributes:{style:{color:(m==null?void 0:m[l])??"red"}},elements:(u==null?void 0:u[l])??l}}),shortenFormatter:function(l,u=10){return{configuration:{elements:window.__shorten(l,u)}}},makeChip:function(l,u={}){return{tag:"v-chip",attributes:{...u},elements:l}},makeBadge:function(l,u={}){return{tag:"v-badge",attributes:{...u,content:l}}},makeText:function(l){return{elements:l}},castMatch:function(l,u){let m=/\$([\w\d\.\*\_]+)/,c,h=l;if(window.__isString(l)&&(c=l.match(m))){let y=c[1],p=window.__preg_quote(c[0]),v=y.split("."),V=[];for(const f in v){let C=v[f];C==="*"?u.id:V.push(C)}y=V.join(".");let g=window.__data_get(u,y);if(g!=null){let f;if(Array.isArray(g)&&g.length>0)f=g.join(",");else if(window.__isString(g)){f=g;let C=lodash.snakeCase(f);r(`modules.${C}`)&&(f=o(`modules.${C}`))}else window.__isNumber(g)&&(f=g.toString());if(f!==void 0){let C="\\w\\s"+window.__preg_quote("çşıİğüö.,;?|:_"),k=new RegExp(String.raw`^([${C}]+)?(${p})([${C}]+)?$`);l.match(k)?h=l.replace(k,"$1"+f+"$3"):__log("Not matched sentence",k,l,l.match(k))}}}return h}});function d(l,u){let m=lodash.cloneDeep(l);const h=`${m.shift()}Formatter`;try{return u?s[h](u,...lodash(m)):{configuration:{elements:""}}}catch(y){console.error(`${y}: ${h}`)}}return{formatterColumns:i,handleFormatter:d,...toRefs(s)}}const makeInputProps=propsFactory({modelValue:null,obj:{type:Object,default(){return{}}},label:{type:String,default:""},hideIfEmpty:{type:Boolean,default:!1},protectInitialValue:{type:Boolean,default:!1}}),makeInputEmits=["update:modelValue","change","update:preview","focus","blur","click:append","click:appendInner","click:prepend","click:prependInner","click:clear","click:hour","click:minute","click:second","update:input"],makeInputInjects=["manualValidation"];function useInput(e,t){const{modelValue:a,obj:n}=toRefs(e),r=ref(null),o=reactive({VInput:r,id:Math.ceil(Math.random()*1e6)+"-input",boundProps:omit(n.value.schema??{},["offset","order","col"]),input:computed({get:()=>{var d,l;let s=a.value??(e==null?void 0:e.default)??((l=(d=e==null?void 0:e.obj)==null?void 0:d.schema)==null?void 0:l.default)??[];return t.initializeInput?t.initializeInput(s):s},set:(s,d)=>{t.updateModelValue?t.updateModelValue(s,d):i.emitModelValue(s,d)}})}),i=reactive({async validate(){this.$refs.VInput&&await this.$refs.VInput.validate()},updateModelValue:function(s,d){t.emit("update:modelValue",s,d)},emitModelValue:function(s,d){t.emit("update:modelValue",s,d)},makeReference(s){return`${s}-${o.id}`},getReference(s){return i.makeReference(s)}});return{...toRefs(i),...toRefs(o)}}function useInputHandlers(){const e=reactive({passwordHandler:function(a,n){a.schema[`${n}Icon`]=a.schema.type==="password"?"$visibility":"$non-visibility",a.schema.type=a.schema.type==="password"?"text":"password"}});function t(a,n){const r=lodash.camelCase(n);if(Object.prototype.hasOwnProperty.call(a.schema,"slotHandlers")&&Object.prototype.hasOwnProperty.call(a.schema.slotHandlers,r)){const i=`${lodash.camelCase(a.schema.slotHandlers[r])}Handler`;return e[i](a,r)}}return{invokeInputClickHandler:t,...toRefs(e)}}const inBrowser=typeof window<"u";inBrowser&&function(){const e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}();const Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;let _key=genKey();function genKey(){return Time.now().toFixed(3)}function pushState(e,t){const a=window.history;try{t&&a.replaceState({key:_key},"",e)}catch{window.location.replace(e)}}function replaceState(e){pushState(e,!0)}function getURLWithoutQuery(e=null){return e?getOrigin(e)+getPath(e):location.protocol+"//"+location.host+location.pathname}function getParameters(e=window.location){let t={};return new URL(e).searchParams.forEach(function(a,n){t[n]!==void 0?(Array.isArray(t[n])||(t[n]=[t[n]]),t[n].push(a)):t[n]=a}),t}function serializeParameters(e,t){const a=Object.keys(e).map(n=>{const r=e[n];return e.constructor===Array?n=`${t}[]`:e.constructor===Object&&(n=t?`${t}[${n}]`:n),typeof r=="object"?serializeParameters(r,n):`${n}=${encodeURIComponent(r)}`});return[].concat.apply([],a).join("&")}function addParametersToUrl(e,t,a){let n="";return __isString(t)?n=t:n=serializeParameters(t,a),n.length>0&&(n="?"+n),e+n}function removeQueryKeys(e=[]){const t=new URL(window.location.href);e.forEach(n=>t.searchParams.delete(n));const a=t.pathname+(t.searchParams.toString()?"?"+t.searchParams.toString():"");window.history.pushState({},"",a)}function getOrigin(e){return new URL(e).origin}function getPath(e){return new URL(e).pathname}function removeParameterFromUrl(e,t){const a=new URL(e);return a.searchParams.delete(t),a.toString()}function removeParameterFromHistory(e){window.history.replaceState({},"",removeParameterFromUrl(window.location.href,e))}function globalError$1(e=null,t={message:"",value:null}){var o,i,s,d,l;let a="";e&&typeof e=="string"&&(a=`MODULARITY - [${e}]: `);const n=a+t.message,r=((i=(o=t==null?void 0:t.value)==null?void 0:o.response)==null?void 0:i.status)??((s=t==null?void 0:t.response)==null?void 0:s.status)??null;console.error(n),t!=null&&t.value&&((d=t.value)!=null&&d.response)&&((l=t.value.response)!=null&&l.data)&&console.error(t.value.response.data),r===401||r===419?window.vm.config.globalProperties.$dialog({message:'Your session has expired, please <a class="v-btn v-btn--slim text-primary v-btn--density-default v-btn--size-default mr-12" href="'+document.location+'" target="_blank">login in another tab</a>'}):window.vm.config.globalProperties.$notif({message:t.message,variant:"error"})}const component$2="DATATABLE",api$2={get(e,t,a,n=null){axios$1.get(e,{params:t}).then(function(r){if(r.data.replaceUrl){const o=r.request.responseURL;replaceState(o)}a&&typeof a=="function"&&a(r.data,r)},function(r){n&&typeof n=="function"&&n({message:"Get request error.",value:r})})},delete(e,t,a,n){e=e.replace(":id",t),axios$1.delete(e).then(function(r){a&&typeof a=="function"&&a(r)},function(r){const o={message:"Delete request error.",value:r};globalError$1(component$2,o),n&&typeof n=="function"&&n(o)})},forceDelete(e,t,a,n){e=e.replace(":id",t),axios$1.put(e,{id:t}).then(function(r){a&&typeof a=="function"&&a(r)},function(r){const o={message:"Force Delete request error.",value:r};globalError$1(component$2,o),n&&typeof n=="function"&&n(o)})},restore(e,t,a){e=e.replace(":id",t),axios$1.put(e,{id:t}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$2,{message:"Restore request error.",value:n})})},duplicate(e,t,a){e=e.replace(":id",t),axios$1.put(e).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$2,{message:"Duplicate request error.",value:n})})},reorder(e=null,t,a){const n=e??window.MODULARITY.ENDPOINTS.reorder;axios$1.post(n,{ids:t}).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component$2,{message:"Reorder request error.",value:r})})},bulkPublish(e,t,a){axios$1.post(e,{ids:t.ids,publish:t.toPublish}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$2,{message:"Bulk publish request error.",value:n})})},bulkFeature(e,t,a){axios$1.post(e,{ids:t.ids,feature:t.toFeature}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$2,{message:"Bulk feature request error.",value:n})})},bulkDelete(e,t,a){axios$1.post(e,{ids:t}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$2,{message:"Bulk delete request error.",value:n})})},bulkRestore(e,t,a){axios$1.post(e,{ids:t}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$2,{message:"Bulk restore request error.",value:n})})},bulkDestroy(e,t,a){axios$1.post(e,{ids:t}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$2,{message:"Bulk destroy request error.",value:n})})}},MOVE_BLOCK_TO_EDITOR="moveBlockToEditor",DUPLICATE_BLOCK="duplicateBlock",GET_BUCKETS="getBucketsData",SAVE_BUCKETS="saveBuckets",GET_DATATABLE="getDatatableDatas",SET_DATATABLE_NESTED="setDatatableNestedDatas",SET_DATATABLE="setDatatableDatas",TOGGLE_PUBLISH="togglePublishedData",DELETE_ITEM="deleteData",DUPLICATE_ITEM="duplicateData",RESTORE_ITEM="restoreData",DESTROY_ITEM="destroyData",TOGGLE_FEATURE="toggleFeaturedData",BULK_PUBLISH="bulkPublishData",BULK_FEATURE="bulkFeatureData",BULK_EXPORT="bulkExportData",BULK_DELETE="bulkDeleteData",BULK_RESTORE="bulkRestoreData",BULK_DESTROY="bulkDestroyData",REPLACE_FORM="replaceFormData",SAVE_FORM="saveFormData",UPDATE_FORM_IN_LISTING="updateFormInListing",CREATE_FORM_IN_MODAL="createFormInModal",SHOW_ALERT="showAlert",GET_ALL_PREVIEWS="getAllPreviews",GET_PREVIEW="getPreview",GET_REVISION="getRevisionContent",GET_CURRENT="getCurrentContent",HANDLE_ERRORS="handleErrors",ACTIONS={HANDLE_ERRORS,GET_BUCKETS,SAVE_BUCKETS,GET_DATATABLE,SET_DATATABLE_NESTED,SET_DATATABLE,TOGGLE_PUBLISH,DELETE_ITEM,DUPLICATE_ITEM,RESTORE_ITEM,DESTROY_ITEM,TOGGLE_FEATURE,BULK_PUBLISH,BULK_FEATURE,BULK_EXPORT,BULK_DELETE,BULK_RESTORE,BULK_DESTROY,REPLACE_FORM,SAVE_FORM,UPDATE_FORM_IN_LISTING,CREATE_FORM_IN_MODAL,GET_ALL_PREVIEWS,GET_PREVIEW,GET_REVISION,GET_CURRENT,MOVE_BLOCK_TO_EDITOR,DUPLICATE_BLOCK,SHOW_ALERT};var Q,X,Z,J;const state$9={test:((Q=window.MODULARITY)==null?void 0:Q.STORE.config.test)??!1,profileMenu:((X=window.MODULARITY)==null?void 0:X.STORE.config.profileMenu)??[],sidebarStatus:!0,sidebarOptions:((Z=window.MODULARITY)==null?void 0:Z.STORE.config.sidebarOptions)??!1,secondarySidebarOptions:((J=window.MODULARITY)==null?void 0:J.STORE.config.secondarySidebarOptions)??!1,isRequestInProgress:!1,ongoingAxiosRequests:0},getters$8={sidebarStatus:e=>e.sidebarStatus,sidebarOptions:e=>e.sidebarOptions,secondarySidebarOptions:e=>e.secondarySidebarOptions,profileMenu:e=>e.profileMenu,isRequestInProgress:e=>e.isRequestInProgress,ongoingAxiosRequests:e=>e.ongoingAxiosRequests},mutations$8={[CONFIG.SIDEBAR_TOGGLE](e){e.sidebarStatus=!e.sidebarStatus},[CONFIG.SET_SIDEBAR](e,t=!0){e.sidebarStatus=t},[CONFIG.SET_REQUEST_IN_PROGRESS](e,t=!0){e.isRequestInProgress=t},[CONFIG.INCREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests+=1,e.isRequestInProgress=e.ongoingAxiosRequests>0},[CONFIG.DECREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests-=1,e.isRequestInProgress=e.ongoingAxiosRequests>0}},config={state:state$9,getters:getters$8,mutations:mutations$8},filters={slugify:function(e){let t="";newValue.value&&typeof newValue.value=="string"?t=newValue.value:typeof newValue=="string"&&(t=newValue);const a={",":"-","/":"-",":":"-",";":"-",_:"-","©":"(c)","·":"-",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",þ:"th",ÿ:"y",ā:"a",ă:"a",ą:"a",ć:"c",č:"c",ď:"d",ē:"e",ę:"e",ě:"e",ğ:"g",ģ:"g",ī:"i",ı:"i",ķ:"k",ļ:"l",ł:"l",ń:"n",ņ:"n",ň:"n",ő:"o",œ:"oe",ŕ:"r",ř:"r",ś:"s",ş:"s",š:"s",ť:"t",ū:"u",ů:"u",ű:"u",ź:"z",ż:"z",ž:"z",ǘ:"u",ǵ:"g",ǹ:"n",ș:"s",ț:"t",ΐ:"i",ά:"a",έ:"e",ή:"h",ί:"i",ΰ:"y",α:"a",β:"b",γ:"g",δ:"d",ε:"e",ζ:"z",η:"h",θ:"8",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"3",ο:"o",π:"p",ρ:"r",ς:"s",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"w",ϊ:"i",ϋ:"y",ό:"o",ύ:"y",ώ:"w",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ж:"zh",з:"z",и:"i",й:"j",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",ё:"yo",є:"ye",і:"i",ї:"yi",ґ:"g",ḧ:"h",ḿ:"m",ṕ:"p",ẃ:"w",ẍ:"x",ә:"a",ғ:"g",қ:"q",ң:"n",ө:"o",ұ:"u"},n=new RegExp(Object.keys(a).join("|"),"g");return t.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(n,r=>a[r]).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||e===0?e.toString().toUpperCase():""},lowercase:function(e){return e||e===0?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},isViewOnlyInput=e=>Object.prototype.hasOwnProperty.call(e,"viewOnlyComponent"),isFormEventInput=e=>Object.prototype.hasOwnProperty.call(e,"isEvent")&&e.isEvent&&(["select","autocomplete","combobox","switch"].includes(e.type)||__isset(e.viewOnlyComponent)||e.noSubmit),getTranslationInputsCount=e=>getTranslationInputs(e).length,getTranslationInputs=(e,t=[])=>_.reduce(e,(a,n)=>(__isset(n)&&__isset(n.schema)&&["wrap","group","repeater","input-repeater"].includes(n.type)?a=getTranslationInputs(n.schema,a):Object.prototype.hasOwnProperty.call(n,"translated")&&n.translated&&a.push(n),a),t),flattenGroupSchema=(e,t)=>reduce(e,(a,n,r)=>{const o=r.split(".").filter(i=>i!==t).join(".");return a[o]=n,a},{}),processInputs=e=>reduce(e,(t,a,n)=>(a.type==="wrap"&&a.schema?Object.assign(t,processInputs(a.schema)):a.type==="groupz"&&a.schema||(a.slotable,t[n]=a),t),{});var ee,te,ae,oe,ne,re,se,ie,le,de,ce,ue;const state$8={crops:((te=(ee=window.MODULARITY)==null?void 0:ee.STORE)==null?void 0:te.medias.crops)||{},showFileName:((oe=(ae=window.MODULARITY)==null?void 0:ae.STORE)==null?void 0:oe.medias.showFileName)||!1,types:((re=(ne=window.MODULARITY)==null?void 0:ne.STORE)==null?void 0:re.medias.types)||[],type:"image",connector:null,isInserted:!1,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:((ie=(se=window.MODULARITY)==null?void 0:se.STORE)==null?void 0:ie.medias.selected)||{},config:((de=(le=window.MODULARITY)==null?void 0:le.STORE)==null?void 0:de.medias.config)||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1,showModal:((ue=(ce=window.MODULARITY)==null?void 0:ce.STORE)==null?void 0:ue.medias.openModal)||!1},getters$7={mediasByBlockId:e=>t=>{const a=Object.keys(e.selected).filter(r=>r.startsWith(`blocks[${t}]`)),n={};return a.forEach(r=>n[r]=e.selected[r]),n}},mutations$7={[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(a=>(a.value===t.type&&(a.total=t.total),a))},[MEDIA_LIBRARY.UPDATE_REPLACE_INDEX](e,t){e.indexToReplace=t},[MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(a=>(a.value===t&&(a.total=a.total+1),a))},[MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(a=>(a.value===t&&(a.total=a.total-1),a))},[MEDIA_LIBRARY.UPDATE_MEDIAS](e,{mediaRole:t,index:a,media:n}){e.selected[t][a]=n},[MEDIA_LIBRARY.SAVE_MEDIAS](e,t){if(e.connector){const a=e.connector,n=e.selected[a]&&e.selected[a].length;if(n&&e.indexToReplace>-1)e.selected[a].splice(e.indexToReplace,1,cloneDeep(t[0]));else if(n)t.forEach(function(r){e.selected[a].push(cloneDeep(r))});else{const r={};r[a]=t,e.selected=Object.assign({},e.selected,r)}e.indexToReplace=-1}},[MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA](e,t){},[MEDIA_LIBRARY.DESTROY_MEDIAS](e,t){e.selected[t]&&delete e.selected[t],e.connector=null},[MEDIA_LIBRARY.REORDER_MEDIAS](e,t){const a={};a[t.name]=t.medias,e.selected=Object.assign({},e.selected,a)},[MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA](e,t){const a=e.loading.filter(n=>n.id===t.id);a.length?(a[0].error=!1,a[0].progress=t.progress):e.loading.unshift({id:t.id,name:t.name,progress:t.progress,replacementId:t.replacementId,isReplacement:t.isReplacement})},[MEDIA_LIBRARY.PROGRESS_UPLOAD](e,t){e.uploadProgress=t},[MEDIA_LIBRARY.DONE_UPLOAD_MEDIA](e,t){e.loading.forEach(function(a,n){a.id===t.id&&e.loading.splice(n,1)})},[MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA](e,t){e.loading.forEach(function(a,n){a.id===t.id&&(e.loading[n].progress=0,e.loading[n].error=!0,e.loading[n].errorMessage=t.errorMessage)})},[MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR](e,t){t&&t!==""?e.connector=t:e.connector=null},[MEDIA_LIBRARY.UPDATE_IS_INSERTED](e,t){e.isInserted=t},[MEDIA_LIBRARY.UPDATE_MEDIA_MODE](e,t){e.strict=t},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE](e,t){t&&t!==""&&(e.type=t)},[MEDIA_LIBRARY.RESET_MEDIA_TYPE](e){e.type=e.types[0].value},[MEDIA_LIBRARY.UPDATE_MEDIA_MAX](e,t){e.max=Math.max(0,t)},[MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX](e,t){e.filesizeMax=Math.max(0,t)},[MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN](e,t){e.widthMin=Math.max(0,t)},[MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN](e,t){e.heightMin=Math.max(0,t)},[MEDIA_LIBRARY.SET_MEDIA_METADATAS](e,t){const a=t.media.context,n=e.selected[a],r=t.value;function o(i){return r.locale?(i.metadatas.custom[r.id]||(i.metadatas.custom[r.id]={}),i.metadatas.custom[r.id][r.locale]=r.value):i.metadatas.custom[r.id]=r.value,i}if(t.media.hasOwnProperty("index")){const i=o(cloneDeep(n[t.media.index]));n[t.media.index]=i}},[MEDIA_LIBRARY.DESTROY_MEDIA_CONNECTOR](e){e.connector=null},[MEDIA_LIBRARY.SET_MEDIA_CROP](e,t){const a=t.key,n=t.index,r=e.selected[a][n];function o(s){s.crops||(s.crops={});for(const d in t.values){const l={};l.name=t.values[d].name||d,l.x=t.values[d].x,l.y=t.values[d].y,l.width=t.values[d].width,l.height=t.values[d].height,s.crops[d]=l}return s}const i=o(cloneDeep(r));e.selected[a][n]=i},[MEDIA_LIBRARY.ADD_MEDIAS](e,{medias:t}){e.selected=Object.assign({},e.selected,t)}},actions$4={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:t},{block:a,id:n}){const r={...t.mediasByBlockId(a.id)},o=Object.keys(r),i={};o.forEach(s=>i[s.replace(a.id,n)]=[...r[s]]),e(MEDIA_LIBRARY.ADD_MEDIAS,{medias:i})}},mediaLibrary={state:state$8,getters:getters$7,mutations:mutations$7,actions:actions$4},state$7={success:null,info:null,warning:null,error:null,show:!1,type:"info",message:null,location:"bottom",dialog:!1,dialogMessage:null},getters$6={notifByVariant:e=>t=>e[t],notified:e=>Object.keys(e).filter(t=>e[t]!==null).length===0},mutations$6={[ALERT.SET_ALERT_SHOW](e,t){e.show=t},[ALERT.SET_ALERT](e,t){e.type=t.variant??e.type,e.location=t.location??e.location,e.message=t.message??null,e.show=!0},[ALERT.CLEAR_ALERT](e,t){e.show=!1,e.type="info",e.message=null},[ALERT.SET_DIALOG_SHOW](e,t){e.dialog=t},[ALERT.SET_DIALOG](e,t){e.dialogMessage=t.message??null,e.dialog=!0},[ALERT.CLEAR_DIALOG](e){e.dialog=!1,e.dialogMessage=null}},actions$3={[ACTIONS.SHOW_ALERT]({commit:e},t){e(ALERT.SET_ALERT,t)}},alert$1={state:state$7,getters:getters$6,mutations:mutations$6,actions:actions$3};var me,pe,fe,he,ge,_e,ye,ve,be,Ce,ke,Ve,we,Se,Be,Ae,Ee,Ne,Ie,Te,Me,De,$e,Pe,Re,xe,Oe;const state$6={locale:((me=window.MODULARITY)==null?void 0:me.LOCALE)??"en",timezone:((pe=window.MODULARITY)==null?void 0:pe.TIMEZONE)??"Europe/London",authorization:((fe=window.MODULARITY)==null?void 0:fe.AUTHORIZATION)??{},isGuest:((_e=(ge=(he=window.MODULARITY)==null?void 0:he.STORE)==null?void 0:ge.user)==null?void 0:_e.isGuest)??!1,profileDialog:!1,profile:((be=(ve=(ye=window.MODULARITY)==null?void 0:ye.STORE)==null?void 0:ve.user)==null?void 0:be.profile)??{},profileRoute:((Ve=(ke=(Ce=window.MODULARITY)==null?void 0:Ce.STORE)==null?void 0:ke.user)==null?void 0:Ve.profileRoute)??"",profileShortcutModel:((Be=(Se=(we=window.MODULARITY)==null?void 0:we.STORE)==null?void 0:Se.user)==null?void 0:Be.profileShortcutModel)??{},profileShortcutSchema:((Ne=(Ee=(Ae=window.MODULARITY)==null?void 0:Ae.STORE)==null?void 0:Ee.user)==null?void 0:Ne.profileShortcutSchema)??{},showLoginModal:!1,loginShortcutModel:((Me=(Te=(Ie=window.MODULARITY)==null?void 0:Ie.STORE)==null?void 0:Te.user)==null?void 0:Me.loginShortcutModel)??{},loginShortcutSchema:((Pe=($e=(De=window.MODULARITY)==null?void 0:De.STORE)==null?void 0:$e.user)==null?void 0:Pe.loginShortcutSchema)??{},loginRoute:((Oe=(xe=(Re=window.MODULARITY)==null?void 0:Re.STORE)==null?void 0:xe.user)==null?void 0:Oe.loginRoute)??""},getters$5={userProfile:e=>e.profile,isGuest:e=>e.isGuest,isSuperAdmin:e=>e.authorization.isSuperAdmin??!1,isClient:e=>e.authorization.isClient??!1,userLocale:e=>e.locale,hasRestorable:e=>e.authorization.hasRestorable??!1,hasBulkable:e=>e.authorization.hasBulkable??!1,userPermissions:e=>e.authorization.permissions??[],userRoles:e=>e.authorization.roles??[]},actions$2={},mutations$5={[USER.SET_PROFILE_DATA](e,t){e.profile=t},[USER.OPEN_LOGIN_MODAL](e){e.showLoginModal=!0},[USER.CLOSE_LOGIN_MODAL](e){e.showLoginModal=!1}},user={state:state$6,getters:getters$5,actions:actions$2,mutations:mutations$5};var Fe,Le,Ue,je;const state$5={all:((Fe=window.MODULARITY)==null?void 0:Fe.STORE.languages.all)||[],initialAll:((Le=window.MODULARITY)==null?void 0:Le.STORE.languages.all)||[],active:((Ue=window.MODULARITY)==null?void 0:Ue.STORE.languages.active)||((je=window.MODULARITY)==null?void 0:je.STORE.languages.all[0])||{}},getters$4={publishedLanguages:e=>e.all.filter(t=>t.published)},mutations$4={[LANGUAGE.SWITCH_LANG](e,{oldValue:t}){function a(o){return o.value===t.value}const n=e.all.findIndex(a),r=n<e.all.length-1?n+1:0;e.active=e.all[r]},[LANGUAGE.UPDATE_LANG](e,t){function a(r){return r.value===t}const n=e.all.findIndex(a);e.active=e.all[n]},[LANGUAGE.PUBLISH_LANG](e,t){e.all.forEach(function(a){a.published=!!t.includes(a.value)})},[LANGUAGE.PUBLISH_SINGLE_LANG](e,t){function a(r){return r.value===t}const n=e.all.findIndex(a);e.all[n].published=!e.all[n].published},[LANGUAGE.REPLACE_LANGUAGES](e,t){e.all=t},[LANGUAGE.RESET_LANGUAGES](e){e.all=e.initialAll}},language={state:state$5,getters:getters$4,mutations:mutations$4};var ze;const state$4={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:((ze=window.MODULARITY)==null?void 0:ze.STORE.browser.selected)||{}},getters$3={selectedItemsByIds:e=>{const t=[];for(const a in e.selected)t[a]=e.selected[a].map(n=>`${n.endpointType}_${n.id}`);return t},browsersByBlockId:e=>t=>{const a=Object.keys(e.selected).filter(r=>r.startsWith(`blocks[${t}]`)),n={};return a.forEach(r=>n[r]=e.selected[r]),n}},mutations$3={[BROWSER.SAVE_ITEMS](e,t){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=t;else{const a={};a[e.connector]=t,e.selected=Object.assign({},e.selected,a)}},[BROWSER.DESTROY_ITEMS](e,t){e.selected[t.name]},[BROWSER.DESTROY_ITEM](e,t){e.selected[t.name]&&(e.selected[t.name].splice(t.index,1),e.connector=null)},[BROWSER.REORDER_ITEMS](e,t){const a={};a[t.name]=t.items,e.selected=Object.assign({},e.selected,a)},[BROWSER.UPDATE_BROWSER_MAX](e,t){e.max=Math.max(0,t)},[BROWSER.UPDATE_BROWSER_CONNECTOR](e,t){t&&t!==""&&(e.connector=t)},[BROWSER.UPDATE_BROWSER_TITLE](e,t){t&&t!==""&&(e.title=t)},[BROWSER.UPDATE_BROWSER_NOTE](e,t){e.note=t},[BROWSER.DESTROY_BROWSER_CONNECTOR](e){e.connector=null},[BROWSER.UPDATE_BROWSER_ENDPOINT](e,t){t&&t!==""&&(e.endpoint=t.value,e.endpointName=t.label||"")},[BROWSER.DESTROY_BROWSER_ENDPOINT](e){e.endpoint="",e.endpointName=""},[BROWSER.UPDATE_BROWSER_ENDPOINTS](e,t){!t&&!t.length>0||(e.endpoints=t,e.endpoint=t[0].value,e.endpointName=t[0].label)},[BROWSER.DESTROY_BROWSER_ENDPOINTS](e){e.endpoints=[]},[BROWSER.ADD_BROWSERS](e,{browsers:t}){e.selected=Object.assign({},e.selected,t)}},actions$1={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:t},{block:a,id:n}){const r={...t.browsersByBlockId(a.id)},o=Object.keys(r),i={};o.forEach(s=>i[s.replace(a.id,n)]=[...r[s]]),e(BROWSER.ADD_BROWSERS,{browsers:i})}},browser={state:state$4,getters:getters$3,mutations:mutations$3,actions:actions$1};var He,Ge,qe,Ye,Ke,We,Qe;const state$3={isHot:((He=window.MODULARITY)==null?void 0:He.STORE.ambient.isHot)??!1,appEnv:((Ge=window.MODULARITY)==null?void 0:Ge.STORE.ambient.appEnv)??"",appName:((qe=window.MODULARITY)==null?void 0:qe.STORE.ambient.appName)??"",appEmail:((Ye=window.MODULARITY)==null?void 0:Ye.STORE.ambient.appEmail)??"",appDebug:((Ke=window.MODULARITY)==null?void 0:Ke.STORE.ambient.appDebug)??!1,test:((We=window.MODULARITY)==null?void 0:We.STORE.ambient.test)??!1,systemPackageVersions:((Qe=window.MODULARITY)==null?void 0:Qe.STORE.ambient.systemPackageVersions)??{}},getters$2={isHot:e=>e.isHot,appName:e=>e.appName,appEmail:e=>e.appEmail,appEnv:e=>e.appEnv,appDebug:e=>e.appDebug,versions:e=>e.systemPackageVersions},mutations$2={},ambient={state:state$3,getters:getters$2,mutations:mutations$2},state$2={},getters$1={[CACHE.GET_CACHE]:e=>t=>e[t]??null,[CACHE.GET_LAST_CACHE]:e=>t=>e[t]?Array.isArray(e[t])?lodash.last(e[t]):e[t]:null},mutations$1={[CACHE.PUT_CACHE](e,t){const{key:a,value:n}=t;e[a]=n},[CACHE.PUSH_CACHE](e,t){const{key:a,value:n}=t;e[a]?Array.isArray(e[a])||(e[a]=[e[a]]):e[a]=[],e[a]=[...e[a],n]},[CACHE.FORGET_CACHE](e,t){delete e[t]}},cache={state:state$2,getters:getters$1,mutations:mutations$1},store=createStore({modules:{ambient,user,alert:alert$1,config,language,mediaLibrary,browser,cache}}),getTranslationLanguages=e=>map(window.MODULARITY.STORE.languages.all,"value"),formatHelpers={handlers:(e,t,a=null)=>{const n=e.name,r=e.name,o=e.key??e.name,i=e;let s=__data_get(t,isNaN(parseInt(a))?r:`${a}.${r}`);return!s&&__isset(i.parentName)&&(s=__data_get(t,isNaN(a)?`${i.parentName}.${r}`:`${a}.${i.parentName}.${r}`)),{handlerName:n,handlerModelName:r,handlerSchemaName:o,handlerSchema:i,handlerValue:s}},getInputToFormat:(e,t,a,n,r)=>{let o=e.shift(),i=[],s=o.split("."),d=parseInt(s[0]);if(isNaN(d))d=r;else if(!Array.isArray(t))return!1;return Array.isArray(t)&&(isNaN(d)||(d-=1,s.shift()),i.push(`[${d}]`)),o=s.join("."),i.push(o),i.join(".")},getNewValue:(e,t,a)=>{let n;if(t){let r=[],o=__wildcard_change(e,t);r=__data_get(a,o,null),Array.isArray(r)&&r.length>0?n=r.shift():r!=null&&(n=r)}return n}};async function formatClearModel(e,t,a,n,r=null,o=[]){const i=formatHelpers.getInputToFormat(e,t,a,r);if(!i)return;formatHelpers.handlers(n,t,r);let s=lodash.get(a,i),d=(s==null?void 0:s.default)??[];lodash.set(t,i,d),lodash.get(o,i)&&lodash.unset(o,i)}async function formatFilter(e,t,a,n,r=null,o=[]){const i=formatHelpers.getInputToFormat(e,t,a,r);if(!i)return;let{handlerName:s,handlerModelName:d,handlerSchema:l,handlerValue:u}=formatHelpers.handlers(n,t,r);const m=e.shift(),c=e.shift();let h,y,p;u[c]?(p=u[c],h=n.filterEndpoint[p],y=u[m]):(p=d,h=n.filterEndpoint,y=u);let v=`${i}.${m}`,V=lodash.get(a,`${i}.eagers`)??[];lodash.get(a,v)||lodash.set(a,v,[]);let g=lodash.cloneDeep(lodash.get(a,v));for(const f in g)y.includes(g[f].id)||g.splice(f,1);for(const f in y){const C=y[f];if(!g.find(k=>k.id==C))try{let k=await axios.get(h.replace(`{${lodash.snakeCase(p)}}`,C),{params:{eagers:V}});g.push(k.data)}catch(k){console.error("An error occurred:",k),k.response?globalError("",{message:"formatFilter error",value:k}):k.request?console.error("No response received:",k.request):console.error("Error message:",k.message)}}lodash.set(a,v,lodash.orderBy(g,["id"],["asc"]))}async function formatLock(e,t,a,n,r=null,o=[]){var m;const i=n.name,s=a[i],d=t[i];Array.isArray(d)&&d.length>0||Array.isArray(d);const l=e.shift(),u=e.shift();if(["select","combobox"].includes(s.type)&&d){const c=(m=s.items.find(h=>h[s.itemValue]===d))==null?void 0:m[u];a[l].disabled=!!c,a[l].focused=!!c,a[l].placeHolder=c}else if(["text"].includes(s.type)&&_field){const c=_field,[h,y]=l.split(".");a[h].schema[y].disabled=!!c,a[h].schema[y].focused=!!c,a[h].schema[y].placeHolder=c}}async function formatPermalink(e,t,a,n,r=null,o=[]){const i=n.name;a[i];const s=t[i],d=Array.isArray(s)&&s.length>0||!Array.isArray(s)&&!!s,l=e.shift();d&&(t[l]=filters.slugify(s))}async function formatPermalinkPrefix(e,t,a,n,r=null,o=[]){const i=n.name,s=a[i],d=t[i],l=Array.isArray(d)&&d.length>0||!Array.isArray(d)&&!!d,u=e.shift(),m=e.shift();if(["select","combobox"].includes(s.type)&&d&&l){const c=filters.slugify(s.items.find(h=>h[s.itemValue]===d)[s.itemTitle]);a[u??"slug"].prefix=a[u??"slug"].prefixFormat.replace(":"+m,c)}else if(["text"].includes(s.type)&&l){const c=filters.slugify(value),[h,y]=u.split(".");a[h].schema[y??"slug"].prefix=a[h].schema[y??"slug"].prefixFormat.replace(":"+m,c)}}const searchInData=(e,t)=>{const a=[];if(typeof t=="object"&&t.pattern&&(t=t.pattern),typeof t!="string"||t.startsWith("regex:"))return a;const n=t.split("."),r=(o,i,s=[],d=0,l=null)=>{if(Array.isArray(o))o.forEach((u,m)=>{r(u,i,[...s,m],d,l)});else if(typeof o=="object"&&o!==null){const u=o._title||null;for(const[m,c]of Object.entries(o)){const h=[...s,m];m==="_value"?r(c,i,h,d,u):m===n[d]&&(d===n.length-1?a.push(formatResult(i,h,c,u,l)):r(c,i,h,d+1,u))}}};return e.forEach((o,i)=>r(o,i)),a},formatResult=(e,t,a,n,r)=>{const o=[e,...t].join("."),i={dataIndex:e,notation:o,value:a};return n!==null&&(i.title=n),r!==null&&(i.parentTitle=r),i},findMatchingNotations=(e,t)=>{if(typeof t=="object"&&t.pattern&&(t=t.pattern),typeof t=="string"&&t.startsWith("regex:")){const a=t.replace("regex:","").replace("content.",""),n=new RegExp(a),r=[];for(const o of e)o.content&&Object.entries(o.content).forEach(([i,s])=>{n.test(i)&&r.push({key:i,value:s})});return r}return searchInData(e,t)},formattedPreview=(e,t)=>{const a=[],n=(l,u={})=>{const{titleKey:m="_title",valueKey:c="_value",pickKeys:h=[],mapArrayItems:y=!0,nested:p=!1,includeTitle:v=!0,col:V=6}=u;if(!l)return null;if(Array.isArray(l[c]))return y?[v?l[m]:null,l[c].map(g=>g[m]),V].filter(Boolean):[l[m],l[c],V];if(h.length>0){const g=h.map(f=>l[f]).filter(Boolean);return g.length?[l[m],...g,V]:null}return[v?l[m]:null,l[c],V].filter(Boolean)},r=(l,u)=>{typeof u=="object"&&u.pattern&&(u=u.pattern);const m=d(u);if(!m.length)return"";if(m[0].startsWith("regex:")){const c=[];for(const h of l)for(const[y,p]of Object.entries(h))typeof p=="object"&&p!==null&&Object.keys(p).some(V=>s(m[0],V))&&c.push(y);return c.length?c:""}for(const c of l)for(const[h,y]of Object.entries(c))if(typeof y=="object"&&y!==null&&m[0]in y)return h;return""},o=(l,u=6)=>(l.col||(l.col=u),l),i=(l=0)=>`section_${l+1}`,s=(l,u)=>{if(typeof l!="string")return!1;if(l.startsWith("regex:")){const m=l.replace("regex:","");return new RegExp(m).test(u)}return l===u},d=l=>(typeof l=="object"&&l.pattern&&(l=l.pattern),typeof l!="string"?[]:l.startsWith("regex:")?["content",l.includes("content.")?l.replace("regex:content.","regex:"):l]:l.split("."));for(const l of t)if(typeof l=="string"||typeof l=="object"&&l.pattern){const u=typeof l=="string"?l:l.pattern,m={col:6,...typeof l=="object"?l:{}},c=u.endsWith(".*"),h=findMatchingNotations(e,c?u.slice(0,-2):u);if(h.length>0)if(c&&h[0].value._value)if(!m.includeOverview)h[0].value._value.forEach((y,p)=>{const v=Object.entries(y).filter(([V])=>!V.startsWith("_")).map(([V,g])=>Array.isArray(g._value)&&m.mapArrayItems===!1?[g._title,g._value]:n(g,m)).filter(Boolean);if(v.length>0)if(m.outputFormat==="object"){const V={};v.forEach(([g,f])=>{V[g]=f}),a.push(o({title:y._title,items:m.nested?{[i(p)]:V}:V},m.col))}else a.push(o({title:y._title,items:m.nested?[v]:v},m.col))});else{const y=n(h[0].value,{...m,mapArrayItems:!0});y&&a.push(o({title:y[0],items:[y[1]]},m.col))}else{const y=h.map(p=>n(p.value,m)).filter(Boolean);y.length>0&&a.push(o({items:y},m.col))}}else if(Array.isArray(l)){const u=[],m={col:6};for(const c of l)findMatchingNotations(e,c).forEach(y=>{if(y.value._value){const p=n(y.value,m);u.push([p[0],p[1]])}});u.length>0&&a.push(o({items:u},m.col))}else if(typeof l=="object"&&l.items){const u={title:l.title,items:l.outputFormat==="object"?{}:[],col:l.col||6};l.col&&(u.col=l.col),l.items.forEach((m,c)=>{if(typeof m=="object")if(Array.isArray(m)){const h={};for(const y of m){const p=r(e,y),v=p?`${p}.${y}`:y;findMatchingNotations(e,v).forEach(g=>{if(g.value){const f=g.value._title,C=g.value._value;C&&(h[f]=C)}})}Object.keys(h).length>0&&(l.nested?u.items[i(c)]=h:Object.assign(u.items,h))}else{const h=m.pattern;if(h.startsWith("regex:")){const y=findMatchingNotations(e,h),p={};y.forEach(v=>{v.value&&v.value._value&&(m.simpleValue?p[v.key]=v.value._value:p[v.value._title]=v.value._value)}),Object.keys(p).length>0&&(l.nested?u.items[i(c)]=p:Object.assign(u.items,p))}else{const y=r(e,h);if(Array.isArray(y))y.forEach((p,v)=>{findMatchingNotations(e,h).forEach(g=>{var C;const f=(C=e.find(k=>k.content))==null?void 0:C[g.key];if(f&&f._value)if(m.simpleValue)l.nested?u.items[i(v)]=f._value:u.items[`content_${v+1}`]=f._value;else{const k={[f._title]:f._value};l.nested?u.items[i(v)]=k:Object.assign(u.items,k)}})});else{const p=m.pattern,v=r(e,p),V=v?`${v}.${p}`:p;findMatchingNotations(e,V).forEach(f=>{if(f.value&&f.value._value)if(m.simpleValue)l.nested?u.items[i(c)]=f.value._value:u.items=f.value._value;else{const C={[f.value._title]:f.value._value};l.nested?u.items[i(c)]=C:Object.assign(u.items,C)}})}}}else{const h=r(e,m),y=h?`${h}.${m}`:m,p=findMatchingNotations(e,y);l.outputFormat==="object"?p.forEach(v=>{if(v.value._value){const V=v.value._value;l.nested?u.items[i(c)]={[v.value._title]:V}:u.items[v.value._title]=V}}):p.forEach(v=>{v.value._value&&u.items.push([v.value._value])})}}),(Array.isArray(u.items)&&u.items.length>0||!Array.isArray(u.items)&&Object.keys(u.items).length>0)&&a.push(o(u,l.col))}return a},formattedSummary=(e,t)=>{let a={};for(const n in t){const r=t[n],o=findMatchingNotations(e,n);a[n]=Object.assign({},r,{values:o})}return a},test=()=>{};function replacePatternInObject(e,t,a){return!e||typeof e!="object"?e:Object.keys(e).reduce((n,r)=>{const o=e[r];return typeof o=="string"?n[r]=o.replace(t,a):Array.isArray(o)?n[r]=o.map(i=>replacePatternInObject(i,t,a)):typeof o=="object"?n[r]=replacePatternInObject(o,t,a):n[r]=o,n},{})}function replaceVariablesFromHaystack(e,t){if(!e||typeof e!="object")return e;const a=/\${([^}]+)}\$/g;return Object.keys(e).reduce((n,r)=>{const o=e[r];return typeof o=="string"?n[r]=o.replace(a,(i,s)=>{let d=s.split("??"),l=d[0].split("|"),u=d[1]??"";for(const m of l)if(t.hasOwnProperty(m))return t[m];return u}):Array.isArray(o)?n[r]=o.map(i=>replaceVariablesFromHaystack(i,t)):typeof o=="object"?n[r]=replaceVariablesFromHaystack(o,t):n[r]=o,n},{})}const NotationUtil={findMatchingNotations,formattedPreview,formattedSummary,test,replacePatternInObject,replaceVariablesFromHaystack};async function formatPrependSchema(e,t,a,n,r=null,o=[]){const i=formatHelpers.getInputToFormat(e,t,a,r);if(!i)return;const s=e.shift(),d=e.shift();let{handlerName:l,handlerSchema:u,handlerValue:m}=formatHelpers.handlers(n,t,r);if(__isObject(m)&&(m=Object.values(m)),!(Array.isArray(m)&&m.length<1)&&m){s&&(m=__data_get(m,s),s.match(/^\*(.*)/)&&(m=lodash.reduce(m,function(p,v){return p=[...v??[],...p],[...new Set(p)]},[])));let c=lodash.get(a,i);if(!c||!c.schema)return;let h=lodash.cloneDeep(c.schema),y=__data_get(u,d);if(y&&__isset(y.schema)){let p=[],v;if(Array.isArray(m)){if(!y.items)return;p=lodash.reduce(m,(b,A)=>(b[A]=lodash.find(y.items,E=>E.id==A),b),{}),m=lodash.reduce(m,(b,A)=>{var E;return b[A]={label_prefix:(E=__data_get(y.items,`*id=${A}.${y.itemTitle}`))==null?void 0:E.shift()},b},{})}let V=lodash.cloneDeep({}),g=lodash.get(a,i+"._prependedKeys",[]),f=[];for(const b in y.schema){__preg_quote(b);for(const A in m){let E=lodash.cloneDeep(y.schema[b]);v=p[A];let N=/(\${[\w]+}\$)/,B=b.replace(N,A);f.push(B),h[B]||(V[B]={...E,name:B},V[B]=replaceVariablesFromHaystack(V[B],v))}}let C=g.filter(b=>!f.includes(b));C.forEach(b=>{delete h[b]});let k=f.filter(b=>!C.includes(b)),w=Object.assign(V,h);JSON.stringify(c.schema)!==JSON.stringify(w)&&(lodash.set(a,i+".schema",w),lodash.set(a,i+"._prependedKeys",k))}}}async function formatPreview(e,t,a,n,r=null,o=[]){if(Array.isArray(t)){let{handlerName:i,handlerSchema:s,handlerValue:d}=formatHelpers.handlers(n,t,r),l=e.shift().split(","),u=(e.shift()??"").split(","),m={},c=[],h=l.length>1,y=!1;for(const p in l){let v=l[p],V=u[p]??null,g=v.split(".");g=lodash.map(g,function(k,w){let b,A=k;return(b=k.match(/\$(\w+)/))&&__isset(d[b[1]])&&(A=d[b[1]]),A}),v=g.join(".");let f,C=V.match(/\*\.?(\w+)/);if(V=="*key")f=Object.keys(d).map(function(k){return parseInt(k)});else if(C){let w=V.match(/\*\.?(\w+)/)[1];f=lodash.map(d,function(b,A){return b[w]})}else f=V?d[V]:d;if(Array.isArray(f))if(p==0){y=f.length<1;let k=v.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,"$1*");m[k]=lodash.map(f,b=>v.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,`$1*id=${b}`));let w=__data_get(s,__wildcard_change(v,f));lodash.each(w,(b,A)=>y?lodash.unset(c,h?`[${A}][${p}]`:`[${A}]`):lodash.set(c,h?`[${A}][${p}]`:`[${A}]`,b))}else{let k;Object.keys(m).forEach(w=>{let b=__preg_quote(w),A=new RegExp(String.raw`^(${b}).([\w\$\.\*]+)`),E=v.match(A);if(E)return k=m[w],v=E[2],!1}),lodash.each(f,(w,b)=>{if(w){if(Array.isArray(w)&&lodash.isEmpty(w))return;let A=k[b];Array.isArray(w)&&w.join(",");let E=[A,__wildcard_change(v,w)].join("."),N=__data_get(s,E).shift();if(!N){console.warn("formatPreview error",{getter:E,inputToFormat:v,data:N,handlerSchema:s});return}let B=N[0]??"";p>1&&Array.isArray(N)&&(B=`(${N.join(", ")})`),lodash.set(c,h?`[${b}][${p}]`:`[${p}]`,B)}})}}o[r]||(o[r]={}),y?lodash.unset(o[r],i):o[r][i]=c;return}}async function formatRemoveValue(e,t,a,n,r=null,o=[]){const i=formatHelpers.getInputToFormat(e,t,a,r);if(!i)return;let{handlerName:s,handlerSchema:d,handlerValue:l}=formatHelpers.handlers(n,t,r);__isObject(l)&&(l=Object.values(l));let u=lodash.get(t,i);if(Array.isArray(u)&&u.length>0)u=u.filter(m=>m.id!==l),lodash.set(t,i,u);else if(window.__isObject(u)&&Object.keys(u).length>0){let m=Object.keys(u);m=m.map(h=>window.__isString(h)&&parseInt(h)>0?parseInt(h):h);let c=m.filter(h=>!l.includes(h));c.forEach(h=>{delete u[h]}),c.length>0&&lodash.set(t,i,u)}}async function formatResetItems(e,t,a,n,r=null,o=[]){const i=formatHelpers.getInputToFormat(e,t,a,r);if(!i)return;formatHelpers.handlers(n,t,r),lodash.get(a,i);let s=[];lodash.set(a,i+".items",s)}async function formatSet(e,t,a,n,r=null,o=[]){const i=formatHelpers.getInputToFormat(e,t,a,r),s=getTranslationLanguages();if(!i)return;const d=i,l=e.shift(),u=`${i}.${l}`,m=e.shift();let{handlerName:c,handlerSchema:h,handlerValue:y}=formatHelpers.handlers(n,t,r);if(!(Array.isArray(y)&&y.length<1)&&y){let p=formatHelpers.getNewValue(m,y,h);if(p!=null)if(l.match(/^(modelValue|model)$/g)){let V=lodash.get(a,d),g=V.name,f=__extractForeignKey(g),C=V.schema??null,k=V.type=="input-repeater",w=Array.isArray(p);if(__isset(V.translated)&&V.translated){let b=notation.split("."),A=b.pop(),E=b.join(".")+".translations";notation.split(".").pop();let N=__data_get(h,E).shift();N&&(p=lodash.reduce(s,(B,T)=>{let S=lodash.find(N,I=>I.locale==T)??N[0];return S[A],B[T]=S[A]??null,B},{}))}if(w&&p.length>0){let b=p.map(A=>{if(C)return lodash.reduce(C,(E,N,B)=>(k&&B==f?E[f]=A.id??null:E[B]=A[B]??null,E),{})});lodash.set(t,d,b)}else if(!w)try{lodash.set(t,g,p)}catch(b){console.error(b)}}else{let V=lodash.get(a,u),g=store.getters[CACHE.GET_LAST_CACHE](u)??V;lodash.isString(p)&&p=="#"?p=g:p!==V&&store.commit(CACHE.PUSH_CACHE,{key:u,value:V}),lodash.set(a,u,p),l.match(/schema/)&&lodash.set(a,`${i}.default`,getModel(p))}}}async function formatToggleInput(e,t,a,n,r=null,o=[]){const i=formatHelpers.getInputToFormat(e,t,a,r);if(!i)return;const s=e.shift()??"items.*.toggleValue";let d=e.shift()??"-1";d=parseInt(d)??-1;let{handlerName:l,handlerSchema:u,handlerValue:m}=formatHelpers.handlers(n,t,r);if(m==null)return;let c=formatHelpers.getNewValue(s,m,u);if(c!=null&&lodash.isBoolean(c)){let h=c;const y=__data_get(a,i);let p=`formatToggleInput:${i}`;handleToggleInput(h,i,y,a,p,d)}}const toggleActivateOperations={class:"d-none",rawRules:"#"},toggleDeactivateOperations={class:"d-none",rawRules:""},handleToggleInput=(e,t,a,n,r,o=-1,i=0)=>{i+=1,e?lodash.each(toggleActivateOperations,(s,d)=>{let l=t+"."+d,u=t+"._cached-"+d,m=r?`${r}:${d}`:`${d}`,c=lodash.get(n,l),h=store.getters[CACHE.GET_LAST_CACHE](m)||lodash.get(n,u)||null,y=c,p=!1;if(s==="#")h&&(y=h,p=!0);else switch(d){case"class":let v=c?c.split(" "):[];v=v.filter(V=>V!==s),y=v.join(" "),p=!0;break;case"rawRules":y=s,p=!0;break}p&&(h==null&&store.commit(CACHE.PUSH_CACHE,{key:m,value:c}),lodash.set(n,l,y))}):lodash.each(toggleDeactivateOperations,(s,d)=>{let l=t+"."+d,u=t+"._cached-"+d,m=r?`${r}:${d}`:`${d}`,c=lodash.get(n,l),h=store.getters[CACHE.GET_LAST_CACHE](m)||lodash.get(n,u)||null,y=c,p=!1;if(s==="#")h&&(y=h,p=!0);else switch(d){case"class":let v=c?c.split(" "):[];v.push(s),v=lodash.uniq(v),y=v.join(" "),p=!0;break;case"rawRules":y=s,p=!0;break}p&&(h==null&&store.commit(CACHE.PUSH_CACHE,{key:m,value:c}),lodash.set(n,l,y))}),!(o>-1&&o<=i)&&a.schema&&lodash.isObject(a.schema)&&lodash.each(a.schema,(s,d)=>{handleToggleInput(e,`${t}.schema.${d}`,s,n,r,o,i)})},FormEventFormatters={formatClearModel,formatFilter,formatLock,formatPermalink,formatPermalinkPrefix,formatPrependSchema,formatPreview,formatRemoveValue,formatResetItems,formatSet,formatToggleInput},setSchemaInputField=(e,t)=>{var a;for(const n in e){const r=e[n],o=r.cascadeKey??"items";if(r.type==="select"&&Object.prototype.hasOwnProperty.call(r,"cascade")){if(n.includes("repeater"))break;__isset(e[r.cascade])&&(e[r.cascade][o]=((a=lodash.find(r[o],[r.itemValue,t[r.name]]))==null?void 0:a[o])??[])}}},onInputEventFormData=(e,t,a,n,r)=>{var o;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const i=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,s=e.schema.cascadeKey??"items",d=e.schema.itemValue??"id";t[i][s]=((o=lodash.find(e.schema[s],[d,r[e.key]]))==null?void 0:o.schema)??[];const l=lodash.findIndex(n,["key",i]);a[i]=t[i][s].length>0?t[i][s][0].value:[],n[l].value=r[i],onInputEventFormData(n[l],t,a,n,r)}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")},handleInputEvents=(e=null,t,a,n=null)=>{const r=t,o=t[n],i=a[n],s=Array.isArray(o)&&o.length>0||!Array.isArray(o)&&!!o;return e&&e.split("|").forEach(l=>{var h;const[u,m,c]=l.split(":");switch(u){case"formatPermalink":s&&(r[m]=filters.slugify(o));break;case"formatPermalinkPrefix":if(["select","combobox"].includes(i.type)&&o&&s){const y=filters.slugify(i.items.find(p=>p[i.itemValue]===o)[i.itemTitle]);a[m??"slug"].prefix=a[m??"slug"].prefixFormat.replace(":"+c,y)}else if(["text"].includes(i.type)&&s){const y=filters.slugify(o),[p,v]=m.split(".");a[p].schema[v??"slug"].prefix=a[p].schema[v??"slug"].prefixFormat.replace(":"+c,y)}break;case"formatLock":if(["select","combobox"].includes(i.type)&&o){const y=(h=i.items.find(p=>p[i.itemValue]===o))==null?void 0:h[c];a[m].disabled=!!y,a[m].focused=!!y,a[m].placeHolder=y}else if(["text"].includes(i.type)&&o){const y=o,[p,v]=m.split(".");a[p].schema[v].disabled=!!y,a[p].schema[v].focused=!!y,a[p].schema[v].placeHolder=y}break}}),{_fields:r,moduleSchema:a}},handleEvents=(e,t,a,n=!1)=>{const r=a.name;t[r];const o=e[r];Array.isArray(o)&&o.length>0||Array.isArray(o),a.event&&lodash.uniq(a.event.split("|")).forEach(s=>{let d=s.split(":"),l=d.shift(),u=!0;l=="formatSetx"&&!n&&(u=!1),u&&typeof FormEventFormatters[l]<"u"&&(FormEventFormatters==null||FormEventFormatters[l](d,e,t,a))})},handleMultiFormEvents=(e,t,a,n,r=[])=>{const o=a.name;t[n][o]??lodash.get(t,`[${n}].${o}`);const i=e[n][o]??lodash.get(e,`[${n}].${o}`);Array.isArray(i)&&i.length>0||Array.isArray(i),a.event&&lodash.uniq(a.event.split("|")).forEach(d=>{let l=d.split(":"),u=l.shift();typeof FormEventFormatters[u]<"u"&&(FormEventFormatters==null||FormEventFormatters[u](l,e,t,a,n,r))})},formEvents={setSchemaInputField,onInputEventFormData,handleInputEvents,handleEvents,handleMultiFormEvents},getNestedValue=(e,t)=>t.split(".").reduce((a,n)=>a&&a[n]!==void 0?a[n]:void 0,e),checkItemConditions=(e,t)=>!t||!window.__isObject(t)||!e||!Array.isArray(e)||e.length===0?!0:e.every(a=>{const[n,r,o]=a;let i=getNestedValue(t,n);switch([">","<",">=","<=","=","=="].includes(r)&&Array.isArray(i)&&(i=i.length),r){case"=":case"==":return i===o;case"!=":return i!==o;case">":return i>o;case"<":return i<o;case">=":return i>=o;case"<=":return i<=o;case"in":return Array.isArray(o)&&o.includes(i);case"not in":return Array.isArray(o)&&!o.includes(i);case"exists":return i!=null;case"not exists":return i==null;default:return console.warn(`Unknown operator: ${r}`),!1}}),isArrayable="input-treeview|treeview|input-checklist|input-repeater|input-file|input-image",getSchema=(e,t=null,a=!1)=>{let n=lodash.omitBy(e,(r,o)=>!checkItemConditions(r.conditions,t)||Object.prototype.hasOwnProperty.call(r,"slotable")||isFormEventInput(r)||isViewOnlyInput(r));return n=lodash.reduce(n,(r,o,i)=>{var u,m;o.col.class=o._originalClass||((u=o.col)==null?void 0:u.class)||[],o._originalClass=o.col.class||[],o.disabled=__isset(o._originalDisabled)?o._originalDisabled:__isset(o.disabled)?o.disabled:!1,o._originalDisabled=o.disabled;let s=((m=o.col)==null?void 0:m.class)||[];__isString(s)&&(s=s.split(" "));let d=o.creatable,l=o.editable;return(d===!1||d==="hidden")&&!a&&(d==="hidden"?(s=lodash.union(s,["d-none"]),o.col.class=s.join(" ")):o.disabled=!0),(l===!1||l==="hidden")&&a&&(l==="hidden"?(s=lodash.union(s,["d-none"]),o.col.class=s.join(" ")):o.disabled=!0),__isset(o)&&__isset(o.schema)&&["wrap","group","repeater","input-repeater"].includes(o.type)&&(o.schema=getSchema(o.schema,o.type==="wrap"?t:t[i],a)),r[i]=o,r},{}),lodash.map(n,(r,o)=>(__isset(r.type)&&r.type=="group"&&(r.schema=flattenGroupSchema(r.schema,r.name)),handleInputEvents(r.event,t,e,o),r)),n},getModel=(e,t=null,a=null)=>{const n=getTranslationLanguages(),r=__isset(t);e=processInputs(e);const o=Object.keys(e).reduce((i,s)=>{const d=e[s],l=d.name,u=Object.prototype.hasOwnProperty.call(d,"translated")&&d.translated;let m="";isArrayable.includes(d.type)&&(m=[]),m=Object.prototype.hasOwnProperty.call(d,"default")?d.default:m,d.type=="group"&&(m=getModel(d.schema,t??d.default)),u&&(m=lodash.reduce(n,function(y,p,v){return y[p]=m,y},{}));let c=l.replace(/->/g,"."),h=r?__isset(i[l])?i[l]:__data_get(t,c,m)??m:m;if(r&&d.type=="group"&&__isset(t[l])){let y=Object.keys(lodash.omit(__dot(m),["id"]));JSON.stringify(y)!==JSON.stringify(Object.keys(lodash.omit(__dot(t[l]),["id"])))&&(h={...m,...lodash.pick(t[l],y)})}if(__isObject(d))if(u)r?Object.prototype.hasOwnProperty.call(t,"translations")&&t.translations[l]?i[l]=n.reduce(function(p,v){return p[v]=lodash.find(t.translations,{locale:v})?lodash.find(t.translations,{locale:v})[l]:t.translations[l][v],p},{}):i[l]=h:i[l]=getTranslationLanguages().reduce(function(y,p){return y[p]=__isset(h[p])?h[p]:"",y},{});else if(!h&&r&&Object.prototype.hasOwnProperty.call(t,"translations")&&Object.prototype.hasOwnProperty.call(t.translations,l)){const y=Object.keys(t.translations[l])[0];i[l]=t.translations[l][y]}else i[l]=h;return handleEvents(i,e,d),i},{});return r&&(o.id=t.id),o},getFormEventSchema=(e,t=null,a=!1)=>lodash.filter(e,n=>a&&__isset(n.editable)&&(n.editable===!1||n.editable==="hidden")||!a&&__isset(n.creatable)&&(n.creatable===!1||n.creatable==="hidden")?!1:isFormEventInput(n)&&(n.conditions?checkItemConditions(n.conditions,t):!0)),getSubmitFormData=(e,t=null,a=null)=>{e=processInputs(e);const n="input-treeview|treeview|input-checklist",r=Object.keys(e).reduce((o,i)=>{if(window.__isset(e[i].noSubmit)&&e[i].noSubmit)return o;const s=e[i],d=s.name,l=__data_get(t,d,void 0);if(!__isset(l)){let u=s.default??"";return n.includes(s.type)&&(u=[]),o[d]=u,o}return __isObject(s)&&(Object.prototype.hasOwnProperty.call(s,"translated")&&s.translated?o[d]=window.MODULARITY.STORE.languages.all.reduce(function(u,m){return __isObject(l)?u[m.value]=__isset(l[m.value])?l[m.value]:"":u[m.value]=l,u},{}):o[d]=t[d]),o},{});return t.id&&(r.id=t.id),r};function useTableItem(e,t){const a=useStore(),n=computed(()=>a.state.form.editedItem??{}),r=computed(()=>s(n.value)),o=d=>{a.commit(FORM.SET_EDITED_ITEM,d)},i=()=>{nextTick(()=>{a.commit(FORM.RESET_EDITED_ITEM)})},s=d=>!!(__isset(d.deleted_at)&&d.deleted_at);return{editedItem:n,isSoftDeletableItem:r,setEditedItem:o,resetEditedItem:i,isSoftDeletable:s}}const makeTableNamesProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},subtitle:{type:String,default:""}});function useTableNames(e,t){const a=useStore(),{t:n,te:r}=useI18n({useScope:"global"}),{editedItem:o,isSoftDeletableItem:i}=useTableItem(),{snakeName:s,permissionName:d,transNameSingular:l,transNamePlural:u}=useModule(e),m=computed(()=>n(`modules.${s}`,a.getters.totalElements)),c=computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:u.value)),h=computed(()=>__isset(e.subtitle)?n(e.subtitle):""),y=computed(()=>{const v=t.editedIndex.value===-1?"fields.new-item":"fields.edit-item";return n(v,{item:l.value})}),p=computed(()=>{const v=i.value?"fields.confirm-soft-deletion":"fields.confirm-deletion",V=o.value[e.titleKey]?lodash.isObject(o.value[e.titleKey])?o.value[e.titleKey][a.state.user.locale]:o.value[e.titleKey]:"";return n(v,{route:l.value,name:V.toLocaleUpperCase()})});return{snakeName:s,permissionName:d,transNameSingular:l,transNamePlural:u,transNameCountable:m,tableTitle:c,tableSubtitle:h,formTitle:y,deleteQuestion:p}}const makeTableFiltersProps=propsFactory({hideSearchField:{type:Boolean,default:!1},navActive:{type:String,default:"all"},filterBtnOptions:{type:Object,default:{}},searchInitialValue:{type:String,default:""},filterList:{type:Array,default:[]},filterListAdvanced:{type:Object,default:{}}});function useTableFilters(e){var V;const{lastParameters:t,queryParameters:a}=useTableState(),n=ref(t.search??e.searchInitialValue??""),r=ref(n.value),o=ref(e.filterList??[]);let i=((V=t.filter)==null?void 0:V.status)??e.navActive??"all";o.value.length>0&&!lodash.find(o.value,{slug:i})&&(i="all");const s=ref(i),d=computed(()=>lodash.find(o.value,{slug:s.value})),l=computed(()=>{var g,f;return{text:`${(g=d.value)==null?void 0:g.name} (${(f=d.value)==null?void 0:f.number})`}}),u=g=>{let f=g??r.value;return n.value!==f?(n.value=f,!0):!1},m=g=>s.value!==g?(s.value=g,!0):!1,c=g=>{o.value=g},h=g=>{lodash.isEqual(y.value,g)||(y.value=g)},y=ref(e.filterListAdvanced??{}),p=computed(()=>Object.keys(y.value).reduce((g,f,C)=>(y.value[f].reduce((k,w)=>{var b;return((b=w.selecteds)==null?void 0:b.length)>0&&(k[f]||(k[f]={}),k[f][w.slug]=w.selecteds),k},g),g),{}));return{activeFilterSlug:s,activeFilter:d,mainFilters:o,search:n,searchModel:r,activeAdvancedFilters:p,advancedFilters:y,filterBtnTitle:l,setSearchValue:u,setFilterSlug:m,setMainFilters:c,setAdvancedFilters:h,clearAdvancedFilter:()=>{y.value=Object.fromEntries(Object.entries(y.value).map(([g,f])=>(y.value[g]=[],f.map(C=>C.selecteds=[]),[g,f])))}}}const makeTableHeadersProps=propsFactory({columns:{type:Array},hideHeaders:{type:Boolean,default:!1},headerOptions:{type:[Array,Object],default:{}},cellOptions:{type:[Array,Object],default:{}},customRow:{type:Object,default:{}}});function useTableHeaders(e){const t=()=>`table_unvisible_columns_${window.location.pathname}`;let n=(()=>{const h=localStorage.getItem(t());return h?h.split(","):[]})();const r=e.columns??[],o=ref(r.filter(h=>!n.includes(h.key))),i=ref(lodash.cloneDeep(r.map(h=>({...h,visible:!n.includes(h.key)})))),s=ref(!!lodash.find(o.value,h=>window.__isset(h.searchable)&&h.searchable===!0)),d=computed(()=>o.value.filter(h=>!!h.visible&&h.visible===!0)),l=computed(()=>Object.keys(e.customRow||{}).length>0),u=computed(()=>e.hideHeaders||l.value),m=computed(()=>r.filter(h=>h.hasOwnProperty("isColumnEditable")&&h.isColumnEditable===!0));return{headers:o,headersModel:i,hasSearchableHeader:s,selectedHeaders:d,hideHeaders:u,hasCustomRow:l,editableColumns:m,applyHeaders:()=>{o.value=lodash.cloneDeep(i.value);const h=i.value.filter((y,p)=>!y.visible);localStorage.setItem(t(),h.map(y=>y.key).join(","))}}}const makeTableFormsProps=propsFactory({inputFields:{type:Array},formWidth:{type:[String,Number],default:"60%"},createOnModal:{type:Boolean,default:!0},editOnModal:{type:Boolean,default:!0},embeddedForm:{type:Boolean,default:!1},addBtnOptions:{type:Object,default:()=>({})},noForm:{type:Boolean,default:!1},formActions:{type:[Array,Object],default:[]}});function useTableForms(e,t){const a=useStore(),{t:n}=useI18n({useScope:"global"}),{setEditedItem:r,resetEditedItem:o,editedItem:i}=useTableItem(),s=ref(null),d=ref(!1),l=ref(!1),u=ref({}),m=ref({}),c=ref({}),h=reactive({UeForm:s,formActive:d,customFormModalActive:l,customFormAttributes:u,customFormSchema:m,customFormModel:c}),y=computed(()=>e.inputFields??a.state.datatable.inputs??[]),p=computed(()=>state.id+"-form"),v=computed(()=>({width:e.formWidth})),V=computed(()=>a.state.form.loading??!1),g=computed(()=>a.state.form.errors??{}),f=computed(()=>{var E;return((E=s.value)==null?void 0:E.validModel)??null}),C=computed(()=>e.createOnModal||e.editOnModal?e.addBtnOptions.text?n(e.addBtnOptions.text):n("fields.add-item",{item:t.transNameSingular.value}):e.addBtnOptions.text??n("ADD NEW")),k=()=>{d.value=!0},w=()=>{d.value=!1},b=()=>{o(),k()},A=()=>{s.value.submit(null,E=>{Object.prototype.hasOwnProperty.call(E,"variant")&&E.variant.toLowerCase()==="success"&&(w(),t.loadItems())})};return watch$1(()=>d.value,E=>{E||o()}),{...toRefs(h),inputs:y,formRef:p,formStyles:v,formLoading:V,formErrors:g,formIsValid:f,addBtnTitle:C,openForm:k,closeForm:w,createForm:b,confirmFormModal:A}}const component$1="FORM",api$1={get(e,t,a){axios$1.get(e).then(function(n){t&&typeof t=="function"&&t(n)},function(n){globalError$1(component$1,{message:"Get request error.",value:n}),a&&typeof a=="function"&&a(n)})},post(e,t,a,n){axios$1.post(e,t,{validateStatus:r=>r>=200&&r<300||r===422}).then(function(r){a&&typeof a=="function"&&a(r)}).catch(function(r){globalError$1(component$1,{message:"Post request error.",value:r}),n&&typeof n=="function"&&n(r.response)})},put(e,t,a,n){e.replace(":id",t.id),axios$1.put(e,t,{validateStatus:r=>r>=200&&r<300||r===422}).then(function(r){a&&typeof a=="function"&&a(r)}).catch(function(r){globalError$1(component$1,{message:"Put request error.",value:r}),n&&typeof n=="function"&&n(r.response)})}},makeTableItemActionsProps=propsFactory({isRowEditing:Boolean,rowActionsIcon:{type:String,default:"mdi-cog-outline"},rowActions:{type:Array,default:[]},rowActionsType:{type:String,default:"inline"},iteratorType:{type:String,default:""}});function useTableItemActions(e,{tableForms:t}){const a=useTableItem(),n=useTableNames(e),{can:r}=useAuthorization(),{smAndDown:o,mdAndDown:i,lgAndDown:s}=useDisplay(),d=reactive({event:null,payload:null,reset:()=>{d.event=null,d.payload=null}}),l=(b,A)=>{let E=!0;switch(A.name){case"edit":case"delete":case"switch":case"duplicate":case"activate":E=!a.isSoftDeletable(b)&&r(A.name,n.permissionName.value);break;case"forceDelete":case"restore":E=a.isSoftDeletable(b)&&r(A.name,n.permissionName.value);break}return E&&checkItemConditions(A.conditions,b)},u=(b,A)=>{let E=A.url??A.endpoint??A.href;if(E)if(E.includes(":id")&&(E=E.replace(":id",b.id)),A.hasDialog){const N=async(B,T)=>{window.open(E,A.target??"_self")};d.event="dialog",d.payload={description:A.dialogQuestion??null,callback:N}}else window.open(E,A.target??"_self")},m=b=>{if(e.editOnModal||e.embeddedForm)a.setEditedItem(b),t.openForm();else if(lodash.isObject(e.endpoints)&&e.endpoints.edit){const A=e.endpoints.edit.replace(":id",b.id);window.open(A)}else console.error("No edit endpoint found in endpoints of props")},c=b=>{a.setEditedItem(b);const A="restore",E=async(N,B)=>await api$2[A](e.endpoints[A],b.id,N,B);d.event="process",d.payload={type:A,item:b,callback:E}},h=b=>{a.setEditedItem(lodash.omit(b,"id")),t.openForm()},y=(b,A,E)=>{const N="publish",B=async(T,S)=>{let I={id:b.id,[E]:A};return await api$1.put(e.endpoints.update.replace(":id",b.id),I,T,S)};b[E]=A,d.event="process",d.payload={type:N,item:b,callback:B}},p=b=>{a.setEditedItem(b);let A=a.editedItem.value.id,E=a.isSoftDeletableItem.value?"forceDelete":"delete";const N=async(B,T)=>E==="forceDelete"?await api$2.forceDelete(e.endpoints.forceDelete,A,B,T):await api$2.delete(e.endpoints.destroy,A,B,T);d.event="dialog",d.payload={type:E,id:A,callback:N}},v=b=>{const A=b.name,E=async(N,B,T)=>{let S=lodash.camelCase(A);if(api$2[S])return await api$2[S](e.endpoints[S],N,B,T)};d.event="dialog",d.payload={type:A,callback:E}},V=(b,A)=>{if(t.customFormSchema.value=lodash.cloneDeep(b.form.attributes.schema),t.customFormAttributes.value=lodash.cloneDeep(b.form.attributes),b.form.hasOwnProperty("model_formatter"))for(let E in b.form.model_formatter){let N=lodash.get(A,b.form.model_formatter[E],"");lodash.set(t.customFormModel.value,E,N)}if(b.form.hasOwnProperty("schema_formatter"))for(let E in b.form.schema_formatter){let N=lodash.get(A,b.form.schema_formatter[E],"");lodash.set(t.customFormAttributes.value.schema,E,N)}t.customFormModalActive.value=!0,d.event="showCustomForm",d.payload={action:b,item:A}},g=(b,A=null)=>{if(!A)return b;if(Array.isArray(b))b=b.map(E=>g(E,A));else if(__isObject(b)){if(Array.isArray(A))A.forEach(E=>{__data_get(b,E,null)});else if(__isObject(A)){let E={};Object.keys(A).forEach(N=>{let B=A[N],T=__data_get(b,N,null);E[B]=T}),b=lodash.cloneDeep(E)}}return b},f=(b,A=null)=>{if(!A)return b;if(Array.isArray(b))b=b.map(E=>f(E,A));else if(__isObject(b)&&Array.isArray(A)){let E=lodash.cloneDeep(b);A.forEach(N=>{__data_get(b,N,null),delete E[N]}),b=lodash.cloneDeep(E)}return b},C=(b,A)=>{let E=null;b.show===!0?E=A:E=__data_get(A,b.show,null),E&&(b.only?E=g(E,b==null?void 0:b.only):b.except&&(E=f(E,b==null?void 0:b.except)),d.event="showData",d.payload={action:b,data:E})},k=(b=null,A=null,...E)=>{const N=__isString(A)?{name:A}:A;switch(N.name){case"edit":m(b);break;case"delete":case"forceDelete":p(b);break;case"restore":c(b);break;case"duplicate":h(b);break;case"link":window.open(N.url.replace(":id",b.id),"_blank");break;case"switch":y(b,E[0],E[1]);break;case"activate":state.activeTableItem=lodash.find(state.elements,{id:b.id});break;case"bulkDelete":case"bulkForceDelete":case"bulkRestore":case"bulkPublish":v(N);break;default:u(b,N);break}N.form&&V(N,b),N.show&&C(N,b)},w=reactive({actionShowingType:computed(()=>{const b=A=>A>7?s.value:A>4?i.value:o.value;return e.rowActionsType==="dropdown"||b(e.rowActions.length)?"dropdown":"inline"})});return{...toRefs(w),itemAction:k,itemHasAction:l,actionEvents:d}}const makeTableModalsProps=propsFactory({openCustomModal:{type:Boolean,default:!1}});function useTableModals(e,t){const a=useStore(),{t:n}=useI18n({useScope:"global"}),r=useTableItem(),o=useTableNames(e),i=ref(!1),s=ref(e.openCustomModal),d=ref(!1),l=ref("custom"),u=ref(null),m=ref(null),c=computed(()=>C.value[l.value]),h=()=>{s.value=!0},y=()=>{s.value=!1},p=()=>{a._state.data.datatable.customModal&&__removeQueryParams(["customModal[description]","customModal[color]","customModal[icon]","customModal[hideModalCancel]"])},v=k=>{l.value=k},V=()=>{C.custom.confirmText="",C.custom.cancelText="",C.custom.img="",C.custom.icon="",C.custom.iconSize=null,C.custom.title="",C.custom.color=""},g=async k=>{const w=lodash.camelCase(k.name);api$2[w]&&api$2[w](e.endpoints[w],r.editedItem.value.id,()=>{})},f=computed(()=>{var k;return n("confirm-action",{route:o.transNameSingular.value,action:n(((k=u.value)==null?void 0:k.name)??"")})}),C=ref({dialog:{ref:ref(null),active:!1,modalAttributes:{title:null,description:null,transition:"dialog-bottom-transition",widthType:"md",fullscreen:!1,persistent:!1,confirmText:n("Confirm"),cancelText:n("Cancel"),confirmClosing:!1,rejectClosing:!0,confirmCallback:null,rejectCallback:null},_oldModalAttributes:{},toggle(k=null){this.active=k??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},setConfirmCallback(k){k&&typeof k=="function"&&(this._oldModalAttributes.confirmCallback=this.modalAttributes.confirmCallback,this.modalAttributes.confirmCallback=k)},setRejectCallback(k){k&&typeof k=="function"&&(this._oldModalAttributes.rejectCallback=this.modalAttributes.rejectCallback,this.modalAttributes.rejectCallback=k)},setQuestion(k){this._oldModalAttributes.description=this.modalAttributes.description,this.modalAttributes.description=k},setTitle(k){this._oldModalAttributes.title=this.modalAttributes.title,this.modalAttributes.title=k},set(k){let w=Object.keys(k).reduce((A,E)=>(A[E]=k[E],A),{}),b=lodash.reduce(w,(A,E,N)=>{var B;return A[N]=E,(B=this._oldModalAttributes)[N]??(B[N]=lodash.cloneDeep(this.modalAttributes[N])),A},{});Object.assign(this.modalAttributes,b)},reset(){const k=this;lodash.each(this._oldModalAttributes,(w,b)=>{k.modalAttributes[b]=w}),this._oldModalAttributes={}}},custom:{content:computed(()=>a._state.data.datatable.customModal.description),confirmText:"Done",cancelText:" ",img:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-1024.png",icon:computed(()=>a._state.data.datatable.customModal.icon),iconSize:72,title:"Payment Complete",color:"success",closeAction(){y(),V()},confirmAction(){y(),V()}},show:{ref:ref(null),active:!1,data:null,transition:"dialog-bottom-transition",widthType:"lg",fullscreen:!1,persistent:!1,title:n("Display Details"),confirmText:n("Confirm"),cancelText:n("Cancel"),_old:{},toggle(k=null){this.active=k??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},set(k){let w=Object.keys(k).reduce((A,E)=>(this[E]!==void 0&&!["active","ref","data","_old"].includes(E)&&(A[E]=k[E]),A),{}),b=lodash.reduce(w,(A,E,N)=>(A[N]=E,this._old[N]=lodash.cloneDeep(this[N]),A),{});Object.assign(this,b)},loadData(k){this.data=k},resetData(){this.data=null},cancel(){this.toggle(!1),this.reset()},confirm(){},reset(){this.resetData(),lodash.each(this._old,(k,w)=>{this[w]=k}),this._old={}}}});return watch$1(()=>C.value.show.active,k=>{k||C.value.show.reset()}),onMounted(()=>{p()}),{deleteModalActive:i,customModalActive:s,actionModalActive:d,selectedAction:u,deleteModal:m,activeModal:c,modals:C,actionDialogQuestion:f,openCustomModal:h,closeCustomModal:y,cleanupModals:p,setModalType:v,bulkAction:g}}const makeTableIteratorProps=propsFactory({item:{type:Object,default:{}},headers:{type:Object,default:{}},iteratorOptions:{type:Object,default:{}},rowActions:{type:Array,default:[]}}),tableIterableEmits=["click-action","edit-item"];function useTableIterator(e,t){const a=reactive({id:Math.ceil(Math.random()*1e6)+" -iterator",headersWithKeys:computed(()=>{let o={};return Object.values(e.headers).forEach((i,s)=>{o[i.key]=i}),o})}),n=useFormatter(e,t,e.headers),r=reactive({canItemAction:function(o){return __isset(o.can)&&o.can,!0},isSoftDeletable(o){return!!(__isset(o.deleted_at)&&o.deleted_at)},itemHasAction:function(o,i){let s=!0;switch(i.name){case"edit":r.isSoftDeletable(o)?s=!1:s=s=r.canItemAction(i);break;case"delete":r.isSoftDeletable(o)?s=!1:s=r.canItemAction(i);break;case"forceDelete":r.isSoftDeletable(o)?s=r.canItemAction(i):s=!1;break;case"restore":r.isSoftDeletable(o)?s=r.canItemAction(i):s=!1;break;case"duplicate":r.isSoftDeletable(o)&&(s=!1);break;case"switch":r.isSoftDeletable(o)&&(s=!1);break;case"activate":r.isSoftDeletable(o)&&(s=!1);break}return s},itemAction:(o,i)=>t.emit("click-action",o,i),editItem:o=>{t.emit("edit-item",o)}});return{...toRefs(r),...toRefs(a),...n}}const makeTableActionsProps=propsFactory({actionsPosition:{type:String,default:"top"},actions:{type:Array,default:()=>[]}});function useTableActions(e,t){return{}}function useTableState(e,t){const n=`table_filters_${window.location.pathname}`,r=()=>{const d=new URL(window.location.href),l=Object.fromEntries(d.searchParams.entries());return Object.keys(l).forEach(u=>{const m=l[u];try{l[u]=JSON.parse(m)}catch{l[u]=m}}),l},o=()=>{const d=localStorage.getItem(n),l=r();return{...d?JSON.parse(d):{},...l}},i=d=>{const l=new URL(window.location.href),u=Object.fromEntries(l.searchParams.entries()),m=[];Object.keys(d).forEach(c=>{Object.prototype.hasOwnProperty.call(u,c)&&m.push(c)}),m.length>0&&removeQueryKeys(m),localStorage.setItem(n,JSON.stringify(d))},s=reactive({lastParameters:o(),queryParameters:r()});return{getLastParameters:o,setLastParameters:i,...s}}const makeTableProps=propsFactory({fillHeight:{type:Boolean,default:!1},items:{type:Array},total:{type:Number,default:null},hideFooter:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!1},defaultTableOptions:{type:Object,default:()=>({itemsPerPage:10,page:1,search:"",sortBy:[],groupBy:[]})},tableOptions:{type:Object},tableClasses:{type:[String,Array],default:""},iteratorType:{type:String,default:""},slots:{type:Object,default(){return{}}},nestedData:{type:Object,default(){return{}}},striped:Boolean,hideBorderRow:Boolean,roundedRows:Boolean,fullWidthWrapper:{type:Boolean,default:!1},noFullScreen:{type:Boolean,default:!1},tableDensity:{type:String,default:"comfortable"},toolbarOptions:{type:Object,default:{}},bulkActions:{type:[Array,Object],default:[]},paginationOptions:{type:[Array,Object],default:{}},formAttributes:{type:Object,default:{}},formModalAttributes:{type:Object,default:{}},showSelect:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},controlsPosition:{type:String,default:"top"},disableSort:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!0},multiSort:{type:Boolean,default:!1},isModuleTable:{type:Boolean,default:!1},endpoints:{type:Object,default:{}}});function useTable(e,t){const a=useStore(),{smAndDown:n}=useDisplay(),{t:r,te:o,tm:i}=useI18n({useScope:"global"}),s=ref(-1);let d=ref(e.items??[]);const l=computed(()=>e.endpoints.index.replace(/\/$/,"").split("?")[0]===window.location.href.replace(/\/$/,"").split("?")[0]),{setLastParameters:u,lastParameters:m}=useTableState(),c=ref(null),h=ref(!1),y=ref(lodash.pick({...e.defaultTableOptions??{},...e.tableOptions??{},...l.value?m:{}},["itemsPerPage","page","sortBy","groupBy","search"])),p=ref(e.total??-1);computed(()=>Math.ceil(p.value/y.value.itemsPerPage));const v=I=>{d.value=I},V=I=>{d.value=d.value.push(I)},g=I=>{p.value=I.resource.total,w.setMainFilters(I.mainFilters),B.enableInfiniteScroll?V(I.resource.data):v(I.resource.data)},f=async(I=null)=>{B.loading=!0;const M={...I??y.value,replaceUrl:!1};w.search.value!==""&&(M.search=w.search.value),w.activeFilterSlug.value!=="all"&&(M.filter={...M.filter??{},status:w.activeFilterSlug.value}),lodash.isEmpty(w.activeAdvancedFilters.value)||(M.filter={...M.filter??{},...w.activeAdvancedFilters.value}),lodash.isObject(e.endpoints)&&e.endpoints.index?await api$2.get(e.endpoints.index,M,function(x){l.value&&u(M),g(x),B.loading=!1},function(x){B.loading=!1,console.error(x)}):console.error("No index endpoint found in endpoints of props")},C=useTableItem(),k=useTableNames(e,{editedIndex:s}),w=useTableFilters(e),b=useTableHeaders(e),A=useTableForms(e,{...t,...k,loadItems:f}),E=useTableModals(e),N=useTableItemActions(e,{...t,tableForms:A}),B=reactive({id:Math.ceil(Math.random()*1e6)+"-table",isStoreTable:l,hideTable:!1,searchPlaceholder:r("Type to Search"),fillHeight:computed(()=>e.fillHeight),enableCustomFooter:computed(()=>e.paginationOptions.footerComponent==="vuePagination"),footerProps:computed(()=>{const I=e.paginationOptions.footerProps;return B.enableInfiniteScroll?{"hide-default-footer":!0}:I}),windowSize:{x:0,y:0},mobileTableLayout:computed(()=>n.value),loading:h,totalNumberOfElements:p,options:y,elements:d,editedIndex:s,selectedItems:[],activeTableItem:null,activeItemConfiguration:null,enableInfiniteScroll:computed(()=>e.paginationOptions.footerComponent==="infiniteScroll"&&p.value>d.value.length),draggableItems:computed(()=>B.elements.reduce((M,x,F)=>{const z={type:"item",key:F+1,value:x.id,index:F,selectable:e.showSelect,columns:b.headers.value.reduce((D,O)=>(D[O.key]=x[O.key],D),{})};return M[F]=z,M},[]))}),T=reactive({onResize(){e.noFullScreen||(B.windowSize={x:window.innerWidth,y:window.innerHeight})},onIntersect(I,M,x){I&&M[0].intersectionRatio===1&&T.goNextPage()},initialize:function(){f()},goNextPage(){B.options.page<numberOfPages.value&&(B.options.page+=1)},goPreviousPage(){B.options.page>1&&(B.options.page-=1)},changeOptions(I){lodash.isEqual(I,B.options)||(B.options=I)},setEditedItem:C.setEditedItem,resetEditedItem:C.resetEditedItem,sortElements(I){lodash.isObject(e.endpoints)&&e.endpoints.reorder?api$2.reorder(e.endpoints.reorder,I.map(M=>M.id),function(M){M.status===200&&(I.forEach((x,F)=>x.position=F+1),B.elements=I)}):console.error("No reorder endpoint found in endpoints of props")},hydrateNestedData:function(I,M){const x=/\$([A-Za-z]+)/;for(const F in M)if(__isString(M[F])){const z=M[F].match(x);if(z){const D=z[1];B.snakeName===D?(M[F]=getSubmitFormData(M.schema,I,a.state),M.actionUrl&&(M.actionUrl=M.actionUrl.replace(`:${D}`,M[F].id))):I[D]&&(M[F]=getSubmitFormData(M.schema,I[D],a.state),M.actionUrl&&(M.actionUrl=M.actionUrl.replace(`:${D}`,M[F].id)))}}else(Array.isArray(M[F])||lodash.isObject(M[F]))&&(M[F]=T.hydrateNestedData(I,M[F]));return M},searchItems(I){w.setSearchValue()&&f()},changeFilter(I){w.setFilterSlug(I)&&(y.value.page=1,f())},changeAdvancedFilter(I){y.value.page=1,f()},resetAdvancedFilter(){w.clearAdvancedFilter(),y.value.page=1,f()},handleFormActionComplete(I){const M=I.action;I.response,M.type==="request"&&f(),M.type==="modal"&&f()}});watch$1(()=>C.editedItem.value,(I,M)=>{B.editedIndex=B.elements.findIndex(x=>x.id===I.id)}),watch$1(()=>B.activeTableItem,(I,M)=>{I&&(B.activeItemConfiguration=T.hydrateNestedData(I,JSON.parse(JSON.stringify(e.nestedData))))},{deep:!0}),watch$1(()=>B.options,(I,M)=>{f()},{deep:!0}),watch$1(()=>B.elements,(I,M)=>{if(B.editedIndex>-1){let x=I[B.editedIndex];C.setEditedItem(x)}},{deep:!0}),watch$1(()=>N.actionEvents.event,I=>{if(I){const M=N.actionEvents.payload;let x=[],F=!1,z=!1,D=!1,O=!0;switch(I){case"dialog":if(M.callback&&typeof M.callback=="function"){F=E.modals.value.dialog;const $={confirmClosing:!1};switch(M.type){case"delete":case"forceDelete":$.description=k.deleteQuestion.value;break;case"bulkPublish":case"bulkDelete":case"bulkRestore":case"bulkDestroy":x.push(B.selectedItems);const U=`fields.confirm-${lodash.kebabCase(M.type)}`;$.description=r(U,{count:B.selectedItems.length,route:k.transNamePlural.value});break;default:$.description=M.description??r("Are you sure you want to perform this action?");break}E.modals.value.dialog.set($)}break;case"process":M.callback&&typeof M.callback=="function"&&(z=!0),M.type==="publish"&&(O=!1,D=!0);break;case"showCustomForm":A.customFormModalActive.value=!0;break;case"showData":E.modals.value.show.loadData(M.data),E.modals.value.show.set(M.action),E.modals.value.show.open();break}let P=$=>{if($.status===200){if($.data.variant&&$.data.message&&a.dispatch(ACTIONS.SHOW_ALERT,$.data),f(),F)try{F.close(),F.reset()}catch{}O&&(C.resetEditedItem(),B.selectedItems=[]),D&&M.item&&C.setEditedItem(M.item)}};z&&(x.push(P),M.callback(...x)),F&&(x.push(P),F.setConfirmCallback(()=>M.callback(...x)),F.open()),N.actionEvents.reset()}},{immediate:!0});const S=useFormatter(e,t,b.headers.value);return{form:c,...useTableActions(),...toRefs(B),...toRefs(T),...k,...w,...b,...A,...N,...E,...S}}const makeModelValueProps=propsFactory({modelValue:[String,Number,Object,Boolean]}),makeActiveTableItemProps=propsFactory({...makeModelValueProps(),tableHeaders:{type:Array,default:[]},itemData:{type:Object,default(){return{}}}});function useActiveTableItem(e,t){const a=useProxiedModel(e,"modelValue"),n=computed({get:()=>a.value,set:i=>{a.value=i}}),r=reactive({modalOpened:!1,modalActive:!1,modalStatus:computed(()=>r.modalOpened&&!!n.value),activeKey:null,activeBlock:computed(()=>r.activeKey?e.itemData[r.activeKey]:null),items:computed(()=>n.value?[n.value]:[])}),o=reactive({selectNested:function(i){r.activeKey=i,t.emit("toggle",!0)},clickOutside:function(i){n.value=null,r.activeKey=null},closeItemDetails:function(i=""){r.modalActive=!0,r.activeKey=null,t.emit("toggle",!1)}});return watch$1(()=>n.value,(i,s)=>{r.modalActive=!!i&&i!==s}),watch$1(()=>r.activeKey,(i,s)=>{i&&(r.modalActive=!1)}),watch$1(()=>e.itemData,(i,s)=>{}),{item:n,...toRefs(r),...toRefs(o)}}function useValidation(e){const{valid:t}=toRefs(e),a=reactive({validModel:(t==null?void 0:t.value)??null}),n=reactive({minRule:(d,l)=>u=>!!u&&u.length>=d||l||`min. ${d} ${Array.isArray(u)?"Selections":"Characters"}`,maxRule:(d,l)=>u=>!!u&&u.length<=d||l||`max. ${d} ${Array.isArray(u)?"Selections":"Characters"}`,emailRule:(d={},l)=>u=>{if(!u)return!0;const{allowedDomains:m=[],blockedDomains:c=[],allowSubdomains:h=!0,minLength:y=3,maxLength:p=254,strict:v=!1}=d;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u))return l||"Invalid email format";if(v&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(u))return l||"Email contains invalid characters";const[g,f]=u.split("@");if(g.length<y)return l||`Email username must be at least ${y} characters`;if(u.length>p)return l||`Email cannot exceed ${p} characters`;if(m.length>0){const w=f.toLowerCase();if(!m.some(A=>h?w.endsWith(A.toLowerCase()):w===A.toLowerCase()))return l||`Email domain must be one of: ${m.join(", ")}`}if(c.length>0){const w=f.toLowerCase();if(c.some(A=>h?w.endsWith(A.toLowerCase()):w===A.toLowerCase()))return l||"Email domain not allowed"}const C={gmial:"gmail",gmal:"gmail",gamil:"gmail",yaho:"yahoo",ymail:"yahoo",hotmal:"hotmail",hotnail:"hotmail",outloo:"outlook"},k=f.split(".")[0].toLowerCase();return C[k]?l||`Did you mean ${C[k]}?`:!0},requiredRule:(d="classic",l=1,u,m)=>c=>{switch(d){case"classic":return!!c||m||"Required";case"array":case"object":u=u??-1;let h=l==u||u<0?`Requires exactly ${l} items`:`Requires at least ${l}${u!=1/0&&u!=null?", and maximum of:"+u:""}) elements`;return Array.isArray(c)?c.length>=l&&(u<0||c.length<=u)||m||h:__isObject(c)?Object.keys(c).length>=l&&(u<0||Object.keys(c).length<=u)||m||h:c==null?m||"Must select at least one item":"dev error: nsupported value type";default:return"dev error: unknown rule type"}},arrayRule:d=>l=>Array.isArray(l)||d||"Value must be array",numberRule:d=>l=>!isNaN(parseFloat(l))&&isFinite(l)||d||"Must be a valid number",integerRule:d=>l=>Number.isInteger(Number(l))||d||"Must be an integer",minValueRule:(d,l)=>u=>!u||Number(u)>=d||l||`Must be at least ${d}`,maxValueRule:(d,l)=>u=>!u||Number(u)<=d||l||`Must not exceed ${d}`,phoneRule:d=>l=>!l||/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(l)||d||"Invalid phone number",urlRule:d=>l=>!l||/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(l)||d||"Invalid URL",alphaRule:d=>l=>!l||/^[A-Za-z]+$/.test(l)||d||"Only letters allowed",alphaNumRule:d=>l=>!l||/^[A-Za-z0-9]+$/.test(l)||d||"Only letters and numbers allowed",passwordRule:(d=8,l)=>u=>!u||/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{${minLength},}$/.test(u)||l||`Password must be at least ${d} characters, contain at least one letter and one number`,strongPasswordRule:(d=8,l)=>u=>!u||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{${minLength},}$/.test(u)||l||`Password must be at least ${d} characters, contain uppercase, lowercase, number and special character`,dateRule:d=>l=>!l||!isNaN(Date.parse(l))||d||"Invalid date format",futureDateRule:(d=0,l="days",u)=>m=>{if(!m)return!0;const c=new Date,h=new Date(c);switch(l.toLowerCase()){case"minutes":h.setMinutes(c.getMinutes()+d);break;case"hours":h.setHours(c.getHours()+d);break;case"days":h.setDate(c.getDate()+d);break;case"months":h.setMonth(c.getMonth()+d);break;case"years":h.setFullYear(c.getFullYear()+d);break;default:h.setDate(c.getDate()+d)}return new Date(m)>=h||u||`Date must be at least ${d} ${l} in the future`},pastDateRule:(d=0,l="days",u)=>m=>{if(!m)return!0;const c=new Date,h=new Date(c);switch(l.toLowerCase()){case"minutes":h.setMinutes(c.getMinutes()-d);break;case"hours":h.setHours(c.getHours()-d);break;case"days":h.setDate(c.getDate()-d);break;case"months":h.setMonth(c.getMonth()-d);break;case"years":h.setFullYear(c.getFullYear()-d);break;default:h.setDate(c.getDate()-d)}return new Date(m)<=h||u||`Date must be at least ${d} ${l} in the past`},zipCodeRule:d=>l=>!l||/^\d{5}(-\d{4})?$/.test(l)||d||"Invalid ZIP code",ipAddressRule:d=>l=>!l||/^(\d{1,3}\.){3}\d{1,3}$/.test(l)||d||"Invalid IP address",fileTypeRule:(d,l)=>u=>{if(!u||!u.type)return!0;const m=Array.isArray(d)?d:[d];return m.includes(u.type)||l||`File type must be: ${m.join(", ")}`},fileSizeRule:(d,l)=>u=>!u||!u.size?!0:u.size<=d||l||`File size must not exceed ${d/1024/1024}MB`,equalsRule:(d,l)=>u=>u===d||l||`Must equal ${d}`,notEqualsRule:(d,l)=>u=>u!==d||l||`Must not equal ${d}`,matchesRule:(d,l)=>(u,m)=>u===m[d]||l||`Must match ${d}`,betweenRule:(d,l,u)=>m=>{if(!m)return!0;const c=Number(m);return c>=d&&c<=l||u||`Must be between ${d} and ${l}`},notBetweenRule:(d,l,u)=>m=>{if(!m)return!0;const c=Number(m);return c<d||c>l||u||`Must not be between ${d} and ${l}`},containsRule:(d,l)=>u=>!u||u.includes(d)||l||`Must contain "${d}"`,notContainsRule:(d,l)=>u=>!u||!u.includes(d)||l||`Must not contain "${d}"`,startsWithRule:(d,l)=>u=>!u||u.startsWith(d)||l||`Must start with "${d}"`,endsWithRule:(d,l)=>u=>!u||u.endsWith(d)||l||`Must end with "${d}"`,patternRule:(d,l)=>u=>!u||d.test(u)||l||"Invalid format",customFormatRule:(d,l)=>u=>{if(!u)return!0;const m={creditCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13})$/,ssn:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,rgb:/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,isbn:/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/},c=Array.isArray(d)?d:[d];return c.every(h=>m[h].test(u))||l||`Invalid ${c.join(" and ")} format`},uniqueRule:d=>l=>Array.isArray(l)?l.length===new Set(l).size||d||"Must contain unique values":!0,includesAnyRule:(d,l)=>u=>Array.isArray(u)?d.some(m=>u.includes(m))||l||`Must include at least one of: ${d.join(", ")}`:!0,includesAllRule:(d,l)=>u=>Array.isArray(u)?d.every(m=>u.includes(m))||l||`Must include all of: ${d.join(", ")}`:!0,whenRule:(d,l,u=[])=>(m,c)=>((typeof d=="function"?d(c):d)?l:u).every(y=>y(m,c)===!0)||"Conditional validation failed",dependentRule:(d,l,u)=>(m,c)=>c[d]?l.every(h=>h(m,c)===!0)||u||`Invalid based on ${d}`:!0,generateInputRules:r,validateInput:o});function r(d){let l=[];if(Object.prototype.hasOwnProperty.call(d,"rules")){let u=d.rawRules??d.rules,m;window.__isString(u)?m=u.split("|"):m=u,m.forEach((c,h)=>{window.__isString(c)&&(c=c.split(":"));const y=c[0]+"Rule";Object.prototype.hasOwnProperty.call(n,y)&&l.push(n[y](...c.slice(1)))})}return l}function o(d,l){let u=r(d),m=!0;for(const c in u){let h=u[c](l);if(h!==!0){m=h;break}}return m}function i(d){let l=cloneDeep(d),u=cloneDeep(d);return Object.prototype.hasOwnProperty.call(u,"rules")&&(l.rawRules=__isset(l.rawRules)?l.rawRules:u.rules,window.__isString(l.rawRules)?u.rules=l.rawRules.split("|"):u.rules=l.rawRules,l.rules=[],u.rules.forEach((m,c)=>{window.__isString(m)&&(m=m.split(":"));const h=m[0]+"Rule";Object.prototype.hasOwnProperty.call(n,h)&&l.rules.push(n[h](...m.slice(1)))})),__isset(l.schema)&&(l.schema=s(l.schema)),__isset(d.rawRules)||(l.rules=[],l.rawRules=""),l}function s(d){const l=cloneDeep(d);return __isObject(l)&&Object.keys(l).forEach(u=>{Object.prototype.hasOwnProperty.call(l[u],"rules")&&(d[u].rawRules=__isset(d[u].rawRules)?d[u].rawRules:l[u].rules,window.__isString(d[u].rawRules)?l[u].rules=d[u].rawRules.split("|"):l[u].rules=d[u].rawRules,d[u].rules=[],l[u].rules.forEach((m,c)=>{window.__isString(m)&&(m=m.split(":"));const h=m[0]+"Rule";Object.prototype.hasOwnProperty.call(n,h)&&d[u].rules.push(n[h](...m.slice(1)))})),__isset(d[u].schema)&&(d[u].schema=s(d[u].schema))}),d}return watch$1(()=>a.valid,(d,l)=>{}),{invokeRule:i,invokeRuleGenerator:s,...toRefs(n),...toRefs(a)}}const htmlClasses={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"},defaultWidths={xs:"320px",sm:"480px",md:"720px",lg:"1080px",xl:"1600px"},makeModalProps$1=propsFactory({modelValue:{type:Boolean},useModelValue:{type:Boolean,default:!0},title:{type:String,default:null},hasCloseButton:{type:Boolean,default:!1},hasFullscreenButton:{type:Boolean,default:!1},hasTitleDivider:{type:Boolean,default:!1},noDefaultBodyPadding:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},noCancelButton:{type:Boolean,default:!1},noConfirmButton:{type:Boolean,default:!1},description:{type:String,default:null},transition:{type:String,default:"bottom",values:["dialog-transition","dialog-bottom-transition","dialog-top-transition","fade-transition","scale-transition","slide-x-transition","slide-y-transition","slide-x-reverse-transition","slide-y-reverse-transition","scroll-x-transition","scroll-y-transition"]},widthType:{type:String,default:"md",validator:e=>Object.prototype.hasOwnProperty.call(defaultWidths,e)},hasSystembar:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},confirmCallback:{type:Function},rejectCallback:{type:Function},rejectLoading:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},rejectButtonAttributes:{type:Object,default:()=>({color:"error",variant:"outlined"})},confirmButtonAttributes:{type:Object,default:()=>({color:"success",variant:"elevated"})},confirmClosing:{type:Boolean,default:!0},rejectClosing:{type:Boolean,default:!0}}),makeModalMediaProps=propsFactory({modalTitlePrefix:{type:String,default:function(e){return useI18n().t("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return useI18n().t("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}}});function useModal(e,t){const{modelValue:a}=toRefs(e),n=ref(e.fullscreen),r=ref(!1),o=reactive({modalClass:htmlClasses.modal,width:e.widthType,full:n,dialog:computed({get:()=>e.useModelValue?a.value??!1:r.value,set:s=>{e.useModelValue?i.emitModelValue(s):r.value=s}}),togglePersistent:computed(()=>e.persistent),toggleScrollable:computed(()=>e.scrollable),modalWidth:computed(()=>e.widthType&&!n.value?defaultWidths[e.widthType]:null)}),i=reactive({emitModelValue:function(s){t.emit("update:modelValue",s)},emitOpened:function(){t.emit("opened",o.dialog)},clickOutside:function(s){t.emit("click:outside",s)},openModal:function(){return o.dialog=!0,o.dialog},closeModal:function(){return o.dialog=!1,o.dialog},toggleModal:function(){return o.dialog=!o.dialog,o.dialog}});return{...toRefs(i),...toRefs(o)}}const makeDraggableProps=propsFactory({draggable:{type:Boolean,default:!1},orderKey:{type:String,default:"position"}});function useDraggable(e,t){const a=reactive({animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30,dragOptions:computed(()=>({disabled:!e.draggable,animation:a.animation}))}),n=reactive({});return{...toRefs(n),...toRefs(a)}}const makeRepeaterProps=propsFactory({...makeInputProps(),modelValue:{type:Array,default:[]},max:{type:Number,default:-1},min:{type:Number,default:-1},label:{type:String,default:""},subtitle:{type:String},singularLabel:{type:String},schema:{type:Object,default:()=>{}},rowAttribute:{type:Object,default(){return{noGutters:!1}}},formRowAttribute:{type:Object,default(){return{noGutters:!1,class:"ml-12"}}},noAddButton:{type:Boolean,default:!1},addButtonText:{type:String,default(){return useI18n().t("ADD NEW")}},hasButtonLabel:{type:Boolean,default:!1},withGutter:{type:Boolean,default:!1},autoIdGenerator:{type:Boolean,default:!0},noHeaders:{type:Boolean,default:!1},isUnique:{type:Boolean,default:!1},uniqueValue:{type:String,default:"id"},uniqueField:{type:String,default:null},disableAddButton:{type:Boolean,default:!0},formCol:{type:Object,default:()=>({cols:12})},idResetter:{type:String,default:null}});function useRepeater(e,t){const a=useStore(),{invokeRuleGenerator:n}=useValidation(e),r=useInput(e,t),o=ref(e.schema),i=computed(()=>e.noHeaders?cloneDeep(o.value??{}):reduce(cloneDeep(o.value??{}),(w,b,A)=>(w[A]=omit(b,["label"]),w),{})),{modelValue:s}=toRefs(e),d=e.isUnique,l=e.uniqueValue,u=ref([]),m=computed(()=>d&&window.__isset(o.value)&&Object.keys(o.value).length>0?e.uniqueField??Object.values(o.value)[0].name:null),c=computed(()=>d&&window.__isset(o.value)&&Object.keys(o.value).length>0?o.value[m.value]:null);function h(w,b){const A=`repeater${r.id.value}`;return new RegExp(`^${A}\\[${w}\\]`).test(b)?b:`${A}[${w}][${b}]`}function y(w,b){const A=getModel(i.value,w),E={};return e.draggable&&!A[e.orderKey]&&(E[e.orderKey]=b+1),{...e.autoIdGenerator?{id:b}:{},...transform(omit(A,[]),(N,B,T)=>{N[h(b,T)]=B}),...E}}function p(w){return w.map((b,A)=>y(b,A))}function v(w){const b=[];return w.forEach((A,E)=>{const N=cloneDeep(i.value);if(d&&N[m.value]){const S=V(w[E])[m.value];N[m.value].items=c.value.items.filter(I=>!(u.value.includes(I[l])&&S!==I[l]))}const B=n(N);b[E]=transform(B,(T,S,I)=>{const M=cloneDeep(S),x=h(E,S.name);M.name=x,T[x]=M}),Object.keys(b[E]).forEach(T=>{var I;const S=b[E][T];if(Object.prototype.hasOwnProperty.call(S,"cascade")){const M=h(E,S.cascade);b[E][M][S.cascadeKey]=((I=find(S.items,[S.itemValue,A[T]]))==null?void 0:I.schema)??[]}})}),b}function V(w,b){const A=/\[(.*?)\]/gi,E={};return e.draggable&&(E[e.orderKey]=b+1),{...transform(w,(N,B,T)=>{const S=T.match(A);if(S){const I=S.map(M=>M.replace(A,"$1"));N[I.pop()]=B}}),...E}}function g(w){return w.map((b,A)=>V(b,A))}const f=computed({get:()=>{if(isEmpty(o.value))return[];const w=p(Array.isArray(s.value)?s.value:[]);if(w.length>0){const b=g(w).map(A=>{const E=e.autoIdGenerator?["id"]:[];return omit(A,E)});JSON.stringify(s.value)!==JSON.stringify(b)&&b.forEach((A,E)=>{s.value[E]=A})}return d&&(u.value=reduce(cloneDeep(w),(b,A)=>{const E=V(A);return m.value&&E[m.value]&&b.push(E[m.value]),b},[])),w},set:(w,b)=>{r.updateModelValue.value(g(w))}}),C=reactive({repeaterModels:f,repeaterSchemas:computed(()=>v(f.value)),totalRepeats:computed(()=>C.repeaterModels.length),hasRepeaterModels:computed(()=>C.repeaterModels.length>0),isRemainingAddible:computed(()=>!d||C.totalRepeats<c.value.items.length&&C.totalRepeats<c.value.items.filter(w=>w[l]>0).length),isAddible:computed(()=>(e.max<1||C.totalRepeats<e.max)&&C.isRemainingAddible),isDeletable:computed(()=>e.min<1||C.totalRepeats>e.min),addButtonIsActive:computed(()=>!e.disableAddButton||C.isAddible),selectFieldSlots:computed(()=>{const w=[];return filter(o.value,function(b,A){return Object.prototype.hasOwnProperty.call(b,"slots")&&Object.keys(b.slots).length>0}).forEach((b,A)=>{const E=cloneDeep(b);C.repeaterModels.forEach((N,B)=>{const T=[];for(const S in E.slots)T.push({inputName:h(B,E.name),name:S,context:E.slots[S]});w.push(T)})}),w}),headers:reduce(o.value??[],(w,b)=>(["hidden"].includes(b.type)||w.push({title:b.label||__headline(b.name),col:b.col}),w),[]),addButtonContent:computed(()=>e.addButtonText+(e.hasButtonLabel&&__isset(e.singularLabel)?` ${e.singularLabel}`:""))}),k=reactive({onUpdateRepeaterModel(w,b){const A=V(w,b);s.value[b]&&JSON.stringify(s.value[b])!==JSON.stringify(A)&&e.idResetter&&s.value[b][e.idResetter]&&s.value[b][e.idResetter]!==A[e.idResetter]&&delete A.id,s.value[b]=A},onUpdateRepeaterSchema(w,b){const A=V(w,b);Object.keys(o.value).forEach(N=>{o.value[N]=Object.assign({},o.value[N],omit(A[N],["name"]))})},onHoverContent(w){},addRepeaterBlock:function(){if(C.isAddible){const w=n(cloneDeep(o.value));s.value.push(y(getModel(w),C.totalRepeats))}else{let w=`You cannot add new item, because the number of elements should be at much ${e.max}`;C.isRemainingAddible||(w="You cannot add new item, because there are no more items to add"),a.commit(ALERT.SET_ALERT,{message:w,variant:"warning",location:"top"})}},deleteRepeaterBlock:function(w){if(C.isDeletable){const b=g(C.repeaterModels);b.splice(w,1),C.repeaterModels=p(b)}else a.commit(ALERT.SET_ALERT,{message:`You cannot delete, because the number of elements should be at least ${e.min}`,variant:"warning",location:"top"})},duplicateRepeaterBlock:function(w){if(C.isAddible){const b=g(C.repeaterModels);b.push(b[w]),C.repeaterModels=p(b)}else a.commit(ALERT.SET_ALERT,{message:`You cannot add new item, because the number of elements should be at much ${e.max}`,variant:"warning",location:"top"})}});return{...toRefs(k),...toRefs(C),invokeRuleGenerator:n,...r}}const mapGetters=()=>{const e=useStore();return Object.fromEntries(Object.keys(e.getters).map(t=>[t,computed(()=>e.getters[t])]))},makeFileProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default(){return useI18n().t("File")}},endpoint:{type:String,default:""},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useFile(e,t){const a=useStore(),n=useInput(e,t),{modelValue:r,obj:o}=toRefs(e),i=mapGetters(),{t:s}=useI18n({useScope:"global"}),d=reactive({mediableActive:!1,handle:".item__handle",addLabel:computed(()=>s("ADD")+" "+e.itemLabel),items:computed({get:()=>a.state.mediaLibrary.selected.hasOwnProperty(e.name)?a.state.mediaLibrary.selected[e.name]||[]:[],set:(u,m)=>{}}),input_:computed({get:()=>r.value??[],set:(u,m)=>{n.updateModelValue.value(u)}}),input:r.value??[],isDraggable:computed(()=>e.draggable&&d.input.length>1),remainingItems:computed(()=>e.max-d.input.length),itemsIds:computed(()=>i.selectedItemsByIds.value[e.name]?i.selectedItemsByIds.value[e.name].join():"")}),l=reactive({deleteAll:function(u){d.input=[]},deleteItem:function(u){d.input.splice(u,1)}});return watch$1(()=>a.state.mediaLibrary.selected[e.name],(u,m)=>{a.state.mediaLibrary.isInserted&&d.mediableActive&&(d.mediableActive=!1,a.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),d.input=u)},{deep:!0}),watch$1(()=>d.input,(u,m)=>{n.updateModelValue.value(u)},{deep:!0}),watch$1(()=>r.value,(u,m)=>{d.input=u},{deep:!0}),{...n,...toRefs(l),...toRefs(d)}}const makeImageProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"image"},itemLabel:{type:String,default(){return useI18n().t("Image")}},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default(){return useI18n().t("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useImage(e,t){const a=useStore(),n=useInput(e,t),{modelValue:r,obj:o}=toRefs(e),i=mapGetters(),{t:s}=useI18n({useScope:"global"}),d=reactive({mediableActive:!0,handle:".item__handle",addLabel:computed(()=>s("ADD",{item:e.itemLabel})),items:computed({get:()=>a.state.mediaLibrary.selected.hasOwnProperty(e.name)?a.state.mediaLibrary.selected[e.name]||[]:[],set:(u,m)=>{}}),input_:computed({get:()=>r.value??[],set:(u,m)=>{n.updateModelValue.value(u)}}),input:r.value??[],isDraggable:computed(()=>e.draggable&&d.input.length>1),remainingItems:computed(()=>e.max-d.input.length),itemsIds:computed(()=>i.selectedItemsByIds.value[e.name]?i.selectedItemsByIds.value[e.name].join():"")}),l=reactive({deleteAll:function(u){d.input=[]},deleteItem:function(u){d.input.splice(u,1)}});return watch$1(()=>a.state.mediaLibrary.selected[e.name],(u,m)=>{window.__isset(a.state.mediaLibrary.selected[e.name])&&a.state.mediaLibrary.isInserted&&d.mediableActive&&(d.mediableActive=!1,a.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),d.input=u)},{deep:!0}),watch$1(()=>d.input,(u,m)=>{n.updateModelValue.value(u)},{deep:!0}),watch$1(()=>r.value,(u,m)=>{d.input=u},{deep:!0}),watch$1(()=>d.error,(u,m)=>{}),{...n,...toRefs(l),...toRefs(d)}}function useSidebar(){const{lgAndUp:e,xlAndUp:t}=useDisplay();ref(!1);const a=ref("#profile"),n=useStore(),r=ref(null),o=reactive({navigationDrawer:r,open:[],activeMenu:computed({get(){return a.value},set(s){a.value=s}}),status:computed({get(){return n.state.config.sidebarStatus},set(s){n.commit(CONFIG.SET_SIDEBAR,s)}}),options:n.state.config.sidebarOptions,width:computed(()=>t.value?320:o.options.width||264),hideIcons:computed(()=>!o.rail&&o.options.hideIcons),railManual:!1,rail:computed(()=>(o.options.rail||o.railManual)&&e.value),hasRail:computed(()=>o.options.rail),isHoverable:computed(()=>(e.value||o.rail)&&o.options.expandOnHover),secondaryOptions:n.state.config.secondarySidebarOptions,profileMenu:n.state.config.profileMenu,socialMediaLinks:[["mdi-twitter",""],["mdi-linkedin",""],["mdi-facebook",""],["mdi-instagram",""]]}),i=reactive({handleProfile(s){s.type==="mouseenter"&&o.profileMenu.expandOnHover&&o.open.push("User")},handleMenu(s){o.activeMenu=`#${s}`}});return watch$1(e,()=>{}),onMounted(()=>{}),{...toRefs(o),...toRefs(i)}}function useCurrencyNumber(e,t){const a=useStore(),{inputRef:n,formattedValue:r,numberValue:o,setValue:i}=useCurrencyInput({currency:"EUR",locale:a.state.language.active.value,autoDecimalDigits:!0,precision:2,currencyDisplay:"hidden",hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,valueRange:{min:0}}),s=reactive({inputRef:n,formattedValue:r,numberValue:o});return watch$1(()=>e.modelValue,d=>{i(d)}),{...toRefs(s)}}const makeModuleProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},fillHeight:{type:Boolean,default:!1},slots:{type:Object,default(){return{}}},noFullScreen:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},items:{type:Array,default:[]}});function useModule(e,t){const{t:a,te:n}=useI18n({useScope:"global"});ref(!1),onMounted(()=>{});const r=reactive({snakeName:lodash.snakeCase(e.name),permissionName:lodash.kebabCase(e.name),transNameSingular:computed(()=>n("modules."+r.snakeName,0)?a("modules."+r.snakeName,0):e.name),transNamePlural:computed(()=>a("modules."+r.snakeName,1)),moduleTitle:computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:r.transNamePlural)),windowSize:{x:0,y:0},elements:e.items,searchPlaceholder:a("Type to Search"),searchModel:""}),o=reactive({onResize(){r.windowSize={x:window.innerWidth,y:window.innerHeight}}});return{...toRefs(r),...toRefs(o)}}function useLocale(){const e=useStore(),t=reactive({currentLocale:computed(()=>e.state.language.active),languages:computed(()=>e.state.language.all),locales:computed(()=>e.state.language.all),displayedLocale:computed(()=>e.state.language.active.shortlabel)}),a=reactive({updateLocale:function(n){e.commit(LANGUAGE.UPDATE_LANG,n)}});return{...toRefs(t),...toRefs(a)}}function useItemActions(e,t){const a=useStore(),{castMatch:n}=useFormatter(e),r=lodash.cloneDeep(e.actions),o=t.actionItem||t.item||t.editedItem||e.item||e.editedItem,i=g=>{if(!g.source||!g.find||!g.return)return g;const f=o[g.source];if(!Array.isArray(f))return;const[C,k]=g.find,w=f.find(b=>b[C]===k);return w?w[g.return]:void 0},s=(g,f)=>{var w;if(!f){console.error("Endpoint not specified for request action");return}const C=((w=g.method)==null?void 0:w.toLowerCase())||"post";if(!api$1[C]){console.error("Invalid request method:",C);return}const k={};for(const[b,A]of Object.entries(g.params))if(typeof A=="object"&&A!==null){const E=i(A);if(E===void 0){console.error(`Could not resolve parameter value for ${b}`);return}k[b]=E}else k[b]=A;api$1[C](f,k,b=>{b.data.message&&a.commit(ALERT.SET_ALERT,{message:b.data.message,variant:b.data.variant}),t.emit("actionComplete",{action:g,response:b})},b=>{var A;a.commit(ALERT.SET_ALERT,{message:((A=b.data)==null?void 0:A.message)||"Action failed",variant:"error"})})},d=(g,f)=>{a.commit("SET_MODAL",{show:!0,title:g.label,component:"ue-form",props:{schema:g.schema,actionUrl:f,async:!0},on:{success:C=>{a.commit(ALERT.SET_ALERT,{message:C.message||"Action completed successfully",variant:"success"}),t.emit("action-complete",{action:g,response:C})}}})},l=g=>{if(!g){console.error("Endpoint not specified for blank action");return}window.open(g,"_blank")},u=g=>{if(!g){console.error("Endpoint not specified for download action");return}const f=document.createElement("a");f.href=g,f.target="_blank",document.body.appendChild(f),f.click(),document.body.removeChild(f)},m=g=>{if(!o)return!0;const f=e.isEditing?g.editable:g.creatable;return!g.conditions||!f?f:f&&checkItemConditions(g.conditions,o)},c=g=>g.map(f=>(o&&Object.keys(f).forEach(C=>{C==="badge"&&(f[C]=n.value(f[C],o))}),m(f)||(f.disabled=!0),f)),h=ref(window.__isObject(r)?Object.values(r):r),y=computed(()=>c(h.value)),p=computed(()=>y.value.filter(g=>!(window.__isset(g.disabled)&&g.disabled))),v=reactive({hasActions:computed(()=>y.value.length>0),hasVisibleActions:computed(()=>p.value.length>0),allActions:y,visibleActions:p}),V=reactive({shouldShowAction:m,handleAction(g){var C;if(!g.type){console.warn("Action type not specified:",g);return}const f=(C=g.endpoint)==null?void 0:C.replace(":id",o.id);switch(g.type){case"request":s(g,f);break;case"modal":d(g,f);break;case"download":u(f);break;case"blank":l(f);break;default:console.warn("Unknown action type:",g.type)}}});return{...toRefs(v),...toRefs(V)}}function useCurrency(e){const{locale:t}=useI18n({useScope:"global"}),a=reactive({formatPrice(n,r){return window.__formatCurrencyPrice(n,r,t.value??t)}});return{...toRefs(a)}}const redirector=(e,t=1e3)=>{Object.prototype.hasOwnProperty.call(e,"redirector")&&(t=Object.prototype.hasOwnProperty.call(e,"timeout")?e.timeout:t,setTimeout(function(a){window.open(a.redirector,Object.prototype.hasOwnProperty.call(a,"target")?a.target:"_self")},t,e))},handleSuccessResponse=e=>{e.status===200&&e.data.modalService&&isObject(e.data.modalService)&&window.$modalService.open(e.data.modalService.component??null,omit(e.data.modalService,["component"]))},handleErrorResponse=e=>{__log(e)},makeFormProps=propsFactory({modelValue:{type:Object},formClass:{type:[Array,String],default:""},actionUrl:{type:String},title:{type:[String,Object]},noTitle:{type:Boolean,default:!1},schema:{type:Object},async:{type:Boolean,default:!0},buttonText:{type:String},hasSubmit:{type:Boolean,default:!1},stickyFrame:{type:Boolean,default:!1},stickyButton:{type:Boolean,default:!1},rowAttribute:{type:Object,default(){return{noGutters:!1,class:"py-4"}}},slots:{type:Object,default(){return{}}},valid:{type:Boolean,default:null},isEditing:{type:Boolean,default:!1},hasDivider:{type:Boolean,default:!1},fillHeight:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},noDefaultFormPadding:{type:Boolean,default:!1},noDefaultSurface:{type:Boolean,default:!1},actions:{type:[Array,Object],default:[]},actionsPosition:{type:String,default:"top",validator(e){return["title-right","title-center","top","middle","bottom","right-top","right-middle","right-bottom"].includes(e)}},rightSlotGap:{type:Number,default:12},pushButtonToBottom:{type:Boolean,default:!1},rightSlotWidth:{type:[Number,String],default:null},rightSlotMinWidth:{type:Number,default:300},rightSlotMaxWidth:{type:Number,default:600},additionalSectionDialogTitle:{type:String,default:"Additional Options"}});function useForm(e,t){const a=useStore(),{t:n,te:r}=useI18n({useScope:"global"}),o=useInputHandlers(),i=useValidation(e),s=useLocale(),d=ref(null),l=Math.ceil(Math.random()*1e6)+"-form",u=l+"-base",m=ref(!!e.modelValue),c=ref(!!e.schema),h=ref(!1),y=ref({}),p=ref(c.value?e.schema:a.state.form.inputs),v=computed(()=>processInputs(p.value)),V=ref(c.value?getModel(p.value):a.getters.defaultItem),g=computed(()=>a.state.form.editedItem),f=ref(getModel(p.value,m.value?e.modelValue:g.value,a.state)),C=computed(()=>m.value?e.modelValue:g.value),k=ref(i.invokeRuleGenerator(getSchema(p.value,{...f.value,...C.value},e.isEditing))),w=ref(getFormEventSchema(p.value,{...f.value,...C.value},e.isEditing)),b=ref(e.actions.length?e.actions.map(()=>!0):[]),A=computed(()=>t.slots.right||t.slots["right.top"]||t.slots["right.bottom"]||t.slots["right.middle"]||["right-top","right-middle","right-bottom"].includes(e.actionsPosition)),E=reactive({id:l,formBaseId:u,VForm:d,issetModel:m,issetSchema:c,model:f,formItem:C,chunkedRawSchema:v,inputSchema:k,formEventSchema:w,extraValids:b,hasStickyFrame:e.stickyFrame||e.stickyButton,manualValidation:!1,buttonDefaultText:computed(()=>e.buttonText?r(e.buttonText)?n(e.buttonText):e.buttonText:n("submit")),serverValid:computed(()=>a.state.form.serverValid??!0),loading:computed(()=>e.actionUrl?h.value:a.state.form.loading),errors:computed(()=>e.actionUrl?y.value:a.state.form.errors),reference:computed(()=>"ref-"+E.id),hasTraslationInputs:computed(()=>getTranslationInputsCount(k.value)>0),hasAdditionalSection:A,showAdditionalSectionDialog:!1}),N=(D=null,O=null)=>{if(e.actionUrl){y.value={},h.value=!0;const P=getSubmitFormData(p.value,E.model,a._state.data),$=Object.prototype.hasOwnProperty.call(P,"id")?"put":"post";api$1[$](e.actionUrl,P,R=>{h.value=!1,Object.prototype.hasOwnProperty.call(R.data,"errors")?(a.commit(FORM.SET_SERVER_VALID,!1),y.value=R.data.errors):Object.prototype.hasOwnProperty.call(R.data,"variant")&&(a.commit(FORM.SET_SERVER_VALID,!1),a.commit(ALERT.SET_ALERT,{message:R.data.message,variant:R.data.variant})),t.emit("submitted",R.data),redirector(R.data),D&&typeof D=="function"&&D(R.data)},R=>{h.value=!1,Object.prototype.hasOwnProperty.call(R.data,"exception")?a.commit(ALERT.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(a.dispatch(ACTIONS.HANDLE_ERRORS,R.response.data),a.commit(ALERT.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),O&&typeof O=="function"&&O(R.data)})}else nextTick(()=>{a.dispatch(ACTIONS.SAVE_FORM,{item:null,callback:D,errorCallback:O})})},B=D=>{D&&D.preventDefault();const O=document.createElement("form");O.method="POST",O.action=e.actionUrl,O.enctype="multipart/form-data";let P=S(E.model);for(const[R,U]of P.entries()){const j=document.createElement("input");j.type="hidden",j.name=R,j.value=U,O.appendChild(j)}const $=document.createElement("input");$.type="hidden",$.name="_token",$.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),O.appendChild($),document.body.appendChild(O),O.submit()},T=D=>{handleEvents(f.value,k.value,D.schema,!0)},S=(D,O="")=>{const P=new FormData;for(const[$,R]of Object.entries(D)){const U=O?`${O}[${$}]`:$;if(R!=null)if(typeof R=="object")if(Array.isArray(R))R.forEach((j,G)=>{if(typeof j=="object"&&j!==null){const q=S(j,`${U}[${G}]`);for(const[K,Y]of q.entries())P.append(K,Y)}else P.append(`${U}[${G}]`,j)});else{const j=S(R,U);for(const[G,q]of j.entries())P.append(G,q)}else P.append(U,R)}return P},I=D=>{const O={};for(const P in D){const $=/(\w+)\.(\w+)/,R=P.match($);if(R){const U=R[1],j=R[2];__isset(O[U])||(O[U]=[]),O[U][j]=D[P]}else O[P]=D[P]}for(const P in O)k.value[P]?k.value[P].errorMessages=O[P]:find(v.value,$=>$.name===P)&&reduce(k.value,(R,U,j)=>(U.type==="wrap"&&R.push(j),R),[]).forEach(R=>{k.value[R].schema[P]&&(k.value[R].schema[P].errorMessages=O[P])})},M=D=>{if(get(k.value,`${D}`))set(k.value,`${D}.errorMessages`,[]),set(k.value,`${D}.error`,!1);else for(const O in k.value)if(k.value[O].schema)for(const P in k.value[O].schema)P===D&&(set(k.value,`${O}.schema.${P}.errorMessages`,[]),set(k.value,`${O}.schema.${P}.error`,!1))},x=()=>{for(const D in k.value)if(M(D),k.value[D].schema)for(const O in k.value[D].schema)k.value[D].schema[O]&&M(`${D}.schema.${O}`)},F=()=>{x()},z=reactive({async validate(){return await E.VForm.validate()},createModel:D=>getModel(D,E.model.value,a.state),handleInput:D=>{const{on:O,key:P,obj:$}=D;O==="input"&&P&&(E.serverValid||M(P),T($)),t.emit("input",D)},handleClick:D=>{const{on:O,obj:P,params:$}=D;O==="click"&&$&&$.tag&&o.invokeInputClickHandler(P,$.tag)},handleUpdate:D=>{},handleResize:D=>{},handleBlur:D=>{},submit:(D,O=null,P=null)=>{i.validModel.value?e.async?(D&&D.preventDefault(),e.actionUrl?N(O,P):(a.commit(FORM.SET_EDITED_ITEM,E.model),nextTick(()=>{N(O,P)}))):B(D):D&&D.preventDefault()},updatedSlotModel:(D,O)=>{},regenerateInputSchema:D=>{},updatedCustomFormBaseModelValue:D=>{f.value=D}});return watch$1(()=>e.modelValue,(D,O)=>{if(O!==void 0&&m.value){if(isEqual(D,O)&&isEqual(D,f.value))return;f.value=getModel(p.value,D,a.state)}}),watch$1(()=>g.value,(D,O)=>{m.value}),watch$1(()=>f.value,(D,O)=>{if(m.value){if(isEqual(D,O)&&isEqual(D,e.modelValue))return;t.emit("update:modelValue",D)}},{deep:!0}),watch$1(()=>E.errors,D=>{I(D)}),watch$1(()=>i.validModel.value,D=>{t.emit("update:valid",D)}),watch$1(()=>e.schema,(D,O)=>{!isEqual(D,O)&&c.value&&!isEqual(D,k.value)&&(p.value=D,V.value=getModel(p.value),k.value=i.invokeRuleGenerator(getSchema(p.value,f.value,e.isEditing)),w.value=getFormEventSchema(p.value,C.value,e.isEditing),F())},{deep:!0}),watch$1(()=>k.value,(D,O)=>{},{deep:!0}),watch$1(()=>p.value,(D,O)=>{if(O!==void 0&&!isEqual(D,O)){const P=cloneDeep(f.value),$=getModel(D,f.value,a.state);isEqual($,P)||(f.value=$,k.value=i.invokeRuleGenerator(getSchema(D,f.value,e.isEditing)))}},{deep:!0}),F(),{...toRefs(E),...toRefs(z),...o,...i,...s}}function useAuthorization(){const e=useStore();return{can:(r,o=null)=>{const i=o?o+"_"+r:r;return e.getters.isSuperAdmin||e.getters.userPermissions[i]},hasRoles:r=>(window.__isString(r)&&(r=r.split(",").map(o=>o.trim())),e.getters.userRoles.some(o=>r.includes(o))),isYou:r=>{var o,i;return(((i=(o=e==null?void 0:e.getters)==null?void 0:o.userProfile)==null?void 0:i.id)??-1)==r}}}function useCache(){return{get:(o,i=null)=>store.getters[CACHE.GET_CACHE](o)??i,put:(o,i)=>{store.commit(CACHE.PUT_CACHE,{key:o,value:i})},push:(o,i)=>{store.commit(CACHE.PUSH_CACHE,{key:o,value:i})},last:(o,i=null)=>store.getters[CACHE.GET_LAST_CACHE](o)??i,forget:o=>{store.commit(CACHE.FORGET_CACHE,o)}}}function useDynamicModal(){const e=inject("modalService");if(!e)throw new Error("[ModalService] not installed. Did you forget `app.use(ModalService)`?");return e}const makeFilepondProps=propsFactory({hint:{type:String,default:null},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number},rules:{type:Array,default:()=>[]},hintWeight:{type:String,default:"thin"},maxFiles:{type:Number,default:2},endPoints:{type:Object,default:()=>({})},class:{type:String,default:""},labelWeight:{type:String,default:"regular"},subtitle:{type:String,default:null},subtitleWeight:{type:String,default:"thin"},acceptedFileTypes:{type:String,default:""},allowImagePreview:{type:Boolean,default:!1},allowMultiple:{type:Boolean,default:!1},allowProcess:{type:Boolean,default:!0},allowRemove:{type:Boolean,default:!0},allowDrop:{type:Boolean,default:!0},allowReorder:{type:Boolean,default:!1},allowReplace:{type:Boolean,default:!1},dropOnPage:{type:Boolean,default:!1},dropOnElement:{type:Boolean,default:!0},dropValidation:{type:Boolean,default:!1}}),makeInputFetchProps=propsFactory({itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},multiple:{type:Boolean,default:!1},page:{type:Number,default:1},lastPage:{type:Number,default:-1},itemsPerPage:{type:Number,default:20},endpoint:{type:String},items:{type:Array,default:()=>[]}});function useInputFetch(e,t){const a=ref(!1),n=ref(getURLWithoutQuery(e.endpoint)),r=ref(e.page||1),o=ref(e.lastPage||-1),i=ref(""),s=ref(e.items||[]),d=ref(getParameters(e.endpoint)),l=computed(()=>new URLSearchParams({...d.value,page:r.value,itemsPerPage:e.itemsPerPage,...i.value?{search:i.value}:{}}).toString()),u=computed(()=>getURLWithoutQuery(n.value)+"?"+l.value),m=async()=>{if(!(r.value>o.value)||o.value<0)return a.value=!0,new Promise(()=>{axios.get(u.value).then(h=>{if(a.value=!1,h.status==200&&(o.value<0&&(o.value=h.data.resource.last_page),i.value==""?s.value=s.value.concat(h.data.resource.data??[]):s.value=h.data.resource.data??[],r.value++,t.input.value)){let y=!1;t.input.value&&(e.multiple?t.input.value.forEach(function(p){if(!s.value.find(v=>v[e.itemValue]==p))return y=!0,!1}):y=!s.value.find(p=>p[e.itemValue]==t.input.value)),y?m():t.emit("update:input",[{key:"items",value:s.value},{key:"lastPage",value:o.value},{key:"page",value:r.value}])}})})};return{loading:a,elements:s,getItemsFromApi:m,searchOnInputFetch:h=>{if(t.input){h==""?(s.value=[],m()):i.value=h;return}i.value=h,r.value=1,o.value=-1,i.value==""&&(s.value=[]),m()}}}function useAlert(){const e=useStore();return{openAlert:a=>{e.commit(ALERT.SET_ALERT,a)}}}function useGenerate(e,t){const{smAndUp:a}=useDisplay(),n=computed(()=>{if(!e)return{};const o=r(e),i=o.icon||o.prependIcon||o.appendIcon||e.icon||e.prependIcon||e.appendIcon;return{...o,icon:i&&!a.value?i:o.icon,density:i&&!a.value?"compact":e.density??"comfortable",rounded:a.value?o.rounded:!0}}),r=o=>{var s;let i={};return o.href&&(i.onClick=d=>{d.preventDefault(),window.open(o.href,o.target??"_blank")}),{...o.componentProps??{},...i,icon:o.forceLabel?null:o.icon,text:o.forceLabel?o.label:null,color:o.color,variant:o.variant,density:o.density??"comfortable",size:o.size??"default",disabled:o.disabled??((s=o.componentProps)==null?void 0:s.disabled)??!1,rounded:o.forceLabel?null:!0}};return{generateButtonProps:r,generatedButtonProps:n}}function useBadge(e,t){return{isBadge:r=>{if(!window.__isset(r.badge))return!1;let o=r.badge;return window.__isString(o)&&(o=parseInt(o)),o>0},badgeProps:r=>({...r.componentProps??{},content:r.badgeContent??r.badge,color:r.badgeColor??"warning",textColor:r.badgeTextColor??"white"})}}const _sfc_main$1m={name:"FormActions",emits:["actionComplete"],props:{modelValue:{type:Object,required:!0},isEditing:{type:Boolean,required:!1},actions:{type:Object,required:!0}},setup(e,t){const{handleAction:a,allActions:n,hasActions:r}=useItemActions(e,{...t,actionItem:e.modelValue}),{generateButtonProps:o}=useGenerate(),{isBadge:i,badgeProps:s}=useBadge(),d=computed(()=>n.value.map(u=>!0));return{hasActions:r,allActions:n,handleAction:a,valids:d,createModel:u=>getModel(u,e.modelValue),generateButtonProps:o,isBadge:i,badgeProps:s}}};function _sfc_render$1b(e,t,a,n,r,o){const i=resolveComponent("ue-form"),s=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([n.hasActions?"d-flex flex-wrap ga-4 py-4":""])},[renderSlot(e.$slots,"prepend",normalizeProps(guardReactiveProps({item:a.modelValue,isEditing:a.isEditing}))),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.allActions,(d,l)=>(openBlock(),createElementBlock(Fragment,null,[d.type!=="modalx"?(openBlock(),createBlock(VTooltip,{key:0,disabled:!d.icon||d.forceLabel,location:d.tooltipLocation??"top"},{activator:withCtx(u=>[d.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:e.editedItem[d.key??"published"]??d.default??!1,ref_for:!0},{...d.componentProps,...u.props},{disabled:d.disabled??!1,"onUpdate:modelValue":m=>n.handleAction(d)}),null,16,["modelValue","disabled","onUpdate:modelValue"])):d.type==="modal"&&d.endpoint&&d.schema?(openBlock(),createBlock(s,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},d.modalAttributes??{}),{activator:withCtx(m=>[n.isBadge(d)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},n.badgeProps(d)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...n.generateButtonProps(d),...m.props,...u.props}),null,16)]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...n.generateButtonProps(d),...m.props,...u.props}),null,16))]),body:withCtx(m=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(i,mergeProps({ref_for:!0,ref:`extra-form-${l}`,modelValue:n.createModel(d.schema),title:d.formTitle??null,schema:d.schema,"action-url":d.endpoint.replace(":id",a.modelValue.id),valid:n.valids[l],"is-editing":a.isEditing,style:m.isFullActive?"height: 90vh !important;":"height: 70vh !important;","fill-height":"",scrollable:"","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:c=>e.$emit("actionComplete",{action:d}),"onUpdate:valid":c=>n.valids[l]=c,"onUpdatex:modelValue":t[0]||(t[0]=c=>e.$log(c))},d.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1024)]),_:2},1040)):d.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[n.isBadge(d)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},n.badgeProps(d)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...n.generateButtonProps(d),...u.props},{onClick:m=>n.handleAction(d)}),null,16,["onClick"])]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...n.generateButtonProps(d),...u.props},{onClick:m=>n.handleAction(d)}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(d.tooltip??d.label),1)]),_:2},1032,["disabled","location"])):createCommentVNode("",!0)],64))),256)),renderSlot(e.$slots,"append",normalizeProps(guardReactiveProps({item:a.modelValue,isEditing:a.isEditing})))],2)}const FormActions=_export_sfc(_sfc_main$1m,[["render",_sfc_render$1b]]),_sfc_main$1l={name:"FormEvents",emits:["update:modelValue"],props:{events:{type:Array,required:!0},modelValue:{type:Object,required:!0}},computed:{input:{get(){return this.modelValue??{}},set(e){this.$emit("update:modelValue",e)}}},methods:{updateValue(e,t){this.input={...this.modelValue,[e]:t}},getEventActiveLabel(e){const t=e.items.find(a=>a[e.itemValue]===(window.__isset(this.input[e.name])?this.input[e.name]:-1));return t?t[e.itemTitle]:e.label},getEventProps(e){return this.$lodash.omit(e,["type","name","tooltip","conditions","scopeRole","allowedRoles","tooltipLocation"])}}};function _sfc_render$1a(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff");return openBlock(!0),createElementBlock(Fragment,null,renderList(a.events,s=>(openBlock(),createBlock(VTooltip,{key:s.name,disabled:e.$isset(s.tooltip)||s.tooltip===!1,location:s.tooltipLocation??"top"},{activator:withCtx(d=>[s.type==="switch"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,ref_for:!0},{...e.$lodash.omit(s,"label"),...e.props},{"hide-details":"",modelValue:o.input[s.name]??s.default??!1,"onUpdate:modelValue":l=>o.updateValue(s.name,l),class:"mr-2"}),null,16,["modelValue","onUpdate:modelValue"])):s.viewOnlyComponent?(openBlock(),createBlock(i,mergeProps({key:1,configuration:s.viewOnlyComponent,"bind-data":o.input,ref_for:!0},d.props,{class:"mr-2"}),null,16,["configuration","bind-data"])):s.component?(openBlock(),createBlock(resolveDynamicComponent(s.component),mergeProps({key:2,ref_for:!0},{...d.props,...o.getEventProps(s)},{modelValue:o.input[s.name]??s.default??!1,"onUpdate:modelValue":l=>o.updateValue(s.name,l),class:"mr-2"}),null,16,["modelValue","onUpdate:modelValue"])):s.items&&Array.isArray(s.items)&&s.items.length?(openBlock(),createBlock(VMenu,{key:3,"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:withCtx(l=>[createVNode(VBtn,mergeProps({class:"mr-2",variant:"outlined","append-icon":"mdi-chevron-down",ref_for:!0},l.props),{default:withCtx(()=>[createTextVNode(toDisplayString(o.getEventActiveLabel(s)),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.items,(l,u)=>(openBlock(),createBlock(VListItem,{key:l.id,onClick:m=>o.updateValue(s.name,l[s.itemValue])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(l.name)+" ",1),e.$isset(a.modelValue[s.name])&&l[s.itemValue]===a.modelValue[s.name]?(openBlock(),createBlock(VIcon,{key:0,size:"small",icon:"$check",color:"primary"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.tooltip??s.label),1)]),_:2},1032,["disabled","location"]))),128)}const FormEvents=_export_sfc(_sfc_main$1l,[["render",_sfc_render$1a]]),AdditionalSectionContent={props:{actionsPosition:String,isEditing:Boolean,formItem:Object,actions:[Array,Object]},emits:["action-complete"],template:`
    <div>
      <!-- Right Top Form Actions -->
      <FormActions v-if="actionsPosition == 'right-top' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-top"></slot>

      <!-- Right Middle Form Actions -->
      <FormActions v-if="actionsPosition == 'right-middle' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-middle"></slot>

      <!-- Right Bottom Form Actions -->
      <FormActions v-if="actionsPosition == 'right-bottom' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-bottom"></slot>
    </div>
  `,components:{FormActions}},_sfc_main$1k={name:"ue-form",components:{FormActions,FormEvents,AdditionalSectionContent},emits:["update:valid","update:modelValue","update:schema","input","actionComplete","submitted"],props:{...makeFormProps()},provide(){return{manualValidation:computed(()=>this.manualValidation),submitForm:computed(()=>this.submit)}},setup(e,t){useStore();const a=useForm(e,t),{t:n,te:r,locale:o}=useI18n({useScope:"global"}),i=computed(()=>[e.noDefaultFormPadding?"":"px-6 py-6",e.noDefaultSurface?"":"bg-surface",e.fillHeight?"d-flex flex-column h-100":"",e.formClass]),s=computed(()=>{const u=[];function m(c,h,y,p=""){let v=p!=""?`${p}-${h}`:h;Object.prototype.hasOwnProperty.call(c,"slots")&&Object.keys(c.slots).length>0?Object.keys(c.slots).forEach(V=>{y.push({type:"recursive-stuff",name:V,inputName:h,slotPath:v,context:c.slots[V]})}):Object.prototype.hasOwnProperty.call(c,"slotable")&&y.push({type:"form",name:c.slotable.name,inputName:c.slotable.slotTo,selfName:h,slotPath:v,schema:cloneDeep(a.invokeRuleGenerator({[h]:omit(c,["slotable"])}))}),c.schema&&isObject(c.schema)&&Object.keys(c.schema).forEach(V=>{let g=c.schema[V];m(g,V,y,v)})}return Object.keys(a.inputSchema.value).forEach(c=>{let h=a.inputSchema.value[c];m(h,c,u)}),u}),d=computed(()=>{let u={};return __isObject(e.title)&&(u={tag:e.title.tag||"div",type:e.title.type||"body-1",weight:e.title.weight||"regular",transform:e.title.transform||"none",color:e.title.color,padding:e.title.padding||"a-0",margin:e.title.margin||"a-0",align:e.title.align||"left",justify:e.title.justify||"start"}),u}),l=computed(()=>{let u=e.title;return __isObject(e.title)&&(u=e.title.text),r(u)?n(u).toLocaleUpperCase(o.value.toUpperCase()):u.toLocaleUpperCase(o.value.toUpperCase())});return computed(()=>e.hasStickyFrame?{cols:"12",sm:"12",md:"12",lg:"8",xl:"6","order-lg":"0","order-xl":"0"}:{cols:"12"}),computed(()=>({cols:"12",sm:"12",md:"12",lg:"4",xl:"6","order-lg":"1","order-xl":"1"})),{...a,formClasses:i,formSlots:s,titleOptions:d,titleSerialized:l}}},_hoisted_1$Q=["value"],_hoisted_2$H={class:"d-flex align-center"},_hoisted_3$C={class:"flex-grow-1"},_hoisted_4$t={key:1,class:"d-flex pt-6"},_hoisted_5$q={key:2},_hoisted_6$o={class:"ue-form__bottom"};function _sfc_render$19(e,t,a,n,r,o){const i=resolveComponent("FormActions"),s=resolveComponent("FormEvents"),d=resolveComponent("ue-title"),l=resolveComponent("v-custom-form-base"),u=resolveComponent("ue-recursive-stuff"),m=resolveComponent("AdditionalSectionContent");return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-form"]),style:normalizeStyle({height:e.fillHeight?e.$vuetify.display.mdAndDown?"calc(97vh - 64px)":"calc(97vh)":""})},[createVNode(VForm,{id:e.id,ref:"VForm",action:e.actionUrl,method:"POST",modelValue:e.validModel,"onUpdate:modelValue":t[14]||(t[14]=c=>e.validModel=c),onSubmit:e.submit,class:normalizeClass(n.formClasses)},{default:withCtx(()=>[e.async?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:0,type:"hidden",name:"_token",value:e.$csrf},null,8,_hoisted_1$Q)),createBaseVNode("div",{class:normalizeClass([e.hasDivider||e.title?"pb-6":"",e.scrollable?"flex-grow-0":""])},[!e.noTitle&&e.title?(openBlock(),createBlock(d,mergeProps({key:0,padding:"b-3",align:"center",justify:"space-between"},n.titleOptions),{default:withCtx(()=>[renderSlot(e.$slots,"header.left",normalizeProps(guardReactiveProps({title:n.titleSerialized,model:e.model,schema:e.inputSchema,formItem:e.formItem})),()=>[createTextVNode(toDisplayString(n.titleSerialized),1)])]),right:withCtx(()=>[createBaseVNode("div",_hoisted_2$H,[e.actionsPosition=="title-center"&&e.isEditing?(openBlock(),createBlock(i,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:t[0]||(t[0]=c=>e.$emit("actionComplete",c))},{prepend:withCtx(()=>[renderSlot(e.$slots,"actions.prepend")]),append:withCtx(()=>[renderSlot(e.$slots,"actions.append")]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"headerCenter"),e.actionsPosition=="title-right"&&e.isEditing?(openBlock(),createBlock(i,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:t[1]||(t[1]=c=>e.$emit("actionComplete",c))},{prepend:withCtx(c=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(c)))]),append:withCtx(c=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(c)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.formEventSchema&&e.formEventSchema.length&&e.model?(openBlock(),createBlock(s,{key:2,events:e.formEventSchema,modelValue:e.model,"onUpdate:modelValue":t[2]||(t[2]=c=>e.model=c)},null,8,["events","modelValue"])):createCommentVNode("",!0),e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1?(openBlock(),createBlock(VChipGroup,{key:3,modelValue:e.currentLocale.value,"onUpdate:modelValue":t[3]||(t[3]=c=>e.updateLocale(c)),"selected-class":"bg-primary",mandatory:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.languages,c=>(openBlock(),createBlock(VChip,{key:c.value,text:c.shortlabel,value:c.value,variant:"outlined"},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])):createCommentVNode("",!0),renderSlot(e.$slots,"header.right")])]),_:3},16)):createCommentVNode("",!0),e.hasDivider?(openBlock(),createBlock(VDivider,{key:1})):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["d-flex",e.scrollable?"flex-grow-1 overflow-hidden mr-n5":""])},[createBaseVNode("div",{class:normalizeClass(["w-100 d-flex",e.scrollable?"overflow-y-auto pr-3":""])},[createBaseVNode("div",_hoisted_3$C,[e.actionsPosition=="top"&&e.isEditing?(openBlock(),createBlock(i,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:t[4]||(t[4]=c=>e.$emit("actionComplete",c))},{prepend:withCtx(c=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(c)))]),append:withCtx(c=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(c)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"top",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.schema}))),e.actionsPosition=="middle"&&e.isEditing?(openBlock(),createBlock(i,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:t[5]||(t[5]=c=>e.$emit("actionComplete",c))},{prepend:withCtx(c=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(c)))]),append:withCtx(c=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(c)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),createVNode(l,{id:e.formBaseId,modelValue:e.model,"onUpdate:modelValue":t[7]||(t[7]=c=>e.model=c),schema:e.inputSchema,row:e.rowAttribute,onUpdate:e.handleUpdate,onInput:e.handleInput,onResize:e.handleResize,onBlur:e.handleBlur,onClick:e.handleClick},createSlots({_:2},[renderList(n.formSlots,(c,h)=>({name:`slot-inject-${c.name}-key-${e.formBaseId}-${c.slotPath}`,fn:withCtx(y=>[c.type=="form"?(openBlock(),createBlock(l,{key:0,id:`${e.formBaseId}-${c.name}`,modelValue:e.model,"onUpdate:modelValue":t[6]||(t[6]=p=>e.model=p),schema:c.schema,"onUpdate:schema":p=>c.schema=p,row:e.rowAttribute},null,8,["id","modelValue","schema","onUpdate:schema","row"])):c.type=="recursive-stuff"?(openBlock(),createBlock(u,{key:1,configuration:c.context,bindData:y},null,8,["configuration","bindData"])):createCommentVNode("",!0)])}))]),1032,["id","modelValue","schema","row","onUpdate","onInput","onResize","onBlur","onClick"]),e.actionsPosition=="bottom"&&e.isEditing?(openBlock(),createBlock(i,{key:2,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:t[8]||(t[8]=c=>e.$emit("actionComplete",c))},{prepend:withCtx(c=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(c)))]),append:withCtx(c=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(c)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0)]),e.hasAdditionalSection&&e.$vuetify.display.lgAndUp?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([`flex-grow-0 ml-${e.rightSlotGap}`])},[createBaseVNode("div",{class:normalizeClass(["pt-2 gr-4",e.$vuetify.display.smAndDown?"d-none":"d-flex flex-column"]),style:normalizeStyle({...e.rightSlotWidth?{width:`${e.rightSlotWidth}px`}:{},...e.rightSlotMinWidth?{minWidth:`${e.rightSlotMinWidth}px`}:{},...e.rightSlotMaxWidth?{maxWidth:`${e.rightSlotMaxWidth}px`}:{}})},null,6),renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(m,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:t[9]||(t[9]=c=>e.$emit("actionComplete",c))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])],2)):createCommentVNode("",!0),e.hasAdditionalSection&&e.$vuetify.display.mdAndDown?(openBlock(),createBlock(VBtn,{key:1,icon:"",class:"mt-2",onClick:t[10]||(t[10]=c=>e.showAdditionalSectionDialog=!0)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>t[15]||(t[15]=[createTextVNode("mdi-menu-right")])),_:1})]),_:1})):createCommentVNode("",!0),e.hasAdditionalSection?(openBlock(),createBlock(VDialog,{key:2,modelValue:e.showAdditionalSectionDialog,"onUpdate:modelValue":t[13]||(t[13]=c=>e.showAdditionalSectionDialog=c),"max-width":"500px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(e.additionalSectionDialogTitle||"Additional Options"),1),createVNode(VSpacer),createVNode(VBtn,{variant:"text",size:"default",icon:"",onClick:t[11]||(t[11]=c=>e.showAdditionalSectionDialog=!1)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>t[16]||(t[16]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(m,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:t[12]||(t[12]=c=>e.$emit("actionComplete",c))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])):createCommentVNode("",!0)],2)],2),e.pushButtonToBottom?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass([e.scrollable?"flex-grow-0":""])},[e.hasSubmit&&!e.stickyButton&&e.hasDivider?(openBlock(),createBlock(VDivider,{key:0,class:"mt-6"})):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_4$t,[renderSlot(e.$slots,"submit",normalizeProps(guardReactiveProps({validForm:e.validModel||!e.serverValid,buttonDefaultText:e.buttonDefaultText,loading:e.loading})),()=>[renderSlot(e.$slots,"options",normalizeProps(guardReactiveProps({validForm:e.validModel||!e.serverValid,loading:e.loading}))),createVNode(VBtn,{type:"submit",disabled:!(e.validModel||!e.serverValid)||e.loading,class:"ml-auto mb-5",loading:e.loading},{default:withCtx(()=>[createTextVNode(toDisplayString(e.buttonDefaultText),1)]),_:1},8,["disabled","loading"])])])):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_5$q,[e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,indeterminate:"",color:"green"})):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$o,[renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))])],2)]),_:3},8,["id","action","modelValue","onSubmit","class"])],4)}const Form=_export_sfc(_sfc_main$1k,[["render",_sfc_render$19]]),__vite_glob_0_12=Object.freeze(Object.defineProperty({__proto__:null,default:Form},Symbol.toStringTag,{value:"Module"})),_sfc_main$1j={name:"FormSummaryItem",props:{index:{type:Number,required:!0},title:{type:String,required:!0},model:{type:Object,required:!0}},created(){}},_hoisted_1$P={class:"mb-6"},_hoisted_2$G={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_3$B={class:"font-weight-bold text-primary"},_hoisted_4$s={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_5$p={key:0,class:""},_hoisted_6$n={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}};function _sfc_render$18(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$P,[createBaseVNode("div",_hoisted_2$G,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(a.index+1),1)]),_:1}),createBaseVNode("span",_hoisted_3$B,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(a.index+1),1)]),createBaseVNode("div",_hoisted_4$s,toDisplayString(a.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.model,(i,s)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.model[s],(d,l)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}-${a.index}`},[Array.isArray(d)?(openBlock(),createElementBlock("div",_hoisted_5$p,[createBaseVNode("span",_hoisted_6$n,toDisplayString(e.window.__isObject(a.model[s])?l:d[0])+": ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(a.model[s])?d:d.slice(1),u=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${s}-${a.index}-${s}-${l}`,style:{"margin-inline-end":"8px"}},toDisplayString(u),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px","margin-block-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d),1)]),_:2},1024))],64))),128))],64))),128))])}const FormSummaryItem=_export_sfc(_sfc_main$1j,[["render",_sfc_render$18],["__scopeId","data-v-332f12e2"]]),__vite_glob_0_13=Object.freeze(Object.defineProperty({__proto__:null,default:FormSummaryItem},Symbol.toStringTag,{value:"Module"})),_hoisted_1$O={class:"pa-3 bg-primary"},__default__={data(){return{}},created(){}},_sfc_main$1i=Object.assign(__default__,{__name:"ImpersonateToolbar",props:{modelValue:{type:Boolean,default:!1},active:{type:Boolean,default:!1},users:{type:Array,default(){return[]}},impersonated:{type:Boolean,default:!1},route:{type:String,default:"/users/impersonate/:id"},stopRoute:{type:String,default:"/users/impersonate/stop"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=t,r=ref(null),o=computed({get(){return a.modelValue},set(s){n("update:modelValue",s)}});watch$1(r,function(s,d){});const i=computed(()=>a.route.replace(":id",r.value));return(s,d)=>(openBlock(),createBlock(VBottomSheet,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=l=>o.value=l)},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps(l,{class:"font-weight-bold mt-2",ripple:!1,append:!1,"prepend-icon":"mdi-account-switch",title:"Impersonate Manager"}),null,16)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$O,[e.impersonated?(openBlock(),createBlock(VBtn,{key:0,color:"red",href:e.stopRoute},{default:withCtx(()=>d[2]||(d[2]=[createTextVNode(" Stop Impersonating ")])),_:1},8,["href"])):createCommentVNode("",!0),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VSelect,{key:1,class:"mt-5",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=l=>r.value=l),items:e.users,variant:"outlined",density:"compact","item-title":"name","item-value":"id",clearable:""},null,8,["modelValue","items"])),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:2,href:i.value,disabled:!r.value},{default:withCtx(()=>d[3]||(d[3]=[createTextVNode("Impersonate")])),_:1},8,["href","disabled"]))])]),_:1},8,["modelValue"]))}}),__vite_glob_0_14=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1i},Symbol.toStringTag,{value:"Module"})),_sfc_main$1h={name:"ue-list-element",props:{item:{type:Object,required:!0},selectItem:{type:Number,default:0},selectedSubItem:{type:Number,default:0}},data:()=>({open:["Users"],admins:[["Management","mdi-account-multiple-outline"],["Settings","mdi-cog-outline"]],cruds:[["Create","mdi-plus-outline"],["Read","mdi-file-outline"],["Update","mdi-update"],["Delete","mdi-delete"]]})};function _sfc_render$17(e,t,a,n,r,o){return openBlock(),createBlock(VList,{opened:e.open,"onUpdate:opened":t[0]||(t[0]=i=>e.open=i)},{default:withCtx(()=>[createVNode(VListItem,{"prepend-icon":"mdi-home",title:"Home"}),createVNode(VListGroup,{value:"Users"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{"prepend-icon":"mdi-account-circle",title:"Users"}),null,16)]),default:withCtx(()=>[createVNode(VListGroup,{value:"Admin"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{title:"Admin"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.admins,([i,s],d)=>(openBlock(),createBlock(VListItem,{key:d,title:i,"prepend-icon":s,value:i},null,8,["title","prepend-icon","value"]))),128))]),_:1}),createVNode(VListGroup,{value:"Actions"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{title:"Actions"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.cruds,([i,s],d)=>(openBlock(),createBlock(VListItem,{key:d,value:i,title:i,"prepend-icon":s},null,8,["value","title","prepend-icon"]))),128))]),_:1})]),_:1})]),_:1},8,["opened"])}const ListElement=_export_sfc(_sfc_main$1h,[["render",_sfc_render$17]]),__vite_glob_0_15=Object.freeze(Object.defineProperty({__proto__:null,default:ListElement},Symbol.toStringTag,{value:"Module"})),_sfc_main$1g={name:"ue-list-section",props:{title:{type:String},titleTag:{type:String,default:"h3"},titleClasses:{type:String,default:"text-body-1 font-weight-medium"},itemClasses:{type:String,default:"text-body-2"},headerClasses:{type:String,default:"text-body-2 font-weight-bold"},items:{type:Array,required:!0},itemFields:{type:Array,default:()=>["name"]},headers:{type:Array,default:null},showHeader:{type:Boolean,default:!1},colClasses:{type:Array,default:()=>[]},colWidths:{type:Array,default:()=>[]},colRatios:{type:Array,default:()=>[]},rowClassFn:{type:Function,default:null},emptyMessage:{type:String,default:"No items to display"},striped:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},hasRowBottomBorder:{type:Boolean,default:!1},actionsHeader:{type:String,default:""},verticalAlignTop:{type:Boolean,default:!1}},computed:{effectiveHeaders(){return this.headers||this.itemFields.map(e=>e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase()))},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.itemFields.length:this.colRatios.reduce((e,t,a)=>e+(t||1),0)}},methods:{getColumnStyle(e){if(this.colWidths&&this.colWidths[e])return{width:this.colWidths[e],flexBasis:this.colWidths[e]};if(this.colRatios&&this.colRatios.length>0){const r=this.colRatios[e]||1,o=r/this.totalRatio*100;return{flex:`${r} 0 0`,maxWidth:`${o}%`}}const t=this.itemFields.length,a=this.$slots["row-actions"]?1:0;return{flex:"1 1 0",maxWidth:`${100/(t+a)}%`}},getRowClass(e,t){let a=[this.itemClasses];if(this.striped&&t%2===1&&a.push("bg-grey-lighten-5"),this.hoverable&&a.push("ue-list-section__row--hoverable"),this.rowClassFn){const n=this.rowClassFn(e,t);n&&a.push(n)}return a.join(" ")}}},_hoisted_1$N={class:"ue-list-section"},_hoisted_2$F={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_3$A={key:1,class:"ue-list-section__row ue-list-section__row--title"},_hoisted_4$r={class:"ue-list-section__cell"},_hoisted_5$o={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_6$m={key:2,class:"ue-list-section__row ue-list-section__row--empty"},_hoisted_7$f={class:"ue-list-section__row--empty .ue-list-section__cell"};function _sfc_render$16(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$N,[createBaseVNode("div",{class:normalizeClass(["ue-list-section__container",{"align-top":a.verticalAlignTop}])},[a.showHeader?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-list-section__row ue-list-section__row--header",a.headerClasses])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.effectiveHeaders,(i,s)=>(openBlock(),createElementBlock("div",{key:`header-${s}`,class:normalizeClass(["ue-list-section__cell",[a.colClasses[s]??""]]),style:normalizeStyle(o.getColumnStyle(s))},[renderSlot(e.$slots,`header.${s}`,mergeProps({ref_for:!0},{header:i}),()=>[createTextVNode(toDisplayString(i),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_2$F,[renderSlot(e.$slots,"actions-header",{},()=>[createTextVNode(toDisplayString(a.actionsHeader),1)],!0)])):createCommentVNode("",!0)],2)):createCommentVNode("",!0),a.title?(openBlock(),createElementBlock("div",_hoisted_3$A,[createBaseVNode("div",_hoisted_4$r,[(openBlock(),createBlock(resolveDynamicComponent(a.titleTag),{class:normalizeClass(a.titleClasses)},{default:withCtx(()=>[createTextVNode(toDisplayString(a.title),1)]),_:1},8,["class"]))])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.items,(i,s)=>(openBlock(),createElementBlock("div",{key:`item-${s}`,class:normalizeClass(["ue-list-section__row ue-list-section__row--data",[o.getRowClass(i,s),{"has-bottom-border":a.hasRowBottomBorder}]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.itemFields,(d,l)=>(openBlock(),createElementBlock("div",{key:`item-field-${l}`,class:normalizeClass(["ue-list-section__cell",[a.colClasses[l]??""]]),style:normalizeStyle(o.getColumnStyle(l))},[renderSlot(e.$slots,`field.${l}`,mergeProps({ref_for:!0},{value:e.$lodash.get(i,d),item:i,index:s}),()=>[createTextVNode(toDisplayString(e.$lodash.get(i,d,"")),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_5$o,[renderSlot(e.$slots,"row-actions",mergeProps({ref_for:!0},{item:i,index:s}),void 0,!0)])):createCommentVNode("",!0)],2))),128)),a.items.length===0&&a.emptyMessage?(openBlock(),createElementBlock("div",_hoisted_6$m,[createBaseVNode("div",_hoisted_7$f,toDisplayString(a.emptyMessage),1)])):createCommentVNode("",!0)],2)])}const ListSection=_export_sfc(_sfc_main$1g,[["render",_sfc_render$16],["__scopeId","data-v-e89d1f35"]]),__vite_glob_0_16=Object.freeze(Object.defineProperty({__proto__:null,default:ListSection},Symbol.toStringTag,{value:"Module"})),_sfc_main$1f={emits:["update:modelValue"],props:{csrf:{type:String}},data(){return{dialog:!1}}},_hoisted_1$M=["value"];function _sfc_render$15(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:r.dialog,"onUpdate:modelValue":t[1]||(t[1]=d=>r.dialog=d)},e.$bindAttributes(),{"width-type":"md"}),{activator:withCtx(({props:d})=>[renderSlot(e.$slots,"activator",{props:d},()=>[createVNode(VBtn,mergeProps({class:"w-66 m-auto",color:"red lighten-2",dark:""},d),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040)])]),body:withCtx(d=>[createVNode(VCard,{class:"text-center"},{default:withCtx(()=>[createVNode(VCardTitle,{class:""},{default:withCtx(()=>[createVNode(i,{type:"h5",weight:"medium",justify:"center",color:"primary",padding:"t-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Log Out")),1)]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Are you sure you want to logout?")),1)]),_:1}),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(VBtn,{class:"",variant:"outlined",onClick:t[0]||(t[0]=l=>r.dialog=!1),density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Cancel")),1)]),_:1}),createVNode(VForm,{method:"post",action:"/logout"},{default:withCtx(()=>[createBaseVNode("input",{type:"hidden",name:"_token",value:e.$csrf()},null,8,_hoisted_1$M),createVNode(VBtn,{variant:"elevated",type:"submit",density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Log Out")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:3},16,["modelValue"])}const LogoutModal=_export_sfc(_sfc_main$1f,[["render",_sfc_render$15]]),__vite_glob_0_17=Object.freeze(Object.defineProperty({__proto__:null,default:LogoutModal},Symbol.toStringTag,{value:"Module"})),_sfc_main$1e={name:"A17MediaMetadata",props:{media:{type:Object,default:()=>{}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:{fieldName:function(){return`${this.name}[${this.id}]`},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?typeof this.defaultMetadatas=="object"?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":this.defaultMetadatas!==null?this.defaultMetadatas:"":""},...mapState({languages:e=>e.language.all,currentLocale:e=>e.language.active.value})},methods:{saveMetadata:function(e){e.locale||(e={value:e}),e.id=this.id,this.$emit("change",e)}},mounted:function(){const e={};let t="",a=0;this.languages.forEach(n=>{const r=n.value;if(this.customMetadatas){this.customMetadatas[r]?e[r]=this.customMetadatas[r]:(this.customMetadatas===!0||typeof this.customMetadatas=="string")&&a===0?(e[r]=this.customMetadatas,t=this.customMetadatas):e[r]="";const o={};o.name=this.fieldName,o.value=e[r],this.languages.length>1&&(o.locale=r),this.$store.commit(FORM.UPDATE_FORM_FIELD,o)}a++}),this.initialValues=e,this.initialValue=t}},_hoisted_1$L={key:1},_hoisted_2$E=["innerHTML"],_hoisted_3$z={key:3,class:"mediaMetadata__checkbox"};function _sfc_render$14(e,t,a,n,r,o){const i=resolveComponent("a17-locale"),s=resolveComponent("a17-wysiwyg"),d=resolveComponent("a17-textfield"),l=resolveComponent("a17-checkbox");return e.languages.length>1&&o.fieldType==="text"?(openBlock(),createBlock(i,{key:0,type:a.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:o.attributes,onChange:o.saveMetadata},null,8,["type","initialValues","attributes","onChange"])):o.fieldType==="text"&&a.wysiwyg?(openBlock(),createElementBlock("div",_hoisted_1$L,[createVNode(s,{options:a.wysiwygOptions,label:a.label,name:o.fieldName,type:o.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:a.maxlength,onChange:o.saveMetadata},null,8,["options","label","name","type","initialValue","maxlength","onChange"]),createBaseVNode("p",{class:"f--note f--small",innerHTML:o.placeholder},null,8,_hoisted_2$E)])):o.fieldType==="text"?(openBlock(),createBlock(d,{key:2,label:a.label,name:o.fieldName,type:"text",placeholder:o.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:a.maxlength,onChange:o.saveMetadata},null,8,["label","name","placeholder","initialValue","maxlength","onChange"])):o.fieldType==="checkbox"?(openBlock(),createElementBlock("div",_hoisted_3$z,[createVNode(l,{label:a.label,name:o.fieldName,initialValue:e.initialValue,value:1,onChange:o.saveMetadata,inStore:"value"},null,8,["label","name","initialValue","onChange"])])):createCommentVNode("",!0)}const MediaMetadata=_export_sfc(_sfc_main$1e,[["render",_sfc_render$14],["__scopeId","data-v-b8b069a3"]]),__vite_glob_0_18=Object.freeze(Object.defineProperty({__proto__:null,default:MediaMetadata},Symbol.toStringTag,{value:"Module"})),_hoisted_1$K={class:"d-flex"},_hoisted_2$D={key:0,class:"d-flex align-center justify-center me-2"},_sfc_main$1d={__name:"Metric",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},color:{type:String,default:null},cardColor:{type:String,default:null},labelColor:{type:String,default:null},valueClass:{type:String,default:""},labelClass:{type:String,default:""},dense:{type:Boolean,default:!1},noInline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},icon:{type:String,default:null},appendIcon:{type:String,default:null},appendIconAttributes:{type:Object,default:()=>({})}},setup(e){const t=e,a=computed(()=>({"d-inline-block":!t.noInline,"ue-metric":!0,"text-center":t.center,"py-1 px-1":!t.dense})),n=computed(()=>["font-weight-bold",t.dense?"text-h4":"text-h3",t.color?`text-${t.color}`:"",t.valueClass]),r=computed(()=>[t.color?`text-${t.color}`:"",t.labelColor?`text-${t.labelColor}`:"",t.dense?"text-caption":"text-subtitle",t.labelClass]);return(o,i)=>(openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(a.value)},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-3 pr-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$K,[e.appendIcon?(openBlock(),createElementBlock("div",_hoisted_2$D,[createVNode(VIcon,mergeProps(e.appendIconAttributes,{icon:e.appendIcon}),null,16,["icon"])])):createCommentVNode("",!0),createBaseVNode("div",null,[createBaseVNode("div",{class:normalizeClass(n.value)},toDisplayString(e.value),3),createBaseVNode("div",{class:normalizeClass(r.value)},[e.icon?(openBlock(),createBlock(VIcon,{key:0,icon:e.icon},null,8,["icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.label),1)],2)])])]),_:1})]),_:1},8,["color","class"]))}},Metric=_export_sfc(_sfc_main$1d,[["__scopeId","data-v-3e98c41c"]]),__vite_glob_0_19=Object.freeze(Object.defineProperty({__proto__:null,default:Metric},Symbol.toStringTag,{value:"Module"})),_sfc_main$1c={__name:"MetricGroups",props:{title:{type:String,default:""},items:{type:Array,required:!0},defaultCol:{type:Object,default:()=>({cols:12})},metricsBgHeaderColor:{type:String,default:null},metricsNoInline:{type:Boolean,default:null},metricColor:{type:String,default:null},metricCardColor:{type:String,default:null},metricLabelColor:{type:String,default:null},metricValueClass:{type:String,default:null},metricLabelClass:{type:String,default:null},metricNoInline:{type:Boolean,default:!1}},setup(e){const t=e,a=computed(()=>({...t.metricColor?{metricColor:t.metricColor}:{},...t.metricCardColor?{metricCardColor:t.metricCardColor}:{},...t.metricLabelColor?{metricLabelColor:t.metricLabelColor}:{},...t.metricValueClass?{metricValueClass:t.metricValueClass}:{},...t.metricLabelClass?{metricLabelClass:t.metricLabelClass}:{},...t.metricNoInline?{metricNoInline:t.metricNoInline}:{}})),n=computed(()=>t.items.map(r=>({...t.metricsBgHeaderColor?{bgHeaderColor:t.metricsBgHeaderColor}:{},...t.metricsNoInline?{noInline:t.metricsNoInline}:{},...a.value,...r})));return(r,o)=>{const i=resolveComponent("ue-metrics");return openBlock(),createBlock(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(s,d)=>(openBlock(),createBlock(VCol,mergeProps({key:d,ref_for:!0},{...e.defaultCol,...s.col??{}}),{default:withCtx(()=>[createVNode(i,mergeProps({ref_for:!0},{...r.$lodash.omit(s,"col")}),null,16)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})}}},__vite_glob_0_20=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1c},Symbol.toStringTag,{value:"Module"})),_sfc_main$1b={__name:"Metrics",props:{title:{type:String,required:!0},subtitle:{type:String,default:null},items:{type:Array,default:()=>[]},color:{type:String,default:null},cardColor:{type:String,default:null},filterColor:{type:String,default:null},bgHeaderColor:{type:String,default:null},hasGutter:{type:Boolean,default:!1},gutterStep:{type:Number,default:1},rowClass:{type:String,default:null},noInline:{type:Boolean,default:!1},dateLabel:{type:String,default:"Today"},date:{type:String,default:null},metricWidth:{type:[String,Number],default:null},minMetricWidth:{type:[String,Number],default:130},metricAttributes:{type:Object,default:()=>({})},endpoint:{type:String,default:null}},setup(e){const t=e,a=computed(()=>[t.noInline?"":"d-inline-block","rounded-lg"]),n=computed(()=>[t.bgHeaderColor?`bg-${t.bgHeaderColor}`:"","d-flex justify-space-between align-center pa-4"]),r=computed(()=>[t.color?`text-${t.color}`:"","font-weight-medium text-body-1 text-wrap"]),o=computed(()=>[t.filterColor?`text-${t.filterColor}`:"","d-flex align-center"]),i=computed(()=>["d-flex flex-wrap ga-4",t.rowClass?t.rowClass:"",t.hasGutter?`mx-n${t.gutterStep}`:""]),s=computed(()=>({...t.metricAttributes??{}})),d=ref(t.items),l=ref(null),u=ref(!1),m=()=>{u.value=!0,axios.post(t.endpoint,{date_range:l.value,items:d.value}).then(c=>{c.data.variant==="success"&&(d.value=c.data.data)}).catch(c=>{console.log(c)}).finally(()=>{u.value=!1})};return watch$1(l,(c,h)=>{Array.isArray(c)&&c.length>1&&m()}),(c,h)=>{const y=resolveComponent("v-date-input"),p=resolveComponent("ue-metric");return openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(a.value),elevation:"0"},{default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(n.value)},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(r.value)},toDisplayString(e.title),3),createBaseVNode("div",{class:normalizeClass(o.value),style:{width:"250px"}},[e.endpoint?(openBlock(),createBlock(y,{key:0,modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=v=>l.value=v),Xlabel:c.$t(""),"validate-on":"submit blur",variant:"outlined",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"",required:"","hide-details":"",multiple:"range",disabled:u.value,class:"w-100"},null,8,["modelValue","Xlabel","disabled"])):createCommentVNode("",!0)],2)]),_:1},8,["class"]),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(i.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,(v,V)=>(openBlock(),createBlock(p,mergeProps({key:V,style:[e.metricWidth?`width: ${e.metricWidth}`:"",e.minMetricWidth?`min-width: ${e.minMetricWidth}px`:""],dense:"","no-inline":"",ref_for:!0},{...s.value,...v}),null,16,["style"]))),128))],2)]),_:1})]),_:1},8,["color","class"])}}},__vite_glob_0_21=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1b},Symbol.toStringTag,{value:"Module"})),_sfc_main$1a={name:"ue-navigation-group",inject:["activeMenu"],props:{items:{type:Array,required:!0},level:{type:Number,default:0},hideIcons:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1},profileMenu:{type:Boolean,default:!1}},setup(e,t){const a=(n,r)=>(Array.isArray(r)&&r.forEach(function(o){__isset(o.is_active)&&o.is_active&&__isset(o.items)&&(n.push(o.name),a(n,o.items))}),n);return{getListGroupOpens:a}},data:()=>({opened:[]}),computed:{activeIndex:{get(){try{return this.items.findIndex(e=>e.is_active==1)}catch{return 0}},set(e){}},style(){return{marginLeft:"0rem"}}},created(){this.opened=this.getListGroupOpens([],this.items)},watch:{},methods:{getComponentType(e){return this.isSubgroup(e)?"v-list-group":this.isMenu(e)?"v-menu-wrapper":"v-list-item"},getComponentProps(e,t){const a={index:t};return this.isSubgroup(e)?{...a,"prepend-icon":e.icon,value:e.name,items:e.items,level:this.level+1}:this.isMenu(e)?{...a,item:e,hideIcons:this.hideIcons}:{...a,...this.getListItemProps(e,t)}},getListItemProps(e,t){const a={nav:!0,active:this.activeIndex===t,ripple:!1,append:!1,title:e.name,"prepend-icon":this.hideIcons?null:e.icon};return this.isRoute(e)?(a.href=e.route||e.href,Object.assign(a,this.$bindAttributes(e))):this.isEvent(e)?a.onClick=()=>this.$call(e.event):this.isMenuRoute(e)?(a.density="compact",a.href=e.route||e.href,a.slim=!0,a.class={"px-4":!this.hideIcons,"ml-2":!0},Object.assign(a,this.$bindAttributes(e))):this.isHeader(e)&&(a.inactive=!0,a.disabled=!0),a},getListGroupOpens(e,t){return Array.isArray(t)&&t.forEach(a=>{a.is_active&&a.items&&(e.push(a.name),this.getListGroupOpens(e,a.items))}),e},isSubgroup:e=>!!e.items,isRoute(e){return!e.items&&(!!e.route||!!e.href)&&!this.profileMenu},isEvent:e=>!!e.attr,isHeader:e=>!e.href&&!e.route&&!e.items&&!!e.name,isMenu:e=>!!e.menuItems,isMenuRoute(e){return!e.menuItems&&this.profileMenu&&(!!e.route||!!e.href)}}};function _sfc_render$13(e,t,a,n,r,o){const i=resolveComponent("ue-navigation-group");return openBlock(),createBlock(VList,{modelValue:o.activeIndex,"onUpdate:modelValue":t[0]||(t[0]=s=>o.activeIndex=s),opened:e.opened,"onUpdate:opened":t[1]||(t[1]=s=>e.opened=s),style:normalizeStyle(o.style),"active-class":`sidebar-item-active sidebar-item-active-${a.level}`,class:"mb-2 pl-0",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.items,(s,d)=>(openBlock(),createElementBlock(Fragment,{key:d},[o.isSubgroup(s)?(openBlock(),createBlock(VListGroup,{key:d+"subgroup",index:d,ripple:!0,"prepend-icon":s.icon,"sub-group":!1,"active-class":`sidebar-item-active sidebar-item-active-${a.level}`,value:s.name},{activator:withCtx(({props:l})=>[createVNode(VTooltip,{bottom:"",disabled:!a.showTooltip},{activator:withCtx(u=>[createBaseVNode("div",mergeProps({ref_for:!0},u.props),[createVNode(VListItem,mergeProps({ref_for:!0},l,{title:s.name,"prepend-icon":a.hideIcons?null:s.icon,nav:""}),null,16,["title","prepend-icon"])],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"])]),default:withCtx(()=>[createVNode(i,{items:s.items,level:a.level+1,hideIcons:a.hideIcons,"show-tooltip":a.showTooltip},null,8,["items","level","hideIcons","show-tooltip"])]),_:2},1032,["index","prepend-icon","active-class","value"])):o.isMenu(s)?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VListItem,{nav:"",title:s.name,"prepend-icon":s.icon,"append-icon":"mdi-menu-right",density:"compact",id:s.menuActivator,slim:!0,onClick:l=>e.$emit("activateMenu",s.menuActivator)},null,8,["title","prepend-icon","id","onClick"]),o.activeMenu===`#${s.menuActivator}`?(openBlock(),createBlock(VMenu,{key:0,location:"end",activator:o.activeMenu},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(i,{items:Object.values(s.menuItems),"show-tooltip":a.showTooltip},null,8,["items","show-tooltip"])]),_:2},1024)]),_:2},1032,["activator"])):createCommentVNode("",!0)],64)):(openBlock(),createBlock(VTooltip,{key:2,bottom:"",disabled:!a.showTooltip},{activator:withCtx(({props:l})=>[createBaseVNode("div",mergeProps({ref_for:!0},l),[(openBlock(),createBlock(resolveDynamicComponent(o.getComponentType(s)),mergeProps({ref_for:!0},o.getComponentProps(s,d)),null,16))],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"]))],64))),128))]),_:1},8,["modelValue","opened","style","active-class"])}const NavigationGroup=_export_sfc(_sfc_main$1a,[["render",_sfc_render$13]]),__vite_glob_0_22=Object.freeze(Object.defineProperty({__proto__:null,default:NavigationGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$19={props:{payload:{type:Object,required:!0},endpoint:{type:String,required:!0},printKeys:{type:[Array,Object],required:!0},loadingText:{type:String,default:"Loading..."}},data(){return{values:{},loading:!0}},methods:{getDisplayText(e,t=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[t||0]=="string")return e[this.printKeys[t||0]];const a=this.printKeys[t||0];return e[a==null?void 0:a.text]}return e[this.printKeys.text]??""},getSubText(e,t=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[t||1]=="string")return e[this.printKeys[t||1]];const a=this.printKeys[t||0];return e[a==null?void 0:a.subText]}return e[this.printKeys.subText]??""},async sendRequest(){this.loading=!0;try{const e=await axios$1.post(this.endpoint,this.payload);e.status===200&&(this.values=e.data)}catch(e){console.error("Error calculating price:",e)}finally{this.loading=!1}}},mounted(){this.sendRequest()},watch:{payload:{handler(){this.sendRequest()},deep:!0}}},_hoisted_1$J={key:0,class:"d-flex flex-column align-center"},_hoisted_2$C={class:"mt-2"};function _sfc_render$12(e,t,a,n,r,o){const i=resolveComponent("ue-text-display");return openBlock(),createElementBlock("div",null,[r.loading?(openBlock(),createElementBlock("div",_hoisted_1$J,[createVNode(VProgressCircular,{indeterminate:"",color:"primary"}),createBaseVNode("span",_hoisted_2$C,toDisplayString(a.loadingText),1)])):(openBlock(),createElementBlock(Fragment,{key:1},[Array.isArray(r.values)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(r.values,(s,d)=>(openBlock(),createElementBlock("div",{key:d},[createVNode(i,{class:"text-h5",text:o.getDisplayText(s,d),"sub-text":o.getSubText(s,d)},null,8,["text","sub-text"])]))),128)):(openBlock(),createBlock(i,{key:1,class:"text-h5",text:o.getDisplayText(r.values),"sub-text":o.getSubText(r.values)},null,8,["text","sub-text"]))],64))])}const PrintRequest=_export_sfc(_sfc_main$19,[["render",_sfc_render$12]]),__vite_glob_0_23=Object.freeze(Object.defineProperty({__proto__:null,default:PrintRequest},Symbol.toStringTag,{value:"Module"})),_hoisted_1$I={key:0},_hoisted_2$B=["innerHTML"],_hoisted_3$y=["innerHTML"],_sfc_main$18={__name:"PropertyList",props:{data:{type:[Array,Object],default:()=>[]},noPadding:{type:Boolean,default:!1}},setup(e){const t=e,a=computed(()=>Array.isArray(t.data)?t.data:typeof t.data=="object"&&t.data!==null?Object.entries(t.data).map(([r,o])=>[r,o]):[]),n=r=>!r||r.length===0?null:r.map(i=>Array.isArray(i)?i.join(", "):i).join(", ");return(r,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["ue-property-list",e.noPadding?"":"ue-property-list--padding"])},[!a.value||a.value.length===0?(openBlock(),createElementBlock("div",_hoisted_1$I,"No data available")):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(a.value,(i,s)=>(openBlock(),createElementBlock("div",{key:s,class:"ue-property-list__item d-flex flex-wrap"},[createBaseVNode("span",{class:"text-caption font-weight-bold pr-1",innerHTML:i[0].trim()+(i.slice(1).length>0?":":"")},null,8,_hoisted_2$B),createBaseVNode("span",{class:"text-caption",innerHTML:n(i.slice(1))},null,8,_hoisted_3$y)]))),128))],2))}},PropertyList=_export_sfc(_sfc_main$18,[["__scopeId","data-v-b43b9e9f"]]),__vite_glob_0_24=Object.freeze(Object.defineProperty({__proto__:null,default:PropertyList},Symbol.toStringTag,{value:"Module"})),_sfc_main$17={name:"ue-recursive-data-viewer",props:{data:{type:[Array,Object,String,Number,Boolean],required:!0},allArrayItemsClosed:{type:Boolean,default:!1},allArrayItemsOpen:{type:Boolean,default:!1},arrayIndex:{type:Number,default:null},objectDepth:{type:Number,default:0},allObjectsClosed:{type:Boolean,default:!1},allObjectsOpen:{type:Boolean,default:!1},objectTitle:{type:String,default:null}},data(){return{isExpanded:this.determineInitialExpanded(),expandedItems:new Set(this.determineInitialExpandedItems())}},methods:{determineInitialExpanded(){return Array.isArray(this.data)?this.allArrayItemsClosed?!1:this.allArrayItemsOpen?!0:this.arrayIndex===0:typeof this.data=="object"&&this.data!==null?this.allObjectsClosed?!1:this.allObjectsOpen?!0:this.objectDepth===0:!0},determineInitialExpandedItems(){return this.allArrayItemsClosed?[]:this.allArrayItemsOpen?Array.from({length:this.data.length},(e,t)=>t):[0]},toggleItem(e){this.expandedItems.has(e)?this.expandedItems.delete(e):this.expandedItems.add(e)},isItemExpanded(e){return this.expandedItems.has(e)},getPreview(e){return Array.isArray(e)?`Array(${e.length})`:typeof e=="object"&&e!==null?"Object":typeof e=="string"?`"${e.substring(0,30)}${e.length>30?"...":""}"`:String(e)}}},_hoisted_1$H={class:"text-body-2"},_hoisted_2$A={class:"array-items"},_hoisted_3$x={class:""},_hoisted_4$q={class:"json-key"},_hoisted_5$n={class:"json-value"},_hoisted_6$l={key:2};function _sfc_render$11(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-data-viewer");return Array.isArray(a.data)?(openBlock(),createBlock(VCard,{key:0,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"py-2 px-4"},{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-code-brackets",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_1$H,"Array ("+toDisplayString(a.data.length)+" items)",1)]),_:1}),createBaseVNode("div",_hoisted_2$A,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.data,(s,d)=>(openBlock(),createElementBlock("div",{key:d,class:"array-item"},[createVNode(VCard,{variant:"flat",class:"mb-1"},{default:withCtx(()=>[createVNode(i,{data:s,"array-index":0,"object-depth":d===0?a.objectDepth:a.objectDepth+1,"all-array-items-closed":a.allArrayItemsClosed,"all-array-items-open":a.allArrayItemsOpen,"all-objects-closed":a.allObjectsClosed,"all-objects-open":a.allObjectsOpen},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open"])]),_:2},1024)]))),128))])]),_:1})):typeof a.data=="object"&&a.data!==null?(openBlock(),createBlock(VCard,{key:1,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center py-2 px-4 collapsible-header text-body-2",onClick:t[0]||(t[0]=s=>r.isExpanded=!r.isExpanded)},{default:withCtx(()=>[createVNode(VIcon,{icon:r.isExpanded?"mdi-chevron-down":"mdi-chevron-right",class:"mr-2",size:"small"},null,8,["icon"]),createVNode(VIcon,{icon:"mdi-code-braces",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_3$x," Object ("+toDisplayString(Object.keys(a.data).length)+" properties) ",1)]),_:1}),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",null,[createVNode(VTable,{density:"compact",class:"json-table"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.data,(s,d)=>(openBlock(),createElementBlock("tr",{key:d,class:"json-row"},[createBaseVNode("td",_hoisted_4$q,toDisplayString(d),1),createBaseVNode("td",_hoisted_5$n,[createVNode(i,{data:s,"array-index":0,"object-depth":a.objectDepth+1,"all-array-items-closed":a.allArrayItemsClosed,"all-array-items-open":a.allArrayItemsOpen,"all-objects-closed":a.allObjectsClosed,"all-objects-open":a.allObjectsOpen,"object-titlex":e.window.__isObject(s)?d:null},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open","object-titlex"])])]))),128))])]),_:1})],512),[[vShow,r.isExpanded]])]),_:1})]),_:1})):(openBlock(),createElementBlock("span",_hoisted_6$l,toDisplayString(a.data),1))}const RecursiveDataViewer=_export_sfc(_sfc_main$17,[["render",_sfc_render$11],["__scopeId","data-v-c5013ed3"]]),__vite_glob_0_25=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveDataViewer},Symbol.toStringTag,{value:"Module"})),_sfc_main$16={props:{configuration:{type:[Object,Array,String],default(){return{}}},level:{type:Number,default:0},bindData:{type:Object,default(){return{}}}},setup(props,context){const FuncPattern=/^\{(.*)\}$/,CastPattern=/\$([\w|.|\_|\-]+)/,slots=computed(()=>props.configuration.hasOwnProperty("slots")?props.configuration.slots:{});function isTextable(e){return isString(e)||isNumber(e)}function hasSlot(e){return e.hasOwnProperty("slots")}function isObject(e){return __isObject(e)}function applyCasting(value,funcs=[]){if(!window.__isString(value))return value;if(FuncPattern.test(value)){const matches=value.match(FuncPattern),evalText=matches[1];let evalParts=evalText.split(" ").map(e=>{if(CastPattern.test(e)){let a=e.match(CastPattern)[1],n=__data_get(props.bindData,a,void 0);if(n!==void 0)return n}return e});try{return eval(evalParts.join(" "))}catch(e){console.error(e)}}if(CastPattern.test(value)){const e=value.match(CastPattern);if(e){let t=get(props.bindData,e[1]);if(t!==void 0)try{funcs.forEach(a=>{window[a]&&typeof window[a]=="function"&&(t=window[a](t))})}catch(a){console.error(a)}return t}}return value}function castAttribute(e,t,a){let n=a,r=[];if(isArray(a)&&isString(a[0])&&(n=a.shift(),r=a),!isObject(a)){const o=applyCasting(n,r);o&&(e[t]=o,delete filteredAttributes[t])}}const filteredAttributes=cloneDeep(props.configuration.attributes),castedAttributes=computed(()=>{const e=cloneDeep(props.configuration.attributes);return reduce(e,(t,a,n)=>((isArray(a)||isString(a)||isObject(a))&&castAttribute(t,n,a),t),{})}),bindAttributes=computed(()=>{const e=props.bindData;let t={};if(e&&isObject(e)){let a=props.configuration.bind;a&&(isString(a)&&(a=[a]),isArray(a)&&e&&a.forEach(n=>{let r=n,o=n.match(CastPattern);o&&(r=o[1]);let i;Object.prototype.hasOwnProperty.call(e,r)?i=__data_get(e,r,void 0):Object.prototype.hasOwnProperty.call(e,n)&&(i=__data_get(e,n,void 0)),i!==void 0&&(t={...t,...i})}))}return t});return{isTextable,isArray,isObject,applyCasting,hasSlot,filteredAttributes,castedAttributes,bindAttributes,slots}},data(){return{}},created(){}};function _sfc_render$10(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff");return!a.configuration.tag&&n.isTextable(a.configuration.elements)?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(n.applyCasting(a.configuration.elements)),1)],64)):!a.configuration.tag&&n.isArray(a.configuration.elements)?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(a.configuration.elements,(s,d)=>(openBlock(),createBlock(resolveDynamicComponent(s.tag),mergeProps({key:`tag-${a.level}-${d}`,ref_for:!0},s.attributes),{default:withCtx(()=>[createTextVNode(toDisplayString(s.elements),1)]),_:2},1040))),128)):a.configuration.tag?(openBlock(),createBlock(resolveDynamicComponent(a.configuration.tag),normalizeProps(mergeProps({key:2},{...n.filteredAttributes,...n.bindAttributes,...n.castedAttributes})),createSlots({default:withCtx(()=>[n.isArray(a.configuration.elements)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.configuration.elements,(s,d)=>(openBlock(),createBlock(i,{key:`tag-${a.level}-${d}`,level:a.level+1,configuration:s},null,8,["level","configuration"]))),128)):createCommentVNode("",!0),n.isObject(a.configuration.elements)?(openBlock(),createBlock(i,{key:`tag-${a.level}-${e.i}`,level:a.level+1,configuration:a.configuration.elements},null,8,["level","configuration"])):n.isTextable(a.configuration.elements)?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(n.applyCasting(a.configuration.elements)),1)],64)):createCommentVNode("",!0)]),_:2},[renderList(n.slots,(s,d)=>({name:`${d}`,fn:withCtx(()=>[createVNode(i,{level:a.level+1,configuration:s},null,8,["level","configuration"])])}))]),1040)):createCommentVNode("",!0)}const RecursiveStuff=_export_sfc(_sfc_main$16,[["render",_sfc_render$10]]),__vite_glob_0_26=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveStuff},Symbol.toStringTag,{value:"Module"})),_sfc_main$15={name:"StepperHeader",props:{forms:{type:Array,required:!0},activeStep:{type:Number,required:!0}},emits:["step-click"]},_hoisted_1$G=["onClick"];function _sfc_render$$(e,t,a,n,r,o){return openBlock(),createBlock(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.forms,(i,s)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${s}`,complete:a.activeStep>s+1,title:i.title,value:s+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(d=>[createBaseVNode("div",{onClick:l=>e.$emit("step-click",s+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([d.hasCompleted||d.step==a.activeStep?"text-primary font-weight-bold":""])},toDisplayString(d.title),3)],8,_hoisted_1$G)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:a.activeStep>a.forms.length,title:"Preview & Summary",value:a.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(i=>[createBaseVNode("span",{class:normalizeClass([i.hasCompleted||i.step==a.activeStep?"text-primary font-weight-bold":""])},toDisplayString(i.title),3)]),_:1},8,["complete","value"])]),_:1})}const StepperHeader=_export_sfc(_sfc_main$15,[["render",_sfc_render$$]]),_sfc_main$14={name:"StepperContent",props:{modelValue:{type:Array,required:!0},forms:{type:Array,required:!0},schemas:{type:Array,required:!0,default:()=>[]},activeStep:{type:Number,required:!0},formRefs:{type:Array,required:!0},isEditing:{type:Boolean,default:!1}},emits:["form-input","form-valid","update:modelValue","update:schemas"],data(){return{models:cloneDeep(this.modelValue),localSchemas:cloneDeep(this.schemas)}},computed:{inputModels:{get(){return this.modelValue},set(e,t){}},inputSchemas:{get(){return this.schemas},set(e,t){isEqual(e,t)}}},methods:{updateFormModel(e,t){this.models.splice(t,1,e)},updateFormSchema(e,t){this.localSchemas.splice(t,1,cloneDeep(e))}},watch:{modelValue:{handler(e){isEqual(e,this.models)||(this.models=cloneDeep(e))},deep:!0},schemas:{handler(e){isEqual(e,this.localSchemas)||(this.localSchemas=cloneDeep(e))},deep:!0},models:{handler(e){isEqual(e,this.modelValue)||this.$emit("update:modelValue",cloneDeep(e))},deep:!0},localSchemas:{handler(e){isEqual(e,this.schemas)||this.$emit("update:schemas",cloneDeep(e))},deep:!0}}};function _sfc_render$_(e,t,a,n,r,o){const i=resolveComponent("ue-form"),s=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(s,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{id:"ue-stepper-content-window",class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.forms,(d,l)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${l}`,value:l+1},{default:withCtx(()=>[a.activeStep>l?(openBlock(),createBlock(i,{key:0,ref_for:!0,ref:a.formRefs[l],id:`stepper-form-${l+1}`,isEditing:a.isEditing,modelValue:r.models[l],"onUpdate:modelValue":[u=>r.models[l]=u,u=>o.updateFormModel(u,l)],XmodelValue:o.inputModels[l],"onXupdate:modelValue":u=>o.updateFormModel(u,l),schema:r.localSchemas[l],"onUpdate:schema":u=>o.updateFormSchema(u,l),Xschema:o.inputSchemas[l],"onXupdate:schema":u=>o.updateFormSchema(u,l),onInput_:t[0]||(t[0]=u=>e.$log("input emitted from form on steppercontent",u)),onInput:u=>e.$emit("form-input",{event:u,index:l}),"onUpdate:valid":u=>e.$emit("form-valid",{event:u,index:l}),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","XmodelValue","onXupdate:modelValue","schema","onUpdate:schema","Xschema","onXupdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:a.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview")]),_:3},8,["value"])]),_:3})]),_:3})}const StepperContent=_export_sfc(_sfc_main$14,[["render",_sfc_render$_]]),_sfc_main$13={name:"StepperSummary",props:{isLastStep:Boolean,forms:Array,activeStep:Number,models:Array,schemas:Array,previewModel:Array,previewTitles:Array,isPreviewModelFilled:Function},emits:["next-form","complete-form"]};function _sfc_render$Z(e,t,a,n,r,o){const i=resolveComponent("ue-form-summary-item"),s=resolveComponent("v-btn-secondary"),d=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(d,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[a.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(a.isLastStep,"")])},{default:withCtx(()=>[a.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:a.models,schema:a.schemas,previewModel:a.previewModel,onComplete:()=>e.$emit("complete-form")}))):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.forms,(l,u)=>renderSlot(e.$slots,`summary-form-${u+1}`,mergeProps({key:`stepper-summary-item-${u}`,ref_for:!0},{index:u,order:u+1,title:a.previewTitles[u],isPreviewModelFilled:a.isPreviewModelFilled,model:a.models[u],schema:a.schemas[u],previewModel:a.previewModel[u]??{},length:a.forms.length}),()=>[a.isPreviewModelFilled(u)&&u!==0&&u<a.forms.length-1?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),a.isPreviewModelFilled(u)?(openBlock(),createBlock(i,{key:1,index:u,title:a.previewTitles[u],model:a.previewModel[u]},null,8,["index","title","model"])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(s,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:t[0]||(t[0]=l=>e.$emit("next-form",a.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])}const StepperSummary=_export_sfc(_sfc_main$13,[["render",_sfc_render$Z]]),_sfc_main$12={name:"StepperPreview",emits:["final-form-action"],props:{formattedPreview:{type:Array,default:()=>[]},previewFormData:{type:Array,default:()=>[]},lastStepModel:{type:Object,required:!0},finalFormTitle:{type:String,required:!0},finalFormSubtitle:{type:String,default:null},protectedLastStepModel:{type:Object,default:()=>{}}}},_hoisted_1$F={class:"d-flex flex-column ga-2 my-4"},_hoisted_2$z={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$w={class:"text-caption"},_hoisted_4$p={key:0,class:"text-caption mt-4 d-flex ga-4 flex-wrap"},_hoisted_5$m={class:"text-h4 font-weight-medium py-auto"},_hoisted_6$k={class:"d-flex fill-height align-content-md-center"};function _sfc_render$Y(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-configurable-card"),d=resolveDirective("fit-grid");return openBlock(),createBlock(VSheet,null,{default:withCtx(()=>[createVNode(i,{type:"body-1",weight:"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.formattedPreview,(l,u)=>(openBlock(),createBlock(VCol,{key:`summary-${u}`,cols:"12",md:l.col||6,class:"d-flex"},{default:withCtx(()=>[createVNode(s,mergeProps({ref_for:!0},l,{elevation:"2","title-color":"primary",class:"my-2 w-100 h-100"}),null,16)]),_:2},1032,["md"]))),128)),a.previewFormData.length>0?withDirectives((openBlock(),createBlock(VCol,{key:0,cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$F,[createVNode(i,{type:"body-1","font-weight":"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.finalFormTitle),1)]),_:1}),a.finalFormSubtitle?(openBlock(),createBlock(i,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.finalFormSubtitle),1)]),_:1})):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.previewFormData,(l,u)=>(openBlock(),createBlock(s,{key:`final-form-data-${u}`,"row-min-height":"120px",style:{"background-color":"transparent","min-height":"150px"},class:normalizeClass([[e.$lodash.includes(a.lastStepModel[l.fieldName],l.id)?"bg-primary":"bg-grey-lighten-5","w-100"],"mb-4 py-4"]),elevation:"2",items:l.form_card_items||[[l.name||"N/A ",l.description||"N/A",l.tags||[]],l.base_price_without_vat_formatted||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{0:"",1:"",_actions:""},"column-classes":{0:"flex-1-1-100 flex-md-1-0",1:"flex-0-1 d-flex align-center",_actions:"flex-0-1"}},{"segment.1":withCtx(m=>[createBaseVNode("div",_hoisted_2$z,toDisplayString(m.data[0]),1),createBaseVNode("div",_hoisted_3$w,toDisplayString(m.data[1]),1),Array.isArray(m.data[2])&&m.data[2].length>0?(openBlock(),createElementBlock("div",_hoisted_4$p,[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.data[2],c=>(openBlock(),createBlock(VChip,{key:c,variant:"outlined",size:"small",class:""},{default:withCtx(()=>[createTextVNode(toDisplayString(c.name??c.slug),1)]),_:2},1024))),128))])):createCommentVNode("",!0)]),"segment.2":withCtx(m=>[createBaseVNode("div",_hoisted_5$m,toDisplayString(m.data),1)]),"segment.actions":withCtx(m=>[createBaseVNode("div",_hoisted_6$k,[createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":m.actionProps.actionIconMinHeight,"min-height":m.actionProps.actionIconMinHeight,size:m.actionProps.actionIconSize,icon:e.$lodash.includes(a.lastStepModel[l.fieldName],l.id)?"mdi-minus":"mdi-plus",color:e.$lodash.includes(a.lastStepModel[l.fieldName],l.id)?"grey":"primary",onClick:c=>e.$emit("final-form-action",u),readonly:e.$lodash.includes(a.protectedLastStepModel[l.fieldName],l.id)},null,8,["min-width","min-height","size","icon","color","onClick","readonly"])])]),_:2},1032,["class","items"]))),128))]),_:1})]),_:1})),[[d]]):createCommentVNode("",!0)]),_:1})]),_:1})}const StepperPreview=_export_sfc(_sfc_main$12,[["render",_sfc_render$Y],["__scopeId","data-v-4021525b"]]),_sfc_main$11={name:"StepperFinalSummary",props:{loading:{type:Boolean,default:!1},isCompleted:{type:Boolean,default:!1}},emits:["complete"]},_hoisted_1$E={class:"py-0"},_hoisted_2$y={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$v={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$o={class:"text-caption text-grey-lighten-1 mb-6"};function _sfc_render$X(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-text-display"),d=resolveComponent("v-btn-secondary");return openBlock(),createElementBlock(Fragment,null,[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(i,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider,{style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),renderSlot(e.$slots,"body",{},void 0,!0)]),_:3}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$E,[createBaseVNode("td",_hoisted_2$y,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$v,[renderSlot(e.$slots,"total",{},()=>[createVNode(s,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})],!0)])])])]),_:3}),createBaseVNode("div",_hoisted_4$o,[renderSlot(e.$slots,"description",{},()=>[t[1]||(t[1]=createTextVNode(" At "))],!0)]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(d,{class:"v-stepper-form__nextButton",block:"",disabled:a.loading||a.isCompleted,loading:a.loading,onClick:t[0]||(t[0]=l=>e.$emit("complete"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete Request").toUpperCase()),1)]),_:1},8,["disabled","loading"])]),_:1})],64)}const StepperFinalSummary=_export_sfc(_sfc_main$11,[["render",_sfc_render$X],["__scopeId","data-v-eaf07dc3"]]),_sfc_main$10={name:"StepperForm",components:{StepperHeader,StepperContent,StepperSummary,StepperPreview,StepperFinalSummary},props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:[Array,Object],default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormSubtitle:{type:String,default:null},finalFormFields:{type:Array,default:()=>[]},validationScrollingDuration:{type:Number,default:1e3},validationScrollingEasing:{type:String,default:"easeInOutCubic"},validationScrollingOffset:{type:Number,default:0},protectInitialValue:{type:Boolean,default:!1}},setup(e,t){const a=useInputHandlers(),n=useValidation(e),r=useGoTo(),o=ref(null),i=ref(!1),s=reactive({stepperActionRef:o,loading:i}),d=computed(()=>map(e.forms,(l,u)=>ref(null)));return{...a,...n,...toRefs(s),formRefs:d,goTo:r}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,schemas:[],models:[],valids:[],lastFormPreview:[],lastStepModel:{},protectedLastStepModel:{},previewModel:[],pendingHandleFunctions:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var a;const e=(a=this.payload)!=null&&a.id?"put":"post",t=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(n){t.loading=!1,t.isCompleted=!0,t.modalMessage=n.data.message,t.modalActive=!0},function(n){t.loading=!1,__log(n)})},isPreviewModelFilled(e){const t=this.previewModel[e]??{};let a=!1;for(const n in t)if(t){a=!0;break}return a},handleInput(e){const{event:t,index:a}=e,{on:n,key:r,obj:o,value:i}=t;if(n==="input"&&r){let s=get(this.models[a],r);JSON.stringify(s)!==JSON.stringify(i)?this.pendingHandleFunctions.push((d,l,u)=>{handleMultiFormEvents(d,l,o.schema,a,u)}):handleMultiFormEvents(this.models,this.schemas,o.schema,a,this.previewModel)}},updateFormValid(e){const{event:t,index:a}=e;this.valids[a]=t},goStep(e){this.valids.slice(0,e-1).every(t=>t===!0)&&(this.activeStep=e)},async nextForm(e){await this.validateForm(e),this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const a=this.formRefs[e].value[0];a.manualValidation=!0;const n=await a.validate();return a.manualValidation=!1,isBoolean(n.valid)&&n.valid===!1&&this.$nextTick(()=>{const r=this.$el.querySelector(".v-input--error .v-input__details[role='alert'] .v-messages");r&&this.goTo(r,{container:"#ue-stepper-content-window",duration:this.validationScrollingDuration,offset:this.validationScrollingOffset,easing:this.validationScrollingEasing})}),n},handleFinalFormAction(e){const t=this.lastFormPreview[e],a=t.fieldName,n=this.lastStepModel[a];this.lastStepModel[a]=n.includes(t.id)?n.filter(r=>r!==t.id):[...n,t.id],this.lastStepModel={...this.lastStepModel}},async handlePreviewFormField(e){if(!e.modelNotation)return;let t=e.modelNotation,a=`preview-form-field-${t}`,n=`preview-form-field-values-${t}`;this.lastFormPreviewLoading=!0;let r=this.$cacheGet(a,{}),o=reduce(r,(l,u,m)=>(u&&u===!0&&l.push(parseInt(m)),l),[]),i=reduce(r,(l,u,m)=>(l.push(parseInt(m)),l),[]),s=this.$cacheGet(n,[]),d=get(this.models,t);if(d&&e.endpoint){let l=Array.isArray(d)?d:[d],u=l.filter(y=>!i.includes(y)),m=l.filter(y=>!o.includes(y)&&i.includes(y)),c=o.filter(y=>!l.includes(y)),h=!1;if(c.length>0&&(h=!0,this.lastFormPreview=this.lastFormPreview.filter(y=>!c.includes(y.form_field_id)),r=reduce(r,(y,p,v)=>(c.includes(parseInt(v))?y[v]=!1:y[v]=p,y),{})),m.length>0&&(m.forEach(y=>{s.filter(v=>v.form_field_id===y&&v.form_field_notation===t).forEach(v=>{this.lastFormPreview.push(v)}),r[y]=!0}),h=!0),u.length>0){if(!e.endpoint)return;let y=window.__addParametersToUrl(e.endpoint,{ids:u}),p=await axios.get(y);if(p.status===200){let v=p.data;v.forEach(g=>{r[g.id]=!0}),e.notation?v=v.map(g=>{let f=get(g,e.notation,[]),C=e.cardFields??["name"],k=e.fieldName||t.split(".").pop();return Array.isArray(f)?f=f.map(w=>({...w,isSelected:!1,fieldName:k,form_field_notation:t,form_field_id:g.id,form_card_items:C.map(b=>Array.isArray(b)?b.map(A=>w[A]??"N/A"):w[b]??"N/A")})):f={...f,isSelected:!1,fieldName:k,form_field_notation:t,form_field_id:g.id,form_card_items:C.map(w=>Array.isArray(w)?w.map(b=>f[b]??"N/A"):f[w]??"N/A")},f}):v=v.map(g=>({...g,form_field_notation:e.notation,form_field_id:g.id}));let V=reduce(v,(g,f)=>Array.isArray(f)?[...g,...f]:[...g,f],[]);V.forEach(g=>{this.$cachePush(n,g),this.lastFormPreview.push(g)}),V.length>0&&(h=!0)}}h&&this.$cachePut(a,r)}else o.length>0&&(this.lastFormPreview=this.lastFormPreview.filter(l=>o.includes(l.form_field_id)));this.lastFormPreviewLoading=!1}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,t)=>{let a=this.forms[t],n=__isset(a.previewTitle)?a.previewTitle:a.title;return this.$castValueMatch(n,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const t in this.schemas)e[t]=this.$getDisplayData(this.schemas[t],this.models[t]);return e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},payload(){let e=reduce(this.models,function(n,r,o){return{...n,...r}},{}),t=this.lastFormPreview,a=reduce(this.lastStepModel,function(n,r,o){return Array.isArray(r)&&(r=r.reduce((i,s)=>(t.find(l=>l.id===s&&l.fieldName===o)&&i.push(s),i),[])),n[o]=r,n},{});return{...e,...a}},summaryFormScopes(){return reduce(this.$slots,(e,t,a)=>(a.match(/summary-form-\d+/)&&(e[a]=t),e),{})}},watch:{schemas:{handler(e,t){isEqual(e,this.schemas)||(this.schemas=e)},deep:!0},models:{handler(e,t){this.pendingHandleFunctions.length>0&&(this.pendingHandleFunctions.forEach(a=>{typeof a=="function"&&a(this.models,this.schemas,this.previewModel)}),this.pendingHandleFunctions=[]),this.models.forEach((a,n)=>{this.previewModel[n]&&Object.keys(this.previewModel[n]).forEach(r=>{this.models[n][r]||delete this.previewModel[n][r]})})},deep:!0},activeStep:{handler(e,t){this.finalFormFields.forEach(a=>{a.afterStep&&a.afterStep===t&&this.handlePreviewFormField(a)})},deep:!0}},created(){let e=this;this.forms.forEach((t,a)=>{let n=t.schema,r=getModel(n,this.modelValue);e.models.push(r),e.schemas.push(e.invokeRuleGenerator(n,r)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormFields,(t,a,n)=>{let r=null;return __isObject(a)?r=a.inputName||a.fieldName||a.modelNotation.split(".").pop():r=a.split(".").pop(),__isset(t[r])||(t[r]=[]),t},{}),this.lastStepModel=this.$lodash.mapValues(this.lastStepModel,(t,a)=>this.modelValue[a]?this.modelValue[a]:t),this.protectInitialValue&&(this.protectedLastStepModel=this.lastStepModel)}},_hoisted_1$D={class:"text-h4 mb-4 text-success"},_hoisted_2$x={class:"text-subtitle-1 grey--text"};function _sfc_render$W(e,t,a,n,r,o){const i=resolveComponent("StepperHeader"),s=resolveComponent("StepperPreview"),d=resolveComponent("StepperContent"),l=resolveComponent("ue-text-display"),u=resolveComponent("StepperFinalSummary"),m=resolveComponent("StepperSummary"),c=resolveComponent("ue-modal"),h=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:r.activeStep,"onUpdate:modelValue":t[5]||(t[5]=y=>r.activeStep=y),color:"prima",class:normalizeClass(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"])},{default:withCtx(({prev:y,next:p})=>[createVNode(i,{forms:a.forms,"active-step":r.activeStep,onStepClick:o.goStep},null,8,["forms","active-step","onStepClick"]),createVNode(VRow,{class:"mt-4 flex-fill"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",lg:"8"},{default:withCtx(()=>[createVNode(d,{modelValue:r.models,"onUpdate:modelValue":t[0]||(t[0]=v=>r.models=v),schemas:r.schemas,"onUpdate:schemas":t[1]||(t[1]=v=>r.schemas=v),forms:a.forms,"active-step":r.activeStep,"form-refs":n.formRefs,"is-editing":a.isEditing,onFormInput:t[2]||(t[2]=v=>o.handleInput(v)),onFormValid:t[3]||(t[3]=v=>o.updateFormValid(v))},{preview:withCtx(()=>[!e.lastFormPreviewLoading&&o.isLastStep?(openBlock(),createBlock(s,{key:0,"formatted-preview":o.formattedPreview,"preview-form-data":r.lastFormPreview,"last-step-model":r.lastStepModel,"protected-last-step-model":r.protectedLastStepModel,"final-form-title":a.finalFormTitle,"final-form-subtitle":a.finalFormSubtitle,onFinalFormAction:o.handleFinalFormAction},null,8,["formatted-preview","preview-form-data","last-step-model","protected-last-step-model","final-form-title","final-form-subtitle","onFinalFormAction"])):createCommentVNode("",!0)]),_:1},8,["modelValue","schemas","forms","active-step","form-refs","is-editing"])]),_:1})),[[h]]),createVNode(VCol,{cols:"12",lg:"4"},{default:withCtx(()=>[createVNode(m,{"is-last-step":o.isLastStep,forms:a.forms,"active-step":r.activeStep,models:r.models,schemas:r.schemas,"preview-model":r.previewModel,"preview-titles":o.previewTitles,"is-preview-model-filled":o.isPreviewModelFilled,onNextForm:o.nextForm,onCompleteForm:o.completeForm},createSlots({"summary.final":withCtx(({onComplete:v})=>[renderSlot(e.$slots,"summary.final",normalizeProps(guardReactiveProps({model:r.models,schema:r.schemas,previewModel:r.previewModel,completeForm:o.completeForm})),()=>[createVNode(u,{loading:e.loading,"is-completed":r.isCompleted,onComplete:v},createSlots({total:withCtx(()=>[renderSlot(e.$slots,"summary.final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(l,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})])]),description:withCtx(()=>[renderSlot(e.$slots,"summary.final.description",{},()=>[t[6]||(t[6]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),_:2},[e.$slots["summary.final.body"]?{name:"body",fn:withCtx(()=>[renderSlot(e.$slots,"summary.final.body",normalizeProps(guardReactiveProps({models:r.models,schemas:r.schemas,lastStepModel:r.lastStepModel,finalFormFields:a.finalFormFields,lastFormPreview:r.lastFormPreview})))]),key:"0"}:void 0]),1032,["loading","is-completed","onComplete"])])]),_:2},[renderList(o.summaryFormScopes,(v,V)=>({name:`${V}`,fn:withCtx(g=>[renderSlot(e.$slots,V,normalizeProps(guardReactiveProps(g)))])}))]),1032,["is-last-step","forms","active-step","models","schemas","preview-model","preview-titles","is-preview-model-filled","onNextForm","onCompleteForm"])]),_:3})]),_:3}),createVNode(c,{ref:"modal",modelValue:r.modalActive,"onUpdate:modelValue":t[4]||(t[4]=v=>r.modalActive=v),"width-type":"md",description:r.modalMessage,persistent:""},{"body.description":withCtx(()=>[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>t[7]||(t[7]=[createTextVNode("mdi-check-circle-outline")])),_:1}),createBaseVNode("h2",_hoisted_1$D,toDisplayString(e.$t("Request Complete")),1),createBaseVNode("p",_hoisted_2$x,toDisplayString(e.$t("Congratulations! Your PR request is complete.")),1)]),"body.options":withCtx(()=>[createVNode(VBtn,{variant:"flat",color:"success",onClick:o.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Go Back")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description"])]),_:3},8,["modelValue"])}const StepperForm=_export_sfc(_sfc_main$10,[["render",_sfc_render$W]]),__vite_glob_0_27=Object.freeze(Object.defineProperty({__proto__:null,default:StepperForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$$={props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:Array,default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormNotations:{type:Object,default:()=>({"0.PackageCountry":{pattern:"0.wrap_location.schema.PackageCountry.items.*.package_addons",inputName:"pressReleasePackageAddons"},"0.PackageRegion":{pattern:"0.wrap_location.schema.PackageRegion.items.*.package_addons",inputName:"pressReleasePackageAddons"}})},finalCardShowFields:{type:Array,default:()=>[["name","description"],["basePrice_show"]]}},setup(e,t){const a=useInputHandlers(),n=useValidation(e),r=ref(null),o=ref(!1),i=reactive({stepperActionRef:r,loading:o}),s=computed(()=>map(e.forms,(d,l)=>ref(null)));return{...a,...n,...toRefs(i),formRefs:s}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,schemas:[],models:[],valids:[],lastStepModel:{},previewModel:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var a;const e=(a=this.payload)!=null&&a.id?"put":"post",t=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(n){t.loading=!1,t.isCompleted=!0,t.modalMessage=n.data.message,t.modalActive=!0},function(n){t.loading=!1,__log(n)})},isPreviewModelFilled(e){const t=this.previewModel[e]??{};let a=!1;for(const n in t)if(t){a=!0;break}return a},handleInput(e,t){const{on:a,key:n,obj:r}=e;a==="input"&&n&&handleMultiFormEvents(this.models,this.schemas,r.schema,t,this.previewModel)},updateFormValid(e,t){this.valids[t]=e},goStep(e){this.valids.slice(0,e-1).every(t=>t===!0)&&(this.activeStep=e)},async goNextForm(e,t){this.formRefs[t].value[0].validModel===!0?e():await this.validateForm(t)},async nextForm(e){this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const t=this.formRefs[e];t.value[0].manualValidation=!0;const a=await t.value[0].validate();return t.value[0].manualValidation=!1,a},handleFinalFormAction(e){const t=this.previewFormData[e],a=this.lastStepModel[t.fieldName];this.lastStepModel[t.fieldName]=a.includes(t.id)?a.filter(n=>n!==t.id):[...a,t.id],this.lastStepModel={...this.lastStepModel}}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,t)=>{let a=this.forms[t],n=__isset(a.previewTitle)?a.previewTitle:a.title;return this.$castValueMatch(n,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const t in this.schemas)e[t]=this.$getDisplayData(this.schemas[t],this.models[t]);return e},formattedSummary(){let e=NotationUtil.formattedSummary(this.displayInfo,this.summaryNotations),t=this.previewFormData,a=this.lastStepModel;const n=reduce(a,function(r,o,i){let s=Array.isArray(o)?o:[o];return forEach(s,d=>{const l=find(t,u=>u.id===d&&u.fieldName===i);l&&r.push(l)}),r},[]);return n.length>0&&(e.lastStepSelections={title:this.finalFormTitle,values:map(n,r=>({title:r.name||r.title||"N/A",value:r.basePrice_show||"N/A"}))}),e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},previewFormData(){let e=[];for(const t in this.finalFormNotations){let a=__data_get(this.models,t);if(!a)continue;let n=this.finalFormNotations[t],r=null,o=null;if(__isObject(n)?(o=n.pattern,r=n.inputName||n.fieldName||o.split(".").pop()):(o=n,r=o.split(".").pop()),__log(n,o,r),o){o=__wildcard_change(o,a);let i=__data_get(this.schemas,o,null);if(i){const s=(d,l)=>{if(Array.isArray(d))for(const u of d)s(u,l);else typeof d=="object"&&d!==null&&e.push({...d,fieldName:l,isSelected:!1})};s(i,r)}}}return e},payload(){return{...reduce(this.models,function(t,a,n){return{...t,...a}},{}),...this.lastStepModel}}},watch:{schemas:{handler(e,t){},deep:!0},models:{handler(e,t){this.models.forEach((a,n)=>{this.previewModel[n]&&Object.keys(this.previewModel[n]).forEach(r=>{this.models[n][r]||delete this.previewModel[n][r]})})},deep:!0}},created(){let e=this;this.forms.forEach((t,a)=>{let n=t.schema,r=getModel(n,this.modelValue);e.models.push(r),e.schemas.push(e.invokeRuleGenerator(n,r)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormNotations,(t,a,n)=>{let r=null;return __isObject(a)?r=a.inputName||a.fieldName||a.pattern.split(".").pop():r=a.split(".").pop(),__isset(t[r])||(t[r]=[]),t},{})}},_hoisted_1$C=["onClick"],_hoisted_2$w={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$u={class:"text-caption"},_hoisted_4$n={class:"text-body-2 font-weight-medium py-auto"},_hoisted_5$l={class:"d-flex fill-height justify-space-evenly align-content-md-center"},_hoisted_6$j={class:"text-h6 mb-2"},_hoisted_7$e={class:"text-body-2 text-grey-darken-1"},_hoisted_8$d={key:1,class:"mb-6"},_hoisted_9$c={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_10$a={class:"font-weight-bold text-primary"},_hoisted_11$9={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_12$6={key:0,class:""},_hoisted_13$6={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}},_hoisted_14$4={class:"py-0"},_hoisted_15$3={class:"border-0 h-auto py-1 pl-0 text-body-1"},_hoisted_16$2={class:"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1"},_hoisted_17$2={class:"py-0"},_hoisted_18$2={class:"border-0 h-auto py-1 pl-0 text-h5"},_hoisted_19$2={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_20$2={class:"text-caption text-grey mb-6"};function _sfc_render$V(e,t,a,n,r,o){const i=resolveComponent("ue-form"),s=resolveComponent("ue-title"),d=resolveComponent("ue-configurable-card"),l=resolveComponent("v-sheet-rounded"),u=resolveComponent("v-btn-secondary"),m=resolveComponent("ue-text-display"),c=resolveComponent("ue-modal"),h=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:r.activeStep,"onUpdate:modelValue":t[3]||(t[3]=y=>r.activeStep=y),color:"prima",class:normalizeClass(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"])},{default:withCtx(({prev:y,next:p})=>[createVNode(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.forms,(v,V)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${V}`,complete:r.activeStep>V+1,title:v.title,value:V+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(g=>[createBaseVNode("div",{onClick:f=>o.goStep(V+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([g.hasCompleted||g.step==r.activeStep?"text-primary font-weight-bold":""])},toDisplayString(g.title),3)],8,_hoisted_1$C)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:r.activeStep>a.forms.length,title:"Preview & Summary",value:a.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(v=>[createBaseVNode("span",{class:normalizeClass([v.hasCompleted||v.step==r.activeStep?"text-primary font-weight-bold":""])},toDisplayString(v.title),3)]),_:1},8,["complete","value"])]),_:1}),createVNode(VRow,{class:"mt-4 flex-fill"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",lg:"8"},{default:withCtx(()=>[createVNode(l,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.forms,(v,V)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${V}`,value:V+1,class:""},{default:withCtx(()=>[r.activeStep>V?(openBlock(),createBlock(i,{key:0,ref_for:!0,ref:n.formRefs[V],id:`stepper-form-${V+1}`,isEditing:a.isEditing,modelValue:r.models[V],"onUpdate:modelValue":g=>r.models[V]=g,schema:r.schemas[V],"onUpdate:schema":g=>r.schemas[V]=g,onInput:g=>o.handleInput(g,V),"onUpdate:valid":g=>o.updateFormValid(g,V),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","schema","onUpdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:a.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview",{},()=>[createVNode(VSheet,{class:""},{default:withCtx(()=>[createVNode(s,{weight:"medium",color:"black",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.formattedPreview,(v,V)=>withDirectives((openBlock(),createBlock(VCol,{key:`summary-${V}`,cols:"12",md:v.col||6},{default:withCtx(()=>[createVNode(d,mergeProps({ref_for:!0},v,{elevation:"2",class:"my-2"}),null,16)]),_:2},1032,["md"])),[[h]])),128)),createVNode(VCol,{cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-4"},{default:withCtx(()=>[createVNode(s,{type:"body-1",color:"primary","font-weight":"bold",padding:"a-0",margin:"y-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.finalFormTitle),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.previewFormData,(v,V)=>(openBlock(),createBlock(d,{key:`final-form-data-${V}`,style:{"background-color":"transparent"},class:normalizeClass([[r.lastStepModel[v.fieldName].includes(v.id)?"bg-primary":"bg-grey-lighten-5"],"mx-n4 mb-4 py-4"]),elevation:"2",items:[[v.name||"N/A ",v.description||"N/A"],v.basePrice_show||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{1:"flex-basis: 50%;",2:"flex-grow: 1; display: flex; justify-content: center; align-items: center;",3:"flex-grow: 1; display: flex; align-items: end;"}},{"segment.1":withCtx(g=>[createBaseVNode("div",_hoisted_2$w,toDisplayString(g.data[0]),1),createBaseVNode("div",_hoisted_3$u,toDisplayString(g.data[1]),1)]),"segment.2":withCtx(g=>[createBaseVNode("div",_hoisted_4$n,toDisplayString(g.data),1)]),"segment.actions":withCtx(g=>[createBaseVNode("div",_hoisted_5$l,[e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VDivider,{key:0,vertical:""})):createCommentVNode("",!0),createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":g.actionProps.actionIconMinHeight,"min-height":g.actionProps.actionIconMinHeight,size:g.actionProps.actionIconSize,icon:r.lastStepModel[v.fieldName].includes(v.id)?"mdi-minus":"mdi-plus",color:r.lastStepModel[v.fieldName].includes(v.id)?"grey":"primary",onClick:f=>o.handleFinalFormAction(V)},null,8,["min-width","min-height","size","icon","color","onClick"])])]),_:2},1032,["class","items"]))),128)),(openBlock(),createElementBlock(Fragment,null,renderList([{id:1,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50},{id:2,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50}],(v,V)=>(openBlock(),createElementBlock(Fragment,{key:v.id},[createCommentVNode("",!0)],64))),64))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:3},8,["value"])]),_:3}),createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)),[[h]]),createVNode(VCol,{cols:"12",lg:"4"},{default:withCtx(()=>[renderSlot(e.$slots,"summary",{},()=>[createVNode(l,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[o.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(o.isLastStep,"")])},{default:withCtx(()=>[o.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:r.models,schema:r.schemas,previewModel:r.previewModel,completeForm:o.completeForm})),()=>[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(s,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.formattedSummary,(v,V)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(s,{text:v.title,transform:"capitalize",type:"h6",color:"white",padding:"x-6",margin:"t-6",class:"mx-n6 py-3 bg-primary-darken-1"},null,8,["text"]),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.values,(g,f)=>(openBlock(),createElementBlock("tr",_hoisted_14$4,[createBaseVNode("td",_hoisted_15$3,toDisplayString(g.parentTitle||g.title||"N/A"),1),createBaseVNode("td",_hoisted_16$2,toDisplayString(g.value||"N/A"),1)]))),256))])]),_:2},1024)],64))),256))]),_:1}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_17$2,[createBaseVNode("td",_hoisted_18$2,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_19$2,[renderSlot(e.$slots,"final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(m,{class:"text-h5",text:"$2500",subText:"+ VAT"})])])])])]),_:3}),createBaseVNode("div",_hoisted_20$2,[renderSlot(e.$slots,"final.description",{},()=>[t[5]||(t[5]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom",style:{"background-color":"#005868"}},{default:withCtx(()=>[createVNode(u,{class:"v-stepper-form__nextButton",block:"",disabled:e.loading||r.isCompleted,loading:e.loading,onClick:o.completeForm},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete").toUpperCase()),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.forms,(v,V)=>renderSlot(e.$slots,`summary-form-${V+1}`,mergeProps({key:`stepper-summary-item-${V}`,ref_for:!0},{index:V,order:V+1,title:o.previewTitles[V],isPreviewModelFilled:o.isPreviewModelFilled,model:r.models[V],schema:r.schemas[V],previewModel:r.previewModel[V]??{}}),()=>[o.isPreviewModelFilled(V)&&V!==0?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),o.isPreviewModelFilled(V)?(openBlock(),createElementBlock("div",_hoisted_8$d,[createBaseVNode("div",_hoisted_9$c,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(V+1),1)]),_:2},1024),createBaseVNode("span",_hoisted_10$a,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(V+1),1)]),createBaseVNode("div",_hoisted_11$9,toDisplayString(o.previewTitles[V]),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.previewModel[V],(g,f)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${f}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.previewModel[V][f],(C,k)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${f}-${V}`},[Array.isArray(C)?(openBlock(),createElementBlock("div",_hoisted_12$6,[createBaseVNode("span",_hoisted_13$6,toDisplayString(e.window.__isObject(r.previewModel[V][f])?k:C[0])+":",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(r.previewModel[V][f])?C:C.slice(1),w=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${f}-${V}-${f}-${k}`,style:{"margin-inline-end":"8px"}},toDisplayString(w),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(C),1)]),_:2},1024))],64))),128))],64))),128))])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(u,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:t[1]||(t[1]=v=>o.nextForm(r.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])])]),_:3})]),_:2},1024),createVNode(c,{ref:"modal",modelValue:r.modalActive,"onUpdate:modelValue":t[2]||(t[2]=v=>r.modalActive=v),"width-type":"lg","cancel-text":"$t('Cancel')","confirm-text":"$t('Cancel')","description-text":r.modalMessage},{"body.options":withCtx(()=>[createVNode(VBtn,{variant:"outlined",color:"primary",onClick:o.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Ok")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description-text"])]),_:3},8,["modelValue"])}const StepperFormOld=_export_sfc(_sfc_main$$,[["render",_sfc_render$V]]),__vite_glob_0_28=Object.freeze(Object.defineProperty({__proto__:null,default:StepperFormOld},Symbol.toStringTag,{value:"Module"})),_sfc_main$_=defineComponent({name:"UeSuccess",props:{title:{type:String,required:!0},description:{type:String,required:!0},button_text:{type:String,required:!0},button_url:{type:String,required:!0}},setup(e){return{}}}),_hoisted_1$B={class:"text-h4 mb-2 text-success"},_hoisted_2$v={class:"text-body-1 text-medium-emphasis mb-6"};function _sfc_render$U(e,t,a,n,r,o){return openBlock(),createBlock(VContainer,{class:"fill-height"},{default:withCtx(()=>[createVNode(VRow,{justify:"center",align:"center"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"12",md:"12",lg:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VCard,{flat:"",class:"bg-transparent"},{default:withCtx(()=>[createVNode(VCardItem,null,{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-check-circle",color:"success",size:"64",class:"mb-4"}),createBaseVNode("h1",_hoisted_1$B,toDisplayString(e.title),1),createBaseVNode("p",_hoisted_2$v,toDisplayString(e.description),1),createVNode(VBtn,{color:"success",class:"mt-10",href:e.button_url,"min-width":"200",density:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.button_text),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Success=_export_sfc(_sfc_main$_,[["render",_sfc_render$U]]),__vite_glob_0_29=Object.freeze(Object.defineProperty({__proto__:null,default:Success},Symbol.toStringTag,{value:"Module"})),_sfc_main$Z={props:{symbol:{type:String,required:!0},height:{type:String},width:{type:String},style:{type:String,default:""}},setup(e){const t=computed(()=>{if(e.symbol)return e.symbol}),a=computed(()=>{if(e.height||e.width)return"height:"+e.height+"px;width:"+e.width+"px;"});return{symbol:t,style:a}}},_hoisted_1$A=["symbol"];function _sfc_render$T(e,t,a,n,r,o){const i=resolveDirective("svg");return openBlock(),createElementBlock("div",{style:normalizeStyle(n.style)},[withDirectives(createBaseVNode("span",{symbol:n.symbol},null,8,_hoisted_1$A),[[i]])],4)}const SvgIcon=_export_sfc(_sfc_main$Z,[["render",_sfc_render$T]]),__vite_glob_0_30=Object.freeze(Object.defineProperty({__proto__:null,default:SvgIcon},Symbol.toStringTag,{value:"Module"})),_sfc_main$Y={name:"ue-tab-groups",props:{...makeModuleProps(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,t){return{...useModule(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),t={};return this.noAllGroup||(t[e]=[]),this.elements.reduce((a,n,r)=>{this.noAllGroup||a[e].push(n);const o=__data_get(n,this.groupKey);if(Array.isArray(o))for(const i of o)a[i]??(a[i]=[]),a[i].push(n);else __isString(o)&&(a[o]??(a[o]=[]),a[o].push(n));return a},t)}},watch:{},methods:{loadItems(e={}){let t=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},api$2.get(this.endpoints.index,e,function(a,n){const r=getParameters(n.request.responseURL);t.elements=a.resource.data,replaceState(addParametersToUrl(getURLWithoutQuery(),r))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function _sfc_render$S(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createVNode(i,{text:e.moduleTitle,classes:[]},null,8,["text"]),createVNode(s,{items:o.groupedItems,modelValue:r.activeTab,"onUpdate:modelValue":t[0]||(t[0]=d=>r.activeTab=d)},createSlots({_:2},[renderList(e.$slots,(d,l)=>({name:l,fn:withCtx(u=>[renderSlot(e.$slots,l,normalizeProps(guardReactiveProps(u)))])}))]),1032,["items","modelValue"])]),_:3})}const TabGroups=_export_sfc(_sfc_main$Y,[["render",_sfc_render$S]]),__vite_glob_0_31=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroups},Symbol.toStringTag,{value:"Module"})),_sfc_main$X={name:"ue-tab-groups",props:{...makeModuleProps(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,t){return{...useModule(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),t={};return this.noAllGroup||(t[e]=[]),this.elements.reduce((a,n,r)=>{this.noAllGroup||a[e].push(n);const o=__data_get(n,this.groupKey);if(Array.isArray(o))for(const i of o)a[i]??(a[i]=[]),a[i].push(n);else __isString(o)&&(a[o]??(a[o]=[]),a[o].push(n));return a},t)}},watch:{},methods:{loadItems(e={}){let t=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},api$2.get(this.endpoints.index,e,function(a,n){const r=getParameters(n.request.responseURL);t.elements=a.resource.data,replaceState(addParametersToUrl(getURLWithoutQuery(),r))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function _sfc_render$R(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-tabs-previous");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createVNode(i,{text:e.moduleTitle,classes:[]},null,8,["text"]),createVNode(s,{items:o.groupedItems,modelValue:r.activeTab,"onUpdate:modelValue":t[0]||(t[0]=d=>r.activeTab=d)},createSlots({_:2},[renderList(e.$slots,(d,l)=>({name:l,fn:withCtx(u=>[renderSlot(e.$slots,l,normalizeProps(guardReactiveProps(u)))])}))]),1032,["items","modelValue"])]),_:3})}const TabGroupsPrevious=_export_sfc(_sfc_main$X,[["render",_sfc_render$R]]),__vite_glob_0_32=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroupsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$W={__name:"TableActions",props:{actions:{type:Array,required:!0}},emits:["actionComplete"],setup(e,{emit:t}){const a=e,n=t,r=useAttrs(),o=useSlots(),{generateButtonProps:i}=useGenerate(),s={};a.actions.forEach((y,p)=>{const{generatedButtonProps:v}=useGenerate(y);s[p]=v});const d=computed(()=>Object.keys(s).reduce((y,p)=>(y[p]=s[p].value,y),{})),{isBadge:l,badgeProps:u}=useBadge(),{handleAction:m,allActions:c,hasActions:h}=useItemActions(a,{...r,...o,...n,actionItem:a.modelValue});return(y,p)=>{const v=resolveComponent("ue-form"),V=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([unref(h)||y.$slots.prepend?"d-flex flex-wrap ga-2":""])},[renderSlot(y.$slots,"prepend"),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(c),(g,f)=>(openBlock(),createBlock(VTooltip,{disabled:!g.icon||g.forceLabel,location:g.tooltipLocation??"top"},{activator:withCtx(({props:C})=>[g.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:y.editedItem[g.key??"published"]??g.default??!1,"onUpdate:modelValue":k=>unref(m)(g),ref_for:!0},{...g.componentProps,...C}),null,16,["modelValue","onUpdate:modelValue"])):g.type==="modal"&&g.endpoint&&g.schema?(openBlock(),createBlock(V,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},g.modalAttributes??{}),{activator:withCtx(k=>[unref(l)(g)?(openBlock(),createBlock(VBadge,{key:0,content:g.badge,color:g.badgeColor??"warning","text-color":g.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...unref(i)(g),...k.props,...C}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...unref(i)(g),...k.props,...C}),null,16))]),body:withCtx(k=>[createVNode(v,mergeProps({ref_for:!0,ref:`extra-form-${f}`,modelValue:y.createModel(g.schema),title:g.formTitle??null,schema:g.schema,"action-url":g.endpoint.replace(":id",y.modelValue.id),valid:y.valids[f],"is-editing":y.isEditing,style:k.isFullActive?"height: 90vh !important;":"height: 70vh !important;","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:w=>y.$emit("actionComplete",{action:g}),"onUpdate:valid":w=>y.valids[f]=w,"onUpdatex:modelValue":p[0]||(p[0]=w=>y.$log(w))},g.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1040)):g.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[unref(l)(g)?(openBlock(),createBlock(VBadge,{key:0,content:g.badge,color:g.badgeColor??"warning","text-color":g.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...d.value[f],...C}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...d.value[f],...C},{onClick:()=>console.log(d.value[f])}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(g.tooltip??g.label),1)]),_:2},1032,["disabled","location"]))),256))],2)}}},_sfc_main$V={props:{...makeActiveTableItemProps()},setup(e,t){return{...useActiveTableItem(e,t)}},created(){}};function _sfc_render$Q(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal"),d=resolveComponent("ue-table");return openBlock(),createElementBlock("div",null,[createVNode(s,{ref:"customModal",modelValue:e.modalActive,"onUpdate:modelValue":t[0]||(t[0]=l=>e.modalActive=l),scrollable:"",transition:"dialog-bottom-transition","width-type":"md","onClick:outside":e.clickOutside},{body:withCtx(l=>[createVNode(VCard,{class:"pa-12"},{default:withCtx(()=>[createVNode(VItemGroup,{"selected-class":"bg-primary"},{default:withCtx(()=>[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemData,(u,m)=>(openBlock(),createBlock(VCol,mergeProps({key:m,ref_for:!0},e.$bindAttributes(u.clickBlock?u.clickBlock.col:{cols:12})),{default:withCtx(()=>[createVNode(VItem,null,{default:withCtx(({isSelected:c,selectedClass:h,toggle:y})=>[u.clickBlock&&u.clickBlock.elements?(openBlock(),createBlock(i,{key:0,configuration:u.clickBlock.elements,onClick:p=>e.selectNested(m)},{default:withCtx(()=>[createTextVNode(toDisplayString(u.title),1)]),_:2},1032,["configuration","onClick"])):(openBlock(),createBlock(VBtn,{key:1,onClick:p=>e.selectNested(m),class:"w-100",style:{"max-width":"unset","text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(u.title),1)]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"]),e.item&&!e.modalActive&&e.activeBlock?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(d,mergeProps({...e.$bindAttributes(),tableClasses:e.$parent.tableClasses},{"custom-title":e.activeBlock.title,class:"mb-12","is-row-editing":!1,"embedded-form":!1,"create-on-modal":!1,"edit-on-modal":!1,"row-actions":[],columns:e.tableHeaders,items:e.items,"table-options":{page:1,itemsPerPage:1,multiSort:!1,mustSort:!1},"hide-footer":"","no-footer":"","no-form":"","no-full-screen":"","ignore-formatters":["activate"]}),{headerRight:withCtx(()=>[createVNode(VBtn,{class:"bg-grey-darken-1",color:"white",variant:"tonal",icon:"$close",density:"compact",onClick:t[1]||(t[1]=l=>e.closeItemDetails())},{default:withCtx(()=>[createVNode(VIcon,{icon:"$close",size:"small"})]),_:1})]),_:1},16,["custom-title","columns","items"]),createBaseVNode("div",null,[createVNode(i,{configuration:e.activeBlock.elements},null,8,["configuration"])])],64)):createCommentVNode("",!0)])}const ActiveTableItem=_export_sfc(_sfc_main$V,[["render",_sfc_render$Q]]),_imports_0="/vendor/modularity/png/cardtypes/chip.png",_sfc_main$U={name:"CreditCard",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},setup(e){const t=ref(null),a=ref(null),n=ref(!1),r=ref(!1),o="#### ###### #####",i="#### ###### ####",s="#### #### #### ####",d=ref(""),l=computed(()=>{let v=new URL(import.meta.url);return`${v.protocol}//${v.hostname}${v.port?":"+v.port:""}`}),u=computed(()=>{let v=e.labels.cardNumber,V="./vendor/modularity/png/cardtypes/";switch(!0){case/^4/.test(v):V=V+"visa.png";break;case/^(34|37)/.test(v):V=V+"amex.png";break;case/^5[1-5]/.test(v):V=V+"mastercard.png";break;case/^6011/.test(v):V=V+"discover.png";break;case/^62/.test(v):V=V+"unionpay.png";break;case/^9792/.test(v):V=V+"troy.png";break;case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(v):V=V+"dinersclub.png";break;case/^35(2[89]|[3-8])/.test(v):V=V+"jcb.png";break;default:V=V+"visa.png";break}return new URL(V,l.value).href}),m=computed(()=>{let v=e.labels.cardNumber;switch(!0){case/^4/.test(v):return"visa";case/^(34|37)/.test(v):return"amex";case/^5[1-5]/.test(v):return"mastercard";case/^6011/.test(v):return"discover";case/^62/.test(v):return"unionpay";case/^9792/.test(v):return"troy";case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(v):return"dinersclub";case/^35(2[89]|[3-8])/.test(v):return"jcb";default:return"visa"}}),c=computed(()=>{if(e.randomBackgrounds&&!e.backgroundImage){let V=`./vendor/modularity/jpg/payment/${Math.floor(Math.random()*25+1)}.jpeg`;return new URL(V,l.value).href}else return e.backgroundImage?e.backgroundImage:null}),h=()=>{const v=document.querySelector(`label[for="${a.value}"]`);t.value=v?{width:`${v.offsetWidth}px`,height:`${v.offsetHeight}px`,transform:`translateX(${v.offsetLeft}px) translateY(${v.offsetTop}px)`}:null},y=(v,V)=>v>4&&v<14&&e.labels.cardNumber.length>v&&V.trim()!==""&&e.isCardNumberMasked,p=()=>{m.value==="amex"?d.value=o:m.value==="dinersclub"?d.value=i:d.value=s,nextTick(()=>{h()})};return watch$1(a,()=>{a.value?h():t.value=null}),watch$1(m,()=>{p()}),onMounted(()=>{p(),document.querySelectorAll("[data-card-field] input").forEach(V=>{V.addEventListener("focus",()=>{n.value=!0,V.id===e.fields.cardYear||V.id===e.fields.cardMonth?a.value="cardDate":a.value=V.id,r.value=V.id===e.fields.cardCvv}),V.addEventListener("blur",()=>{r.value=V.id===e.fields.cardCvv,setTimeout(()=>{n.value||(a.value=null)},300),n.value=!1})})}),{focusElementStyle:t,currentFocus:a,isFocused:n,isCardFlipped:r,baseUrl:l,currentPlaceholder:d,cardType:m,cardImage:u,currentCardBackground:c,changeFocus:h,getIsNumberMasked:y,changePlaceholder:p}}},_hoisted_1$z={class:"card-item__side -front"},_hoisted_2$u={class:"card-item__cover"},_hoisted_3$t=["src"],_hoisted_4$m={class:"card-item__wrapper"},_hoisted_5$k={class:"card-item__top"},_hoisted_6$i={class:"card-item__type"},_hoisted_7$d=["src"],_hoisted_8$c=["for"],_hoisted_9$b={key:0,class:"card-item__numberItem"},_hoisted_10$9={class:"card-item__content"},_hoisted_11$8=["for"],_hoisted_12$5={class:"card-item__holder"},_hoisted_13$5={class:"card-item__name",key:"1"},_hoisted_14$3={class:"card-item__name",key:"2"},_hoisted_15$2={class:"card-item__date",ref:"cardDate"},_hoisted_16$1=["for"],_hoisted_17$1=["for"],_hoisted_18$1={key:"2"},_hoisted_19$1=["for"],_hoisted_20$1={key:"2"},_hoisted_21$1={class:"card-item__side -back"},_hoisted_22$1={class:"card-item__cover"},_hoisted_23=["src"],_hoisted_24={class:"card-item__cvv"},_hoisted_25={class:"card-item__cvvBand"},_hoisted_26={class:"card-item__type"},_hoisted_27=["src"];function _sfc_render$P(e,t,a,n,r,o){return openBlock(),createElementBlock("div",{class:normalizeClass(["card-item",{"-active":n.isCardFlipped}])},[createBaseVNode("div",_hoisted_1$z,[createBaseVNode("div",{class:normalizeClass(["card-item__focus",{"-active":n.focusElementStyle}]),style:normalizeStyle(n.focusElementStyle),ref:"focusElement"},null,6),createBaseVNode("div",_hoisted_2$u,[n.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:n.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_3$t)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$m,[createBaseVNode("div",_hoisted_5$k,[t[0]||(t[0]=createBaseVNode("img",{src:_imports_0,class:"card-item__chip"},null,-1)),createBaseVNode("div",_hoisted_6$i,[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[n.cardImage?(openBlock(),createElementBlock("img",{src:n.cardImage,key:n.cardImage,alt:"",class:"card-item__typeImg"},null,8,_hoisted_7$d)):createCommentVNode("",!0)]),_:1})])]),createBaseVNode("label",{for:a.fields.cardNumber,class:"card-item__number",ref:a.fields.cardNumber},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.currentPlaceholder,(i,s)=>(openBlock(),createElementBlock("span",{key:s},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[n.getIsNumberMasked(s,i)?(openBlock(),createElementBlock("div",_hoisted_9$b,"*")):a.labels.cardNumber.length>s?(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":i.trim()===""}]),key:n.currentPlaceholder},toDisplayString(a.labels.cardNumber[s]),3)):(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":i.trim()===""}]),key:n.currentPlaceholder+1},toDisplayString(i),3))]),_:2},1024)]))),128))],8,_hoisted_8$c),createBaseVNode("div",_hoisted_10$9,[createBaseVNode("label",{for:a.fields.cardName,class:"card-item__info",ref:a.fields.cardName},[createBaseVNode("div",_hoisted_12$5,toDisplayString(e.$t("Card Holder")),1),createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[a.labels.cardName.length?(openBlock(),createElementBlock("div",_hoisted_13$5,[createVNode(TransitionGroup,{name:"slide-fade-right"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.labels.cardName.replace(/\s\s+/g," "),(i,s)=>(openBlock(),createElementBlock("span",{class:"card-item__nameItem",key:s+1},toDisplayString(i),1))),128))]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_14$3,toDisplayString(e.$t("Full Name")),1))]),_:1})],8,_hoisted_11$8),createBaseVNode("div",_hoisted_15$2,[createBaseVNode("label",{for:a.fields.cardMonth,class:"card-item__dateTitle"},toDisplayString(e.$t("Expire Date")),9,_hoisted_16$1),createBaseVNode("label",{for:a.fields.cardMonth,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[a.labels.cardMonth?(openBlock(),createElementBlock("span",{key:a.labels.cardMonth},toDisplayString(a.labels.cardMonth),1)):(openBlock(),createElementBlock("span",_hoisted_18$1,toDisplayString(e.$t("MM")),1))]),_:1})],8,_hoisted_17$1),t[1]||(t[1]=createTextVNode(" / ")),createBaseVNode("label",{for:a.fields.cardYear,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[a.labels.cardYear?(openBlock(),createElementBlock("span",{key:a.labels.cardYear},toDisplayString(String(a.labels.cardYear).slice(2,4)),1)):(openBlock(),createElementBlock("span",_hoisted_20$1,toDisplayString(e.$t("YY")),1))]),_:1})],8,_hoisted_19$1)],512)])])]),createBaseVNode("div",_hoisted_21$1,[createBaseVNode("div",_hoisted_22$1,[n.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:n.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_23)):createCommentVNode("",!0)]),t[3]||(t[3]=createBaseVNode("div",{class:"card-item__band"},null,-1)),createBaseVNode("div",_hoisted_24,[t[2]||(t[2]=createBaseVNode("div",{class:"card-item__cvvTitle"},"CVV",-1)),createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.labels.cardCvv,(i,s)=>(openBlock(),createElementBlock("span",{key:s},"*"))),128))]),createBaseVNode("div",_hoisted_26,[n.cardImage?(openBlock(),createElementBlock("img",{key:0,src:n.cardImage,class:"card-item__typeImg"},null,8,_hoisted_27)):createCommentVNode("",!0)])])])],2)}const CreditCard=_export_sfc(_sfc_main$U,[["render",_sfc_render$P],["__scopeId","data-v-4fa28647"]]),__vite_glob_3_6=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$T={name:"CreditCardForm",directives:{"number-only":{beforeMount(e){function t(a){if(a.target.value=a.target.value.replace(/[^0-9 ]/g,""),a.charCode>=48&&a.charCode<=57||a.charCode===32)return!0;a.preventDefault()}e.addEventListener("keypress",t)}},"letter-only":{beforeMount(e){function t(a){return a.charCode>=48&&a.charCode<=57&&a.preventDefault(),!0}e.addEventListener("keypress",t)}}},props:{formData:{type:Object,default:()=>reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""})},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0}},components:{CreditCard},setup(e,{emit:t}){const a=reactive({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"}),n=inject("submitForm"),r=new Date().getFullYear(),o=ref(!0),i=ref(e.formData.cardNumber),s=ref(19),d=computed(()=>["01","02","03","04","05","06","07","08","09","10","11","12"]),l=computed(()=>{const T=new URLSearchParams(window.location.search);return T.has("testYears")?Array.from({length:T.get("testYears")},(S,I)=>r+I):Array.from({length:12},(S,I)=>r+I)}),u=computed(()=>e.formData.cardYear===r?new Date().getMonth()+1:1);watch$1(()=>e.formData.cardYear,()=>{e.formData.cardMonth<u.value&&(e.formData.cardMonth="")}),onMounted(()=>{C()});const m=T=>T<10?`0${T}`:T,c=reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}),h=()=>{t("v-card-name",e.formData.cardName),t("update:cardName",c.cardName)},y=T=>{e.formData.cardNumber=T.target.value;let S=e.formData.cardNumber.replace(/\D/g,"");/^3[47]\d{0,13}$/.test(S)?(e.formData.cardNumber=S.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(S)?(e.formData.cardNumber=S.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=16):/^\d{0,16}$/.test(S)&&(e.formData.cardNumber=S.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),s.value=19),T.inputType==="deleteContentBackward"&&e.formData.cardNumber.substring(e.formData.cardNumber.length-1)===" "&&(e.formData.cardNumber=e.formData.cardNumber.substring(0,e.formData.cardNumber.length-1)),c.cardNumber=e.formData.cardNumber,t("input-card-number",e.formData.cardNumber),t("update:cardNumber",c.cardNumber)},p=()=>{t("input-card-month",e.formData.cardMonth),t("update:cardMonth",c.cardMonth)},v=()=>{t("input-card-year",e.formData.cardYear),t("update:cardYear",c.cardYear)},V=()=>{t("input-card-cvv",e.formData.cardCvv),t("update:cardCvv",c.cardCvv)},g=()=>{let T=e.formData.cardNumberNotMask.replace(/ /g,""),S=0;for(let I=0;I<T.length;I++){let M=parseInt(T.substr(I,1));I%2===0&&(M*=2,M>9&&(M=1+M%10)),S+=M}S%10!==0&&alert(e.$t("cardForm.invalidCardNumber"))},f=()=>{o.value&&C()},C=()=>{e.formData.cardNumberNotMask=e.formData.cardNumber,i.value=e.formData.cardNumber;let T=e.formData.cardNumber.split("");T.forEach((S,I)=>{I>4&&I<14&&S.trim()!==""&&(T[I]="*")}),e.formData.cardNumber=T.join("")},k=()=>{e.formData.cardNumber=i.value},w=()=>{k()},b=()=>{o.value=!o.value,o.value?C():k()},A=T=>useValidation({rules:"required|min:16|max:19|regex:/^[0-9]+$/"}),E=T=>useValidation({rules:"required"}),N=(T,S)=>{const I=new Date;return new Date(S,T-1)<I?"Card has expired":!0},B=T=>useValidation({rules:"required|min:3|max:4"});return watch$1(()=>e.formData.cardNumber,A),watch$1(()=>e.formData.cardName,E),watch$1([()=>e.formData.cardMonth,()=>e.formData.cardYear],([T,S])=>N(T,S)),watch$1(()=>e.formData.cardCvv,B),watch$1(()=>c.cardName,T=>t("update:cardName",T)),watch$1(()=>c.cardNumber,T=>t("update:cardNumber",T)),watch$1(()=>c.cardMonth,T=>t("update:cardMonth",T)),watch$1(()=>c.cardYear,T=>t("update:cardYear",T)),watch$1(()=>c.cardCvv,T=>t("update:cardCvv",T)),{fields:a,minCardYear:r,isCardNumberMasked:o,mainCardNumber:i,cardNumberMaxLength:s,months:d,years:l,minCardMonth:u,generateMonthValue:m,changeName:h,changeNumber:y,changeMonth:p,changeYear:v,changeCvv:V,invaildCard:g,blurCardNumber:f,maskCardNumber:C,unMaskCardNumber:k,focusCardNumber:w,toggleMask:b,submitForm:n,validateCardNumber:A,validateCardName:E,validateExpiryDate:N,validateCVV:B,formData:c}}},_hoisted_1$y={class:"card-form"},_hoisted_2$t={class:"card-list"},_hoisted_3$s={class:"card-form__inner"},_hoisted_4$l={class:"card-input"},_hoisted_5$j={for:"cardNumber",class:"card-input__label"},_hoisted_6$h={class:"card-input"},_hoisted_7$c={for:"cardName",class:"card-input__label"},_hoisted_8$b={class:"card-form__row"},_hoisted_9$a={class:"card-form__col"},_hoisted_10$8={class:"card-form__group"},_hoisted_11$7={for:"cardMonth",class:"card-input__label"},_hoisted_12$4={class:"card-form__col -cvv"},_hoisted_13$4={class:"card-input"},_hoisted_14$2={for:"cardCvv",class:"card-input__label"};function _sfc_render$O(e,t,a,n,r,o){const i=resolveComponent("CreditCard"),s=resolveDirective("number-only");return openBlock(),createElementBlock("div",_hoisted_1$y,[createBaseVNode("div",_hoisted_2$t,[createVNode(i,{fields:n.fields,labels:n.formData,isCardNumberMasked:n.isCardNumberMasked,randomBackgrounds:a.randomBackgrounds,backgroundImage:a.backgroundImage},null,8,["fields","labels","isCardNumberMasked","randomBackgrounds","backgroundImage"])]),createBaseVNode("div",_hoisted_3$s,[createBaseVNode("div",_hoisted_4$l,[createBaseVNode("label",_hoisted_5$j,toDisplayString(e.$t("Card Number")),1),withDirectives(createVNode(VTextField,{id:n.fields.cardNumber,modelValue:n.formData.cardNumber,"onUpdate:modelValue":t[0]||(t[0]=d=>n.formData.cardNumber=d),onInput:n.changeNumber,onFocus:n.focusCardNumber,onBlur:n.blurCardNumber,"data-card-field":"",type:"tel",variant:"outlined",maxlength:n.cardNumberMaxLength},null,8,["id","modelValue","onInput","onFocus","onBlur","maxlength"]),[[s]])]),createBaseVNode("div",_hoisted_6$h,[createBaseVNode("label",_hoisted_7$c,toDisplayString(e.$t("Card Holder")),1),createVNode(VTextField,{id:n.fields.cardName,modelValue:n.formData.cardName,"onUpdate:modelValue":t[1]||(t[1]=d=>n.formData.cardName=d),onInput:n.changeName,"data-card-field":"",variant:"outlined"},null,8,["id","modelValue","onInput"])]),createBaseVNode("div",_hoisted_8$b,[createBaseVNode("div",_hoisted_9$a,[createBaseVNode("div",_hoisted_10$8,[createBaseVNode("label",_hoisted_11$7,toDisplayString(e.$t("Expire Date")),1),createVNode(VSelect,{id:n.fields.cardMonth,items:n.months,label:e.$t("Month"),modelValue:n.formData.cardMonth,"onUpdate:modelValue":t[2]||(t[2]=d=>n.formData.cardMonth=d),onChange:n.changeMonth,"disabled-item":d=>d<n.minCardMonth,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange","disabled-item"]),createVNode(VSelect,{id:n.fields.cardYear,items:n.years,label:e.$t("Year"),modelValue:n.formData.cardYear,"onUpdate:modelValue":t[3]||(t[3]=d=>n.formData.cardYear=d),onChange:n.changeYear,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange"])])]),createBaseVNode("div",_hoisted_12$4,[createBaseVNode("div",_hoisted_13$4,[createBaseVNode("label",_hoisted_14$2,toDisplayString(e.$t("CVV")),1),withDirectives(createVNode(VTextField,{type:"tel",modelValue:n.formData.cardCvv,"onUpdate:modelValue":t[4]||(t[4]=d=>n.formData.cardCvv=d),id:n.fields.cardCvv,maxlength:"4",onInput:n.changeCvv,"data-card-field":"",autocomplete:"off",variant:"outlined"},null,8,["modelValue","id","onInput"]),[[s]])])])]),createVNode(VBtn,{class:"card-form__button bg-success",onClick:n.submitForm,density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("PAY")),1)]),_:1},8,["onClick"])])])}const CreditCardForm=_export_sfc(_sfc_main$T,[["render",_sfc_render$O]]),__vite_glob_3_7=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCardForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$S={name:"PaymentService",components:{CreditCardForm},emits:[...makeInputEmits,"update:price","currency-converted"],props:{...makeInputProps(),modelValue:{type:Object,default:()=>({})},itemValue:{type:String,default:"id"},items:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},price_object:{type:[Object,Array,Proxy],default:()=>({})},api:{type:String,default:""},currencyCardTypes:{type:[Object,Proxy,Array],default:()=>({})}},setup(e,{emit:t}){var V,g;const a=inject("submitForm"),{formatPrice:n}=useCurrency(),r=ref(""),o=ref("-1"),i=ref(e.price_object.currency_id||((V=e.currencies[0])==null?void 0:V.id)),s=ref(n.value(e.price_object.total_amount/100,((g=e.currencies[0])==null?void 0:g.symbol)||"")),d=reactive({card_name:"",card_number:"",card_month:"",card_year:"",card_cvv:""}),l=computed(()=>e.currencies.find(f=>f.id===i.value)),u=computed(()=>{var f;return(f=l.value)==null?void 0:f.iso_4217}),m=computed(()=>e.currencies.map(f=>({id:f.id,display:`${f.symbol} - ${f.name}`}))),c=computed(()=>i.value?e.items.filter(f=>{var C;return(C=f.payment_currencies)==null?void 0:C.some(k=>k.id===i.value)}):[]),h=computed(()=>c.value.find(f=>f[e.itemValue]===r.value)),y=computed(()=>{var f;return!((f=h.value)!=null&&f.is_external)}),p=computed({get:()=>e.modelValue,set:f=>t("update:modelValue",f)}),v=async f=>{i.value=f,r.value=o.value;const C=e.currencies.find(k=>k.id===f);if(!(!C||!e.api))try{const w=(await axios.post(e.api,{currency:C.iso_4217,amount:e.price_object.discounted_raw_amount/100})).data.converted_amount*(1+e.price_object.vat_multiplier);s.value=n.value(w,C.symbol),t("update:price",s.value),t("currency-converted",s.value)}catch(k){console.error("Currency conversion error:",k)}};return watch$1(()=>e.modelValue,f=>{f&&typeof f=="object"&&(r.value=f.payment_method||o.value,Object.assign(d,f.credit_card||{}))},{immediate:!0,deep:!0}),watch$1([r,d,l],()=>{p.value={payment_method:r.value,credit_card:{...d},currency:l.value}},{deep:!0}),{input:p,localPaymentMethod:r,localDefaultPaymentMethod:o,localCreditCard:d,showCreditCardForm:y,submitForm:a,selectedCurrency:i,selectedCurrencyIso:u,formattedCurrencies:m,filteredServiceItems:c,handleCurrencyChange:v,displayPrice:s,selectedService:h}}},_hoisted_1$x={class:"select-title"},_hoisted_2$s={class:"service-icon-container"},_hoisted_3$r={class:"total"},_hoisted_4$k={class:"amount"},_hoisted_5$i={class:"ml-2 font-weight-bold text-body-2 text-align-center"};function _sfc_render$N(e,t,a,n,r,o){const i=resolveComponent("v-img-icon"),s=resolveComponent("CreditCardForm");return openBlock(),createBlock(VInput,{modelValue:n.input,"onUpdate:modelValue":t[7]||(t[7]=d=>n.input=d)},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"d-flex flex-column justify-center px-0"},{default:withCtx(()=>[createVNode(VCard,{class:"pa-4 payment-container",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$x,toDisplayString(e.$t("How would you like to pay?")),1)]),_:1}),createVNode(VSelect,{modelValue:n.selectedCurrency,"onUpdate:modelValue":[t[0]||(t[0]=d=>n.selectedCurrency=d),n.handleCurrencyChange],items:n.formattedCurrencies,label:"Currency",variant:"outlined",density:"comfortable","item-title":"display","item-value":"id",class:"mx-6"},null,8,["modelValue","items","onUpdate:modelValue"]),createVNode(VRadioGroup,{modelValue:n.localPaymentMethod,"onUpdate:modelValue":t[1]||(t[1]=d=>n.localPaymentMethod=d),column:""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["service-container px-3 py-cs-1 credit-card-service",{"selected-service--focus":n.localPaymentMethod===n.localDefaultPaymentMethod}])},[createVNode(VRadio,{label:e.$t("Credit Card"),value:n.localDefaultPaymentMethod,class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.currencyCardTypes[n.selectedCurrencyIso],(d,l)=>(openBlock(),createBlock(i,{key:`type-${l}`,src:d.logo,style:{"max-width":"64px"}},null,8,["src"]))),128))]),_:1})]),_:1})],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filteredServiceItems,(d,l)=>(openBlock(),createElementBlock("div",{key:`service-${l}`,class:normalizeClass(["service-container px-3 py-1",{"selected-service--focus":n.localPaymentMethod===d[a.itemValue]}])},[createVNode(VRadio,{label:d.name,value:d[a.itemValue],class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>{var u;return[createBaseVNode("div",_hoisted_2$s,[createVNode(i,{Xsrc:"/storage/uploads/"+((u=d==null?void 0:d.medias.find(m=>{var c;return((c=m==null?void 0:m.pivot)==null?void 0:c.role)==="logo"}))==null?void 0:u.uuid),src:d.button_logo_url,class:"v-img__img--relative"},null,8,["Xsrc","src"])])]}),_:2},1024)]),_:2},1024)],2))),128))]),_:1},8,["modelValue"])]),_:1}),createVNode(VCardTitle,{class:"headline"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_3$r,toDisplayString(e.$t("Total Amount")),1),createBaseVNode("p",_hoisted_4$k,toDisplayString(n.displayPrice),1)]),_:1})]),_:1}),createVNode(VCol,{class:"px-0 d-flex align-center justify-center"},{default:withCtx(()=>{var d;return[n.showCreditCardForm?(openBlock(),createBlock(s,{key:0,cardName:n.localCreditCard.card_name,"onUpdate:cardName":t[2]||(t[2]=l=>n.localCreditCard.card_name=l),cardNumber:n.localCreditCard.card_number,"onUpdate:cardNumber":t[3]||(t[3]=l=>n.localCreditCard.card_number=l),cardMonth:n.localCreditCard.card_month,"onUpdate:cardMonth":t[4]||(t[4]=l=>n.localCreditCard.card_month=l),cardYear:n.localCreditCard.card_year,"onUpdate:cardYear":t[5]||(t[5]=l=>n.localCreditCard.card_year=l),cardCvv:n.localCreditCard.card_cvv,"onUpdate:cardCvv":t[6]||(t[6]=l=>n.localCreditCard.card_cvv=l)},null,8,["cardName","cardNumber","cardMonth","cardYear","cardCvv"])):(openBlock(),createBlock(VBtn,{key:1,style:normalizeStyle((d=n.selectedService)==null?void 0:d.button_style),onClick:n.submitForm,density:"comfortable","max-width":"300px","min-width":"80%",class:"d-flex align-center justify-center"},{default:withCtx(()=>{var l;return[createVNode(VImg,{width:"100px",contain:"","max-height":"36px",src:(l=n.selectedService)==null?void 0:l.button_logo_url},null,8,["src"]),createBaseVNode("span",_hoisted_5$i,toDisplayString(n.displayPrice),1)]}),_:1},8,["style","onClick"]))]}),_:1})]),_:1})]),_:1},8,["modelValue"])}const PaymentService=_export_sfc(_sfc_main$S,[["render",_sfc_render$N],["__scopeId","data-v-f06bdfd0"]]),__vite_glob_3_15=Object.freeze(Object.defineProperty({__proto__:null,default:PaymentService},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$4}=makeFormatterProps(),_sfc_main$R={components:{ActiveTableItem,Draggable,VDataTableRow,PaymentService,TableActions:_sfc_main$W},props:{...makeTableNamesProps(),...makeTableFiltersProps(),...makeTableHeadersProps(),...makeTableFormsProps(),...makeTableItemActionsProps(),...makeTableActionsProps(),...makeTableModalsProps(),...makeTableProps(),...makeDraggableProps(),...ignoreFormatters$4},setup(e,t){return{...useDraggable(e),...useTable(e,t)}},data(){return{datatable:{}}},mounted(){document.documentElement.style.setProperty("--table-header-color",this.headerOptions.color),this.$nextTick(()=>{this.$refs.datatable&&(this.datatable=this.$refs.datatable)}),this.initialize()},created(){},methods:{}},_hoisted_1$w={class:"ue-table-top__wrapper"},_hoisted_2$r={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"},_hoisted_3$q={class:"d-flex justify-end"},_hoisted_4$j={key:1};function _sfc_render$M(e,t,a,n,r,o){const i=resolveComponent("ActiveTableItem"),s=resolveComponent("ue-title"),d=resolveComponent("TableActions"),l=resolveComponent("ue-form"),u=resolveComponent("v-btn-secondary"),m=resolveComponent("v-btn-primary"),c=resolveComponent("ue-modal"),h=resolveComponent("ue-recursive-data-viewer"),y=resolveComponent("ue-recursive-stuff"),p=resolveComponent("ue-copy-text"),v=resolveComponent("ue-dynamic-component-renderer"),V=resolveComponent("Draggable");return withDirectives((openBlock(),createBlock(VLayout,{fluid:"",class:normalizeClass([e.noFullScreen?"h-100":""])},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["ue-datatable__container",e.noFullScreen?"fill-height":"fill-heigh ue-datatable--full-screen"])},[createVNode(i,mergeProps({class:"",modelValue:e.activeTableItem,"onUpdate:modelValue":t[0]||(t[0]=g=>e.activeTableItem=g)},e.$lodash.pick(this.$props??{},["name","fullWidthWrapper"]),{"table-headers":Object.values(e.$lodash.omitBy(this.headers,"actions")),"item-data":e.activeItemConfiguration,onToggle:t[1]||(t[1]=g=>e.hideTable=g)}),null,16,["modelValue","table-headers","item-data"]),e.hideTable?createCommentVNode("",!0):(openBlock(),createBlock(VDataTableServer,{key:0,class:normalizeClass(["px-4 h-100",e.tableClasses,e.fullWidthWrapper?"":"ue-table--narrow-wrapper",e.striped?"ue-datatable--striped":"",e.roundedRows?"ue-datatable--rounded-row":"",e.hideBorderRow?"ue-datatable--no-border-row":"",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"ue-datatable--bottom-controls":""]),id:"ue-table",headers:e.selectedHeaders,"fixed-header":e.fixedHeader,sticky:e.sticky,items:e.elements,hover:!0,"items-per-page":e.options.itemsPerPage,search:e.options.search,page:e.options.page,"items-length":e.totalNumberOfElements,"item-title":e.titleKey,ref:"datatable",height:e.windowSize.y-64-24-59-76-(e.$vuetify.display.mdAndDown?80:0),"hide-default-header":e.hideHeaders,"multi-sort":e.multiSort,"must-sort":e.mustSort,density:e.tableDensity??"comfortable","disable-sort":e.disableSort,loading:e.loading,"loading-text":e.$t("Loading... Please wait"),mobile:e.$vuetify.display.smAndDown,"show-select":e.$store.getters.isSuperAdmin&&e.showSelect,"item-value":"id",modelValue:e.selectedItems,"onUpdate:modelValue":t[15]||(t[15]=g=>e.selectedItems=g),"onUpdate:options":t[16]||(t[16]=g=>e.changeOptions(g))},createSlots({top:withCtx(({someSelected:g})=>[createVNode(VToolbar,mergeProps(e.toolbarOptions,{class:["pt-3"]}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"pt-2":"flex-grow-1 h-100 d-flex flex-column justify-center"]),style:{"min-width":"20%"}},[createVNode(s,{type:"subtitle-1",color:"black",text:e.tableTitle,padding:"a-0"},null,8,["text"]),e.tableSubtitle?(openBlock(),createBlock(s,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0",text:e.tableSubtitle},null,8,["text"])):createCommentVNode("",!0)],2),e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?(openBlock(),createBlock(VDivider,{key:0,class:"my-3"})):createCommentVNode("",!0),createVNode(VSlideXTransition,{group:!0},{default:withCtx(()=>[createBaseVNode("div",{key:"table-controls",class:normalizeClass(["d-flex",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"mb-2":"flex-grow-1"])},[g?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.bulkActions,(f,C)=>(openBlock(),createElementBlock(Fragment,{key:C},[e.$can(f.name,e.permissionName)?withDirectives((openBlock(),createBlock(VBtn,mergeProps({key:0,ref_for:!0},e.filterBtnOptions,{"append-icon":!1,"prepend-icon":f.icon?f.icon:`$${f.name}`,text:e.window.__headline(f.name),color:f.color??"primary",onClick:k=>e.itemAction(f,f.name)}),null,16,["prepend-icon","text","color","onClick"])),[[Tooltip,e.$lodash.startCase(f.name)]]):createCommentVNode("",!0)],64))),128)):(openBlock(),createElementBlock(Fragment,{key:1},[!e.hideSearchField&&e.hasSearchableHeader?(openBlock(),createBlock(VTextField,{key:0,modelValue:e.searchModel,"onUpdate:modelValue":t[3]||(t[3]=f=>e.searchModel=f),variant:"outlined","append-inner-iconx":e.searchModel!==e.search?"mdi-magnify":null,"hide-details":"",density:"compact","single-line":"",placeholder:e.searchPlaceholder,class:normalizeClass(["mr-2",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"flex-grow-1":""]),style:normalizeStyle(["display: inline","min-width: 100px"]),"onClick:appendInner":e.searchItems,disabled:e.loading,onKeydown:withKeys(e.searchItems,["enter"])},{"append-inner":withCtx(()=>[createVNode(VBtn,{disabled:e.searchModel===e.search,icon:"mdi-magnify",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:t[2]||(t[2]=f=>e.searchItems())},null,8,["disabled"])]),_:1},8,["modelValue","append-inner-iconx","placeholder","class","onClick:appendInner","disabled","onKeydown"])):createCommentVNode("",!0),e.$vuetify.display.mdAndUp?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),createVNode(d,{actions:e.actions},{prepend:withCtx(()=>[createVNode(VMenu,null,{activator:withCtx(({props:f})=>[e.mainFilters.length>0?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"filter-btn-activator"},{...e.filterBtnOptions,...e.filterBtnTitle,...f},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,Xtext:e.$vuetify.display.smAndDown?null:e.filterBtnTitle.text,text:e.filterBtnTitle.text,"prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.smAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","Xtext","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mainFilters,(f,C)=>(openBlock(),createBlock(VListItem,{key:C,onClick:withModifiers(k=>e.changeFilter(f.slug),["prevent"]),class:normalizeClass([f.slug===e.activeFilterSlug?"bg-primary":""])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(f.name+"("+f.number+")"),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}),createVNode(VMenu,{"close-on-content-click":!1,location:"end"},{activator:withCtx(({props:f})=>[Object.keys(e.advancedFilters).length>0?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"advanced-filter-btn"},{...e.filterBtnOptions,...e.filterBtnTitle,...f},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:"Advanced Filter","prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.mdAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{title:"Advanced Filter","min-width":"40vw","max-width":"50vw"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.advancedFilters,(f,C)=>(openBlock(),createElementBlock(Fragment,{key:C},[(openBlock(!0),createElementBlock(Fragment,null,renderList(f,(k,w)=>(openBlock(),createBlock(resolveDynamicComponent(`v-${k.type}`),mergeProps({ref_for:!0},k.componentOptions,{modelValue:k.selecteds,"onUpdate:modelValue":b=>k.selecteds=b}),null,16,["modelValue","onUpdate:modelValue"]))),256))],64))),128))]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"Clear",variant:"plain",onClick:e.resetAdvancedFilter},null,8,["onClick"]),createVNode(VBtn,{color:"primary",text:"Save",variant:"tonal",onClick:e.changeAdvancedFilter},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["actions"]),e.$can("create",e.permissionName)&&!e.noForm&&!g&&e.createOnModal?(openBlock(),createBlock(VBtn,mergeProps({key:2},e.addBtnOptions,{onClick:e.createForm,icon:e.$vuetify.display.smAndDown?e.addBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:e.addBtnTitle,"prepend-icon":e.$vuetify.display.smAndDown?null:e.addBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.addBtnOptions.density??"comfortable"}),null,16,["onClick","icon","text","prepend-icon","density"])):createCommentVNode("",!0)],64))],2)]),_:2},1024)]),_:2},1040),e.hideHeaders&&e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,class:"w-100 mb-4 mt-2",color:"success",indeterminate:"",reverse:""})):e.controlsPosition==="top"&&e.$vuetify.display.mdAndUp?(openBlock(),createBlock(VDivider,{key:1,class:"mb-4 mt-2"})):createCommentVNode("",!0),e.embeddedForm?createCommentVNode("",!0):(openBlock(),createBlock(c,mergeProps({key:2,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":t[7]||(t[7]=f=>e.formActive=f),transition:"dialog-bottom-transition",fullscreen:!1,"width-type":"lg"},e.formModalAttributes),{body:withCtx(f=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(l,mergeProps({ref:"UeForm","form-class":"px-6 pt-6 pb-0","fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":""},e.formAttributes,{title:e.formTitle,isEditing:e.editedIndex>-1,style:f.isFullActive?"height: 90vh !important;":"height: 70vh !important;",actions:e.formActions,onActionComplete:e.handleFormActionComplete}),createSlots({"header.left":withCtx(C=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(C)),()=>[createTextVNode(toDisplayString(C.title),1)])]),"header.right":withCtx(()=>[renderSlot(e.$slots,"form.header.right",{},()=>[createVNode(VBtn,{icon:f.isFullActive?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:C=>f.toggleFullscreen()},null,8,["icon","onClick"]),createVNode(VBtn,{icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:t[4]||(t[4]=C=>e.closeForm())})])]),top:withCtx(C=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(C)))]),_:2},[e.$slots["form.top"]?{name:"top",fn:withCtx(C=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(C)))]),key:"0"}:void 0,e.$slots["form.bottom"]?{name:"bottom",fn:withCtx(C=>[renderSlot(e.$slots,"form.bottom",normalizeProps(guardReactiveProps(C)))]),key:"1"}:void 0,e.$slots["form.right.top"]?{name:"right.top",fn:withCtx(C=>[renderSlot(e.$slots,"form.right.top",normalizeProps(guardReactiveProps(C)))]),key:"2"}:void 0,e.$slots["form.right.middle"]?{name:"right.middle",fn:withCtx(C=>[renderSlot(e.$slots,"form.right.middle",normalizeProps(guardReactiveProps(C)))]),key:"3"}:void 0,e.$slots["form.right.bottom"]?{name:"right.bottom",fn:withCtx(C=>[renderSlot(e.$slots,"form.right.bottom",normalizeProps(guardReactiveProps(C)))]),key:"4"}:void 0,e.$slots["form.actions.prepend"]?{name:"actions.prepend",fn:withCtx(C=>[renderSlot(e.$slots,"form.actions.prepend",normalizeProps(guardReactiveProps(C)))]),key:"5"}:void 0,e.$slots["form.actions.append"]?{name:"actions.append",fn:withCtx(C=>[renderSlot(e.$slots,"form.actions.append",normalizeProps(guardReactiveProps(C)))]),key:"6"}:void 0]),1040,["title","isEditing","style","actions","onActionComplete"]),createVNode(VDivider,{class:"mx-6 mt-4"}),createVNode(VCardActions,{class:"px-6 flex-grow-0"},{default:withCtx(()=>[createVNode(VSpacer),e.$store.getters.isSuperAdmin?(openBlock(),createBlock(u,{key:0,slim:!1,variant:"outlined",onClick:t[5]||(t[5]=C=>e.$refs.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Validate")),1)]),_:1})):createCommentVNode("",!0),createVNode(m,{slim:!1,variant:"elevated",onClick:t[6]||(t[6]=C=>e.confirmFormModal()),disabled:!e.formIsValid,loading:e.formLoading},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:2},1024)]),_:3},16,["modelValue"])),createBaseVNode("div",_hoisted_1$w,[e.embeddedForm&&!e.noForm?(openBlock(),createElementBlock("div",{key:0,class:"",style:normalizeStyle(e.formStyles)},[createVNode(VExpandTransition,null,{default:withCtx(()=>[e.formActive?(openBlock(),createBlock(VCard,{key:0,class:"mb-theme",elevation:"4"},{default:withCtx(()=>[createVNode(l,{"has-submit":"","button-text":"save",title:e.formTitle,ref:"form",isEditing:e.editedIndex>-1},{"header.left":withCtx(f=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(f)),()=>[createTextVNode(toDisplayString(f.title),1)])]),headerCenter:withCtx(()=>t[17]||(t[17]=[])),"header.right":withCtx(()=>[createVNode(VBtn,{class:"",variant:"text",icon:"$close",density:"compact",onClick:t[8]||(t[8]=f=>e.closeForm())})]),_:3},8,["title","isEditing"])]),_:3})):createCommentVNode("",!0)]),_:3})],4)):createCommentVNode("",!0),createVNode(c,mergeProps({modelValue:e.modals.dialog.active,"onUpdate:modelValue":t[9]||(t[9]=f=>e.modals.dialog.active=f),ref:e.modals.dialog.ref,transition:"dialog-bottom-transition","width-type":"sm"},e.modals.dialog.modalAttributes??{}),null,16,["modelValue"]),e.modals.show.active?(openBlock(),createBlock(c,{key:1,ref:e.modals.show.ref,modelValue:e.modals.show.active,"onUpdate:modelValue":t[11]||(t[11]=f=>e.modals.show.active=f),transition:e.modals.show.transition||"dialog-bottom-transition","width-type":e.modals.show.widthType||"lg",persistent:e.modals.show.persistent,description:e.modals.show.description},{body:withCtx(f=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(s,{padding:"a-3",color:"grey-darken-5",align:"center",justify:"space-between"},{right:withCtx(()=>t[18]||(t[18]=[])),default:withCtx(()=>[createTextVNode(toDisplayString(e.modals.show.title)+" ",1)]),_:1})]),_:1}),createVNode(VDivider,{class:"mx-6"}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(h,{data:e.modals.show.data,"all-array-items-open":!1,"all-array-items-closed":!1},null,8,["data"])]),_:1}),createVNode(VDivider,{class:"mx-6 mt-4"}),createVNode(VCardActions,{class:"px-6 flex-grow-0"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(m,{slim:!1,variant:"elevated",onClick:t[10]||(t[10]=C=>e.modals.show.cancel())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","transition","width-type","persistent","description"])):createCommentVNode("",!0),createVNode(c,{modelValue:e.customFormModalActive,"onUpdate:modelValue":t[14]||(t[14]=f=>e.customFormModalActive=f),ref:"customFormModal","width-type":"lg",persistent:""},{default:withCtx(()=>[createVNode(l,mergeProps({ref:"customForm",modelValue:e.customFormModel,"onUpdate:modelValue":t[13]||(t[13]=f=>e.customFormModel=f)},e.customFormAttributes,{"fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":"","form-class":"px-6 pb-0",style:{height:"90vh !important"}}),{"header.right":withCtx(()=>[createVNode(VBtn,{class:"ml-auto",variant:"text",icon:"$close",density:"compact",color:"deafult",onClick:t[12]||(t[12]=f=>e.customFormModalActive=!1)})]),_:1},16,["modelValue"])]),_:1},8,["modelValue"])])]),"header.actions":withCtx(g=>[createVNode(VMenu,{"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:f})=>[createVNode(VBtn,mergeProps({size:"large",variant:"plain",color:"black",icon:"mdi-cog-outline"},f),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(VList,{class:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersModel,(f,C)=>(openBlock(),createElementBlock(Fragment,{key:C},[f.key!=="actions"?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.headersModel[C].visible,"onUpdate:modelValue":k=>e.headersModel[C].visible=k,color:"primary",class:"ml-n2",disabled:e.headersModel.filter(k=>k.key!=="actions"&&k.visible===!0).length<2&&e.headersModel[C].visible===!0,label:f.title,"hide-details":"",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","disabled","label"])):createCommentVNode("",!0)],64))),128))]),_:1})]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{color:"primary",text:"Save",variant:"tonal",onClick:e.applyHeaders,block:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),"item.actions":withCtx(({item:g})=>[e.actionShowingType==="dropdown"?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,left:"","offset-x":"",class:"action-dropdown"},{activator:withCtx(({props:f})=>[createVNode(VIcon,mergeProps({size:"large",color:"primary",icon:"$list"},f),null,16)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(f,C)=>(openBlock(),createElementBlock(Fragment,{key:C},[e.itemHasAction(g,f)?(openBlock(),createBlock(VListItem,{key:0,onClick:k=>e.itemAction(g,f)},{default:withCtx(()=>[createVNode(VIcon,{small:"",color:f.color,left:""},{default:withCtx(()=>[createTextVNode(toDisplayString(f.icon?f.icon:"$"+f.name),1)]),_:2},1032,["color"]),createTextVNode(" "+toDisplayString(e.$t(f.label??e.$headline(f.name))),1)]),_:2},1032,["onClick"])):createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024)):(openBlock(),createElementBlock("div",_hoisted_4$j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(f,C)=>(openBlock(),createElementBlock(Fragment,{key:C},[e.itemHasAction(g,f)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(f.label??f.name),location:"top"},{activator:withCtx(({props:k})=>[createVNode(VIcon,mergeProps({small:"",class:"mr-2",onClick:w=>e.itemAction(g,f),color:f.color,ref_for:!0},k),{default:withCtx(()=>[createTextVNode(toDisplayString(f.icon?f.icon:"$"+f.name),1)]),_:2},1040,["onClick","color"])]),_:2},1032,["text"])):createCommentVNode("",!0)],64))),128))]))]),"body.append":withCtx(()=>[e.enableInfiniteScroll?withDirectives((openBlock(),createBlock(VCard,{key:0},null,512)),[[Intersect,e.onIntersect]]):createCommentVNode("",!0),e.enableInfiniteScroll&&e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,indeterminate:e.loading},null,8,["indeterminate"])):createCommentVNode("",!0)]),_:2},[e.hasCustomRow?{name:"body",fn:withCtx(({items:g})=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g,(f,C)=>(openBlock(),createBlock(VCol,mergeProps({key:f.id,ref_for:!0},e.customRow.col),{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(`ue-${e.customRow.name}`),{key:f.id,item:f,headers:e.headers,rowActions:e.rowActions,onClickAction:e.itemAction},{actions:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_2$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(k,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[e.itemHasAction(f,k)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(k.label??e.$headline(k.name)),location:"top"},{activator:withCtx(({props:b})=>[createVNode(VBtn,mergeProps({ref_for:!0},b,{text:k.forceLabel?e.$t(k.label??e.$headline(k.name)):null,variant:k.variant??"elevated",density:k.density??(k.forceLabel?"comfortable":"compact"),size:k.size??(k.forceLabel,"default"),icon:k.forceLabel?null:k.icon?k.icon:"$"+k.name,color:k.color??"primary",rounded:k.forceLabel?null:!0,onClick:A=>e.itemAction(f,k),class:"text-capitalize"}),null,16,["text","variant","density","size","icon","color","rounded","onClick"])]),_:2},1032,["text"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1064,["item","headers","rowActions","onClickAction"])),C<g.length-1?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:2},1040))),128))]),_:2},1024)]),key:"0"}:void 0,e.enableCustomFooter?{name:"bottom",fn:withCtx(({page:g,pageCount:f})=>[createBaseVNode("div",_hoisted_3$q,[createVNode(VPagination,mergeProps({modelValue:e.options.page,"onUpdate:modelValue":C=>e.options.page=C,length:f},e.footerProps),null,16,["modelValue","onUpdate:modelValue","length"])])]),key:"1"}:void 0,renderList(e.slots,(g,f)=>({name:f,fn:withCtx(()=>[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.elements,(C,k)=>(openBlock(),createBlock(y,{key:`tag-0-${k}`,configuration:C},null,8,["configuration"]))),128))])])})),renderList(e.formatterColumns,(g,f)=>({name:`item.${g.key}`,fn:withCtx(({item:C})=>[g.formatter=="edit"||g.formatter=="activate"?(openBlock(),createBlock(VTooltip,{text:C[g.key],key:f},{activator:withCtx(({props:k})=>[(openBlock(),createBlock(VBtn,mergeProps({key:f},k,{class:"pa-0 justify-start text-none",variant:"plain",color:"primary darken-1",onClick:w=>e.itemAction(C,...g.formatter)}),{default:withCtx(()=>[createTextVNode(toDisplayString(g.key.match(/^id|uuid$/)?e.window.__shorten(C[g.key],8):C[g.key]),1)]),_:2},1040,["onClick"])),g.key.match(/^id|uuid$/)?(openBlock(),createBlock(p,{key:0,text:C[g.key]},null,8,["text"])):createCommentVNode("",!0)]),_:2},1032,["text"])):g.formatter=="switch"?(openBlock(),createBlock(VSwitch,{key:f,"model-value":C[g.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":k=>e.itemAction(C,"switch",k,g.key)},{label:withCtx(()=>t[19]||(t[19]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):g.formatter=="dynamic"?(openBlock(),createBlock(v,{subject:C[g.key],key:C[g.key]},null,8,["subject"])):(openBlock(),createBlock(y,mergeProps({key:3},e.handleFormatter(g.formatter,e.window.__shorten(C[g.key]??"",e.cellOptions.maxChars)),{key:C[g.key]}),null,16))])})),e.draggable?{name:"default",fn:withCtx(()=>[createBaseVNode("thead",null,[renderSlot(e.$slots,e.headers,{},()=>[createVNode(VDataTableHeaders,{mobile:this.datatable.mobile,color:this.headerOptions.color},createSlots({_:2},[renderList(this.datatable.$slots,(g,f)=>({name:f,fn:withCtx(C=>[renderSlot(e.$slots,f,normalizeProps(guardReactiveProps(C)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[f]),normalizeProps(guardReactiveProps(C)),null,16))])])}))]),1032,["mobile","color"])])]),createVNode(V,mergeProps({"model-value":e.elements,"item-key":"position"},e.dragOptions,{tag:"tbody",class:"v-data-table__tbody","onUpdate:modelValue":e.sortElements}),{item:withCtx(g=>[createVNode(VDataTableRow,{item:e.draggableItems[g.index],mobile:this.datatable.mobile},createSlots({_:2},[renderList(this.datatable.$slots,(f,C)=>({name:C,fn:withCtx(k=>[renderSlot(e.$slots,C,normalizeProps(guardReactiveProps(k)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[C]),mergeProps({",":""},{...k,item:e.elements[g.index]}),null,16))])])}))]),1032,["item","mobile"])]),_:3},16,["model-value","onUpdate:modelValue"])]),key:"2"}:void 0]),1032,["class","headers","fixed-header","sticky","items","items-per-page","search","page","items-length","item-title","height","hide-default-header","multi-sort","must-sort","density","disable-sort","loading","loading-text","mobile","show-select","modelValue"]))],2)]),_:3},8,["class"])),[[Resize,e.onResize]])}const Table=_export_sfc(_sfc_main$R,[["render",_sfc_render$M]]),__vite_glob_0_33=Object.freeze(Object.defineProperty({__proto__:null,default:Table},Symbol.toStringTag,{value:"Module"})),_sfc_main$Q={props:{componentName:{type:String},tableAttributes:{type:Object,required:!0,default:{}}}};function _sfc_render$L(e,t,a,n,r,o){return openBlock(),createBlock(resolveDynamicComponent(`ue-${a.componentName}`),normalizeProps(guardReactiveProps(a.tableAttributes)),null,16)}const TableBinder=_export_sfc(_sfc_main$Q,[["render",_sfc_render$L]]),__vite_glob_0_34=Object.freeze(Object.defineProperty({__proto__:null,default:TableBinder},Symbol.toStringTag,{value:"Module"})),_sfc_main$P={props:{elements:{type:Array,default(){return[]}},color:{type:String,default:""}},data(){return{defaultCols:[]}},computed:{textColor(){return this.color!==""?`text-${this.color}`:""}}};function _sfc_render$K(e,t,a,n,r,o){return openBlock(),createBlock(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.elements,(i,s)=>(openBlock(),createBlock(VCol,mergeProps({key:s,ref_for:!0},i.col),{default:withCtx(()=>[createBaseVNode("label",{class:normalizeClass([`${o.textColor}`,i.class]),style:normalizeStyle(i.style)},toDisplayString(i.text),7)]),_:2},1040))),128))]),_:1})}const RowFormat=_export_sfc(_sfc_main$P,[["render",_sfc_render$K]]),_sfc_main$O={name:"ue-tabs",emits:["update:modelValue"],components:{RowFormat},props:{modelValue:{type:[String,Number]},tabValue:{type:String,default:"id"},tabTitle:{type:String,default:"name"},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab_:this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null,models:{},elements:__isObject(this.items)?Object.keys(this.items).map(e=>({[this.tabTitle]:e,...this.items[e],[this.tabValue]:e})):this.items}},watch:{tab_:{handler(e,t){this.$emit("update:modelValue",e)}}},computed:{tab:{get(){return this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,t)=>[])}};function _sfc_render$J(e,t,a,n,r,o){const i=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:o.tab,"onUpdate:modelValue":t[0]||(t[0]=s=>o.tab=s),"align-tabs":"center"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.elements,s=>renderSlot(e.$slots,`tab.${s[a.tabValue]}`,{key:`tab-${s[a.tabValue]}`},()=>[createVNode(VTab,{value:s[a.tabValue]},{prepend:withCtx(()=>[renderSlot(e.$slots,`tab.${s[a.tabValue]}.prepend`)]),append:withCtx(()=>[renderSlot(e.$slots,`tab.${s[a.tabValue]}.append`)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s[a.tabTitle]),1)]),_:2},1032,["value"])])),128))]),_:3},8,["modelValue"]),renderSlot(e.$slots,"windows",normalizeProps(guardReactiveProps({active:o.tab})),()=>[createVNode(VTabsWindow,{modelValue:o.tab,"onUpdate:modelValue":t[1]||(t[1]=s=>o.tab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.items,(s,d)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${d}`,value:s[a.tabValue]},{default:withCtx(()=>[renderSlot(e.$slots,`window.${d}`,mergeProps({ref_for:!0},{index:d,item:s,model:r.models[s[a.tabValue]]}),()=>[createVNode(i,{elements:[{text:`${s[a.itemTitle]}`,col:{cols:4}}]},null,8,["elements"])])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])])],64)}const Tabs=_export_sfc(_sfc_main$O,[["render",_sfc_render$J]]),__vite_glob_0_35=Object.freeze(Object.defineProperty({__proto__:null,default:Tabs},Symbol.toStringTag,{value:"Module"})),_sfc_main$N={name:"ue-tabs",components:{RowFormat},props:{itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab:Object.keys(this.items)[0]??null,models:{}}},created(){this.models=Object.keys(this.items).map((e,t)=>[])}};function _sfc_render$I(e,t,a,n,r,o){const i=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:r.tab,"onUpdate:modelValue":t[0]||(t[0]=s=>r.tab=s),"align-tabs":"center"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(a.items),s=>(openBlock(),createBlock(VTab,{key:`tab-${s}`,value:s},{default:withCtx(()=>[createTextVNode(toDisplayString(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),createVNode(VTabsWindow,{modelValue:r.tab,"onUpdate:modelValue":t[1]||(t[1]=s=>r.tab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(a.items),(s,d)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${s}`,value:s,class:"pa-theme"},{default:withCtx(()=>[renderSlot(e.$slots,"window",mergeProps({ref_for:!0},{index:d,key:s,items:a.items[s],model:r.models[s]}),()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.items[s],(l,u)=>(openBlock(),createBlock(i,{key:`window-row-${u}]`,elements:[{text:`${l[a.itemTitle]}`,col:{cols:4}}]},null,8,["elements"]))),128)),renderSlot(e.$slots,"windowItem")])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])],64)}const TabsPrevious=_export_sfc(_sfc_main$N,[["render",_sfc_render$I]]),__vite_glob_0_36=Object.freeze(Object.defineProperty({__proto__:null,default:TabsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$M={name:"ue-text-display",props:{text:{type:String,required:!0},subText:{type:String,required:!1}}},_hoisted_1$v={class:"d-flex align-baseline"},_hoisted_2$q={class:"font-weight-bold"},_hoisted_3$p={key:0,class:"text-body-1"};function _sfc_render$H(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$v,[createBaseVNode("span",_hoisted_2$q,toDisplayString(a.text),1),a.subText?(openBlock(),createElementBlock("span",_hoisted_3$p,toDisplayString(a.subText),1)):createCommentVNode("",!0)])}const TextDisplay=_export_sfc(_sfc_main$M,[["render",_sfc_render$H]]),__vite_glob_0_37=Object.freeze(Object.defineProperty({__proto__:null,default:TextDisplay},Symbol.toStringTag,{value:"Module"})),_sfc_main$L={__name:"Title",props:{text:String,subTitle:String,tag:{type:String,default:"div",validator:e=>["div","h1","h2","h3","h4","h5","h6"].includes(e)},type:{type:String,default:"body-1",validator:e=>e===null||["h1","h2","h3","h4","h5","h6","subtitle-1","subtitle-2","body-1","body-2","button","caption","overline"].includes(e)},weight:{type:String,default:"bold",validator:e=>e===null||["black","bold","medium","regular","light","thin"].includes(e)},transform:{type:String,default:"uppercase",validator:e=>e===null||["none","capitalize","lowercase","uppercase"].includes(e)},color:{type:String},bg:{type:String},padding:{type:String,default:"a-3"},margin:{type:String,default:"a-0"},align:{type:String,default:"start",validator:e=>["start","center","end"].includes(e)},textPosition:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},justify:{type:String,default:"start",validator:e=>["start","center","end","space-between"].includes(e)},classes:{type:[String,Array]},paddingReset:{type:Boolean,default:!1},descriptionClasses:{type:[String,Array],default:"font-weight-light text-subtitle-2 text-truncate"}},setup(e){const t=e,a=computed(()=>["ue-title",`text-${t.type}`,t.bg?`bg-${t.bg}`:"",t.color?`text-${t.color}`:"",`text-${t.transform}`,`font-weight-${t.weight}`,t.padding?`p${t.padding}`:"",t.margin?`m${t.margin}`:"",`text-${t.textPosition}`,`align-${t.align}`,`justify-${t.justify}`]);return(n,r)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass([a.value,e.classes,"d-flex"])},{default:withCtx(()=>[renderSlot(n.$slots,"default",normalizeProps(guardReactiveProps({text:e.text})),()=>[createTextVNode(toDisplayString(e.text),1)]),renderSlot(n.$slots,"right")]),_:3},8,["class"]))}},__vite_glob_0_38=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$L},Symbol.toStringTag,{value:"Module"})),illegalRe=/[\/\?<>\\:\*\|":]/g,controlRe=/[\x00-\x1f\x80-\x9f]/g,reservedRe=/^\.+$/,windowsReservedRe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,windowsTrailingRe=/[\. ]+$/,defaultDiacriticsRemovalap=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],diacriticsMap={};for(let e=0;e<defaultDiacriticsRemovalap.length;e++){const t=defaultDiacriticsRemovalap[e].letters.split("");for(let a=0;a<t.length;a++)diacriticsMap[t[a]]=defaultDiacriticsRemovalap[e].base}function noAccents(e,t,a){let n=e.replace(/[^\u0000-\u007E]/g,function(r){return diacriticsMap[r]||r});return a=a||"",n=n.replace(/[^\u0000-\u007E]/g,a),n}function sanitize(e,t){let a=noAccents(e).replace(illegalRe,t).replace(controlRe,t).replace(reservedRe,t).replace(windowsReservedRe,t).replace(windowsTrailingRe,t);const n=/[^0-9a-zA-Z-.,;_]/g;return a=a.replace(n,""),truncate(a,{length:255})}function sanitizeFilename(e,t){return sanitize(e,"")}const _sfc_main$K={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){const e=this.uploaderConfig.allowedExtensions;return{allowedExtensions:e,acceptFiles:"."+e.join(", ."),stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){const t={debug:!0,maxConnections:5,button:this.$refs.uploaderBrowseButton,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader=this.uploaderConfig.endpointType==="s3"?new _default({options:{...t,validation:{...this.uploaderValidation},objectProperties:{key:a=>this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(a)),region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):this.uploaderConfig.endpointType==="azure"?new _default$1({options:{...t,validation:{...this.uploaderValidation},cors:{expected:!0,sendCredentials:!0},blobProperties:{name:a=>new Promise(n=>{n(this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(a)))})},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):new _default$2({options:{...t,validation:{...this.uploaderValidation,sizeLimit:this.uploaderConfig.filesizeLimit*1048576},request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}})},replaceMedia:function(e){this.media_to_replace_id=e;const t=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');t[Array.from(t).length-1].click()},loadingProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,t){this.$emit("loaded",t),this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD,e)},_onCompleteCallback(e,t,a,n){const r=this.loadingMedias.findIndex(o=>o.id===this._uploader.methods.getUuid(e));a.success?this.loadingFinished(this.loadingMedias[r],a.media):this.loadingError(this.loadingMedias[r])},_onAllCompleteCallback(e,t){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback(e,t){this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+qq.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);const a=URL.createObjectURL(this._uploader.methods.getFile(e)),n=new Image;n.onload=()=>{this._uploader.methods.setParams({width:n.width,height:n.height,unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e),this.media_to_replace_id=null},n.src=a;const r={id:this._uploader.methods.getUuid(e),name:sanitizeFilename(t),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};this.type.value==="file"&&(this.media_to_replace_id=null),this.loadingMedias.push(r),this.loadingProgress(r)},_onProgressCallback(e,t,a,n){const r=this.loadingMedias.findIndex(o=>o.id===this._uploader.methods.getUuid(e));if(r>=0){const o=this.loadingMedias[r];o.progress=a/n*100||0,o.error=!1,this.loadingProgress(o)}},_onErrorCallback(e,t,a,n){const r=e?this.loadingMedias.findIndex(o=>o.id===this._uploader.methods.getUuid(e)):-1;if(r>=0)this.loadingMedias[r].errorMessage=a,this.loadingError(this.loadingMedias[r]);else{const o={id:e?this._uploader.methods.getUuid(e):Math.floor(Math.random()*1e3),name:sanitizeFilename(t),progress:0,error:!0,errorMessage:a};this.loadingMedias.push(o),this.loadingProgress(o),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback(e,t,a){if(a==="retrying upload"){const n=this.loadingMedias.findIndex(function(r){return r.id===e});if(n>=0){const r=this.loadingMedias[n];r.progress=0,r.error=!1,this.loadingProgress(r)}}},_onTotalProgressCallback(e,t){const a=Math.floor(e/t*100);this.uploadProgress(a)},_onDropError(e,t){console.error(e,t)},_onProcessingDroppedFilesComplete(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted(){this.initUploader();const e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new qq.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeUnmount(){this._qqDropzone&&this._qqDropzone.dispose()}},_hoisted_1$u={class:"uploader"},_hoisted_2$p={class:"uploader__dropzone",ref:"uploaderDropzone"},_hoisted_3$o={class:"uploader__dropzone--desktop"};function _sfc_render$G(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$u,[createBaseVNode("div",_hoisted_2$p,[createBaseVNode("div",{class:"button",ref:"uploaderBrowseButton"},toDisplayString(e.$trans("uploader.upload-btn-label","Add new")),513),createBaseVNode("div",_hoisted_3$o,toDisplayString(e.$trans("uploader.dropzone-text","or drop new files here")),1)],512)])}const Uploader=_export_sfc(_sfc_main$K,[["render",_sfc_render$G],["__scopeId","data-v-936f2c80"]]),__vite_glob_0_39=Object.freeze(Object.defineProperty({__proto__:null,default:Uploader},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$3}=makeFormatterProps(),_sfc_main$J={props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$3},setup(e,t){return{...useTableIterator(e,t)}},data(){return{isExpanded:!1}},methods:{toggleExpand(){this.isExpanded=!this.isExpanded}}};function _sfc_render$F(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VCard,{onClick:o.toggleExpand,color:"#EBEFF280",variant:"flat",rounded:"l",class:"mr-0 pr-0"},{default:withCtx(()=>[createVNode(VRow,{class:"d-flex align-center pr-0 mr-0 ga-0"},{default:withCtx(()=>[createVNode(VCol,{cols:"11"},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.headerKey].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.headerKey].formatter,e.item[e.iteratorOptions.headerKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1}))]),_:1}),createVNode(VSpacer),createVNode(VIcon,{icon:"mdi-menu-down",class:"pr-3"})]),_:1}),(openBlock(),createBlock(VExpandTransition,{key:e.item.id},{default:withCtx(()=>[r.isExpanded?(openBlock(),createBlock(VCard,{key:0},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.expandedKey].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.expandedKey].formatter,e.item[e.iteratorOptions.expandedKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.expandedKey]),1)]),_:1}))]),_:1})):createCommentVNode("",!0)]),_:1}))]),_:1},8,["onClick"])}const ExpandableIterator=_export_sfc(_sfc_main$J,[["render",_sfc_render$F]]),__vite_glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:ExpandableIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$2}=makeFormatterProps(),_sfc_main$I={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$2},setup(e,t){return{...useTableIterator(e,t)}}},_hoisted_1$t={class:"text-h6"},_hoisted_2$o={key:0},_hoisted_3$n={key:1},_hoisted_4$i={key:2},_hoisted_5$h={class:"d-flex justify-end"};function _sfc_render$E(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VSheet,{border:""},{default:withCtx(()=>[createVNode(VImg,{gradient:"to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, .1), rgba(0, 0, 0, .15)",src:e.headersWithKeys[e.iteratorOptions.imgSrc]??"https://ih1.redbubble.net/image.4905811447.8675/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",height:"150"},null,8,["src"]),createVNode(VListItem,{title:e.item.name,density:"comfortable",lines:"one"},{title:withCtx(()=>[createBaseVNode("strong",_hoisted_1$t,toDisplayString(e.item.name),1)]),_:1},8,["title"]),createVNode(VTable,{class:"data-iterator-table",density:"compact"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersWithKeys,(s,d)=>{var l,u;return openBlock(),createElementBlock("tr",null,[createBaseVNode("th",null,toDisplayString(s.title),1),s.key!=="actions"&&!((l=s.formatter)!=null&&l.length)?(openBlock(),createElementBlock("td",_hoisted_2$o,toDisplayString(e.item[s.key]),1)):s.key!=="actions"&&((u=s.formatter)!=null&&u.length)?(openBlock(),createElementBlock("td",_hoisted_3$n,[(openBlock(),createBlock(i,mergeProps({ref_for:!0},e.handleFormatter(s.formatter,e.item[s.key]),{key:s.key}),null,16))])):s.key==="actions"&&!s.formatter.length?(openBlock(),createElementBlock("td",_hoisted_4$i,[createBaseVNode("div",_hoisted_5$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(m=>e.itemHasAction(e.item,m)),(m,c)=>(openBlock(),createBlock(VIcon,{ripple:!0,density:"compact",size:"medium",key:c,onClick:h=>e.itemAction(e.item,m),small:"",icon:m.icon??`$${m.name}`},null,8,["onClick","icon"]))),128))])])):createCommentVNode("",!0)])}),256))])]),_:1})]),_:1})}const RichCardIterator=_export_sfc(_sfc_main$I,[["render",_sfc_render$E]]),__vite_glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:RichCardIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$1}=makeFormatterProps(),_sfc_main$H={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$1},setup(e,t){return{...useTableIterator(e,t)}}},_hoisted_1$s={class:"d-flex"},_hoisted_2$n={class:"header"},_hoisted_3$m={key:0,class:"value"},_hoisted_4$h={class:"d-flex"},_hoisted_5$g={class:"header"},_hoisted_6$g={key:0,class:"value"},_hoisted_7$b={key:0,class:"featured"},_hoisted_8$a={key:1};function _sfc_render$D(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createElementBlock(Fragment,null,[createVNode(VCard,{class:"data-iterable-rich-row",variant:"flat",elevation:"0"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1})]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"action-area"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(s=>e.itemHasAction(e.item,s)),(s,d)=>(openBlock(),createBlock(VBtn,{ripple:!0,density:"compact",size:"small",key:d,onClick:l=>e.itemAction(e.item,s)},{default:withCtx(()=>[createVNode(VIcon,{small:"",icon:s.icon??`$${s.name}`},null,8,["icon"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"3",class:"first-column"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.firstColumn,(s,d)=>(openBlock(),createElementBlock("div",_hoisted_1$s,[createBaseVNode("p",_hoisted_2$n,toDisplayString(e.headersWithKeys[s].title),1),e.headersWithKeys[s].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_3$m,toDisplayString(e.item[s]),1))]))),256))]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.secondColumn,(s,d)=>{var l,u;return openBlock(),createElementBlock("div",_hoisted_4$h,[createBaseVNode("p",_hoisted_5$g,toDisplayString(((l=e.headersWithKeys[s])==null?void 0:l.title)??s),1),(u=e.headersWithKeys[s])!=null&&u.formatter.length?(openBlock(),createBlock(i,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_6$g,toDisplayString(e.item[s]??""),1))])}),256))]),_:1}),createVNode(VCol,{cols:"3",class:"featured"},{default:withCtx(()=>{var s;return[(s=e.headersWithKeys[e.iteratorOptions.featured])!=null&&s.formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.featured].formatter,e.item[e.iteratorOptions.featured]),{key:e.item[e.iteratorOptions.featured].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_7$b,toDisplayString(e.item[e.iteratorOptions.featured]),1))]}),_:1}),createVNode(VCol,{cols:"3",class:"last-column"},{default:withCtx(()=>[e.headersWithKeys.published.formatter.length?(openBlock(),createBlock(i,mergeProps({key:0},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.lastColumn].formatter,e.item[e.iteratorOptions.lastColumn]),{key:e.item[e.iteratorOptions.lastColumn].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_8$a,toDisplayString(e.item[e.iteratorOptions.lastColumn]),1)),createVNode(VBtn,{variant:"outlined",ripple:!0},{default:withCtx(()=>t[0]||(t[0]=[createTextVNode("Report")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VDivider)],64)}const RichRowIterator=_export_sfc(_sfc_main$H,[["render",_sfc_render$D]]),__vite_glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:RichRowIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$G={name:"Footer",props:{items:{type:Array,required:!0},show:{type:Boolean,default:!0}},data:function(){return{links:this.items,display:this.show}},created(){}};function _sfc_render$C(e,t,a,n,r,o){return withDirectives((openBlock(),createBlock(VFooter,{dark:"",padless:""},{default:withCtx(()=>[createVNode(VCard,{flat:"",tile:"",class:"indigo lighten-1 white--text text-center"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.links,(i,s)=>(openBlock(),createBlock(VBtn,{key:s,class:"mx-4 white--text",href:i.url,icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"24px"},{default:withCtx(()=>[createTextVNode(toDisplayString(i.icon),1)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),createVNode(VCardText,{class:"white--text pt-0"},{default:withCtx(()=>t[0]||(t[0]=[createTextVNode(" Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. ")])),_:1}),createVNode(VDivider),createVNode(VCardText,{class:"white--text"},{default:withCtx(()=>[createTextVNode(toDisplayString(new Date().getFullYear())+" — ",1),t[1]||(t[1]=createBaseVNode("strong",null,"Vuetify",-1))]),_:1})]),_:1})]),_:1},512)),[[vShow,e.display]])}const Footer=_export_sfc(_sfc_main$G,[["render",_sfc_render$C]]),__vite_glob_2_0=Object.freeze(Object.defineProperty({__proto__:null,default:Footer},Symbol.toStringTag,{value:"Module"})),_sfc_main$F={provide(){return{activeMenu:computed(()=>this.activeMenu)}},setup(){return{...useSidebar()}},props:{items:{type:Array,required:!0},rating:{type:Number,default:0}},data(){return{dialog:!1,logo:"@/sass/themes/template/main-logo.svg",profileMenuOpen:!1}},methods:{profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(t=>{this.$store.commit(USER.SET_PROFILE_DATA,t.data)})}}},_hoisted_1$r={key:1,class:"mx-3 text-subtitle-2"},_hoisted_2$m={class:"flex-grow-1"},_hoisted_3$l={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_4$g={class:"flex-grow-1"},_hoisted_5$f={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_6$f={class:"d-flex align-center position-relatie",style:{}};function _sfc_render$B(e,t,a,n,r,o){const i=resolveComponent("ue-svg-icon"),s=resolveComponent("ue-navigation-group"),d=resolveComponent("ue-logout-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{ref:"navigationDrawer",id:"navigation-drawer",modelValue:e.status,"onUpdate:modelValue":t[3]||(t[3]=l=>e.status=l),rail:e.rail,"expand-on-hover":e.isHoverable,location:e.options.location,railWidth:e.options.railWidth,persistent:e.options.persistent??!1,width:e.width},{append:withCtx(()=>[(e.$store.getters.isGuest,openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VDivider),createVNode(VList,{class:""},{default:withCtx(()=>[createVNode(VListItem,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:e.$store.getters.userProfile.name,subtitle:e.$store.getters.userProfile.email,class:"ue-sidebar__info-item"},{prepend:withCtx(l=>[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])]),append:withCtx(()=>[createVNode(VBtn,{onClick:t[1]||(t[1]=l=>r.profileMenuOpen=!r.profileMenuOpen),icon:r.profileMenuOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text"},null,8,["icon"])]),_:1},8,["title","subtitle"]),createVNode(VExpandTransition,null,{default:withCtx(()=>[r.profileMenuOpen?(openBlock(),createBlock(s,{key:0,items:e.profileMenu,profileMenu:!0,onActivateMenu:t[2]||(t[2]=l=>e.handleMenu(l))},null,8,["items"])):createCommentVNode("",!0)]),_:1}),createVNode(d,{csrf:e.$csrf()},{activator:withCtx(({props:l})=>[createVNode(VTooltip,{text:"Logout",location:"top",disabled:!(e.rail&&!e.isHoverable)},{activator:withCtx(u=>[createBaseVNode("div",normalizeProps(guardReactiveProps(u.props)),[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-logout"},l),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040)],16)]),_:2},1032,["disabled"])]),_:1},8,["csrf"]),e.$store.getters.versions&&!e.$store.getters.isClient&&!e.$store.getters.isSuperAdmin?(openBlock(),createBlock(VDialog,{key:0,ref:"aboutDialog","max-width":"500"},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-information"},l),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("About")),1)]),_:2},1040)]),default:withCtx(({isActive:l})=>[createVNode(VCard,{title:e.$t("About")},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(u,m)=>(openBlock(),createElementBlock("div",{key:m,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(e.$headline(m))+": ",1),createVNode(VChip,{variant:"outlined",color:"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(u),1)]),_:2},1024)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],u=>createBaseVNode("div",{key:u,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(u==="appDebug"?"Debug Mode":e.$headline(u))+": ",1),createVNode(VChip,{variant:"outlined",color:u==="appDebug"?e.$store.getters[u]?"success":"error":"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(u==="appDebug"?e.$store.getters[u]?"Active":"Inactive":e.$store.getters[u]),1)]),_:2},1032,["color"])])),64)):createCommentVNode("",!0)]),_:1}),createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"outlined",text:e.$t("Close"),onClick:u=>l.value=!1},null,8,["text","onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:1},512)):createCommentVNode("",!0),renderSlot(e.$slots,"bottom")]),_:3})],64))]),default:withCtx(()=>[createVNode(VList,{class:"ue-sidebar__info"},{default:withCtx(()=>[e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock("div",_hoisted_1$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(l,u)=>(openBlock(),createElementBlock("div",{key:u,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_2$m,toDisplayString(e.$headline(u))+":",1),createBaseVNode("div",_hoisted_3$l,toDisplayString(l),1)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],l=>createBaseVNode("div",{key:l,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_4$g,toDisplayString(l==="appDebug"?"Debug Mode":e.$headline(l))+":",1),createBaseVNode("div",_hoisted_5$f,toDisplayString(l==="appDebug"?e.$store.getters[l]?"Active":"Inactive":e.$store.getters[l]),1)])),64)):createCommentVNode("",!0)])):(openBlock(),createBlock(VListItem,{key:0,"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",subtitle:e.$store.getters.appEmail,title:e.$store.getters.appName,class:"ue-sidebar__info-item"},{prepend:withCtx(()=>[createVNode(VAvatar,{class:"ue-sidebar__avatar",color:"primary"},{default:withCtx(()=>[createVNode(i,{class:"ue-sidebar__logo",symbol:"main-logo-dark"})]),_:1})]),_:1},8,["subtitle","title"]))]),_:1}),createBaseVNode("div",_hoisted_6$f,[createVNode(VDivider,{class:"flex-grow-1"}),!e.hasRail&&e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VBtn,{key:0,icon:"",color:"orange",onClick:t[0]||(t[0]=l=>e.railManual=!e.railManual),class:"sidebar-toggle-btn",size:"small",style:{position:"absolute",right:"-20px","z-index":"9999"}},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.rail?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),createVNode(s,{items:a.items,hideIcons:e.hideIcons,showTooltip:e.rail&&!e.isHoverable,class:"ue-sidebar__menu"},null,8,["items","hideIcons","showTooltip"])]),_:3},8,["modelValue","rail","expand-on-hover","location","railWidth","persistent","width"]),e.options.contentDrawer.exists?(openBlock(),createBlock(VNavigationDrawer,{key:0,width:e.width,location:e.options.location,style:{"max-width":"15%"}},null,8,["width","location"])):createCommentVNode("",!0),e.secondaryOptions.exists?(openBlock(),createBlock(VNavigationDrawer,{key:1,location:e.secondaryOptions.location,width:e.width},null,8,["location","width"])):createCommentVNode("",!0)],64)}const Sidebar=_export_sfc(_sfc_main$F,[["render",_sfc_render$B]]),__vite_glob_2_3=Object.freeze(Object.defineProperty({__proto__:null,default:Sidebar},Symbol.toStringTag,{value:"Module"})),_sfc_main$E={name:"Home",data(){return{sidebarItems:[{icon:"fas fa-plus"},{icon:"fas fa-th-large"},{icon:"fas fa-align-center"},{icon:"fas fa-gitter"},{icon:"fas fa-chart-line"}]}},components:{Sidebar}};function _sfc_render$A(e,t,a,n,r,o){const i=resolveComponent("Sidebar");return openBlock(),createBlock(VApp,{id:"inspire",style:normalizeStyle({background:e.$vuetify.theme.themes.dark.background})},{default:withCtx(()=>[createVNode(i,{items:r.sidebarItems},null,8,["items"])]),_:1},8,["style"])}const Home=_export_sfc(_sfc_main$E,[["render",_sfc_render$A]]),__vite_glob_2_1=Object.freeze(Object.defineProperty({__proto__:null,default:Home},Symbol.toStringTag,{value:"Module"})),_sfc_main$D={props:{navigation:{type:Object,default(){return{sidebar:[{icon:"$package",text:"Packages",action:"",is_active:!1},{icon:"$creditCards",text:"Payments",action:"",is_active:!1},{icon:"$product",text:"Customers",action:"",is_active:!1},{icon:"$users",text:"Users",is_active:!0,items:[{icon:"$users",text:"Show Users",action:"",is_active:!1},{icon:"$userAdd",text:"Add User",action:"",is_active:!1},{icon:"$role",text:"Roles",is_active:!0,items:[{icon:"$permission",text:"Add Permission",action:"",is_active:!0}]}]},{icon:"$check",text:"Settings",action:"",is_active:!1},{icon:"fas fa-plus",text:"Others",action:"",is_active:!1}]}}},impersonation:{type:Object,default(){return{}}},authorization:{type:Object,default(){return{}}}},data(){return{loader:null,loading:!1,langs:["tr","en"],footerDisplay:!1,sidebarItem:[{icon:"$package",text:"Packages",action:""},{icon:"$creditCards",text:"Payments",action:""},{icon:"$product",text:"Customers",action:""},{icon:"$users",text:"Users",items:[{icon:"$users",text:"Show Users",action:""},{icon:"$userAdd",text:"Add User",action:""}]},{icon:"$check",text:"Settings",action:""},{icon:"fas fa-plus",text:"Others",action:""}],sidebarItems:this.navigation.sidebar,breadcrumbs:this.navigation.breadcrumbs??[],footerLinks:[{icon:"mdi-facebook",url:"facebook.com"},{icon:"mdi-twitter",url:"twitter.com"},{icon:"mdi-linkedin",url:"linkedin.com"},{icon:"mdi-instagram",url:"instagram.com"}],showMediaLibrary:!1,showDeleteWarning:!1,showImpersonateToolbar:!1}},computed:{alertDialog:{get(){return this.$store.state.alert.dialog},set(e){this.$store.commit(ALERT.SET_DIALOG_SHOW,e)}},alertDialogMessage(){return this.$store.state.alert.dialogMessage}},created(){this.$vuetify.display.mdAndDown&&this.$store.commit(CONFIG.SET_SIDEBAR,!1)},mounted(){},methods:{addSidebarItem:function(e){this.$refs.sidebar.addItem({icon:"fa-regular fa-circle-question",text:"New"})},submit(){alert("Submit Form")},closeAlertDialog(){this.$store.commit(ALERT.CLEAR_DIALOG)},profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(t=>{this.$store.commit(USER.SET_PROFILE_DATA,t.data)})},loginFormSubmitted(e){}}},_hoisted_1$q={class:"d-flex justify-end mr-4"},_hoisted_2$l={class:"d-flex align-center"},_hoisted_3$k=["value"],_hoisted_4$f={key:0},_hoisted_5$e={class:"modal--tiny-title"},_hoisted_6$e=["innerHTML"],_hoisted_7$a={class:"d-flex align-center"},_hoisted_8$9={class:"d-flex"},_hoisted_9$9={class:"my-3 flex-grow-0"},_hoisted_10$7=["innerHTML"],_hoisted_11$6={class:"d-flex align-center"};function _sfc_render$z(e,t,a,n,r,o){const i=resolveComponent("ue-impersonate-toolbar"),s=resolveComponent("ue-sidebar"),d=resolveComponent("ue-modal-media"),l=resolveComponent("ue-modal"),u=resolveComponent("ue-title"),m=resolveComponent("ue-form"),c=resolveComponent("ue-alert"),h=resolveComponent("ue-dynamic-modal"),y=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VApp,{id:"inspire"},{default:withCtx(()=>[renderSlot(e.$slots,"top"),e.$store.getters.isHot?(openBlock(),createBlock(VChip,{key:0,color:"green",class:"position-absolute",style:{top:"4px",right:"0","z-index":"10000"},onClick:t[0]||(t[0]=p=>e.$store.state.ambient.isHot=!1)},{default:withCtx(()=>t[11]||(t[11]=[createTextVNode(" Development Mode ")])),_:1})):createCommentVNode("",!0),e.$vuetify.display.mdAndDown?(openBlock(),createBlock(VAppBar,{key:1,app:""},{default:withCtx(()=>[e.$vuetify.display.lgAndUp?createCommentVNode("",!0):(openBlock(),createBlock(VAppBarNavIcon,{key:0,icon:e.$store.getters.sidebarStatus?"$close":"$menu",onClick:t[1]||(t[1]=p=>e.$toggleSidebar())},null,8,["icon"])),createVNode(VToolbarTitle,null,{default:withCtx(()=>t[12]||(t[12]=[createTextVNode("CRM")])),_:1}),createCommentVNode("",!0),createVNode(VSpacer),createBaseVNode("div",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$l,[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])])]),createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),createVNode(s,{items:r.sidebarItems,ref:"sidebar"},{bottom:withCtx(()=>[a.impersonation.active?(openBlock(),createBlock(i,mergeProps({key:0,modelValue:r.showImpersonateToolbar,"onUpdate:modelValue":t[3]||(t[3]=p=>r.showImpersonateToolbar=p)},a.impersonation),null,16,["modelValue"])):createCommentVNode("",!0)]),_:1},8,["items"]),createVNode(VMain,null,{default:withCtx(()=>[renderSlot(e.$slots,"main-top"),createCommentVNode("",!0),renderSlot(e.$slots,"default"),a.authorization&&!e.$lodash.isEmpty(a.authorization)&&!a.authorization.isClient?(openBlock(),createBlock(d,{key:1,modelValue:r.showMediaLibrary,"onUpdate:modelValue":t[4]||(t[4]=p=>r.showMediaLibrary=p),ref:"mediaLibrary"},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(l,{ref:"deleteWarningMediaModal",modelValue:r.showDeleteWarning,"onUpdate:modelValue":t[5]||(t[5]=p=>r.showDeleteWarning=p),transition:"dialog-bottom-transition","width-type":"sm","confirm-text":e.$t("media-library.dialogs.delete.delete-media-confirm"),"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("p",_hoisted_5$e,[createBaseVNode("strong",null,toDisplayString(e.$t("media-library.dialogs.delete.delete-media-title")),1)]),createBaseVNode("p",{innerHTML:e.$t("media-library.dialogs.delete.delete-media-desc")},null,8,_hoisted_6$e)]),_:1},8,["modelValue","confirm-text"]),createVNode(l,{ref:"profileDialog",modelValue:e.$store.state.user.profileDialog,"onUpdate:modelValue":t[7]||(t[7]=p=>e.$store.state.user.profileDialog=p),Xwidth:"500",scrollable:""},{body:withCtx(({isActive:p,toggleFullscreen:v,close:V,isFullActive:g})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(u,{padding:"y-3",text:e.$t("Upload Profile Image"),color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_7$a,[createVNode(VIcon,{icon:g?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"default",onClick:f=>v()},null,8,["icon","onClick"]),createVNode(VIcon,{icon:"$close",variant:"plain",color:"grey-darken-5",size:"default",onClick:f=>V()},null,8,["onClick"])])]),_:2},1032,["text"]),createVNode(VDivider)]),_:2},1024),createVNode(VCardText,{Xstyle:"height: 30vh;"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_8$9,[createBaseVNode("div",_hoisted_9$9,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"100"},null,8,["image"])]),createVNode(m,{class:"flex-grow-1 pl-6",schema:e.$store.state.user.profileShortcutSchema,modelValue:e.$store.state.user.profileShortcutModel,"onUpdate:modelValue":t[6]||(t[6]=f=>e.$store.state.user.profileShortcutModel=f),"action-url":e.$store.state.user.profileRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"","is-editing":"",buttonText:"fields.save",onSubmitted:o.profileFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),createVNode(c,{ref:"alert"},null,512),createVNode(h),createVNode(l,{ref:"dialog",modelValue:o.alertDialog,"onUpdate:modelValue":t[8]||(t[8]=p=>o.alertDialog=p),scrollable:"",transition:"dialog-bottom-transition","width-type":"lg",persistent:""},{body:withCtx(p=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,{class:"text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:o.alertDialogMessage},null,8,_hoisted_10$7)]),_:1}),createVNode(VDivider),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(y,{onClick:o.closeAlertDialog},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(l,{ref:"loginModal",modelValue:e.$store.state.user.showLoginModal,"onUpdate:modelValue":t[10]||(t[10]=p=>e.$store.state.user.showLoginModal=p),scrollable:"",transition:"dialog-bottom-transition","width-type":"sm"},{body:withCtx(({isActive:p,toggleFullscreen:v,close:V,isFullActive:g})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(u,{padding:"y-3",text:e.$t("Login"),color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_11$6,[createVNode(VIcon,{icon:g?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"default",onClick:f=>v()},null,8,["icon","onClick"]),createVNode(VIcon,{icon:"$close",variant:"plain",color:"grey-darken-5",size:"default",onClick:f=>V()},null,8,["onClick"])])]),_:2},1032,["text"]),createVNode(VDivider)]),_:2},1024),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(m,{class:"flex-grow-1",schema:e.$store.state.user.loginShortcutSchema,modelValue:e.$store.state.user.loginShortcutModel,"onUpdate:modelValue":t[9]||(t[9]=f=>e.$store.state.user.loginShortcutModel=f),"action-url":e.$store.state.user.loginRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"",buttonText:"fields.login",onSubmitted:o.loginFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"])]),_:3})]),_:3})}const Main=_export_sfc(_sfc_main$D,[["render",_sfc_render$z]]),__vite_glob_2_2=Object.freeze(Object.defineProperty({__proto__:null,default:Main},Symbol.toStringTag,{value:"Module"})),_hoisted_1$p={class:"w-100"},_hoisted_2$k={class:"d-flex flex-wrap gc-4 align-center px-4"},_hoisted_3$j=["innerHTML"],_hoisted_4$e=["innerHTML"],_hoisted_5$d=["innerHTML"],_hoisted_6$d=["innerHTML"],_hoisted_7$9=["innerHTML"],_hoisted_8$8=["innerHTML"],_hoisted_9$8={class:"d-flex justify-space-between gc-4"},_hoisted_10$6={class:"d-flex justify-space-between gc-4 mt-2"},_hoisted_11$5={class:"d-flex justify-end gc-4"},_sfc_main$C={__name:"Assignment",props:{...makeInputProps(),variant:{type:String,default:"outlined"},density:{type:String,default:"default"},items:{type:Array,default:()=>[]},fetchEndpoint:{type:String,default:null},saveEndpoint:{type:String,default:null},assignableType:{type:String,default:null},assigneeType:{type:String,default:null},authorizedRoles:{type:Array,default:()=>["superadmin","admin"]},minDueDays:{type:Number,default:0},filepond:{type:Object,default:null}},emits:[...makeInputEmits],setup(e,{emit:t}){const a=e,n=t,{input:r,id:o,boundProps:i}=useInput(a,{emit:n}),{requiredRule:s,minRule:d,futureDateRule:l,dateRule:u,invokeRule:m}=useValidation(a),{t:c,d:h}=useI18n(),y=useDynamicModal(),p=useAuthorization(),v=useAlert(),V=ref(!1),g=ref(!1);ref(a.modelValue),ref([]),ref([]);const f=ref([]),C=ref(!1),k=ref(null),w=ref(!1),b=ref({assignee_id:null,due_at:null,description:null});ref(!1);const A=ref([]),E=ref(!1),N=computed(()=>p.hasRoles(a.authorizedRoles)),B=computed(()=>f.value.length>0?f.value[0]:null),T=computed(()=>f.value.length>0),S=computed(()=>B.value&&p.isYou(B.value.assignee_id));computed(()=>N.value&&S.value);const I=computed(()=>{let P=[];return f.value.reduce(($,R,U)=>{let j=R.assignee_avatar??"",G=p.isYou(R.assigner_id)?c("You"):R.assigner_name,q=p.isYou(R.assignee_id)?c("You"):R.assignee_name,K=`to <span class="text-blue-darken-1">${q}</span> &mdash; by <span class="text-success">${G}</span>`;`${c("Until")}${h(new Date(R.due_at),"medium")}`;let Y=`${c("From")}: <span class="">${h(R.created_at?new Date(R.created_at):new Date,"medium")}</span>`,L=`${R.description} </br> </br>`,H="",W=null;return H=`${R.status_interval_description}`,W=R.status_vuetify_icon,H+=` ${Y}`,L+=H,$.push({prependAvatar:j,assignerName:G,assigneeName:q,title:K,subtitle:L,subDescription:H,appendInnerIcon:W,attachments:R.attachments??[]}),U!==f.value.length-1&&$.push({type:"divider",inset:!0}),$},P)}),M=computed(()=>I.value.length>0?I.value[0]:null);watch$1(()=>f.value,P=>{P&&P.length>0&&(A.value=P[0].attachments??[])});const x=async(P,$=null,R=null,U=null)=>{const j=a.saveEndpoint.replace(":id",r.value);return axios$1.post(j,P).then(G=>{$&&$(G)}).catch(G=>{R&&R(G)}).finally(()=>{U&&U()}),!1},F=async()=>{if(r.value){const P=a.fetchEndpoint.replace(":id",r.value);V.value=!0,axios$1.get(P).then($=>{$.status===200&&(f.value=$.data)}).finally(()=>{V.value=!1})}},z=async()=>{if(r.value){if(!await k.value.validate())return;const $={...b.value,assignee_type:a.assigneeType,assignable_id:r.value,assignable_type:a.assignableType};g.value=!0,x($,R=>{R.status===200&&(f.value.unshift(R.data),b.value={assignee_id:null,due_at:null,description:null})},R=>{__log(R)},()=>{g.value=!1})}},D=async P=>r.value!==null?(g.value=!0,await x(P,R=>{R.status===200&&(v.openAlert({message:"Assignment updated successfully",...R.data}),R.data.assignments?f.value=R.data.assignments:F(),y.close())},R=>{__log(R)},()=>{g.value=!1})):!1,O=()=>{y.open(null,{modalProps:{widthType:"md",description:c("Are you sure you want to complete this task?"),title:c("Complete Task"),confirmText:c("Yes"),cancelText:c("No"),confirmLoading:g,rejectLoading:g,confirmCallback:async()=>{await D({status:"completed"})}}})};return onMounted(()=>{F()}),(P,$)=>{const R=resolveComponent("ue-filepond-preview"),U=resolveComponent("v-input-filepond"),j=resolveComponent("ue-dynamic-component-renderer"),G=resolveComponent("ue-modal"),q=resolveComponent("v-date-input"),K=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VInput,{modelValue:unref(r),"onUpdate:modelValue":$[12]||($[12]=Y=>isRef(r)?r.value=Y:null),variant:unref(i).variant,"hide-details":"",class:"v-input-assignment"},{default:withCtx(Y=>[createBaseVNode("div",_hoisted_1$p,[V.value?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"list-item-two-line"})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_2$k,[T.value?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"end","Xopen-on-hover":""},{activator:withCtx(({props:L})=>[(S.value||N.value)&&M.value?(openBlock(),createBlock(VList,mergeProps({key:0,id:"assigneeList",items:[{title:P.$t("Assignee"),prependAvatar:M.value.prependAvatar??"",subtitle:M.value.assigneeName}],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee flex-grow-1 flex-shrink-0",color:"primary"},L,{variant:"plain"}),{title:withCtx(({title:H})=>[createBaseVNode("div",{class:"text-primary font-weight-bold",innerHTML:H},null,8,_hoisted_3$j)]),subtitle:withCtx(({subtitle:H})=>[createBaseVNode("div",{class:"font-weight-medium",innerHTML:H},null,8,_hoisted_4$e)]),_:2},1040,["items"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300","max-width":"500"},{default:withCtx(()=>[createVNode(VList,{id:"assigneeList",items:[M.value],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee"},{title:withCtx(({title:L})=>[createBaseVNode("div",{innerHTML:L},null,8,_hoisted_5$d)]),subtitle:withCtx(L=>[createBaseVNode("div",{innerHTML:M.value.subDescription},null,8,_hoisted_6$d)]),_:1},8,["items"]),createVNode(VDivider),createVNode(VList,{lines:"10"},{default:withCtx(()=>[createVNode(VListItem,{title:P.$t("Description"),subtitle:B.value.description,class:""},{prepend:withCtx(({isSelected:L,select:H})=>[createVNode(VIcon,{icon:"mdi-information-outline"})]),_:1},8,["title","subtitle"]),N.value&&!S.value&&B.value.attachments&&B.value.attachments.length>0?(openBlock(),createBlock(VListItem,{key:0,title:P.$t("Files"),subtitle:"Files subtitle"},{prepend:withCtx(({isSelected:L,select:H})=>[createVNode(VIcon,{icon:"mdi-file-outline"})]),subtitle:withCtx(({subtitle:L})=>[createVNode(R,{source:B.value.attachments??[],"show-inline-file-name":"","image-size":"24"},null,8,["source"])]),_:1},8,["title"])):createCommentVNode("",!0)]),_:1}),S.value?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[e.filepond?(openBlock(),createBlock(U,mergeProps({key:0,label:"Files",ref:"inputFilepond"},unref(m)(P.$lodash.omit(e.filepond,["type"])),{modelValue:A.value,"onUpdate:modelValue":$[0]||($[0]=L=>A.value=L),xmodelValue:A.value,"onXupdate:modelValue":$[1]||($[1]=L=>P.$log("update:modelValue",L)),onLoadingFile:$[2]||($[2]=L=>E.value=!0),onLoadedFile:$[3]||($[3]=L=>E.value=!1)}),null,16,["modelValue","xmodelValue"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),createVNode(VDivider),S.value?(openBlock(),createBlock(VCardActions,{key:1},{default:withCtx(()=>[createVNode(VBtn,{variant:"tonal",color:"success",onClick:O},{default:withCtx(()=>$[13]||($[13]=[createTextVNode(" Complete ")])),_:1}),createVNode(VSpacer),createVNode(VBtn,{color:"primary",variant:"tonal",onClick:$[4]||($[4]=L=>A.value.length>0&&D({attachments:A.value})),loading:E.value||g.value,disabled:A.value.length<1},{default:withCtx(()=>$[14]||($[14]=[createTextVNode(" Save ")])),_:1},8,["loading","disabled"])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0),N.value?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VTooltip,{location:"top"},{activator:withCtx(({props:L})=>[createVNode(VBtn,mergeProps({id:"createAssignmentBtn",icon:"mdi-account-reactivate",size:"default",rounded:"",color:"success",density:"compact",class:"flex-grow-0 flex-shrink-1 my-2"},L,{disabled:!unref(r)||g.value,loading:g.value,onClick:$[5]||($[5]=H=>w.value=!0)}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(P.$t("Assign")),1)]),_:1}),T.value?(openBlock(),createBlock(G,{key:0,modelValue:C.value,"onUpdate:modelValue":$[6]||($[6]=L=>C.value=L),widthType:"md",transition:"scroll-y-reverse-transition",scrollable:"",height:"450",title:P.$t("Task History"),"has-close-button":"","has-title-divider":"","no-default-body-padding":"","no-actions":""},{activator:withCtx(L=>[createVNode(VTooltip,{location:"top"},{activator:withCtx(H=>[createVNode(VBtn,mergeProps({id:"showHistoryBtn",icon:"mdi-clipboard-list-outline",size:"default",rounded:"",color:"info",density:"compact",class:"flex-grow-0 flex-shrink-1 my-2",disabled:!unref(r)||g.value,loading:g.value},{...L.props,...H.props}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(P.$t("Show History")),1)]),_:2},1024)]),"body.description":withCtx(()=>[createVNode(VList,{class:"pb-4 text-start",items:I.value,lines:"ten","item-props":""},{title:withCtx(({title:L})=>[createBaseVNode("div",{innerHTML:L},null,8,_hoisted_7$9)]),subtitle:withCtx(({item:L,subtitle:H})=>[createBaseVNode("div",{innerHTML:H},null,8,_hoisted_8$8),L.attachments&&L.attachments.length>0?(openBlock(),createBlock(R,{key:0,class:"my-2",source:L.attachments,"show-inline-file-name":"","image-size":"24"},null,8,["source"])):createCommentVNode("",!0)]),append:withCtx(L=>[createVNode(j,{subject:L.item.appendInnerIcon},null,8,["subject"])]),_:1},8,["items"])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createVNode(G,{ref:"createFormModal",modelValue:w.value,"onUpdate:modelValue":$[11]||($[11]=L=>w.value=L),widthType:"md",persistent:g.value,transition:"scale-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VForm,{id:"createAssignmentForm",ref_key:"createForm",ref:k,class:"d-flex flex-column",onSubmit:withModifiers(z,["prevent"])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$8,[createVNode(VSelect,{modelValue:b.value.assignee_id,"onUpdate:modelValue":$[7]||($[7]=L=>b.value.assignee_id=L),items:e.items,label:P.label,variant:e.variant,density:"compact","item-title":"name","item-value":"id","return-object":!1,"validate-on":"submit blur",class:"w-50",rules:[unref(s)("classic",1,void 0,"Assignee is required")],required:"","auto-select-first":"exact"},null,8,["modelValue","items","label","variant","rules"]),createVNode(q,{modelValue:b.value.due_at,"onUpdate:modelValue":$[8]||($[8]=L=>b.value.due_at=L),variant:e.variant,label:P.$t("Due Date"),rules:[unref(s)("classic",1,1,"Pick a due date"),unref(u)(),unref(l)(e.minDueDays,"days")],"validate-on":"submit blur",class:"w-50",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"","show-week":"",required:"",Xmultiple:"4",Ymultiple:"range"},null,8,["modelValue","variant","label","rules"])]),createBaseVNode("div",_hoisted_10$6,[createVNode(VTextarea,{modelValue:b.value.description,"onUpdate:modelValue":$[9]||($[9]=L=>b.value.description=L),variant:e.variant,label:P.$t("Description"),density:"compact",class:"flex-grow-1",rules:[unref(s)("classic",1,1,"Description is required"),unref(d)(10,"Description must be at least 10 characters")],"validate-on":"input blur"},null,8,["modelValue","variant","label","rules"])]),createVNode(VDivider),createBaseVNode("div",_hoisted_11$5,[createVNode(K,{class:"mt-4",density:"comfortable",variant:"plain",loading:g.value,onClick:$[10]||($[10]=L=>w.value=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(P.$t("Cancel")),1)]),_:1},8,["loading"]),createVNode(VBtn,{class:"mt-4",density:"comfortable",type:"submit",loading:g.value,disabled:!unref(r)||g.value||k.value&&!k.value.isValid},{default:withCtx(()=>[createTextVNode(toDisplayString(P.$t("Assign")),1)]),_:1},8,["loading","disabled"])])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue","persistent"])],64))])]),_:1},8,["modelValue","variant"])}}},__vite_glob_3_0=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$C},Symbol.toStringTag,{value:"Module"})),_sfc_main$B={props:{modelValue:{type:Object,required:!0},avatarSize:{type:Number,default:50},reverse:{type:Boolean,default:!1},updateEndpoint:{type:String,required:!0},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1}},data(){return{readingTimer:null}},computed:{input:{get(){return this.modelValue},set(e){this.message=e,this.$emit("update:modelValue",e)}},message(){return this.modelValue},isUnread(){return!this.message.is_read&&!this.reverse}},methods:{formatDate(e){let t=window.$moment().fromNow();if(e.created_at){let a=new Date(e.created_at);Date.now()-a.getTime()<48*60*60*1e3?t=window.$moment(a).fromNow():t=this.$d(new Date(e.created_at),"numeric-full")}return t},updateMessage(e,t){let a=this.updateEndpoint.replace(":id",this.input.id),n=this;axios.put(a,{[e]:t}).then(r=>{n.input={...n.input,[e]:t}})},startReading(){this.isUnread&&(this.readingTimer=setTimeout(()=>{this.markAsRead()},1e3))},markAsRead(){this.updateMessage("is_read",!0)}},beforeUnmount(){this.readingTimer&&clearTimeout(this.readingTimer)}},_hoisted_1$o=["stylex"],_hoisted_2$j={class:"d-flex justify-end"},_hoisted_3$i={key:0,class:"mt-2 pa-1 rounded"};function _sfc_render$y(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex mb-4 w-100",a.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{style:{"max-width":"60%","min-width":"30%"},class:normalizeClass(["d-flex bg-grey-lighten-6 elevation-2 px-4 py-3 rounded position-relative",a.reverse?"flex-row-reverse":"flex-row",o.isUnread?"v-input-chat__message--unread":""]),onMouseenter:t[2]||(t[2]=(...d)=>o.startReading&&o.startReading(...d))},[createVNode(VTooltip,{text:o.formatDate(o.message),location:"top"},{activator:withCtx(({props:d})=>[createVNode(VAvatar,mergeProps({size:a.avatarSize,class:[a.reverse?"ml-3":"mr-3"],image:o.message.user_profile.avatar_url},d),null,16,["size","class","image"])]),_:1},8,["text"]),createBaseVNode("div",{stylex:{width:`calc(50% - ${a.avatarSize}px)`},class:"w-100"},[createBaseVNode("div",{class:normalizeClass(["text-grey text-caption w-100 d-flex justify-space-between",a.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",null,toDisplayString(o.message.user_profile.name),1),createBaseVNode("div",_hoisted_2$j,[a.noStarring?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:o.message.is_starred?"mdi-star":"mdi-star-outline",color:o.message.is_starred?"secondary":"grey",onClick:t[0]||(t[0]=d=>o.updateMessage("is_starred",!o.message.is_starred))},null,8,["icon","color"])),a.noPinning?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:1,icon:o.message.is_pinned?"mdi-pin":"mdi-pin-outline",color:o.message.is_pinned?"primary":"grey",onClick:t[1]||(t[1]=d=>o.updateMessage("is_pinned",!o.message.is_pinned))},null,8,["icon","color"]))])],2),createBaseVNode("div",{class:normalizeClass(["message-content",o.isUnread?"message-content--unread":""])},[createBaseVNode("div",{class:normalizeClass(["d-flex mt-2 text-break",a.reverse?"flex-row-reverse":"flex-row"])},toDisplayString(o.message.content),3),o.message.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_3$i,[createVNode(i,{text:e.$t("Attachments"),padding:"b-2",type:"caption",color:"none"},null,8,["text"]),createVNode(s,{source:o.message.attachments,"image-size":"24","show-file-name":"","no-overlay":"","show-datex":""},null,8,["source"])])):createCommentVNode("",!0)],2)],8,_hoisted_1$o)],34)],2)}const ChatMessage=_export_sfc(_sfc_main$B,[["render",_sfc_render$y]]),_sfc_main$A={name:"v-input-chat",emits:[...makeInputEmits],components:{ChatMessage},props:{...makeInputProps(),color:{type:String},disabled:{type:Boolean,default:!1},height:{type:String,default:"50vh"},background:{type:String},elevation:{type:Number,default:2},density:{type:String,default:"comfortable"},variant:{type:String,default:"plain"},endpoints:{type:Object,default:()=>({})},perPage:{type:Number,default:-1},initialPage:{type:Number,default:1},filepond:{type:Object,default:null},noSendAction:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},dialogHeight:{type:String,default:"80vh"},bodyHeight:{type:String,default:null},loadMoreText:{type:String,default:null},refreshTime:{type:Number,default:1e4},inputVariant:{type:String,default:"outlined"},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1}},setup(e,t){const{invokeRule:a}=useValidation();return{...useInput(e,t),invokeRule:a}},data:function(){return{message:"",messages:[],loading:!0,loadingAttachment:!1,page:this.initialPage,lastPage:1,dialogOpen:!1,attachments:[],uploadedAttachments:[],uploadedAttachmentsDialog:!1,refreshInterval:null,pinnedMessage:null}},computed:{currentUser(){return this.$store.getters.userProfile},formattedMessages(){return this.formatMessages(this.messages)},noRemainingItems(){return!this.loading&&this.perPage>-1&&this.page===this.lastPage},showLoadMoreButton(){return!this.noRemainingItems&&this.perPage>-1},isInfiniteScrollable(){return this.perPage>-1},sendButtonIcon(){return this.loading||!this.message?"mdi-send-lock":this.message?"mdi-send-check":"mdi-send"}},watch:{messages:{handler(e){this.pinnedMessage=e.find(t=>t.is_pinned),this.pinnedMessage||this.fetchPinnedMessage()},deep:!0}},methods:{scrollEndInfiniteScroll(){this.$nextTick(()=>{const e=this.$refs.infiniteScroll.$el;e.scrollTop=e.scrollHeight})},formatMessage(e){return e={user_profile:this.$lodash.cloneDeep(this.currentUser),attachments:[],reverse:!1,loading:!1,...e},e.user_profile.id===this.currentUser.id&&(e.reverse=!0,e.is_read=!0,e.user_profile.name=this.$t("You")),e},formatMessages(e){return e.sort((t,a)=>new Date(t.created_at)-new Date(a.created_at)).map(t=>this.formatMessage(t))},loadMessages(e){const t=this.endpoints.index.replace(":id",this.input);let a={};this.perPage!==-1&&(a.page=this.page,a.perPage=this.perPage),this.loading=!0,axios.get(t,{params:a}).then(n=>{if(n.status===200)if(this.perPage>-1){const r=n.data.total;this.lastPage=n.data.last_page,this.page=n.data.current_page,this.messages=[...n.data.data,...this.messages],r!==0?e&&(this.page===this.lastPage?e("empty"):e("ok")):e&&e("empty")}else this.messages=this.formatMessages(n.data),e("empty")}).finally(()=>{this.loading=!1,(!this.isInfiniteScrollable||this.page===1)&&this.scrollEndInfiniteScroll()})},loadMoreMessages({done:e}){this.page++,this.loadMessages(e)},addMessage(e){return this.messages.push(e)-1},unpinMessage(e){let t=this.endpoints.update.replace(":id",e.id),a=this,n=this.messages.findIndex(r=>r.id===e.id);axios.put(t,{is_pinned:!1}).then(r=>{a.messages[n]={...a.messages[n],is_pinned:!1}})},findMessageByTempId(e){return this.messages.findIndex(t=>t.tempId===e)},updateMessageByTempId(e,t){this.messages=this.messages.filter(n=>n.id!==t.id);const a=this.findMessageByTempId(e);a!==-1&&(this.messages[a]={...this.messages[a],...t})},sendMessage(){const e=this.endpoints.store.replace(":id",this.input),t={loading:!0,content:this.message,tempId:Date.now()};let a=t.tempId;this.addMessage(t),this.loading=!0,axios.post(e,{content:this.message,attachments:this.attachments}).then(n=>{if(n.status===200){let r=n.data;r.loading=!1,this.updateMessageByTempId(a,r),this.message="",this.attachments=[]}}).finally(()=>{this.loading=!1,this.scrollEndInfiniteScroll()})},getAttachments(){const e=this.endpoints.attachments.replace(":id",this.input);axios.get(e).then(t=>{this.uploadedAttachments=t.data})},fetchPinnedMessage(){const e=this.endpoints.pinnedMessage.replace(":id",this.input);axios.get(e).then(t=>{t.status===200&&t.data&&Object.keys(t.data).length>0&&(this.pinnedMessage=t.data)})},refreshMessages(){const e=this.endpoints.index.replace(":id",this.input);let t=new Date().toISOString();if(this.messages.length){let a=this.messages.filter(n=>!!n.created_at).sort((n,r)=>new Date(r.created_at)-new Date(n.created_at))[0];a&&a.created_at&&(t=a.created_at)}axios.get(e,{params:{from:t,user_id:this.currentUser.id}}).then(a=>{a.status===200&&a.data.length>0&&(this.messages=[...this.messages,...a.data],this.getAttachments()),a.status===401&&(clearInterval(this.refreshInterval),this.refreshInterval=null)})},updatedMessage(e){let t=[...this.messages],a=t.findIndex(r=>r.id===e.id);if(this.messages[a].is_pinned!==e.is_pinned)if(e.is_pinned){let r=this.pinnedMessage;if(this.pinnedMessage=e,r){let o=t.findIndex(i=>i.id===r.id);o!==-1&&(t[o]={...t[o],is_pinned:!1})}}else this.pinnedMessage=null;a!==-1&&(t[a]={...t[a],...e}),this.messages=t}},created(){},mounted(){this.input&&this.input>-1&&(this.loadMessages(),this.getAttachments(),this.refreshInterval=setInterval(()=>{this.refreshMessages()},this.refreshTime))},beforeUnmount(){clearInterval(this.refreshInterval),this.refreshInterval=null,this.input&&this.input>-1}},_hoisted_1$n={class:"w-100 d-flex justify-end"},_hoisted_2$i={class:"d-flex w-100 justify-end"},_hoisted_3$h={class:"flex-grow-0"};function _sfc_render$x(e,t,a,n,r,o){const i=resolveComponent("v-input-chat"),s=resolveComponent("ue-title"),d=resolveComponent("ue-filepond-preview"),l=resolveComponent("ChatMessage"),u=resolveComponent("v-input-filepond");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":t[11]||(t[11]=m=>e.input=m),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-chat"},{default:withCtx(m=>[createVNode(VCard,{class:normalizeClass(["w-100",[!a.noBackground&&a.background?`bg-${a.background}`:"",a.disabled?"bg-grey-lighten-4":""]]),variant:a.variant,elevation:a.elevation,color:a.color,heightx:a.height,disabled:a.disabled},{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex w-100 py-4"},{default:withCtx(()=>[createVNode(s,{text:e.label,align:"center",padding:"a-0",transform:"none",class:"w-100"},{rightX:withCtx(()=>[createBaseVNode("div",_hoisted_1$n,[renderSlot(e.$slots,"actions",{},()=>[a.perPage!==-1?(openBlock(),createBlock(VDialog,{key:0,width:"70%",height:a.dialogHeight,modelValue:e.dialogOpen,"onUpdate:modelValue":t[1]||(t[1]=c=>e.dialogOpen=c)},{activator:withCtx(({props:c})=>[createVNode(VBtn,mergeProps({variant:"elevated",density:"comfortable"},c,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${a.background}`]),height:"70vh"},{text:withCtx(()=>[createVNode(i,{label:e.$t("All Messages"),background:a.background,modelValue:e.input,endpoints:a.endpoints,perPage:10,density:a.density,noSendAction:!1,elevation:0,"body-height":`calc(${a.dialogHeight} * 0.60)`,height:`calc(${a.dialogHeight} * 0.80)`,noStarring:a.noStarring,noPinning:a.noPinning},{actions:withCtx(()=>[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:t[0]||(t[0]=c=>e.dialogOpen=!1)})]),_:1},8,["label","background","modelValue","endpoints","density","body-height","height","noStarring","noPinning"])]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),e.uploadedAttachments.length>0?(openBlock(),createBlock(VDialog,{key:1,width:"70%",height:a.dialogHeight,modelValue:e.uploadedAttachmentsDialog,"onUpdate:modelValue":t[3]||(t[3]=c=>e.uploadedAttachmentsDialog=c)},{activator:withCtx(({props:c})=>[createVNode(VBtn,mergeProps({variant:"outlined",density:"comfortable"},c,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All Attachments")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${a.background}`]),height:"70vh"},{default:withCtx(()=>[createVNode(s,{text:e.$t("Attachments"),align:"center",transform:"none",padding:"x-4",class:"w-100 pt-2",color:"grey-darken-5"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$i,[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:t[2]||(t[2]=c=>e.uploadedAttachmentsDialog=!1)})])]),_:1},8,["text"]),createVNode(VDivider,{class:"mx-4"}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VInfiniteScroll,{height:`calc(${a.dialogHeight} * 0.75)`},{loading:withCtx(()=>t[12]||(t[12]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.uploadedAttachments,c=>(openBlock(),createBlock(d,{class:"my-2",source:c,"image-size":"24","show-file-name":"","max-file-name-length":"70","no-overlay":"","show-date":""},null,8,["source"]))),256))]),_:1},8,["height"])]),_:1})]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),createVNode(VBtn,{variant:"elevated",density:"comfortable",onClick:o.sendMessage},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Confirm")),1)]),_:1},8,["onClick"])])])]),_:3},8,["text"])]),_:3}),createVNode(VCardText,{class:""},{default:withCtx(()=>[e.pinnedMessage?(openBlock(),createBlock(VList,{key:0,elevation:"3",class:"bg-grey-lighten-4 mx-n4",items:[{title:e.pinnedMessage.content,subtitle:e.pinnedMessage.created_at?e.$d(new Date(e.pinnedMessage.created_at),"short"):"",prepend:e.pinnedMessage.user_profile.avatar_url}],lines:"two",prependIcon:"mdi-pin","item-props":""},{prepend:withCtx(c=>[createVNode(VIcon,{size:"small",color:"primary",class:"mr-2",style:{transform:"rotate(325deg)"},onClick:t[4]||(t[4]=h=>o.unpinMessage(e.pinnedMessage))},{default:withCtx(()=>t[13]||(t[13]=[createTextVNode("mdi-pin")])),_:1}),createVNode(VTooltip,{text:e.pinnedMessage.user_profile.name,location:"top"},{activator:withCtx(({props:h})=>[createVNode(VAvatar,mergeProps({image:c.item.prepend,size:"24"},h),null,16,["image"])]),_:2},1032,["text"])]),_:1},8,["items"])):(openBlock(),createBlock(VDivider,{key:1})),createVNode(VInfiniteScroll,{ref:"infiniteScroll",height:a.bodyHeight?`calc(${a.bodyHeight})`:`calc(${a.height}*0.65)`,mode:"manual",side:"start",onLoad:o.loadMoreMessages,"load-more-text":a.loadMoreText?a.loadMoreText:e.$t("Load More Messages")},{"load-more":withCtx(({props:c})=>[o.showLoadMoreButton?(openBlock(),createBlock(VBtn,mergeProps({key:0,variant:"outlined"},c),{default:withCtx(()=>[createTextVNode(toDisplayString(a.loadMoreText?a.loadMoreText:e.$t("Load More Messages")),1)]),_:2},1040)):createCommentVNode("",!0)]),empty:withCtx(({props:c})=>t[14]||(t[14]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.formattedMessages,(c,h)=>(openBlock(),createElementBlock("div",{key:h,class:"v-input-chat__messages"},[renderSlot(e.$slots,"message",{message:c,index:h},()=>[createVNode(l,{class:normalizeClass(["v-input-chat__message",c.loading?"v-input-chat__message--loading":""]),modelValue:c,"onUpdate:modelValue":y=>o.updatedMessage(y,h),reverse:c.reverse,updateEndpoint:a.endpoints.update,noStarring:a.noStarring,noPinning:a.noPinning},null,8,["class","modelValue","onUpdate:modelValue","reverse","updateEndpoint","noStarring","noPinning"])])]))),128))]),_:3},8,["height","onLoad","load-more-text"])]),_:3}),a.noSendAction?createCommentVNode("",!0):(openBlock(),createBlock(VCardActions,{key:0,class:"pa-4"},{default:withCtx(()=>[renderSlot(e.$slots,"sending",{},()=>[createVNode(VTextarea,{modelValue:e.message,"onUpdate:modelValue":t[10]||(t[10]=c=>e.message=c),variant:a.inputVariant,disabled:e.loading,"hide-details":"",placeholder:"Type your answer here...",density:"compact","onClick:append":o.sendMessage,onKeyup:withKeys(o.sendMessage,["enter"]),rows:1},{prepend:withCtx(()=>[createBaseVNode("div",_hoisted_3$h,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"40"},null,8,["image"])]),a.filepond?(openBlock(),createBlock(u,mergeProps({key:0,ref:"inputFilepond",class:"d-non"},n.invokeRule(e.$lodash.omit(a.filepond,["type"])),{modelValue:e.attachments,"onUpdate:modelValue":t[5]||(t[5]=c=>e.attachments=c),xmodelValue:e.attachments,"onXupdate:modelValue":t[6]||(t[6]=c=>e.$log("update:modelValue",c)),onLoading:t[7]||(t[7]=c=>e.loadingAttachment=!0),onLoaded:t[8]||(t[8]=c=>e.loadingAttachment=!1)}),{activator:withCtx(c=>t[15]||(t[15]=[])),_:1},16,["modelValue","xmodelValue"])):createCommentVNode("",!0)]),appendx:withCtx(()=>t[16]||(t[16]=[])),"append-inner":withCtx(()=>[createVNode(d,{source:e.attachments,"image-size":"24"},null,8,["source"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.attachments,c=>(openBlock(),createElementBlock(Fragment,null,[],64))),256)),createVNode(VBtn,{disabled:e.loadingAttachment,color:a.color,size:"default",icon:"mdi-paperclip",density:"compact",onClick:t[9]||(t[9]=c=>e.$refs.inputFilepond.browse())},null,8,["disabled","color"]),createVNode(VBtn,{variant:"elevated",density:"compact",icon:o.sendButtonIcon,size:"small",disabled:e.loading||!e.message||e.loadingAttachment,onClick:o.sendMessage},null,8,["icon","disabled","onClick"])]),_:1},8,["modelValue","variant","disabled","onClick:append","onKeyup"])])]),_:3}))]),_:3},8,["variant","elevation","class","color","heightx","disabled"])]),_:3},8,["modelValue","variant"])}const Chat=_export_sfc(_sfc_main$A,[["render",_sfc_render$x]]),__vite_glob_3_1=Object.freeze(Object.defineProperty({__proto__:null,default:Chat},Symbol.toStringTag,{value:"Module"})),_sfc_main$z={name:"v-input-checkbox-card",emits:[...makeInputEmits],props:{...makeInputProps(),title:{type:String,required:!0},description:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},value:{type:[Number,String],default:null},checkboxColor:{type:String,default:"primary"},stats:{type:Array,default:null,validator:e=>e===null||e.every(t=>"label"in t&&"value"in t&&(!("color"in t)||typeof t.color=="string"))},checkboxOnRight:{type:Boolean,default:!1}},setup(e,t){return{...useInput(e,t)}},data(){return{input_:!1}},methods:{toggleSelection(){!this.disabled&&!this.readonly&&(this.input.includes(this.value)?this.input=this.input.filter(e=>e!==this.value):this.input=[...this.input,this.value])}}};function _sfc_render$w(e,t,a,n,r,o){return openBlock(),createBlock(VInput,{modelValue:e.input[a.value],"onUpdate:modelValue":t[2]||(t[2]=i=>e.input[a.value]=i),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-checkbox-card",readonly:a.readonly},{default:withCtx(i=>[createVNode(VCard,{class:normalizeClass(["v-input-checkbox-card__item",e.input.includes(a.value)?"v-input-checkbox-card__item--selected":"",a.disabled?"v-input-checkbox-card__item--disabled":""]),variant:e.input.includes(a.value)?"elevated":"outlined",onClick:o.toggleSelection,disabled:a.disabled},{default:withCtx(()=>[createVNode(VCardItem,null,{prepend:withCtx(()=>[a.checkboxOnRight?createCommentVNode("",!0):(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=s=>e.input=s),value:a.value,disabled:a.disabled,color:a.checkboxColor,"hide-details":"",readonly:a.readonly},null,8,["modelValue","value","disabled","color","readonly"]))]),append:withCtx(()=>[a.checkboxOnRight?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=s=>e.input=s),value:a.value,disabled:a.disabled,color:a.checkboxColor,"hide-details":"",readonly:a.readonly},null,8,["modelValue","value","disabled","color","readonly"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(["v-input-checkbox-card__title",e.input[a.value]?"v-input-checkbox-card__title--selected":""])},{default:withCtx(()=>[createTextVNode(toDisplayString(a.title),1)]),_:1},8,["class"])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>t[3]||(t[3]=[createTextVNode(" Lorem ipsum dolor sit amet consteqtequr Lorem ipsum ")])),_:1}),a.stats?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.stats,(s,d)=>(openBlock(),createBlock(VCol,{key:d,cols:12/a.stats.length,class:"text-center"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["text-h4 font-weight-bold",`text-${s.color||"primary"}`])},toDisplayString(s.value),3),createBaseVNode("div",{class:normalizeClass(`text-body-2 text-${s.color||"primary"}`)},toDisplayString(s.label),3)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})):createCommentVNode("",!0),a.description?(openBlock(),createBlock(VCardText,{key:1},{default:withCtx(()=>[createTextVNode(toDisplayString(a.description),1)]),_:1})):createCommentVNode("",!0)]),_:1},8,["class","variant","onClick","disabled"])]),_:1},8,["modelValue","variant","readonly"])}const CheckboxCard=_export_sfc(_sfc_main$z,[["render",_sfc_render$w]]),__vite_glob_3_2=Object.freeze(Object.defineProperty({__proto__:null,default:CheckboxCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$y={name:"v-input-checklist",emits:[...makeInputEmits],props:{...makeInputProps(),color:{type:String,default:null},disabled:{type:Boolean,default:!1},subtitle:{type:String,default:null},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},items:{type:Array,default:()=>[]},checkboxColor:{type:String,default:"primary"},isTreeview:{type:Boolean,default:!1},chunkCharacter:{type:String,default:"_"},chunkTitleKey:{type:String,default:"name"},chunkField:{type:String,default:null},labelColor:{type:String,default:"grey-darken-1"},subtitleColor:{type:String,default:"grey-darken-1"},flexColumn:{type:Boolean,default:!0},checkboxHighlighted:{type:Boolean,default:!1},checkboxPosition:{type:String,default:"right"},checkboxCol:{type:Object,default:()=>({cols:3})},noGroupAllSelectable:{type:Boolean,default:!1},hasGroupBottomDivider:{type:Boolean,default:!0},openAllGroups:{type:Boolean,default:!1},closeAllGroups:{type:Boolean,default:!1},rawRules:{type:[String,Array],default:null},max:{type:[Number,String],default:null},mandatory:{type:String,default:null},isCard:{type:Boolean,default:!1},cardStats:{type:Array,default:()=>[]}},setup(e,t){const a=computed(()=>{var d;let s=e.max;return window.__isString(s)?s=parseInt(s):!s&&window.__isString(e.rawRules)&&(s=(d=e.rawRules.match(/max:\d+/))==null?void 0:d[0].split(":")[1]),s??999}),n=ref(e.protectInitialValue?e.modelValue:[]),r=s=>n.value.includes(s),o=s=>{if(e.mandatory){let d=e.items.filter(l=>__data_get(l,e.mandatory,!1));if(e.max){let l=parseInt(e.max);d.length>l&&(d=d.slice(0,l))}if(d.length>0){const l=cloneDeep(s),u=Array.isArray(l)?l:[],m=d.map(h=>h[e.itemValue]),c=m.filter(h=>!u.includes(h));s=[...new Set([...Array.isArray(s)?s:[],...m])],c.length>0&&t.emit("update:modelValue",s)}}return a.value>1&&s.length>a.value&&(s=s.sort((d,l)=>d-l).slice(0,a.value),t.emit("update:modelValue",s)),s},i=ref([]);return{...useInput(e,{...t,initializeInput:o}),openedGroups:toRef(i),maxSelectable:a,isProtected:r}},methods:{isAllSelected(e){return e.items.map(a=>a.id).every(a=>this.input.includes(a))},isIndeterminateGroup(e){const t=e.items.map(a=>a.id);return!t.every(a=>this.input.includes(a))&&t.some(a=>this.input.includes(a))},updatedParent(e,t){const a=t.items.map(n=>n.id);if(!e)this.input=this.input.filter(function(n){return!a.includes(n)});else{if(this.maxSelectable){const n=a.filter(r=>!this.input.includes(r)).length;if(this.input.length+n>this.maxSelectable)return}a.forEach(n=>{this.input.includes(n)||this.input.push(n)})}},getCheckboxContainerClasses(e){const t=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return[this.checkboxOnRight?"d-flex align-center pl-4 pr-1 rounded-sm":"",this.checkboxOnRight&&t?"checked":"",this.checkboxOnRight&&this.checkboxHighlighted&&t?"bg-grey-lighten-5 text-primary font-weight-bold":""]},getCheckboxClasses(e){const t=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return[this.checkboxOnLeft?"rounded-sm":"",this.checkboxOnLeft&&t?"checked":"",this.checkboxOnLeft&&this.checkboxHighlighted&&t?"bg-grey-lighten-5 text-primary font-weight-bold":""]},canSelectMore(){return!this.disabled&&(!this.maxSelectable||Array.isArray(this.input)&&this.input.length<this.maxSelectable)},isMandatoryItem(e){return!!__data_get(e,this.mandatory,!1)},isGroupOpen(e){return this.openAllGroups?!0:this.closeAllGroups?!1:e===0},getCardStats(e){return this.cardStats.map(t=>({...t,value:e[t.key]}))}},computed:{checkboxOnRight(){return this.checkboxPosition==="right"},checkboxOnLeft(){return this.checkboxPosition==="left"},groupedItems(){const e={};for(const a in this.items)if(this.chunkField){const n=this.items[a][this.chunkField],r=this.items[a][this.chunkTitleKey],o=this.items[a];Object.prototype.hasOwnProperty.call(e,n)?e[n].items.unshift({id:o.id,name:r}):e[n]={name:this.$lodash.startCase(this.$lodash.camelCase(n)),items:[{id:o.id,name:r}]}}else{const n=this.items[a][this.chunkTitleKey].split(this.chunkCharacter);if(n.length>1){const r=n[0],o=n[1];Object.prototype.hasOwnProperty.call(e,r)?(__isset(e[r].id)&&delete e[r].id,e[r].items.unshift({id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(o))})):e[r]={name:this.$lodash.startCase(this.$lodash.camelCase(r)),items:[{id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(o))}]}}else{const r="alpha";Object.prototype.hasOwnProperty.call(e,r)?(__isset(e[r].id)&&delete e[r].id,e[r].items.unshift({id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[a][this.chunkTitleKey]))})):e[r]={name:this.$t("General"),items:[{id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[a][this.chunkTitleKey]))}]}}}const t=Object.values(e);return t.sort(function(a,n){return a.hasOwnProperty("items")?1:n.hasOwnProperty("items")?-1:0}),this.closeAllGroups?this.openedGroups=[]:this.openedGroups=this.openAllGroups?t.map(a=>a.name):[t[0].name],t},disabledCheckbox(){return this.$attrs.disabled||!this.canSelectMore()&&!Array.isArray(this.input)},hasMandatoryItems(){return this.items.some(e=>__data_get(e,this.mandatory,!1))},treeviewCols(){return this.chunkField?{cols:12}:{lg:6,md:8,sm:12}}},created(){}},_hoisted_1$m={class:"v-input-checklist__field d-flex"},_hoisted_2$h={class:"d-flex align-center"};function _sfc_render$v(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("v-input-checkbox-card");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":t[6]||(t[6]=d=>e.input=d),hideDetails:"auto",disabled:a.disabled,class:"v-input-checklist"},{default:withCtx(d=>[createBaseVNode("div",_hoisted_1$m,[e.label?(openBlock(),createElementBlock("div",{key:0,class:"d-flex flex-column",style:normalizeStyle([a.flexColumn?"":"flex: 0 1 25%;"])},[e.label?(openBlock(),createBlock(i,{key:0,padding:"x-3","data-test":"title",color:a.labelColor,transform:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label),1)]),_:1},8,["color"])):createCommentVNode("",!0),a.subtitle?(openBlock(),createBlock(i,{key:1,padding:"x-3",type:"caption",weight:"medium",transform:"none",color:a.subtitleColor,"data-test":"title"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.subtitle),1)]),_:1},8,["color"])):createCommentVNode("",!0)],4)):createCommentVNode("",!0),e.label||a.subtitle?(openBlock(),createBlock(VDivider,{key:1,vertical:"",class:"mr-4"})):createCommentVNode("",!0),a.isTreeview?(openBlock(),createBlock(VRow,{key:2},{default:withCtx(()=>[createVNode(VCol,normalizeProps(guardReactiveProps({...o.treeviewCols})),{default:withCtx(()=>[createVNode(VList,{opened:n.openedGroups,"onUpdate:opened":t[3]||(t[3]=l=>n.openedGroups=l)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.groupedItems,(l,u)=>(openBlock(),createElementBlock(Fragment,{key:`checkbox-${u}`},[e.$isset(l.items)&&l.items.length>0?(openBlock(),createBlock(VListGroup,{key:0,class:"pl-0","collapse-icon":"","expand-icon":"",value:l.name},{activator:withCtx(({props:m,isOpen:c})=>[a.noGroupAllSelectable?(openBlock(),createBlock(i,mergeProps({key:1,text:l[`${a.itemTitle}`],type:"body-1",color:"grey-darken-5",weight:"medium",justify:"space-between",ref_for:!0},m),{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$h,[createVNode(VIcon,{icon:c?"$collapse":"$expand"},null,8,["icon"])])]),_:2},1040,["text"])):(openBlock(),createBlock(VCheckbox,{key:0,class:"ue-checklist-checkbox",label:l[`${a.itemTitle}`],color:"success","hide-details":"",indeterminate:o.isIndeterminateGroup(l),density:"compact",modelValue:o.isAllSelected(l),"onUpdate:modelValue":h=>o.updatedParent(h,l),readonly:o.isMandatoryItem(l)},{prepend:withCtx(()=>[a.chunkField?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,mergeProps({key:0,ref_for:!0},m,{icon:c?"$collapse":"$expand"}),null,16,["icon"]))]),_:2},1032,["label","indeterminate","modelValue","onUpdate:modelValue","readonly"])),a.hasGroupBottomDivider?(openBlock(),createBlock(VDivider,{key:2,class:"mt-0"})):createCommentVNode("",!0)]),default:withCtx(()=>[a.chunkField?(openBlock(),createBlock(VListItem,{key:0,style:{"padding-inline-start":"0px !important"}},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",style:normalizeStyle([a.flexColumn?"":"flex: 1 0 60%;"])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.items,(m,c)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${c}`,ref_for:!0},a.checkboxCol,{class:"pb-0 pr-0"}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(o.getCheckboxContainerClasses(m))},[o.checkboxOnRight?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([(e.$attrs.disabled??!1)||!o.canSelectMore()&&!e.input.includes(m[a.itemValue])?"v-input-checklist__label--disabled":""])},toDisplayString(m[a.itemTitle]),3)):createCommentVNode("",!0),o.checkboxOnRight?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=h=>e.input=h),disabled:(e.$attrs.disabled??!1)||!o.canSelectMore()&&!e.input.includes(m[a.itemValue]),value:m[a.itemValue],color:a.checkboxColor,"hide-details":"",label:m[a.itemTitle],class:normalizeClass(o.getCheckboxClasses(m)),readonly:o.isMandatoryItem(m)||n.isProtected(m[a.itemValue])},createSlots({_:2},[o.checkboxOnRight?{name:"label",fn:withCtx(()=>[t[7]||(t[7]=createBaseVNode("span",null,null,-1))]),key:"0"}:void 0]),1032,["modelValue","disabled","value","color","label","class","readonly"])],2)]),_:2},1040))),128))]),_:2},1032,["style"])]),_:2},1024)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(l.items,(m,c)=>(openBlock(),createBlock(VListItem,{key:`checkbox-${c}`,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{class:"ue-checklist-checkbox",modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=h=>e.input=h),label:m[`${a.itemTitle}`],value:m[`${a.itemValue}`],disabled:!o.canSelectMore()&&!e.input.includes(m[a.itemValue]),color:"success","hide-details":"",density:"compact",readonly:o.isMandatoryItem(m)},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))),128))]),_:2},1032,["value"])):(openBlock(),createBlock(VListItem,{key:1,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":t[2]||(t[2]=m=>e.input=m),label:l[`${a.itemTitle}`],value:l[`${a.itemValue}`],disabled:!o.canSelectMore()&&!e.input.includes(l[a.itemValue]),readonly:o.isMandatoryItem(l)||n.isProtected(l[a.itemValue]),color:"success","hide-details":"",density:"compact"},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))],64))),128))]),_:1},8,["opened"])]),_:1},16)]),_:1})):(openBlock(),createBlock(VRow,{key:3,style:normalizeStyle([a.flexColumn?"":"flex: 1 0 60%;"])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.items,(l,u)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${u}`,ref_for:!0},a.checkboxCol,{class:""}),{default:withCtx(()=>[a.isCard?(openBlock(),createBlock(s,{key:0,modelValue:e.input,"onUpdate:modelValue":t[4]||(t[4]=m=>e.input=m),value:l[a.itemValue],class:normalizeClass(o.getCheckboxClasses(l)),color:a.checkboxColor,title:l[a.itemTitle],description:l.description,disabled:(e.$attrs.disabled??!1)||!o.canSelectMore()&&!e.input.includes(l[a.itemValue]),readonly:o.isMandatoryItem(l)||n.isProtected(l[a.itemValue]),checkboxOnRight:o.checkboxOnRight,stats:o.getCardStats(l)},null,8,["modelValue","value","class","color","title","description","disabled","readonly","checkboxOnRight","stats"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(o.getCheckboxContainerClasses(l))},[o.checkboxOnRight?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([(e.$attrs.disabled??!1)||!o.canSelectMore()&&!e.input.includes(l[a.itemValue])?"v-input-checklist__label--disabled":""])},toDisplayString(l[a.itemTitle]),3)):createCommentVNode("",!0),o.checkboxOnRight?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":t[5]||(t[5]=m=>e.input=m),value:l[a.itemValue],disabled:(e.$attrs.disabled??!1)||!o.canSelectMore()&&!e.input.includes(l[a.itemValue]),color:a.checkboxColor,"hide-details":"",label:l[a.itemTitle],class:normalizeClass(o.getCheckboxClasses(l)),readonly:o.isMandatoryItem(l)||n.isProtected(l[a.itemValue])},createSlots({_:2},[o.checkboxOnRight?{name:"label",fn:withCtx(()=>[t[8]||(t[8]=createBaseVNode("span",null,null,-1))]),key:"0"}:void 0]),1032,["modelValue","value","disabled","color","label","class","readonly"])],2))]),_:2},1040))),128))]),_:1},8,["style"]))])]),_:1},8,["modelValue","disabled"])}const Checklist=_export_sfc(_sfc_main$y,[["render",_sfc_render$v]]),__vite_glob_3_3=Object.freeze(Object.defineProperty({__proto__:null,default:Checklist},Symbol.toStringTag,{value:"Module"})),_sfc_main$x={name:"v-input-checklist-group",emits:[...makeInputEmits],components:{Checklist},props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},setup(e,t){return{...useInput(e,t)}},data:function(){return{selectedGroup:Object.keys(this.schema)[0]??1,selectedItems:[]}},computed:{},watch:{selectedGroup:{handler(e,t){this.selectedItems=[]}},selectedItems:{handler(e,t){this.$emit("update:modelValue",{group:this.selectedGroup,items:this.selectedItems})}}},methods:{},created(){}};function _sfc_render$u(e,t,a,n,r,o){const i=resolveComponent("Checklist");return openBlock(),createBlock(VInput,{modelValue:e.selectedItems,"onUpdate:modelValue":t[2]||(t[2]=s=>e.selectedItems=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-checklist-group"},{default:withCtx(s=>{var d;return[createVNode(VRadioGroup,{modelValue:e.selectedGroup,"onUpdate:modelValue":t[0]||(t[0]=l=>e.selectedGroup=l),direction:"horizontal"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.schema,(l,u)=>(openBlock(),createBlock(VCol,{key:u},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-checklist-group__btn",variant:e.selectedGroup==u?"elevated":"outlined",onClick:m=>e.selectedGroup=u},{prepend:withCtx(()=>[createVNode(VRadio,{value:u},null,8,["value"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(l.label.toUpperCase()),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),createBaseVNode("div",null,[createVNode(i,{modelValue:e.selectedItems,"onUpdate:modelValue":t[1]||(t[1]=l=>e.selectedItems=l),items:((d=a.schema[e.selectedGroup??0])==null?void 0:d.items)??[]},null,8,["modelValue","items"])])]}),_:1},8,["modelValue","variant"])}const ChecklistGroup=_export_sfc(_sfc_main$x,[["render",_sfc_render$u]]),__vite_glob_3_4=Object.freeze(Object.defineProperty({__proto__:null,default:ChecklistGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$w={name:"v-input-comparison-table",emits:[...makeInputEmits],components:{Table},props:{...makeInputProps(),schema:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},comparatorField:{type:String,default:"name"},comparators:{type:Object,default:()=>{}},selectable:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!0}},setup(e,t){return{...useInput(e,t)}},data:function(){return{model:null}},computed:{headers(){return[{title:this.label,key:"comparator_name"}].concat(this.items.map(e=>({title:e.name,key:e.name,align:"center",id:e.id})))},comparisonItems(){let e=Object.keys(this.comparators).reduce((a,n)=>{const r=this.comparators[n];let o=(r==null?void 0:r.key)??n;return this.items.forEach(i=>{if(Array.isArray(i[o]))i[o].forEach(function(s){find(a,["id",s.id])||a.push({...s,_comparatorField:(r==null?void 0:r.field)??"name",...r!=null&&r.itemClasses?{_comparatorItemClasses:r.itemClasses}:{}})});else{let s=__isset(i[`${o}_show`])?`${o}_show`:o;a.includes(s)||a.push(s)}}),a},[]),t=[];if(this.selectable){let a={comparator_name:""};this.items.forEach(n=>{a[n.name]="__input"}),t.push(a)}return e.map(a=>{let n={},r=null;if(__isObject(a))r=a[a._comparatorField],__isset(a._comparatorItemClasses)&&(r=`<span class="${a._comparatorItemClasses}">${r}</span>`);else{let o=null;if((o=find(this.comparators,["key",a]))&&__isset(o.title))r=o.title;else{let i=a.match(/(\w+)?(_show)/);i?r=this.$headline(i[1]):r=this.$headline(a)}__isset(o.itemClasses)&&(r=`<span class="${o.itemClasses}"> ${r} </span>`)}return n.comparator_name=r,this.items.forEach(o=>{if(__isObject(a)){let i=find(o[this.comparatorField],["id",a.id]);i?n[o.name]=i.pivot.value:n[o.name]=""}else{let i=o[a];n[o.name]=i;let s=null;(s=find(this.comparators,["key",a]))&&__isset(s.itemClasses)&&(n[o.name]=`<span class="${s.itemClasses}"> ${i} </span>`)}}),n}).concat(t)}},watch:{input(e,t){},modelValue(e,t){}},methods:{},created(){}},_hoisted_1$l={key:0,class:"v-input-comparison-table__header--selected"},_hoisted_2$g=["innerHTML"],_hoisted_3$g=["innerHTML"];function _sfc_render$t(e,t,a,n,r,o){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=i=>e.input=i),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:normalizeClass(["v-input-comparison-table",{"v-input-comparison-table--striped":a.striped,"v-input-comparison-table--highlighted":a.highlighted}]),rules:e.$attrs.rules},{default:withCtx(i=>[createVNode(VDataTable,{headers:o.headers,items:o.comparisonItems,itemsLength:"0","disable-sort":"","hide-default-footer":""},createSlots({_:2},[renderList(o.headers,(s,d)=>({name:`header.${s.key}`,fn:withCtx(l=>[e.$isset(s.id)&&e.input==s.id?(openBlock(),createElementBlock("div",_hoisted_1$l,toDisplayString(s.title),1)):(openBlock(),createElementBlock("div",{key:1,innerHTML:s.title},null,8,_hoisted_2$g))])})),renderList(o.headers,(s,d)=>({name:`item.${s.key}`,fn:withCtx(({item:l})=>[l[s.key]=="__input"?(openBlock(),createBlock(VBtn,{key:0,class:"ma-2",onClick:u=>e.input=s.id,variant:e.input==s.id?"elevated":"outlined",readonly:e.protectInitialValue},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select")),1)]),_:2},1032,["onClick","variant","readonly"])):(openBlock(),createElementBlock("div",{key:1,innerHTML:l[s.key]},null,8,_hoisted_3$g))])}))]),1032,["headers","items"])]),_:1},8,["modelValue","variant","class","rules"])}const ComparisonTable=_export_sfc(_sfc_main$w,[["render",_sfc_render$t]]),__vite_glob_3_5=Object.freeze(Object.defineProperty({__proto__:null,default:ComparisonTable},Symbol.toStringTag,{value:"Module"})),LocaleMixin={props:{locale:{default:null}},data(){return{_locale:this.locale}},computed:{hasLocale:function(){return this._locale!=null},hasCurrentLocale:function(){return this.currentLocale!=null},isLocaleRTL:function(){const e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return this.hasLocale?e.includes(this.locale.shortlabel.toLowerCase()):!1},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return this.currentLocale.shortlabel},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all})},methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}},mounted(){}},_EXTENSIONS={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},_sfc_main$v={name:"UeFileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){const e=this.currentItem.extension;if(_EXTENSIONS.hasOwnProperty(e))return _EXTENSIONS[e].icon;for(const t in _EXTENSIONS)if(_EXTENSIONS[t].FileExtensions.findIndex(n=>n===e)>-1)return _EXTENSIONS[t].icon;return"gen"}}},_hoisted_1$k={class:"fileItem"},_hoisted_2$f={key:0,class:"fileItem__cell fileItem__cell--drag"},_hoisted_3$f={key:1,class:"fileItem__cell fileItem__cell--extension"},_hoisted_4$d={href:"#",target:"_blank"},_hoisted_5$c=["symbol"],_hoisted_6$c={class:"fileItem__cell fileItem__cell--name"},_hoisted_7$8={key:0},_hoisted_8$7=["src"],_hoisted_9$7=["href"],_hoisted_10$5={class:"f--link-underlined--o"},_hoisted_11$4=["name","value"],_hoisted_12$3={key:2,class:"fileItem__cell fileItem__cell--size"},_hoisted_13$3={class:"fileItem__cell"};function _sfc_render$s(e,t,a,n,r,o){const i=resolveDirective("svg");return openBlock(),createElementBlock("tr",_hoisted_1$k,[a.draggable?(openBlock(),createElementBlock("td",_hoisted_2$f,t[0]||(t[0]=[createBaseVNode("div",{class:"drag__handle--drag"},null,-1)]))):createCommentVNode("",!0),o.currentItem.hasOwnProperty("extension")?(openBlock(),createElementBlock("td",_hoisted_3$f,[createBaseVNode("a",_hoisted_4$d,[withDirectives(createBaseVNode("span",{symbol:o.getSvgIconName()},null,8,_hoisted_5$c),[[i]])])])):createCommentVNode("",!0),createBaseVNode("td",_hoisted_6$c,[o.currentItem.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("span",_hoisted_7$8,[createBaseVNode("img",{src:o.currentItem.thumbnail},null,8,_hoisted_8$7)])):createCommentVNode("",!0),createBaseVNode("a",{href:o.currentItem.hasOwnProperty("original")?o.currentItem.original:"#",download:""},[createBaseVNode("span",_hoisted_10$5,toDisplayString(o.currentItem.name),1)],8,_hoisted_9$7),createBaseVNode("input",{type:"hidden",name:a.name,value:o.currentItem.id},null,8,_hoisted_11$4)]),o.currentItem.hasOwnProperty("size")?(openBlock(),createElementBlock("td",_hoisted_12$3,toDisplayString(o.currentItem.size),1)):createCommentVNode("",!0),createBaseVNode("td",_hoisted_13$3,[createVNode(VBtn,{icon:"$close",onClick:o.deleteItem},null,8,["onClick"])])])}const FileItem=_export_sfc(_sfc_main$v,[["render",_sfc_render$s],["__scopeId","data-v-4430099c"]]),_sfc_main$u={name:"v-input-file",emits:[...makeInputEmits],components:{FileItem,draggable:Draggable},mixins:[LocaleMixin],props:{...makeFileProps()},setup(e,t){return{...useFile(e,t)}},created(){},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[t])&&(this.$store.state.mediaLibrary.selected[t]=[]),this.$store.state.mediaLibrary.selected[t]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))}}},_hoisted_1$j={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$e={class:"v-field__field","data-no-activator":""},_hoisted_3$e={class:"fileField"},_hoisted_4$c={key:0,class:"fileField__trigger"},_hoisted_5$b=["name","value"],_hoisted_6$b={class:"fileField__note f--small"},_hoisted_7$7={key:1,class:"fileField__list"},_hoisted_8$6={key:2,class:"fileField__trigger"},_hoisted_9$6=["name","value"],_hoisted_10$4={class:"fileField__note f--small"},_hoisted_11$3={class:"v-field__outline"},_hoisted_12$2={class:"v-field__outline__notch"},_hoisted_13$2={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$r(e,t,a,n,r,o){const i=resolveComponent("FileItem"),s=resolveComponent("draggable");return openBlock(),createBlock(VInput,{hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(d=>[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$e,[e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_4$c,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_5$b),createVNode(VBtn,{type:"button",onClick:t[0]||(t[0]=l=>o.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_6$b,toDisplayString(e.note),1)])):createCommentVNode("",!0),e.input.length?(openBlock(),createElementBlock("table",_hoisted_7$7,[createVNode(s,{tag:"tbody",modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=l=>e.input=l),itemKey:"id"},{item:withCtx(l=>[createVNode(i,{class:"item__content",name:`${e.name}_${l.index}`,"item-label":e.$t("form-labels.File"),item:e.input[`${l.index}`],onDelete:u=>e.deleteItem(l.index)},null,8,["name","item-label","item","onDelete"])]),_:1},8,["modelValue"])])):createCommentVNode("",!0),!e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_8$6,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_9$6),createVNode(VBtn,{type:"button",onClick:t[2]||(t[2]=l=>o.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_10$4,toDisplayString(e.note),1)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$3,[t[3]||(t[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("label",_hoisted_13$2,toDisplayString(e.boundProps.label),1)]),t[4]||(t[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:1},8,["variant"])}const File$1=_export_sfc(_sfc_main$u,[["render",_sfc_render$r],["__scopeId","data-v-da6cdea3"]]),__vite_glob_3_8=Object.freeze(Object.defineProperty({__proto__:null,default:File$1},Symbol.toStringTag,{value:"Module"})),Component="Filepond",FilePond=vueFilePond(plugin$1,plugin),_sfc_main$t={name:"v-input-filepond",components:{FilePond},emits:[...makeInputEmits,"loading","loaded"],props:{...makeInputProps(),...makeFilepondProps()},setup(e,t){const{requiredRule:a}=useValidation(e);return{...useInput(e,t),requiredRule:a}},data(){return{classes:["v-input-filepond",this.class??""],fileFieldClasses:["v-input-filepond__file-field",this.$slots.activator||this.$slots.body?"d-none":""],errorMessages:[],onStart:!0,files:isArray(this.modelValue)?this.modelValue.map(function(e){return{source:e.source??`${this.endPoints.load}${e.uuid}`,options:{type:`${e.type??"local"}`,metadata:{date:e.created_at},file:e.file}}}):[],slotBindings:{browse:this.browse,addFile:this.addFile,removeFile:this.removeFile,removeFiles:this.removeFiles,getFiles:this.getFiles,getFile:this.getFile,files:this.files}}},methods:{postProcessFilepond:function(e,t){e?__log("postProcess error",e):this.input=this.input.concat({uuid:t.serverId,file_name:t.filename,source:`${this.endPoints.load}${t.serverId}`})},removeFilepond:function(e,t){var r;const a=t.filename??((r=t.serverId)==null?void 0:r.replace(`/${t.filename}`,""))??t.uuid,n=this.input.filter(o=>o.uuid!=a);this.input=n},init(){setOptions({server_:{process_:this.endPoints.process,revert_:this.endPoints.revert,load_:this.endPoints.load}})},addFile(...e){return this.$refs.pond.addFile(...e)},browse(...e){return this.$refs.pond._pond.browse()},removeFile(...e){return this.$refs.pond.removeFile(...e)},removeFiles(...e){return this.$refs.pond.removeFiles(...e)},getFiles(...e){return this.$refs.pond.getFiles(...e)},getFile(...e){return this.$refs.pond.getFile(...e)},warning(e){this.$store.commit(ALERT.SET_ALERT,{message:e.body,variant:"warning"})},error(e){__log("error",e)}},computed:{server(){return{revert:(e,t,a)=>{let n="revert-"+e;axios.delete(this.endPoints.revert,{requestId:n,data:e}).then(r=>{this.input=this.input.filter(o=>o.uuid!=e),t()}).catch(r=>{console.error("server revert error",r)})},process:(e,t,a,n,r,o,i,s,d)=>{const l=new FormData;if(e.match(/(\w)+.(\w)+/)){let m=e.split(".");e="";for(const c in m)c==0?e+=m[c]:e+=`[${m[c]}]`}l.append(e,t,t.name);let u="process-"+e;return axios.post(this.endPoints.process,l,{requestId:u,onUploadProgress:m=>{o(m.lengthComputable,m.loaded,m.total)}}).then(function(m){n(m.data)}).catch(function(m){m.status==500&&m.response.match(/^\<script\> Sfdump/)?(globalError$1(Component,{message:"Filepond process error.",value:request}),r("Dump error on processing")):r("Processing Error")}),{abort:()=>{__log("aborted"),axios.abort(u),i()}}},load:(e,t,a,n,r,o)=>(axios.get(e,{responseType:"blob",validateStatus:i=>i>=200&&i<300||i===422}).then(i=>{if(i.status==200)t(i.data);else throw i.status==500?new Error("Answer not found"):new Error("Some other status code")}).catch(function(i){console.error(i)}),{abort:()=>{r()}}),headers:{"X-Csrf-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},input:{get(){return this.modelValue??[]},set(e){this.updateModelValue(e)}},key:{get(){return`filepond-${Date.now()}`}},name(){let e=this.$attrs.name;return this.obj&&this.obj.schema&&this.obj.schema.parentName&&(e=`${this.obj.schema.parentName}.${e}`),e}},watch:{modelValue:{handler(e){}},disabled:{handler(e){}}},created(){let e=__data_get(this.obj,"schema.rawRules","")||"";this.min&&this.min>0&&!e.match(/required:array:\d+/)&&this.rules.push(this.requiredRule("array",this.min))},mounted(){this.$refs.VInput&&this.$watch(()=>this.$refs.VInput.errorMessages,e=>{this.onStart||(this.errorMessages=e),this.onStart=!1},{deep:!0})}},_hoisted_1$i={class:normalizeClass(["w-100"])},_hoisted_2$d=["innerHTML"],_hoisted_3$d={key:2,class:"v-input__details",role:"alert","aria-live":"polite"},_hoisted_4$b={key:0,class:"v-messages"},_hoisted_5$a={class:"v-messages__message"},_hoisted_6$a=["innerHTML"];function _sfc_render$q(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("FilePond");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:o.input,"onUpdate:modelValue":t[4]||(t[4]=d=>o.input=d),"hide-details":"",class:normalizeClass(r.classes),rules:e.rules},{default:withCtx(d=>[renderSlot(e.$slots,"activator",normalizeProps(guardReactiveProps({...r.slotBindings})),void 0,!0),createBaseVNode("div",_hoisted_1$i,[e.label?(openBlock(),createBlock(i,{key:0,transform:"none",padding:"a-0",weight:e.labelWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,ref:e.$refs.VInput})),()=>[createTextVNode(toDisplayString(e.label),1)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),e.subtitle?(openBlock(),createBlock(i,{key:1,type:"caption",transform:"none",padding:"a-0",weight:e.subtitleWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"subtitle",normalizeProps(guardReactiveProps({subtitle:e.subtitle,ref:e.$refs.VInput})),()=>[createBaseVNode("span",{innerHTML:e.subtitle},null,8,_hoisted_2$d)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(r.fileFieldClasses)},[(openBlock(),createBlock(s,mergeProps({ref:"pond",id:o.key,key:o.key},e.$lodash.omit(e.$bindAttributes(),["rules"]),{"allow-image-preview":e.allowImagePreview,"allow-multiple":e.allowMultiple,"allow-process":e.allowProcess,"allow-remove":e.allowRemove,"allow-reorder":e.allowReorder,"allow-replace":e.allowReplace,"drop-on-page":e.dropOnPage,"drop-on-element":e.dropOnElement,"drop-validation":e.dropValidation,"allow-file-type-validation":!0,"accepted-file-types":e.acceptedFileTypes,"max-files":e.maxFiles,name:o.name,disabled:e.disabled,"allow-drop":!e.disabled,"allow-browse":!e.disabled,files:r.files,server:o.server,onProcessfile:o.postProcessFilepond,onRemovefile:o.removeFilepond,onAddfilestart:t[0]||(t[0]=l=>e.$emit("loadingFile",l)),onAddfileprogress:t[1]||(t[1]=l=>e.$emit("loadingFileProgress",l)),onAddfile:t[2]||(t[2]=l=>e.$emit("loadedFile",l)),onInit:o.init,onWarning:o.warning,onError:o.error}),null,16,["id","allow-image-preview","allow-multiple","allow-process","allow-remove","allow-reorder","allow-replace","drop-on-page","drop-on-element","drop-validation","accepted-file-types","max-files","name","disabled","allow-drop","allow-browse","files","server","onProcessfile","onRemovefile","onInit","onWarning","onError"]))],2),renderSlot(e.$slots,"body",mergeProps({...r.slotBindings},{onClick:t[3]||(t[3]=(...l)=>o.browse&&o.browse(...l))}),void 0,!0),e.hideDetails?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$d,[r.errorMessages.length>0?(openBlock(),createElementBlock("div",_hoisted_4$b,[createBaseVNode("div",_hoisted_5$a,toDisplayString(r.errorMessages.join(", ")),1)])):e.hint?(openBlock(),createBlock(i,{key:1,class:"v-messages",type:"caption",transform:"none",padding:"a-0",weight:e.hintWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"hint",normalizeProps(guardReactiveProps({hint:e.hint})),()=>[createBaseVNode("span",{innerHTML:e.hint},null,8,_hoisted_6$a)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0)]))])]),_:3},8,["modelValue","class","rules"])}const Filepond=_export_sfc(_sfc_main$t,[["render",_sfc_render$q],["__scopeId","data-v-eaed5d45"]]),__vite_glob_3_9=Object.freeze(Object.defineProperty({__proto__:null,default:Filepond},Symbol.toStringTag,{value:"Module"})),_sfc_main$s={__name:"FilepondAvatar",props:{disabled:{type:Boolean,default:!1},...makeInputProps(),...makeFilepondProps()},emits:makeInputEmits,setup(e,{emit:t}){const a=e,n=t;ref(null);const r=useInput(a,{emit:n,updateModelValue:(u,m)=>{u.length>1?r.input.value=[u[1]]:n("update:modelValue",u)}}),o=ref(!1),i=ref(null),s=()=>{o.value||a.disabled||i.value.browse()},d=()=>{o.value=!0},l=()=>{o.value=!1};return(u,m)=>{const c=resolveComponent("v-input-filepond");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:"v-input-filepond__avatar-wrapper",onClick:s},[createVNode(VAvatar,{size:"90",class:normalizeClass(e.disabled?"":"cursor-pointer")},{default:withCtx(()=>[unref(r).input.value.length>0?(openBlock(),createBlock(VImg,{key:0,alt:"Avatar",src:unref(r).input.value[0].source},null,8,["src"])):(openBlock(),createBlock(VIcon,{key:1,icon:"mdi-account"}))]),_:1},8,["class"]),createBaseVNode("div",{class:normalizeClass(["v-input-filepond__edit-icon",o.value?"bg-surface":"bg-primary-lighten-3"])},[o.value?(openBlock(),createBlock(VProgressCircular,{key:0,size:25,color:"success",indeterminate:""})):createCommentVNode("",!0),createVNode(VIcon,{disabled:e.disabled,size:"default"},{default:withCtx(()=>m[1]||(m[1]=[createTextVNode("mdi-account-edit-outline")])),_:1},8,["disabled"])],2)]),createVNode(c,{ref_key:"FilepondRef",ref:i,modelValue:unref(r).input.value,"onUpdate:modelValue":m[0]||(m[0]=h=>unref(r).input.value=h),class:"v-input-filepond-avatar","hide-details":u.hideDetails,hint:u.hint,min:u.min,"max-files":u.maxFiles,rules:u.rules,"hint-weight":u.hintWeight,"end-points":u.endPoints,"label-weight":u.labelWeight,subtitle:u.subtitle,"subtitle-weight":u.subtitleWeight,"accepted-file-types":u.acceptedFileTypes,onLoadingFile:d,onLoadedFile:l},{activator:withCtx(h=>m[2]||(m[2]=[])),_:1},8,["modelValue","hide-details","hint","min","max-files","rules","hint-weight","end-points","label-weight","subtitle","subtitle-weight","accepted-file-types"])],64)}}},FilepondAvatar=_export_sfc(_sfc_main$s,[["__scopeId","data-v-103a1819"]]),__vite_glob_3_10=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondAvatar},Symbol.toStringTag,{value:"Module"})),_sfc_main$r={name:"v-input-form-tabs",emits:[...makeInputEmits],inject:[...makeInputInjects],props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}},tabFields:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},triggers:{type:Object,default:()=>[]}},setup(e,{emit:t}){const a=useInputHandlers(),n=useValidation(e),{t:r,te:o}=useI18n(),i=useInput(e,{emit:t}),s=ref(e.items),d=ref(!0),l=(f,C)=>{let k,w=f;if(__isString(f)&&(k=f.match(/\$([\w\.\*]+)/))){let b=k[1],A=__preg_quote(k[0]),E=b.split("."),N=[];for(const T in E){let S=E[T];S==="*"?C.id:N.push(S)}b=N.join(".");let B=__data_get(C,b);if(B){let T;if(Array.isArray(B)&&B.length>0)T=B.join(",");else if(__isString(B)){T=B;let S=snakeCase$1(T);o(`modules.${S}`)&&(T=r(`modules.${S}`))}else __isNumber(B)&&(T=B.toString());if(T){let S="\\w\\s"+__preg_quote("çşıİğüö.,;?|:_"),I=new RegExp(String.raw`^([${S}]+)?(${A})([${S}]+)?$`);f.match(I)?w=f.replace(I,"$1"+T+"$3"):__log("Not matched sentence",I,f,f.match(I))}}}return w},u=reactive(new Map),m=(f,C)=>{C?u.set(f,C):u.delete(f)},c=f=>u.get(f),h=ref(s.value.reduce((f,C)=>{var k;return __isset(f[C.id])||(f[C.id]={...getModel(e.schema,{}),...((k=i.input.value)==null?void 0:k[C.id])??{}}),f},{})),y=(f,C,k)=>{let w=!1;return Object.keys(f).forEach(A=>{const E=filter(e.triggers,S=>S.trigger===A);if(E.length<1)return;const N=f[A],B=cloneDeep(k[C][A]);let T=null;B.items&&Array.isArray(B.items)&&(T=B.items.find(S=>S.id==N)),E.forEach(S=>{let I=cloneDeep(k[C][S.target]),M=!1;forEach(S.actions,(x,F)=>{if(Array.isArray(x)){if(F==="class"){let z=(I==null?void 0:I.class)??"";if(z){let D=z.split(" "),[O,...P]=x;O==="remove"?D=D.filter($=>!P.includes($)):O==="add"&&(D=[...D,...P]),I.class=D.join(" "),w=!0}}}else w=!0,F==="rules"&&(M=!0,F="raw"+startCase(F)),F==="disabled"&&(I._originalDisabled=x),F==="items"?I[F]=__data_get(T,x,[]):T&&(I[F]=l(x,T))}),k[C][S.target]=I,M&&(k[C]=n.invokeRuleGenerator(k[C]))})}),{schemas:k,schemasChanged:w}},p=ref(s.value.reduce((f,C,k)=>{var w;if(!__isset(f[C.id])){const b=cloneDeep(e.schema);for(const E in e.tabFields)e.protectInitialValue&&(b[E].protectInitialValue=!0),__isset(b[E])&&(b[E].items=C[e.tabFields[E]]),forEach(b[E],(N,B)=>{b[E][B]=l(N,s.value[k])});f[C.id]=getSchema(b,((w=h.value)==null?void 0:w[C.id])??{});const{schemas:A}=y(h.value[C.id],C.id,f);f=A}return f},{})),v=ref(s.value.reduce((f,C,k)=>(f[k]=null,f),{}));s.value.length>0&&(d.value=!1);const V=reactive({loading:d,elements:s,formRefs:u,activeTab:1,models:h,schemas:p,valids:v});watch$1(()=>e.items,f=>{d.value=!0;let C=f.filter(w=>!s.value.find(b=>b.id==w.id)),k=s.value.filter(w=>!f.find(b=>b.id==w.id));C.length>0&&C.forEach(w=>{var b,A;if(__isset(h.value[w.id])||(h.value[w.id]={...getModel(e.schema,{}),...((b=i.input.value)==null?void 0:b[w.id])??{}}),!__isset(p.value[w.id])){const E=cloneDeep(e.schema);for(const N in e.tabFields)__isset(E[N])&&(E[N].items=w[e.tabFields[N]]),forEach(E[N],(B,T)=>{E[N][T]=l(B,w)});p.value[w.id]=getSchema(E,((A=h.value)==null?void 0:A[w.id])??{})}v.value[w.id]=null}),k.length>0&&k.forEach(w=>{delete h.value[w.id],delete p.value[w.id],delete v.value[w.id],m(w.id,null)}),s.value=f}),watch$1(()=>s.value,f=>{setTimeout(()=>{f.length>0&&(d.value=!1)},1e3)});const g=(f,C)=>{let k=cloneDeep(h.value);k[C];let w=cloneDeep(p.value);const{schemas:b,schemasChanged:A}=y(f,C,w);A&&(p.value=cloneDeep(b)),k[C]=f,h.value=cloneDeep(k),t("update:modelValue",h.value)};return{...i,...a,...n,...toRefs(V),setFormRef:m,getFormRef:c,updateModel:g,schemas:p}},data(){return{formTabsRules:[e=>{var a;let t=!0;e:for(const n in e){let r=e[n];for(const o in this.schema){let i=r[o],s=this.schema[o];if(t=this.validateInput(s,i),t!==!0&&this.manualValidation){this.activeTab=parseInt(n);let d=this.getFormRef(this.activeTab);if(d){d.validate();break e}else console.info("FormTabs validateInput",{id:n,formRef:d,formRefValue:(a=this.getFormRef(n))==null?void 0:a.value,activeTab:this.activeTab,formRefs:this.formRefs})}if(t!==!0)break e}}return t}]}},computed:{},watch:{models:{handler(e,t){this.validate()},deep:!0}},methods:{async validate(){this.VInput&&await this.VInput.validate()},async validateForm(e){return await this.getFormRef(e).value[0].validate()},init(){}},created(){}};function _sfc_render$p(e,t,a,n,r,o){const i=resolveComponent("ue-form"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:e.models,"onUpdate:modelValue":t[2]||(t[2]=d=>e.models=d),"hide-details":"",multiple:"",rules:r.formTabsRules,class:"v-input-form-tabs"},{default:withCtx(d=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-row-divider, table-row@4",height:"400px",width:"100%"})):(openBlock(),createBlock(s,{key:1,modelValue:e.activeTab,"onUpdate:modelValue":t[1]||(t[1]=l=>e.activeTab=l),items:e.elements,"tab-value":"id","tab-title":"name"},createSlots({windows:withCtx(({active:l})=>[createVNode(VWindow,{modelValue:e.activeTab,"onUpdate:modelValue":t[0]||(t[0]=u=>e.activeTab=u)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.elements,(u,m)=>(openBlock(),createBlock(VWindowItem,{key:u.id,value:u.id},{default:withCtx(()=>[(openBlock(),createBlock(i,{ref_for:!0,ref:c=>n.setFormRef(u.id,c),key:`form-${u.id}-${JSON.stringify(n.schemas[u.id])}`,"vvvvv-model":"models[item.id]",modelValue:e.models[u.id],"onUpdate:modelValue":c=>n.updateModel(c,u.id),"onXupdate:modelValue":c=>e.$log("update:modelValue",c,u.id),schema:n.schemas[u.id],valid:e.valids[m],"onUpdate:valid":c=>e.valids[m]=c,noDefaultFormPadding:"",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","onXupdate:modelValue","schema","valid","onUpdate:valid"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:2},[renderList(e.elements,(l,u)=>({name:`tab.${l.id}`,fn:withCtx(()=>[createVNode(VTab,{value:l.id,color:!this.valids[u]&&e.window.__isBoolean(this.valids[u])?"error":"primary",class:normalizeClass([e.window.__isBoolean(this.valids[u])&&!this.valids[u]?"bg-red-lighten-5":""])},{append:withCtx(()=>[e.window.__isBoolean(e.valids[u])?(openBlock(),createBlock(VIcon,{key:0,icon:e.valids[u]?"$check":"$close"},null,8,["icon"])):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(l.name),1)]),_:2},1032,["value","color","class"])])}))]),1032,["modelValue","items"]))]),_:1},8,["modelValue","rules"])}const FormTabs=_export_sfc(_sfc_main$r,[["render",_sfc_render$p]]),__vite_glob_3_11=Object.freeze(Object.defineProperty({__proto__:null,default:FormTabs},Symbol.toStringTag,{value:"Module"})),mediaLibrayMixin={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}},mediaFieldMixin={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!0},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default(){return[]}}}},cropConversion=(e,t,a)=>({x:Math.round(e.x*t.width/a.width),y:Math.round(e.y*t.height/a.height),width:Math.round(e.width*t.width/a.width),height:Math.round(e.height*t.height/a.height)}),IS_SAFARI$1=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$q={name:"v-input-image",emits:[...makeInputEmits],components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps()},setup(e,t){return{...useImage(e,t)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$t("fields.medias.edit-close"))??"",active:!1},totalElementCount:range(0,this.max)}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const t in this.media.crops)if(this.media.crops[t].width+this.media.crops[t].height){let a="";a+=this.media.crops[t].name+" "+this.$trans("fields.medias.crop-list")+": ",a+=this.media.crops[t].width+"&nbsp;&times;&nbsp;"+this.media.crops[t].height,e.push(a)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,t){this.hasMediaChanged=e!==t,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[t])&&(this.$store.state.mediaLibrary.selected[t]=[]),this.$store.state.mediaLibrary.selected[t]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let t=this.media.thumbnail;this.$nextTick(()=>{try{const a=cropConversion(e,this.naturalDim,this.originalDim),n=a.width,r=a.height;this.canvas.width=n,this.canvas.height=r,this.ctx.drawImage(this.img,a.x,a.y,n,r,0,0,n,r),t=this.canvas.toDataURL("image/png"),this.cropSrc!==t&&(this.showImg=!1,this.cropSrc=t)}catch(a){console.error(a),this.cropSrc!==t&&(this.showImg=!0,this.cropSrc=t)}})},setDefaultCrops:function(){const e={},t=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const a in this.allCrops[this.cropContext]){const n=this.allCrops[this.cropContext][a][0].ratio,r=this.media.width,o=this.media.height,i={x:r/2,y:o/2};let s=r,d=o;n>0&&n<1?(s=Math.floor(Math.min(o*n,r)),d=Math.floor(s/n)):n>=1&&(d=Math.floor(Math.min(r/n,o)),s=Math.floor(d*n));let l={x:0,y:0,width:s,height:d};l=cropConversion(l,this.naturalDim,this.originalDim),t.push(smartCrop.crop(this.img,{width:l.width,height:l.height,minScale:1}));const u=Math.floor(i.x-s/2),m=Math.floor(i.y-d/2);e[a]={},e[a].name=this.allCrops[this.cropContext][a][0].name||a,e[a].x=u,e[a].y=m,e[a].width=s,e[a].height=d}Promise.all(t).then(a=>{let n=0;a.forEach(r=>{const o={x:r.topCrop.x,y:r.topCrop.y,width:r.topCrop.width,height:r.topCrop.height},i=e[Object.keys(e)[n]],s=cropConversion(o,this.originalDim,this.naturalDim);i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height,n++})},a=>{console.error(a)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},t=>{console.error(t),this.showDefaultThumbnail(),this.$nextTick(()=>{const a=this.$refs.mediaImg;a?(a.addEventListener("load",()=>{this.img=a,e()},{once:!0,passive:!0,capture:!0}),a.addEventListener("error",n=>{console.error(n),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,t)=>{this.img=new Image,IS_SAFARI$1||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",n=>{t(n)});let a="?";this.media.thumbnail.indexOf("?")>-1&&(a="&"),this.img.src=this.media.thumbnail+a+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,t){this.deleteMedia(e),this.$nextTick(()=>t())},deleteMedia:function(e){let t=this.input;t.splice(e,1),this.input=t},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$h={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$c={class:"v-field__field","data-no-activator":""},_hoisted_3$c={class:"_media__field"},_hoisted_4$a={class:"media__img px-2 py-2"},_hoisted_5$9={key:0,class:"media__note f--small"},_hoisted_6$9=["name","value"],_hoisted_7$6={class:"v-field__outline"},_hoisted_8$5={class:"v-field__outline__notch"},_hoisted_9$5={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$o(e,t,a,n,r,o){const i=resolveDirective("fit-grid");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$c,[createVNode(VHover,null,{default:withCtx(({isHovering:d,props:l})=>[createBaseVNode("div",mergeProps({class:["media w-100",{"media--slide":e.isSlide}]},l),[createBaseVNode("div",_hoisted_3$c,[createVNode(VRow,{dense:"",class:"","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.totalElementCount,u=>withDirectives((openBlock(),createBlock(VCol,{key:u,cols:"12",md:"6",lg:"4"},{default:withCtx(()=>[createVNode(VCard,{color:"",class:"w-100 d-flex flex-column justify-end",style:{"box-shadow":"unset"}},createSlots({default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:m,props:c})=>[e.input[u]!==void 0?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"d-flex flex-no-wrap",ref_for:!0},c,{"data-test":"imageCard"}),[createBaseVNode("div",_hoisted_4$a,[createVNode(VHover,null,{default:withCtx(({isHovering:h,props:y})=>[createBaseVNode("div",mergeProps({class:"media__imgFrame",ref_for:!0},y),[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(o.cropThumbnailStyle)},[e.showImg?(openBlock(),createBlock(VImg,{key:0,src:e.input[u].thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass([o.cropThumbnailClass]),"max-width":"240"},null,8,["src","class"])):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createBlock(VOverlay,{key:0,"model-value":h,class:"align-end justify-end",contained:"",onClick:p=>o.openMediaLibrary(1,o.mediaKey,u),elevation:h?12:2},{default:withCtx(()=>[createVNode(VBtn,{icon:"$edit",size:"small",class:"mb-2 mr-2",color:"blue-lighten-5"})]),_:2},1032,["model-value","onClick","elevation"]))],16)]),_:2},1024)]),createVNode(VList,{lines:"one",class:normalizeClass([[!e.hover||m?"opacity-100":"opacity-70","w-50"],"w-50"]),style:{"min-width":"50px",transition:"opacity 250ms ease-in"}},{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:h,props:y})=>[createVNode(VListItem,mergeProps({ref_for:!0},y,{class:{"text-blue":h},title:e.input[u].name,onClick:p=>o.openMediaLibrary(1,o.mediaKey,u)}),null,16,["class","title","onClick"])]),_:2},1024),e.input[u].size?(openBlock(),createBlock(VListItem,{key:0,subtitle:"File size: {{ input[index].size }}"})):createCommentVNode("",!0),e.input[u].width+e.input[u].height?(openBlock(),createBlock(VListItem,{key:1,subtitle:`${e.$t("fields.medias.original-dimensions")}: ${e.input[u].width} × ${e.input[u].height}`},null,8,["subtitle"])):createCommentVNode("",!0)]),_:2},1032,["class"]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,style:{"min-width":"50px",transition:"opacity 250ms ease-in"},class:normalizeClass([!e.hover||m?"opacity-100":"opacity-10","d-flex justify-end ma-2"])},[createVNode(VBtn,{"data-test":"downloadButton",icon:"$download",color:"blue-lighten-5",rounded:"0",size:"small",href:e.input[u].original,download:""},null,8,["href"]),createVNode(VBtn,{"data-test":"cropButton",icon:"mdi-crop",color:"blue-lighten-5",rounded:"0",size:"small"}),createVNode(VBtn,{"data-test":"deleteButton",icon:"$delete",color:"blue-lighten-5",rounded:"0",size:"small",onClick:h=>o.deleteMediaClick(u,s.validate)},null,8,["onClick"])],2))],16)):createCommentVNode("",!0)]),_:2},1024)]),_:2},[e.input[u]===void 0?{name:"actions",fn:withCtx(()=>[createVNode(VBtn,{"data-test":"addButton","append-icon":"$add",variant:"outlined",block:"",onClick:t[0]||(t[0]=m=>o.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1024)),[[i]])),128))]),_:2},1024),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_5$9,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(o.media),type:"hidden"},null,8,_hoisted_6$9)],16)]),_:2},1024)]),createBaseVNode("div",_hoisted_7$6,[t[2]||(t[2]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("label",_hoisted_9$5,[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label})),()=>[createTextVNode(toDisplayString(e.boundProps.label),1)],!0)])]),t[3]||(t[3]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const Image$1=_export_sfc(_sfc_main$q,[["render",_sfc_render$o],["__scopeId","data-v-2aac28ea"]]),__vite_glob_3_12=Object.freeze(Object.defineProperty({__proto__:null,default:Image$1},Symbol.toStringTag,{value:"Module"})),IS_SAFARI=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$p={name:"v-input-image",components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps()},setup(e,t){return{...useImage(e,t)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$trans("fields.medias.edit-close"))??"",active:!1}}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const t in this.media.crops)if(this.media.crops[t].width+this.media.crops[t].height){let a="";a+=this.media.crops[t].name+" "+this.$trans("fields.medias.crop-list")+": ",a+=this.media.crops[t].width+"&nbsp;&times;&nbsp;"+this.media.crops[t].height,e.push(a)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,t){this.hasMediaChanged=e!==t,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[t])&&(this.$store.state.mediaLibrary.selected[t]=[]),this.$store.state.mediaLibrary.selected[t]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let t=this.media.thumbnail;this.$nextTick(()=>{try{const a=cropConversion(e,this.naturalDim,this.originalDim),n=a.width,r=a.height;this.canvas.width=n,this.canvas.height=r,this.ctx.drawImage(this.img,a.x,a.y,n,r,0,0,n,r),t=this.canvas.toDataURL("image/png"),this.cropSrc!==t&&(this.showImg=!1,this.cropSrc=t)}catch(a){console.error(a),this.cropSrc!==t&&(this.showImg=!0,this.cropSrc=t)}})},setDefaultCrops:function(){const e={},t=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const a in this.allCrops[this.cropContext]){const n=this.allCrops[this.cropContext][a][0].ratio,r=this.media.width,o=this.media.height,i={x:r/2,y:o/2};let s=r,d=o;n>0&&n<1?(s=Math.floor(Math.min(o*n,r)),d=Math.floor(s/n)):n>=1&&(d=Math.floor(Math.min(r/n,o)),s=Math.floor(d*n));let l={x:0,y:0,width:s,height:d};l=cropConversion(l,this.naturalDim,this.originalDim),t.push(smartCrop.crop(this.img,{width:l.width,height:l.height,minScale:1}));const u=Math.floor(i.x-s/2),m=Math.floor(i.y-d/2);e[a]={},e[a].name=this.allCrops[this.cropContext][a][0].name||a,e[a].x=u,e[a].y=m,e[a].width=s,e[a].height=d}Promise.all(t).then(a=>{let n=0;a.forEach(r=>{const o={x:r.topCrop.x,y:r.topCrop.y,width:r.topCrop.width,height:r.topCrop.height},i=e[Object.keys(e)[n]],s=cropConversion(o,this.originalDim,this.naturalDim);i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height,n++})},a=>{console.error(a)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},t=>{console.error(t),this.showDefaultThumbnail(),this.$nextTick(()=>{const a=this.$refs.mediaImg;a?(a.addEventListener("load",()=>{this.img=a,e()},{once:!0,passive:!0,capture:!0}),a.addEventListener("error",n=>{console.error(n),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,t)=>{this.img=new Image,IS_SAFARI||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",n=>{t(n)});let a="?";this.media.thumbnail.indexOf("?")>-1&&(a="&"),this.img.src=this.media.thumbnail+a+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,t){this.deleteMedia(e),this.$nextTick(()=>t())},deleteMedia:function(e){let t=this.input;t.splice(e,1),this.input=t,__log(e,this.input,this.boundProps)},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$g={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$b={class:"v-field__field","data-no-activator":""},_hoisted_3$b={class:"media__field"},_hoisted_4$9={key:0,class:"media__info"},_hoisted_5$8={class:"media__img"},_hoisted_6$8={class:"media__imgFrame"},_hoisted_7$5=["src"],_hoisted_8$4=["onClick"],_hoisted_9$4={class:"media__edit--button"},_hoisted_10$3={symbol:"edit"},_hoisted_11$2=["onClick"],_hoisted_12$1={class:"media__delete--button"},_hoisted_13$1={key:0,class:"media__metadatas"},_hoisted_14$1=["onClick"],_hoisted_15$1=["title"],_hoisted_16={key:0,class:"f--small"},_hoisted_17={key:1,class:"f--small"},_hoisted_18={key:2,class:"media__note f--small"},_hoisted_19=["name","value"],_hoisted_20={class:"v-field__outline"},_hoisted_21={class:"v-field__outline__notch"},_hoisted_22={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$n(e,t,a,n,r,o){const i=resolveDirective("svg");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",{class:normalizeClass(["media",{"media--hoverable":e.hover,"media--slide":e.isSlide}])},[createBaseVNode("div",_hoisted_3$b,[o.hasMedia?(openBlock(),createElementBlock("div",_hoisted_4$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.input,(d,l)=>(openBlock(),createElementBlock(Fragment,{key:l},[createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(o.cropThumbnailStyle)},[e.showImg?(openBlock(),createElementBlock("img",{key:0,src:d.thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass(o.cropThumbnailClass)},null,10,_hoisted_7$5)):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"media__edit",onClick:u=>o.openMediaLibrary(1,o.mediaKey,l)},[createBaseVNode("span",_hoisted_9$4,[withDirectives((openBlock(),createElementBlock("span",_hoisted_10$3,[createVNode(VIcon,{icon:"$edit"})])),[[i]])])],8,_hoisted_8$4)),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:"media__delete",onClick:u=>o.deleteMediaClick(l,s.validate)},[createBaseVNode("span",_hoisted_12$1,[createVNode(VIcon,{icon:"$delete"})])],8,_hoisted_11$2))])]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("ul",_hoisted_13$1,[createBaseVNode("li",{class:"media__name",onClick:u=>o.openMediaLibrary(1,o.mediaKey,l)},[createBaseVNode("strong",{title:d.name},toDisplayString(d.name),9,_hoisted_15$1)],8,_hoisted_14$1),d.size?(openBlock(),createElementBlock("li",_hoisted_16,"File size: "+toDisplayString(d.size),1)):createCommentVNode("",!0),d.width+d.height?(openBlock(),createElementBlock("li",_hoisted_17,toDisplayString(e.$trans("fields.medias.original-dimensions"))+": "+toDisplayString(d.width)+" × "+toDisplayString(d.height),1)):createCommentVNode("",!0)])),t[2]||(t[2]=createBaseVNode("div",{class:"media__actions-dropDown"},null,-1))],64))),128))])):createCommentVNode("",!0),e.remainingItems?(openBlock(),createBlock(VBtn,{key:1,type:"button",onClick:t[0]||(t[0]=d=>o.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})):createCommentVNode("",!0),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_18,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(o.media),type:"hidden"},null,8,_hoisted_19)],2)]),createBaseVNode("div",_hoisted_20,[t[3]||(t[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_21,[createBaseVNode("label",_hoisted_22,toDisplayString(e.boundProps.label),1)]),t[4]||(t[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const ImageOld=_export_sfc(_sfc_main$p,[["render",_sfc_render$n],["__scopeId","data-v-8cc5a462"]]),__vite_glob_3_13=Object.freeze(Object.defineProperty({__proto__:null,default:ImageOld},Symbol.toStringTag,{value:"Module"})),makeModalProps=propsFactory({modelValue:{type:Boolean,default:!1}}),ModalMixin={emits:["update:modelValue","confirm","cancel"],props:{cancelText:{type:String,default:""},confirmText:{type:String,default:""},...makeModalProps()},data(){return{id:Math.ceil(Math.random()*1e6)+"-modal"}},computed:{show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},methods:{setValue(e){this[e.target.name]=e.target.value},openModal(){this.show=!0},closeModal(){this.show=!1},cancelModal(e=null){typeof this.cancelCallback>"u"?this.closeModal():this.cancelCallback(),e&&e(),this.$emit("cancel")},confirmModal(e=null){typeof this.confirmCallback>"u"?e?e():this.closeModal():this.confirmCallback(),this.$emit("confirm")}},created(){}},_sfc_main$o={name:"v-input-locale",emits:[...makeInputEmits],mixins:[LocaleMixin],setup(e,t){return{...useInput(e,t)}},props:{...makeInputProps(),type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}}},watch:{modelValue(e){if(__isObject(e))for(const t in e)this.input[t]=e[t]},attributes:{handler(e,t){},deep:!0}},computed:{input:{get(){return this.modelValue},set(e,t){this.inputOnSet(e,t),this.updateModelValue(e)}},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all}),attributesPerLang:function(){const e={},t=this.attributes.errorMessages;return this.languages.forEach(a=>{const n=cloneDeep(omit(this.attributes,["errorMessages"]));n.required=!!a.published&&this.isRequired,n.name=`${n.name}[${a.value}]`,__isset(t[a.value])&&(n.errorMessages=t[a.value],n.error=!1),this.input?n.modelValue=this.input[a.value]:n.default,e[a.value]=n}),e}},data(){return{isCustomForm:!1,isRequired:this.attributes.required,inputObject:this.modelValue}},mounted(){this.isCustomForm=this.$root.$refs.customForm!==void 0,this.isRequired=this.attributes.required??!1},created(){},methods:{attributesPerLang_:function(e){const t=this.languages.find(n=>n.value===e),a=cloneDeep(this.attributes);return a.required=!!t.published&&this.isRequired,a.name=`${a.name}[${e}]`,this.input&&(a.modelValue=this.input[e]),a},attributesNoLang:function(){const e=cloneDeep(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(LANGUAGE.SWITCH_LANG,{oldValue:e}),this.$nextTick(function(){})},updateValue:function(e,t){},modelUpdated(e,t){try{this.input&&__isset(this.input[t])?(this.input[t]=e,this.updateModelValue(this.input)):this.input&&!__isset(this.input[t])&&e?(this.input={},this.input[t]=e,this.updateModelValue(this.input)):!this.input&&e&&(this.input={})}catch{__log("catch",this.input,t,e)}}}},_hoisted_1$f={class:"locale"};function _sfc_render$m(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$f,[e.languages&&e.languages.length&&e.languages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.languages,i=>(openBlock(),createBlock(resolveDynamicComponent(`${a.type}`),mergeProps({key:i.value,ref_for:!0},o.attributesPerLang[`${i.value}`],{class:[i.value===e.currentLocale.value||r.isCustomForm?"":"d-none"],"onUpdate:modelValue":s=>o.modelUpdated(s,i.value)}),{appendx:withCtx(()=>[e.languages.length>1?(openBlock(),createBlock(VChip,{key:0,onClick:t[0]||(t[0]=s=>o.updateLocale(e.currentLocale))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale)+" ",1),createVNode(VTooltip,{activator:"parent",location:"top"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.switch-language")),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),label:withCtx(s=>[createTextVNode(toDisplayString(s.label)+" ",1),s.label&&s.isActive&&(s.isActive.value||s.isFocused.value)?(openBlock(),createBlock(VChip,{key:0,style:{"font-size":"var(--v-field-label-scale)",height:"calc(var(--v-field-label-scale) * 1.5)"},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):s.label&&!e.$isset(s.isActive)?(openBlock(),createBlock(VChip,{key:1,style:{},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:2},1040,["class","onUpdate:modelValue"]))),128)):(openBlock(),createBlock(resolveDynamicComponent(`${a.type}`),mergeProps({key:1,name:a.attributes.name},o.attributesNoLang(),{onChange:t[1]||(t[1]=i=>o.updateValue(!1,...arguments)),onBlur:t[2]||(t[2]=i=>e.$emit("blur")),onFocus:t[3]||(t[3]=i=>e.$emit("focus"))}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:3},16,["name"]))])}const Locale=_export_sfc(_sfc_main$o,[["render",_sfc_render$m],["__scopeId","data-v-38020bfc"]]),__vite_glob_3_14=Object.freeze(Object.defineProperty({__proto__:null,default:Locale},Symbol.toStringTag,{value:"Module"}));function getCountry(){return fetch("https://ip2c.org/s").then(e=>e.text()).then(e=>{const t=(e||"").toString();if(!t||t[0]!=="1")throw new Error("unable to fetch the country");return t.substr(2,2)})}function setCaretPosition(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){const a=e.createTextRange();a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select()}}const allCountries=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]].map(e=>({name:e[0],iso2:e[1].toUpperCase(),dialCode:e[2],priority:e[3]||0,areaCodes:e[4]||null})),defaultOptions={placeholder:"Enter a phone number",label:"Enter a Phone Number",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,mode:"international",invalidMsg:"",required:!1,allCountries,defaultCountry:"tr",enabledCountryCode:!1,enabledFlags:!0,preferredCountries:[],onlyCountries:[],ignoredCountries:[],autofocus:!1,autocomplete:"on",name:"telephone",wrapperClasses:"",inputClasses:"",inputId:"",dropdownOptions:{},inputOptions:{},maxLen:25,dynamicPlaceholder:!1},Phone$1={options:{...defaultOptions}};function getDefault(e){return Phone$1.options[e]}function getParents(e,t){const a=t||[],{parentNode:n}=e;return n?getParents(n,a.concat(n)):a}const _sfc_main$n={emits:[...makeInputEmits,"country-changed","validate","onValidate","keydown","mousedown","mouseup","input","change","focus","blur","click","space","onInput","onSpace","onBlur","onMouseup","onMousedown"],directives:{"click-outside":{bind(e,t,a){if(typeof t.value!="function"){const o=a.context.name;let i=`[Vue-click-outside:] provided expression ${t.expression} is not a function, but has to be`;o&&(i+=`Found in component ${o}`),console.warn(i)}const{bubble:n}=t.modifiers,r=o=>{const i=o.path||(o.composedPath?o.composedPath():!1)||getParents(o.target);(n||i.length&&!e.contains(i[0])&&e!==i[0])&&t.value(o)};e.__vueClickOutside__=r,document.addEventListener("click",r)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},props:{...makeInputProps(),invalidMsg:{type:String,default:()=>getDefault("invalidMsg")},mode:{type:String,default:()=>getDefault("mode")},disabled:{type:Boolean,default:!1},disabledFetchingCountry:{type:Boolean,default:()=>getDefault("disabledFetchingCountry")},allCountries:{type:Array,default:()=>getDefault("allCountries")},defaultCountry:{type:String,default:()=>getDefault("defaultCountry")},preferredCountries:{type:Array,default:()=>getDefault("preferredCountries")},onlyCountries:{type:Array,default:()=>getDefault("onlyCountries")},ignoredCountries:{type:Array,default:()=>getDefault("ignoredCountries")}},setup(e,t){return{...useInput(e,t)}},data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:{handler(e){e&&e!==this.activeCountry&&this.choose(e,!0)},deep:!0},lastValidCountry:null,data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:null,phoneRule:e=>e?PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON().valid||"Geçersiz telefon numarası":"Telefon Numarası gerekli"}}}},computed:{parsedMode(){if(this.mode)if(!["international","national"].includes(this.mode))console.error('Invalid value of prop "mode"');else return this.mode;return!this.phone||this.phone[0]!=="+"?"national":"international"},filteredCountries(){return this.onlyCountries.length?this.getCountries(this.onlyCountries):this.ignoredCountries.length?this.allCountries.filter(({iso2:e})=>!this.ignoredCountries.includes(e.toUpperCase())&&!this.ignoredCountries.includes(e.toLowerCase())):this.allCountries},sortedCountries(){return[...this.getCountries(this.preferredCountries).map(t=>({...t,preferred:!0})),...this.filteredCountries]},phoneObject(){const e=PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON();return Object.assign(e,{isValid:e.valid,country:this.activeCountry}),this.phone?e:{...e,number:{_phone:""}}},phoneText(){let e="_phone";return this.phoneObject.isValid?e=this.parsedMode:this.boundProps.validate=!1,this.phoneObject.number[e]||""}},watch:{"phoneObject.valid":function(e){e&&(this.phone=this.phoneText,this.lastValidCountry={...this.activeCountry}),this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)},modelValue(e,t){__isString(e)&&(this.phone=this.modelValue)},open(e){e?this.$emit("open"):this.$emit("close")},phone:{handler(e,t){if(e){if(e[0]==="+"){const a=PhoneNumber(e).getRegionCode();if(a){const n=this.findCountry(a);n&&(this.activeCountry=n,this.countryCode=n)}}else for(const a of this.sortedCountries)if(PhoneNumber(e,a.iso2).valid){this.activeCountry=a,this.countryCode=a;break}}t&&this.cursorPosition<t.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},immediate:!0},activeCountry(e){e&&e.iso2&&(this.boundProps.placeholder=awesomePhonenumberExports.getExample(e.iso2).toJSON().number.national,this.boundProps.persistentPlaceholder=!0,this.$emit("country-changed",e))},countryCode(e,t){this.choose(e,!0)}},mounted(){this.$watch(`$refs.${this.getReference("countryInput")}.isResetting`,e=>e&&this.reset()),(!this.activeCountry||!this.activeCountry.iso2)&&this.reset()},created(){if(this.modelValue&&(this.phone=this.modelValue.trim(),this.phone[0]==="+")){const e=PhoneNumber(this.phone).getRegionCode();if(e){const t=this.findCountry(e);t&&(this.activeCountry=t,this.countryCode=t)}}__isset(this.boundProps.rules)||(this.boundProps.rules=[]),this.boundProps.rules.push(this.phoneRule)},methods:{inputOnSet(e,t){if((e||__isString(e))&&e[0]==="+"){const a=PhoneNumber(e).getRegionCode();a&&(this.activeCountry=this.findCountry(a)||this.activeCountry)}t&&this.cursorPosition<t.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},initializeCountry(){return new Promise(e=>{if(this.phone&&this.phone[0]==="+"){const a=PhoneNumber(this.input).getRegionCode();if(a){this.choose(a),e();return}}if(this.defaultCountry){const a=this.findCountry(this.defaultCountry);if(a){this.choose(a),e();return}}const t=this.findCountry(this.preferredCountries[0])||this.filteredCountries[0];this.disabledFetchingCountry?(this.choose(t),e()):getCountry().then(a=>{this.phone===""&&(this.activeCountry=this.findCountry(a)||this.activeCountry)}).catch(a=>{console.warn(a),this.choose(t)}).finally(()=>{e()})})},getCountries(e=[]){return e.map(t=>this.findCountry(t)).filter(Boolean)},findCountry(e=""){return this.allCountries.find(t=>t.iso2===e.toUpperCase())},getItemClass(e,t){const a=this.selectedIndex===e,n=e===this.preferredCountries.length-1,r=this.preferredCountries.some(o=>o.toUpperCase()===t);return{highlighted:a,"last-preferred":n,preferred:r}},choose(e,t=!1){if(this.activeCountry=e||this.activeCountry||{},this.phone&&this.phone[0]==="+"&&this.activeCountry.iso2&&this.phoneObject.number.significant){const a=PhoneNumber(this.phoneObject.number.significant,this.activeCountry.iso2);a.valid&&(this.phone=a.getNumber("international"))}else this.inputOptions&&this.inputOptions.showDialCode&&e&&e.dialCode&&(this.phone=`+${e.dialCode}`);this.countryCode=this.activeCountry,t&&(this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject))},reset(){this.activeCountry&&this.activeCountry.iso2&&(this.countryCode=this.activeCountry),this.initializeCountry().then(()=>{!this.phone&&this.inputOptions&&this.inputOptions.showDialCode&&this.activeCountry.dialCode&&(this.phone=`+${this.activeCountry.dialCode}`),this.countryCode=this.activeCountry,this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)}).catch(console.error).finally(()=>{this.finishMounted=!0}),this.open=!1},onInput(e){e&&e.target&&(this.cursorPosition=e.target.selectionStart)},onBlur(){this.$emit("blur"),this.$emit("onBlur")},onFocus(e){this.$emit("focus",e)},onClick(e){this.$emit("click",e)},onChange(e){this.$emit("change",e)},onMouseUp(e){this.$emit("mouseup",e)},onMouseDown(e){this.$emit("mousedown",e)},onKeyDown(e){this.$emit("keydown",e)},onEnter(){this.$emit("enter"),this.$emit("onEnter")},onSpace(){this.$emit("space"),this.$emit("onSpace")},focus(){this.$refs[this.getReference("phoneInput")].focus()},toggleDropdown(){this.disabled||(this.open=!this.open)},clickedOutside(){this.open=!1},keyboardNav(e){if(e.keyCode===40){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=0:this.selectedIndex=Math.min(this.sortedCountries.length-1,this.selectedIndex+1);const t=this.$refs.list.children[this.selectedIndex];t.offsetTop+t.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight&&(this.$refs.list.scrollTop=t.offsetTop-this.$refs.list.clientHeight+t.clientHeight)}else if(e.keyCode===38){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=this.sortedCountries.length-1:this.selectedIndex=Math.max(0,this.selectedIndex-1);const t=this.$refs.list.children[this.selectedIndex];t.offsetTop<this.$refs.list.scrollTop&&(this.$refs.list.scrollTop=t.offsetTop)}else if(e.keyCode===13)this.selectedIndex!==null&&this.choose(this.sortedCountries[this.selectedIndex]),this.open=!this.open;else{this.typeToFindInput+=e.key,clearTimeout(this.typeToFindTimer),this.typeToFindTimer=setTimeout(()=>{this.typeToFindInput=""},700);const t=this.sortedCountries.slice(this.preferredCountries.length).findIndex(a=>a.name.toLowerCase().startsWith(this.typeToFindInput));if(t>=0){this.selectedIndex=this.preferredCountries.length+t;const a=this.$refs.list.children[this.selectedIndex],n=a.offsetTop<this.$refs.list.scrollTop,r=a.offsetTop+a.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight;(n||r)&&(this.$refs.list.scrollTop=a.offsetTop-this.$refs.list.clientHeight/2)}}}}};function _sfc_render$l(e,t,a,n,r,o){return openBlock(),createBlock(VRow,{"no-gutters":"",class:normalizeClass(["vue-tel-input-vuetify flex-nowrap",e.$lodash.pick(e.boundProps,["wrapperClasses"])??e.getDefault("wrapperClasses")])},{default:withCtx(()=>[createVNode(VAutocomplete,mergeProps({class:"flex-grow-0 flex-shrink-1",ref:e.makeReference("countryInput"),modelValue:r.countryCode,"onUpdate:modelValue":t[0]||(t[0]=i=>r.countryCode=i)},e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{items:o.sortedCountries,"item-title":"name","item-value":"iso2","menu-props":{maxHeight:200},autocomplete:"off","return-object":"","onUpdate:modelValue":o.choose,disabled:a.disabled}),{selection:withCtx(()=>[r.activeCountry&&r.activeCountry.iso2?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([r.activeCountry.iso2.toLowerCase(),"vti__flag"])},null,2)):createCommentVNode("",!0)]),item:withCtx(({item:i,props:s})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(s)),{prepend:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([i.raw.iso2.toLowerCase(),"vti__flag"])},null,2)]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(" +"+toDisplayString(i.raw.dialCode),1)]),_:2},1024)]),_:2},1040)]),_:1},16,["modelValue","items","onUpdate:modelValue","disabled"]),createVNode(VTextField,mergeProps({ref:e.makeReference("phoneInput"),type:"tel",class:"flex-grow-1 flex-shrink-0",modelValue:r.phone,"onUpdate:modelValue":t[1]||(t[1]=i=>r.phone=i)},e.boundProps,{onInput:o.onInput,onBlur:o.onBlur,onFocus:o.onFocus,onClick:o.onClick,onChange:o.onChange,onMousedown:o.onMouseDown,onMouseup:o.onMouseUp,onKeydown:o.onKeyDown,onKeyup:[withKeys(o.onEnter,["enter"]),withKeys(o.onSpace,["space"])],disabled:a.disabled}),null,16,["modelValue","onInput","onBlur","onFocus","onClick","onChange","onMousedown","onMouseup","onKeydown","onKeyup","disabled"])]),_:1},8,["class"])}const Phone=_export_sfc(_sfc_main$n,[["render",_sfc_render$l]]),__vite_glob_3_16=Object.freeze(Object.defineProperty({__proto__:null,default:Phone},Symbol.toStringTag,{value:"Module"})),_sfc_main$m={name:"ue-currency-number",props:{modelValue:Number},setup(e,t){return{...useCurrencyNumber(e)}},created(){}};function _sfc_render$k(e,t,a,n,r,o){return openBlock(),createBlock(VTextField,mergeProps({modelValue:e.formattedValue,"onUpdate:modelValue":t[0]||(t[0]=i=>e.formattedValue=i)},{...e.$bindAttributes(e.$lodash.pick(e.$attrs,["label"]))},{ref:"inputRef",rules:[]}),createSlots({_:2},[renderList(e.$slots,(i,s)=>({name:s,fn:withCtx(d=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(d)))])}))]),1040,["modelValue"])}const CurrencyNumber=_export_sfc(_sfc_main$m,[["render",_sfc_render$k]]),_sfc_main$l={name:"v-input-price",emits:[...makeInputEmits],components:{CurrencyNumber},props:{...makeInputProps(),modelValue:{type:[Array,Object],default(){return[{[this.priceInputName]:1,currency_id:1,vat_rate_id:1,price_type_id:1,raw_amount:1,discount_percentage:0}]}},priceInputName:{type:String},currencyInputName:{type:String,default:"currency_id"},numberMultiplier:{type:Number,default:100},items:{type:Array},vatRates:{type:Array,default:()=>[]},rules:{type:Array,default:()=>[]},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasDiscount:{type:Boolean,default:!1}},setup(e,t){return{...useInput(e,t)}},data(){return{deepModel:Array.isArray(this.modelValue)?this.modelValue.map(e=>e):[this.modelValue]}},methods:{changeCurrency(e,t){if(this.readonly)return;const a=this.currencies.findIndex(n=>n.id===this.modelValue[t][this.currencyInputName]);this.deepModel[t][this.currencyInputName]=a===this.totalCurrencies-1?this.currencies[0].id:this.currencies[a+1].id},updateNumberInput(e,t){this.deepModel[t][this.priceInputName]=e},updateVatRate(e,t){this.deepModel[t].vat_rate_id=e},updateModelValue(){this.$emit("update:modelValue",this.deepModel.map(e=>e))},displayFormattedPrice(e,t){var o;const a=((o=this.$lodash.find(this.vatRates,["value",t.vat_rate_id]))==null?void 0:o.rate)/100,n=(t.discount_percentage||0)/100,r=t[this.priceInputName];return e+" "+(r*(1-n)*(1+a)).toFixed(2)}},watch:{modelValue:{deep:!0,handler(e,t){e?this.deepModel=Array.isArray(e)?e.map(a=>a):[e]:this.deepModel=[{[this.priceInputName]:1,currency_id:1}]}},deepModel:{deep:!0,handler(e){}}},computed:{currencies(){return this.items},displayedCurrency(){return this.deepModel.map((e,t)=>this.currencies.find(a=>a.id===e[this.currencyInputName]).name)},totalCurrencies(){return this.currencies.length}},created(){}},_hoisted_1$e={class:"d-flex w-100 ga-2"},_hoisted_2$a={key:0,class:"w-100 d-flex justify-center"},_hoisted_3$a={class:"text-h2 text-white font-weight-bold"};function _sfc_render$j(e,t,a,n,r,o){const i=resolveComponent("CurrencyNumber");return openBlock(!0),createElementBlock(Fragment,null,renderList(r.deepModel,(s,d)=>(openBlock(),createElementBlock(Fragment,{key:`price-${d}`},[createBaseVNode("div",_hoisted_1$e,[createVNode(i,mergeProps({class:"flex-grow-1",ref_for:!0},{label:e.label,...e.$attrs},{name:`${e.$attrs.name}-${d}`,modelValue:r.deepModel[d][a.priceInputName],"onUpdate:modelValue":l=>o.updateNumberInput(l,d),readonly:a.readonly}),{"append-inner":withCtx(({isActive:l,isFocused:u,controlRef:m,focus:c,blur:h})=>[createVNode(VChip,{onClick:y=>o.changeCurrency(y,d)},{default:withCtx(()=>[createTextVNode(toDisplayString(o.displayedCurrency[d]),1)]),_:2},1032,["onClick"])]),_:2},1040,["name","modelValue","onUpdate:modelValue","readonly"]),withDirectives(createVNode(VSelect,mergeProps({ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("VAT Rate"),items:a.vatRates,class:"flex-grow-0",modelValue:r.deepModel[d].vat_rate_id,"onUpdate:modelValue":l=>r.deepModel[d].vat_rate_id=l}),null,16,["label","items","modelValue","onUpdate:modelValue"]),[[vShow,a.vatRates.length>0]]),a.hasDiscount?(openBlock(),createBlock(VNumberInput,mergeProps({key:0,modelValue:r.deepModel[d].discount_percentage,"onUpdate:modelValue":l=>r.deepModel[d].discount_percentage=l,ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("Discount %"),"control-variant":"stacked",min:0,max:100,rules:[]}),null,16,["modelValue","onUpdate:modelValue","label"])):createCommentVNode("",!0)]),a.vatRates.length>0?(openBlock(),createElementBlock("div",_hoisted_2$a,[createVNode(VCard,{class:"w-75",color:"success",rounded:"lg",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center py-6"},{default:withCtx(()=>[t[0]||(t[0]=createBaseVNode("div",{class:"text-h6 text-white mb-2"},"Total Pay",-1)),createBaseVNode("div",_hoisted_3$a,toDisplayString(o.displayFormattedPrice(o.displayedCurrency[d],r.deepModel[d])),1)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)],64))),128)}const Price=_export_sfc(_sfc_main$l,[["render",_sfc_render$j]]),__vite_glob_3_17=Object.freeze(Object.defineProperty({__proto__:null,default:Price},Symbol.toStringTag,{value:"Module"})),_sfc_main$k={name:"v-input-process",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),color:{type:String,default:"primary"},cardVariant:{type:String,default:"outlined"},process:{type:Object},processableTitle:{type:String,default:"name"},schema:{type:Object},formatters:{type:Object,default:()=>{}},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},processableEditableRoles:{type:Array,default:()=>["superadmin"]},processEditableRoles:{type:Array,default:()=>["superadmin"]},actionRoles:{type:Object,default:()=>{}}},setup(e,t){const a=s=>s,n=s=>{t.emit("update:modelValue",s)},r=ref(null),o=computed(()=>{var s;return((s=r.value)==null?void 0:s.validModel)??null}),i=reactive({UeForm:r,formIsValid:o});return{...useInput(e,{...t,initializeInput:a,updateModelValue:n}),...toRefs(i)}},data:function(){var e;return{loading:!this.process,updating:!1,processModel:this.process,processableModel:((e=this==null?void 0:this.process)==null?void 0:e.processable)??null,reason:"",formActive:!1,formSchema:this.process?this.formatSchema():null,promptModalActive:!1}},computed:{title(){return this.$lodash.get(this.processModel.processable,this.processableTitle,"")}},watch:{input:{handler(e,t){},immediate:!0},processableModel:{handler(e){},immediate:!0}},methods:{setSchema(){this.formSchema=this.formatSchema()},formatSchema(){let e={},t=this.$lodash.get(this.processModel,"processable",{});if(this.schema&&__isObject(this.schema)&&(e=this.schema,this.formatters&&__isObject(this.formatters))){for(const[a,n]of Object.entries(this.formatters))if(e[a])for(const[r,o]of Object.entries(n)){let i=o;__isString(o)&&(i=o.split(","));let[s,d]=i;if(__isset(t[s])){let l=t[s];__isset(l[d])&&(e[a][r]=l[d])}}}return e},fetchProcess(){if(this.input>0&&!this.process){const e=this.fetchEndpoint.replace(":id",this.input);this.loading=!0;const t=this;axios.get(e).then(a=>{var n;t.loading=!1,a.status===200&&(t.processModel=a.data,t.processableModel=((n=t.processModel)==null?void 0:n.processable)??{},t.setSchema())}).catch(a=>{}).finally(()=>{t.loading=!1})}},updateProcess(e){if(this.input){this.updating=!0;const t=this.updateEndpoint.replace(":id",this.input),a={status:e,reason:this.reason},n=this;axios.put(t,a).then(r=>{r.status===200&&(n.promptModalActive=!1,n.reason="",n.$store.commit(ALERT.SET_ALERT,{message:r.data.message,variant:r.data.variant}),n.fetchProcess())}).finally(()=>{n.updating=!1})}},updateProcessable(){if(this.input){let e={...this.$lodash.omit(this.UeForm.model,["id"])};const t=this.updateEndpoint.replace(":id",this.input),a=this;axios.put(t,e).then(n=>{n.data.variant==="success"&&(a.$store.commit(ALERT.SET_ALERT,{message:n.data.message,variant:n.data.variant}),a.$refs.formModal&&typeof a.$refs.formModal.close=="function"&&a.$refs.formModal.close(),a.fetchProcess())})}},canAction(e){return!this.$isset(this.actionRoles[e])||this.$hasRoles(this.actionRoles[e])},confirmPrompt(e){this.updateProcess(e)}},created(){this.fetchProcess()}};function _sfc_render$i(e,t,a,n,r,o){var c,h;const i=resolveComponent("ue-form"),s=resolveComponent("v-btn-secondary"),d=resolveComponent("v-btn-primary"),l=resolveComponent("ue-modal"),u=resolveComponent("ue-list-section"),m=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",null,[e.formSchema&&e.processableModel?(openBlock(),createBlock(l,{key:0,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":t[3]||(t[3]=y=>e.formActive=y),scrollablex:"",transition:"dialog-bottom-transition","width-type":"md",full:""},{body:withCtx(y=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(i,{ref:"UeForm",modelValue:e.processableModel,"onUpdate:modelValue":t[0]||(t[0]=p=>e.processableModel=p),schema:e.formSchema,title:o.title,style:normalizeStyle(y.isFullActive?"height: 90vh !important;":"height: 70vh !important;"),"is-editing":"","fill-height":"",scrollable:"","has-divider":""},null,8,["modelValue","schema","title","style"]),createVNode(VDivider,{class:"mx-6 mt-4"}),createVNode(VCardActions,{class:"px-6 flex-grow-0"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(s,{slim:!1,variant:"outlined",onClick:t[1]||(t[1]=p=>e.$refs.formModal.close())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1}),e.$store.getters.isSuperAdmin?(openBlock(),createBlock(s,{key:0,slim:!1,variant:"outlined",onClick:t[2]||(t[2]=p=>e.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Validate")),1)]),_:1})):createCommentVNode("",!0),createVNode(d,{slim:!1,variant:"elevated",onClick:o.updateProcessable,disabled:!e.formIsValid},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.save")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"])):createCommentVNode("",!0),createVNode(VCard,{color:((c=e.processModel)==null?void 0:c.status_card_color)??a.color,variant:((h=e.processModel)==null?void 0:h.status_card_variant)??a.cardVariant,class:"mb-4 w-100 h-100 d-flex flex-column"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-heading, list-item-three-line",class:"mb-4 w-100 h-100",style:{"min-height":"300px"}})):e.processModel?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(u,{class:"mb-4",items:[{title:o.title,value:e.processModel.status_label}],"item-fields":["title","value"],"col-classes":["text-h5 font-weight-medium","d-flex justify-end"],"col-ratios":[1,2]},{"field.1":withCtx(y=>[createVNode(VChip,{"prepend-icon":e.processModel.status_icon,color:e.processModel.status_color,class:"text-subtitle-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.processModel.status_label),1)]),_:1},8,["prepend-icon","color"])]),_:1},8,["items"]),e.$hasRoles(a.processableEditableRoles)?(openBlock(),createBlock(VRow,{key:0},{default:withCtx(()=>[e.formSchema&&e.processableModel?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VBtn,{colorx:"primary",color:"",density:"compact",variant:"outlined",onClick:t[4]||(t[4]=y=>e.$log("edit",e.$refs.formModal.open())),class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Edit")),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.processableModel?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(e.formSchema,y=>{var p;return openBlock(),createBlock(u,{key:y.name,items:[{title:y.label??e.$t("Unknown"),value:(p=e.processableModel)==null?void 0:p[y.name]}],"col-element":"div","item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"item-classes":"text-body-2","col-ratios":[1,2],"vertical-align-top":""},{"field.1":withCtx(v=>[y.type==="input-filepond"?(openBlock(),createBlock(m,{key:0,source:v.value,"show-inline-file-name":"","image-size":"24",style:{width:"155px"}},null,8,["source"])):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(v.value),1)],64))]),_:2},1032,["items"])}),128)):createCommentVNode("",!0),e.processModel.last_history&&e.processModel.last_history.reason?(openBlock(),createBlock(u,{key:2,items:[{title:e.processModel.status_reason_label,value:e.processModel.last_history.reason}],"item-fields":["title","value"],"col-classes":["font-weight-bold text-wrap","d-flex justify-start"],"col-ratios":[1,2]},null,8,["items"])):createCommentVNode("",!0)]),_:1}),createVNode(VSpacer),e.$hasRoles(a.processEditableRoles)?(openBlock(),createBlock(VCardActions,{key:0,class:"px-4"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[e.processModel&&e.processModel.status?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[e.processModel.status==="preparing"&&o.canAction(e.processModel.status)?(openBlock(),createBlock(VBtn,{key:0,color:e.processModel.next_action_color,variant:"elevated",loading:e.updating,onClick:t[5]||(t[5]=y=>o.updateProcess("waiting_for_confirmation"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.processModel.next_action_label),1)]),_:1},8,["color","loading"])):e.processModel.status.match(/waiting_for_confirmation|waiting_for_reaction/)&&o.canAction(e.processModel.status)?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(l,{ref:"promptModal",modelValue:e.promptModalActive,"onUpdate:modelValue":t[9]||(t[9]=y=>e.promptModalActive=y),"width-type":"sm",transition:"dialog-bottom-transition"},{activator:withCtx(({props:y})=>[createVNode(VBtn,mergeProps({color:"error",variant:"outlined",class:"mr-2"},y),{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>t[12]||(t[12]=[createTextVNode("mdi-close")])),_:1})]),_:2},1040)]),body:withCtx(y=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VTextarea,{modelValue:e.reason,"onUpdate:modelValue":t[6]||(t[6]=p=>e.reason=p),variant:"outlined",label:"Reason"},null,8,["modelValue"])]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{slim:!1,color:"grey",variant:"outlined",disabled:e.updating,onClick:t[7]||(t[7]=p=>e.promptModalActive=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1},8,["disabled"]),createVNode(VBtn,{color:"error",slim:!1,variant:"elevated",disabled:!e.reason,loading:e.updating,onClick:t[8]||(t[8]=p=>o.confirmPrompt("rejected"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Reject")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VBtn,{color:"success",variant:"elevated",loading:e.updating,onClick:t[10]||(t[10]=y=>o.updateProcess("confirmed"))},{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>t[13]||(t[13]=[createTextVNode("mdi-check")])),_:1})]),_:1},8,["loading"])],64)):e.processModel.status==="rejected"&&o.canAction(e.processModel.status)?(openBlock(),createBlock(VBtn,{key:2,color:e.processModel.next_action_color,variant:"elevated",onClick:t[11]||(t[11]=y=>o.updateProcess("waiting_for_reaction"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.processModel.next_action_label),1)]),_:1},8,["color"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),_:1},8,["color","variant"])])}const Process=_export_sfc(_sfc_main$k,[["render",_sfc_render$i]]),__vite_glob_3_18=Object.freeze(Object.defineProperty({__proto__:null,default:Process},Symbol.toStringTag,{value:"Module"})),_sfc_main$j={name:"v-input-radio-group",emits:[...makeInputEmits],components:{Checklist},props:{...makeInputProps(),items:{type:Object,default:()=>[]},itemTitle:{type:String,default:"name"},itemValue:{type:String,default:"id"},descriptionTitle:{type:String,default:"description"}},setup(e,t){return{...useInput(e,{...t,initializeInput:n=>n})}},data:function(){return{}},computed:{},watch:{},methods:{},created(){}},_hoisted_1$d=["innerHTML"];function _sfc_render$h(e,t,a,n,r,o){const i=resolveComponent("ue-title");return openBlock(),createBlock(VRadioGroup,{modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=s=>e.input=s),direction:"horizontal",class:"v-input-radio-group","hide-details":""},{default:withCtx(()=>[e.label?(openBlock(),createBlock(i,{key:0,text:e.label,color:"grey-darken-5",padding:"b-4",margin:"b-0",transform:"none"},null,8,["text"])):createCommentVNode("",!0),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.items,(s,d)=>(openBlock(),createBlock(VCol,{key:`col-${s[a.itemValue]}`,cols:12,md:6},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-radio-group__btn",variant:e.input==s[a.itemValue]?"elevated":"outlined",onClick:l=>e.input=s[a.itemValue],disabled:e.$attrs.disabled??!1,readonly:e.protectInitialValue},{prepend:withCtx(()=>[createVNode(VRadio,{value:s[a.itemValue],disabled:e.$attrs.disabled??!1},null,8,["value","disabled"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(s[a.itemTitle].toUpperCase()),1)]),_:2},1032,["variant","onClick","disabled","readonly"]),s[a.descriptionTitle]?(openBlock(),createElementBlock("div",{key:0,class:"text-caption pa-2",innerHTML:s[a.descriptionTitle]},null,8,_hoisted_1$d)):createCommentVNode("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}const RadioGroup=_export_sfc(_sfc_main$j,[["render",_sfc_render$h]]),__vite_glob_3_19=Object.freeze(Object.defineProperty({__proto__:null,default:RadioGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$i={name:"v-input-repeater",emits:[...makeInputEmits],components:{Draggable},props:{...makeDraggableProps(),...makeRepeaterProps(),noToolbar:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1}},setup(e,t){return{...useDraggable(e),...useRepeater(e,t)}},data(){return{isOpen:!0}},computed:{},methods:{},watch:{},created(){}},_hoisted_1$c={class:"w-100"},_hoisted_2$9={key:0,class:"d-flex"},_hoisted_3$9={class:"d-flex flex-column"},_hoisted_4$8={class:"mt-4"},_hoisted_5$7={key:1,class:normalizeClass(["v-input-repeater__block v-input-repeater__block--draggable"])},_hoisted_6$7={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_7$4={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_8$3={key:3,class:"v-input-repeater__bottom mb-12"},_hoisted_9$3={class:"d-flex"},_hoisted_10$2={class:"ml-auto"};function _sfc_render$g(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-recursive-stuff"),d=resolveComponent("v-custom-form-base"),l=resolveComponent("Draggable"),u=resolveComponent("ue-collapsible");return openBlock(),createBlock(VInput,{class:normalizeClass(["v-input-repeater",e.totalRepeats===0&&e.hideIfEmpty?"d-none":""])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[createVNode(u,{modelValue:r.isOpen,"onUpdate:modelValue":t[3]||(t[3]=m=>r.isOpen=m),"no-collapse":!a.collapsible,"no-header-background":"","horizontal-padding":0,"vertical-padding":0},createSlots({default:withCtx(()=>[createBaseVNode("div",_hoisted_4$8,[!e.noHeaders&&e.hasRepeaterModels?(openBlock(),createBlock(VRow,{key:0,class:"mb-4","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headers,m=>(openBlock(),createBlock(VCol,mergeProps({key:m.title,ref_for:!0},m.col),{default:withCtx(()=>[createTextVNode(toDisplayString(m.title),1)]),_:2},1040))),128))]),_:1})):createCommentVNode("",!0),e.draggable?(openBlock(),createElementBlock("div",_hoisted_5$7,[createVNode(l,mergeProps({class:"v-input-repeater__content",modelValue:e.repeaterModels,"onUpdate:modelValue":t[1]||(t[1]=m=>e.repeaterModels=m),"item-key":"id"},e.dragOptions),{item:withCtx(m=>[createBaseVNode("div",null,[createVNode(VHover,null,{default:withCtx(({isHovering:c,props:h})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",c?"active":"",e.draggable?"draggable":""]},h),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[a.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$7,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:t[0]||(t[0]=y=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:y=>e.duplicateRepeaterBlock(m.index),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:y=>e.deleteRepeaterBlock(m.index),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(d,{id:`ue-repeater-form-${m.index}`,modelValue:m.element,"onUpdate:modelValue":y=>e.onUpdateRepeaterModel(y,m.index),schema:e.repeaterSchemas[m.index],"onUpdate:schema":y=>e.onUpdateRepeaterSchema(y,m.index),row:e.formRowAttribute},createSlots({_:2},[renderList(e.selectFieldSlots[m.index],(y,p)=>({name:`slot-inject-${y.name}-key-ue-repeater-form-${m.index}-${y.inputName}`,fn:withCtx(v=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.context.elements,(V,g)=>(openBlock(),createBlock(s,{key:g,configuration:V,bindData:v},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row"])],2)],16)]),_:2},1024)])]),_:1},16,["modelValue"])])):(openBlock(),createBlock(VRow,mergeProps({key:2,class:"v-input-repeater__block"},e.rowAttribute),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.repeaterModels,(m,c)=>(openBlock(),createBlock(VCol,mergeProps({key:m.id,ref_for:!0},e.$lodash.pick(e.formCol,["cols","xs","sm","md","lg","xl"])),{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:h,props:y})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",h?"active":"",e.draggable?"draggable":""],ref_for:!0},y),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[a.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$4,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:t[2]||(t[2]=p=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:p=>e.duplicateRepeaterBlock(c),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:p=>e.deleteRepeaterBlock(c),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(d,{id:`ue-repeater-form-${c}`,class:"w-100 h-100",modelValue:m,"onUpdate:modelValue":p=>e.onUpdateRepeaterModel(p,c),schema:e.repeaterSchemas[c],"onUpdate:schema":p=>e.onUpdateRepeaterSchema(p,c),row:e.formRowAttribute},createSlots({_:2},[renderList(e.selectFieldSlots[c],(p,v)=>({name:`slot-inject-${p.name}-key-ue-repeater-form-${c}-${p.inputName}`,fn:withCtx(V=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.context.elements,(g,f)=>(openBlock(),createBlock(s,{key:f,configuration:g,bindData:V},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row"])],2)],16)]),_:2},1024)]),_:2},1040))),128))]),_:1},16)),!e.noAddButton||e.$slots.addButton||e.$slots.addButtonRight?(openBlock(),createElementBlock("div",_hoisted_8$3,[createBaseVNode("div",_hoisted_9$3,[renderSlot(e.$slots,"addButton",normalizeProps(guardReactiveProps({text:e.addButtonContent,addRepeaterBlock:e.addRepeaterBlock,isActive:e.addButtonIsActive})),()=>[!e.noAddButton&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"",disabled:!e.addButtonIsActive,onClick:e.addRepeaterBlock,appendIcon:"$add"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addButtonContent),1)]),_:1},8,["disabled","onClick"])):createCommentVNode("",!0)],!0),createBaseVNode("div",_hoisted_10$2,[renderSlot(e.$slots,"addButtonRight",normalizeProps(guardReactiveProps({})),void 0,!0)])])])):createCommentVNode("",!0)])]),_:2},[(e.label||e.subtitle||e.$slots.title||e.$slots.append)&&!(!e.noHeaders&&e.hasRepeaterModels)?{name:"title",fn:withCtx(()=>[(e.label||e.subtitle)&&(e.schema.length||Object.keys(e.schema).length)||e.$slots.append?(openBlock(),createElementBlock("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$9,[e.label&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(i,{key:0,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label),1)]),_:1})):createCommentVNode("",!0),e.subtitle&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(i,{key:1,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.subtitle),1)]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"append",{},void 0,!0)])):createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["modelValue","no-collapse"])])]),_:3},8,["class"])}const Repeater=_export_sfc(_sfc_main$i,[["render",_sfc_render$g],["__scopeId","data-v-333197f2"]]),__vite_glob_3_20=Object.freeze(Object.defineProperty({__proto__:null,default:Repeater},Symbol.toStringTag,{value:"Module"})),_sfc_main$h={name:"v-input-select-scroll",emits:[...makeInputEmits],props:{...makeInputProps(),...makeInputFetchProps(),componentType:{type:String,default:"v-autocomplete"}},setup(e,t){const a=useInput(e,t),n=useInputFetch(e,{...t,input:a.input});return{...a,...n}},data(){return{noFilter:this.componentType=="v-autocomplete"?!0:null}},methods:{endIntersect(e,t,a){a&&this.getItemsFromApi()},makeReference(e){return`${e}-${states.id}`}},computed:{},created(){this.getItemsFromApi()},watch:{}},_hoisted_1$b={key:0};function _sfc_render$f(e,t,a,n,r,o){return openBlock(),createBlock(resolveDynamicComponent(a.componentType),mergeProps(e.$bindAttributes(),{modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=i=>e.input=i),class:["v-input-select-scroll"],items:e.elements,label:e.label,"onUpdate:search":e.searched,"no-filter":r.noFilter,onInput:e.getItemsFromApi,multiple:e.multiple,"return-object":e.$attrs.returnObject??e.returnObject??!1,"item-value":e.itemValue,"item-title":e.itemTitle,loading:e.loading,readonly:e.$attrs.readonly||e.readonly||e.loading,rules:e.rules??e.$attrs.rules??[]}),createSlots({"append-item":withCtx(()=>[e.lastPage>0&&e.lastPage>e.page?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$b,null,512)),[[Intersect,o.endIntersect]]):createCommentVNode("",!0)]),_:2},[renderList(e.$slots,(i,s)=>({name:s,fn:withCtx(d=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(d)))])}))]),1040,["modelValue","items","label","onUpdate:search","no-filter","onInput","multiple","return-object","item-value","item-title","loading","readonly","rules"])}const SelectScroll=_export_sfc(_sfc_main$h,[["render",_sfc_render$f]]),__vite_glob_3_21=Object.freeze(Object.defineProperty({__proto__:null,default:SelectScroll},Symbol.toStringTag,{value:"Module"})),_sfc_main$g={name:"v-select-tag",emits:[...makeInputEmits],props:{...makeInputProps(),endpoint:{type:String},selected:{type:Array}},setup(e,t){return{...useInput(e,t)}},data(){return{value:this.selected,elements:[],page:1,lastPage:-1,customElement:null,selectedItems:[]}},methods:{getItemsFromApi(e){return new Promise(()=>{this.$axios.get(this.fullUrl).then(t=>{if(this.lastPage<0&&(this.lastPage=t.data.resource.last_page),this.search==""?this.elements=this.elements.concat(t.data.resource.data??[]):this.elements=t.data.resource.data??[],this.page++,this.input){let a=!1,n=this;this.input&&this.input.length>0&&!n.elements.find(r=>r.id==this.input)&&(a=!0),a&&this.getItemsFromApi()}})})},makeReference(e){return`${e}-${states.id}`},handleUpdateModelValue(e){this.value=e,this.updateModelValue(e.toString()),document.getElementById("tags-form-input").value=e.toString(),this.$emit("change",e.toString())},handleSearch(e){if(!e)return;if(!e.trim()){if(this.customElement!==null&&!this.selectedItems.includes(this.customElement)){const r=this.elements.indexOf(this.customElement);r!==-1&&this.elements.splice(r,1),this.customElement=null}return}const t=Array.isArray(this.elements)?this.elements:Array.from(this.elements),a=e.toLowerCase();if(!t.some(r=>typeof r=="string"&&r.toLowerCase()===a)){if(this.customElement!==null){const r=this.elements.indexOf(this.customElement);r!==-1&&this.elements.splice(r,1,e)}else this.elements.push(e);this.customElement=e}}},computed:{input:{get(){return Array.isArray(this.value)&&this.value.length>0?typeof this.value[0]=="object"?this.value.map(e=>e.value):this.value:[]},set(e){this.handleUpdateModelValue(e)}},filteredElements(){return this.elements.filter(e=>!this.input.includes(e.id))},queryParameters(){return new URLSearchParams({page:this.page}).toString()},fullUrl(){return`${this.endpoint}?${this.queryParameters}`}},created(){this.getItemsFromApi()},watch:{selected:{handler(e){this.value=e||[]},immediate:!0}}};function _sfc_render$e(e,t,a,n,r,o){return openBlock(),createElementBlock("div",null,[createVNode(VAutocomplete,mergeProps(e.$bindAttributes(),{modelValue:o.input,"onUpdate:modelValue":[t[0]||(t[0]=i=>o.input=i),o.handleUpdateModelValue],variant:"outlined",clearable:"","closable-chips":"",chips:"","clear-on-select":"",label:e.label,items:o.filteredElements,multiple:"","onUpdate:search":o.handleSearch,onChange:o.input}),null,16,["modelValue","label","items","onUpdate:modelValue","onUpdate:search","onChange"]),createVNode(VTextField,{type:"hidden",hidden:"",name:"tags",id:"tags-form-input"})])}const SelectTag=_export_sfc(_sfc_main$g,[["render",_sfc_render$e]]),__vite_glob_3_22=Object.freeze(Object.defineProperty({__proto__:null,default:SelectTag},Symbol.toStringTag,{value:"Module"})),_hoisted_1$a={class:"meta-editor"},_hoisted_2$8=["height"],_hoisted_3$8={class:"px-2"},_hoisted_4$7={class:"px-2"},_hoisted_5$6={class:"px-2"},_hoisted_6$6={class:"px-2"},_sfc_main$f={__name:"Spread",props:{...makeInputProps(),reservedKeys:{type:[Object,Array,Proxy],default:()=>({})},scrollable:{type:Boolean,default:!1},height:{type:String,default:"300px"}},emits:[...makeInputEmits],setup(e,{emit:t}){const a=e,r=useInput(a,{emit:t}),o=computed({get:()=>r.input.value,set:N=>{r.updateModelValue.value(N)}}),i=["string","number","boolean"],s=ref([]),d=ref({}),l=ref(!1),u=computed(()=>s.value.some(N=>N.keyError)),m=(N,B)=>{const T=s.value[B];return(Array.isArray(a.reservedKeys)?a.reservedKeys.includes(N):N in a.reservedKeys)?(T.keyError=!0,T.keyErrorMessage="This key is reserved",!1):(T.keyError=!1,T.keyErrorMessage="",!0)};onMounted(()=>{a.modelValue&&(d.value=lodash.cloneDeep(a.modelValue),h(a.modelValue))}),watch$1(()=>a.modelValue,N=>{(!d.value||Object.keys(d.value).length===0)&&(d.value=lodash.cloneDeep(N||{}),h(N||{}))},{deep:!0});const c=()=>{s.value=s.value.filter(N=>Array.isArray(a.reservedKeys)?!a.reservedKeys.includes(N.key):!(N.key in a.reservedKeys)),o.value=b(),w()},h=N=>{s.value=Object.entries(N||{}).map(([B,T])=>({key:B,tempKey:B,currentValue:T,initialValue:T,originalValue:T,currentType:y(T),initialType:y(T),originalType:y(T),saved:!0,valueBeforeTypeChange:T,keyError:!1,keyErrorMessage:""})),c(),w()},y=N=>typeof N=="boolean"?"boolean":typeof N=="number"?"number":"string",p=N=>{const B=s.value[N];B.saved=!1,w()},v=N=>{const B=s.value[N];B.tempKey!==B.key&&(B.key=B.tempKey,m(B.key,N),o.value=b())},V=N=>{const B=s.value[N];B.saved=!1,B.currentType==="number"?B.currentValue=Number(B.currentValue)||0:B.currentType==="boolean"&&typeof B.currentValue=="string"&&(B.currentValue=B.currentValue.toLowerCase()==="true"||B.currentValue==="1"),B.savedValues?B.savedValues[B.currentType]=B.currentValue:B.savedValues={[B.currentType]:B.currentValue};const T=b();o.value=T,w()},g=N=>{const B=s.value[N],S=(i.indexOf(B.currentType)+1)%i.length,I=i[S];B.currentType===B.originalType&&!B.valueBeforeTypeChange&&(B.valueBeforeTypeChange=B.currentValue),I===B.originalType?(B.currentType=B.originalType,B.currentValue=B.originalValue):(B.currentType=I,B.currentValue=f(B.originalValue,I,B.originalType,B.originalValue)),B.saved=!1,w(),o.value=b()},f=(N,B,T=null,S=null)=>{if(T&&B===T&&S!==null)return S;switch(B){case"number":return Number(N)||0;case"boolean":return typeof N=="string"?N.toLowerCase()==="true"||N==="1":typeof N=="number"?N!==0:!!N;case"string":return typeof N=="boolean"?N?"true":"false":String(N);default:return String(N)}},C=N=>{s.value.splice(N,1),w(),o.value=b()},k=()=>{const N=`key_${s.value.length+1}`;s.value.push({key:N,tempKey:N,currentValue:"",initialValue:"",currentType:"string",initialType:"string",originalType:"string",saved:!1,valueBeforeTypeChange:"",keyError:!1,keyErrorMessage:""}),w(),o.value=b()},w=()=>{const N=b();l.value=!lodash.isEqual(N,d.value)},b=()=>{const N={};return s.value.forEach(B=>{if(B.key&&B.currentValue!==void 0){let T=B.currentValue;switch(B.currentType){case"number":T=Number(B.currentValue)||0;break;case"boolean":typeof B.currentValue=="string"?T=B.currentValue.toLowerCase()==="true"||B.currentValue==="1":typeof B.currentValue=="number"?T=B.currentValue!==0:T=!!B.currentValue;break;case"string":T=String(B.currentValue);break}N[B.key]=T}}),N},A=()=>{const N=b();d.value=lodash.cloneDeep(N),s.value.forEach(B=>{B.initialValue=B.currentValue,B.initialType=B.currentType,B.valueBeforeTypeChange=B.currentValue,B.saved=!0}),o.value=N,l.value=!1},E=N=>{switch(N){case"number":return"primary";case"boolean":return"success";default:return"default"}};return(N,B)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[createVNode(VRow,{"no-gutters":"",class:"header-row py-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>B[0]||(B[0]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Key",-1)])),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>B[1]||(B[1]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Value",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>B[2]||(B[2]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Type",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>B[3]||(B[3]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Actions",-1)])),_:1})]),_:1}),createBaseVNode("div",{class:normalizeClass(["data-rows",["data-rows",{scrollable:e.scrollable}]]),height:e.height},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(T,S)=>(openBlock(),createBlock(VRow,{key:T.key+S,"no-gutters":"",class:"data-row py-1"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$8,[createVNode(VTextField,{modelValue:T.tempKey,"onUpdate:modelValue":I=>T.tempKey=I,onInput:I=>p(S),onBlur:I=>v(S),variant:"outlined",density:"compact","bg-color":"surface",error:T.keyError,"error-messages":T.keyErrorMessage,"hide-details":"auto",class:"meta-field"},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur","error","error-messages"])])]),_:2},1024),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$7,[T.currentType==="boolean"?(openBlock(),createBlock(VSelect,{key:0,modelValue:T.currentValue,"onUpdate:modelValue":I=>T.currentValue=I,items:[{text:"true",value:!0},{text:"false",value:!1}],"item-title":"text","item-value":"value",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:I=>V(S)},null,8,["modelValue","onUpdate:modelValue","onInput"])):(openBlock(),createBlock(VTextField,{key:1,modelValue:T.currentValue,"onUpdate:modelValue":I=>T.currentValue=I,type:T.currentType==="number"?"number":"text",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:I=>V(S)},null,8,["modelValue","onUpdate:modelValue","type","onInput"]))])]),_:2},1024),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$6,[createVNode(VBtn,{class:"type-toggle-btn",variant:"outlined",onClick:I=>g(S),color:E(T.currentType),density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(T.currentType.toUpperCase()),1)]),_:2},1032,["onClick","color"])])]),_:2},1024),createVNode(VCol,{cols:"2",class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$6,[createVNode(VBtn,{color:"error",variant:"text",onClick:I=>C(S),density:"compact",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>B[4]||(B[4]=[createTextVNode("mdi-trash-can-outline")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))],10,_hoisted_2$8),createVNode(VRow,{"no-gutters":"",class:"mt-4 px-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"auto",class:"mr-2"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:k},{default:withCtx(()=>B[5]||(B[5]=[createTextVNode(" Add row ")])),_:1})]),_:1}),createVNode(VCol,{cols:"auto"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",disabled:!l.value||u.value,onClick:A,"prepend-icon":"mdi-content-save"},{default:withCtx(()=>B[6]||(B[6]=[createTextVNode(" Save All ")])),_:1},8,["disabled"])]),_:1})]),_:1})]))}},__vite_glob_3_23=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$f},Symbol.toStringTag,{value:"Module"})),_sfc_main$e={name:"v-input-tag",emits:[...makeInputEmits],props:{...makeInputProps(),taggable:{type:String,default:null},items:{type:Array,default:[]},multiple:{type:Boolean,default:!1},endpoint:{type:String,required:null},updateEndpoint:{type:String,required:null},itemValue:{type:String,default:"value"},itemTitle:{type:String,default:"label"}},setup(e,t){const a=useStore(),n=ref(!1);a.state.form.taggableItems[e.taggable]||a.commit(FORM.SET_TAGGABLE_ITEMS,{taggable_type:e.taggable,items:e.items??[]});const r=computed(()=>a.state.form.taggableItems[e.taggable]);return{...useInput(e,t),loading:n,items:r}},methods:{async handleEnter(){const e=this.input;if(!Array.isArray(e)&&!(!e||this.items.includes(e))&&!(!e||this.items.find(t=>t[this.itemValue]===e||t[this.itemTitle]===e)))try{this.loading=!0;let t=this;api$1.put(this.updateEndpoint,{value:e,taggable:this.taggable},function(a){a.status===200&&t.$store.commit(FORM.ADD_TAGGABLE_ITEM,{taggable_type:t.taggable,item:{[t.itemValue]:a.data.id,[t.itemTitle]:e}})});return}catch(t){console.error("Error creating new item:",t)}finally{this.loading=!1}}}};function _sfc_render$d(e,t,a,n,r,o){return openBlock(),createBlock(VCombobox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=i=>e.input=i),items:n.items,loading:n.loading,"item-value":a.itemValue,"item-title":a.itemTitle,multiple:a.multiple,"onUpdatex:search":e.handleSearch,onKeydown:withKeys(o.handleEnter,["enter"]),class:"v-input-tag"},null,8,["modelValue","items","loading","item-value","item-title","multiple","onUpdatex:search","onKeydown"])}const Tag=_export_sfc(_sfc_main$e,[["render",_sfc_render$d]]),__vite_glob_3_24=Object.freeze(Object.defineProperty({__proto__:null,default:Tag},Symbol.toStringTag,{value:"Module"})),_sfc_main$d={name:"v-input-tagger",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),items:{type:Array},multiple:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},colors:{type:Array,default:()=>["green","purple","indigo","cyan","teal","orange"]},returnItemValue:{type:Boolean,default:!1}},setup(e,t){return{...useInput(e,t)}},data:function(){return{editingItem:null,nonce:1,search:null,model:[]}},computed:{handleKey(){return this.returnItemValue?this.itemValue:this.itemTitle}},watch:{model(e,t){if(e.length===t.length)return;this.model=e.map(n=>(typeof n=="string"&&(n={[this.itemTitle]:n,[this.itemValue]:n,color:this.colors[this.nonce%this.colors.length]},this.items.push(n),this.nonce++),n));let a=this.model.map(n=>n[this.handleKey]);a!==this.input&&(this.input=a)}},methods:{edit(e){this.editingItem?this.editingItem=null:this.editingItem=e},filter(e,t,a){const n=d=>String(d??"").toLowerCase(),r=n(t),i=this.items.filter(d=>!this.model.includes(d)).some(d=>!d.header&&n(d[this.itemTitle]).includes(r));return a.raw.header?!i:n(a.raw[this.itemTitle]).includes(r)},removeSelection(e){this.model=[...this.model.slice(0,e),...this.model.slice(e+1)]}},mounted(){this.model=this.items.reduce((e,t)=>(t.header||this.input.includes(t[this.handleKey])&&e.push(t),e),[])},created(){}};function _sfc_render$c(e,t,a,n,r,o){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":t[5]||(t[5]=i=>e.input=i),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-tagger"},{default:withCtx(i=>[createVNode(VCombobox,mergeProps(e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{label:e.label,"hide-selected":"",items:a.items,loading:a.loading,multiple:a.multiple,itemValue:a.itemValue,itemTitle:a.itemTitle,modelValue:e.model,"onUpdate:modelValue":t[3]||(t[3]=s=>e.model=s),search:e.search,"onUpdate:search":t[4]||(t[4]=s=>e.search=s),"custom-filter":o.filter}),{selection:withCtx(({item:s,index:d})=>[s===Object(s)?(openBlock(),createBlock(VChip,{key:0,color:`${s.raw.color}-lighten-3`,text:s.title,size:"small",variant:"flat",closable:"",label:"","onClick:close":l=>o.removeSelection(d)},null,8,["color","text","onClick:close"])):createCommentVNode("",!0)]),item:withCtx(({props:s,item:d})=>[d.raw.header&&e.search?(openBlock(),createBlock(VListItem,{key:0},{default:withCtx(()=>[t[6]||(t[6]=createBaseVNode("span",{class:"mr-3"},"Create",-1)),createVNode(VChip,{color:`${a.colors[e.nonce-1]}-lighten-3`,size:"small",variant:"flat",label:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.search),1)]),_:1},8,["color"])]),_:1})):d.raw.header?(openBlock(),createBlock(VListSubheader,{key:1,title:s.title},null,8,["title"])):(openBlock(),createBlock(VListItem,{key:2,onClick:s.onClick},{append:withCtx(()=>[createVNode(VBtn,{color:e.editingItem!==d.raw?"primary":"success",icon:e.editingItem!==d.raw?"mdi-pencil":"mdi-check",size:"small",variant:"text",onClick:withModifiers(l=>o.edit(d.raw),["stop","prevent"])},null,8,["color","icon","onClick"])]),default:withCtx(()=>[e.editingItem===d.raw?(openBlock(),createBlock(VTextField,{key:0,modelValue:e.editingItem[a.itemTitle],"onUpdate:modelValue":t[0]||(t[0]=l=>e.editingItem[a.itemTitle]=l),"bg-color":"transparent",class:"mr-3",density:"compact",variant:"plain",autofocus:"","hide-details":"",onClick:t[1]||(t[1]=withModifiers(()=>{},["stop"])),onKeydown:t[2]||(t[2]=withModifiers(()=>{},["stop"])),onKeyup:withKeys(l=>o.edit(d.raw),["enter"])},null,8,["modelValue","onKeyup"])):(openBlock(),createBlock(VChip,{key:1,color:`${d.raw.color}-lighten-3`,text:s.title,variant:"flat",label:""},null,8,["color","text"]))]),_:2},1032,["onClick"]))]),_:1},16,["label","items","loading","multiple","itemValue","itemTitle","modelValue","search","custom-filter"])]),_:1},8,["modelValue","variant"])}const Tagger=_export_sfc(_sfc_main$d,[["render",_sfc_render$c]]),__vite_glob_3_25=Object.freeze(Object.defineProperty({__proto__:null,default:Tagger},Symbol.toStringTag,{value:"Module"})),_sfc_main$c={components:{RowFormat},props:{bgColor:{type:String,default:"white"},color:{type:String,default:"success"},textColor:{type:String,default:""},title:{type:String,default:""},value:{type:String,default:""}},data(){return{}},computed:{_textColor(){return this.textColor!==""?this.textColor:this.color}}};function _sfc_render$b(e,t,a,n,r,o){const i=resolveComponent("RowFormat");return openBlock(),createBlock(VSheet,{class:"rounded-0"},{default:withCtx(()=>[createVNode(VAlert,{class:"rounded-0 v-callout",border:"start",color:a.bgColor,"border-color":a.color,elevation:"2"},{default:withCtx(()=>[createVNode(i,{elements:[{text:a.title,col:{cols:8,class:"d-flex align-center"}},{text:a.value,col:{cols:4},style:{"font-size":"1.5rem"}}],color:o._textColor},null,8,["elements","color"])]),_:1},8,["color","border-color"])]),_:1})}const Callout=_export_sfc(_sfc_main$c,[["render",_sfc_render$b]]),_sfc_main$b={components:{Callout},props:{title:{type:String}},data(){return{statuses:[["Pending Approval","999","warning"],["Unapproved","3","error"],["Approved","0","info"],["Published","5","success"]],details:[["Account Type","Pre-paid"],["Packages","10"],["Credits","$210"]]}}},_hoisted_1$9={class:"mt-1 mb-5 pb-6"},_hoisted_2$7={class:"font-weight-bold text-primary"},_hoisted_3$7={class:"text-grey"},_hoisted_4$6={class:"d-flex flex-lg-column flex-sm-column align-start align-lg-end justify-lg-center pl-10 pl-lg-0 pr-lg-10"};function _sfc_render$a(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("Callout"),d=resolveComponent("v-btn-tertiary"),l=resolveDirective("fit-grid");return openBlock(),createBlock(VRow,{class:"ue-board-information","no-gutters":""},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"9",lg:"8"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"12",class:""},{default:withCtx(()=>[createVNode(i,{"padding-reset":"",classes:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1})]),_:1}),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"7",lg:"6",md:"8",sm:"8",class:""},{default:withCtx(()=>[createVNode(VList,{class:"v-callout-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.statuses,([u,m,c],h)=>(openBlock(),createBlock(VListItem,{key:h},{default:withCtx(()=>[createVNode(s,{title:u,value:m,color:c},null,8,["title","value","color"])]),_:2},1024))),128))]),_:1})]),_:1})),[[l]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"5",lg:"6",md:"4",sm:"4"},{default:withCtx(()=>[createVNode(VList,{class:"v-details-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.details,([u,m],c)=>(openBlock(),createBlock(VListItem,{key:c,class:"pl-4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,[createBaseVNode("span",_hoisted_2$7,toDisplayString(u),1),t[0]||(t[0]=createBaseVNode("span",{class:"font-weight-bold text-primary"}," : ",-1)),createBaseVNode("span",_hoisted_3$7,toDisplayString(m),1)])]),_:2},1024))),128))]),_:1})]),_:1})),[[l]])]),_:1})]),_:1})),[[l]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"3",lg:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$6,[createVNode(d,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Package")),1)]),_:1}),createVNode(d,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Credit")),1)]),_:1})])]),_:1})),[[l]])]),_:1})}const BoardInformation=_export_sfc(_sfc_main$b,[["render",_sfc_render$a],["__scopeId","data-v-396c0094"]]),__vite_glob_0_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformation},Symbol.toStringTag,{value:"Module"})),_sfc_main$a={name:"ue-custom-package-selector",props:{modelValue:{type:Object,default:()=>({})},title:{type:String,required:!0},subtitle:{type:String,required:!0},summaryDescription:{type:String},filterTitle:{type:String,required:!0},schema:{type:Object,required:!0},filterSchema:{type:Object,required:!0},actionUrl:{type:String},redirectUrl:{type:String},calculatorUrl:{type:String}},data(){return{loading:!1,modalActive:!1,modalMessage:"",isCompleted:!1,model:{...getModel(this.schema,this.modelValue),...getModel(this.filterSchema,this.modelValue),...this.modelValue},dynamicSchema:this.schema,dynamicFilterSchema:this.filterSchema,mainModel:getModel(this.schema,this.modelValue),filterModel:getModel(this.filterSchema,this.modelValue),mainValid:!1,filterValid:!1}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},sendRequest(){if(!this.filterValid){this.$refs.filterForm.manualValidation=!0,this.$refs.filterForm.validate(),this.$refs.filterForm.manualValidation=!1;return}if(!this.mainValid){this.$refs.mainForm.manualValidation=!0,this.$refs.mainForm.validate(),this.$refs.mainForm.manualValidation=!1;return}let e={...this.filterModel,...this.mainModel};const t=e!=null&&e.id?"put":"post",a=this;api$1[t](this.actionUrl,e,function(n){a.loading=!1,n.data.variant==="success"&&(n.data.cached?a.$store.commit(ALERT.SET_ALERT,pick(n.data,["variant","message","location","timeout"])):a.modalActive=!0)},function(n){a.loading=!1,__log(n)})},async updateModelValue(e,t=null){if(t==="filter"){if(isEqual(this.filterModel,e))return;const a=Object.keys(e).reduce((r,o)=>(isEqual(this.filterModel[o],e[o])||(r[o]={old:this.filterModel[o],new:e[o]}),r),{}),n=this;await forEach(a,async(r,o)=>{var i,s;if(o==="location")this.dynamicSchema.pressReleasePackages.items=[];else if(o==="packageables"){let d=r.old,l=r.new,u=l.filter(g=>!d.includes(g)),m=d.filter(g=>!l.includes(g)),c=[],h=(i=this.dynamicFilterSchema.location.items.find(g=>g.id===this.filterModel.location))==null?void 0:i.filterEndpoint,y=this.dynamicSchema.pressReleasePackages.eagers??[];n.loading=!0,c=await Promise.all(map(u,async g=>(await axios.get(h.replace(":id",g),{params:{eagers:y}})).data));let p=(((s=this.dynamicSchema.pressReleasePackages)==null?void 0:s.items)??[]).filter(g=>m.includes(g.id)),v=cloneDeep(this.dynamicSchema.pressReleasePackages.items??[]),V=!1;c.length>0&&(c.forEach(g=>{v.find(f=>f.id===g.id)||v.push(g)}),V=!0),p.length>0&&(p.forEach(g=>{v.find(f=>f.id===g.id)&&(v=v.filter(f=>f.id!==g.id))}),V=!0),V&&(this.dynamicSchema.pressReleasePackages.items=orderBy(v,["id"],["asc"])),n.loading=!1}this.filterModel[o]=r.new})}else{if(isEqual(this.mainModel,e))return;let a={};const n=Object.keys(e).reduce((r,o)=>(isEqual(this.mainModel[o],e[o])||(r[o]={old:this.mainModel[o],new:e[o]},o==="pressReleasePackages"&&Object.keys(e[o]).forEach(i=>{e[o][i].packageLanguages.forEach(d=>{a[`${d}_content`]=[]})})),r),{});forEach(n,(r,o)=>{this.mainModel[o]=r.new}),Object.keys(a).forEach(r=>{__isset(this.mainModel.content[r])||(this.mainModel.content[r]=a[r])}),Object.keys(this.mainModel.content).forEach(r=>{r.match(/^(\d+)_content$/)&&(Object.keys(a).includes(r)||delete this.mainModel.content[r])})}},updateSchema(e,t=null){if(__log("updateSchema"),t==="filter"){if(isEqual(this.dynamicFilterSchema,e))return}else{if(isEqual(this.dynamicSchema,e))return;__log("updateSchema",{old:this.dynamicSchema,new:e})}},handleInput(e){}},computed:{payload(){return{...this.filterModel,...this.mainModel}},isValid(){return this.filterValid&&this.mainValid}},watch:{filterModel:{handler(e){},deep:!0},dynamicSchema:{handler(e){},deep:!0},dynamicFilterSchema:{handler(e){},deep:!0}},created(){}},_hoisted_1$8={class:"py-0"},_hoisted_2$6={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$6={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$5={class:"text-caption text-grey-lighten-1 mb-6"},_hoisted_5$5={class:"text-h4 mb-4 text-success"},_hoisted_6$5={class:"text-subtitle-1 grey--text"};function _sfc_render$9(e,t,a,n,r,o){const i=resolveComponent("ue-title"),s=resolveComponent("ue-form"),d=resolveComponent("v-sheet-rounded"),l=resolveComponent("ue-print-request"),u=resolveComponent("v-btn-secondary"),m=resolveComponent("ue-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VRow,{class:"h-100 pa-3"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",lg:"8",class:"d-flex"},{default:withCtx(()=>[createVNode(d,{class:"h-100 w-100 pa-6",elevation:"2"},{default:withCtx(()=>[a.title?(openBlock(),createBlock(i,{key:0,text:a.title,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),a.subtitle?(openBlock(),createBlock(i,{key:1,text:a.subtitle,padding:"",class:"pt-1",transform:"none",weight:"regular",type:"caption"},null,8,["text"])):createCommentVNode("",!0),createVNode(s,{ref:"mainForm",schema:r.dynamicSchema,modelValue:r.mainModel,"onUpdate:modelValue":t[0]||(t[0]=c=>o.updateModelValue(c)),valid:r.mainValid,"onUpdate:valid":t[1]||(t[1]=c=>r.mainValid=c),"onUpdate:schema":t[2]||(t[2]=c=>o.updateSchema(c)),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["schema","modelValue","valid"])]),_:1})]),_:1}),createVNode(VCol,{cols:"12",lg:"4",class:"d-flex"},{default:withCtx(()=>[createVNode(d,{class:"bg-primary-darken-2 h-100 w-100 d-flex flex-column fill-height pa-6",elevation:"2"},{default:withCtx(()=>[a.filterTitle?(openBlock(),createBlock(i,{key:0,text:a.filterTitle,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),createVNode(VDivider,{class:"my-3",style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),createVNode(s,{ref:"filterForm",modelValue:r.filterModel,"onUpdate:modelValue":t[3]||(t[3]=c=>o.updateModelValue(c,"filter")),schema:r.dynamicFilterSchema,"onUpdate:schema":t[4]||(t[4]=c=>o.updateSchema(c,"filter")),valid:r.filterValid,"onUpdate:valid":t[5]||(t[5]=c=>r.filterValid=c),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["modelValue","schema","valid"]),createVNode(VSpacer),createVNode(VDivider,{class:"my-3"}),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$8,[createBaseVNode("td",_hoisted_2$6,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$6,[renderSlot(e.$slots,"summary.final.total",{},()=>[a.calculatorUrl?(openBlock(),createBlock(l,{key:0,payload:o.payload,endpoint:a.calculatorUrl,"print-keys":{text:"total",subText:"vatText"},"loading-text":e.$t("Calculating...")},null,8,["payload","endpoint","loading-text"])):createCommentVNode("",!0)])])])])]),_:3}),createBaseVNode("div",_hoisted_4$5,[renderSlot(e.$slots,"summary.final.description",{},()=>[a.summaryDescription?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(a.summaryDescription),1)],64)):createCommentVNode("",!0)])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(u,{class:"v-stepper-form__nextButton",block:"",disabled:r.loading,loading:r.loading,onClick:o.sendRequest},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete").toUpperCase()),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:3})]),_:3})]),_:3}),createVNode(m,{ref:"modal",modelValue:r.modalActive,"onUpdate:modelValue":t[6]||(t[6]=c=>r.modalActive=c),"width-type":"md",description:r.modalMessage,persistent:""},{"body.description":withCtx(()=>[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>t[7]||(t[7]=[createTextVNode("mdi-check-circle-outline")])),_:1}),createBaseVNode("h2",_hoisted_5$5,toDisplayString(e.$t("Request Complete")),1),createBaseVNode("p",_hoisted_6$5,toDisplayString(e.$t("Congratulations! Your PR request is complete.")),1)]),"body.options":withCtx(()=>[createVNode(VBtn,{variant:"flat",color:"success",onClick:o.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Go Back")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description"])],64)}const PackageSelector=_export_sfc(_sfc_main$a,[["render",_sfc_render$9]]),__vite_glob_0_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:PackageSelector},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters}=makeFormatterProps(),_sfc_main$9={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters},setup(e,t){return{...useTableIterator(e,t)}},computed:{languageFiles(){__log(this.item.fileponds);let e=/content\.(\d+)_content/;return this.item.fileponds.filter(t=>t.role.match(e))},languageFileNames(){return this.languageFiles.map(e=>this.getFileName(e)).join(", ")},mediaFiles(){return this.item.fileponds.filter(e=>e.role.match(/press_release_image/))},mediaFileNames(){return this.mediaFiles.map(e=>this.getFileName(e)).join(", ")}},methods:{getFileName(e){const t=e.file_name.split("."),a=t.slice(0,t.length-1).join("."),n=t[t.length-1];return __shorten(a,10)+"."+n}},created(){}},_hoisted_1$7={class:"h-100 d-flex flex-wrap align-center justify-space-between"};function _sfc_render$8(e,t,a,n,r,o){var u,m;const i=resolveComponent("ue-title"),s=resolveComponent("ue-property-list"),d=resolveComponent("ue-dynamic-component-renderer"),l=resolveComponent("ue-configurable-card");return openBlock(),createElementBlock(Fragment,null,[createVNode(i,{type:"caption",text:e.item.id,weight:"regular",color:"grey-lighten-1",padding:"x-2",margin:"t-2"},null,8,["text"]),createVNode(i,{color:"primary",text:((m=(u=e.item)==null?void 0:u.content)==null?void 0:m.headline)||e.$t("Please update the headline"),padding:"x-2"},null,8,["text"]),createVNode(l,{title:e.item.name,style:{"background-color":"transparent"},elevation:"0","hide-separator":"","align-center-columns":"",items:[Object.entries(e.item.press_release_packages).reduce((c,[h,y])=>(c.push(y),c),[]),e.item.content.date||"N/A",[e.item._price??"N/A",e.item._status??"Draft"]],actions:[{name:"edit",icon:"mdi-pencil",color:"primary"}]},{"segment.0":withCtx(c=>[createVNode(s,{data:c.data,"no-padding":"",class:"ml-n2"},null,8,["data"])]),"segment.1":withCtx(c=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.data,h=>(openBlock(),createBlock(VRow,{key:`package-${h.id}`,"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createTextVNode(toDisplayString(h.packageable.name),1)]),_:2},1024),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createTextVNode(toDisplayString(h.name),1)]),_:2},1024)]),_:2},1024))),128))]),"segment.3":withCtx(c=>[createBaseVNode("div",_hoisted_1$7,[createVNode(d,{subject:e.item.state_formatted},null,8,["subject"]),createVNode(VChip,{class:"text-caption",color:e.item.paymentStatus=="Partially Paid"?"warning":e.item.paymentStatus=="Paid"?"success":"error",variant:"flat"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t(e.item.paymentStatusTranslated)),1)]),_:1},8,["color"])])]),"segment.actions":withCtx(c=>[renderSlot(e.$slots,"actions")]),_:2},1032,["title","items"])],64)}const PressReleaseCardIterator=_export_sfc(_sfc_main$9,[["render",_sfc_render$8]]),__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:PressReleaseCardIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$8={};function _sfc_render$7(e,t){return" How To Install Vue 3 in Laravel 10 with Vite - TechvBlogs "}const TestApp=_export_sfc(_sfc_main$8,[["render",_sfc_render$7]]),__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:TestApp},Symbol.toStringTag,{value:"Module"}));function assignBOMHElpers(){window.__log=console.log,window.__isString=e=>Object.prototype.toString.call(e)==="[object String]",window.__isBoolean=e=>typeof e=="boolean",window.__isNumber=e=>!isNaN(e),window.__isObject=e=>Object.prototype.toString.call(e)==="[object Object]",window.__isArray=e=>Array.isArray(e),window.__isset=(...e)=>{const t=e,a=t.length;let n=0,r;if(a===0)throw new Error("Empty isset");for(;n!==a;){if(t[n]===r||t[n]===null)return!1;n++}return!0},window.__issetReturn=(e,t)=>__isset(e)?e:t,window.__getMethods=e=>Object.getOwnPropertyNames(e).filter(t=>typeof e[t]=="function"),window.__globalizeMethods=e=>{Array.isArray(e)?e.forEach(function(t){__getMethods(t).forEach(function(a){window[a]=t[a]})}):__isObject(e)&&__getMethods(obj).forEach(function(t){window[t]=obj[t]})},window.__responseHandler=e=>__isset(e.data.errors)?{status:!1,text:errorHandler(e.data.errors)}:{status:!0,data:e.data.data},window.__errorHandler=e=>{let t="";return Object.keys(e).forEach((n,r)=>{t+=`
              <tr>
                  <td> <strong> ${capitalCase(n)} </strong> </td>
                  <td>
                      ${e[n].join("</br>")}
                  </td>
              </tr>
          `}),`
      <table>          <tbody>           ${t}          </tbody>       </table>`},window.__functionDefinition=e=>Function.prototype.toString.call(e),window.__convertArrayOrObject=(e,t=null)=>{if(__isObject(e)){const a={};return Object.keys(e).forEach(n=>{a[n]=__convertArrayOrObject(e[n],n)}),a}else if(Array.isArray(e)){const a=[];return e.forEach(n=>{a.push(__convertArrayOrObject(n))}),a}else if(typeof e=="function"){let a=__functionDefinition(e);return t&&(a=a.replace(t+"(","function (")),a}else return e instanceof RegExp?e.toString():e},window.__printDefinition=e=>JSON.stringify(__convertArrayOrObject(e)),window.__shorten=(e,t=40)=>e.length>t?e.substring(0,t)+"...":e,window.__preg_quote=(e,t="")=>(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&"),window.__extract=e=>{for(var t in e)window[t]=e[t]},window.__dot=(e,t="")=>Object.keys(e).reduce((a,n)=>{const r=t?`${t}.${n}`:n;return typeof e[n]=="object"&&e[n]!==null&&!Array.isArray(e[n])?Object.assign(a,__dot(e[n],r)):a[r]=e[n],a},{}),window.__reverseDot=e=>{const t={};for(const[a,n]of Object.entries(e)){const r=a.split(".");let o=t;for(let i=0;i<r.length;i++){const s=r[i];i===r.length-1?o[s]=n:(o[s]=o[s]||{},o=o[s])}}return t},window.__wildcard_change=(e,t,a="id")=>{let n=Array.isArray(t)?t.join(","):t;return e.replace(/^([\w\.]+)?(\*)([\w_\-\.\*]+)$/,`$1*${a}=${n}$3`)},window.__data_get=(e,t,a)=>{if(!e||typeof t!="string")return a;const n=tokenizePath(t);let r=e;for(const o in n){let i=n[o];if(r==null)return a;if(typeof r=="object"){let s,d=i?i.match(/^\*(.*)/):!1;if(d){let l;if(d[1]&&(l=d[1].match(/^(\w+)\=([\w\d\,]+)/))){let u=l[1],m=l[2].split(",");r=lodash.filter(r,c=>m.includes(lodash.isNumber(c[u])?c[u].toString():c[u]))}if(Array.isArray(r)){let u=parseInt(o);return r.map(m=>__data_get(m,n.slice(u+1).join("."),a))}else return Object.assign({},r)}else if(i.indexOf("[")!==-1){const l=extractKeyFromBracket(i);if(l!==void 0)r=r[l];else return a}else s=r[i];if(s)r=s;else if(r=lodash.get(r,n.slice(o).join(".")),r)break}else return a}return r},window.__cast_value_match=(e,t)=>{let a,n=e;if(__isString(e)&&(a=e.match(/\$([\w\.\*]+)/))){let r=a[1],o=__preg_quote(a[0]),i=r.split("."),s=[];for(const l in i){let u=i[l];u==="*"?t.id:s.push(u)}r=s.join(".");let d=__data_get(t,r);if(d){let l;if(Array.isArray(d)&&d.length>0)l=d.join(",");else if(__isString(d)){l=d;let u=snakeCase$1(l);this.$te(`modules.${u}`)&&(l=this.$t(`modules.${u}`))}else __isNumber(d)&&(l=d.toString());if(l){let u="\\w\\s"+__preg_quote("çşıİğüö.,;?|:_"),m=new RegExp(String.raw`^([${u}]+)?(${o})([${u}]+)?$`);e.match(m)?n=e.replace(m,"$1"+l+"$3"):__log("Not matched sentence",m,e,e.match(m))}}}return n},window.__snakeToHeadline=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),window.__headline=e=>(e=snakeCase$1(e),e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")),window.__extractForeignKey=e=>{if(typeof e!="string")throw new TypeError("modelName must be a string");let t=lodash.snakeCase(e);return`${pluralize.isPlural(t)?pluralize.singular(t):t}_id`},window.__snakeNameFromForeignKey=e=>{let t=e.match(/(.*)(_id)/);return t?snakeCase$1(t[1]):!1},window.__nameFromForeignKey=e=>(e=__snakeNameFromForeignKey(e),e||__snakeToHeadline(e)),window.__moduleName=e=>{let t=e.match("/(.*)(_id)/");return t?__snakeNameFromForeignKey(t[1]):snakeCase$1(e)},window.__moduleTranslationName=e=>{const{t,te:a}=useI18n({useScope:"global"});let n=!1,r=e,o=__snakeNameFromForeignKey(r);return o&&(r=o,e=o),pluralize.isPlural(r)&&(n=!0,r=pluralize.singular(r)),r=snakeCase$1(r),e=snakeCase$1(e),a(`modules.${r}`)?t(`modules.${r}`,n?1:0):__snakeToHeadline(e)},window.__removeQueryParams=e=>{const t=new URL(window.location.href);let a={};for(const[o,i]of t.searchParams.entries())a[o]=i;e.forEach(o=>{delete a[o]}),Object.keys(a).forEach(o=>(a[o]===void 0||a[o]===null)&&delete a[o]);const n=new URLSearchParams;Object.keys(a).forEach(o=>{n.append(o,a[o])});const r=t.origin+t.pathname+(n.toString()?"?"+n.toString():"");window.history.replaceState({},"",r)},window.__pluralize=e=>pluralize.plural(e),window.__pushQueryParams=e=>{const t=new URL(window.location),a=t.searchParams;Object.entries(e).forEach(([n,r])=>{a.set(n,r)}),window.history.pushState({},"",t)},window.__formatCurrencyPrice=(e,t,a="en")=>{if(typeof e!="number"||isNaN(e))throw new Error("Amount must be a valid number");const n=new Intl.NumberFormat(a,{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${n.format(e)}`},window.__addParametersToUrl=(e,t)=>{const a=new URL(e),n=a.searchParams;return Object.entries(t).forEach(([r,o])=>{n.set(r,o)}),a.toString()},window.__removeParametersFromUrl=(e,t)=>{const a=new URL(e),n=a.searchParams;return Object.entries(t).forEach(([r,o])=>{n.delete(r)}),a.toString()}}function tokenizePath(e){const t=[];let a="",n=!1,r=!1;for(let o=0;o<e.length;o++){const i=e[o];if(r)a+=i,r=!1;else if(i==="\\")r=!0;else if(i==="[")a&&(t.push(a),a=""),n=!0,a+=i;else if(i==="]"){if(!n)throw new Error("Mismatched brackets in path");a+=i,t.push(extractBracketContent(a)),a="",n=!1}else i==="."&&!n?a&&(t.push(a),a=""):a+=i}return a&&t.push(a),t}function extractBracketContent(e){const t=e.slice(1,-1).trim();return/^\d+$/.test(t),t}function extractKeyFromBracket(e){const t=e.match(/\[([^\]]*)\]/);return t?t[1]:void 0}function assignObjectHelpers(){Object.equals||(Object.equals=function(e,t){for(const a in e){if(e.hasOwnProperty(a)!=t.hasOwnProperty(a))return!1;if(typeof e[a]!=typeof t[a])return!1}for(const a in t){if(e.hasOwnProperty(a)!=t.hasOwnProperty(a))return!1;if(typeof e[a]!=typeof t[a])return!1;if(e.hasOwnProperty(a)){if(e[a]instanceof Array&&t[a]instanceof Array){if(!Array.equals(e[a],t[a]))return!1}else if(e[a]instanceof Object&&t[a]instanceof Object){if(!Object.equals(e[a],t[a]))return!1}else if(e[a]!=t[a])return!1}}return!0})}function assignArrayHelpers(){Array.equals||(Array.equals=function(e,t){if(!t||e.length!=t.length)return!1;for(let a=0,n=e.length;a<n;a++)if(e[a]instanceof Array&&t[a]instanceof Array){if(!e[a].equals(t[a]))return!1}else if(e[a]!=t[a])return!1;return!0})}function init(){assignBOMHElpers(),assignObjectHelpers(),assignArrayHelpers(),window.axios=axios$1,window.$=jquery,window._=lodash,window.$moment=hooks;const e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};window.axios.defaults.headers.common=e,axios$1.defaults.headers.common=e,window.axios.defaults.headers.post={"Content-Type":"application/json"};const t=a=>a>=200&&a<300||a===422||a===401||a===419;axios$1.defaults.validateStatus=t,window.axios.defaults.validateStatus=t,axios$1.interceptors.request.use(function(a){return store.commit(CONFIG.INCREASE_AXIOS_REQUEST),a},function(a){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),Promise.reject(a)}),axios$1.interceptors.response.use(function(a){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),a.status===401&&a.data.message==="Unauthenticated."&&store.commit(USER.OPEN_LOGIN_MODAL),a.status===419||a.data.message,handleSuccessResponse(a),a},function(a){var n;return handleErrorResponse(a),store.commit(CONFIG.DECREASE_AXIOS_REQUEST),(n=a.response)==null||n.status,Promise.reject(a)})}function setup(){init(),window.__globalizeMethods([changeCase])}const UECompose=function(){setup()},typeToComponent={text:"v-text-field",password:"v-text-field",email:"v-text-field",tel:"v-text-field",url:"v-text-field",search:"v-text-field",number:"v-text-field",date:"v-date-picker",time:"v-time-picker",color:"v-color-picker",img:"v-img",textarea:"v-textarea",range:"v-slider",file:"v-file-input",switch:"v-switch",checkbox:"v-checkbox",card:"v-card"},orderDirection="ASC",pathDelimiter=".",classKeyDelimiter="-",defaultID="form-base",isPicker="date|time|color",mouse="mouseenter|mouseleave",change="input|click",watch="focus|input|click|blur",display="resize|swipe|intersect",topAppendix="top",bottomAppendix="bottom",slotAppendix="slot",tooltipAppendix="tooltip",injectAppendix="inject",itemClassAppendix="item",typeClassAppendix="type",keyClassAppendix="key",arrayClassAppendix="array",propertyClassAppendix="prop",injectSlotAppendix=`${slotAppendix}-${injectAppendix}`,topSlotAppendix=`${slotAppendix}-${topAppendix}`,itemSlotAppendix=`${slotAppendix}-${itemClassAppendix}`,bottomSlotAppendix=`${slotAppendix}-${bottomAppendix}`,tooltipSlotAppendix=`${slotAppendix}-${tooltipAppendix}`,clear="clear",button="button",treeview="treeview",list="list",focus="focus",blur="blur",append="append",appendInner="append-inner",prepend="prepend",prependInner="prepend-inner",hour="hour",minute="minute",second="second",dropEffect="move",rowDefault={noGutters:!1},rowGroupDefault={noGutters:!1,class:"my-2"},colDefault={cols:"auto"},defaultSchemaIfValueIsNullOrUndefined=e=>({type:"text",label:e}),defaultSchemaIfValueIsString=e=>({type:"text",label:e}),defaultSchemaIfValueIsNumber=e=>({type:"number",label:e}),defaultSchemaIfValueIsBoolean=e=>({type:"checkbox",label:e}),defaultPickerSchemaText={type:"text",readonly:!0},defaultPickerSchemaMenu={closeOnContentClick:!1,transition:"scale-transition",nudgeRight:32,maxWidth:"290px",minWidth:"290px"},defaultInternGroupType="v-card",emits=["update:modelValue","update:schema","input","update","resize","blur","click"],_sfc_main$7={setup(){return{vueInstance:getCurrentInstance().appContext}},name:"VFormBase",emits,props:{id:{type:String,default:defaultID},rootId:{type:String,default:defaultID},row:{type:[Object]},rowGroup:{type:[Object]},col:{type:[Object,Number,String]},colGroup:{type:[Object,Number,String]},flex:{type:[Object,Number,String]},modelValue:{type:[Object,Array],default:()=>null},model:{type:[Object,Array]},schema:{type:[Object,Array],default:()=>({})}},data(){return{flatCombinedArray:[],clear,button,treeview,list,focus,blur,append,appendInner,prepend,prependInner,hour,minute,second}},computed:{valueIntern(){const e=this.model||this.modelValue;return this.updateArrayFromState(e,this.formSchema),e},parent(){let e=this;if(e.$parent&&e.$parent.$parent)for(;e.id.startsWith(e.$parent.$parent.id+"-");)e=e.$parent.$parent;return e},index(){const e=this.id&&this.id.match(/\d+/g);return e?e.map(Number):null},getRow(){return this.row||rowDefault},flatCombinedArraySorted(){return orderBy(this.flatCombinedArray,["schema.sort"],[orderDirection])},storeStateData(){return this.updateArrayFromState(this.valueIntern,this.formSchema),this.valueIntern},storeStateSchema(){return this.updateArrayFromState(this.valueIntern,this.formSchema),formEvents.setSchemaInputField(this.formSchema,this.valueIntern),this.formSchema},formSchema:{get(){return this.schema},set(e){this.$emit("update:schema",e),this.schema.value=e}}},watch:{schema:{handler(e,t){},deep:!0},modelValue:{handler(e,t){JSON.stringify(Object.keys(__dot(e)))!==JSON.stringify(Object.keys(__dot(t)))&&this.rebuildArrays(this.valueIntern,this.formSchema)},deep:!0}},methods:{mapTypeToComponent(e){const t={...typeToComponent,...this.vueInstance.components};return t[e]?t[e]:`v-${e}`},isDateTimeColorTypeAndExtensionText(e){return isPicker.includes(e.schema.type)&&e.schema.ext==="text"},isDateTimeColorExtension(e){return isPicker.includes(e.schema.ext)},bindOptions(e){return isString(e)?{value:e,label:e}:e},bindSchemaText(e){return{...defaultPickerSchemaText,...e.schema.text}},bindSchemaMenu(e){return{...defaultPickerSchemaMenu,...e.schema.menu}},bindSchema(e){return Object.prototype.hasOwnProperty.call(e.schema,"falseValue")&&e.schema.falseValue==0&&(e.schema.falseValue="0"),omit(e.schema,["type","col","order","offset","ext","event"])},suspendClickAppend(e){return/(select|combobox|autocomplete)/.test(e.schema.type)?"":"click:append"},searchInputSync(e){return typeof e.schema.searchInput<"u"?"search-input":""},checkExtensionType(e){let t;return["number","range","date","time","color"].includes(e.schema.ext)&&(t=e.schema.ext),t||e.schema.type},checkInternType(e){return e.schema.typeInt||e.schema.type},checkInternGroupType(e){const t=e.schema.typeInt||defaultInternGroupType;return t.startsWith("v-")?t:`v-${t}`},getKeyForArray(e,t,a,n){const r=t.schema.key;return r?Array.isArray(r)?r.map(o=>a[o]).join("_"):a[r]:isNaN(n)?n:`${e}-${t.key}-${n}`},getImageSource(e){return e.schema.src?e.schema.src:`${e.schema.base}${e.value}${e.schema.tail}`},getIconValue(e){return e.schema.label?e.schema.label:this.setValue(e)},getShorthandTooltip(e){return isString(e)?{location:"top",text:e}:e},getShorthandTooltipLabel(e){return isString(e)?e:e&&e.label},getFormTopSlot(){return`${topSlotAppendix}-${this.id}`},getFormBottomSlot(){return`${bottomSlotAppendix}-${this.id}`},getKeyInjectSlot(e,t){return this.getKeyClassNameWithAppendix(e,`${injectSlotAppendix}-${t}-${keyClassAppendix}`)},getKeyTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${keyClassAppendix}`)},getKeyItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${keyClassAppendix}`)},getKeyBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${keyClassAppendix}`)},getKeyTooltipSlot(e){return this.getKeyClassNameWithAppendix(e,`${tooltipSlotAppendix}-${keyClassAppendix}`)},getTooltipSlot(e){return`${tooltipSlotAppendix}`},getArrayTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${arrayClassAppendix}`)},getArrayItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${arrayClassAppendix}`)},getArrayBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${arrayClassAppendix}`)},getTypeTopSlot(e){return this.getTypeClassNameWithAppendix(e,`${topSlotAppendix}-${typeClassAppendix}`)},getTypeItemSlot(e){return this.getTypeClassNameWithAppendix(e,`${itemSlotAppendix}-${typeClassAppendix}`)},getTypeBottomSlot(e){return this.getTypeClassNameWithAppendix(e,`${bottomSlotAppendix}-${typeClassAppendix}`)},getPropertyClassNameWithAppendix(e,t){return e.key?e.key.split(pathDelimiter).map(a=>`${t?t+classKeyDelimiter:""}${a}`).join(" "):""},getPropertyClassName(e){return this.getPropertyClassNameWithAppendix(e,propertyClassAppendix)},getKeyClassNameWithAppendix(e,t){return`${t?t+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.key.replace(/\./g,"-")}`},getKeyClassName(e){return this.getKeyClassNameWithAppendix(e,keyClassAppendix)},getTypeClassNameWithAppendix(e,t){return`${t?t+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.schema.type}`},getTypeClassName(e){return this.getTypeClassNameWithAppendix(e,typeClassAppendix)},getClassName(e){return`${itemClassAppendix} ${this.getTypeClassName(e)} ${this.getKeyClassName(e)} ${this.getPropertyClassName(e)}`},gridMapper(e,t){e&&["sm","md","lg","xl"].map(a=>{e[a]&&(e[t+a]=e[a],delete e[a])})},gridReplaceXS(e,t){e&&e.xs&&(e[t]=e.xs,delete e.xs)},getGridAttributes(e){const t=e.schema.col||e.schema.flex,a=this.col||this.flex||colDefault,n=t?isPlainObject(t)?t:isNumber(t)||isString(t)?{cols:t}:{cols:"auto"}:a?isPlainObject(a)?a:isNumber(a)||isString(a)?{cols:a}:{cols:"auto"}:{cols:"auto"};this.gridReplaceXS(n,"cols");const r=e.schema.offset,o=r&&(isPlainObject(r)?r:{offset:r});this.gridMapper(o,"offset-"),this.gridReplaceXS(o,"offset");const i=e.schema.order,s=i&&(isPlainObject(i)?i:{order:i});return this.gridMapper(s,"order-"),this.gridReplaceXS(s,"order"),{...n,...o,...s}},getRowGroupOrArray(e){return e.schema.rowGroup||this.rowGroup||rowGroupDefault},getColGroupOrArray(e){return e.schema.col||this.col||colDefault},getInjectedScopedSlots(e,t){const a=new RegExp(`${injectSlotAppendix}-(.*?)-${keyClassAppendix}`);return Object.keys(this.$slots).filter(n=>n.includes(`${e}${classKeyDelimiter}${t.key.replace(/\./g,"-")}`)&&n.includes(injectSlotAppendix)).map(n=>n.match(a)[1])},toCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.toCtrl)?e.obj.schema.toCtrl(e):e.value},fromCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.fromCtrl)?e.obj.schema.fromCtrl(e):e.value},dropCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.drop)?e.obj.schema.drop(e):e.value},dragstart(e,t){if(!t.schema.drag)return;e.dataTransfer.dropEffect=dropEffect,e.dataTransfer.effectAllowed=dropEffect;const a=this.onEvent(e,t);e.dataTransfer.setData("text",JSON.stringify(a))},dragover(e,t){return t.schema.drop?e.preventDefault():null},drop(e,t){if(!t.schema.drop||(t.dragEvent=JSON.parse(e.dataTransfer.getData("text")),t.key===t.dragEvent.obj.key&&t.id===t.dragEvent.id))return e.preventDefault();isFunction(t.schema.drop)&&(t.value=this.dropValue(t,e)),this.onEvent(e,t),e.preventDefault()},dropValue(e,t){return this.dropCtrl({value:e.dragEvent.value,obj:e,event:t,data:this.storeStateData,schema:this.storeStateSchema})},setValue(e,t){return e.schema.type==="wrap"?this.toCtrl({value:this.storeStateData,obj:e,data:this.storeStateData,schema:this.storeStateSchema}):this.toCtrl({value:e.value,obj:e,data:this.storeStateData,schema:this.storeStateSchema})},onInput(e,t,a="input"){e=this.fromCtrl({value:e,obj:t,data:this.storeStateData,schema:this.storeStateSchema}),e=!e||e===""?null:e,e=t.schema.type==="number"?Number(e):e,this.setObjectByPath(this.storeStateData,t.key,e),t.value=t.value!==e?e:t.value;let n=t.key;formEvents.onInputEventFormData(t,this.formSchema,this.storeStateData,this.flatCombinedArraySorted,this.valueIntern);const r={on:a,id:this.id,index:this.index,params:{index:this.index,lastValue:t.value},key:n,value:e,obj:t,data:this.storeStateData,schema:this.storeStateSchema,parent:this.parent};return this.emitValue(a,r),r},onInputWrapper(e,t){t.schema.type=="wrap"&&`${t.key}${e.key}`,this.emitValue("input",e)},onEvent(e={},t,a){const n=e&&e.srcElement&&e.srcElement.innerText,r=t.schema.model,o=t.schema.open,i=this.index,s=e.type!=="dragstart"?this.parent:void 0,d={on:e.type,id:this.id,index:i,params:{text:n,tag:a,model:r,open:o,index:i},key:t.key,value:t.value,obj:t,event:e,data:this.storeStateData,schema:this.storeStateSchema,parent:s};return delay(()=>{this.emitValue(e.type,d)}),d},onClickOutside(e,t){if(!(!t.schema||!t.schema.clickOutside)){if(isFunction(t.schema.clickOutside))return t.schema.clickOutside(t,e);this.emitValue("clickOutside",{on:"clickOutside",id:this.id,key:t.key,value:t.value,obj:t,params:{x:e.clientX,y:e.clientY},event:e,data:this.storeStateData,schema:this.storeStateSchema})}},onIntersect(e,t,a,n){const r=this.index;this.emitValue("intersect",{on:"intersect",id:this.id,index:r,key:n.key,value:n.value,obj:n,params:{isIntersecting:e,entries:t,observer:a},data:this.storeStateData,schema:this.storeStateSchema})},onSwipe(e,t){this.emitValue("swipe",{on:"swipe",id:this.id,key:t.key,value:t.value,obj:t,params:{tag:e},data:this.storeStateData,schema:this.storeStateSchema})},onResize(e){this.emitValue("resize",{on:"resize",id:this.id,params:{x:window.innerWidth,y:window.innerHeight},event:e,data:this.storeStateData,schema:this.storeStateSchema})},emitValue(e,t){const a=change.includes(e)?"onChange":watch.includes(e)?"onWatch":mouse.includes(e)?"onMouse":display.includes(e)?"onDisplay":e;(e==="onInput"||a==="onChange")&&this.$emit("update:modelValue",this.storeStateData),emits.includes(e)&&this.$emit(`${e}`,t)},deprecateEventCustomID(e){console.warn(`--- DEPRECATION ${e}:${this.id}: ----------------------------------------------------------------------------`),console.warn(`<v-form-base  @${e}:${this.id}="handler" /> is deprecated use simplified version <v-form-base  @${e}="handler" />`),console.warn("---------------------------------------------------------------------------------------------")},deprecateCombinedEvents(e,t){e!==t&&(console.warn("--- DEPRECATION Combined Listener:  --------------------------------------------------------------------------"),console.warn(`Combined Event-Listener '${e}' have been removed for better comprehensibility and simplification`),console.warn('Please use separate listener for each event like <v-form-base  @focus="handler" @input="handler" @blur="handler"/>'),console.warn("---------------------------------------------------------------------------------------------"))},setObjectByPath(e,t,a){const n=t.split(pathDelimiter);n.forEach((r,o)=>{o===n.length-1&&(e[r]=a),e=e[r]})},updateArrayFromState(e,t){this.flatCombinedArray.forEach(a=>{a.value=get(t,[a.key,"type"])==="select"?get(e,a.key,null)||get(t,[a.key,"default"],null):get(e,a.key,null),a.schema=get(t,a.key,null)})},sanitizeShorthandType(e,t){return isString(t)?{type:t,label:e}:t},flattenObjects(e={},t){const a={},n={};return Object.keys(t).forEach(r=>{t[r]=this.sanitizeShorthandType(r,t[r]);const o=Array.isArray(e[r])&&Array.isArray(t[r]),i=isPlainObject(e[r])&&!t[r].type,s=e[r]&&e[r].type&&t[r]&&t[r].type,d=!(e[r]instanceof File);if(o||i||s&&d){const{data:l,schema:u}=this.flattenObjects(e[r],t[r]);Object.keys(l).forEach(m=>{a[r+pathDelimiter+m]=l[m],n[r+pathDelimiter+m]=u[m]})}else a[r]=e[r],n[r]=t[r]}),{data:a,schema:n}},combineObjectsToArray({data:e,schema:t}){const a=[];return Object.keys(t).forEach(n=>{if(!isPlainObject(t[n])){console.warn(`Schema '${JSON.stringify(t)}' of Prop '${n}' must be a string with value of type key:'text' or a plainobject with at least key:{ type:'text'} definition.  Prop '${n}' will be ignored!`);return}a.push({key:n,value:e[n],schema:t[n]})}),a},flattenAndCombineToArray(e,t){const a=this.flattenObjects(e,t);return this.combineObjectsToArray(a)},autogenerateSchema(e){let t=JSON.stringify(e,(a,n)=>n===void 0?null:n);t=JSON.parse(t,(a,n)=>n==null?defaultSchemaIfValueIsNullOrUndefined(a):typeof n=="string"?defaultSchemaIfValueIsString(a):typeof n=="number"?defaultSchemaIfValueIsNumber(a):typeof n=="boolean"?defaultSchemaIfValueIsBoolean(a):n),Object.keys(t).forEach(a=>this.formSchema[a]=t[a])},tryAutogenerateModelStructure(e,t){Object.keys(t).forEach(a=>{if(!isEmpty(e[a]))return;const n=t[a];n.type==="group"?(e[a]={},this.tryAutogenerateModelStructure(e[a],n.schema)):n.type==="array"?(e[a]={},this.tryAutogenerateModelStructure(e[a],n.schema)):n.type==="list"?e[a]={}:isPlainObject(n)&&!n.type&&(e[a]={},this.tryAutogenerateModelStructure(e[a],n)),Array.isArray(n)&&!n.type&&(e[a]={},this.tryAutogenerateModelStructure(e[a],n))})},rebuildArrays(e,t){if(!e)throw`Property 'model' is null or undefined. Use '<v-form-base :model="myModel" :schema="mySchema" />'. myModel must be at least an empty Object.`;isEmpty(t)&&isEmpty(e)&&console.warn("At least one of the properties 'model' or 'schema' in <v-form-base /> must be at least an empty Object. Ignore this Warning on async loading 'model' or 'schema' "),this.tryAutogenerateModelStructure(e,t),isEmpty(t)&&this.autogenerateSchema(e),this.flatCombinedArray=this.flattenAndCombineToArray(this.storeStateData,this.storeStateSchema)},setCascadeSelect(e){var t;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const a=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,n=e.schema.cascadeKey??"items",r=e.schema.itemValue??"id";this.formSchema[a][n]=((t=find(e.schema[n],[r,this.valueIntern[e.key]]))==null?void 0:t.schema)??[];const o=findIndex(this.flatCombinedArraySorted,["key",a]);this.storeStateData[a]=this.formSchema[a][n].length>0?this.formSchema[a][n][0].value:[],this.flatCombinedArraySorted[o].value=this.valueIntern[a],this.setCascadeSelect(this.flatCombinedArraySorted[o])}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")&&e.schema.autofill.forEach(a=>{var n;this.formSchema[a].autofillable&&(this.storeStateData[a]=((n=find(e.schema.items,["id",this.valueIntern[e.key]]))==null?void 0:n[a])??"")})},updateInput(e,t){var a;if(Array.isArray(e)){const n=cloneDeep(this.formSchema);let r=!1;e.forEach(o=>{var i;o.key&&o.value&&((i=this.formSchema)!=null&&i[t.key])&&(n[t.key][o.key]=o.value,r=!0)}),r&&(this.formSchema=n)}else if(e.key&&e.value&&((a=this.formSchema)!=null&&a[t.key])){const n=cloneDeep(this.formSchema);n[t.key][e.key]=e.value,this.formSchema=n}}},created(){this.rebuildArrays(this.valueIntern,this.formSchema)}},_hoisted_1$6=["modelValue"],_hoisted_2$5={key:0,class:"mb-3"},_hoisted_3$5=["innerHTML"];function _sfc_render$6(e,t,a,n,r,o){const i=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-dynamic-component-renderer"),d=resolveComponent("ue-title"),l=resolveComponent("v-custom-form-base"),u=resolveComponent("v-input-locale"),m=resolveDirective("mask");return withDirectives((openBlock(),createBlock(VRow,mergeProps({id:a.id},o.getRow),{default:withCtx(()=>[renderSlot(e.$slots,o.getFormTopSlot(),{id:a.id}),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.flatCombinedArraySorted,(c,h)=>(openBlock(),createBlock(VTooltip,mergeProps({key:h,disabled:!c.schema.tooltip,ref_for:!0},o.getShorthandTooltip(c.schema.tooltip)),{activator:withCtx(({props:y})=>[withDirectives((openBlock(),createBlock(VCol,mergeProps({key:h,ref_for:!0},{...o.getGridAttributes(c),...y},{class:o.getClassName(c),draggable:c.schema.drag,onMouseenter:p=>o.onEvent(p,c),onMouseleave:p=>o.onEvent(p,c),onDragstart:p=>o.dragstart(p,c),onDragover:p=>o.dragover(p,c),onDrop:p=>o.drop(p,c)}),{default:withCtx(()=>[renderSlot(e.$slots,o.getTypeTopSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id})),renderSlot(e.$slots,o.getKeyTopSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id})),renderSlot(e.$slots,o.getTypeItemSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id}),()=>[renderSlot(e.$slots,o.getKeyItemSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id}),()=>[c.schema.type==="preview"&&c.schema.configuration?(openBlock(),createBlock(i,{key:0,configuration:c.schema.configuration},null,8,["configuration"])):c.schema.type==="dynamic-component"?(openBlock(),createBlock(s,{key:1,subject:c.schema.subject},null,8,["subject"])):c.schema.type==="title"?(openBlock(),createBlock(d,mergeProps({key:2,text:c.schema.title??c.schema.text??c.schema.label??c.schema.name,ref_for:!0},o.bindSchema(c)),null,16,["text"])):c.schema.type==="radio"?(openBlock(),createBlock(VRadioGroup,mergeProps({key:3,ref_for:!0},o.bindSchema(c),{modelValue:o.setValue(c),onChange:p=>o.onInput(p,c)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.schema.options,(p,v)=>(openBlock(),createBlock(VRadio,mergeProps({key:v,ref_for:!0},o.bindOptions(p)),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),V=>({name:V,fn:withCtx(()=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,V),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h,idx:v,option:p}))])}))]),1040))),128))]),_:2},1040,["modelValue","onChange"])):o.isDateTimeColorTypeAndExtensionText(c)?(openBlock(),createBlock(VMenu,mergeProps({key:4,ref_for:!0},o.bindSchemaMenu(c)),{activator:withCtx(({props:p})=>[createVNode(VTextField,mergeProps({ref_for:!0},{...o.bindSchemaText(c),...p},{modelValue:o.setValue(c)},{[toHandlerKey(o.suspendClickAppend(c))]:v=>o.onEvent(v,c,r.append)},{"onClick:appendInner":v=>o.onEvent(v,c,r.appendInner),"onClick:prepend":v=>o.onEvent(v,c,r.prepend),"onClick:prependInner":v=>o.onEvent(v,c,r.prependInner)}),null,16,["modelValue","onClick:appendInner","onClick:prepend","onClick:prependInner"])]),default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(o.mapTypeToComponent(c.schema.type)),mergeProps({ref_for:!0},o.bindSchema(c),{type:o.checkInternType(c),modelValue:o.setValue(c),"onUpdate:modelValue":p=>o.onInput(p,c),"onClick:hour":p=>o.onEvent({type:"click"},c,r.hour),"onClick:minute":p=>o.onEvent({type:"click"},c,r.minute),"onClick:second":p=>o.onEvent({type:"click"},c,r.second)}),null,16,["type","modelValue","onUpdate:modelValue","onClick:hour","onClick:minute","onClick:second"]))]),_:2},1040)):c.schema.type==="array"?(openBlock(!0),createElementBlock(Fragment,{key:5},renderList(o.setValue(c),(p,v)=>(openBlock(),createElementBlock("div",mergeProps({key:o.getKeyForArray(a.id,c,p,v),ref_for:!0},o.bindSchema(c),{modelValue:o.setValue(c)}),[renderSlot(e.$slots,o.getArrayTopSlot(c),mergeProps({ref_for:!0},{obj:c,id:a.id,index:h,idx:v,item:p})),renderSlot(e.$slots,o.getArrayItemSlot(c),mergeProps({ref_for:!0},{obj:c,id:a.id,index:h,idx:v,item:p}),()=>[createVNode(l,{id:`${a.id}-${c.key}-${v}`,modelValue:p,"onUpdate:modelValue":V=>p=V,schema:c.schema.schema,"onUpdate:schema":V=>c.schema.schema=V,row:o.getRowGroupOrArray(c),col:o.getColGroupOrArray(c),class:normalizeClass(`${a.id}-${c.key}`)},createSlots({_:2},[renderList(e.$slots,(V,g)=>({name:g,fn:withCtx(f=>[renderSlot(e.$slots,g,mergeProps({ref_for:!0},{id:a.id,obj:c,index:h,idx:v,item:p,...f}))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row","col","class"])]),renderSlot(e.$slots,o.getArrayBottomSlot(c),mergeProps({ref_for:!0},{obj:c,id:a.id,index:h,idx:v,item:p}))],16,_hoisted_1$6))),128)):/^(wrap|group)$/.test(c.schema.type)?(openBlock(),createElementBlock(Fragment,{key:6},[c.schema&&c.schema.schema?(openBlock(),createBlock(resolveDynamicComponent(o.checkInternGroupType(c)),mergeProps({key:0,ref_for:!0},o.bindSchema(c),{onClick:p=>o.onEvent(p,c)}),{default:withCtx(()=>[c.schema.noLabel!==!0&&(c.schema.title||c.schema.subtitle)?(openBlock(),createElementBlock("div",_hoisted_2$5,[c.schema.title?(openBlock(),createBlock(d,{key:0,padding:"a-0",margin:"b-0",transform:"none",weight:"bold",class:"text-body-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(c.schema.title),1)]),_:2},1024)):createCommentVNode("",!0),c.schema.subtitle?(openBlock(),createBlock(d,{key:1,padding:"a-0",margin:"b-4",transform:"none",weight:"regular",class:"text-caption"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:c.schema.subtitle},null,8,_hoisted_3$5)]),_:2},1024)):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(l,{id:`${a.id}-${c.key}`,modelValue:o.setValue(c),schema:c.schema.schema,"onUpdate:schema":p=>c.schema.schema=p,row:o.getRowGroupOrArray(c),col:o.getColGroupOrArray(c),class:normalizeClass(`${a.id}-${c.key}`),onInput:p=>o.onInputWrapper(p,c)},createSlots({_:2},[renderList(e.$slots,(p,v)=>({name:v,fn:withCtx(V=>[renderSlot(e.$slots,v,mergeProps({ref_for:!0},{id:a.id,obj:c,index:h,...V}))])}))]),1032,["id","modelValue","schema","onUpdate:schema","row","col","class","onInput"])]),_:2},1040,["onClick"])):createCommentVNode("",!0)],64)):c.schema.type===r.treeview?(openBlock(),createBlock(resolveDynamicComponent(e.v-r.treeview),mergeProps({key:7,open:c.schema.open,"onUpdate:open":p=>c.schema.open=p,ref_for:!0},o.bindSchema(c),{"onUpdate:open":p=>o.onEvent({type:"click"},c,"open"),"onUpdate:active":p=>o.onEvent({type:"click"},c,"selected"),items:c.schema.items,modelValue:o.setValue(c),"onUpdate:modelValue":p=>o.onInput(p,c)}),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),p=>({name:p,fn:withCtx(v=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,p),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h,...v}))])}))]),1040,["open","onUpdate:open","onUpdate:active","items","modelValue","onUpdate:modelValue"])):c.schema.type===r.list?(openBlock(),createBlock(VList,{key:8},{default:withCtx(()=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,"label"),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h}),()=>[c.schema.label?(openBlock(),createBlock(VToolbar,mergeProps({key:0,ref_for:!0},o.bindSchema(c),{dark:""}),{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(c.schema.label),1)]),_:2},1024)]),_:2},1040)):createCommentVNode("",!0)]),createVNode(VList,mergeProps({modelValue:c.schema.model,"onUpdate:modelValue":p=>c.schema.model=p,ref_for:!0},o.bindSchema(c),{light:""}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.setValue(c),(p,v)=>(openBlock(),createBlock(VListItem,{key:v,onClick:V=>o.onEvent(V,c,r.list)},{default:withCtx(()=>[renderSlot(e.$slots,o.getArrayItemSlot(c),mergeProps({ref_for:!0},{obj:c,id:a.id,index:h,idx:v,item:p}),()=>[createVNode(VListItem,{icon:c.schema.icon,title:c.schema.item?p[c.schema.item]:p},null,8,["icon","title"])])]),_:2},1032,["onClick"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])]),_:2},1024)):/(switch|checkbox)/.test(c.schema.type)?(openBlock(),createBlock(resolveDynamicComponent(o.mapTypeToComponent(c.schema.type)),mergeProps({key:9,modelValue:o.setValue(c),"onUpdate:modelValue":p=>o.onInput(p,c),ref_for:!0},o.bindSchema(c)),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),p=>({name:p,fn:withCtx(()=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,p),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h}))])}))]),1040,["modelValue","onUpdate:modelValue"])):c.schema.type==="file"?(openBlock(),createBlock(VFileInput,mergeProps({key:10,ref_for:!0},o.bindSchema(c),{modelValue:o.setValue(c),onFocus:p=>o.onEvent(p,c),onBlur:p=>o.onEvent(p,c),onChange:p=>o.onInput(p,c)}),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),p=>({name:p,fn:withCtx(v=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,p),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h,...v}))])}))]),1040,["modelValue","onFocus","onBlur","onChange"])):c.schema.type==="icon"?(openBlock(),createBlock(VIcon,mergeProps({key:11,ref_for:!0},o.bindSchema(c),{textContent:toDisplayString(o.getIconValue(c)),onClick:p=>o.onEvent(p,c)}),null,16,["textContent","onClick"])):c.schema.type==="slider"?(openBlock(),createBlock(VSlider,mergeProps({key:12,ref_for:!0},o.bindSchema(c),{"onUpdate:modelValue":p=>o.onInput(p,c)}),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),p=>({name:p,fn:withCtx(()=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,p),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h}))])}))]),1040,["onUpdate:modelValue"])):c.schema.type==="img"?(openBlock(),createBlock(VImg,mergeProps({key:13,src:o.getImageSource(c),ref_for:!0},o.bindSchema(c),{onClick:p=>o.onEvent(p,c)}),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),p=>({name:p,fn:withCtx(()=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,p),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h}))])}))]),1040,["src","onClick"])):c.schema.type==="btn-toggle"?(openBlock(),createBlock(VBtnToggle,mergeProps({key:14,ref_for:!0},o.bindSchema(c),{modelValue:o.setValue(c),onChange:p=>o.onInput(p,c)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.schema.options,(p,v)=>(openBlock(),createBlock(VBtn,mergeProps({key:v,ref_for:!0},o.bindOptions(p),{icon:!!p.icon}),{default:withCtx(()=>[createVNode(VIcon,{dark:c.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(o.bindOptions(p).icon),1)]),_:2},1032,["dark"]),createTextVNode(" "+toDisplayString(o.bindOptions(p).label),1)]),_:2},1040,["icon"]))),128))]),_:2},1040,["modelValue","onChange"])):c.schema.type==="btn"?(openBlock(),createBlock(VBtn,mergeProps({key:15,ref_for:!0},o.bindSchema(c),{onClick:p=>o.onEvent(p,c,r.button),type:"button"}),{default:withCtx(()=>[createTextVNode(toDisplayString(o.setValue(c))+" ",1),c.schema.iconCenter?(openBlock(),createBlock(VIcon,{key:0,dark:c.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(c.schema.iconCenter),1)]),_:2},1032,["dark"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(c.schema.label),1)]),_:2},1040,["onClick"])):c.schema.translated?(openBlock(),createBlock(u,{key:16,type:o.mapTypeToComponent(c.schema.type),attributes:c.schema,modelValue:o.setValue(c),"onUpdate:modelValue":p=>o.onInput(p,c)},null,8,["type","attributes","modelValue","onUpdate:modelValue"])):c.schema.mask?withDirectives((openBlock(),createBlock(resolveDynamicComponent(o.mapTypeToComponent(c.schema.type)),mergeProps({key:17,ref_for:!0},o.bindSchema(c),{type:o.checkExtensionType(c),modelValue:o.setValue(c),obj:c,[o.searchInputSync(c)]:c.schema.searchInput,["onUpdate:"+o.searchInputSync(c)]:p=>c.schema.searchInput=p,onFocus:p=>o.onEvent(p,c),onBlur:p=>o.onEvent(p,c)},{[toHandlerKey(o.suspendClickAppend(c))]:p=>o.onEvent(p,c,r.append)},{"onClick:appendInner":p=>o.onEvent(p,c,r.appendInner),"onClick:prepend":p=>o.onEvent(p,c,r.prepend),"onClick:prependInner":p=>o.onEvent(p,c,r.prependInner),"onClick:clear":p=>o.onEvent(p,c,r.clear),"onClick:hour":p=>o.onEvent({type:"click"},c,r.hour),"onClick:minute":p=>o.onEvent({type:"click"},c,r.minute),"onClick:second":p=>o.onEvent({type:"click"},c,r.second),"onUpdate:modelValue":p=>o.onInput(p,c),"onUpdate:input":p=>o.updateInput(p,c)}),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),p=>({name:p,fn:withCtx(()=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,p),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h,model:o.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"])),[[m,c.schema.mask]]):(openBlock(),createBlock(resolveDynamicComponent(o.mapTypeToComponent(c.schema.type)),mergeProps({key:18,ref_for:!0},o.bindSchema(c),{type:o.checkExtensionType(c),modelValue:o.setValue(c),obj:c,[o.searchInputSync(c)]:c.schema.searchInput,["onUpdate:"+o.searchInputSync(c)]:p=>c.schema.searchInput=p,onFocus:p=>o.onEvent(p,c),onBlur:p=>o.onEvent(p,c)},{[toHandlerKey(o.suspendClickAppend(c))]:p=>o.onEvent(p,c,r.append)},{"onClick:appendInner":p=>o.onEvent(p,c,r.appendInner),"onClick:prepend":p=>o.onEvent(p,c,r.prepend),"onClick:prependInner":p=>o.onEvent(p,c,r.prependInner),"onClick:clear":p=>o.onEvent(p,c,r.clear),"onClick:hour":p=>o.onEvent({type:"click"},c,r.hour),"onClick:minute":p=>o.onEvent({type:"click"},c,r.minute),"onClick:second":p=>o.onEvent({type:"click"},c,r.second),"onUpdate:modelValue":p=>o.onInput(p,c),"onUpdate:input":p=>o.updateInput(p,c)}),createSlots({_:2},[renderList(o.getInjectedScopedSlots(a.id,c),p=>({name:p,fn:withCtx(v=>[renderSlot(e.$slots,o.getKeyInjectSlot(c,p),mergeProps({ref_for:!0},{id:a.id,obj:c,index:h,...v,model:o.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"]))])]),renderSlot(e.$slots,o.getTypeBottomSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id})),renderSlot(e.$slots,o.getKeyBottomSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id}))]),_:2},1040,["class","draggable","onMouseenter","onMouseleave","onDragstart","onDragover","onDrop"])),[[vShow,!c.schema.hidden],[Intersect,(p,v,V)=>o.onIntersect(p,v,V,c)],[Touch,{left:()=>o.onSwipe("left",c),right:()=>o.onSwipe("right",c),up:()=>o.onSwipe("up",c),down:()=>o.onSwipe("down",c)}],[ClickOutside,p=>o.onClickOutside(p,c)]]),c.schema.spacer?(openBlock(),createBlock(VSpacer,{key:`s-${h}`})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,o.getTooltipSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id}),()=>[createBaseVNode("span",null,toDisplayString(o.getShorthandTooltipLabel(c.schema.tooltip)),1)]),renderSlot(e.$slots,o.getKeyTooltipSlot(c),mergeProps({ref_for:!0},{obj:c,index:h,id:a.id}))]),_:2},1040,["disabled"]))),128)),renderSlot(e.$slots,o.getFormBottomSlot(),{id:a.id})]),_:3},16,["id"])),[[Resize,o.onResize,void 0,{quiet:!0}]])}const VCustomFormBase=_export_sfc(_sfc_main$7,[["render",_sfc_render$6]]),_sfc_main$6={emits:["update:modelValue","opened","confirm","cancel"],props:{...makeModalProps$1()},setup(e,t){return{...useModal(e,t)}},computed:{textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},watch:{dialog(e){e&&this.emitOpened()}},methods:{toggle(){return this.toggleModal()},close(e=null){return e&&e(),this.closeModal()},open(e=null,t=null){if(e&&e(),this.openModal(),t){const a=this;this.$nextTick().then(()=>{a.$refs.modalConfirm&&a.$refs.modalConfirm.$el.addEventListener("click",n=>{t(),a.close()}),a.$refs.modalCancel&&a.$refs.modalCancel.$el.addEventListener("click",n=>{a.close()})})}return!0},async confirm(e=null){let t=!0;if(e)t=!!await e(),t&&(this.closeModal(),this.$emit("confirm"));else if(this.confirmCallback&&typeof this.confirmCallback=="function"){let a=await this.confirmCallback();t=typeof a=="boolean"?a:!0,t&&this.confirmClosing&&this.closeModal(),this.$emit("confirm")}else this.closeModal(),this.$emit("confirm");return t},async cancel(e=null){if(e&&e(),this.rejectCallback&&typeof this.rejectCallback=="function"){let t=await this.rejectCallback();shouldClose=typeof t=="boolean"?t:!0,shouldClose&&this.rejectClosing&&this.closeModal()}else this.closeModal()},toggleFullscreen(){this.full=!this.full},screenListener(e){this.full=e.target.fullScreen}}},_hoisted_1$5={class:"d-flex align-center"};function _sfc_render$5(e,t,a,n,r,o){const i=resolveComponent("ue-title");return openBlock(),createBlock(VDialog,mergeProps({modelValue:e.dialog,"onUpdate:modelValue":t[5]||(t[5]=s=>e.dialog=s)},e.$bindAttributes(),{transition:e.transition,fullscreen:e.full,width:e.modalWidth}),createSlots({default:withCtx(s=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({...s,isFullActive:this.full,toggleFullscreen:()=>this.toggleFullscreen(),close:()=>this.close(),confirm:()=>this.confirm(),open:()=>this.open()})),()=>[renderSlot(e.$slots,"systembar",{},()=>[e.hasSystembar?(openBlock(),createBlock(VLayout,{key:0,style:{height:"40px"}},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VSystemBar,{dark:""},{default:withCtx(()=>[createVNode(VIcon,{onClick:t[0]||(t[0]=d=>o.toggleFullscreen()),"x-small":e.full},{default:withCtx(()=>t[6]||(t[6]=[createTextVNode(" mdi-checkbox-blank-outline ")])),_:1},8,["x-small"]),createVNode(VIcon,{onClick:t[1]||(t[1]=d=>o.close())},{default:withCtx(()=>t[7]||(t[7]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"body",mergeProps({textCancel:this.textCancel,textConfirm:this.textConfirm,textDescription:this.description,isFullActive:this.full,open:()=>this.open(),close:()=>this.close(),confirm:()=>this.confirm(),toggleFullscreen:()=>this.toggleFullscreen()},{closeDialog:o.close}),()=>[createVNode(VCard,null,{default:withCtx(()=>[e.title?(openBlock(),createBlock(VCardTitle,{key:0,class:"text-h5 text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createVNode(i,{justify:"space-between",padding:"y-2"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_1$5,[e.hasFullscreenButton?(openBlock(),createBlock(VBtn,{key:0,icon:e.full?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:o.toggleFullscreen},null,8,["icon","onClick"])):createCommentVNode("",!0),e.hasCloseButton?(openBlock(),createBlock(VBtn,{key:1,icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:t[2]||(t[2]=d=>o.close())})):createCommentVNode("",!0)])]),default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:1}),e.hasTitleDivider?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.description||e.$slots["body.description"]?(openBlock(),createBlock(VCardText,{key:1,class:normalizeClass(["text-center",{"pa-0":e.noDefaultBodyPadding}]),style:{"word-break":"break-word"}},{default:withCtx(()=>[renderSlot(e.$slots,"body.description",normalizeProps(guardReactiveProps({description:e.description})),()=>[createTextVNode(toDisplayString(e.description),1)])]),_:3},8,["class"])):createCommentVNode("",!0),e.noActions?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:2},[createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[renderSlot(e.$slots,"body.options",normalizeProps(guardReactiveProps({description:e.description})),()=>[createVNode(VSpacer),e.noCancelButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:0,ref:"modalCancel"},e.rejectButtonAttributes,{class:"modal-cancel",onClick:t[3]||(t[3]=d=>o.cancel()),loading:e.rejectLoading,disabled:e.rejectLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(o.textCancel),1)]),_:1},16,["loading","disabled"])),e.noConfirmButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref:"modalConfirm"},e.confirmButtonAttributes,{class:"modal-confirm",onClick:t[4]||(t[4]=d=>o.confirm()),loading:e.confirmLoading,disabled:e.confirmLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(o.textConfirm),1)]),_:1},16,["loading","disabled"]))]),createVNode(VSpacer)]),_:3})],64))]),_:3})])])]),_:2},[renderList(e.$slots,(s,d)=>({name:d,fn:withCtx(l=>[renderSlot(e.$slots,d,normalizeProps(guardReactiveProps(l||{})))])}))]),1040,["modelValue","transition","fullscreen","width"])}const UEModal=_export_sfc(_sfc_main$6,[["render",_sfc_render$5]]),component="MEDIA-LIBRARY",api={get(e,t,a,n){axios$1.get(e,{params:t}).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component,{message:"Media library get error.",value:r}),n&&typeof n=="function"&&n(r)})},update(e,t,a,n){axios$1.put(e,t).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component,{message:"Media library update error.",value:r}),n&&typeof n=="function"&&n(r)})},delete(e,t,a){axios$1.delete(e).then(function(n){t&&typeof t=="function"&&t(n)},function(n){globalError$1(component,{message:"Media library delete error.",value:n}),a&&typeof a=="function"&&a(n)})},bulkDelete(e,t,a,n){axios$1.put(e,t).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component,{message:"Media library bulk delete error.",value:r}),n&&typeof n=="function"&&n(r)})}},scrollToY=function(e){const t={el:document,offset:0,duration:250,easing:"linear"},a=Date.now();let n=0,r=!1;const o={linear:function(c){return c},easeIn:function(c){return c*c*c},easeOut:function(c){return--c*c*c+1},easeInOut:function(c){return c<.5?4*c*c*c:(c-1)*(2*c-2)*(2*c-2)+1}},i=window.requestAnimationFrame;let s;for(const c in e)typeof e[c]<"u"&&(t[c]=e[c]);if(t.el===document&&(r=!0,t.el=document.documentElement.scrollTop?document.documentElement:document.body),n=t.el.scrollTop,n===t.offset)return;function d(c,h){return c<h?c:h}function l(){if(i)try{cancelAnimationFrame(s)}catch{}else clearTimeout(s)}function u(){if(r&&n===0)document.documentElement.scrollTop=1,document.body.scrollTop=1,n=1,t.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(u);else{const c=Date.now(),h=d(1,(c-a)/t.duration),y=o[t.easing](h);t.el.scrollTop=y*(t.offset-n)+n,h<1?m():(l(),(typeof t.onComplete).toLowerCase()==="function"&&t.onComplete.call(this))}}function m(){i?s=requestAnimationFrame(u):s=setTimeout(function(){u()},1e3/60)}m()},mediaItemsMixin={props:{items:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},usedItems:{type:Array,default:()=>[]}},computed:{...mapState({itemsLoading:e=>e.mediaLibrary.loading}),replacingMediaIds:function(){return this.itemsLoading.reduce((e,t)=>(t.isReplacement&&(e[t.replacementId]=t.id),e),{})}},methods:{isSelected:function(e,t=["id"]){return!!this.selectedItems.find(a=>t.every(n=>a[n]===e[n]))},isUsed:function(e,t=["id"]){return!!this.usedItems.find(a=>t.every(n=>a[n]===e[n]))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}},_sfc_main$5={name:"A17Mediagrid",mixins:[mediaItemsMixin],computed:{...mapState({showFileName:e=>e.mediaLibrary.showFileName})},methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},_hoisted_1$4={class:"mediagrid"},_hoisted_2$4={class:"mediagrid__button s--loading"},_hoisted_3$4={key:0,class:"mediagrid__progress"},_hoisted_4$4={key:1,class:"mediagrid__progressError"},_hoisted_5$4=["onClick"],_hoisted_6$4=["src"],_hoisted_7$3=["title"];function _sfc_render$4(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(i,s)=>withDirectives((openBlock(),createElementBlock("div",{class:"mediagrid__item",key:"mediaLoading_"+i.id},[createBaseVNode("span",_hoisted_2$4,[i.error?(openBlock(),createElementBlock("span",_hoisted_4$4,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_3$4,[createBaseVNode("span",{class:"mediagrid__progressBar",style:normalizeStyle(o.loadingProgress(s))},null,4)]))])])),[[vShow,!i.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,i=>(openBlock(),createElementBlock("div",{class:normalizeClass(["mediagrid__item",{"s--hasFilename":e.showFileName}]),key:i.id},[createBaseVNode("span",{class:normalizeClass(["mediagrid__button",{"s--picked":e.isSelected(i),"s--used":e.isUsed(i)||!!e.replacingMediaIds[i.id],"s--disabled":i.disabled}]),onClick:[withModifiers(s=>e.toggleSelection(i),["exact"]),withModifiers(s=>e.shiftToggleSelection(i),["shift","exact"])]},[createBaseVNode("img",{src:i.thumbnail,class:"mediagrid__img"},null,8,_hoisted_6$4)],10,_hoisted_5$4),e.showFileName?(openBlock(),createElementBlock("p",{key:0,title:i.name,class:"mediagrid__name"},toDisplayString(i.name),9,_hoisted_7$3)):createCommentVNode("",!0)],2))),128))])}const MediaGrid=_export_sfc(_sfc_main$5,[["render",_sfc_render$4],["__scopeId","data-v-a5c29ae6"]]),_sfc_main$4={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:()=>["id"]}},mixins:[mediaItemsMixin],filters,computed:{allItems:function(){return this.items.map(e=>{if(this.replacingMediaIds[e.id]){const t=this.itemsLoading.find(a=>a.replacementId===e.id);return t||e}else return e})},columnsNumber:function(){if(!this.items.length)return 0;let e=this.extraColumns.length;const t=this.items[0];return t.hasOwnProperty("id")&&e++,t.hasOwnProperty("name")&&e++,t.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];const e=this.items[0];return Object.keys(e).filter(t=>!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(t)&&typeof e[t]=="string")},checkedItems:function(){const e=[];return this.selectedItems.length&&this.selectedItems.forEach(function(t){e.push(t.endpointType+"_"+t.id)}),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,t){const a=t?this[t]:this.itemsLoading;return{width:a[e].progress?a[e].progress+"%":"0%"}}}},_hoisted_1$3={class:"itemlist"},_hoisted_2$3={class:"itemlist__table"},_hoisted_3$3=["colspan"],_hoisted_4$3={key:0,class:"itemlist__progress"},_hoisted_5$3={key:1,class:"itemlist__progressError"},_hoisted_6$3=["onClick"],_hoisted_7$2={key:0,class:"itemlist__cell itemlist__cell--btn"},_hoisted_8$2={key:1,class:"itemlist__cell itemlist__cell--thumb"},_hoisted_9$2=["src"],_hoisted_10$1={key:2,class:"itemlist__cell itemlist__cell--name"},_hoisted_11$1=["innerHTML"],_hoisted_12={key:1},_hoisted_13=["colspan"],_hoisted_14={key:0,class:"itemlist__progress"},_hoisted_15={key:1,class:"itemlist__progressError"};function _sfc_render$3(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("table",_hoisted_2$3,[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(i,s)=>withDirectives((openBlock(),createElementBlock("tr",{class:"itemlist__row",key:i.id},[createBaseVNode("td",{class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":i.error}]),colspan:o.columnsNumber},[i.error?(openBlock(),createElementBlock("span",_hoisted_5$3,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_4$3,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(o.loadingProgress(s))},null,4)]))],10,_hoisted_3$3)])),[[vShow,!i.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.allItems,(i,s)=>(openBlock(),createElementBlock("tr",{class:normalizeClass(["itemlist__row",{"s--picked":e.isSelected(i,a.keysToCheck),"s--disabled":i.disabled||!!e.replacingMediaIds[i.id]}]),key:`${i.endpointType}_${i.id}`,onClick:[withModifiers(d=>e.toggleSelection(i),["exact","prevent"]),withModifiers(d=>e.shiftToggleSelection(i),["shift","exact","prevent"])]},[i.isReplacement?i.isReplacement?(openBlock(),createElementBlock("td",{key:1,class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":i.error}]),colspan:o.columnsNumber},[i.error?(openBlock(),createElementBlock("span",_hoisted_15,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_14,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(o.loadingProgress(s,"allItems"))},null,4)]))],10,_hoisted_13)):createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[i.hasOwnProperty("id")?(openBlock(),createElementBlock("td",_hoisted_7$2)):createCommentVNode("",!0),i.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("td",_hoisted_8$2,[createBaseVNode("img",{src:i.thumbnail},null,8,_hoisted_9$2)])):createCommentVNode("",!0),i.hasOwnProperty("name")?(openBlock(),createElementBlock("td",_hoisted_10$1,[i.hasOwnProperty("renderHtml")?(openBlock(),createElementBlock("div",{key:0,innerHTML:i.name},null,8,_hoisted_11$1)):(openBlock(),createElementBlock("div",_hoisted_12,toDisplayString(i.name),1))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.extraColumns,(d,l)=>(openBlock(),createElementBlock("td",{class:normalizeClass(["itemlist__cell",o.rowClass(d)]),key:l},[d==="size"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(i[d].toUpperCase()),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(i[d]),1)],64))],2))),128))],64))],10,_hoisted_6$3))),128))])])])}const ItemList=_export_sfc(_sfc_main$4,[["render",_sfc_render$3],["__scopeId","data-v-c7fcfc1f"]]),_sfc_main$3={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:{loadingProgress:function(){return{transform:"translateX("+(-100+this.uploadProgress)+"%)"}},...mapState({mediasLoading:e=>e.mediaLibrary.loading,uploadProgress:e=>e.mediaLibrary.uploadProgress})},methods:{cancelUpload:function(e){this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)}}},_hoisted_1$2={class:"mediasidebar__inner mediasidebar__inner--single"},_hoisted_2$2={class:"f--note"},_hoisted_3$2={class:"mediasidebar__progress"},_hoisted_4$2={class:"mediasidebar__loading"},_hoisted_5$2={key:0,class:"mediasidebar__errorMessage"},_hoisted_6$2=["onClick"];function _sfc_render$2(e,t,a,n,r,o){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("p",_hoisted_2$2,"Uploading "+toDisplayString(e.mediasLoading.length)+" file"+toDisplayString(e.mediasLoading.length>1?"s":""),1),createBaseVNode("div",_hoisted_3$2,[createBaseVNode("span",{class:"mediasidebar__progressBar",style:normalizeStyle(o.loadingProgress)},null,4)]),createBaseVNode("div",_hoisted_4$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mediasLoading,i=>(openBlock(),createElementBlock("p",{class:normalizeClass(["f--small",{"s--error":i.error}]),key:i.id},[i.error?(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString(i.errorMessage),1)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(i.name),1),t[0]||(t[0]=createTextVNode()),i.error?(openBlock(),createElementBlock("a",{key:1,href:"#",onClick:withModifiers(s=>o.cancelUpload(i),["prevent"])},"Cancel",8,_hoisted_6$2)):createCommentVNode("",!0)],2))),128))])])}const UeMediaSidebarUpload=_export_sfc(_sfc_main$3,[["render",_sfc_render$2],["__scopeId","data-v-2c5af2a8"]]),_sfc_main$2={name:"A17MediaSidebar",components:{"ue-mediasidebar-upload":UeMediaSidebarUpload,SelectTag},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[],deleteModalActive:!1}},filters,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:{firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return this.medias.length===1},hasMedia:function(){return this.medias.length>0},isImage:function(){return this.type.value==="image"},sharedTags:function(){return this.medias.map(e=>e.tags).reduce((e,t)=>e.filter(a=>t.includes(a)))},sharedMetadata(){return(e,t)=>this.hasMultipleMedias?this.medias.map(a=>a.metadatas.default[e]).every((a,n,r)=>Array.isArray(a)?a[0]==r[0]:a==r[0])?this.firstMedia.metadatas.default[e]:t==="object"?{}:t==="boolean"?!1:"":typeof this.firstMedia.metadatas.default[e]=="object"||t==="boolean"?this.firstMedia.metadatas.default[e]:{}},captionValues(){return typeof this.firstMedia.metadatas.default.caption=="object"?this.firstMedia.metadatas.default.caption:{}},altValues(){return typeof this.firstMedia.metadatas.default.altText=="object"?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map(function(e){return e.id}).join(",")},mediasIdsToDelete:function(){return this.medias.filter(e=>e.deleteUrl).map(e=>e.id)},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every(e=>e.deleteUrl)||this.hasMultipleMedias&&!this.medias.every(e=>!e.deleteUrl)},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){return this.extraMetadatas.filter(e=>e.multiple&&!this.translatableMetadatas.includes(e.name))},singleOnlyMetadatas:function(){return this.extraMetadatas.filter(e=>!e.multiple||e.multiple&&this.translatableMetadatas.includes(e.name))},...mapState({mediasLoading:e=>e.mediaLibrary.loading,useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions})},methods:{replaceMedia:function(){this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open(()=>{this.triggerMediaReplace()}):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){if(this.loading)return!1;if(this.mediasIdsToDelete.length!==this.medias.length){this.$refs.warningDelete.open();return}this.$main().$refs.deleteWarningMediaModal?this.$main().$refs.deleteWarningMediaModal.open(null,()=>{this.deleteSelectedMedias()}):this.deleteSelectedMedias()},deleteSelectedMedias:function(){if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?api.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{}):api.delete(this.firstMedia.deleteUrl,e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{})},clear:function(){this.$emit("clear")},getFormData:function(e){return FormDataAsObj(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){this.focused=!1,this.save();const e=this.$refs.form,t=this.getFormData(e);this.hasSingleMedia?(t.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=t.alt_text:this.firstMedia.metadatas.default.altText="",t.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=t.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach(a=>{t.hasOwnProperty(a.name)?this.firstMedia.metadatas.default[a.name]=t[a.name]:this.firstMedia.metadatas.default[a.name]=""})):this.singleAndMultipleMetadatas.forEach(a=>{t.hasOwnProperty(a.name)&&this.medias.forEach(n=>{n.metadatas.default[a.name]=t[a.name]})})},save:function(){const e=this.$refs.form;if(!e)return;const t=this.getFormData(e);!isEqual(t,this.previousSavedData)&&!this.loading&&(this.previousSavedData=t,this.update(e))},submit:function(e){e.preventDefault(),this.save()},update:function(e){if(this.loading)return;this.loading=!0;const t=this.getFormData(e);t.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;const a=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;api.update(a,t,n=>{this.loading=!1,n.data.tags&&this.$emit("tagUpdated",n.data.tags),this.hasMultipleMedias&&n.data.items&&this.medias.forEach(function(r){n.data.items.some(function(o){return o.id===r.id&&(r.tags=o.tags),o.id===r.id})})},n=>{this.loading=!1,n.data.message})}}},_hoisted_1$1={class:"mediasidebar"},_hoisted_2$1={key:0,class:"f--note"},_hoisted_3$1={key:1,class:"mediasidebar__info"},_hoisted_4$1=["src","alt"],_hoisted_5$1={class:"mediasidebar__name"},_hoisted_6$1={key:0,class:"mediasidebar__loader"},_hoisted_7$1=["value"],_hoisted_8$1=["value"],_hoisted_9$1={class:"modal--tiny-title"};function _sfc_render$1(e,t,a,n,r,o){const i=resolveComponent("ue-mediasidebar-upload"),s=resolveComponent("SelectTag"),d=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",_hoisted_1$1,[e.mediasLoading.length?(openBlock(),createBlock(i,{key:0})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:normalizeClass(["mediasidebar__inner",o.containerClasses])},[o.hasMedia?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_2$1,toDisplayString(e.$trans("media-library.sidebar.empty-text","No file selected")),1)),o.hasMultipleMedias?(openBlock(),createElementBlock("p",_hoisted_3$1,[createTextVNode(toDisplayString(a.medias.length)+" "+toDisplayString(e.$trans("media-library.sidebar.files-selected","files selected"))+" ",1),createBaseVNode("a",{href:"#",onClick:t[0]||(t[0]=withModifiers((...l)=>o.clear&&o.clear(...l),["prevent"]))},toDisplayString(e.$trans("media-library.sidebar.clear","Clear")),1)])):createCommentVNode("",!0),o.hasSingleMedia?(openBlock(),createElementBlock(Fragment,{key:2},[o.isImage?(openBlock(),createElementBlock("img",{key:0,src:o.firstMedia.thumbnail,class:"mediasidebar__img",alt:o.firstMedia.original},null,8,_hoisted_4$1)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_5$1,toDisplayString(o.firstMedia.name),1),createVNode(VList,{density:"compact",class:"bg-transparent"},{default:withCtx(()=>[o.firstMedia.size?(openBlock(),createBlock(VListItem,{key:0,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode("File size: "+toDisplayString(o.firstMedia.size.toUpperCase()),1)]),_:1})]),_:1})):createCommentVNode("",!0),o.isImage&&o.firstMedia.width+o.firstMedia.height?(openBlock(),createBlock(VListItem,{key:1,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("media-library.sidebar.dimensions","Dimensions"))+": "+toDisplayString(o.firstMedia.width)+" × "+toDisplayString(o.firstMedia.height),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})],64)):createCommentVNode("",!0),o.hasMedia?(openBlock(),createBlock(VRow,{key:3,align:"center",justify:"space-around",class:"mt-12"},{default:withCtx(()=>[o.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:0,href:o.firstMedia.original,download:"",icon:"mdi-download",size:"small"},null,8,["href"])):createCommentVNode("",!0),o.allowDelete&&a.authorized?(openBlock(),createBlock(VBtn,{key:1,icon:"$trash",size:"small",type:"button",onClick:o.deleteSelectedMediasValidation},null,8,["onClick"])):(openBlock(),createBlock(VBtn,{key:2,icon:"$trash",disabled:"",size:"small",type:"button"})),o.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:3,icon:"mdi-recycle",size:"small",type:"button",onClick:o.replaceMedia},null,8,["onClick"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)],2),o.hasMedia?(openBlock(),createElementBlock("form",{key:0,ref:"form",class:"mediasidebar__inner mediasidebar__form",onSubmit:t[4]||(t[4]=(...l)=>o.submit&&o.submit(...l))},[e.loading?(openBlock(),createElementBlock("span",_hoisted_6$1,t[6]||(t[6]=[createBaseVNode("span",{class:"loader loader--small"},[createBaseVNode("span")],-1)]))):createCommentVNode("",!0),o.hasMultipleMedias?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(s,{label:e.$trans("media-library.sidebar.tags"),key:o.firstMedia.id+"-"+a.medias.length,name:"","v-model":o.hasMultipleMedias?o.sharedTags:o.firstMedia.tags,options:e.tags,selected:o.hasMultipleMedias?o.sharedTags:o.firstMedia.tags,searchable:!0,multiple:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:a.type.tagsEndpoint,onChange:o.save},null,8,["label","v-model","options","selected","emptyText","endpoint","onChange"])),o.isImage?(openBlock(),createBlock(VTextField,{key:0,label:e.$trans("media-library.sidebar.alt-text"),variant:"outlined",name:"alt_text",onBlur:o.blur,modelValue:o.firstMedia.metadatas.default.altText,"onUpdate:modelValue":t[1]||(t[1]=l=>o.firstMedia.metadatas.default.altText=l)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0),o.isImage?(openBlock(),createBlock(VTextarea,{key:1,label:e.$trans("media-library.sidebar.caption"),variant:"outlined",name:"caption",onBlur:o.blur,modelValue:o.firstMedia.metadatas.default.caption,"onUpdate:modelValue":t[2]||(t[2]=l=>o.firstMedia.metadatas.default.caption=l)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0)],64)),a.extraMetadatas.length&&o.isImage&&o.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?(openBlock(),createBlock(VTooltip,{key:2,text:"Remove this field if you do not want to update it on all selected medias",location:"top"},{activator:withCtx(({props:l})=>[createBaseVNode("span",mergeProps(l,{class:"f--tiny f--note f--underlined",onClick:t[3]||(t[3]=u=>o.removeFieldFromBulkEditing("tags"))})," Remove from bulk edit ",16)]),_:1})):createCommentVNode("",!0),o.hasMultipleMedias?(openBlock(),createElementBlock("input",{key:3,type:"hidden",name:"ids",value:o.mediasIds},null,8,_hoisted_7$1)):(openBlock(),createElementBlock("input",{key:4,type:"hidden",name:"id",value:o.firstMedia.id},null,8,_hoisted_8$1))],544)):createCommentVNode("",!0)],64)),createVNode(d,{ref:"warningDelete",transition:"dialog-bottom-transition",modelValue:e.deleteModalActive,"onUpdate:modelValue":t[5]||(t[5]=l=>e.deleteModalActive=l),"width-type":"sm","confirm-text":`Delete ( ${o.mediasIdsToDelete.length} )`,"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("p",_hoisted_9$1,[createBaseVNode("strong",null,toDisplayString(e.$trans("media-library.dialogs.delete.title","Are you sure ?")),1)]),createBaseVNode("p",null,toDisplayString(o.warningDeleteMessage),1)]),_:1},8,["modelValue","confirm-text"])])}const MediaSidebar=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-a5c09d1e"]]),_sfc_main$1={mixins:[ModalMixin],components:{MediaGrid,ItemList,MediaSidebar},setup(e,{attrs:t,slots:a,emit:n}){},props:{...makeModalMediaProps(),initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!0},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1,full:!0,sharedFilterState:{search:"",tag:null,type:this.type??"image",page:this.page??this.initialPage}}},computed:{renderedMediaItems:function(){return this.mediaItems.map(e=>(e.disabled=this.filesizeMax>0&&e.filesizeInMb>this.filesizeMax||this.widthMin>0&&e.width<this.widthMin||this.heightMin>0&&e.height<this.heightMin,e))},currentTypeObject:function(){return this.types.find(e=>e.value===this.type)},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+" – "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+" – "+this.btnLabelMulti:this.modalTitlePrefix+" – "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){let e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){const e=this;return e.types.filter(function(a){return a.value===e.type})[0]},canInsert:function(){return!this.selectedMedias.some(e=>!!this.usedMedias.find(t=>t.id===e.id))},...mapState({connector:e=>e.mediaLibrary.connector,max:e=>e.mediaLibrary.max,filesizeMax:e=>e.mediaLibrary.filesizeMax,widthMin:e=>e.mediaLibrary.widthMin,heightMin:e=>e.mediaLibrary.heightMin,type:e=>e.mediaLibrary.type,types:e=>e.mediaLibrary.types,strict:e=>e.mediaLibrary.strict,selected:e=>e.mediaLibrary.selected,indexToReplace:e=>e.mediaLibrary.indexToReplace}),filterSchema:function(){return{tag:{type:"select",name:"tag",label:"Filter by tags",items:this.tags,variant:"outlined",clearable:"true",chips:"true",col:"12"}}}},watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1,this.sharedFilterState.type=this.type},page:function(e){this.sharedFilterState.page=e}},methods:{deleteSelectedMedias:function(e){let t=[];e&&e.length!==this.selectedMedias.length&&(t=this.selectedMedias.filter(a=>!a.deleteUrl)),e.forEach(()=>{this.$store.commit(MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL,this.type)}),this.mediaItems=this.mediaItems.filter(a=>!this.selectedMedias.includes(a)||t.includes(a)),this.selectedMedias=t,this.mediaItems.length<=40&&this.reloadGrid()},replaceMedia:function({id:e}){this.$refs.uploader.replaceMedia(e)},addMedia:function(e){const t=this.mediaItems.findIndex(function(a){return a.id===e.id});if(t>-1){for(const a in this.selected)this.selected[a].forEach((n,r)=>{if(e.id===n.id){const o=[];for(const i in n.crops)o[i]={height:e.height===n.height?n.crops[i].height:e.height,name:i,width:e.width===n.width?n.crops[i].width:e.width,x:e.width===n.width?n.crops[i].x:0,y:e.height===n.height?n.crops[i].y:0};this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIAS,{index:r,media:{...e,width:e.width===n.width?n.width:e.width,height:e.height===n.height?n.height:e.height,crops:o},mediaRole:a})}});this.$set(this.mediaItems,t,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},open:function(){this.$refs.modal.open()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateSelectedMedias:function(e,t=!1){const a=e.id;if(this.selectedMedias.filter(function(r){return r.id===a}).length===0){if(this.max===1&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(t&&this.selectedMedias.length>0){const r=this.selectedMedias[this.selectedMedias.length-1],o=this.mediaItems.findIndex(u=>u.id===r.id),i=this.mediaItems.findIndex(u=>u.id===a);if(i===-1&&o===-1)return;let s=null,d=null;o<i?(s=o+1,d=i+1):(s=i,d=o),this.mediaItems.slice(s,d).forEach(u=>{if(this.selectedMedias.length>=this.max&&this.max>0)return;this.selectedMedias.findIndex(c=>c.id===u.id)===-1&&this.selectedMedias.push(u)})}else{const r=this.mediaItems.filter(function(o){return o.id===a});r.length&&this.selectedMedias.push(r[0])}}else this.selectedMedias=this.selectedMedias.filter(function(r){return r.id!==a})},clearSelectedMedias:function(){this.selectedMedias.splice(0)},clearFilters:function(){const e=this;if(this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){const t=this.$refs.unused.$el.querySelector("input");t&&t.checked&&t.click()}this.$nextTick(function(){e.submitFilter()})},clearDropdownFilters:function(){const e=this;this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$nextTick(function(){e.submitFilter()})},submitFilter:function(e){const t=this,a=this.$refs.list;if(this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),a.scrollTop===0){t.reloadGrid();return}scrollToY({el:a,offset:0,easing:"easeOut",onComplete:function(){t.reloadGrid()}})},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){const e=this;this.loading=!0,this.$refs.form;const t=e.cleanEmptyFilters(this.sharedFilterState);api.get(this.endpoint,t,a=>{a.data.items.forEach(r=>{this.mediaItems.find(o=>o.id===r.id)||this.mediaItems.push(r)}),this.maxPage=a.data.maxPage||1;let n=a.data.tags.map(({label:r,...o})=>({title:r,...o}));this.tags=n||[],this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL,{type:this.type,total:a.data.total}),this.loading=!1,this.gridLoaded=!0},a=>{})},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,e),this.submitFilter())},getFormData:function(e){let t=FormDataAsObj(e);return t?t.page=this.page:t={page:this.page},t.type=this.type,Array.isArray(t.unused)&&t.unused.length&&(t.unused=t.unused[0]),t},listenScrollPosition:function(){this.$nextTick(function(){if(!this.gridLoaded)return;const e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)})},scrollToPaginate:function(){if(!this.gridLoaded)return;const e=this.$refs.list;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop},saveAndClose:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!0),this.$store.commit(MEDIA_LIBRARY.SAVE_MEDIAS,this.selectedMedias),this.$nextTick(()=>{this.closeModal()})},reloadTags:function(e=[]){this.tags=e},cleanEmptyFilters:function(e){return Object.entries(e).reduce((t,[a,n])=>(n!=null&&n!==""&&(typeof n=="object"&&!Array.isArray(n)?t[a]=this.cleanEmptyFilters(n):t[a]=n),t),{})}},created(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}}},_hoisted_1={class:"medialibrary"},_hoisted_2={class:"medialibrary__frame"},_hoisted_3={class:"medialibrary__header",ref:"form"},_hoisted_4={key:0,class:"secondarynav secondarynav--desktop py",slot:"navigation"},_hoisted_5={key:0,class:"secondarynav__number"},_hoisted_6={class:"medialibrary__inner"},_hoisted_7={class:"medialibrary__grid"},_hoisted_8={class:"medialibrary__sidebar"},_hoisted_9={key:0,class:"medialibrary__footer"},_hoisted_10={class:"medialibrary__list",ref:"list"},_hoisted_11={class:"medialibrary__list-items"};function _sfc_render(e,t,a,n,r,o){const i=resolveComponent("ue-filter"),s=resolveComponent("ue-dropdown-filter"),d=resolveComponent("MediaSidebar"),l=resolveComponent("ue-uploader"),u=resolveComponent("ItemList"),m=resolveComponent("MediaGrid"),c=resolveComponent("ue-modal");return openBlock(),createBlock(c,{modelValue:e.show,"onUpdate:modelValue":t[2]||(t[2]=h=>e.show=h),id:"modalMedia",ref:"modalMedia",fullscreen:"","content-class":"",width:"",onOpened:o.opened},{activator:withCtx(({props:h})=>[renderSlot(e.$slots,"activator",{props:{...h}},void 0,!0)]),body:withCtx(({props:h})=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(o.modalTitle),1)]),_:1}),createVNode(VSpacer),createVNode(VToolbarItems,null,{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:e.closeModal},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>t[3]||(t[3]=[createTextVNode("mdi-close")])),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_3,[createVNode(i,{onSubmit:o.submitFilter,clearOption:!0,onClear:o.clearFilters,filterState:e.sharedFilterState,"onUpdate:filterState":t[0]||(t[0]=y=>e.sharedFilterState=y)},{default:withCtx(()=>[e.types.length?(openBlock(),createElementBlock("ul",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.types,y=>(openBlock(),createBlock(VChip,{key:y.value,class:"ma-2",onClick:withModifiers(p=>o.updateType(y.value),["prevent"])},{default:withCtx(()=>[createTextVNode(toDisplayString(y.text)+" ",1),y.total>0?(openBlock(),createElementBlock("span",_hoisted_5," ("+toDisplayString(y.total)+") ",1)):createCommentVNode("",!0)]),_:2},1032,["onClick"]))),128))])):createCommentVNode("",!0),t[4]||(t[4]=createBaseVNode("div",{slot:"hidden-filters"},null,-1))]),_:1},8,["onSubmit","onClear","filterState"]),createVNode(s,{onSubmit:o.submitFilter,onClear:o.clearDropdownFilters,loading:e.loading,"filter-ref":e.$refs.filter,filterState:e.sharedFilterState,"onUpdate:filterState":t[1]||(t[1]=y=>e.sharedFilterState=y),schema:o.filterSchema},null,8,["onSubmit","onClear","loading","filter-ref","filterState","schema"])],512),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("aside",_hoisted_8,[createVNode(d,{medias:e.selectedMedias,authorized:a.authorized,extraMetadatas:a.extraMetadatas,onClear:o.clearSelectedMedias,onDelete:o.deleteSelectedMedias,onTagUpdated:o.reloadTags,type:o.currentTypeObject,translatableMetadatas:a.translatableMetadatas,onTriggerMediaReplace:o.replaceMedia},null,8,["medias","authorized","extraMetadatas","onClear","onDelete","onTagUpdated","type","translatableMetadatas","onTriggerMediaReplace"])]),e.selectedMedias.length&&a.showInsert&&e.connector?(openBlock(),createElementBlock("footer",_hoisted_9,[o.canInsert?(openBlock(),createBlock(VBtn,{key:0,onClick:o.saveAndClose},{default:withCtx(()=>[createTextVNode(toDisplayString(o.btnLabel),1)]),_:1},8,["onClick"])):(openBlock(),createBlock(VBtn,{key:1,disabled:!0},{default:withCtx(()=>[createTextVNode(toDisplayString(o.btnLabel),1)]),_:1}))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10,[a.authorized?(openBlock(),createBlock(l,{key:0,ref:"uploader",onLoaded:o.addMedia,onClear:o.clearSelectedMedias,type:o.currentTypeObject},null,8,["onLoaded","onClear","type"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11,[e.type==="file"?(openBlock(),createBlock(u,{key:0,items:o.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":o.usedMedias,onChange:o.updateSelectedMedias,onShiftChange:o.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"])):(openBlock(),createBlock(m,{key:1,items:o.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":o.usedMedias,onChange:o.updateSelectedMedias,onShiftChange:o.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"]))])],512)])])])])]),_:3},8,["modelValue","onOpened"])}const UEModalMedia=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-3ec41a44"]]),_sfc_main={__name:"DynamicModal",setup(e){const t=inject("modalService");if(!t)throw new Error("[DynamicModal] modalService not found");const a=t.state,n=computed(()=>{const r={};return Object.entries(a.emits).forEach(([o,i])=>{r[o]=s=>i(s)}),r});return provide("modalRef",{close:t.close.bind(t),data:a.data}),(r,o)=>{const i=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:unref(a).visible,"onUpdate:modelValue":o[0]||(o[0]=d=>unref(a).visible=d),persistent:"",widthType:"md"},unref(a).modalProps),createSlots({_:2},[unref(a).component?{name:"body.description",fn:withCtx(()=>[unref(a).component?(openBlock(),createBlock(resolveDynamicComponent(unref(a).component),mergeProps({key:0},unref(a).props,toHandlers(n.value)),null,16)):createCommentVNode("",!0)]),key:"0"}:void 0,renderList(Object.keys(unref(a).slots),d=>({name:d,fn:withCtx(l=>[createVNode(i,{configuration:unref(a).slots[d],bindData:l},null,8,["configuration","bindData"])])}))]),1040,["modelValue"])}}},customMdiIcons={accountSettings:"mdi mdi-account-cog",add:"mdi-plus",alert:"mdi-alert-outline",arrowLeft:"mdi-arrow-left-thin",arrowRight:"mdi-arrow-right-thin",check:"mdi-check",close:"mdi-close",company:"mdi-office-building-cog",creditCards:"mdi-credit-card-search",dashboard:"mdi-view-dashboard-outline",delete:"mdi-trash-can-outline",download:"mdi-download",duplicate:"mdi-content-copy",edit:"mdi-pencil-box-outline",error:"mdi-close-circle-outline",filter_list:"mdi-filter",header:"mdi-text-short",info:"mdi-information",list:"mdi-dots-vertical-circle-outline",media:"mdi-image-album",modules:"mdi-view-module","non-visibility":"mdi-eye-off",package:"mdi-package",permission:"mdi-account-arrow-right",product:"mdi-dropbox",restore:"mdi-file-restore",role:"mdi-account-key",submodule:"mdi-file-tree",success:"mdi-check-circle-outline",support:"mdi-lifebuoy",trash:"mdi-delete",userAdd:"mdi-account-edit",users:"mdi:mdi-account-multiple",visibility:"mdi-eye",warning:"mdi-alert-circle-outline"},unusualify={dark:!1,colors:{background:"#F5F5F5",red:"#DE3730","red-lighten-1":"#FFEDEA","red-darken-1":"#93000A",error:"#DE3730",blue:"#2196F3","blue-lighten-1":"#D3EAFD","blue-darken-1":"#077BD8","blue-accent-1":"#176FC7","blue-accent-2":"#63ADED",info:"#2196F3",green:"#54AF4C","green-lighten-1":"#E4F4D8","green-darken-1":"#1C7F20",success:"#54AF4C",orange:"#FDB022","orange-lighten-1":"#FEF8EC","orange-darken-1":"#F88C00",warning:"#FDB022",primary:"#27A0B4","primary-lighten-1":"#4DBBC6","primary-lighten-2":"#74CED7","primary-lighten-3":"#AFE2E7","primary-lighten-4":"#F5FAFC","primary-darken-1":"#00758D","primary-darken-2":"#00566A","primary-darken-3":"#01404F","primary-accent":"#DEF5FA","on-primary":"#FFFFFF",secondary:"#E16437","secondary-lighten-1":"#EC9F83","secondary-lighten-2":"#F2BAA6","secondary-lighten-3":"#F7D6CA","secondary-lighten-4":"#FCF1ED","secondary-lighten-5":"#F7D6CA","secondary-lighten-6":"#F2BAA6","secondary-darken-1":"#D55020","secondary-darken-2":"#C3491D","secondary-darken-3":"#B1431B","secondary-darken-4":"#A03C18","secondary-darken-5":"#8E3515","secondary-darken-6":"#7C2F13",grey:"#768184","grey-lighten-1":"#879092","grey-lighten-2":"#999FA1","grey-lighten-3":"#AAEAEF","grey-lighten-6":"#F2F1F1","grey-lighten-4":"#CACBCB","grey-lighten-5":"#E4E4E4","grey-lighten-6":"#F2F1F1","grey-darken-1":"#657275","grey-darken-2":"#546367","grey-darken-3":"#435458","grey-darken-4":"#32454A","grey-darken-5":"#20363B","grey-accent-1":"#EEF1F2","grey-accent-2":"#DEE3E5","grey-accent-3":"#BFC8CB","grey-accent-4":"#8CA0A7","grey-accent-5":"#6F797B","grey-accent-6":"#3F484A","grey-accent-7":"#171D1E"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},themes=Object.freeze(Object.defineProperty({__proto__:null,unusualify},Symbol.toStringTag,{value:"Module"})),APP_THEME="unusualify",opts={aliases:{VBtnPrimary:VBtn,VBtnSecondary:VBtn,VBtnSuccess:VBtn,VImgIcon:VImg,VSheetRounded:VSheet,VRowSecondary:VRow,VRowTertiary:VRow},defaults:{global:{ripple:!1},VSheet:{},VSheetRounded:{class:"rounded"},VBtn:{color:"primary",density:"comfortable",variant:"elevated"},VBtnPrimary:{color:"primary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSecondary:{color:"secondary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSuccess:{color:"success",variant:"elevated"},VImgIcon:{height:"2.5rem"},VRowSecondary:{class:"v-row-secondary"},VRowTertiary:{class:"v-row-tertiary"}},theme:{defaultTheme:APP_THEME,themes},icons:{defaultSet:"mdi",aliases:{...aliases,...customMdiIcons},sets:{mdi,fa}},directives,components:{...components,VDateInput}},vuetify=createVuetify(opts),broadcasting={install:(e,t)=>{window.Pusher=Pusher}};class ModalService{constructor(){this.state=reactive({visible:!1,component:null,props:{},emits:{},slots:{},data:void 0,onClose:void 0,modalProps:{}})}open(t,a={}){this.state.component=t,this.state.props=a.props||{},this.state.emits=a.emits||{},this.state.data=a.data,this.state.onClose=a.onClose,this.state.visible=!0,this.state.modalProps=a.modalProps||{},this.state.slots=a.slots||{}}close(t){this.state.visible=!1;const a=this.state.onClose;this.state.component=null,this.state.props={},this.state.emits={},this.state.data=void 0,this.state.onClose=void 0,this.state.modalProps={},this.state.slots={},a&&a(t)}}const ModalService$1={install(e){const t=new ModalService;e.provide("modalService",t),e.config.globalProperties.$modalService=t,window.$modalService=t,setTimeout(()=>{const r=new URLSearchParams(window.location.search).get("modalService"),o=JSON.parse(r);if(isObject(o))try{t.open(o.component??null,omit(o,["component"])),removeParameterFromHistory("modalService")}catch(i){console.error("Failed to open modal from URL parameters:",i)}},0)}},CVV$1="CVV",MM$1="MM",Month$1="Month",PAY$1="PAY",Year$1="Year",YY$1="YY",en={"ADD NEW":"ADD NEW","Are you sure logout?":"Are you sure logout?","AT A GLANCE":"AT A GLANCE","Card Holder":"Card Holder","Card Number":"Card Number","Company Information":"Company Information",CVV:CVV$1,"Expire Date":"Expire Date","Loading... Please wait":"Loading... Please wait",MM:MM$1,Month:Month$1,PAY:PAY$1,"Personal Information":"Personal Information","Update Password":"Update Password",Year:Year$1,YY:YY$1},__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,CVV:CVV$1,MM:MM$1,Month:Month$1,PAY:PAY$1,YY:YY$1,Year:Year$1,default:en},Symbol.toStringTag,{value:"Module"})),All="Hepsi",CVV="CVV",Month="Ay",MM="AA",No="Hayır",PAY="ÖDE",Regards="Saygılar",VAT="KDV",YY="YY",Yes="Evet",Year="Yıl",Total="Toplam",tr={"ADD NEW":"EKLE","Are you sure logout?":"Çıkış yapmak istediğinize emin misiniz?","AT A GLANCE":"GENEL BAKIŞ",All,"Card Holder":"Kart Üstündeki İsim","Card Number":"Kart No","Company Information":"Şirket Bilgileri",CVV,"Expire Date":"Son Kullanma Tarihi","Frequently Asked Questions":"Sıkça Sorulan Sorular","If you did not request a password reset, no further action is required.":"Şifre sıfırlama talebinde bulunmadıysanız, herhangi bir işlem yapmanız gerekli değildir","Loading... Please wait":"Yükleniyor, lütfen bekleyin...",Month,MM,No,PAY,"Personal Information":"Kişisel Bilgiler",Regards,"Reset Password":"Yeni Şifre Oluştur","Reset Password Notification":"Yeni Şifre Oluşturma Bildirimi","This password reset link will expire in :count minutes.":"Bu şifre oluşturma linki :count dakika içerisinde sonlanacak.","Total Amount":"Genel Toplam","Update Password":"Şifreyi Güncelle",VAT,YY,"You are receiving this email because we received a password reset request for your account.":"Hesabınızın şifresini sıfırlamak için bu maili alıyorsunuz",Yes,Year,Total},__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,All,CVV,MM,Month,No,PAY,Regards,Total,VAT,YY,Year,Yes,default:tr},Symbol.toStringTag,{value:"Module"}));function loadStaticMessages(){const e=Object.assign({"../../../../lang/en.json":__vite_glob_0_0,"../../../../lang/tr.json":__vite_glob_0_1}),t={};return Object.keys(e).forEach(a=>{const o=a.split("/").pop().match(/([A-Za-z0-9-_]+)\.json/i)[1].match(/([A-Za-z0-9-_]+)/i);if(o&&o.length>1){const i=o[1];t[i]=e[a]}}),t}const datetimeFormats={en:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}},tr:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}}},numberFormats={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}},en:{currency:{style:"currency",currency:"EUR"}},tr:{currency:{style:"currency",currency:"TRY"}}},setupOptions={locale:"tr",fallbackLocale:"en",legacy:!1,missingWarn:!1,fallbackWarn:!1,messages:loadStaticMessages(),datetimeFormats,numberFormats},i18n=setupI18n(setupOptions);function setupI18n(e={locale:"en"}){const t=createI18n(e);return setI18nLocale(t,e.locale),t}function setI18nLocale(e,t){e.mode==="legacy"?e.global.locale=t:e.global.locale.value=t,document.querySelector("html").setAttribute("lang",t)}async function loadLocaleMessages(e,t){if(typeof TRANSLATIONS<"u"&&TRANSLATIONS)for(const a in TRANSLATIONS)loadLocaleMessage(e,a,TRANSLATIONS[a])}function loadLocaleMessage(e,t,a){return e.global.setLocaleMessage(t,a),nextTick()}function addSvg(e,t,a){const n=["icon"],r=t.expression||a.props.symbol;let o=e;a.type==="span"&&(o=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(o)),n.push(`icon--${r}`),n.forEach(function(l){e.classList.add(l)});const i=document.createElementNS("http://www.w3.org/2000/svg","title");i.textContent=r,o.appendChild(i);const s=`#icon--${r}`,d=document.createElementNS("http://www.w3.org/2000/svg","use");d.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.appendChild(d)}function removeSvg(e){const t=e.querySelector("svg");t&&t.parentNode.removeChild(t),e.className.split(" ").filter(function(n){return n.indexOf("icon")===0}).forEach(function(n){e.classList.remove(n)})}const SvgSprite={install(e,t={}){const a={beforeMount(n,r,o){addSvg(n,r,o)},updated:function(n,r,o,i){removeSvg(n),addSvg(n,r,o)},mounted:function(n,r,o){},unmounted:function(n,r,o){}};e.directive("svg",a)}},Column={install(e,t={}){const a={cols:12},n={created(r,o,i,s){o.value,o.instance},beforeMount(r,o,i,s){const d=o.value;d?__isObject(d)&&Object.entries(d).forEach(([l,u])=>{r.classList.add(`v-col-${l==="cols"?u:l+"-"+u}`)}):Object.entries(a).forEach(([l,u])=>{r.classList.add(`v-col-${l==="cols"?u:l+"-"+u}`)})},mounted(r,o,i,s){},beforeUpdate(r,o,i,s){},updated(r,o,i,s){},beforeUnmount(r,o,i,s){},unmounted(r,o,i,s){}};e.directive("column",n)}},FitGrid={install(e,t={}){const a={created(n,r,o,i){},beforeMount(n,r,o,i){n.classList.add("d-flex"),n.firstElementChild.classList.add("h-100","w-100")},mounted(n,r,o,i){},beforeUpdate(n,r,o,i){},updated(n,r,o,i){},beforeUnmount(n,r,o,i){},unmounted(n,r,o,i){}};e.directive("fit-grid",a)}},Scrollable={install(e,t={}){const a={created(n,r,o,i){},beforeMount(n,r,o,i){if(n.classList.add("ue-scrollable"),r.modifiers.height){const s=r.value;typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/)?(n.style.height=typeof s=="number"?`${s}px`:s,n.style.overflowY="auto"):console.warn("v-scrollable: Invalid height value. Please provide a number (for px) or a valid CSS height value.")}},mounted(n,r,o,i){},updated(n,r,o,i){if(r.modifiers.height&&r.value!==r.oldValue){const s=r.value;(typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/))&&(n.style.height=typeof s=="number"?`${s}px`:s)}},beforeUpdate(n,r,o,i){},beforeUnmount(n,r,o,i){},unmounted(n,r,o,i){}};e.directive("scrollable",a)}},Transition={install(e,t={}){const a={beforeMount(n,r){var i;const o=r.arg||"scale";(i=r.modifiers)!=null&&i.slow,n.classList.add(`${o}-transition`)},mounted(n,r){const o=r.arg||"scale";n.classList.contains("d-none")||n.classList.add(`${o}-1`);const i=new MutationObserver(s=>{s.forEach(d=>{d.type==="attributes"&&d.attributeName==="class"&&(n.classList.contains("d-none")?n.classList.remove(`${o}-1`):setTimeout(()=>{n.classList.add(`${o}-1`)},50))})});n._transitionObserver=i,i.observe(n,{attributes:!0,attributeFilter:["class"]})},updated(n,r){},unmounted(n){n._transitionObserver&&(n._transitionObserver.disconnect(),delete n._transitionObserver)}};e.directive("transition",a)}},commonMethods={$csrf:function(){return document.querySelector('meta[name="csrf-token"]').getAttribute("content")},$log:function(...e){return window.__log(...e)},$isset:function(...e){return window.__isset(...e)},$bindAttributes:function(e=null){const t={};if(e)Object.keys(e).forEach((a,n)=>{parseInt(a)>-1?t[e[a]]=!0:t[a]=e[a]});else if(e==null)return{...this.$attrs};return t},$main:function(){return this.$app._instance.refs.main},$profileDialog:function(){return this.$root.$refs.sidebar.$refs.profileDialog},$openProfileDialog:function(){return this.$store.state.user.profileDialog=!0},$closeProfileDialog:function(){return this.$store.state.user.profileDialog=!1},$can:function(e,t=null){const{can:a}=useAuthorization();return a(e,t)},$hasRoles:function(e){const{hasRoles:t}=useAuthorization();return t(e)},$isYou:function(e){const{isYou:t}=useAuthorization();return t(e)},$isSuperAdmin:function(){return this.$store.getters.isSuperAdmin},$toggleSidebar:function(){this.$store.commit(CONFIG.SIDEBAR_TOGGLE)},$castValueMatch:function(e,t){let a,n=e;if(__isString(e)&&(a=e.match(/\$([\w\.\*]+)/))){let r=a[1],o=__preg_quote(a[0]),i=r.split("."),s=[];for(const l in i){let u=i[l];u==="*"?t.id:s.push(u)}r=s.join(".");let d=__data_get(t,r);if(d){let l;if(Array.isArray(d)&&d.length>0)l=d.join(",");else if(__isString(d)){l=d;let u=snakeCase(l);this.$te(`modules.${u}`)&&(l=this.$t(`modules.${u}`))}else __isNumber(d)&&(l=d.toString());if(l){let u="\\w\\s"+__preg_quote("çşıİğüö.,;?|:_"),m=new RegExp(String.raw`^([${u}]+)?(${o})([${u}]+)?$`);e.match(m)?n=e.replace(m,"$1"+l+"$3"):__log("Not matched sentence",m,e,e.match(m))}}}return n},$notif:function(e){this.$store.commit(ALERT.SET_ALERT,e)},$dialog:function(e){this.$store.commit(ALERT.SET_DIALOG,e)},$hasRequestInProgress:function(){return this.$store.getters.isRequestInProgress},$trans:function(e,t){var a;return this.$lodash.get((a=window.MODULARITY)==null?void 0:a.modularityLocalization.lang,e,t)},$changeLocale:function(e){this.$i18n.locale.value=e},$localization:function(e){if(e.indexOf(" ")>-1)return this.$t(e);let a=lodash.split(e,".");if(a.length>1)return this.$te(e)?this.$t(e):lodash.join(a," ");let n=!1,r=e;pluralize.isPlural(r)&&(n=!0,r=pluralize.singular(r));let o=lodash.kebabCase(r),i=lodash.snakeCase(r);return this.$translation(`modules.${i}`,n?1:0)||this.$translation(`fields.${o}`)||this.$translation(`fields.${i}`)||window.__snakeToHeadline(e)},$moduleTranslationName:function(e){let t=!1,a=e,n=window.__snakeNameFromForeignKey(a);return n&&(a=n,e=n),pluralize.isPlural(a)&&(t=!0,a=pluralize.singular(a)),a=lodash.snakeCase(a),e=lodash.snakeCase(e),this.$te(`modules.${a}`)?this.$t(`modules.${a}`,t?1:0):window.__snakeToHeadline(e)},$translation:function(e,...t){return this.$te(e)?this.$t(e,...t):!1},$headline:function(e){return window.__headline(e)},$getDisplayData:function(e,t){let a={};for(const n in e){const r=e[n],o=t[n];let i=r.displayLabel||r.label||r.name||n;if(i=this.$localization(i),!(!r.type||r.type=="hidden")&&!(!o&&o!==0&&o!==!1&&i!==null&&r.type!=="wrap"))switch(a[n]={_title:i,_type:r.type},r.type){case"wrap":r.schema&&(delete a[n],a=Object.assign(a,this.$getDisplayData(r.schema,t)));break;case"group":r.schema&&typeof o=="object"&&(a[n]={...a[n],...this.$getDisplayData(r.schema,o)});break;case"input-repeater":Array.isArray(o)&&r.schema?a[n]._value=o.map(l=>this.$getDisplayData(r.schema,l)):a[n]._value=o;break;case"input-filepond":Array.isArray(o)?a[n]._value=o.map(l=>l.file_name):a[n]._value=o.file_name;break;case"input-form-tabs":a[n]._value=lodash.reduce(o,(l,u,m)=>{m=__isString(m)?parseInt(m):m;const c=r.items.find(p=>p.id==m);if(!c)return l;let y={_title:c.title||c.name,_model:c.id??null,_value:{}};return lodash.each(r.tabFields,(p,v)=>{let V=r.schema[v],f={_title:this.$localization(V.displayLabel||V.label||V.name||v),_type:r.type,_value:null},C=u[v],k=c[p];if(Array.isArray(C)&&k)f._value=C.map(w=>{let b=k.find(A=>A.id==w);return b?b.title||b.name:"N/A"});else if(k){let w=k.find(A=>A.id==C);C=w?w.title||w.name:C,f._value=C;let b=this.$getDisplayKeys(w);for(const A in b)f[A]||(f[b[A]]=w[A])}y[v]=f}),l.push(y),l},[]);break;case"input-price":const s=this.$numberFormats[this.$getLocale].currency,d=r.items.find(l=>l.iso===s.currency);a[n]._value=this.$n(o.find(l=>l.currency_id===d.id).raw_amount,{style:"currency",currency:s.currency});break;default:if(__isObject(o))a[n]._value=o;else if(Array.isArray(o)&&r.items)a[n]._value=o.map(l=>{const u=r.items.find(m=>m[r.itemValue]===l);return u?u[r.itemTitle]:l});else if(r.items){const l=r.items.find(u=>u[r.itemValue]===o);a[n]._value=l?l[r.itemTitle]:o}else a[n]._value=o;break}}return a},$getDisplayKeys:function(e){return lodash.reduce(Object.keys(e??{}),(t,a)=>{let n=a.match(/^([a-zA-Z0-9]+)(_(show|formatted))$/);return n&&(t[a]=n[1]),t},{})},$d:function(e,t="long"){const{d:a}=useI18n({useScope:"global"});return a(new Date(e),t)},$copy:function(e){window.navigator.clipboard.writeText(e)},$openLoginModal:function(){this.$store.commit(USER.OPEN_LOGIN_MODAL)},$closeLoginModal:function(){this.$store.commit(USER.CLOSE_LOGIN_MODAL)},$cacheGet:function(e,t=null){const{get:a}=useCache();return a(e,t)},$cachePut:function(e,t){const{put:a}=useCache();a(e,t)},$cachePush:function(e,t){const{push:a}=useCache();a(e,t)},$cacheLast:function(e,t=null){const{last:a}=useCache();return a(e,t)},$cacheForget:function(e){const{forget:t}=useCache();t(e)}},includeGlobalComponents=Object.assign({"/src/js/components/Alert.vue":__vite_glob_0_0$2,"/src/js/components/Auth.vue":__vite_glob_0_1$2,"/src/js/components/BoardInformationPlus.vue":__vite_glob_0_2$1,"/src/js/components/Btn.vue":__vite_glob_0_3$1,"/src/js/components/Collapsible.vue":__vite_glob_0_4,"/src/js/components/ConfigurableCard.vue":__vite_glob_0_5,"/src/js/components/CopyText.vue":__vite_glob_0_6,"/src/js/components/Dashboard.vue":__vite_glob_0_7,"/src/js/components/DropdownFilter.vue":__vite_glob_0_8,"/src/js/components/DynamicComponentRenderer.vue":__vite_glob_0_9,"/src/js/components/FilepondPreview.vue":__vite_glob_0_10,"/src/js/components/Filter.vue":__vite_glob_0_11,"/src/js/components/Form.vue":__vite_glob_0_12,"/src/js/components/FormSummaryItem.vue":__vite_glob_0_13,"/src/js/components/ImpersonateToolbar.vue":__vite_glob_0_14,"/src/js/components/ListElement.vue":__vite_glob_0_15,"/src/js/components/ListSection.vue":__vite_glob_0_16,"/src/js/components/LogoutModal.vue":__vite_glob_0_17,"/src/js/components/MediaMetadata.vue":__vite_glob_0_18,"/src/js/components/Metric.vue":__vite_glob_0_19,"/src/js/components/MetricGroups.vue":__vite_glob_0_20,"/src/js/components/Metrics.vue":__vite_glob_0_21,"/src/js/components/NavigationGroup.vue":__vite_glob_0_22,"/src/js/components/PrintRequest.vue":__vite_glob_0_23,"/src/js/components/PropertyList.vue":__vite_glob_0_24,"/src/js/components/RecursiveDataViewer.vue":__vite_glob_0_25,"/src/js/components/RecursiveStuff.vue":__vite_glob_0_26,"/src/js/components/StepperForm.vue":__vite_glob_0_27,"/src/js/components/StepperFormOld.vue":__vite_glob_0_28,"/src/js/components/Success.vue":__vite_glob_0_29,"/src/js/components/SvgIcon.vue":__vite_glob_0_30,"/src/js/components/TabGroups.vue":__vite_glob_0_31,"/src/js/components/TabGroupsPrevious.vue":__vite_glob_0_32,"/src/js/components/Table.vue":__vite_glob_0_33,"/src/js/components/TableBinder.vue":__vite_glob_0_34,"/src/js/components/Tabs.vue":__vite_glob_0_35,"/src/js/components/TabsPrevious.vue":__vite_glob_0_36,"/src/js/components/TextDisplay.vue":__vite_glob_0_37,"/src/js/components/Title.vue":__vite_glob_0_38,"/src/js/components/Uploader.vue":__vite_glob_0_39}),includeIteratorComponents=Object.assign({"/src/js/components/data_iterators/ExpandableIterator.vue":__vite_glob_1_0,"/src/js/components/data_iterators/RichCardIterator.vue":__vite_glob_1_1,"/src/js/components/data_iterators/RichRowIterator.vue":__vite_glob_1_2}),includeLayouts=Object.assign({"/src/js/components/layouts/Footer.vue":__vite_glob_2_0,"/src/js/components/layouts/Home.vue":__vite_glob_2_1,"/src/js/components/layouts/Main.vue":__vite_glob_2_2,"/src/js/components/layouts/Sidebar.vue":__vite_glob_2_3}),includeFormInputs=Object.assign({"/src/js/components/inputs/Assignment.vue":__vite_glob_3_0,"/src/js/components/inputs/Chat.vue":__vite_glob_3_1,"/src/js/components/inputs/CheckboxCard.vue":__vite_glob_3_2,"/src/js/components/inputs/Checklist.vue":__vite_glob_3_3,"/src/js/components/inputs/ChecklistGroup.vue":__vite_glob_3_4,"/src/js/components/inputs/ComparisonTable.vue":__vite_glob_3_5,"/src/js/components/inputs/CreditCard.vue":__vite_glob_3_6,"/src/js/components/inputs/CreditCardForm.vue":__vite_glob_3_7,"/src/js/components/inputs/File.vue":__vite_glob_3_8,"/src/js/components/inputs/Filepond.vue":__vite_glob_3_9,"/src/js/components/inputs/FilepondAvatar.vue":__vite_glob_3_10,"/src/js/components/inputs/FormTabs.vue":__vite_glob_3_11,"/src/js/components/inputs/Image.vue":__vite_glob_3_12,"/src/js/components/inputs/ImageOld.vue":__vite_glob_3_13,"/src/js/components/inputs/Locale.vue":__vite_glob_3_14,"/src/js/components/inputs/PaymentService.vue":__vite_glob_3_15,"/src/js/components/inputs/Phone.vue":__vite_glob_3_16,"/src/js/components/inputs/Price.vue":__vite_glob_3_17,"/src/js/components/inputs/Process.vue":__vite_glob_3_18,"/src/js/components/inputs/RadioGroup.vue":__vite_glob_3_19,"/src/js/components/inputs/Repeater.vue":__vite_glob_3_20,"/src/js/components/inputs/SelectScroll.vue":__vite_glob_3_21,"/src/js/components/inputs/SelectTag.vue":__vite_glob_3_22,"/src/js/components/inputs/Spread.vue":__vite_glob_3_23,"/src/js/components/inputs/Tag.vue":__vite_glob_3_24,"/src/js/components/inputs/Tagger.vue":__vite_glob_3_25}),includeCustomComponents=Object.assign({"/src/js/components/customs/BoardInformation.vue":__vite_glob_0_0$1,"/src/js/components/customs/PackageSelector.vue":__vite_glob_0_1$1,"/src/js/components/customs/PressReleaseCardIterator.vue":__vite_glob_0_2,"/src/js/components/customs/TestApp.vue":__vite_glob_0_3});UECompose();const UEConfig={install:(e,t)=>{var a;window.vm=e,e.use(vuetify),e.use(store),e.use(i18n),e.use(broadcasting),e.config.globalProperties.$jquery=window.$,e.config.globalProperties.$axios=window.axios,e.config.globalProperties.$lodash=window._,e.config.globalProperties.window=window,e.config.globalProperties.$app=e,setI18nLocale(i18n,store.state.user.locale),loadLocaleMessages(i18n,((a=window.MODULARITY)==null?void 0:a.ENDPOINTS.languages)??""),e.config.globalProperties={...e.config.globalProperties,$getLocale:i18n.global.locale.value,$numberFormats:i18n.global.numberFormats.value,$te:function(n,r){const o=i18n.global.te;return o(n,r)??!1},$tc:function(n,r){const o=i18n.global.tc;return o(n,r)??!1},$plural:function(n){return pluralize.plural(n)},registerComponentsV1:function(n,r="",o="ue"){r=r!==""?r+"/":"",n.keys().forEach(i=>{const s=i.split("/").pop().split(".")[0],d=o+s.replace(/[A-Z]/g,l=>"-"+l.toLowerCase());e.component(d,require(`__components/${r}${s}.vue`).default)})},registerComponents:function(n,r="",o="ue"){r=r!==""?r+"/":"",Object.keys(n).forEach(i=>{i.split("/").pop();const s=i.split("/").pop().split(".")[0],d=n[i],l=o+s.replace(/[A-Z]/g,u=>"-"+u.toLowerCase());e.component(l,d.default)})},$call:function(n,...r){return this[n](...r)}},Object.keys(commonMethods).forEach(n=>{e.config.globalProperties[n]=commonMethods[n].bind(e.config.globalProperties)}),e.mixin({methods:{notif:function(n){this.$store.commit(ALERT.SET_ALERT,n)},openFreeMediaLibrary:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(MEDIA_LIBRARY.RESET_MEDIA_TYPE),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,-1),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!1),this.$root.$refs.main&&this.$root.$refs.main.$refs.mediaLibrary&&this.$root.$refs.main.$refs.mediaLibrary.openModal()}}}),e.component("v-custom-form-base",VCustomFormBase),e.component("ue-dynamic-modal",_sfc_main),e.component("ue-modal",UEModal),e.component("ue-modal-media",UEModalMedia),e.config.globalProperties.registerComponents(includeGlobalComponents),e.config.globalProperties.registerComponents(includeIteratorComponents),e.config.globalProperties.registerComponents(includeLayouts,"layouts"),e.config.globalProperties.registerComponents(includeFormInputs,"inputs","v-input"),e.config.globalProperties.registerComponents(includeCustomComponents,"customs","ue-custom"),e.directive("mask",directive),e.use(SvgSprite),e.use(Column),e.use(FitGrid),e.use(Scrollable),e.use(Transition),e.use(ModalService$1),e.provide("$app",e)}},getFieldIndex=(e,t)=>e.findIndex(a=>a.name===t.name),state$1={baseUrl:window.MODULARITY.STORE.form.baseUrl||"",inputs:window.MODULARITY.STORE.form.inputs||{},serverValid:!0,errors:{},editedItem:window.MODULARITY.STORE.form.inputs?getModel(window.MODULARITY.STORE.form.inputs,null):{},loading:!1,taggableItems:{}},getters={defaultItem:e=>getModel(e.inputs)},mutations={[FORM.SET_EDITED_ITEM](e,t){e.editedItem=Object.assign({},t)},[FORM.RESET_EDITED_ITEM](e){e.editedItem=getModel(e.inputs)},[FORM.UPDATE_FORM_FIELD](e,t){let a=t.locale?{}:null;const n=getFieldIndex(e.fields,t);n!==-1&&(t.locale&&(a=e.fields[n].value||{}),e.fields.splice(n,1)),t.locale?a[t.locale]=t.value:a=t.value,e.fields.push({name:t.name,value:a})},[FORM.UPDATE_FORM_LOADING](e,t){e.loading=t||!e.loading},[FORM.SET_FORM_ERRORS](e,t){e.errors=t},[FORM.SET_SERVER_VALID](e,t){e.serverValid=t},[FORM.CLEAR_FORM_ERRORS](e){e.errors=[]},[FORM.SET_TAGGABLE_ITEMS](e,{taggable_type:t,items:a}){e.taggableItems[t]=a},[FORM.ADD_TAGGABLE_ITEM](e,{taggable_type:t,item:a}){e.taggableItems[t].push(a)}},actions={[ACTIONS.SAVE_FORM]({commit:e,state:t,getters:a,rootState:n,dispatch:r},{item:o=null,callback:i=null,errorCallback:s=null,plain:d=!1}){e(FORM.CLEAR_FORM_ERRORS),e(FORM.UPDATE_FORM_LOADING,!0);const l=d?o:getSubmitFormData(t.inputs,o??t.editedItem,n);let u="post",m=window.MODULARITY.ENDPOINTS.store;Object.prototype.hasOwnProperty.call(l,"id")&&(u="put",m=window.MODULARITY.ENDPOINTS.update.replace(":id",l.id)),api$1[u](m,l,function(c){if(e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(c.data,"errors"))e(FORM.SET_SERVER_VALID,!1),e(FORM.SET_FORM_ERRORS,c.data.errors);else if(Object.prototype.hasOwnProperty.call(c.data,"variant")&&c.data.variant.toLowerCase()==="success"){e(ALERT.SET_ALERT,{message:c.data.message,variant:c.data.variant}),e(FORM.SET_SERVER_VALID,!0),u==="post"&&e(FORM.RESET_EDITED_ITEM);try{r(ACTIONS.GET_DATATABLE)}catch{}}i&&typeof i=="function"&&i(c.data)},function(c){e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(c.data,"errors")?(e(FORM.SET_FORM_ERRORS,c.data.errors),e(FORM.SET_SERVER_VALID,!1)):Object.prototype.hasOwnProperty.call(c.data,"exception")?e(ALERT.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(r(ACTIONS.HANDLE_ERRORS,c.data),e(ALERT.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),s&&typeof s=="function"&&s(c.data)})},[ACTIONS.HANDLE_ERRORS]({commit:e,state:t,getters:a,rootState:n},r){const o=n.repeaters;Object.keys(r).forEach(i=>{const s=i.split(".");if(s.length>=4){const d=s[0],l=s[1],u=s[2],m=s[3];if(d==="repeaters"){const h=`blocks[${o[l][u].id}][${m}]`;r[h]=r[i]}}}),e(FORM.SET_FORM_ERRORS,r)}},form={state:state$1,getters,actions,mutations};export{ALERT as A,UEConfig as U,__vite_glob_0_0$1 as _,__vite_glob_0_1$1 as a,__vite_glob_0_2 as b,__vite_glob_0_3 as c,ACTIONS as d,_export_sfc as e,form as f,api$2 as g,makeTableProps as m,store as s,useTable as u};
//# sourceMappingURL=form.BPsC63Zb.js.map
