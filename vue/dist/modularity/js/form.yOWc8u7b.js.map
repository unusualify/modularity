{"version":3,"file":"form.yOWc8u7b.js","sources":["../../../src/js/store/mutations/datatable.js","../../../src/js/store/mutations/form.js","../../../src/js/store/mutations/alert.js","../../../src/js/store/mutations/media-library.js","../../../src/js/store/mutations/language.js","../../../src/js/store/mutations/browser.js","../../../src/js/store/mutations/config.js","../../../src/js/store/mutations/user.js","../../../src/js/components/Alert.vue","../../../src/js/components/Auth.vue","../../../src/js/components/BoardInformationPlus.vue","../../../src/js/components/Btn.vue","../../../src/js/components/Collapsible.vue","../../../src/js/components/ConfigurableCard.vue","../../../src/js/components/CopyText.vue","../../../src/js/components/Dashboard.vue","../../../src/js/components/DropdownFilter.vue","../../../src/js/components/DynamicComponentRenderer.vue","../../../src/js/components/FilepondPreview.vue","../../../src/js/utils/formDataAsObj.js","../../../src/js/components/Filter.vue","../../../src/js/hooks/useFormatter.js","../../../src/js/hooks/useInput.js","../../../src/js/hooks/useInputHandlers.js","../../../src/js/utils/pushState.js","../../../src/js/utils/errors.js","../../../src/js/store/api/datatable.js","../../../src/js/store/actions/index.js","../../../src/js/utils/mapStore.js","../../../src/js/store/modules/config.js","../../../src/js/utils/filters.js","../../../src/js/utils/getFormData.js","../../../src/js/hooks/useTableEndpoints.js","../../../src/js/hooks/useTable.js","../../../src/js/hooks/useModelValue.js","../../../src/js/hooks/useActiveTableItem.js","../../../src/js/hooks/useValidation.js","../../../src/js/utils/htmlClasses.js","../../../src/js/hooks/useModal.js","../../../src/js/hooks/useDraggable.js","../../../src/js/hooks/useRepeater.js","../../../src/js/hooks/useFile.js","../../../src/js/hooks/useImage.js","../../../src/js/hooks/useSidebar.js","../../../src/js/hooks/useIterator.js","../../../src/js/hooks/useCurrencyNumber.js","../../../src/js/hooks/useModule.js","../../../src/js/hooks/useLocale.js","../../../src/js/store/api/form.js","../../../src/js/hooks/useItemActions.js","../../../src/js/hooks/useTableItem.js","../../../src/js/hooks/useTableNames.js","../../../src/js/hooks/useTableFilters.js","../../../src/js/hooks/useTableHeaders.js","../../../src/js/hooks/useTableForms.js","../../../src/js/hooks/useTableItemActions.js","../../../src/js/hooks/useTableModals.js","../../../src/js/hooks/useCurrency.js","../../../src/js/utils/response.js","../../../src/js/hooks/useForm.js","../../../src/js/components/form/FormActions.vue","../../../src/js/components/Form.vue","../../../src/js/components/FormOld.vue","../../../src/js/components/FormSummaryItem.vue","../../../src/js/components/ImpersonateToolbar.vue","../../../src/js/components/ListElement.vue","../../../src/js/components/ListSection.vue","../../../src/js/components/LogoutModal.vue","../../../src/js/components/MediaMetadata.vue","../../../src/js/components/NavigationGroup.vue","../../../src/js/components/PrintRequest.vue","../../../src/js/components/PropertyList.vue","../../../src/js/components/RecursiveDataViewer.vue","../../../src/js/components/RecursiveStuff.vue","../../../src/js/utils/notation.js","../../../src/js/components/stepper/StepperHeader.vue","../../../src/js/components/stepper/StepperContent.vue","../../../src/js/components/stepper/StepperSummary.vue","../../../src/js/components/stepper/StepperPreview.vue","../../../src/js/components/stepper/StepperFinalSummary.vue","../../../src/js/components/StepperForm.vue","../../../src/js/components/StepperFormOld.vue","../../../src/js/components/Success.vue","../../../src/js/components/SvgIcon.vue","../../../src/js/components/TabGroups.vue","../../../src/js/components/TabGroupsPrevious.vue","../../../src/js/components/labs/ActiveTableItem.vue","../../../../../../../../../png/cardtypes/chip.png","../../../src/js/components/inputs/CreditCard.vue","../../../src/js/components/inputs/CreditCardForm.vue","../../../src/js/components/inputs/PaymentService.vue","../../../src/js/components/Table.vue","../../../src/js/components/TableBinder.vue","../../../src/js/components/labs/RowFormat.vue","../../../src/js/components/Tabs.vue","../../../src/js/components/TabsPrevious.vue","../../../src/js/components/TextDisplay.vue","../../../src/js/components/Title.vue","../../../src/js/utils/sanitizeFilename.js","../../../src/js/components/Uploader.vue","../../../src/js/components/data_iterators/ExpandableIterator.vue","../../../src/js/components/data_iterators/RichCardIterator.vue","../../../src/js/components/data_iterators/RichRowIterator.vue","../../../src/js/components/layouts/Footer.vue","../../../src/js/components/layouts/Sidebar.vue","../../../src/js/components/layouts/Home.vue","../../../src/js/components/layouts/Main.vue","../../../src/js/components/others/ChatMessage.vue","../../../src/js/components/inputs/Chat.vue","../../../src/js/components/inputs/CheckboxCard.vue","../../../src/js/components/inputs/Checklist.vue","../../../src/js/components/inputs/ChecklistGroup.vue","../../../src/js/components/inputs/ComparisonTable.vue","../../../src/js/mixins/locale.js","../../../src/js/components/files/FileExtensions.js","../../../src/js/components/files/FileItem.vue","../../../src/js/components/inputs/File.vue","../../../src/js/components/inputs/Filepond.vue","../../../src/js/components/inputs/FormTabs.vue","../../../src/js/mixins/mediaLibrary/mediaLibrary.js","../../../src/js/mixins/mediaField.js","../../../src/js/utils/cropper.js","../../../src/js/components/inputs/Image.vue","../../../src/js/components/inputs/ImageOld.vue","../../../src/js/mixins/root.js","../../../src/js/mixins/modal.js","../../../src/js/components/inputs/Locale.vue","../../../src/js/utils/phone.js","../../../src/js/components/inputs/Phone.vue","../../../src/js/components/others/CurrencyNumber.vue","../../../src/js/components/inputs/Price.vue","../../../src/js/components/inputs/Process.vue","../../../src/js/components/inputs/RadioGroup.vue","../../../src/js/components/inputs/Repeater.vue","../../../src/js/components/inputs/SelectScroll.vue","../../../src/js/components/inputs/SelectTag.vue","../../../src/js/components/inputs/Spread.vue","../../../src/js/components/inputs/Tag.vue","../../../src/js/components/inputs/Tagger.vue","../../../src/js/store/modules/media-library.js","../../../src/js/store/modules/alert.js","../../../src/js/store/modules/user.js","../../../src/js/store/modules/language.js","../../../src/js/store/modules/browser.js","../../../src/js/store/modules/ambient.js","../../../src/js/store/index.js","../../../src/js/setup/init.js","../../../src/js/setup/setup.js","../../../src/js/core.js","../../../src/js/components/others/CustomFormBase.vue","../../../src/js/components/modals/Modal.vue","../../../src/js/store/api/media-library.js","../../../src/js/utils/scrollToY.js","../../../src/js/mixins/mediaLibrary/mediaItems.js","../../../src/js/components/modals/media-library/MediaGrid.vue","../../../src/js/components/modals/media-library/ItemList.vue","../../../src/js/components/modals/media-library/MediaSidebarUpload.vue","../../../src/js/components/modals/media-library/MediaSidebar.vue","../../../src/js/components/modals/ModalMedia.vue","../../../src/js/config/icons/mdi.js","../../../src/js/config/themes/unusualify.js","../../../src/js/plugins/vuetify.js","../../../src/js/plugins/broadcasting.js","../../../src/js/config/i18n.js","../../../src/js/utils/svg.js","../../../src/js/directives/svg.js","../../../src/js/directives/column.js","../../../src/js/directives/fit-grid.js","../../../src/js/directives/scrollable.js","../../../src/js/directives/transition.js","../../../src/js/utils/commonMethods.js","../../../src/js/plugins/UEConfig.js","../../../src/js/store/modules/form.js"],"sourcesContent":["/* DataTable mutations */\nexport const UPDATE_DATATABLE_DATA = 'updateDatableData'\nexport const UPDATE_DATATABLE_BULK = 'updateDatableBulk'\nexport const REPLACE_DATATABLE_BULK = 'replaceDatableBulk'\nexport const ADD_DATATABLE_COLUMN = 'addDatableColumn'\nexport const REMOVE_DATATABLE_COLUMN = 'removeDatableColumn'\nexport const UPDATE_DATATABLE_OFFSET = 'updateDatableOffset'\nexport const UPDATE_DATATABLE_PAGE = 'updateDatablePage'\nexport const UPDATE_DATATABLE_MAXPAGE = 'updateDatableMaxPage'\nexport const UPDATE_DATATABLE_NAV = 'updateDatableNavigation'\nexport const UPDATE_DATATABLE_VISIBLITY = 'updateDatableVisibility'\nexport const UPDATE_DATATABLE_SORT = 'updateDatableSort'\nexport const PUBLISH_DATATABLE = 'publishDatatable'\nexport const FEATURE_DATATABLE = 'featureDatatable'\nexport const UPDATE_DATATABLE_FILTER = 'updateDatableFilter'\nexport const UPDATE_DATATABLE_FILTER_STATUS = 'updateDatableFilterStatus'\nexport const CLEAR_DATATABLE_FILTER = 'clearDatableFilter'\nexport const UPDATE_DATATABLE_MESSAGE = 'updateDatableMessage'\nexport const UPDATE_DATATABLE_LOADING = 'updateDatableLoading'\nexport const UPDATE_DATATABLE_NESTED = 'updateDatatableNestedDatas'\nexport const UPDATE_DATATABLE_TRACKER = 'updateDatableTracker'\n\nexport const UPDATE_DATATABLE_OPTIONS = 'updateDatableOptions'\nexport const UPDATE_DATATABLE_SEARCH = 'updateDatableSearch'\nexport const UPDATE_DATATABLE_TOTAL = 'updateDatableTotal'\nexport const SET_DATATABLE_DIALOG = 'setDatableDialog'\nexport const UPDATE_DATATABLE_ADVANCED_FILTER = \"updateDatatableAdvancedFilter\"\nexport const RESET_DATATABLE_ADVANCED_FILTER = \"resetDatatableAdvancedFilter\"\n\n\nexport default {\n  UPDATE_DATATABLE_OPTIONS,\n  UPDATE_DATATABLE_SEARCH,\n  UPDATE_DATATABLE_TOTAL,\n  SET_DATATABLE_DIALOG,\n\n  UPDATE_DATATABLE_DATA,\n\n  UPDATE_DATATABLE_BULK,\n  REPLACE_DATATABLE_BULK,\n  ADD_DATATABLE_COLUMN,\n  REMOVE_DATATABLE_COLUMN,\n  UPDATE_DATATABLE_OFFSET,\n  UPDATE_DATATABLE_PAGE,\n  UPDATE_DATATABLE_MAXPAGE,\n  UPDATE_DATATABLE_NAV,\n  UPDATE_DATATABLE_VISIBLITY,\n  UPDATE_DATATABLE_SORT,\n  PUBLISH_DATATABLE,\n  FEATURE_DATATABLE,\n  UPDATE_DATATABLE_FILTER,\n  UPDATE_DATATABLE_FILTER_STATUS,\n  CLEAR_DATATABLE_FILTER,\n  UPDATE_DATATABLE_MESSAGE,\n  UPDATE_DATATABLE_LOADING,\n  UPDATE_DATATABLE_NESTED,\n  UPDATE_DATATABLE_TRACKER,\n  UPDATE_DATATABLE_ADVANCED_FILTER,\n  RESET_DATATABLE_ADVANCED_FILTER\n}\n","export const PREVENT_SUBMIT = 'preventSubmit'\nexport const ALLOW_SUBMIT = 'allowSubmit'\n\n/* form */\nexport const UPDATE_FORM_PERMALINK = 'updateFormPermalink'\nexport const UPDATE_FORM_FIELD = 'updateFormField'\nexport const REMOVE_FORM_FIELD = 'removeFormField'\nexport const ADD_FORM_BLOCK = 'addFormBlock'\nexport const DELETE_FORM_BLOCK = 'deleteFormBlock'\nexport const DUPLICATE_FORM_BLOCK = 'duplicateFormBlock'\nexport const DUPLICATE_BLOCK_FORM_FIELDS = 'duplicateBlockFormFields'\nexport const ADD_REPEATERS = 'duplicateBlockRepeaters'\nexport const REORDER_FORM_BLOCKS = 'reorderFormBlocks'\nexport const UPDATE_FORM_LOADING = 'updateFormLoading'\nexport const SET_FORM_ERRORS = 'setFormErrors'\nexport const SET_SERVER_VALID = 'setServerValid'\nexport const CLEAR_FORM_ERRORS = 'clearFormErrors'\nexport const UPDATE_FORM_SAVE_TYPE = 'updateFormSaveType'\nexport const REPLACE_FORM_FIELDS = 'replaceFormField'\nexport const ADD_FORM_FIELDS = 'addFormField'\nexport const EMPTY_FORM_FIELDS = 'emptyFormField'\n\nexport const SET_EDITED_ITEM = 'setEditedItem'\nexport const RESET_EDITED_ITEM = 'resetEditedItem'\n\n/* Modal forms */\nexport const EMPTY_MODAL_FIELDS = 'emptyModalField'\nexport const UPDATE_MODAL_FIELD = 'updateModalField'\nexport const REMOVE_MODAL_FIELD = 'removeModalField'\nexport const REPLACE_MODAL_FIELDS = 'replaceModalField'\n\n/* Tags */\nexport const SET_TAGGABLE_ITEMS = 'setTaggableItems'\nexport const ADD_TAGGABLE_ITEM = 'addTaggableItem'\n\nexport default {\n  SET_EDITED_ITEM,\n  RESET_EDITED_ITEM,\n  SET_SERVER_VALID,\n\n  PREVENT_SUBMIT,\n  ALLOW_SUBMIT,\n  UPDATE_FORM_PERMALINK,\n  UPDATE_FORM_FIELD,\n  REMOVE_FORM_FIELD,\n  ADD_FORM_BLOCK,\n  DELETE_FORM_BLOCK,\n  DUPLICATE_FORM_BLOCK,\n  DUPLICATE_BLOCK_FORM_FIELDS,\n  ADD_REPEATERS,\n  REORDER_FORM_BLOCKS,\n  UPDATE_FORM_LOADING,\n  SET_FORM_ERRORS,\n  CLEAR_FORM_ERRORS,\n  UPDATE_FORM_SAVE_TYPE,\n  REPLACE_FORM_FIELDS,\n  ADD_FORM_FIELDS,\n  EMPTY_FORM_FIELDS,\n  EMPTY_MODAL_FIELDS,\n  UPDATE_MODAL_FIELD,\n  REMOVE_MODAL_FIELD,\n  REPLACE_MODAL_FIELDS,\n  SET_TAGGABLE_ITEMS,\n  ADD_TAGGABLE_ITEM\n}\n","/* Alerts */\nexport const SET_ALERT = '__setAlert'\nexport const SET_ALERT_SHOW = '__setAlertShow'\nexport const CLEAR_ALERT = '__clearAlert'\nexport const SET_DIALOG = '__setDialog'\nexport const SET_DIALOG_SHOW = '__setDialogShow'\nexport const CLEAR_DIALOG = '__clearDialog'\n\nexport default {\n  SET_ALERT,\n  SET_ALERT_SHOW,\n  CLEAR_ALERT,\n  SET_DIALOG,\n  SET_DIALOG_SHOW,\n  CLEAR_DIALOG\n}\n","/* media-library */\nexport const UPDATE_MEDIA_TYPE_TOTAL = 'updateMediaTypeTotal'\nexport const INCREMENT_MEDIA_TYPE_TOTAL = 'incrementMediaTypeTotal'\nexport const DECREMENT_MEDIA_TYPE_TOTAL = 'decrementMediaTypeTotal'\nexport const SAVE_MEDIAS = 'saveSelectedMedias'\nexport const UPDATE_MEDIAS = 'updateMedias'\nexport const DESTROY_MEDIAS = 'destroySelectedMedias'\nexport const REORDER_MEDIAS = 'reorderSelectedMedias'\nexport const PROGRESS_UPLOAD = 'progressUpload'\nexport const PROGRESS_UPLOAD_MEDIA = 'progressUploadMedia'\nexport const DONE_UPLOAD_MEDIA = 'doneUploadMedia'\nexport const ERROR_UPLOAD_MEDIA = 'errorUploadMedia'\nexport const DESTROY_SPECIFIC_MEDIA = 'destroyMediasInSelected'\nexport const UPDATE_MEDIA_MAX = 'updateMediaMax'\nexport const UPDATE_MEDIA_FILESIZE_MAX = 'updateMediaFilesizeMax'\nexport const UPDATE_MEDIA_WIDTH_MIN = 'updateMediaWidthMin'\nexport const UPDATE_MEDIA_HEIGHT_MIN = 'updateMediaHeightMin'\nexport const UPDATE_MEDIA_TYPE = 'updateMediaType'\nexport const RESET_MEDIA_TYPE = 'resetMediaType'\nexport const SET_MEDIA_CROP = 'setMediaCrop'\nexport const SET_MEDIA_METADATAS = 'setMediaMetadatas'\nexport const UPDATE_MEDIA_CONNECTOR = 'updateMediaConnector'\nexport const UPDATE_MEDIA_MODE = 'updateMediaMode'\nexport const DESTROY_MEDIA_CONNECTOR = 'destroyMediaConnector'\nexport const UPDATE_REPLACE_INDEX = 'updateReplaceIndex'\nexport const ADD_MEDIAS = 'addMedias'\n\nexport const UPDATE_IS_INSERTED = 'updateIsInserted'\n\nexport default {\n  UPDATE_MEDIA_TYPE_TOTAL,\n  INCREMENT_MEDIA_TYPE_TOTAL,\n  DECREMENT_MEDIA_TYPE_TOTAL,\n  SAVE_MEDIAS,\n  DESTROY_MEDIAS,\n  REORDER_MEDIAS,\n  PROGRESS_UPLOAD,\n  PROGRESS_UPLOAD_MEDIA,\n  DONE_UPLOAD_MEDIA,\n  ERROR_UPLOAD_MEDIA,\n  DESTROY_SPECIFIC_MEDIA,\n  UPDATE_MEDIA_MAX,\n  UPDATE_MEDIA_FILESIZE_MAX,\n  UPDATE_MEDIA_WIDTH_MIN,\n  UPDATE_MEDIA_HEIGHT_MIN,\n  UPDATE_MEDIA_TYPE,\n  RESET_MEDIA_TYPE,\n  SET_MEDIA_CROP,\n  SET_MEDIA_METADATAS,\n  UPDATE_MEDIA_CONNECTOR,\n  UPDATE_MEDIA_MODE,\n  DESTROY_MEDIA_CONNECTOR,\n  UPDATE_REPLACE_INDEX,\n  UPDATE_MEDIAS,\n  ADD_MEDIAS,\n\n  UPDATE_IS_INSERTED\n}\n","export const SWITCH_LANG = 'switchLanguage'\nexport const UPDATE_LANG = 'updateLanguage'\nexport const PUBLISH_LANG = 'updatePublishedLanguage'\nexport const PUBLISH_SINGLE_LANG = 'publishLanguage'\nexport const REPLACE_LANGUAGES = 'replaceLanguages'\nexport const RESET_LANGUAGES = 'resetLanguages'\n\nexport default {\n  SWITCH_LANG,\n  UPDATE_LANG,\n  PUBLISH_LANG,\n  PUBLISH_SINGLE_LANG,\n  REPLACE_LANGUAGES,\n  RESET_LANGUAGES\n}\n","/* browser */\nexport const SAVE_ITEMS = 'saveSelectedItems'\nexport const DESTROY_ITEMS = 'destroyAllItems'\nexport const DESTROY_ITEM = 'destroySelectedItem'\nexport const REORDER_ITEMS = 'reorderSelectedItems'\nexport const UPDATE_BROWSER_MAX = 'updateBrowserMax'\nexport const UPDATE_BROWSER_TITLE = 'updateBrowserTitle'\nexport const UPDATE_BROWSER_NOTE = 'updateBrowserNote'\nexport const UPDATE_BROWSER_CONNECTOR = 'updateBrowserConnector'\nexport const DESTROY_BROWSER_CONNECTOR = 'destroyBrowserConnector'\nexport const UPDATE_BROWSER_ENDPOINT = 'updateBrowserEndpoint'\nexport const UPDATE_BROWSER_ENDPOINTS = 'updateBrowserEndpoints'\nexport const DESTROY_BROWSER_ENDPOINT = 'destroyBrowserEndpoint'\nexport const DESTROY_BROWSER_ENDPOINTS = 'destroyBrowserEndpoints'\nexport const ADD_BROWSERS = 'addBrowsers'\n\nexport default {\n  SAVE_ITEMS,\n  DESTROY_ITEMS,\n  DESTROY_ITEM,\n  REORDER_ITEMS,\n  UPDATE_BROWSER_MAX,\n  UPDATE_BROWSER_TITLE,\n  UPDATE_BROWSER_NOTE,\n  UPDATE_BROWSER_CONNECTOR,\n  DESTROY_BROWSER_CONNECTOR,\n  UPDATE_BROWSER_ENDPOINT,\n  DESTROY_BROWSER_ENDPOINT,\n  UPDATE_BROWSER_ENDPOINTS,\n  DESTROY_BROWSER_ENDPOINTS,\n  ADD_BROWSERS\n}\n","/* Config */\nexport const SIDEBAR_TOGGLE = '__sidebarToggle'\nexport const SET_SIDEBAR = '__setSidebar'\nexport const SET_REQUEST_IN_PROGRESS = '__setRequestInProgress'\nexport const INCREASE_AXIOS_REQUEST = '__increaseAxiosRequest'\nexport const DECREASE_AXIOS_REQUEST = '__decreaseAxiosRequest'\n\nexport default {\n  SIDEBAR_TOGGLE,\n  SET_SIDEBAR,\n  SET_REQUEST_IN_PROGRESS,\n  INCREASE_AXIOS_REQUEST,\n  DECREASE_AXIOS_REQUEST\n}\n","/* Config */\nexport const SET_PROFILE_DATA = '__setProfileData'\n\nexport default {\n  SET_PROFILE_DATA,\n}\n","<template>\n  <v-snackbar\n    v-model=\"show\"\n    :timeout=\"timeout\"\n    :color=\"type\"\n    :location=\"location\"\n    >\n    <template v-slot:actions>\n      <!-- <v-icon\n          :color=\"closeButtonColor\"\n          icon=\"$close\"\n          @click=\"show = false\"\n      /> -->\n      <v-btn\n        :color=\"closeButtonColor\"\n        variant=\"plain\"\n        density=\"compact\"\n        @click=\"show = false\"\n      >\n        <v-icon\n          :color=\"closeButtonColor\"\n          icon=\"$close\"\n        />\n      </v-btn>\n    </template>\n    <!-- {{ text }} -->\n    <div v-html=\"text\"/>\n  </v-snackbar>\n</template>\n\n<script>\n// import { AlertMixin } from '@/mixins'\nimport { ALERT } from '@/store/mutations/index'\nimport { mapState, mapGetters } from 'vuex'\n\nexport default {\n  // mixins: [AlertMixin],\n  data: () => ({\n    timeout: 3000\n  }),\n  computed: {\n    closeButtonColor () {\n      switch (this.type) {\n        case 'success':\n        case 'warning':\n        case 'info':\n        case 'error':\n          return 'white'\n        default:\n          return 'white'\n      }\n    },\n    text () {\n      return this.message || this.defaultMessage\n    },\n    defaultMessage () {\n      return this.$t('messages.' + this.type)\n    },\n    show: {\n      get () {\n        return this.$store.state.alert.show\n      },\n      set (val) {\n        this.$store.commit(ALERT.SET_ALERT_SHOW, val)\n      }\n    },\n    ...mapState({\n      type: state => state.alert.type,\n      message: state => state.alert.message,\n      location: state => state.alert.location\n    }),\n    ...mapGetters([\n    //   'defaultItem',\n    ])\n  },\n  methods: {\n    info (message = null, timeout = 3000) {\n      this.open('info', message, timeout)\n    },\n    success (message = null, timeout = 3000) {\n      this.open('success', message, timeout)\n    },\n    warning (message = null, timeout = 3000) {\n      this.open('warning', message, timeout)\n    },\n    error (message = null, timeout = 3000) {\n      this.open('error', message, timeout)\n    },\n    activate () {\n      this.show = true\n    },\n    deactivate () {\n      this.show = true\n    },\n    open (type = 'info', message = null, timeout = 3000) {\n      this.type = type\n      this.message = message ?? this.message\n      this.timeout = timeout\n      this.activate()\n    },\n    close () {\n      this.deactivate()\n      this.$nextTick(() => {\n        this.type = 'info'\n        this.message = null\n        this.timeout = 3000\n      })\n    }\n  }\n}\n</script>\n","<template>\n  <v-app>\n    <v-layout class=\"rounded rounded-md bg-tertiary h-100\">\n      <v-main class=\"d-flex align-center justify-center\" >\n        <v-row class=\"h-100 mw-100\">\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n            lg=\"6\"\n            class=\"py-12 d-flex flex-column align-center justify-center bg-white\">\n            <!-- <v-card class=\"mx-auto\"> -->\n              <v-row width=\"85%\" class=\"d-flex flex-column justify-center align-center\">\n                <!-- <h1 class=\"text-primary\">{{ title }}</h1> -->\n                <div class=\"bg-primary darken-3\">\n                  <!-- <span v-svg symbol=\"main-logo\"></span> -->\n                </div>\n                <slot name=\"cardTop\"></slot>\n\n                <v-sheet\n                  class=\"\"\n                  :width=\"width\">\n                    <slot v-bind=\"{}\"\n                      >\n                      <ue-form\n                        :model=\"model\"\n                        :schema=\"schema\"\n                        action-url=\"/login\"\n                        :async=\"true\"\n                        :hasSubmit=\"true\"\n                        buttonText=\"auth.login\"\n                        class=\"auth-form\"\n                        >\n                        <template #submit=\"{validForm, buttonDefaultText}\">\n                          <v-btn block dense type=\"submit\" :disabled=\"!validForm\">\n                            {{ buttonDefaultText.toUpperCase() }}\n                          </v-btn>\n                        </template>\n                      </ue-form>\n                    </slot>\n                </v-sheet>\n\n                  <div\n                    v-if=\"!noDivider\"\n                    class=\"d-flex w-100 align-center justify-center\">\n                    <v-divider />\n                    <div class=\"text-no-wrap px-3\">or</div>\n                    <v-divider />\n                  </div>\n\n                <slot name=\"bottom\" v-bind=\"{}\"></slot>\n              </v-row>\n\n            <!-- </v-card> -->\n          </v-col>\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n            lg=\"6\"\n            class=\"px-xs-12 py-xs-3 px-sm-12 py-sm-3 pa-12 pa-md-0 d-flex flex-column align-center justify-center col-right bg-primary\">\n            <div class=\"mw-420\">\n              <ue-svg-icon symbol=\"main-logo\" class=\"mx-0 \"></ue-svg-icon>\n\n              <h2 class=\"text-white mt-5 text-h4 custom-mb-8rem fs-2rem\">\n                {{ description }}\n              </h2>\n              <span class=\"text-white\">\n                <v-img :href=\"adImg\">\n\n                </v-img>\n                {{ ad }}\n              </span>\n              <v-btn\n                variant=\"outlined\"\n                class=\"text-white custom-right-auth-button my-5\"\n                density=\"default\"\n                >\n                {{ rightBtnText }}\n              </v-btn>\n            </div>\n          </v-col>\n        </v-row>\n\n      </v-main>\n    </v-layout>\n    <ue-alert ref='alert'></ue-alert>\n  </v-app>\n</template>\n<script>\nimport { computed } from 'vue'\nimport { useDisplay } from 'vuetify'\n\nexport default {\n  props: {\n    slots: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    title: {\n      type: String,\n    },\n    description: {\n      type: String,\n      default: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'\n    },\n    ad: {\n      type: String,\n      default: '3k+ people joined us, now it’s your turn'\n    },\n    adImg: {\n      type: String,\n      default: '',\n    },\n    rightBtnText: {\n      type: String,\n      default: 'CONTINUE WITHOUT LOGIN'\n    },\n    noDivider: {\n      type: [Boolean, Number],\n      default: false\n    }\n  },\n  data: () => ({\n    schema: {\n      email: {\n        type: 'text',\n        label: 'E-mail',\n        col: {\n          cols: 12\n        },\n        variant: 'outlined',\n        rules: [['email']]\n      },\n      password: {\n        type: 'password',\n        label: 'Password',\n        col: {\n          cols: 12\n        },\n        variant: 'outlined',\n        rules: []\n      }\n    },\n    model: {\n      email: '',\n      password: ''\n    }\n\n  }),\n  setup (props) {\n    const { name } = useDisplay()\n\n    const width = computed(() => {\n      // name is reactive and\n      // must use .value\n      switch (name.value) {\n        case 'xs': return 300\n        case 'xl': return 600\n        case 'xxl': return 600\n        default: return 400\n      }\n    })\n\n    const title = computed(() => {\n      // Use the title prop if it's provided\n      if (props.title) {\n        return props.title\n      }\n    })\n\n    const description = computed(() => {\n      // Use the description prop if it's provided\n      if (props.description) {\n        return props.description\n      }\n    })\n\n    const ad = computed(() => {\n      // Use the ad prop if it's provided\n      if (props.ad) {\n        return props.ad\n      }\n    })\n\n    const rightBtnText = computed(() => {\n      // Use the ad rightBtnText if it's provided\n      if (props.rightBtnText) {\n        return props.rightBtnText\n      }\n    })\n    // Fix for showDivider logic\n\n    // console.log(showSuccess.value)\n    return {\n      width,\n      title,\n      description,\n      ad,\n      rightBtnText\n    }\n  },\n  methods: {\n\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@media screen and (min-width: 960px) {\n\n  .mw-420 {\n    max-width: 420px;\n  }\n}\n\n.custom-mb-8rem{\n  margin-bottom: 8.25rem !important;\n}\n.text-h4{\n  &.fs-2rem{\n    font-size: 2rem !important;\n  }\n}\n\n\n.custom-auth-button {\n  width: 100%;\n  min-width: 100% !important;\n  position: relative !important;\n  display: flex !important;\n  background: transparent !important;\n  --v-theme-overlay-multiplier: var(--v-hover-opacity);\n\n  &:hover{\n    background: transparent !important;\n  }\n\n  .v-btn__prepend {\n    position: absolute !important;\n    left: 16px !important;\n    margin-right: 0 !important;\n\n  }\n    svg {\n      width: 16px;\n      height: 16px;\n    }\n}\n\n\n.mx-0 {\n  svg {\n    margin: {\n      right: 0 !important;\n      left: 0 !important;\n    }\n  }\n}\n\n.custom-right-auth-button {\n  &.text-white {\n    color: #fff !important;\n  }\n}\n\n.col-right {\n  span.text-white {\n    display: block;\n  }\n  .icon--main-logo{\n    svg{\n      max-width: 180px;\n    }\n  }\n}\n.justify-content-start{\n  justify-content: flex-start;\n}\n.mw-100{\n  max-width: 100%;\n}\n\n</style>\n","<template>\n  <!-- TODO: V2: This component and it's incoming config can be changed and can be made with RecursiveStuff -->\n  <v-card :color=\"container.color\" density=\"comfortable\" :elevation=\"container.elevation\" :class=\"container.class\">\n   <!-- {{ console.log('here2') }} -->\n\n    <v-card-title style=\"font-weight: bolder\" class=\"py-4\"> {{ $t(\"AT A GLANCE\") }}</v-card-title>\n\n    <v-card-item class=\"pt-0 pb-4\">\n      <v-row class=\"\" densex>\n        <v-col\n        v-for=\"(card, i) in cards\"\n        :key=\"i\"\n        :cols=\"card.flex\"\n        class=\"\"\n        >\n\n          <v-card\n            :variant=\"cardAttribute.variant\"\n\n            :border=\"cardAttribute.border\"\n            :class=\"cardAttribute.class\"\n            :style=\"{\n              'border-radius': cardAttribute.borderRadius,\n              'border-color': `${cardAttribute.borderColor} !important`,\n            }\">\n\n            <div class=\"d-flex\">\n\n              <div class=\"d-flex flex-column justify-center align-center pr-3\">\n                <div class=\"glance-icon-container\"\n                  :style=\"`background-color: ${card.iconBackground};`\">\n                  <v-icon\n                    :icon=\"card.icon\"\n                    :color=\"card.iconColor\"\n                    :size=\"card.iconSize\"\n                  >\n                  </v-icon>\n                </div>\n              </div>\n\n              <div class=\"d-flex flex-column\">\n                <v-card-item\n                  align=\"left\"\n                  :class=\"cardAttribute.infoClass\"\n                  :style=\"{\n                    'line-height': cardAttribute.infoLineHeight,\n                    'font-weight': cardAttribute.infoFontWeight,\n                    'color':  card.infoColor,\n                  }\"\n                >\n                  {{ card.data.items }}\n                </v-card-item>\n                <v-card-title\n                  align=\"center\"\n                  :class=\"cardAttribute.titleClass\"\n                  :style=\"\n                  {\n                    'color' : cardAttribute.titleColor,\n                    'line-height': cardAttribute.infoLineHeight\n                  }\"\n                >\n                  {{ $t(card.title) }}\n                </v-card-title>\n\n              </div>\n\n            </div>\n\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-card-item>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props:{\n    cards: {\n      type: Array,\n      default: [\n      {\n        title: 'Active Webinar',\n        data: '12',\n        flex: 6,\n      },\n      {\n        title: 'Speaker Moderators',\n        data: '3',\n        flex: 6,\n      },\n      {\n        title: 'Company',\n        data: '5',\n        flex: 6,\n      },\n      {\n        title: 'Published Webinars',\n        data: '7',\n        flex: 6,\n      },\n      ],\n    },\n    container:{\n      type: Object,\n      default:{\n        color : '#F8F8FF',\n        elevation : 10,\n        class : 'px-6 py-5'\n      }\n    },\n    cardAttribute: {\n      type: Object,\n      default: {\n        variant : 'outlined',\n        borderRadius : 14,\n        class: 'px-5',\n        border : 'sm',\n        titleClass : 'pt-3 pb-3 text-subtitle-2',\n        titleColor : 'grey',\n        infoClass : 'text-h4 pa-0',\n        infoColor : '#000000',\n        infoLineHeight: '1',\n        infoFontWeight: '700',\n\n      }\n    }\n  },\n  data: () => ({\n\n  }),\n}\n</script>\n\n\n<style lang=\"scss\">\n.glance-icon-container{\n  width: 56px;\n  height: 56px;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  border-radius: 50%;\n}\n</style>\n","<template>\n    <v-btn\n        v-bind=\"$bindAttributes()\"\n        @click=\"click\"\n      >\n        <slot>\n            Button\n        </slot>\n    </v-btn>\n</template>\n\n<script>\n\nexport default {\n  name: 'ue-btn',\n  props: {\n    revealed: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  // render(h) {\n  //     const { revealed, ...innerProps } = this.$options.propsData;\n\n  //     return h('div', {\n  //         // For some reason this isn't effective\n  //         listeners: this.$listeners,\n\n  //         props: {\n  //             ...innerProps,\n  //             // type: revealed ? 'text' : 'password'\n  //         }\n  //     })\n  // },\n\n  data () {\n    return {\n\n    }\n  },\n  methods: {\n    clickSound () {\n      const snd = new Audio(\n        'data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU='\n      )\n      snd.play()\n    },\n    click (e) {\n      this.disabled = true\n      setTimeout(() => {\n        this.disabled = false\n      }, 5000)\n      // this.clickSound();\n      this.$emit('click', e)\n    }\n  }\n\n}\n</script>\n","<template>\n  <div :class=\"['ue-collapsible', {'ue-collapsible--bordered': bordered, 'ue-collapsible--elevated': elevated, 'ue-collapsible--dense': dense}]\">\n    <div\n      v-if=\"title || $slots.title\"\n      :class=\"[\n        'ue-collapsible__header',\n        isOpen ? 'ue-collapsible__header--active' : '',\n        `px-${horizontalPadding} py-${verticalPadding}`,\n        !noHeaderBackground ? 'ue-collapsible__header--background' : ''\n      ]\"\n      @click=\"toggle\"\n    >\n      <div class=\"ue-collapsible__title\">\n        <slot name=\"title\">{{ title }}</slot>\n      </div>\n      <v-icon\n        v-if=\"!noCollapse\"\n        :icon=\"isOpen ? 'mdi-chevron-up' : 'mdi-chevron-down'\"\n        size=\"small\"\n        class=\"ue-collapsible__icon\"\n      />\n    </div>\n\n    <transition\n      name=\"expand\"\n      @enter=\"enter\"\n      @after-enter=\"afterEnter\"\n      @leave=\"leave\"\n    >\n      <div v-if=\"isOpen\" class=\"ue-collapsible__content\">\n        <div :class=\"['ue-collapsible__content-inner', `px-${horizontalPadding} py-${verticalPadding}`]\">\n          <slot></slot>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { VExpandTransition } from 'vuetify/components'\n\nexport default {\n  name: 'ue-collapsible',\n  components: {\n    VExpandTransition\n  },\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    bordered: {\n      type: Boolean,\n      default: false\n    },\n    elevated: {\n      type: Boolean,\n      default: false\n    },\n    horizontalPadding: {\n      type: Number,\n      default: 4\n    },\n    verticalPadding: {\n      type: Number,\n      default: 3\n    },\n    color: {\n      type: String,\n      default: 'primary'\n    },\n    dense: {\n      type: Boolean,\n      default: false\n    },\n    noHeaderBackground: {\n      type: Boolean,\n      default: false\n    },\n    noCollapse: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      isOpen: this.noCollapse || this.modelValue\n    }\n  },\n  watch: {\n    modelValue(val) {\n      if (this.noCollapse) {\n        this.isOpen = true;\n      } else {\n        this.isOpen = val;\n      }\n    }\n  },\n  methods: {\n    toggle() {\n      if (this.noCollapse) {\n        return;\n      }\n\n      this.isOpen = !this.isOpen;\n      this.$emit('update:modelValue', this.isOpen);\n      this.$emit(this.isOpen ? 'open' : 'close');\n    },\n    enter(element) {\n      const width = getComputedStyle(element).width;\n      element.style.width = width;\n      element.style.position = 'absolute';\n      element.style.visibility = 'hidden';\n      element.style.height = 'auto';\n\n      const height = getComputedStyle(element).height;\n      element.style.width = null;\n      element.style.position = null;\n      element.style.visibility = null;\n      element.style.height = 0;\n\n      // Force repaint\n      getComputedStyle(element).height;\n\n      requestAnimationFrame(() => {\n        element.style.height = height;\n      });\n    },\n    afterEnter(element) {\n      element.style.height = 'auto';\n    },\n    leave(element) {\n      const height = getComputedStyle(element).height;\n      element.style.height = height;\n\n      // Force repaint\n      getComputedStyle(element).height;\n\n      requestAnimationFrame(() => {\n        element.style.height = 0;\n      });\n    }\n  },\n  created() {\n    console.log(this.isOpen)\n  },\n  mounted() {\n    // Ensure the initial state is correct\n    if (this.isOpen && this.$el) {\n      const content = this.$el.querySelector('.ue-collapsible__content');\n      if (content) {\n        content.style.height = 'auto';\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .ue-collapsible {\n    margin-bottom: 8px;\n    position: relative;\n\n    &--bordered {\n      border: 1px solid rgba(0, 0, 0, 0.12);\n      border-radius: 4px;\n      overflow: hidden;\n    }\n\n    &--elevated {\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      border-radius: 4px;\n      overflow: hidden;\n    }\n\n    &__header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      cursor: pointer;\n      // background-color: rgba(0, 0, 0, 0.03);\n      transition: background-color 0.2s ease;\n\n      &--background {\n        background-color: rgba(0, 0, 0, 0.03);\n      }\n\n      &:hover {\n        opacity: 0.9;\n        // background-color: rgba(0, 0, 0, 0.06);\n      }\n\n      &--active {\n        font-weight: 500;\n      }\n    }\n\n    &__title {\n      flex: 1;\n    }\n\n    &__icon {\n      margin-left: 8px;\n    }\n\n    &__content {\n      overflow: hidden;\n      transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      height: 0;\n    }\n\n    &__content-inner {\n      padding: 0;\n    }\n  }\n\n  // Dense variant\n  // .ue-collapsible--dense {\n  //   .ue-collapsible__header {\n  //     padding: 8px 12px;\n  //   }\n\n  //   .ue-collapsible__content-inner {\n  //     padding: 0;\n  //   }\n  // }\n\n  .expand-enter-active,\n  .expand-leave-active {\n    transition: height 0.3s ease;\n    overflow: hidden;\n  }\n\n  .expand-enter-from,\n  .expand-leave-to {\n    height: 0;\n  }\n</style>\n","<template>\n  <v-card class=\"ue-configurable-card\" :class=\"[$bindAttributes().class, cardClass]\">\n    <!-- <template v-if=\"title\" v-slot:title>\n      <span class=\"font-weight-bold text-primary text-body-1\">{{ title }}</span>\n    </template> -->\n    <ue-title v-if=\"title\" :text=\"title\" padding=\"x-4\" class=\"pt-4\"/>\n    <div no-gutters class=\"ue-configurable-card__row\">\n      <div\n        v-for=\"( segment,  segmentIndex) in itemsWithActions\"\n        :key=\"segmentIndex\"\n        :class=\"[\n          'ue-configurable-card__col',\n          !hideSeparator ? 'ue-configurable-card__col--seperator' : '',\n          justifyCenterColumns ? 'ue-configurable-card__col--justify-center' : '',\n          alignCenterColumns ? 'ue-configurable-card__col--align-center' : '',\n          $isset(columnStyles[segmentIndex]) ? `ue-configurable-card__col--unset-flex-basis` : '',\n          columnClasses[segmentIndex] ?? ''\n        ]\"\n        :style=\"columnStyles[segmentIndex] ?? ''\"\n      >\n        <slot :name=\"`segment.${segmentIndex === '_actions' ? 'actions' : (parseInt(segmentIndex) + 1)}`\"\n          v-bind=\"{\n            data: segment,\n            actions: actions,\n            actionProps: {actionIconMinHeight, actionIconSize}\n          }\">\n          <template v-if=\"actions.length && segmentIndex === '_actions'\">\n            <!-- <v-divider class=\"my-2\"></v-divider> -->\n            <div class=\"d-flex fill-height flex-wrap justify-space-evenly align-center\">\n              <v-btn\n                v-for=\"(action, index) in actions\"\n                :key=\"index\"\n                class=\"mx-1 rounded\"\n                :min-width=\"actionIconMinHeight\"\n                :min-height=\"actionIconMinHeight\"\n                :size=\"actionIconSize\"\n                v-bind=\"action\"\n              />\n            </div>\n          </template>\n          <template v-else-if=\"isObject(segment)\">\n            <div class=\"d-flex fill-height\">\n              <ue-property-list :data=\"segment\" class=\"\" noPadding/>\n            </div>\n          </template>\n          <template v-else-if=\"isArray( segment)\">\n            <div class=\"d-flex fill-height\">\n              <ue-property-list :data=\"segment.map(item => [item])\" class=\"\" noPadding/>\n            </div>\n            <!-- <v-list dense class=\"\">\n              <v-list-item v-for=\"(item, itemIndex) in segment\" :key=\"itemIndex\">\n                {{ item }}\n              </v-list-item>\n            </v-list> -->\n          </template>\n          <template v-else>\n            <div class=\"d-flex fill-height\">\n              <ue-dynamic-component-renderer :subject=\"segment\"/>\n            </div>\n          </template>\n        </slot>\n      </div>\n    </div>\n\n    <!-- <v-card-actions v-if=\"actions && actions.length\">\n      <v-spacer></v-spacer>\n      <v-btn v-for=\"(action, index) in actions\" :key=\"index\" :icon=\"action.icon\" :color=\"action.color\">\n        <v-icon>{{ action.icon }}</v-icon>\n      </v-btn>\n    </v-card-actions> -->\n  </v-card>\n</template>\n\n<script>\n  export default {\n    name: 'ue-configurable-card',\n    props: {\n      title: {\n        type: String,\n        default: ''\n      },\n      items: {\n        type: [Object, Array],\n        required: true\n      },\n      actions: {\n        type: Array,\n        default: () => []\n      },\n      hideSeparator: {\n        type: Boolean,\n        default: false\n      },\n      maxSegments: {\n        type: Number,\n        default: null,\n        validator: (value) => value === null || (value > 0 && value <= 12)\n      },\n      actionIconSize: {\n        type: String,\n        default: 'medium'\n      },\n      actionIconMinWidth: {\n        type: Number,\n        default: 44\n      },\n      actionIconMinHeight: {\n        type: Number,\n        default: 44\n      },\n      alignCenterColumns: {\n        type: Boolean,\n        default: false\n      },\n      justifyCenterColumns: {\n        type: Boolean,\n        default: false\n      },\n      columnStyles: {\n        type: Object,\n        default: () => ({}),\n        // Example format: { 0: 'flex-basis: 50%', 1: 'flex-basis: 25%', 2: 'flex-basis: 25%' } or { 0: 'flex-grow: 2', 1: 'flex-grow: 1' }\n      },\n      columnClasses: {\n        type: Object,\n        default: () => ({}),\n        // Example format: { 0: 'd-flex', '_actions': 'd-flex' }\n      }\n    },\n    computed: {\n      cardClass() {\n        return `ue-configurable-card--${this.effectiveSegmentCount}-columns`;\n      },\n      itemsWithActions() {\n        // const lastKey = Object.keys(this.items).pop();\n        const result = { ...this.items };\n        if (this.actions.length) {\n          result['_actions'] = this.actions;\n          // __log(result)\n        }\n        return result;\n      },\n      effectiveSegmentCount() {\n        const itemCount = this.isArray(this.itemsWithActions)\n          ? this.itemsWithActions.length\n          : Object.keys(this.itemsWithActions).length;\n\n        if (this.maxSegments === null) {\n          return itemCount;\n        }\n        return Math.min(this.maxSegments, itemCount);\n      }\n    },\n    methods: {\n      isObject(value) {\n        return __isObject(value);\n      },\n      isArray(value) {\n        return __isArray(value);\n      },\n    }\n  }\n</script>\n\n<style scoped lang=\"sass\">\n  .ue-configurable-card\n    &__row\n      display: flex\n      flex-wrap: wrap\n      // padding-bottom: calc(12 * $spacer / 2)\n\n      .ue-configurable-card__col\n        &--justify-center:not(:first-child)\n            > *:first-child\n              justify-content: center\n\n    .ue-configurable-card__col\n      // flex: 1\n      min-width: 0\n      padding: 0 calc($spacer * 4)\n      margin: calc($spacer * 4) 0\n      &--seperator\n        border-right: 1px solid rgba(0, 0, 0, 0.12)\n      &--align-center\n        > *:first-child\n          align-items: center\n\n      &:last-child\n        border-right: none\n\n    // Custom styles for different column counts\n    @for $i from 1 through 12\n      &--#{$i}-columns\n        .ue-configurable-card__col:not([class*=\"ue-configurable-card__col--unset-flex-basis\"])\n          flex-basis: calc(100% / #{$i})\n          max-width: calc(100% / #{$i})\n\n    @media (max-width: 600px)\n      &__row\n        flex-direction: column\n\n      &__col\n        flex-basis: 100% !important\n        max-width: 100% !important\n        padding: calc( 12 * $spacer/ 2) 0\n        &--seperator\n          border-right: none\n          border-bottom: 1px solid rgba(0, 0, 0, 0.12)\n\n        &:last-child\n          border-bottom: none\n</style>\n","<template>\n  <div class=\"d-inline-block\">\n    <v-tooltip\n      :model-value=\"showTooltip\"\n      text=\"Copied!\"\n      location=\"top\"\n      :open-on-hover=\"false\"\n      :open-on-focus=\"false\"\n    >\n      <template v-slot:activator=\"{ props }\">\n        <v-icon\n          v-bind=\"{\n            ...props,\n            'onClick': handleCopy\n          }\"\n          :icon=\"icon\"\n          :color=\"color\"\n          :size=\"size\"\n          :class=\"{ 'cursor-pointer': true }\"\n        />\n      </template>\n    </v-tooltip>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'CopyText',\n  props: {\n    text: {\n      type: [String, Number],\n      required: true\n    },\n    icon: {\n      type: String,\n      default: 'mdi-content-copy'\n    },\n    color: {\n      type: String,\n      default: 'primary'\n    },\n    size: {\n      type: String,\n      default: 'small'\n    }\n  },\n  data() {\n    return {\n      showTooltip: false\n    }\n  },\n  methods: {\n    handleCopy() {\n      this.$copy(this.text);\n      this.showTooltip = true;\n\n      setTimeout(() => {\n        this.showTooltip = false;\n      }, 2000);\n    }\n  }\n}\n</script>\n","<template>\n  <v-row>\n    <!-- <v-col v-for=\"(block,i) in blocks\" :key=\"`block-${i}`\"\n      v-bind=\"$bindAttributes(block.col)\"\n      v-fit-grid\n      >\n        <component\n          :is=\"`ue-${block.component}`\"\n          v-bind=\"block.attributes\"\n         ></component>\n    </v-col> -->\n    <ue-recursive-stuff\n      v-for=\"(block, i) in blocks\"\n      :key=\"`tag-0-${i}`\"\n      :configuration=\"block\"\n    />\n  </v-row>\n</template>\n\n<script>\nexport default {\n  props: {\n    blocks: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  components: {\n\n  },\n  setup (props, context) {\n    return;\n  },\n  data () {\n    return {\n\n    }\n  },\n  created () {\n\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","<template>\n  <div>\n    <v-menu v-model=\"menu\" :close-on-content-click=\"false\" location=\"bottom\">\n      <template #activator=\"{ props }\">\n        <v-btn color=\"primary\" v-bind=\"props\">\n          {{ buttonText }}\n        </v-btn>\n      </template>\n\n      <v-card min-width=\"300\">\n        <v-card-text>\n          <ue-form\n            ref=\"form\"\n            :schema=\"schema\"\n            has-submit\n            v-model=\"localFilterState\"\n            @submit=\"submitFilter\"\n          >\n            <template v-slot:submit>\n              <v-btn\n                color=\"primary\"\n                class=\"mt-4 mr-2\"\n                type=\"button\"\n                :loading=\"loading\"\n                @click=\"submitFilter\"\n              >\n                Apply Filters\n              </v-btn>\n              <v-btn\n                color=\"secondary\"\n                class=\"mt-4 ml-2\"\n                type=\"button\"\n                :loading=\"loading\"\n                @click=\"handleClear\"\n              >\n                Clear Filters\n              </v-btn>\n\n            </template>\n          </ue-form>\n        </v-card-text>\n      </v-card>\n    </v-menu>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, watch } from 'vue';\n\nexport default {\n  name: 'UEDropdownFilter',\n  props: {\n    buttonText: {\n      type: String,\n      default: 'Filter'\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    page: {\n      type: Number,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    tags: {\n      type: Array,\n      default: () => []\n    },\n    filterState: {\n      type: Object,\n      required: true\n    },\n    filterModel: {\n      type: Object,\n      required: true\n    },\n    schema: {\n      type: Object || Array,\n      required: true\n    }\n  },\n  emits: ['update:filterState', 'submit', 'clear'],\n  setup(props, { emit }) {\n    const localFilterState = ref({ ...props.filterState });\n    const menu = ref(false);\n\n    watch(() => props.filterState, (newValue) => {\n      localFilterState.value = { ...newValue };\n    });\n\n    const submitFilter = () => {\n      console.log(localFilterState)\n      emit('update:filterState', { ...localFilterState.value });\n      emit('submit');\n      menu.value = false;\n    };\n\n    const handleClear = () => {\n      emit('clear');\n      menu.value = false;\n    };\n\n    return {\n      localFilterState,\n      menu,\n      submitFilter,\n      handleClear\n    };\n  }\n}\n</script>\n","<template>\n  <component\n    v-if=\"isVueComponent\"\n    :is=\"parsedComponent.name\"\n    v-bind=\"parsedComponent.props\"\n  >\n    {{ parsedComponent.content }}\n  </component>\n  <template v-else>{{ subject }}</template>\n</template>\n\n<script>\nexport default {\n  name: 'ue-dynamic-component-renderer',\n  props: {\n    subject: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      parsedComponent: null,\n      isVueComponent: false\n    }\n  },\n  mounted() {\n    this.parseSubject()\n  },\n  methods: {\n    parseSubject() {\n      if ( (this.subject.startsWith('<v-') || this.subject.startsWith('<ue-') ) && this.subject.endsWith('>')) {\n        this.isVueComponent = true\n        this.parsedComponent = this.parseComponentString(this.subject)\n      } else {\n        this.isVueComponent = false\n      }\n    },\n    parseComponentString(str) {\n      const parser = new DOMParser()\n      const doc = parser.parseFromString(str, 'text/html')\n      const el = doc.body.firstChild\n\n      const name = el.tagName.toLowerCase()\n      let props = {}\n      const content = el.textContent\n\n      for (let i = 0; i < el.attributes.length; i++) {\n        const attr = el.attributes[i]\n        props[attr.name] = attr.value\n      }\n\n      props = { ...props, ...this.$bindAttributes() }\n\n      return { name, props, content }\n    }\n  },\n  watch: {\n    subject() {\n      this.parseSubject()\n    }\n  }\n}\n</script>\n","<template>\n  <div :class=\"[\n    'd-flex ga-2',\n    showInlineFileName || showFileName ? 'flex-wrap' : ''\n  ]\">\n    <div\n      v-for=\"(item, index) in normalizedSource\"\n      :key=\"item.uuid\"\n      class=\"file-preview-item\"\n      :style=\"{ width: showInlineFileName || showFileName ? '100%' : 'aut' }\"\n    >\n      <v-hover v-slot=\"{ isHovering, props }\">\n        <v-card\n          v-bind=\"props\"\n          class=\"rounded position-relative d-flex bg-transparent\"\n          :width=\"showInlineFileName || showFileName ? '100%' : `${imageSize}`\"\n          :height=\"imageSize\"\n          :elevation=\"isHovering ? 4 : 0\"\n          @click=\"previewFile(index)\"\n        >\n          <!-- Left side: Icon/Image -->\n          <div :style=\"{ width: `${imageSize}px`, height: `${imageSize}px` }\" class=\"position-relative flex-grow-0\">\n            <v-img\n              v-if=\"thumbnailUrls[index]\"\n              :src=\"thumbnailUrls[index]\"\n              height=\"100%\"\n              width=\"100%\"\n              cover\n            >\n              <template v-slot:placeholder>\n                <v-icon\n                  :color=\"getFileIconColor(item.file_name)\"\n                  size=\"32\"\n                >\n                  {{ getFileIcon(item.file_name) }}\n                </v-icon>\n              </template>\n            </v-img>\n\n            <v-card-text v-else class=\"pa-0 d-flex justify-center align-center\" style=\"height: 100%\">\n              <v-icon\n                :color=\"getFileIconColor(item.file_name)\"\n                size=\"32\"\n              >\n                {{ getFileIcon(item.file_name) }}\n              </v-icon>\n            </v-card-text>\n          </div>\n\n          <!-- Right side: Filename (only if showInlineFileName is true) -->\n          <div\n            v-if=\"showInlineFileName || showFileName\"\n            class=\"d-flex align-center px-4\"\n          >\n            <span class=\"text-body-2 text-truncate\">{{ shortenFileName(item.file_name) }}</span>\n          </div>\n\n          <div v-if=\"showDate\" class=\"ml-auto mr-1\">\n            <span class=\"text-caption text-truncate\">{{ $d(new Date(item.created_at), 'numeric-full') }}</span>\n          </div>\n\n          <!-- Right side: Filename (only if showInlineFileName is true) -->\n          <!-- <div\n            v-if=\"noOverlay\"\n            class=\"d-flex align-center px-4\"\n          >\n            <v-btn\n              icon=\"mdi-download\"\n              size=\"x-small\"\n              variant=\"text\"\n              @click.stop=\"downloadFile(item.uuid)\"\n              :loading=\"downloadingStates[index]\"\n            ></v-btn>\n            <v-btn\n              icon=\"mdi-eye\"\n              size=\"x-small\"\n              variant=\"text\"\n              @click.stop=\"previewFile(index)\"\n              :loading=\"downloadingStates[index]\"\n            ></v-btn>\n          </div> -->\n\n          <div\n            v-if=\"isHovering && !noOverlay\"\n            class=\"overlay-content d-flex align-center justify-center\"\n          >\n            <v-btn\n              icon=\"mdi-download\"\n              size=\"x-small\"\n              color=\"white\"\n              variant=\"text\"\n              @click.stop=\"downloadFile(item.uuid)\"\n              :loading=\"downloadingStates[index]\"\n            ></v-btn>\n            <v-btn\n              icon=\"mdi-eye\"\n              size=\"x-small\"\n              color=\"white\"\n              variant=\"text\"\n              @click.stop=\"previewFile(index)\"\n              :loading=\"downloadingStates[index]\"\n            ></v-btn>\n          </div>\n        </v-card>\n      </v-hover>\n\n      <!-- Preview Dialog -->\n      <v-dialog\n        v-model=\"previewDialogs[index]\"\n        fullscreen\n        hide-overlay\n        transition=\"dialog-bottom-transition\"\n      >\n        <v-card>\n          <v-toolbar dark color=\"primary\">\n            <v-btn icon dark @click=\"previewDialogs[index] = false\">\n              <v-icon color=\"white\" icon=\"$close\"></v-icon>\n            </v-btn>\n            <v-toolbar-title>{{ item.file_name }}</v-toolbar-title>\n            <v-spacer></v-spacer>\n          </v-toolbar>\n\n          <v-card-text class=\"pa-0\">\n            <div class=\"d-flex justify-center align-center\" style=\"height: calc(100vh - 64px)\">\n              <v-progress-circular\n                v-if=\"loadingStates[index]\"\n                indeterminate\n                color=\"primary\"\n              ></v-progress-circular>\n\n              <v-img\n                v-if=\"!loadingStates[index] && isImageArray[index]\"\n                :src=\"fileUrls[index]\"\n                contain\n                max-height=\"90vh\"\n              ></v-img>\n\n              <iframe\n                v-else-if=\"!loadingStates[index] && fileUrls[index]\"\n                :src=\"fileUrls[index]\"\n                width=\"100%\"\n                height=\"100%\"\n                frameborder=\"0\"\n              ></iframe>\n            </div>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        fileUrls: [],\n        thumbnailUrls: [],\n        isImageArray: [],\n        loadingStates: [],\n        downloadingStates: [],\n        previewDialogs: [],\n      };\n    },\n    props: {\n      source: {\n        type: [Object, Array],\n        required: true,\n      },\n      imageSize: {\n        type: Number,\n        default: 64\n      },\n      showFileName: {\n        type: Boolean,\n        default: false\n      },\n      showInlineFileName: {\n        type: Boolean,\n        default: false\n      },\n      maxFileNameLength: {\n        type: Number,\n        default: 10\n      },\n      noOverlay: {\n        type: Boolean,\n        default: false\n      },\n      showDate: {\n        type: Boolean,\n        default: false\n      }\n    },\n    computed: {\n      normalizedSource() {\n        return Array.isArray(this.source) ? this.source : [this.source];\n      },\n    },\n    methods: {\n      processSource() {\n        const length = this.normalizedSource.length;\n        this.loadingStates = new Array(length).fill(false);\n        this.downloadingStates = new Array(length).fill(false);\n        this.previewDialogs = new Array(length).fill(false);\n        this.fileUrls = new Array(length).fill(null);\n        this.thumbnailUrls = new Array(length).fill(null);\n        this.isImageArray = new Array(length).fill(false);\n\n        // Generate thumbnails for images\n        this.normalizedSource.forEach((item, index) => {\n          if (this.isImageFile(item.file_name)) {\n            this.generateThumbnail(item.uuid, index);\n          }\n        });\n      },\n      isImageFile(fileName) {\n        const ext = fileName.split('.').pop().toLowerCase();\n        return ['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext);\n      },\n      async generateThumbnail(uuid, index) {\n        try {\n          const response = await fetch(`/api/filepond/preview/${uuid}`);\n          if (!response.ok) throw new Error('Failed to fetch thumbnail');\n\n          const blob = await response.blob();\n          if (blob.type.startsWith('image/')) {\n            this.thumbnailUrls[index] = URL.createObjectURL(blob);\n          }\n        } catch (error) {\n          console.error('Error generating thumbnail:', error);\n        }\n      },\n      getFileIcon(fileName) {\n        const ext = fileName.split('.').pop().toLowerCase();\n        switch (ext) {\n          case 'pdf':\n            return 'mdi-file-pdf-box';\n          case 'doc':\n          case 'docx':\n            return 'mdi-file-word';\n          case 'xls':\n          case 'xlsx':\n            return 'mdi-file-excel';\n          case 'jpg':\n          case 'jpeg':\n          case 'png':\n          case 'gif':\n            return 'mdi-file-image';\n          default:\n            return 'mdi-file-document-outline';\n        }\n      },\n      getFileIconColor(fileName) {\n        const ext = fileName.split('.').pop().toLowerCase();\n        switch (ext) {\n          case 'pdf':\n            return 'red';\n          case 'doc':\n          case 'docx':\n            return 'blue';\n          case 'xls':\n          case 'xlsx':\n            return 'green';\n          case 'jpg':\n          case 'jpeg':\n          case 'png':\n          case 'gif':\n            return 'purple';\n          default:\n            return 'grey';\n        }\n      },\n      async previewFile(index) {\n        this.previewDialogs[index] = true;\n        if (!this.fileUrls[index]) {\n          this.loadingStates[index] = true;\n          await this.fetchFile(this.normalizedSource[index].uuid, index);\n        }\n      },\n      async downloadFile(uuid) {\n        const index = this.normalizedSource.findIndex(item => item.uuid === uuid);\n        this.downloadingStates[index] = true;\n\n        try {\n          const response = await fetch(`/api/filepond/preview/${uuid}`);\n          if (!response.ok) throw new Error('Download failed');\n\n          const blob = await response.blob();\n          const url = window.URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = url;\n          a.download = this.normalizedSource[index].file_name;\n          document.body.appendChild(a);\n          a.click();\n          window.URL.revokeObjectURL(url);\n          a.remove();\n        } catch (error) {\n          console.error('Error downloading file:', error);\n        } finally {\n          this.downloadingStates[index] = false;\n        }\n      },\n      async fetchFile(uuid, index) {\n        try {\n          const response = await fetch(`/api/filepond/preview/${uuid}`);\n          if (!response.ok) throw new Error('Network response was not ok');\n\n          const blob = await response.blob();\n          this.isImageArray[index] = blob.type.startsWith('image/');\n          this.fileUrls[index] = URL.createObjectURL(blob);\n        } catch (error) {\n          console.error('Error fetching file:', error);\n        } finally {\n          this.loadingStates[index] = false;\n        }\n      },\n      shortenFileName(fileName) {\n        if (fileName.length <= this.maxFileNameLength) {\n          return fileName;\n        }\n\n        const extension = fileName.split('.').pop();\n        const nameWithoutExt = fileName.slice(0, fileName.lastIndexOf('.'));\n\n        // Keep the extension and add ellipsis\n        return `${nameWithoutExt.slice(0, this.maxFileNameLength)}...${extension}`;\n      },\n    },\n    mounted() {\n      this.processSource();\n    },\n  };\n</script>\n\n<style scoped>\n  .file-preview-item {\n    cursor: pointer;\n  }\n  .overlay-content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.3);\n    transition: all 0.3s ease;\n    z-index: 1;\n  }\n</style>\n","export default function (formNode) {\n  // We are not using FormaData because this can be used for get requests (where you need to send direct params)\n\n  let formRef = null\n\n  /**\n   * Defaults\n   */\n\n  const includeEmptyValuedElements = false\n\n  // Currently matching only '[]'.\n  let keyRegex = /[^\\[\\]]+|\\[\\]/g // eslint-disable-line\n  let $form = null\n  let $formElements = []\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check to see if the object is a HTML node.\n   *\n   * @param {object} node\n   * @returns {boolean}\n   */\n  function isDomElementNode (node) {\n    return !!(node &&\n      typeof node === 'object' &&\n      'nodeType' in node &&\n      node.nodeType === 1)\n  }\n\n  /**\n   * Check for last numeric key.\n   *\n   * @param o object\n   * @return mixed (string|undefined)\n   */\n  function checkForLastNumericKey (o) {\n    if (!o || typeof o !== 'object') {\n      return undefined\n    }\n\n    return Object.keys(o).filter(function (elem) {\n      return !isNaN(parseInt(elem, 10))\n    }).splice(-1)[0]\n  }\n\n  /**\n   * Get last numeric key from an object.\n   * @param o object\n   * @return int\n   */\n  function getLastIntegerKey (o) {\n    const lastKeyIndex = checkForLastNumericKey(o)\n    if (typeof lastKeyIndex === 'string') {\n      return parseInt(lastKeyIndex, 10)\n    } else {\n      return 0\n    }\n  }\n\n  /**\n   * Get the next numeric key (like the index from a PHP array)\n   * @param o object\n   * @return int\n   */\n  function getNextIntegerKey (o) {\n    const lastKeyIndex = checkForLastNumericKey(o)\n    if (typeof lastKeyIndex === 'string') {\n      return parseInt(lastKeyIndex, 10) + 1\n    } else {\n      return 0\n    }\n  }\n\n  /**\n   * Get the real number of properties from an object.\n   *\n   * @param {object} o\n   * @returns {number}\n   */\n  function getObjLength (o) {\n    if (typeof o !== 'object' || o === null) {\n      return 0\n    }\n\n    let l = 0\n    let k\n\n    if (typeof Object.keys === 'function') {\n      l = Object.keys(o).length\n    } else {\n      for (k in o) {\n        if (o.hasOwnProperty(k)) {\n          l++\n        }\n      }\n    }\n\n    return l\n  }\n\n  // Iteration through arrays.\n  // Compatible with IE.\n  function forEach (arr, callback) {\n    if ([].forEach) {\n      return [].forEach.call(arr, callback)\n    }\n\n    let i\n    for (i = 0; i < arr.length; i++) {\n      callback.call(arr, arr[i], i)\n    }\n  }\n\n  // Constructor\n  function init (formNode) {\n    // Assign the current form reference.\n    if (!formNode) return false\n\n    formRef = formNode\n\n    if (!setForm()) {\n      return false\n    }\n\n    if (!setFormElements()) {\n      return false\n    }\n\n    return convertToObj()\n  }\n\n  // Set the main form object we are working on.\n  function setForm () {\n    switch (typeof formRef) {\n      case 'string':\n        $form = document.getElementById(formRef)\n        break\n\n      case 'object':\n        if (isDomElementNode(formRef)) {\n          $form = formRef\n        }\n        break\n    }\n\n    return $form\n  }\n\n  function isUploadForm () {\n    return (!!($form.enctype && $form.enctype === 'multipart/form-data'))\n  }\n\n  // Set the elements we need to parse.\n  function setFormElements () {\n    $formElements = $form.querySelectorAll('input, textarea, select')\n    return $formElements.length\n  }\n\n  function isRadio ($domNode) {\n    return $domNode.nodeName === 'INPUT' && $domNode.type === 'radio'\n  }\n\n  function isCheckbox ($domNode) {\n    return $domNode.nodeName === 'INPUT' && $domNode.type === 'checkbox'\n  }\n\n  function isFileField ($domNode) {\n    return $domNode.nodeName === 'INPUT' && $domNode.type === 'file'\n  }\n\n  function isTextarea ($domNode) {\n    return $domNode.nodeName === 'TEXTAREA'\n  }\n\n  function isSelectSimple ($domNode) {\n    return $domNode.nodeName === 'SELECT' && $domNode.type === 'select-one'\n  }\n\n  function isSelectMultiple ($domNode) {\n    return $domNode.nodeName === 'SELECT' && $domNode.type === 'select-multiple'\n  }\n\n  function isSubmitButton ($domNode) {\n    return $domNode.nodeName === 'BUTTON' && $domNode.type === 'submit'\n  }\n\n  function isChecked ($domNode) {\n    return $domNode.checked\n  }\n\n  // function isMultiple($domNode){\n  //  return ($domNode.multiple ? true : false);\n  // }\n\n  function isFileList ($domNode) {\n    return (window.FileList && $domNode.files instanceof window.FileList)\n  }\n\n  function getNodeValues ($domNode) {\n    // We're only interested in the radio that is checked.\n    if (isRadio($domNode)) {\n      return isChecked($domNode) ? $domNode.value : false\n    }\n\n    // We're only interested in the checkbox that is checked.\n    if (isCheckbox($domNode)) {\n      return isChecked($domNode) ? $domNode.value : false\n    }\n\n    // File inputs are a special case.\n    // We have to grab the .files property of the input, which is a FileList.\n    if (isFileField($domNode)) {\n      // Ignore input file fields if the form is not encoded properly.\n      if (isUploadForm()) {\n        // HTML5 compatible browser.\n        if (isFileList($domNode) && $domNode.files.length > 0) {\n          return $domNode.files\n        } else {\n          return ($domNode.value && $domNode.value !== '' ? $domNode.value : false)\n        }\n      } else {\n        return false\n      }\n    }\n\n    // We're only interested in textarea fields that have values.\n    if (isTextarea($domNode)) {\n      return ($domNode.value && $domNode.value !== '' ? $domNode.value : false)\n    }\n\n    if (isSelectSimple($domNode)) {\n      if ($domNode.value && $domNode.value !== '') {\n        return $domNode.value\n      } else if ($domNode.options && $domNode.options.length && $domNode.options[0].value !== '') {\n        return $domNode.options[0].value\n      } else {\n        return false\n      }\n    }\n\n    // We're only interested in multiple selects that have at least one option selected.\n    if (isSelectMultiple($domNode)) {\n      if ($domNode.options && $domNode.options.length > 0) {\n        const values = []\n        forEach($domNode.options, function ($option) {\n          if ($option.selected) {\n            values.push($option.value)\n          }\n        })\n\n        if (includeEmptyValuedElements) {\n          return values\n        } else {\n          return (values.length ? values : false)\n        }\n      } else {\n        return false\n      }\n    }\n\n    // We're only interested if the button is type=\"submit\"\n    if (isSubmitButton($domNode)) {\n      if ($domNode.value && $domNode.value !== '') {\n        return $domNode.value\n      }\n\n      if ($domNode.innerText && $domNode.innerText !== '') {\n        return $domNode.innerText\n      }\n\n      return false\n    }\n\n    // Fallback or other non special fields.\n    if (typeof $domNode.value !== 'undefined') {\n      if (includeEmptyValuedElements) {\n        return $domNode.value\n      } else {\n        return ($domNode.value !== '' ? $domNode.value : false)\n      }\n    } else {\n      return false\n    }\n  }\n\n  function processSingleLevelNode ($domNode, arr, domNodeValue, result) {\n    // Get the last remaining key.\n    const key = arr[0]\n\n    // We're only interested in the radio that is checked.\n    if (isRadio($domNode)) {\n      if (domNodeValue !== false) {\n        result[key] = domNodeValue\n        return domNodeValue\n      } else {\n        return\n      }\n    }\n\n    // Checkboxes are a special case.\n    // We have to grab each checked values\n    // and put them into an array.\n    if (isCheckbox($domNode)) {\n      if (domNodeValue !== false) {\n        if (!result[key]) {\n          result[key] = []\n        }\n\n        return result[key].push(domNodeValue)\n      } else {\n        return\n      }\n    }\n\n    // Multiple select is a special case.\n    // We have to grab each selected option and put them into an array.\n    if (isSelectMultiple($domNode)) {\n      if (domNodeValue !== false) {\n        result[key] = domNodeValue\n      } else {\n        return\n      }\n    }\n\n    // Fallback or other cases that don't\n    // need special treatment of the value.\n    result[key] = domNodeValue\n\n    return domNodeValue\n  }\n\n  function processMultiLevelNode ($domNode, arr, value, result) {\n    const keyName = arr[0]\n\n    if (arr.length > 1) {\n      if (keyName === '[]') {\n        // result.push({});\n        result[getNextIntegerKey(result)] = {}\n        return processMultiLevelNode(\n          $domNode,\n          arr.splice(1, arr.length),\n          value,\n          result[getLastIntegerKey(result)]\n        )\n      } else {\n        if (result[keyName] && getObjLength(result[keyName]) > 0) {\n          // result[keyName].push(null);\n          return processMultiLevelNode(\n            $domNode,\n            arr.splice(1, arr.length),\n            value,\n            result[keyName]\n          )\n        } else {\n          result[keyName] = {}\n        }\n\n        return processMultiLevelNode($domNode, arr.splice(1, arr.length), value, result[keyName])\n      }\n    }\n\n    // Last key, attach the original value.\n    if (arr.length === 1) {\n      if (keyName === '[]') {\n        // result.push(value);\n        result[getNextIntegerKey(result)] = value\n        return result\n      } else {\n        processSingleLevelNode($domNode, arr, value, result)\n\n        //  result[keyName] = value;\n        return result\n      }\n    }\n  }\n\n  function convertToObj () {\n    let i = 0\n    let objKeyNames\n    let $domNode\n    let domNodeValue\n    const result = {}\n\n    for (i = 0; i < $formElements.length; i++) {\n      $domNode = $formElements[i]\n\n      // Skip the element if the 'name' attribute is empty.\n      // Skip the 'disabled' elements.\n      // Skip the non selected radio elements.\n      if (\n        !$domNode.name ||\n        $domNode.name === '' ||\n        $domNode.disabled ||\n        (isRadio($domNode) && !isChecked($domNode))\n      ) {\n        continue\n      }\n\n      // Get the final processed domNode value.\n      domNodeValue = getNodeValues($domNode)\n\n      // Exclude empty valued nodes if the settings allow it.\n      if (domNodeValue === false && !includeEmptyValuedElements) {\n        continue\n      }\n\n      // Extract all possible keys\n      // Eg. name=\"firstName\", name=\"settings[a][b]\", name=\"settings[0][a]\"\n      objKeyNames = $domNode.name.match(keyRegex)\n\n      if (objKeyNames.length === 1) {\n        processSingleLevelNode(\n          $domNode,\n          objKeyNames,\n          (domNodeValue || ''),\n          result\n        )\n      }\n\n      if (objKeyNames.length > 1) {\n        processMultiLevelNode(\n          $domNode,\n          objKeyNames,\n          (domNodeValue || ''),\n          result\n        )\n      }\n    }\n\n    // Check the length of the result.\n    const resultLength = getObjLength(result)\n\n    return resultLength > 0 ? result : false\n  }\n\n  return init(formNode)\n}\n","<template>\n  <div>\n    <form class=\"filter\" :class=\"{ 'filter--opened' : opened, 'filter--single' : !withNavigation, 'filter--withHiddenFilters' : withHiddenFilters }\" @submit.prevent=\"submitFilter\" ref=\"form\">\n      <div class=\"filter__inner\">\n        <div class=\"filter__navigation\"><slot name=\"navigation\"></slot></div>\n\n        <div class=\"filter__search\">\n\n            <!-- <input type=\"search\" class=\"form__input form__input--small\" name=\"search\" :value=\"searchValue\" :placeholder=\"placeholder\" @input=\"onSearchInput\" /> -->\n            <v-text-field\n                type=\"search\"\n                class=\"form__input form__input--small v-filter__search__input\"\n                name=\"search\"\n                :modelValue=\"filterState.search\"\n                @update:modelValue=\"updateSearch\"\n                :placeholder=\"placeholder\"\n                variant=\"outlined\"\n                hide-details=\"true\"\n                />\n            <ue-btn\n                class=\"filter__toggle\"\n                variant=\"outlined\"\n                @click=\"toggleFilter\"\n                v-if=\"withHiddenFilters\"\n                :aria-expanded=\"opened ?  'true' : 'false'\"\n\n                fab\n                >\n                {{ $trans('filter.toggle-label', 'Filter') }}\n                <span class=\"float-right\" v-svg symbol=\"dropdown_module\"></span>\n            </ue-btn>\n          <slot name=\"additional-actions\"></slot>\n          <!-- Fix for Safari: the hidden submit button enables form submission by pressing Enter... -->\n          <!-- <ue-btn class=\"visually-hidden\" variant=\"outlined\" aria-hidden=\"true\" type=\"submit\">{{ $trans('filter.apply-btn', 'Apply') }}</ue-btn> -->\n        </div>\n      </div>\n      <transition :css='false' :duration=\"275\" @before-enter=\"beforeEnter\" @enter=\"enter\" @before-leave=\"beforeLeave\" @leave=\"leave\">\n        <div class=\"filter__more\" v-show=\"opened\" v-if=\"withHiddenFilters\" :aria-hidden=\"!opened ? true : null\" ref=\"more\">\n          <div class=\"filter__moreInner\" ref=\"moreInner\">\n            <slot name=\"hidden-filters\"></slot>\n            <ue-btn variant=\"outlined\" type=\"submit\">{{ $trans('filter.apply-btn', 'Apply') }}</ue-btn>\n            <ue-btn v-if=\"clearOption\" variant=\"elavated\" type=\"button\" @click=\"clear\">{{ $trans('filter.clear-btn', 'Clear') }}</ue-btn>\n          </div>\n        </div>\n      </transition>\n    </form>\n    <slot></slot>\n\n  </div>\n  </template>\n\n<script>\nimport { getCurrentInstance } from 'vue'\nimport debounce from 'lodash-es/debounce'\nimport FormDataAsObj from '@/utils/formDataAsObj.js'\n\nexport default {\n  name: 'UEFilter',\n  props: {\n    initialSearchValue: {\n      type: String,\n      default: ''\n    },\n    placeholder: {\n      type: String,\n      default () {\n        return getCurrentInstance().appContext.config.globalProperties.$trans('filter.search-placeholder', 'Search')\n      }\n    },\n    closed: {\n      type: Boolean,\n      default: false\n    },\n    clearOption: {\n      type: Boolean,\n      default: false\n    },\n    filterState: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['update:filterState', 'submit', 'clear'],\n  data: function () {\n    return {\n      openable: !this.closed,\n      open: false,\n      withHiddenFilters: true,\n      withNavigation: true,\n      searchValue: this.initialSearchValue,\n      transitionTimeout: null\n    }\n  },\n  computed: {\n    opened: function () {\n      return this.open && this.openable\n    }\n  },\n  watch: {\n    closed: function () {\n      this.openable = !this.closed\n    },\n    initialSearchValue: function () {\n      this.searchValue = this.initialSearchValue\n    }\n  },\n  methods: {\n    getHeight: function () {\n      // Retrieve height from more inner container\n      return this.$refs.moreInner.clientHeight\n    },\n    beforeEnter: function (el) {\n      el.style.height = '0px'\n      el.style.overflow = 'hidden'\n    },\n    enter: function (el, done) {\n      // Reset height.\n      this.resetHeight()\n\n      // Delete timeout if exists.\n      if (this.transitionTimeout) {\n        clearTimeout(this.transitionTimeout)\n      }\n\n      // Set timeout.\n      this.transitionTimeout = setTimeout(() => {\n        el.style.overflow = 'visible'\n      }, 275)\n\n      // Add resize event.\n      window.addEventListener('resize', this._resize, false)\n    },\n    beforeLeave: function (el) {\n      // Delete timeout if exists.\n      if (this.transitionTimeout) {\n        clearTimeout(this.transitionTimeout)\n      }\n\n      // Reset height.\n      this.resetHeight()\n\n      // Hide content.\n      el.style.overflow = 'hidden'\n\n      // Remove resize event.\n      window.removeEventListener('resize', this._resize)\n    },\n    leave: function (el, done) {\n      el.style.height = '0px'\n    },\n    toggleFilter: function () {\n      this.openable = true\n      this.open = !this.open\n    },\n    submitFilter: function () {\n      const formData = FormDataAsObj(this.$refs.form)\n      this.$emit('submit', formData)\n    },\n    onSearchInput: function (val) {\n      this.searchValue = val\n    },\n    clear: function () {\n      this.searchValue = ''\n      this.$emit('clear')\n    },\n    resetHeight: function () {\n      // Return if ref is not set.\n      if (!this.$refs.more) return\n\n      // Set height to the container.\n      this.$refs.more.style.height = this.getHeight() + 'px'\n    },\n    _resize: debounce(function () {\n      this.resetHeight()\n    }, 50),\n    updateSearch(value) {\n      this.$emit('update:filterState', { ...this.filterState, search: value });\n    },\n  },\n  beforeMount: function () {\n    if (!this.$slots.navigation) this.withNavigation = false\n    if (!this.$slots['hidden-filters']) this.withHiddenFilters = false\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .filter__inner {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .filter__search, .filter__navigation {\n    padding:20px 0;\n    white-space: nowrap;\n  }\n  .filter__search {\n    display:flex;\n    align-items: center;\n    .v-filter__search__input {\n      display:inline-block;\n      width:20vw;\n      max-width:300px;\n    }\n\n    .icon {\n      position:relative;\n      top:-2px;\n      margin-left:9px;\n    }\n\n    div {\n      display:inline-block;\n\n      button, a {\n        vertical-align: middle;\n      }\n\n      input, button, a {\n        margin-left:15px;\n      }\n    }\n  }\n\n  /* variant when filter has hidden filters on small screens */\n  @include breakpoint(xsmall) {\n    .filter--withHiddenFilters {\n      .filter__inner {\n        display:block;\n      }\n\n      .filter__search {\n        display:flex;\n\n        input {\n          flex-grow:1;\n        }\n      }\n    }\n  }\n\n  .filter__more {\n    transition: height 0.275s ease;\n    overflow: hidden;\n  }\n\n  .filter__moreInner {\n    padding: 20px 0 0 0;\n    border-top:1px solid $color__border;\n\n    button {\n      margin-right: 10px;\n      margin-bottom: 20px;\n    }\n  }\n\n  @include breakpoint('small+') {\n    .filter__moreInner {\n      display: flex;\n      flex-flow: row wrap;\n    }\n  }\n\n  .filter__toggle {\n    position: relative;\n    padding-right:  20px + 20px !important;\n    margin-left: 15px !important;\n\n    .icon {\n      transition: all .2s linear;\n      transform: rotate(0deg);\n      position: absolute;\n      right: 20px;\n      top: 50%;\n      margin-top: -3px;\n    }\n  }\n\n  /* Opened filters */\n  .filter--opened {\n    .filter__toggle .icon {\n      transform: rotate(180deg);\n    }\n  }\n\n  .filter__navigation {\n      padding: 20px 0;\n\n  }\n\n  .filter--single {\n    .filter__navigation {\n      display: none;\n    }\n  }\n</style>\n\n<style lang=\"scss\">\n\n  .filter {\n    .filter__moreInner {\n      .input {\n        margin-top: 0;\n        margin-bottom: 20px;\n      }\n    }\n\n    @include breakpoint('small+') {\n      .filter__moreInner {\n        .input {\n          margin-top: 0;\n          margin-right: 20px;\n        }\n\n        > div {\n          display: flex;\n          flex-flow: row wrap;\n        }\n\n        > div > * {\n          margin-right: 20px;\n        }\n      }\n    }\n  }\n</style>\n","// hooks/formatter .js\n\n// import { ref, watch, computed, nextTick } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport _ from 'lodash-es'\nimport { ref, reactive, toRefs, h } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/propsFactory.mjs'\n\nexport const makeFormatterProps = propsFactory({\n  ignoreFormatters: {\n    type: [Array],\n    default: []\n  }\n})\n// by convention, composable function names start with \"use\"\nexport default function useFormatter (props, context, headers) {\n  // state encapsulated and managed by the composable\n  const { d } = useI18n({ useScope: 'global' })\n\n  const formatterColumns = ref(headers.filter((h) =>\n    Object.prototype.hasOwnProperty.call(h, 'formatter') &&\n    h.formatter.length > 0 &&\n    (!Object.prototype.hasOwnProperty.call(props, 'ignoreFormatters') || !props.ignoreFormatters.includes(h.formatter[0]))\n  ))\n\n  const methods = reactive({\n    dateFormatter: function (value, datetimeFormat = 'long') {\n\n      return {\n        configuration: methods.makeText(d(new Date(value), datetimeFormat))\n      }\n    },\n    chipFormatter: function (value, color = '') {\n      return {\n        configuration: methods.makeChip(value, color)\n      }\n    },\n    editFormatter: function (value) {\n      return {\n        configuration : {\n          elements: `${value}`,\n          tag: 'span',\n          attributes : {\n            onClick: 'editItem'\n          }\n\n        }\n      }\n      return `<span @click=\"editItem\">\n        ${value}\n      </span>`\n    },\n    pascalFormatter: function (value) {\n      return _.startCase(_.camelCase(value)).replace(/ /g, '')\n    },\n    priceFormatter:(value, unit = '₺', taxContent= null) => {\n      return {\n        configuration:{\n          elements : [{\n            tag:'p',\n            attributes:{\n              class: 'featured',\n            },\n            elements: `${unit}${value}`\n          },\n          {\n            tag:'p',\n            attributes:{\n              class: 'value'\n            },\n            elements: `${taxContent ? `+${taxContent}` : ''}`\n          },\n        ]\n        }\n      }\n    },\n    statusFormatter:(value, placeHolders = null, colors = null) => {\n      return {\n        configuration : {\n          tag: 'p',\n          attributes : {\n            style: {\n              color: colors?.[value] ?? 'red'\n            },\n          },\n          elements: placeHolders?.[value] ?? value\n        }\n\n      }\n    },\n    makeChip: function (value, color = '') {\n      return {\n        tag: 'v-chip',\n        attributes: {\n          color\n        },\n        elements: value\n      }\n    },\n    makeText: function (value) {\n      return {\n        elements: value\n      }\n    },\n    shortenFormatter: function (value, max = 10) {\n      return {\n        configuration: {\n          elements: window.__shorten(value, max)\n        }\n      }\n    }\n  })\n\n  function handleFormatter (formatter, value) {\n    let args = _.cloneDeep(formatter)\n    const name = args.shift()\n    // const pascalCase = methods.(name)\n    const func = `${name}Formatter`\n    try {\n      return methods[func](value, ..._(args))\n    } catch (error) {\n      console.error(`${error}: ${func}`);\n    }\n\n  }\n\n  // expose managed state as return value\n  return {\n    formatterColumns,\n    handleFormatter,\n    ...toRefs(methods)\n    // formatterDate\n  }\n}\n","// hooks/formatter .js\n\nimport { reactive, toRefs, computed, ref, inject } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nimport { omit } from 'lodash-es'\n\nexport const makeInputProps = propsFactory({\n  modelValue: null,\n  obj: {\n    type: Object,\n    default () {\n      return {}\n    }\n  },\n  label: {\n    type: String,\n    default: ''\n  }\n})\nexport const makeInputEmits = ['update:modelValue', 'change', 'update:preview']\nexport const makeInputInjects = ['manualValidation', 'tester']\n\n// by convention, composable function names start with \"use\"\nexport default function useInput (props, context) {\n  const { modelValue, obj } = toRefs(props)\n  const VInput = ref(null)\n\n  const states = reactive({\n    VInput,\n    id: Math.ceil(Math.random() * 1000000) + '-input',\n    boundProps: omit(obj.value.schema ?? {}, ['offset', 'order', 'col']),\n\n    input: computed({\n      get: () => {\n        let _val = modelValue.value ?? props?.default ?? props?.obj?.schema?.default ?? []\n\n        return context.initializeInput ? context.initializeInput(_val) : _val\n      },\n      set: (val, old) => {\n        context.updateModelValue\n          ? context.updateModelValue(val, old)\n          : methods.emitModelValue(val, old)\n      }\n    }),\n  })\n\n  const methods = reactive({\n    async validate() {\n      if(this.$refs.VInput){\n        const result = await this.$refs.VInput.validate()\n      }\n    },\n    updateModelValue: function (val, old) {\n      context.emit('update:modelValue', val, old)\n    },\n    emitModelValue: function (val, old) {\n      context.emit('update:modelValue', val, old)\n    },\n    makeReference (key) {\n      return `${key}-${states.id}`\n    },\n    getReference (key) {\n      return methods.makeReference(key)\n    }\n  })\n\n  // expose managed state as return value\n  return {\n    // ...toRefs(_props),\n    ...toRefs(methods),\n    ...toRefs(states)\n  }\n}\n","// hooks/formatter .js\n\nimport _ from 'lodash-es'\nimport { reactive, toRefs } from 'vue'\n\n// by convention, composable function names start with \"use\"\nexport default function useInputHandlers () {\n  // state encapsulated and managed by the composable\n  // const { d } = useI18n({ useScope: 'global' })\n\n  // const formatterColumns = ref(headers.filter((h) =>\n  //   h.hasOwnProperty('formatter') && h.formatter.length > 0\n  // ))\n\n  const methods = reactive({\n    passwordHandler: function (obj, slotName) {\n      obj.schema[`${slotName}Icon`] = obj.schema.type === 'password' ? '$visibility' : '$non-visibility'\n      obj.schema.type = obj.schema.type === 'password' ? 'text' : 'password'\n    }\n  })\n\n  function invokeInputClickHandler (obj, slotName) {\n    const camelSlotName = _.camelCase(slotName)\n\n    if (Object.prototype.hasOwnProperty.call(obj.schema, 'slotHandlers') &&\n      Object.prototype.hasOwnProperty.call(obj.schema.slotHandlers, camelSlotName)) {\n      const name = _.camelCase(obj.schema.slotHandlers[camelSlotName])\n      const func = `${name}Handler`\n      // __log(obj.schema.slotHandlers, name, func, camelSlotName)\n      return methods[func](obj, camelSlotName)\n    }\n  }\n\n  // expose managed state as return value\n  return {\n    invokeInputClickHandler,\n    ...toRefs(methods)\n  }\n}\n","const inBrowser = typeof window !== 'undefined'\n\nexport const supportsPushState = inBrowser && (function () {\n  const ua = window.navigator.userAgent\n\n  if (\n    (ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\n    ua.indexOf('Mobile Safari') !== -1 &&\n    ua.indexOf('Chrome') === -1 &&\n    ua.indexOf('Windows Phone') === -1\n  ) {\n    return false\n  }\n\n  return window.history && 'pushState' in window.history\n})()\n\n// use User Timing api (if present) for more accurate key precision\nconst Time = inBrowser && window.performance && window.performance.now\n  ? window.performance\n  : Date\n\nlet _key = genKey()\n\nfunction genKey () {\n  return Time.now().toFixed(3)\n}\n\nexport function getStateKey () {\n  return _key\n}\n\nexport function setStateKey (key) {\n  _key = key\n}\n\nexport function pushState (url, replace) {\n  // try...catch the pushState call to get around Safari\n  // DOM Exception 18 where it limits to 100 pushState calls\n  const history = window.history\n  try {\n    if (replace) {\n      history.replaceState({ key: _key }, '', url)\n    } else {\n      _key = genKey()\n      history.pushState({ key: _key }, '', url)\n    }\n  } catch (e) {\n    window.location[replace ? 'replace' : 'assign'](url)\n  }\n}\n\nexport function replaceState (url) {\n  pushState(url, true)\n}\n\nexport function getURLWithoutQuery () {\n  return location.protocol + '//' + location.host + location.pathname\n}\n\nexport function getParameters (url = window.location) {\n\n\t// Create a params object\n\tlet params = {};\n\n\tnew URL(url).searchParams.forEach(function (val, key) {\n\t\tif (params[key] !== undefined) {\n\t\t\tif (!Array.isArray(params[key])) {\n\t\t\t\tparams[key] = [params[key]];\n\t\t\t}\n\t\t\tparams[key].push(val);\n\t\t} else {\n\t\t\tparams[key] = val;\n\t\t}\n\t});\n\n\treturn params;\n}\n\nexport function serializeParameters(params, prefix) {\n  const query = Object.keys(params).map((key) => {\n    const value  = params[key];\n\n    if (params.constructor === Array)\n      key = `${prefix}[]`;\n    else if (params.constructor === Object)\n      key = (prefix ? `${prefix}[${key}]` : key);\n\n    if (typeof value === 'object')\n      return serializeParameters(value, key);\n    else\n      return `${key}=${encodeURIComponent(value)}`;\n  });\n\n  return [].concat.apply([], query).join('&');\n}\n\nexport function addParametersToUrl(url, params, prefix) {\n  let string = ''\n  if(__isString(params)){\n    string = params\n  }else{\n    string = serializeParameters(params, prefix)\n  }\n\n  if(string.length > 0)\n      string = '?' + string\n\n  return url + string\n}\n\n","export function globalError (component = null, error = { message: '', value: null }) {\n  let prefix = ''\n\n  if (component && typeof component === 'string') {\n    prefix = `${import.meta.env.VUE_APP_NAME} - [${component}]: `\n  }\n\n  const errorMessage = prefix + error.message\n\n  const statusCode = error?.value?.response?.status ?? error?.response?.status ?? null\n\n  console.error(errorMessage)\n\n  if (error?.value && error.value?.response && error.value.response?.data) {\n    console.error(error.value.response.data)\n  }\n\n  // Error 401 = session expired / not authenticated\n  // Error 419 = CSRF token mismatched\n  if (statusCode === 401 || statusCode === 419) {\n    // window.vm.config.globalProperties.$notif({\n    //   message: 'Your session has expired, please <a href=\"' + document.location + '\" target=\"_blank\">login in another tab</a>. You can then continue working here.',\n    //   variant: 'warning'\n    // })\n    window.vm.config.globalProperties.$dialog({\n      message: 'Your session has expired, please <a class=\"v-btn v-btn--slim text-primary v-btn--density-default v-btn--size-default mr-12\" href=\"'\n        + document.location\n        + '\" target=\"_blank\">login in another tab</a>',\n    })\n  } else {\n    window.vm.config.globalProperties.$notif({\n      message: error.message,\n      variant: 'error'\n    })\n  }\n}\n\nexport function globalError_ (component = null, error = { message: '', value: null }) {\n  let prefix = ''\n\n  if (component && typeof component === 'string') {\n    prefix = `${import.meta.env.VUE_APP_NAME} - [${component}]: `\n  }\n\n  const errorMessage = prefix + error.message\n\n  const statusCode = error?.value?.response?.status ?? error?.response?.status ?? null\n\n  console.error(errorMessage)\n\n  if (error?.value && error.value?.response) {\n    console.error(error.value.response?.data)\n  }\n\n  // Error 401 = session expired / not authenticated\n  // Error 419 = CSRF token mismatched\n  if (statusCode === 401 || statusCode === 419) {\n    window[import.meta.env.VUE_APP_NAME].vm.notif({\n      message: 'Your session has expired, please <a href=\"' + document.location + '\" target=\"_blank\">login in another tab</a>. You can then continue working here.',\n      variant: 'warning'\n    })\n  }\n}\n","import axios from 'axios'\nimport { replaceState } from '@/utils/pushState.js'\nimport { globalError } from '@/utils/errors'\n\nconst component = 'DATATABLE'\n\nexport default {\n  /*\n    *\n    * Main listing request with multiple params\n    *\n    * sortKey : column used for sorting content\n    * sortDir : desc or asc\n    * page : current page number\n    * offset : number of items per page\n    * columns: the set of visible columns\n    * filter: the current navigation (\"all\", \"mine\", \"published\", \"draft\", \"trash\")\n    *\n    */\n  get (url,params, callback, errorCallback = null) {\n\n    axios.get(url, { params })\n      .then(function (resp) {\n        if (resp.data.replaceUrl) {\n          const url = resp.request.responseURL\n          replaceState(url)\n        }\n        if (callback && typeof callback === 'function') {\n          // const data = {\n          //     // data: resp.data.data ? resp.data.data : [],\n          //     // data: resp.data.tableData ? resp.data.tableData : [],\n          //     // nav: resp.data.tableMainFilters ? resp.data.tableMainFilters : [],\n          //     // maxPage: (resp.data.maxPage ? resp.data.maxPage : 1)\n          // }\n\n          callback(resp.data, resp)\n        }\n      }, function (resp) {\n        const error = {\n          message: 'Get request error.',\n          value: resp\n        }\n        if (errorCallback && typeof errorCallback === 'function') {\n          errorCallback(error)\n        } else {\n          // globalError(component, error)\n        }\n      })\n  },\n\n  // delete (item, callback) {\n  delete (id, callback) {\n    const url = window[import.meta.env.VUE_APP_NAME].ENDPOINTS.destroy.replace(':id', id)\n    // var url = window[import.meta.env.VUE_APP_NAME].ENDPOINTS.index.replace(':id', item.id);\n\n    axios.delete(url).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Delete request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n  forceDelete (id, callback) {\n    const url = window[import.meta.env.VUE_APP_NAME].ENDPOINTS.forceDelete\n\n    axios.put(url, { id }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Force Delete request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n  restore (id, callback) {\n    const url = window[import.meta.env.VUE_APP_NAME].ENDPOINTS.restore\n\n    axios.put(url, { id }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Restore request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n  duplicate (id, callback) {\n    const url = window[import.meta.env.VUE_APP_NAME].ENDPOINTS.duplicate.replace(':id', id)\n\n    axios.put(url).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Duplicate request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n\n  reorder (url = null ,ids, callback) {\n    const requestUrl = url ?? window[import.meta.env.VUE_APP_NAME].ENDPOINTS.reorder;\n    axios.post(requestUrl, {\n      ids: ids\n    }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Reorder request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n\n  bulkPublish (params, callback) {\n    axios.post(window[import.meta.env.VUE_APP_NAME].CMS_URLS.bulkPublish, { ids: params.ids, publish: params.toPublish }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Bulk publish request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n\n  bulkFeature (params, callback) {\n    axios.post(window[import.meta.env.VUE_APP_NAME].CMS_URLS.bulkFeature, { ids: params.ids, feature: params.toFeature }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Bulk feature request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n\n  bulkDelete (ids, callback) {\n    axios.post(window[import.meta.env.VUE_APP_NAME].ENDPOINTS.bulkDelete, { ids }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Bulk delete request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n\n  bulkRestore (ids, callback) {\n    axios.post(window[import.meta.env.VUE_APP_NAME].ENDPOINTS.bulkRestore, { ids }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Bulk restore request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  },\n\n  bulkDestroy (ids, callback) {\n    axios.post(window[import.meta.env.VUE_APP_NAME].ENDPOINTS.bulkForceDelete, { ids }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Bulk destroy request error.',\n        value: resp\n      }\n      globalError(component, error)\n    })\n  }\n}\n","/* All the store actions are listed here */\n\n/* Blocks */\nexport const MOVE_BLOCK_TO_EDITOR = 'moveBlockToEditor'\nexport const DUPLICATE_BLOCK = 'duplicateBlock'\n\n/* Buckets */\nexport const GET_BUCKETS = 'getBucketsData'\nexport const SAVE_BUCKETS = 'saveBuckets'\n\n/* Datatable */\nexport const GET_DATATABLE = 'getDatatableDatas'\nexport const SET_DATATABLE_NESTED = 'setDatatableNestedDatas'\nexport const SET_DATATABLE = 'setDatatableDatas'\nexport const TOGGLE_PUBLISH = 'togglePublishedData'\nexport const DELETE_ITEM = 'deleteData'\n// export const DELETE_ITEM = 'deleteData'\nexport const DUPLICATE_ITEM = 'duplicateData'\nexport const RESTORE_ITEM = 'restoreData'\nexport const DESTROY_ITEM = 'destroyData'\nexport const TOGGLE_FEATURE = 'toggleFeaturedData'\nexport const BULK_PUBLISH = 'bulkPublishData'\nexport const BULK_FEATURE = 'bulkFeatureData'\nexport const BULK_EXPORT = 'bulkExportData'\nexport const BULK_DELETE = 'bulkDeleteData'\nexport const BULK_RESTORE = 'bulkRestoreData'\nexport const BULK_DESTROY = 'bulkDestroyData'\n\n/* Form */\nexport const REPLACE_FORM = 'replaceFormData'\nexport const SAVE_FORM = 'saveFormData'\nexport const UPDATE_FORM_IN_LISTING = 'updateFormInListing'\nexport const CREATE_FORM_IN_MODAL = 'createFormInModal'\n\n/* Previews */\nexport const GET_ALL_PREVIEWS = 'getAllPreviews'\nexport const GET_PREVIEW = 'getPreview'\n\n/* Revisions */\nexport const GET_REVISION = 'getRevisionContent'\nexport const GET_CURRENT = 'getCurrentContent'\n\n/* Errors */\nexport const HANDLE_ERRORS = 'handleErrors'\n\nexport default {\n  HANDLE_ERRORS,\n  GET_BUCKETS,\n  SAVE_BUCKETS,\n  GET_DATATABLE,\n  SET_DATATABLE_NESTED,\n  SET_DATATABLE,\n  TOGGLE_PUBLISH,\n  DELETE_ITEM,\n  // DELETE_ITEM,\n  DUPLICATE_ITEM,\n  RESTORE_ITEM,\n  DESTROY_ITEM,\n  TOGGLE_FEATURE,\n  BULK_PUBLISH,\n  BULK_FEATURE,\n  BULK_EXPORT,\n  BULK_DELETE,\n  BULK_RESTORE,\n  BULK_DESTROY,\n  REPLACE_FORM,\n  SAVE_FORM,\n  UPDATE_FORM_IN_LISTING,\n  CREATE_FORM_IN_MODAL,\n  GET_ALL_PREVIEWS,\n  GET_PREVIEW,\n  GET_REVISION,\n  GET_CURRENT,\n  MOVE_BLOCK_TO_EDITOR,\n  DUPLICATE_BLOCK\n}\n","import { computed } from 'vue'\nimport { useStore } from 'vuex'\n\nconst mapGetters = () => {\n  const store = useStore()\n  return Object.fromEntries(\n    Object.keys(store.getters).map(\n      getter => [getter, computed(() => store.getters[getter])]\n    )\n  )\n}\nconst mapState = () => {\n  const store = useStore()\n  return Object.fromEntries(\n    Object.keys(store.getters).map(\n      getter => [getter, computed(() => store.getters[getter])]\n    )\n  )\n}\n\nexport { mapGetters, mapState }\n","import { CONFIG } from '../mutations'\n\n\nconst state = {\n  test: window[import.meta.env.VUE_APP_NAME]?.STORE.config.test ?? false,\n  profileMenu: window[import.meta.env.VUE_APP_NAME]?.STORE.config.profileMenu ?? [],\n  sidebarStatus: true,\n  sidebarOptions: window[import.meta.env.VUE_APP_NAME]?.STORE.config.sidebarOptions ?? false,\n  secondarySidebarOptions: window[import.meta.env.VUE_APP_NAME]?.STORE.config.secondarySidebarOptions ?? false,\n  isRequestInProgress: false, // New state property to track async requests\n  ongoingAxiosRequests: 0, // Counter for ongoing requests\n}\n\n// getters\nconst getters = {\n  sidebarStatus: state => {\n    return state.sidebarStatus\n  },\n  sidebarOptions: state => {\n    return state.sidebarOptions\n  },\n  secondarySidebarOptions: state => {\n    return state.secondarySidebarOptions\n  },\n  profileMenu: state => {\n    return state.profileMenu\n  },\n  isRequestInProgress: state => state.isRequestInProgress, // New getter for request state\n  ongoingAxiosRequests: state => state.ongoingAxiosRequests, // New getter for request state\n}\n\nconst mutations = {\n  [CONFIG.SIDEBAR_TOGGLE] (state) {\n    state.sidebarStatus = !state.sidebarStatus; // Mutation to toggle sidebar\n  },\n  [CONFIG.SET_SIDEBAR] (state, status = true) {\n    state.sidebarStatus = status; // Mutation to toggle sidebar\n  },\n  [CONFIG.SET_REQUEST_IN_PROGRESS] (state, isInProgress = true) {\n    state.isRequestInProgress = isInProgress; // Mutation to set request state\n  },\n  [CONFIG.INCREASE_AXIOS_REQUEST] (state) {\n    state.ongoingAxiosRequests += 1; // Mutation to set request state\n\n    state.isRequestInProgress = state.ongoingAxiosRequests > 0\n  },\n  [CONFIG.DECREASE_AXIOS_REQUEST] (state) {\n    state.ongoingAxiosRequests -= 1; // Mutation to set request state\n\n    state.isRequestInProgress = state.ongoingAxiosRequests > 0\n  },\n}\n\nexport default {\n  state,\n  getters,\n  mutations\n}\n","import config from '@/store/modules/config'\nimport dateFormat from 'date-fns/format'\n\nconst filters = {\n  slugify: function (value) {\n    const charMap = { ',': '-', '/': '-', ':': '-', ';': '-', _: '-', '©': '(c)', '·': '-', ß: 'ss', à: 'a', á: 'a', â: 'a', ã: 'a', ä: 'a', å: 'a', æ: 'ae', ç: 'c', è: 'e', é: 'e', ê: 'e', ë: 'e', ì: 'i', í: 'i', î: 'i', ï: 'i', ð: 'd', ñ: 'n', ò: 'o', ó: 'o', ô: 'o', õ: 'o', ö: 'o', ø: 'o', ù: 'u', ú: 'u', û: 'u', ü: 'u', ý: 'y', þ: 'th', ÿ: 'y', ā: 'a', ă: 'a', ą: 'a', ć: 'c', č: 'c', ď: 'd', ē: 'e', ę: 'e', ě: 'e', ğ: 'g', ģ: 'g', ī: 'i', ı: 'i', ķ: 'k', ļ: 'l', ł: 'l', ń: 'n', ņ: 'n', ň: 'n', ő: 'o', œ: 'oe', ŕ: 'r', ř: 'r', ś: 's', ş: 's', š: 's', ť: 't', ū: 'u', ů: 'u', ű: 'u', ź: 'z', ż: 'z', ž: 'z', ǘ: 'u', ǵ: 'g', ǹ: 'n', ș: 's', ț: 't', ΐ: 'i', ά: 'a', έ: 'e', ή: 'h', ί: 'i', ΰ: 'y', α: 'a', β: 'b', γ: 'g', δ: 'd', ε: 'e', ζ: 'z', η: 'h', θ: '8', ι: 'i', κ: 'k', λ: 'l', μ: 'm', ν: 'n', ξ: '3', ο: 'o', π: 'p', ρ: 'r', ς: 's', σ: 's', τ: 't', υ: 'y', φ: 'f', χ: 'x', ψ: 'ps', ω: 'w', ϊ: 'i', ϋ: 'y', ό: 'o', ύ: 'y', ώ: 'w', а: 'a', б: 'b', в: 'v', г: 'g', д: 'd', е: 'e', ж: 'zh', з: 'z', и: 'i', й: 'j', к: 'k', л: 'l', м: 'm', н: 'n', о: 'o', п: 'p', р: 'r', с: 's', т: 't', у: 'u', ф: 'f', х: 'h', ц: 'c', ч: 'ch', ш: 'sh', щ: 'sh', ъ: '', ы: 'y', ь: '', э: 'e', ю: 'yu', я: 'ya', ё: 'yo', є: 'ye', і: 'i', ї: 'yi', ґ: 'g', ḧ: 'h', ḿ: 'm', ṕ: 'p', ẃ: 'w', ẍ: 'x', ә: 'a', ғ: 'g', қ: 'q', ң: 'n', ө: 'o', ұ: 'u' }\n    const p = new RegExp(Object.keys(charMap).join('|'), 'g')\n    return value.toString().toLowerCase().trim()\n      .replace(/\\s+/g, '-') // Replace spaces with -\n      .replace(p, c => charMap[c]) // Replace special chars\n      .replace(/&/g, '-and-') // Replace & with 'and'\n      .replace(/[^\\w-]+/g, '-') // Replace all non-word chars with -\n      .replace(/--+/g, '-') // Replace multiple - with single -\n      .replace(/(^-+)|(-+$)/, '') // Remove leading and traling -\n  },\n  prettierUrl: function (value) {\n    return value.replace(/^\\/\\/|^.*?:(\\/\\/)?/, '')\n  },\n  uppercase: function (value) {\n    return (value || value === 0)\n      ? value.toString().toUpperCase()\n      : ''\n  },\n  lowercase: function (value) {\n    return (value || value === 0)\n      ? value.toString().toLowerCase()\n      : ''\n  },\n  capitalize: function (value) {\n    if (!value) return ''\n\n    value = value.toString()\n    return value.charAt(0).toUpperCase() + value.slice(1)\n  },\n  // formatDate: function (value) {\n  //   if (!value) return ''\n\n  //   return dateFormatLocale(value, 'long')\n  // },\n  // formatDateWithFormat: function (value, format) {\n  //   if (!value) value = new Date()\n  //   return dateFormatLocale(value, 'long')\n  // },\n  // formatDatatableDate: function (value) {\n  //   const datepickerFormat = config.state.publishDateDisplayFormat.length > 0 ? config.state.publishDateDisplayFormat : 'MMM DD, YYYY'\n  //   if (!value) value = new Date()\n  //   return dateFormatLocale(value, 'long')\n  // },\n  // formatCalendarDate: function (value) {\n  //   if (!value) value = new Date()\n  //   return dateFormatLocale(value, 'long')\n  // }\n}\n\nexport default filters\n","import _ from 'lodash-es'\nimport { useI18n } from 'vue-i18n'\nimport filters from '@/utils/filters'\nimport axios from 'axios'\nimport { globalError } from './errors'\n\nimport sampleModel from '@/__snapshots/getFormData/model.json';\nimport sampleSchema from '@/__snapshots/getFormData/schema.json';\n\nconst isArrayable = 'input-treeview|treeview|input-checklist|input-repeater|input-file|input-image'\n// const isMediableTypes = 'input-file|input-image'\n// const isMediableFields = 'files|medias'\n\nexport const getSchema = (inputs, model = null, isEditing = false) => {\n  let _inputs = _.omitBy(inputs, (value, key) => {\n    return Object.prototype.hasOwnProperty.call(value, 'slotable') || isTopEventInput(value) || isViewOnlyInput(value)\n  })\n\n  // if (_.find(_inputs, (input) => Object.prototype.hasOwnProperty.call(input, 'wrap'))) {\n  //   _.reduce(_inputs, (acc, input, key) => {\n  //     if(Object.prototype.hasOwnProperty.call(input, 'group')){\n\n  //     } else{\n  //       acc[key] = input\n  //     }\n  //     return acc\n  //   }, {})\n  // }\n\n  _inputs = _.reduce(_inputs, (acc, input, key) => {\n    input.col.class = input._originalClass || input.col?.class || [];\n    input._originalClass = input.col.class || [];\n    input.disabled = __isset(input._originalDisabled)\n      ? input._originalDisabled\n      : __isset(input.disabled)\n        ? input.disabled\n        : false\n    input._originalDisabled = input.disabled\n\n    let inputColClass = input.col?.class || [];\n\n    if (__isString(inputColClass)) {\n      inputColClass = inputColClass.split(' ');\n    }\n\n    let isCreatable = input.creatable;\n    let isEditable = input.editable;\n\n    // Check if the input has createable property and it's false or hidden\n    if ((isCreatable === false || isCreatable === 'hidden') && !isEditing) {\n      if (isCreatable === 'hidden') {\n        inputColClass = _.union(inputColClass, ['d-none']);\n        input.col.class = inputColClass.join(' ');\n      } else {\n        input.disabled = true;\n      }\n    }\n\n    // Check if the input has editable property and it's false or hidden\n    if ((isEditable === false || isEditable === 'hidden') && isEditing) {\n      if (isEditable === 'hidden') {\n        inputColClass = _.union(inputColClass, ['d-none']);\n        input.col.class = inputColClass.join(' ');\n      } else {\n        input.disabled = true;\n      }\n    }\n\n    if (__isset(input) && __isset(input.schema) && ['wrap', 'group', 'repeater', 'input-repeater'].includes(input.type)) {\n      input.schema = getSchema(input.schema, input.type === 'wrap' ? model : model[key], isEditing);\n    }\n\n    // Always add the input to the accumulator\n    acc[key] = input;\n\n    return acc;\n  }, {});\n\n  _.map(_inputs, (value, key) => {\n    if(__isset(value.type) && value.type == 'group'){\n      value.schema = flattenGroupSchema(value.schema, value.name);\n    }\n    handleInputEvents(value.event, model, inputs, key)\n\n    return value\n  })\n\n  return _inputs\n}\n\nexport const getModel = (inputs, item = null, rootState = null) => {\n  const languages = getTranslationLanguages()\n  const editing = __isset(item)\n\n  inputs = processInputs(inputs)\n  const values = Object.keys(inputs).reduce((fields, k) => {\n    const input = inputs[k]\n    const name = input.name\n    const isTranslated = Object.prototype.hasOwnProperty.call(input, 'translated') && input.translated\n\n    // default model value\n    let _default = ''\n\n    if (isArrayable.includes(input.type)) _default = []\n\n    _default = Object.prototype.hasOwnProperty.call(input, 'default') ? input.default : _default\n\n    if (input.type == 'group') _default = getModel(input.schema, item ?? input.default)\n\n    if (isTranslated) {\n      _default = _.reduce(languages, function (acc, language, k) {\n        acc[language] = _default\n        return acc\n      }, {})\n    }\n\n    let accessName = name.replace(/->/g, '.')\n    let value = editing ? (__isset(fields[name]) ? fields[name] : (__data_get(item, accessName, _default) ?? _default)) : _default\n\n    if(editing){\n      if(input.type == 'group' && __isset(item[name])){\n        let defaultGroupKeys = Object.keys(_.omit(__dot(_default), ['id']));\n        if(JSON.stringify(defaultGroupKeys) !== JSON.stringify(Object.keys(_.omit(__dot(item[name]), ['id'])))){\n          value = {\n            ..._default,\n            ..._.pick(item[name], defaultGroupKeys)\n          }\n        }\n      }\n    }\n\n    if (__isObject(input)) {\n      if (isTranslated) { // translations\n        if (editing) {\n          const hasTranslations = Object.prototype.hasOwnProperty.call(item, 'translations')\n          if (hasTranslations && item.translations[name]) {\n            fields[name] = languages.reduce(function (map, lang) {\n              map[lang] = _.find(item.translations, { locale: lang })\n                ? _.find(item.translations, { locale: lang })[name]\n                : item.translations[name][lang]\n              return map\n            }, {})\n          } else {\n            fields[name] = value\n          }\n        }\n      } else {\n        if (!value &&\n          editing &&\n          Object.prototype.hasOwnProperty.call(item, 'translations') &&\n          Object.prototype.hasOwnProperty.call(item.translations, name)\n        ) {\n          const locale = Object.keys(item.translations[name])[0]\n          fields[name] = item.translations[name][locale]\n        } else {\n          fields[name] = value\n        }\n      }\n    }\n\n    // const newFields = handleInputEvents(input.event, fields, inputs, name)._fields // return fields;\n    // return newFields\n    handleEvents(fields, inputs, input)\n\n    return fields;\n\n  }, {})\n\n  if (editing) {\n    values.id = item.id\n  }\n\n  // if (rootState) {\n  //   return Object.assign(values, {\n  //     medias: gatherSelected(rootState.mediaLibrary.selected)\n  //   })\n  // }\n  if (rootState) {\n    // hydrateSelected(item, rootState)\n  }\n\n  return values\n}\n\nexport const getTopSchema = (inputs, isEditing = false) => {\n  return _.filter(inputs, (input) => {\n    if(isEditing && __isset(input.editable) && (input.editable === false || input.editable === 'hidden'))\n      return false\n\n    if(!isEditing && __isset(input.creatable) && (input.creatable === false || input.creatable === 'hidden'))\n      return false\n\n    return isTopEventInput(input)\n  })\n}\n\nexport const getTranslationInputsCount = (inputs) => {\n  return getTranslationInputs(inputs).length\n}\n\nexport const getTranslationInputs = (inputs, acc = []) => {\n  return _.reduce(inputs, (acc, input) => {\n    if(__isset(input) && __isset(input.schema) && ['wrap', 'group', 'repeater', 'input-repeater'].includes(input.type)){\n      acc = getTranslationInputs(input.schema, acc)\n    } else if(Object.prototype.hasOwnProperty.call(input, 'translated') && input.translated)\n      acc.push(input)\n\n    return acc\n    // return Object.prototype.hasOwnProperty.call(input, 'translated') && input.translated\n  }, acc)\n}\n\nexport const getSubmitFormData = (inputs, item = null, rootState = null) => {\n  inputs = processInputs(inputs)\n\n  const isArrayable = 'input-treeview|treeview|input-checklist'\n\n  const values = Object.keys(inputs).reduce((fields, k) => {\n\n    if(window.__isset(inputs[k].noSubmit) && inputs[k].noSubmit)\n      return fields\n\n    const input = inputs[k]\n    // if (isMediableTypes.includes(input.type)) {\n    //   return fields\n    // }\n\n    const name = input.name\n\n    const value = __data_get(item, name, undefined)\n\n    // default model value\n    if (!__isset(value)) {\n      let value = input.default ?? ''\n      if (isArrayable.includes(input.type)) {\n        value = []\n      }\n\n      fields[name] = value\n\n      return fields\n    }\n    // const value = item[name]\n\n    if (__isObject(input)) {\n      if (Object.prototype.hasOwnProperty.call(input, 'translated') && input.translated) { // translations\n        fields[name] = window[import.meta.env.VUE_APP_NAME].STORE.languages.all.reduce(function (map, lang) {\n          if (__isObject(value)) {\n            map[lang.value] = __isset(value[lang.value]) ? value[lang.value] : ''\n          } else {\n            map[lang.value] = value\n          }\n          return map\n        }, {})\n      } else {\n        fields[name] = item[name]\n      }\n    }\n\n    return fields\n  }, {})\n\n  if (item.id) {\n    values.id = item.id\n  }\n\n  // if (rootState) {\n  //   return Object.assign(values, {\n  //     // medias: gatherSelected(rootState.mediaLibrary.selected)\n  //   })\n  // }\n\n  return values\n}\n\nexport const setSchemaInputField = (schema, value) => {\n\n  for (const key in schema) {\n    const sch = schema[key]\n    const cascadeKey = sch.cascadeKey ?? 'items' //schema\n    if (sch.type === 'select' && Object.prototype.hasOwnProperty.call(sch, 'cascade')) {\n      if(key.includes('repeater'))\n        break;\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n      if(__isset(schema[sch.cascade]))\n        schema[sch.cascade][cascadeKey] = _.find(sch[cascadeKey], [sch.itemValue, value[sch.name]])?.[cascadeKey] ?? []\n      // this.formSchema[key].items = _.find(this.formSchema[sch.parent].items, [this.formSchema[sch.parent].itemValue, this.valueIntern[sch.parent]]).items\n    }\n  }\n}\n\nexport const onInputEventFormData = (obj, schema, stateData, sortedStateData, value) => {\n\n  if (obj.schema.type === 'select' && obj.schema.hasOwnProperty('cascade')) {\n    const cascadedSelectName = obj.schema.name.includes('repeater') ? obj.schema.name.match(/repeater\\d+-input\\[\\d+\\]/) + `[${obj.schema.cascade}]` : obj.schema.cascade\n    const cascadeKey = obj.schema.cascadeKey ?? 'items'\n    const selectItemValue = obj.schema.itemValue ?? 'id'\n\n    // ACTIONS\n    schema[cascadedSelectName][cascadeKey] = _.find(obj.schema[cascadeKey], [selectItemValue, value[obj.key]])?.schema ?? []\n    const sortIndex = _.findIndex(sortedStateData, ['key', cascadedSelectName])\n\n    stateData[cascadedSelectName] = schema[cascadedSelectName][cascadeKey].length > 0 ? schema[cascadedSelectName][cascadeKey][0].value : []\n    sortedStateData[sortIndex].value = value[cascadedSelectName]\n\n    onInputEventFormData(sortedStateData[sortIndex], schema, stateData, sortedStateData, value)\n\n  } else if ((obj.schema.type === 'select') && obj.schema.hasOwnProperty('autofill')) {\n    __log('autofill')\n    // obj.schema.autofill.forEach(element => {\n    //   if (schema[element].autofillable) {\n    //     stateData[element] = _.find(obj.schema.items, ['id', value[obj.key]])?.[element] ?? ''\n    //     // ## TODO type conditional default value\n    //   }\n    // })\n  }\n}\n\nexport const handleInputEvents = (events = null, fields, moduleSchema, name = null) => {\n  const _fields = fields\n  const _field = fields[name]\n  const _schema = moduleSchema[name]\n\n  const isFieldFalsy = (Array.isArray(_field) && _field.length > 0) || (!Array.isArray(_field) && !!_field)\n\n  if (events) {\n    const formatEvents = events.split('|')\n    formatEvents.forEach(e => {\n      const [methodName, formattedInputName, formatingInputName] = e.split(':')\n      switch (methodName) {\n        case 'formatPermalink':\n          // __log(methodName, e)\n          if (isFieldFalsy) {\n            // __log('formatPermalink', _field, slugify(_field))\n            _fields[formattedInputName] = slugify(_field)\n          }\n          break\n        case 'formatPermalinkPrefix':\n          // __log(methodName, e)\n          if (['select', 'combobox'].includes(_schema.type) && _field && isFieldFalsy) {\n            const newValue = slugify(_schema.items.find((item) => item[_schema.itemValue] === _field)[_schema.itemTitle])\n            moduleSchema[formattedInputName ?? 'slug'].prefix = moduleSchema[formattedInputName ?? 'slug'].prefixFormat.replace(':' + formatingInputName, newValue)\n          } else if (['text'].includes(_schema.type) && isFieldFalsy) {\n            const newValue = slugify(_field)\n            const [firstLevelName, secondLevelName] = formattedInputName.split('.')\n            moduleSchema[firstLevelName].schema[secondLevelName ?? 'slug'].prefix = moduleSchema[firstLevelName].schema[secondLevelName ?? 'slug'].prefixFormat.replace(':' + formatingInputName, newValue)\n          }\n          break\n        case 'formatLock':\n          // __log(methodName, e)\n          if (['select', 'combobox'].includes(_schema.type) && _field) {\n            const lockInput = _schema.items.find((item) => item[_schema.itemValue] === _field)?.[formatingInputName]\n            moduleSchema[formattedInputName].disabled = !!lockInput\n            moduleSchema[formattedInputName].focused = !!lockInput\n            moduleSchema[formattedInputName].placeHolder = lockInput\n          } else if (['text'].includes(_schema.type) && _field) {\n            const lockInput = _field\n            const [firstLevelName, secondLevelName] = formattedInputName.split('.')\n            moduleSchema[firstLevelName].schema[secondLevelName].disabled = !!lockInput\n            moduleSchema[firstLevelName].schema[secondLevelName].focused = !!lockInput\n            moduleSchema[firstLevelName].schema[secondLevelName].placeHolder = lockInput\n          }\n          break\n        case 'formatFilter':\n          // __log(\n          //   methodName,\n          //   e\n          // )\n          break\n        default:\n          break\n      }\n    })\n  }\n  return {\n    _fields,\n    moduleSchema\n  }\n}\n\nexport const handleEvents = ( model, schema, input, valueChanged = false) => {\n\n  const handlerName = input.name\n  const handlerSchema = schema[handlerName]\n  const handlerValue = model[handlerName]\n\n  const isFieldFalsy = (Array.isArray(handlerValue) && handlerValue.length > 0) || (!Array.isArray(handlerValue) && !!handlerValue)\n\n  if (input.event) {\n    input.event.split('|').forEach(event => {\n      let args = event.split(':')\n      let methodName = args.shift()\n      let runnable = true\n\n      if(methodName == 'formatSet' && !valueChanged)\n        runnable = false\n\n      if(runnable && typeof FormatFuncs[methodName] !== 'undefined')\n        FormatFuncs?.[methodName](args, model, schema, input)\n\n    })\n  }\n}\n\nexport const handleMultiFormEvents = ( models, schemas, input, index, preview = []) => {\n  const handlerName = input.name\n  const handlerSchema = schemas[index][handlerName] ?? _.get(schemas, `[${index}].${handlerName}`)\n  const handlerValue = models[index][handlerName] ?? _.get(models, `[${index}].${handlerName}`)\n\n  const isFieldFalsy = (Array.isArray(handlerValue) && handlerValue.length > 0) || (!Array.isArray(handlerValue) && !!handlerValue)\n\n  if (input.event) {\n    input.event.split('|').forEach(event => {\n      let args = event.split(':')\n      let methodName = args.shift()\n\n      if(typeof FormatFuncs[methodName] !== 'undefined')\n        FormatFuncs?.[methodName](args, models, schemas, input, index, preview)\n\n    })\n  }\n  if(false && input.schema){\n    for(const name in input.schema){\n\n      const _input = _.cloneDeep(input.schema[name])\n      _input.name = `${input.name}.${input.schema[name].name}`\n      _input.key = `${input.name}.schema.${input.schema[name].name}`\n      // __log(\n      //   // _.get(schemas, `[${index}].${_input.key}`),\n      //   // _.get(models, `[${index}].${_input.name}`),\n      // )\n    }\n  }\n}\n\nexport const testMethods = {\n  // getDisplayData: () => {\n  //   return getDisplayData(sampleSchema, sampleModel)\n  // },\n  getSubmitFormData: () => {\n    return getSubmitFormData(sampleSchema, sampleModel)\n  },\n  getSchema: () => {\n    return getSchema(sampleSchema, sampleModel)\n  },\n  getModel: () => {\n    return getModel(sampleSchema, sampleModel)\n  }\n}\n\nexport default {\n  getSchema,\n  getModel,\n  getSubmitFormData,\n  setSchemaInputField,\n  onInputEventFormData,\n  handleInputEvents,\n  handleEvents,\n  handleMultiFormEvents,\n  testMethods\n}\n\nconst processInputs = (inputObj) => {\n  return _.reduce(inputObj, (acc, value, key) => {\n    if (value.type === 'wrap' && value.schema) {\n      Object.assign(acc, processInputs(value.schema));\n    } else if (value.type === 'groupz' && value.schema) {\n      // acc[key] = {\n      //   ...value,\n      //   schema: processInputs(value.schema)\n      // };\n    } else if (!value.slotable) {\n      acc[key] = value;\n    } else {\n      acc[key] = value;\n      // __log(inputObj, value, key)\n    }\n    return acc;\n  }, {});\n};\n\nconst flattenGroupSchema = (schema, groupName) => {\n  return _.reduce(schema, (acc, value, key) => {\n    const newKey = key.split('.').filter(part => part !== groupName).join('.');\n    acc[newKey] = value;\n    return acc;\n  }, {});\n};\n\nconst slugify = (newValue) => {\n  let text = ''\n  if (newValue.value && typeof newValue.value === 'string') {\n    text = newValue.value\n  } else if (typeof newValue === 'string') {\n    text = newValue\n  }\n\n  return filters.slugify(text)\n}\n\nexport const isTopEventInput = (input) => {\n  return Object.prototype.hasOwnProperty.call(input, 'topEvent')\n    && input.topEvent\n    && ( ['select', 'autocomplete', 'combobox', 'switch'].includes(input.type) || __isset(input.viewOnlyComponent) )\n}\n\nconst isViewOnlyInput = (input) => {\n  return Object.prototype.hasOwnProperty.call(input, 'viewOnlyComponent')\n}\n\nconst getTranslationLanguages = (input) => {\n  return _.map(window[import.meta.env.VUE_APP_NAME].STORE.languages.all, 'value')\n}\n\nconst FormatFuncs = {\n  formatPermalink: function(args, model, schema, input) {\n    const handlerName = input.name\n    const handlerSchema = schema[handlerName]\n    const handlerValue = model[handlerName]\n\n    const isFieldFalsy = (Array.isArray(handlerValue) && handlerValue.length > 0) || (!Array.isArray(handlerValue) && !!handlerValue)\n\n    const inputToFormat = args.shift()\n    if (isFieldFalsy) {\n      model[inputToFormat] = slugify(handlerValue)\n    }\n  },\n  formatPermalinkPrefix: function(args, model, schema, input) {\n    const handlerName = input.name\n    const handlerSchema = schema[handlerName]\n    const handlerValue = model[handlerName]\n\n    const isFieldFalsy = (Array.isArray(handlerValue) && handlerValue.length > 0) || (!Array.isArray(handlerValue) && !!handlerValue)\n\n    const inputToFormat = args.shift()\n    const inputFormatter = args.shift()\n\n    if (['select', 'combobox'].includes(handlerSchema.type) && handlerValue && isFieldFalsy) {\n      const newValue = slugify( handlerSchema.items.find((item) => item[handlerSchema.itemValue] === handlerValue)[handlerSchema.itemTitle])\n      schema[inputToFormat ?? 'slug'].prefix = schema[inputToFormat ?? 'slug'].prefixFormat.replace(':' + inputFormatter, newValue)\n    } else if (['text'].includes(handlerSchema.type) && isFieldFalsy) {\n      const newValue = slugify(value)\n      const [firstLevelName, secondLevelName] = inputToFormat.split('.')\n      schema[firstLevelName].schema[secondLevelName ?? 'slug'].prefix = schema[firstLevelName].schema[secondLevelName ?? 'slug'].prefixFormat.replace(':' + inputFormatter, newValue)\n    }\n  },\n  formatLock: function(args, model, schema, input) {\n    const handlerName = input.name\n    const handlerSchema = schema[handlerName]\n    const handlerValue = model[handlerName]\n\n    const isFieldFalsy = (Array.isArray(handlerValue) && handlerValue.length > 0) || (!Array.isArray(handlerValue) && !!handlerValue)\n\n    const inputToFormat = args.shift()\n    const inputFormatter = args.shift()\n    if (['select', 'combobox'].includes(handlerSchema.type) && handlerValue) {\n      const lockInput = handlerSchema.items.find((item) => item[handlerSchema.itemValue] === handlerValue)?.[inputFormatter]\n      schema[inputToFormat].disabled = !!lockInput\n      schema[inputToFormat].focused = !!lockInput\n      schema[inputToFormat].placeHolder = lockInput\n    } else if (['text'].includes(handlerSchema.type) && _field) {\n      const lockInput = _field\n      const [firstLevelName, secondLevelName] = inputToFormat.split('.')\n      schema[firstLevelName].schema[secondLevelName].disabled = !!lockInput\n      schema[firstLevelName].schema[secondLevelName].focused = !!lockInput\n      schema[firstLevelName].schema[secondLevelName].placeHolder = lockInput\n    }\n  },\n  formatSet: async function(args, model, schema, input, index = null, preview = []) {\n    const inputNotation = this.getInputToFormat(args, model, schema, index )\n    const languages = getTranslationLanguages()\n\n    if(!inputNotation)\n      return\n\n    const inputToFormat = inputNotation\n    const inputPropToFormat = args.shift() //\n    const setterNotation = `${inputNotation}.${inputPropToFormat}`\n    const setPropFormat = args.shift() // items.*.schema\n\n    let {handlerName, handlerSchema, handlerValue} = this.handlers(input, model, index)\n\n    if(Array.isArray(handlerValue) && handlerValue.length < 1)\n      return\n\n    if(handlerValue){\n      let dataSet = []\n      let notation = __wildcard_change(setPropFormat, handlerValue)\n      dataSet = __data_get(handlerSchema, notation, null)\n\n      if(dataSet && dataSet.length > 0){\n        let newValue = dataSet.shift()\n\n\n        let matches = inputPropToFormat.match(/^(modelValue|model)$/g)\n        // __log(inputPropToFormat, matches)\n        if(matches){ // setting modelValue\n          let targetInput = _.get(schema, inputToFormat)\n          let targetInputName = targetInput.name\n          let targetForeignKey = __extractForeignKey(targetInputName)\n          let targetInputSchema = targetInput.schema ?? null\n          let isRepeater = targetInput.type == 'input-repeater'\n          let isArrayValue = Array.isArray(newValue)\n\n          if(__isset(targetInput['translated']) && targetInput['translated']){\n            let translationParts = notation.split('.')\n            let field = translationParts.pop()\n            let translationNotation = translationParts.join('.') + '.translations'\n            notation.split('.').pop()\n            let rawTranslation = __data_get(handlerSchema, translationNotation).shift()\n\n            if(rawTranslation){\n              // TODO: translations do not comes from package_type\n              __log(rawTranslation)\n              newValue = _.reduce(languages, (acc, language) => {\n                let translation = _.find(rawTranslation, (el) => el.locale == language) ?? rawTranslation[0]\n                let value = translation[field] ?? null\n                acc[language] = translation[field] ?? null\n                return acc\n              }, {})\n            }\n          }\n\n          if(isArrayValue && newValue.length > 0){\n            let values = newValue.map((item) => {\n              if(targetInputSchema){\n                return _.reduce(targetInputSchema, (acc, value, key) => {\n                  // __log(key, value)\n                  if(isRepeater && key == targetForeignKey){\n                    acc[targetForeignKey] = item['id'] ?? null\n                  }else{\n                    acc[key] = item[key] ?? null\n                  }\n\n                  return acc\n                }, {})\n              }\n            })\n\n            _.set(model, inputToFormat, values)\n            // let currentValue = _.get(model, inputToFormat)\n            // __log( inputToFormat, __data_get(model, inputToFormat), model )\n            // if( !(Array.isArray(currentValue) && currentValue.length > 0)){\n            //   // __log('setting')\n            // }\n          }else if(!isArrayValue){\n            try{\n              _.set(model, targetInputName, newValue)\n            }catch(e){\n              console.error(e)\n            }\n          }\n        }else{\n          _.set(schema, setterNotation, newValue)\n          if(inputPropToFormat.match(/schema/)){\n            _.set(schema, `${inputNotation}.default`, getModel(newValue))\n          }\n\n        }\n\n      }\n    }\n  },\n  formatFilter: async function(args, model, schema, input, index) {\n    const inputNotation = this.getInputToFormat(args, model, schema, index )\n\n    if(!inputNotation)\n      return\n\n    let {handlerName, handlerModelName, handlerSchema, handlerValue} = this.handlers(input, model, index)\n\n    const inputPropToFormat = args.shift() // items\n    const inputReadValue = args.shift() // group\n\n    let endpoint\n    let filterValues\n    let modelValue\n\n    if(!!handlerValue[inputReadValue]){\n      modelValue = handlerValue[inputReadValue]\n      endpoint = input.filterEndpoint[modelValue]\n      filterValues = handlerValue[inputPropToFormat]\n    }else{\n      modelValue = handlerModelName\n      endpoint = input.filterEndpoint\n      filterValues = handlerValue\n    }\n\n    let setterNotation = `${inputNotation}.${inputPropToFormat}`\n    let eagers = _.get(schema, `${inputNotation}.eagers`) ?? [];\n\n    if( !_.get(schema, setterNotation))\n      _.set(schema, setterNotation, [])\n\n    let newItems = _.cloneDeep( _.get(schema, setterNotation) );\n\n    for(const i in newItems){\n      if(!filterValues.includes(newItems[i].id)){\n        newItems.splice(i, 1)\n      }\n    }\n\n    for(const i in filterValues){\n      const id = filterValues[i]\n\n      if( !newItems.find((el) => el.id == id) ) {\n        try {\n          let res = await axios.get(endpoint.replace(`{${_.snakeCase(modelValue)}}`, id), {\n            params: {\n              eagers: eagers\n            }\n          })\n          newItems.push(res.data)\n        } catch (error) {\n          // Handle the error here\n          console.error('An error occurred:', error);\n          // You can also check for specific error types or status codes\n          if (error.response) {\n            globalError('', {\n              message: 'formatFilter error',\n              value: error\n            })\n            // The request was made and the server responded with a status code\n            // that falls out of the range of 2xx\n            // console.error('Error status:', error.response.status);\n            // console.error('Error data:', error.response.data);\n          } else if (error.request) {\n            // The request was made but no response was received\n            console.error('No response received:', error.request);\n          } else {\n            // Something happened in setting up the request that triggered an Error\n            console.error('Error message:', error.message);\n          }\n        }\n\n      }\n    }\n\n    _.set(schema, setterNotation, _.orderBy(newItems, ['id'], ['asc']))\n  },\n\n  formatClearModel: async function(args, model, schema, input, index = null, preview = []) {\n    const inputNotation = this.getInputToFormat(args, model, schema, index )\n\n    if(!inputNotation)\n      return\n\n    let {handlerName, handlerSchema, handlerValue} = this.handlers(input, model, index)\n\n    let targetSchema = _.get(schema, inputNotation)\n    let defaultValue = targetSchema?.default ?? []\n\n    _.set(model, inputNotation, defaultValue)\n\n    if(_.get(preview, inputNotation)){\n      _.unset(preview, inputNotation)\n      __log('formatClearModel', preview)\n    }\n\n  },\n\n  formatResetItems: async function(args, model, schema, input, index = null, preview = []) {\n    const inputNotation = this.getInputToFormat(args, model, schema, index )\n\n    if(!inputNotation)\n      return\n\n    let {handlerName, handlerSchema, handlerValue} = this.handlers(input, model, index)\n\n    let targetSchema = _.get(schema, inputNotation)\n    let defaultValue = []\n\n    _.set(schema, inputNotation + '.items', defaultValue)\n  },\n\n  formatPreview: async function(args, model, schema, input, index, preview = []) {\n    if(Array.isArray(model)){\n      let {handlerName, handlerSchema, handlerValue} = this.handlers(input, model, index)\n\n      /*\n      *handlerValue\n        {\n          $key1 : {package_id: int, packageLanguages: array}\n          $key2 : {package_id: int, packageLanguages: array}\n        }\n      *handlerSchema\n        {\n          ...,\n          items: [ // packageRegion or packageCountry\n            {\n              id: int,\n              name: string,\n              packages: [\n                {\n                  id: int,\n                  name: string,\n                  packageLanguages: [\n                    {\n                      id: int,\n                      name: string\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              id: == $key1,\n              name: 'France',\n              packages: [\n                {\n                  id: == handlerValue[$key1].package_id\n                  name: 'Premium',\n                  packageLanguages: [\n                    {\n                      id: == handlerValue[$key1].packageLanguages.*,\n                      name: 'English'\n                    }\n                  ]\n                }\n              ]\n            },\n            ...\n          ]\n        }\n      */\n      // ['United States', 'Wire (English, German, Turkish)'],\n      // ['France', 'Premium (English, French)']\n      //\n      // handlerSchema.items // region or country parent names to get with  handlerValue Object keys wrt id\n      // United States => Object.keys() $key =  handlerSchema.items.find($key)\n      // Wire|Premium =>  items.find(id:$key).packages.find(id:handlerValue[$key].package_id).*.name\n      // English, German, Turkish... =>  items.find(id:$key).packages.find(id:handlerValue[$key].package_id)\n      //\n\n      /*\n        schema.$group.items.*.name:items\n        items.*key.name,items.*key.packages.*.name,items.*key.packages.$package_id.packageLanguages.*.name:*key,*.package_id,*.packageLanguages\n      */\n      let inputToFormats = args.shift().split(',')\n      let targetValueKeys = (args.shift() ?? '').split(',') // *key,package_id,packageLanguages\n\n      let patternValues = {}\n      let previewValue = []\n\n      let isMultiple = inputToFormats.length > 1\n      let clear = false\n\n      for(const _index in inputToFormats){\n        let inputToFormat = inputToFormats[_index]\n        let targetValueKey = targetValueKeys[_index] ?? null\n        let stages = inputToFormat.split('.')\n\n        stages = _.map(stages, function(stage, i){\n          let found\n          let convertedStage = stage\n\n          if( (found = stage.match(/\\$(\\w+)/)) ){\n            if(__isset(handlerValue[found[1]])){\n              convertedStage = handlerValue[found[1]]\n            }\n          }\n\n          return convertedStage\n        })\n\n        inputToFormat = stages.join('.')\n\n        let targetValue\n\n        let matches = targetValueKey.match(/\\*\\.?(\\w+)/)\n\n        if(targetValueKey == '*key'){\n          targetValue = Object.keys(handlerValue).map(function(item){\n            return parseInt(item)\n          })\n        }else if(matches){\n          let matches = targetValueKey.match(/\\*\\.?(\\w+)/)\n\n          let key = matches[1]\n          targetValue = _.map( handlerValue, function(el, i){\n            return el[key]\n            return {id: el[key]}\n          })\n        }else{\n          targetValue = targetValueKey ? handlerValue[targetValueKey] : handlerValue\n        }\n        /**\n        __data_get(handlerSchema, 'items.*id=1,5.name'),\n        __data_get(handlerSchema, 'items.*id=1,5.packages.*id=1,26.name'),\n        __data_get(handlerSchema, 'items.*id=1,5.packageLanguages.*id=1,2,3.name'),\n        __data_get(handlerSchema, 'items.*id=1,5.packageLanguages.*id=1,2.name'),\n        __data_get(handlerSchema, 'items.*id=1,5.packageLanguages.*id=1.name'),\n         *\n         */\n        if(Array.isArray(targetValue)){\n\n          if(_index == 0){\n            clear = targetValue.length < 1\n\n            let parentPattern = inputToFormat.replace(/^([\\w\\.]+)(\\*)([\\w\\.\\*]+)$/, '$1*')\n            patternValues[parentPattern] = _.map(targetValue, (val) => inputToFormat.replace(/^([\\w\\.]+)(\\*)([\\w\\.\\*]+)$/, '$1*' + `id=${val}`))\n\n            let data = __data_get(handlerSchema, __wildcard_change(inputToFormat, targetValue))\n            _.each(data, (val,i) => clear\n              ? _.unset(previewValue, isMultiple ? `[${i}][${_index}]` : `[${i}]`)\n              : _.set(previewValue, isMultiple ? `[${i}][${_index}]` : `[${i}]`, val)  )\n            // _.set(previewValue, )\n          }else{\n            let parentPatterns\n\n            Object.keys(patternValues).forEach((prev) => {\n              let quotedPattern = __preg_quote(prev)\n              let pattern = new RegExp( String.raw`^(${quotedPattern}).([\\w\\$\\.\\*]+)`)\n              let matches = inputToFormat.match(pattern)\n\n              if(matches){\n                parentPatterns = patternValues[prev]\n                inputToFormat = matches[2]\n                return false\n              }\n            })\n\n            _.each(targetValue, (val, i) => {\n              if(val){\n\n                if(Array.isArray(val) && _.isEmpty(val)) return\n\n                let parentPattern = parentPatterns[i];\n                let ids = Array.isArray(val) ? val.join(',') : val\n\n                // let getter = [parentPattern, inputToFormat.replace(/^([\\w\\.]+)(\\*)([\\w\\.\\*]+)$/, '$1*' + `id=${ids}` + '$3')].join('.')\n                let getter = [parentPattern, __wildcard_change(inputToFormat, val)].join('.')\n                let data = __data_get(handlerSchema, getter).shift()\n\n                if(!data){\n                  console.warn('formatPreview error', {\n                    getter,\n                    inputToFormat,\n                    data,\n                    handlerSchema,\n\n                  })\n                  return\n                }\n                let formattedData = data[0] ?? ''\n\n                if(_index > 1 && Array.isArray(data)){\n                  formattedData = `(${data.join(', ')})`\n                }\n\n                _.set(previewValue, isMultiple ? `[${i}][${_index}]` : `[${_index}]`, formattedData)\n              }\n            })\n          }\n        }else{\n          // value = targetValue\n        }\n      }\n\n      if(!preview[index])\n        preview[index] = {}\n\n      if(clear)\n        _.unset(preview[index], handlerName)\n      else\n        preview[index][handlerName] = previewValue\n\n      return\n    }\n  },\n\n  formatPrependSchema: async function(args, model, schema, input, index = null, preview = []) {\n    const inputNotation = this.getInputToFormat(args, model, schema, index )\n\n    if(!inputNotation)\n      return\n\n    // const inputPropToFormat = args.shift() //\n    // const setterNotation = `${inputNotation}.${inputPropToFormat}`\n    const prepend = args.shift() // *.packageLanguages\n    const setterSchemaKey = args.shift() // schema.packageLanguages\n\n    let {handlerName, handlerSchema, handlerValue} = this.handlers(input, model, index)\n\n    if(__isObject(handlerValue))\n      handlerValue = Object.values(handlerValue)\n\n    if(Array.isArray(handlerValue) && handlerValue.length < 1)\n      return\n\n    if(handlerValue){\n      if(prepend){\n        handlerValue = __data_get(handlerValue, prepend)\n        if(prepend.match(/^\\*(.*)/)){\n          handlerValue = _.reduce(handlerValue, function(acc, array){\n            acc = [...(array ?? []), ...acc];\n\n            return [...new Set(acc)]\n          }, [])\n        }\n      }\n\n      let inputToPrepended = _.get(schema, inputNotation)\n\n      if(!inputToPrepended || !inputToPrepended.schema)\n          return\n\n      let oldSchema = _.cloneDeep(inputToPrepended.schema);\n\n      let prependerInput =  __data_get(handlerSchema, setterSchemaKey)\n\n      if(prependerInput && __isset(prependerInput.schema)){\n\n        if(Array.isArray(handlerValue)){\n          if(!prependerInput.items)\n            return\n          // __log(handlerValue)\n          handlerValue = _.reduce(handlerValue, (acc, id) => {\n            acc[id] = {\n              label_prefix: __data_get(prependerInput.items, `*id=${id}.${prependerInput.itemTitle}`)?.shift(),\n            }\n            return acc\n          }, {})\n        }\n        let newSchema = _.cloneDeep({})\n        let lastPrependedKeys = _.get(schema, inputNotation + '._prependedKeys', [])\n\n        let relatedKeys = []\n        for(const prependKey in prependerInput.schema){ // prependKey _content\n\n          let quotedPattern = __preg_quote(prependKey)\n          let pattern = new RegExp( String.raw`^(\\d+)(${quotedPattern})`)\n          for(const val in handlerValue){\n            let draftSchema = _.cloneDeep(prependerInput.schema[prependKey])\n\n            let pattern = /(\\$[\\w]+\\$)/\n            let _inputName = prependKey.replace(pattern, val)\n            relatedKeys.push(_inputName)\n            if(!oldSchema[_inputName]){\n              newSchema[_inputName] = {\n                ...draftSchema,\n                name: _inputName,\n                label: draftSchema.label\n                  ? `${handlerValue[val].label_prefix} ${draftSchema.label}`\n                  : __snakeToHeadline(handlerValue.label_prefix + draftSchema.name)\n              }\n            }\n          }\n        }\n\n        let deletedKeys = lastPrependedKeys.filter(key => !relatedKeys.includes(key))\n\n        // delete oldSchema last prepended keys that are not in newSchema\n        deletedKeys.forEach(key => {\n          delete oldSchema[key]\n        })\n        let prependedKeys = relatedKeys.filter(key => !deletedKeys.includes(key))\n\n        let updatedSchema =  Object.assign(newSchema, oldSchema)\n\n        if(JSON.stringify(inputToPrepended.schema) !== JSON.stringify(updatedSchema)){\n          _.set(schema, inputNotation + '.schema', updatedSchema)\n          _.set(schema, inputNotation + '._prependedKeys', prependedKeys)\n        }\n\n      }\n    }\n  },\n\n  handlers: (input, model, index = null) => {\n    const handlerName = input.name\n    const handlerModelName = input.name\n    const handlerSchemaName = input.key ?? input.name\n    const handlerSchema = input // schema[index][handlerName]\n    let handlerValue = __data_get(model, !isNaN(parseInt(index)) ? `${index}.${handlerModelName}` : handlerModelName)\n    // __log(handlerName, handlerValue)\n    if(!handlerValue && __isset(handlerSchema.parentName)){\n      handlerValue = __data_get(model, !isNaN(index) ? `${index}.${handlerSchema.parentName}.${handlerModelName}` : `${handlerSchema.parentName}.${handlerModelName}`)\n    }\n    // const handlerSchema = _.get(schema, `${index}.${handlerSchemaName}`)\n    // const handlerValue = _.get(model, `${index}.${handlerModelName}`)\n    return {\n      handlerName,\n      handlerModelName,\n      handlerSchemaName,\n      handlerSchema,\n      handlerValue\n    }\n  },\n  getInputToFormat(args, model, schema, input, index){\n\n    let inputToFormat = args.shift() // 2.packages || package\n    let inputNotationParts = []\n\n    let stages = inputToFormat.split('.')\n    let targetFormIndex = parseInt(stages[0])\n\n    if(isNaN(targetFormIndex)){\n      targetFormIndex = index\n    }else if(!Array.isArray(model)){\n      return false\n    }\n\n    if(Array.isArray(model)){\n      if(!isNaN(targetFormIndex)){\n        targetFormIndex -= 1\n        stages.shift()\n      }\n      inputNotationParts.push(`[${targetFormIndex}]`)\n    }\n\n    inputToFormat = stages.join('.')\n    inputNotationParts.push(inputToFormat)\n\n    return inputNotationParts.join('.')\n  }\n\n}\n\n\n\n","// hooks/useTableEndpoints.js\nimport { computed, ref, nextTick, watch } from 'vue'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nexport const makeTableEndpointsProps = propsFactory({\n  endpoints: {\n    type: Object,\n    default: () => ({})\n  },\n})\n\nexport default function useTableEndpoints(props) {\n\n  const createUrl = computed(() =>\n    props.endpoints.create ?? null\n  )\n  const editUrl = computed(() =>\n    props.endpoints.edit ??  null\n  )\n  const reorderUrl = computed(() =>\n    props.endpoints.reorder ?? null\n  )\n  const indexUrl = computed(() =>\n    props.endpoints.index ?? null\n  )\n\n  return {\n    // refs\n    createUrl,\n    editUrl,\n    reorderUrl,\n    indexUrl,\n\n  }\n}\n","// hooks/useTable.js\nimport { watch, computed, nextTick, reactive, toRefs, ref, toRef} from 'vue'\nimport { useDisplay } from 'vuetify'\nimport { useStore } from 'vuex'\nimport { useI18n } from 'vue-i18n'\nimport _ from 'lodash-es'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport api from '@/store/api/datatable'\n\nimport { DATATABLE, FORM } from '@/store/mutations/index'\nimport ACTIONS from '@/store/actions'\n\nimport { mapGetters } from '@/utils/mapStore'\nimport { getSubmitFormData } from '@/utils/getFormData.js'\n\nimport { useRoot,\n  useTableItem,\n  useTableNames,\n  useTableFilters,\n  useTableHeaders,\n  useTableForms,\n  useTableItemActions,\n  useTableModals,\n  useFormatter\n} from '@/hooks'\nimport useTableEndpoints from './useTableEndpoints'\n\nexport const makeTableProps = propsFactory({\n  fillHeight: {\n    type: Boolean,\n    default: false,\n  },\n  items: {\n    type: Array\n  },\n  hideFooter: {\n    type: Boolean,\n    default: false\n  },\n\n  tableOptions: {\n    type: Object\n  },\n  tableClasses: {\n    type: [String, Array],\n    default: ''\n  },\n\n  iteratorType: {\n    type: String,\n    default: '',\n  },\n  slots: {\n    type: Object,\n    default () {\n      return {}\n    }\n  },\n  nestedData: {\n    type: Object,\n    default () {\n      return {}\n    }\n  },\n\n  striped: Boolean,\n  hideBorderRow: Boolean,\n  roundedRows: Boolean,\n\n  fullWidthWrapper: {\n    type: Boolean,\n    default: false\n  },\n  noFullScreen: {\n    type: Boolean,\n    default: false\n  },\n  tableDensity:{\n    type:String,\n    default: 'comfortable',\n  },\n  toolbarOptions:{\n    type: Object,\n    default: {},\n  },\n  bulkActions: {\n    type: [Array, Object],\n    default: []\n  },\n  paginationOptions: {\n    type: [Array, Object],\n    default: {}\n  },\n\n  formAttributes: {\n    type: Object,\n    default: {}\n  },\n  formModalAttributes: {\n    type: Object,\n    default: {}\n  },\n\n  showSelect: {\n    type: Boolean,\n    default: true,\n  },\n  sticky:{\n    type: Boolean,\n    default: true,\n  },\n  controlsPosition: {\n    type: String,\n    default: 'top',\n  },\n\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useTable (props, context) {\n  // state encapsulated and managed by the composable\n  // a composable can also hook into its owner component's\n  // lifecycle to setup and teardown side effects.\n\n  const store = useStore()\n  const { smAndDown } = useDisplay()\n  const { t, te, tm } = useI18n({ useScope: 'global' })\n\n  const editedIndex = ref(-1)\n  let items = ref(props.items ?? store.state.datatable?.data ?? [])\n  const elements = computed({\n    get(){\n      return items.value;\n    },\n    set(val){\n      items.value = val\n    }\n  });\n\n  // Get item-related computeds\n  const tableItem = useTableItem()\n  // Get name-related computeds\n  const tableNames = useTableNames(props, {\n    editedIndex: editedIndex\n  })\n  // Get endpoints-related computeds\n  const tableEndpoints = useTableEndpoints(props)\n  // Get filter-related computeds\n  const tableFilters = useTableFilters(props)\n  // Get headers-related computeds\n  const tableHeaders = useTableHeaders(props)\n  // Get forms-related computeds\n  const tableForms = useTableForms(props, {\n    ...context,\n    ...tableNames\n  })\n  const tableModals = useTableModals(props)\n\n  const getters = mapGetters()\n\n  const form = ref(null)\n  const loading = ref(false)\n\n  const searchModel = ref(store.state.datatable.search ?? '')\n\n  const isStoreTable = computed(() => {\n    return props.endpoints.index.replace(/\\/$/, '').split('?')[0] === window.location.href.replace(/\\/$/, '').split('?')[0]\n  })\n\n  const options = ref(props.tableOptions ?? store.state.datatable.options ?? {})\n\n  const state = reactive({\n\n    id: Math.ceil(Math.random() * 1000000) + '-table',\n    hideTable: false,\n    searchPlaceholder: t(\"Type to Search\"),\n    fillHeight: computed(() => props.fillHeight),\n    windowSize: {\n      x: 0,\n      y: 0\n    },\n    isStoreTable,\n    options,\n    mobileTableLayout: computed(() => {\n      return smAndDown.value\n    }),\n    enableCustomFooter: computed(() =>  props.paginationOptions.footerComponent === 'vuePagination'),\n    footerProps: computed(() => {\n      const footerProps = props.paginationOptions.footerProps\n      if(state.enableInfiniteScroll){\n        return {\n          'hide-default-footer' : true,\n        }\n      }\n\n      return footerProps\n    }),\n    // elements: computed(() => props.items ?? store.state.datatable.data ?? []),\n    elements: elements,\n    // datatable store\n    loading: computed({\n      get() {\n        return isStoreTable.value ? store.state.datatable.loading : loading.value\n      },\n      set(val) {\n        loading.value = val\n      }\n    }),\n    editedIndex: editedIndex,\n    selectedItems: [],\n\n    activeTableItem: null,\n    activeItemConfiguration: null,\n    enableInfiniteScroll: computed(() => props.paginationOptions.footerComponent === 'infiniteScroll' && getters.totalElements.value > state.elements.length),\n    draggableItems: computed(() => {\n      const items = state.elements.reduce((prev, curr, currentIndex) => {\n        const newItem = {\n          \"type\": \"item\",\n          \"key\": currentIndex+1,\n          \"value\": curr.id, // Todo datatable ref item-key prop instead of static.id\n          \"index\" : currentIndex,\n          \"selectable\": props.showSelect,\n          \"columns\": tableHeaders.headers.value.reduce((headersPrev, header) => {\n            headersPrev[header.key] = curr[header.key]\n\n            return headersPrev\n          }, {})\n        };\n\n        // prev.push(newItem);\n        prev[currentIndex] = newItem\n        return prev;\n      }, []); // Array of Objects\n\n      return items;\n    }),\n\n    searchModel\n  })\n\n  const tableItemActions = useTableItemActions(props, {\n    ...context,\n    ...{\n      tableForms,\n      tableModals,\n      tableEndpoints\n    }\n\n  })\n  const methods = reactive({\n    onResize () {\n      state.windowSize = { x: window.innerWidth, y: window.innerHeight }\n    },\n    initialize: function () {\n\n      if(!isStoreTable.value){\n        store.commit(DATATABLE.UPDATE_DATATABLE_SEARCH, '')\n      } else {\n        state.loading = true\n        store.dispatch(ACTIONS.GET_DATATABLE, { callback: (res) => {\n          state.loading = false\n        }})\n      }\n      // store.commit(\n      //   DATATABLE.UPDATE_DATATABLE_OPTIONS,\n      //   window[import.meta.env.VUE_APP_NAME].STORE.datatable.options\n      // )\n    },\n    goNextPage () {\n      if (state.options.page < store.getters.totalPage) { state.options.page += 1 }\n    },\n    goPreviousPage () {\n      if (state.options.page > 1) { state.options.page -= 1 }\n    },\n    changeOptions(options){\n      if(!_.isEqual(options, state.options)){\n        state.options = options\n      }\n    },\n    onIntersect(isIntersecting, entries, observer){\n      if(isIntersecting && entries[0].intersectionRatio === 1){\n        methods.goNextPage()\n      }\n    },\n    loadItems(options = null){\n      state.loading = true\n\n      api.get(\n        tableEndpoints.indexUrl.value, options ?? state.options, function(response){\n          const incomingDataArray = response.resource.data\n          if(state.enableInfiniteScroll){\n            state.elements = state.elements.push(incomingDataArray)\n          }else{\n            state.elements = incomingDataArray\n          }\n          state.loading = false\n        }\n      )\n    },\n\n    setEditedItem: tableItem.setEditedItem,\n    resetEditedItem: tableItem.resetEditedItem,\n\n    setBulkItems(){\n      store.commit(DATATABLE.REPLACE_DATATABLE_BULK, state.selectedItems)\n    },\n    async bulkAction(action){\n      methods.setBulkItems()\n      let studlyCase = _.snakeCase(action.name).toUpperCase()\n      if(__isset(ACTIONS[studlyCase])){\n        await store.dispatch(ACTIONS[studlyCase])\n        state.selectedItems = []\n      } else {\n        // console.error(`${error}`)\n        console.warn(`${action.name} may have not implemented yet on useTable.js hook`)\n      }\n    },\n    // async bulkDelete(){\n    //   await store.dispatch(ACTIONS.BULK_DELETE)\n    //   state.selectedItems = []\n    // },\n    // async bulkRestore(){\n    //   await store.dispatch(ACTIONS.BULK_RESTORE)\n    //   state.selectedItems = []\n    // },\n    // async bulkForceDelete(){\n    //   await store.dispatch(ACTIONS.BULK_DESTROY)\n    //   state.selectedItems = []\n    // },\n    confirmAction(){\n      methods.bulkAction(state.selectedAction)\n      state.actionModalActive = false\n    },\n    closeActionModal(){\n      state.actionModalActive = false\n    },\n    sortElements(list){\n      // state.elements = list;\n\n      api.reorder(\n        tableEndpoints.reorderUrl.value,\n        // For Optimistic UI approach, did not query for new list,\n        // used response.status and new modelValue\n        list.map((element) => element.id), function(response){\n          if(response.status === 200){\n            list.forEach((element, index) => element.position = index+1)\n            state.elements = list\n          }\n        }\n      )\n\n    },\n    hydrateNestedData: function (item, data) {\n      const valuePattern = /\\$([A-Za-z]+)/\n      // const urlPattern = /\\/:([A-Za-z])+/\n      for (const key in data) {\n        if (__isString(data[key])) {\n          const matches = data[key].match(valuePattern)\n          if (matches) {\n            const match = matches[1]\n            // __log(item)\n            if (state.snakeName === match) {\n              data[key] = getSubmitFormData(data.schema, item, store.state)\n              if (data.actionUrl) {\n                data.actionUrl = data.actionUrl.replace(`:${match}`, data[key].id)\n              }\n            } else if (item[match]) {\n              data[key] = getSubmitFormData(data.schema, item[match], store.state)\n              if (data.actionUrl) {\n                data.actionUrl = data.actionUrl.replace(`:${match}`, data[key].id)\n              }\n            }\n          }\n        } else if (Array.isArray(data[key]) || _.isObject(data[key])) {\n          data[key] = methods.hydrateNestedData(item, data[key])\n        }\n      }\n\n      return data\n    },\n    searchItems(){\n      if(tableFilters.search.value !== searchModel.value){\n        tableFilters.search.value = searchModel.value\n      }\n    }\n  })\n\n  watch(() => tableItem.editedItem.value, (newValue, oldValue) => {\n    state.editedIndex = state.elements.findIndex(o => { return o.id === newValue.id })\n  })\n  watch(() => state.activeTableItem, (newValue, oldValue) => {\n    if (newValue) {\n      // hydrate abstract fields\n      state.activeItemConfiguration = methods.hydrateNestedData(newValue, JSON.parse(JSON.stringify(props.nestedData)))\n      // __log(methods.hydrateNestedData(newValue, activeItemConfiguration))\n    }\n  }, { deep: true })\n  // watch(() => state.formActive, (newValue, oldValue) => {\n  //   newValue || form.value.resetValidation() || methods.resetEditedItem()\n  // })\n  watch(() => state.deleteModalActive, (newValue, oldValue) => {\n    newValue || methods.resetEditedItem()\n  })\n  watch(() => state.options, (newValue, oldValue) => {\n    if (isStoreTable.value) {\n      store.dispatch(ACTIONS.GET_DATATABLE, { payload: { options: newValue, infiniteScroll: state.enableInfiniteScroll }, endpoint : props.endpoints.index ?? null})\n    }else {\n      newValue.replaceUrl = false\n      methods.loadItems(newValue)\n    }\n\n  }, { deep: true })\n  watch(() => state.elements, (newValue, oldValue) => {\n\n    // Refresh edited item\n    if(state.editedIndex > -1) {\n      let refreshItem = newValue[state.editedIndex]\n      tableItem.setEditedItem(refreshItem)\n    }\n  }, { deep: true })\n  watch(() => store.state.datatable.data, (newValue, oldValue) => {\n    state.elements = newValue;\n  })\n\n  const formatter = useFormatter(props, context, tableHeaders.headers.value)\n\n  return {\n    form,\n    ...toRefs(state),\n    ...toRefs(methods),\n    ...tableNames,\n    ...tableFilters,\n    ...tableHeaders,\n    ...tableForms,\n    ...tableItemActions,\n    ...tableModals,\n    ...formatter,\n    ...getters,\n  }\n}\n","// hooks/useTable.js\nimport { watch, computed, nextTick, reactive, toRefs } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nexport const makeModelValueProps = propsFactory({\n  modelValue: [String, Number, Object, Boolean]\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useModelValue (props, context, name = 'activeItem') {\n  const state = reactive({\n    [name]: computed({\n      get () {\n        __log('getter', props.modelValue)\n        return props.modelValue\n      },\n      set (value) {\n        return context.emit('update:modelValue', value)\n      }\n    })\n  })\n\n  return toRefs(state)\n}\n","// hooks/useTable.js\nimport { reactive, toRefs, computed, watch } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport { useProxiedModel } from 'vuetify/lib/composables/proxiedModel.mjs'\n\nimport { makeModelValueProps } from '__hooks/useModelValue'\n\nexport const makeActiveTableItemProps = propsFactory({\n  ...makeModelValueProps(),\n  tableHeaders: {\n    type: Array,\n    default: []\n  },\n  itemData: {\n    type: Object,\n    default () {\n      return {}\n    }\n  }\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useActiveTableItem (props, context) {\n  // __log(props, context)\n  const model = useProxiedModel(props, 'modelValue')\n  const item = computed({\n    get: () => model.value,\n    set: v => {\n      __log('setter', v)\n      model.value = v\n    }\n  })\n\n  const state = reactive({\n    modalOpened: false,\n    modalActive: false,\n    modalStatus: computed(() => {\n      return state.modalOpened && !!item.value\n    }),\n\n    activeKey: null,\n    activeBlock: computed(() => state.activeKey ? props.itemData[state.activeKey] : null),\n\n    items: computed(() => item.value ? [item.value] : [])\n  })\n\n  const methods = reactive({\n    selectNested: function (key) {\n      state.activeKey = key\n      // state.modalActive = false\n      context.emit('toggle', true)\n    },\n    clickOutside: function (event) {\n      item.value = null\n      state.activeKey = null\n    },\n    closeItemDetails: function (key = '') {\n      state.modalActive = true\n      state.activeKey = null\n\n      // item.value = null\n      context.emit('toggle', false)\n    }\n  })\n\n  watch(() => item.value, (newValue, oldValue) => {\n    state.modalActive = (!!newValue && newValue !== oldValue)\n  })\n  watch(() => state.activeKey, (newValue, oldValue) => {\n    if (newValue) {\n      state.modalActive = false\n    }\n  })\n\n  watch(() => props.itemData, (newValue, oldValue) => {\n    __log('itemData watch', newValue)\n  })\n\n  // expose managed state as return value\n  return {\n    item,\n    ...toRefs(state),\n    ...toRefs(methods)\n  }\n}\n","// hooks/formatter .js\n\n// import { ref, watch, computed, nextTick } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport _, { cloneDeep } from 'lodash-es'\nimport { reactive, toRefs, toRef, watch } from 'vue'\n\n// by convention, composable function names start with \"use\"\nexport default function useValidation (props) {\n  // state encapsulated and managed by the composable\n  // const { d } = useI18n({ useScope: 'global' })\n\n  // const formatterColumns = ref(headers.filter((h) =>\n  //   h.hasOwnProperty('formatter') && h.formatter.length > 0\n  // ))\n\n  const { valid } = toRefs(props)\n\n  const state = reactive({\n    validModel: valid?.value ?? null,\n  })\n\n  const ruleMethods = reactive({\n    minRule: (l, msg) => v => (!!v && v.length >= l) || msg || `min. ${l} ${Array.isArray(v) ? 'Selections' : 'Characters'}`,\n    maxRule: (l, msg) => v => (!!v && v.length <= l) || msg || `max. ${l} ${Array.isArray(v) ? 'Selections' : 'Characters'}`,\n    // requiredRule: msg => v => !!v || msg || 'Required',\n    emailRule: (msg) => v => (/.+@.+\\..+/.test(v)) || msg || 'E-mail must be valid',\n    requiredRule: (type ='classic',  minOrExact = 1, max, msg) => v => {\n      switch(type) {\n        case 'classic':\n          return !!v || msg || 'Required';\n        case 'array':\n        case 'object':\n          max = (max == undefined) ? -1 : max;\n          let $msg = ((minOrExact == max || max < 0) ? `Requires exactly ${minOrExact} items` : `Requires at least ${minOrExact}${((max != Infinity  && max != undefined) ? ', and maximum of:' + max : '')}) elements`);\n          // let $msg = ((max != Infinity) ? ', maximum:' + max : '');\n          // __log(v.length, minOrExact, max )\n          if(Array.isArray(v)) {\n            return v.length >= minOrExact && ( max < 0 || v.length <= max) || msg || $msg;\n          }\n          else if(__isObject(v)) {\n            return  Object.keys(v).length >= minOrExact &&  (max < 0 || Object.keys(v).length <= max) || msg || $msg;\n          }\n          return 'dev error: nsupported value type';\n        default:\n          return 'dev error: unknown rule type';\n      }\n    },\n    arrayRule: (msg) => v => Array.isArray(v) || msg || `Value must be array`,\n    // requiredArrayRule: (msg, l = 1) => v => (Array.isArray(v) && v.length >= l) || msg || ''\n    // confirmedRule: (confirmInputValue, msg) => v => {\n    //   // const _val = toRef('model.' + confirmationValue)\n    //   __log(v, confirmInputValue)\n    //   return v === confirmInputValue || msg || 'Passwords do not match'\n    //   // return v === this.model[confirmationValue] || msg || 'Passwords do not match'\n    // }\n    generateInputRules,\n    validateInput\n  })\n\n  // function invokeRuleValidator () {\n  //   // __log(methods, obj.schema, methods.hasOwnProperty('passwordHandler'))\n  //   const camelSlotName = _.camelCase(slotName)\n\n  //   if (obj.schema.hasOwnProperty('slotHandlers') &&\n  //     obj.schema.slotHandlers.hasOwnProperty(camelSlotName)) {\n  //     const name = _.camelCase(obj.schema.slotHandlers[camelSlotName])\n  //     const func = `${name}Handler`\n  //     return methods[func](obj, camelSlotName)\n  //   }\n  // }\n\n  function generateInputRules(input){\n    let availableRules = []\n\n    if (Object.prototype.hasOwnProperty.call(input, 'rules')) {\n      let rules = input.rawRules ?? input.rules\n\n      let arrayRules\n      if (window.__isString(rules)) {\n        arrayRules = rules.split('|')\n      } else {\n        arrayRules = rules\n      }\n\n      arrayRules.forEach((rule, index) => {\n        if (window.__isString(rule)) {\n          rule = rule.split(':')\n        }\n        const method = rule[0] + 'Rule'\n        if (Object.prototype.hasOwnProperty.call(ruleMethods, method)) {\n          availableRules.push(ruleMethods[method](...(rule.slice(1))))\n        }\n      })\n    }\n\n    return availableRules\n  }\n\n  function validateInput(input, v){\n    let ruleFuncs = generateInputRules(input)\n\n    let isValid = true\n\n    for(const i in ruleFuncs){\n      let result = ruleFuncs[i](v)\n      if(result !== true){\n        isValid = result\n        break\n      }\n    }\n\n    return isValid\n  }\n\n  function invokeRule(input){\n    let Input = cloneDeep(input)\n    let _input = cloneDeep(input)\n\n    if (Object.prototype.hasOwnProperty.call(_input, 'rules')) {\n      Input.rawRules = !__isset(Input.rawRules)\n        ? _input.rules\n        : Input.rawRules\n\n      if (window.__isString(Input.rawRules)) {\n        _input.rules = Input.rawRules.split('|')\n      } else {\n        _input.rules = Input.rawRules\n      }\n      Input.rules = []\n      _input.rules.forEach((rule, index) => {\n        if (window.__isString(rule)) {\n          rule = rule.split(':')\n        }\n        const method = rule[0] + 'Rule'\n        if (Object.prototype.hasOwnProperty.call(ruleMethods, method)) {\n          Input.rules.push(ruleMethods[method](...(rule.slice(1))))\n        }\n      })\n    }\n\n    if(__isset(Input.schema)){\n      Input.schema = invokeRuleGenerator(Input.schema)\n    }\n\n    if(!__isset(input.rawRules)){\n      Input.rules = []\n      Input.rawRules = ''\n    }\n\n    return Input\n  }\n\n  function invokeRuleGenerator (inputs) {\n    const _inputs = cloneDeep(inputs)\n\n    if (__isObject(_inputs)) {\n      Object.keys(_inputs).forEach((name) => {\n        if (Object.prototype.hasOwnProperty.call(_inputs[name], 'rules')) {\n          inputs[name].rawRules = !__isset(inputs[name].rawRules)\n            ? _inputs[name].rules\n            : inputs[name].rawRules\n\n          if (window.__isString(inputs[name].rawRules)) {\n            _inputs[name].rules = inputs[name].rawRules.split('|')\n          } else {\n            _inputs[name].rules = inputs[name].rawRules\n          }\n          inputs[name].rules = []\n          _inputs[name].rules.forEach((rule, index) => {\n            if (window.__isString(rule)) {\n              rule = rule.split(':')\n            }\n            const method = rule[0] + 'Rule'\n            if (Object.prototype.hasOwnProperty.call(ruleMethods, method)) {\n              // __log(name, method, rule.slice(1))\n              inputs[name].rules.push(ruleMethods[method](...(rule.slice(1))))\n              // try {\n              //\n              // } catch (error) {\n              //   delete inputs[name].rules[index]\n              // }\n            }\n          })\n        }\n        if(__isset(inputs[name].schema)){\n          inputs[name].schema = invokeRuleGenerator(inputs[name].schema)\n        }\n      })\n    }\n\n    return inputs\n  }\n\n  watch(() => state.valid, (newValue, oldValue) => {\n    // __log('validForm watch', newValue, oldValue)\n  })\n  // expose managed state as return value\n  return {\n    // invokeRuleValidator,\n    invokeRule,\n    invokeRuleGenerator,\n    ...toRefs(ruleMethods),\n    ...toRefs(state)\n  }\n}\n","/* States classes that can be added on the html root element */\nexport default {\n  modal: 's--modal',\n  overlay: 's--overlay',\n  editor: 's--in-editor',\n  search: 's--search'\n}\n","// hooks/formatter .js\n\n// import { ref, watch, computed, nextTick } from 'vue'\nimport { reactive, toRefs, computed, ref } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport htmlClasses from '@/utils/htmlClasses'\nimport { useI18n } from 'vue-i18n'\n\nconst defaultWidths = {\n  xs: '320px',\n  sm: '480px',\n  md: '540px',\n  lg: '1080px',\n  xl: '1600px'\n}\n\nexport const makeModalProps = propsFactory({\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  transition: {\n    type: String,\n    default: 'bottom'\n  },\n  widthType: {\n    type: String,\n    default: 'md',\n    validator: v => Object.prototype.hasOwnProperty.call(defaultWidths, v)\n  },\n  hasSystembar: {\n    type: Boolean,\n    default: false\n  },\n  fullscreen: {\n    type: Boolean,\n    default: false\n  },\n  cancelText: {\n    type: String,\n    default: ''\n  },\n  confirmText: {\n    type: String,\n    default: ''\n  },\n  descriptionText: {\n    type: String,\n    default: ''\n  }\n})\n\nexport const makeModalMediaProps = propsFactory({\n  modalTitlePrefix: {\n    type: String,\n    default: function (props) {\n      return useI18n().t('media-library.title', 'Media Library')\n    }\n  },\n  btnLabelSingle: {\n    type: String,\n    default: function () {\n      return useI18n().t('media-library.insert', 'Insert')\n    }\n  },\n  btnLabelUpdate: {\n    type: String,\n    default: function () {\n      return useI18n().t('media-library.update', 'Update')\n    }\n  },\n  btnLabelMulti: {\n    type: String,\n    default: function () {\n      return useI18n().t('media-library.insert', 'Insert')\n    }\n  },\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useModal (props, context) {\n  const { modelValue } = toRefs(props)\n\n  const full = ref(props.fullscreen)\n  const states = reactive({\n    modalClass: htmlClasses.modal,\n    width: props.widthType,\n    full,\n    dialog: computed({\n      get: () => {\n        return modelValue.value\n      },\n      set: (value, old) => {\n        // __log('modalOpened setter')\n        methods.emitModelValue(value)\n      }\n    }),\n    togglePersistent: computed(() => props.persistent),\n    toggleScrollable: computed(() => props.scrollable),\n    modalWidth: computed(() => props.widthType && !full.value ? defaultWidths[props.widthType] : null)\n\n  })\n  const methods = reactive({\n    emitModelValue: function (val) {\n      context.emit('update:modelValue', val)\n    },\n    emitOpened: function (val) {\n      context.emit('opened', val)\n    },\n    clickOutside: function (event) {\n      context.emit('click:outside', event)\n    }\n  })\n\n  // const computed =\n\n  // expose managed state as return value\n  return {\n    // ...toRefs(_props),\n    ...toRefs(methods),\n    ...toRefs(states)\n  }\n}\n","// hooks/formatter .js\n\n// import { ref, watch, computed, nextTick } from 'vue'\nimport { reactive, toRefs, computed } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport htmlClasses from '@/utils/htmlClasses'\n\nexport const makeDraggableProps = propsFactory({\n  /**\n   * Define if the component can be draggable or not\n   * @type {Boolean}\n   */\n  draggable: {\n    type: Boolean,\n    default: false\n  },\n  orderKey: {\n    type: String,\n    default: 'position'\n  }\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useDraggable (props, context) {\n  const state = reactive({\n    animation: 150,\n    handle: '.drag__handle',\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    scrollSensitivity: 30,\n\n    dragOptions: computed(() => {\n      return {\n        disabled: !props.draggable,\n        animation: state.animation\n        // handle: state.handle\n        // ghostClass: state.ghostClass,\n        // chosenClass: state.chosenClass,\n        // dragClass: state.dragClass,\n        // scrollSensitivity: state.scrollSensitivity,\n      }\n    })\n  })\n  const methods = reactive({\n\n  })\n\n  // const computed =\n\n  // expose managed state as return value\n  return {\n    // ...toRefs(_props),\n    ...toRefs(methods),\n    ...toRefs(state)\n  }\n}\n","// hooks/formatter .js\n\n// import { ref, watch, computed, nextTick } from 'vue'\nimport { reactive, toRefs, computed, ref } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport { transform, cloneDeep, filter, omit, find, isEmpty, map, reduce } from 'lodash-es'\nimport { getModel } from '@/utils/getFormData'\nimport { useI18n } from 'vue-i18n'\nimport { useStore } from 'vuex'\n\nimport { makeInputProps } from '@/hooks/'\n\nimport {\n  useValidation,\n  useInput\n} from '@/hooks'\n\nimport { ALERT } from '@/store/mutations'\n\nexport const makeRepeaterProps = propsFactory({\n  ...makeInputProps(),\n  modelValue: {\n    type: Array,\n    default: []\n  },\n  max: {\n    type: Number,\n    default: -1\n  },\n  min: {\n    type: Number,\n    default: -1\n  },\n  label: {\n    type: String,\n    default: ''\n  },\n  subtitle: {\n    type: String\n  },\n  singularLabel: {\n    type: String\n  },\n  schema: {\n    type: Object,\n    default: () => {}\n  },\n  rowAttribute: {\n    type: Object,\n    default () {\n      return {\n        noGutters: false,\n      }\n    }\n  },\n  formRowAttribute: {\n    type: Object,\n    default () {\n      return {\n        noGutters: false,\n        class: 'ml-12'\n        // justify:'center',\n        // align:'center'\n      }\n    }\n  },\n  noAddButton: {\n    type: Boolean,\n    default: false\n  },\n  addButtonText: {\n    type: String,\n    default () {\n      return useI18n().t('ADD NEW')\n    }\n  },\n  buttonHasLabel: {\n    type: Boolean,\n    default: false\n  },\n  withGutter: {\n    type: Boolean,\n    default: false\n  },\n  autoIdGenerator: {\n    type: Boolean,\n    default: true\n  },\n  hasHeaders: {\n    type: Boolean,\n    default: true\n  },\n  isUnique: {\n    type: Boolean,\n    default: false\n  },\n  uniqueValue: {\n    type: String,\n    default: 'id'\n  },\n  uniqueField: {\n    type: String,\n    default: null\n  },\n  disableAddButton: {\n    type: Boolean,\n    default: true\n  },\n  formCol: {\n    type: Object,\n    default: () => {\n      return { cols: 12 }\n    }\n  },\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useRepeater (props, context) {\n  const store = useStore()\n\n  const { invokeRuleGenerator } = useValidation(props, context)\n  const inputHook = useInput(props, context)\n\n  const { modelValue } = toRefs(props)\n  const isUnique = props.isUnique\n  const uniqueValue = props.uniqueValue\n  const uniqueFilledValues = ref([])\n  let uniqueField = null\n  let uniqueInput = null\n\n  if (isUnique && window.__isset(props.schema) && Object.keys(props.schema).length > 0) {\n    uniqueField = props.uniqueField ?? Object.values(props.schema)[0].name\n    uniqueInput = props.schema[uniqueField]\n  }\n\n  function namingRepeaterField (index, name) {\n    return `repeater${inputHook.id.value}[${index}][${name}]`\n  }\n\n  function hydrateRepeaterInput (item, index) {\n    const model = getModel(state.processedSchema, item)\n    const extraFields = {}\n\n    if (props.draggable && !model[props.orderKey]) {\n      extraFields[props.orderKey] = index + 1\n    }\n\n    return {\n      ...(props.autoIdGenerator ? { id: index } : {}),\n      ...transform(omit(model, []), (o, v, k) => {\n        o[namingRepeaterField(index, k)] = v\n      }),\n      ...extraFields\n    }\n  }\n\n  function hydrateRepeaterInputs (model) {\n    // return model; // Burayı açman gerekebilir.\n    return model.map((item, i) => {\n      return hydrateRepeaterInput(item, i)\n    })\n  }\n\n  function hydrateSchemas (inputs) {\n    const schemas = []\n    inputs.forEach((item, i) => {\n      const processedSchema = cloneDeep(state.processedSchema)\n\n      // remove the items selected at other repeats\n      if (isUnique) {\n        if (processedSchema[uniqueField]) {\n          const _model = parseRepeaterInput(state.repeaterInputs[i])\n          const selfValue = _model[uniqueField]\n          // __log('hydrateSchemas', selfValue, uniqueFilledValues.value, state.processedSchema[uniqueField].items)\n          processedSchema[uniqueField].items = uniqueInput.items.filter(item => !(uniqueFilledValues.value.includes(item[uniqueValue]) && selfValue !== item[uniqueValue]))\n        }\n      }\n\n      const schema = invokeRuleGenerator(processedSchema)\n\n      schemas[i] = transform(schema, (schema, input, key) => {\n        const _input = cloneDeep(input)\n        const newName = namingRepeaterField(i, input.name)\n        _input.name = newName\n        schema[newName] = _input\n      })\n\n      Object.keys(schemas[i]).forEach(inputName => {\n        const input = schemas[i][inputName]\n        if (Object.prototype.hasOwnProperty.call(input, 'cascade')) {\n          const cascadedName = namingRepeaterField(i, input.cascade)\n          schemas[i][cascadedName][input.cascadeKey] = find(input.items, [input.itemValue, item[inputName]])?.schema ?? []\n        }\n      })\n    })\n\n    return schemas\n  }\n\n  function parseRepeaterInput (object, i) {\n    // let pattern = /repeater${this.id}[(\\w+)]/\n    const pattern = /\\[(.*?)\\]/gi\n\n    const extraFields = {}\n\n    if (props.draggable) {\n      extraFields[props.orderKey] = i + 1\n    }\n\n    return {\n      ...transform(object, (o, v, k) => {\n        const matches = k.match(pattern)\n        if (matches) {\n          const keys = matches.map(match => match.replace(pattern, '$1'))\n          o[keys.pop()] = v\n        }\n      }),\n      ...extraFields\n    }\n  }\n\n  function parseRepeaterInputs (model) {\n    return model.map((object, i) => {\n      return parseRepeaterInput(object, i)\n    })\n  }\n\n  const state = reactive({\n    repeaterInputs: computed({\n      get: () => {\n        if (isEmpty(props.schema)) {\n          return []\n        }\n        let rawSchema = cloneDeep(props.schema)\n\n        const initialRepeats = hydrateRepeaterInputs(Array.isArray(modelValue.value) ? modelValue.value : [])\n\n        if (initialRepeats.length > 0) {\n          const parsedInitialRepeats = parseRepeaterInputs(initialRepeats).map(item => {\n            return omit(item, ['id'])\n          })\n          if (JSON.stringify(modelValue.value) !== JSON.stringify(parsedInitialRepeats)) {\n            parsedInitialRepeats.forEach((item, index) => {\n              modelValue.value[index] = item\n            })\n          }\n        }\n        // if (props.min > 0 && initialRepeats.length < props.min) {\n        //   const schema = invokeRuleGenerator(rawSchema)\n        //   initialRepeats.push(hydrateRepeaterInput(getModel(schema), 1))\n        // }\n        if (isUnique) {\n          uniqueFilledValues.value = reduce(cloneDeep(initialRepeats), (acc, _rawModel) => {\n            const _model = parseRepeaterInput(_rawModel)\n            if (uniqueField && _model[uniqueField]) {\n              acc.push(_model[uniqueField])\n            }\n            return acc\n          }, [])\n        }\n\n        return initialRepeats\n      },\n      set: (val, old) => {\n        // working on only deleting a repeat\n        inputHook.updateModelValue.value(parseRepeaterInputs(val))\n      }\n    }),\n\n    totalRepeats: computed(() => state.repeaterInputs.length),\n    isRemainingAddible: computed(() => (!isUnique || (state.totalRepeats < uniqueInput.items.length && state.totalRepeats < uniqueInput.items.filter(item => item[uniqueValue] > 0).length))),\n    isAddible: computed(() => ((props.max < 1) || state.totalRepeats < props.max) && state.isRemainingAddible),\n    isDeletable: computed(() => (props.min < 1) || state.totalRepeats > props.min),\n    addButtonIsActive: computed(() => !props.disableAddButton || state.isAddible),\n    // repeaterSchemas_: computed({\n    //   get: () => {\n    //     // __log('repeaterSchemas getter', hydrateSchemas(state.repeaterInputs))\n    //     return hydrateSchemas(state.repeaterInputs)\n    //   },\n    //   set: (val, old) => {\n    //     // __log('repeaterSchemas setter', value)\n    //   }\n    // }),\n    repeaterSchemas: computed(() => hydrateSchemas(state.repeaterInputs)),\n    selectFieldSlots: computed(() => {\n      const slotableSchemas = []\n      filter(props.schema, function (schema, key) {\n        return Object.prototype.hasOwnProperty.call(schema, 'slots') && Object.keys(schema.slots).length > 0\n      }).forEach((schema, index) => {\n        const _schema = cloneDeep(schema)\n        state.repeaterInputs.forEach((input, i) => {\n          const element = []\n          // [input_name, slot_name, slotObject]\n          for (const name in _schema.slots) {\n            element.push({\n              inputName: namingRepeaterField(i, _schema.name),\n              name,\n              context: _schema.slots[name]\n            })\n          }\n          slotableSchemas.push(element)\n        })\n      })\n      return slotableSchemas\n    }),\n    processedSchema: computed(() => {\n      if (props.hasHeaders) {\n        return reduce(cloneDeep(props.schema ?? {}), (acc, input, name) => {\n          acc[name] = omit(input, ['label'])\n\n          return acc\n        }, {})\n      }\n      return cloneDeep(props.schema ?? {})\n    }),\n    headers: map(props.schema ?? [], input => {\n      return {\n        title: input.label || __headline(input.name),\n        col: input.col\n      }\n    }),\n    addButtonContent: computed(() => {\n      return props.addButtonText + (props.buttonHasLabel && __isset(props.singularLabel) ? ` ${props.singularLabel}` : '')\n    })\n  })\n\n  const methods = reactive({\n    onUpdateRepeaterInput (value, index) {\n      modelValue.value[index] = parseRepeaterInput(value, index)\n    },\n    onHoverContent (index) {\n      // __log('onHoverContent', index)\n    },\n    addRepeaterBlock: function () {\n      if (state.isAddible) {\n        const schema = invokeRuleGenerator(cloneDeep(props.schema))\n        modelValue.value.push(hydrateRepeaterInput(getModel(schema), state.totalRepeats))\n      } else {\n        let message = `You cannot add new item, because the number of elements should be at much ${props.max}`\n        if (!state.isRemainingAddible) {\n          message = `You cannot add new item, because there are no more items to add`\n        }\n        store.commit(ALERT.SET_ALERT, { message, variant: 'warning', location: 'top' })\n      }\n    },\n    deleteRepeaterBlock: function (index) {\n      if (state.isDeletable) {\n        const newModel = parseRepeaterInputs(state.repeaterInputs)\n        newModel.splice(index, 1)\n        state.repeaterInputs = hydrateRepeaterInputs(newModel)\n      } else {\n        store.commit(ALERT.SET_ALERT, { message: `You cannot delete, because the number of elements should be at least ${props.min}`, variant: 'warning', location: 'top' })\n      }\n    },\n    duplicateRepeaterBlock: function (index) {\n      if (state.isAddible) {\n        const newModel = parseRepeaterInputs(state.repeaterInputs)\n        newModel.push(newModel[index])\n        state.repeaterInputs = hydrateRepeaterInputs(newModel)\n      } else {\n        store.commit(ALERT.SET_ALERT, { message: `You cannot add new item, because the number of elements should be at much ${props.max}`, variant: 'warning', location: 'top' })\n      }\n    }\n  })\n\n  // watch(() => state.repeaterInputs, (newValue, oldValue) => {\n  //   __log('repeaterInputs watch', newValue)\n  //   // inputHook.updateModelValue.value(parseRepeaterInputs(newValue))\n  // }, { deep: true })\n  // watch(() => props.modelValue, (newValue, oldValue) => {\n  //   __log('props.modelValue watch', props.modelValue, newValue)\n  //   state.repeaterInputs = hydrateRepeaterInputs(newValue)\n  // }, { deep: true })\n\n  // expose managed state as return value\n  return {\n    // ...toRefs(_props),\n    ...toRefs(methods),\n    ...toRefs(state),\n    invokeRuleGenerator,\n    ...inputHook\n  }\n}\n","// hooks/formatter .js\n\n// import { ref, watch, computed, nextTick } from 'vue'\nimport { reactive, toRefs, computed, watch } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport { useStore } from 'vuex'\nimport { mapGetters } from '@/utils/mapStore'\n\nimport { MEDIA_LIBRARY } from '@/store/mutations/index'\nimport ACTIONS from '@/store/actions'\n\nimport { useRoot, makeInputProps, makeDraggableProps, useInput } from '@/hooks/'\nimport { useI18n } from 'vue-i18n'\n\nexport const makeFileProps = propsFactory({\n  ...makeInputProps(),\n  ...makeDraggableProps(),\n  mediaType: {\n    type: String,\n    default: 'file'\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  itemLabel: {\n    type: String,\n    default () {\n      return useI18n().t('File')\n    }\n  },\n  endpoint: {\n    type: String,\n    default: ''\n  },\n  // draggable: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  max: {\n    type: Number,\n    default: 1\n  },\n  note: {\n    type: String,\n    default: ''\n  },\n  fieldNote: {\n    type: String,\n    default: ''\n  },\n  filesizeMax: {\n    type: Number,\n    default: 0\n  },\n  buttonOnTop: {\n    type: Boolean,\n    default: false\n  }\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useFile (props, context) {\n\n  const store = useStore()\n  const inputHook = useInput(props, context)\n  const { modelValue, obj } = toRefs(props)\n  const getters = mapGetters()\n  const { t } = useI18n({ useScope: 'global' })\n\n  const states = reactive({\n    mediableActive: false,\n\n    handle: '.item__handle',\n    addLabel: computed(() => t('ADD') + ' ' + props.itemLabel),\n    items: computed({\n      get: () => {\n        if (store.state.mediaLibrary.selected.hasOwnProperty(props.name)) {\n          return store.state.mediaLibrary.selected[props.name] || []\n        } else {\n          return []\n        }\n      },\n      set: (value, old) => {\n        // store.commit(MEDIA_LIBRARY.REORDER_MEDIAS, {\n        //   name: props.name,\n        //   medias: value\n        // })\n      }\n    }),\n    input_: computed({\n      get: () => {\n        // __log('input getter', modelValue.value)\n        return modelValue.value ?? []\n      },\n      set: (value, old) => {\n        inputHook.updateModelValue.value(value)\n        // store.commit(MEDIA_LIBRARY.REORDER_MEDIAS, {\n        //   name: props.name,\n        //   medias: value\n        // })\n      }\n    }),\n    input: modelValue.value ?? [],\n    isDraggable: computed(() => props.draggable && states.input.length > 1),\n    remainingItems: computed(() => {\n      return props.max - states.input.length\n    }),\n    itemsIds: computed(() => {\n      // const arrayOfIds = []\n\n      // for (const name in state.selected) {\n      //   arrayOfIds[name] = state.selected[name].map((item) => `${item.endpointType}_${item.id}`)\n      // }\n\n      // return arrayOfIds\n      if (getters.selectedItemsByIds.value[props.name]) {\n        // __log(\n        //   'itemsIds',\n        //   getters.selectedItemsByIds.value[props.name],\n        //   states.input\n        // )\n        return getters.selectedItemsByIds.value[props.name].join()\n      } else {\n        return ''\n      }\n    })\n  })\n\n  const methods = reactive({\n    deleteAll: function (index) {\n      states.input = []\n      // store.commit(MEDIA_LIBRARY.DESTROY_MEDIAS, {\n      //   name: props.name\n      // })\n    },\n    deleteItem: function (index) {\n      states.input.splice(index, 1)\n      // if (states.input.length === 0) delete state.selected[media.name]\n\n      // store.commit(MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA, {\n      //   name: props.name,\n      //   index\n      // })\n    }\n  })\n\n  watch(() => store.state.mediaLibrary.selected[props.name], (newValue, oldValue) => {\n    if (store.state.mediaLibrary.isInserted && states.mediableActive) {\n      // __log('mediaLibrary.selected changed', newValue, states.input)\n      states.mediableActive = false\n      store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED, false)\n      states.input = newValue\n      // __log(states.input)\n    }\n  }, { deep: true })\n  watch(() => states.input, (value, oldValue) => {\n    inputHook.updateModelValue.value(value)\n  }, { deep: true })\n  watch(() => modelValue.value, (value, oldValue) => {\n    states.input = value\n  }, { deep: true })\n  // expose managed state as return value\n  return {\n    ...inputHook,\n    ...toRefs(methods),\n    ...toRefs(states)\n    // ...useInput(props, context)\n    // ...inputHook\n  }\n}\n","// hooks/formatter .js\n\n// import { ref, watch, computed, nextTick } from 'vue'\nimport { reactive, toRefs, computed, watch } from 'vue'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport { useStore } from 'vuex'\nimport { mapGetters } from '@/utils/mapStore'\n\nimport { MEDIA_LIBRARY } from '@/store/mutations/index'\nimport ACTIONS from '@/store/actions'\n\nimport { useRoot, makeInputProps, makeDraggableProps, useInput } from '@/hooks/'\nimport { useI18n } from 'vue-i18n'\n\nexport const makeImageProps = propsFactory({\n  ...makeInputProps(),\n  ...makeDraggableProps(),\n  mediaType: {\n    type: String,\n    default: 'image'\n  },\n  itemLabel: {\n    type: String,\n    default () {\n      return useI18n().t('Image')\n    }\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  required: {\n    type: Boolean,\n    default: false\n  },\n  btnLabel: {\n    type: String,\n    default () {\n      return useI18n().t('fields.medias.btn-label', 'Attach image')\n    }\n  },\n  hover: {\n    type: Boolean,\n    default: false\n  },\n  isSlide: {\n    type: Boolean,\n    default: false\n  },\n  // Index of media in selected context\n  index: {\n    type: Number,\n    default: 0\n  },\n  // current media context put in store. eg: slideshow, cover...\n  mediaContext: {\n    type: String,\n    default: ''\n  },\n  activeCrop: {\n    type: Boolean,\n    default: true\n  },\n  widthMin: {\n    type: Number,\n    default: 0\n  },\n  heightMin: {\n    type: Number,\n    default: 0\n  },\n  // draggable: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  max: {\n    type: Number,\n    default: 1\n  },\n  note: {\n    type: String,\n    default: ''\n  },\n  fieldNote: {\n    type: String,\n    default: ''\n  },\n  filesizeMax: {\n    type: Number,\n    default: 0\n  },\n  buttonOnTop: {\n    type: Boolean,\n    default: false\n  }\n})\n\n// by convention, composable function names start with \"use\"\nexport default function useImage (props, context) {\n  const store = useStore()\n  const inputHook = useInput(props, context)\n  const { modelValue, obj } = toRefs(props)\n  const getters = mapGetters()\n  const { t } = useI18n({ useScope: 'global' })\n\n  const states = reactive({\n    mediableActive: true,\n\n    handle: '.item__handle',\n    addLabel: computed(() => t('ADD', {item: props.itemLabel})),\n    items: computed({\n      get: () => {\n        if (store.state.mediaLibrary.selected.hasOwnProperty(props.name)) {\n          return store.state.mediaLibrary.selected[props.name] || []\n        } else {\n          return []\n        }\n      },\n      set: (value, old) => {\n        // store.commit(MEDIA_LIBRARY.REORDER_MEDIAS, {\n        //   name: props.name,\n        //   medias: value\n        // })\n      }\n    }),\n    input_: computed({\n      get: () => {\n        // __log('input getter', modelValue.value)\n        return modelValue.value ?? []\n      },\n      set: (value, old) => {\n        inputHook.updateModelValue.value(value)\n        // store.commit(MEDIA_LIBRARY.REORDER_MEDIAS, {\n        //   name: props.name,\n        //   medias: value\n        // })\n      }\n    }),\n    input: modelValue.value ?? [],\n    isDraggable: computed(() => props.draggable && states.input.length > 1),\n    remainingItems: computed(() => {\n      return props.max - states.input.length\n    }),\n    itemsIds: computed(() => {\n      // const arrayOfIds = []\n\n      // for (const name in state.selected) {\n      //   arrayOfIds[name] = state.selected[name].map((item) => `${item.endpointType}_${item.id}`)\n      // }\n\n      // return arrayOfIds\n      if (getters.selectedItemsByIds.value[props.name]) {\n        // __log(\n        //   'itemsIds',\n        //   getters.selectedItemsByIds.value[props.name],\n        //   states.input\n        // )\n        return getters.selectedItemsByIds.value[props.name].join()\n      } else {\n        return ''\n      }\n    })\n  })\n\n  const methods = reactive({\n    deleteAll: function (index) {\n      states.input = []\n      // store.commit(MEDIA_LIBRARY.DESTROY_MEDIAS, {\n      //   name: props.name\n      // })\n    },\n    deleteItem: function (index) {\n      states.input.splice(index, 1)\n      // if (states.input.length === 0) delete state.selected[media.name]\n\n      // store.commit(MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA, {\n      //   name: props.name,\n      //   index\n      // })\n    }\n  })\n  // __log(props.name)\n  watch(() => store.state.mediaLibrary.selected[props.name], (newValue, oldValue) => {\n    if (window.__isset(store.state.mediaLibrary.selected[props.name]) && store.state.mediaLibrary.isInserted && states.mediableActive) {\n      // __log('mediaLibrary.selected changed', newValue, states.input)\n      states.mediableActive = false\n      store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED, false)\n      states.input = newValue\n      // __log(states.input)\n    }\n  }, { deep: true })\n  watch(() => states.input, (newValue, oldValue) => {\n    inputHook.updateModelValue.value(newValue)\n  }, { deep: true })\n  watch(() => modelValue.value, (newValue, oldValue) => {\n    states.input = newValue\n  }, { deep: true })\n\n  watch(() => states.error, (newValue, oldValue) => {\n    __log('error watch', newValue, oldValue)\n  })\n  // expose managed state as return value\n  return {\n    ...inputHook,\n    ...toRefs(methods),\n    ...toRefs(states)\n    // ...useInput(props, context)\n    // ...inputHook\n  }\n}\n","import { reactive, computed, onMounted, toRefs, ref, watch } from 'vue'\nimport { useDisplay } from 'vuetify'\nimport { useStore } from 'vuex'\nimport { CONFIG } from '@/store/mutations'\n// import openMediaLibrary from '@/behaviors/openMediaLibrary'\n\nexport default function useSidebar () {\n  const { lgAndUp, xlAndUp } = useDisplay()\n  const isExpanded = ref(false)\n  const activeMenuItem = ref('#profile')\n  const store = useStore()\n\n  const navigationDrawer = ref(null)\n\n  const state = reactive({\n    navigationDrawer,\n    open: [],\n    activeMenu: computed({\n      get () {\n        return activeMenuItem.value\n      },\n      set (val) {\n        activeMenuItem.value = val\n      }\n    }),\n    status: computed({\n      get() {\n        return store.state.config.sidebarStatus\n      },\n      set(value) {\n        store.commit(CONFIG.SET_SIDEBAR, value)\n      }\n    }),\n    width: computed(() => xlAndUp.value ? 320 : 256),\n\n    options: store.state.config.sidebarOptions,\n    hideIcons: computed(() => !state.rail && state.options.hideIcons),\n    railManual: false,\n    rail: computed(() => (state.options.rail || state.railManual) && lgAndUp.value),\n    isHoverable: computed(() => (lgAndUp.value || state.rail) && state.options.expandOnHover),\n\n    secondaryOptions: store.state.config.secondarySidebarOptions,\n\n    profileMenu: store.state.config.profileMenu,\n    socialMediaLinks: [\n      [\n        'mdi-twitter',\n        ''\n      ],\n      [\n        'mdi-linkedin',\n        ''\n      ],\n      [\n        'mdi-facebook',\n        ''\n      ],\n      [\n        'mdi-instagram',\n        ''\n      ]\n    ],\n\n  })\n\n  const methods = reactive({\n    handleProfile(event){\n      if(event.type === 'mouseenter' && state.profileMenu.expandOnHover) state.open.push('User')\n      console.log(event, state.profileMenu)\n    },\n    handleMenu(title){\n      state.activeMenu = `#${title}`\n    }\n  })\n\n  watch(lgAndUp, () => {\n    // __log('isLgAndUp', lgAndUp.value, state.rail)\n    // state.expanded = !state.rail.value\n    // __log('navigationDrawer', navigationDrawer.value)\n  })\n  onMounted(() => {\n    // methods.initializeSidebar()\n    // state.expanded = !state.rail.value\n  })\n\n  return {\n    ...toRefs(state),\n    ...toRefs(methods)\n  }\n}\n","import { watch, computed, nextTick, reactive, toRefs, ref, watchEffect } from 'vue'\nimport { propsFactory } from \"vuetify/lib/util/propsFactory.mjs\";\nimport { useFormatter, useRoot, useTableItemActions } from '@/hooks'\n\nexport const makeIteratorProps = propsFactory({\n  item: {\n    type: Object,\n    default: {}\n  },\n  headers:{\n    type: Object,\n    default: {}\n  },\n  iteratorOptions: {\n    type: Object,\n    default: {}\n  },\n  rowActions:{\n    type: Array,\n    default: [],\n  }\n})\n\nexport const iterableEmits = [\n  'click-action',\n  'edit-item'\n]\n\nexport default function useIterator(props, context){\n\n  const state = reactive({\n    id: Math.ceil(Math.random() * 1000000 ) + ' -iterator',\n    headersWithKeys: computed(() => {\n\n      let collection = {};\n      Object.values(props.headers).forEach((header, index) => {\n        collection[header['key']] = header\n      })\n      return collection\n    })\n  })\n\n\n  const formatter = useFormatter(props, context, props.headers)\n\n  const methods = reactive({\n    canItemAction: function (action) {\n      if (__isset(action.can) && action.can) {\n\n      }\n\n      return true\n    },\n    isSoftDeletable (item) {\n      return !!(__isset(item.deleted_at) && item.deleted_at)\n    },\n    itemHasAction: function (item, action) {\n      let hasAction = true\n      switch (action.name) {\n        case 'edit':\n          if (methods.isSoftDeletable(item)) {\n            hasAction = false\n          } else {\n            hasAction = hasAction = methods.canItemAction(action)\n          }\n          break\n        case 'delete':\n          if (methods.isSoftDeletable(item)) {\n            hasAction = false\n          } else {\n            hasAction = methods.canItemAction(action)\n          }\n          break\n        case 'forceDelete':\n          if (methods.isSoftDeletable(item)) {\n            hasAction = methods.canItemAction(action)\n          } else {\n            hasAction = false\n          }\n          break\n        case 'restore':\n          if (methods.isSoftDeletable(item)) {\n            hasAction = methods.canItemAction(action)\n          } else {\n            hasAction = false\n          }\n          break\n        case 'duplicate':\n          if (methods.isSoftDeletable(item)) {\n            hasAction = false\n          }\n          break\n        case 'switch':\n          if (methods.isSoftDeletable(item)) {\n            hasAction = false\n          }\n          break\n        case 'activate':\n          if (methods.isSoftDeletable(item)) {\n            hasAction = false\n          }\n          break\n        default:\n          break\n      }\n\n      return hasAction\n    },\n    itemAction: (item, action) => {\n      return context.emit('click-action',item,action)\n    },\n    editItem: (item) => {\n      context.emit('edit-item', item)\n    }\n  })\n\n\n\n  return {\n    ...toRefs(methods),\n    ...toRefs(state),\n    ...formatter\n  }\n\n}\n","// hooks/useCurrencyNumber.js\n\nimport { reactive, toRefs, computed, watch, toRef, ref } from 'vue'\nimport { useCurrencyInput } from 'vue-currency-input'\nimport { useStore } from 'vuex'\n\n// by convention, composable function names start with \"use\"\nexport default function useCurrencyNumber(props, context) {\n  // const { modelValue } = toRefs(props)\n  const store = useStore()\n  // const inputRef = ref(null)\n  const { inputRef, formattedValue, numberValue, setValue } = useCurrencyInput({\n    currency: 'EUR',\n    locale: store.state.language.active.value,\n    autoDecimalDigits: true,\n    precision: 2,\n    currencyDisplay: 'hidden',\n\n    hideCurrencySymbolOnFocus: false,\n    hideGroupingSeparatorOnFocus: false,\n    valueRange: { min: 0 },\n  })\n\n  const states = reactive({\n    inputRef: inputRef,\n    formattedValue: formattedValue,\n    numberValue: numberValue\n  })\n\n  // const methods = reactive({\n\n  // })\n\n  watch(\n    () => props.modelValue,\n    (value) => {\n      setValue(value);\n    }\n  );\n\n  // expose managed state as return value\n  return {\n    // ...toRefs(methods),\n    ...toRefs(states),\n    // ...toRef(inputRef),\n    // ...toRef(formattedValue),\n    // ...toRef(numberValue)\n  }\n}\n","import { ref, reactive, computed, onMounted, toRefs, getCurrentInstance } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport _ from 'lodash-es'\n\nimport { propsFactory } from 'vuetify/lib/util/propsFactory.mjs'\n\nexport const makeModuleProps = propsFactory({\n  name: {\n    type: String\n  },\n  customTitle: {\n    type: String\n  },\n  titlePrefix: {\n    type: String,\n    default: ''\n  },\n  titleKey: {\n    type: String,\n    default: 'name'\n  },\n  fillHeight: {\n    type: Boolean,\n    default: false,\n  },\n  slots: {\n    type: Object,\n    default () {\n      return {}\n    }\n  },\n  noFullScreen: {\n    type: Boolean,\n    default: false\n  },\n  endpoints: {\n    type: Object,\n    default : {}\n  },\n  items: {\n    type: Array,\n    default: []\n  }\n})\n\nexport default function useModule (props, context) {\n\n  const { t, te } = useI18n({ useScope: 'global' })\n  let loading = ref(false)\n\n  onMounted(() => {\n\n  })\n\n  const state = reactive({\n    snakeName: _.snakeCase(props.name),\n    permissionName: _.kebabCase(props.name),\n    transNameSingular: computed(() => te('modules.' + state.snakeName, 0) ? t('modules.' + state.snakeName, 0) : props.name),\n    transNamePlural: computed(() => t('modules.' + state.snakeName, 1)),\n    // transNameCountable: computed(() => t('modules.' + state.snakeName, getters.totalElements.value)),\n    moduleTitle: computed(() => {\n      const prefix = props.titlePrefix ? props.titlePrefix : ''\n      return prefix + (__isset(props.customTitle) ? props.customTitle : state.transNamePlural)\n    }),\n    windowSize: {x: 0,y: 0},\n    elements: props.items,\n    searchPlaceholder: t(\"Type to Search\"),\n    searchModel: '',\n  })\n\n  const methods = reactive({\n    onResize () {\n      state.windowSize = { x: window.innerWidth, y: window.innerHeight }\n    },\n\n  })\n\n  return {\n    ...toRefs(state),\n    ...toRefs(methods)\n  }\n}\n","// hooks/useLocale.js\nimport { reactive, computed, onMounted, toRefs, getCurrentInstance } from 'vue'\nimport { useStore } from 'vuex'\nimport { LANGUAGE } from '@/store/mutations'\nexport default function useLocale () {\n  const store = useStore()\n\n  const state = reactive({\n    currentLocale: computed(() => store.state.language.active),\n    languages: computed(() => store.state.language.all),\n    locales: computed(() => store.state.language.all),\n    displayedLocale: computed(() => store.state.language.active.shortlabel),\n\n    // hasLocale\n    // isLocaleRTL: computed(() => {\n    //   const rtlLocales = ['ar', 'arc', 'dv', 'fa', 'ha', 'he', 'khw', 'ks', 'ku', 'ps', 'ur', 'yi']\n    //   if (this.hasLocale) return rtlLocales.includes(this.locale.shortlabel.toLowerCase())\n    //   else return false\n    // }),\n    // dirLocale: computed(() => store.state.language.active.rtl ? 'rtl' : 'auto')\n  })\n\n  const methods = reactive({\n    updateLocale: function (value) {\n      store.commit(LANGUAGE.UPDATE_LANG, value)\n    }\n  })\n\n  return {\n    ...toRefs(state),\n    ...toRefs(methods)\n  }\n}\n","import axios from 'axios'\nimport {\n  globalError\n} from '@/utils/errors'\n\nconst component = 'FORM'\n\nexport default {\n  get (endpoint, callback, errorCallback) {\n    axios.get(endpoint).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      const error = {\n        message: 'Get request error.',\n        value: resp\n      }\n      globalError(component, error)\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(resp)\n    })\n  },\n  post (endpoint, data, callback, errorCallback) {\n    axios.post(endpoint, data, {\n      validateStatus: status => (status >= 200 && status < 300) || status === 422\n    }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }).catch(function (err) {\n      const error = {\n        message: 'Post request error.',\n        value: err\n      }\n\n      globalError(component, error)\n\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(err.response)\n    })\n  },\n  put (endpoint, data, callback, errorCallback) {\n    axios.put(endpoint, data, {\n      validateStatus: status => (status >= 200 && status < 300) || status === 422\n    }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }).catch(function (err) {\n      const error = {\n        message: 'Put request error.',\n        value: err\n      }\n      globalError(component, error)\n\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(err.response)\n    })\n  }\n}\n","// hooks/useItemActions.js\nimport { toRefs, computed, reactive } from 'vue'\nimport { useStore } from 'vuex'\nimport _ from 'lodash-es'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nimport ACTIONS from '@/store/actions'\nimport { FORM, ALERT } from '@/store/mutations/index'\nimport api from '@/store/api/form'\n\nexport const makeItemActionsProps = propsFactory({\n  isEditing: {\n    type: Boolean,\n    default: false\n  },\n  actions: {\n    type: [Array, Object],\n    default: () => []\n  }\n})\n\nexport default function useItemActions(props, context) {\n  const store = useStore()\n\n  const editingItem = context.actionItem\n    || context.item\n    || context.editedItem\n    || props.item\n    || props.editedItem\n\n  const resolveParamValue = (config) => {\n    if (!config.source || !config.find || !config.return) {\n      return config;\n    }\n\n    const sourceData = editingItem[config.source];\n    if (!Array.isArray(sourceData)) {\n      return undefined;\n    }\n\n    const [findKey, findValue] = config.find;\n    const item = sourceData.find(item => item[findKey] === findValue);\n\n    return item ? item[config.return] : undefined;\n  }\n\n  // Helper method to get nested object values using dot notation\n  const getNestedValue = (obj, path) => {\n    return path.split('.').reduce((current, part) => {\n      return current && current[part] !== undefined ? current[part] : undefined;\n    }, obj);\n  }\n\n  const handleRequestAction = (action, endpoint) => {\n    if (!endpoint) {\n      console.error('Endpoint not specified for request action');\n      return;\n    }\n\n    const method = action.method?.toLowerCase() || 'post';\n    if (!api[method]) {\n      console.error('Invalid request method:', method);\n      return;\n    }\n\n    // Prepare parameters\n    const params = {};\n\n    // Process each parameter based on its configuration\n    for (const [key, config] of Object.entries(action.params)) {\n      if (typeof config === 'object' && config !== null) {\n        const value = resolveParamValue(config);\n        if (value === undefined) {\n          console.error(`Could not resolve parameter value for ${key}`);\n          return;\n        }\n        params[key] = value;\n      } else {\n        params[key] = config;\n      }\n    }\n\n    api[method](endpoint, params,\n      (response) => {\n        // __log('handleRequestAction', response)\n        if (response.data.message) {\n          store.commit(ALERT.SET_ALERT, {\n            message: response.data.message,\n            variant: response.data.variant\n          });\n        }\n        context.emit('actionComplete', { action, response });\n      },\n      (error) => {\n        store.commit(ALERT.SET_ALERT, {\n          message: error.data?.message || 'Action failed',\n          variant: 'error'\n        });\n      }\n    );\n  }\n\n  const handleModalAction = (action, endpoint) => {\n    // Assuming you have a modal system\n    store.commit('SET_MODAL', {\n      show: true,\n      title: action.label,\n      component: 'ue-form',\n      props: {\n        schema: action.schema,\n        actionUrl: endpoint,\n        async: true\n      },\n      on: {\n        success: (response) => {\n          store.commit(ALERT.SET_ALERT, {\n            message: response.message || 'Action completed successfully',\n            variant: 'success'\n          });\n          context.emit('action-complete', { action, response });\n        }\n      }\n    });\n  }\n\n  const handleBlankAction = (endpoint) => {\n    if (!endpoint) {\n      console.error('Endpoint not specified for blank action');\n      return;\n    }\n\n    window.open(endpoint, '_blank');\n  }\n\n  const handleDownloadAction = (endpoint) => {\n    if (!endpoint) {\n      console.error('Endpoint not specified for download action');\n      return;\n    }\n\n    // Create a temporary link and trigger download\n    const link = document.createElement('a');\n    link.href = endpoint;\n    link.target = '_blank';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n\n  const can = (permission) => {\n    const name = tableNames.permissionName.value + '_' + permission\n    return store.getters.isSuperAdmin || store.getters.userPermissions[name]\n  }\n\n  const shouldShowAction = (action) => {\n    // Base condition for editing/creating\n    const baseCondition = props.isEditing ? action.editable : action.creatable;\n\n    // If no conditions defined, return base condition\n    if (!action.conditions || !baseCondition) {\n      return baseCondition;\n    }\n\n    // Check all conditions\n    return baseCondition && action.conditions.every(condition => {\n      const [path, operator, value] = condition;\n      const actualValue = getNestedValue(editingItem, path);\n\n      switch (operator) {\n        case '=':\n        case '==':\n          return actualValue === value;\n        case '!=':\n          return actualValue !== value;\n        case '>':\n          return actualValue > value;\n        case '<':\n          return actualValue < value;\n        case '>=':\n          return actualValue >= value;\n        case '<=':\n          return actualValue <= value;\n        case 'in':\n          return Array.isArray(value) && value.includes(actualValue);\n        case 'not in':\n          return Array.isArray(value) && !value.includes(actualValue);\n        case 'exists':\n          return actualValue !== undefined && actualValue !== null;\n        default:\n          console.warn(`Unknown operator: ${operator}`);\n          return false;\n      }\n    });\n  }\n\n  const flattenedActions = computed(() => window.__isObject(props.actions)\n      ? Object.values(props.actions)\n      : props.actions\n  )\n\n  const states = reactive({\n    showedActions: computed(() => flattenedActions.value.filter(action => shouldShowAction(action)))\n  })\n\n  // __log(states.showedActions, flattenedActions.value)\n\n  const methods = reactive({\n    // methods\n    shouldShowAction,\n    handleAction(action) {\n      if (!action.type) {\n        console.warn('Action type not specified:', action);\n        return;\n      }\n\n      // Replace any URL parameters\n      const endpoint = action.endpoint?.replace(':id', editingItem.id);\n\n      switch (action.type) {\n        case 'request':\n          handleRequestAction(action, endpoint);\n          break;\n\n        case 'modal':\n          handleModalAction(action, endpoint);\n          break;\n\n        case 'download':\n          handleDownloadAction(endpoint);\n          break;\n\n        case 'blank':\n          handleBlankAction(endpoint);\n          break;\n\n        default:\n          console.warn('Unknown action type:', action.type);\n      }\n    }\n  })\n\n  return {\n    ...toRefs(states),\n    ...toRefs(methods),\n    // ...toRefs(states)\n  }\n}\n","// hooks/useTableItem.js\nimport { computed, ref, nextTick, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { FORM } from '@/store/mutations'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nexport const makeTableItemProps = propsFactory({\n\n})\n\nexport default function useTableItem(props, context) {\n  const store = useStore()\n\n  const editedItem = computed(() =>\n    store.state.form.editedItem ?? {}\n  )\n\n  // computed\n  const isSoftDeletableItem = computed(() =>\n    isSoftDeletable(editedItem.value)\n  )\n\n  // Methods\n  const setEditedItem = (item) => {\n    store.commit(FORM.SET_EDITED_ITEM, item)\n  }\n\n  const resetEditedItem = () => {\n    nextTick(() => {\n      store.commit(FORM.RESET_EDITED_ITEM)\n    })\n  }\n\n  const isSoftDeletable = (item) => {\n    return !!(__isset(item.deleted_at) && item.deleted_at)\n  }\n\n\n  return {\n    // refs\n    editedItem,\n    isSoftDeletableItem,\n\n    // methods\n    setEditedItem,\n    resetEditedItem,\n    isSoftDeletable\n  }\n}\n","// hooks/useTableNames.js\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useI18n } from 'vue-i18n'\nimport _ from 'lodash-es'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport { useModule, useTableItem } from '@/hooks'\n\nexport const makeTableNamesProps = propsFactory({\n  name: {\n    type: String\n  },\n  customTitle: {\n    type: String\n  },\n  titlePrefix: {\n    type: String,\n    default: ''\n  },\n  titleKey: {\n    type: String,\n    default: 'name'\n  },\n  subtitle:{\n    type:String,\n    default: '',\n  },\n})\n\nexport default function useTableNames(props, context) {\n  const store = useStore()\n  const { t, te } = useI18n({ useScope: 'global' })\n\n  const { editedItem, isSoftDeletableItem } = useTableItem()\n\n  const { snakeName, permissionName, transNameSingular, transNamePlural } = useModule(props, context)\n\n  const transNameCountable = computed(() =>\n    t(`modules.${snakeName}`, store.getters.totalElements)\n  )\n\n  // Titles\n  const tableTitle = computed(() => {\n    const prefix = props.titlePrefix ? props.titlePrefix : ''\n    return prefix + (__isset(props.customTitle) ? props.customTitle : transNamePlural.value)\n  })\n\n  const tableSubtitle = computed(() => {\n    return __isset(props.subtitle) ? t(props.subtitle) : ''\n  })\n\n  const formTitle = computed(() => {\n    const translationKey = context.editedIndex.value === -1\n      ? 'fields.new-item'\n      : 'fields.edit-item'\n\n    return t(translationKey, { item: transNameSingular.value })\n  })\n\n  // Delete question text\n  const deleteQuestion = computed(() => {\n    const langKey = isSoftDeletableItem.value\n      ? 'fields.confirm-soft-deletion'\n      : 'fields.confirm-deletion'\n\n    const itemName = editedItem.value[props.titleKey]\n      ? (_.isObject(editedItem.value[props.titleKey])\n          ? editedItem.value[props.titleKey][store.state.user.locale]\n          : editedItem.value[props.titleKey])\n      : ''\n\n    return t(langKey, {\n      route: transNameSingular.value,\n      name: itemName.toLocaleUpperCase()\n    })\n  })\n\n  return {\n    // Base names\n    snakeName,\n    permissionName,\n\n    // Translations\n    transNameSingular,\n    transNamePlural,\n    transNameCountable,\n\n    // Titles\n    tableTitle,\n    tableSubtitle,\n    formTitle,\n    deleteQuestion\n  }\n}\n","// hooks/useTableFilters.js\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { DATATABLE } from '@/store/mutations'\nimport ACTIONS from '@/store/actions'\nimport _ from 'lodash-es'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nexport const makeTableFiltersProps = propsFactory({\n  hideSearchField: {\n    type: Boolean,\n    default: false,\n  },\n  navActive: {\n    type: String,\n    default: 'all'\n  },\n  filterBtnOptions:{\n    type:Object,\n    default: {},\n  },\n})\n\nexport default function useTableFilters(props) {\n  const store = useStore()\n\n  // Filter Status\n  const filterActiveStatus = computed(() =>\n    store.state.datatable.filter.status ?? 'all'\n  )\n\n  const filterActive = computed(() =>\n    _.find(store.state.datatable.mainFilters, { slug: filterActiveStatus.value })\n  )\n\n  const navActive = computed(() =>\n    filterActive.value?.slug ?? 'all'\n  )\n\n  // Search\n  const search = computed({\n    get() {\n      return store.state.datatable.search\n    },\n    set(val) {\n      store.commit(DATATABLE.UPDATE_DATATABLE_SEARCH, val)\n      store.dispatch(ACTIONS.GET_DATATABLE)\n    }\n  })\n\n  // Advanced Filters\n  const advancedFilters = computed(() =>\n    store.state.datatable.advancedFilters ?? null\n  )\n\n  const mainFilters = computed(() =>\n    store.state.datatable.mainFilters ?? null\n  )\n\n  // Methods\n  const filterStatus = (slug) => {\n    if (navActive.value === slug) return\n\n    store.commit(DATATABLE.UPDATE_DATATABLE_PAGE, 1)\n    store.commit(DATATABLE.UPDATE_DATATABLE_FILTER_STATUS, slug)\n    // Reset selected items when changing filter\n    store.commit(DATATABLE.REPLACE_DATATABLE_BULK, [])\n    store.dispatch(ACTIONS.GET_DATATABLE)\n  }\n\n  const submitAdvancedFilter = () => {\n    store.commit(DATATABLE.UPDATE_DATATABLE_ADVANCED_FILTER, advancedFilters.value)\n    store.commit(DATATABLE.UPDATE_DATATABLE_PAGE, 1)\n    store.dispatch(ACTIONS.GET_DATATABLE)\n  }\n\n  const clearAdvancedFilter = () => {\n    store.commit(DATATABLE.RESET_DATATABLE_ADVANCED_FILTER)\n    store.commit(DATATABLE.UPDATE_DATATABLE_PAGE, 1)\n    store.dispatch(ACTIONS.GET_DATATABLE)\n  }\n\n  // Filter Button Options\n  const filterBtnTitle = computed(() => ({\n    text: `${filterActive.value?.name} (${filterActive.value?.number})`\n  }))\n\n  return {\n    // Status\n    filterActiveStatus,\n    filterActive,\n    navActive,\n    mainFilters,\n\n    // Search\n    search,\n\n    // Advanced Filters\n    advancedFilters,\n    filterBtnTitle,\n\n    // Methods\n    filterStatus,\n    submitAdvancedFilter,\n    clearAdvancedFilter\n  }\n}\n","// hooks/useTable.js\nimport { computed, ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { useI18n } from 'vue-i18n'\nimport _ from 'lodash-es'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nexport const makeTableHeadersProps = propsFactory({\n  hideHeaders: {\n    type: Boolean,\n    default: false\n  },\n  columns: {\n    type: Array\n  },\n  headerOptions: {\n    type: [Array, Object],\n    default: {}\n  },\n  cellOptions: {\n    type: [Array, Object],\n    default: {}\n  },\n  customRow: {\n    type: Object,\n    default: {}\n  },\n})\n\nexport default function useTableHeaders(props) {\n  const store = useStore()\n\n  // Initialize headers\n  const headers = ref(props.columns ?? store.state.datatable.headers ?? [])\n  const headersModel = ref(_.cloneDeep(headers.value))\n\n  const hasSearchableHeader = ref(!!_.find(headers.value, header => window.__isset(header.searchable) && header.searchable === true))\n\n  // Computed properties\n  const selectedHeaders = computed(() =>\n    headers.value.filter(header => !!header.visible && header.visible === true)\n  )\n\n  const hideHeaders = computed(() =>\n    props.hideHeaders || hasCustomRow.value\n  )\n\n  const hasCustomRow = computed(() =>\n    Object.keys(props.customRow || {}).length\n  )\n\n  // Methods\n  const applyHeaders = () => {\n    headers.value = _.cloneDeep(headersModel.value)\n\n    __pushQueryParams({\n      columns: headersModel.value.reduce((acc, h) => {\n        if(h.visible) {\n          acc.push(h.key)\n        }\n        return acc\n      }, [])\n    })\n  }\n\n  return {\n    // Refs\n    headers,\n    headersModel,\n    hasSearchableHeader,\n    // Computed\n    selectedHeaders,\n    hideHeaders,\n    hasCustomRow,\n\n    // Methods\n    applyHeaders\n  }\n}\n","// hooks/useTable.js\nimport { computed, ref, nextTick, watch, toRefs, toRef } from 'vue'\nimport _ from 'lodash-es'\nimport { useStore } from 'vuex'\nimport { useI18n } from 'vue-i18n'\n\nimport { FORM } from '@/store/mutations'\nimport ACTIONS from '@/store/actions'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\nimport { useTableItem } from '@/hooks'\n\nexport const makeTableFormsProps = propsFactory({\n  inputFields: {\n    type: Array\n  },\n  formWidth: {\n    type: [String, Number],\n    default: '60%'\n  },\n  createOnModal: {\n    type: Boolean,\n    default: true\n  },\n  editOnModal: {\n    type: Boolean,\n    default: true\n  },\n  embeddedForm: {\n    type: Boolean,\n    default: false\n  },\n  addBtnOptions: {\n    type: Object,\n    default: () => ({})\n  }\n})\n\nexport default function useTableForms(props, context) {\n\n  const store = useStore()\n  const { t } = useI18n({ useScope: 'global' })\n  const { setEditedItem, resetEditedItem, editedItem } = useTableItem()\n\n  // Form refs and state\n  const UeForm = ref(null)\n  const formActive = ref(false)\n  const customFormModalActive = ref(false)\n\n  // Form state\n  const customFormAttributes = ref({})\n  const customFormSchema = ref({})\n  const customFormModel = ref({})\n\n  // Computed properties\n  const inputs = computed(() => props.inputFields ?? store.state.datatable.inputs ?? [])\n\n  const formRef = computed(() =>\n    state.id + '-form'\n  )\n\n  const formStyles = computed(() => ({\n    width: props.formWidth\n  }))\n\n  const formLoading = computed(() =>\n    store.state.form.loading ?? false\n  )\n\n  const formErrors = computed(() =>\n    store.state.form.errors ?? {}\n  )\n\n  const formIsValid = computed(() => {\n    return UeForm.value?.validModel ?? null\n  })\n\n  const addBtnTitle = computed(() => {\n    if(props.createOnModal || props.editOnModal) {\n      return props.addBtnOptions.text\n        ? t(props.addBtnOptions.text)\n        : t('fields.add-item', { item: context.transNameSingular.value })\n    }\n    return props.addBtnOptions.text ?? t('ADD NEW')\n  })\n\n  // Methods\n  const openForm = () => {\n    formActive.value = true\n  }\n\n  const closeForm = () => {\n    formActive.value = false\n  }\n\n  const createForm = () => {\n    resetEditedItem()\n    openForm()\n  }\n\n  const confirmFormModal = () => {\n    UeForm.value.submit(null, (res) => {\n      if (Object.prototype.hasOwnProperty.call(res, 'variant') &&\n          res.variant.toLowerCase() === 'success') {\n        closeForm()\n      }\n    })\n  }\n\n  const handleFormActionComplete = (payload) => {\n    // payload.action\n    // payload.response\n    const action = payload.action\n    const response = payload.response\n\n    if(action.type === 'request') {\n      store.dispatch(ACTIONS.GET_DATATABLE)\n    }\n\n    if(action.type === 'modal') {\n      store.dispatch(ACTIONS.GET_DATATABLE)\n    }\n  }\n\n  // Watch effect for form active state\n  watch(() => formActive.value, (newValue) => {\n    if (!newValue) {\n      // form.value?.resetValidation()\n      resetEditedItem()\n    }\n\n  })\n  // watch(() => state.formActive, (newValue, oldValue) => {\n  //   newValue || form.value.resetValidation() || methods.resetEditedItem()\n  // })\n\n  return {\n    // Refs\n    ...toRefs({\n      UeForm,\n      formActive,\n      customFormModalActive,\n      customFormAttributes,\n      customFormSchema,\n      customFormModel,\n    }),\n\n    // Computed\n    inputs,\n    formRef,\n    formStyles,\n    formLoading,\n    formErrors,\n    formIsValid,\n    addBtnTitle,\n\n    // Methods\n    openForm,\n    closeForm,\n    createForm,\n    confirmFormModal,\n    handleFormActionComplete\n  }\n}\n","// hooks/useTableItemActions.js\nimport { computed, reactive, toRefs } from 'vue'\nimport { useStore } from 'vuex'\nimport { useDisplay } from 'vuetify'\nimport _ from 'lodash-es'\nimport ACTIONS from '@/store/actions'\n\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nimport { useTableItem, useTableNames } from '@/hooks'\n\nexport const makeTableItemActionsProps = propsFactory({\n  isRowEditing: Boolean,\n  rowActionsIcon:{\n    type: String,\n    default: 'mdi-cog-outline'\n  },\n  rowActions: {\n    type: Array,\n    default: []\n  },\n  rowActionsType: {\n    type: String,\n    default: 'inline'\n  },\n  iteratorType: {\n    type: String,\n    default: '',\n  },\n  formActions: {\n    type: Array,\n    default: []\n  }\n})\n\nexport default function useTableItemActions(props, { tableForms, tableModals, tableEndpoints }) {\n  const store = useStore()\n  const tableItem = useTableItem()\n  const tableNames = useTableNames(props)\n\n  const { smAndDown, mdAndDown, lgAndDown } = useDisplay()\n\n  const can = (permission) => {\n    const name = tableNames.permissionName.value + '_' + permission\n    return store.getters.isSuperAdmin || store.getters.userPermissions[name]\n  }\n\n  // Helper method to get nested object values using dot notation\n  const getNestedValue = (obj, path) => {\n    return path.split('.').reduce((current, part) => {\n      return current && current[part] !== undefined ? current[part] : undefined;\n    }, obj);\n  }\n\n  // Action Permissions\n  const itemHasAction = (item, action) => {\n    let hasAction = true\n\n    switch (action.name) {\n      case 'edit':\n      case 'delete':\n      case 'switch':\n      case 'duplicate':\n      case 'activate':\n        hasAction = !tableItem.isSoftDeletable(item) && can(action.name)\n        break\n      case 'forceDelete':\n      case 'restore':\n        hasAction = tableItem.isSoftDeletable(item) && can(action.name)\n        break\n      default:\n        break\n    }\n\n    if(action.conditions) {\n      return hasAction && action.conditions.every(condition => {\n        const [path, operator, value] = condition;\n        let actualValue = getNestedValue(item, path);\n\n        if(['>', '<', '>=', '<=', '='].includes(operator) && Array.isArray(actualValue)) {\n          actualValue = actualValue.length;\n        }\n\n        switch (operator) {\n          case '=':\n          case '==':\n            return actualValue === value;\n          case '!=':\n            return actualValue !== value;\n          case '>':\n            return actualValue > value;\n          case '<':\n            return actualValue < value;\n          case '>=':\n            return actualValue >= value;\n          case '<=':\n            return actualValue <= value;\n          case 'in':\n            return Array.isArray(value) && value.includes(actualValue);\n          case 'not in':\n            return Array.isArray(value) && !value.includes(actualValue);\n          case 'exists':\n            return actualValue !== undefined && actualValue !== null;\n          default:\n              console.warn(`Unknown operator: ${operator}`);\n              return false;\n        }\n      })\n    }\n\n    return hasAction\n  }\n\n  // Action Handlers\n  const handleEditAction = (item) => {\n    if (props.editOnModal || props.embeddedForm) {\n      tableItem.setEditedItem(item)\n      tableForms.openForm()\n    } else {\n      const route = tableEndpoints.editUrl.value.replace(':id', item.id)\n      window.open(route)\n    }\n  }\n\n  const handleDeleteAction = (item) => {\n    tableItem.setEditedItem(item)\n    tableModals.activeModal.value = 'delete'\n    tableModals.customModalActive.value = true\n  }\n\n  const handleRestoreAction = (item) => {\n    tableItem.setEditedItem(item)\n    store.dispatch(ACTIONS.RESTORE_ITEM, {\n      id: item.id,\n      callback: () => {},\n      errorCallback: () => {}\n    })\n  }\n\n  const handleDuplicateAction = (item) => {\n    tableItem.setEditedItem(_.omit(item, 'id'))\n    tableForms.openForm()\n  }\n\n  const handleSwitchAction = (item, value, key) => {\n\n    store.dispatch(ACTIONS.SAVE_FORM, {\n      plain: true,\n      item: {\n        id: item.id,\n        ...{ [key]: value }\n      },\n      callback: () => {\n        item[key] = value\n        if (tableItem.editedItem.id === item.id) {\n          tableItem.setEditedItem({\n            ...tableItem.editedItem,\n            ...{ [key]: value }\n          })\n        }\n      },\n      errorCallback: () => {}\n    })\n  }\n\n  const handleBulkAction = (action) => {\n    tableModals.activeModal.value = 'action'\n    tableModals.customModalActive.value = true\n    tableModals.selectedAction.value = action\n  }\n\n  const handleCustomFormAction = (action, item) => {\n    tableForms.customFormSchema.value = _.cloneDeep(action.form.attributes.schema)\n    tableForms.customFormAttributes.value = _.cloneDeep(action.form.attributes)\n\n    if (action.form.hasOwnProperty('model_formatter')) {\n      for (let key in action.form.model_formatter) {\n        let attr = _.get(item, action.form.model_formatter[key], '')\n        _.set(tableForms.customFormModel.value, key, attr)\n      }\n    }\n\n    if (action.form.hasOwnProperty('schema_formatter')) {\n      for (let key in action.form.schema_formatter) {\n        let attr = _.get(item, action.form.schema_formatter[key], '')\n        _.set(tableForms.customFormAttributes.value.schema, key, attr)\n      }\n    }\n\n    tableForms.customFormModalActive.value = true\n  }\n\n  const getOnlyShowData = (data, only = null) => {\n    if(!only) return data\n\n    if(Array.isArray(data)) {\n      data = data.map(item => {\n        return getOnlyShowData(item, only)\n      })\n    } else if (__isObject(data)) {\n      if(Array.isArray(only)) {\n        let newData = {}\n        only.forEach((key) => {\n          let value = __data_get(data, key, null)\n          newData[key] = value\n        })\n      } else if (__isObject(only)) {\n        let newData = {}\n        Object.keys(only).forEach((key) => {\n          let label = only[key]\n          let value = __data_get(data, key, null)\n\n          newData[label] = value\n        })\n        data = _.cloneDeep(newData)\n      }\n    }\n\n    return data\n  }\n\n  const getExceptShowData = (data, except = null) => {\n    if(!except) return data\n\n    if(Array.isArray(data)) {\n      data = data.map(item => {\n        return getExceptShowData(item, except)\n      })\n    } else if (__isObject(data) && Array.isArray(except)) {\n      let newData = _.cloneDeep(data)\n      except.forEach((key) => {\n        let value = __data_get(data, key, null)\n        delete newData[key]\n      })\n      data = _.cloneDeep(newData)\n    }\n\n    return data\n  }\n\n  const handleShowAction = (action, item) => {\n    let data = null\n\n    if(action.show  === true ) {\n      data = item\n    } else {\n      data = __data_get(item, action.show, null);\n    }\n\n\n    if(data) {\n      if(action.only) {\n        data = getOnlyShowData(data, action?.only)\n      } else if (action.except) {\n        data = getExceptShowData(data, action?.except)\n      }\n      tableModals.modals.value.show.loadData(data)\n      tableModals.modals.value.show.set(action)\n      tableModals.modals.value.show.open()\n    }\n    // tableModals.modals.value.show.description = action.show.description\n    // tableModals.activeModal.value = 'showModal'\n    // tableModals.showModalActive.value = true\n  }\n\n  // Main Action Handler\n  const itemAction = (item = null, action = null, ...args) => {\n    const _action = __isString(action) ? { name: action } : action\n\n    switch (_action.name) {\n      case 'edit':\n        handleEditAction(item)\n        break\n      case 'delete':\n      case 'forceDelete':\n        handleDeleteAction(item)\n        break\n      case 'restore':\n        handleRestoreAction(item)\n        break\n      case 'duplicate':\n        handleDuplicateAction(item)\n        break\n      case 'link':\n        window.open(_action.url.replace(':id', item.id), '_blank')\n        break\n      case 'switch':\n        handleSwitchAction(item, args[0], args[1])\n        break\n      case 'activate':\n        state.activeTableItem = _.find(state.elements, { id: item.id })\n        break\n      case 'bulkDelete':\n      case 'bulkForceDelete':\n      case 'bulkRestore':\n        handleBulkAction(_action)\n        break\n      default:\n        break\n    }\n\n    if (_action.form) {\n      handleCustomFormAction(_action, item)\n    }\n\n    if (_action.show) {\n      handleShowAction(_action, item)\n    }\n  }\n\n  const states = reactive({\n    actionShowingType: computed(() => {\n      const shouldShowDropdown = (actionsLength) => {\n        if (actionsLength > 7) return lgAndDown.value\n        if (actionsLength > 4) return mdAndDown.value\n        return smAndDown.value\n      }\n\n      return props.rowActionsType === 'dropdown' || shouldShowDropdown(props.rowActions.length)\n        ? 'dropdown'\n        : 'inline'\n    }),\n  })\n\n  return {\n    ...toRefs(states),\n    // methods\n    itemAction,\n    itemHasAction,\n    can\n  }\n}\n","// hooks/useTableModals.js\nimport { ref, computed, toRefs, onMounted, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { useI18n } from 'vue-i18n'\nimport _ from 'lodash-es'\n\nimport ACTIONS from '@/store/actions'\nimport { useTableItem, useTableNames } from '@/hooks'\n\nexport default function useTableModals(props, context) {\n  const store = useStore()\n  const { t } = useI18n({ useScope: 'global' })\n  const tableItem = useTableItem()\n  const tableNames = useTableNames(props)\n\n  // Modal States\n  const deleteModalActive = ref(false)\n  const customModalActive = ref(!(_.isEmpty(store._state.data.datatable.customModal)))\n  const actionModalActive = ref(false)\n  const activeModal = ref('custom')\n  const selectedAction = ref(null)\n  const deleteModal = ref(null)\n\n  // Computed Properties\n  const actionDialogQuestion = computed(() => {\n    return t('confirm-action', {\n      route: tableNames.transNameSingular.value,\n      action: t(selectedAction.value?.name ?? ''),\n    })\n  })\n\n  // Modal Definitions\n  const modals = ref({\n    'delete': {\n      content: tableNames.deleteQuestion,\n      confirmAction() {\n        if (tableItem.isSoftDeletableItem.value) {\n          store.dispatch(ACTIONS.DESTROY_ITEM, {\n            id: tableItem.editedItem.value.id,\n            callback: () => {\n              customModalActive.value = false\n            },\n            errorCallback: () => {}\n          })\n        } else {\n          store.dispatch(ACTIONS.DELETE_ITEM, {\n            id: tableItem.editedItem.value.id,\n            callback: () => {\n              customModalActive.value = false\n            },\n            errorCallback: () => {}\n          })\n        }\n      },\n      closeAction() {\n        customModalActive.value = false\n      }\n    },\n    'action': {\n      content: actionDialogQuestion,\n      confirmAction() {\n        bulkAction(selectedAction.value)\n        customModalActive.value = false\n      },\n      openAction(action) {\n        selectedAction.value = action\n        customModalActive.value = true\n      },\n      closeAction() {\n        customModalActive.value = false\n      }\n    },\n    'custom': {\n      content: computed(() => store._state.data.datatable.customModal.description),\n      confirmText: 'Done',\n      cancelText: ' ',\n      img: 'https://cdn2.iconfinder.com/data/icons/greenline/512/check-1024.png',\n      icon: computed(() => store._state.data.datatable.customModal.icon),\n      iconSize: 72,\n      title: 'Payment Complete',\n      color: 'success',\n      closeAction() {\n        customModalActive.value = false\n        resetCustomModal()\n      },\n      confirmAction() {\n        customModalActive.value = false\n        resetCustomModal()\n      }\n    },\n    'show': {\n      ref: ref(null),\n      active: false,\n      data: null,\n\n      transition: 'dialog-bottom-transition',\n      widthType: 'lg',\n      fullscreen: false,\n      persistent: false,\n      title: t('Display Details'),\n      confirmText: t('Confirm'),\n      cancelText: t('Cancel'),\n\n      _old: {},\n\n      toggle(state = null) {\n        this.active = state ?? !this.active\n      },\n      close() {\n        this.toggle(false)\n      },\n      open() {\n        this.toggle(true)\n      },\n      set(attributes) {\n        let feasibles = Object.keys(attributes).reduce((acc, attribute) => {\n          if (this[attribute] !== undefined && !['active', 'ref', 'data', '_old'].includes(attribute)) {\n            acc[attribute] = attributes[attribute]\n          }\n          return acc\n        }, {})\n        let assignables = _.reduce(feasibles, (acc, value, attribute) => {\n          acc[attribute] = value\n          this._old[attribute] = _.cloneDeep(this[attribute])\n          return acc\n        }, {})\n        Object.assign(this, assignables)\n      },\n      loadData(data) {\n        this.data = data\n      },\n      resetData() {\n        this.data = null\n      },\n\n      cancel() {\n        this.toggle(false)\n        this.reset()\n      },\n      confirm() {\n        // this.toggle(false)\n        // this.reset()\n      },\n      reset() {\n        this.resetData()\n\n        _.each(this._old, (value, attribute) => {\n          this[attribute] = value\n         }\n        )\n        this._old = {}\n      },\n    }\n  })\n\n  // Helper Methods\n  const resetCustomModal = () => {\n    modals.custom.confirmText = ''\n    modals.custom.cancelText = ''\n    modals.custom.img = ''\n    modals.custom.icon = ''\n    modals.custom.iconSize = null\n    modals.custom.title = ''\n    modals.custom.color = ''\n  }\n\n  const bulkAction = async (action) => {\n    const studlyCase = _.snakeCase(action.name).toUpperCase()\n    if (__isset(ACTIONS[studlyCase])) {\n      await store.dispatch(ACTIONS[studlyCase])\n      selectedItems.value = []\n    } else {\n      console.warn(`${action.name} may have not implemented yet on useTable.js hook`)\n    }\n  }\n\n  // Modal Control Methods\n  const openDeleteModal = (modal) => {\n    modal.open()\n  }\n\n  const closeDeleteModal = () => {\n    customModalActive.value = false\n  }\n\n  const closeActionModal = () => {\n    actionModalActive.value = false\n  }\n\n  const openActionModal = (action) => {\n    customModalActive.value = true\n  }\n\n  // Cleanup Method\n  const cleanupModals = () => {\n    if (store._state.data.datatable.customModal) {\n      __removeQueryParams(['customModal[description]', 'customModal[color]', 'customModal[icon]', 'customModal[hideModalCancel]'])\n    }\n  }\n\n  watch(() => modals.value.show.active, (value) => {\n    if (!value) {\n      modals.value.show.reset()\n    }\n  })\n\n  onMounted(() => {\n    console.log('Component using useTable is mounted', props.name)\n    cleanupModals()\n  })\n\n  return {\n    // States\n    ...toRefs({\n    }),\n    deleteModalActive,\n    customModalActive,\n    actionModalActive,\n    activeModal,\n    selectedAction,\n    deleteModal,\n    modals,\n\n    // Computed\n    actionDialogQuestion,\n\n    // Methods\n    openDeleteModal,\n    closeDeleteModal,\n    closeActionModal,\n    openActionModal,\n    cleanupModals,\n    bulkAction\n  }\n}\n","import { computed, reactive, toRefs } from 'vue'\nimport { useI18n } from 'vue-i18n'\n\n// export const useCurrencyProps = {\n//   amount: {\n//     type: [Number],\n//     // default: 0\n//   },\n//   symbol: {\n//     type: String,\n//     // default: '$'\n//   }\n// }\n\nexport default function useCurrency(props) {\n\n  const { locale } = useI18n({ useScope: 'global' })\n\n\n  const methods = reactive({\n    formatPrice(amount, symbol) {\n      return window.__formatCurrencyPrice(amount, symbol, locale.value ?? locale)\n    }\n  })\n\n  return {\n    ...toRefs(methods)\n  }\n}\n","/*\n* Gather selected items in a selected object (currently used for medias and browsers)\n* if a block is passed as second argument, we retrieve selected items namespaced by the block id\n* and strip it out from the key to clean things up and make it easier for the backend\n*/\nexport const redirector = (data, timeout = 1000) => {\n  if (Object.prototype.hasOwnProperty.call(data, 'redirector')) {\n    timeout = Object.prototype.hasOwnProperty.call(data, 'timeout') ? data.timeout : timeout\n    setTimeout(function (data) {\n      window.open(\n        data.redirector,\n        Object.prototype.hasOwnProperty.call(data, 'target') ? data.target : '_self'\n      )\n    }, timeout, data)\n    // window.location.replace(resp.data.redirect)\n  }\n}\n","// hooks/useForm.js\nimport { ref, computed, watch, toRefs, reactive, nextTick } from 'vue'\nimport { useStore } from 'vuex'\nimport { useI18n } from 'vue-i18n'\nimport { cloneDeep, isEqual } from 'lodash-es'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nimport { useInputHandlers, useValidation, useLocale, useItemActions } from '@/hooks'\nimport { FORM, ALERT } from '@/store/mutations/index'\nimport ACTIONS from '@/store/actions'\nimport api from '@/store/api/form'\nimport { getModel, getSubmitFormData, getSchema, handleEvents, getTranslationInputsCount, getTopSchema } from '@/utils/getFormData.js'\nimport { redirector } from '@/utils/response'\n\nexport const makeFormProps = propsFactory({\n  modelValue: {\n    type: Object,\n    // default () {\n    //   return {}\n    // }\n  },\n  formClass: {\n    type: [Array, String],\n    default: ''\n  },\n  actionUrl: {\n    type: String\n  },\n  title: {\n    type: String\n  },\n  noTitle: {\n    type: Boolean,\n    default: false\n  },\n  schema: {\n    type: Object,\n    // default () {\n    //   return {}\n    // }\n  },\n  async: {\n    type: Boolean,\n    default: true\n  },\n  buttonText: {\n    type: String\n  },\n  hasSubmit: {\n    type: Boolean,\n    default: false\n  },\n  stickyFrame: {\n    type: Boolean,\n    default: false\n  },\n  stickyButton: {\n    type: Boolean,\n    default: false\n  },\n  rowAttribute: {\n    type: Object,\n    default () {\n      return {\n        noGutters: false,\n        class: 'py-4',\n        // justify:'center',\n        // align:'center'\n      }\n    }\n  },\n  slots: {\n    type: Object,\n    default () {\n      return {}\n    }\n  },\n  valid: {\n    type: Boolean,\n    default: null\n  },\n  isEditing: {\n    type: Boolean,\n    default: false\n  },\n  hasDivider: {\n    type: Boolean,\n    default: false\n  },\n  fillHeight: {\n    type: Boolean,\n    default: false\n  },\n  scrollable: {\n    type: Boolean,\n    default: false\n  },\n  noDefaultFormPadding: {\n    type: Boolean,\n    default: false\n  },\n  noDefaultSurface: {\n    type: Boolean,\n    default: false\n  },\n  actions: {\n    type: [Array, Object],\n    default: []\n  },\n  rightSlotGap: {\n    type: Number,\n    default: 12\n  },\n  rightSlotWidth: {\n    type: Number,\n    default: null\n  },\n  rightSlotMinWidth: {\n    type: Number,\n    default: 300\n  },\n  rightSlotMaxWidth: {\n    type: Number,\n    default: 600\n  },\n\n})\n\nexport default function useForm(props, context) {\n  const store = useStore()\n  const { t, te } = useI18n({ useScope: 'global' })\n\n  // Composables\n  const inputHandlers = useInputHandlers()\n  const validations = useValidation(props)\n  const locale = useLocale()\n\n  // Data refs\n  const VForm = ref(null)\n\n  // const issetModel = ref(props.modelValue ? Object.keys(props.modelValue).length > 0 : false)\n  // const issetSchema = ref(props.schema ? Object.keys(props.schema).length > 0 : false)\n  const issetModel = ref(props.modelValue ? true : false)\n  const issetSchema = ref(props.schema ? true : false)\n\n  const formLoading = ref(false)\n  const formErrors = ref({})\n\n  const rawSchema = ref(issetSchema.value\n    ? props.schema\n    : store.state.form.inputs)\n\n  const defaultItem = ref(issetSchema.value\n    ? getModel(rawSchema.value)\n    : store.getters.defaultItem)\n\n  const storeEditedItem = computed(() => store.state.form.editedItem)\n\n  const model = ref(getModel(\n    rawSchema.value,\n    issetModel.value ? props.modelValue : storeEditedItem.value,\n    store.state,\n  ))\n\n  const inputSchema = ref(validations.invokeRuleGenerator(getSchema(rawSchema.value, model.value, props.isEditing)))\n  const topSchema = ref(getTopSchema(rawSchema.value, props.isEditing))\n  const extraValids = ref(props.actions.length ? props.actions.map(() => true) : [])\n\n  const states = reactive({\n    id: Math.ceil(Math.random() * 1000000) + '-form',\n    VForm,\n\n    issetModel,\n    issetSchema,\n\n    model,\n    // storeEditedItem,\n    formItem: computed(() => issetModel.value ? props.modelValue : storeEditedItem.value),\n\n    inputSchema,\n    topSchema,\n    extraValids,\n\n    hasStickyFrame: props.stickyFrame || props.stickyButton,\n    // formLoading: false,\n    // formErrors: {},\n    manualValidation: false,\n    buttonDefaultText: computed(() =>\n      props.buttonText ? (te(props.buttonText) ? t(props.buttonText) : props.buttonText) : t('submit')\n    ),\n    // editedItem: computed(() => store.state.form.editedItem),\n    serverValid: computed(() => store.state.form.serverValid ?? true),\n    loading: computed(() =>\n      props.actionUrl ? formLoading.value : store.state.form.loading\n    ),\n    errors: computed(() =>\n      props.actionUrl ? formErrors.value : store.state.form.errors\n    ),\n    reference: computed(() => 'ref-' + states.id),\n    hasTraslationInputs: computed(() => getTranslationInputsCount(inputSchema.value) > 0),\n    flattenedActions: computed(() => __isObject(props.actions) ? Object.values(props.actions) : props.actions),\n    hasActions: computed(() => states.flattenedActions.length > 0),\n  })\n  // Methods\n\n  const createSchema = (schema, modelValue) => {\n    return validations.invokeRuleGenerator(getSchema(schema, modelValue, true))\n  }\n\n  const saveForm = (callback = null, errorCallback = null) => {\n    if (props.actionUrl) {\n      formErrors.value = {}\n      formLoading.value = true\n\n      const formData = getSubmitFormData(rawSchema.value, states.model, store._state.data)\n      const method = Object.prototype.hasOwnProperty.call(formData, 'id') ? 'put' : 'post'\n\n      api[method](props.actionUrl, formData,\n        (response) => {\n          formLoading.value = false\n          if (Object.prototype.hasOwnProperty.call(response.data, 'errors')) {\n            store.commit(FORM.SET_SERVER_VALID, false)\n            formErrors.value = response.data.errors\n          } else if (Object.prototype.hasOwnProperty.call(response.data, 'variant')) {\n            store.commit(FORM.SET_SERVER_VALID, false)\n            store.commit(ALERT.SET_ALERT, { message: response.data.message, variant: response.data.variant })\n          }\n\n          context.emit('submitted', response.data)\n          redirector(response.data)\n          if (callback && typeof callback === 'function') callback(response.data)\n        },\n        (response) => {\n          formLoading.value = false\n          if (Object.prototype.hasOwnProperty.call(response.data, 'exception')) {\n            store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be processed.', variant: 'error' })\n          } else {\n            store.dispatch(ACTIONS.HANDLE_ERRORS, response.response.data)\n            store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be validated, please fix and retry', variant: 'error' })\n          }\n\n          if (errorCallback && typeof errorCallback === 'function') errorCallback(response.data)\n        }\n      )\n    } else {\n      nextTick(() => {\n        store.dispatch(ACTIONS.SAVE_FORM, { item: null, callback, errorCallback })\n      })\n    }\n  }\n\n  const sendSync = (e) => {\n    e && e.preventDefault()\n\n    const form = document.createElement('form')\n    form.method = 'POST'\n    form.action = props.actionUrl\n    form.enctype = 'multipart/form-data'\n\n    let formData = convertToNestedFormData(states.model)\n\n    for (const [key, value] of formData.entries()) {\n      const input = document.createElement('input')\n      input.type = 'hidden'\n      input.name = key\n      input.value = value\n      form.appendChild(input)\n    }\n\n    const input = document.createElement('input')\n    input.type = 'hidden'\n    input.name = '_token'\n    input.value = document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n    form.appendChild(input)\n\n    document.body.appendChild(form)\n    form.submit()\n  }\n\n  const handleEvent = (obj) => {\n    handleEvents(model.value, inputSchema.value, obj.schema, true)\n  }\n\n  const convertToNestedFormData = (obj, parentKey = '') => {\n    const formData = new FormData()\n    for (const [key, value] of Object.entries(obj)) {\n      const formKey = parentKey ? `${parentKey}[${key}]` : key\n\n      if (value === null || value === undefined) {\n        continue\n      } else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n          value.forEach((item, index) => {\n            if (typeof item === 'object' && item !== null) {\n              const nestedFormData = convertToNestedFormData(item, `${formKey}[${index}]`)\n              for (const [nestedKey, nestedValue] of nestedFormData.entries()) {\n                formData.append(nestedKey, nestedValue)\n              }\n            } else {\n              formData.append(`${formKey}[${index}]`, item)\n            }\n          })\n        } else {\n          const nestedFormData = convertToNestedFormData(value, formKey)\n          for (const [nestedKey, nestedValue] of nestedFormData.entries()) {\n            formData.append(nestedKey, nestedValue)\n          }\n        }\n      } else {\n        formData.append(formKey, value)\n      }\n    }\n    return formData\n  }\n\n  const resetValidation = () => {\n    __log(VForm)\n    VForm.value.resetValidation()\n  }\n\n  const setSchemaErrors = (errors) => {\n    const _errors = {}\n    for (const name in errors) {\n      const pattern = /(\\w+)\\.(\\w+)/\n      const matches = name.match(pattern)\n      if (matches) {\n        const _name = matches[1]\n        const _locale = matches[2]\n        if (!__isset(_errors[_name])) {\n          _errors[_name] = []\n        }\n        _errors[_name][_locale] = errors[name]\n      } else {\n        _errors[name] = errors[name]\n      }\n    }\n    for (const name in _errors) {\n      if( inputSchema.value[name]) inputSchema.value[name].errorMessages = _errors[name]\n    }\n  }\n\n  const resetSchemaError = (key) => {\n    inputSchema.value[key].errorMessages = []\n  }\n\n  const resetSchemaErrors = () => {\n    for (const key in inputSchema.value) {\n      resetSchemaError(key)\n    }\n  }\n\n  // Initialize\n  const initialize = () => {\n    // rawSchema.value = issetSchema.value ? props.schema : store.state.form.inputs\n    // defaultItem.value = issetSchema.value ? getModel(rawSchema.value) : store.getters.defaultItem\n\n    // model.value = getModel(\n    //   rawSchema.value,\n    //   issetModel.value ? props.modelValue : editedItem.value,\n    //   // states.model,\n    //   store.state,\n    // )\n\n    // states.inputSchema = validations.invokeRuleGenerator(getSchema(rawSchema.value, states.model, props.isEditing))\n    // states.topSchema = getTopSchema(rawSchema.value, props.isEditing)\n    // states.extraValids = props.actions.length ? props.actions.map(() => true) : []\n\n    // __log('initialize')\n    resetSchemaErrors()\n  }\n\n  const methods = reactive({\n    async validate () {\n      const result = await states.VForm.validate()\n\n      return result\n    },\n    createModel: (schema) => {\n      return getModel(schema, states.model.value, store.state)\n    },\n    handleInput: (event) => {\n      const { on, key, obj } = event\n      if (on === 'input' && !!key) {\n        if (!states.serverValid) {\n          resetSchemaError(key)\n        }\n\n        handleEvent(obj)\n      }\n      // __log('useForm handleInput', event)\n      context.emit('input', event)\n    },\n    handleClick: (e) => {\n      const { on, obj, params } = e\n      // check 'click' is from prependInner Icon (Print) at key 'subgroups.content'\n      // if (on === 'click' && key === 'subgroups.content' && (params && params.tag) === 'prepend-inner') {\n      //   window.print()\n      // }\n      // check 'click' is from from appendIcon at key password\n\n      // for click slot handlers\n      // __log(params, val)\n      if (on === 'click' && params && params.tag) {\n        // toggle visibility of password control\n        inputHandlers.invokeInputClickHandler(obj, params.tag)\n      }\n    },\n    handleUpdate: (e) => {\n      // __log('handleUpdate', e)\n    },\n    handleResize: (e) => {\n      // __log('handleResize', e)\n    },\n    handleBlur: (e) => {\n      // __log('handleBlur', e)\n    },\n    submit: (e, callback = null, errorCallback = null) => {\n      if (validations.validModel.value) {\n        if (props.async) {\n          e && e.preventDefault()\n          if (!props.actionUrl) {\n            store.commit(FORM.SET_EDITED_ITEM, states.model)\n            nextTick(() => {\n              saveForm(callback, errorCallback)\n            })\n          } else {\n            saveForm(callback, errorCallback)\n          }\n        } else {\n          sendSync(e)\n        }\n      } else {\n        e && e.preventDefault()\n      }\n    },\n    updatedSlotModel: (value, inputName) => {\n      __log(states.model, value, inputName)\n    },\n    regenerateInputSchema: (newItem) => {\n      // #TODO regenerate inputschema for prefix regex pattern\n      // for (const key in this.rawSchema) {\n      //   if (__isset(this.rawSchema[key].event)) {\n\n    },\n    getTopInputActiveLabel: (topInput) => {\n      const item = topInput.items.find(item => item[topInput.itemValue] ===  (window.__isset(states.model[topInput.name]) ? states.model[topInput.name] : -1))\n      return item ? item[topInput.itemTitle] : topInput.label\n    },\n\n    updatedCustomFormBaseModelValue: (value) => {\n      __log('updatedCustomFormBaseModelValue', value)\n      model.value = value\n    },\n  })\n\n  // Add watch to sync with modelValue when it exists\n  watch(() => props.modelValue, (newVal, oldVal) => {\n\n    if(oldVal === undefined) return\n\n    if (issetModel.value) {\n      // __log('modelValue watch', isEqual(newVal, oldVal), isEqual(newVal, model.value), newVal, model.value)\n      if(isEqual(newVal, oldVal) && isEqual(newVal, model.value)) return\n      // __log('modelValue watch', newVal, oldVal)\n      model.value = getModel(rawSchema.value, newVal, store.state)\n    }\n  })\n\n  // Watch editedItem\n  watch(() => storeEditedItem.value, (newVal, oldVal) => {\n    if (!issetModel.value) {\n      // methods.regenerateInputSchema(newValue)\n      // model.value = getModel(rawSchema.value, newValue, store.state)\n    }\n  })\n\n  watch(() => model.value, (newVal, oldVal) => { // ✅ Proper ref watching\n    if (issetModel.value) {\n      // __log('model watch', isEqual(newVal, oldVal), isEqual(newVal, props.modelValue), newVal, props.modelValue)\n\n      if(isEqual(newVal, oldVal) && isEqual(newVal, props.modelValue)) return\n\n      context.emit('update:modelValue', newVal)\n    } else {\n      // __log('useForm model watch for editedItem', newVal, oldVal)\n    }\n  }, { deep: true })\n\n  // Watch errors\n  watch(() => states.errors, (newValue) => {\n    setSchemaErrors(newValue)\n  })\n\n  // Watch validModel\n  watch(() => validations.validModel.value, (newValue) => {\n    context.emit('update:valid', newValue)\n  })\n\n  // Watch schema\n  watch(() => props.schema, (newValue, oldValue) => {\n    // __log('schema watch', newValue)\n    // __log('schema watch', isEqual(newValue, oldValue), newValue, oldValue)\n    if (!isEqual(newValue, oldValue) && issetSchema.value && !isEqual(newValue, inputSchema.value)) {\n      rawSchema.value = newValue\n      defaultItem.value = getModel(rawSchema.value)\n\n      // model.value = getModel(\n      //   rawSchema.value,\n      //   issetModel.value ? props.modelValue : storeEditedItem.value,\n      //   store.state,\n      // )\n\n      inputSchema.value = validations.invokeRuleGenerator(getSchema(rawSchema.value, model.value, props.isEditing))\n      topSchema.value = getTopSchema(rawSchema.value, props.isEditing)\n      // states.extraValids = props.actions.length ? props.actions.map(() => true) : []\n      initialize()\n      // context.emit('update:schema' )\n    }\n  }, { deep: true })\n\n  // Watch inputSchema\n  watch(() => inputSchema.value, (newValue, oldValue) => {\n    // __log('inputSchema watch', newValue, oldValue)\n\n    // if(isEqual(newValue, oldValue) && isEqual(newValue, rawSchema.value)) return\n\n    // if(issetSchema.value) {\n\n    //   context.emit('update:schema', newValue)\n    // }\n    // You can add any specific handling needed when inputSchema changes\n  }, { deep: true })\n\n  // Watch rawSchema\n  watch(() => rawSchema.value, (value, oldValue) => {\n    // __log('watch rawSchema', value)\n    if(oldValue === undefined) {\n      return\n    }\n    if( !isEqual(value, oldValue)) {\n      const oldModel = cloneDeep(model.value)\n      // Changed variable name to avoid conflict\n      const newModel = getModel(value, model.value, store.state)\n\n      if (!isEqual(newModel, oldModel)) {\n        model.value = newModel\n        inputSchema.value = validations.invokeRuleGenerator(\n          getSchema(value, model.value, props.isEditing)\n        )\n      }\n    }\n\n  }, { deep: true })\n\n  initialize()\n\n  // Add resetSchemaErrors to the returned methods\n  return {\n    ...toRefs(states),\n    ...toRefs(methods),\n    ...inputHandlers,\n    ...validations,\n    ...locale,\n    // ...itemActions,\n    // handleInput,\n    // createModel,\n    // createSchema,\n    // submit,\n    // resetValidation,\n    // initialize,\n    // resetSchemaError,\n    // setSchemaErrors,\n  }\n}\n","<template>\n  <div class=\"d-flex flex-wrap ga-2 mr-2\">\n    <template v-for=\"(action, key) in showedActions\">\n      <v-tooltip\n        v-if=\"action.type !== 'modal'\"\n        :disabled=\"!action.icon || action.forceLabel\"\n        :location=\"action.tooltipLocation ?? 'top'\"\n      >\n        <template v-slot:activator=\"{ props }\">\n          <v-switch\n            v-if=\"action.type === 'publish'\"\n            :modelValue=\"editedItem[action.key ?? 'published'] ?? action.default ?? false\"\n            @update:modelValue=\"handleAction(action)\"\n          />\n          <v-btn\n            v-else\n            :icon=\"!action.forceLabel ? action.icon : null\"\n            :text=\"action.forceLabel ? action.label : null\"\n            :color=\"action.color\"\n            :variant=\"action.variant\"\n            :density=\"action.density ?? 'comfortable'\"\n            :size=\"action.size ?? 'default'\"\n            :rounded=\"action.forceLabel ? null : true\"\n            v-bind=\"props\"\n            @click=\"handleAction(action)\"\n          />\n        </template>\n        <span>{{ action.tooltip ?? action.label }}</span>\n      </v-tooltip>\n      <v-menu v-else-if=\"action.type === 'modal' && action.endpoint && action.schema\"\n        :close-on-content-click=\"false\"\n        open-on-hoverx\n        transition=\"scale-transition\"\n      >\n        <template v-slot:activator=\"{ props }\">\n          <v-btn\n            :icon=\"!action.forceLabel ? action.icon : null\"\n            :text=\"action.forceLabel ? action.label : null\"\n            :color=\"action.color\"\n            :variant=\"action.variant\"\n            :density=\"action.density ?? 'comfortable'\"\n            :size=\"action.size ?? 'default'\"\n            :rounded=\"action.forceLabel ? null : true\"\n            v-bind=\"props\"\n          />\n        </template>\n        <v-sheet :style=\"$vuetify.display.mdAndDown ? {width: '70vw'} : {width: '40vw'}\">\n          <ue-form\n            :ref=\"`extra-form-${key}`\"\n            :modelValue=\"createModel(action.schema)\"\n            @updatex:modelValue=\"$log($event)\"\n            :title=\"action.formTitle ?? null\"\n            :schema=\"action.schema\"\n            :action-url=\"action.endpoint.replace(':id', modelValue.id)\"\n            :valid=\"valids[key]\"\n            @update:valid=\"valids[key] = $event\"\n            has-divider\n            has-submit\n            button-text=\"Save\"\n            @submitted=\"$emit('actionComplete', { action })\"\n          />\n        </v-sheet>\n      </v-menu>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useItemActions } from '@/hooks'\nimport { getModel } from '@/utils/getFormData'\n\nexport default {\n  name: 'FormActions',\n  emits: ['actionComplete'],\n  props: {\n    modelValue: {\n      type: Object,\n      required: true\n    },\n    isEditing: {\n      type: Boolean,\n      required: false\n    },\n    actions: {\n      type: Object,\n      required: true\n    },\n\n  },\n  setup(props, context) {\n    const { handleAction, showedActions } = useItemActions(props, {\n      ...context,\n      actionItem: props.modelValue\n    })\n\n    const valids = computed(() => showedActions.value.map(action => true))\n\n    // __log(showedActions)\n    const createModel = (schema) => {\n      return getModel(schema, props.modelValue)\n    }\n    return {\n      showedActions,\n      handleAction,\n      createModel,\n      valids\n    }\n  },\n}\n</script>\n\n","<template>\n  <div :class=\"fillHeight ? '' : ''\"\n    :style=\"{height: fillHeight ? ($vuetify.display.mdAndDown ? `calc(97vh - 64px)` : `calc(97vh)` ) : ''}\">\n    <v-form\n      :id=\"id\"\n      ref=\"VForm\"\n      :action=\"actionUrl\"\n      method=\"POST\"\n      v-model=\"validModel\"\n      @submit=\"submit\"\n      :class=\"formClasses\"\n      >\n      <input v-if=\"!async\" type=\"hidden\" name=\"_token\" :value=\"csrf\"/>\n\n      <!-- Header Section -->\n      <div :class=\"[(hasDivider || title) ? 'pb-6' : '', scrollable ? 'flex-grow-0' : '']\">\n        <ue-title\n          v-if=\"!noTitle && title\"\n          padding=\"b-3\"\n          align=\"center\"\n          justify=\"space-between\"\n          v-bind=\"titleOptions\"\n        >\n          <template v-slot:default>\n            <slot name=\"header.left\" v-bind=\"{title: titleSerialized, model: model, schema: inputSchema}\">\n              {{ titleSerialized }}\n            </slot>\n          </template>\n          <template v-slot:right>\n            <div class=\"d-flex align-center\">\n              <slot name=\"headerCenter\">\n\n              </slot>\n              <!-- Form Actions -->\n              <template v-if=\"hasAction && false\">\n                <div class=\"d-flex flex-wrap ga-2 mr-2\">\n                  <template v-for=\"(action, key) in flattenedActions\">\n                    <v-tooltip\n                      v-if=\"shouldShowAction(action) && action.type !== 'modal'\"\n                      :disabled=\"!action.icon || action.forceLabel\"\n                      :location=\"action.tooltipLocation ?? 'top'\"\n                    >\n                      <template v-slot:activator=\"{ props }\">\n                        <v-switch\n                          v-if=\"action.type === 'publish'\"\n                          :modelValue=\"model[action.key ?? 'published'] ?? action.default ?? false\"\n                          @update:modelValue=\"handleAction(action)\"\n                        />\n                        <v-btn\n                          v-else\n                          :icon=\"!action.forceLabel ? action.icon : null\"\n                          :text=\"action.forceLabel ? action.label : null\"\n                          :color=\"action.color\"\n                          :variant=\"action.variant\"\n                          :density=\"action.density ?? 'comfortable'\"\n                          :size=\"action.size ?? 'default'\"\n                          :rounded=\"action.forceLabel ? null : true\"\n                          v-bind=\"props\"\n                          @click=\"handleAction(action)\"\n                        />\n                      </template>\n                      <span>{{ action.tooltip ?? action.label }}</span>\n                    </v-tooltip>\n                    <v-menu v-else-if=\"shouldShowAction(action) && action.type === 'modal'\"\n                      :close-on-content-click=\"false\"\n                      open-on-hoverx\n                      transition=\"scale-transition\"\n                    >\n                      <template v-slot:activator=\"{ props }\">\n                        <v-btn\n                          :icon=\"!action.forceLabel ? action.icon : null\"\n                          :text=\"action.forceLabel ? action.label : null\"\n                          :color=\"action.color\"\n                          :variant=\"action.variant\"\n                          :density=\"action.density ?? 'comfortable'\"\n                          :size=\"action.size ?? 'default'\"\n                          :rounded=\"action.forceLabel ? null : true\"\n                          v-bind=\"props\"\n                        />\n                      </template>\n                      <v-sheet :style=\"$vuetify.display.mdAndDown ? {width: '70vw'} : {width: '40vw'}\">\n                        <ue-form\n                          :ref=\"`extra-form-${key}`\"\n                          :modelValue=\"createModel(action.schema)\"\n                          @updatex:modelValue=\"$log($event)\"\n                          :title=\"action.formTitle ?? null\"\n                          :schema=\"action.schema\"\n                          :action-url=\"action.endpoint.replace(':id', model.id)\"\n                          :valid=\"extraValids[key]\"\n                          @update:valid=\"extraValids[key] = $event\"\n                          has-divider\n                          has-submit\n                          button-text=\"Save\"\n                        />\n                      </v-sheet>\n                    </v-menu>\n                  </template>\n                </div>\n              </template>\n\n              <FormActions\n                v-if=\"isEditing\"\n                :modelValue=\"formItem\"\n                :actions=\"actions\"\n                :is-editing=\"isEditing\"\n                @action-complete=\"$emit('actionComplete', $event)\"\n              />\n              <!-- Input events-->\n              <template v-if=\"topSchema && topSchema.length\">\n                  <template v-for=\"topInput in topSchema\" :key=\"topInput.name\">\n                    <v-tooltip\n                      :disabled=\"topInput.tooltip == ''\"\n                      :location=\"topInput.tooltipLocation ?? 'top'\"\n                    >\n                      <template v-slot:activator=\"{ props }\">\n                        <v-switch\n                          v-if=\"topInput.type === 'switch'\"\n                          v-bind=\"{...$lodash.omit(topInput, 'label'), ...props}\"\n                          hide-details\n                          :modelValue=\"model[topInput.name] ?? topInput.default ?? false\"\n                          @update:modelValue=\"model[topInput.name] = $event\"\n                          class=\"mr-2\"\n                        />\n                        <ue-recursive-stuff v-else-if=\"topInput.viewOnlyComponent\"\n                          :configuration=\"topInput.viewOnlyComponent\"\n                          :bind-data=\"model\"\n                          v-bind=\"props\"\n                          class=\"mr-2\"\n                        />\n                        <v-menu v-else\n                          :close-on-content-click=\"false\"\n                          transition=\"scale-transition\"\n                          offset-y\n                          v-bind=\"props\"\n                        >\n                          <template v-slot:activator=\"{ props }\">\n                            <v-btn\n                              class=\"mr-2\"\n                              variant=\"outlined\"\n                              append-icon=\"mdi-chevron-down\"\n                              v-bind=\"props\"\n                            >\n                              <!-- {{ topInput.label }} -->\n                              {{ getTopInputActiveLabel(topInput) }}\n                              <!-- {{ topInput.items.find(item => item[topInput.itemValue] ===  ($isset(model[topInput.name]) ? model[topInput.name] : -1))[topInput.itemTitle] ?? topInput.label }} -->\n                            </v-btn>\n                          </template>\n\n                          <v-list>\n                            <v-list-item\n                              v-for=\"(item, index) in topInput.items\"\n                              :key=\"item.id\"\n                              @click=\"model[topInput.name] = item.id\"\n                            >\n                              <v-list-item-title>\n                                {{ item.name }}\n                                <v-icon v-if=\"$isset(model[topInput.name]) && item[topInput.itemValue] === model[topInput.name]\" size=\"small\" icon=\"$check\" color=\"primary\"></v-icon>\n                              </v-list-item-title>\n                            </v-list-item>\n                          </v-list>\n                        </v-menu>\n                      </template>\n                      <span>{{ topInput.tooltip ?? topInput.label }}</span>\n                    </v-tooltip>\n\n                  </template>\n              </template>\n\n              <!-- Language Selector -->\n              <v-chip-group\n                v-if=\"hasTraslationInputs && languages && languages.length && languages.length > 1\"\n                :modelValue=\"currentLocale.value\"\n                @update:modelValue=\"updateLocale($event)\"\n                selected-class=\"bg-primary\"\n                mandatory\n              >\n                <v-chip\n                  v-for=\"language in languages\"\n                  :key=\"language.value\"\n                  :text=\"language.shortlabel\"\n                  :value=\"language.value\"\n                  variant=\"outlined\"\n                ></v-chip>\n              </v-chip-group>\n              <slot name=\"header.right\">\n\n              </slot>\n            </div>\n          </template>\n        </ue-title>\n\n        <v-divider v-if=\"hasDivider\"></v-divider>\n      </div>\n\n      <!-- {{ $log(model, formItem) }} -->\n      <!-- Scrollable Content Section -->\n      <div :class=\"['d-flex', scrollable ? 'flex-grow-1 overflow-hidden mr-n5' : '']\">\n        <div :class=\"['w-100 d-flex', scrollable ? 'overflow-y-auto pr-3' : '']\"\n        >\n          <div class=\"flex-grow-1\">\n\n            <slot name=\"top\" v-bind=\"{item: formItem, schema}\"></slot>\n\n            <v-custom-form-base\n              :id=\"`ue-wrapper-${id}`\"\n\n              v-model=\"model\"\n              :schema=\"inputSchema\"\n              :row=\"rowAttribute\"\n\n              @update=\"handleUpdate\"\n              @input=\"handleInput\"\n              @resize=\"handleResize\"\n              @blur=\"handleBlur\"\n              @click=\"handleClick\"\n              >\n              <template\n                v-for=\"(_slot, key) in formSlots\"\n                :key=\"key\"\n                v-slot:[`slot-inject-${_slot.name}-key-ue-wrapper-${id}-${_slot.inputName}`]=\"_slotData\"\n                >\n                <template v-if=\"_slot.type == 'form'\">\n                  <v-custom-form-base\n                    :id=\"`ue-wrapper-${id}-${_slot.name}`\"\n                    v-model=\"model\"\n                    v-model:schema=\"_slot.schema\"\n                    :row=\"rowAttribute\"\n\n                    >\n\n                  </v-custom-form-base>\n                </template>\n                <template v-else-if=\"_slot.type == 'recursive-stuff'\">\n                  <ue-recursive-stuff\n                    v-for=\"(context, i) in _slot.context.elements\"\n                    :key=\"i\"\n                    :configuration=\"context\"\n                    :bindData=\"_slotData\">\n                  </ue-recursive-stuff>\n                </template>\n                <!-- <div>\n                  {{ $log(_slot, _slotData) }}\n                  Hello\n                </div> -->\n              </template>\n              <!-- <template v-slot:[`slot-inject-prepend-key-treeview-slot-permissions`]=\"{open}\" >\n                <v-icon color=\"blue\">\n                    {{open ? 'mdi-folder-open' : 'mdi-folder'}}\n                </v-icon>\n              </template>\n              <template #slot-inject-label-key-treeview-slot-permissions=\"{item}\" >\n                <span class=\"caption\" >\n                  {{item.name.toUpperCase()}}\n                </span>\n              </template> -->\n            </v-custom-form-base>\n          </div>\n\n          <div v-if=\"$slots.right || $slots['right.top'] || $slots['right.bottom'] || $slots['right.middle']\"\n            :class=\"[\n              $vuetify.display.lgAndUp ? 'flex-grow-0' : 'd-none',\n              'pt-2',\n              `ml-${rightSlotGap}`,\n            ]\"\n            :style=\"{\n              ...(rightSlotWidth ? {width: `${rightSlotWidth}px`} : {}),\n              ...(rightSlotMinWidth ? {minWidth: `${rightSlotMinWidth}px`} : {}),\n              ...(rightSlotMaxWidth ? {maxWidth: `${rightSlotMaxWidth}px`} : {})\n            }\"\n          >\n            <slot name=\"right\" v-bind=\"{item: formItem, schema}\">\n\n              <slot name=\"right.top\" v-bind=\"{item: formItem, schema}\">\n\n              </slot>\n\n              <slot name=\"right.middle\" v-bind=\"{item: formItem, schema}\">\n\n              </slot>\n\n              <slot name=\"right.bottom\" v-bind=\"{item: formItem, schema}\">\n\n              </slot>\n\n            </slot>\n\n          </div>\n        </div>\n\n\n        <!-- Sticky Frame Section -->\n\n      </div>\n\n      <!-- <v-spacer></v-spacer> -->\n\n      <!-- Footer Section -->\n      <div :class=\"[scrollable ? 'flex-grow-0' : '']\">\n        <v-divider v-if=\"hasSubmit && !stickyButton && hasDivider\" class=\"mt-6\"></v-divider>\n        <div class=\"d-flex pt-6\" v-if=\"hasSubmit && !stickyButton\">\n          <slot name=\"submit\"\n            v-bind=\"{\n              validForm: validModel || !serverValid,\n              buttonDefaultText\n            }\">\n            <v-btn type=\"submit\" :disabled=\"!(validModel || !serverValid) || loading\" class=\"ml-auto mb-5\">\n              {{ buttonDefaultText }}\n            </v-btn>\n          </slot>\n        </div>\n\n        <div v-if=\"hasSubmit && !stickyButton\">\n          <v-progress-linear\n            v-if=\"loading\"\n            indeterminate\n            color=\"green\"\n          />\n        </div>\n\n        <div class=\"ue-form__bottom\">\n          <slot name=\"bottom\" v-bind=\"{}\"></slot>\n        </div>\n      </div>\n\n    </v-form>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useI18n } from 'vue-i18n'\nimport { useForm, makeFormProps } from '@/hooks'\nimport { cloneDeep, omit } from 'lodash-es'\nimport FormActions from './form/FormActions.vue'\n\nexport default {\n  name: 'ue-form',\n  components: {\n    FormActions\n  },\n  emits: [\n    'update:valid',\n    'update:modelValue',\n    'update:schema',\n    'input',\n    'actionComplete',\n    'submitted'\n  ],\n  props: {\n    ...makeFormProps(),\n  },\n  provide() {\n      // use function syntax so that we can access `this`\n      return {\n        manualValidation: computed(() => this.manualValidation),\n        submitForm: computed(() => this.submit)\n      }\n  },\n  setup(props, context) {\n    const store = useStore()\n    const formHook = useForm(props, context)\n    const { t, te, locale } = useI18n({ useScope: 'global' })\n    // const i18n = useI18n()\n\n    const formClasses = computed(() => [\n      props.noDefaultFormPadding ? '' : 'px-6 py-6',\n      props.noDefaultSurface ? '' : 'bg-surface',\n      props.fillHeight ? 'd-flex flex-column h-100' : '',\n      props.formClass,\n    ])\n\n    const formSlots = computed(() => {\n      const slots = []\n\n      // Object.values(formHook.inputSchema).forEach((schema, index) => {\n      Object.values(formHook.issetSchema.value ? props.schema : store.state.form.inputs).forEach((schema, index) => {\n        if (Object.prototype.hasOwnProperty.call(schema, 'slots') && Object.keys(schema.slots).length > 0) {\n          Object.keys(schema.slots).forEach((slotName) => {\n            slots.push({\n              name: slotName,\n              inputName: schema.name,\n              type: 'recursive-stuff',\n              context: schema.slots[slotName]\n            })\n          })\n        } else if (Object.prototype.hasOwnProperty.call(schema, 'slotable')) {\n          slots.push({\n            name: schema.slotable.name,\n            inputName: schema.slotable.slotTo,\n            selfName: schema.name,\n            type: 'form',\n            schema: cloneDeep(formHook.invokeRuleGenerator({\n              [schema.name]: omit(schema, ['slotable'])\n            }))\n          })\n        }\n      })\n      return slots\n    })\n\n    const titleOptions = computed(() => {\n      let options = {}\n\n      if(__isObject(props.title)){\n        options = {\n          tag: props.title.tag || 'div',\n          type: props.title.type || 'body-1',\n          weight: props.title.weight || 'regular',\n          transform: props.title.transform || 'none',\n          color: props.title.color,\n          padding: props.title.padding || 'a-0',\n          margin: props.title.margin || 'a-0',\n          align: props.title.align || 'left',\n          justify: props.title.justify || 'start',\n        }\n      }\n      return options\n    })\n\n    const titleSerialized = computed(() => {\n      let title = props.title\n\n      if(__isObject(props.title)){\n        title = props.title.text\n      }\n\n      return te(title)\n        ? t(title).toLocaleUpperCase(locale.value.toUpperCase())\n        : title.toLocaleUpperCase(locale.value.toUpperCase())\n    })\n\n    const formColumnAttrs = computed(() => {\n      return props.hasStickyFrame\n        ? {\n            cols: '12',\n            sm: '12',\n            md: '12',\n            lg: '8',\n            xl: '6',\n            'order-lg': '0',\n            'order-xl': '0'\n          }\n        : {\n            cols: '12'\n          }\n    })\n\n    const stickyColumnAttrs = computed(() => {\n      return {\n        cols: '12',\n        sm: '12',\n        md: '12',\n        lg: '4',\n        xl: '6',\n        'order-lg': '1',\n        'order-xl': '1'\n      }\n    })\n\n    return {\n      ...formHook,\n      formClasses,\n      formSlots,\n      titleOptions,\n      titleSerialized\n      // formColumnAttrs,\n      // stickyColumnAttrs\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","<template>\n  <div :class=\"fillHeight ? '' : ''\"\n    id=\"ue-form-old\"\n    :style=\"{height: fillHeight ? ($vuetify.display.mdAndDown ? `calc(97vh - 64px)` : `calc(97vh)` ) : ''}\">\n    <v-form\n      :id=\"id\"\n      :ref=\"reference\"\n      :action=\"actionUrl\"\n      method=\"POST\"\n      v-model=\"validModel\"\n      @submit=\"submit\"\n      :class=\"formClasses\"\n      >\n      <input v-if=\"!async\" type=\"hidden\" name=\"_token\" :value=\"csrf\"/>\n\n      <!-- Header Section -->\n      <div :class=\"[(hasDivider || title) ? 'pb-6' : '', scrollable ? 'flex-grow-0' : '']\">\n        <ue-title\n          v-if=\"title\"\n          padding=\"b-3\"\n          color=\"grey-darken-5\"\n          align=\"center\"\n          justify=\"space-between\"\n          v-bind=\"titleOptions\"\n        >\n          {{ titleSerialized }}\n          <template v-slot:right>\n            <div class=\"d-flex align-center\">\n              <slot name=\"headerCenter\">\n\n              </slot>\n              <!-- Form Actions -->\n              <template v-if=\"computedActions && computedActions.length\">\n                <div class=\"d-flex flex-wrap ga-2 mr-2\">\n                  <template v-for=\"(action, key) in computedActions\">\n                    <v-tooltip\n                      v-if=\"shouldShowAction(action) && action.type !== 'modal'\"\n                      :disabled=\"!action.icon || action.forceLabel\"\n                      :location=\"action.tooltipLocation ?? 'top'\"\n                    >\n                      <template v-slot:activator=\"{ props }\">\n                        <v-switch\n                          v-if=\"action.type === 'publish'\"\n                          :modelValue=\"editedItem[action.key ?? 'published'] ?? action.default ?? false\"\n                          @update:modelValue=\"handleAction(action)\"\n                        />\n                        <v-btn\n                          v-else\n                          :icon=\"!action.forceLabel ? action.icon : null\"\n                          :text=\"action.forceLabel ? action.label : null\"\n                          :color=\"action.color\"\n                          :variant=\"action.variant\"\n                          :density=\"action.density ?? 'comfortable'\"\n                          :size=\"action.size ?? 'default'\"\n                          :rounded=\"action.forceLabel ? null : true\"\n                          v-bind=\"props\"\n                          @click=\"handleAction(action)\"\n                        />\n                      </template>\n                      <span>{{ action.tooltip ?? action.label }}</span>\n                    </v-tooltip>\n                    <v-menu v-else-if=\"shouldShowAction(action) && action.type === 'modal'\"\n                      :close-on-content-click=\"false\"\n                      open-on-hoverx\n                      transition=\"scale-transition\"\n                    >\n                      <template v-slot:activator=\"{ props }\">\n                        <v-btn\n                          :icon=\"!action.forceLabel ? action.icon : null\"\n                          :text=\"action.forceLabel ? action.label : null\"\n                          :color=\"action.color\"\n                          :variant=\"action.variant\"\n                          :density=\"action.density ?? 'comfortable'\"\n                          :size=\"action.size ?? 'default'\"\n                          :rounded=\"action.forceLabel ? null : true\"\n                          v-bind=\"props\"\n                        />\n                      </template>\n                      <v-sheet :style=\"$vuetify.display.mdAndDown ? {width: '70vw'} : {width: '40vw'}\">\n                        <ue-form\n                          :ref=\"`extra-form-${key}`\"\n                          :modelValue=\"createModel(action.schema)\"\n                          @updatex:modelValue=\"$log($event)\"\n                          :title=\"action.formTitle ?? null\"\n                          :schema=\"action.schema\"\n                          :action-url=\"action.endpoint.replace(':id', editedItem.id)\"\n                          :valid=\"extraValids[key]\"\n                          @update:valid=\"extraValids[key] = $event\"\n                          has-divider\n                          has-submit\n                          button-text=\"Save\"\n                        />\n                      </v-sheet>\n                    </v-menu>\n                  </template>\n                </div>\n              </template>\n\n              <!-- Input events-->\n              <template v-if=\"topSchema && topSchema.length\">\n                <template v-for=\"topInput in topSchema\" :key=\"topInput.name\">\n                  <v-switch\n                    v-if=\"topInput.type === 'switch'\"\n                    v-bind=\"$lodash.omit(topInput, 'label')\"\n                    hide-details\n                    :modelValue=\"model[topInput.name] ?? topInput.default ?? false\"\n                    @update:modelValue=\"model[topInput.name] = $event\"\n                  />\n                  <ue-recursive-stuff v-else-if=\"topInput.viewOnlyComponent\"\n                    :configuration=\"topInput.viewOnlyComponent\"\n                    :bind-data=\"editedItem\"\n                  />\n                  <v-menu v-else\n                    :close-on-content-click=\"false\"\n                    transition=\"scale-transition\"\n                    offset-y\n                  >\n                    <template v-slot:activator=\"{ props }\">\n                      <v-btn\n                        variant=\"outlined\"\n                        append-icon=\"mdi-chevron-down\"\n                        v-bind=\"props\"\n                      >\n                        <!-- {{ topInput.label }} -->\n                        {{ getTopInputActiveLabel(topInput) }}\n                        <!-- {{ topInput.items.find(item => item[topInput.itemValue] ===  ($isset(model[topInput.name]) ? model[topInput.name] : -1))[topInput.itemTitle] ?? topInput.label }} -->\n                      </v-btn>\n                    </template>\n\n                    <v-list>\n                      <v-list-item\n                        v-for=\"(item, index) in topInput.items\"\n                        :key=\"item.id\"\n                        @click=\"model[topInput.name] = item.id\"\n                      >\n                        <v-list-item-title>\n                          {{ item.name }}\n                          <v-icon v-if=\"$isset(model[topInput.name]) && item[topInput.itemValue] === model[topInput.name]\" size=\"small\" icon=\"$check\" color=\"primary\"></v-icon>\n                        </v-list-item-title>\n                      </v-list-item>\n                    </v-list>\n                  </v-menu>\n                </template>\n              </template>\n\n              <!-- Language Selector -->\n              <v-chip-group\n                v-if=\"hasTraslationInputs && languages && languages.length && languages.length > 1\"\n                :modelValue=\"currentLocale.value\"\n                @update:modelValue=\"updateLocale($event)\"\n                selected-class=\"bg-primary\"\n                mandatory\n              >\n                <v-chip\n                  v-for=\"language in languages\"\n                  :key=\"language.value\"\n                  :text=\"language.shortlabel\"\n                  :value=\"language.value\"\n                  variant=\"outlined\"\n                ></v-chip>\n              </v-chip-group>\n              <slot name=\"header.right\">\n\n              </slot>\n            </div>\n          </template>\n        </ue-title>\n\n        <v-divider v-if=\"hasDivider\"></v-divider>\n      </div>\n\n\n      <!-- Scrollable Content Section -->\n      <div :class=\"['d-flex', scrollable ? 'flex-grow-1 overflow-hidden mr-n5' : '']\">\n        <div :class=\"['w-100', scrollable ? 'overflow-y-auto pr-3' : '']\"\n        >\n          <slot name=\"top\" v-bind=\"{item, schema}\"></slot>\n\n          <v-custom-form-base\n            :id=\"`ue-wrapper-${id}`\"\n            v-model=\"model\"\n            v-model:schema=\"inputSchema\"\n            :row=\"rowAttribute\"\n\n            @update=\"handleUpdate\"\n            @input=\"handleInput\"\n            @resize=\"handleResize\"\n            @blur=\"handleBlur\"\n            @click=\"handleClick\"\n            >\n            <template\n              v-for=\"(_slot, key) in formSlots\"\n              :key=\"key\"\n              v-slot:[`slot-inject-${_slot.name}-key-ue-wrapper-${id}-${_slot.inputName}`]=\"_slotData\"\n              >\n              <template v-if=\"_slot.type == 'form'\">\n                <v-custom-form-base\n                  :id=\"`ue-wrapper-${id}-${_slot.name}`\"\n                  v-model=\"model\"\n                  v-model:schema=\"_slot.schema\"\n                  :row=\"rowAttribute\"\n\n                  >\n\n                </v-custom-form-base>\n              </template>\n              <template v-else-if=\"_slot.type == 'recursive-stuff'\">\n                <ue-recursive-stuff\n                  v-for=\"(context, i) in _slot.context.elements\"\n                  :key=\"i\"\n                  :configuration=\"context\"\n                  :bindData=\"_slotData\">\n                </ue-recursive-stuff>\n              </template>\n              <!-- <div>\n                {{ $log(_slot, _slotData) }}\n                Hello\n              </div> -->\n            </template>\n            <!-- <template v-slot:[`slot-inject-prepend-key-treeview-slot-permissions`]=\"{open}\" >\n              <v-icon color=\"blue\">\n                  {{open ? 'mdi-folder-open' : 'mdi-folder'}}\n              </v-icon>\n            </template>\n            <template #slot-inject-label-key-treeview-slot-permissions=\"{item}\" >\n              <span class=\"caption\" >\n                {{item.name.toUpperCase()}}\n              </span>\n            </template> -->\n          </v-custom-form-base>\n        </div>\n        <!-- Sticky Frame Section -->\n\n      </div>\n\n      <!-- <v-spacer></v-spacer> -->\n\n      <!-- Footer Section -->\n      <div :class=\"[scrollable ? 'flex-grow-0' : '']\">\n        <v-divider v-if=\"hasSubmit && !stickyButton && hasDivider\" class=\"mt-6\"></v-divider>\n        <div class=\"d-flex pt-6\" v-if=\"hasSubmit && !stickyButton\">\n          <slot name=\"submit\"\n            v-bind=\"{\n              validForm: validModel || !serverValid,\n              buttonDefaultText\n            }\">\n            <v-btn type=\"submit\" :disabled=\"!(validModel || !serverValid) || loading\" class=\"ml-auto mb-5\">\n              {{ buttonDefaultText }}\n            </v-btn>\n          </slot>\n        </div>\n\n        <div v-if=\"hasSubmit && !stickyButton\">\n          <v-progress-linear\n            v-if=\"loading\"\n            indeterminate\n            color=\"green\"\n          />\n        </div>\n\n        <div class=\"ue-form__bottom\">\n          <slot name=\"bottom\" v-bind=\"{}\"></slot>\n        </div>\n      </div>\n\n    </v-form>\n  </div>\n</template>\n\n<script>\n  import { computed, provide } from 'vue'\n  import { mapState, useStore } from 'vuex'\n  import { FORM, ALERT } from '@/store/mutations/index'\n  import ACTIONS from '@/store/actions'\n  import api from '@/store/api/form'\n  import { useInputHandlers, useValidation, useLocale, useItemActions } from '@/hooks'\n\n  import { useI18n } from 'vue-i18n'\n\n  import { getModel, getSubmitFormData, getSchema, handleInputEvents, handleEvents, getTranslationInputsCount, getTopSchema } from '@/utils/getFormData.js'\n\n  import { redirector } from '@/utils/response'\n  import { cloneDeep } from 'lodash-es'\n\n  export default {\n    name: 'ue-form',\n    emits: [\n      'update:valid',\n      'update:modelValue',\n      'input',\n      'actionComplete',\n      'submitted'\n    ],\n    props: {\n      modelValue: {\n        type: Object,\n        default () {\n          return {}\n        }\n      },\n      formClass: {\n        type: [Array, String],\n        default: ''\n      },\n      actionUrl: {\n        type: String\n      },\n      title: {\n        type: String\n      },\n      schema: {\n        type: Object,\n        default () {\n          return {}\n        }\n      },\n      async: {\n        type: Boolean,\n        default: true\n      },\n      buttonText: {\n        type: String\n      },\n      hasSubmit: {\n        type: Boolean,\n        default: false\n      },\n      stickyFrame: {\n        type: Boolean,\n        default: false\n      },\n      stickyButton: {\n        type: Boolean,\n        default: false\n      },\n      rowAttribute: {\n        type: Object,\n        default () {\n          return {\n            noGutters: false,\n            class: 'py-4',\n            // justify:'center',\n            // align:'center'\n          }\n        }\n      },\n      slots: {\n        type: Object,\n        default () {\n          return {}\n        }\n      },\n      valid: {\n        type: Boolean,\n        default: null\n      },\n      isEditing: {\n        type: Boolean,\n        default: false\n      },\n      hasDivider: {\n        type: Boolean,\n        default: false\n      },\n      fillHeight: {\n        type: Boolean,\n        default: false\n      },\n      scrollable: {\n        type: Boolean,\n        default: false\n      },\n      noDefaultFormPadding: {\n        type: Boolean,\n        default: false\n      },\n      noDefaultSurface: {\n        type: Boolean,\n        default: false\n      },\n      actions: {\n        type: [Array, Object],\n        default: []\n      }\n    },\n    setup (props, context) {\n      const store = useStore()\n      const inputHandlers = useInputHandlers()\n      const validations = useValidation(props)\n      const locale = useLocale()\n      const { t, te } = useI18n({ useScope: 'global' })\n\n      const buttonDefaultText = computed(() => props.buttonText ? (te(props.buttonText) ? t(props.buttonText) : props.buttonText) : t('submit'))\n\n\n      const editedItem = computed(() => store.state.form.editedItem)\n      const serverValid = computed(() => store.state.form.serverValid)\n\n      const itemActions = useItemActions(props, {...context, item: editedItem.value})\n\n      return {\n        buttonDefaultText,\n        editedItem,\n        serverValid,\n        ...itemActions,\n        ...inputHandlers,\n        ...validations,\n        ...locale,\n      }\n    },\n    data () {\n      return {\n        id: Math.ceil(Math.random() * 1000000) + '-form',\n        formLoading: false,\n        formErrors: {},\n        // inputs: this.invokeRuleGenerator(this.schema),\n\n        issetModel: Object.keys(this.modelValue).length > 0,\n        issetSchema: Object.keys(this.schema).length > 0,\n        hasStickyFrame: this.stickyFrame || this.stickyButton,\n\n        model: this.issetModel ? this.modelValue : this.editedItem,\n\n        rawSchema: null,\n        inputSchema: null,\n        topSchema: null,\n        defaultItem: null,\n        manualValidation: false,\n        extraValids: []\n      }\n    },\n\n    provide() {\n      // use function syntax so that we can access `this`\n      return {\n        manualValidation: computed(() => this.manualValidation),\n        submitForm: computed(() => this.submit)\n      }\n    },\n\n    created () {\n      this.rawSchema = this.issetSchema ? this.schema : this.$store.state.form.inputs\n      this.defaultItem = this.issetSchema ? getModel(this.rawSchema) : this.$store.getters.defaultItem\n\n      this.model = getModel(\n        this.rawSchema,\n        this.issetModel ? this.modelValue : this.editedItem,\n        this.$store.state,\n      )\n      this.inputSchema = this.invokeRuleGenerator(getSchema(this.rawSchema, this.model, this.isEditing))\n\n      this.topSchema = getTopSchema(this.rawSchema, this.isEditing)\n\n      this.extraValids = this.computedActions.map(action => true)\n\n      this.resetSchemaErrors()\n    },\n\n    watch: {\n      // model (newValue, oldValue) {\n      //   __log('model watcher', newValue, oldValue)\n      //   // this.resetValidation()\n      // },\n\n      model: {\n        handler (value, oldValue) {\n          this.$emit('update:modelValue', value)\n        },\n        deep: true\n      },\n      editedItem (newValue, oldValue) {\n        if (!this.issetModel) {\n          this.regenerateInputSchema(newValue)\n          this.model = getModel(this.rawSchema, newValue, this.$store.state)\n        }\n        // this.resetValidation()\n      },\n      errors (newValue, oldValue) {\n        this.setSchemaErrors(newValue)\n      },\n      validModel(newValue, oldValue) {\n        this.$emit('update:valid', newValue)\n      },\n      schema: {\n        handler (value, oldValue) {\n          // __log('schema watcher', value, JSON.stringify(value) !== JSON.stringify(oldValue))\n        },\n        deep: true\n      },\n      inputSchema: {\n        handler (value, oldValue) {\n          // __log('inputSchema watch', value)\n        },\n        deep: true\n      },\n      rawSchema: {\n        handler (value, oldValue, ...other) {\n          let oldModel = cloneDeep(this.model)\n          let model = getModel(value, this.model, this.$store.state)\n          if(JSON.stringify(Object.keys(__dot(model)) )!== JSON.stringify(Object.keys(__dot(oldModel)))){\n            this.model = model\n            this.inputSchema = this.invokeRuleGenerator(getSchema(value, this.model, this.isEditing))\n          }\n        },\n        deep: true\n      },\n    },\n\n    computed: {\n      item() {\n        return this.issetModel ? this.modelValue : this.editedItem\n      },\n      hasTraslationInputs () {\n        return getTranslationInputsCount(this.rawSchema) > 0\n      },\n      formClasses () {\n        return [\n          this.noDefaultFormPadding ? '' : 'px-6 py-6',\n          this.noDefaultSurface ? '' : 'bg-surface',\n          this.fillHeight ? 'd-flex flex-column h-100' : '',\n          this.formClass,\n        ]\n      },\n      formSlots () {\n        const slots = []\n\n        Object.values(this.issetSchema ? this.schema : this.$store.state.form.inputs).forEach((schema, index) => {\n          if (Object.prototype.hasOwnProperty.call(schema, 'slots') && Object.keys(schema.slots).length > 0) {\n            Object.keys(schema.slots).forEach((slotName) => {\n              slots.push({\n                name: slotName,\n                inputName: schema.name,\n                type: 'recursive-stuff',\n                context: schema.slots[slotName]\n              })\n            })\n          } else if (Object.prototype.hasOwnProperty.call(schema, 'slotable')) {\n            slots.push({\n              name: schema.slotable.name,\n              inputName: schema.slotable.slotTo,\n              selfName: schema.name,\n              type: 'form',\n              schema: cloneDeep(this.invokeRuleGenerator({\n                [schema.name]: this.$lodash.omit(schema, ['slotable'])\n              }))\n            })\n          }\n        })\n        return slots\n      },\n      loading () {\n        return this.actionUrl ? this.formLoading : this.$store.state.form.loading\n        // get () {\n        //   return this.actionUrl ? this._loading : this.$store.state.form.loading\n        // },\n        // set (value) {\n        //   __log('loading setter', value, this.loading)\n        // }\n      },\n      errors () {\n        return this.actionUrl ? this.formErrors : this.$store.state.form.errors\n      },\n      reference () {\n        return 'ref-' + this.id\n      },\n      formColumnAttrs () {\n        return this.hasStickyFrame\n          ? {\n              cols: '12',\n              sm: '12',\n              md: '12',\n              lg: '8',\n              xl: '6',\n              'order-lg': '0',\n              'order-xl': '0'\n            }\n          : {\n              cols: '12'\n            }\n      },\n      stickyColumnAttrs () {\n        return {\n          cols: '12',\n          sm: '12',\n          md: '12',\n          lg: '4',\n          xl: '6',\n          'order-lg': '1',\n          'order-xl': '1'\n        }\n      },\n      titleOptions(){\n        let options = {}\n\n        if(__isObject(this.title)){\n          options = {\n            tag: this.title.tag || 'div',\n            type: this.title.type || 'body-1',\n            weight: this.title.weight || 'regular',\n            transform: this.title.transform || 'none',\n            color: this.title.color,\n            padding: this.title.padding || 'a-0',\n            margin: this.title.margin || 'a-0',\n            align: this.title.align || 'left',\n            justify: this.title.justify || 'start',\n          }\n        }\n        return options\n      },\n      titleSerialized(){\n        let title = this.title\n\n        if(__isObject(this.title)){\n          title = this.title.text\n        }\n\n        return this.$te(title)\n          ? this.$t(title).toLocaleUpperCase(this.$i18n.locale.toUpperCase())\n          : title.toLocaleUpperCase(this.$i18n.locale.toUpperCase())\n      },\n      computedActions() {\n        return __isObject(this.actions) ? Object.values(this.actions) : this.actions;\n      },\n      // ...mapState({\n      //   editedItem: state => state.form.editedItem,\n      //   serverValid: state => state.form.serverValid\n      //   // loading: state => state.form.loading,\n      //   // errors: state => state.form.errors\n      // })\n    },\n\n    methods: {\n      createModel(schema) {\n        return getModel(schema, this.item, this.$store.state)\n      },\n      createSchema(schema, model) {\n        // __log(this.item, getSchema(schema, model, true))\n        return this.invokeRuleGenerator(getSchema(schema, model, true))\n      },\n      async validate () {\n        const result = await this.$refs[this.reference].validate()\n\n        return result\n      },\n      resetValidation () {\n        this.$refs[this.reference].resetValidation()\n        // this.valid = null\n      },\n      reset () {\n        this.$refs[this.reference].reset()\n      },\n      handleInput (v, s) {\n        const { on, key, obj } = v\n        if (on === 'input' && !!key) {\n          if (!this.serverValid) {\n            this.resetSchemaError(key)\n          }\n          this.handleEvent(obj)\n        }\n\n        this.$emit('input', v)\n      },\n      handleEvent (obj) {\n        handleEvents(this.model, this.inputSchema, obj.schema, true)\n        // const { _fields: newModel, moduleSchema: newSchema } = handleInputEvents(obj.schema.event, this.model, this.inputSchema, obj.key)\n        // this.model = newModel\n        // this.inputSchema = newSchema\n      },\n      // handleInputSlot (v, s) {\n      //   const { on, key, value, obj } = v\n      //   __log('handleInputSlot', v, on, key, value, obj)\n      // },\n      handleUpdate (v) {\n        // __log('handleUpdate', v)\n      },\n      handleResize (v) {\n        // __log('handleResize', v)\n      },\n      handleBlur (v) {\n        // __log('handleBlur', v)\n      },\n      saveForm (callback = null, errorCallback = null) {\n        if (this.actionUrl) {\n          this.formErrors = {}\n          this.formLoading = true\n\n          const formData = getSubmitFormData(this.rawSchema, this.model, this.$store._state.data)\n          // console.log(formData)\n          const method = Object.prototype.hasOwnProperty.call(formData, 'id') ? 'put' : 'post'\n          const self = this\n\n          api[method](this.actionUrl, formData, function (response) {\n            self.formLoading = false\n            if (Object.prototype.hasOwnProperty.call(response.data, 'errors')) {\n              self.$store.commit(FORM.SET_SERVER_VALID, false)\n\n              self.formErrors = response.data.errors\n            } else if (Object.prototype.hasOwnProperty.call(response.data, 'variant')) {\n              self.$store.commit(FORM.SET_SERVER_VALID, false)\n              self.$store.commit(ALERT.SET_ALERT, { message: response.data.message, variant: response.data.variant })\n            }\n\n            self.$emit('submitted', response.data)\n\n            redirector(response.data)\n\n            if (callback && typeof callback === 'function') callback(response.data)\n          }, function (response) {\n            self.formLoading = false\n            if (Object.prototype.hasOwnProperty.call(response.data, 'exception')) {\n              self.$store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be processed.', variant: 'error' })\n            } else {\n              self.$store.dispatch(ACTIONS.HANDLE_ERRORS, response.response.data)\n              self.$store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be validated, please fix and retry', variant: 'error' })\n            }\n\n            if (errorCallback && typeof errorCallback === 'function') errorCallback(response.data)\n          })\n        } else {\n          const self = this\n          this.$nextTick(function () {\n            self.$store.dispatch(ACTIONS.SAVE_FORM, { item: null, callback, errorCallback })\n          })\n        }\n      },\n      sendSync (e){\n        e && e.preventDefault()\n        // console.log(this.modelValue);\n        // console.log(this.convertToNestedFormData(this.modelValue).values)\n\n        const form = document.createElement('form');\n        form.method = 'POST';\n        form.action = this.actionUrl;\n        form.enctype = 'multipart/form-data';\n\n        let formData = this.convertToNestedFormData(this.modelValue);\n\n        for (const [key, value] of formData.entries()) {\n          const input = document.createElement('input');\n          input.type = 'hidden';\n          input.name = key;\n          input.value = value;\n          form.appendChild(input);\n        }\n\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = '_token';\n        input.value = document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content');\n        form.appendChild(input);\n\n        document.body.appendChild(form);\n        form.submit();\n      },\n      convertToNestedFormData(obj, parentKey = '') {\n        const formData = new FormData();\n        for (const [key, value] of Object.entries(obj)) {\n          const formKey = parentKey ? `${parentKey}[${key}]` : key;\n\n          if (value === null || value === undefined) {\n            continue;\n          } else if (typeof value === 'object') {\n            if (Array.isArray(value)) {\n              value.forEach((item, index) => {\n                if (typeof item === 'object' && item !== null) {\n                  const nestedFormData = this.convertToNestedFormData(item, `${formKey}[${index}]`);\n                  for (const [nestedKey, nestedValue] of nestedFormData.entries()) {\n                    formData.append(nestedKey, nestedValue);\n                  }\n                } else {\n                  formData.append(`${formKey}[${index}]`, item);\n                }\n              });\n            } else {\n              const nestedFormData = this.convertToNestedFormData(value, formKey);\n              for (const [nestedKey, nestedValue] of nestedFormData.entries()) {\n                formData.append(nestedKey, nestedValue);\n              }\n            }\n          } else {\n            formData.append(formKey, value);\n          }\n        }\n        return formData;\n      },\n      submit (e, callback = null, errorCallback = null) {\n        if (this.validModel) {\n          if (this.async) {\n            e && e.preventDefault() // don't perform submit action (i.e., `<form>.action`)\n            if (!this.actionUrl) {\n              this.$store.commit(FORM.SET_EDITED_ITEM, this.model)\n              this.$nextTick(() => {\n                this.saveForm(callback, errorCallback)\n              })\n            } else {\n              this.saveForm(callback, errorCallback)\n            }\n          }else{\n            this.sendSync(e);\n\n          }\n        } else {\n          e && e.preventDefault() // don't perform submit action (i.e., `<form>.action`)\n        }\n      },\n      handleClick (val) {\n        // logger(val)\n\n        const { on, obj, params } = val\n        // check 'click' is from prependInner Icon (Print) at key 'subgroups.content'\n        // if (on === 'click' && key === 'subgroups.content' && (params && params.tag) === 'prepend-inner') {\n        //   window.print()\n        // }\n        // check 'click' is from from appendIcon at key password\n\n        // for click slot handlers\n        // __log(params, val)\n        if (on === 'click' && params && params.tag) {\n          // toggle visibility of password control\n          this.invokeInputClickHandler(obj, params.tag)\n          // obj.schema.type === 'password' ? obj.schema.appendInnerIcon = '$non-visibility' : obj.schema.appendInnerIcon = '$visibility'\n          // obj.schema.type = obj.schema.type === 'password' ? 'text' : 'password'\n        }\n      },\n      setSchemaErrors (errors) {\n        const _errors = {}\n        for (const name in errors) {\n          const pattern = /(\\w+)\\.(\\w+)/\n          const matches = name.match(pattern)\n          if (matches) {\n            const _name = matches[1]\n            const _locale = matches[2]\n            if (!__isset(_errors[_name])) {\n              _errors[_name] = []\n            }\n            _errors[_name][_locale] = errors[name]\n          } else {\n            _errors[name] = errors[name]\n          }\n        }\n        for (const name in _errors) {\n          if( this.inputSchema[name]) this.inputSchema[name].errorMessages = _errors[name]\n        }\n      },\n      resetSchemaError (key) {\n        this.inputSchema[key].errorMessages = []\n      },\n      resetSchemaErrors () {\n        for (const key in this.inputSchema) {\n          this.resetSchemaError(key)\n        }\n      },\n\n      updatedSlotModel (value, inputName) {\n        __log(this.model, value, inputName)\n      },\n\n      regenerateInputSchema (newItem) {\n        // #TODO regenerate inputschema for prefix regex pattern\n        // for (const key in this.rawSchema) {\n        //   if (__isset(this.rawSchema[key].event)) {\n\n        //   }\n        // }\n      },\n\n      getTopInputActiveLabel (topInput) {\n        const item = topInput.items.find(item => item[topInput.itemValue] ===  (this.$isset(this.model[topInput.name]) ? this.model[topInput.name] : -1))\n        return item ? item[topInput.itemTitle] : topInput.label\n      },\n    }\n  }\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","<template>\n  <div class=\"mb-6\">\n    <!-- Step title -->\n    <div class=\"d-inline-flex align-center text-body-2\" style=\"line-height: 1;\">\n      <v-avatar\n        variant=\"flat\"\n        color=\"primary\"\n        class=\"ue-avatar--border25\"\n        style=\"width: 24px; height: 24px; margin-inline-end: 8px;\"\n      >\n        {{ index + 1 }}\n      </v-avatar>\n      <span class=\"font-weight-bold text-primary\">\n        {{ $t('fields.step') }} {{ index + 1 }}\n      </span>\n    </div>\n\n    <!-- Secondary title -->\n    <div class=\"text-body-1 font-weight-bold text-truncate mb-5\">\n      {{ title }}\n    </div>\n\n    <!-- Step body -->\n    <template\n      v-for=\"(val, inputName) in model\"\n      :key=\"`stepper-preview-item-subtitle-${inputName}`\"\n    >\n      <template\n        v-for=\"(context, key) in model[inputName]\"\n        :key=\"`stepper-preview-item-subtitle-${inputName}-${index}`\"\n      >\n        <!-- Array context -->\n        <template v-if=\"Array.isArray(context)\">\n          <div class=\"\">\n            <span\n              class='text-primary font-weight-bold'\n              style=\"margin-inline-end: 8px;\"\n            >\n              {{ window.__isObject(model[inputName]) ? key : context[0] }}:\n            </span>\n            <span\n              v-for=\"text in (window.__isObject(model[inputName]) ? context : context.slice(1))\"\n              :key=\"`stepper-preview-item-subtitle-${inputName}-${index}-${inputName}-${key}`\"\n              style=\"margin-inline-end: 8px;\"\n            >\n              {{ text }}\n            </span>\n          </div>\n        </template>\n\n        <!-- Non-array context -->\n        <v-btn\n          v-else\n          readonly\n          active-color=\"black\"\n          color=\"black\"\n          variant=\"outlined\"\n          style=\"margin-inline-end: 8px; margin-block-end: 8px;\"\n        >\n          {{ context }}\n        </v-btn>\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FormSummaryItem',\n  props: {\n    index: {\n      type: Number,\n      required: true\n    },\n    title: {\n      type: String,\n      required: true\n    },\n    model: {\n      type: Object,\n      required: true\n    }\n  },\n  created() {\n    // __log('FormSummaryItem', this.model)\n  }\n}\n</script>\n\n<style scoped>\n.ue-avatar--border25 {\n  border-radius: 25%;\n}\n</style>\n","<script setup>\nimport { watch, ref, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  active: {\n    type: Boolean,\n    default: false\n  },\n  users: {\n    type: Array,\n    default () {\n      return []\n    }\n  },\n  impersonated: {\n    type: Boolean,\n    default: false\n  },\n  route: {\n    type: String,\n    default: '/users/impersonate/:id'\n  },\n  stopRoute: {\n    type: String,\n    default: '/users/impersonate/stop'\n  }\n})\nconst emit = defineEmits(['update:modelValue'])\n\nconst selected = ref(null)\n\nconst show = computed({\n  get () {\n    return props.modelValue\n  },\n  set (value) {\n    emit('update:modelValue', value)\n  }\n})\n\nwatch(selected, function (newValue, oldValue) {\n  __log(newValue, oldValue)\n})\nconst impersonateRoute = computed(() => {\n  return props.route.replace(':id', selected.value)\n})\n</script>\n<template>\n  <v-bottom-sheet v-model=\"show\">\n    <template v-slot:activator=\"{ props }\">\n      <v-list-item\n          v-bind=\"props\"\n          class=\"font-weight-bold mt-2\"\n          :ripple=\"false\"\n          :append=\"false\"\n          prepend-icon=\"mdi-account-switch\"\n          title=\"Impersonate Manager\"\n          >\n      </v-list-item>\n\n    </template>\n\n    <div class=\"pa-3 bg-primary\">\n      <v-btn v-if=\"impersonated\" color=\"red\" :href=\"stopRoute\">\n          Stop Impersonating\n      </v-btn>\n      <v-select\n        v-if=\"!impersonated\" class=\"mt-5\"\n        v-model=\"selected\" :items=\"users\"\n        variant=\"outlined\" density=\"compact\"\n        item-title=\"name\" item-value=\"id\"\n        clearable\n        >\n      </v-select>\n      <v-btn v-if=\"!impersonated\" :href=\"impersonateRoute\" :disabled=\"!selected\">Impersonate</v-btn>\n    </div>\n  </v-bottom-sheet>\n\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n\n    }\n  },\n  created () {\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","<template>\n\n    <v-list v-model:opened=\"open\">\n      <v-list-item prepend-icon=\"mdi-home\" title=\"Home\"></v-list-item>\n\n      <v-list-group value=\"Users\">\n        <template v-slot:activator=\"{ props }\">\n          <v-list-item\n            v-bind=\"props\"\n            prepend-icon=\"mdi-account-circle\"\n            title=\"Users\"\n          ></v-list-item>\n        </template>\n\n        <v-list-group value=\"Admin\">\n          <template v-slot:activator=\"{ props }\">\n            <v-list-item\n              v-bind=\"props\"\n              title=\"Admin\"\n            ></v-list-item>\n          </template>\n\n          <v-list-item\n            v-for=\"([title, icon], i) in admins\"\n            :key=\"i\"\n            :title=\"title\"\n            :prepend-icon=\"icon\"\n            :value=\"title\"\n          ></v-list-item>\n        </v-list-group>\n\n        <v-list-group value=\"Actions\">\n          <template v-slot:activator=\"{ props }\">\n            <v-list-item\n              v-bind=\"props\"\n              title=\"Actions\"\n            ></v-list-item>\n          </template>\n\n          <v-list-item\n            v-for=\"([title, icon], i) in cruds\"\n            :key=\"i\"\n            :value=\"title\"\n            :title=\"title\"\n            :prepend-icon=\"icon\"\n          ></v-list-item>\n        </v-list-group>\n      </v-list-group>\n    </v-list>\n</template>\n\n<script>\nexport default {\n  name: 'ue-list-element',\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    selectItem: {\n      type: Number,\n      default: 0\n    },\n    selectedSubItem: {\n      type: Number,\n      default: 0\n    }\n  },\n  data: () => ({\n    open: ['Users'],\n    admins: [\n      ['Management', 'mdi-account-multiple-outline'],\n      ['Settings', 'mdi-cog-outline']\n    ],\n    cruds: [\n      ['Create', 'mdi-plus-outline'],\n      ['Read', 'mdi-file-outline'],\n      ['Update', 'mdi-update'],\n      ['Delete', 'mdi-delete']\n    ]\n  })\n\n}\n</script>\n\n<style>\n    /* .v-list-item-group .v-list-item-active {\n        color: grey;\n    } */\n</style>\n","<template>\n  <div class=\"ue-list-section\">\n    <!-- Table-like structure with flex layout -->\n    <div class=\"list-container\" :class=\"{ 'align-top': verticalAlignTop }\">\n      <!-- Header row -->\n      <div v-if=\"showHeader\" class=\"list-row header-row\" :class=\"headerClasses\">\n        <div\n          v-for=\"(header, j) in effectiveHeaders\"\n          :key=\"`header-${j}`\"\n          class=\"list-cell\"\n          :class=\"[colClasses[j] ?? '']\"\n          :style=\"getColumnStyle(j)\"\n        >\n          <slot :name=\"`header.${j}`\" v-bind=\"{ header }\">\n            {{ header }}\n          </slot>\n        </div>\n\n        <!-- Actions column header -->\n        <div v-if=\"$slots['row-actions']\" class=\"list-cell actions-cell\">\n          <slot name=\"actions-header\">\n            {{ actionsHeader }}\n          </slot>\n        </div>\n      </div>\n\n      <!-- Title row if provided -->\n      <div v-if=\"title\" class=\"list-row title-row\">\n        <div class=\"title-cell\">\n          <component :is=\"titleTag\" :class=\"titleClasses\">{{ title }}</component>\n        </div>\n      </div>\n\n      <!-- Data rows -->\n      <div\n        v-for=\"(item, i) in items\"\n        :key=\"`item-${i}`\"\n        class=\"list-row data-row\"\n        :class=\"[getRowClass(item, i), {'has-bottom-border': hasRowBottomBorder}]\"\n      >\n        <div\n          v-for=\"(field, j) in itemFields\"\n          :key=\"`item-field-${j}`\"\n          class=\"list-cell\"\n          :class=\"[colClasses[j] ?? '']\"\n          :style=\"getColumnStyle(j)\"\n        >\n          <slot :name=\"`field.${j}`\" v-bind=\"{ value: $lodash.get(item, field), item, index: i }\">\n            {{ $lodash.get(item, field, '') }}\n          </slot>\n        </div>\n\n        <!-- Actions cell -->\n        <div v-if=\"$slots['row-actions']\" class=\"list-cell actions-cell\">\n          <slot name=\"row-actions\" v-bind=\"{ item, index: i }\"></slot>\n        </div>\n      </div>\n\n      <!-- Empty state message -->\n      <div v-if=\"items.length === 0 && emptyMessage\" class=\"list-row empty-row\">\n        <div class=\"empty-message\">{{ emptyMessage }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ue-list-section',\n  props: {\n    title: {\n      type: String,\n    },\n    titleTag: {\n      type: String,\n      default: 'h3'\n    },\n    titleClasses: {\n      type: String,\n      default: 'text-body-1 font-weight-medium'\n    },\n    itemClasses: {\n      type: String,\n      default: 'text-body-2'\n    },\n    headerClasses: {\n      type: String,\n      default: 'text-body-2 font-weight-bold'\n    },\n    items: {\n      type: Array,\n      required: true\n    },\n    itemFields: {\n      type: Array,\n      default: () => ['name']\n    },\n    headers: {\n      type: Array,\n      default: null\n    },\n    showHeader: {\n      type: Boolean,\n      default: false\n    },\n    colClasses: {\n      type: Array,\n      default: () => []\n    },\n    colWidths: {\n      type: Array,\n      default: () => []\n    },\n    colRatios: {\n      type: Array,\n      default: () => []\n    },\n    rowClassFn: {\n      type: Function,\n      default: null\n    },\n    emptyMessage: {\n      type: String,\n      default: 'No items to display'\n    },\n    striped: {\n      type: Boolean,\n      default: false\n    },\n    hoverable: {\n      type: Boolean,\n      default: false\n    },\n    hasRowBottomBorder: {\n      type: Boolean,\n      default: false\n    },\n    actionsHeader: {\n      type: String,\n      default: ''\n    },\n    verticalAlignTop: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    effectiveHeaders() {\n      // If headers are not provided, use item fields as headers\n      return this.headers || this.itemFields.map(field => {\n        // Convert camelCase to Title Case\n        return field\n          .replace(/([A-Z])/g, ' $1')\n          .replace(/^./, str => str.toUpperCase());\n      });\n    },\n\n    totalRatio() {\n      // Calculate the total ratio to determine percentages\n      if (!this.colRatios || this.colRatios.length === 0) {\n        return this.itemFields.length;\n      }\n\n      return this.colRatios.reduce((sum, ratio, index) => {\n        // Use the provided ratio or default to 1\n        const value = ratio || 1;\n        return sum + value;\n      }, 0);\n    }\n  },\n  methods: {\n    getColumnStyle(colIndex) {\n      // If explicit width is provided, use it\n      if (this.colWidths && this.colWidths[colIndex]) {\n        return { width: this.colWidths[colIndex], flexBasis: this.colWidths[colIndex] };\n      }\n\n      // If ratio is provided, calculate percentage width\n      if (this.colRatios && this.colRatios.length > 0) {\n        const ratio = this.colRatios[colIndex] || 1;\n        const percentage = (ratio / this.totalRatio) * 100;\n        return {\n          flex: `${ratio} 0 0`,\n          maxWidth: `${percentage}%`\n        };\n      }\n\n      // Default: equal width for all columns\n      const count = this.itemFields.length;\n      const actionOffset = this.$slots['row-actions'] ? 1 : 0;\n      const percentage = 100 / (count + actionOffset);\n\n      return {\n        flex: '1 1 0',\n        maxWidth: `${percentage}%`\n      };\n    },\n\n    getRowClass(item, index) {\n      let classes = [this.itemClasses];\n\n      // Apply striped effect if enabled\n      if (this.striped && index % 2 === 1) {\n        classes.push('bg-grey-lighten-5');\n      }\n\n      // Apply hoverable effect if enabled\n      if (this.hoverable) {\n        classes.push('hover-effect');\n      }\n\n      // Apply custom row class function if provided\n      if (this.rowClassFn) {\n        const customClass = this.rowClassFn(item, index);\n        if (customClass) {\n          classes.push(customClass);\n        }\n      }\n\n      return classes.join(' ');\n    }\n  }\n}\n</script>\n\n<style scoped>\n.ue-list-section {\n  width: 100%;\n}\n\n.list-container {\n  width: 100%;\n}\n\n.list-row {\n  display: flex;\n  width: 100%;\n  min-height: 25px;\n  padding: 6px 0;\n  align-items: center;\n}\n\n.header-row {\n  font-weight: bold;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  padding-bottom: 2px;\n  min-height: 35px;\n}\n\n.title-row {\n  min-height: 35px;\n}\n\n.title-cell {\n  flex: 1;\n  padding: 6px 0;\n}\n\n.data-row.has-bottom-border {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n}\n\n.list-cell {\n  padding-right: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  min-width: 0; /* Important for text truncation in flex items */\n}\n\n.list-cell:last-child {\n  padding-right: 0;\n}\n\n/* Apply vertical-align: top when the prop is set */\n.list-container.align-top .list-row {\n  align-items: flex-start;\n}\n\n.list-container.align-top .list-cell {\n  padding-top: 8px;\n}\n\n.actions-cell {\n  width: 40px;\n  flex: 0 0 40px;\n  text-align: right;\n}\n\n.empty-row {\n  justify-content: center;\n}\n\n.empty-message {\n  text-align: center;\n  padding: 16px 0;\n  color: rgba(0, 0, 0, 0.6);\n  font-size: 14px;\n}\n\n.hover-effect:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n</style>\n","<template>\n  <ue-modal\n    v-model=\"dialog\"\n\n    v-bind=\"$bindAttributes()\"\n    width-type=\"md\"\n    >\n    <template v-slot:activator=\"{ props }\">\n      <slot name=\"activator\" :props=\"props\">\n        <v-btn\n          class=\"w-66 m-auto\"\n          color=\"red lighten-2\"\n          dark\n          v-bind=\"props\"\n          >\n          {{ $t('authentication.logout') }}\n        </v-btn>\n      </slot>\n    </template>\n\n    <template v-slot:body=\"props\">\n      <v-card>\n        <!-- <v-card-title class=\"text-h5 grey lighten-2\">\n          Logout Form\n        </v-card-title> -->\n        <v-card-text class=\"pt-2 text-center\">\n          {{ $t('Are you sure logout?') }}\n        </v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-actions class=\"justify-center\">\n          <!-- <v-spacer></v-spacer> -->\n          <v-btn class=\"mr-12\" variant=\"tonal\" @click=\"dialog=false\">\n            {{ $t('No') }}\n          </v-btn>\n          <v-form method=\"post\" action=\"/logout\">\n            <input type=\"hidden\" name=\"_token\" :value=\"$csrf()\">\n            <v-btn variant=\"tonal\" color=\"warning\" type=\"submit\">\n              {{ $t('Yes') }}\n            </v-btn>\n          </v-form>\n        </v-card-actions>\n      </v-card>\n    </template>\n\n    </ue-modal>\n</template>\n\n<script>\nexport default {\n  emits: ['update:modelValue'],\n  props: {\n    csrf: {\n      type: String\n    }\n  },\n  data () {\n    return {\n      dialog: false\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","<template>\n  <a17-locale v-if=\"languages.length > 1 && fieldType === 'text'\"\n              :type=\"wysiwyg ? 'a17-wysiwyg' : 'a17-textfield'\"\n              :initialValues=\"initialValues\"\n              :attributes=\"attributes\"\n              @change=\"saveMetadata\">\n  </a17-locale>\n  <div v-else-if=\"fieldType === 'text' && wysiwyg\">\n    <a17-wysiwyg :options=\"wysiwygOptions\"\n               :label=\"label\"\n               :name=\"fieldName\"\n               :type=\"fieldType\"\n               :initialValue=\"initialValue\"\n               in-store=\"value\"\n               :maxlength=\"maxlength\"\n               @change=\"saveMetadata\"\n    ></a17-wysiwyg>\n    <p class=\"f--note f--small\" v-html=\"placeholder\" />\n  </div>\n  <a17-textfield v-else-if=\"fieldType === 'text'\"\n                 :label=\"label\"\n                 :name=\"fieldName\"\n                 type=\"text\"\n                 :placeholder=\"placeholder\"\n                 :initialValue=\"initialValue\"\n                 in-store=\"value\"\n                 :maxlength=\"maxlength\"\n                 @change=\"saveMetadata\">\n  </a17-textfield>\n  <div class=\"mediaMetadata__checkbox\" v-else-if=\"fieldType === 'checkbox'\">\n    <a17-checkbox :label=\"label\" :name=\"fieldName\"\n                  :initialValue=\"initialValue\"\n                  :value=\"1\"\n                  @change=\"saveMetadata\"\n                  inStore=\"value\" />\n  </div>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n  import { FORM } from '@/store/mutations'\n\n  export default {\n    name: 'A17MediaMetadata',\n    props: {\n      media: {\n        type: Object,\n        default: () => {}\n      },\n      name: {\n        type: String,\n        required: true\n      },\n      id: {\n        type: String,\n        required: true\n      },\n      label: {\n        type: String,\n        required: true\n      },\n      wysiwyg: {\n        type: Boolean,\n        default: false\n      },\n      wysiwygOptions: {\n        type: Object,\n        required: false,\n        default: function () {\n          return {}\n        }\n      },\n      type: {\n        type: String,\n        required: false\n      },\n      maxlength: {\n        type: Number,\n        required: false,\n        default: 0\n      }\n    },\n    data: function () {\n      return {\n        initialValues: {},\n        initialValue: ''\n      }\n    },\n    computed: {\n      fieldName: function () {\n        return `${this.name}[${this.id}]`\n      },\n      fieldType: function () {\n        return this.type ? this.type : 'text'\n      },\n      defaultMetadatas: function () {\n        if (this.media.hasOwnProperty('metadatas')) {\n          return this.media.metadatas.default[this.id] || false\n        } else {\n          return false\n        }\n      },\n      customMetadatas: function () {\n        if (this.media.hasOwnProperty('metadatas')) {\n          return this.media.metadatas.custom[this.id] || false\n        } else {\n          return false\n        }\n      },\n      attributes: function () {\n        return {\n          label: this.label,\n          name: this.fieldName,\n          type: 'text',\n          placeholder: this.placeholder,\n          options: this.wysiwygOptions,\n          inStore: 'value',\n          maxlength: this.maxlength\n        }\n      },\n      placeholder: function () {\n        if (this.defaultMetadatas) {\n          if (typeof this.defaultMetadatas === 'object') {\n            return this.defaultMetadatas.hasOwnProperty(this.currentLocale) ? this.defaultMetadatas[this.currentLocale] : ''\n          } else {\n            return this.defaultMetadatas !== null ? this.defaultMetadatas : ''\n          }\n        } else {\n          return ''\n        }\n      },\n      ...mapState({\n        languages: state => state.language.all,\n        currentLocale: state => state.language.active.value\n      })\n    },\n    methods: {\n      saveMetadata: function (newDatas) {\n        if (!newDatas.locale) {\n          const value = newDatas\n          newDatas = {\n            value: value\n          }\n        }\n\n        newDatas.id = this.id\n        this.$emit('change', newDatas)\n      }\n    },\n    mounted: function () {\n      const initialValues = {}\n      let initialValue = ''\n      let index = 0\n\n      this.languages.forEach((lang) => {\n        const langVal = lang.value\n\n        if (this.customMetadatas) {\n          if (this.customMetadatas[langVal]) {\n            initialValues[langVal] = this.customMetadatas[langVal]\n          } else if ((this.customMetadatas === true || typeof this.customMetadatas === 'string') && index === 0) {\n            initialValues[langVal] = this.customMetadatas\n            initialValue = this.customMetadatas\n          } else {\n            initialValues[langVal] = ''\n          }\n\n          const field = {}\n          field.name = this.fieldName\n          field.value = initialValues[langVal]\n\n          if (this.languages.length > 1) field.locale = langVal\n\n          this.$store.commit(FORM.UPDATE_FORM_FIELD, field)\n        }\n\n        index++\n      })\n\n      this.initialValues = initialValues\n      this.initialValue = initialValue\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .mediaMetadata__checkbox {\n    margin-top: 35px;\n  }\n</style>\n","<template>\n  <v-list\n    v-model=\"activeIndex\"\n    v-model:opened=\"opened\"\n    :style=\"style\"\n    :active-class=\"`sidebar-item-active sidebar-item-active-${level}`\"\n    class=\"mb-2 pl-0\"\n    nav\n  >\n    <template v-for=\"(item, i) in items\" :key=\"i\">\n      <v-list-group v-if=\"isSubgroup(item)\"\n        :key=\"i + 'subgroup'\"\n        :index=\"i\"\n\n        :ripple=\"true\"\n        :prepend-icon=\"item.icon\"\n\n        :sub-group=\"false\"\n        :active-class=\"`sidebar-item-active sidebar-item-active-${level}`\"\n        :value=\"item.name\"\n      >\n        <template v-slot:activator=\"{ props }\">\n          <v-tooltip bottom :disabled=\"!showTooltip\">\n            <template v-slot:activator=\"tooltipActivator\">\n              <div v-bind=\"tooltipActivator.props\">\n                <v-list-item\n                  v-bind=\"props\"\n                  :title=\"item.name\"\n                  :prepend-icon=\"!hideIcons ? item.icon : null\"\n                  nav\n                ></v-list-item>\n              </div>\n            </template>\n            <span>{{ item.name }}</span>\n          </v-tooltip>\n        </template>\n        <ue-navigation-group :items=\"item.items\" :level=\"level + 1\" :hideIcons=\"hideIcons\" :show-tooltip=\"showTooltip\"/>\n      </v-list-group>\n\n      <template v-else-if=\"isMenu(item)\">\n        <v-list-item\n\n          nav\n          :title=\"item.name\"\n          :prepend-icon=\"item.icon\"\n\n          append-icon=\"mdi-menu-right\"\n          density=\"compact\"\n          :id=\"item.menuActivator\"\n          :slim=\"true\"\n\n          @click=\"$emit('activateMenu', item.menuActivator)\"\n          >\n          <!-- @click=\"sideBar.methods.handleMenu(item.menuActivator)\" -->\n        </v-list-item>\n        <v-menu\n          v-if=\"activeMenu === `#${item.menuActivator}`\"\n          location=\"end\"\n          :activator=\"activeMenu\"\n        >\n          <v-list>\n            <ue-navigation-group :items=\"Object.values(item.menuItems)\" :show-tooltip=\"showTooltip\">\n            </ue-navigation-group>\n          </v-list>\n        </v-menu>\n      </template>\n\n      <!-- Handle other components -->\n      <v-tooltip v-else bottom :disabled=\"!showTooltip\">\n        <template v-slot:activator=\"{ props }\">\n          <div v-bind=\"props\">\n            <component\n              :is=\"getComponentType(item)\"\n              v-bind=\"getComponentProps(item, i)\"\n            />\n          </div>\n        </template>\n        <span>{{ item.name }}</span>\n      </v-tooltip>\n    </template>\n  </v-list>\n</template>\n\n<script>\nimport { inject } from \"vue\";\n\nexport default {\n  name: \"ue-navigation-group\",\n  inject: ['activeMenu'],\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    level: {\n      type: Number,\n      default: 0,\n    },\n    hideIcons: {\n      type: Boolean,\n      default: false,\n    },\n    showTooltip: {\n      type: Boolean,\n      default: false,\n    },\n    profileMenu: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, context) {\n\n    const getListGroupOpens = (matches, items) => {\n      if (!Array.isArray(items)) return matches;\n\n      items.forEach(function (i) {\n        if (__isset(i.is_active) && i.is_active && __isset(i.items)) {\n          matches.push(i.name);\n          getListGroupOpens(matches, i.items);\n        }\n      });\n\n      return matches;\n    };\n\n    return {\n      // opened,\n      getListGroupOpens,\n    };\n  },\n  data: () => ({\n    opened: [],\n  }),\n  computed: {\n    activeIndex: {\n      get() {\n        try {\n          return this.items.findIndex((item) => item.is_active == 1);\n        } catch (error) {\n          return 0;\n        }\n      },\n      set(value) {\n        // __log('setter selectIndex', value)\n      },\n    },\n\n    style() {\n      return {\n        marginLeft: \"0rem\",\n      };\n    },\n  },\n\n  created() {\n    this.opened = this.getListGroupOpens([], this.items);\n  },\n  watch: {},\n  methods: {\n    getComponentType(item) {\n      if (this.isSubgroup(item)) return 'v-list-group';\n      if (this.isMenu(item)) return 'v-menu-wrapper';\n      return 'v-list-item';\n    },\n    getComponentProps(item, index) {\n      const baseProps = {\n        index,\n\n        // 'active-class': `sidebar-item-active sidebar-item-active-${this.level}`,\n      };\n\n      if (this.isSubgroup(item)) {\n        return {\n          ...baseProps,\n          'prepend-icon': item.icon,\n          value: item.name,\n          items: item.items,\n          level: this.level + 1,\n        };\n      }\n\n      if (this.isMenu(item)) {\n        return {\n          ...baseProps,\n          item,\n          hideIcons: this.hideIcons,\n        };\n      }\n\n      return {\n        ...baseProps,\n        ...this.getListItemProps(item, index),\n      };\n    },\n    getListItemProps(item, index) {\n      const props = {\n        nav: true,\n        active: this.activeIndex === index,\n        ripple: false,\n        append: false,\n        title: item.name,\n        'prepend-icon': !this.hideIcons ? item.icon : null,\n      };\n\n      if (this.isRoute(item)) {\n        props.href = item.route || item.href;\n        Object.assign(props, this.$bindAttributes(item));\n      } else if (this.isEvent(item)) {\n        props.onClick = () => this.$call(item.event);\n      } else if (this.isMenuRoute(item)) {\n        props.density = 'compact';\n        props.href = item.route || item.href;\n        props.slim = true;\n        props.class = { 'px-4': !this.hideIcons, 'ml-2': true };\n        Object.assign(props, this.$bindAttributes(item));\n      } else if (this.isHeader(item)) {\n        props.inactive = true;\n        props.disabled = true;\n      }\n\n      return props;\n    },\n    getListGroupOpens(matches, items) {\n      if (!Array.isArray(items)) return matches;\n\n      items.forEach((i) => {\n        if (i.is_active && i.items) {\n          matches.push(i.name);\n          this.getListGroupOpens(matches, i.items);\n        }\n      });\n\n      return matches;\n    },\n    isSubgroup: (item) => !!item.items,\n    isRoute (item) { return !item.items && (!!item.route || !!item.href) && !this.profileMenu},\n    isEvent: (item) => !!item.attr,\n    isHeader: (item) => !item.href && !item.route && !item.items && !!item.name,\n    isMenu: (item) => !!item.menuItems,\n    isMenuRoute(item){ return !item.menuItems && this.profileMenu && (!!item.route || !!item.href)}\n  },\n};\n</script>\n\n<style scoped>\n</style>\n","<template>\n  <div>\n    <template v-if=\"loading\">\n      <div class=\"d-flex flex-column align-center\">\n        <v-progress-circular\n          indeterminate\n          color=\"primary\"\n        ></v-progress-circular>\n        <span class=\"mt-2\">{{ loadingText }}</span>\n      </div>\n    </template>\n    <!-- Loaded content -->\n    <template v-else>\n      <!-- For array response -->\n      <template v-if=\"Array.isArray(values)\">\n        <div v-for=\"(item, index) in values\" :key=\"index\">\n          <ue-text-display\n            class=\"text-h5\"\n            :text=\"getDisplayText(item, index)\"\n            :sub-text=\"getSubText(item, index)\"\n          />\n        </div>\n      </template>\n\n      <!-- For single object response -->\n      <template v-else>\n        <ue-text-display\n          class=\"text-h5\"\n          :text=\"getDisplayText(values)\"\n          :sub-text=\"getSubText(values)\"\n        />\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    payload: {\n      type: Object,\n      required: true\n    },\n    endpoint: {\n      type: String,\n      required: true\n    },\n    printKeys: {\n      type: [Array, Object],\n      required: true\n    },\n    loadingText: {\n      type: String,\n      default: 'Loading...'\n    }\n  },\n  data() {\n    return {\n      values: {},\n      loading: true  // Add loading state\n    }\n  },\n  methods: {\n    getDisplayText(data, index = null) {\n      // __log(data, index, this.printKeys);\n      if (Array.isArray(this.printKeys)) {\n        // If printKeys is array of strings\n        if (typeof this.printKeys[index || 0] === 'string') {\n          return data[this.printKeys[index || 0]];\n        }\n        // If printKeys is array of objects\n        const key = this.printKeys[index || 0];\n        return data[key?.text];\n      }\n      // If printKeys is single object\n      return data[this.printKeys.text];\n    },\n\n    getSubText(data, index = null) {\n      // __log(data, index, this.printKeys);\n      if (Array.isArray(this.printKeys)) {\n        // If printKeys is array of strings\n        if (typeof this.printKeys[index || 1] === 'string') {\n          return data[this.printKeys[index || 1]];\n        }\n        // If printKeys is array of objects\n        const key = this.printKeys[index || 0];\n        return data[key?.subText];\n      }\n      // If printKeys is single object\n      return data[this.printKeys.subText];\n    },\n    async sendRequest() {\n      this.loading = true;\n      try {\n        const response = await axios.post(this.endpoint, this.payload);\n        this.values = response.data;\n      } catch (error) {\n        console.error('Error calculating price:', error);\n      } finally {\n        this.loading = false;\n      }\n    }\n  },\n  mounted() {\n    this.sendRequest()\n  },\n  watch: {\n    payload: {\n      handler() {\n        this.sendRequest();\n      },\n      deep: true\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","<template>\n  <div :class=\"[\n    'ue-property-list',\n    !noPadding ? 'ue-property-list--padding' : ''\n  ]\">\n    <div v-if=\"!items || items.length === 0\">No data available</div>\n    <template v-else>\n      <div v-for=\"(item, index) in items\" :key=\"index\" class=\"ue-property-list__item d-flex flex-wrap\">\n        <span class=\"text-caption font-weight-bold pr-1\" v-html=\"item[0].trim() + (item.slice(1).length > 0 ? ':' : '')\"></span>\n        <span class=\"text-caption\" v-html=\"formatValue(item.slice(1))\">\n        </span>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\n\nconst props = defineProps({\n  data: {\n    type: [Array, Object],\n    default: () => [],\n  },\n  noPadding: {\n    type: Boolean,\n    default: false\n  }\n});\n\nconst items = computed(() => {\n  if (Array.isArray(props.data)) {\n    return props.data;\n  } else if (typeof props.data === 'object' && props.data !== null) {\n    return Object.entries(props.data).map(([key, value]) => [key, value]);\n  }\n  return [];\n});\n\nconst formatValue = (values) => {\n  if (!values) return null\n  if (values.length === 0) return null;\n\n  let formattedValues = values.map(value => {\n    if (Array.isArray(value)) {\n      return value.join(', ');\n    }\n    return value;\n  });\n  return formattedValues.join(', ');\n};\n\n</script>\n\n<style lang=\"sass\" scoped>\n  .ue-property-list\n    &--padding\n      padding-top: calc(12 * $spacer / 2)\n      padding-bottom: calc(12 * $spacer / 2)\n    .ue-property-list__item:last-child\n      border-bottom: none\n\n</style>\n","<template>\n  <template v-if=\"Array.isArray(data)\">\n    <v-card variant=\"flat\" class=\"mb-2\">\n      <v-card-title class=\"py-2 px-4\">\n        <v-icon icon=\"mdi-code-brackets\" class=\"mr-2\" size=\"small\" />\n        <span class=\"text-body-2\">Array ({{ data.length }} items)</span>\n      </v-card-title>\n\n      <div class=\"array-items\">\n        <div v-for=\"(item, index) in data\" :key=\"index\" class=\"array-item\">\n          <v-card variant=\"flat\" class=\"mb-1\">\n            <ue-recursive-data-viewer\n              :data=\"item\"\n              :array-index=\"0\"\n              :object-depth=\"index === 0 ? objectDepth : objectDepth + 1\"\n              :all-array-items-closed=\"allArrayItemsClosed\"\n              :all-array-items-open=\"allArrayItemsOpen\"\n              :all-objects-closed=\"allObjectsClosed\"\n              :all-objects-open=\"allObjectsOpen\"\n            />\n\n          </v-card>\n        </div>\n      </div>\n    </v-card>\n  </template>\n\n  <template v-else-if=\"typeof data === 'object' && data !== null\">\n    <v-card variant=\"flat\" class=\"mb-2\">\n      <v-card-title\n        class=\"d-flex align-center py-2 px-4 collapsible-header text-body-2\"\n        @click=\"isExpanded = !isExpanded\"\n      >\n        <!-- <div v-if=\"objectTitle\" class=\"json-key-title\">{{ objectTitle }}</div> -->\n        <v-icon\n          :icon=\"isExpanded ? 'mdi-chevron-down' : 'mdi-chevron-right'\"\n          class=\"mr-2\"\n          size=\"small\"\n        />\n        <v-icon icon=\"mdi-code-braces\" class=\"mr-2\" size=\"small\" />\n        <span class=\"\">\n          Object ({{ Object.keys(data).length }} properties)\n        </span>\n      </v-card-title>\n\n      <v-expand-transition>\n        <div v-show=\"isExpanded\">\n          <v-table density=\"compact\" class=\"json-table\">\n            <tbody>\n              <tr v-for=\"(value, key) in data\" :key=\"key\" class=\"json-row\">\n                <!-- <td class=\"json-key\" v-if=\"!window.__isObject(value)\">{{ key }}</td> -->\n                <td class=\"json-key\">{{ key }}</td>\n                <td class=\"json-value\">\n                  <ue-recursive-data-viewer\n                    :data=\"value\"\n                    :array-index=\"0\"\n                    :object-depth=\"objectDepth + 1\"\n                    :all-array-items-closed=\"allArrayItemsClosed\"\n                    :all-array-items-open=\"allArrayItemsOpen\"\n                    :all-objects-closed=\"allObjectsClosed\"\n                    :all-objects-open=\"allObjectsOpen\"\n\n                    :object-titlex=\"window.__isObject(value) ? key : null\"\n                  />\n                </td>\n              </tr>\n            </tbody>\n          </v-table>\n        </div>\n      </v-expand-transition>\n    </v-card>\n  </template>\n\n  <template v-else>\n    <span>{{ data }}</span>\n  </template>\n  <!-- <div>\n  </div> -->\n</template>\n\n<script>\n  export default {\n    name: 'ue-recursive-data-viewer',\n    props: {\n      data: {\n        type: [Array, Object, String, Number, Boolean],\n        required: true\n      },\n      allArrayItemsClosed: {\n        type: Boolean,\n        default: false\n      },\n      allArrayItemsOpen: {\n        type: Boolean,\n        default: false\n      },\n      arrayIndex: {\n        type: Number,\n        default: null\n      },\n      objectDepth: {\n        type: Number,\n        default: 0\n      },\n      allObjectsClosed: {\n        type: Boolean,\n        default: false\n      },\n      allObjectsOpen: {\n        type: Boolean,\n        default: false\n      },\n      objectTitle: {\n        type: String,\n        default: null\n      }\n    },\n    data() {\n      return {\n        isExpanded: this.determineInitialExpanded(),\n        expandedItems: new Set(this.determineInitialExpandedItems())\n      }\n    },\n    methods: {\n      determineInitialExpanded() {\n        if (Array.isArray(this.data)) {\n          if (this.allArrayItemsClosed) return false;\n          if (this.allArrayItemsOpen) return true;\n          return this.arrayIndex === 0;\n        }\n        if (typeof this.data === 'object' && this.data !== null) {\n          if (this.allObjectsClosed) return false;\n          if (this.allObjectsOpen) return true;\n          // Expand first object regardless of array position\n          return this.objectDepth === 0;\n        }\n        return true;\n      },\n      determineInitialExpandedItems() {\n        if (this.allArrayItemsClosed) return [];\n        if (this.allArrayItemsOpen) return Array.from({ length: this.data.length }, (_, i) => i);\n        return [0]; // Only first item expanded by default\n      },\n      toggleItem(index) {\n        if (this.expandedItems.has(index)) {\n          this.expandedItems.delete(index);\n        } else {\n          this.expandedItems.add(index);\n        }\n      },\n      isItemExpanded(index) {\n        return this.expandedItems.has(index);\n      },\n      getPreview(item) {\n        if (Array.isArray(item)) return `Array(${item.length})`;\n        if (typeof item === 'object' && item !== null) return 'Object';\n        if (typeof item === 'string') return `\"${item.substring(0, 30)}${item.length > 30 ? '...' : ''}\"`;\n        return String(item);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n.json-table {\n  font-family: monospace;\n}\n\n.json-key-title {\n  color: #881391;\n  white-space: nowrap;\n}\n.json-key {\n  color: #881391;\n  white-space: nowrap;\n  vertical-align: top;\n  padding-top: 10px !important;\n  width: 1%;\n  padding-right: 16px !important;\n}\n\n.json-value {\n  width: 99%;\n}\n\n.collapsible-header {\n  cursor: pointer;\n  background-color: #f5f5f5;\n}\n\n.collapsible-header:hover {\n  background-color: #eeeeee;\n}\n\n:deep(.v-table) {\n  background: transparent !important;\n}\n\n:deep(.v-table .v-table__wrapper > table > tbody > tr:not(:last-child) > td),\n:deep(.v-table .v-table__wrapper > table > tbody > tr:not(:last-child) > th) {\n  border-bottom: none;\n}\n\n.array-items {\n  padding: 0 8px;\n}\n\n.array-item:last-child {\n  margin-bottom: 8px;\n}\n\n.array-index {\n  color: #b58900;\n  margin-right: 8px;\n  font-family: monospace;\n}\n\n.array-preview {\n  color: #666;\n  font-size: 0.9em;\n}\n\n.collapsible-header {\n  cursor: pointer;\n  background-color: #f5f5f5;\n  border-radius: 4px;\n}\n\n.collapsible-header:hover {\n  background-color: #eeeeee;\n}\n</style>\n","<template>\n  <template v-if=\"!configuration.tag && isTextable(configuration.elements)\">\n    {{ configuration.elements }}\n  </template>\n  <template v-else-if=\"!configuration.tag && isArray(configuration.elements)\">\n\n    <component\n    v-for=\"(element, index) in configuration.elements\"\n    :is=\"element.tag\"\n    v-bind=\"element.attributes\"\n    >{{ element.elements }}</component>\n  </template>\n  <component\n    v-else-if=\"configuration.tag\"\n    :is=\"configuration.tag\"\n    v-bind=\"{...filteredAttributes, ...bindAttributes, ...castedAttributes}\"\n    >\n\n    <template v-if=\"isArray(configuration.elements)\">\n      <ue-recursive-stuff\n        v-for=\"(_configuration, i) in configuration.elements\"\n        :key=\"`tag-${level}-${i}`\"\n        :level=\"level+1\"\n        :configuration=\"_configuration\"\n      />\n    </template>\n\n    <template v-else-if=\"isTextable(configuration.elements)\">\n      {{ applyCasting(configuration.elements) }}\n    </template>\n\n\n      <template v-for=\"(slotConf,slotName) in slots\"\n        :key=\"`tag-${level}-slot-${slotName}`\"\n        v-slot:[`${slotName}`]>\n        <!-- {{ $log(slotName, slotConf) }} -->\n          <ue-recursive-stuff\n            :level=\"level+1\"\n            :configuration=\"slotConf\"\n          />\n      </template>\n      <!-- <ue-recursive-stuff\n        v-for=\"(_configuration, i) in configuration.slots\"\n        :key=\"`tag-${level}-${i}`\"\n        :level=\"level+1\"\n        :configuration=\"_configuration\"\n      /> -->\n\n\n  </component>\n</template>\n\n<script>\nimport { reduce, get, cloneDeep } from 'lodash-es'\nimport { computed, ref } from 'vue'\n\nexport default {\n  props: {\n    configuration: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    level: {\n      type: Number,\n      default: 0\n    },\n    bindData: {\n      type: Object,\n      default () {\n        return {\n\n        }\n      }\n    },\n  },\n  setup (props, context) {\n    // const vFitGrid = resolveDirective('fit-grid')\n    // const directives = [vFitGrid];\n    // const directives = props.configuration.directives ? props.configuration.directives.map((v) => resolveDirective(v)) : []\n    // __log(directives)\n    // console.log(props.configuration.value);\n    const slots = computed(() => {\n      // console.log(props.configuration);\n      if(props.configuration.hasOwnProperty('slots'))\n        return props.configuration.slots\n      else\n        return {}\n      })\n    function isTextable (value) {\n      return __isString(value) || __isNumber(value)\n    }\n    function isArray (value) {\n      return Array.isArray(value, (value))\n    }\n    function hasSlot(value) {\n      return value.hasOwnProperty('slots');\n    }\n    function isObject (value) {\n      return __isObject(value)\n    }\n    function applyCasting(value, funcs = []) {\n      if(!window.__isString(value))\n        return value\n\n      const matches = value.match(castPattern)\n\n      if (matches) {\n        let result = get(props.bindData, matches[1])\n        funcs.forEach((func) => {\n          result = window[func](result)\n        })\n        return result\n      }\n      return value\n    }\n    function castAttribute(object, key, value) {\n      let _value = value\n      let funcs = []\n\n      if (isArray(value) && __isString(value[0])) {\n        _value = value.shift()\n        funcs = value\n      }\n\n      if (isObject(value)) {\n        // Do nothing\n      } else {\n        const result = applyCasting(_value, funcs)\n        if (result) {\n          object[key] = result\n          delete filteredAttributes[key]\n        }\n      }\n    }\n    const castPattern = /\\$([\\w|.]+)/\n    const filteredAttributes = cloneDeep(props.configuration.attributes)\n    const castedAttributes = computed(() => {\n      const attrs = cloneDeep(props.configuration.attributes)\n      return reduce(attrs, (o, v, k) => {\n        if (!(isArray(v) || __isString(v) || __isObject(v))) {\n          return o\n        }\n\n        castAttribute(o, k, v)\n\n        return o\n      }, {})\n    })\n    const bindAttributes = computed(() => {\n      const bindKey = props.configuration.bind\n      if (bindKey) {\n        const matches = bindKey.match(castPattern)\n\n        if (matches && !!props.bindData) {\n          const key = matches[1]\n          if (Object.prototype.hasOwnProperty.call(props.bindData, key)) {\n            return __data_get(props.bindData, key)\n          }\n        }\n      }\n\n      return {}\n    })\n\n    return {\n      // directives: props.configuration.directives ? props.configuration.directives.map((v) => resolveDirective(v)) : [],\n      isTextable,\n      isArray,\n      applyCasting,\n      hasSlot,\n      filteredAttributes,\n      castedAttributes,\n      bindAttributes,\n      slots\n    }\n  },\n  data () {\n    return {\n\n    }\n  },\n  created () {\n    // console.log(this.configuration)\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","import { find, omitBy, reduce, cloneDeep, map, findIndex, snakeCase, orderBy, get, filter, includes, set, each, isEmpty, unset, omit, pick } from 'lodash-es'\n\n\nconst searchInData = (data, pattern) => {\n  const results = [];\n\n  // Handle pattern objects and normalize pattern\n  if (typeof pattern === 'object' && pattern.pattern) {\n    pattern = pattern.pattern;\n  }\n\n  // Ensure pattern is a string and handle regex patterns\n  if (typeof pattern !== 'string') return results;\n  if (pattern.startsWith('regex:')) return results; // Skip regex patterns, handled elsewhere\n\n  const patternParts = pattern.split('.');\n\n  const search = (obj, dataIndex, currentPath = [], depth = 0, parentTitle = null) => {\n    if (Array.isArray(obj)) {\n      obj.forEach((item, index) => {\n        search(item, dataIndex, [...currentPath, index], depth, parentTitle);\n      });\n    } else if (typeof obj === 'object' && obj !== null) {\n      const currentTitle = obj._title || null;\n      for (const [key, value] of Object.entries(obj)) {\n        const newPath = [...currentPath, key];\n\n        if (key === '_value') {\n          search(value, dataIndex, newPath, depth, currentTitle);\n        } else if (key === patternParts[depth]) {\n          if (depth === patternParts.length - 1) {\n            results.push(formatResult(dataIndex, newPath, value, currentTitle, parentTitle));\n          } else {\n            search(value, dataIndex, newPath, depth + 1, currentTitle);\n          }\n        }\n      }\n    }\n  };\n\n  data.forEach((item, index) => search(item, index));\n  return results;\n}\n\nconst formatResult = (dataIndex, path, value, title, parentTitle) => {\n  const notation = [dataIndex, ...path].join('.');\n  const result = { dataIndex, notation, value };\n\n  if (title !== null) {\n    result.title = title;\n  }\n  if (parentTitle !== null) {\n    result.parentTitle = parentTitle;\n  }\n\n  return result;\n}\n\nconst findMatchingNotations = (data, pattern) => {\n  // Handle pattern objects\n  if (typeof pattern === 'object' && pattern.pattern) {\n    pattern = pattern.pattern;\n  }\n\n  // Handle regex patterns\n  if (typeof pattern === 'string' && pattern.startsWith('regex:')) {\n    const regexStr = pattern.replace('regex:', '')\n                           .replace('content.', ''); // Remove content. prefix if exists\n    const regex = new RegExp(regexStr);\n    const matches = [];\n\n    // Look through the data structure\n    for (const item of data) {\n      if (item.content) {\n        Object.entries(item.content).forEach(([key, value]) => {\n          if (regex.test(key)) {\n            matches.push({\n              key,\n              value: value // This will include _title and _value\n            });\n          }\n        });\n      }\n    }\n    return matches;\n  }\n\n  // Handle normal patterns\n  return searchInData(data, pattern);\n}\n\n/**\n * context is an array, string or object\n * if context is an array, each item is a notation\n * if context is an object, it has title and items properties\n * items is an array of notations or items array\n * each item of items array is an array of notations\n * so we need to handle all 3 cases\n * finding the notations is done in findMatchingNotations method\n * output should be an array of objects or object\n * object has title, col, values according to inner structure items or being string of itself\n *\n * for example, for input as following:\n * $samplePreview variable\n *\n * source $data as following:\n    $sampleSource variable\n  *\n  * I need a output as following:\n    [\n      {\n        'title': 'Paketler',\n        'items': [\n          [\n            'Turkey',\n            'France'\n          ],\n        ]\n      },\n      {\n        'title': 'Turkey',\n        'items': [\n          ['Paket', 'Wire'],\n          ['Dağıtım Dili', 'Türkçe, İngilizce']\n        ]\n      }\n      {\n        'title': 'France',\n        'items': [\n          ['Paket', 'Premium'],\n          ['Dağıtım Dili', 'Türkçe, İngilizce']\n        ]\n      },\n      {\n        'title': 'Paketler',\n        'items': [\n          ['Wire', 'TRY 2.200,00'],\n          ['Premium', 'TRY 1.000,00']\n        ]\n      },\n      {\n        'title': 'Press Release Content',\n        'items': [\n          [\n            'I have Press Release',\n          ],\n          {\n            Date: '2024-10-31',\n            Time: '12:00',\n            'Time Zone': '(UTC+02:00) Istanbul'\n          }\n        ]\n      }\n    ]\n  *\n  * findMatchingNotations method already handles finding values according to _value or related key\n  * but we need a more generalized or detailed structure\n  */\nconst formattedPreview = (data, formation) => {\n  const formatted = [];\n\n  // Helper function to extract values based on config\n  const extractValues = (value, config = {}) => {\n    // Default configuration options for value extraction\n    const {\n      titleKey = '_title',\n      valueKey = '_value',\n      pickKeys = [],\n      mapArrayItems = true,\n      nested = false,\n      includeTitle = true,\n      col = 6                    // Add default col value\n    } = config;\n\n    if (!value) return null;\n\n    // Handle array values\n    if (Array.isArray(value[valueKey])) {\n      if (mapArrayItems) {\n        return [\n          includeTitle ? value[titleKey] : null,\n          value[valueKey].map(item => item[titleKey]),\n          col  // Include col in return value\n        ].filter(Boolean);\n      }\n      return [value[titleKey], value[valueKey], col];\n    }\n\n    // Handle objects when specific keys need to be picked\n    if (pickKeys.length > 0) {\n      const picked = pickKeys.map(key => value[key]).filter(Boolean);\n      return picked.length ? [value[titleKey], ...picked, col] : null;\n    }\n\n    // Default case - return title, value, and col\n    return [\n      includeTitle ? value[titleKey] : null,\n      value[valueKey],\n      col\n    ].filter(Boolean);\n  };\n\n  // Helper to find the parent key of a field in the source data\n  const findPrefix = (data, fieldPattern) => {\n    if (typeof fieldPattern === 'object' && fieldPattern.pattern) {\n      fieldPattern = fieldPattern.pattern;\n    }\n\n    const patternParts = parsePattern(fieldPattern);\n    if (!patternParts.length) return '';\n\n    if (patternParts[0].startsWith('regex:')) {\n      const matches = [];\n      for (const item of data) {\n        for (const [key, value] of Object.entries(item)) {\n          if (typeof value === 'object' && value !== null) {\n            const hasField = Object.keys(value).some(k =>\n              matchesPattern(patternParts[0], k)\n            );\n            if (hasField) {\n              matches.push(key);\n            }\n          }\n        }\n      }\n      return matches.length ? matches : '';\n    }\n\n    // Original prefix finding logic\n    for (const item of data) {\n      for (const [key, value] of Object.entries(item)) {\n        if (typeof value === 'object' && value !== null) {\n          if (patternParts[0] in value) {\n            return key;\n          }\n        }\n      }\n    }\n    return '';\n  };\n\n  // Helper to ensure col property exists\n  const ensureCol = (item, defaultCol = 6) => {\n    if (!item.col) {\n      item.col = defaultCol;\n    }\n    return item;\n  };\n\n  // Helper to generate section key\n  const generateSectionKey = (index = 0) => `section_${index + 1}`;\n\n  // Add new helper for regex pattern matching\n  const matchesPattern = (pattern, key) => {\n    if (typeof pattern !== 'string') return false;\n    if (pattern.startsWith('regex:')) {\n      const regexStr = pattern.replace('regex:', '');\n      const regex = new RegExp(regexStr);\n      return regex.test(key);\n    }\n    return pattern === key;\n  };\n\n  // Helper to parse pattern path\n  const parsePattern = (pattern) => {\n    if (typeof pattern === 'object' && pattern.pattern) {\n      pattern = pattern.pattern;\n    }\n    if (typeof pattern !== 'string') return [];\n\n    // For regex patterns, return the full pattern\n    if (pattern.startsWith('regex:')) {\n      // Extract the content part for regex patterns\n      const contentPattern = pattern.includes('content.')\n        ? pattern.replace('regex:content.', 'regex:')\n        : pattern;\n      return ['content', contentPattern];\n    }\n\n    return pattern.split('.');\n  };\n\n  // Process each formatting instruction\n  for (const context of formation) {\n    // Handle string patterns or objects with pattern property\n    if (typeof context === 'string' || (typeof context === 'object' && context.pattern)) {\n      const pattern = typeof context === 'string' ? context : context.pattern;\n      const config = {\n        col: 6,  // Default col value\n        ...typeof context === 'object' ? context : {}\n      };\n      const isWildcard = pattern.endsWith('.*');\n\n      // Find matching values in data\n      const results = findMatchingNotations(data, isWildcard ? pattern.slice(0, -2) : pattern);\n\n      if (results.length > 0) {\n        if (isWildcard && results[0].value._value) {\n          // Skip the overview section unless specifically requested\n          if (!config.includeOverview) {\n            // Process individual items directly\n            results[0].value._value.forEach((item, index) => {\n              const details = Object.entries(item)\n                .filter(([key]) => !key.startsWith('_'))\n                .map(([_, value]) => {\n                  if (Array.isArray(value._value) && config.mapArrayItems === false) {\n                    return [value._title, value._value];\n                  }\n                  return extractValues(value, config);\n                })\n                .filter(Boolean);\n\n              if (details.length > 0) {\n                if (config.outputFormat === 'object') {\n                  // Convert array items to object format\n                  const itemsObject = {};\n                  details.forEach(([title, value]) => {\n                    itemsObject[title] = value;\n                  });\n\n                  formatted.push(ensureCol({\n                    title: item._title,\n                    items: config.nested\n                      ? { [generateSectionKey(index)]: itemsObject }\n                      : itemsObject\n                  }, config.col));\n                } else {\n                  // Default array format\n                  formatted.push(ensureCol({\n                    title: item._title,\n                    items: config.nested ? [details] : details\n                  }, config.col));\n                }\n              }\n            });\n          } else {\n            // Only add overview if specifically requested\n            const mainResult = extractValues(results[0].value, {\n              ...config,\n              mapArrayItems: true\n            });\n\n            if (mainResult) {\n              formatted.push(ensureCol({\n                title: mainResult[0],\n                items: [mainResult[1]]\n              }, config.col));\n            }\n          }\n        } else {\n          // Handle specific patterns\n          const items = results.map(result =>\n            extractValues(result.value, config)\n          ).filter(Boolean);\n\n          if (items.length > 0) {\n            formatted.push(ensureCol({ items }, config.col));\n          }\n        }\n      }\n    }else if (Array.isArray(context)) { // Handle array patterns\n      const items = [];\n      const config = { col: 6 };  // Default col for array patterns\n\n      for (const pattern of context) {\n        const results = findMatchingNotations(data, pattern);\n        results.forEach(r => {\n          if (r.value._value) {\n            const extracted = extractValues(r.value, config);\n            items.push([extracted[0], extracted[1]]);  // Only use title and value\n          }\n        });\n      }\n      if (items.length > 0) {\n        formatted.push(ensureCol({ items }, config.col));\n      }\n    }else if (typeof context === 'object' && context.items) {// Handle object patterns with items property\n      const result = {\n        title: context.title,\n        items: context.outputFormat === 'object' ? {} : [],\n        col: context.col || 6  // Use provided col or default\n      };\n\n      if (context.col) {\n        result.col = context.col;\n      }\n\n      // Process each item in the items array\n      context.items.forEach((item, sectionIndex) => {\n        // Handle both array and object patterns in items\n        if (typeof item === 'object') {\n          if (Array.isArray(item)) {\n            // Handle array of patterns\n            const itemObject = {};\n\n            for (const pattern of item) {\n              const prefix = findPrefix(data, pattern);\n              const fullPattern = prefix ? `${prefix}.${pattern}` : pattern;\n\n              const matches = findMatchingNotations(data, fullPattern);\n              matches.forEach(match => {\n                if (match.value) {\n                  const title = match.value._title;\n                  const value = match.value._value;\n                  if (value) {\n                    itemObject[title] = value;\n                  }\n                }\n              });\n            }\n\n            if (Object.keys(itemObject).length > 0) {\n              if (context.nested) {\n                result.items[generateSectionKey(sectionIndex)] = itemObject;\n              } else {\n                Object.assign(result.items, itemObject);\n              }\n            }\n          } else {\n            // Handle object pattern with regex support\n            const pattern = item.pattern;\n\n            if (pattern.startsWith('regex:')) {\n              const matches = findMatchingNotations(data, pattern);\n              const contentValues = {};\n\n              matches.forEach((match) => {\n                if (match.value && match.value._value) {\n                  if (item.simpleValue) {\n                    contentValues[match.key] = match.value._value;\n                  } else {\n                    contentValues[match.value._title] = match.value._value;\n                  }\n                }\n              });\n\n              if (Object.keys(contentValues).length > 0) {\n                if (context.nested) {\n                  result.items[generateSectionKey(sectionIndex)] = contentValues;\n                } else {\n                  Object.assign(result.items, contentValues);\n                }\n              }\n            } else {\n              const prefixes = findPrefix(data, pattern);\n\n              if (Array.isArray(prefixes)) {\n                // Handle regex matches\n                prefixes.forEach((prefix, idx) => {\n                  const matches = findMatchingNotations(data, pattern);\n                  matches.forEach(match => {\n                    // Get the actual value from the data structure\n                    const contentValue = data.find(d => d.content)?.[match.key];\n                    if (contentValue && contentValue._value) {\n                      if (item.simpleValue) {\n                        if (context.nested) {\n                          result.items[generateSectionKey(idx)] = contentValue._value;\n                        } else {\n                          result.items[`content_${idx + 1}`] = contentValue._value;\n                        }\n                      } else {\n                        const itemObject = {\n                          [contentValue._title]: contentValue._value\n                        };\n                        if (context.nested) {\n                          result.items[generateSectionKey(idx)] = itemObject;\n                        } else {\n                          Object.assign(result.items, itemObject);\n                        }\n                      }\n                    }\n                  });\n                });\n              } else {\n                // Handle object pattern with potential simpleValue\n                const pattern = item.pattern;\n                const prefix = findPrefix(data, pattern);\n                const fullPattern = prefix ? `${prefix}.${pattern}` : pattern;\n\n                const matches = findMatchingNotations(data, fullPattern);\n                matches.forEach(match => {\n                  if (match.value && match.value._value) {\n                    if (item.simpleValue) {\n                      // For simpleValue, just store the value directly\n                      if (context.nested) {\n                        result.items[generateSectionKey(sectionIndex)] = match.value._value;\n                      } else {\n                        result.items = match.value._value;\n                      }\n                    } else {\n                      // Original behavior\n                      const itemObject = {\n                        [match.value._title]: match.value._value\n                      };\n                      if (context.nested) {\n                        result.items[generateSectionKey(sectionIndex)] = itemObject;\n                      } else {\n                        Object.assign(result.items, itemObject);\n                      }\n                    }\n                  }\n                });\n              }\n            }\n          }\n        } else {\n          // Handle string pattern\n          const prefix = findPrefix(data, item);\n          const fullPattern = prefix ? `${prefix}.${item}` : item;\n\n          const matches = findMatchingNotations(data, fullPattern);\n          if (context.outputFormat === 'object') {\n            matches.forEach(match => {\n              if (match.value._value) {\n                const value = match.value._value;\n                if (context.nested) {\n                  result.items[generateSectionKey(sectionIndex)] = {\n                    [match.value._title]: value\n                  };\n                } else {\n                  result.items[match.value._title] = value;\n                }\n              }\n            });\n          } else {\n            matches.forEach(match => {\n              if (match.value._value) {\n                result.items.push([match.value._value]);\n              }\n            });\n          }\n        }\n      });\n\n      if ((Array.isArray(result.items) && result.items.length > 0) ||\n          (!Array.isArray(result.items) && Object.keys(result.items).length > 0)) {\n        formatted.push(ensureCol(result, context.col));\n      }\n    }\n  }\n\n  return formatted;\n}\n\nconst formattedSummary = (data, formation) => {\n  let formattedSummary = {}\n\n  for(const notation in formation){\n    const object = formation[notation];\n    const values = findMatchingNotations(data, notation);\n    formattedSummary[notation] = Object.assign({}, object, { values });\n  }\n\n  return formattedSummary\n}\n\nconst test = () => {\n\n  // samplePatterns.forEach(pattern => {\n  //   console.log(pattern, findMatchingNotations(sampleSource, pattern), sampleSource)\n  // })\n\n  // __log(JSON.stringify(formattedPreview(sampleSource, samplePreview), null, 2))\n}\n\n\nexport default {\n  findMatchingNotations,\n  formattedPreview,\n  formattedSummary,\n  test\n}\n\nconst samplePatterns = [\n  'pressReleasePackages',\n  'pressReleasePackages.package_id.packageFeatures',\n  'pressReleasePackages.packageLanguages',\n  'content.date',\n  'content.time',\n  'content.timezone',\n  'content.press_release_images',\n  'content',\n]\n\nconst samplePreview = [\n  {\n    pattern: 'pressReleasePackages.*',\n    outputFormat: 'object',  // This will preserve arrays in _value\n    nested: true,\n    mapArrayItems: false,\n  },\n  {\n    col: 12,\n    title: 'Press Release Content',\n    nested: true,\n    outputFormat: 'object',\n    items: [\n      [\n        'content.date',\n        'content.fullname',\n        'content.email',\n        'content.phone',\n      ],\n      {\n        pattern: 'content.content-type',\n        simpleValue: true  // Only affects this pattern\n      },\n      [\n        {\n          pattern: 'regex:^\\\\d+_content$',  // Matches 1_content, 2_content, etc.\n          simpleValue: true\n        },\n        'content.press_release_images',\n      ]\n    ]\n  }\n]\nconst sampleSource = [\n  {\n    \"location\": {\n      \"_title\": \"Location\",\n      \"_type\": \"input-radio-group\",\n      \"_value\": \"Select Your Country\"\n    },\n    \"PackageCountry\": {\n      \"_title\": \"Ülke\",\n      \"_type\": \"input-checklist\",\n      \"_value\": [\n        \"Turkey\",\n        \"France\"\n      ]\n    }\n  },\n  {\n    \"pressReleasePackages\": {\n      \"_title\": \"Paketler\",\n      \"_type\": \"input-form-tabs\",\n      \"_value\": [\n        {\n          \"_title\": \"Turkey\",\n          \"_model\": 1,\n          \"_value\": {},\n          \"package_id\": {\n            \"_title\": \"Paket \",\n            \"_type\": \"input-form-tabs\",\n            \"_value\": \"Wire\",\n            \"packageFeatures\": \"Ücretsiz Dağıtım, 10 yayın içeriği, SEO kurallarına uygun İngilizce basın bülteni yazımı (max. 400 kelime), Seçilen medya listesine dağıtım, Partner haber sitelerine gönderim\",\n            \"prices\": \"€ 50,00\",\n            \"price\": \"€ 50,00\"\n          },\n          \"packageLanguages\": {\n            \"_title\": \"Dağıtım Dili\",\n            \"_type\": \"input-form-tabs\",\n            \"_value\": [\n              \"Türkçe\",\n              \"İngilizce\"\n            ]\n          }\n        },\n        {\n          \"_title\": \"France\",\n          \"_model\": 2,\n          \"_value\": {},\n          \"package_id\": {\n            \"_title\": \"Paket \",\n            \"_type\": \"input-form-tabs\",\n            \"_value\": \"Wire\",\n            \"packageFeatures\": \"Ücretsiz Dağıtım, 10 yayın içeriği, SEO kurallarına uygun İngilizce basın bülteni yazımı (max. 400 kelime), Seçilen medya listesine dağıtım, Partner haber sitelerine gönderim\",\n            \"prices\": \"€ 46,00\",\n            \"price\": \"€ 46,00\"\n          },\n          \"packageLanguages\": {\n            \"_title\": \"Dağıtım Dili\",\n            \"_type\": \"input-form-tabs\",\n            \"_value\": [\n              \"İngilizce\",\n              \"Türkçe\"\n            ]\n          }\n        }\n      ]\n    }\n  },\n  {\n    \"content\": {\n      \"_title\": \"Content\",\n      \"_type\": \"group\",\n      \"content-type\": {\n        \"_title\": \"Content-type\",\n        \"_type\": \"input-radio-group\",\n        \"_value\": \"I Have A Press Release\"\n      },\n      \"date\": {\n        \"_title\": \"Publication Date\",\n        \"_type\": \"text\",\n        \"_value\": \"2024-11-05\"\n      },\n      \"fullname\": {\n        \"_title\": \"Contact Person\",\n        \"_type\": \"text\",\n        \"_value\": \"Oğuzhan Bükçüoğlu\"\n      },\n      \"email\": {\n        \"_title\": \"Email\",\n        \"_type\": \"text\",\n        \"_value\": \"oguz.bukcuoglu@gmail.com\"\n      },\n      \"phone\": {\n        \"_title\": \"Phone Number\",\n        \"_type\": \"input-phone\",\n        \"_value\": \"+90 552 313 08 93\"\n      },\n      \"2_content\": {\n        \"_title\": \"İngilizce Content\",\n        \"_type\": \"input-filepond\",\n        \"_value\": []\n      },\n      \"1_content\": {\n        \"_title\": \"Türkçe Content\",\n        \"_type\": \"input-filepond\",\n        \"_value\": [\n          \"Screenshot 2024-11-02 at 23.48.26.png\"\n        ]\n      },\n      \"press_release_images\": {\n        \"_title\": \"Medias\",\n        \"_type\": \"input-filepond\",\n        \"_value\": []\n      }\n    }\n  }\n]\n\n// console.log(JSON.stringify(formattedPreview(sampleSource, samplePreview), null, 2))\n\n","<template>\n  <v-stepper-header class=\"rounded elevation-2\">\n    <!-- Form steps -->\n    <template v-for=\"(form, i) in forms\" :key=\"`stepper-item-${i}`\">\n      <v-stepper-item\n        :complete=\"activeStep > i+1\"\n        :title=\"form.title\"\n        :value=\"i+1\"\n        color=\"primary\"\n        :step=\"`Step {{ n }}`\"\n        complete-icon=\"$complete\"\n        class=\"ue-stepper-item__icon--border25\"\n      >\n        <template v-slot:title=\"titleScope\">\n          <div @click=\"$emit('step-click', i+1)\" style=\"cursor: pointer\">\n            <span :class=\"[ (titleScope.hasCompleted || titleScope.step == activeStep) ? 'text-primary font-weight-bold' : '' ]\">\n              {{ titleScope.title }}\n            </span>\n          </div>\n        </template>\n      </v-stepper-item>\n    </template>\n\n    <!-- Summary step -->\n    <v-stepper-item\n      :complete=\"activeStep > forms.length\"\n      title=\"Preview & Summary\"\n      :value=\"forms.length+1\"\n      color=\"primary\"\n      :step=\"`Step Summary`\"\n      complete-icon=\"$complete\"\n      class=\"ue-stepper-item__icon--border25\"\n    >\n      <template v-slot:title=\"titleScope\">\n        <span :class=\"[ (titleScope.hasCompleted || titleScope.step == activeStep) ? 'text-primary font-weight-bold' : '' ]\">\n          {{ titleScope.title }}\n        </span>\n      </template>\n    </v-stepper-item>\n  </v-stepper-header>\n</template>\n\n<script>\nexport default {\n  name: 'StepperHeader',\n  props: {\n    forms: {\n      type: Array,\n      required: true\n    },\n    activeStep: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: ['step-click']\n}\n</script>\n","<template>\n  <v-sheet-rounded class=\"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2\">\n    <v-stepper-window class=\"fill-height overflow-y-auto px-6\" style=\"max-height: 80vh;\">\n      <!-- Form steps -->\n      <v-stepper-window-item\n        v-for=\"(form, i) in forms\"\n        :key=\"`content-${i}`\"\n        :value=\"i+1\"\n      >\n        <ue-form\n          v-if=\"activeStep > i\"\n          :ref=\"formRefs[i]\"\n          :id=\"`stepper-form-${i+1}`\"\n          :isEditing=\"isEditing\"\n\n          v-model=\"models[i]\"\n          @update:modelValue=\"val => updateFormModel(val, i)\"\n          :XmodelValue=\"inputModels[i]\"\n          @Xupdate:modelValue=\"updateFormModel($event, i)\"\n\n          :schema=\"localSchemas[i]\"\n          @update:schema=\"updateFormSchema($event, i)\"\n          :Xschema=\"inputSchemas[i]\"\n          @Xupdate:schema=\"updateFormSchema($event, i)\"\n\n          @input_=\"$log('input emitted from form on steppercontent', $event)\"\n          @input=\"$emit('form-input', {event: $event, index: i})\"\n\n          @update:valid=\"$emit('form-valid', {event: $event, index: i})\"\n\n          noDefaultFormPadding\n        />\n      </v-stepper-window-item>\n\n      <!-- Preview step -->\n      <v-stepper-window-item\n        :value=\"forms.length + 1\"\n        class=\"pt-3\"\n      >\n        <slot name=\"preview\"></slot>\n      </v-stepper-window-item>\n    </v-stepper-window>\n  </v-sheet-rounded>\n</template>\n\n<script>\n  import { cloneDeep, isEqual } from 'lodash-es'\n\n  export default {\n    name: 'StepperContent',\n    props: {\n      modelValue: {\n        type: Array,\n        required: true\n      },\n      forms: {\n        type: Array,\n        required: true\n      },\n      schemas: {\n        type: Array,\n        required: true,\n        default: () => [] // Added default value\n      },\n      activeStep: {\n        type: Number,\n        required: true\n      },\n      formRefs: {\n        type: Array,\n        required: true\n      },\n      isEditing: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: ['form-input', 'form-valid', 'update:modelValue', 'update:schemas'],\n\n    data () {\n      return {\n        models: cloneDeep(this.modelValue),\n        localSchemas: cloneDeep(this.schemas)\n      }\n    },\n    computed: {\n      inputModels: {\n        get () {\n          // __log('StepperContent inputModels get', this.modelValue)\n          return this.modelValue\n        },\n        set (newVal, oldVal) {\n          // __log('StepperContent inputModels set', newVal, oldVal)\n          // this.$emit('update:modelValue', newVal)\n        }\n      },\n      inputSchemas: {\n        get () {\n          // __log('StepperContent inputSchemas get', this.schemas)\n          return this.schemas\n        },\n        set (newVal, oldVal) {\n          // __log('StepperContent inputSchemas set', newVal, oldVal)\n          if (!isEqual(newVal, oldVal)) {\n            // this.$emit('update:schemas', newVal)\n          }\n        }\n      }\n    },\n    methods: {\n      updateFormModel (newVal, index) {\n        // __log('StepperContent updateFormModel', newVal, index)\n        this.models.splice(index, 1, newVal)\n        // this.$emit('update:modelValue', [...this.models])\n\n        // let updatedModels = [...this.inputModels]\n        // updatedModels[index] = newVal\n        // this.inputModels = updatedModels\n        // this.$emit('update:modelValue', prevInputModel)\n      },\n      updateFormSchema(newSchema, index) {\n        this.localSchemas.splice(index, 1, cloneDeep(newSchema))\n        // this.$emit('update:schemas', [...this.localSchemas])\n\n        // const updatedSchemas = [...this.inputSchemas]\n        // updatedSchemas[index] = newSchema\n        // this.inputSchemas = updatedSchemas\n        // this.$emit('update:schemas', updatedSchemas)\n      }\n    },\n    watch: {\n      // Add watchers to ensure prop changes are reflected\n      modelValue: {\n        handler(newVal) {\n          if (!isEqual(newVal, this.models)) {\n            this.models = cloneDeep(newVal)\n          }\n        },\n        deep: true\n      },\n      modelValue_: {\n        handler(newVal) {\n          __log('StepperContent modelValue watch', newVal, this.inputModels)\n          if (newVal !== this.inputModels) {\n            this.inputModels = newVal\n          }\n        },\n        deep: true\n      },\n\n      schemas: {\n        handler(newVal) {\n          if (!isEqual(newVal, this.localSchemas)) {\n            this.localSchemas = cloneDeep(newVal)\n          }\n        },\n        deep: true\n      },\n      schemas_: {\n        handler(newVal) {\n          // __log('StepperContent schemas watch', newVal, this.inputSchemas)\n          if (newVal !== this.inputSchemas) {\n            this.inputSchemas = newVal\n          }\n        },\n        deep: true\n      },\n\n      // Watch local changes and emit updates\n      models: {\n        handler(newVal) {\n          if (!isEqual(newVal, this.modelValue)) {\n            this.$emit('update:modelValue', cloneDeep(newVal))\n          }\n        },\n        deep: true\n      },\n      localSchemas: {\n        handler(newVal) {\n          if (!isEqual(newVal, this.schemas)) {\n            this.$emit('update:schemas', cloneDeep(newVal))\n          }\n        },\n        deep: true\n      }\n    }\n  }\n</script>\n","<template>\n  <v-sheet-rounded\n    class=\"d-flex flex-column fill-height pa-6 elevation-2\"\n    :style=\"[isLastStep ? '' : '']\"\n    :class=\"[isLastStep ? 'pa-6 bg-primary-darken-2' : '']\"\n  >\n    <template v-if=\"!isLastStep\">\n      <slot name=\"summary.forms\">\n        <v-sheet class=\"ue-stepper-form__preview fill-height\">\n          <!-- Form summaries -->\n          <template v-for=\"(form, i) in forms\" :key=\"`stepper-summary-item-${i}`\">\n            <slot\n              :name=\"`summary-form-${i+1}`\"\n              v-bind=\"{\n                index: i,\n                order: i+1,\n                title: previewTitles[i],\n                isPreviewModelFilled,\n                model: models[i],\n                schema: schemas[i],\n                previewModel: previewModel[i] ?? {},\n                length: forms.length\n              }\"\n            >\n              <v-divider v-if=\"isPreviewModelFilled(i) && i !== 0 && i < forms.length - 1\" class=\"mb-6\"/>\n              <!-- Default summary content -->\n              <ue-form-summary-item\n                v-if=\"isPreviewModelFilled(i)\"\n                :index=\"i\"\n                :title=\"previewTitles[i]\"\n                :model=\"previewModel[i]\"\n              />\n            </slot>\n          </template>\n        </v-sheet>\n\n        <v-spacer></v-spacer>\n\n        <!-- Next button -->\n        <v-sheet class=\"ue-stepper-form__preview-bottom\">\n          <v-btn-secondary\n            class=\"v-stepper-form__nextButton\"\n            density=\"comfortable\"\n            :disabled=\"$hasRequestInProgress()\"\n            @click=\"$emit('next-form', activeStep - 1 )\"\n          >\n            {{ $t('next').toUpperCase() }}\n          </v-btn-secondary>\n        </v-sheet>\n      </slot>\n    </template>\n    <template v-else>\n      <slot\n        name=\"summary.final\"\n        v-bind=\"{\n          model: models,\n          schema: schemas,\n          previewModel: previewModel,\n          onComplete: () => $emit('complete-form')\n        }\"\n      ></slot>\n    </template>\n  </v-sheet-rounded>\n</template>\n\n<script>\nexport default {\n  name: 'StepperSummary',\n  props: {\n    isLastStep: Boolean,\n    forms: Array,\n    activeStep: Number,\n    models: Array,\n    schemas: Array,\n    previewModel: Array,\n    previewTitles: Array,\n    isPreviewModelFilled: Function\n  },\n  emits: ['next-form', 'complete-form']\n}\n</script>\n","<template>\n  <v-sheet>\n    <ue-title weight=\"medium\" color=\"black\" padding=\"a-0\">\n      {{ $t('Preview & Summary').toUpperCase() }}\n    </ue-title>\n\n    <v-row>\n      <!-- Preview cards -->\n      <template v-for=\"(context, index) in formattedPreview\" :key=\"`summary-${index}`\">\n        <v-col cols=\"12\" :md=\"context.col || 6\" v-fit-grid>\n          <ue-configurable-card v-bind=\"context\" elevation=\"2\" class=\"my-2\"/>\n        </v-col>\n      </template>\n\n      <!-- Final form data -->\n      <v-col cols=\"12\" v-if=\"previewFormData.length > 0\" v-fit-grid>\n        <v-sheet class=\"px-4\">\n          <ue-title\n            type=\"body-1\"\n            color=\"primary\"\n            font-weight=\"bold\"\n            padding=\"a-0\"\n            margin=\"y-4\"\n          >\n            {{ finalFormTitle }}\n          </ue-title>\n          <!-- Preview form items -->\n          <template\n            v-for=\"(data, index) in previewFormData\"\n            :key=\"`final-form-data-${index}`\"\n          >\n            <ue-configurable-card\n              style=\"background-color: transparent;\"\n              :class=\"[\n                lastStepModel[data.fieldName].includes(data.id) ? 'bg-primary' : 'bg-grey-lighten-5'\n              ]\"\n              class=\"mx-n4 mb-4 py-4\"\n              elevation=\"2\"\n              :items=\"[\n                [\n                  data.name || 'N/A ',\n                  data.description || 'N/A',\n                  data.tags || [],\n                ],\n                data.basePrice_show || 'N/A'\n              ]\"\n              :actions=\"[\n                {\n                  onClick: () => {}\n                }\n              ]\"\n              hide-separator\n              align-center-columns\n              justify-center-columns\n              :column-styles=\"{\n                '0': '',\n                '1': '',\n                '_actions': '',\n              }\"\n              :column-classes=\"{\n                '0': 'flex-1-1-100 flex-md-1-0',\n                '1': 'flex-0-1 d-flex align-center',\n                '_actions': 'flex-0-1',\n              }\"\n            >\n              <!-- Name and description -->\n              <template #[`segment.1`]=\"segmentScope\">\n                {{ $log(segmentScope.data) }}\n                <div class=\"text-body-2 font-weight-medium mb-1\">\n                  {{ segmentScope.data[0] }}\n                </div>\n                <div class=\"text-caption\">\n                  {{ segmentScope.data[1] }}\n                </div>\n                <div v-if=\"segmentScope.data[2].length > 0\" class=\"text-caption mt-4 d-flex ga-4 flex-wrap\" >\n                  <v-chip v-for=\"tag in segmentScope.data[2]\" :key=\"tag\" variant=\"outlined\" size=\"small\" class=\"\">\n                    {{ tag.name ?? tag.slug }}\n                  </v-chip>\n                </div>\n              </template>\n\n              <!-- Price -->\n              <template #[`segment.2`]=\"segmentScope\">\n                <div class=\"text-h4 font-weight-medium py-auto\">\n                  {{ segmentScope.data }}\n                </div>\n              </template>\n\n              <!-- Actions -->\n              <template #[`segment.actions`]=\"segmentScope\">\n                <div class=\"d-flex fill-height align-content-md-center\">\n                  <!-- <v-divider v-if=\"$vuetify.display.lgAndUp ? true : false\" vertical></v-divider> -->\n                  <v-btn\n                    class=\"mx-1 rounded-circle\"\n                    :min-width=\"segmentScope.actionProps.actionIconMinHeight\"\n                    :min-height=\"segmentScope.actionProps.actionIconMinHeight\"\n                    :size=\"segmentScope.actionProps.actionIconSize\"\n                    :icon=\"lastStepModel[data.fieldName].includes(data.id) ? 'mdi-minus' : 'mdi-plus'\"\n                    :color=\"lastStepModel[data.fieldName].includes(data.id) ? 'grey' : 'primary'\"\n                    @click=\"$emit('final-form-action', index)\"\n                  />\n                </div>\n              </template>\n            </ue-configurable-card>\n          </template>\n        </v-sheet>\n      </v-col>\n    </v-row>\n  </v-sheet>\n</template>\n\n<script>\nexport default {\n  name: 'StepperPreview',\n  props: {\n    formattedPreview: {\n      type: Array,\n      required: true\n    },\n    previewFormData: {\n      type: Array,\n      required: true\n    },\n    lastStepModel: {\n      type: Object,\n      required: true\n    },\n    finalFormTitle: {\n      type: String,\n      required: true\n    }\n  },\n  emits: ['final-form-action']\n}\n</script>\n\n<style scoped>\n.ue-configurable-card {\n  transition: background-color 0.2s ease;\n}\n</style>\n","<template>\n  <v-sheet class=\"bg-primary-darken-2\">\n    <!-- Title -->\n    <ue-title justify=\"center\" color=\"white\" :text=\"$t('Total Amount').toUpperCase()\" type=\"h5\" />\n    <v-divider/>\n\n    <!-- Summary sections -->\n    <template v-for=\"(sample, index) in formattedSummary\" :key=\"`summary-section-${index}`\">\n      <!-- Section title -->\n      <ue-title\n        :text=\"sample.title\"\n        transform=\"capitalize\"\n        type=\"h6\"\n        color=\"white\"\n        padding=\"x-6\"\n        margin=\"t-6\"\n        class=\"mx-n6 py-3 bg-primary-darken-1\"\n      />\n\n      <!-- Section values -->\n      <v-table class=\"bg-transparent my-3\">\n        <tbody>\n          <template v-for=\"(value, valueIndex) in sample.values\" :key=\"`summary-value-${valueIndex}`\">\n            <tr class=\"py-0\">\n              <td class=\"border-0 h-auto py-1 pl-0 text-body-1 text-white\">\n                {{ value.parentTitle || value.title || 'N/A' }}\n              </td>\n              <td class=\"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1 text-white\">\n                {{ value.value || 'N/A' }}\n              </td>\n            </tr>\n          </template>\n        </tbody>\n      </v-table>\n    </template>\n\n  </v-sheet>\n\n  <v-spacer></v-spacer>\n  <v-divider></v-divider>\n\n  <!-- Total -->\n  <v-table class=\"bg-transparent my-3\">\n    <tbody>\n      <tr class=\"py-0\">\n        <td class=\"border-0 h-auto py-1 pl-0 text-h5 text-white\">\n          {{ $t('Total').toUpperCase() }}\n        </td>\n        <td class=\"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold\">\n          <slot name=\"total\">\n            <ue-text-display class=\"text-h5 text-white\" text=\"$2500\" subText=\"+ VAT\" />\n          </slot>\n        </td>\n      </tr>\n    </tbody>\n  </v-table>\n\n  <!-- Description -->\n  <div class=\"text-caption text-grey-lighten-1 mb-6\">\n    <slot name=\"description\">\n      At\n    </slot>\n  </div>\n\n  <!-- Complete button -->\n  <v-sheet class=\"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3\">\n    <v-btn-secondary\n      class=\"v-stepper-form__nextButton\"\n      block\n      :disabled=\"loading || isCompleted\"\n      :loading=\"loading\"\n      @click=\"$emit('complete')\"\n    >\n      {{ $t('Complete').toUpperCase() }}\n    </v-btn-secondary>\n  </v-sheet>\n    <!-- </div> -->\n</template>\n\n<script>\nexport default {\n  name: 'StepperFinalSummary',\n  props: {\n    formattedSummary: {\n      type: Object,\n      required: true,\n      validator(value) {\n        return Object.values(value).every(section => {\n          return typeof section.title === 'string' &&\n                 Array.isArray(section.values)\n        })\n      }\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    isCompleted: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['complete']\n}\n</script>\n\n<style scoped>\n.v-table {\n  background-color: transparent !important;\n}\n\n.v-table td {\n  color: inherit !important;\n}\n\n/* .ue-stepper-form__preview-bottom {\n  margin: 0 -24px -24px;\n  padding: 24px;\n} */\n\n/* Dark theme overrides */\n:deep(.v-btn) {\n  color: white;\n}\n\n:deep(.v-divider) {\n  border-color: rgba(255, 255, 255, 0.12);\n}\n</style>\n","<template>\n  <v-stepper v-model=\"activeStep\" color=\"prima\" :class=\"['ue-stepper-form','ue-stepper--no-background', 'fill-height  d-flex flex-column']\">\n    <template v-slot:default=\"{ prev, next }\">\n      <StepperHeader\n        :forms=\"forms\"\n        :active-step=\"activeStep\"\n        @step-click=\"goStep\"\n      />\n\n      <v-row class=\"mt-4 flex-fill\">\n        <!-- left side -->\n        <v-col cols=\"12\" lg=\"8\" v-fit-grid>\n          <StepperContent\n            v-model=\"models\"\n\n            :schemas=\"schemas\"\n            @update:schemas=\"schemas = $event\"\n\n            :forms=\"forms\"\n            :active-step=\"activeStep\"\n            :form-refs=\"formRefs\"\n            :is-editing=\"isEditing\"\n\n            @form-input=\"handleInput($event)\"\n            @form-valid=\"updateFormValid($event)\"\n          >\n            <template #preview>\n              <StepperPreview\n                :formatted-preview=\"formattedPreview\"\n                :preview-form-data=\"previewFormData\"\n                :last-step-model=\"lastStepModel\"\n                :final-form-title=\"finalFormTitle\"\n                @final-form-action=\"handleFinalFormAction\"\n              />\n            </template>\n          </StepperContent>\n        </v-col>\n\n        <!-- right side -->\n        <v-col cols=\"12\" lg=\"4\">\n          <StepperSummary\n            :is-last-step=\"isLastStep\"\n            :forms=\"forms\"\n            :active-step=\"activeStep\"\n            :models=\"models\"\n            :schemas=\"schemas\"\n            :preview-model=\"previewModel\"\n            :preview-titles=\"previewTitles\"\n            :is-preview-model-filled=\"isPreviewModelFilled\"\n            @next-form=\"nextForm\"\n            @complete-form=\"completeForm\"\n          >\n            <template v-for=\"(slot, slotName) in summaryFormScopes\" :key=\"`slot-${i}`\" v-slot:[`${slotName}`]=\"summaryFormScope\">\n              <slot :name=\"slotName\" v-bind=\"summaryFormScope\">\n\n              </slot>\n            </template>\n\n            <template #summary.final=\"{ onComplete }\">\n              <slot name=\"summary.final\"\n                v-bind=\"{\n                  model: models,\n                  schema: schemas,\n                  previewModel: previewModel,\n                  completeForm: completeForm,\n                }\"\n              >\n                <StepperFinalSummary\n                  :formatted-summary=\"formattedSummary\"\n                  :loading=\"loading\"\n                  :is-completed=\"isCompleted\"\n                  @complete=\"onComplete\"\n                >\n                  <template v-slot:total>\n                    <slot name='summary.final.total' v-bind=\"{payload: this.payload}\">\n                      <ue-text-display class=\"text-h5 text-white\" text=\"$2500\" subText=\"+ VAT\" />\n                    </slot>\n                  </template>\n                  <template v-slotdescription>\n                    <slot name=\"summary.final.description\">\n                      At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio\n                    </slot>\n                  </template>\n\n                </StepperFinalSummary>\n              </slot>\n            </template>\n          </StepperSummary>\n        </v-col>\n      </v-row>\n\n      <ue-modal\n        ref=\"modal\"\n        v-model=\"modalActive\"\n        :width-type=\"'md'\"\n        :description-text=\"modalMessage\"\n        persistent\n      >\n        <template v-slot:body.description>\n          <v-icon size=\"64\" color=\"success\" class=\"mb-4\">mdi-check-circle-outline</v-icon>\n          <h2 class=\"text-h4 mb-4 text-success\">{{ $t('Request Complete') }}</h2>\n          <p class=\"text-subtitle-1 grey--text\">{{ $t('Congratulations! Your PR request is complete.') }}</p>\n        </template>\n        <template v-slot:body.options>\n          <v-btn variant=\"flat\" color=\"success\" @click=\"completed\">\n            {{ $t('Go Back') }}\n          </v-btn>\n        </template>\n      </ue-modal>\n\n    </template>\n\n  </v-stepper>\n</template>\n\n<script>\n  import { toRefs, reactive, ref, computed } from 'vue';\n  import { map, reduce, find, each, filter, get, isEqual } from 'lodash-es';\n\n  import { getModel, handleMultiFormEvents } from '@/utils/getFormData.js'\n\n  import { useInputHandlers, useValidation } from '@/hooks'\n  import api from '@/store/api/form'\n\n\n  import NotationUtil from '@/utils/notation';\n\n  import StepperHeader from './stepper/StepperHeader.vue'\n  import StepperContent from './stepper/StepperContent.vue'\n  import StepperSummary from './stepper/StepperSummary.vue'\n  import StepperPreview from './stepper/StepperPreview.vue'\n  import StepperFinalSummary from './stepper/StepperFinalSummary.vue'\n\n  export default {\n    name: 'StepperForm',\n    components: {\n      StepperHeader,\n      StepperContent,\n      StepperSummary,\n      StepperPreview,\n      StepperFinalSummary\n    },\n    props: {\n      forms: {\n        type: Object,\n        default () {\n          return []\n          // example\n          // [\n          //   title: {stepper_item_title},,\n          //   schema: v-custom-form-base.schema\n          // ]\n        }\n      },\n      actionUrl: {\n        type: String,\n      },\n      modelValue: {\n        type: Object,\n        default: () => {\n          return {\n          }\n        }\n      },\n      redirectUrl: {\n        type: String,\n        default: null\n      },\n      preview: {\n        type: Array,\n        default: []\n      },\n      currentStep: {\n        type: Number,\n        default: 1\n      },\n      cardsNotation: {\n        type: String,\n        default: 'models.1.pressReleasePackages'\n      },\n      summaryNotations: {\n        type: Array,\n        default: () => {\n          return {}\n        }\n      },\n      previewNotations: {\n        type: [Array, Object],\n        default: () => {\n          return []\n        }\n      },\n      isEditing: {\n        type: Boolean,\n        default: false\n      },\n      finalFormTitle: {\n        type: String,\n        default: null\n      },\n      finalFormNotations: {\n        type: Object,\n        default: () => {\n          return {\n            '0.PackageCountry': {\n              pattern: '0.wrap_location.schema.PackageCountry.items.*.package_addons',\n              inputName: 'pressReleasePackageAddons',\n            },\n            '0.PackageRegion': {\n              pattern: '0.wrap_location.schema.PackageRegion.items.*.package_addons',\n              inputName: 'pressReleasePackageAddons',\n            },\n          }\n        }\n      },\n      finalCardShowFields: {\n        type: Array,\n        default: () => {\n          return [\n            ['name', 'description'],\n            ['basePrice_show'],\n          ]\n        }\n      }\n\n    },\n    setup (props, context) {\n      const inputHandlers = useInputHandlers()\n      const validations = useValidation(props)\n\n      const stepperActionRef = ref(null)\n      const loading = ref(false)\n\n      const state = reactive({\n        stepperActionRef,\n        loading,\n      })\n\n      const formRefs = computed(() => map(props.forms, (m,i) => ref(null) ))\n\n      return {\n        ...inputHandlers,\n        ...validations,\n        ...toRefs(state),\n        formRefs,\n      }\n    },\n    data () {\n      return {\n        activeStep: this.currentStep,\n        modalActive: false,\n        modalMessage: '',\n        isCompleted: false,\n\n        schemas: [],\n        models: [],\n        valids: [],\n        lastStepModel: {},\n\n        previewModel: [],\n        pendingHandleFunctions: [],\n      }\n    },\n    methods: {\n      completed(){\n        this.modalActive = false\n        if(this.redirectUrl){\n          window.location.href = this.redirectUrl\n        }\n      },\n      completeForm (){\n        const method = this.payload?.id ? 'put' :'post'\n        const self = this\n\n        this.loading = true\n        // __log(this.payload)\n        // return\n        api[method](this.actionUrl, this.payload, function (response) {\n          self.loading = false\n          self.isCompleted = true\n          self.modalMessage = response.data.message\n          self.modalActive = true\n          // redirector(response.data)\n\n          // if (callback && typeof callback === 'function') callback(response.data)\n        }, function (response) {\n          self.loading = false\n          __log(response)\n          // if (errorCallback && typeof errorCallback === 'function') errorCallback(response.data)\n        })\n        return\n        // const formData = getSubmitFormData(this.rawSchema, this.model, this.$store._state.data)\n        // const method = Object.prototype.hasOwnProperty.call(formData, 'id') ? 'put' : 'post'\n        // const self = this\n\n        api[method](this.actionUrl, formData, function (response) {\n          self.formLoading = false\n          if (Object.prototype.hasOwnProperty.call(response.data, 'errors')) {\n            self.$store.commit(FORM.SET_SERVER_VALID, false)\n\n            self.formErrors = response.data.errors\n          } else if (Object.prototype.hasOwnProperty.call(response.data, 'variant')) {\n            self.$store.commit(FORM.SET_SERVER_VALID, false)\n            self.$store.commit(ALERT.SET_ALERT, { message: response.data.message, variant: response.data.variant })\n          }\n\n          redirector(response.data)\n\n          if (callback && typeof callback === 'function') callback(response.data)\n        }, function (response) {\n          self.formLoading = false\n          if (Object.prototype.hasOwnProperty.call(response.data, 'exception')) {\n            self.$store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be processed.', variant: 'error' })\n          } else {\n            self.$store.dispatch(ACTIONS.HANDLE_ERRORS, response.response.data)\n            self.$store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be validated, please fix and retry', variant: 'error' })\n          }\n\n          if (errorCallback && typeof errorCallback === 'function') errorCallback(response.data)\n        })\n      },\n      isPreviewModelFilled(index){\n        const model = this.previewModel[index] ?? {}\n        let isFilled = false\n\n        for(const name in model){\n          if(!!model){\n            isFilled = true\n            break\n          }\n        }\n\n        return isFilled\n      },\n      handleInput (payload) {\n        const { event, index } = payload\n        const { on, key, obj, value } = event\n        if (on === 'input' && !!key) {\n          // if (!this.serverValid) {\n          //   this.resetSchemaError(key)\n          // }\n          // __log(index, key, obj, v)\n          // this.handleEvent(obj)\n          let availableValue = get(this.models[index], key)\n          if(JSON.stringify(availableValue) !== JSON.stringify(value)){\n            this.pendingHandleFunctions.push((models, schemas, previewModel) => {\n              handleMultiFormEvents(models, schemas, obj.schema, index, previewModel)\n            })\n          }else{\n            handleMultiFormEvents(this.models, this.schemas, obj.schema, index, this.previewModel)\n          }\n\n        }\n      },\n      updateFormValid(payload) {\n        const { event, index } = payload\n        this.valids[index] = event\n      },\n      goStep(step){\n        // all previous steps are valid\n        if(this.valids.slice(0, step-1).every(v => v === true)){\n          this.activeStep = step\n          // __log('goStep', step, this.valids)\n        }\n      },\n      async goNextForm(callback, index) {\n        // __log(this.formRefs[index].value[0].validModel)\n        if(this.formRefs[index].value[0].validModel === true){\n          callback()\n        }else {\n          await this.validateForm(index)\n        }\n        // callback()\n      },\n      async nextForm(index) {\n        if(this.formRefs[index].value[0].validModel === true){\n          this.activeStep += 1\n          // callback()\n        }else if(index < this.forms.length) {\n          await this.validateForm(index)\n        }\n      },\n      async validateForm(i) {\n        const formRef = this.formRefs[i]\n        formRef.value[0].manualValidation = true\n\n        const result = await formRef.value[0].validate()\n        formRef.value[0].manualValidation = false\n\n        return result\n      },\n      handleFinalFormAction(index) {\n        const data = this.previewFormData[index]\n        const fieldArray = this.lastStepModel[data.fieldName];\n\n        // Check if the id exists in the array and toggle it\n        this.lastStepModel[data.fieldName] = fieldArray.includes(data.id)\n          ? fieldArray.filter((id) => id !== data.id)\n          : [...fieldArray, data.id];\n\n        // Force reactivity by creating a new reference\n        this.lastStepModel = { ...this.lastStepModel };\n      },\n    },\n    computed: {\n      disabled () {\n        return this.activeStep === 1 ? 'prev' : this.activeStep === this.forms.length ? 'next' : undefined\n      },\n      previewTitles() {\n        return map(this.models, (model, index) => {\n          let form = this.forms[index]\n          let title = __isset(form['previewTitle']) ? form['previewTitle'] : form['title']\n          let castedTitle = this.$castValueMatch(title, model )\n\n          return castedTitle\n        })\n      },\n      isLastStep(){\n        return this.activeStep > this.forms.length\n      },\n      summaryCardModels(){\n        return __data_get(this, this.cardsNotation, [])\n      },\n      displayInfo(){\n        let data = []\n        for(const index in this.schemas){\n          data[index] = this.$getDisplayData(this.schemas[index], this.models[index])\n        }\n        return data\n      },\n      formattedSummary(){\n        let formatteds = NotationUtil.formattedSummary(this.displayInfo, this.summaryNotations)\n        let previewFormData = this.previewFormData\n        let lastStepModel = this.lastStepModel\n\n        const lastStepSelections = reduce(lastStepModel, function(acc, data, key){\n          let _data = Array.isArray(data) ? data : [data]\n\n          each(_data, (id) => {\n            const selected = find(previewFormData, (item) => item.id === id && item.fieldName === key)\n            if(selected){\n              acc.push(selected)\n            }\n          })\n          return acc\n        }, [])\n\n        if(lastStepSelections.length > 0){\n          formatteds['lastStepSelections'] = {\n            title: this.finalFormTitle,\n            values: map(lastStepSelections, (data) => {\n              return {\n                title: data.name || data.title || 'N/A',\n                value: data.basePrice_show || 'N/A',\n              }\n            }),\n          }\n        }\n\n        return formatteds\n      },\n      formattedPreview(){\n        return NotationUtil.formattedPreview(this.displayInfo, this.previewNotations)\n      },\n      previewFormData (){\n        let data = []\n        for(const modelKey in this.finalFormNotations){\n          let _value = __data_get(this.models, modelKey)\n\n          if(!_value)\n            continue\n\n          let _notation = this.finalFormNotations[modelKey]\n          let fieldName = null\n          let notation = null\n\n          if(__isObject(_notation)){\n            notation = _notation.pattern\n            fieldName = _notation.inputName || _notation.fieldName || notation.split('.').pop()\n          }else{\n            notation = _notation\n            fieldName = notation.split('.').pop()\n          }\n\n          if(notation){\n            notation = __wildcard_change(notation, _value)\n            let dataSet = __data_get(this.schemas, notation, null)\n\n            if(dataSet){\n              const pushRecursively = (item, fieldName) => {\n                if(Array.isArray(item)){\n                  for(const subItem of item){\n                    pushRecursively(subItem, fieldName)\n                  }\n                } else if(typeof item === 'object' && item !== null){\n                  data.push({...item, fieldName, isSelected: false})\n                }\n              }\n              pushRecursively(dataSet, fieldName)\n            }\n          }\n        }\n        return data\n      },\n      payload(){\n        let model = reduce(this.models, function(acc, model, index){\n          return {...acc, ...model}\n        }, {})\n\n        return {\n          ...model,\n          ...this.lastStepModel,\n        }\n      },\n      summaryFormScopes(){\n        return reduce(this.$slots, (acc, slot, slotName) => {\n            if(slotName.match(/summary-form-\\d+/)){\n              acc[slotName] = slot\n            }\n          return acc\n        }, {})\n      }\n    },\n    watch: {\n      schemas: {\n        handler (value, oldValue) {\n          // __log('schemas watch', value, oldValue)\n          // __log(value[0].wrap_location, oldValue[0].wrap_location)\n          // __log('stepperForm schemas watch', value, this.schemas, !isEqual(value, this.schemas))\n          if(!isEqual(value, this.schemas)){\n            // __log('schemas watch', value, this.schemas)\n            this.schemas = value\n          }\n        },\n        deep: true\n      },\n      models: {\n        handler (newVal, oldVal) {\n          if(this.pendingHandleFunctions.length > 0){\n            this.pendingHandleFunctions.forEach((fn) => {\n              if(typeof fn === 'function'){\n                fn(this.models, this.schemas, this.previewModel)\n              }\n            })\n            this.pendingHandleFunctions = []\n          }\n          // __log(value[0].wrap_location, oldValue[0].wrap_location)\n          this.models.forEach((model, index) => {\n            if(!!this.previewModel[index]){\n              Object.keys(this.previewModel[index]).forEach((key) => {\n                if(!this.models[index][key]){\n                  delete this.previewModel[index][key]\n                }\n              })\n            }\n          })\n        },\n        deep: true\n      }\n    },\n    created() {\n      // NotationUtil.test()\n\n      let self = this\n      this.forms.forEach((form, index) => {\n        let schema = form.schema\n\n        let model = getModel(schema, this.modelValue)\n\n        self.models.push(model)\n        self.schemas.push(self.invokeRuleGenerator(schema, model))\n        self.valids.push(null)\n      })\n      this.previewModel = this.preview\n\n      this.lastStepModel = reduce(this.finalFormNotations, (acc, notation, key) => {\n        let fieldName = null\n\n        if(__isObject(notation)){\n          fieldName = notation.inputName || notation.fieldName || notation.pattern.split('.').pop()\n        }else{\n          fieldName = notation.split('.').pop()\n        }\n\n        if(!__isset(acc[fieldName])){\n          acc[fieldName] = []\n        }\n        return acc\n      }, {})\n    }\n  }\n</script>\n\n<style lang=\"sass\">\n\n  .ue-stepper-form\n    &.v-sheet.ue-stepper--no-background\n      background-color: transparent !important\n      color: currentColor !important\n      box-shadow: unset\n      border-radius: 0\n\n      .v-stepper-header, .ue-stepper-form__body\n        background: rgb(var(--v-theme-surface))\n        // box-shadow: 0px 6px 18px 0px rgba(0, 0, 0, 0.06)\n        // border-radius: 8px\n\n      .v-stepper-window\n        margin: 0\n\n    .ue-avatar--border25, .ue-stepper-item__icon--border25 .v-avatar\n      border-radius: 25%\n\n    .ue-stepper-form__preview\n      // height: 100% !important\n\n    .v-card-item, .v-card-text\n      // padding-left: 12 * $spacer\n      // padding-right: 12 * $spacer\n\n    .ue-stepper-form__summary-final\n      // background-color: $stepper-form-summary-final-background\n\n    .ue-stepper-form__preview-bottom\n      display: flex !important\n      flex-direction: row-reverse !important\n      // padding-left: 12 * $spacer\n      // padding-right: 12 * $spacer\n\n    .ue-stepper-form__preview-bottom\n      // padding-top: 12 * $spacer\n    .ue-stepper-form__preview-bottom\n      // padding-bottom: 12 * $spacer\n\n\n\n</style>\n","<template>\n  <v-stepper v-model=\"activeStep\" color=\"prima\" :class=\"['ue-stepper-form','ue-stepper--no-background', 'fill-height  d-flex flex-column']\">\n    <template v-slot:default=\"{ prev, next }\">\n      <v-stepper-header class=\"rounded elevation-2\">\n        <template v-for=\"(form, i) in forms\" :key=\"`stepper-item-${i}`\">\n          <v-stepper-item\n            :complete=\"activeStep > i+1\"\n            :title=\"form.title\"\n            :value=\"i+1\"\n            color=\"primary\"\n            :step=\"`Step {{ n }}`\"\n            complete-icon=\"$complete\"\n            class=\"ue-stepper-item__icon--border25\"\n            >\n            <template v-slot:title=\"titleScope\">\n              <div @click=\"goStep(i+1)\" style=\"cursor: pointer\">\n                <span :class=\"[ (titleScope.hasCompleted || titleScope.step == activeStep) ? 'text-primary font-weight-bold' : '' ]\">{{ titleScope.title }}</span>\n              </div>\n            </template>\n          </v-stepper-item>\n          <!-- <v-divider\n            v-if=\"i+1 !== forms.length\"\n          ></v-divider> -->\n        </template>\n        <v-stepper-item\n            :complete=\"activeStep > forms.length\"\n            title=\"Preview & Summary\"\n            :value=\"forms.length+1\"\n            color=\"primary\"\n            :step=\"`Step Summary`\"\n            complete-icon=\"$complete\"\n            class=\"ue-stepper-item__icon--border25\"\n            >\n            <template v-slot:title=\"titleScope\">\n              <span :class=\"[ (titleScope.hasCompleted || titleScope.step == activeStep) ? 'text-primary font-weight-bold' : '' ]\">{{ titleScope.title }}</span>\n            </template>\n        </v-stepper-item>\n      </v-stepper-header>\n\n      <v-row class=\"mt-4 flex-fill\">\n        <!-- left side -->\n        <v-col cols=\"12\" lg=\"8\" v-fit-grid>\n          <v-sheet-rounded class=\"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2\">\n            <v-stepper-window class=\"fill-height overflow-y-auto px-6\" style=\"max-height: 80vh;\">\n              <v-stepper-window-item\n                v-for=\"(form, i) in forms\"\n                :key=\"`content-${i}`\"\n                :value=\"i+1\"\n                class=\"\"\n              >\n                <ue-form\n                  v-if=\"activeStep > i\"\n                  :ref=\"formRefs[i]\"\n                  :id=\"`stepper-form-${i+1}`\"\n                  :isEditing=\"isEditing\"\n                  v-model=\"models[i]\"\n                  v-model:schema=\"schemas[i]\"\n                  @input=\"handleInput($event, i)\"\n                  @update:valid=\"updateFormValid($event, i)\"\n                  noDefaultFormPadding\n                />\n              </v-stepper-window-item>\n              <v-stepper-window-item\n                :value=\"forms.length +1\"\n                class=\"pt-3\"\n              >\n                <slot name=\"preview\">\n                  <v-sheet class=\"\">\n                    <ue-title weight=\"medium\" color=\"black\" padding=\"a-0\">{{ $t('Preview & Summary').toUpperCase() }}</ue-title>\n                    <v-row>\n                      <template v-for=\"(context, index) in formattedPreview\" :key=\"`summary-${index}`\">\n                        <v-col cols=\"12\" :md=\"context.col || 6\" v-fit-grid>\n                          <ue-configurable-card v-bind=\"context\" elevation=\"2\" class=\"my-2\"/>\n                        </v-col>\n                      </template>\n\n                      <!-- <v-col cols=\"12\">\n                        <ue-configurable-card class=\"my-3\" elevation=\"3\"\n                          align-center-columns-x\n                          justify-center-columns-x\n                          v-bind=\"getPreviewConfigurableData()\"\n                        />\n                      </v-col> -->\n\n                      <v-col cols=\"12\">\n                        <v-sheet class=\"px-4\">\n                          <!-- <div class=\"text-body-1 text-primary font-weight-bold\" margin>{{ finalFormTitle }}</div> -->\n                           <!-- {{ $log(previewFormData) }} -->\n                          <ue-title type=\"body-1\" color=\"primary\" font-weight=\"bold\" padding=\"a-0\" margin=\"y-4\">{{ finalFormTitle }}</ue-title>\n                          <template v-for=\"(data, index) in previewFormData\" :key=\"`final-form-data-${index}`\">\n                            <ue-configurable-card\n                              style=\"background-color: transparent;\"\n                              :class=\"[\n                                lastStepModel[data.fieldName].includes(data.id) ? 'bg-primary' : 'bg-grey-lighten-5'\n                              ]\"\n                              class=\"mx-n4 mb-4 py-4\"\n                              elevation=\"2\"\n                              :items=\"[\n                                [\n                                  data.name || 'N/A ',\n                                  data.description || 'N/A',\n                                ],\n                                data.basePrice_show || 'N/A'\n                              ]\"\n                              :actions=\"[\n                                {\n                                  // icon: 'mdi-plus',\n                                  // color: 'primary',\n                                  // class: 'rounded-circle',\n                                  onClick: () => {\n                                    // console.log('clicked', lastStepModel);\n                                  }\n                                }\n                              ]\"\n                              hide-separator\n                              align-center-columns\n                              justify-center-columns\n                              :column-styles=\"{\n                                1: 'flex-basis: 50%;',\n                                2: 'flex-grow: 1; display: flex; justify-content: center; align-items: center;',\n                                3: 'flex-grow: 1; display: flex; align-items: end;',\n                              }\"\n                            >\n                              <template\n                                #[`segment.1`]=\"segmentScope\"\n                                >\n                                <div class=\"text-body-2 font-weight-medium mb-1\">{{ segmentScope.data[0] }}</div>\n                                <div class=\"text-caption\">{{ segmentScope.data[1] }}</div>\n                              </template>\n                              <template\n                                #[`segment.2`]=\"segmentScope\"\n                                >\n                                <div class=\"text-body-2 font-weight-medium py-auto\">{{ segmentScope.data }}</div>\n                              </template>\n                              <template\n                                #[`segment.actions`]=\"segmentScope\"\n                                >\n\n                                <div class=\"d-flex fill-height justify-space-evenly align-content-md-center\">\n                                  <v-divider v-if=\"$vuetify.display.lgAndUp ? true : false\" vertical></v-divider>\n                                  <v-btn\n                                    class=\"mx-1 rounded-circle\"\n                                    :min-width=\"segmentScope.actionProps.actionIconMinHeight\"\n                                    :min-height=\"segmentScope.actionProps.actionIconMinHeight\"\n                                    :size=\"segmentScope.actionProps.actionIconSize\"\n                                    :icon=\"lastStepModel[data.fieldName].includes(data.id) ? 'mdi-minus' : 'mdi-plus'\"\n                                    :color=\"lastStepModel[data.fieldName].includes(data.id) ? 'grey' : 'primary'\"\n                                    @click=\"handleFinalFormAction(index)\"\n                                  />\n                                </div>\n                              </template>\n                            </ue-configurable-card>\n                          </template>\n                          <template v-for=\"(addon, index) in [\n                              {\n                                id: 1,\n                                title: 'Lorem Ipsum Dolor',\n                                description: 'At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.',\n                                price: 50\n                              },\n                              {\n                                id: 2,\n                                title: 'Lorem Ipsum Dolor',\n                                description: 'At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.',\n                                price: 50\n                              }\n                            ]\"\n                            :key=\"addon.id\"\n                            :title=\"addon.title\"\n                          >\n                            <!-- <ue-configurable-card\n                              :items=\"[\n                                [\n                                  addon.title,\n                                ],\n                                addon.price\n                              ]\"\n                            /> -->\n                            <v-card\n                              v-if=\"false\"\n                              elevation=\"2\"\n                              class=\"addon-card pa-4\"\n                              :class=\"{ 'addon-card--selected': selected }\"\n                            >\n                              <v-row align=\"center\" no-gutters>\n                                <v-col cols=\"8\">\n                                  <div class=\"text-h6 mb-2\">{{ addon.title }}</div>\n                                  <div class=\"text-body-2 text-grey-darken-1\">{{ addon.description }}</div>\n                                </v-col>\n\n                                <v-col cols=\"2\" class=\"text-h4 text-center\">\n                                  ${{ addon.price }}\n                                </v-col>\n\n                                <v-col cols=\"2\" class=\"d-flex justify-center\">\n                                  <v-btn\n                                    icon\n                                    size=\"large\"\n                                    @click=\"$emit('toggle')\"\n                                  >\n                                  <!-- :color=\"selected ? 'primary' : 'grey'\"\n                                  :variant=\"selected ? 'flat' : 'outlined'\" -->\n                                    <v-icon>{{ selected ? 'mdi-minus' : 'mdi-plus' }}</v-icon>\n                                  </v-btn>\n                                </v-col>\n                              </v-row>\n                            </v-card>\n                          </template>\n                        </v-sheet>\n\n                      </v-col>\n                    </v-row>\n                  </v-sheet>\n                </slot>\n              </v-stepper-window-item>\n            </v-stepper-window>\n\n            <v-stepper-actions\n              v-if=\"false\"\n              ref=\"stepperActionRef\"\n              :disabled=\"disabled\"\n              @click:next=\"next\"\n              @click:prev=\"prev\"\n              >\n              <template v-slot:next=\"nextScope\">\n                <!-- :disabled=\"!valids[activeStep-1]\" -->\n                <!-- <v-btn-secondary\n\n                  @click=\"goNextForm(nextScope.props.onClick, activeStep-1)\"\n                  >\n                  {{ $t('fields.save').toUpperCase() }}\n                </v-btn-secondary> -->\n              </template>\n            </v-stepper-actions>\n          </v-sheet-rounded>\n        </v-col>\n\n        <!-- right side -->\n        <v-col cols=\"12\" lg=\"4\">\n          <slot name=\"summary\">\n            <v-sheet-rounded class=\"d-flex flex-column fill-height pa-6 elevation-2\"\n              :style=\"[isLastStep ? '' : '']\"\n              :class=\"[isLastStep ? 'pa-6 bg-primary-darken-2' : '']\"\n              >\n              <template v-if=\"!isLastStep\">\n                <slot name=\"summary.forms\">\n                  <v-sheet class=\"ue-stepper-form__preview fill-height\">\n                    <template\n                      v-for=\"(form, i) in forms\"\n                      :key=\"`stepper-summary-item-${i}`\"\n                      >\n                      <slot\n                        :name=\"`summary-form-${i+1}`\"\n                        v-bind=\"{\n                          index: i,\n                          order: i+1,\n                          title: previewTitles[i],\n                          isPreviewModelFilled: isPreviewModelFilled,\n                          model: models[i],\n                          schema: schemas[i],\n                          previewModel: previewModel[i] ?? {},\n                          // previewModels: previewModel,\n\n                        }\"\n                      >\n                        <v-divider v-if=\"isPreviewModelFilled(i) && i !== 0\" class=\"mb-6\"/>\n                        <div v-if=\"isPreviewModelFilled(i)\" class=\"mb-6\">\n                          <!-- Step title -->\n                          <div class=\"d-inline-flex align-center text-body-2\" style=\"line-height: 1;\">\n                            <v-avatar variant=\"flat\" color=\"primary\" class=\"ue-avatar--border25\" style=\"width: 24px; height: 24px; margin-inline-end: 8px;\">{{ i + 1 }}</v-avatar>\n                            <span class=\"font-weight-bold text-primary\"> {{ $t('fields.step') }} {{ i + 1 }}</span>\n                          </div>\n                          <!-- Secondary title -->\n                          <div class=\"text-body-1 font-weight-bold text-truncate mb-5\">\n                              {{ previewTitles[i] }}\n                          </div>\n\n                          <!-- Step body -->\n                          <template v-for=\"(val, inputName) in previewModel[i]\" :key=\"`stepper-preview-item-subtitle-${inputName}`\">\n                            <template v-for=\"(context, key) in previewModel[i][inputName]\" :key=\"`stepper-preview-item-subtitle-${inputName}-${i}`\">\n                              <template v-if=\"Array.isArray(context)\">\n                                <div class=\"\">\n                                  <span class='text-primary font-weight-bold' style=\"margin-inline-end: 8px;\">{{ window.__isObject(previewModel[i][inputName]) ? key : context[0] }}:</span>\n                                  <span v-for=\"(text) in ( window.__isObject(previewModel[i][inputName]) ? context : context.slice(1))\" :key=\"`stepper-preview-item-subtitle-${inputName}-${i}-${inputName}-${key}`\" style=\"margin-inline-end: 8px;\">\n                                    {{ text }}\n                                  </span>\n                                </div>\n                              </template>\n                              <v-btn v-else readonly active-color=\"black\" color=\"black\" variant=\"outlined\" style=\"margin-inline-end: 8px;\">{{context}}</v-btn>\n                            </template>\n                          </template>\n                        </div>\n                      </slot>\n                    </template>\n                  </v-sheet>\n\n\n                  <v-spacer></v-spacer>\n\n                  <v-sheet class=\"ue-stepper-form__preview-bottom\">\n                    <v-btn-secondary class=\"v-stepper-form__nextButton\"\n                      density=\"comfortable\"\n                      :disabled=\"$hasRequestInProgress()\"\n                      @click=\"nextForm(activeStep-1)\"\n                      >\n                      {{ $t('next').toUpperCase() }}\n                    </v-btn-secondary>\n                  </v-sheet>\n                </slot>\n              </template>\n              <template v-else>\n                <slot name=\"summary.final\"\n                  v-bind=\"{\n                    model: models,\n                    schema: schemas,\n                    previewModel: previewModel,\n                    completeForm: completeForm,\n                  }\"\n                >\n                  <v-sheet class=\"bg-primary-darken-2\">\n                    <ue-title justify=\"center\" color=\"white\" :text=\"$t('Total Amount').toUpperCase()\" type=\"h5\" />\n                    <v-divider/>\n\n                    <template v-for=\"(sample, index) in formattedSummary\">\n                      <ue-title :text=\"sample.title\" transform=\"capitalize\" type=\"h6\" color=\"white\" padding=\"x-6\" margin=\"t-6\" class=\"mx-n6 py-3 bg-primary-darken-1\" />\n                      <v-table class=\"bg-transparent my-3\">\n                        <tbody>\n                          <template v-for=\"(value, index) in sample.values\">\n                            <tr class=\"py-0\">\n                              <td class=\"border-0 h-auto py-1 pl-0 text-body-1\">{{ value.parentTitle || value.title || 'N/A' }}</td>\n                              <td class=\"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1\">{{ value.value || 'N/A' }}</td>\n                            </tr>\n                          </template>\n                        </tbody>\n                      </v-table>\n                    </template>\n                  </v-sheet>\n\n                  <v-spacer></v-spacer>\n\n                  <v-divider></v-divider>\n\n                  <!-- Total -->\n                  <v-table class=\"bg-transparent my-3\">\n                    <tbody>\n                      <tr class=\"py-0\">\n                        <td class=\"border-0 h-auto py-1 pl-0 text-h5\">{{ $t('Total').toUpperCase() }}</td>\n                        <td class=\"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold\">\n                          <slot name=\"final.total\" v-bind=\"{payload: this.payload}\">\n                            <ue-text-display class=\"text-h5\" :text=\"`$2500`\" subText=\"+ VAT\" />\n                          </slot>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </v-table>\n\n                  <!-- Description -->\n                  <div class=\"text-caption text-grey mb-6\">\n                    <slot name=\"final.description\">\n                      At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio\n                    </slot>\n                  </div>\n\n                  <v-sheet class=\"pb-0 px-0 ue-stepper-form__preview-bottom\" style=\"background-color: #005868;\">\n                    <v-btn-secondary class=\"v-stepper-form__nextButton\"\n                      block\n                      :disabled=\"loading || isCompleted\"\n                      :loading=\"loading\"\n                      @click=\"completeForm\"\n                      >\n                      {{ $t('Complete').toUpperCase() }}\n                    </v-btn-secondary>\n                  </v-sheet>\n                  <!-- <v-sheet class=\"v-stepper-form-preview fill-height rounded-0\" style=\"background-color: #005868;\">\n                  </v-sheet> -->\n                </slot>\n              </template>\n            </v-sheet-rounded>\n          </slot>\n        </v-col>\n\n      </v-row>\n\n      <ue-modal\n        ref=\"modal\"\n        v-model=\"modalActive\"\n        :width-type=\"'lg'\"\n        cancel-text=\"$t('Cancel')\"\n        confirm-text=\"$t('Cancel')\"\n        :description-text=\"modalMessage\"\n      >\n        <template v-slot:body.options>\n          <v-btn variant=\"outlined\" color=\"primary\" @click=\"completed\">\n            {{ $t('Ok') }}\n          </v-btn>\n        </template>\n      </ue-modal>\n\n    </template>\n\n  </v-stepper>\n</template>\n\n<script>\n  import { toRefs, reactive, ref, computed } from 'vue';\n  import { map, reduce, find, each } from 'lodash-es';\n\n  import { getModel, handleEvents, handleMultiFormEvents } from '@/utils/getFormData.js'\n\n  import { useInputHandlers, useValidation } from '@/hooks'\n  import api from '@/store/api/form'\n\n\n  import NotationUtil from '@/utils/notation';\n  import notation from '../utils/notation';\n\n  export default {\n    props: {\n      forms: {\n        type: Object,\n        default () {\n          return []\n          // example\n          // [\n          //   title: {stepper_item_title},,\n          //   schema: v-custom-form-base.schema\n          // ]\n        }\n      },\n      actionUrl: {\n        type: String,\n      },\n      modelValue: {\n        type: Object,\n        default: () => {\n          return {\n          }\n        }\n      },\n      redirectUrl: {\n        type: String,\n        default: null\n      },\n      preview: {\n        type: Array,\n        default: []\n      },\n      currentStep: {\n        type: Number,\n        default: 1\n      },\n      cardsNotation: {\n        type: String,\n        default: 'models.1.pressReleasePackages'\n      },\n      summaryNotations: {\n        type: Array,\n        default: () => {\n          return {}\n        }\n      },\n      previewNotations: {\n        type: [Array, Object],\n        default: () => {\n          return []\n        }\n      },\n      isEditing: {\n        type: Boolean,\n        default: false\n      },\n      finalFormTitle: {\n        type: String,\n        default: null\n      },\n      finalFormNotations: {\n        type: Object,\n        default: () => {\n          return {\n            '0.PackageCountry': {\n              pattern: '0.wrap_location.schema.PackageCountry.items.*.package_addons',\n              inputName: 'pressReleasePackageAddons',\n            },\n            '0.PackageRegion': {\n              pattern: '0.wrap_location.schema.PackageRegion.items.*.package_addons',\n              inputName: 'pressReleasePackageAddons',\n            },\n          }\n        }\n      },\n      finalCardShowFields: {\n        type: Array,\n        default: () => {\n          return [\n            ['name', 'description'],\n            ['basePrice_show'],\n          ]\n        }\n      }\n\n    },\n    setup (props, context) {\n      const inputHandlers = useInputHandlers()\n      const validations = useValidation(props)\n\n      const stepperActionRef = ref(null)\n      const loading = ref(false)\n\n      const state = reactive({\n        stepperActionRef,\n        loading,\n      })\n\n      const formRefs = computed(() => map(props.forms, (m,i) => ref(null) ))\n\n      return {\n        ...inputHandlers,\n        ...validations,\n        ...toRefs(state),\n        formRefs,\n      }\n    },\n    data () {\n      return {\n        activeStep: this.currentStep,\n        modalActive: false,\n        modalMessage: '',\n        isCompleted: false,\n\n        schemas: [],\n        models: [],\n        valids: [],\n        lastStepModel: {},\n\n        previewModel: [],\n      }\n    },\n    methods: {\n      completed(){\n        this.modalActive = false\n        if(this.redirectUrl){\n          window.location.href = this.redirectUrl\n        }\n      },\n      completeForm (){\n        const method = this.payload?.id ? 'put' :'post'\n        const self = this\n\n        // __log(JSON.stringify(this.schemas, null, 2))\n        // __log(JSON.stringify(this.models, null, 2))\n        // __log(JSON.stringify(this.displayInfo, null, 2))\n        // __log(JSON.stringify(this.previewModel, null, 2))\n        // __log(formData)\n\n        this.loading = true\n        // __log(this.payload)\n        // return\n        api[method](this.actionUrl, this.payload, function (response) {\n          self.loading = false\n          self.isCompleted = true\n          self.modalMessage = response.data.message\n          self.modalActive = true\n          // redirector(response.data)\n\n          // if (callback && typeof callback === 'function') callback(response.data)\n        }, function (response) {\n          self.loading = false\n          __log(response)\n          // if (errorCallback && typeof errorCallback === 'function') errorCallback(response.data)\n        })\n        return\n        // const formData = getSubmitFormData(this.rawSchema, this.model, this.$store._state.data)\n        // const method = Object.prototype.hasOwnProperty.call(formData, 'id') ? 'put' : 'post'\n        // const self = this\n\n        api[method](this.actionUrl, formData, function (response) {\n          self.formLoading = false\n          if (Object.prototype.hasOwnProperty.call(response.data, 'errors')) {\n            self.$store.commit(FORM.SET_SERVER_VALID, false)\n\n            self.formErrors = response.data.errors\n          } else if (Object.prototype.hasOwnProperty.call(response.data, 'variant')) {\n            self.$store.commit(FORM.SET_SERVER_VALID, false)\n            self.$store.commit(ALERT.SET_ALERT, { message: response.data.message, variant: response.data.variant })\n          }\n\n          redirector(response.data)\n\n          if (callback && typeof callback === 'function') callback(response.data)\n        }, function (response) {\n          self.formLoading = false\n          if (Object.prototype.hasOwnProperty.call(response.data, 'exception')) {\n            self.$store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be processed.', variant: 'error' })\n          } else {\n            self.$store.dispatch(ACTIONS.HANDLE_ERRORS, response.response.data)\n            self.$store.commit(ALERT.SET_ALERT, { message: 'Your submission could not be validated, please fix and retry', variant: 'error' })\n          }\n\n          if (errorCallback && typeof errorCallback === 'function') errorCallback(response.data)\n        })\n      },\n      isPreviewModelFilled(index){\n        const model = this.previewModel[index] ?? {}\n        let isFilled = false\n\n        for(const name in model){\n          if(!!model){\n            isFilled = true\n            break\n          }\n        }\n\n        return isFilled\n      },\n      handleInput (v, index) {\n        const { on, key, obj } = v\n\n        if (on === 'input' && !!key) {\n          // if (!this.serverValid) {\n          //   this.resetSchemaError(key)\n          // }\n          // __log(index, key, obj, v)\n          // this.handleEvent(obj)\n          handleMultiFormEvents(this.models, this.schemas, obj.schema, index, this.previewModel)\n          // __log(\n          //   'StepperForm previewData',\n          //   this.previewModel,\n          // )\n        }\n      },\n      updateFormValid(val, index) {\n        this.valids[index] = val\n        // __log('valid changed', index, val, this.valids)\n      },\n      goStep(step){\n        // all previous steps are valid\n        if(this.valids.slice(0, step-1).every(v => v === true)){\n          this.activeStep = step\n          // __log('goStep', step, this.valids)\n        }\n      },\n      async goNextForm(callback, index) {\n        // __log(this.formRefs[index].value[0].validModel)\n        if(this.formRefs[index].value[0].validModel === true){\n          callback()\n        }else {\n          await this.validateForm(index)\n        }\n        // callback()\n      },\n      async nextForm(index) {\n\n        if(this.formRefs[index].value[0].validModel === true){\n          this.activeStep += 1\n          // callback()\n        }else if(index < this.forms.length) {\n          await this.validateForm(index)\n        }\n      },\n      async validateForm(i) {\n        const formRef = this.formRefs[i]\n        formRef.value[0].manualValidation = true\n\n        const result = await formRef.value[0].validate()\n        formRef.value[0].manualValidation = false\n\n        return result\n      },\n      handleFinalFormAction(index) {\n        const data = this.previewFormData[index]\n        const fieldArray = this.lastStepModel[data.fieldName];\n\n        // Check if the id exists in the array and toggle it\n        this.lastStepModel[data.fieldName] = fieldArray.includes(data.id)\n          ? fieldArray.filter((id) => id !== data.id)\n          : [...fieldArray, data.id];\n\n        // Force reactivity by creating a new reference\n        this.lastStepModel = { ...this.lastStepModel };\n      }\n    },\n    computed: {\n      disabled () {\n        return this.activeStep === 1 ? 'prev' : this.activeStep === this.forms.length ? 'next' : undefined\n      },\n      previewTitles() {\n        return map(this.models, (model, index) => {\n          let form = this.forms[index]\n          let title = __isset(form['previewTitle']) ? form['previewTitle'] : form['title']\n          let castedTitle = this.$castValueMatch(title, model )\n\n          return castedTitle\n        })\n      },\n      isLastStep(){\n        return this.activeStep > this.forms.length\n      },\n      summaryCardModels(){\n        return __data_get(this, this.cardsNotation, [])\n      },\n      displayInfo(){\n        let data = []\n        for(const index in this.schemas){\n          data[index] = this.$getDisplayData(this.schemas[index], this.models[index])\n        }\n        return data\n      },\n      formattedSummary(){\n        let formatteds = NotationUtil.formattedSummary(this.displayInfo, this.summaryNotations)\n        let previewFormData = this.previewFormData\n        let lastStepModel = this.lastStepModel\n\n        const lastStepSelections = reduce(lastStepModel, function(acc, data, key){\n          let _data = Array.isArray(data) ? data : [data]\n\n          each(_data, (id) => {\n            const selected = find(previewFormData, (item) => item.id === id && item.fieldName === key)\n            if(selected){\n              acc.push(selected)\n            }\n          })\n          return acc\n        }, [])\n\n        if(lastStepSelections.length > 0){\n          formatteds['lastStepSelections'] = {\n            title: this.finalFormTitle,\n            values: map(lastStepSelections, (data) => {\n              return {\n                title: data.name || data.title || 'N/A',\n                value: data.basePrice_show || 'N/A',\n              }\n            }),\n          }\n        }\n\n        return formatteds\n      },\n      formattedPreview(){\n        return NotationUtil.formattedPreview(this.displayInfo, this.previewNotations)\n      },\n      previewFormData (){\n        let data = []\n        for(const modelKey in this.finalFormNotations){\n          let _value = __data_get(this.models, modelKey)\n\n          if(!_value)\n            continue\n\n          let _notation = this.finalFormNotations[modelKey]\n          let fieldName = null\n          let notation = null\n\n          if(__isObject(_notation)){\n            notation = _notation.pattern\n            fieldName = _notation.inputName || _notation.fieldName || notation.split('.').pop()\n          }else{\n            notation = _notation\n            fieldName = notation.split('.').pop()\n          }\n\n          __log(_notation, notation, fieldName)\n          if(notation){\n            notation = __wildcard_change(notation, _value)\n            let dataSet = __data_get(this.schemas, notation, null)\n\n            if(dataSet){\n              const pushRecursively = (item, fieldName) => {\n                if(Array.isArray(item)){\n                  for(const subItem of item){\n                    pushRecursively(subItem, fieldName)\n                  }\n                } else if(typeof item === 'object' && item !== null){\n                  data.push({...item, fieldName, isSelected: false})\n                }\n              }\n              pushRecursively(dataSet, fieldName)\n            }\n          }\n        }\n        return data\n      },\n      payload(){\n        let model = reduce(this.models, function(acc, model, index){\n          return {...acc, ...model}\n        }, {})\n\n        return {\n          ...model,\n          ...this.lastStepModel,\n        }\n      }\n    },\n    watch: {\n      schemas: {\n        handler (value, oldValue) {\n          // __log(value[0].wrap_location, oldValue[0].wrap_location)\n          // __log('schemas watch', value, oldValue)\n        },\n        deep: true\n      },\n      models: {\n        handler (value, oldValue) {\n          // __log(value[0].wrap_location, oldValue[0].wrap_location)\n          // __log('models watcher')\n          this.models.forEach((model, index) => {\n            if(!!this.previewModel[index]){\n              Object.keys(this.previewModel[index]).forEach((key) => {\n                if(!this.models[index][key]){\n                  delete this.previewModel[index][key]\n                }\n              })\n            }\n          })\n        },\n        deep: true\n      }\n    },\n    created() {\n      // NotationUtil.test()\n\n      let self = this\n      this.forms.forEach((form, index) => {\n        let schema = form.schema\n\n        let model = getModel(schema, this.modelValue)\n\n        self.models.push(model)\n        self.schemas.push(self.invokeRuleGenerator(schema, model))\n        self.valids.push(null)\n      })\n      this.previewModel = this.preview\n\n      this.lastStepModel = reduce(this.finalFormNotations, (acc, notation, key) => {\n        let fieldName = null\n\n        if(__isObject(notation)){\n          fieldName = notation.inputName || notation.fieldName || notation.pattern.split('.').pop()\n        }else{\n          fieldName = notation.split('.').pop()\n        }\n\n        if(!__isset(acc[fieldName])){\n          acc[fieldName] = []\n        }\n        return acc\n      }, {})\n    }\n  }\n</script>\n\n<style lang=\"sass\">\n\n  .ue-stepper-form\n    &.v-sheet.ue-stepper--no-background\n      background-color: transparent !important\n      color: currentColor !important\n      box-shadow: unset\n      border-radius: 0\n\n      .v-stepper-header, .ue-stepper-form__body\n        background: rgb(var(--v-theme-surface))\n        // box-shadow: 0px 6px 18px 0px rgba(0, 0, 0, 0.06)\n        // border-radius: 8px\n\n      .v-stepper-window\n        margin: 0\n\n    .ue-avatar--border25, .ue-stepper-item__icon--border25 .v-avatar\n      border-radius: 25%\n\n    .ue-stepper-form__preview\n      // height: 100% !important\n\n    .v-card-item, .v-card-text\n      // padding-left: 12 * $spacer\n      // padding-right: 12 * $spacer\n\n    .ue-stepper-form__summary-final\n      // background-color: $stepper-form-summary-final-background\n\n    .ue-stepper-form__preview-bottom\n      display: flex !important\n      flex-direction: row-reverse !important\n      // padding-left: 12 * $spacer\n      // padding-right: 12 * $spacer\n\n    .ue-stepper-form__preview-bottom\n      // padding-top: 12 * $spacer\n    .ue-stepper-form__preview-bottom\n      // padding-bottom: 12 * $spacer\n\n\n\n</style>\n","<template>\n  <v-container class=\"fill-height\">\n    <v-row justify=\"center\" align=\"center\">\n      <v-col cols=\"12\" sm=\"12\" md=\"12\" lg=\"12\" class=\"text-center\">\n        <v-card flat class=\"bg-transparent\">\n          <v-card-item>\n            <v-icon\n              icon=\"mdi-check-circle\"\n              color=\"success\"\n              size=\"64\"\n              class=\"mb-4\"\n            ></v-icon>\n            <h1 class=\"text-h4 mb-2 text-success\">{{ title }}</h1>\n            <p class=\"text-body-1 text-medium-emphasis mb-6\">\n              {{ description }}\n            </p>\n            <v-btn\n              color=\"success\"\n              class=\"mt-10\"\n              :href=\"button_url\"\n              min-width=\"200\"\n              density=\"default\"\n\n            >\n              {{ button_text }}\n            </v-btn>\n          </v-card-item>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'UeSuccess',\n\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    },\n    button_text: {\n      type: String,\n      required: true\n    },\n    button_url: {\n      type: String,\n      required: true\n    }\n  },\n\n  setup(props) {\n    // You can access props directly here if needed\n    // Example:\n    // const formattedTitle = computed(() => props.title.toUpperCase())\n    // console.log(props.button_text)\n    return {\n      // Return computed properties or methods if needed\n    }\n  }\n})\n</script>\n","<template>\n  <div :style=\"style\">\n    <span v-svg :symbol=\"symbol\"></span>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\n\nexport default {\n  props: {\n    symbol: {\n      type: String,\n      required: true\n    },\n    height: {\n      type: String\n    },\n    width: {\n      type: String\n\n    },\n    style: {\n      type: String,\n      default : \"\"\n    }\n  },\n  setup(props) {\n    const symbol = computed(() => {\n      if (props.symbol) {\n        // console.log(props.symbol)\n        return props.symbol\n      }\n    })\n    const style = computed(() => {\n      if(props.height || props.width){\n        return \"height:\" + props.height + \"px;\" + \"width:\" + props.width + \"px;\"\n      }\n    })\n    // You can add any additional logic here if needed\n    return {\n      symbol,\n      style\n    }\n  }\n}\n</script>\n\n<style>\n\ndiv span svg{\n  max-width: 100%;\n  max-height: 100%;\n}\ndiv.center-image span{\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n\n</style>\n","<template>\n  <v-sheet class=\"fill-height\">\n    <ue-title :text=\"moduleTitle\" :classes=\"[]\"></ue-title>\n    <ue-tabs :items=\"groupedItems\" v-model=\"activeTab\">\n      <template v-for=\"(_, name) in $slots\" v-slot:[name]=\"slotData\"><slot :name=\"name\" v-bind=\"slotData\"></slot></template>\n    </ue-tabs>\n  </v-sheet>\n</template>\n<script>\n  import {\n    makeModuleProps,\n    useModule,\n  } from '@/hooks'\n\n  import api from '@/store/api/datatable'\n\n  import { replaceState, getURLWithoutQuery, getParameters, addParametersToUrl} from '@/utils/pushState.js'\n\n  export default {\n    name: 'ue-tab-groups',\n    props: {\n      ...makeModuleProps(),\n      groupKey: {\n        type: String,\n        required: true\n      },\n      noAllGroup: {\n        type: Boolean,\n        default: false\n      },\n      items: {\n        type: Array,\n        default: []\n      },\n      groupedTestItems: {\n        type: Object,\n        default: () => {\n          return {\n            'Hepsi': [\n              {id: 1, name: 'Deneme', description: 'Description 1'},\n              {id: 2, name: 'Deneme 2', description: 'Description 2'},\n              {id: 3, name: 'Yayın 3', description: 'Description 3'},\n              {id: 4, name: 'Yayın 4', description: 'Description 4'},\n            ],\n            'Deneme': [\n              {id: 2, name: 'Deneme 2', description: 'Description 2'},\n            ],\n            'Yayın': [\n              {id: 3, name: 'Yayın 3', description: 'Description 3'},\n              {id: 4, name: 'Yayın 4', description: 'Description 4'},\n            ]\n          }\n        }\n      },\n      search: {\n        type: String,\n        default: ''\n      }\n    },\n    setup (props, context) {\n\n      return {\n        ...useModule(props, context),\n      }\n    },\n    data () {\n      return {\n        searchInput: this.search,\n        activeTab: Object.keys(this.groupedItems ?? {})[0] ?? 0\n      }\n    },\n    computed: {\n      groupedItems() {\n        let allKey = this.$t('All')\n        let grouped = {}\n\n        if(!this.noAllGroup)\n          grouped[allKey] = []\n\n        return this.elements.reduce((acc, item, key) => {\n          if(!this.noAllGroup)\n            acc[allKey].push(item)\n          const groupKeys = __data_get(item, this.groupKey)\n\n          if(Array.isArray(groupKeys)){\n            for(const groupKey of groupKeys){\n              acc[groupKey] ??= []\n              acc[groupKey].push(item)\n            }\n          }else if(__isString(groupKeys)){\n            acc[groupKeys] ??= []\n            acc[groupKeys].push(item)\n          }\n\n          return acc\n        }, grouped)\n      },\n      // search: {\n      //   get () {\n      //     __log('getter')\n      //     return ''\n      //   },\n      //   set (val) {\n      //     __log('setter', val)\n      //     this.loadItems({replaceUrl: false, search: val})\n      //     // store.commit(DATATABLE.UPDATE_DATATABLE_SEARCH, val)\n      //     // store.dispatch(ACTIONS.GET_DATATABLE)\n      //   }\n      // },\n    },\n    watch: {\n\n    },\n    methods: {\n      loadItems(options = {}){\n        let self = this\n        // state.loading = true\n        options = {\n          ...(this.searchModel !== '' ? {  search: this.searchModel } : {}),\n          ...options\n        }\n\n        api.get(this.endpoints.index, options, function(response, _raw){\n          const parameters = getParameters(_raw.request.responseURL)\n          self.elements = response.resource.data\n          replaceState(addParametersToUrl(getURLWithoutQuery(), parameters))\n        })\n      },\n      enterSearch() {\n        if(this.searchModel !== this.searchInput){\n          this.searchModel = this.searchInput\n          this.loadItems({replaceUrl: false})\n        }\n      }\n    },\n    created(){\n      this.searchModel = this.searchInput\n      this.loadItems({replaceUrl: false})\n    }\n  }\n</script>\n\n<style lang=\"sass\">\n\n</style>\n","<template>\n  <v-sheet class=\"fill-height\">\n    <ue-title :text=\"moduleTitle\" :classes=\"[]\"></ue-title>\n    <ue-tabs-previous :items=\"groupedItems\" v-model=\"activeTab\">\n      <template v-for=\"(_, name) in $slots\" v-slot:[name]=\"slotData\"><slot :name=\"name\" v-bind=\"slotData\"></slot></template>\n    </ue-tabs-previous>\n  </v-sheet>\n</template>\n<script>\n  import {\n    makeModuleProps,\n    useModule,\n  } from '@/hooks'\n\n  import api from '@/store/api/datatable'\n\n  import { replaceState, getURLWithoutQuery, getParameters, addParametersToUrl} from '@/utils/pushState.js'\n\n  export default {\n    name: 'ue-tab-groups',\n    props: {\n      ...makeModuleProps(),\n      groupKey: {\n        type: String,\n        required: true\n      },\n      noAllGroup: {\n        type: Boolean,\n        default: false\n      },\n      items: {\n        type: Array,\n        default: []\n      },\n      groupedTestItems: {\n        type: Object,\n        default: () => {\n          return {\n            'Hepsi': [\n              {id: 1, name: 'Deneme', description: 'Description 1'},\n              {id: 2, name: 'Deneme 2', description: 'Description 2'},\n              {id: 3, name: 'Yayın 3', description: 'Description 3'},\n              {id: 4, name: 'Yayın 4', description: 'Description 4'},\n            ],\n            'Deneme': [\n              {id: 2, name: 'Deneme 2', description: 'Description 2'},\n            ],\n            'Yayın': [\n              {id: 3, name: 'Yayın 3', description: 'Description 3'},\n              {id: 4, name: 'Yayın 4', description: 'Description 4'},\n            ]\n          }\n        }\n      },\n      search: {\n        type: String,\n        default: ''\n      }\n    },\n    setup (props, context) {\n\n      return {\n        ...useModule(props, context),\n      }\n    },\n    data () {\n      return {\n        searchInput: this.search,\n        activeTab: Object.keys(this.groupedItems ?? {})[0] ?? 0\n      }\n    },\n    computed: {\n      groupedItems() {\n        let allKey = this.$t('All')\n        let grouped = {}\n\n        if(!this.noAllGroup)\n          grouped[allKey] = []\n\n        return this.elements.reduce((acc, item, key) => {\n          if(!this.noAllGroup)\n            acc[allKey].push(item)\n          const groupKeys = __data_get(item, this.groupKey)\n\n          if(Array.isArray(groupKeys)){\n            for(const groupKey of groupKeys){\n              acc[groupKey] ??= []\n              acc[groupKey].push(item)\n            }\n          }else if(__isString(groupKeys)){\n            acc[groupKeys] ??= []\n            acc[groupKeys].push(item)\n          }\n\n          return acc\n        }, grouped)\n      },\n      // search: {\n      //   get () {\n      //     __log('getter')\n      //     return ''\n      //   },\n      //   set (val) {\n      //     __log('setter', val)\n      //     this.loadItems({replaceUrl: false, search: val})\n      //     // store.commit(DATATABLE.UPDATE_DATATABLE_SEARCH, val)\n      //     // store.dispatch(ACTIONS.GET_DATATABLE)\n      //   }\n      // },\n    },\n    watch: {\n\n    },\n    methods: {\n      loadItems(options = {}){\n        let self = this\n        // state.loading = true\n        options = {\n          ...(this.searchModel !== '' ? {  search: this.searchModel } : {}),\n          ...options\n        }\n\n        api.get(this.endpoints.index, options, function(response, _raw){\n          const parameters = getParameters(_raw.request.responseURL)\n          self.elements = response.resource.data\n          replaceState(addParametersToUrl(getURLWithoutQuery(), parameters))\n        })\n      },\n      enterSearch() {\n        if(this.searchModel !== this.searchInput){\n          this.searchModel = this.searchInput\n          this.loadItems({replaceUrl: false})\n        }\n      }\n    },\n    created(){\n      this.searchModel = this.searchInput\n      this.loadItems({replaceUrl: false})\n    }\n  }\n</script>\n\n<style lang=\"sass\">\n\n</style>\n","<template>\n  <div>\n    <ue-modal\n      ref=\"customModal\"\n      v-model=\"modalActive\"\n      scrollable\n      transition=\"dialog-bottom-transition\"\n      width-type=\"md\"\n      @click:outside=\"clickOutside\"\n      >\n      <template v-slot:body=\"props\">\n        <v-card class=\"pa-12\">\n          <v-item-group selected-class=\"bg-primary\">\n            <v-container>\n              <v-row>\n                <v-col\n                  v-for=\"(block, key) in itemData\"\n                  :key=\"key\"\n                  v-bind=\"$bindAttributes( !!block.clickBlock ? block.clickBlock.col : {cols: 12})\"\n                  >\n                    <v-item v-slot=\"{ isSelected, selectedClass, toggle }\">\n                      <template v-if=\"!!block.clickBlock && !!block.clickBlock.elements\">\n                        <ue-recursive-stuff :configuration=\"block.clickBlock.elements\" @click=\"selectNested(key)\">\n                          {{ block.title }}\n                        </ue-recursive-stuff>\n                      </template>\n                      <v-btn v-else\n                        @click=\"selectNested(key)\"\n                        class=\"w-100\"\n                        style=\"max-width: unset;text-transform: uppercase;\"\n                        >\n                        {{ block.title }}\n                      </v-btn>\n                  </v-item>\n                </v-col>\n                <!-- <v-col cols=\"12\" md=\"6\" class=\"pa-4\">\n                  <v-item v-slot=\"{ isSelected, selectedClass, toggle }\">\n                    <v-card :class=\"['d-flex align-center bg-primary ue-card-button px-4', selectedClass]\" dark height=\"200\" @click=\"selectNested(1)\" >\n                      <div class=\"text-h6 font-weight-bold flex-grow-1 text-center\" > COMPANY INFORMATION</div>\n                    </v-card>\n                  </v-item>\n                </v-col>\n                <v-col cols=\"12\" md=\"6\" class=\"pa-4\">\n                  <v-item v-slot=\"{ isSelected, selectedClass, toggle }\">\n                    <v-card :class=\"['d-flex align-center bg-cta ue-card-button px-4', selectedClass]\" dark height=\"200\" @click=\"selectNested(2)\" >\n                      <div class=\"text-h6 font-weight-bold flex-grow-1 text-center\" > PRESS RELEASES </div>\n                    </v-card>\n                  </v-item>\n                </v-col>\n                <v-col cols=\"12\" md=\"12\" class=\"pa-4\">\n                  <v-item v-slot=\"{ isSelected, selectedClass, toggle }\">\n                    <v-card :class=\"['d-flex align-center bg-success ue-card-button px-4', selectedClass]\" dark height=\"80\" @click=\"selectNested(3)\" >\n                      <div class=\"text-h6 font-weight-bold flex-grow-1 text-center\"> CREDITS & INVOICES </div>\n                    </v-card>\n                  </v-item>\n                </v-col> -->\n              </v-row>\n            </v-container>\n          </v-item-group>\n        </v-card>\n      </template>\n    </ue-modal>\n    <template v-if=\"!!item && !modalActive && activeBlock\">\n      <ue-table\n        v-bind=\"{...$bindAttributes(), tableClasses: $parent.tableClasses}\"\n\n        :custom-title=\"activeBlock.title\"\n        class=\"mb-12\"\n        :is-row-editing=\"false\"\n        :embedded-form=\"false\"\n        :create-on-modal=\"false\"\n        :edit-on-modal=\"false\"\n        :row-actions=\"[]\"\n        :columns=\"tableHeaders\"\n        :items=\"items\"\n        :table-options=\"{\n          page: 1,\n          itemsPerPage: 1,\n          multiSort: false,\n          mustSort: false\n        }\"\n        hide-footer\n        no-footer\n        no-form\n        no-full-screen\n        :ignore-formatters=\"['activate']\"\n        >\n        <template v-slot:headerRight>\n          <v-btn class=\"bg-grey-darken-1\"\n            color=\"white\"\n            variant=\"tonal\"\n            icon=\"$close\" density=\"compact\"\n            @click=\"closeItemDetails()\"\n          >\n            <v-icon icon=\"$close\" size=\"small\"></v-icon>\n          </v-btn>\n        </template>\n      </ue-table>\n      <div>\n        <ue-recursive-stuff :configuration=\"activeBlock.elements\"/>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { makeActiveTableItemProps, useActiveTableItem } from '__hooks'\n\nexport default {\n  props: {\n    ...makeActiveTableItemProps()\n  },\n  setup (props, context) {\n    // const { item, items, modalActive, modalStatus, selectNested, clickOutside, closeItemDetails } = useActiveTableItem(props, context)\n    return {\n      // item,\n      // items,\n      // modalActive,\n      // modalStatus,\n      // selectNested,\n      // clickOutside,\n      // closeItemDetails\n\n      ...useActiveTableItem(props, context)\n    }\n  },\n  // methods: {\n  //   // toggle (column) {\n  //   //   if (this.pagination.sortBy === column) {\n  //   //     this.pagination.descending = !this.pagination.descending\n  //   //   } else {\n  //   //     this.pagination.sortBy = column\n  //   //     this.pagination.descending = false\n  //   //   }\n  //   // },\n  // }\n  created () {\n\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","export default \"__VITE_PUBLIC_ASSET__7097824f__\"","<template>\n    <div class=\"card-item\" :class=\"{ '-active': isCardFlipped }\">\n      <div class=\"card-item__side -front\">\n        <div class=\"card-item__focus\" :class=\"{ '-active': focusElementStyle }\" :style=\"focusElementStyle\"\n          ref=\"focusElement\"></div>\n        <div class=\"card-item__cover\">\n          <img v-if=\"currentCardBackground\" :src=\"currentCardBackground\" class=\"card-item__bg\" />\n        </div>\n        <div class=\"card-item__wrapper\">\n          <div class=\"card-item__top\">\n            <img src=\"/png/cardtypes/chip.png\" class=\"card-item__chip\" />\n            <div class=\"card-item__type\">\n              <Transition name=\"slide-fade-up\">\n                <img :src=\"cardImage\" v-if=\"cardImage\" :key=\"cardImage\" alt class=\"card-item__typeImg\" />\n              </Transition>\n            </div>\n          </div>\n          <label :for=\"fields.cardNumber\" class=\"card-item__number\" :ref=\"fields.cardNumber\">\n            <span v-for=\"(n, $index) in currentPlaceholder\" :key=\"$index\">\n              <Transition name=\"slide-fade-up\">\n                <div class=\"card-item__numberItem\" v-if=\"getIsNumberMasked($index, n)\">*</div>\n                <div class=\"card-item__numberItem\" :class=\"{ '-active': n.trim() === '' }\" :key=\"currentPlaceholder\"\n                  v-else-if=\"labels.cardNumber.length > $index\">{{ labels.cardNumber[$index] }}</div>\n                <div class=\"card-item__numberItem\" :class=\"{ '-active': n.trim() === '' }\" v-else\n                  :key=\"currentPlaceholder + 1\">{{ n }}</div>\n              </Transition>\n            </span>\n          </label>\n          <div class=\"card-item__content\">\n            <label :for=\"fields.cardName\" class=\"card-item__info\" :ref=\"fields.cardName\">\n              <div class=\"card-item__holder\">{{ $t('Card Holder') }}</div>\n              <Transition name=\"slide-fade-up\">\n                <div class=\"card-item__name\" v-if=\"labels.cardName.length\" key=\"1\">\n                  <TransitionGroup name=\"slide-fade-right\">\n                    <span class=\"card-item__nameItem\" v-for=\"(n, $index) in labels.cardName.replace(/\\s\\s+/g, ' ')\"\n                      :key=\"$index + 1\">{{ n }}</span>\n                  </TransitionGroup>\n                </div>\n                <div class=\"card-item__name\" v-else key=\"2\">{{ $t('Full Name') }}</div>\n              </Transition>\n            </label>\n            <div class=\"card-item__date\" ref=\"cardDate\">\n              <label :for=\"fields.cardMonth\" class=\"card-item__dateTitle\">{{ $t('Expire Date') }}</label>\n              <label :for=\"fields.cardMonth\" class=\"card-item__dateItem\">\n                <Transition name=\"slide-fade-up\">\n                  <span v-if=\"labels.cardMonth\" :key=\"labels.cardMonth\">{{ labels.cardMonth }}</span>\n                  <span v-else key=\"2\">{{ $t('MM') }}</span>\n                </Transition>\n              </label>\n              /\n              <label :for=\"fields.cardYear\" class=\"card-item__dateItem\">\n                <Transition name=\"slide-fade-up\">\n                  <span v-if=\"labels.cardYear\" :key=\"labels.cardYear\">{{ String(labels.cardYear).slice(2, 4) }}</span>\n                  <span v-else key=\"2\">{{ $t('YY') }}</span>\n                </Transition>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"card-item__side -back\">\n        <div class=\"card-item__cover\">\n          <img v-if=\"currentCardBackground\" :src=\"currentCardBackground\" class=\"card-item__bg\" />\n        </div>\n        <div class=\"card-item__band\"></div>\n        <div class=\"card-item__cvv\">\n          <div class=\"card-item__cvvTitle\">CVV</div>\n          <div class=\"card-item__cvvBand\">\n            <span v-for=\"(n, $index) in labels.cardCvv\" :key=\"$index\">*</span>\n          </div>\n          <div class=\"card-item__type\">\n            <img :src=\"cardImage\" v-if=\"cardImage\" class=\"card-item__typeImg\" />\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport { ref, computed, watch, onMounted, nextTick } from 'vue';\n\nexport default {\n  name: 'CreditCard',\n  props: {\n    labels: Object,\n    fields: Object,\n    isCardNumberMasked: Boolean,\n    randomBackgrounds: {\n      type: Boolean,\n      default: true\n    },\n    backgroundImage: [String, Object]\n  },\n  setup(props) {\n    const focusElementStyle = ref(null);\n    const currentFocus = ref(null);\n    const isFocused = ref(false);\n    const isCardFlipped = ref(false);\n    const amexCardPlaceholder = '#### ###### #####';\n    const dinersCardPlaceholder = '#### ###### ####';\n    const defaultCardPlaceholder = '#### #### #### ####';\n    const currentPlaceholder = ref('');\n\n    const baseUrl = computed(() => {\n      let url = new URL(import.meta.url);\n      return `${url.protocol}//${url.hostname}${url.port ? ':' + url.port : ''}`;\n    });\n\n    const cardImage = computed(() => {\n      let number = props.labels.cardNumber;\n      let img = `.${import.meta.env.BASE_URL}/png/cardtypes/`;\n      switch (true) {\n        case /^4/.test(number):\n          img = img + 'visa.png';\n          break;\n        case /^(34|37)/.test(number):\n          img = img + 'amex.png';\n          break;\n        case /^5[1-5]/.test(number):\n          img = img + 'mastercard.png';\n          break;\n        case /^6011/.test(number):\n          img = img + 'discover.png';\n          break;\n        case /^62/.test(number):\n          img = img + 'unionpay.png';\n          break;\n        case /^9792/.test(number):\n          img = img + 'troy.png';\n          break;\n        case /^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}/.test(number):\n          img = img + 'dinersclub.png';\n          break;\n        case /^35(2[89]|[3-8])/.test(number):\n          img = img + 'jcb.png';\n          break;\n        default:\n          img = img + 'visa.png';\n          break;\n      }\n      return new URL(img, baseUrl.value).href;\n    });\n\n    const cardType = computed(() => {\n      let number = props.labels.cardNumber;\n      let img = `.${import.meta.env.BASE_URL}/public/png/cardtypes/`;\n      switch (true) {\n        case /^4/.test(number):\n          return 'visa';\n          break;\n        case /^(34|37)/.test(number):\n          return 'amex';\n          break;\n        case /^5[1-5]/.test(number):\n          return 'mastercard';\n          break;\n        case /^6011/.test(number):\n          return 'discover';\n          break;\n        case /^62/.test(number):\n          return 'unionpay';\n          break;\n        case /^9792/.test(number):\n          return 'troy';\n          break;\n        case /^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}/.test(number):\n          return 'dinersclub';\n          break;\n        case /^35(2[89]|[3-8])/.test(number):\n          return 'jcb';\n          break;\n        default:\n          return 'visa';\n          break;\n      }\n      return new URL(img, baseUrl.value).href;\n    });\n    const currentCardBackground = computed(() => {\n      if (props.randomBackgrounds && !props.backgroundImage) {\n        let random = Math.floor(Math.random() * 25 + 1);\n        let img = `.${import.meta.env.BASE_URL}/jpg/payment/${random}.jpeg`;\n        let cardBg = new URL(img, baseUrl.value).href;\n        return cardBg;\n      } else if (props.backgroundImage) {\n        return props.backgroundImage;\n      } else {\n        return null;\n      }\n    });\n\n    const changeFocus = () => {\n      const target = document.querySelector(`label[for=\"${currentFocus.value}\"]`);;\n      focusElementStyle.value = target\n        ? {\n          width: `${target.offsetWidth}px`,\n          height: `${target.offsetHeight}px`,\n          transform: `translateX(${target.offsetLeft}px) translateY(${target.offsetTop}px)`,\n        }\n        : null;\n    };\n\n    const getIsNumberMasked = (index, n) => {\n      return index > 4 && index < 14 && props.labels.cardNumber.length > index && n.trim() !== '' && props.isCardNumberMasked;\n    };\n\n    const changePlaceholder = () => {\n      if (cardType.value === 'amex') {\n        currentPlaceholder.value = amexCardPlaceholder;\n      } else if (cardType.value === 'dinersclub') {\n        currentPlaceholder.value = dinersCardPlaceholder;\n      } else {\n        currentPlaceholder.value = defaultCardPlaceholder;\n      }\n      nextTick(() => {\n        changeFocus();\n      });\n    };\n\n    watch(currentFocus, () => {\n      if (currentFocus.value) {\n        changeFocus();\n      } else {\n        focusElementStyle.value = null;\n      }\n    });\n\n    watch(cardType, () => {\n      changePlaceholder();\n    });\n\n    onMounted(() => {\n      changePlaceholder();\n      let fields = document.querySelectorAll('[data-card-field] input');\n      fields.forEach((element) => {\n        element.addEventListener('focus', () => {\n          isFocused.value = true;\n          if (element.id === props.fields.cardYear || element.id === props.fields.cardMonth) {\n            currentFocus.value = 'cardDate';\n          } else {\n            currentFocus.value = element.id;\n          }\n          isCardFlipped.value = element.id === props.fields.cardCvv;\n        });\n        element.addEventListener('blur', () => {\n          isCardFlipped.value = element.id === props.fields.cardCvv;\n          setTimeout(() => {\n            if (!isFocused.value) {\n              currentFocus.value = null;\n            }\n          }, 300);\n          isFocused.value = false;\n        });\n      });\n    });\n\n    return {\n      focusElementStyle,\n      currentFocus,\n      isFocused,\n      isCardFlipped,\n      baseUrl,\n      currentPlaceholder,\n      cardType,\n      cardImage,\n      currentCardBackground,\n      changeFocus,\n      getIsNumberMasked,\n      changePlaceholder\n    };\n  }\n};\n</script>\n\n<style scoped>\n.slide-fade-up-enter-active {\n  transition: all 0.25s ease-in-out;\n  transition-delay: 0.1s;\n  position: relative;\n}\n\n.slide-fade-up-leave-active {\n  transition: all 0.25s ease-in-out;\n  position: absolute;\n}\n\n.slide-fade-up-enter {\n  opacity: 0;\n  transform: translateY(15px);\n  pointer-events: none;\n}\n\n.slide-fade-up-leave-to {\n  opacity: 0;\n  transform: translateY(-15px);\n  pointer-events: none;\n}\n\n.slide-fade-right-enter-active {\n  transition: all 0.25s ease-in-out;\n  transition-delay: 0.1s;\n  position: relative;\n}\n\n.slide-fade-right-leave-active {\n  transition: all 0.25s ease-in-out;\n  position: absolute;\n}\n\n.slide-fade-right-enter {\n  opacity: 0;\n  transform: translateX(10px) rotate(45deg);\n  pointer-events: none;\n}\n\n.slide-fade-right-leave-to {\n  opacity: 0;\n  transform: translateX(-10px) rotate(45deg);\n  pointer-events: none;\n}\n</style>\n","<template>\n  <div class=\"card-form\">\n    <div class=\"card-list\">\n      <CreditCard :fields=\"fields\" :labels=\"formData\" :isCardNumberMasked=\"isCardNumberMasked\"\n        :randomBackgrounds=\"randomBackgrounds\" :backgroundImage=\"backgroundImage\" />\n    </div>\n    <div class=\"card-form__inner\">\n      <div class=\"card-input\">\n        <label for=\"cardNumber\" class=\"card-input__label\">{{ $t('Card Number') }}</label>\n        <v-text-field :id=\"fields.cardNumber\" v-model=\"formData.cardNumber\" @input=\"changeNumber\"\n          @focus=\"focusCardNumber\" @blur=\"blurCardNumber\" data-card-field type=\"tel\" variant=\"outlined\" v-number-only :maxlength=\"cardNumberMaxLength\">\n        </v-text-field>\n      </div>\n      <div class=\"card-input\">\n        <label for=\"cardName\" class=\"card-input__label\">{{ $t('Card Holder') }}</label>\n        <v-text-field :id=\"fields.cardName\" v-model=\"formData.cardName\" @input=\"changeName\" data-card-field\n          variant=\"outlined\">\n        </v-text-field>\n      </div>\n      <div class=\"card-form__row\">\n        <div class=\"card-form__col\">\n          <div class=\"card-form__group\">\n            <label for=\"cardMonth\" class=\"card-input__label\">{{ $t('Expire Date') }}</label>\n            <v-select :id=\"fields.cardMonth\" :items=\"months\" :label=\"$t('Month')\" v-model=\"formData.cardMonth\"\n              @change=\"changeMonth\" :disabled-item=\"month => month < minCardMonth\" data-card-field\n              variant=\"outlined\"></v-select>\n            <v-select :id=\"fields.cardYear\" :items=\"years\" :label=\"$t('Year')\" v-model=\"formData.cardYear\"\n              @change=\"changeYear\" data-card-field variant=\"outlined\"></v-select>\n          </div>\n        </div>\n        <div class=\"card-form__col -cvv\">\n          <div class=\"card-input\">\n            <label for=\"cardCvv\" class=\"card-input__label\">{{ $t('CVV') }}</label>\n            <v-text-field type=\"tel\" v-model=\"formData.cardCvv\" v-number-only :id=\"fields.cardCvv\" maxlength=\"4\"\n              @input=\"changeCvv\" data-card-field autocomplete=\"off\" variant=\"outlined\">\n            </v-text-field>\n          </div>\n        </div>\n      </div>\n      <v-btn\n        class=\"card-form__button bg-success\"\n        @click=\"submitForm\"\n        density=\"comfortable\"\n        block>\n        {{ $t('PAY') }}\n      </v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, watch, onMounted, inject } from 'vue';\nimport CreditCard from '@/components/inputs/CreditCard';\nimport useValidation from '@/hooks/useValidation';\n\n\nexport default {\n  name: 'CreditCardForm',\n  directives: {\n    'number-only': {\n      beforeMount(el) {\n        function checkValue(event) {\n          event.target.value = event.target.value.replace(/[^0-9 ]/g, '');\n          if (event.charCode >= 48 && event.charCode <= 57 || event.charCode === 32) {\n            return true;\n          }\n          event.preventDefault();\n        }\n        el.addEventListener('keypress', checkValue);\n      }\n    },\n    'letter-only': {\n      beforeMount(el) {\n        function checkValue(event) {\n          if (event.charCode >= 48 && event.charCode <= 57) {\n            event.preventDefault();\n          }\n          return true;\n        }\n        el.addEventListener('keypress', checkValue);\n      }\n    }\n  },\n  props: {\n    formData: {\n      type: Object,\n      default: () => reactive({\n        cardName: '',\n        cardNumber: '',\n        cardNumberNotMask: '',\n        cardMonth: '',\n        cardYear: '',\n        cardCvv: ''\n      })\n    },\n    backgroundImage: [String, Object],\n    randomBackgrounds: {\n      type: Boolean,\n      default: true\n    }\n  },\n  components: {\n    CreditCard\n  },\n  setup(props, { emit }) {\n    const fields = reactive({\n      cardNumber: 'v-card-number',\n      cardName: 'v-card-name',\n      cardMonth: 'v-card-month',\n      cardYear: 'v-card-year',\n      cardCvv: 'v-card-cvv'\n    });\n    const submitForm = inject('submitForm')\n\n    const minCardYear = new Date().getFullYear();\n    const isCardNumberMasked = ref(true);\n    const mainCardNumber = ref(props.formData.cardNumber);\n    const cardNumberMaxLength = ref(19);\n\n    const months = computed(() => {\n      return [\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"10\",\"11\",\"12\"];\n    });\n\n    const years = computed(() => {\n      const urlParams = new URLSearchParams(window.location.search);\n      if(urlParams.has('testYears')){\n        return Array.from({ length: urlParams.get('testYears') }, (v, i) => minCardYear + i);\n      }else{\n        return Array.from({ length: 12 }, (v, i) => minCardYear + i);\n      }\n    });\n\n    const minCardMonth = computed(() => {\n      return props.formData.cardYear === minCardYear ? new Date().getMonth() + 1 : 1;\n    });\n\n    watch(() => props.formData.cardYear, () => {\n      if (props.formData.cardMonth < minCardMonth.value) {\n        props.formData.cardMonth = '';\n      }\n    });\n\n    onMounted(() => {\n      maskCardNumber();\n    });\n\n    const generateMonthValue = (n) => {\n      return n < 10 ? `0${n}` : n;\n    };\n\n    const formData = reactive({\n      cardName: '',\n      cardNumber: '',\n      cardNumberNotMask: '',\n      cardMonth: '',\n      cardYear: '',\n      cardCvv: ''\n    });\n\n    const changeName = () => {\n      emit('v-card-name', props.formData.cardName);\n      emit('update:cardName', formData.cardName);\n    };\n\n    const changeNumber = (e) => {\n      props.formData.cardNumber = e.target.value;\n      let value = props.formData.cardNumber.replace(/\\D/g, '');\n      // American Express, 15 digits\n      if ((/^3[47]\\d{0,13}$/).test(value)) {\n        props.formData.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{6})/, '$1 $2 ');\n        cardNumberMaxLength.value = 17;\n      } else if ((/^3(?:0[0-5]|[68]\\d)\\d{0,11}$/).test(value)) { // Diners Club, 14 digits\n        props.formData.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{6})/, '$1 $2 ');\n        cardNumberMaxLength.value = 16;\n      } else if ((/^\\d{0,16}$/).test(value)) { // Regular CC number, 16 digits\n        props.formData.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{4})/, '$1 $2 ').replace(/(\\d{4}) (\\d{4}) (\\d{4})/, '$1 $2 $3 ');\n        cardNumberMaxLength.value = 19;\n      }\n\n      if (e.inputType === 'deleteContentBackward') {\n        let lastChar = props.formData.cardNumber.substring(props.formData.cardNumber.length - 1);\n        if (lastChar === ' ') {\n          props.formData.cardNumber = props.formData.cardNumber.substring(0, props.formData.cardNumber.length - 1);\n        }\n      }\n      formData.cardNumber = props.formData.cardNumber;\n\n      emit('input-card-number', props.formData.cardNumber);\n      emit('update:cardNumber', formData.cardNumber);\n\n    };\n\n    const changeMonth = () => {\n      emit('input-card-month', props.formData.cardMonth);\n      emit('update:cardMonth', formData.cardMonth);\n\n    };\n\n    const changeYear = () => {\n      emit('input-card-year', props.formData.cardYear);\n      emit('update:cardYear', formData.cardYear);\n\n    };\n\n    const changeCvv = () => {\n      emit('input-card-cvv', props.formData.cardCvv);\n      emit('update:cardCvv', formData.cardCvv);\n\n    };\n\n    const invaildCard = () => {\n      let number = props.formData.cardNumberNotMask.replace(/ /g, '');\n      let sum = 0;\n      for (let i = 0; i < number.length; i++) {\n        let intVal = parseInt(number.substr(i, 1));\n        if (i % 2 === 0) {\n          intVal *= 2;\n          if (intVal > 9) {\n            intVal = 1 + (intVal % 10);\n          }\n        }\n        sum += intVal;\n      }\n      if (sum % 10 !== 0) {\n        alert(props.$t('cardForm.invalidCardNumber'));\n      }\n    };\n\n    const blurCardNumber = () => {\n      if (isCardNumberMasked.value) {\n        maskCardNumber();\n      }\n    };\n\n    const maskCardNumber = () => {\n      props.formData.cardNumberNotMask = props.formData.cardNumber;\n      mainCardNumber.value = props.formData.cardNumber;\n      let arr = props.formData.cardNumber.split('');\n      arr.forEach((element, index) => {\n        if (index > 4 && index < 14 && element.trim() !== '') {\n          arr[index] = '*';\n        }\n      });\n      props.formData.cardNumber = arr.join('');\n    };\n\n    const unMaskCardNumber = () => {\n      props.formData.cardNumber = mainCardNumber.value;\n    };\n\n    const focusCardNumber = () => {\n      unMaskCardNumber();\n    };\n\n    const toggleMask = () => {\n      isCardNumberMasked.value = !isCardNumberMasked.value;\n      if (isCardNumberMasked.value) {\n        maskCardNumber();\n      } else {\n        unMaskCardNumber();\n      }\n    };\n\n\n  const validateCardNumber = (value) => {\n\n    return useValidation(\n      {\n        rules: 'required|min:16|max:19|regex:/^[0-9]+$/'\n      },\n      value\n    );\n  };\n\n    const validateCardName = (value) => {\n      return useValidation(\n        { rules: 'required' },\n        value\n      );\n    };\n\n    const validateExpiryDate = (month, year) => {\n      const currentDate = new Date();\n      const expiryDate = new Date(year, month - 1);\n      if (expiryDate < currentDate) {\n        return 'Card has expired';\n      }\n      return true;\n    };\n\n  const validateCVV = (value) => {\n    return useValidation(\n      { rules: 'required|min:3|max:4' },\n      value\n    );\n  };\n\n    watch(() => props.formData.cardNumber, validateCardNumber);\n    watch(() => props.formData.cardName, validateCardName);\n    watch([() => props.formData.cardMonth, () => props.formData.cardYear],\n      ([month, year]) => validateExpiryDate(month, year)\n    );\n    watch(() => props.formData.cardCvv, validateCVV);\n\n    // ... other existing code ...\n\n    // Add watchers to emit form data changes\n    watch(() => formData.cardName, (newValue) => emit('update:cardName', newValue));\n    watch(() => formData.cardNumber, (newValue) => emit('update:cardNumber', newValue));\n    watch(() => formData.cardMonth, (newValue) => emit('update:cardMonth', newValue));\n    watch(() => formData.cardYear, (newValue) => emit('update:cardYear', newValue));\n    watch(() => formData.cardCvv, (newValue) => emit('update:cardCvv', newValue));\n\n\n\n    return {\n      fields,\n      minCardYear,\n      isCardNumberMasked,\n      mainCardNumber,\n      cardNumberMaxLength,\n      months,\n      years,\n      minCardMonth,\n      generateMonthValue,\n      changeName,\n      changeNumber,\n      changeMonth,\n      changeYear,\n      changeCvv,\n      invaildCard,\n      blurCardNumber,\n      maskCardNumber,\n      unMaskCardNumber,\n      focusCardNumber,\n      toggleMask,\n      submitForm,\n      validateCardNumber,\n      validateCardName,\n      validateExpiryDate,\n      validateCVV,\n      formData,\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n* {\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n  }\n}\n\n.wrapper {\n  min-height: 100vh;\n  display: flex;\n  padding: 50px 15px;\n\n  @media screen and (max-width: 700px),\n  (max-height: 500px) {\n    flex-wrap: wrap;\n    flex-direction: column;\n  }\n}\n\n.card-form {\n  max-width: 570px;\n  margin: auto;\n  width: 100%;\n\n  @media screen and (max-width: 576px) {\n    margin: 0 auto;\n  }\n\n  &__inner {\n    background: #fff;\n    border-radius: 4px;\n    border:1px solid #54AF4C;\n    padding: 35px;\n    padding-top: 180px;\n\n    @media screen and (max-width: 480px) {\n      padding: 25px;\n      padding-top: 165px;\n    }\n\n    @media screen and (max-width: 360px) {\n      padding: 15px;\n      padding-top: 165px;\n    }\n  }\n\n  &__row {\n    display: flex;\n    align-items: flex-start;\n\n    @media screen and (max-width: 480px) {\n      flex-wrap: wrap;\n    }\n  }\n\n  &__col {\n    flex: auto;\n    margin-right: 35px;\n\n    &:last-child {\n      margin-right: 0;\n    }\n\n    @media screen and (max-width: 480px) {\n      margin-right: 0;\n      flex: unset;\n      width: 100%;\n      margin-bottom: 20px;\n\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n\n    &.-cvv {\n      max-width: 150px;\n\n      @media screen and (max-width: 480px) {\n        max-width: initial;\n      }\n    }\n  }\n\n  &__group {\n    display: flex;\n    align-items: flex-start;\n    flex-wrap: wrap;\n\n    .card-input__input {\n      flex: 1;\n      margin-right: 15px;\n\n      &:last-child {\n        margin-right: 0;\n      }\n    }\n  }\n\n  &__button {\n    width: 100%;\n    border: none;\n    font-size: 0.875rem;\n    margin-top: 20px;\n    cursor: pointer;\n\n    @media screen and (max-width: 480px) {\n      margin-top: 10px;\n    }\n  }\n}\n\n.card-item {\n  max-width: 430px;\n  height: 270px;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  z-index: 2;\n  width: 100%;\n\n  @media screen and (max-width: 480px) {\n    max-width: 310px;\n    height: 220px;\n    width: 90%;\n  }\n\n  @media screen and (max-width: 360px) {\n    height: 180px;\n  }\n\n  &.-active {\n    .card-item__side {\n      &.-front {\n        transform: perspective(1000px) rotateY(180deg) rotateX(0deg) rotateZ(0deg);\n      }\n\n      &.-back {\n        transform: perspective(1000px) rotateY(0) rotateX(0deg) rotateZ(0deg);\n      }\n    }\n  }\n\n  &__focus {\n    position: absolute;\n    z-index: 3;\n    border-radius: 5px;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    transition: all 0.35s cubic-bezier(0.71, 0.03, 0.56, 0.85);\n    opacity: 0;\n    pointer-events: none;\n    overflow: hidden;\n    border: 2px solid rgba(255, 255, 255, 0.65);\n\n    &:after {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      background: rgb(8, 20, 47);\n      height: 100%;\n      border-radius: 5px;\n      filter: blur(25px);\n      opacity: 0.5;\n    }\n\n    &.-active {\n      opacity: 1;\n    }\n  }\n\n  &__side {\n    border-radius: 15px;\n    overflow: hidden;\n    // box-shadow: 3px 13px 30px 0px rgba(11, 19, 41, 0.5);\n    box-shadow: 0 20px 60px 0 rgba(14, 42, 90, 0.55);\n    transform: perspective(2000px) rotateY(0deg) rotateX(0deg) rotate(0deg);\n    transform-style: preserve-3d;\n    transition: all 0.8s cubic-bezier(0.71, 0.03, 0.56, 0.85);\n    backface-visibility: hidden;\n    height: 100%;\n\n    &.-back {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      transform: perspective(2000px) rotateY(-180deg) rotateX(0deg) rotate(0deg);\n      z-index: 2;\n      padding: 0;\n      height: 100%;\n\n      .card-item__cover {\n        transform: rotateY(-180deg)\n      }\n    }\n  }\n\n  &__bg {\n    max-width: 100%;\n    display: block;\n    max-height: 100%;\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n  }\n\n  &__cover {\n    height: 100%;\n    position: absolute;\n    height: 100%;\n    background-color: #1c1d27;\n    background-image: linear-gradient(147deg, #354fce 0%, #0c296b 74%);\n    left: 0;\n    top: 0;\n    width: 100%;\n    border-radius: 15px;\n    overflow: hidden;\n\n    &:after {\n      content: \"\";\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(6, 2, 29, 0.45);\n    }\n  }\n\n  &__top {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin-bottom: 40px;\n    padding: 0 10px;\n\n    @media screen and (max-width: 480px) {\n      margin-bottom: 25px;\n    }\n\n    @media screen and (max-width: 360px) {\n      margin-bottom: 15px;\n    }\n  }\n\n  &__chip {\n    width: 60px;\n\n    @media screen and (max-width: 480px) {\n      width: 50px;\n    }\n\n    @media screen and (max-width: 360px) {\n      width: 40px;\n    }\n  }\n\n  &__type {\n    height: 45px;\n    position: relative;\n    display: flex;\n    justify-content: flex-end;\n    max-width: 100px;\n    margin-left: auto;\n    width: 100%;\n\n    @media screen and (max-width: 480px) {\n      height: 40px;\n      max-width: 90px;\n    }\n\n    @media screen and (max-width: 360px) {\n      height: 30px;\n    }\n  }\n\n  &__typeImg {\n    max-width: 100%;\n    object-fit: contain;\n    max-height: 100%;\n    object-position: top right;\n  }\n\n  &__info {\n    color: #fff;\n    width: 100%;\n    max-width: calc(100% - 85px);\n    padding: 10px 15px;\n    font-weight: 500;\n    display: block;\n\n    cursor: pointer;\n\n    @media screen and (max-width: 480px) {\n      padding: 10px;\n    }\n  }\n\n  &__holder {\n    opacity: 0.7;\n    font-size: .8rem;\n    margin-bottom: 6px;\n\n    @media screen and (max-width: 480px) {\n      font-size: .75rem;\n      margin-bottom: 5px;\n    }\n  }\n\n  &__wrapper {\n    font-family: \"Source Code Pro\", monospace;\n    padding: 25px 15px;\n    position: relative;\n    z-index: 4;\n    height: 100%;\n    text-shadow: 7px 6px 10px rgba(14, 42, 90, 0.8);\n    user-select: none;\n\n    @media screen and (max-width: 480px) {\n      padding: 20px 10px;\n    }\n  }\n\n  &__name {\n    font-size: 1rem;\n    line-height: 1;\n    white-space: nowrap;\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-transform: uppercase;\n\n    @media screen and (max-width: 480px) {\n      font-size: 1rem;\n    }\n  }\n\n  &__nameItem {\n    display: inline-block;\n    min-width: 8px;\n    position: relative;\n  }\n\n  &__number {\n    font-weight: 500;\n    line-height: 1;\n    color: #fff;\n    font-size: 27px;\n    margin-bottom: 25px;\n    display: inline-block;\n    padding: 10px 15px;\n    cursor: pointer;\n\n    @media screen and (max-width: 480px) {\n      font-size: 1.25rem;\n      margin-bottom: 15px;\n      padding: 10px 10px;\n    }\n\n    @media screen and (max-width: 360px) {\n      font-size: 1rem;\n      margin-bottom: 10px;\n      padding: 10px 10px;\n    }\n  }\n\n  &__numberItem {\n    width: 16px;\n    display: inline-block;\n\n    &.-active {\n      width: 30px;\n    }\n\n    @media screen and (max-width: 480px) {\n      width: .75rem;\n\n      &.-active {\n        width: 1rem;\n      }\n    }\n\n    @media screen and (max-width: 360px) {\n      width: .75rem;\n\n      &.-active {\n        width: .5rem;\n      }\n    }\n  }\n\n  &__content {\n    color: #fff;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  &__date {\n    flex-wrap: wrap;\n    font-size: 1rem;\n    margin-left: auto;\n    padding: 10px;\n    display: inline-flex;\n    width: 80px;\n    white-space: nowrap;\n    flex-shrink: 0;\n    cursor: pointer;\n\n    @media screen and (max-width: 480px) {\n      font-size: 1rem;\n    }\n  }\n\n  &__dateItem {\n    position: relative;\n\n    span {\n      width: 1.5rem;\n      display: inline-block;\n    }\n  }\n\n  &__dateTitle {\n    opacity: 0.7;\n    font-size: .75rem;\n    padding-bottom: 6px;\n    width: 100%;\n\n    @media screen and (max-width: 480px) {\n      font-size: .75rem;\n      padding-bottom: 5px;\n    }\n  }\n\n  &__band {\n    background: rgba(0, 0, 19, 0.8);\n    width: 100%;\n    height: 50px;\n    margin-top: 30px;\n    position: relative;\n    z-index: 2;\n\n    @media screen and (max-width: 480px) {\n      margin-top: 1.3rem;\n    }\n\n    @media screen and (max-width: 360px) {\n      height: 40px;\n      margin-top: 10px;\n    }\n  }\n\n  &__cvv {\n    text-align: right;\n    position: relative;\n    z-index: 2;\n    padding: 15px;\n\n    .card-item__type {\n      opacity: 0.7;\n    }\n\n    @media screen and (max-width: 360px) {\n      padding: 10px 15px;\n    }\n  }\n\n  &__cvvTitle {\n    padding-right: 10px;\n    font-size: 1rem;\n    font-weight: 500;\n    color: #fff;\n    margin-bottom: 5px;\n  }\n\n  &__cvvBand {\n    height: 45px;\n    background: #fff;\n    margin-bottom: 30px;\n    text-align: right;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding-right: 10px;\n    color: #1a3b5d;\n    font-size: 1.2rem;\n    border-radius: 4px;\n    box-shadow: 0px 10px 20px -7px rgba(32, 56, 117, 0.35);\n\n    @media screen and (max-width: 480px) {\n      height: 40px;\n      margin-bottom: 20px;\n    }\n\n    @media screen and (max-width: 360px) {\n      margin-bottom: 15px;\n    }\n  }\n}\n\n.card-list {\n  margin-bottom: -130px;\n\n  @media screen and (max-width: 480px) {\n    margin-bottom: -120px;\n  }\n}\n\n.card-input {\n  margin-bottom: 20px;\n  position: relative;\n\n  &__label {\n    font-size: .8rem;\n    margin-bottom: 5px;\n    font-weight: 500;\n    color: #1a3b5d;\n    width: 100%;\n    display: block;\n    user-select: none;\n  }\n}\n</style>\n","<template>\n  <v-input v-model=\"input\">\n    <v-row>\n      <v-col class=\"d-flex flex-column justify-center px-0\">\n        <v-card class=\"pa-4 payment-container\" elevation=\"0\">\n          <v-card-text class=\"pa-0\">\n            <p class=\"select-title\">How would you like to pay?</p>\n          </v-card-text>\n\n          <!-- Currency Selector -->\n          <v-select\n            v-model=\"selectedCurrency\"\n            :items=\"formattedCurrencies\"\n            label=\"Currency\"\n            variant=\"outlined\"\n            density=\"comfortable\"\n            item-title=\"display\"\n            item-value=\"id\"\n            @update:model-value=\"handleCurrencyChange\"\n            class=\"mx-6\"\n          />\n\n          <!-- Payment Methods -->\n          <v-radio-group v-model=\"localPaymentMethod\" column>\n            <!-- Credit Card Option -->\n            <div\n              class=\"service-container px-3 py-cs-1 credit-card-service\"\n              :class=\"{ 'selected-service--focus': localPaymentMethod === localDefaultPaymentMethod }\"\n            >\n              <v-radio\n                :label=\"$t('Credit Card')\"\n                :value=\"localDefaultPaymentMethod\"\n                class=\"service-label\"\n              />\n              {{ console.log(currencyCardTypes, selectedCurrencyIso) }}\n              <v-row align=\"center\">\n                <v-col class=\"d-flex justify-content-end custom-service-col\">\n                  <div class=\"service-icon-container\">\n                    <v-img-icon\n                      v-for=\"(type, key) in currencyCardTypes[selectedCurrencyIso]\"\n                      :key=\"`type-${key}`\"\n                      :src=\"'/storage/uploads/' + type.logo\"\n                      contain\n                      class=\"v-img__img--relative\"\n                    />\n                  </div>\n                </v-col>\n              </v-row>\n            </div>\n\n            <!-- Other Payment Services -->\n            <div\n              v-for=\"(service, key) in filteredServiceItems\"\n              :key=\"`service-${key}`\"\n              class=\"service-container px-3 py-1\"\n              :class=\"{ 'selected-service--focus': localPaymentMethod === service[itemValue] }\"\n            >\n              <v-radio\n                :label=\"service.title\"\n                :value=\"service[itemValue]\"\n                class=\"service-label\"\n              />\n              <v-row align=\"center\">\n                <v-col class=\"d-flex justify-content-end\">\n                  <div class=\"service-icon-container\">\n                    <v-img-icon\n                      :src=\"'/storage/uploads/' + service?.medias.find(item => item?.pivot?.role === 'logo')?.uuid\"\n                      contain\n                      class=\"v-img__img--relative\"\n                    />\n                  </div>\n                </v-col>\n              </v-row>\n            </div>\n          </v-radio-group>\n        </v-card>\n\n        <!-- Total Amount Display -->\n        <v-card-title class=\"headline\">\n          <p class=\"total\">Total Pay:</p>\n          <p class=\"amount\">{{ displayPrice }}</p>\n        </v-card-title>\n      </v-col>\n\n      <!-- Payment Form Section -->\n      <v-col class=\"px-0 d-flex align-center justify-center\">\n        <CreditCardForm\n          v-if=\"showCreditCardForm\"\n          v-model:cardName=\"localCreditCard.card_name\"\n          v-model:cardNumber=\"localCreditCard.card_number\"\n          v-model:cardMonth=\"localCreditCard.card_month\"\n          v-model:cardYear=\"localCreditCard.card_year\"\n          v-model:cardCvv=\"localCreditCard.card_cvv\"\n        />\n        <v-btn\n          v-else\n          :style=\"selectedService?.button_style\"\n          @click=\"submitForm\"\n          density=\"comfortable\"\n          max-width=\"300px\"\n          min-width=\"80%\"\n        >\n          <v-img\n            width=\"100px\"\n            contain\n            max-height=\"36px\"\n            :src=\"'/storage/uploads/' + selectedService?.medias.find(item => item?.pivot?.role === 'button_logo')?.uuid\"\n          />\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-input>\n</template>\n\n<script>\nimport { computed, ref, reactive, watch, inject } from 'vue';\nimport { makeInputProps, makeInputEmits, useCurrency } from '@/hooks';\nimport CreditCardForm from '@/components/inputs/CreditCardForm';\n\nexport default {\n  name: 'PaymentService',\n\n  components: {\n    CreditCardForm\n  },\n\n  emits: [\n    ...makeInputEmits,\n    'update:modelValue',\n    'update:price',\n    'currency-converted'\n  ],\n\n  props: {\n    ...makeInputProps(),\n    modelValue: {\n      type: Object,\n      default: () => ({})\n    },\n    itemValue: {\n      type: String,\n      default: 'id'\n    },\n    price_object: {\n      type: [Object, Array, Proxy],\n      default: () => ({})\n    },\n    items: {\n      type: Array,\n      default: () => []\n    },\n    currencies: {\n      type: Array,\n      default: () => []\n    },\n    api: {\n      type: String,\n      default: ''\n    },\n    currencyCardTypes: {\n      type: [Object, Proxy, Array],\n      default: () => ({})\n    }\n  },\n\n  setup(props, { emit }) {\n    const submitForm = inject('submitForm');\n    const { formatPrice } = useCurrency();\n\n    // Refs\n    const localPaymentMethod = ref('');\n    const localDefaultPaymentMethod = ref(\"-1\");\n    const selectedCurrency = ref(props.price_object.currency_id || props.currencies[0]?.id);\n    const displayPrice = ref(formatPrice.value(props.price_object.price_including_vat / 100, props.currencies[0]?.symbol || ''));\n\n    // Reactive state\n    const localCreditCard = reactive({\n      card_name: '',\n      card_number: '',\n      card_month: '',\n      card_year: '',\n      card_cvv: ''\n    });\n\n    // Computed\n    const selectedCurrencyObj = computed(() =>\n      props.currencies.find(curr => curr.id === selectedCurrency.value)\n    );\n\n    const selectedCurrencyIso = computed(() =>\n      selectedCurrencyObj.value?.iso_4217\n    );\n\n    const formattedCurrencies = computed(() =>\n      props.currencies.map(currency => ({\n        id: currency.id,\n        display: `${currency.symbol} - ${currency.name}`,\n      }))\n    );\n\n    const filteredServiceItems = computed(() => {\n      if (!selectedCurrency.value) return [];\n\n      return props.items.filter(service =>\n        service.payment_currencies?.some(currency => currency.id === selectedCurrency.value)\n      );\n    });\n\n    const selectedService = computed(() =>\n      filteredServiceItems.value.find(service => service[props.itemValue] === localPaymentMethod.value)\n    );\n\n    const showCreditCardForm = computed(() =>\n      !selectedService.value?.is_external\n    );\n\n    const input = computed({\n      get: () => props.modelValue,\n      set: (newValue) => emit('update:modelValue', newValue)\n    });\n\n    // Methods\n    const handleCurrencyChange = async (newCurrencyId) => {\n      selectedCurrency.value = newCurrencyId;\n      localPaymentMethod.value = localDefaultPaymentMethod.value;\n\n      const selectedCurrencyObject = props.currencies.find(curr => curr.id === newCurrencyId);\n      if (!selectedCurrencyObject || !props.api) return;\n\n      try {\n        const response = await axios.post(props.api, {\n          currency: selectedCurrencyObject.iso_4217,\n          amount: props.price_object.price_including_vat/ 100\n        });\n\n        displayPrice.value = formatPrice.value(\n          response.data.converted_amount,\n          selectedCurrencyObject.symbol\n        );\n\n        emit('update:price', displayPrice.value);\n        emit('currency-converted', displayPrice.value);\n      } catch (error) {\n        console.error('Currency conversion error:', error);\n      }\n    };\n\n    // Watchers\n    watch(() => props.modelValue, (newValue) => {\n      if (newValue && typeof newValue === 'object') {\n        localPaymentMethod.value = newValue.payment_method || localDefaultPaymentMethod.value;\n        Object.assign(localCreditCard, newValue.credit_card || {});\n      }\n    }, { immediate: true, deep: true });\n\n    watch([localPaymentMethod, localCreditCard, selectedCurrencyObj], () => {\n      input.value = {\n        payment_method: localPaymentMethod.value,\n        credit_card: { ...localCreditCard },\n        currency: selectedCurrencyObj.value,\n      };\n    }, { deep: true });\n\n    return {\n      input,\n      localPaymentMethod,\n      localDefaultPaymentMethod,\n      localCreditCard,\n      showCreditCardForm,\n      submitForm,\n      selectedCurrency,\n      selectedCurrencyIso,\n      formattedCurrencies,\n      filteredServiceItems,\n      handleCurrencyChange,\n      displayPrice,\n      selectedService,\n    };\n  }\n};\n</script>\n<!-- Styles remain unchanged -->\n<style lang=\"scss\" scoped>\n  .py-cs-1{\n    padding-top:5px !important;\n    padding-bottom: 5px !important;\n  }\n  .payment-container {\n    padding: 0 !important;\n    border: 1px solid #CACBCB;\n    border-radius: 4px 4px 0 0px;\n  }\n\n  .payment-card {\n    padding: 2rem;\n  }\n\n  .headline{\n    background-color: #54AF4C;\n    color: white;\n    padding: 1rem 2rem;\n    border-radius: 0px 0px 4px 4px;\n\n    *{\n      text-align: center;\n      font-weight: 400;\n      line-height: 1;\n    }\n    .total{\n      font-size: 1.5rem;\n      color: white;\n    }\n    .amount{\n      font-size: 3.5rem;\n      color: white;\n    }\n  }\n\n  .select-title {\n    font-size: 1.5rem;\n    color: #32454A;\n    font-weight: 400;\n    text-align: center;\n    margin: 1.5rem 0;\n  }\n  .v-btn {\n    background-color: #f5f5f5;\n\n    &:hover {\n      background-color: #e0e0e0;\n    }\n  }\n  .service-container{\n    display:flex;\n    flex-flow: row;\n    border: 1px solid #CACBCB;\n    border-radius: 4px;\n    margin: 0.5rem 1.5rem;\n    background-color: transparent;\n    transition: 0.3s linear all;\n    position: relative;\n\n    &.credit-card-service{\n      .custom-service-col{\n        position: relative;\n        .service-icon-container{\n          display: flex;\n          padding: 0px !important;\n          width: 100%;\n          top: 50%;\n          transform: translateY(-50%);\n        }\n        .v-img__img--relative{\n          width:min-content;\n          padding: 4px;\n        }\n      }\n\n    }\n\n    &.selected-service--focus{\n      border: 1px solid #54AF4C;\n      background-color: #E4F4D8;\n    }\n\n    .service-label{\n      width: 100%;\n    }\n\n    .service-icon-container {\n      width: fit-content;\n      position:absolute;\n      top: 5px;\n\n      .v-img__img--relative {\n        background: rgba(211, 216, 221, 0.30);\n        padding: 8px 28px;\n        border-radius: 4px;\n      }\n    }\n  }\n\n  .d-flex{\n    display: flex;\n  }\n  .justify-content-end{\n    justify-content:flex-end;\n  }\n</style>\n\n<style lang=\"scss\">\n  .service-container{\n    .v-label {\n      color: #20363B !important;\n      font-weight: 600 !important;\n    }\n  }\n  .service-icon-container {\n    .v-img__img--relative {\n      img {\n        position: relative !important;\n      }\n    }\n  }\n\n</style>\n","<template>\n  <!-- <v-layout fluid v-resize=\"onResize\"> -->\n    <div :class=\"['ue-datatable__container', noFullScreen ? '' : 'fill-height ue-datatable--full-screen_' ]\">\n      <ActiveTableItem\n        class=\"\"\n        v-model=\"activeTableItem\"\n        v-bind=\"$lodash.pick(this.$props ?? {}, ['name', 'fullWidthWrapper'])\"\n        :table-headers=\"Object.values($lodash.omitBy(this.headers, 'actions'))\"\n        :item-data=\"activeItemConfiguration\"\n        @toggle=\"hideTable= $event\"\n      >\n      </ActiveTableItem>\n      <v-data-table-server\n        v-if=\"!hideTable\"\n        v-bind=\"{...$bindAttributes(), ...footerProps}\"\n        :class=\"[\n          'px-4',\n          noFullScreen ? '' : 'h-100',\n          tableClasses,\n          fullWidthWrapper ? '' : 'ue-table--narrow-wrapper',\n          striped ? 'ue-datatable--striped' : '',\n          roundedRows ? 'ue-datatable--rounded-row' : '',\n          hideBorderRow ? 'ue-datatable--no-border-row' : '',\n          controlsPosition === 'bottom' || $vuetify.display.smAndDown ? 'ue-datatable--bottom-controls' : ''\n        ]\"\n        id=\"ue-table\"\n\n        :headers=\"selectedHeaders\"\n\n        :sticky=\"sticky\"\n        :items=\"elements\"\n        :hover=\"true\"\n\n        :items-per-page=\"options.itemsPerPage\"\n        :search=\"options.search\"\n        :page=\"options.page\"\n\n        :items-length=\"totalElements\"\n        :item-title=\"titleKey\"\n        ref=\"datatable\"\n\n        :height=\"windowSize.y - 64 - 24 - 59 - 36\"\n\n        :hide-default-header=\"hideHeaders\"\n        :multi-sort=\"multiSort\"\n        :must-sort=\"mustSort\"\n        :density=\"tableDensity ?? 'comfortable'\"\n        :disable-sort=\"disableSort\"\n        :loading=\"loading\"\n        :loading-text=\"$t('Loading... Please wait')\"\n        :mobile=\"$vuetify.display.smAndDown\"\n\n        :show-select=\"$store.getters.isSuperAdmin && showSelect\"\n        item-value=\"id\"\n        v-model=\"selectedItems\"\n\n        @update:options=\"changeOptions($event)\"\n      >\n      <!-- v-model:options=\"options\" -->\n        <template v-slot:top=\"{ someSelected }\">\n          <v-toolbar\n            v-bind=\"toolbarOptions\"\n            :class=\"[\n              'pt-1',\n            ]\"\n          >\n            <!-- table title -->\n            <div\n              :class=\"[\n                controlsPosition === 'bottom' || $vuetify.display.smAndDown ? 'pt-2' : 'flex-grow-1 h-100 d-flex flex-column justify-center',\n              ]\"\n              style=\"min-width: 20%;\"\n            >\n              <!-- title -->\n              <ue-title\n                type=\"subtitle-1\"\n                color=\"black\"\n                :text=\"tableTitle\"\n                padding=\"a-0\"\n              />\n              <!-- subtitle -->\n              <ue-title\n                v-if=\"tableSubtitle\"\n                type=\"caption\"\n                weight=\"medium\"\n                color=\"grey-darken-1\"\n                transform=\"none\"\n                padding=\"a-0\"\n                :text=\"tableSubtitle\"\n              />\n            </div>\n\n            <v-divider v-if=\"controlsPosition === 'bottom' || $vuetify.display.smAndDown\" class=\"my-3\"></v-divider>\n\n            <!-- table controls -->\n            <v-slide-x-transition :group=\"true\">\n              <div\n                :class=\"[\n                  'd-flex',\n                  controlsPosition === 'bottom' || $vuetify.display.smAndDown ? 'mb-2' : 'justify-end flex-grow-1',\n\n                ]\"\n              >\n                <template v-if=\"someSelected\">\n                  <!-- bulk actions -->\n                  <template v-for=\"(action, k) in bulkActions\" :key=\"k\">\n                    <v-btn\n                      v-if=\"can(action.name)\"\n                      v-bind=\"filterBtnOptions\"\n                      :append-icon=\"false\"\n                      :prepend-icon=\"(action.icon ? action.icon : `$${action.name}`)\"\n                      :text=\"window.__headline(action.name)\"\n                      :color=\"action.color ?? 'primary'\"\n                      @click=\"itemAction(action, action.name)\"\n                      v-tooltip=\"$lodash.startCase(action.name)\"\n                    />\n                  </template>\n                </template>\n                <template v-else>\n                  <!-- search field -->\n                  <v-text-field\n                    v-if=\"!hideSearchField && isStoreTable && hasSearchableHeader\"\n                    v-model=\"searchModel\"\n                    variant=\"outlined\"\n                    :append-inner-iconx=\"searchModel !== search ? 'mdi-magnify' : null\"\n                    hide-details\n                    density=\"compact\"\n                    single-line\n                    :placeholder=\"searchPlaceholder\"\n                    :class=\"[\n                      'mr-2',\n                      controlsPosition === 'bottom' || $vuetify.display.smAndDown ? 'flex-grow-1' : ''\n                    ]\"\n                    :style=\"[\n                      'display: inline',\n                      // controlsPosition === 'top' || $vuetify.display.smAndDown ? 'max-width: 300px' : '',\n                      'min-width: 100px'\n                    ]\"\n                    @click:append-inner=\"searchItems()\"\n                    :disabled=\"loading\"\n                    @keydown.enter=\"searchItems()\"\n                  >\n                    <template #append-inner>\n                      <v-btn :disabled=\"searchModel === search\" icon=\"mdi-magnify\" variant=\"plain\" size=\"compact\" color=\"grey-darken-5\" rounded @click=\"searchItems()\" />\n                    </template>\n                  </v-text-field>\n\n                  <!-- <v-spacer v-else-if=\"hideSearchField\"></v-spacer> -->\n\n                  <!-- filter button -->\n                  <v-btn v-if=\"mainFilters.length > 0\"\n                    id=\"filter-btn-activator\"\n                    v-bind=\"{...filterBtnOptions, ...filterBtnTitle}\"\n                    :icon=\"$vuetify.display.smAndDown ? filterBtnOptions['prepend-icon'] : null\"\n                    :text=\"$vuetify.display.smAndDown ? null : filterBtnTitle['text']\"\n                    :prepend-icon=\"$vuetify.display.smAndDown ? null : filterBtnOptions['prepend-icon']\"\n                    :density=\"$vuetify.display.smAndDown ? 'compact' : (filterBtnOptions['density'] ?? 'comfortable')\"\n                  />\n\n                  <!-- advanced filter button -->\n                  <v-btn v-if=\"Object.keys(advancedFilters).length > 0\"\n                    id=\"advanced-filter-btn\"\n                    v-bind=\"{...filterBtnOptions, ...filterBtnTitle}\"\n                    :icon=\"$vuetify.display.smAndDown ? filterBtnOptions['prepend-icon'] : null\"\n                    :text=\"$vuetify.display.smAndDown ? null : 'Advanced Filter'\"\n                    :prepend-icon=\"$vuetify.display.smAndDown ? null : filterBtnOptions['prepend-icon']\"\n                    :density=\"$vuetify.display.smAndDown ? 'compact' : (filterBtnOptions['density'] ?? 'comfortable')\"\n                  />\n\n                  <!-- create button -->\n                  <v-btn v-if=\"can('create') && !noForm && !someSelected && createOnModal\"\n                    v-bind=\"addBtnOptions\"\n                    @click=\"createForm\"\n                    :icon=\"$vuetify.display.smAndDown ? addBtnOptions['prepend-icon'] : null\"\n                    :text=\"$vuetify.display.smAndDown ? null : addBtnTitle\"\n                    :prepend-icon=\"$vuetify.display.smAndDown ? null : addBtnOptions['prepend-icon']\"\n                    :density=\"$vuetify.display.smAndDown ? 'compact' : (addBtnOptions['density'] ?? 'comfortable')\"\n                  />\n                </template>\n              </div>\n            </v-slide-x-transition>\n          </v-toolbar>\n\n          <v-divider v-if=\"controlsPosition === 'top' && $vuetify.display.mdAndUp\" class=\"mb-4 mt-2\"></v-divider>\n\n          <!-- filter menu -->\n          <v-menu\n            activator=\"#filter-btn-activator\"\n            >\n              <v-list>\n                <v-list-item\n                  v-for=\"(filter, index) in mainFilters\"\n                  :key=\"index\"\n                  v-on:click.prevent=\"filterStatus(filter.slug)\"\n                >\n                  <v-list-item-title>{{ filter.name + '(' + filter.number+ ')' }} </v-list-item-title>\n                </v-list-item>\n              </v-list>\n          </v-menu>\n\n          <!-- advanced filter menu -->\n          <v-menu\n            activator=\"#advanced-filter-btn\"\n            :close-on-content-click=\"false\"\n            :location=\"end\"\n\n          >\n            <v-card\n              title=\"Advanced Filter\"\n              min-width=\"40vw\"\n              max-width=\"50vw\"\n            >\n              <v-card-text>\n                <template v-for=\"(filters, index) in advancedFilters\" :key=\"index\">\n                  <component v-for=\"(filter, ind) in filters\"\n                    :is=\"`v-${filter.type}`\"\n                    v-bind=\"filter.componentOptions\"\n                    v-model=\"filter['selecteds']\"\n                  />\n                </template>\n              </v-card-text>\n              <!-- <v-row class=\"justify-center\" no-gutters>\n                <v-col\n                  cols=\"11\"\n                  :key=\"index\"\n                  v-for=\"(filters, index) in advancedFilters\"\n                >\n                  <component v-for=\"(filter, ind) in filters\"\n                    :is=\"`v-${filter.type}`\"\n                    v-bind=\"filter.componentOptions\"\n                    v-model=\"filter['selecteds']\"\n                  />\n                </v-col>\n              </v-row> -->\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  text=\"Clear\"\n                  variant=\"plain\"\n                  @click=\"clearAdvancedFilter\"\n                ></v-btn>\n\n                <v-btn\n                  color=\"primary\"\n                  text=\"Save\"\n                  variant=\"tonal\"\n                  @click=\"submitAdvancedFilter\"\n                ></v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-menu>\n\n          <!-- form modal -->\n          <ue-modal\n            v-if=\"!embeddedForm\"\n            ref=\"formModal\"\n            v-model=\"formActive\"\n\n            transition=\"dialog-bottom-transition\"\n            :fullscreen=\"false\"\n            width-type=\"lg\"\n            v-bind=\"formModalAttributes\"\n          >\n          <template v-slot:body=\"formModalBodyScope\">\n            <v-card class=\"fill-height d-flex flex-column\">\n              <!-- <v-card-title class=\"text-h5 grey lighten-2\"> </v-card-title> -->\n                <ue-form\n                  ref=\"UeForm\"\n\n                  form-class=\"px-6 pt-6 pb-0\"\n                  fill-height\n                  scrollable\n                  has-divider\n                  no-default-form-padding\n                  v-bind=\"formAttributes\"\n\n                  :title=\"formTitle\"\n                  :isEditing=\"editedIndex > -1\"\n                  :style=\"formModalBodyScope.isFullActive ? 'height: 90vh !important;' : 'height: 70vh !important;'\"\n                  :actions=\"formActions\"\n                  @action-complete=\"handleFormActionComplete\"\n                >\n\n                  <template v-slot:header.left=\"headerLeftScope\">\n                    <slot name=\"form.header.left\" v-bind=\"headerLeftScope\">\n                      {{ headerLeftScope.title }}\n                    </slot>\n                  </template>\n\n                  <template v-slot:header.right>\n                    <slot name=\"form.header.right\">\n                      <v-btn :icon=\"formModalBodyScope.isFullActive ? 'mdi-fullscreen-exit' : 'mdi-fullscreen'\" variant=\"plain\" color=\"grey-darken-5\" size=\"compact\" @click=\"formModalBodyScope.toggleFullscreen()\"/>\n                      <v-btn icon=\"$close\" variant=\"plain\" size=\"compact\" color=\"grey-darken-5\" rounded @click=\"closeForm()\" />\n                    </slot>\n                  </template>\n\n                  <template v-if=\"$slots['form.right.top']\" v-slot:right.top=\"rightScope\">\n                    <slot name=\"form.right.top\" v-bind=\"rightScope\">\n\n                    </slot>\n                  </template>\n                  <template v-if=\"$slots['form.right.middle']\" v-slot:right.middle=\"rightScope\">\n                    <slot name=\"form.right.middle\" v-bind=\"rightScope\">\n\n                    </slot>\n                  </template>\n                  <template v-if=\"$slots['form.right.bottom']\" v-slot:right.bottom=\"rightScope\">\n                    <slot name=\"form.right.bottom\" v-bind=\"rightScope\">\n\n                    </slot>\n                  </template>\n\n                  <template v-slot:top=\"formTopScope\">\n                    <slot name=\"form.top\" v-bind=\"formTopScope\">\n\n                    </slot>\n                  </template>\n                </ue-form>\n                <!-- <v-card-text>\n                </v-card-text> -->\n\n                <v-divider class=\"mx-6 mt-4\"/>\n                <v-card-actions class=\"px-6 flex-grow-0\">\n                  <v-spacer></v-spacer>\n                  <v-btn-secondary\n                    v-if=\"$store.getters.isSuperAdmin\"\n                    :slim=\"false\"\n                    variant=\"outlined\"\n                    @click=\"$refs.UeForm.validate()\"\n                  >\n                    {{ $t('Validate') }}\n                  </v-btn-secondary>\n                  <v-btn-primary\n                    :slim=\"false\"\n                    variant=\"elevated\"\n                    @click=\"confirmFormModal()\"\n                    :disabled=\"!formIsValid\"\n                    :loading=\"formLoading\"\n                  >\n                    {{ $t('fields.save') }}\n                  </v-btn-primary>\n                </v-card-actions>\n              </v-card>\n            </template>\n          </ue-modal>\n\n          <!-- embeddedform modal -->\n          <div class=\"ue-table-top__wrapper\">\n            <div v-if=\"embeddedForm && !noForm\" class=\"\"\n              :style=\"formStyles\">\n              <v-expand-transition>\n                <v-card class=\"mb-theme\" elevation=\"4\" v-if=\"formActive\">\n                  <ue-form\n                    has-submit\n                    button-text=\"save\"\n                    :title=\"formTitle\"\n                    ref=\"form\"\n                    :isEditing=\"editedIndex > -1\"\n                  >\n                    <template v-slot:header.left=\"headerLeftScope\">\n                      <slot name=\"form.header.left\" v-bind=\"headerLeftScope\">\n                        {{ headerLeftScope.title }}\n                      </slot>\n                    </template>\n                    <template v-slot:headerCenter>\n\n                    </template>\n                    <template v-slot:header.right>\n                      <v-btn class=\"\" variant=\"text\" icon=\"$close\" density=\"compact\"\n                        @click=\"closeForm()\"\n                      ></v-btn>\n                    </template>\n                  </ue-form>\n                </v-card>\n              </v-expand-transition>\n            </div>\n\n            <!-- custom modal -->\n            <ue-modal\n              ref=\"customModal\"\n              v-model=\"customModalActive\"\n              :transition=\"modals[activeModal] || 'dialog-bottom-transition'\"\n              :width-type=\"modals[activeModal].widthType || 'sm'\"\n              :persistent=\"modals[activeModal].persistent\"\n              :description-text=\"modals[activeModal].content\"\n            >\n              <template #body=\"props\">\n                <v-card>\n                  <v-card-title class=\"text-h5 text-center\" style=\"word-break: break-word;\"\n                    v-if=\"modals[activeModal].title\">\n                    <!-- {{ modal.title }} -->\n                  </v-card-title>\n                  <v-icon\n                    v-if=\"modals[activeModal].img\"\n                    :icon=\"modals[activeModal].icon\"\n                    style=\"margin:auto; border:4px solid;border-radius:50%;padding:32px;\"\n                    size=\"32\"\n                    :color=\"modals[activeModal].color\"/>\n\n                  <v-card-text class=\"text-center\" style=\"word-break: break-word;\">\n                    {{ modals[activeModal].content }}\n                  </v-card-text>\n                  <v-divider />\n                  <v-card-actions>\n                    <v-spacer />\n                    <v-btn\n                      v-if=\"modals[activeModal].hideModalCancel\"\n                      :color=\"modals[activeModal].color ? modals[activeModal].color : 'blue'\"\n                      text\n                      @click=\"modals[activeModal].closeAction()\"\n                    >\n                      {{ modals[activeModal].cancelText || props.textCancel }}\n                    </v-btn>\n                    <!-- <v-btn color=\"blue\" text @click=\"handleModal('confirm', modal.ref, props.onConfirm)\"></v-btn> -->\n                    <v-btn\n                      :color=\"modals[activeModal].color ? modals[activeModal].color : 'blue'\"\n                      text\n                      @click=\"modals[activeModal].confirmAction()\"\n                    >\n                      {{ modals[activeModal].confirmText || props.textConfirm }}\n                    </v-btn>\n                    <v-spacer />\n                  </v-card-actions>\n                </v-card>\n              </template>\n            </ue-modal>\n\n            <!-- show modal -->\n            <ue-modal\n              v-if=\"modals['show'].active\"\n              :ref=\"modals['show'].ref\"\n              v-model=\"modals['show'].active\"\n              :transition=\"modals['show'].transition || 'dialog-bottom-transition'\"\n              :width-type=\"modals['show'].widthType || 'lg'\"\n              :persistent=\"modals['show'].persistent\"\n              :description-text=\"modals['show'].description\"\n            >\n              <template v-slot:body=\"props\">\n                <v-card class=\"fill-height d-flex flex-column\">\n                  <v-card-title>\n                    <ue-title\n                      padding=\"a-3\"\n                      color=\"grey-darken-5\"\n                      align=\"center\"\n                      justify=\"space-between\"\n                    >\n                      {{ modals['show'].title }}\n                      <template v-slot:right>\n                      </template>\n                    </ue-title>\n                  </v-card-title>\n\n                  <v-divider class=\"mx-6\"/>\n                  <v-card-text>\n                    <ue-recursive-data-viewer\n                      :data=\"modals['show'].data\"\n                      :all-array-items-open=\"false\"\n                      :all-array-items-closed=\"false\"\n                    />\n                  </v-card-text>\n\n                  <v-divider class=\"mx-6 mt-4\"/>\n                  <v-card-actions class=\"px-6 flex-grow-0\">\n                    <v-spacer></v-spacer>\n                    <v-btn-primary\n                      :slim=\"false\"\n                      variant=\"elevated\"\n                      @click=\"modals['show'].cancel()\"\n                    >\n                      {{ $t('fields.close') }}\n                    </v-btn-primary>\n                  </v-card-actions>\n                </v-card>\n              </template>\n            </ue-modal>\n\n            <!-- custom form modal -->\n            <ue-modal\n              ref=\"customFormModal\"\n              v-model=\"customFormModalActive\"\n              :width-type=\"'lg'\"\n            >\n            <!-- <slot name=\"systembar\">\n              test\n            </slot> -->\n              <ue-form\n                ref=\"customForm\"\n                v-model=\"customFormModel\"\n                v-bind=\"customFormAttributes\"\n                fill-height\n                scrollable\n                has-divider\n                no-default-form-padding\n                form-class=\"px-6 pb-0\"\n                style=\"height: 90vh !important;\"\n              >\n                <template v-slot:header.right>\n                  <v-btn class=\"ml-auto\" variant=\"text\" icon=\"$close\" density=\"compact\" color=\"deafult\"\n                    @click=\"customFormModalActive = false\"\n                  ></v-btn>\n                </template>\n              </ue-form>\n            </ue-modal>\n\n          </div>\n\n        </template>\n\n        <!-- MARK: DATA-ITERATOR BODY -->\n        <template v-slot:body=\"{ items }\" v-if=\"hasCustomRow\" class=\"ue-datatable__container\">\n          <v-row no-gutters>\n            <v-col\n              v-for=\"(element, i) in items\"\n              :key=\"element.id\"\n              v-bind=\"customRow.col\"\n            >\n            <!-- // TODO - check if its empty -->\n              <component\n                :is=\"`ue-${customRow.name}`\"\n                :key=\"element.id\"\n                :item=\"element\"\n                :headers=\"headers\"\n                :rowActions = \"rowActions\"\n                @click-action=\"itemAction\"\n                @edit-item = \"editItem\"\n              >\n\n                <template v-slot:actions>\n                  <div>\n                    <div class=\"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0\">\n                      <template v-for=\"(action, k) in rowActions\" :key=\"k\">\n                        <!-- {{ $log(action) }} -->\n                        <v-tooltip\n                          v-if=\"itemHasAction(element, action)\"\n                          :text=\"$t( action.label ?? $headline(action.name) )\"\n                          location=\"top\"\n                          >\n                          <template v-slot:activator=\"{ props }\">\n                            <v-btn\n                              v-bind=\"props\"\n                              :text=\"action.forceLabel ? $t( action.label ?? $headline(action.name) ) : null\"\n                              :variant=\"action.variant ?? 'elevated'\"\n                              :density=\"action.density ?? (action.forceLabel ? 'comfortable' : 'compact')\"\n                              :size=\"action.size ?? (action.forceLabel ? 'default' : 'default')\"\n                              :icon=\"action.forceLabel ? null : (action.icon ? action.icon : '$' + action.name)\"\n                              :color=\"action.color ?? 'primary'\"\n                              :rounded=\"action.forceLabel ? null : true\"\n                              @click=\"itemAction(element, action)\"\n                              class=\"text-capitalize\"\n                            />\n                          </template>\n                        </v-tooltip>\n                      </template>\n                    </div>\n                  </div>\n                </template>\n              </component>\n              <v-divider v-if=\"i < items.length - 1\" />\n            </v-col>\n          </v-row>\n        </template>\n\n        <!-- MARK PAGINATION BUTTONS -->\n\n        <template v-if=\"enableCustomFooter\" v-slot:bottom=\"{page, pageCount}\">\n          <div class=\"d-flex justify-end\">\n            <v-pagination\n            v-model=\"options.page\"\n            :length=\"pageCount\"\n            v-bind=\"footerProps\"\n          />\n          </div>\n        </template>\n\n        <!-- Custom Slots -->\n        <template\n          v-for=\"(context, slotName) in slots\" v-slot:[slotName]\n          :key=\"`customSlot-${slotName}`\"\n          >\n          <div>\n            <ue-recursive-stuff\n              v-for=\"(configuration, i) in context.elements\"\n              :key=\"`tag-0-${i}`\"\n              :configuration=\"configuration\"\n            />\n          </div>\n        </template>\n\n        <!-- #formatterColumns -->\n        <template\n          v-for=\"(col, i) in formatterColumns\"\n          :key=\"`formatter-${i}`\"\n          v-slot:[`item.${col.key}`]=\"{ item }\"\n        >\n          <template v-if=\"col.formatter == 'edit' || col.formatter == 'activate'\">\n            <v-tooltip :text=\"item[col.key]\" :key=\"i\">\n              <template v-slot:activator=\"{ props }\">\n                <v-btn\n                  :key=\"i\"\n                  v-bind=\"props\"\n                  class=\"pa-0 justify-start text-capitalize\"\n                  variant=\"plain\"\n                  :color=\"`primary darken-1`\"\n                  @click=\"itemAction(item, ...col.formatter)\"\n                >\n                  {{ col.key.match(/^id|uuid$/) ? window.__shorten(item[col.key], 8) : item[col.key] }}\n                </v-btn>\n                <template v-if=\"col.key.match(/^id|uuid$/)\">\n                  <ue-copy-text :text=\"item[col.key]\" />\n                </template>\n              </template>\n            </v-tooltip>\n          </template>\n          <template v-else-if=\"col.formatter == 'switch'\">\n            <!-- {{ $log('switch', item, col.key) }} -->\n            <v-switch\n              :key=\"i\"\n              :model-value=\"item[col.key]\"\n              color=\"success\"\n              :true-value=\"1\"\n              false-value=\"0\"\n              hide-details\n              @update:modelValue=\"itemAction(item, 'switch', $event, col.key )\"\n            >\n              <template v-slot:label></template>\n            </v-switch>\n          </template>\n          <template v-else-if=\"col.formatter == 'dynamic'\">\n            <ue-dynamic-component-renderer\n              :subject=\"item[col.key]\"\n              :key=\"item[col.key]\"\n            >\n            </ue-dynamic-component-renderer>\n          </template>\n          <template v-else>\n            <ue-recursive-stuff\n              v-bind=\"handleFormatter(col.formatter, window.__shorten(item[col.key], cellOptions.maxChars))\"\n              :key=\"item[col.key]\"\n            />\n          </template>\n        </template>\n\n        <!-- #header actions slot -->\n        <template v-slot:header.actions=\"_obj\">\n          <v-menu\n            :close-on-content-click=\"false\"\n            location=\"bottom\"\n            >\n            <template v-slot:activator=\"{ props }\">\n              <v-btn\n                size=\"large\"\n                variant=\"plain\"\n                color=\"black\"\n                icon=\"mdi-cog-outline\"\n                v-bind=\"props\"\n              />\n              <!-- <v-icon\n                size=\"large\"\n                icon=\"mdi-cog-outline\"\n                v-bind=\"props\"\n              /> -->\n            </template>\n            <v-card>\n              <v-card-title>\n                <v-list class=\"\">\n                  <template v-for=\"(item, index) in headersModel\" :key=\"index\">\n                    <v-checkbox\n                      class=\"ml-n2\"\n                      v-if=\"item.key !== 'actions'\"\n                      :disabled=\"headersModel.filter(h => h.key !== 'actions' && h.visible === true).length < 2 && headersModel[index].visible === true\"\n                      v-model=\"headersModel[index].visible\"\n                      :label=\"item.title\"\n                      hide-details\n                      density=\"comfortable\"\n                    />\n                  </template>\n                </v-list>\n              </v-card-title>\n              <v-card-actions>\n                <v-btn\n                  color=\"primary\"\n                  text=\"Save\"\n                  variant=\"tonal\"\n                  @click=\"applyHeaders\"\n                  block\n                ></v-btn>\n              </v-card-actions>\n            </v-card>\n\n          </v-menu>\n        </template>\n\n        <!-- #item actions slot-->\n        <template v-slot:item.actions=\"{ item }\">\n          <v-menu v-if=\"actionShowingType === 'dropdown'\"\n            :close-on-content-click=\"false\"\n            left\n            offset-x\n            class=\"action-dropdown\"\n            >\n            <template v-slot:activator=\"{ props }\">\n              <v-icon\n                size=\"large\"\n                color=\"primary\"\n                icon=\"$list\"\n                v-bind=\"props\"\n                >\n              </v-icon>\n            </template>\n            <v-list>\n              <template v-for=\"(action, k) in rowActions\" :key=\"k\">\n                <v-list-item\n                  v-if=\"itemHasAction(item, action)\"\n                  @click=\"itemAction(item, action)\"\n                  >\n                    <v-icon small :color=\"action.color\" left>\n                      {{ action.icon ? action.icon : '$' + action.name }}\n                    </v-icon>\n                    {{ $t( action.label ?? $headline(action.name) ) }}\n                </v-list-item>\n              </template>\n            </v-list>\n          </v-menu>\n\n          <div v-else>\n            <template v-for=\"(action, k) in rowActions\" :key=\"k\">\n              <v-tooltip\n                v-if=\"itemHasAction(item, action)\"\n                :text=\"$t( action.label ?? action.name )\"\n                location=\"top\"\n                >\n                <template v-slot:activator=\"{ props }\">\n                  <v-icon\n                    small\n                    class=\"mr-2\"\n                    @click=\"itemAction(item, action)\"\n                    :color=\"action.color\"\n                    v-bind=\"props\"\n                    >\n                    {{ action.icon ? action.icon : '$' + action.name }}\n                  </v-icon>\n                </template>\n              </v-tooltip>\n            </template>\n          </div>\n        </template>\n\n        <!-- MARK: Infinite Scroll Triggering Component -->\n        <template v-slot:body.append>\n            <v-card v-intersect=\"onIntersect\" v-if=\"enableInfiniteScroll\"/>\n            <v-progress-circular :indeterminate=\"loading\" v-if=\"enableInfiniteScroll && loading\"></v-progress-circular>\n        </template>\n\n        <template v-slot:default v-if=\"draggable\">\n          <thead>\n            <slot :name=\"headers\">\n              <VDataTableHeaders :mobile=\"this.datatable.mobile\" :color=\"this.headerOptions.color\">\n                <template v-for=\"(_, name) in this.datatable.$slots\" v-slot:[name]=\"slotData\">\n                  <slot :name=\"name\" v-bind=\"slotData\">\n                    <component\n                      :is=\"this.datatable.$slots[name]\"\n                      v-bind=\"slotData\"\n                    />\n                  </slot>\n\n                </template>\n              </VDataTableHeaders>\n            </slot>\n          </thead>\n\n          <Draggable\n            :model-value=\"elements\"\n            item-key=\"position\"\n            v-bind=\"dragOptions\"\n            tag=\"tbody\"\n            class=\"v-data-table__tbody\"\n            @update:modelValue=\"sortElements\"\n          >\n            <template #item=\"itemSlot\">\n              <VDataTableRow :item=\"draggableItems[itemSlot.index]\" :mobile=\"this.datatable.mobile\">\n                <template v-for=\"(_, name) in this.datatable.$slots\" v-slot:[name]=\"slotData\">\n                  <slot :name=\"name\" v-bind=\"slotData\">\n                    <component\n                      :is=\"this.datatable.$slots[name]\",\n                      v-bind=\"{\n                        ...slotData,\n                        ...{\n                          item: elements[itemSlot.index]\n                        }\n                      }\"\n                    />\n                  </slot>\n                </template>\n              </VDataTableRow>\n            </template>\n          </Draggable>\n        </template>\n\n      </v-data-table-server>\n    </div>\n  <!-- </v-layout> -->\n</template>\n\n<script>\nimport Draggable from 'vuedraggable'\nimport { VDataTableRows } from 'vuetify/lib/components/VDataTable/index.mjs'\nimport { VDataTableRow } from 'vuetify/lib/components/VDataTable/index.mjs'\n\nimport {\n  makeTableNamesProps,\n  makeTableEndpointsProps,\n  makeTableHeadersProps,\n  makeTableFormsProps,\n  makeTableFiltersProps,\n  makeTableItemActionsProps,\n  makeTableProps,\n  makeDraggableProps,\n  makeFormatterProps,\n  useTable,\n  useDraggable,\n} from '@/hooks'\n\nimport ActiveTableItem from '__components/labs/ActiveTableItem.vue'\nimport PaymentService from './inputs/PaymentService.vue'\n\nconst { ignoreFormatters } = makeFormatterProps()\n\nexport default {\n  // mixins: [TableMixin],\n  components: {\n    ActiveTableItem,\n    Draggable,\n    VDataTableRow,\n    PaymentService\n\n  },\n  props: {\n    ...makeTableNamesProps(),\n    ...makeTableEndpointsProps(),\n    ...makeTableFiltersProps(),\n    ...makeTableHeadersProps(),\n    ...makeTableFormsProps(),\n    ...makeTableItemActionsProps(),\n    ...makeTableProps(),\n    ...makeDraggableProps(),\n    ...ignoreFormatters\n  },\n  setup (props, context) {\n    return {\n      ...useDraggable(props, context),\n      ...useTable(props, context),\n    }\n  },\n  data () {\n    return {\n      datatable: {},\n    }\n  },\n  mounted () {\n    document.documentElement.style.setProperty('--table-header-color', this.headerOptions.color);\n\n    this.$nextTick(() => {\n      if (this.$refs.datatable) {\n        this.datatable = this.$refs.datatable;\n      }\n    });\n\n    this.initialize()\n    // __log(\n    //   // this.$props,\n    //   // _.omit(this.$props ?? {}, ['columns']),\n    //   // this.$lodash.pick(this.$props ?? {}, ['name', 'fullWidthWrapper']),\n    //   Object.values(this.$lodash.omitBy(this.headers, 'actions'))\n    // )\n  },\n  created () {\n    // this.$can(this.rowActions[0].can ?? '')\n\n    // const store = useStore();\n    // if(store._state.data.datatable.customModal){\n    //   __removeQueryParams(['customModal[description]', 'customModal[color]']);\n    // }\n  },\n  methods: {\n  },\n\n}\n</script>\n\n<style lang=\"sass\">\n.ue-datatable__container\n  width: 100%\n\n  &.ue-datatable--full-screen\n    min-height: calc(100vh - (2*12 * $spacer))\n\n.v-table\n  &.ue-datatable\n    &--bottom-controls\n      .v-toolbar__content\n        display: block\n        height: unset !important\n\n    &--no-border-row\n      .v-table__wrapper\n        > table\n          > tbody\n            > tr:not(:last-child)\n              > td,\n              > th\n                border: none!important\n\n    &--rounded-row\n      th\n        background-color: var(--table-header-color) //TODO: table action border must be variable\n      tr\n        // &:first-child\n        td,th\n          &:first-child\n            border-bottom-left-radius: 8px\n            border-top-left-radius: 8px\n\n          &:last-child\n            border-bottom-right-radius: 8px\n            border-top-right-radius: 8px\n\n    &--striped\n      tr\n        &:nth-of-type(2n)\n          background-color: rgba(140,160,167, .2) //TODO: table action border must be variable\n\n  .action-dropdown\n    .v-overlay__content\n      border: 1px solid #49454F !important //TODO: table action border must be variable\n</style>\n","<template>\n  <component :is=\"`ue-${componentName}`\" v-bind=\"tableAttributes\"/>\n</template>\n\n<script>\n  export default {\n    props: {\n      componentName: {\n        type: String,\n\n      },\n      tableAttributes: {\n        type: Object,\n        required: true,\n        default: {}\n      }\n    },\n  }\n</script>\n","<template>\n  <v-row>\n    <v-col v-for=\"(element,i) in elements\" :key=\"i\" v-bind=\"element.col\" >\n      <label\n        :class=\"[`${textColor}`, element.class]\"\n        :style=\"element.style\">\n        {{ element.text }}\n      </label>\n    </v-col>\n  </v-row>\n</template>\n\n<script >\n\nexport default {\n  props: {\n    elements: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    color: {\n      type: String,\n      default: ''\n    }\n\n  },\n  data () {\n    return {\n      defaultCols: [\n\n      ]\n    }\n  },\n  computed: {\n    textColor () {\n      // `this` points to the component instance\n      return this.color !== '' ? `text-${this.color}` : ''\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","<template>\n  <v-tabs v-model=\"tab\" align-tabs=\"center\">\n    <template v-for=\"element in elements\" :key=\"`tab-${element[tabValue]}`\" :value=\"element[tabValue]\">\n      <slot :name=\"`tab.${element[tabValue]}`\">\n        <v-tab :value=\"element[tabValue]\">\n          <span>{{ element[tabTitle] }}</span>\n          <template v-slot:prepend>\n            <slot :name=\"`tab.${element[tabValue]}.prepend`\"></slot>\n          </template>\n          <template v-slot:append>\n            <slot :name=\"`tab.${element[tabValue]}.append`\"></slot>\n          </template>\n        </v-tab>\n      </slot>\n    </template>\n  </v-tabs>\n  <slot name=\"windows\" v-bind=\"{active: tab}\">\n    <v-tabs-window v-model=\"tab\">\n      <v-tabs-window-item\n        v-for=\"(item, n) in items\"\n        :key=\"`tab-window-${n}`\"\n        :value=\"item[tabValue]\"\n      >\n        <slot :name=\"`window.${n}`\" v-bind=\"{index: n, item: item, model: models[item[tabValue]]}\">\n          <RowFormat :elements=\"[{text: `${item[itemTitle]}`, col: {'cols': 4}}]\"/>\n        </slot>\n      </v-tabs-window-item>\n    </v-tabs-window>\n  </slot>\n</template>\n<script>\n  import RowFormat from '__components/labs/RowFormat.vue'\n\n  export default {\n    name: 'ue-tabs',\n    emits: ['update:modelValue'],\n    components: {\n      RowFormat\n    },\n    props: {\n      modelValue: {\n        type: [String, Number]\n      },\n      tabValue: {\n        type: String,\n        default: 'id',\n      },\n      tabTitle: {\n        type: String,\n        default: 'name',\n      },\n      itemTitle: {\n        type: String,\n        default: 'name'\n      },\n      items: {\n        type: Object,\n        default: () => {\n          return {\n          }\n        }\n      }\n    },\n    data () {\n      return {\n        tab_: this.modelValue ?? Object.keys(this.items)[0] ?? this.items[0][this.tabValue] ?? null,\n        models: {},\n        elements: __isObject(this.items)\n          ? Object.keys(this.items).map(key => ({\n            [this.tabTitle]: key,\n            ...this.items[key],\n            [this.tabValue]: key,\n          }))\n          : this.items\n      }\n    },\n    watch: {\n      tab_: {\n        handler (value, oldValue) {\n          __log('tab watcher', value)\n          this.$emit('update:modelValue', value)\n        }\n      },\n    },\n    computed: {\n      tab: {\n        get(){\n          return this.modelValue ?? Object.keys(this.items)[0] ?? this.items[0][this.tabValue] ?? null\n        },\n        set(val){\n          this.$emit('update:modelValue', val)\n        }\n      },\n    },\n    created(){\n      this.models = Object.keys(this.items).map((key, i) => {\n        return []\n      })\n    }\n  }\n</script>\n","<template>\n  <v-tabs v-model=\"tab\" align-tabs=\"center\">\n    <v-tab v-for=\"key in Object.keys(items)\" :key=\"`tab-${key}`\" :value=\"key\">{{ key }}</v-tab>\n  </v-tabs>\n  <v-tabs-window v-model=\"tab\">\n    <v-tabs-window-item\n      v-for=\"(key, n) in Object.keys(items)\"\n      :key=\"`tab-window-${key}`\"\n      :value=\"key\"\n      class=\"pa-theme\"\n    >\n      <slot name=\"window\" v-bind=\"{index: n, key: key, items: items[key], model: models[key]}\">\n        <template v-for=\"(item, i) in items[key]\" :key=\"`window-row-${i}]`\">\n          <RowFormat :elements=\"[{text: `${item[itemTitle]}`, col: {'cols': 4}}]\"/>\n        </template>\n        <slot name=\"windowItem\">\n        </slot>\n      </slot>\n    </v-tabs-window-item>\n  </v-tabs-window>\n</template>\n<script>\n  import RowFormat from '__components/labs/RowFormat.vue'\n  export default {\n    name: 'ue-tabs',\n    components: {\n      RowFormat\n    },\n    props: {\n      itemTitle: {\n        type: String,\n        default: 'name'\n      },\n      items: {\n        type: Object,\n        default: () => {\n          return {\n          }\n        }\n      }\n    },\n    data () {\n      return {\n        tab: Object.keys(this.items)[0] ?? null,\n        models: {},\n      }\n    },\n    created(){\n      this.models = Object.keys(this.items).map((key, i) => {\n        return []\n      })\n    }\n  }\n</script>\n","<template>\n  <div class=\"d-flex align-baseline\">\n    <span class=\"font-weight-bold\">{{ text }}</span>\n    <span v-if=\"subText\" class=\"text-body-1\">{{ subText }}</span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ue-text-display',\n  props: {\n    text: {\n      type: String,\n      required: true\n    },\n    subText: {\n      type: String,\n      required: false\n    }\n  }\n}\n</script>\n","<template>\n  <component\n    :is=\"tag\"\n    :class=\"[\n      titleClasses,\n      classes,\n      'd-flex'\n    ]\"\n  >\n    <slot v-bind=\"{text}\">\n      {{ text }}\n    </slot>\n    <slot name=\"right\">\n\n    </slot>\n    <!-- <slot v-bind=\"{right}\">\n\n    </slot> -->\n    <!-- <slot name=\"description\" v-bind=\"{subTitle}\">\n      <div :class=\"[(!paddingReset ? paddingClasses: []), descriptionClasses]\">\n        {{ subTitle ?? '' }}\n      </div>\n    </slot> -->\n  </component>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\n\nconst props = defineProps({\n  text: String,\n  subTitle: String,\n  tag: {\n    type: String,\n    default: 'div',\n    validator: (value) => ['div', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(value)\n  },\n  type: {\n    type: String,\n    default: 'body-1',\n    validator: (value) => value === null || ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'subtitle-1', 'subtitle-2', 'body-1', 'body-2', 'button', 'caption', 'overline'].includes(value)\n  },\n  weight: {\n    type: String,\n    default: 'bold',\n    validator: (value) => value === null || ['black', 'bold', 'medium', 'regular', 'light', 'thin'].includes(value)\n  },\n  transform: {\n    type: String,\n    default: 'uppercase',\n    validator: (value) => value === null || ['none', 'capitalize', 'lowercase', 'uppercase'].includes(value)\n  },\n  color: {\n    type: String,\n  },\n  bg: {\n    type: String\n  },\n  padding: {\n    type: String,\n    default: 'a-3',\n  },\n  margin: {\n    type: String,\n    default: 'a-0',\n  },\n  align: {\n    type: String,\n    default: 'start',\n    validator: (value) => ['start', 'center', 'end'].includes(value)\n  },\n  textPosition: {\n    type: String,\n    default: 'left',\n    validator: (value) => ['left', 'center', 'right'].includes(value)\n  },\n  justify: {\n    type: String,\n    default: 'start',\n    validator: (value) => ['start', 'center', 'end'].includes(value)\n  },\n  defaultClasses: {\n    type: [String, Array],\n    default: 'ue-title'\n  },\n  classes: {\n    type: [String, Array]\n  },\n  paddingReset: {\n    type: Boolean,\n    default: false\n  },\n  descriptionClasses: {\n    type: [String, Array],\n    default: 'font-weight-light text-subtitle-2 text-truncate'\n  },\n});\n\nconst titleClasses = computed(() => [\n  `text-${props.type}`,\n  props.bg ? `bg-${props.bg}` : '',\n  props.color ? `text-${props.color}` : '',\n  `text-${props.transform}`,\n  `font-weight-${props.weight}`,\n  props.padding ? `p${props.padding}` : '',\n  props.margin ? `m${props.margin}` : '',\n  `text-${props.textPosition}`,\n  `align-${props.align}`,\n  `justify-${props.justify}`\n]);\n\n</script>\n\n<style lang=\"sass\" scoped>\n  .ue-title\n    display: flex\n    flex-direction: column\n</style>\n","// const truncate = require('truncate-utf8-bytes')\nimport { truncate } from 'lodash'\n\n/**\n * Replaces characters in strings that are illegal/unsafe for filenames.\n * Unsafe characters are either removed or replaced by a substitute set\n * in the optional `options` object.\n *\n * Illegal Characters on Various Operating Systems\n * / ? < > \\ : * | \"\n * https://kb.acronis.com/content/39790\n *\n * Unicode Control codes\n * C0 0x00-0x1f & C1 (0x80-0x9f)\n * http://en.wikipedia.org/wiki/C0_and_C1_control_codes\n *\n * Reserved filenames on Unix-based systems (\".\", \"..\")\n * Reserved filenames in Windows (\"CON\", \"PRN\", \"AUX\", \"NUL\", \"COM1\",\n * \"COM2\", \"COM3\", \"COM4\", \"COM5\", \"COM6\", \"COM7\", \"COM8\", \"COM9\",\n * \"LPT1\", \"LPT2\", \"LPT3\", \"LPT4\", \"LPT5\", \"LPT6\", \"LPT7\", \"LPT8\", and\n * \"LPT9\") case-insesitively and with or without filename extensions.\n *\n * Capped at 255 characters in length.\n * http://unix.stackexchange.com/questions/32795/what-is-the-maximum-allowed-filename-and-folder-size-with-ecryptfs\n *\n * @param  {String} input   Original filename\n * @param  {Object} options {replacement: String}\n * @return {String}         Sanitized filename\n */\n\nconst illegalRe = /[\\/\\?<>\\\\:\\*\\|\":]/g\n/* eslint-disable no-control-regex */\nconst controlRe = /[\\x00-\\x1f\\x80-\\x9f]/g\nconst reservedRe = /^\\.+$/\nconst windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\\..*)?$/i\nconst windowsTrailingRe = /[\\. ]+$/\n\n// UTF to ASCII map. Removes accents\nconst defaultDiacriticsRemovalap = [\n  { base: 'A', letters: '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F' },\n  { base: 'AA', letters: '\\uA732' },\n  { base: 'AE', letters: '\\u00C6\\u01FC\\u01E2' },\n  { base: 'AO', letters: '\\uA734' },\n  { base: 'AU', letters: '\\uA736' },\n  { base: 'AV', letters: '\\uA738\\uA73A' },\n  { base: 'AY', letters: '\\uA73C' },\n  { base: 'B', letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181' },\n  { base: 'C', letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E' },\n  { base: 'D', letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779' },\n  { base: 'DZ', letters: '\\u01F1\\u01C4' },\n  { base: 'Dz', letters: '\\u01F2\\u01C5' },\n  { base: 'E', letters: '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E' },\n  { base: 'F', letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B' },\n  { base: 'G', letters: '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E' },\n  { base: 'H', letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D' },\n  { base: 'I', letters: '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197' },\n  { base: 'J', letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248' },\n  { base: 'K', letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2' },\n  { base: 'L', letters: '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780' },\n  { base: 'LJ', letters: '\\u01C7' },\n  { base: 'Lj', letters: '\\u01C8' },\n  { base: 'M', letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C' },\n  { base: 'N', letters: '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4' },\n  { base: 'NJ', letters: '\\u01CA' },\n  { base: 'Nj', letters: '\\u01CB' },\n  { base: 'O', letters: '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C' },\n  { base: 'OI', letters: '\\u01A2' },\n  { base: 'OO', letters: '\\uA74E' },\n  { base: 'OU', letters: '\\u0222' },\n  { base: 'OE', letters: '\\u008C\\u0152' },\n  { base: 'oe', letters: '\\u009C\\u0153' },\n  { base: 'P', letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754' },\n  { base: 'Q', letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A' },\n  { base: 'R', letters: '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782' },\n  { base: 'S', letters: '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784' },\n  { base: 'T', letters: '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786' },\n  { base: 'TZ', letters: '\\uA728' },\n  { base: 'U', letters: '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244' },\n  { base: 'V', letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245' },\n  { base: 'VY', letters: '\\uA760' },\n  { base: 'W', letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72' },\n  { base: 'X', letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C' },\n  { base: 'Y', letters: '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE' },\n  { base: 'Z', letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762' },\n  { base: 'a', letters: '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250' },\n  { base: 'aa', letters: '\\uA733' },\n  { base: 'ae', letters: '\\u00E6\\u01FD\\u01E3' },\n  { base: 'ao', letters: '\\uA735' },\n  { base: 'au', letters: '\\uA737' },\n  { base: 'av', letters: '\\uA739\\uA73B' },\n  { base: 'ay', letters: '\\uA73D' },\n  { base: 'b', letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253' },\n  { base: 'c', letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184' },\n  { base: 'd', letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A' },\n  { base: 'dz', letters: '\\u01F3\\u01C6' },\n  { base: 'e', letters: '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD' },\n  { base: 'f', letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C' },\n  { base: 'g', letters: '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F' },\n  { base: 'h', letters: '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265' },\n  { base: 'hv', letters: '\\u0195' },\n  { base: 'i', letters: '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131' },\n  { base: 'j', letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249' },\n  { base: 'k', letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3' },\n  { base: 'l', letters: '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747' },\n  { base: 'lj', letters: '\\u01C9' },\n  { base: 'm', letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F' },\n  { base: 'n', letters: '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5' },\n  { base: 'nj', letters: '\\u01CC' },\n  { base: 'o', letters: '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275' },\n  { base: 'oi', letters: '\\u01A3' },\n  { base: 'ou', letters: '\\u0223' },\n  { base: 'oo', letters: '\\uA74F' },\n  { base: 'p', letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755' },\n  { base: 'q', letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759' },\n  { base: 'r', letters: '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783' },\n  { base: 's', letters: '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B' },\n  { base: 't', letters: '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787' },\n  { base: 'tz', letters: '\\uA729' },\n  { base: 'u', letters: '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289' },\n  { base: 'v', letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C' },\n  { base: 'vy', letters: '\\uA761' },\n  { base: 'w', letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73' },\n  { base: 'x', letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D' },\n  { base: 'y', letters: '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF' },\n  { base: 'z', letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763' }\n]\n\nconst diacriticsMap = {}\nfor (let i = 0; i < defaultDiacriticsRemovalap.length; i++) {\n  const letters = defaultDiacriticsRemovalap[i].letters.split('')\n  for (let j = 0; j < letters.length; j++) {\n    diacriticsMap[letters[j]] = defaultDiacriticsRemovalap[i].base\n  }\n}\n\nfunction noAccents (string, removeOtherUnicodeCharacters, replacementCharacter) {\n  // x00-x7E is the ASCII character range\n  let withoutAccents = string.replace(/[^\\u0000-\\u007E]/g, function (ch) {\n    return diacriticsMap[ch] || ch\n  })\n\n  replacementCharacter = replacementCharacter || ''\n\n  if (removeOtherUnicodeCharacters) {\n    withoutAccents = withoutAccents.replace(/[^\\u0000-\\u007E]/g, replacementCharacter)\n  }\n\n  return withoutAccents\n}\n\nfunction sanitize (input, replacement) {\n  let sanitized = noAccents(input, true)\n    .replace(illegalRe, replacement)\n    .replace(controlRe, replacement)\n    .replace(reservedRe, replacement)\n    .replace(windowsReservedRe, replacement)\n    .replace(windowsTrailingRe, replacement)\n\n  const cleanCharacters = /[^0-9a-zA-Z-.,;_]/g\n\n  sanitized = sanitized.replace(cleanCharacters, '')\n\n  // return truncate(sanitized, 255)\n  return truncate(sanitized, {length: 255})\n}\n\nexport default function (input, options) {\n  const replacement = (options && options.replacement) || ''\n  const output = sanitize(input, replacement)\n  if (replacement === '') {\n    return output\n  }\n  return sanitize(output, '')\n}\n","<template>\n  <div class=\"uploader\">\n    <div class=\"uploader__dropzone\" ref=\"uploaderDropzone\">\n      <div class=\"button\" ref=\"uploaderBrowseButton\">{{ $trans('uploader.upload-btn-label', 'Add new') }}</div>\n      <div class=\"uploader__dropzone--desktop\">{{ $trans('uploader.dropzone-text', 'or drop new files here') }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { MEDIA_LIBRARY } from '@/store/mutations'\nimport qq from 'fine-uploader/lib/dnd'\nimport FineUploaderS3 from 'fine-uploader-wrappers/s3'\nimport FineUploaderAzure from 'fine-uploader-wrappers/azure'\nimport FineUploaderTraditional from 'fine-uploader-wrappers/traditional'\nimport sanitizeFilename from '@/utils/sanitizeFilename.js'\n\nexport default {\n  name: 'A17Uploader',\n  props: {\n    type: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function () {\n    return {\n      loadingMedias: []\n    }\n  },\n  computed: {\n    uploaderConfig: function () {\n      return this.type.uploaderConfig\n    },\n    uploaderValidation: function () {\n      const extensions = this.uploaderConfig.allowedExtensions\n      return {\n        allowedExtensions: extensions,\n        acceptFiles: '.' + extensions.join(', .'),\n        stopOnFirstInvalidFile: false\n      }\n    }\n  },\n  methods: {\n    initUploader: function () {\n      const buttonEl = this.$refs.uploaderBrowseButton\n      const sharedConfig = {\n        debug: true,\n        maxConnections: 5,\n        button: buttonEl,\n        retry: {\n          enableAuto: false\n        },\n        callbacks: {\n          onSubmit: this._onSubmitCallback.bind(this),\n          onProgress: this._onProgressCallback.bind(this),\n          onError: this._onErrorCallback.bind(this),\n          onComplete: this._onCompleteCallback.bind(this),\n          onAllComplete: this._onAllCompleteCallback.bind(this),\n          onStatusChange: this._onStatusChangeCallback.bind(this),\n          onTotalProgress: this._onTotalProgressCallback.bind(this)\n        },\n        text: {\n          fileInputTitle: 'Browse...'\n        },\n        messages: {\n          // Todo: need to translate this in uploaderConfig\n          retryFailTooManyItemsError: 'Retry failed - you have reached your file limit.',\n          sizeError: '{file} is too large, maximum file size is {sizeLimit}.',\n          tooManyItemsError: 'Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.',\n          typeError: '{file} has an invalid extension. Valid extension(s): {extensions}.'\n        }\n      }\n\n      this._uploader = this.uploaderConfig.endpointType === 's3'\n        ? new FineUploaderS3({\n          options: {\n            ...sharedConfig,\n            validation: {\n              ...this.uploaderValidation\n            },\n            objectProperties: {\n              key: id => {\n                return this.unique_folder_name + '/' + sanitizeFilename(this._uploader.methods.getName(id))\n              },\n              region: this.uploaderConfig.endpointRegion,\n              bucket: this.uploaderConfig.endpointBucket,\n              acl: this.uploaderConfig.acl\n            },\n            request: {\n              endpoint: this.uploaderConfig.endpoint,\n              accessKey: this.uploaderConfig.accessKey\n            },\n            signature: {\n              endpoint: this.uploaderConfig.signatureEndpoint,\n              version: 4,\n              customHeaders: {\n                'X-CSRF-TOKEN': this.uploaderConfig.csrfToken\n              }\n            },\n            uploadSuccess: {\n              endpoint: this.uploaderConfig.successEndpoint,\n              customHeaders: {\n                'X-CSRF-TOKEN': this.uploaderConfig.csrfToken\n              }\n            }\n          }\n        })\n        : this.uploaderConfig.endpointType === 'azure'\n          ? new FineUploaderAzure({\n            options: {\n              ...sharedConfig,\n              validation: {\n                ...this.uploaderValidation\n              },\n              cors: {\n                expected: true,\n                sendCredentials: true\n              },\n              blobProperties: {\n                name: id => {\n                  return new Promise((resolve) => {\n                    resolve(this.unique_folder_name + '/' + sanitizeFilename(this._uploader.methods.getName(id)))\n                  })\n                }\n              },\n              request: {\n                endpoint: this.uploaderConfig.endpoint\n              },\n              signature: {\n                endpoint: this.uploaderConfig.signatureEndpoint,\n                version: 4,\n                customHeaders: {\n                  'X-CSRF-TOKEN': this.uploaderConfig.csrfToken\n                }\n              },\n              uploadSuccess: {\n                endpoint: this.uploaderConfig.successEndpoint,\n                customHeaders: {\n                  'X-CSRF-TOKEN': this.uploaderConfig.csrfToken\n                }\n              }\n            }\n          })\n          : new FineUploaderTraditional({\n            options: {\n              ...sharedConfig,\n              validation: {\n                ...this.uploaderValidation,\n                sizeLimit: this.uploaderConfig.filesizeLimit * 1048576 // mb to bytes\n              },\n              request: {\n                endpoint: this.uploaderConfig.endpoint,\n                customHeaders: {\n                  'X-CSRF-TOKEN': this.uploaderConfig.csrfToken\n                }\n              }\n            }\n          })\n    },\n    replaceMedia: function (id) {\n      this.media_to_replace_id = id\n      const qqinputs = this.$refs.uploaderBrowseButton.querySelectorAll('[name = \"qqfile\"]')\n      qqinputs[Array.from(qqinputs).length - 1].click()\n    },\n    loadingProgress: function (media) {\n      this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA, media)\n    },\n    loadingFinished: function (loadingMedia, savedMedia) {\n      // add the saved image to the main image list\n      this.$emit('loaded', savedMedia)\n      this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA, loadingMedia)\n    },\n    loadingError: function (media) {\n      this.$store.commit(MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA, media)\n    },\n    uploadProgress: function (uploadProgress) {\n      this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD, uploadProgress)\n    },\n    _onCompleteCallback (id, name, responseJSON, xhr) {\n      const index = this.loadingMedias.findIndex((m) => m.id === this._uploader.methods.getUuid(id))\n\n      if (responseJSON.success) {\n        this.loadingFinished(this.loadingMedias[index], responseJSON.media)\n      } else {\n        this.loadingError(this.loadingMedias[index])\n      }\n    },\n    _onAllCompleteCallback (succeeded, failed) {\n      // reset folder name for next upload session\n      this.unique_folder_name = null\n      this.uploadProgress(0)\n    },\n    _onSubmitCallback (id, name) {\n      this.$emit('clear')\n      // each upload session will add upload files with original filenames in a folder named using a uuid\n      this.unique_folder_name = this.unique_folder_name || (this.uploaderConfig.endpointRoot + qq.getUniqueId())\n      this._uploader.methods.setParams({\n        unique_folder_name: this.unique_folder_name,\n        media_to_replace_id: this.media_to_replace_id\n      }, id)\n\n      // determine the image dimensions and add it to params sent on upload success\n      const imageUrl = URL.createObjectURL(this._uploader.methods.getFile(id))\n      const img = new Image()\n\n      img.onload = () => {\n        this._uploader.methods.setParams({\n          width: img.width,\n          height: img.height,\n          unique_folder_name: this.unique_folder_name,\n          media_to_replace_id: this.media_to_replace_id\n        }, id)\n        this.media_to_replace_id = null\n      }\n\n      img.src = imageUrl\n\n      const media = {\n        id: this._uploader.methods.getUuid(id),\n        name: sanitizeFilename(name),\n        progress: 0,\n        error: false,\n        errorMessage: null,\n        isReplacement: !!this.media_to_replace_id,\n        replacementId: this.media_to_replace_id\n      }\n\n      if (this.type.value === 'file') {\n        this.media_to_replace_id = null\n      }\n\n      this.loadingMedias.push(media)\n      this.loadingProgress(media)\n    },\n    _onProgressCallback (id, name, uploadedBytes, totalBytes) {\n      const index = this.loadingMedias.findIndex((m) => m.id === this._uploader.methods.getUuid(id))\n\n      if (index >= 0) {\n        const media = this.loadingMedias[index]\n        media.progress = uploadedBytes / totalBytes * 100 || 0\n        media.error = false\n        this.loadingProgress(media)\n      }\n    },\n    _onErrorCallback (id, name, errorReason, xhr) {\n      const index = id ? this.loadingMedias.findIndex((m) => m.id === this._uploader.methods.getUuid(id)) : -1\n\n      if (index >= 0) {\n        this.loadingMedias[index].errorMessage = errorReason\n        this.loadingError(this.loadingMedias[index])\n      } else {\n        const media = {\n          id: id ? this._uploader.methods.getUuid(id) : Math.floor(Math.random() * 1000),\n          name: sanitizeFilename(name),\n          progress: 0,\n          error: true,\n          errorMessage: errorReason\n        }\n\n        this.loadingMedias.push(media)\n        this.loadingProgress(media)\n        this.loadingError(this.loadingMedias[this.loadingMedias.length - 1])\n      }\n    },\n    _onStatusChangeCallback (id, oldStatus, newStatus) {\n      if (newStatus === 'retrying upload') {\n        const index = this.loadingMedias.findIndex(function (m) {\n          return m.id === id\n        })\n\n        if (index >= 0) {\n          const media = this.loadingMedias[index]\n          media.progress = 0\n          media.error = false\n          this.loadingProgress(media)\n        }\n      }\n    },\n    _onTotalProgressCallback (totalUploadedBytes, totalBytes) {\n      const uploadProgress = Math.floor(totalUploadedBytes / totalBytes * 100)\n      this.uploadProgress(uploadProgress)\n    },\n    _onDropError (errorCode, errorData) {\n      console.error(errorCode, errorData)\n    },\n    _onProcessingDroppedFilesComplete (files) {\n      this._uploader.methods.addFiles(files)\n    }\n  },\n  watch: {\n    type: function () {\n      if (this._uploader) {\n        this.initUploader()\n      }\n    }\n  },\n  mounted () {\n    // Init uploader\n    this.initUploader()\n\n    // Init dropzone\n    const dropzoneEl = this.$refs.uploaderDropzone\n    this._qqDropzone && this._qqDropzone.dispose()\n    this._qqDropzone = new qq.DragAndDrop({\n      dropZoneElements: [dropzoneEl],\n      allowMultipleItems: true,\n      callbacks: {\n        dropError: this._onDropError.bind(this),\n        processingDroppedFilesComplete: this._onProcessingDroppedFilesComplete.bind(this)\n      }\n    })\n  },\n  beforeUnmount () {\n    this._qqDropzone && this._qqDropzone.dispose()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  $height_small_btn: 35px;\n\n  .uploader {\n    margin: 10px;\n  }\n\n  .uploader__dropzone {\n    border: 1px dashed $color__border--hover;\n    text-align: center;\n    padding: 26px 0;\n    color: $color__text--light;\n\n    .button {\n      @include btn-reset;\n      display: inline-block;\n      height: $height_small_btn;\n      margin-right: 10px;\n      line-height: $height_small_btn - 2px;\n      border-radius: calc($height_small_btn / 2);\n      background-color: transparent;\n      border: 1px solid $color__border--hover;\n      color: $color__text--light;\n      padding: 0 20px;\n      text-align: center;\n      transition: color .2s linear, border-color .2s linear, background-color .2s linear;\n\n      &.qq-upload-button-hover,\n      &:hover {\n        border-color: $color__text;\n        color: $color__text;\n      }\n\n      &.qq-upload-button-focus,\n      &:focus {\n        border-color: $color__text;\n        color: $color__text;\n      }\n\n      &:disabled {\n        opacity: .5;\n        pointer-events: none;\n      }\n    }\n  }\n\n  .uploader__dropzone--desktop {\n    display: inline-block;\n    vertical-align: top;\n    margin-top: 8px;\n    @include breakpoint(small-) {\n      display: none;\n    }\n  }\n</style>\n","<template>\n  <v-card @click=\"toggleExpand\" color=\"#EBEFF280\" variant=\"flat\" rounded=\"l\" class=\"mr-0 pr-0\">\n    <v-row class=\"d-flex align-center  pr-0 mr-0 ga-0\">\n      <v-col cols=\"11\">\n\n        <v-card-item v-if=\"!(headersWithKeys[iteratorOptions.headerKey].formatter.length)\" class=\"value\">{{ item[iteratorOptions.headerKey] }}</v-card-item>\n        <ue-recursive-stuff\n          v-else\n          v-bind=\"handleFormatter(headersWithKeys[iteratorOptions.headerKey].formatter, item[iteratorOptions.headerKey])\"\n          :key=\"key\"\n          />\n      </v-col>\n      <v-spacer></v-spacer>\n        <v-icon icon=\"mdi-menu-down\" class=\"pr-3\"></v-icon>\n\n    </v-row>\n\n    <v-expand-transition :key=\"item.id\">\n      <v-card v-if=\"isExpanded\">\n        <v-card-item v-if=\"!(headersWithKeys[iteratorOptions.expandedKey].formatter.length)\" class=\"value\">{{ item[iteratorOptions.expandedKey] }}</v-card-item>\n        <ue-recursive-stuff\n          v-else\n          v-bind=\"handleFormatter(headersWithKeys[iteratorOptions.expandedKey].formatter, item[iteratorOptions.expandedKey])\"\n          :key=\"key\"\n          />\n      </v-card>\n    </v-expand-transition>\n\n  </v-card>\n</template>\n\n\n<script>\n\nimport useIterator, { makeIteratorProps, iterableEmits } from '@/hooks/useIterator'\nimport { makeFormatterProps } from '@/hooks/useFormatter';\n\nconst { ignoreFormatters } = makeFormatterProps()\n\n export default{\n\n  props:{\n    ...makeIteratorProps(),\n    ignoreFormatters\n  },\n  setup(props, context){\n    return {\n      ...useIterator(props, context)\n    }\n  },\n  data(){\n    return {\n      isExpanded: false\n    }\n  },\n  methods:{\n    toggleExpand(){\n      this.isExpanded = !this.isExpanded\n    }\n  }\n }\n</script>\n","<template>\n    <v-sheet border>\n      <v-img\n        :gradient=\"`to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, .1), rgba(0, 0, 0, .15)`\"\n        :src=\"headersWithKeys[iteratorOptions.imgSrc] ?? 'https://ih1.redbubble.net/image.4905811447.8675/flat,750x,075,f-pad,750x1000,f8f8f8.jpg'\"\n        height=\"150\"\n      >\n      </v-img>\n\n      <v-list-item\n        :title=\"item.name\"\n        density=\"comfortable\"\n        lines=\"one\"\n      >\n        <template v-slot:title>\n          <strong class=\"text-h6\">\n            {{ item.name }}\n          </strong>\n        </template>\n      </v-list-item>\n\n      <v-table class=\"data-iterator-table\" density=\"compact\">\n        <tbody>\n          <tr\n          v-for=\"(header, i) in headersWithKeys\"\n          >\n            <th>{{ header.title }}</th>\n            <td v-if=\"header.key !== 'actions' && !header.formatter?.length\">{{ item[header.key] }}</td>\n            <td v-else-if=\"header.key !== 'actions' && header.formatter?.length\">\n              <!-- {{ handleFormatter(header.formatter, item[header.key]) }} -->\n\n              <ue-recursive-stuff\n                v-bind=\"handleFormatter(header.formatter, item[header.key])\"\n                :key=\"header.key\"\n              />\n            </td>\n            <td v-else-if=\"header.key ==='actions' && !header.formatter.length\">\n              <div class=\"d-flex justify-end\" >\n                <v-icon v-for=\"(action,i) in rowActions.filter(action => itemHasAction(item, action))\" :ripple=\"true\" density=\"compact\" size=\"medium\"  :key=\"i\" @click=\"itemAction(item,action)\"  small :icon=\"action.icon ?? `$${action.name}`\"></v-icon>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </v-table>\n  </v-sheet>\n</template>\n\n<script>\nimport useIterator, {makeIteratorProps, iterableEmits} from '@/hooks/useIterator';\nimport { makeFormatterProps } from '@/hooks/useFormatter';\n\nconst { ignoreFormatters } = makeFormatterProps()\n\nexport default{\n  emits: iterableEmits,\n  props:{\n    ...makeIteratorProps(),\n    ignoreFormatters\n  },\n  setup(props, context){\n    return {\n      ...useIterator(props, context)\n    }\n  }\n\n}\n</script>\n","<template>\n\n  <v-card class=\"data-iterable-rich-row\" variant=\"flat\" elevation=\"0\">\n    <v-row>\n      <v-col>\n        <v-card-title>{{ item[iteratorOptions['headerKey']] }}</v-card-title>\n      </v-col>\n      <v-col cols=\"2\">\n        <v-row>\n          <v-col class=\"action-area\">\n              <v-btn v-for=\"(action,i) in rowActions.filter(action => itemHasAction(item, action))\" :ripple=\"true\" density=\"compact\" size=\"small\"  :key=\"i\" @click=\"itemAction(item,action)\">\n                <v-icon  small :icon=\"action.icon ?? `$${action.name}`\"></v-icon>\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n    <v-card-subtitle>\n    <v-row>\n      <v-col cols=\"3\" class=\"first-column\">\n        <div v-for=\"(key,i) in iteratorOptions.firstColumn\" class=\"d-flex\">\n          <p class=\"header\">{{ headersWithKeys[key]['title'] }}</p>\n          <p v-if=\"!(headersWithKeys[key].formatter.length)\" class=\"value\">{{ item[key] }}</p>\n          <ue-recursive-stuff\n          v-else\n          v-bind=\"handleFormatter(headersWithKeys[key].formatter, item[key])\"\n          :key=\"key\"\n          />\n        </div>\n      </v-col>\n      <v-col cols=\"3\">\n\n        <div v-for=\"(key,i) in iteratorOptions.secondColumn\" class=\"d-flex\">\n\n          <p class=\"header\">{{ headersWithKeys[key]?.['title'] ?? key }}</p>\n          <p v-if=\"!headersWithKeys[key]?.formatter.length\" class=\"value\">{{ item[key] ?? '' }}</p>\n          <ue-recursive-stuff\n          v-else\n          v-bind=\"handleFormatter(headersWithKeys[key].formatter, item[key])\"\n          :key=\"key\"\n          />\n        </div>\n      </v-col>\n      <v-col cols=\"3\" class=\"featured\">\n        <p v-if=\"!headersWithKeys[iteratorOptions.featured]?.formatter.length\" class=\"featured\">{{item[iteratorOptions.featured]}}</p>\n        <ue-recursive-stuff\n          v-else\n          v-bind=\"handleFormatter(headersWithKeys[iteratorOptions.featured].formatter, item[iteratorOptions.featured])\"\n          :key=\"item[iteratorOptions.featured].key\"\n          />\n      </v-col>\n      <v-col cols=\"3\" class=\"last-column\">\n\n        <ue-recursive-stuff\n          v-if=\"headersWithKeys['published'].formatter.length\"\n          v-bind=\"handleFormatter(headersWithKeys[iteratorOptions.lastColumn].formatter, item[iteratorOptions.lastColumn])\"\n          :key=\"item[iteratorOptions.lastColumn].key\"\n\n          />\n            <p v-else >{{item[iteratorOptions.lastColumn] }}</p>\n            <v-btn variant=\"outlined\" :ripple=\"true\">Report</v-btn>\n\n      </v-col>\n    </v-row>\n  </v-card-subtitle>\n\n\n  </v-card>\n  <v-divider/>\n</template>\n\n<script>\n\nimport useIterator, { makeIteratorProps, iterableEmits } from '@/hooks/useIterator'\nimport { makeFormatterProps } from '@/hooks/useFormatter';\n\nconst { ignoreFormatters } = makeFormatterProps()\n\nexport default{\n  emits: iterableEmits,\n  props: {\n    ...makeIteratorProps(),\n    ignoreFormatters\n  },\n  setup(props, context){\n    return {\n      ...useIterator(props, context)\n    }\n  }\n}\n\n</script>\n","\n<template>\n  <v-footer\n      dark\n      padless\n      v-show=\"display\"\n    >\n      <v-card\n        flat\n        tile\n        class=\"indigo lighten-1 white--text text-center\"\n      >\n        <v-card-text>\n          <v-btn\n            v-for=\"(link,i) in links\"\n            :key=\"i\"\n            class=\"mx-4 white--text\"\n            :href=\"link.url\"\n            icon\n          >\n            <v-icon size=\"24px\">\n              {{ link.icon }}\n            </v-icon>\n          </v-btn>\n        </v-card-text>\n\n        <v-card-text class=\"white--text pt-0\">\n          Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n        </v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"white--text\">\n          {{ new Date().getFullYear() }} — <strong>Vuetify</strong>\n        </v-card-text>\n      </v-card>\n    </v-footer>\n</template>\n\n<script>\n  export default {\n    name: 'Footer',\n    props: {\n        items: {\n            type: Array,\n            required: true,\n        },\n        show: {\n          type: Boolean,\n          default: true\n        }\n    },\n    data: function() {\n        return {\n            links: this.items,\n            display: this.show\n        }\n    },\n    // data() {\n    //     return {\n    //         links: this.items\n    //     }\n    // },\n    // data: () => ({\n    //   links: this.items // not working. this not return object because of arrow functions\n\n    // }),\n\n    created(){\n      console.log('created Footer', this.show);\n    }\n  }\n</script>","<template>\n  <!-- <v-navigation-drawer\n    @update:rail=\"methods.handleExpanding($event)\"\n    :location=\"mainLocation\"\n  > -->\n  <v-navigation-drawer\n    ref=\"navigationDrawer\"\n    id=\"navigation-drawer\"\n    v-model=\"status\"\n    :rail=\"rail\"\n    :expand-on-hover=\"isHoverable\"\n    :location=\"options.location\"\n    :railWidth=\"options.railWidth\"\n    :persistent=\"options.persistent ?? false\"\n    :width=\"width\"\n  >\n    <!-- <v-avatar class=\"d-block text-center mx-auto mt-2\">\n      <v-icon color=\"green darken-2\" large icon=\"fa:fab fa-atlassian\"/>\n    </v-avatar> -->\n\n    <!-- <ue-svg-icon class=\"ue-sidebar__logo\" symbol=\"main-logo-light\"></ue-svg-icon> -->\n    <v-list class=\"ue-sidebar__info\">\n      <v-list-item\n        v-if=\"!$store.getters.isSuperAdmin\"\n        prepend-avatar=\"https://randomuser.me/api/portraits/women/85.jpg\"\n        :subtitle=\"$store.getters.appEmail\"\n        :title=\"$store.getters.appName\"\n        class=\"ue-sidebar__info-item\"\n      >\n        <template v-slot:prepend>\n          <v-avatar class=\"ue-sidebar__avatar\" color=\"primary\">\n            <ue-svg-icon class=\"ue-sidebar__logo\" symbol=\"main-logo-dark\"></ue-svg-icon>\n          </v-avatar>\n        </template>\n      </v-list-item>\n      <div v-else class=\"mx-3 text-subtitle-2\">\n        <div v-for=\"(version, key) in $store.getters.versions\" :key=\"key\" class=\"d-flex align-center my-1\">\n          <div class=\"flex-grow-1\">{{ $headline(key) }}:</div>\n          <div class=\"flex-grow-0 ml-1 font-weight-bold\">{{ version }}</div>\n        </div>\n        <div v-if=\"$store.getters.isSuperAdmin\" v-for=\"key in ['appName', 'appEnv', 'appDebug']\" :key=\"key\" class=\"d-flex align-center my-1\">\n          <div class=\"flex-grow-1\">{{ key === 'appDebug' ? 'Debug Mode' : $headline(key) }}:</div>\n          <div class=\"flex-grow-0 ml-1 font-weight-bold\">{{ key === 'appDebug' ? $store.getters[key] ? 'Active' : 'Inactive' : $store.getters[key] }}</div>\n        </div>\n      </div>\n      <!-- <v-list-item\n        v-else\n      >\n      </v-list-item> -->\n\n    </v-list>\n\n    <div class=\"d-flex align-center position-relatie\" style=\"\">\n      <v-divider class=\"flex-grow-1\"></v-divider>\n      <v-btn\n        v-if=\"!hasRail && $vuetify.display.lgAndUp\"\n        icon\n        color=\"orange\"\n        @click=\"railManual = !railManual\"\n        class=\"sidebar-toggle-btn\"\n        size=\"small\"\n        style=\"position: absolute; right: -20px; z-index: 9999;\"\n      >\n        <v-icon>{{ rail ? 'mdi-chevron-right' : 'mdi-chevron-left' }}</v-icon>\n      </v-btn>\n    </div>\n\n    <ue-navigation-group :items=\"items\" :hideIcons=\"hideIcons\" :showTooltip=\"rail && !isHoverable\" class=\"ue-sidebar__menu\">\n    </ue-navigation-group>\n\n    <template v-slot:append>\n      <v-divider></v-divider>\n      <v-list class=\"\">\n        <v-list-item\n          prepend-avatar=\"https://randomuser.me/api/portraits/women/85.jpg\"\n          :title=\"$store.getters.userProfile.name\"\n          :subtitle=\"$store.getters.userProfile.email\"\n          class=\"ue-sidebar__info-item\"\n        >\n          <template v-slot:prepend=\"prependScope\">\n            <v-avatar :image=\"$store.getters.userProfile.avatar_url\"\n              @click=\"$openProfileDialog\"/>\n          </template>\n          <template v-slot:append>\n            <v-btn\n              @click=\"profileMenuOpen = !profileMenuOpen\"\n              :icon=\"profileMenuOpen ? 'mdi-chevron-up' : 'mdi-chevron-down'\"\n              size=\"small\"\n              variant=\"text\"\n            ></v-btn>\n          </template>\n        </v-list-item>\n\n        <v-expand-transition>\n          <ue-navigation-group\n            v-if=\"profileMenuOpen\"\n            :items=\"profileMenu\"\n            :profileMenu=\"true\"\n            @activateMenu=\"handleMenu($event)\"\n          >\n          </ue-navigation-group>\n        </v-expand-transition>\n\n        <ue-logout-modal :csrf=\"$csrf()\">\n          <template v-slot:activator=\"{ props }\">\n            <v-tooltip text=\"Logout\" location=\"top\" :disabled=\"!(rail && !isHoverable)\">\n              <template v-slot:activator=\"tooltipActivator\">\n                <div v-bind=\"tooltipActivator.props\">\n                  <v-list-item prepend-icon=\"mdi-logout\" v-bind=\"props\">\n                    {{ $t(\"authentication.logout\") }}\n                  </v-list-item>\n                </div>\n              </template>\n\n            </v-tooltip>\n          </template>\n        </ue-logout-modal>\n\n        <!-- About Dialog -->\n        <v-dialog ref=\"aboutDialog\" max-width=\"500\" v-if=\"$store.getters.versions && !$store.getters.isClient && !$store.getters.isSuperAdmin\">\n          <template v-slot:activator=\"{ props: activatorProps }\">\n            <v-list-item prepend-icon=\"mdi-information\" v-bind=\"activatorProps\">\n              {{ $t(\"About\") }}\n            </v-list-item>\n          </template>\n\n          <template v-slot:default=\"{ isActive }\">\n            <v-card :title=\"$t('About')\">\n              <v-card-text>\n                <div v-for=\"(version, key) in $store.getters.versions\" :key=\"key\" class=\"d-flex align-center my-1\">\n                  {{ $headline(key) }}:\n                  <v-chip variant=\"outlined\" color=\"primary\" class=\"ml-2\">\n                    {{ version }}\n                  </v-chip>\n                </div>\n                <div v-if=\"$store.getters.isSuperAdmin\" v-for=\"key in ['appName', 'appEnv', 'appDebug']\" :key=\"key\" class=\"d-flex align-center my-1\">\n                  {{ key === 'appDebug' ? 'Debug Mode' : $headline(key) }}:\n                  <v-chip variant=\"outlined\" :color=\"key === 'appDebug' ? $store.getters[key] ? 'success' : 'error' : 'primary'\" class=\"ml-2\">\n                    {{ key === 'appDebug' ? $store.getters[key] ? 'Active' : 'Inactive' : $store.getters[key] }}\n                  </v-chip>\n                </div>\n                <!-- Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. -->\n              </v-card-text>\n\n              <v-divider></v-divider>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  variant=\"outlined\"\n                  :text=\"$t('Close')\"\n                  @click=\"isActive.value = false\"\n                ></v-btn>\n              </v-card-actions>\n            </v-card>\n          </template>\n        </v-dialog>\n\n        <!-- Bottom Slot -->\n        <slot name=\"bottom\"> </slot>\n      </v-list>\n    </template>\n\n    <!-- <template v-slot:append>\n\n    </template> -->\n  </v-navigation-drawer>\n  <v-navigation-drawer\n    v-if=\"options.contentDrawer.exists\"\n    :width=\"width\"\n    :location=\"options.location\"\n    style=\"max-width: 15%\"\n  />\n  <v-navigation-drawer\n    v-if=\"secondaryOptions.exists\"\n    :location=\"secondaryOptions.location\"\n    :width=\"width\"\n  />\n</template>\n\n<script>\nimport { computed } from 'vue';\nimport { useSidebar } from '@/hooks';\nimport { USER } from '@/store/mutations';\nexport default {\n  provide() {\n    return {\n      activeMenu: computed(() => this.activeMenu)\n    }\n  },\n  setup() {\n    return {\n      ...useSidebar()\n    }\n  },\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    rating: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      dialog: false,\n      logo: \"@/sass/themes/template/main-logo.svg\",\n      // isExpanded: true,\n      profileMenuOpen: false,\n    };\n  },\n  methods: {\n    profileFormSubmitted(res) {\n\n      if (typeof URLS !== 'undefined' && URLS) {\n        axios.get(URLS.profileShow).then(res => {\n          this.$store.commit(USER.SET_PROFILE_DATA, res.data)\n        })\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"sass\">\n\n</style>\n\n<style>\n\n</style>\n","<template>\n  <v-app id=\"inspire\" :style=\"{background: $vuetify.theme.themes.dark.background}\">\n      <Sidebar :items=\"sidebarItems\" />\n      <!-- <SidebarRight /> -->\n\n  </v-app>\n</template>\n\n<script>\n    import Sidebar from './Sidebar.vue';\n    export default {\n        name: 'Home',\n        data() {\n            return {\n\n                sidebarItems: [\n                    {icon: 'fas fa-plus'},\n                    {icon: 'fas fa-th-large'},\n                    {icon: 'fas fa-align-center'},\n                    {icon: 'fas fa-gitter'},\n                    {icon: 'fas fa-chart-line'},\n                ]\n            }\n        },\n\n        components: {\n            Sidebar\n        }\n\n    }\n</script>\n\n<style>\n\n</style>\n","<template>\n  <v-app id=\"inspire\">\n\n    <slot name=\"top\"></slot>\n\n    <v-chip\n      v-if=\"$store.getters.isHot\"\n      color=\"green\"\n      class=\"position-absolute\"\n      style=\"top: 4px; right: 0;  z-index: 10000;\"\n      @click=\"$store.state.ambient.isHot = false\"\n    >\n      Development Mode\n    </v-chip>\n    <v-app-bar app v-if=\"$vuetify.display.mdAndDown\">\n      <v-app-bar-nav-icon\n        v-if=\"!$vuetify.display.lgAndUp\"\n        :icon=\"!$store.getters.sidebarStatus ? '$menu' : '$close'\"\n        @click=\"$toggleSidebar()\">\n      </v-app-bar-nav-icon>\n\n      <v-toolbar-title>CRM</v-toolbar-title>\n\n      <v-btn\n        v-if=\"false\"\n        class=\"ma-2\"\n        :loading=\"loading\"\n        :disabled=\"loading\"\n        color=\"secondary\"\n        @click=\"addSidebarItem\"\n      >\n        Add Sidebar Item\n      </v-btn>\n\n      <v-spacer></v-spacer>\n      <div class=\"d-flex justify-end mr-4\">\n        <div class=\"d-flex align-center\">\n          <v-avatar\n            :image=\"$store.getters.userProfile.avatar_url\"\n            @click=\"$openProfileDialog\"\n          />\n        </div>\n      </div>\n      <!-- #language selector -->\n      <v-toolbar-title v-if=\"false\">\n        <!-- {{ $t('fields.list') }}\n        {{ $n(100.77, 'currency') }} -->\n        {{ $t('fields.language-select') }}\n        <select v-model=\"$i18n.locale\">\n          <option v-for=\"(lang, i) in langs\" :key=\"`Lang${i}`\" :value=\"lang\">\n            {{ lang }}\n          </option>\n        </select>\n      </v-toolbar-title>\n\n    </v-app-bar>\n\n    <ue-sidebar\n      :items=\"sidebarItems\"\n      ref=\"sidebar\"\n    >\n      <template v-slot:bottom>\n        <ue-impersonate-toolbar\n          v-if=\"impersonation.active\"\n          v-model=\"showImpersonateToolbar\"\n          v-bind=\"impersonation\"\n        />\n      </template>\n    </ue-sidebar>\n\n    <v-main>\n      <slot name=\"main-top\"></slot>\n\n      <!--  -->\n      <!-- <ue-footer :items=\"footerLinks\" /> -->\n      <div v-if=\"false\">\n        <v-breadcrumbs :items=\"breadcrumbs\">\n          <template v-slot:divider>\n            <v-icon>mdi-forward</v-icon>\n          </template>\n        </v-breadcrumbs>\n      </div>\n      <slot></slot>\n\n      <!-- Media Library -->\n      <ue-modal-media\n        v-if=\"authorization && !$lodash.isEmpty(authorization) && !authorization.isClient\"\n        v-model=\"showMediaLibrary\"\n        ref=\"mediaLibrary\"\n      ></ue-modal-media>\n\n      <!-- Delete Warning Media Modal -->\n      <ue-modal\n        ref=\"deleteWarningMediaModal\"\n        v-model=\"showDeleteWarning\"\n        transition=\"dialog-bottom-transition\"\n        width-type=\"sm\"\n        :confirm-text=\"$t('media-library.dialogs.delete.delete-media-confirm')\"\n        :cancel-text=\"`Cancel`\"\n        >\n        <template v-slot:body.description>\n          <p class=\"modal--tiny-title\"><strong>{{ $t(\"media-library.dialogs.delete.delete-media-title\") }}</strong></p>\n          <p v-html=\"$t('media-library.dialogs.delete.delete-media-desc')\"></p>\n        </template>\n      </ue-modal>\n\n      <!-- Profile Dialog -->\n      <ue-modal\n        ref=\"profileDialog\"\n        v-model=\"$store.state.user.profileDialog\"\n        Xwidth=\"500\"\n        scrollable\n      >\n        <template v-slot:body=\"{ isActive, toggleFullscreen, close , isFullActive}\">\n          <v-card>\n            <v-card-title>\n              <ue-title padding=\"y-3\" :text=\"$t('Upload Profile Image')\" color=\"grey-darken-5\" transform=\"none\" align=\"center\" justify=\"space-between\">\n                <template #right>\n                  <div class=\"d-flex align-center\">\n                    <v-icon :icon=\"isFullActive ? 'mdi-fullscreen-exit' : 'mdi-fullscreen'\" variant=\"plain\" color=\"grey-darken-5\" size=\"default\" @click=\"toggleFullscreen()\"/>\n                    <v-icon icon=\"$close\" variant=\"plain\" color=\"grey-darken-5\" size=\"default\" @click=\"close()\"/>\n                  </div>\n                </template>\n              </ue-title>\n              <v-divider/>\n            </v-card-title>\n\n            <v-card-text Xstyle=\"height: 30vh;\">\n              <div class=\"d-flex\">\n                <div class=\"my-3 flex-grow-0\">\n                  <v-avatar class=\"my-aut\" :image=\"$store.getters.userProfile.avatar_url\" size=\"100\"/>\n                </div>\n                <ue-form\n                  class=\"flex-grow-1 pl-6\"\n                  :schema=\"$store.state.user.profileShortcutSchema\"\n                  v-model=\"$store.state.user.profileShortcutModel\"\n                  :action-url=\"$store.state.user.profileRoute\"\n\n                  :async=\"true\"\n                  :hasSubmit=\"true\"\n                  no-default-form-padding\n                  is-editing\n                  buttonText=\"fields.save\"\n\n                  @submitted=\"profileFormSubmitted\"\n                >\n                </ue-form>\n              </div>\n              <!-- <div class=\"\">\n                <v-radio-group\n                  v-model=\"dialog\"\n                  messages=\"Select a Country from the radio group\"\n                >\n                  <v-radio v-for=\"([label, value]) in [['1', 1], ['2', 2], ['3', 3], ['4', 4], ['5', 5], ['6', 6], ['7', 7], ['8', 8], ['9', 9], ['10', 10]]\"\n                    :key=\"value\"\n                    :label=\"label\"\n                    :value=\"value\"\n                  ></v-radio>\n                </v-radio-group>\n              </div> -->\n            </v-card-text>\n\n          </v-card>\n        </template>\n      </ue-modal>\n\n      <!-- <a17-dialog\n        ref=\"deleteWarningMediaLibrary\"\n        modal-title=\"{{ twillTrans(\"twill::lang.media-library.dialogs.delete.delete-media-title\") }}\"\n        confirm-label=\"{{ twillTrans(\"twill::lang.media-library.dialogs.delete.delete-media-confirm\") }}\">\n          <p class=\"modal--tiny-title\"><strong>{{ twillTrans(\"twill::lang.media-library.dialogs.delete.delete-media-title\") }}</strong></p>\n          <p>{!! twillTrans(\"twill::lang.media-library.dialogs.delete.delete-media-desc\") !!}</p>\n      </a17-dialog>\n      <a17-dialog ref=\"replaceWarningMediaLibrary\" modal-title=\"{{ twillTrans(\"twill::lang.media-library.dialogs.replace.replace-media-title\") }}\" confirm-label=\"{{ twillTrans(\"twill::lang.media-library.dialogs.replace.replace-media-confirm\") }}\">\n          <p class=\"modal--tiny-title\"><strong>{{ twillTrans(\"twill::lang.media-library.dialogs.replace.replace-media-title\") }}</strong></p>\n          <p>{!! twillTrans(\"twill::lang.media-library.dialogs.replace.replace-media-desc\") !!}</p>\n      </a17-dialog> -->\n\n      <ue-alert ref='alert'></ue-alert>\n      <ue-modal\n        ref='dialog'\n        v-model=\"alertDialog\"\n        scrollable\n        transition=\"dialog-bottom-transition\"\n        width-type=\"lg\"\n        persistent\n        >\n        <template v-slot:body=\"props\">\n          <v-card >\n            <v-card-text class=\"text-center\" style=\"word-break: break-word;\" >\n              <div v-html=\"alertDialogMessage\"></div>\n            </v-card-text>\n            <v-divider/>\n            <v-card-actions class=\"justify-center\">\n                <v-btn-cta  @click=\"closeAlertDialog\">\n                  {{ $t('fields.close') }}\n                </v-btn-cta>\n            </v-card-actions>\n          </v-card>\n        </template>\n      </ue-modal>\n\n      <!-- <v-layout-item\n        v-if=\"impersonation.active\"\n        class=\"text-end pointer-events-none\"\n        model-value\n        position=\"bottom\"\n        size=\"88\"\n      >\n        <div class=\"ma-4\">\n          <v-fab-transition>\n            <v-btn\n              class=\"mt-auto pointer-events-initial\"\n              color=\"error\"\n              elevation=\"8\"\n              :icon=\"(showImpersonateToolbar ? 'mdi-chevron-down' : 'mdi-chevron-up')\"\n              size=\"large\"\n              @click=\"showImpersonateToolbar = !showImpersonateToolbar\"\n            />\n          </v-fab-transition>\n        </div>\n      </v-layout-item> -->\n    </v-main>\n  </v-app>\n</template>\n\n<script>\n  import { ALERT, CONFIG } from '@/store/mutations/index'\n  import { USER } from '@/store/mutations';\n\n  export default {\n    props: {\n      navigation: {\n        type: Object,\n        default () {\n          return {\n            sidebar: [\n              {\n                icon: '$package',\n                text: 'Packages',\n                action: '',\n                is_active: false\n              },\n              {\n                icon: '$creditCards',\n                text: 'Payments',\n                action: '',\n                is_active: false\n              },\n              {\n                icon: '$product',\n                text: 'Customers',\n                action: '',\n                is_active: false\n              },\n              {\n                icon: '$users',\n                text: 'Users',\n                is_active: true,\n                items: [\n                  {\n                    icon: '$users',\n                    text: 'Show Users',\n                    action: '',\n                    is_active: false\n                  },\n                  {\n                    icon: '$userAdd',\n                    text: 'Add User',\n                    action: '',\n                    is_active: false\n                  },\n                  {\n                    icon: '$role',\n                    text: 'Roles',\n                    is_active: true,\n                    items: [\n                      {\n                        icon: '$permission',\n                        text: 'Add Permission',\n                        action: '',\n                        is_active: true\n                      }\n                    ]\n                  }\n                ]\n              },\n\n              {\n                icon: '$check',\n                text: 'Settings',\n                action: '',\n                is_active: false\n              },\n              {\n                icon: 'fas fa-plus',\n                text: 'Others',\n                action: '',\n                is_active: false\n              }\n            ]\n          }\n        }\n      },\n      impersonation: {\n        type: Object,\n        default () {\n          return {\n\n          }\n        }\n      },\n      authorization: {\n        type: Object,\n        default () {\n          return {\n\n          }\n        }\n      }\n    },\n    data () {\n      return {\n        loader: null,\n        loading: false,\n        langs: ['tr', 'en'],\n\n        footerDisplay: false,\n        sidebarItem: [\n          {\n            icon: '$package',\n            text: 'Packages',\n            action: ''\n          },\n          {\n            icon: '$creditCards',\n            text: 'Payments',\n            action: ''\n          },\n          {\n            icon: '$product',\n            text: 'Customers',\n            action: ''\n          },\n          {\n            icon: '$users',\n            text: 'Users',\n            items: [\n              {\n                icon: '$users',\n                text: 'Show Users',\n                action: ''\n              },\n              {\n                icon: '$userAdd',\n                text: 'Add User',\n                action: ''\n              }\n            ]\n          },\n\n          {\n            icon: '$check',\n            text: 'Settings',\n            action: ''\n          },\n          {\n            icon: 'fas fa-plus',\n            text: 'Others',\n            action: ''\n          }\n        ],\n\n        sidebarItems: this.navigation.sidebar,\n        // activeItem: this.navigation.activeItem ?? 0,\n        // activeSubItem: this.navigation.activeSubItem ?? -1,\n        breadcrumbs: this.navigation.breadcrumbs ?? [],\n\n        footerLinks: [\n          {\n            icon: 'mdi-facebook',\n            url: 'facebook.com'\n          },\n          {\n            icon: 'mdi-twitter',\n            url: 'twitter.com'\n          },\n          {\n            icon: 'mdi-linkedin',\n            url: 'linkedin.com'\n          },\n          {\n            icon: 'mdi-instagram',\n            url: 'instagram.com'\n          }\n        ],\n\n        showMediaLibrary: false,\n        showDeleteWarning: false,\n        showImpersonateToolbar: false\n      }\n    },\n    computed: {\n      alertDialog: {\n        get () {\n          return this.$store.state.alert.dialog\n        },\n        set (val) {\n          this.$store.commit(ALERT.SET_DIALOG_SHOW, val)\n        }\n      },\n      alertDialogMessage() {\n        __log('alertDialogMessage computed', this.$store.state.alert)\n        return this.$store.state.alert.dialogMessage\n      }\n    },\n    created () {\n      if(this.$vuetify.display.mdAndDown){\n        this.$store.commit(CONFIG.SET_SIDEBAR, false)\n      }\n    },\n\n    mounted () {\n    },\n\n    methods: {\n      addSidebarItem: function (event) {\n        // drawer = !drawer\n        // this.loading = true;\n        // const l = this.loader;\n        // this[l] = !this[l];\n\n        // this.sidebarItem.push( {\n        //   icon: \"fas fa-circle-question\",\n        //   text: \"New\"\n        // });\n\n        this.$refs.sidebar.addItem({ icon: 'fa-regular fa-circle-question', text: 'New' })\n\n        // setTimeout(() => (this[l] = false), 3000)\n\n        // this.loader = null;\n      },\n\n      submit () {\n        alert('Submit Form')\n      },\n      closeAlertDialog(){\n        this.$store.commit(ALERT.CLEAR_DIALOG)\n      },\n      profileFormSubmitted(res) {\n\n        if (typeof URLS !== 'undefined' && URLS) {\n          axios.get(URLS.profileShow).then(res => {\n            this.$store.commit(USER.SET_PROFILE_DATA, res.data)\n          })\n        }\n      }\n    }\n  }\n</script>\n","<template>\n  <div\n    :class=\"[\n      'd-flex mb-4 w-100',\n      reverse ? 'flex-row-reverse' : 'flex-row'\n    ]\"\n    >\n    <div\n      style=\"max-width: 60%; min-width: 20%;\"\n      :class=\"[\n        'd-flex bg-grey-lighten-6 elevation-2 px-4 py-3 rounded',\n        reverse ? 'flex-row-reverse' : 'flex-row'\n      ]\"\n    >\n      <!-- Avatar -->\n      <v-tooltip :text=\"formatDate(message)\" location=\"top\">\n        <template v-slot:activator=\"{ props }\">\n          <v-avatar :size=\"avatarSize\"\n          :class=\"[\n            reverse ? 'ml-3' : 'mr-3'\n          ]\"\n          :image=\"message.user_profile.avatar_url\" v-bind=\"props\" />\n        </template>\n      </v-tooltip>\n      <div\n        :stylex=\"{ width: `calc(50% - ${avatarSize}px)` }\"\n        class=\"w-100\">\n        <!-- Message -->\n        <div\n          :class=\"[\n            'text-grey text-caption w-100 d-flex justify-space-between',\n            reverse ? 'flex-row-reverse' : 'flex-row'\n          ]\">\n          <div>{{ message.user_profile.name }}</div>\n          <!-- <div> {{ message.created_at ? $d(new Date(message.created_at), 'numeric-full') : window.$moment().fromNow() }}</div> -->\n        </div>\n        <div :class=\"['d-flex', reverse ? 'flex-row-reverse' : 'flex-row']\">{{ message.content }}</div>\n\n        <!-- Attachments -->\n        <div v-if=\"message.attachments.length > 0\" class=\"mt-2 pa-1 rounded\" style=\"\">\n          <ue-title :text=\"$t('Attachments')\" padding=\"b-2\" type=\"caption\" color=\"none\"/>\n          <ue-filepond-preview\n            :source=\"message.attachments\"\n            image-size=\"24\"\n            show-file-name\n            no-overlay\n            show-datex\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      avatarSize: {\n        type: Number,\n        default: 50\n      },\n      message: {\n        type: Object,\n        required: true\n      },\n      reverse: {\n        type: Boolean,\n        default: false\n      }\n    },\n    methods: {\n      formatDate(message) {\n        let formattedDate = window.$moment().fromNow();\n\n        if(message.created_at) {\n          let date = new Date(message.created_at);\n\n          if (Date.now() - date.getTime() < 48 * 60 * 60 * 1000) {\n            formattedDate = window.$moment(date).fromNow();\n          } else {\n            formattedDate = this.$d(new Date(message.created_at), 'numeric-full');\n          }\n        }\n\n        return formattedDate;\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>\n","<template>\n  <v-input\n    v-model=\"input\"\n    hideDetails=\"auto\"\n    :variant=\"boundProps.variant\"\n    class=\"v-input-chat\"\n    >\n    <template v-slot:default=\"defaultSlot\">\n      <v-card\n        class='w-100'\n        :variant=\"variant\"\n        :elevation=\"elevation\"\n        :class=\"[\n          !noBackground && background ? `bg-${background}` : '',\n          disabled ? 'bg-grey-lighten-4' : ''\n        ]\"\n        :color=\"color\"\n        :heightx=\"height\"\n        :disabled=\"disabled\"\n      >\n        <v-card-title class=\"d-flex w-100 py-4\">\n          <ue-title :text=\"label\" align=\"center\" padding=\"a-0\" transform=\"none\" class=\"w-100\">\n            <template v-slot:rightX>\n              <div class=\"w-100 d-flex justify-end\">\n                <slot name=\"actions\">\n\n                  <!-- SHOW ALL MESSAGES IN A FORM-->\n                  <v-dialog\n                    v-if=\"perPage !== -1\"\n                    width=\"70%\"\n                    :height=\"dialogHeight\"\n                    v-model=\"dialogOpen\"\n                  >\n                    <template v-slot:activator=\"{ props: activatorProps }\">\n                      <v-btn variant=\"elevated\" density=\"comfortable\" v-bind=\"activatorProps\" class=\"mr-2\">\n                        {{ $t('Show All') }}\n                      </v-btn>\n                    </template>\n                    <template v-slot:default>\n                      <v-card :class=\"[`bg-${background}`]\" height=\"70vh\">\n                        <template #text class=\"pa-0\">\n                          <v-input-chat\n                            :label=\"$t('All Messages')\"\n                            :background=\"background\"\n                            :modelValue=\"input\"\n                            :endpoints=\"endpoints\"\n                            :perPage=\"10\"\n                            :density=\"density\"\n                            :noSendAction=\"false\"\n                            :elevation=\"0\"\n                            :body-height=\"`calc(${dialogHeight} * 0.60)`\"\n                            :height=\"`calc(${dialogHeight} * 0.80)`\"\n                          >\n                            <template #actions>\n                              <v-btn color=\"grey-darken-1\" icon=\"mdi-close\" size=\"default\" variant=\"plain\" density=\"compact\" @click=\"dialogOpen = false\"></v-btn>\n                            </template>\n                          </v-input-chat>\n                        </template>\n                      </v-card>\n\n                    </template>\n                  </v-dialog>\n\n                  <!-- Show All ATTACHMENTS IN A DIALOG-->\n                  <v-dialog\n                    v-if=\"uploadedAttachments.length > 0\"\n                    width=\"70%\"\n                    :height=\"dialogHeight\"\n                    v-model=\"uploadedAttachmentsDialog\"\n                  >\n                    <template v-slot:activator=\"{ props: activatorProps }\">\n                      <v-btn variant=\"outlined\" density=\"comfortable\" v-bind=\"activatorProps\" class=\"mr-2\">\n                        {{ $t('Show All Attachments') }}\n                      </v-btn>\n                    </template>\n                    <template v-slot:default>\n                      <v-card :class=\"[`bg-${background}`]\" height=\"70vh\">\n                        <ue-title :text=\"$t('Attachments')\" align=\"center\" transform=\"none\" padding=\"x-4\"  class=\"w-100 pt-2\" color=\"grey-darken-5\">\n                          <template #right>\n                            <div class=\"d-flex w-100 justify-end\">\n                              <v-btn color=\"grey-darken-1\" icon=\"mdi-close\" size=\"default\" variant=\"plain\" density=\"compact\" @click=\"uploadedAttachmentsDialog = false\"></v-btn>\n                            </div>\n                          </template>\n                        </ue-title>\n                        <v-divider class=\"mx-4\"></v-divider>\n                        <v-card-text>\n                          <v-infinite-scroll\n                            :height=\"`calc(${dialogHeight} * 0.75)`\"\n                          >\n                            <template v-for=\"attachment in uploadedAttachments\">\n                              <ue-filepond-preview\n                                class=\"my-2\"\n                                :source=\"attachment\"\n                                image-size=\"24\"\n                                show-file-name\n                                max-file-name-length=\"70\"\n                                no-overlay\n                                show-date\n                              />\n\n                            </template>\n                            <template v-slot:loading>\n\n                            </template>\n                          </v-infinite-scroll>\n                        </v-card-text>\n\n                      </v-card>\n\n                    </template>\n                  </v-dialog>\n\n                  <!-- CONFIRM SEND MESSAGE -->\n                  <v-btn variant=\"elevated\" density=\"comfortable\" @click=\"sendMessage\">\n                    {{ $t('Confirm') }}\n                  </v-btn>\n                </slot>\n              </div>\n            </template>\n          </ue-title>\n        </v-card-title>\n\n        <v-card-text class=\"\">\n          <v-infinite-scroll\n            ref=\"infiniteScroll\"\n            :height=\"bodyHeight ? `calc(${bodyHeight})` : `calc(${height}*0.65)`\"\n            mode=\"manual\"\n            side=\"start\"\n            @load=\"loadMoreMessages\"\n            :load-more-text=\"loadMoreText ? loadMoreText : $t('Load More Messages')\"\n          >\n            <div v-for=\"(message, index) in formattedMessages\" :key=\"index\" class=\"v-input-chat__messages\">\n              <slot name=\"message\" :message=\"message\" :index=\"index\">\n                <ChatMessage\n                  :class=\"[\n                    'v-input-chat__message',\n                    message.loading  ? 'v-input-chat__message--loading' : '',\n                  ]\"\n                  :message=\"message\"\n                  :reverse=\"message.reverse\"\n                  :reversex=\"index % 2 === 0\"\n                />\n              </slot>\n            </div>\n            <template v-slot:load-more=\"{ props }\">\n              <v-btn\n                v-if=\"showLoadMoreButton\"\n                variant=\"outlined\"\n                v-bind=\"props\"\n              >\n                {{ loadMoreText ? loadMoreText : $t('Load More Messages') }}\n              </v-btn>\n            </template>\n            <template v-slot:empty=\"{ props }\">\n\n            </template>\n          </v-infinite-scroll>\n\n        </v-card-text>\n\n        <v-card-actions class=\"pa-4\" v-if=\"!noSendAction\">\n\n          <slot name=\"sending\">\n            <v-textarea\n              v-model=\"message\"\n              :variant=\"inputVariant\"\n              :disabled=\"loading\"\n              hide-details\n              placeholder=\"Type your answer here...\"\n              density=\"compact\"\n              @click:append=\"sendMessage\"\n              @keyup.enter=\"sendMessage\"\n              :rows=\"1\"\n            >\n              <template v-slot:prepend>\n                <div class=\"flex-grow-0\">\n                  <v-avatar class=\"my-aut\" :image=\"$store.getters.userProfile.avatar_url\" size=\"40\"/>\n                </div>\n                <v-input-filepond\n                  v-if=\"filepond\"\n                  ref=\"inputFilepond\"\n                  class=\"d-non\"\n                  v-bind=\"invokeRule($lodash.omit(filepond, ['type']))\"\n                  v-model=\"attachments\"\n\n                  :xmodelValue=\"attachments\"\n                  @xupdate:modelValue=\"$log('update:modelValue', $event)\"\n                >\n                  <template v-slot:activator=\"activatorProps\">\n\n                  </template>\n                </v-input-filepond>\n              </template>\n              <template v-slot:appendx>\n                <!-- <v-btn variant=\"elevated\" density=\"comfortable\" @click=\"sendMessage\" :disabled=\"loading || !message\">\n                  {{ $t('Send') }}\n                </v-btn> -->\n\n              </template>\n              <template v-slot:append-inner>\n                <ue-filepond-preview :source=\"attachments\" image-size=\"24\"/>\n                <template v-for=\"attachment in attachments\">\n                </template>\n                <v-btn :color=\"color\" size=\"default\" icon=\"mdi-paperclip\" density=\"compact\" @click=\"$refs.inputFilepond.browse()\" />\n                <v-btn\n                  variant=\"elevated\"\n                  density=\"compact\"\n                  :icon=\"sendButtonIcon\"\n                  size=\"small\"\n                  :disabled=\"loading || !message\"\n                  @click=\"sendMessage\"\n                />\n              </template>\n            </v-textarea>\n          </slot>\n        </v-card-actions>\n      </v-card>\n    </template>\n  </v-input>\n</template>\n\n<script>\n  import { useInput, makeInputProps, makeInputEmits, useValidation } from '@/hooks'\n  import ChatMessage from '@/components/others/ChatMessage.vue';\n  export default {\n    name: 'v-input-chat',\n    emits: [...makeInputEmits],\n    components: {\n      ChatMessage\n    },\n    props: {\n      ...makeInputProps(),\n      color: {\n        type: String,\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      height: {\n        type: String,\n        default: '50vh'\n      },\n      background: {\n        type: String,\n        // default: 'grey-lighten-5'\n      },\n      elevation: {\n        type: Number,\n        default: 2\n      },\n      density: {\n        type: String,\n        default: 'comfortable'\n      },\n      variant: {\n        type: String,\n        default: 'plain'\n      },\n      endpoints: {\n        type: Object,\n        default: () => ({})\n      },\n      perPage: {\n        type: Number,\n        default: -1\n      },\n      initialPage: {\n        type: Number,\n        default: 1\n      },\n      filepond: {\n        type: Object,\n        default: null\n      },\n      noSendAction: {\n        type: Boolean,\n        default: false\n      },\n      noBackground: {\n        type: Boolean,\n        default: false\n      },\n      dialogHeight: {\n        type: String,\n        default: '80vh'\n      },\n      bodyHeight: {\n        type: String,\n        default: null\n      },\n      loadMoreText: {\n        type: String,\n        default: null\n      },\n      refreshTime: {\n        type: Number,\n        default: 10000\n      },\n      inputVariant: {\n        type: String,\n        default: 'outlined'\n      }\n    },\n    setup (props, context) {\n      const { invokeRule } = useValidation()\n      return {\n        ...useInput(props, context),\n        invokeRule\n      }\n    },\n    data: function () {\n      return {\n        message: '',\n        messages: [],\n        loading: true,\n        page: this.initialPage,\n        lastPage: 1,\n        dialogOpen: false,\n\n        attachments: [],\n        uploadedAttachments: [],\n        uploadedAttachmentsDialog: false,\n\n        refreshInterval: null\n      }\n    },\n    computed: {\n      currentUser() {\n        // __log(this.$store.getters.userProfile)\n        return this.$store.getters.userProfile;\n      },\n      formattedMessages() {\n        return this.formatMessages(this.messages);\n      },\n      noRemainingItems() {\n        return !this.loading && (this.perPage > -1 && this.page === this.lastPage);\n      },\n      showLoadMoreButton() {\n        return !this.noRemainingItems && this.perPage > -1;\n      },\n      isInfiniteScrollable() {\n        return this.perPage > -1;\n      },\n      sendButtonIcon() {\n        return this.loading || !this.message\n          ? 'mdi-send-lock'\n          : this.message\n            ? 'mdi-send-check'\n            : 'mdi-send';\n      }\n    },\n    watch: {\n\n    },\n    methods: {\n      scrollEndInfiniteScroll() {\n        this.$nextTick(() => {\n          const container = this.$refs.infiniteScroll.$el;\n          container.scrollTop = container.scrollHeight;\n        });\n      },\n      formatMessage(message) {\n        message = {\n          user_profile: this.$lodash.cloneDeep(this.currentUser),\n          attachments: [],\n          reverse: false,\n          loading: false,\n          ...message,\n        }\n\n        if(message.user_profile.id === this.currentUser.id) {\n          message.reverse = true;\n          message.user_profile.name = this.$t('You');\n        }\n\n        return message;\n      },\n      formatMessages(messages) {\n        return messages.sort((a, b) => new Date(a.created_at) - new Date(b.created_at))\n          .map(message => this.formatMessage(message));\n      },\n      loadMessages(done) {\n        const endpoint = this.endpoints.index.replace(':id', this.input);\n\n        let params = {};\n\n        if (this.perPage !== -1) {\n          params.page = this.page;\n          params.perPage = this.perPage;\n        }\n\n        this.loading = true;\n\n        axios.get(endpoint, { params }).then(response => {\n          if (this.perPage > -1) {\n            const total = response.data.total;\n            this.lastPage = response.data.last_page;\n            this.page = response.data.current_page;\n\n            this.messages = [...response.data.data, ...this.messages]\n\n            if(total !== 0) {\n              if(done) {\n                if(this.page === this.lastPage) {\n                  done('empty');\n                } else {\n                  done('ok');\n                }\n              } else{\n\n              }\n\n            } else if(done) {\n              done('empty');\n            }\n          } else {\n            __log(response.data)\n            this.messages = this.formatMessages(response.data);\n            done('empty');\n          }\n        }).finally(() => {\n          this.loading = false;\n\n          if(!this.isInfiniteScrollable || this.page === 1) {\n            this.scrollEndInfiniteScroll();\n          }\n        });\n      },\n      loadMoreMessages({done}) {\n        this.page++;\n        this.loadMessages(done);\n      },\n      addMessage(message) {\n        return this.messages.push(message) - 1;\n      },\n      findMessageByTempId(tempId) {\n        return this.messages.findIndex(message => message.tempId === tempId);\n      },\n      updateMessageByTempId(tempId, newMessage) {\n        const index = this.findMessageByTempId(tempId);\n        if (index !== -1) {\n          this.messages[index] = {\n            ...this.messages[index],\n            ...newMessage\n          };\n        }\n      },\n      sendMessage() {\n        const endpoint = this.endpoints.store.replace(':id', this.input);\n\n        const newMessage = {\n          loading: true,\n          content: this.message,\n          tempId: Date.now() // Add unique tempId to identify this message later\n        };\n        let tempId = newMessage.tempId;\n        this.addMessage(newMessage);\n\n        this.loading = true;\n\n        axios.post(endpoint, {\n          content: this.message,\n          attachments: this.attachments\n        }).then(response => {\n          if (response.status === 200) {\n\n            let message = response.data\n            message.loading = false;\n            this.updateMessageByTempId(tempId, message);\n            // this.messages[newIndex].loading = false;\n            // this.messages[newIndex].id = response.data.id;\n            // this.messages[newIndex].created_at = response.data.created_at;\n            // this.messages[newIndex].attachments = response.data.attachments ?? [];\n            this.message = '';\n            this.attachments = [];\n          }\n        }).finally(() => {\n          this.loading = false;\n          this.scrollEndInfiniteScroll();\n        });\n      },\n      getAttachments() {\n        const endpoint = this.endpoints.attachments.replace(':id', this.input);\n        axios.get(endpoint).then(response => {\n          this.uploadedAttachments = response.data;\n        });\n      },\n\n      refreshMessages() {\n        const endpoint = this.endpoints.index.replace(':id', this.input);\n\n        let created_at = new Date().toISOString();\n\n        if(this.messages.length) {\n          let lastMessage = this.messages.filter(message => !!message.created_at)\n            .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))[0];\n\n          if(lastMessage && lastMessage.created_at) {\n            created_at = lastMessage.created_at;\n          }\n        }\n\n\n        axios.get(endpoint, {\n          params: {\n            // from: new Date(lastMessage.created_at).getTime(),\n            from: created_at,\n            user_id: this.currentUser.id\n          }\n        }).then(response => {\n          if(response.status === 200) {\n            if(response.data.length > 0) {\n              this.messages = [...this.messages, ...response.data];\n              this.getAttachments();\n            }\n          }\n        });\n      }\n    },\n    created() {\n      // __log('Chat', this.getAttachments());\n    },\n    mounted() {\n\n      if(this.input && this.input > -1) {\n        this.loadMessages();\n        this.getAttachments();\n        this.refreshInterval = setInterval(() => {\n          this.refreshMessages();\n        }, this.refreshTime);\n      }\n\n    },\n    beforeUnmount() {\n      clearInterval(this.refreshInterval);\n      this.refreshInterval = null;\n      if(this.input && this.input > -1) {\n      }\n    }\n  }\n</script>\n\n<style lang=\"sass\">\n  .v-input-chat\n    .v-input-chat__messages\n      margin-top: auto\n      .v-input-chat__message\n        padding-right: $spacer\n        transition: opacity 0.7s ease\n        &--loading\n          opacity: 0.3\n\n</style>\n\n<style lang=\"scss\">\n\n</style>\n","<template>\n  <v-input\n    v-model=\"input[value]\"\n    hideDetails=\"auto\"\n    :variant=\"boundProps.variant\"\n    class=\"v-input-checkbox-card\"\n  >\n    <template v-slot:default=\"defaultSlot\">\n      <v-card\n        :class=\"[\n          'v-input-checkbox-card__item',\n          input.includes(value) ? 'v-input-checkbox-card__item--selected' : '',\n          disabled ? 'v-input-checkbox-card__item--disabled' : ''\n        ]\"\n        :variant=\"input.includes(value) ? 'elevated' : 'outlined'\"\n        @click=\"toggleSelection\"\n        :disabled=\"disabled\"\n      >\n        <v-card-item>\n          <template #prepend>\n            <v-checkbox\n              v-if=\"!checkboxOnRight\"\n              v-model=\"input\"\n              :value=\"value\"\n              :disabled=\"disabled\"\n              :color=\"checkboxColor\"\n              hide-details\n              :readonly=\"readonly\"\n            />\n          </template>\n          <v-card-title :class=\"['v-input-checkbox-card__title', input[value] ? 'v-input-checkbox-card__title--selected' : '']\">{{ title }}</v-card-title>\n          <template #append>\n            <v-checkbox\n              v-if=\"checkboxOnRight\"\n              v-model=\"input\"\n              :value=\"value\"\n              :disabled=\"disabled\"\n              :color=\"checkboxColor\"\n              hide-details\n              :readonly=\"readonly\"\n            />\n          </template>\n        </v-card-item>\n\n        <v-card-text>\n          Lorem ipsum dolor sit amet consteqtequr Lorem ipsum\n        </v-card-text>\n\n        <v-card-text v-if=\"stats\">\n          <v-row no-gutters>\n            <v-col v-for=\"(stat, index) in stats\" :key=\"index\"\n                  :cols=\"12 / stats.length\"\n                  class=\"text-center\">\n              <div class=\"text-h4 font-weight-bold\" :class=\"`text-${stat.color || 'primary'}`\">\n                {{ stat.value }}\n              </div>\n              <div :class=\"`text-body-2 text-${stat.color || 'primary'}`\">{{ stat.label }}</div>\n            </v-col>\n          </v-row>\n        </v-card-text>\n\n        <v-card-text v-if=\"description\">\n          {{ description }}\n        </v-card-text>\n      </v-card>\n    </template>\n  </v-input>\n</template>\n\n<script>\n  import { useInput, makeInputProps, makeInputEmits } from '@/hooks'\n\n  export default {\n    name: 'v-input-checkbox-card',\n    emits: [...makeInputEmits],\n    props: {\n      ...makeInputProps(),\n      title: {\n        type: String,\n        required: true\n      },\n      description: {\n        type: String,\n        default: ''\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      readonly: {\n        type: Boolean,\n        default: false\n      },\n      value: {\n        type: [Number, String],\n        default: null\n      },\n      checkboxColor: {\n        type: String,\n        default: 'primary'\n      },\n      stats: {\n        type: Array,\n        default: null,\n        validator: (value) => {\n          return value === null || value.every(stat =>\n            'label' in stat &&\n            'value' in stat &&\n            (!('color' in stat) || typeof stat.color === 'string')\n          )\n        }\n      },\n      checkboxOnRight: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup(props, context) {\n      return {\n        ...useInput(props, context)\n      }\n    },\n    data() {\n      return {\n        input_: false\n      }\n    },\n    methods: {\n      toggleSelection() {\n        if (!this.disabled && !this.readonly) {\n          if(this.input.includes(this.value)) {\n            this.input = this.input.filter(item => item !== this.value)\n          } else {\n            this.input = [...this.input, this.value]\n          }\n        }\n      }\n    },\n  }\n</script>\n\n<style lang=\"sass\">\n  .v-input-checkbox-card\n    &__item\n      width: 100%\n      cursor: pointer\n      border: 1px solid rgba(var(--v-theme-grey-lighten-4), 1 )\n      // transition: all 0.3s ease\n\n      &--selected\n        border-color: rgb(var(--v-theme-primary))\n        background-color: rgb(var(--v-theme-primary-lighten-5))\n\n      &--disabled\n        opacity: 0.6\n        cursor: not-allowed\n\n      .v-card-item\n        padding: 16px\n\n      .v-card-text\n        padding-top: 0\n</style>\n","<template>\n  <v-input\n    v-model=\"input\"\n    hideDetails=\"auto\"\n    :disabled=\"disabled\"\n    class=\"v-input-checklist\"\n    >\n    <template v-slot:default=\"defaultSlot\">\n      <div class=\"v-input-checklist__field d-flex\">\n        <div v-if=\"label\"\n          class=\"d-flex flex-column\"\n          :style=\"[\n            !flexColumn ? 'flex: 0 1 25%;' : ''\n          ]\"\n          >\n          <ue-title v-if=\"label\" padding=\"x-3\" data-test=\"title\" :color=\"labelColor\" transform=\"none\">\n            {{ label }}\n          </ue-title>\n          <ue-title v-if=\"subtitle\"\n            padding=\"x-3\"\n            type=\"caption\"\n            weight=\"medium\"\n            transform=\"none\"\n            :color=\"subtitleColor\"\n            data-test=\"title\"\n          >\n            {{ subtitle }}\n          </ue-title>\n        </div>\n\n        <v-divider v-if=\"label || subtitle\" vertical class=\"mr-4\"></v-divider>\n\n        <!-- treeview -->\n        <v-row v-if=\"isTreeview\">\n          <v-col v-bind=\"{...treeviewCols}\">\n\n            <v-list v-model:opened=\"openedGroups\">\n\n              <template\n                v-for=\"(group, key) in groupedItems\"\n                :key=\"`checkbox-${key}`\"\n              >\n                <!-- group items -->\n                <template v-if=\"$isset(group.items) && group.items.length > 0\">\n                  <v-list-group\n                    class=\"pl-0\"\n                    collapse-icon=\"\"\n                    expand-icon=\"\"\n                    :value=\"group.name\"\n                    >\n\n                    <!-- group expand activator -->\n                    <template v-slot:activator=\"{ props, isOpen }\">\n                      <v-checkbox\n                        v-if=\"!noGroupAllSelectable\"\n                        class=\"ue-checklist-checkbox\"\n                        :label=\"group[`${itemTitle}`]\"\n                        color=\"success\"\n                        hide-details\n                        :indeterminate=\"isIndeterminateGroup(group)\"\n                        density=\"compact\"\n                        :modelValue=\"isAllSelected(group)\"\n                        @update:modelValue=\"updatedParent($event, group)\"\n                        :readonly=\"isMandatoryItem(group)\"\n                      >\n                        <template v-slot:prepend>\n                          <v-icon\n                            v-if=\"!chunkField\"\n                            v-bind=\"props\"\n                            :icon=\"!isOpen ? '$expand' : '$collapse'\"\n                            >\n                          </v-icon>\n                        </template>\n                      </v-checkbox>\n                      <ue-title v-else\n                        :text=\"group[`${itemTitle}`]\"\n                        type=\"body-1\"\n                        color=\"grey-darken-5\"\n                        weight=\"medium\"\n                        justify=\"space-between\"\n                        v-bind=\"props\"\n                      >\n                        <!-- {{ titleSerialized }} -->\n                        <template v-slot:right>\n                          <div class=\"d-flex align-center\">\n                            <v-icon\n                              :icon=\"!isOpen ? '$expand' : '$collapse'\"\n                              >\n                            </v-icon>\n                          </div>\n                        </template>\n                      </ue-title>\n                      <v-divider v-if=\"hasGroupBottomDivider\" class=\"mt-0\"></v-divider>\n                    </template>\n\n                    <!-- list items -->\n                    <v-list-item v-if=\"chunkField\"\n                      style=\"padding-inline-start: 0px !important;\"\n                    >\n                      <v-row\n                        no-gutters\n                        :style=\"[\n                          !flexColumn ? 'flex: 1 0 60%;' : ''\n                        ]\"\n                      >\n                        <v-col\n                          v-for=\"(item, index) in group.items\"\n                          :key=\"`checkbox-${index}`\"\n                          v-bind=\"checkboxCol\"\n                          class=\"pb-0 pr-0 \"\n                          >\n                          <div\n                            :class=\"getCheckboxContainerClasses(item)\"\n                          >\n                            <!-- checkbox is on right -->\n                            <span v-if=\"checkboxOnRight\" :class=\"[($attrs.disabled ?? false) || (!canSelectMore() && !input.includes(item[itemValue])) ? 'v-input-checklist__label--disabled' : '']\">{{ item[itemTitle] }}</span>\n                            <v-spacer v-if=\"checkboxOnRight\"></v-spacer>\n\n                            <!-- checkbox -->\n                            <v-checkbox\n                              data-test=\"checkbox\"\n                              v-model=\"input\"\n                              :disabled=\"($attrs.disabled ?? false) || (!canSelectMore() && !input.includes(item[itemValue]))\"\n                              :value=\"item[itemValue]\"\n                              :color=\"checkboxColor\"\n                              hide-details\n                              :label=\"item[itemTitle]\"\n                              :class=\"getCheckboxClasses(item)\"\n                              :readonly=\"isMandatoryItem(item)\"\n                            >\n                              <!-- checkbox is on right -->\n                              <template v-if=\"checkboxOnRight\" #label>\n                                <span></span>\n                              </template>\n                            </v-checkbox>\n\n                          </div>\n                        </v-col>\n                      </v-row>\n                    </v-list-item>\n\n                    <v-list-item v-else\n                      v-for=\"(item, i) in group.items\"\n                      :key=\"`checkbox-${i}`\"\n                      class=\"pl-0\"\n                    >\n                      <v-checkbox\n                        class=\"ue-checklist-checkbox\"\n                        v-model=\"input\"\n                        :label=\"item[`${itemTitle}`]\"\n                        :value=\"item[`${itemValue}`]\"\n                        :disabled=\"!canSelectMore() && !input.includes(item[itemValue])\"\n                        color=\"success\"\n                        hide-details\n                        density=\"compact\"\n                        :readonly=\"isMandatoryItem(item)\"\n                        >\n                      </v-checkbox>\n                    </v-list-item>\n\n                  </v-list-group>\n                </template>\n\n                <!-- single item -->\n                <template v-else>\n                  <v-list-item\n                    class=\"pl-0\"\n                    >\n                    <v-checkbox\n                      v-model=\"input\"\n                      :label=\"group[`${itemTitle}`]\"\n                      :value=\"group[`${itemValue}`]\"\n                      :disabled=\"!canSelectMore() && !input.includes(group[itemValue])\"\n                      :readonly=\"isMandatoryItem(group)\"\n                      color=\"success\"\n                      hide-details\n                      density=\"compact\"\n                    />\n                  </v-list-item>\n\n                </template>\n\n              </template>\n\n            </v-list>\n          </v-col>\n        </v-row>\n\n        <!-- standard checkbox list -->\n        <v-row v-else\n            :style=\"[\n              !flexColumn ? 'flex: 1 0 60%;' : ''\n            ]\"\n          >\n          <template v-for=\"(item, index) in items\"\n              :key=\"`checkbox-${index}`\">\n              <v-col v-bind=\"checkboxCol\"\n                class=\"\"\n                >\n                <v-input-checkbox-card\n                  v-if=\"isCard\"\n                  v-model=\"input\"\n                  :value=\"item[itemValue]\"\n                  :class=\"getCheckboxClasses(item)\"\n                  :color=\"checkboxColor\"\n                  :title=\"item[itemTitle]\"\n                  :description=\"item.description\"\n                  :disabled=\"($attrs.disabled ?? false) || (!canSelectMore() && !input.includes(item[itemValue]))\"\n                  :readonly=\"isMandatoryItem(item)\"\n                  :checkboxOnRight=\"checkboxOnRight\"\n                  :stats=\"getCardStats(item)\"\n                />\n                <div\n                  v-else\n                  :class=\"getCheckboxContainerClasses(item)\"\n                >\n                  <span v-if=\"checkboxOnRight\" :class=\"[($attrs.disabled ?? false) || (!canSelectMore() && !input.includes(item[itemValue])) ? 'v-input-checklist__label--disabled' : '']\">{{ item[itemTitle] }}</span>\n                  <v-spacer v-if=\"checkboxOnRight\"></v-spacer>\n                  <v-checkbox\n                    data-test=\"checkbox\"\n                    v-model=\"input\"\n                    :value=\"item[itemValue]\"\n                    :disabled=\"($attrs.disabled ?? false) || (!canSelectMore() && !input.includes(item[itemValue]))\"\n                    :color=\"checkboxColor\"\n                    hide-details\n                    :label=\"item[itemTitle]\"\n                    :class=\"getCheckboxClasses(item)\"\n                    :readonly=\"isMandatoryItem(item)\"\n                  >\n                    <template v-if=\"checkboxOnRight\" #label>\n                      <span></span>\n                    </template>\n                  </v-checkbox>\n                </div>\n              </v-col>\n              <!-- <v-spacer></v-spacer> -->\n              <!-- <v-responsive v-if=\"index % 4 == 3\" width=\"100%\"></v-responsive> -->\n          </template>\n        </v-row>\n\n      </div>\n    </template>\n  </v-input>\n</template>\n\n<script>\n  import { computed, ref, toRef } from 'vue'\n  import { useInput, makeInputProps, makeInputEmits } from '@/hooks'\n  import { cloneDeep } from 'lodash-es'\n  export default {\n    name: 'v-input-checklist',\n    emits: [...makeInputEmits],\n    props: {\n      ...makeInputProps(),\n      color: {\n        type: String,\n        default: null\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      subtitle: {\n        type: String,\n        default: null\n      },\n      itemValue: {\n        type: String,\n        default: 'id'\n      },\n      itemTitle: {\n        type: String,\n        default: 'name'\n      },\n      items: {\n        type: Array,\n        default: () => []\n      },\n      checkboxColor: {\n        type: String,\n        default: 'primary'\n      },\n      isTreeview: {\n        type: Boolean,\n        default: false\n      },\n      chunkCharacter: {\n        type: String,\n        default: '_'\n      },\n      chunkTitleKey: {\n        type: String,\n        default: 'name'\n      },\n      chunkField: {\n        type: String,\n        default: null\n      },\n      labelColor: {\n        type: String,\n        default: 'grey-darken-1'\n      },\n      subtitleColor: {\n        type: String,\n        default: 'grey-darken-1'\n      },\n      flexColumn: {\n        type: Boolean,\n        default: true\n      },\n      checkboxHighlighted: {\n        type: Boolean,\n        default: false\n      },\n      checkboxPosition: {\n        type: String,\n        default: 'right'\n      },\n      checkboxCol: {\n        type: Object,\n        default: () => ({\n          cols: 3\n        })\n      },\n      noGroupAllSelectable: {\n        type: Boolean,\n        default: false\n      },\n      hasGroupBottomDivider: {\n        type: Boolean,\n        default: true\n      },\n      openAllGroups: {\n        type: Boolean,\n        default: false\n      },\n      closeAllGroups: {\n        type: Boolean,\n        default: false\n      },\n      rawRules: {\n        type: [String, Array],\n        default: null\n      },\n      max: {\n        type: [Number, String],\n        default: null\n      },\n      mandatory: {\n        type: String,\n        default: null\n      },\n      isCard: {\n        type: Boolean,\n        default: false\n      },\n      cardStats: {\n        type: Array,\n        default: () => []\n      },\n    },\n    setup (props, context) {\n      const maxSelectable = computed(() => {\n        let max = props.max\n\n        if(window.__isString(max)){\n          max = parseInt(max)\n        } else if(!max && window.__isString(props.rawRules)){\n          max = props.rawRules.match(/max:\\d+/)?.[0].split(':')[1]\n        }\n        return max ?? 999\n      })\n\n      const initializeInput = (input) => {\n        if(props.mandatory){\n          let mandatoryItems = props.items.filter((item) => __data_get(item, props.mandatory, false))\n\n          if(props.max){\n            let max = parseInt(props.max)\n            if(mandatoryItems.length > max){\n              mandatoryItems = mandatoryItems.slice(0, max)\n            }\n          }\n          if(mandatoryItems.length > 0){\n            // Check if mandatory items were not in previous input\n            const previous = cloneDeep(input)\n            const previousInput = Array.isArray(previous) ? previous : []\n            const mandatoryItemsIds = mandatoryItems.map(item => item[props.itemValue])\n            const missingMandatoryItems = mandatoryItemsIds.filter(id => !previousInput.includes(id))\n            input = [\n              ...new Set([\n                ...(Array.isArray(input) ? input : []),\n                ...mandatoryItemsIds\n              ])\n            ]\n\n            if (missingMandatoryItems.length > 0) {\n              context.emit('update:modelValue', input)\n            }\n\n          }\n        }\n\n        if(maxSelectable.value > 1 && input.length > maxSelectable.value){\n          input = input.sort((a, b) => a - b).slice(0, maxSelectable.value)\n          context.emit('update:modelValue', input)\n        }\n        return input\n      }\n\n      const openedGroups = ref([])\n\n      return {\n        ...useInput(props, {\n          ...context,\n          initializeInput\n        }),\n        openedGroups: toRef(openedGroups),\n        maxSelectable\n      }\n    },\n\n    methods: {\n      isAllSelected (group) {\n        const ids = group.items.map((item) => item.id)\n\n        return ids.every(v => this.input.includes(v))\n      },\n      isIndeterminateGroup (group) {\n        const ids = group.items.map((item) => item.id)\n\n        return !ids.every(v => this.input.includes(v)) && ids.some(v => this.input.includes(v))\n      },\n      updatedParent (value, group) {\n        const ids = group.items.map((item) => item.id)\n\n        if (!value) {\n          this.input = this.input.filter(function (id) {\n            return !ids.includes(id)\n          })\n        } else {\n          // Check if adding all items would exceed the limit\n          if (this.maxSelectable) {\n            const newItemsCount = ids.filter(id => !this.input.includes(id)).length;\n            if (this.input.length + newItemsCount > this.maxSelectable) {\n              return; // Don't add if it would exceed the limit\n            }\n          }\n\n          ids.forEach((id) => {\n            if (!this.input.includes(id)) {\n              this.input.push(id)\n            }\n          })\n        }\n      },\n      getCheckboxContainerClasses(item) {\n        const isSelected = Array.isArray(this.input) && this.input.includes(item[this.itemValue]);\n        return [\n          this.checkboxOnRight ? 'd-flex align-center pl-4 pr-1 rounded-sm' : '',\n          this.checkboxOnRight && isSelected ? 'checked' : '',\n          this.checkboxOnRight && this.checkboxHighlighted && isSelected ? 'bg-grey-lighten-5 text-primary font-weight-bold' : ''\n        ];\n      },\n      getCheckboxClasses(item) {\n        const isSelected = Array.isArray(this.input) && this.input.includes(item[this.itemValue]);\n        return [\n          this.checkboxOnLeft ? 'rounded-sm' : '',\n          this.checkboxOnLeft && isSelected ? 'checked' : '',\n          this.checkboxOnLeft && this.checkboxHighlighted && isSelected ? 'bg-grey-lighten-5 text-primary font-weight-bold' : ''\n        ];\n      },\n      canSelectMore() {\n        return !this.disabled && (!this.maxSelectable || (Array.isArray(this.input) && this.input.length < this.maxSelectable));\n      },\n      isMandatoryItem(item) {\n        return __data_get(item, this.mandatory, false)\n      },\n      isGroupOpen(index) {\n        if(this.openAllGroups){\n          return true\n        } else if(this.closeAllGroups){\n          return false\n        } else {\n          return index === 0\n        }\n      },\n      getCardStats(item) {\n        return this.cardStats.map((stat) => {\n          return {\n            ...stat,\n            value: item[stat.key]\n          }\n        })\n      }\n    },\n\n    computed: {\n      checkboxOnRight () {\n        return this.checkboxPosition === 'right'\n      },\n      checkboxOnLeft () {\n        return this.checkboxPosition === 'left'\n      },\n      groupedItems () {\n        const groups = {}\n\n        for (const i in this.items) {\n\n          if(this.chunkField){\n            const groupName = this.items[i][this.chunkField]\n            const checklistTitle = this.items[i][this.chunkTitleKey]\n            const item = this.items[i]\n            if (Object.prototype.hasOwnProperty.call(groups, groupName)) {\n              // if (__isset(groups[groupName].id)) delete groups[groupName].id\n              groups[groupName].items.unshift({\n                id: item.id,\n                name: checklistTitle\n              })\n            }else{\n              groups[groupName] = {\n                name: this.$lodash.startCase(this.$lodash.camelCase(groupName)),\n                items: [{\n                  id: item.id,\n                  // name: this.$lodash.startCase(this.$lodash.camelCase(checklistTitle))\n                  name: checklistTitle\n                }]\n              }\n            }\n          } else{\n            const splitted = this.items[i][this.chunkTitleKey].split(this.chunkCharacter)\n\n            if (splitted.length > 1) {\n              const groupName = splitted[0]\n              const checklistTitle = splitted[1]\n              if (Object.prototype.hasOwnProperty.call(groups, groupName)) {\n                if (__isset(groups[groupName].id)) delete groups[groupName].id\n\n                groups[groupName].items.unshift({\n                  id: this.items[i].id,\n                  name: this.$lodash.startCase(this.$lodash.camelCase(checklistTitle))\n                })\n              } else {\n\n                groups[groupName] = {\n                  name: this.$lodash.startCase(this.$lodash.camelCase(groupName)),\n                  items: [{\n                    id: this.items[i].id,\n                    name: this.$lodash.startCase(this.$lodash.camelCase(checklistTitle))\n                  }]\n                }\n              }\n            } else {\n              const groupName = 'alpha'\n              if (Object.prototype.hasOwnProperty.call(groups, groupName)) {\n                if (__isset(groups[groupName].id)) delete groups[groupName].id\n                groups[groupName].items.unshift({\n                  id: this.items[i].id,\n                  name: this.$lodash.startCase(this.$lodash.camelCase(this.items[i][this.chunkTitleKey]))\n                })\n              } else {\n                groups[groupName] = {\n                  name: this.$t('General'),\n                  items: [{\n                    id: this.items[i].id,\n                    name: this.$lodash.startCase(this.$lodash.camelCase(this.items[i][this.chunkTitleKey]))\n                  }]\n                }\n              }\n\n              // groups[this.items[i].name] = {\n              //   id: this.items[i].id,\n              //   name: this.$lodash.startCase(this.$lodash.camelCase(this.items[i].name))\n              // }\n            }\n          }\n        }\n\n        const array = Object.values(groups)\n        array.sort(function (left, right) {\n          return left.hasOwnProperty('items') ? 1 : right.hasOwnProperty('items') ? -1 : 0\n        })\n\n        if(this.closeAllGroups){\n          this.openedGroups = []\n        } else {\n          this.openedGroups = !this.openAllGroups ? [array[0].name] : array.map((group) => group.name)\n        }\n\n        return array\n      },\n      disabledCheckbox() {\n        return this.$attrs.disabled || (!this.canSelectMore() && !Array.isArray(this.input));\n      },\n      hasMandatoryItems() {\n        return this.items.some((item) => __data_get(item, this.mandatory, false))\n      },\n      treeviewCols() {\n        return !this.chunkField ? {\n          lg: 6,\n          md: 8,\n          sm: 12\n        } : {\n          cols: 12\n        }\n      }\n    },\n\n    created () {\n    }\n  }\n</script>\n\n<style lang=\"sass\">\n  .v-input-checklist\n    .v-input-checklist__field\n      width: 100%\n    .v-input-checklist__label--disabled\n      opacity: 0.5\n    .v-input--horizontal .v-input__prepend\n        margin-inline-end: 0px\n\n</style>\n","<template>\n  <v-input\n    v-model=\"selectedItems\"\n    hideDetails=\"auto\"\n    appendIcon=\"mdi-close\"\n    :variant=\"boundProps.variant\"\n    class=\"v-input-checklist-group\"\n    >\n    <template v-slot:default=\"defaultSlot\">\n      <v-radio-group v-model=\"selectedGroup\" direction=\"horizontal\">\n        <v-row>\n          <v-col v-for=\"(details, name) in schema\" :key=\"name\">\n            <v-btn block class=\"v-input-checklist-group__btn\"\n              :variant=\"selectedGroup == name ? 'elevated' : 'outlined'\"\n              @click=\"selectedGroup=name\">\n              <template #prepend><v-radio :value=\"name\"></v-radio></template>\n              {{ details.label.toUpperCase() }}\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-radio-group>\n      <div>\n        <Checklist v-model=\"selectedItems\" :items=\"schema[selectedGroup ?? 0]?.items ?? []\" />\n      </div>\n    </template>\n  </v-input>\n</template>\n\n<script>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\nimport Checklist from './Checklist.vue'\n\nexport default {\n  name: 'v-input-checklist-group',\n  emits: [...makeInputEmits],\n  components: {\n    Checklist\n  },\n  props: {\n    ...makeInputProps(),\n    modelValue: {\n      type: Object,\n      default: () => {}\n    },\n    schema: {\n      type: Object,\n      default: () => {}\n    },\n  },\n  setup (props, context) {\n    return {\n      ...useInput(props, context)\n    }\n  },\n  data: function () {\n    return {\n      selectedGroup: Object.keys(this.schema)[0] ?? 1,\n      selectedItems: []\n    }\n  },\n  computed: {\n\n  },\n  watch: {\n    selectedGroup: {\n      handler (value, oldValue) {\n        this.selectedItems = []\n      }\n    },\n    selectedItems: {\n      handler (value, oldValue) {\n        this.$emit('update:modelValue', {\n          group: this.selectedGroup,\n          items: this.selectedItems\n        })\n      }\n    }\n  },\n  methods: {\n\n  },\n  created() {\n    // __log(this.schema)\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  .v-input-checklist-group\n    .v-input__control\n      display: block\n\n\n    .v-input-checklist-group__btn\n      padding-left: 4px\n      justify-content: flex-start !important\n\n      .v-btn__content\n        width: 100%\n\n\n</style>\n\n<style lang=\"scss\">\n\n</style>\n","<template>\n  <v-input\n    v-model=\"input\"\n    hideDetails=\"auto\"\n    appendIcon=\"mdi-close\"\n    :variant=\"boundProps.variant\"\n    class=\"v-input-comparison-table\"\n    :class=\"{'v-input-comparison-table--striped': striped, 'v-input-comparison-table--highlighted': highlighted}\"\n    :rules=\"$attrs.rules\"\n    >\n    <template v-slot:default=\"defaultSlot\">\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"comparisonItems\"\n        itemsLength=\"0\"\n        disable-sort\n        hide-default-footer\n\n        >\n        <!-- header slots -->\n        <template\n          v-for=\"(header, i) in headers\"\n          :key=\"`header-${header.key}`\"\n          v-slot:[`header.${header.key}`]=\"headerScope\"\n          >\n          <div v-if=\"$isset(header.id) && input == header.id\" class=\"v-input-comparison-table__header--selected\">\n            {{ header.title }}\n          </div>\n          <div v-else v-html=\"header.title\"></div>\n        </template>\n        <!-- item slots -->\n        <template\n          v-for=\"(header, i) in headers\"\n          :key=\"`item-${header.key}`\"\n          v-slot:[`item.${header.key}`]=\"{ item }\"\n          >\n          <v-btn class=\"ma-2\" v-if=\"item[header.key] == '__input'\" @click=\"input=header.id\" :variant=\"input == header.id ? 'elevated' : 'outlined'\">\n              Select\n          </v-btn>\n          <div v-else v-html=\"item[header.key]\"></div>\n        </template>\n\n      </v-data-table>\n    </template>\n  </v-input>\n</template>\n\n<script>\n  import { useInput, makeInputProps, makeInputEmits } from '@/hooks'\n  import Table from '../Table.vue'\n  import { find, toUpper } from 'lodash-es';\n\n  export default {\n    name: 'v-input-comparison-table',\n    emits: [...makeInputEmits],\n    components: {\n      Table\n    },\n    props: {\n      ...makeInputProps(),\n      schema: {\n        type: Object,\n        default: () => {}\n      },\n      items: {\n        type: Object,\n        default: () => []\n      },\n      comparatorField: {\n        type: String,\n        default: 'name'\n      },\n      comparators: {\n        type: Object,\n        default: () => {}\n      },\n      selectable: {\n        type: Boolean,\n        default: true\n      },\n      striped: {\n        type: Boolean,\n        default: true\n      },\n      highlighted: {\n        type: Boolean,\n        default: true\n      }\n    },\n    setup (props, context) {\n      return {\n        ...useInput(props, context)\n      }\n    },\n    data: function () {\n      return {\n        model: null\n        // selectedGroup: Object.keys(this.schema)[0] ?? 1,\n        // selectedItems: []\n      }\n    },\n    computed: {\n      headers() {\n        return [{title: this.label, key: 'comparator_name'}].concat( this.items.map((item) => {\n          return {title: item.name, key: item.name, align: 'center', id: item.id}\n        }))\n      },\n      comparisonItems() {\n        let commonComparators = Object.keys(this.comparators).reduce((acc, confKey) => {\n          const comparatorItem = this.comparators[confKey]\n          let comparatorKey = comparatorItem?.key ?? confKey\n          this.items.forEach((item) => {\n            if(Array.isArray( item[comparatorKey])){\n              item[comparatorKey].forEach(function(comparisonObject){\n                if(!find(acc, ['id', comparisonObject.id]) ){\n                  acc.push({\n                    ...comparisonObject,\n                    _comparatorField: comparatorItem?.field ?? 'name',\n                    ...(comparatorItem?.itemClasses ? {_comparatorItemClasses: comparatorItem.itemClasses} : {})\n                  })\n                }\n              })\n            }else {\n              let searchKey = __isset(item[`${comparatorKey}_show`]) ? `${comparatorKey}_show` : comparatorKey\n              if( !acc.includes(searchKey) ){\n                acc.push(searchKey)\n              }\n            }\n          })\n\n          return acc\n        }, [])\n\n        let bottomRows = [];\n\n        if(this.selectable){\n          let inputRow = {comparator_name: ''}\n\n          this.items.forEach( (item) => {\n            inputRow[item.name] = '__input'\n          })\n\n          bottomRows.push(inputRow)\n        }\n\n        return commonComparators.map((comparator) => {\n          let rowData = {}\n          let comparisonValue = null\n\n          if(__isObject(comparator)){\n            comparisonValue = comparator[comparator._comparatorField]\n\n            if(__isset(comparator._comparatorItemClasses)){\n              comparisonValue = `<span class=\"${comparator._comparatorItemClasses}\">${comparisonValue}</span>`\n            }\n          } else{\n            let rec = null\n            comparisonValue = toUpper(comparator.match(/(\\w+)?(_show)/)[1])\n\n            if(( rec = find(this.comparators, ['key', comparator]) ) && __isset(rec.title)){\n              comparisonValue = rec.title\n            }\n\n            if( __isset(rec.itemClasses)){\n              comparisonValue = `<span class=\"${rec.itemClasses}\"> ${comparisonValue} </span>`\n            }\n\n          }\n          rowData.comparator_name = comparisonValue\n\n          this.items.forEach((item) => {\n            if(__isObject(comparator)){\n              let found = find( item[this.comparatorField], ['id', comparator.id] )\n\n              if(found){\n                rowData[item.name] = found.pivot.value\n                // rowData[item.name] = found.pivot.active == '1'\n                //   ? '<span class=\"mdi mdi-check text-info font-weight-bold\"></span>'\n                //   : '<span class=\"mdi mdi-close text-error font-weight-bold\"></span>'\n              }else{\n                rowData[item.name] = ''\n              }\n            }else {\n              let value = item[comparator]\n              rowData[item.name] = value\n              let rec = null\n              if(( rec = find(this.comparators, ['key', comparator]) ) && __isset(rec.itemClasses)){\n                rowData[item.name] = `<span class=\"${rec.itemClasses}\"> ${value} </span>`\n              }\n            }\n          })\n\n          return rowData\n        }).concat(bottomRows)\n      }\n    },\n    watch: {\n      input(val, old){\n\n      },\n      modelValue(val, old){\n\n      }\n    },\n    methods: {\n\n    },\n    created() {\n\n    }\n  }\n</script>\n\n<style lang=\"sass\">\n  $borderWidth: 1px\n  $borderColor: rgba(var(--v-theme-primary), .7 )\n  $stripedColor: rgba(var(--v-theme-primary), .1 )\n\n  .v-table\n    --v-table-header-height: 50px\n    --v-table-row-height: 40px\n\n  .v-input-comparison-table\n    .v-input__control\n      display: block\n\n    th:has(> .v-input-comparison-table__header--selected)\n      background-color: rgb(var(--v-theme-primary)) !important\n      color: rgb(var(--v-theme-on-primary)) !important\n    &--striped\n      tr\n        &:nth-of-type(2n)\n          background-color: $stripedColor //TODO: table action border must be variable\n\n    &--highlighted\n      .v-table__wrapper\n        > table\n          tr\n            &:first-child\n              > th\n                &:not(:first-child)\n                  color: $borderColor\n                  text-transform: uppercase\n                  border-top: $borderWidth solid $borderColor !important\n                  border-top-left-radius: 8px !important\n                  border-top-right-radius: 8px !important\n                  border-bottom: $borderWidth solid $borderColor !important\n                  // +smooth-wave-border( $position: bottom, $wave-height: 5px, $color: rgba(var(--v-theme-primary), 1), $border-width: 1px )\n                  // +wavy-border( $position: bottom, $wave-height: 15px, $wave-width: 50%,$border-width: 1px ,$color: rgba(var(--v-theme-primary), 1))\n                  // +sine-wave-border( $position: bottom, $wave-height: 20px,$color: $borderColor, $border-width: 1px, $amplitude: 4, $height: 25px, $phase: -5)\n            > td, th\n              border-bottom: unset !important\n              &:not(:first-child)\n                // border: 1px solid rgba(var(--v-theme-primary), 0.5 )\n                border-left: $borderWidth solid $borderColor\n              &:last-child\n                border-right: $borderWidth solid $borderColor\n            &:last-child\n              > td\n                &:not(:first-child)\n                  border-bottom: $borderWidth solid $borderColor !important\n\n\n</style>\n\n<style lang=\"scss\">\n\n</style>\n","import { mapState } from 'vuex'\n\nexport default {\n  props: {\n    locale: {\n      default: null\n    }\n  },\n  data () {\n    return {\n      _locale: this.locale\n    }\n  },\n  computed: {\n    hasLocale: function () {\n      return this._locale != null\n    },\n    hasCurrentLocale: function () {\n      return this.currentLocale != null\n    },\n    // isCurrentLocale: function () {\n    //   if (this.hasLocale && this.hasCurrentLocale) {\n    //     return this._locale.value === this.currentLocale.value\n    //   } else {\n    //     return true\n    //   }\n    // },\n    isLocaleRTL: function () {\n      /* List of RTL locales */\n      /*\n        ar : Arabic\n        arc : Aramaic\n        dv : Divehi\n        fa : Persian\n        ha : Hausa\n        he : Hebrew\n        khw : Khowar\n        ks : Kashmiri\n        ku : Kurdish\n        ps : Pashto\n        ur : Urdu\n        yi : Yiddish\n      */\n      const rtlLocales = ['ar', 'arc', 'dv', 'fa', 'ha', 'he', 'khw', 'ks', 'ku', 'ps', 'ur', 'yi']\n      if (this.hasLocale) return rtlLocales.includes(this.locale.shortlabel.toLowerCase())\n      else return false\n    },\n    dirLocale: function () {\n      return (this.isLocaleRTL ? 'rtl' : 'auto')\n    },\n    displayedLocale: function () {\n      return this.currentLocale.shortlabel\n      // if (this.hasLocale) return this._locale.shortlabel\n      // else return false\n    },\n    ...mapState({\n      currentLocale: state => state.language.active,\n      languages: state => state.language.all\n    })\n  },\n  methods: {\n    onClickLocale: function () {\n      this.$emit('localize', this.locale)\n    },\n    updateLocale: function (oldValue) {\n      this.$emit('localize', oldValue)\n    }\n  },\n  mounted () {\n    // if (this.currentLocale) {\n    //   this._locale = this.currentLocale\n    // }\n  }\n}\n","const _EXTENSIONS =\n  {\n    img: {\n      extensions: [\n        'gif',\n        'png',\n        'jpg'\n      ],\n      icon: 'img',\n      display: 'Image File',\n      instructions: 'Most Image files are natively recognized by your computer.'\n    },\n    tiff: {\n      extensions: [\n        'tiff',\n        'tif'\n      ],\n      icon: 'img',\n      display: 'TIFF Image',\n      instructions: 'To read TIFF images, you need <a href=\\'http://www.adobe.com/products/photoshop/\\' target=\\'_blank\\'>Adobe Photoshop</a> or similar.'\n    },\n    eps: {\n      extensions: [\n        'eps',\n        'ps'\n      ],\n      icon: 'eps',\n      display: 'Postscript File',\n      instructions: 'To read Postscript files, you need <a href=\\'http://www.adobe.com/products/illustrator/\\' target=\\'_blank\\'>Adobe Illustrator</a> or similar.'\n    },\n    bmp: {\n      extensions: [\n        'bmp'\n      ],\n      icon: 'img',\n      display: 'Bitmap Image',\n      instructions: 'To read Bitmap images, you need <a href=\\'http://www.adobe.com/products/photoshop/\\' target=\\'_blank\\'>Adobe Photoshop</a> or similar.'\n    },\n    raw: {\n      extensions: [\n        '3fr',\n        'arw',\n        'srf',\n        'sr2',\n        'bay',\n        'crw',\n        'cr2',\n        'cap',\n        'iiq',\n        'eip',\n        'dng',\n        'erf',\n        'fff',\n        'mef',\n        'mos',\n        'mrw',\n        'nef',\n        'nrw',\n        'orf',\n        'ptx',\n        'pef',\n        'pxn',\n        'r3d',\n        'raf',\n        'raw',\n        'rw2',\n        'rwz',\n        'k25',\n        'kdc',\n        'dcs',\n        'drf',\n        'x3f'\n      ],\n      icon: 'img',\n      display: 'RAW Image',\n      instructions: 'To read RAW images, you need <a href=\\'http://www.adobe.com/products/photoshop/\\' target=\\'_blank\\'>Adobe Photoshop</a> or similar.'\n    },\n    indd: {\n      extensions: [\n        'indd'\n      ],\n      icon: 'indd',\n      display: 'InDesign Document',\n      instructions: 'To read InDesign documents, you need <a href=\\'http://www.adobe.com/products/indesign/\\' target=\\'_blank\\'>Adobe InDesign</a> or similar.'\n    },\n    psd: {\n      extensions: [\n        'psd'\n      ],\n      icon: 'psd',\n      display: 'Photoshop File',\n      instructions: 'To read Photoshop files, you need <a href=\\'http://www.adobe.com/products/photoshop/\\' target=\\'_blank\\'>Adobe Photoshop</a> or similar.'\n    },\n    ai: {\n      extensions: [\n        'ai'\n      ],\n      icon: 'ai',\n      display: 'Illustrator File',\n      instructions: 'To read Illustrator files, you need <a href=\\'http://www.adobe.com/products/illustrator/\\' target=\\'_blank\\'>Adobe Illustrator</a> or similar.'\n    },\n    indb: {\n      extensions: [\n        'indb'\n      ],\n      icon: 'indd',\n      display: 'InDesign Book',\n      instructions: 'To read InDesign books, you need <a href=\\'http://www.adobe.com/products/indesign/\\' target=\\'_blank\\'>Adobe InDesign</a> or similar.'\n    },\n    ase: {\n      extensions: [\n        'ase'\n      ],\n      icon: 'ase',\n      display: 'Adobe Swatch File',\n      instructions: 'To read Swatch files, you need <a href=\\'http://www.adobe.com/products/creativesuite/\\' target=\\'_blank\\'>Adobe Creative Suite</a> or similar.'\n    },\n    snd: {\n      extensions: [\n        'mp3',\n        'wav'\n      ],\n      icon: 'snd',\n      display: 'Audio File',\n      instructions: 'To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar.'\n    },\n    vid: {\n      extensions: [\n        'avi',\n        'mov',\n        'mp4',\n        'mpg',\n        'mpeg',\n        'wmv',\n        'flv'\n      ],\n      icon: 'vid',\n      display: 'Movie File',\n      instructions: 'To watch Movie files, you need Apple QuickTime, Windows Media Player or similar.'\n    },\n    fla: {\n      extensions: [\n        'fla'\n      ],\n      icon: 'fla',\n      display: 'Flash Document',\n      instructions: 'To read Flash documents, you need <a href=\\'http://get.adobe.com/flashplayer/\\' target=\\'_blank\\'>Adobe Flash player</a>.'\n    },\n    swf: {\n      extensions: [\n        'swf'\n      ],\n      icon: 'swf',\n      display: 'Flash Movie',\n      instructions: 'To read Flash movies, you need <a href=\\'http://get.adobe.com/flashplayer/\\' target=\\'_blank\\'>Adobe Flash player</a>.'\n    },\n    dcr: {\n      extensions: [\n        'dcr'\n      ],\n      icon: 'dcr',\n      display: 'Shockwave Movie',\n      instructions: 'To read Shockwave movies, you need <a href=\\'http://get.adobe.com/flashplayer/\\' target=\\'_blank\\'>Adobe Flash player</a>.'\n    },\n    ae: {\n      extensions: [\n        'ae',\n        'aep'\n      ],\n      icon: 'ae',\n      display: 'After Effect File',\n      instructions: 'To read After Effect files, you need <a href=\\'http://www.adobe.com/products/aftereffects/\\' target=\\'_blank\\'>Adobe After Effects</a>.'\n    },\n    pdf: {\n      extensions: [\n        'pdf'\n      ],\n      icon: 'pdf',\n      display: 'PDF Document',\n      instructions: 'To read PDF documents, You need the free <a href=\\'http://get.adobe.com/reader/\\' target=\\'_blank\\'>Adobe Acrobat Reader</a> or similar.'\n    },\n    doc: {\n      extensions: [\n        'doc',\n        'docx'\n      ],\n      icon: 'doc',\n      display: 'Word Document',\n      instructions: 'To read Word documents, you need <a href=\\'http://office.microsoft.com/en-us/word/\\' target=\\'_blank\\'>Microsoft Word</a> or similar.'\n    },\n    xls: {\n      extensions: [\n        'xls',\n        'xlsx'\n      ],\n      icon: 'xls',\n      display: 'Excel Document',\n      instructions: 'To read Excel documents, you need <a href=\\'http://office.microsoft.com/en-us/excel/\\' target=\\'_blank\\'>Microsoft Excel</a>, or similar.'\n    },\n    ppt: {\n      extensions: [\n        'ppt',\n        'pptx',\n        'pps'\n      ],\n      icon: 'ppt',\n      display: 'Powerpoint Document',\n      instructions: 'To read PowerPoint documents, you need <a href=\\'http://office.microsoft.com/en-us/powerpoint/\\' target=\\'_blank\\'>Microsoft PowerPoint</a>, or similar.'\n    },\n    pages: {\n      extensions: [\n        'pages'\n      ],\n      icon: 'pages',\n      display: 'Pages Document',\n      instructions: 'To read Pages documents, you need <a href=\\'http://www.apple.com/iwork/pages/\\' target=\\'_blank\\'>Apple iWorks</a>.'\n    },\n    numbers: {\n      extensions: [\n        'numbers'\n      ],\n      icon: 'numbers',\n      display: 'Numbers Document',\n      instructions: 'To read Numbers documents, you need <a href=\\'http://www.apple.com/iwork/numbers/\\' target=\\'_blank\\'>Apple iWorks</a>.'\n    },\n    key: {\n      extensions: [\n        'key'\n      ],\n      icon: 'key',\n      display: 'Keynote Document',\n      instructions: 'To read Keynote Documents, you need <a href=\\'http://www.apple.com/iwork/keynote/\\' target=\\'_blank\\'>Apple iWorks</a>.'\n    },\n    csv: {\n      extensions: [\n        'csv'\n      ],\n      icon: 'sql',\n      display: 'CSV File',\n      instructions: 'CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar.'\n    },\n    txt: {\n      extensions: [\n        'txt'\n      ],\n      icon: 'txt',\n      display: 'Text File',\n      instructions: 'To read TXT files, you need any standard text editor.'\n    },\n    rtf: {\n      extensions: [\n        'rtf'\n      ],\n      icon: 'txt',\n      display: 'Rich Text File',\n      instructions: 'To read RTF files, you need any standard text editor.'\n    },\n    merlin: {\n      extensions: [\n        'merlin',\n        'merlin2'\n      ],\n      icon: 'merlin',\n      display: 'Merlin File',\n      instructions: 'To read Merlin files, you need <a href=\\'http://projectwizards.net/\\' target=\\'_blank\\'>Merlin</a>.'\n    },\n    oplx: {\n      extensions: [\n        'oplx'\n      ],\n      icon: 'merlin',\n      display: 'OmniPlan File',\n      instructions: 'To read OmniPlan files, you need <a href=\\'https://www.omnigroup.com/omniplan\\' target=\\'_blank\\'>OmniPlan</a>.'\n    },\n    zip: {\n      extensions: [\n        'zip',\n        'str',\n        'tar',\n        'gz'\n      ],\n      icon: 'zip',\n      display: 'Archive',\n      instructions: 'Most archive formats are natively recognized by your computer.'\n    },\n    dmg: {\n      extensions: [\n        'dmg'\n      ],\n      icon: 'dmg',\n      display: 'DMG Installer',\n      instructions: 'DMG installers are disc images for Mac used for the installation of applications.'\n    },\n    fnt: {\n      extensions: [\n        'fnt',\n        'ttf',\n        'bmap',\n        'afm',\n        'otf'\n      ],\n      icon: 'fnt',\n      display: 'Font',\n      instructions: 'To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac.'\n    },\n    suit: {\n      extensions: [\n        'suit'\n      ],\n      icon: 'fnt',\n      display: 'Font Suitcase',\n      instructions: 'To open Font Suitcase, you need a Mac.'\n    },\n    html: {\n      extensions: [\n        'htm',\n        'html',\n        'rhtml'\n      ],\n      icon: 'html',\n      display: 'HTML File',\n      instructions: 'To read HTML files, you need a standard text editor.'\n    },\n    css: {\n      extensions: [\n        'css'\n      ],\n      icon: 'gen',\n      display: 'Stylesheet',\n      instructions: 'To read CSS files, you need a standard text editor.'\n    },\n    php: {\n      extensions: [\n        'php'\n      ],\n      icon: 'gen',\n      display: 'PHP File',\n      instructions: 'To read PHP files, you need a standard text editor.'\n    },\n    yml: {\n      extensions: [\n        'yml'\n      ],\n      icon: 'sql',\n      display: 'YAML File',\n      instructions: 'To read YAML files, you need a standard text editor.'\n    },\n    sql: {\n      extensions: [\n        'sql'\n      ],\n      icon: 'sql',\n      display: 'MySql Dump',\n      instructions: 'To read MySql Dump files, you need <a href=\\'http://www.mysql.com/\\' target=\\'_blank\\'>MySQL</a>.'\n    },\n    dir: {\n      extensions: [\n        'dir'\n      ],\n      icon: 'dir',\n      display: 'Folder'\n    },\n    cut: {\n      extensions: [\n        'cut'\n      ],\n      icon: 'cut',\n      display: 'Shortcut'\n    },\n    ftr: {\n      extensions: [\n        'ftr'\n      ],\n      icon: 'ftr',\n      display: 'Feature'\n    },\n    pop: {\n      extensions: [\n        'pop'\n      ],\n      icon: 'pop',\n      display: 'Popup Window'\n    },\n    link: {\n      extensions: [\n        'net',\n        'link',\n        'com',\n        'fr',\n        'net',\n        'org',\n        'me',\n        'us',\n        'biz',\n        'mobi',\n        'info',\n        'es',\n        'de'\n      ],\n      icon: 'net',\n      display: 'Internet Location'\n    },\n    site: {\n      extensions: [\n        'site'\n      ],\n      icon: 'site',\n      display: 'Mini Site'\n    },\n    slide: {\n      extensions: [\n        'slide'\n      ],\n      icon: 'slide',\n      display: 'Slideshow'\n    },\n    rss: {\n      extensions: [\n        'rss'\n      ],\n      icon: 'txt',\n      display: 'RSS Feed'\n    }\n  }\n\nexport default _EXTENSIONS\n","<template>\n  <tr class=\"fileItem\">\n    <td v-if=\"draggable\" class=\"fileItem__cell fileItem__cell--drag\">\n      <div class=\"drag__handle--drag\"></div>\n    </td>\n    <td class=\"fileItem__cell fileItem__cell--extension\" v-if=\"currentItem.hasOwnProperty('extension')\">\n      <a href=\"#\" target=\"_blank\"><span v-svg :symbol=\"getSvgIconName()\"></span></a>\n    </td>\n    <td class=\"fileItem__cell fileItem__cell--name\">\n      <span v-if=\"currentItem.hasOwnProperty('thumbnail')\">\n        <img :src=\"currentItem.thumbnail\"/>\n      </span>\n      <a :href=\"currentItem.hasOwnProperty('original') ? currentItem.original : '#'\" download>\n        <span class=\"f--link-underlined--o\">\n          {{ currentItem.name }}\n        </span>\n      </a>\n      <input type=\"hidden\" :name=\"name\" :value=\"currentItem.id\"/>\n    </td>\n    <td class=\" fileItem__cell fileItem__cell--size\" v-if=\"currentItem.hasOwnProperty('size')\">{{ currentItem.size }}</td>\n    <td class=\"fileItem__cell\">\n      <v-btn icon=\"$close\" @click=\"deleteItem\"></v-btn>\n      <!-- <a17-button class=\"bucket__action\" icon=\"close\" @click=\"deleteItem()\">\n        <span v-svg symbol=\"close_icon\"></span>\n      </a17-button> -->\n    </td>\n  </tr>\n</template>\n\n<script>\nimport FileExtensions from './FileExtensions'\n\nexport default {\n  name: 'UeFileItem',\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    item: {\n      type: Object,\n      default: function () {\n        return {}\n      }\n    },\n    itemLabel: {\n      type: String,\n      default: 'Item'\n    },\n    endpoint: {\n      type: String,\n      default: ''\n    },\n    max: {\n      type: Number,\n      default: 10\n    }\n  },\n  data: function () {\n    return {\n      handle: '.item__handle' // Drag handle override\n    }\n  },\n  computed: {\n    currentItem: function () {\n      return this.item\n    }\n  },\n  methods: {\n    deleteItem: function () {\n      this.$emit('delete')\n    },\n    getSvgIconName: function () {\n      const itemExt = this.currentItem.extension\n\n      // Look on FileExtensions key\n      if (FileExtensions.hasOwnProperty(itemExt)) {\n        return FileExtensions[itemExt].icon\n      }\n\n      // Look into second FileExtensions level by key\n      for (const ext in FileExtensions) {\n        const index = FileExtensions[ext].FileExtensions.findIndex((e) => e === itemExt)\n        if (index > -1) {\n          return FileExtensions[ext].icon\n        }\n      }\n\n      // Default\n      return 'gen'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  $color__black--2: #fbfbfb;\n  $color__f--bg: $color__black--2;\n\n  $color__black--35: #a6a6a6;\n  $color__black--25: #bfbfbf;\n  $color__black--5: #f2f2f2;\n  $color__black--2: #fbfbfb;\n  /**** Drag Colors ****/\n  $color__drag: $color__black--25;\n  $color__drag--hover: $color__black--35;\n  $color__drag_bg: $color__black--2;\n  $color__drag_bg--hover: $color__black--5;\n\n  $color__darkBlue: #3278B8;\n  $color__link: $color__darkBlue;\n\n  .fileItem {\n    position: relative;\n    display: flex;\n    width: 100%;\n    border-bottom: 1px solid $color__border--light;\n\n    &:hover {\n      .fileItem__cell {\n        background-color: $color__f--bg;\n      }\n    }\n\n    &:last-child {\n      border-bottom: 0 none;\n    }\n  }\n\n  .fileItem__cell {\n    display: flex;\n    align-items: center;\n    padding: 26px 15px;\n  }\n\n  .fileItem__cell--extension {\n    padding-right: 5px;\n\n    @include breakpoint('small+') {\n      padding-left:29px;\n    }\n\n    a {\n      display:block;\n      height:26px;\n    }\n  }\n\n  .fileItem__cell--name {\n    flex-grow: 1;\n\n    a {\n      color: $color__link;\n      text-decoration: none;\n      display: block;\n      margin: -15px;\n      padding: 15px;\n\n      // &:hover {\n      //   text-decoration: underline;\n      // }\n    }\n  }\n\n  @include breakpoint('small+') {\n    .fileItem__cell--name:first-child,\n    .fileItem__cell--extension:first-child,\n    .fileItem__cell--drag + .fileItem__cell {\n      padding-left:29px;\n    }\n  }\n\n  .fileItem__cell--size {\n    color: $color__text--light;\n    text-transform: uppercase;\n  }\n\n  .fileItem__cell--drag {\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 12px;\n    min-width: 12px;\n    background-color: $color__drag_bg;\n    transition: background 250ms ease;\n    cursor: move;\n\n    &:hover {\n      background-color: $color__drag_bg--hover;\n    }\n  }\n\n  .drag__handle:hover .drag__handle--drag:before {\n    background: dragGrid__bg($color__drag_bg--hover);\n  }\n\n  .drag__handle--drag {\n    position: relative;\n    width: 10px;\n    height: 42px;\n    margin-left:auto;\n    margin-right:auto;\n    transition: background 250ms ease;\n    @include dragGrid($color__drag, $color__drag_bg);\n  }\n</style>\n","<template>\n  <v-input\n    hideDetails=\"auto\"\n    appendIcon=\"mdi-close\"\n    :variant=\"boundProps.variant\"\n  >\n    <template v-slot:default=\"defaultSlot\">\n      <div class=\"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr\">\n        <div class=\"v-field__field\" data-no-activator=\"\">\n          <div class=\"fileField\">\n            <div class=\"fileField__trigger\" v-if=\"buttonOnTop && remainingItems\">\n              <input type=\"hidden\" :name=\"name\" :value=\"itemsIds\"/>\n              <v-btn type=\"button\" @click=\"openMediaLibrary(remainingItems)\">{{ addLabel }}</v-btn>\n              <span class=\"fileField__note f--small\">{{ note }}</span>\n            </div>\n            <table class=\"fileField__list\" v-if=\"input.length\">\n              <!-- <draggable :tag=\"'tbody'\" v-model=\"items\" itemKey=\"id\"> -->\n              <draggable :tag=\"'tbody'\" v-model=\"input\" itemKey=\"id\">\n                <!-- <FileItem\n                  v-for=\"(item, index) in items\"\n                  :key=\"item.id\"\n                  class=\"item__content\"\n                  :name=\"`${name}_${item.id}`\"\n                  :draggable=\"isDraggable\"\n                  :item=\"item\"\n                  @delete=\"deleteItem(index)\">\n                </FileItem> -->\n                <template #item=\"itemSlot\">\n                  <FileItem\n                    class=\"item__content\"\n                    :name=\"`${name}_${itemSlot.index}`\"\n                    :item-label=\"$t('form-labels.File')\"\n                    :item=\"input[`${itemSlot.index}`]\"\n                    @delete='deleteItem(itemSlot.index)'\n                    >\n                  </FileItem>\n                </template>\n              </draggable>\n            </table>\n            <div class=\"fileField__trigger\" v-if=\"!buttonOnTop && remainingItems\">\n              <input type=\"hidden\" :name=\"name\" :value=\"itemsIds\"/>\n              <v-btn type=\"button\" @click=\"openMediaLibrary(remainingItems)\">{{ addLabel }}</v-btn>\n              <span class=\"fileField__note f--small\">{{ note }}</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"v-field__outline\">\n          <div class=\"v-field__outline__start\"></div>\n          <div class=\"v-field__outline__notch\">\n            <label class=\"v-label v-field-label v-field-label--floating\" aria-hidden=\"true\" for=\"input-29\">\n              {{ boundProps.label }}\n            </label>\n          </div>\n          <div class=\"v-field__outline__end\"></div>\n        </div>\n      </div>\n    </template>\n  </v-input>\n</template>\n<script>\nimport { MEDIA_LIBRARY } from '@/store/mutations'\nimport draggable from 'vuedraggable'\nimport { makeFileProps, useFile } from '@/hooks'\nimport { makeInputEmits } from '@/hooks'\n\nimport localeMixin from '@/mixins/locale'\n// import draggableMixin from '@/mixins/draggable'\n// import mediaLibraryMixin from '@/mixins/mediaLibrary/mediaLibrary'\n// import inputframeMixin from '@/mixins/inputFrame'\n\nimport FileItem from '@/components/files/FileItem.vue'\n\nexport default {\n  name: 'v-input-file',\n  emits: [...makeInputEmits],\n\n  components: {\n    FileItem,\n    draggable\n  },\n  mixins: [\n    localeMixin\n    // mediaLibraryMixin,\n    // draggableMixin,\n    // inputframeMixin\n  ],\n  props: {\n    ...makeFileProps()\n  },\n  setup (props, context) {\n    return {\n      ...useFile(props, context)\n    }\n  },\n  created () {\n\n  },\n  methods: {\n    openMediaLibrary: function (max = 1, name = this.name, index = -1) {\n      // if (__isset(this.$store.state.mediaLibrary.selected[name])) {\n      //   this.$store.state.mediaLibrary.selected[name] = []\n      //   this.$store.state.mediaLibrary.selected[name] = this.input\n      // }\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR, name)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE, this.mediaType)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX, index)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX, max)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE, true)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX, this.filesizeMax || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN, this.widthMin || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN, this.heightMin || 0)\n      if (this.$main() && this.$main().$refs.mediaLibrary) {\n        if (__isset(this.$store.state.mediaLibrary.selected[name])) {\n          this.$store.state.mediaLibrary.selected[name] = []\n        }\n        this.$store.state.mediaLibrary.selected[name] = this.input\n\n        // this.mediableActive = true\n        this.$main().$refs.mediaLibrary.openModal()\n        this.$nextTick(() => { this.mediableActive = true })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .fileField {\n    width: 100%;\n    display: block;\n    border-radius: 2px;\n    // border: 1px solid $color__border;\n    overflow-x: hidden;\n  }\n\n  .fileField__trigger {\n    padding: 10px;\n    position: relative;\n    border-top: 1px solid $color__border--light;\n\n    &:first-child {\n      border-top:0 none\n    }\n  }\n\n  .fileField__note {\n    color: $color__text--light;\n    float: right;\n    position: absolute;\n    bottom: 18px;\n    right: 15px;\n    display: none;\n\n    @include breakpoint('small+') {\n      display: inline-block;\n    }\n\n    @include breakpoint('medium') {\n      display: none;\n    }\n  }\n\n  .fileField__list {\n    overflow: hidden;\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n</style>\n","<template>\n  <slot name=\"activator\" v-bind=\"{\n    browse,\n    addFile,\n    removeFile,\n    removeFiles,\n    getFiles,\n    getFile,\n  }\"/>\n  <!-- <v-btn @click=\"pondBrowse\">Text</v-btn> -->\n  <v-input\n    ref=\"VInput\"\n    v-model=\"input\"\n    hide-details=\"auto\"\n    :class=\"class\"\n  >\n    <template v-slot:default=\"defaultSlot\">\n      <div\n        :class=\"[\n          'w-100',\n          $slots.activator ? 'd-non' : ''\n        ]\"\n        >\n\n        <ue-title v-if=\"label\" transform=\"none\" padding=\"a-0\" :weight=\"labelWeight\" color=\"grey-darken-5\">\n          <slot name=\"label\" v-bind=\"{\n            label: label,\n            ref: $refs.VInput,\n          }\">\n            {{ label }}\n          </slot>\n        </ue-title>\n        <ue-title v-if=\"subtitle\" type=\"caption\" transform=\"none\" padding=\"a-0\" :weight=\"subtitleWeight\" color=\"grey-darken-5\">\n          <slot name=\"subtitle\" v-bind=\"{\n            subtitle: subtitle,\n            ref: $refs.VInput,\n          }\">\n            <span v-html=\"subtitle\"></span>\n          </slot>\n        </ue-title>\n\n        <slot name=\"body\">\n          <div\n            :class=\"[\n              'fileField',\n              $slots.activator ? 'd-none' : ''\n            ]\"\n          >\n            <FilePond\n              ref=\"pond\"\n              :id=\"key\"\n              :key=\"key\"\n              v-bind=\"$lodash.omit($bindAttributes(), ['rules'])\"\n\n              :allow-multiple=\"true\"\n              :allow-file-type-validation=\"true\"\n              :accepted-file-types=\"acceptedFileTypes\"\n              :max-files=\"maxFiles\"\n              :name=\"name\"\n\n              :files=\"files\"\n              :server=\"server\"\n              @processfile=\"postProcessFilepond\"\n              @removefile=\"removeFilepond\"\n\n              @init=\"init\"\n            />\n          </div>\n        </slot>\n        <div class=\"hint-container\">\n          <ue-title v-if=\"hint\" type=\"caption\" transform=\"none\" padding=\"a-0\" :weight=\"hintWeight\" color=\"grey-darken-5\">\n            <slot name=\"hint\" v-bind=\"{\n              hint: hint,\n            }\">\n              <span v-html=\"hint\"></span>\n            </slot>\n          </ue-title>\n        </div>\n      </div>\n    </template>\n  </v-input>\n</template>\n\n<script>\n  import { isArray } from \"lodash-es\";\n\n  import vueFilePond, { setOptions } from \"vue-filepond\";\n  // Import image preview and file type validation plugins\n  import FilePondPluginImagePreview from \"filepond-plugin-image-preview\";\n  import FilePondPluginFileValidateType from \"filepond-plugin-file-validate-type\";\n  import \"filepond/dist/filepond.min.css\";\n  import \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\";\n\n  import { useInput, makeInputProps } from '@/hooks';\n  import { globalError } from '@/utils/errors'\n\n  // Create component\n  const Component = 'Filepond'\n  const FilePond = vueFilePond(\n    FilePondPluginImagePreview,\n    FilePondPluginFileValidateType,\n\n  );\n\n  export default {\n    name: \"v-input-filepond\",\n    components: {\n      FilePond,\n    },\n    props: {\n      ...makeInputProps(),\n      hint: {\n        type: String,\n        default: null,\n      },\n      hintWeight: {\n        type: String,\n        default: 'thin',\n      },\n      maxFiles: {\n        type: Number,\n        default: 2,\n      },\n      endPoints: {\n        type: Object,\n        default: () => ({}),\n      },\n      class: {\n        type: String,\n        default: '',\n      },\n      labelWeight: {\n        type: String,\n        default: 'regular',\n      },\n      subtitle: {\n        type: String,\n        default: null,\n      },\n      subtitleWeight: {\n        type: String,\n        default: 'thin',\n      },\n      acceptedFileTypes: {\n        type: String,\n        default: '',\n      },\n    },\n    setup(props, context) {\n      return {\n        ...useInput(props,context),\n      };\n    },\n    data() {\n      return {\n        files: isArray(this.modelValue) ? this.modelValue.map(function (file) {\n            return {\n              source:  file.source ?? `${this.endPoints.load}${file.uuid}`,\n              options: {\n                type : `${file.type ?? 'local'}`,\n                // file initial metadata\n                // metadata: {\n                //     date: '2018-10-5T12:00',\n                // },\n              }\n            }\n          }) : [],\n      }\n    },\n    methods:{\n      postProcessFilepond : function(error, file){\n        if(!error){\n          this.input = this.input.concat({\n            uuid: file.serverId,\n            file_name: file.filename,\n            source: `${this.endPoints.load}${file.serverId}`\n          });\n        }else{\n          __log('postProcess error', error)\n        }\n      },\n      removeFilepond: function(error, file) {\n        const uuid = file.filename ?? file.serverId?.replace(`/${file.filename}`, '') ?? file.uuid;\n\n        const newInput = this.input.filter((asset) => asset.uuid != uuid);\n\n        this.input = newInput\n      },\n      init() {\n        // const files = isArray(this.input) ? this.input.map(function (file) {\n        //       return {\n        //         source:  file.source ?? `${file.uuid}/${file.file_name}`,\n        //         options: {\n        //           type : `${file.type ?? 'local'}`,\n\n        //           // file initial metadata\n        //           // metadata: {\n        //           //     date: '2018-10-5T12:00',\n        //           // },\n        //         }\n        //       }\n        //   }) : [];\n\n        setOptions({\n\n          // files_: files,\n          server_: {\n            process_: this.endPoints.process,\n            revert_: this.endPoints.revert,\n            load_: this.endPoints.load,\n          },\n          // callbacks\n\n          // onaddfilestart(file) {}, // started file load\n          // onaddfileprogress(file, progress)\t{}, // Made progress loading a file\n          // onaddfile(error, file) {}, //\tIf no error, file has been succesfully loaded\n          // onprocessfilestart(file) {}, //\tStarted processing a file\n          // onprocessfileprogress(file, progress) {}, //\tMade progress processing a file\n          // onprocessfileabort(file) {}, //\tAborted processing of a file\n          // onprocessfilerevert(file) {}, //\tProcessing of a file has been reverted\n          // onprocessfile(error, file) {\n          //   __log('onprocessfile', self, file)\n          //   self.input = self.input.concat({\n          //     folder_name: file.serverId,\n          //     file_name: file.filename,\n          //   });\n          // }, //\tIf no error, Processing of a file has been completed\n          // onprocessfiles() {}, //\tCalled when all files in the list have been processed\n          // onremovefile(error, file) {\n          //   const uuid = file.serverId?.replace(`/${file.filename}`, '') ?? file.folder_name;\n\n          //   self.input = self.input.filter((asset) => asset.folder_name != uuid)\n          // }, //\tFile has been removed.\n          // onpreparefile(file, output) {}, //\tFile has been transformed by the transform plugin or another plugin subscribing to the prepare_output filter. It receives the file item and the output data.\n          // onupdatefiles(files) {}, //\tA file has been added or removed, receives a list of file items\n          // onactivatefile(file) {}, //\tCalled when a file is clicked or tapped\n          // onreorderfiles(files, origin, target) {}, //\tCalled when the files list has been reordered, receives current list of files (reordered) plus file origin and target index.\n          // // hooks\n          // beforeDropFile(file) {\t//FilePond is about to allow this item to be dropped, it can be a URL or a File object. Return true or false depending on if you want to allow the item to be dropped.\n          //   return true\n          // },\n          // beforeAddFile(item) {//FilePond is about to add this file, return false to prevent adding it, or return a Promise and resolve with true or false.\n          //   return true\n          // },\n          // beforeRemoveFile(item) { //\tFilePond is about to remove this file, return false to prevent removal, or return a Promise and resolve with true or false.\n          //   return true\n          // }\n        });\n      },\n\n\n      addFile(...args){\n        return this.$refs.pond.addFile(...args)\n      },\n      browse(...args){\n        return this.$refs.pond._pond.browse()\n      },\n      removeFile(...args){\n        return this.$refs.pond.removeFile(...args)\n      },\n      removeFiles(...args){\n        return this.$refs.pond.removeFiles(...args)\n      },\n      getFiles(...args){\n        return this.$refs.pond.getFiles(...args)\n      },\n      getFile(...args){\n        return this.$refs.pond.getFile(...args)\n      },\n    },\n    computed:{\n      server() {\n        return {\n          // revert: this.endPoints.revert,\n          revert: (uniqueFileId, load, error) => {\n            let requestId = 'revert-' + uniqueFileId\n            axios.delete(this.endPoints.revert, {\n              requestId,\n              data: uniqueFileId\n            }).then(res => {\n              this.input = this.input.filter(file => file.uuid != uniqueFileId)\n              load()\n            }).catch(err => {\n              console.error('server revert error', err)\n            })\n          },\n          process: (fieldName, file, metadata, load, error, progress, abort, transfer, options) => {\n            // fieldName is the name of the input field\n            // file is the actual file object to send\n            const formData = new FormData();\n            if(fieldName.match(/(\\w)+.(\\w)+/)){\n              let parts = fieldName.split('.')\n              fieldName = ''\n              for(const index in parts){\n                if(index == 0) fieldName += parts[index]\n                else fieldName += `[${parts[index]}]`\n              }\n              // fieldName = `${parentName}[${fieldName}]`\n            }\n            formData.append(fieldName, file, file.name);\n            let requestId = 'process-' + fieldName\n            axios.post( this.endPoints.process, formData, {\n                requestId,\n                onUploadProgress: e => {\n                  // __log('onUpload', e)\n                  // Should call the progress method to update the progress to 100% before calling load\n                  // Setting computable to false switches the loading indicator to infinite mode\n                  progress(e.lengthComputable, e.loaded, e.total);\n                }\n              })\n              .then(function (res) {\n                //handle success\n                load(res.data);\n              })\n              .catch(function (res) {\n                if(res.status == 500 && res.response.match(/^\\<script\\> Sfdump/)){\n                    globalError(Component, {\n                      message: 'Filepond process error.',\n                      value: request\n                    })\n                    error('Dump error on processing');\n                  }else{\n                    error('Processing Error');\n                  }\n              });\n\n            // Should expose an abort method so the request can be cancelled\n            return {\n                abort: () => {\n                  __log('aborted')\n                  // This function is entered if the user has tapped the cancel button\n                  // request.abort();\n                  axios.abort(requestId);\n\n                  // Let FilePond know the request has been cancelled\n                  abort();\n                },\n            };\n          },\n\n          // load_: this.endPoints.load,\n          load: (source, load, error, progress, abort, headers) => {\n              // Should request a file object from the server here\n              // ...\n\n              // // Should call the progress method to update the progress to 100% before calling load\n              // // (endlessMode, loadedSize, totalSize)\n              // progress(true, 0, 1024);\n\n              axios.get(source,{\n                  responseType: \"blob\",\n                  validateStatus: status => (status >= 200 && status < 300) || status === 422\n                })\n                .then((res) => {\n                  if (res.status == 200) {\n                    load(res.data)\n                  }else if (res.status == 500) {\n                    throw new Error(\"Answer not found\")\n                  }else {\n                    throw new Error(\"Some other status code\")\n                  }\n                })\n                .catch(function (error) {\n                  console.error(error);\n                });\n\n\n              // request.send()\n              // // Can call the header method to supply FilePond with early response header string\n              // // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders\n              // // headers(headersString);\n\n              // Should expose an abort method so the request can be cancelled\n              return {\n                  abort: () => {\n                      // User tapped cancel, abort our ongoing actions here\n\n                      // Let FilePond know the request has been cancelled\n                      abort();\n                  },\n              };\n          },\n          headers: {\n            'X-Csrf-Token': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content'),\n          },\n        }\n      },\n      input: {\n        get(){\n          return this.modelValue ?? []\n        },\n        set(val){\n          this.updateModelValue(val)\n        }\n      },\n      key: {\n        get(){\n          return `filepond-${Date.now()}`\n        }\n      },\n      name(){\n        let name = this.$attrs.name\n        if(this.obj && this.obj.schema && this.obj.schema.parentName){\n          name = `${this.obj.schema.parentName}.${name}`\n        }\n        // __log(name)\n        return name\n      },\n\n    },\n    created() {\n    },\n\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  .fileField {\n    width: 100%;\n    display: block;\n    border-radius: 4px;\n    overflow-x: hidden;\n\n    &:hover {\n      color: rgba(var(--v-theme-primary), 0.9) !important;\n      :deep(.filepond--panel-root) {\n        border-width: 2px;\n        border-color: rgba(var(--v-theme-primary), 1);\n      }\n    }\n\n    // Add error state styling\n    &:has(:deep([data-filepond-item-state*='error'])),\n    &:has(:deep(> [data-filepond-item-state*='invalid'])),\n    &:has(:deep(.filepond--panel-root[data-status='error'])) {\n      :deep(.filepond--panel-root) {\n        border-width: 2px;\n        border-color: rgba(var(--v-theme-error), 1);\n        background-color: rgba(var(--v-theme-error), 0.05);\n      }\n    }\n  }\n\n  :deep(.filepond--panel-root) {\n    background-color: white;\n    border: 1px solid #ccc;\n  }\n\n  :deep(.filepond--drop-label) {\n    color: #666;\n    font-size: 14px;\n  }\n\n  :deep(.filepond--item-panel) {\n    background-color: rgba(var(--v-theme-success), 1);\n  }\n\n  /* :deep is a special selector in Vue's scoped styles that allows you to target child components' styles, bypassing the encapsulation of scoped styles. This is useful for styling elements that are not directly part of the current component's template. */\n  :deep(.filepond--panel-root[data-status='error'])\n  {\n    background-color: rgba(var(--v-theme-error), 1);\n  }\n\n  :deep([data-filepond-item-state*=invalid], [data-filepond-item-state*=error]){\n    .filepond--item-panel{\n      background-color: rgba(var(--v-theme-error), 1);\n    }\n  }\n\n  :deep(.filepond--file-status) {\n    color: rgba(var(--v-theme-on-primary), 0.9);\n  }\n\n  :deep(.filepond--browse) {\n    color: rgba(var(--v-theme-primary), 1);\n    text-decoration: none;\n    cursor: pointer;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  :deep(.filepond--progress-indicator) {\n    background-color: rgba(33, 150, 243, 0.15);\n  }\n\n  :deep(.filepond--file-action-button) {\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgba(var(--v-theme-on-primary), 1);\n\n    &:hover {\n      background-color: rgba(0, 0, 0, 0.75);\n    }\n  }\n\n  .hint-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: static !important;\n    transform: translateY(-15px) translateX(0px);\n  }\n\n</style>\n","<template>\n  <v-input\n    ref=\"VInput\"\n    v-model=\"models\"\n    hide-details\n    multiple\n    :rules=\"formTabsRules\"\n    class=\"v-input-form-tabs\"\n    >\n    <!-- <template v-slot:message=\"messageScope\">\n      {{ messageScope.message }}\n    </template> -->\n    <template v-slot:default=\"defaultSlot\">\n      <v-skeleton-loader\n        v-if=\"loading\"\n        type=\"table-row-divider, table-row@4\"\n        height=\"400px\"\n        width=\"100%\"\n      ></v-skeleton-loader>\n      <ue-tabs v-else v-model=\"activeTab\" :items=\"elements\" tab-value=\"id\" tab-title=\"name\">\n        <template v-for=\"(item, i) in elements\" :key=\"`tab-slot-${i}`\" v-slot:[`tab.${item.id}`]>\n          <v-tab :value=\"item.id\"\n            :color=\"!this.valids[i] && window.__isBoolean(this.valids[i]) ? 'error' : 'primary'\"\n            :class=\"[window.__isBoolean(this.valids[i]) && !this.valids[i] ? 'bg-red-lighten-5' : '']\"\n          >\n            <span>{{ item.name }}</span>\n            <template v-slot:append>\n              <v-icon v-if=\"window.__isBoolean(valids[i])\" :icon=\"valids[i] ? '$check' : '$close'\"></v-icon>\n            </template>\n          </v-tab>\n        </template>\n        <template v-slot:windows=\"{active}\">\n          <v-window v-model=\"activeTab\">\n            <v-window-item v-for=\"(item, i) in elements\" :key=\"item.id\" :value=\"item.id\">\n              <ue-form\n                :ref=\"(el) => setFormRef(item.id, el)\"\n                :key=\"`form-${item.id}-${JSON.stringify(schemas[item.id])}`\"\n\n                vvvvv-model=\"models[item.id]\"\n                :modelValue=\"models[item.id]\"\n                @update:modelValue=\"updateModel($event, item.id)\"\n                @Xupdate:modelValue=\"$log('update:modelValue', $event, item.id)\"\n\n                :schema=\"schemas[item.id]\"\n\n                v-model:valid=\"valids[i]\"\n\n                noDefaultFormPadding\n                class=\"pt-3\"\n              />\n            </v-window-item>\n          </v-window>\n        </template>\n      </ue-tabs>\n\n    </template>\n  </v-input>\n</template>\n\n<script>\nimport { toRefs, reactive, ref, computed, watch } from 'vue';\nimport { cloneDeep, each, filter, startCase, snakeCase } from 'lodash-es';\nimport { useI18n } from 'vue-i18n';\nimport { useInput,\n  makeInputProps,\n  makeInputEmits,\n  makeInputInjects,\n  useInputHandlers,\n  useValidation\n} from '@/hooks'\n\nimport { getModel, getSchema } from '@/utils/getFormData.js'\n\n// __log([...makeInputInjects])\nexport default {\n  name: 'v-input-form-tabs',\n  emits: [...makeInputEmits],\n  inject: [...makeInputInjects],\n  props: {\n    ...makeInputProps(),\n    modelValue: {\n      type: Object,\n      default: () => {}\n    },\n    schema: {\n      type: Object,\n      default: () => {}\n    },\n    tabFields: {\n      type: Object,\n      default: () => {}\n    },\n    items: {\n      type: Object,\n      default: () => []\n    },\n    triggers: {\n      type: Object,\n      default: () => []\n    }\n  },\n  setup (props, context) {\n    const inputHandlers = useInputHandlers()\n    const validations = useValidation(props)\n    const { t, te } = useI18n()\n    const inputHook = useInput(props, context)\n\n    const elements = ref(props.items)\n    const loading = ref(true)\n\n    const castValueMatch = (value, ownerItem) => {\n      let matches\n\n      let returnValue = value\n\n      if(__isString(value) && (matches = value.match(/\\$([\\w\\.\\*]+)/))){\n        let notation = matches[1]\n        let quoted = __preg_quote(matches[0])\n        let parts = notation.split('.')\n        // __log(parts)\n\n        let newParts = []\n        for(const j in parts){\n          let part = parts[j]\n          if(part === '*'){\n            // let searchedValue =\n            let _id = ownerItem.id\n            // parts[j] = `*id=${_id}`\n          }else{\n            newParts.push(part)\n          }\n        }\n\n        notation = newParts.join('.')\n\n        let newValue = __data_get(ownerItem, notation)\n\n        if(newValue){\n          let _value\n          if(Array.isArray(newValue) && newValue.length > 0){\n            _value = newValue.join(',')\n          }else if(__isString(newValue)){\n            _value = newValue\n\n            let snakeCased = snakeCase(_value)\n\n            if(te(`modules.${snakeCased}`)){\n              _value = t(`modules.${snakeCased}`)\n            }\n          }else if(__isNumber(newValue)){\n            _value = newValue.toString()\n          }\n\n          if(_value){\n            let remainingQuote = '\\\\w\\\\s' + __preg_quote('çşıİğüö.,;?|:_')\n            let pattern = new RegExp( String.raw`^([${remainingQuote}]+)?(${quoted})([${remainingQuote}]+)?$`)\n\n            if(value.match(pattern)){\n              returnValue = value.replace(pattern, '$1' + _value + '$3')\n            }else{\n              __log(\n                'Not matched sentence',\n                pattern,\n                value,\n                value.match(pattern)\n              )\n            }\n          }\n        }\n      }\n\n      return returnValue\n    }\n\n    const formRefs = reactive(new Map())\n\n    const setFormRef = (id, el) => {\n      if (el) {\n        formRefs.set(id, el)\n      } else {\n        formRefs.delete(id)\n      }\n    }\n\n    const getFormRef = (id) => formRefs.get(id)\n\n    // __log('FormTabs setup', props.modelValue)\n    const models = ref(elements.value.reduce((acc, item) => {\n      if(!__isset(acc[item.id])){\n        acc[item.id] = {\n          ...(getModel(props.schema, {})),\n          ...(inputHook.input.value?.[item.id] ?? {}),\n        }\n      }\n      return acc\n    }, {}))\n\n    const schemas = ref(elements.value.reduce((acc, item, index) => {\n      if(!__isset(acc[item.id])){\n        const baseSchema = cloneDeep(props.schema)\n        for(const inputName in props.tabFields){\n          if(__isset(baseSchema[inputName])){\n            baseSchema[inputName]['items'] = item[props.tabFields[inputName]]\n          }\n          each(baseSchema[inputName], (value, key) => {\n            baseSchema[inputName][key] = castValueMatch(value, elements.value[index])\n          })\n        }\n        acc[item.id] = getSchema(baseSchema, models.value?.[item.id] ?? {})\n      }\n      return acc\n    }, {}))\n\n    const valids = ref(elements.value.reduce((acc, item, i) => {\n      acc[i] = null\n      return acc\n    }, {}))\n\n    if(elements.value.length > 0){\n      loading.value = false\n    }\n\n    const states = reactive({\n      loading,\n      elements,\n      formRefs,\n      activeTab: 1,\n      models,\n      schemas,\n      valids,\n    })\n\n    watch(() => props.items, (newVal) => {\n      loading.value = true\n      // __log('FormTabs items watch', newVal, loading.value)\n\n      let addedItems = newVal.filter(item => !elements.value.find(el => el.id == item.id))\n      let removedItems = elements.value.filter(item => !newVal.find(el => el.id == item.id))\n\n      if(addedItems.length > 0){\n        addedItems.forEach(item => {\n          if(!__isset(models.value[item.id])){\n            models.value[item.id] = {\n              ...(getModel(props.schema, {})),\n              ...(inputHook.input.value?.[item.id] ?? {}),\n            }\n          }\n\n          if(!__isset(schemas.value[item.id])){\n            const baseSchema = cloneDeep(props.schema)\n            for(const inputName in props.tabFields){\n              if(__isset(baseSchema[inputName])){\n                baseSchema[inputName]['items'] = item[props.tabFields[inputName]]\n              }\n              each(baseSchema[inputName], (value, key) => {\n                baseSchema[inputName][key] = castValueMatch(value, item)\n              })\n            }\n            schemas.value[item.id] = getSchema(baseSchema, models.value?.[item.id] ?? {})\n          }\n\n          valids.value[item.id] = null\n          // setFormRef(item.id, null)\n        })\n      }\n\n      if(removedItems.length > 0){\n        removedItems.forEach(item => {\n          delete models.value[item.id]\n          delete schemas.value[item.id]\n          delete valids.value[item.id]\n          setFormRef(item.id, null)\n        })\n      }\n\n      elements.value = newVal\n    })\n\n    watch(() => elements.value, (newVal) => {\n      setTimeout(() => {\n        if(newVal.length > 0){\n          loading.value = false\n        }\n      }, 1000)\n    })\n\n    return {\n      ...inputHook,\n      ...inputHandlers,\n      ...validations,\n      ...toRefs(states),\n      setFormRef,\n      getFormRef,\n    }\n  },\n  data() {\n    return {\n      // elements: this.items,\n\n      formTabsRules: [\n        (v) =>  {\n          let isValid = true\n\n          loopValues:\n          for(const id in v){\n\n            let model = v[id]\n\n            for(const name in this.schema){\n              let value = model[name]\n              let input = this.schema[name]\n\n              // let item = this.elements.find((el) => el.id == id)\n              isValid = this.validateInput(input, value)\n\n              if(isValid !== true && this.manualValidation){\n                this.activeTab = parseInt(id)\n                let formRef = this.getFormRef(this.activeTab)\n                if(formRef){\n                  formRef.validate()\n                  break loopValues;\n                }else{\n                  console.info('FormTabs validateInput', {\n                    id,\n                    formRef,\n                    formRefValue: this.getFormRef(id)?.value,\n                    activeTab: this.activeTab,\n                    formRefs: this.formRefs,\n                  })\n                }\n              }\n\n              if(isValid !== true){\n                break loopValues;\n              }\n            }\n          }\n\n          return isValid\n        },\n      ]\n    }\n  },\n  computed: {\n\n  },\n  watch: {\n    models: {\n      handler (value, oldValue) {\n        this.validate()\n\n        // this.$emit('update:modelValue', value)\n      },\n      deep: true\n    },\n  },\n  methods: {\n    async validate() {\n      // if(this.$refs.VInput){\n      //   const result = await this.$refs.VInput.validate()\n      // }\n      if(this.VInput){\n        const result = await this.VInput.validate()\n      }\n    },\n    async validateForm(i) {\n      const formRef = this.getFormRef(i)\n\n      const result = await formRef.value[0].validate()\n\n      return result\n    },\n\n    updateModel(newVal, updatedTabId) {\n      let oldModels = cloneDeep(this.models)\n      let oldValue = oldModels[updatedTabId]\n\n      // Find changed keys by comparing old and new values\n      // Get all keys from val that exist in oldValue\n      const modelKeys = Object.keys(newVal).filter(key => __isset(oldValue[key]))\n\n      // Track changes and validity\n      const changedKeys = []\n      const changedValues = {}\n\n      // Check each key for changes and validity\n      modelKeys.forEach(key => {\n        const isChanged = JSON.stringify(newVal[key]) !== JSON.stringify(oldValue[key])\n        const isValid = true // Add validation logic here if needed\n\n        if (isValid) {\n          changedKeys.push(key)\n          changedValues[key] = {\n            old: oldValue[key],\n            new: newVal[key]\n          }\n        }\n      })\n\n      let schemas = cloneDeep(this.schemas)\n      let schemasChanged = false\n\n      // __log('FormTabs updateModel', {changedValues, changedKeys, modelKeys, oldValue, newVal})\n\n      // Process triggers for valid keys, regardless of changes\n      modelKeys.forEach(triggerKey => {\n        const triggers = filter(this.triggers, trigger => trigger.trigger === triggerKey)\n\n        if(triggers.length < 1)\n          return\n\n        const newValue = newVal[triggerKey]\n        const triggerSchema = cloneDeep(this.schemas[updatedTabId][triggerKey])\n        let triggerItem = null\n\n        if (triggerSchema.items && Array.isArray(triggerSchema.items)) {\n          triggerItem = triggerSchema.items.find(item => item.id == newValue)\n        }\n\n        triggers.forEach(trigger => {\n          let targetInput = cloneDeep(this.schemas[updatedTabId][trigger.target])\n          let rulesChanged = false\n\n          each(trigger.actions, (actionValue, actionName) => {\n            if (Array.isArray(actionValue)) {\n              if (actionName === 'class') {\n                let availableValue = targetInput?.class ?? ''\n\n                if (availableValue) {\n                  let classes = availableValue.split(' ')\n                  let [func, ...newClasses] = actionValue\n\n                  if (func === 'remove') {\n                    classes = classes.filter(cls => !newClasses.includes(cls))\n                  } else if (func === 'add') {\n                    classes = [...classes, ...newClasses]\n                  }\n                  targetInput.class = classes.join(' ')\n                  schemasChanged = true\n                }\n              }\n            } else {\n              schemasChanged = true\n              if (actionName === 'rules') {\n                rulesChanged = true\n                actionName = 'raw' + startCase(actionName)\n              }\n              if (actionName === 'disabled') {\n                targetInput['_originalDisabled'] = actionValue\n              }\n\n              if (actionName === 'items') {\n                targetInput[actionName] = __data_get(triggerItem, actionValue, [])\n              } else if (triggerItem) {\n                targetInput[actionName] = this.$castValueMatch(actionValue, triggerItem)\n              }\n            }\n          })\n\n          // __log('FormTabs triggers', targetInput)\n          schemas[updatedTabId][trigger.target] = targetInput\n          if (rulesChanged) {\n            schemas[updatedTabId] = this.invokeRuleGenerator(schemas[updatedTabId])\n          }\n        })\n      })\n\n      if(schemasChanged){\n        this.schemas = cloneDeep(schemas)\n      }\n\n      oldModels[updatedTabId] = newVal\n      this.models = cloneDeep(oldModels)\n\n      this.$emit('update:modelValue', this.models)\n    },\n\n    init() {}\n\n  },\n  created() {\n    // this.init()\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  .v-input-form-tabs\n    .v-input__control\n      display: block\n\n\n</style>\n\n<style lang=\"scss\">\n\n</style>\n","import { MEDIA_LIBRARY } from '@/store/mutations'\n\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: 'image'\n    }\n  },\n  methods: {\n    openMediaLibrary: function (max = 1, name = this.name, index = -1) {\n      __log('name')\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR, name)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE, this.type)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX, index)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX, max)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE, true)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX, this.filesizeMax || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN, this.widthMin || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN, this.heightMin || 0)\n      if (this.$root.$refs.mediaLibrary) this.$root.$refs.mediaLibrary.open()\n    }\n  }\n}\n","export default {\n  props: {\n    withAddInfo: {\n      type: Boolean,\n      default: true\n    },\n    withVideoUrl: {\n      type: Boolean,\n      default: true\n    },\n    withCaption: {\n      type: Boolean,\n      default: true\n    },\n    altTextMaxLength: {\n      type: Number,\n      default: 0\n    },\n    captionMaxLength: {\n      type: Number,\n      default: 0\n    },\n    note: {\n      type: String,\n      default: ''\n    },\n    // current crop context put in store. eg: slideshow, cover...\n    cropContext: {\n      type: String,\n      default: ''\n    },\n    extraMetadatas: {\n      type: Array,\n      default () {\n        return []\n      }\n    }\n  }\n}\n","/**\n * Convert crop values between to given range\n */\nexport const cropConversion = (data, dest, origin) => {\n  return {\n    x: Math.round(data.x * dest.width / origin.width),\n    y: Math.round(data.y * dest.height / origin.height),\n    width: Math.round(data.width * dest.width / origin.width),\n    height: Math.round(data.height * dest.height / origin.height)\n  }\n}\n\nexport default {\n  cropConversion\n}\n","<template>\n  <v-input\n    v-model=\"input\"\n    hideDetails=\"auto\"\n    appendIcon=\"mdi-close\"\n    :variant=\"boundProps.variant\"\n    >\n    <template v-slot:default=\"defaultSlot\">\n      <div class=\"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr\">\n        <div class=\"v-field__field\" data-no-activator=\"\">\n\n          <v-hover v-slot=\"{ isHovering, props }\">\n            <div class=\"media w-100\" :class=\"{ 'media--slide' : isSlide }\" v-bind=\"props\">\n              <div class=\"_media__field \">\n                <v-row dense class=\"\" no-gutters>\n                  <v-col v-for=\"(index) in totalElementCount\" :key=\"index\"\n                    cols=\"12\"\n                    md=\"6\"\n                    lg=\"4\"\n                    v-fit-grid\n                    >\n                    <v-card color=\"\" class=\"w-100 d-flex flex-column justify-end\" style=\"box-shadow: unset;\">\n                      <v-hover v-slot=\"{ isHovering, props }\">\n                        <div v-if=\"input[index] !== undefined\" class=\"d-flex flex-no-wrap\" v-bind=\"props\" data-test=\"imageCard\">\n                          <div class=\"media__img px-2 py-2\">\n                            <v-hover v-slot=\"{ isHovering, props }\">\n                              <div class=\"media__imgFrame\" v-bind=\"props\">\n                                <div class=\"media__imgCentered\" :style=\"cropThumbnailStyle\">\n                                  <v-img v-if=\"showImg\" :src=\"input[index].thumbnail\" ref=\"mediaImg\" :class=\"[cropThumbnailClass]\" max-width=\"240\"/>\n                                </div>\n                                <v-overlay\n                                  v-if=\"!disabled\"\n                                  :model-value=\"isHovering\"\n                                  class=\"align-end justify-end\"\n                                  contained\n                                  @click=\"openMediaLibrary(1, mediaKey, index)\"\n                                  :elevation=\"isHovering ? 12 : 2\"\n                                >\n                                  <v-btn icon=\"$edit\" size=\"small\" class=\"mb-2 mr-2\" color=\"blue-lighten-5\"></v-btn>\n                                </v-overlay>\n                              </div>\n                            </v-hover>\n                          </div>\n                          <v-list lines=\"one\" :class=\"[ (!hover || isHovering ) ? 'opacity-100' : 'opacity-70' ,'w-50']\" class=\"w-50\" style=\"min-width: 50px;transition: opacity 250ms ease-in;\">\n                            <v-hover>\n                              <template v-slot:default=\"{ isHovering, props }\">\n                                <v-list-item\n                                  v-bind=\"props\"\n                                  :class=\"{'text-blue': isHovering }\"\n                                  :title=\"input[index].name\"\n                                  @click=\"openMediaLibrary(1, mediaKey, index)\"\n                                ></v-list-item>\n                              </template>\n                            </v-hover>\n                            <v-list-item v-if=\"input[index].size\" :subtitle=\"`File size: {{ input[index].size }}`\"></v-list-item>\n                            <v-list-item v-if=\"input[index].width + input[index].height\"\n                              :subtitle=\"`${$t('fields.medias.original-dimensions')}: ${input[index].width}&nbsp;&times;&nbsp;${input[index].height}`\"\n                              ></v-list-item>\n                          </v-list>\n\n                          <div style=\"min-width: 50px;transition: opacity 250ms ease-in;\" :class=\"[ (!hover || isHovering ) ? 'opacity-100' : 'opacity-10' ,'d-flex justify-end ma-2']\" v-if=\"!disabled\" >\n                            <v-btn data-test=\"downloadButton\" icon=\"$download\" color=\"blue-lighten-5\" rounded=\"0\" size=\"small\" :href=\"input[index].original\" download />\n                            <v-btn data-test=\"cropButton\" icon=\"mdi-crop\" color=\"blue-lighten-5\" rounded=\"0\" size=\"small\"/>\n                            <v-btn data-test=\"deleteButton\" icon=\"$delete\" color=\"blue-lighten-5\" rounded=\"0\" size=\"small\"  @click=\"deleteMediaClick(index, defaultSlot.validate)\"/>\n                          </div>\n                        </div>\n                      </v-hover>\n                      <template v-if=\"input[index] === undefined\" v-slot:actions>\n                          <v-btn\n                            data-test=\"addButton\"\n                            append-icon=\"$add\"\n                            variant=\"outlined\"\n                            block\n                            @click=\"openMediaLibrary(remainingItems)\"\n                            >\n                            {{ addLabel }}\n                          </v-btn>\n                      </template>\n                    </v-card>\n                  </v-col>\n                  <!-- <v-col v-for=\"(media, index) in input\" :key=\"index\"\n                    cols=\"12\"\n                    md=\"6\"\n                    lg=\"4\"\n                    v-fit-grid\n                    >\n                    <v-card color=\"\" class=\"d-flex flex-no-wrap w-100\" >\n                      <div class=\"media__img px-2 py-2\">\n                        <v-hover v-slot=\"{ isHovering, props }\">\n                          <div class=\"media__imgFrame\" v-bind=\"props\">\n                            <div class=\"media__imgCentered\" :style=\"cropThumbnailStyle\">\n                              <v-img v-if=\"showImg\" :src=\"media.thumbnail\" ref=\"mediaImg\" :class=\"[cropThumbnailClass]\" max-width=\"240\"/>\n                            </div>\n                            <v-overlay\n                              v-if=\"!disabled\"\n                              :model-value=\"isHovering\"\n                              class=\"align-end justify-end\"\n                              contained\n                              @click=\"openMediaLibrary(1, mediaKey, index)\"\n                              :elevation=\"isHovering ? 12 : 2\"\n                            >\n                              <v-btn icon=\"$edit\" size=\"small\" class=\"mb-2 mr-2\" color=\"blue-lighten-5\"></v-btn>\n                            </v-overlay>\n                          </div>\n                        </v-hover>\n                      </div>\n                      <v-list lines=\"one\" class=\"w-50\">\n                        <v-hover>\n                          <template v-slot:default=\"{ isHovering, props }\">\n                            <v-list-item\n                              v-bind=\"props\"\n                              :class=\"{'text-blue': isHovering }\"\n                              :title=\"media.name\"\n                              @click=\"openMediaLibrary(1, mediaKey, index)\"\n                            ></v-list-item>\n                          </template>\n                        </v-hover>\n                        <v-list-item v-if=\"media.size\" :subtitle=\"`File size: {{ media.size }}`\"></v-list-item>\n                        <v-list-item v-if=\"media.width + media.height\"\n                          :subtitle=\"`${$t('fields.medias.original-dimensions')}: ${media.width}&nbsp;&times;&nbsp;${media.height}`\"\n                          ></v-list-item>\n                      </v-list>\n                      <div style=\"min-width: 50px;\" :class=\"[ (!hover || isHovering ) ? 'opacity-1' : 'opacity-0' ,'d-flex justify-end ma-2']\" v-if=\"!disabled\" >\n                        <v-btn icon=\"$download\" color=\"blue-lighten-5\" rounded=\"0\" size=\"small\" :href=\"media.original\" download/>\n                        <v-btn icon=\"mdi-crop\" color=\"blue-lighten-5\" rounded=\"0\" size=\"small\"/>\n                        <v-btn icon=\"$delete\" color=\"blue-lighten-5\" rounded=\"0\" size=\"small\"  @click=\"deleteMediaClick(index, defaultSlot.validate)\"/>\n                      </div>\n                    </v-card>\n                  </v-col> -->\n\n                </v-row>\n\n                <!--Add media button-->\n                <!-- <v-btn v-if=\"remainingItems\" type=\"button\" class=\"ml-2 my-2\" @click=\"openMediaLibrary(remainingItems)\">{{ addLabel }}</v-btn> -->\n                <!--\n                  <a17-button variant=\"ghost\" @click=\"openMediaLibrary\" :disabled=\"disabled\" v-if=\"!hasMedia\">{{ btnLabel }}</a17-button>\n                -->\n                <p class=\"media__note f--small\" v-if=\"!!this.$slots.default\">\n                  <slot/>\n                </p>\n\n                <!-- Metadatas options -->\n                <!--\n                  <div class=\"media__metadatas--options\" :class=\"{ 's--active' : metadatas.active }\" v-if=\"hasMedia && withAddInfo\">\n                    <a17-mediametadata :name='metadataName' :label=\"$trans('fields.medias.alt-text', 'Alt Text')\" id=\"altText\" :media=\"media\" :maxlength=\"altTextMaxLength\" @change=\"updateMetadata\"/>\n\n                    <a17-mediametadata v-if=\"withCaption\" :wysiwyg=\"useWysiwyg\" :wysiwyg-options=\"wysiwygOptions\" type='text' :name='metadataName' :label=\"$trans('fields.medias.caption', 'Caption')\" id=\"caption\" :media=\"media\" :maxlength=\"captionMaxLength\" @change=\"updateMetadata\"/>\n\n                    <a17-mediametadata v-if=\"withVideoUrl\" :name='metadataName' :label=\"$trans('fields.medias.video-url', 'Video URL (optional)')\" id=\"video\" :media=\"media\" @change=\"updateMetadata\"/>\n\n                    <template v-for=\"field in extraMetadatas\">\n                      <a17-mediametadata v-if=\"extraMetadatas.length > 0\"\n                                        :key=\"field.name\"\n                                        :type=\"field.type\"\n                                        :name='metadataName'\n                                        :wysiwyg='field.wysiwyg || false'\n                                        :wysiwyg-options='field.wysiwygOptions || wysiwygOptions'\n                                        :label=\"field.label\"\n                                        :id=\"field.name\"\n                                        :media=\"media\"\n                                        :maxlength=\"field.maxlength || 0\"\n                                        @change=\"updateMetadata\"/>\n                    </template>\n                  </div>\n                -->\n              </div>\n\n              <!-- Crop modal -->\n              <!--\n                <a17-modal class=\"modal--cropper\" :ref=\"cropModalName\" :forceClose=\"true\" :title=\"$trans('fields.medias.crop-edit')\" mode=\"medium\" v-if=\"hasMedia && activeCrop\">\n                  <a17-cropper :media=\"media\" v-on:crop-end=\"cropMedia\" :aspectRatio=\"16 / 9\" :context=\"cropContext\" :key=\"cropperKey\">\n                    <a17-button class=\"cropper__button\" variant=\"action\" @click=\"$refs[cropModalName].close()\">{{ $trans('fields.medias.crop-save') }}</a17-button>\n                  </a17-cropper>\n                </a17-modal>\n              -->\n              <input :name=\"this.name\" :value=\"JSON.stringify(media)\" type=\"hidden\">\n            </div>\n          </v-hover>\n\n        </div>\n\n        <div class=\"v-field__outline\">\n          <div class=\"v-field__outline__start\"></div>\n          <div class=\"v-field__outline__notch\">\n            <label class=\"v-label v-field-label v-field-label--floating\" aria-hidden=\"true\" for=\"input-29\">\n              <slot name=\"label\" v-bind=\"{label: label}\">\n                {{ boundProps.label }}\n              </slot>\n            </label>\n          </div>\n          <div class=\"v-field__outline__end\"></div>\n        </div>\n      </div>\n    </template>\n  </v-input>\n</template>\n\n<script>\nimport {\n  mapState\n} from 'vuex'\n\nimport { MEDIA_LIBRARY } from '@/store/mutations'\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\nimport { makeImageProps, useImage } from '@/hooks'\n\n// import a17Cropper from '@/components/Cropper.vue'\n// import a17MediaMetadata from '@/components/MediaMetadata.vue'\nimport mediaLibrayMixin from '@/mixins/mediaLibrary/mediaLibrary.js'\nimport mediaFieldMixin from '@/mixins/mediaField.js'\n\nimport a17VueFilters from '@/utils/filters.js'\nimport {\n  cropConversion\n} from '@/utils/cropper'\nimport { range } from 'lodash-es'\n// import smartCrop from 'smartcrop'\n\nconst IS_SAFARI = navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1\n// const { t } = useI18n({ useScope: 'global' })\n\nexport default {\n  name: 'v-input-image',\n  emits: [...makeInputEmits],\n  components: {\n    // 'a17-cropper': a17Cropper,\n    // 'a17-mediametadata': a17MediaMetadata\n  },\n  mixins: [mediaLibrayMixin, mediaFieldMixin],\n  props: {\n    ...makeImageProps()\n  },\n  setup (props, context) {\n    return {\n      ...useImage(props, context)\n    }\n  },\n  data: function () {\n    return {\n      canvas: null,\n      img: null,\n      ctx: null,\n      imgLoaded: false,\n      cropSrc: '',\n      showImg: true,\n      isDestroyed: false,\n      naturalDim: {\n        width: null,\n        height: null\n      },\n      originalDim: {\n        width: null,\n        height: null\n      },\n      hasMediaChanged: false,\n      metadatas: {\n        text: this?.$t('fields.medias.edit-info') ?? '',\n        textOpen: this?.$t('fields.medias.edit-info') ?? '',\n        textClose: this?.$t('fields.medias.edit-close') ?? '',\n        active: false\n      },\n      totalElementCount: range(0, this.max)\n    }\n  },\n  filters: a17VueFilters,\n  computed: {\n    ...mapState({\n      useWysiwyg: state => state.mediaLibrary.config.useWysiwyg,\n      wysiwygOptions: state => state.mediaLibrary.config.wysiwygOptions\n    }),\n    cropThumbnailStyle: function () {\n      if (this.showImg) return {}\n      if (!this.hasMedia) return {}\n      if (!this.media.crops) return {}\n      if (this.cropSrc.length === 0) return {}\n\n      return {\n        backgroundImage: `url(${this.cropSrc})`\n      }\n    },\n    cropThumbnailClass: function () {\n      if (!this.hasMedia) return {}\n      if (!this.media.crops) return {}\n      const crop = this.media.crops[Object.keys(this.media.crops)[0]]\n      return {\n        'media__img--landscape': crop.width / crop.height >= 1,\n        'media__img--portrait': crop.width / crop.height < 1\n      }\n    },\n    mediaKey: function () {\n      return this.mediaContext.length > 0 ? this.mediaContext : this.name\n    },\n    inputName: function () {\n      let fieldName = this.name\n      if (this.name.indexOf('[')) {\n        fieldName = this.name.replace(']', '').replace('[', '][')\n      }\n      return 'medias[' + fieldName + '][' + this.index + ']'\n    },\n    metadataName: function () {\n      return 'mediaMeta[' + this.name + '][' + this.media.id + ']'\n    },\n    media: function () {\n      return this.input[0] || {}\n    },\n    cropInfos: function () {\n      const cropInfos = []\n      if (this.media.crops) {\n        for (const variant in this.media.crops) {\n          if (this.media.crops[variant].width + this.media.crops[variant].height) { // crop is not 0x0\n            let cropInfo = ''\n            cropInfo += this.media.crops[variant].name + ' ' + this.$trans('fields.medias.crop-list') + ': '\n            cropInfo += this.media.crops[variant].width + '&nbsp;&times;&nbsp;' + this.media.crops[variant].height\n            cropInfos.push(cropInfo)\n          }\n        }\n      }\n      return cropInfos.length > 0 ? cropInfos : null\n    },\n    hasMedia: function () {\n      return this.input.length > 0\n      // return Object.keys(this.media).length > 0\n    },\n    cropperKey: function () {\n      return `${this.mediaKey}-${this.index}_${this.cropContext}`\n    },\n    mediaHasCrop: function () {\n      return this.media.crops\n    },\n    cropModalName: function () {\n      return `${name}Modal`\n    },\n    ...mapState({\n      selectedMedias: state => state.mediaLibrary.selected,\n      allCrops: state => state.mediaLibrary.crops\n    })\n  },\n  watch: {\n    media: function (val, oldVal) {\n      this.hasMediaChanged = val !== oldVal\n\n      if (Object.prototype.hasOwnProperty.call(this.selectedMedias, this.mediaKey)) {\n        // reset isDestroyed status because we changed the media\n        if (this.selectedMedias[this.mediaKey][this.index]) this.isDestroyed = false\n      }\n    }\n  },\n  methods: {\n    openMediaLibrary: function (max = 1, name = this.name, index = -1) {\n      // if (__isset(this.$store.state.mediaLibrary.selected[name])) {\n      //   this.$store.state.mediaLibrary.selected[name] = []\n      //   this.$store.state.mediaLibrary.selected[name] = this.input\n      // }\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR, name)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE, this.mediaType)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX, index)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX, max)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE, true)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX, this.filesizeMax || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN, this.widthMin || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN, this.heightMin || 0)\n      if (this.$main() && this.$main().$refs.mediaLibrary) {\n        if (__isset(this.$store.state.mediaLibrary.selected[name])) {\n          this.$store.state.mediaLibrary.selected[name] = []\n        }\n        this.$store.state.mediaLibrary.selected[name] = this.input\n\n        // this.mediableActive = true\n        this.$main().$refs.mediaLibrary.openModal()\n        this.$nextTick(() => { this.mediableActive = true })\n      }\n    },\n    // crop\n    canvasCrop () {\n      const data = this.media.crops[Object.keys(this.media.crops)[0]]\n      if (!data) return\n\n      // in case of a 0x0 crop : let's display the full image in the preview\n      if (data.width + data.height === 0) {\n        this.showDefaultThumbnail()\n        return\n      }\n\n      // default src\n      let src = this.media.thumbnail\n\n      this.$nextTick(() => {\n        try {\n          const crop = cropConversion(data, this.naturalDim, this.originalDim)\n          const cropWidth = crop.width\n          const cropHeight = crop.height\n          this.canvas.width = cropWidth\n          this.canvas.height = cropHeight\n          this.ctx.drawImage(this.img, crop.x, crop.y, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight)\n          src = this.canvas.toDataURL('image/png')\n\n          // show data url in the background\n          if (this.cropSrc !== src) {\n            this.showImg = false\n            this.cropSrc = src\n          }\n        } catch (error) {\n          console.error(error)\n\n          // fallback on displaying the thumbnail\n          if (this.cropSrc !== src) {\n            this.showImg = true\n            this.cropSrc = src\n          }\n        }\n      })\n    },\n    setDefaultCrops: function () {\n      const defaultCrops = {}\n      const smarcrops = []\n\n      if (Object.prototype.hasOwnProperty.call(this.allCrops, this.cropContext)) {\n        for (const cropVariant in this.allCrops[this.cropContext]) {\n          const ratio = this.allCrops[this.cropContext][cropVariant][0].ratio\n          const width = this.media.width\n          const height = this.media.height\n          const center = {\n            x: width / 2,\n            y: height / 2\n          }\n\n          let cropWidth = width\n          let cropHeight = height\n\n          if (ratio > 0 && ratio < 1) { // \"portrait\" crop\n            cropWidth = Math.floor(Math.min(height * ratio, width))\n            cropHeight = Math.floor(cropWidth / ratio)\n          } else if (ratio >= 1) { // \"landscape\" or square crop\n            cropHeight = Math.floor(Math.min(width / ratio, height))\n            cropWidth = Math.floor(cropHeight * ratio)\n          }\n\n          let crop = {\n            x: 0,\n            y: 0,\n            width: cropWidth,\n            height: cropHeight\n          }\n\n          // Convert crop for original img values\n          crop = cropConversion(crop, this.naturalDim, this.originalDim)\n\n          smarcrops.push(smartCrop.crop(this.img, {\n            width: crop.width,\n            height: crop.height,\n            minScale: 1.0\n          }))\n\n          const x = Math.floor(center.x - cropWidth / 2)\n          const y = Math.floor(center.y - cropHeight / 2)\n\n          defaultCrops[cropVariant] = {}\n          defaultCrops[cropVariant].name = this.allCrops[this.cropContext][cropVariant][0].name || cropVariant\n          defaultCrops[cropVariant].x = x\n          defaultCrops[cropVariant].y = y\n          defaultCrops[cropVariant].width = cropWidth\n          defaultCrops[cropVariant].height = cropHeight\n        }\n\n        Promise.all(smarcrops).then((values) => {\n          let index = 0\n          values.forEach((value) => {\n            const topCrop = {\n              x: value.topCrop.x,\n              y: value.topCrop.y,\n              width: value.topCrop.width,\n              height: value.topCrop.height\n            }\n            // Restore crop natural values (aka: value to store)\n            const cropVariant = defaultCrops[Object.keys(defaultCrops)[index]]\n            const crop = cropConversion(topCrop, this.originalDim, this.naturalDim)\n            cropVariant.x = crop.x\n            cropVariant.y = crop.y\n            cropVariant.width = crop.width\n            cropVariant.height = crop.height\n            index++\n          })\n          // this.cropMedia({\n          //   values: defaultCrops\n          // })\n        }, (error) => {\n          console.error(error)\n          // this.cropMedia({\n          //   values: defaultCrops\n          // })\n        })\n      } else {\n        // this.cropMedia({\n        //   values: defaultCrops\n        // })\n      }\n    },\n    cropMedia: function (crop) {\n      crop.key = this.mediaKey\n      crop.index = this.index\n      this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP, crop)\n      if (this.img) this.canvasCrop()\n    },\n    setNaturalDimensions: function () {\n      if (this.img) {\n        this.naturalDim.width = this.img.naturalWidth\n        this.naturalDim.height = this.img.naturalHeight\n      }\n    },\n    setOriginalDimensions: function () {\n      if (this.media) {\n        this.originalDim.width = this.media.width\n        this.originalDim.height = this.media.height\n      }\n    },\n    init: function () {\n      // this.showImg = false\n      const imgLoaded = () => {\n        // __log('imgLoaded')\n        this.setNaturalDimensions()\n        this.setOriginalDimensions()\n\n        if (!this.mediaHasCrop) {\n          this.setDefaultCrops()\n        } else {\n          this.canvasCrop()\n        }\n      }\n\n      if (this.hasMedia) {\n        this.cropSrc = this.media.thumbnail\n\n        this.initImg().then(() => {\n          imgLoaded()\n        }, (error) => {\n          console.error(error)\n          this.showDefaultThumbnail()\n\n          // lets try to load to image tag now\n          this.$nextTick(() => {\n            // the image tag\n            const imgTag = this.$refs.mediaImg\n            if (imgTag) {\n              imgTag.addEventListener('load', () => {\n                this.img = imgTag\n                imgLoaded()\n              }, {\n                once: true,\n                passive: true,\n                capture: true\n              })\n\n              imgTag.addEventListener('error', (e) => {\n                console.error(e)\n                this.showDefaultThumbnail()\n              })\n            } else {\n              this.showImg = false\n              this.cropSrc = this.media.thumbnail\n            }\n          })\n        })\n        this.hasMediaChanged = false\n      }\n    },\n    initImg: function () {\n      return new Promise((resolve, reject) => {\n        this.img = new Image()\n        if (!IS_SAFARI) {\n          this.img.crossOrigin = 'Anonymous'\n        }\n        this.canvas = document.createElement('canvas')\n        this.ctx = this.canvas.getContext('2d')\n\n        this.img.addEventListener('load', () => {\n          resolve()\n        }, {\n          once: true,\n          passive: true,\n          capture: true\n        })\n\n        // in case of CORS issue or anything else\n        this.img.addEventListener('error', (e) => {\n          reject(e)\n        })\n\n        // try to load the media thumbnail\n        let append = '?'\n        if (this.media.thumbnail.indexOf('?') > -1) {\n          append = '&'\n        }\n        this.img.src = this.media.thumbnail + append + 'no-cache'\n      })\n    },\n    showDefaultThumbnail: function () {\n      this.showImg = true\n      if (this.hasMedia) this.cropSrc = this.media.thumbnail\n    },\n    openCropMedia: function () {\n      this.$refs[this.cropModalName].open()\n    },\n    deleteMediaClick: function (index, callback) {\n      // this.isDestroyed = true\n      this.deleteMedia(index)\n\n      this.$nextTick(() => callback())\n    },\n    // delete the media\n    deleteMedia: function (index) {\n      let newInput = this.input\n\n      newInput.splice(index, 1)\n\n      this.input = newInput\n\n      // this.$store.commit(MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA, {\n      //   name: this.mediaKey,\n      //   index: this.index\n      // })\n    },\n    // metadatas\n    updateMetadata: function (newValue) {\n      this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS, {\n        media: {\n          context: this.mediaKey,\n          index: this.index\n        },\n        value: newValue\n      })\n    },\n    metadatasInfos: function () {\n      this.metadatas.active = !this.metadatas.active\n      this.metadatas.text = this.metadatas.active ? this.metadatas.textClose : this.metadatas.textOpen\n    }\n  },\n  beforeMount: function () {\n    this.init()\n  },\n  beforeUpdate: function () {\n    if (this.hasMediaChanged) {\n      this.init()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  $input-bg: #FCFCFC;\n  $input-border: #DFDFDF;\n  $height_input: 45px;\n\n  .media--slide {\n    border: 0 none;\n  }\n\n  .media__note {\n    color: $color__text--light;\n    float: right;\n    position: absolute;\n    bottom: 18px;\n    right: 15px;\n    display:none;\n\n    @include breakpoint('small+') {\n      display: inline-block;\n    }\n\n    @include breakpoint('medium') {\n      display: none;\n    }\n\n    .s--in-editor & {\n      @include breakpoint('small+') {\n        display: none;\n      }\n    }\n  }\n\n  .media__img {\n    width: 33.33%;\n    max-width: 240px;\n    user-select: none;\n    position:relative;\n    min-width: 100px;\n\n    img {\n      display:block;\n      max-width:100%;\n      max-height:100%;\n      margin:auto;\n\n      &.media__img--landscape {\n        width: 100%;\n        height: auto;\n      }\n\n      &.media__img--portrait {\n        width: auto;\n        height: 100%;\n      }\n    }\n  }\n\n  .media--slide .media__img {\n    max-width: 120px;\n  }\n\n  .media__crop-link {\n    text-decoration: none;\n    cursor: pointer;\n\n    p:first-letter {\n      text-transform: capitalize;\n    }\n\n    &:hover .f--small span {\n      @include bordered($color__text, false);\n    }\n\n    @include breakpoint('medium-') {\n      flex-direction: column;\n    }\n  }\n\n  // Image centered in a square option\n  .media__imgFrame {\n    width:100%;\n    padding-bottom:100%;\n    position:relative;\n    overflow:hidden;\n  }\n\n  .media__imgCentered {\n    top:0;\n    bottom:0;\n    left:0;\n    right:0;\n    position: absolute;\n    display: flex;\n    background-color: $color__lighter;\n    background-size: contain;\n    background-repeat:no-repeat;\n    background-position:center center;\n    transition: background-image 350ms cubic-bezier(0.795, 0.125, 0.280, 0.990), background-size 0ms 350ms;\n\n    &:before {\n      content: \"\";\n      position: absolute;\n      display:block;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border:1px solid rgba(0,0,0,0.05);\n    }\n  }\n\n  .media__info {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .media__metadatas {\n    padding: 5px 15px;\n    flex-grow: 1;\n    color: $color__text--light;\n    overflow: hidden;\n\n    li {\n      overflow:hidden;\n    }\n\n    a {\n      color:$color__link;\n    }\n  }\n\n\n  .media__metadatas--options {\n    display: none;\n    margin-top: 35px;\n  }\n\n  .media__metadatas--options.s--active {\n    display: block;\n  }\n\n\n  .media__actions-dropDown {\n    @media screen and (min-width: 1139px) {\n      display: none;\n    }\n\n    .s--in-editor & {\n      display: block!important;\n    }\n  }\n\n  // .media.media--hoverable {\n  //   .media__actions {\n  //     opacity: 0;\n  //     transition: opacity 250ms ease;\n  //   }\n\n  //   :hover .media__actions {\n  //     opacity: 1;\n  //   }\n  // }\n\n  /* Modal with cropper */\n  .modal--cropper .cropper__button {\n    width:100%;\n    display:block;\n    margin-top:20px;\n    margin-bottom:20px;\n\n    @include breakpoint('small+') {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width:auto;\n      margin-top:20px;\n      margin-bottom:20px;\n    }\n  }\n</style>\n\n<style lang=\"scss\">\n  .media .media__actions-dropDown .dropdown__content {\n    margin-top: 10px;\n  }\n</style>\n","<template>\n  <v-input\n    v-model=\"input\"\n    hideDetails=\"auto\"\n    appendIcon=\"mdi-close\"\n    :variant=\"boundProps.variant\"\n    >\n    <template v-slot:default=\"defaultSlot\">\n      <div class=\"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr\">\n        <div class=\"v-field__field\" data-no-activator=\"\">\n\n          <div class=\"media\" :class=\"{ 'media--hoverable' : hover, 'media--slide' : isSlide }\">\n            <div class=\"media__field\">\n\n              <div class=\"media__info\" v-if=\"hasMedia\">\n\n                <template v-for=\"(media, index) in input\" :key=\"index\">\n                  <div class=\"media__img\">\n                    <div class=\"media__imgFrame\">\n                      <div class=\"media__imgCentered\" :style=\"cropThumbnailStyle\">\n                        <!--\n                          <img v-if=\"cropSrc && showImg\" :src=\"cropSrc\" ref=\"mediaImg\" :class=\"cropThumbnailClass\"/>\n                          {{ cropSrc }}\n                          {{ input_[0].thumbnail }}\n                          {{ showImg }}\n                        -->\n                        <img v-if=\"showImg\" :src=\"media.thumbnail\" ref=\"mediaImg\" :class=\"cropThumbnailClass\"/>\n                      </div>\n                      <div class=\"media__edit\" @click=\"openMediaLibrary(1, mediaKey, index)\" v-if=\"!disabled\">\n                        <span class=\"media__edit--button\"><span v-svg symbol=\"edit\"><v-icon icon=\"$edit\"/></span></span>\n                      </div>\n                      <div class=\"media__delete\" @click=\"deleteMediaClick(index, defaultSlot.validate)\" v-if=\"!disabled\">\n                        <span class=\"media__delete--button\">\n                          <v-icon icon=\"$delete\"/>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n\n                  <ul class=\"media__metadatas\" v-if=\"!disabled\">\n                    <li class=\"media__name\" @click=\"openMediaLibrary(1, mediaKey, index)\"><strong :title=\"media.name\">{{ media.name }}</strong></li>\n                    <li class=\"f--small\" v-if=\"media.size\">File size: {{ media.size }}</li>\n                    <li class=\"f--small\" v-if=\"media.width + media.height\">\n                      {{ $trans('fields.medias.original-dimensions') }}: {{ media.width }}&nbsp;&times;&nbsp;{{media.height }}\n                    </li>\n                    <!--\n                      <li class=\"f--small media__crop-link\" v-if=\"cropInfos && activeCrop\" @click=\"openCropMedia\">\n                          <p class=\"f--small f--note hide--xsmall\"\n                            v-for=\"(cropInfo, index) in cropInfos\"\n                            :key=\"index\">\n                            <span v-html=\"cropInfo\"></span>\n                          </p>\n                      </li>\n                      <li class=\"f--small\">\n                        <a href=\"#\" @click.prevent=\"metadatasInfos\" v-if=\"withAddInfo\" class=\"f--link-underlined--o\">{{ metadatas.text }}</a>\n                      </li>\n                    -->\n                  </ul>\n\n                  <!--Actions-->\n                  <!--\n                    <a17-buttonbar class=\"media__actions\" v-if=\"!disabled\">\n                      <a :href=\"media.original\" download><span v-svg symbol=\"download\"></span></a>\n                      <button type=\"button\" @click=\"openCropMedia\" v-if=\"activeCrop\"><span v-svg symbol=\"crop\"></span></button>\n                      <button type=\"button\" @click=\"deleteMediaClick\"><span v-svg symbol=\"trash\"></span></button>\n                    </a17-buttonbar>\n                  -->\n\n                  <div class=\"media__actions-dropDown\">\n                    <!-- <v-menu>\n                      <template v-slot:activator=\"{ props }\">\n                        <v-btn\n                          color=\"primary\"\n                          dark\n                          v-bind=\"props\"\n                        >\n                          Dropdown\n                        </v-btn>\n                      </template>\n                      <button type=\"button\" @click=\"deleteMediaClick(index)\">\n                        <span v-svg symbol=\"trash\"></span>{{ $trans('fields.medias.delete') }}\n                      </button>\n\n                    </v-menu> -->\n                    <!-- <a17-dropdown ref=\"dropDown\" position=\"right\">\n                      <a17-button size=\"icon\" variant=\"icon\" @click=\"$refs.dropDown.toggle()\">\n                        <span v-svg symbol=\"more-dots\"></span></a17-button>\n                      <div slot=\"dropdown__content\">\n                        <a :href=\"media.original\" download><span v-svg symbol=\"download\"></span>{{ $trans('fields.medias.download') }}</a>\n                        <button type=\"button\" @click=\"openCropMedia\" v-if=\"activeCrop\"><span v-svg symbol=\"crop\"></span>{{ $trans('fields.medias.crop') }}\n                        </button>\n                        <button type=\"button\" @click=\"deleteMediaClick\"><span v-svg symbol=\"trash\"></span>{{ $trans('fields.medias.delete') }}</button>\n                      </div>\n                    </a17-dropdown> -->\n                  </div>\n\n                </template>\n              </div>\n\n              <!--Add media button-->\n              <v-btn v-if=\"remainingItems\" type=\"button\" @click=\"openMediaLibrary(remainingItems)\">{{ addLabel }}</v-btn>\n              <!--\n                <a17-button variant=\"ghost\" @click=\"openMediaLibrary\" :disabled=\"disabled\" v-if=\"!hasMedia\">{{ btnLabel }}</a17-button>\n              -->\n              <p class=\"media__note f--small\" v-if=\"!!this.$slots.default\">\n                <slot/>\n              </p>\n\n              <!-- Metadatas options -->\n              <!--\n                <div class=\"media__metadatas--options\" :class=\"{ 's--active' : metadatas.active }\" v-if=\"hasMedia && withAddInfo\">\n                  <a17-mediametadata :name='metadataName' :label=\"$trans('fields.medias.alt-text', 'Alt Text')\" id=\"altText\" :media=\"media\" :maxlength=\"altTextMaxLength\" @change=\"updateMetadata\"/>\n\n                  <a17-mediametadata v-if=\"withCaption\" :wysiwyg=\"useWysiwyg\" :wysiwyg-options=\"wysiwygOptions\" type='text' :name='metadataName' :label=\"$trans('fields.medias.caption', 'Caption')\" id=\"caption\" :media=\"media\" :maxlength=\"captionMaxLength\" @change=\"updateMetadata\"/>\n\n                  <a17-mediametadata v-if=\"withVideoUrl\" :name='metadataName' :label=\"$trans('fields.medias.video-url', 'Video URL (optional)')\" id=\"video\" :media=\"media\" @change=\"updateMetadata\"/>\n\n                  <template v-for=\"field in extraMetadatas\">\n                    <a17-mediametadata v-if=\"extraMetadatas.length > 0\"\n                                      :key=\"field.name\"\n                                      :type=\"field.type\"\n                                      :name='metadataName'\n                                      :wysiwyg='field.wysiwyg || false'\n                                      :wysiwyg-options='field.wysiwygOptions || wysiwygOptions'\n                                      :label=\"field.label\"\n                                      :id=\"field.name\"\n                                      :media=\"media\"\n                                      :maxlength=\"field.maxlength || 0\"\n                                      @change=\"updateMetadata\"/>\n                  </template>\n                </div>\n              -->\n            </div>\n\n            <!-- Crop modal -->\n            <!--\n              <a17-modal class=\"modal--cropper\" :ref=\"cropModalName\" :forceClose=\"true\" :title=\"$trans('fields.medias.crop-edit')\" mode=\"medium\" v-if=\"hasMedia && activeCrop\">\n                <a17-cropper :media=\"media\" v-on:crop-end=\"cropMedia\" :aspectRatio=\"16 / 9\" :context=\"cropContext\" :key=\"cropperKey\">\n                  <a17-button class=\"cropper__button\" variant=\"action\" @click=\"$refs[cropModalName].close()\">{{ $trans('fields.medias.crop-save') }}</a17-button>\n                </a17-cropper>\n              </a17-modal>\n            -->\n            <input :name=\"this.name\" :value=\"JSON.stringify(media)\" type=\"hidden\">\n          </div>\n\n        </div>\n\n        <div class=\"v-field__outline\">\n          <div class=\"v-field__outline__start\"></div>\n          <div class=\"v-field__outline__notch\">\n            <label class=\"v-label v-field-label v-field-label--floating\" aria-hidden=\"true\" for=\"input-29\">\n              {{ boundProps.label }}\n            </label>\n          </div>\n          <div class=\"v-field__outline__end\"></div>\n        </div>\n      </div>\n    </template>\n  </v-input>\n</template>\n\n<script>\nimport {\n  mapState\n} from 'vuex'\n\nimport { MEDIA_LIBRARY } from '@/store/mutations'\nimport { makeImageProps, useImage } from '@/hooks'\n\n// import a17Cropper from '@/components/Cropper.vue'\n// import a17MediaMetadata from '@/components/MediaMetadata.vue'\nimport mediaLibrayMixin from '@/mixins/mediaLibrary/mediaLibrary.js'\nimport mediaFieldMixin from '@/mixins/mediaField.js'\n\nimport a17VueFilters from '@/utils/filters.js'\nimport {\n  cropConversion\n} from '@/utils/cropper'\n// import smartCrop from 'smartcrop'\n\nconst IS_SAFARI = navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1\n// const { t } = useI18n({ useScope: 'global' })\n\nexport default {\n  name: 'v-input-image',\n  components: {\n    // 'a17-cropper': a17Cropper,\n    // 'a17-mediametadata': a17MediaMetadata\n  },\n  mixins: [mediaLibrayMixin, mediaFieldMixin],\n  props: {\n    ...makeImageProps()\n  },\n  setup (props, context) {\n    return {\n      ...useImage(props, context)\n    }\n  },\n  data: function () {\n    return {\n      canvas: null,\n      img: null,\n      ctx: null,\n      imgLoaded: false,\n      cropSrc: '',\n      showImg: true,\n      isDestroyed: false,\n      naturalDim: {\n        width: null,\n        height: null\n      },\n      originalDim: {\n        width: null,\n        height: null\n      },\n      hasMediaChanged: false,\n      metadatas: {\n        text: this?.$trans('fields.medias.edit-info') ?? '',\n        textOpen: this?.$trans('fields.medias.edit-info') ?? '',\n        textClose: this?.$trans('fields.medias.edit-close') ?? '',\n        active: false\n      }\n    }\n  },\n  filters: a17VueFilters,\n  computed: {\n    ...mapState({\n      useWysiwyg: state => state.mediaLibrary.config.useWysiwyg,\n      wysiwygOptions: state => state.mediaLibrary.config.wysiwygOptions\n    }),\n    cropThumbnailStyle: function () {\n      if (this.showImg) return {}\n      if (!this.hasMedia) return {}\n      if (!this.media.crops) return {}\n      if (this.cropSrc.length === 0) return {}\n\n      return {\n        backgroundImage: `url(${this.cropSrc})`\n      }\n    },\n    cropThumbnailClass: function () {\n      if (!this.hasMedia) return {}\n      if (!this.media.crops) return {}\n      const crop = this.media.crops[Object.keys(this.media.crops)[0]]\n      return {\n        'media__img--landscape': crop.width / crop.height >= 1,\n        'media__img--portrait': crop.width / crop.height < 1\n      }\n    },\n    mediaKey: function () {\n      return this.mediaContext.length > 0 ? this.mediaContext : this.name\n    },\n    inputName: function () {\n      let fieldName = this.name\n      if (this.name.indexOf('[')) {\n        fieldName = this.name.replace(']', '').replace('[', '][')\n      }\n      return 'medias[' + fieldName + '][' + this.index + ']'\n    },\n    metadataName: function () {\n      return 'mediaMeta[' + this.name + '][' + this.media.id + ']'\n    },\n    media: function () {\n      return this.input[0] || {}\n    },\n    cropInfos: function () {\n      const cropInfos = []\n      if (this.media.crops) {\n        for (const variant in this.media.crops) {\n          if (this.media.crops[variant].width + this.media.crops[variant].height) { // crop is not 0x0\n            let cropInfo = ''\n            cropInfo += this.media.crops[variant].name + ' ' + this.$trans('fields.medias.crop-list') + ': '\n            cropInfo += this.media.crops[variant].width + '&nbsp;&times;&nbsp;' + this.media.crops[variant].height\n            cropInfos.push(cropInfo)\n          }\n        }\n      }\n      return cropInfos.length > 0 ? cropInfos : null\n    },\n    hasMedia: function () {\n      return this.input.length > 0\n      // return Object.keys(this.media).length > 0\n    },\n    cropperKey: function () {\n      return `${this.mediaKey}-${this.index}_${this.cropContext}`\n    },\n    mediaHasCrop: function () {\n      return this.media.crops\n    },\n    cropModalName: function () {\n      return `${name}Modal`\n    },\n    ...mapState({\n      selectedMedias: state => state.mediaLibrary.selected,\n      allCrops: state => state.mediaLibrary.crops\n    })\n  },\n  watch: {\n    media: function (val, oldVal) {\n      this.hasMediaChanged = val !== oldVal\n\n      if (Object.prototype.hasOwnProperty.call(this.selectedMedias, this.mediaKey)) {\n        // reset isDestroyed status because we changed the media\n        if (this.selectedMedias[this.mediaKey][this.index]) this.isDestroyed = false\n      }\n    }\n  },\n  methods: {\n    openMediaLibrary: function (max = 1, name = this.name, index = -1) {\n      // if (__isset(this.$store.state.mediaLibrary.selected[name])) {\n      //   this.$store.state.mediaLibrary.selected[name] = []\n      //   this.$store.state.mediaLibrary.selected[name] = this.input\n      // }\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR, name)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE, this.mediaType)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX, index)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX, max)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE, true)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX, this.filesizeMax || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN, this.widthMin || 0)\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN, this.heightMin || 0)\n      if (this.$main() && this.$main().$refs.mediaLibrary) {\n        if (__isset(this.$store.state.mediaLibrary.selected[name])) {\n          this.$store.state.mediaLibrary.selected[name] = []\n        }\n        this.$store.state.mediaLibrary.selected[name] = this.input\n\n        // this.mediableActive = true\n        this.$main().$refs.mediaLibrary.openModal()\n        this.$nextTick(() => { this.mediableActive = true })\n      }\n    },\n    // crop\n    canvasCrop () {\n      const data = this.media.crops[Object.keys(this.media.crops)[0]]\n      if (!data) return\n\n      // in case of a 0x0 crop : let's display the full image in the preview\n      if (data.width + data.height === 0) {\n        this.showDefaultThumbnail()\n        return\n      }\n\n      // default src\n      let src = this.media.thumbnail\n\n      this.$nextTick(() => {\n        try {\n          const crop = cropConversion(data, this.naturalDim, this.originalDim)\n          const cropWidth = crop.width\n          const cropHeight = crop.height\n          this.canvas.width = cropWidth\n          this.canvas.height = cropHeight\n          this.ctx.drawImage(this.img, crop.x, crop.y, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight)\n          src = this.canvas.toDataURL('image/png')\n\n          // show data url in the background\n          if (this.cropSrc !== src) {\n            this.showImg = false\n            this.cropSrc = src\n          }\n        } catch (error) {\n          console.error(error)\n\n          // fallback on displaying the thumbnail\n          if (this.cropSrc !== src) {\n            this.showImg = true\n            this.cropSrc = src\n          }\n        }\n      })\n    },\n    setDefaultCrops: function () {\n      const defaultCrops = {}\n      const smarcrops = []\n\n      if (Object.prototype.hasOwnProperty.call(this.allCrops, this.cropContext)) {\n        for (const cropVariant in this.allCrops[this.cropContext]) {\n          const ratio = this.allCrops[this.cropContext][cropVariant][0].ratio\n          const width = this.media.width\n          const height = this.media.height\n          const center = {\n            x: width / 2,\n            y: height / 2\n          }\n\n          let cropWidth = width\n          let cropHeight = height\n\n          if (ratio > 0 && ratio < 1) { // \"portrait\" crop\n            cropWidth = Math.floor(Math.min(height * ratio, width))\n            cropHeight = Math.floor(cropWidth / ratio)\n          } else if (ratio >= 1) { // \"landscape\" or square crop\n            cropHeight = Math.floor(Math.min(width / ratio, height))\n            cropWidth = Math.floor(cropHeight * ratio)\n          }\n\n          let crop = {\n            x: 0,\n            y: 0,\n            width: cropWidth,\n            height: cropHeight\n          }\n\n          // Convert crop for original img values\n          crop = cropConversion(crop, this.naturalDim, this.originalDim)\n\n          smarcrops.push(smartCrop.crop(this.img, {\n            width: crop.width,\n            height: crop.height,\n            minScale: 1.0\n          }))\n\n          const x = Math.floor(center.x - cropWidth / 2)\n          const y = Math.floor(center.y - cropHeight / 2)\n\n          defaultCrops[cropVariant] = {}\n          defaultCrops[cropVariant].name = this.allCrops[this.cropContext][cropVariant][0].name || cropVariant\n          defaultCrops[cropVariant].x = x\n          defaultCrops[cropVariant].y = y\n          defaultCrops[cropVariant].width = cropWidth\n          defaultCrops[cropVariant].height = cropHeight\n        }\n\n        Promise.all(smarcrops).then((values) => {\n          let index = 0\n          values.forEach((value) => {\n            const topCrop = {\n              x: value.topCrop.x,\n              y: value.topCrop.y,\n              width: value.topCrop.width,\n              height: value.topCrop.height\n            }\n            // Restore crop natural values (aka: value to store)\n            const cropVariant = defaultCrops[Object.keys(defaultCrops)[index]]\n            const crop = cropConversion(topCrop, this.originalDim, this.naturalDim)\n            cropVariant.x = crop.x\n            cropVariant.y = crop.y\n            cropVariant.width = crop.width\n            cropVariant.height = crop.height\n            index++\n          })\n          // this.cropMedia({\n          //   values: defaultCrops\n          // })\n        }, (error) => {\n          console.error(error)\n          // this.cropMedia({\n          //   values: defaultCrops\n          // })\n        })\n      } else {\n        // this.cropMedia({\n        //   values: defaultCrops\n        // })\n      }\n    },\n    cropMedia: function (crop) {\n      crop.key = this.mediaKey\n      crop.index = this.index\n      this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP, crop)\n      if (this.img) this.canvasCrop()\n    },\n    setNaturalDimensions: function () {\n      if (this.img) {\n        this.naturalDim.width = this.img.naturalWidth\n        this.naturalDim.height = this.img.naturalHeight\n      }\n    },\n    setOriginalDimensions: function () {\n      if (this.media) {\n        this.originalDim.width = this.media.width\n        this.originalDim.height = this.media.height\n      }\n    },\n    init: function () {\n      // this.showImg = false\n      const imgLoaded = () => {\n        // __log('imgLoaded')\n        this.setNaturalDimensions()\n        this.setOriginalDimensions()\n\n        if (!this.mediaHasCrop) {\n          this.setDefaultCrops()\n        } else {\n          this.canvasCrop()\n        }\n      }\n\n      if (this.hasMedia) {\n        this.cropSrc = this.media.thumbnail\n\n        this.initImg().then(() => {\n          imgLoaded()\n        }, (error) => {\n          console.error(error)\n          this.showDefaultThumbnail()\n\n          // lets try to load to image tag now\n          this.$nextTick(() => {\n            // the image tag\n            const imgTag = this.$refs.mediaImg\n            if (imgTag) {\n              imgTag.addEventListener('load', () => {\n                this.img = imgTag\n                imgLoaded()\n              }, {\n                once: true,\n                passive: true,\n                capture: true\n              })\n\n              imgTag.addEventListener('error', (e) => {\n                console.error(e)\n                this.showDefaultThumbnail()\n              })\n            } else {\n              this.showImg = false\n              this.cropSrc = this.media.thumbnail\n            }\n          })\n        })\n        this.hasMediaChanged = false\n      }\n    },\n    initImg: function () {\n      return new Promise((resolve, reject) => {\n        this.img = new Image()\n        if (!IS_SAFARI) {\n          this.img.crossOrigin = 'Anonymous'\n        }\n        this.canvas = document.createElement('canvas')\n        this.ctx = this.canvas.getContext('2d')\n\n        this.img.addEventListener('load', () => {\n          resolve()\n        }, {\n          once: true,\n          passive: true,\n          capture: true\n        })\n\n        // in case of CORS issue or anything else\n        this.img.addEventListener('error', (e) => {\n          reject(e)\n        })\n\n        // try to load the media thumbnail\n        let append = '?'\n        if (this.media.thumbnail.indexOf('?') > -1) {\n          append = '&'\n        }\n        this.img.src = this.media.thumbnail + append + 'no-cache'\n      })\n    },\n    showDefaultThumbnail: function () {\n      this.showImg = true\n      if (this.hasMedia) this.cropSrc = this.media.thumbnail\n    },\n    openCropMedia: function () {\n      this.$refs[this.cropModalName].open()\n    },\n    deleteMediaClick: function (index, callback) {\n      // this.isDestroyed = true\n      this.deleteMedia(index)\n\n      this.$nextTick(() => callback())\n    },\n    // delete the media\n    deleteMedia: function (index) {\n      let newInput = this.input\n\n      newInput.splice(index, 1)\n\n      this.input = newInput\n\n      __log(index, this.input, this.boundProps)\n      // this.$store.commit(MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA, {\n      //   name: this.mediaKey,\n      //   index: this.index\n      // })\n    },\n    // metadatas\n    updateMetadata: function (newValue) {\n      this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS, {\n        media: {\n          context: this.mediaKey,\n          index: this.index\n        },\n        value: newValue\n      })\n    },\n    metadatasInfos: function () {\n      this.metadatas.active = !this.metadatas.active\n      this.metadatas.text = this.metadatas.active ? this.metadatas.textClose : this.metadatas.textOpen\n    }\n  },\n  beforeMount: function () {\n    this.init()\n  },\n  beforeUpdate: function () {\n    if (this.hasMediaChanged) {\n      this.init()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  $input-bg: #FCFCFC;\n  $input-border: #DFDFDF;\n  $height_input: 45px;\n\n  .media {\n    width: 100%;\n    border-radius: 2px;\n    // border: 1px solid $color__border;\n    background:$color__background;\n  }\n\n  .media__field {\n    // height:$height_input + 2px;\n    padding: 10px;\n    position: relative;\n    /*overflow-x: hidden;*/\n  }\n\n  .media--slide {\n    border: 0 none;\n  }\n\n  .media__note {\n    color: $color__text--light;\n    float: right;\n    position: absolute;\n    bottom: 18px;\n    right: 15px;\n    display:none;\n\n    @include breakpoint('small+') {\n      display: inline-block;\n    }\n\n    @include breakpoint('medium') {\n      display: none;\n    }\n\n    .s--in-editor & {\n      @include breakpoint('small+') {\n        display: none;\n      }\n    }\n  }\n\n  .media__img {\n    width: 33.33%;\n    max-width: 240px;\n    user-select: none;\n    position:relative;\n    min-width: 100px;\n\n    &:before {\n      content: \"\";\n      position: absolute;\n      display:block;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border:1px solid rgba(0,0,0,0.05);\n    }\n\n    img {\n      display:block;\n      max-width:100%;\n      max-height:100%;\n      margin:auto;\n\n      &.media__img--landscape {\n        width: 100%;\n        height: auto;\n      }\n\n      &.media__img--portrait {\n        width: auto;\n        height: 100%;\n      }\n    }\n  }\n\n  .media--slide .media__img {\n    max-width: 120px;\n  }\n\n  .media__crop-link {\n    text-decoration: none;\n    cursor: pointer;\n\n    p:first-letter {\n      text-transform: capitalize;\n    }\n\n    &:hover .f--small span {\n      @include bordered($color__text, false);\n    }\n\n    @include breakpoint('medium-') {\n      flex-direction: column;\n    }\n  }\n\n  // Image centered in a square option\n  .media__imgFrame {\n    width:100%;\n    padding-bottom:100%;\n    position:relative;\n    overflow:hidden;\n  }\n\n  .media__imgCentered {\n    top:0;\n    bottom:0;\n    left:0;\n    right:0;\n    position: absolute;\n    display: flex;\n    background-color: $color__lighter;\n    background-size: contain;\n    background-repeat:no-repeat;\n    background-position:center center;\n    transition: background-image 350ms cubic-bezier(0.795, 0.125, 0.280, 0.990), background-size 0ms 350ms;\n\n    &:before {\n      content: \"\";\n      position: absolute;\n      display:block;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border:1px solid rgba(0,0,0,0.05);\n    }\n  }\n\n  .media__edit {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: block;\n    opacity:0;\n    background-color: rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n    transition: opacity 0.3s ease;\n\n    .media__edit--button {\n      display: block;\n      position: absolute;\n      right: 10px;\n      bottom: 10px;\n      height: 26px;\n      width: 26px;\n      line-height: 26px;\n      text-align: center;\n      border-radius: 50%;\n      background: $color__background;\n      color: $color__icons;\n\n      .icon {\n        color: $color__icons;\n        transition: color .25s linear;\n      }\n    }\n\n    .media__imgFrame:hover & {\n      opacity:1;\n    }\n  }\n  .media__delete {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    display: block;\n    opacity:0;\n    background-color: rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n    transition: opacity 0.3s ease;\n\n    .media__delete--button {\n      display: block;\n      position: absolute;\n      right: 10px;\n      top: 10px;\n      height: 26px;\n      width: 26px;\n      line-height: 26px;\n      text-align: center;\n      border-radius: 50%;\n      background: $color__background;\n      color: $color__icons;\n\n      .icon {\n        color: $color__icons;\n        transition: color .25s linear;\n      }\n    }\n\n    .media__imgFrame:hover & {\n      opacity:1;\n    }\n  }\n\n  .media__info {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .media__metadatas {\n    padding: 5px 15px;\n    flex-grow: 1;\n    color: $color__text--light;\n    overflow: hidden;\n\n    li {\n      overflow:hidden;\n    }\n\n    a {\n      color:$color__link;\n    }\n  }\n\n  .media__name {\n    strong {\n      font-weight: normal;\n      color: $color__text;\n      overflow:hidden;\n      text-overflow:ellipsis;\n      display:block;\n      margin-bottom:5px;\n      // white-space: nowrap;\n    }\n\n    &:hover {\n      cursor: pointer;\n\n      strong {\n        color: $color__link;\n      }\n    }\n  }\n\n  .media__metadatas--options {\n    display: none;\n    margin-top: 35px;\n  }\n\n  .media__metadatas--options.s--active {\n    display: block;\n  }\n\n  .media__actions {\n    min-width:45px * 3;\n\n    @media screen and (max-width: 1140px) {\n      display: none !important;\n    }\n\n    .s--in-editor &{\n      display: none!important;\n    }\n  }\n\n  .media__actions-dropDown {\n    @media screen and (min-width: 1139px) {\n      display: none;\n    }\n\n    .s--in-editor & {\n      display: block!important;\n    }\n  }\n\n  .media.media--hoverable {\n    .media__actions {\n      opacity: 0;\n      transition: opacity 250ms ease;\n    }\n\n    :hover .media__actions {\n      opacity: 1;\n    }\n  }\n\n  /* Modal with cropper */\n  .modal--cropper .cropper__button {\n    width:100%;\n    display:block;\n    margin-top:20px;\n    margin-bottom:20px;\n\n    @include breakpoint('small+') {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width:auto;\n      margin-top:20px;\n      margin-bottom:20px;\n    }\n  }\n</style>\n\n<style lang=\"scss\">\n  .media .media__actions-dropDown .dropdown__content {\n    margin-top: 10px;\n  }\n</style>\n","import { mapState, mapGetters } from 'vuex'\nimport { ALERT } from '@/store/mutations/index'\nimport ACTIONS from '@/store/actions'\n\nexport default {\n  props: {\n  },\n  data () {\n    return {\n      // csrf: document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content'),\n      // miniStatus: false,\n      // hasRailMode : true,\n      // showIcon: true,\n    }\n  },\n  computed: {\n  },\n  watch: {\n  },\n  methods: {\n  },\n  mounted () {\n  },\n  created () {\n  }\n}\n","import htmlClasses from '@/utils/htmlClasses'\nimport { propsFactory } from 'vuetify/lib/util/index.mjs' // Types\n\nconst makeModalProps = propsFactory({\n  modelValue: {\n    type: Boolean,\n    default: false\n  }\n})\nexport default {\n  emits: ['update:modelValue', 'confirm', 'cancel'],\n  props: {\n    // modelValue: {\n    //   type: Boolean,\n    //   default: false\n    // },\n    cancelText: {\n      type: String,\n      default: ''\n    },\n    confirmText: {\n      type: String,\n      default: ''\n    },\n    ...makeModalProps()\n  },\n  data () {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + '-modal'\n    }\n  },\n\n  computed: {\n    show: {\n      get () {\n        return this.modelValue\n      },\n      set (value) {\n        this.$emit('update:modelValue', value)\n      }\n    },\n    textCancel () {\n      return this.cancelText !== '' ? this.cancelText : this.$t('fields.cancel')\n    },\n    textConfirm () {\n      return this.confirmText !== '' ? this.confirmText : this.$t('fields.confirm')\n    }\n  },\n  methods: {\n    setValue (e) {\n      __log('setValue', e.target.name)\n      this[e.target.name] = e.target.value\n    },\n    openModal () {\n      this.show = true\n    },\n    closeModal () {\n      this.show = false\n    },\n    cancelModal (callback = null) {\n      if (typeof this.cancelCallback === 'undefined') {\n        this.closeModal()\n      } else {\n        this.cancelCallback()\n      }\n      if (callback) {\n        callback()\n      }\n      this.$emit('cancel')\n    },\n    confirmModal (callback = null) {\n      if (typeof this.confirmCallback === 'undefined') {\n        if (callback) {\n          callback()\n        } else {\n          this.closeModal()\n        }\n      } else {\n        this.confirmCallback()\n      }\n\n      this.$emit('confirm')\n    }\n  },\n  created () {\n    // setInterval((self) => {\n    //   __log('show', self.show)\n    // }, 5000, this)\n  }\n}\n","<template>\n  <div class=\"locale\">\n    <template v-if=\"languages && languages.length && languages.length > 0\">\n      <template v-for=\"language in languages\" :key=\"language.value\">\n        <component\n          v-bind:is=\"`${type}`\"\n          v-bind=\"attributesPerLang[`${language.value}`]\"\n          :class=\"[language.value === currentLocale.value || isCustomForm ? '' : 'd-none']\"\n          @update:modelValue=\"modelUpdated($event, language.value)\"\n          >\n          <template v-slot:appendx>\n            <v-chip v-if=\"languages.length > 1\" @click=\"updateLocale(currentLocale)\">\n              {{ displayedLocale }}\n              <v-tooltip\n                activator=\"parent\"\n                location=\"top\"\n                >\n                {{ $t('fields.switch-language') }}\n              </v-tooltip>\n            </v-chip>\n          </template>\n          <template v-slot:label=\"labelScope\">\n            <!-- <slot name=\"label\"></slot> -->\n            {{ labelScope.label }}\n            <v-chip v-if=\"labelScope.label && (labelScope.isActive) &&  (labelScope.isActive.value || labelScope.isFocused.value)\" style=\"font-size: var(--v-field-label-scale); height: calc(var(--v-field-label-scale) * 1.5);\"\n              size=\"x-small\"\n              density=\"compact\"\n              color=\"primary\"\n              class=\"ml-1\"\n            >\n              {{ displayedLocale }}\n            </v-chip>\n            <v-chip v-else-if=\"labelScope.label && !$isset(labelScope.isActive)\" style=\"\"\n              size=\"x-small\"\n              density=\"compact\"\n              color=\"primary\"\n              class=\"ml-1\"\n            >\n              {{ displayedLocale }}\n            </v-chip>\n          </template>\n          <slot></slot>\n        </component>\n      </template>\n    </template>\n    <template v-else>\n      <component\n        v-bind:is=\"`${type}`\"\n        :name=\"attributes.name\"\n        v-bind=\"attributesNoLang()\"\n        @change=\"updateValue(false, ...arguments)\"\n        @blur=\"$emit('blur')\"\n        @focus=\"$emit('focus')\"\n        >\n        <slot></slot>\n      </component>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { LANGUAGE } from '@/store/mutations'\nimport {  LocaleMixin } from '@/mixins'\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\n\nimport { cloneDeep, omit } from 'lodash-es'\n\nexport default {\n  name: 'v-input-locale',\n  emits: [...makeInputEmits],\n  mixins: [LocaleMixin],\n  setup (props, context) {\n    return {\n      ...useInput(props, context)\n    }\n  },\n  props: {\n    ...makeInputProps(),\n    type: {\n      type: String,\n      default: 'text'\n    },\n    attributes: {\n      type: Object,\n      default: function () {\n        return {}\n      }\n    },\n    initialValues: {\n      type: Object,\n      default: function () {\n        return {}\n      }\n    }\n  },\n  watch: {\n    modelValue (value) {\n      if (__isObject(value)) {\n        // this.input = value\n        for (const locale in value) {\n          this.input[locale] = value[locale]\n        }\n      }\n    },\n    attributes: {\n      handler (value, oldValue) {\n        // __log('attributes watch', value, oldValue)\n      },\n      deep: true\n    }\n  },\n  computed: {\n    input: {\n      get () {\n        __log('Locale.vue inputget', this.modelValue)\n        return this.modelValue\n      },\n      set (val, old) {\n        __log('Locale.vue input set', val, old)\n        this.inputOnSet(val, old)\n        this.updateModelValue(val)\n        // context.emit('update:modelValue', val)\n      }\n    },\n    ...mapState({\n      currentLocale: state => state.language.active,\n      languages: state => state.language.all\n    }),\n    attributesPerLang: function () {\n      // const language = this.languages.find(l => l.value === lang)\n\n      const localeAttributes = {}\n      // const attributes = cloneDeep(this.attributes)\n      const errorMessages = this.attributes.errorMessages\n\n      this.languages.forEach((language) => {\n        const attributes = cloneDeep(omit(this.attributes, ['errorMessages']))\n        // __log(attributes)\n        // for textfields set initial values using the initialValues prop\n        // if (this.initialValues && typeof this.initialValues === 'object' && this.initialValues[lang]) {\n        //   attributes.initialValue = this.initialValues[lang]\n        // } else if (!attributes.initialValue) {\n        //   attributes.initialValue = ''\n        // }\n        attributes.required = !!language.published && this.isRequired\n        attributes.name = `${attributes.name}[${language.value}]`\n\n        if (__isset(errorMessages[language.value])) {\n          attributes.errorMessages = errorMessages[language.value]\n          attributes.error = false\n        }\n        if (this.input) {\n          // __log(this.input[language.value])\n          attributes.modelValue = this.input[language.value]\n        } else if (attributes.default) {\n          // attributes.modelValue = attributes.default\n        }\n\n        localeAttributes[language.value] = attributes\n      })\n      // this.attributes.errorMessages = new Proxy({})\n      return localeAttributes\n    }\n  },\n  data () {\n    return {\n      isCustomForm: false,\n      isRequired: this.attributes.required,\n\n      inputObject: this.modelValue\n\n    }\n  },\n  mounted () {\n    this.isCustomForm = this.$root.$refs.customForm !== undefined\n    this.isRequired = this.attributes.required ?? false\n  },\n  created () {\n\n  },\n  methods: {\n    attributesPerLang_: function (lang) {\n      const language = this.languages.find(l => l.value === lang)\n\n      const attributes = cloneDeep(this.attributes)\n      // for textfields set initial values using the initialValues prop\n      // if (this.initialValues && typeof this.initialValues === 'object' && this.initialValues[lang]) {\n      //   attributes.initialValue = this.initialValues[lang]\n      // } else if (!attributes.initialValue) {\n      //   attributes.initialValue = ''\n      // }\n      attributes.required = !!language.published && this.isRequired\n      attributes.name = `${attributes.name}[${lang}]`\n\n      if (this.input) {\n        attributes.modelValue = this.input[lang]\n      }\n\n      return attributes\n    },\n    attributesNoLang: function () {\n      const attributes = cloneDeep(this.attributes)\n      // for textfields set initial values using the initialValue prop\n      if (this.initialValue) attributes.initialValue = this.initialValue\n      return attributes\n    },\n    updateLocale: function (oldValue) {\n      this.$store.commit(LANGUAGE.SWITCH_LANG, { oldValue })\n      // auto focus new field\n      this.$nextTick(function () {\n        // const currentLanguageItem = this.$el.querySelector('[data-lang=\"' + this.currentLocale.value + '\"]')\n\n        // if (currentLanguageItem) {\n        //   const field = currentLanguageItem.querySelector('input:not([disabled]), textarea:not([disabled]), select:not([disabled])')\n        //   if (field) field.focus()\n        // }\n      })\n\n      // this.$emit('localize', this.currentLocale)\n    },\n    updateValue: function (locale, newValue) {\n      __log('updateValue', locale, newValue)\n      // if (locale) {\n      //   this.$emit('change', {\n      //     locale,\n      //     value: newValue\n      //   })\n      // } else {\n      //   this.$emit('change', {\n      //     value: newValue\n      //   })\n      // }\n    },\n    modelUpdated (value, lang) {\n      try {\n        if (this.input && __isset(this.input[lang])) {\n          this.input[lang] = value\n          this.updateModelValue(this.input)\n        } else if (this.input && !__isset(this.input[lang]) && value) {\n          this.input = {}\n          this.input[lang] = value\n          this.updateModelValue(this.input)\n        } else if (!this.input && value) {\n          this.input = {}\n          // __log(this.input, value)\n          // this.input[lang] = value\n          // this.updateModelValue(this.input)\n          // __log('model NOT updated', this.input, lang, value)\n        }\n      } catch (error) {\n        __log('catch', this.input, lang, value)\n      }\n\n      // this.updateValue(lang, value)\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .input {\n    margin-top:35px;\n    position: relative;\n  }\n\n  .input:empty {\n    display:none;\n  }\n\n  .input__add {\n    position:absolute;\n    top:0;\n    right:0;\n    text-decoration:none;\n    // color:$color__link;\n  }\n\n  .input__label {\n    display:block;\n    // color:$color__text;\n    margin-bottom:10px;\n    word-wrap:break-word;\n    position:relative;\n  }\n\n  .input__lang {\n    border-radius:2px;\n    display:inline-block;\n    height:15px;\n    line-height:15px;\n    font-size:10px;\n    // color:$color__background;\n    text-transform:uppercase;\n    // background:$color__icons;\n    padding:0 5px;\n    position:relative;\n    top:-2px;\n    margin-left:5px;\n    cursor:pointer;\n    user-select: none;\n    letter-spacing:0;\n\n    &:hover {\n      // background:$color__f--text;\n    }\n  }\n\n  /* Input inline */\n  .input__inliner {\n    > .input {\n      display:inline-block;\n      margin-top:0;\n      margin-right: 20px;\n\n      .singleCheckbox {\n        padding:7px 0 8px 0;\n      }\n    }\n  }\n\n  /* small variant */\n\n  .input--small {\n    margin-top:16px;\n\n    .input__label {\n      margin-bottom:9px;\n      // @include font-small;\n    }\n  }\n\n</style>\n","import 'whatwg-fetch'\n\nexport function getCountry () {\n  return fetch('https://ip2c.org/s')\n    .then(response => response.text())\n    .then((response) => {\n      const result = (response || '').toString()\n\n      if (!result || result[0] !== '1') {\n        throw new Error('unable to fetch the country')\n      }\n\n      return result.substr(2, 2)\n    })\n}\n\n// Credits: http://blog.vishalon.net/index.php/javascript-getting-and-setting-caret-position-in-textarea/\nexport function setCaretPosition (ctrl, pos) {\n  // Modern browsers\n  if (ctrl.setSelectionRange) {\n    ctrl.focus()\n    ctrl.setSelectionRange(pos, pos)\n\n  // IE8 and below\n  } else if (ctrl.createTextRange) {\n    const range = ctrl.createTextRange()\n    range.collapse(true)\n    range.moveEnd('character', pos)\n    range.moveStart('character', pos)\n    range.select()\n  }\n}\n\nconst allCountries = [\n  [\n    'Afghanistan (‫افغانستان‬‎)',\n    'af',\n    '93'\n  ],\n  [\n    'Albania (Shqipëri)',\n    'al',\n    '355'\n  ],\n  [\n    'Algeria (‫الجزائر‬‎)',\n    'dz',\n    '213'\n  ],\n  [\n    'American Samoa',\n    'as',\n    '1684'\n  ],\n  [\n    'Andorra',\n    'ad',\n    '376'\n  ],\n  [\n    'Angola',\n    'ao',\n    '244'\n  ],\n  [\n    'Anguilla',\n    'ai',\n    '1264'\n  ],\n  [\n    'Antigua and Barbuda',\n    'ag',\n    '1268'\n  ],\n  [\n    'Argentina',\n    'ar',\n    '54'\n  ],\n  [\n    'Armenia (Հայաստան)',\n    'am',\n    '374'\n  ],\n  [\n    'Aruba',\n    'aw',\n    '297'\n  ],\n  [\n    'Australia',\n    'au',\n    '61',\n    0\n  ],\n  [\n    'Austria (Österreich)',\n    'at',\n    '43'\n  ],\n  [\n    'Azerbaijan (Azərbaycan)',\n    'az',\n    '994'\n  ],\n  [\n    'Bahamas',\n    'bs',\n    '1242'\n  ],\n  [\n    'Bahrain (‫البحرين‬‎)',\n    'bh',\n    '973'\n  ],\n  [\n    'Bangladesh (বাংলাদেশ)',\n    'bd',\n    '880'\n  ],\n  [\n    'Barbados',\n    'bb',\n    '1246'\n  ],\n  [\n    'Belarus (Беларусь)',\n    'by',\n    '375'\n  ],\n  [\n    'Belgium (België)',\n    'be',\n    '32'\n  ],\n  [\n    'Belize',\n    'bz',\n    '501'\n  ],\n  [\n    'Benin (Bénin)',\n    'bj',\n    '229'\n  ],\n  [\n    'Bermuda',\n    'bm',\n    '1441'\n  ],\n  [\n    'Bhutan (འབྲུག)',\n    'bt',\n    '975'\n  ],\n  [\n    'Bolivia',\n    'bo',\n    '591'\n  ],\n  [\n    'Bosnia and Herzegovina (Босна и Херцеговина)',\n    'ba',\n    '387'\n  ],\n  [\n    'Botswana',\n    'bw',\n    '267'\n  ],\n  [\n    'Brazil (Brasil)',\n    'br',\n    '55'\n  ],\n  [\n    'British Indian Ocean Territory',\n    'io',\n    '246'\n  ],\n  [\n    'British Virgin Islands',\n    'vg',\n    '1284'\n  ],\n  [\n    'Brunei',\n    'bn',\n    '673'\n  ],\n  [\n    'Bulgaria (България)',\n    'bg',\n    '359'\n  ],\n  [\n    'Burkina Faso',\n    'bf',\n    '226'\n  ],\n  [\n    'Burundi (Uburundi)',\n    'bi',\n    '257'\n  ],\n  [\n    'Cambodia (កម្ពុជា)',\n    'kh',\n    '855'\n  ],\n  [\n    'Cameroon (Cameroun)',\n    'cm',\n    '237'\n  ],\n  [\n    'Canada',\n    'ca',\n    '1',\n    1,\n    ['204', '226', '236', '249', '250', '289', '306', '343', '365', '387', '403', '416', '418', '431', '437', '438', '450', '506', '514', '519', '548', '579', '581', '587', '604', '613', '639', '647', '672', '705', '709', '742', '778', '780', '782', '807', '819', '825', '867', '873', '902', '905']\n  ],\n  [\n    'Cape Verde (Kabu Verdi)',\n    'cv',\n    '238'\n  ],\n  [\n    'Caribbean Netherlands',\n    'bq',\n    '599',\n    1\n  ],\n  [\n    'Cayman Islands',\n    'ky',\n    '1345'\n  ],\n  [\n    'Central African Republic (République centrafricaine)',\n    'cf',\n    '236'\n  ],\n  [\n    'Chad (Tchad)',\n    'td',\n    '235'\n  ],\n  [\n    'Chile',\n    'cl',\n    '56'\n  ],\n  [\n    'China (中国)',\n    'cn',\n    '86'\n  ],\n  [\n    'Christmas Island',\n    'cx',\n    '61',\n    2\n  ],\n  [\n    'Cocos (Keeling) Islands',\n    'cc',\n    '61',\n    1\n  ],\n  [\n    'Colombia',\n    'co',\n    '57'\n  ],\n  [\n    'Comoros (‫جزر القمر‬‎)',\n    'km',\n    '269'\n  ],\n  [\n    'Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)',\n    'cd',\n    '243'\n  ],\n  [\n    'Congo (Republic) (Congo-Brazzaville)',\n    'cg',\n    '242'\n  ],\n  [\n    'Cook Islands',\n    'ck',\n    '682'\n  ],\n  [\n    'Costa Rica',\n    'cr',\n    '506'\n  ],\n  [\n    'Côte d’Ivoire',\n    'ci',\n    '225'\n  ],\n  [\n    'Croatia (Hrvatska)',\n    'hr',\n    '385'\n  ],\n  [\n    'Cuba',\n    'cu',\n    '53'\n  ],\n  [\n    'Curaçao',\n    'cw',\n    '599',\n    0\n  ],\n  [\n    'Cyprus (Κύπρος)',\n    'cy',\n    '357'\n  ],\n  [\n    'Czech Republic (Česká republika)',\n    'cz',\n    '420'\n  ],\n  [\n    'Denmark (Danmark)',\n    'dk',\n    '45'\n  ],\n  [\n    'Djibouti',\n    'dj',\n    '253'\n  ],\n  [\n    'Dominica',\n    'dm',\n    '1767'\n  ],\n  [\n    'Dominican Republic (República Dominicana)',\n    'do',\n    '1',\n    2,\n    ['809', '829', '849']\n  ],\n  [\n    'Ecuador',\n    'ec',\n    '593'\n  ],\n  [\n    'Egypt (‫مصر‬‎)',\n    'eg',\n    '20'\n  ],\n  [\n    'El Salvador',\n    'sv',\n    '503'\n  ],\n  [\n    'Equatorial Guinea (Guinea Ecuatorial)',\n    'gq',\n    '240'\n  ],\n  [\n    'Eritrea',\n    'er',\n    '291'\n  ],\n  [\n    'Estonia (Eesti)',\n    'ee',\n    '372'\n  ],\n  [\n    'Ethiopia',\n    'et',\n    '251'\n  ],\n  [\n    'Falkland Islands (Islas Malvinas)',\n    'fk',\n    '500'\n  ],\n  [\n    'Faroe Islands (Føroyar)',\n    'fo',\n    '298'\n  ],\n  [\n    'Fiji',\n    'fj',\n    '679'\n  ],\n  [\n    'Finland (Suomi)',\n    'fi',\n    '358',\n    0\n  ],\n  [\n    'France',\n    'fr',\n    '33'\n  ],\n  [\n    'French Guiana (Guyane française)',\n    'gf',\n    '594'\n  ],\n  [\n    'French Polynesia (Polynésie française)',\n    'pf',\n    '689'\n  ],\n  [\n    'Gabon',\n    'ga',\n    '241'\n  ],\n  [\n    'Gambia',\n    'gm',\n    '220'\n  ],\n  [\n    'Georgia (საქართველო)',\n    'ge',\n    '995'\n  ],\n  [\n    'Germany (Deutschland)',\n    'de',\n    '49'\n  ],\n  [\n    'Ghana (Gaana)',\n    'gh',\n    '233'\n  ],\n  [\n    'Gibraltar',\n    'gi',\n    '350'\n  ],\n  [\n    'Greece (Ελλάδα)',\n    'gr',\n    '30'\n  ],\n  [\n    'Greenland (Kalaallit Nunaat)',\n    'gl',\n    '299'\n  ],\n  [\n    'Grenada',\n    'gd',\n    '1473'\n  ],\n  [\n    'Guadeloupe',\n    'gp',\n    '590',\n    0\n  ],\n  [\n    'Guam',\n    'gu',\n    '1671'\n  ],\n  [\n    'Guatemala',\n    'gt',\n    '502'\n  ],\n  [\n    'Guernsey',\n    'gg',\n    '44',\n    1\n  ],\n  [\n    'Guinea (Guinée)',\n    'gn',\n    '224'\n  ],\n  [\n    'Guinea-Bissau (Guiné Bissau)',\n    'gw',\n    '245'\n  ],\n  [\n    'Guyana',\n    'gy',\n    '592'\n  ],\n  [\n    'Haiti',\n    'ht',\n    '509'\n  ],\n  [\n    'Honduras',\n    'hn',\n    '504'\n  ],\n  [\n    'Hong Kong (香港)',\n    'hk',\n    '852'\n  ],\n  [\n    'Hungary (Magyarország)',\n    'hu',\n    '36'\n  ],\n  [\n    'Iceland (Ísland)',\n    'is',\n    '354'\n  ],\n  [\n    'India (भारत)',\n    'in',\n    '91'\n  ],\n  [\n    'Indonesia',\n    'id',\n    '62'\n  ],\n  [\n    'Iran (‫ایران‬‎)',\n    'ir',\n    '98'\n  ],\n  [\n    'Iraq (‫العراق‬‎)',\n    'iq',\n    '964'\n  ],\n  [\n    'Ireland',\n    'ie',\n    '353'\n  ],\n  [\n    'Isle of Man',\n    'im',\n    '44',\n    2\n  ],\n  [\n    'Israel (‫ישראל‬‎)',\n    'il',\n    '972'\n  ],\n  [\n    'Italy (Italia)',\n    'it',\n    '39',\n    0\n  ],\n  [\n    'Jamaica',\n    'jm',\n    '1876'\n  ],\n  [\n    'Japan (日本)',\n    'jp',\n    '81'\n  ],\n  [\n    'Jersey',\n    'je',\n    '44',\n    3\n  ],\n  [\n    'Jordan (‫الأردن‬‎)',\n    'jo',\n    '962'\n  ],\n  [\n    'Kazakhstan (Казахстан)',\n    'kz',\n    '7',\n    1\n  ],\n  [\n    'Kenya',\n    'ke',\n    '254'\n  ],\n  [\n    'Kiribati',\n    'ki',\n    '686'\n  ],\n  [\n    'Kosovo',\n    'xk',\n    '383'\n  ],\n  [\n    'Kuwait (‫الكويت‬‎)',\n    'kw',\n    '965'\n  ],\n  [\n    'Kyrgyzstan (Кыргызстан)',\n    'kg',\n    '996'\n  ],\n  [\n    'Laos (ລາວ)',\n    'la',\n    '856'\n  ],\n  [\n    'Latvia (Latvija)',\n    'lv',\n    '371'\n  ],\n  [\n    'Lebanon (‫لبنان‬‎)',\n    'lb',\n    '961'\n  ],\n  [\n    'Lesotho',\n    'ls',\n    '266'\n  ],\n  [\n    'Liberia',\n    'lr',\n    '231'\n  ],\n  [\n    'Libya (‫ليبيا‬‎)',\n    'ly',\n    '218'\n  ],\n  [\n    'Liechtenstein',\n    'li',\n    '423'\n  ],\n  [\n    'Lithuania (Lietuva)',\n    'lt',\n    '370'\n  ],\n  [\n    'Luxembourg',\n    'lu',\n    '352'\n  ],\n  [\n    'Macau (澳門)',\n    'mo',\n    '853'\n  ],\n  [\n    'Macedonia (FYROM) (Македонија)',\n    'mk',\n    '389'\n  ],\n  [\n    'Madagascar (Madagasikara)',\n    'mg',\n    '261'\n  ],\n  [\n    'Malawi',\n    'mw',\n    '265'\n  ],\n  [\n    'Malaysia',\n    'my',\n    '60'\n  ],\n  [\n    'Maldives',\n    'mv',\n    '960'\n  ],\n  [\n    'Mali',\n    'ml',\n    '223'\n  ],\n  [\n    'Malta',\n    'mt',\n    '356'\n  ],\n  [\n    'Marshall Islands',\n    'mh',\n    '692'\n  ],\n  [\n    'Martinique',\n    'mq',\n    '596'\n  ],\n  [\n    'Mauritania (‫موريتانيا‬‎)',\n    'mr',\n    '222'\n  ],\n  [\n    'Mauritius (Moris)',\n    'mu',\n    '230'\n  ],\n  [\n    'Mayotte',\n    'yt',\n    '262',\n    1\n  ],\n  [\n    'Mexico (México)',\n    'mx',\n    '52'\n  ],\n  [\n    'Micronesia',\n    'fm',\n    '691'\n  ],\n  [\n    'Moldova (Republica Moldova)',\n    'md',\n    '373'\n  ],\n  [\n    'Monaco',\n    'mc',\n    '377'\n  ],\n  [\n    'Mongolia (Монгол)',\n    'mn',\n    '976'\n  ],\n  [\n    'Montenegro (Crna Gora)',\n    'me',\n    '382'\n  ],\n  [\n    'Montserrat',\n    'ms',\n    '1664'\n  ],\n  [\n    'Morocco (‫المغرب‬‎)',\n    'ma',\n    '212',\n    0\n  ],\n  [\n    'Mozambique (Moçambique)',\n    'mz',\n    '258'\n  ],\n  [\n    'Myanmar (Burma) (မြန်မာ)',\n    'mm',\n    '95'\n  ],\n  [\n    'Namibia (Namibië)',\n    'na',\n    '264'\n  ],\n  [\n    'Nauru',\n    'nr',\n    '674'\n  ],\n  [\n    'Nepal (नेपाल)',\n    'np',\n    '977'\n  ],\n  [\n    'Netherlands (Nederland)',\n    'nl',\n    '31'\n  ],\n  [\n    'New Caledonia (Nouvelle-Calédonie)',\n    'nc',\n    '687'\n  ],\n  [\n    'New Zealand',\n    'nz',\n    '64'\n  ],\n  [\n    'Nicaragua',\n    'ni',\n    '505'\n  ],\n  [\n    'Niger (Nijar)',\n    'ne',\n    '227'\n  ],\n  [\n    'Nigeria',\n    'ng',\n    '234'\n  ],\n  [\n    'Niue',\n    'nu',\n    '683'\n  ],\n  [\n    'Norfolk Island',\n    'nf',\n    '672'\n  ],\n  [\n    'North Korea (조선 민주주의 인민 공화국)',\n    'kp',\n    '850'\n  ],\n  [\n    'Northern Mariana Islands',\n    'mp',\n    '1670'\n  ],\n  [\n    'Norway (Norge)',\n    'no',\n    '47',\n    0\n  ],\n  [\n    'Oman (‫عُمان‬‎)',\n    'om',\n    '968'\n  ],\n  [\n    'Pakistan (‫پاکستان‬‎)',\n    'pk',\n    '92'\n  ],\n  [\n    'Palau',\n    'pw',\n    '680'\n  ],\n  [\n    'Palestine (‫فلسطين‬‎)',\n    'ps',\n    '970'\n  ],\n  [\n    'Panama (Panamá)',\n    'pa',\n    '507'\n  ],\n  [\n    'Papua New Guinea',\n    'pg',\n    '675'\n  ],\n  [\n    'Paraguay',\n    'py',\n    '595'\n  ],\n  [\n    'Peru (Perú)',\n    'pe',\n    '51'\n  ],\n  [\n    'Philippines',\n    'ph',\n    '63'\n  ],\n  [\n    'Poland (Polska)',\n    'pl',\n    '48'\n  ],\n  [\n    'Portugal',\n    'pt',\n    '351'\n  ],\n  [\n    'Puerto Rico',\n    'pr',\n    '1',\n    3,\n    ['787', '939']\n  ],\n  [\n    'Qatar (‫قطر‬‎)',\n    'qa',\n    '974'\n  ],\n  [\n    'Réunion (La Réunion)',\n    're',\n    '262',\n    0\n  ],\n  [\n    'Romania (România)',\n    'ro',\n    '40'\n  ],\n  [\n    'Russia (Россия)',\n    'ru',\n    '7',\n    0\n  ],\n  [\n    'Rwanda',\n    'rw',\n    '250'\n  ],\n  [\n    'Saint Barthélemy',\n    'bl',\n    '590',\n    1\n  ],\n  [\n    'Saint Helena',\n    'sh',\n    '290'\n  ],\n  [\n    'Saint Kitts and Nevis',\n    'kn',\n    '1869'\n  ],\n  [\n    'Saint Lucia',\n    'lc',\n    '1758'\n  ],\n  [\n    'Saint Martin (Saint-Martin (partie française))',\n    'mf',\n    '590',\n    2\n  ],\n  [\n    'Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)',\n    'pm',\n    '508'\n  ],\n  [\n    'Saint Vincent and the Grenadines',\n    'vc',\n    '1784'\n  ],\n  [\n    'Samoa',\n    'ws',\n    '685'\n  ],\n  [\n    'San Marino',\n    'sm',\n    '378'\n  ],\n  [\n    'São Tomé and Príncipe (São Tomé e Príncipe)',\n    'st',\n    '239'\n  ],\n  [\n    'Saudi Arabia (‫المملكة العربية السعودية‬‎)',\n    'sa',\n    '966'\n  ],\n  [\n    'Senegal (Sénégal)',\n    'sn',\n    '221'\n  ],\n  [\n    'Serbia (Србија)',\n    'rs',\n    '381'\n  ],\n  [\n    'Seychelles',\n    'sc',\n    '248'\n  ],\n  [\n    'Sierra Leone',\n    'sl',\n    '232'\n  ],\n  [\n    'Singapore',\n    'sg',\n    '65'\n  ],\n  [\n    'Sint Maarten',\n    'sx',\n    '1721'\n  ],\n  [\n    'Slovakia (Slovensko)',\n    'sk',\n    '421'\n  ],\n  [\n    'Slovenia (Slovenija)',\n    'si',\n    '386'\n  ],\n  [\n    'Solomon Islands',\n    'sb',\n    '677'\n  ],\n  [\n    'Somalia (Soomaaliya)',\n    'so',\n    '252'\n  ],\n  [\n    'South Africa',\n    'za',\n    '27'\n  ],\n  [\n    'South Korea (대한민국)',\n    'kr',\n    '82'\n  ],\n  [\n    'South Sudan (‫جنوب السودان‬‎)',\n    'ss',\n    '211'\n  ],\n  [\n    'Spain (España)',\n    'es',\n    '34'\n  ],\n  [\n    'Sri Lanka (ශ්‍රී ලංකාව)',\n    'lk',\n    '94'\n  ],\n  [\n    'Sudan (‫السودان‬‎)',\n    'sd',\n    '249'\n  ],\n  [\n    'Suriname',\n    'sr',\n    '597'\n  ],\n  [\n    'Svalbard and Jan Mayen',\n    'sj',\n    '47',\n    1\n  ],\n  [\n    'Swaziland',\n    'sz',\n    '268'\n  ],\n  [\n    'Sweden (Sverige)',\n    'se',\n    '46'\n  ],\n  [\n    'Switzerland (Schweiz)',\n    'ch',\n    '41'\n  ],\n  [\n    'Syria (‫سوريا‬‎)',\n    'sy',\n    '963'\n  ],\n  [\n    'Taiwan (台灣)',\n    'tw',\n    '886'\n  ],\n  [\n    'Tajikistan',\n    'tj',\n    '992'\n  ],\n  [\n    'Tanzania',\n    'tz',\n    '255'\n  ],\n  [\n    'Thailand (ไทย)',\n    'th',\n    '66'\n  ],\n  [\n    'Timor-Leste',\n    'tl',\n    '670'\n  ],\n  [\n    'Togo',\n    'tg',\n    '228'\n  ],\n  [\n    'Tokelau',\n    'tk',\n    '690'\n  ],\n  [\n    'Tonga',\n    'to',\n    '676'\n  ],\n  [\n    'Trinidad and Tobago',\n    'tt',\n    '1868'\n  ],\n  [\n    'Tunisia (‫تونس‬‎)',\n    'tn',\n    '216'\n  ],\n  [\n    'Turkey (Türkiye)',\n    'tr',\n    '90'\n  ],\n  [\n    'Turkmenistan',\n    'tm',\n    '993'\n  ],\n  [\n    'Turks and Caicos Islands',\n    'tc',\n    '1649'\n  ],\n  [\n    'Tuvalu',\n    'tv',\n    '688'\n  ],\n  [\n    'U.S. Virgin Islands',\n    'vi',\n    '1340'\n  ],\n  [\n    'Uganda',\n    'ug',\n    '256'\n  ],\n  [\n    'Ukraine (Україна)',\n    'ua',\n    '380'\n  ],\n  [\n    'United Arab Emirates (‫الإمارات العربية المتحدة‬‎)',\n    'ae',\n    '971'\n  ],\n  [\n    'United Kingdom',\n    'gb',\n    '44',\n    0\n  ],\n  [\n    'United States',\n    'us',\n    '1',\n    0\n  ],\n  [\n    'Uruguay',\n    'uy',\n    '598'\n  ],\n  [\n    'Uzbekistan (Oʻzbekiston)',\n    'uz',\n    '998'\n  ],\n  [\n    'Vanuatu',\n    'vu',\n    '678'\n  ],\n  [\n    'Vatican City (Città del Vaticano)',\n    'va',\n    '39',\n    1\n  ],\n  [\n    'Venezuela',\n    've',\n    '58'\n  ],\n  [\n    'Vietnam (Việt Nam)',\n    'vn',\n    '84'\n  ],\n  [\n    'Wallis and Futuna (Wallis-et-Futuna)',\n    'wf',\n    '681'\n  ],\n  [\n    'Western Sahara (‫الصحراء الغربية‬‎)',\n    'eh',\n    '212',\n    1\n  ],\n  [\n    'Yemen (‫اليمن‬‎)',\n    'ye',\n    '967'\n  ],\n  [\n    'Zambia',\n    'zm',\n    '260'\n  ],\n  [\n    'Zimbabwe',\n    'zw',\n    '263'\n  ],\n  [\n    'Åland Islands',\n    'ax',\n    '358',\n    1\n  ]\n].map(country => ({\n  name: country[0],\n  iso2: country[1].toUpperCase(),\n  dialCode: country[2],\n  priority: country[3] || 0,\n  areaCodes: country[4] || null\n}))\n\nexport const defaultOptions = {\n  placeholder: 'Enter a phone number',\n  label: 'Enter a Phone Number',\n  disabledFetchingCountry: false,\n  disabled: false,\n  disabledFormatting: false,\n  mode: 'international',\n  invalidMsg: '',\n  required: false,\n  allCountries,\n  defaultCountry: 'tr',\n  enabledCountryCode: false,\n  enabledFlags: true,\n  preferredCountries: [],\n  onlyCountries: [],\n  ignoredCountries: [],\n  autofocus: false,\n  autocomplete: 'on',\n  name: 'telephone',\n  wrapperClasses: '',\n  inputClasses: '',\n  inputId: '',\n  dropdownOptions: {},\n  inputOptions: {},\n  maxLen: 25,\n  dynamicPlaceholder: false\n}\n\n// Array of country objects for the flag dropdown.\n\n// Here is the criteria for the plugin to support a given country/territory\n// - It has an iso2 code: https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\n// - It has it's own country calling code (it is not a sub-region of another country): https://en.wikipedia.org/wiki/List_of_country_calling_codes\n// - It has a flag in the region-flags project: https://github.com/behdad/region-flags/tree/gh-pages/png\n// - It is supported by libphonenumber (it must be listed on this page): https://github.com/googlei18n/libphonenumber/blob/master/resources/ShortNumberMetadata.xml\n\n// Each country array has the following information:\n// [\n//    Country name,\n//    iso2 code,\n//    International dial code,\n//    Order (if >1 country with same dial code),\n//    Area codes\n// ]\n\nexport default {\n  options: { ...defaultOptions }\n}\n","<template>\n    <v-row no-gutters  :class=\"['vue-tel-input-vuetify flex-nowrap', $lodash.pick(boundProps, ['wrapperClasses']) ?? getDefault('wrapperClasses')]\">\n      <v-autocomplete\n        class=\"flex-grow-0 flex-shrink-1\"\n        :ref=\"makeReference('countryInput')\"\n        v-model=\"countryCode\"\n        v-bind=\"$lodash.pick(boundProps, ['variant', 'menuProps', 'selectClasses', 'selectLabel', 'dense', 'density', 'color'])\"\n        :items=\"sortedCountries\"\n        item-title=\"name\"\n        item-value=\"iso2\"\n        :menu-props=\"{ maxHeight: 200 }\"\n        autocomplete=\"off\"\n        return-object\n        @update:model-value=\"choose\"\n      >\n        <template #selection>\n          <div v-if=\"activeCountry && activeCountry.iso2\" :class=\"activeCountry.iso2.toLowerCase()\" class=\"vti__flag\" />\n        </template>\n        <template #item=\"{ item, props }\">\n          <v-list-item v-bind=\"props\">\n            <template #prepend>\n              <div :class=\"item.raw.iso2.toLowerCase()\" class=\"vti__flag\" />\n            </template>\n            <v-list-item-title>\n              +{{ item.raw.dialCode }}\n            </v-list-item-title>\n          </v-list-item>\n        </template>\n      </v-autocomplete>\n      <v-text-field\n          :ref=\"makeReference('phoneInput')\"\n          type=\"tel\"\n          class=\"flex-grow-1 flex-shrink-0\"\n          v-model=\"phone\"\n          v-bind=\"boundProps\"\n\n          @input=\"onInput\"\n          @blur=\"onBlur\"\n          @focus=\"onFocus\"\n          @click=\"onClick\"\n          @change=\"onChange\"\n          @mousedown=\"onMouseDown\"\n          @mouseup=\"onMouseUp\"\n          @keydown=\"onKeyDown\"\n          @keyup.enter=\"onEnter\"\n          @keyup.space=\"onSpace\"\n        >\n\n      </v-text-field>\n    </v-row>\n\n</template>\n\n<script>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\n\nimport PhoneNumber, { getExample } from 'awesome-phonenumber'\nimport Phone, { getCountry, setCaretPosition } from '@/utils/phone'\n\nfunction getDefault (key) {\n  return Phone.options[key]\n}\n\n// Polyfill for Event.path in IE 11: https://stackoverflow.com/a/46093727\nfunction getParents (node, memo) {\n  const parsedMemo = memo || []\n  const { parentNode } = node\n  if (!parentNode) {\n    return parsedMemo\n  }\n  return getParents(parentNode, parsedMemo.concat(parentNode))\n}\n\nexport default {\n  // name: 'VueTelInputVuetify',\n  emits: [\n    ...makeInputEmits,\n    'country-changed',\n    'validate',\n    'onValidate',\n    'keydown',\n    'mousedown',\n    'mouseup',\n    'input',\n    'change',\n    'focus',\n    'blur',\n    'click',\n    'space',\n    'onInput',\n    'onSpace',\n    'onBlur',\n    'onMouseup',\n    'onMousedown'\n  ],\n  directives: {\n    // Click-outside by BosNaufal: https://github.com/BosNaufal/vue-click-outside\n    'click-outside': {\n      bind (el, binding, vNode) {\n        // Provided expression must evaluate to a function.\n        if (typeof binding.value !== 'function') {\n          const compName = vNode.context.name\n          let warn = `[Vue-click-outside:] provided expression ${binding.expression} is not a function, but has to be`\n          if (compName) {\n            warn += `Found in component ${compName}`\n          }\n          console.warn(warn)\n        }\n        // Define Handler and cache it on the element\n        const { bubble } = binding.modifiers\n        const handler = (e) => {\n          // Fall back to composedPath if e.path is undefined\n          const path = e.path ||\n            (e.composedPath ? e.composedPath() : false) ||\n            getParents(e.target)\n          if (\n            bubble ||\n            (path.length && !el.contains(path[0]) && el !== path[0])\n          ) {\n            binding.value(e)\n          }\n        }\n        el.__vueClickOutside__ = handler\n        // add Event Listeners\n        document.addEventListener('click', handler)\n      },\n      unbind (el) {\n        // Remove Event Listeners\n        document.removeEventListener('click', el.__vueClickOutside__)\n        el.__vueClickOutside__ = null\n      }\n    }\n  },\n  props: {\n    ...makeInputProps(),\n    invalidMsg: {\n      type: String,\n      default: () => getDefault('invalidMsg')\n    },\n    mode: {\n      type: String,\n      default: () => getDefault('mode')\n    },\n    disabledFetchingCountry: {\n      type: Boolean,\n      default: () => getDefault('disabledFetchingCountry')\n    },\n    allCountries: {\n      type: Array,\n      default: () => getDefault('allCountries')\n    },\n    defaultCountry: {\n      // Default country code, ie: 'AU'\n      // Will override the current country of user\n      type: String,\n      default: () => getDefault('defaultCountry')\n    },\n    preferredCountries: {\n      type: Array,\n      default: () => getDefault('preferredCountries')\n    },\n    onlyCountries: {\n      type: Array,\n      default: () => getDefault('onlyCountries')\n    },\n    ignoredCountries: {\n      type: Array,\n      default: () => getDefault('ignoredCountries')\n    }\n\n  },\n  setup (props, context) {\n    return {\n      ...useInput(props, context)\n    }\n  },\n  data () {\n    return {\n      phone: '',\n      activeCountry: { iso2: '' },\n      open: false,\n      finishMounted: false,\n      selectedIndex: null,\n      typeToFindInput: '',\n      typeToFindTimer: null,\n      cursorPosition: 0,\n      countryCode: {\n        handler(newValue) {\n        if (newValue && newValue !== this.activeCountry) {\n            this.choose(newValue, true)\n          }\n        },\n        deep: true\n      },\n      lastValidCountry: null,\n\n      data() {\n  return {\n    phone: '',\n    activeCountry: { iso2: '' },\n    open: false,\n    finishMounted: false,\n    selectedIndex: null,\n    typeToFindInput: '',\n    typeToFindTimer: null,\n    cursorPosition: 0,\n    countryCode: null,\n\n    phoneRule: v => {\n      return v\n        ? (PhoneNumber(\n            this.phone || '',\n            this.activeCountry.iso2\n          ).toJSON().valid || 'Geçersiz telefon numarası')\n        : 'Telefon Numarası gerekli'\n    }\n  }\n},\n    }\n  },\n  computed: {\n    parsedMode () {\n      if (this.mode) {\n        if (!['international', 'national'].includes(this.mode)) {\n          console.error('Invalid value of prop \"mode\"')\n        } else {\n          return this.mode\n        }\n      }\n      if (!this.phone || this.phone[0] !== '+') {\n        return 'national'\n      }\n      return 'international'\n    },\n    filteredCountries () {\n      // List countries after filtered\n      if (this.onlyCountries.length) {\n        return this.getCountries(this.onlyCountries)\n      }\n      if (this.ignoredCountries.length) {\n        return this.allCountries.filter(\n          ({ iso2 }) => !this.ignoredCountries.includes(iso2.toUpperCase()) &&\n            !this.ignoredCountries.includes(iso2.toLowerCase())\n        )\n      }\n      return this.allCountries\n    },\n    sortedCountries () {\n      // Sort the list countries: from preferred countries to all countries\n      const preferredCountries = this.getCountries(this.preferredCountries).map(\n        country => ({\n          ...country,\n          preferred: true\n        })\n      )\n      return [...preferredCountries, ...this.filteredCountries]\n    },\n    phoneObject () {\n      // __log('phoneObject', this.input, this.activeCountry.iso2)\n      const result = PhoneNumber(\n        this.phone || '',\n        this.activeCountry.iso2\n      ).toJSON()\n\n      Object.assign(result, {\n        isValid: result.valid,\n        country: this.activeCountry\n      })\n\n      // __log('phoneObject computed', result, getExample(this.activeCountry.iso2).toJSON())\n      // if (result.valid) { __log('phoneObject computed isValid', result) }\n\n      if (!this.phone) {\n        return {\n          ...result,\n          number: {\n            _phone: ''\n          }\n        }\n      }\n      return result\n    },\n    phoneText () {\n      let key = '_phone'\n      // __log('phoneText computed', this.phoneObject)\n      if (this.phoneObject.isValid) {\n        key = this.parsedMode\n      } else {\n        this.boundProps.validate = false\n      }\n      return this.phoneObject.number[key] || ''\n    }\n  },\n  watch: {\n    // eslint-disable-next-line func-names\n    'phoneObject.valid': function (value) {\n      if (value) {\n        this.phone = this.phoneText\n        // Store the last valid country when phone is valid\n        this.lastValidCountry = { ...this.activeCountry }\n      }\n      this.$emit('validate', this.phoneObject)\n      this.$emit('onValidate', this.phoneObject)\n    },\n    modelValue (val, oldValue) {\n      // __log('phone.vue modelValue watch', val, this.modelValue, this.phone)\n      if (__isString(val)) { this.phone = this.modelValue }\n    },\n    open (isDropdownOpened) {\n      // Emit open and close events\n      if (isDropdownOpened) {\n        this.$emit('open')\n      } else {\n        this.$emit('close')\n      }\n    },\n    phone: {\n      handler(newValue, oldValue) {\n        if (newValue) {\n          if (newValue[0] === '+') {\n            // Handle numbers starting with '+'\n            const code = PhoneNumber(newValue).getRegionCode()\n            if (code) {\n              const newCountry = this.findCountry(code)\n              if (newCountry) {\n                this.activeCountry = newCountry\n                this.countryCode = newCountry\n              }\n            }\n          } else {\n            // Try to find matching country for numbers without '+'\n            for (const country of this.sortedCountries) {\n              const phoneObj = PhoneNumber(newValue, country.iso2)\n\n              if (phoneObj.valid) {\n\n                this.activeCountry = country\n                this.countryCode = country\n                break\n              }\n            }\n          }\n        }\n\n        // Preserve cursor position\n        if (oldValue && this.cursorPosition < oldValue.length) {\n          this.$nextTick(() => {\n            setCaretPosition(this.$refs[this.getReference('phoneInput')], this.cursorPosition)\n          })\n        }\n\n        // Update model value\n        this.updateModelValue(this.phoneText)\n      },\n      immediate: true\n    },\n    activeCountry (value) {\n      // __log('activeCountry watch', value)\n      if (value && value.iso2) {\n        this.boundProps.placeholder = getExample(value.iso2).toJSON().number.national\n        this.boundProps.persistentPlaceholder = true\n\n        this.$emit('country-changed', value)\n      }\n    },\n    countryCode (newValue, oldValue) {\n      this.choose(newValue, true)\n    }\n  },\n  mounted () {\n    this.$watch(`$refs.${this.getReference('countryInput')}.isResetting`, v => v && this.reset())\n\n    // Only call reset if we don't have an activeCountry yet\n    if (!this.activeCountry || !this.activeCountry.iso2) {\n      this.reset()\n    }\n  },\n  created() {\n    if (this.modelValue) {\n      this.phone = this.modelValue.trim()\n      // Initialize country from model value if it starts with '+'\n      if (this.phone[0] === '+') {\n        const code = PhoneNumber(this.phone).getRegionCode()\n        if (code) {\n          const initialCountry = this.findCountry(code)\n          if (initialCountry) {\n            this.activeCountry = initialCountry\n            this.countryCode = initialCountry\n          }\n        }\n      }\n    }\n\n    if (!__isset(this.boundProps.rules)) {\n      this.boundProps.rules = []\n    }\n    this.boundProps.rules.push(this.phoneRule)\n  },\n  methods: {\n\n    inputOnSet (newValue, oldValue) {\n      // __log('phone watch', newValue, oldValue)\n      if (newValue || __isString(newValue)) {\n        if (newValue[0] === '+') {\n          const code = PhoneNumber(newValue).getRegionCode()\n          if (code) {\n            this.activeCountry = this.findCountry(code) || this.activeCountry\n          }\n        }\n      }\n      // Reset the cursor to current position if it's not the last character.\n      if (oldValue && this.cursorPosition < oldValue.length) {\n        this.$nextTick(() => {\n          setCaretPosition(this.$refs[this.getReference('phoneInput')], this.cursorPosition)\n        })\n      }\n\n      // this.$emit('input', this.phoneText, this.phoneObject)\n      this.updateModelValue(this.phoneText)\n      // this.updateModelValue(val)\n      // context.emit('update:modelValue', val)\n    },\n    initializeCountry () {\n      return new Promise((resolve) => {\n        /**\n         * 1. If the phone included prefix (+12), try to get the country and set it\n         */\n        if (this.phone && this.phone[0] === '+') {\n          const activeCountry = PhoneNumber(this.input).getRegionCode()\n          if (activeCountry) {\n            this.choose(activeCountry)\n            resolve()\n            return\n          }\n        }\n        /**\n         * 2. Use default country if passed from parent\n         */\n        if (this.defaultCountry) {\n          const defaultCountry = this.findCountry(this.defaultCountry)\n          if (defaultCountry) {\n            this.choose(defaultCountry)\n            resolve()\n            return\n          }\n        }\n        const fallbackCountry = this.findCountry(this.preferredCountries[0]) ||\n          this.filteredCountries[0]\n        /**\n         * 3. Check if fetching country based on user's IP is allowed, set it as the default country\n         */\n        if (!this.disabledFetchingCountry) {\n          getCountry()\n            .then((res) => {\n              if (this.phone === '') {\n                this.activeCountry = this.findCountry(res) || this.activeCountry\n              }\n            })\n            .catch((error) => {\n              console.warn(error)\n              /**\n               * 4. Use the first country from preferred list (if available) or all countries list\n               */\n              this.choose(fallbackCountry)\n            })\n            .finally(() => {\n              resolve()\n            })\n        } else {\n          /**\n           * 4. Use the first country from preferred list (if available) or all countries list\n           */\n          this.choose(fallbackCountry)\n          resolve()\n        }\n      })\n    },\n    /**\n     * Get the list of countries from the list of iso2 code\n     */\n    getCountries (list = []) {\n      return list\n        .map(countryCode => this.findCountry(countryCode))\n        .filter(Boolean)\n    },\n    findCountry (iso = '') {\n      return this.allCountries.find(\n        country => country.iso2 === iso.toUpperCase()\n      )\n    },\n    getItemClass (index, iso2) {\n      const highlighted = this.selectedIndex === index\n      const lastPreferred = index === this.preferredCountries.length - 1\n      const preferred = this.preferredCountries.some(\n        c => c.toUpperCase() === iso2\n      )\n      return {\n        highlighted,\n        'last-preferred': lastPreferred,\n        preferred\n      }\n    },\n    choose(country, toEmitInputEvent = false) {\n      // Set the active country\n      this.activeCountry = country || this.activeCountry || {}\n\n      // Format phone number if we have a country and phone number\n      if (\n        this.phone &&\n        this.phone[0] === '+' &&\n        this.activeCountry.iso2 &&\n        this.phoneObject.number.significant\n      ) {\n        const phoneNumber = PhoneNumber(\n          this.phoneObject.number.significant,\n          this.activeCountry.iso2\n        )\n        if (phoneNumber.valid) {\n          this.phone = phoneNumber.getNumber('international')\n        }\n      } else if (\n        this.inputOptions &&\n        this.inputOptions.showDialCode &&\n        country &&\n        country.dialCode\n      ) {\n        this.phone = `+${country.dialCode}`\n      }\n\n      // Always sync countryCode with activeCountry\n      this.countryCode = this.activeCountry\n\n      if (toEmitInputEvent) {\n        this.$emit('input', this.phoneText, this.phoneObject)\n        this.$emit('onInput', this.phoneObject)\n      }\n    },\n\n    reset() {\n      if (this.activeCountry && this.activeCountry.iso2) {\n        this.countryCode = this.activeCountry\n      }\n\n      this.initializeCountry()\n        .then(() => {\n          if (\n            !this.phone &&\n            this.inputOptions &&\n            this.inputOptions.showDialCode &&\n            this.activeCountry.dialCode\n          ) {\n            this.phone = `+${this.activeCountry.dialCode}`\n          }\n          // Ensure countryCode is synced with activeCountry\n          this.countryCode = this.activeCountry\n          this.$emit('validate', this.phoneObject)\n          this.$emit('onValidate', this.phoneObject)\n        })\n        .catch(console.error)\n        .finally(() => {\n          this.finishMounted = true\n        })\n\n      this.open = false\n    },\n\n    onInput (e) {\n      // this.$refs.input.setCustomValidity(\n      //   this.phoneObject.valid ? \"\" : this.invalidMsg\n      // );\n      // Returns response.number to assign it to v-model (if being used)\n      // Returns full response for cases @input is used\n      // and parent wants to return the whole response.\n      // __log(this.phoneText, this.phoneObject, e, e.target)\n      // this.$emit('input', this.phoneText, this.phoneObject)\n      // this.$emit('onInput', this.phoneObject) // Deprecated\n      // Keep the current cursor position just in case the input reformatted\n      // and it gets moved to the last character.\n      if (e && e.target) {\n        this.cursorPosition = e.target.selectionStart\n      }\n    },\n    onBlur () {\n      this.$emit('blur')\n      this.$emit('onBlur') // Deprecated\n    },\n    onFocus (event) {\n      this.$emit('focus', event)\n    },\n    onClick (event) {\n      this.$emit('click', event)\n    },\n    onChange (value) {\n      this.$emit('change', value)\n    },\n    onMouseUp (event) {\n      this.$emit('mouseup', event)\n    },\n    onMouseDown (event) {\n      this.$emit('mousedown', event)\n    },\n    onKeyDown (event) {\n      this.$emit('keydown', event)\n    },\n    onEnter () {\n      this.$emit('enter')\n      this.$emit('onEnter') // Deprecated\n    },\n    onSpace () {\n      this.$emit('space')\n      this.$emit('onSpace') // Deprecated\n    },\n    focus () {\n      this.$refs[this.getReference('phoneInput')].focus()\n    },\n    toggleDropdown () {\n      if (this.disabled) {\n        return\n      }\n      this.open = !this.open\n    },\n    clickedOutside () {\n      this.open = false\n    },\n    keyboardNav (e) {\n      if (e.keyCode === 40) {\n        // down arrow\n        e.preventDefault()\n        this.open = true\n        if (this.selectedIndex === null) {\n          this.selectedIndex = 0\n        } else {\n          this.selectedIndex = Math.min(\n            this.sortedCountries.length - 1,\n            this.selectedIndex + 1\n          )\n        }\n        const selEle = this.$refs.list.children[this.selectedIndex]\n        if (\n          selEle.offsetTop + selEle.clientHeight >\n          this.$refs.list.scrollTop + this.$refs.list.clientHeight\n        ) {\n          this.$refs.list.scrollTop = selEle.offsetTop -\n            this.$refs.list.clientHeight +\n            selEle.clientHeight\n        }\n      } else if (e.keyCode === 38) {\n        // up arrow\n        e.preventDefault()\n        this.open = true\n        if (this.selectedIndex === null) {\n          this.selectedIndex = this.sortedCountries.length - 1\n        } else {\n          this.selectedIndex = Math.max(0, this.selectedIndex - 1)\n        }\n        const selEle = this.$refs.list.children[this.selectedIndex]\n        if (selEle.offsetTop < this.$refs.list.scrollTop) {\n          this.$refs.list.scrollTop = selEle.offsetTop\n        }\n      } else if (e.keyCode === 13) {\n        // enter key\n        if (this.selectedIndex !== null) {\n          this.choose(this.sortedCountries[this.selectedIndex])\n        }\n        this.open = !this.open\n      } else {\n        // typing a country's name\n        this.typeToFindInput += e.key\n        clearTimeout(this.typeToFindTimer)\n        this.typeToFindTimer = setTimeout(() => {\n          this.typeToFindInput = ''\n        }, 700)\n        // don't include preferred countries so we jump to the right place in the alphabet\n        const typedCountryI = this.sortedCountries\n          .slice(this.preferredCountries.length)\n          .findIndex(c => c.name.toLowerCase().startsWith(this.typeToFindInput))\n        if (typedCountryI >= 0) {\n          this.selectedIndex = this.preferredCountries.length + typedCountryI\n          const selEle = this.$refs.list.children[this.selectedIndex]\n          const needToScrollTop = selEle.offsetTop < this.$refs.list.scrollTop\n          const needToScrollBottom = selEle.offsetTop + selEle.clientHeight >\n            this.$refs.list.scrollTop + this.$refs.list.clientHeight\n          if (needToScrollTop || needToScrollBottom) {\n            this.$refs.list.scrollTop = selEle.offsetTop - this.$refs.list.clientHeight / 2\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n\n<!-- <style src=\"css/sprite.css\"></style> -->\n<style lang=\"scss\">\n  @import 'css/sprite.css';\n  .vti__flag {\n    margin-right: 8px;\n  }\n\n  .vue-tel-input-vuetify {\n    display: flex;\n    align-items: center;\n\n    .country-code {\n      width: 35%;\n    }\n\n    li.last-preferred {\n      border-bottom: 1px solid #cacaca;\n    }\n\n    .v-text-field {\n      .v-select__selections {\n        position: relative;\n        .vti__flag {\n          position: absolute;\n          margin-left: 18px;\n        }\n      }\n      &--outlined {\n        .v-select__selections {\n          .vti__flag {\n            margin-left: auto;\n          }\n        }\n      }\n    }\n    .v-field__input{\n      input{\n        min-width:0 !important\n      }\n    }\n  }\n</style>\n","<template>\n  <v-text-field\n    v-model=\"formattedValue\"\n    v-bind=\"{...$bindAttributes($lodash.pick($attrs, ['label']))}\"\n    ref=\"inputRef\"\n    :rules=\"[]\"\n    >\n    <!-- <slot v-for=\"(_, name) in $slots\" :name=\"name\" :slot=\"name\" /> -->\n    <!-- <template v-for=\"(_, name) in $scopedSlots\" :slot=\"name\" slot-scope=\"slotData\"><slot :name=\"name\" v-bind=\"slotData\" /></template> -->\n    <template v-for=\"(_, name) in $slots\" v-slot:[name]=\"slotData\"><slot :name=\"name\" v-bind=\"slotData\" /></template>\n\n  </v-text-field>\n</template>\n\n<script>\nimport { useCurrencyNumber } from '@/hooks'\n\nexport default {\n  name: 'ue-currency-number',\n  props: {\n    modelValue: Number\n  },\n  setup(props,context) {\n\n    return {\n      ...useCurrencyNumber(props, context)\n    }\n  },\n  created(){\n\n  }\n}\n</script>\n","<template>\n  <template v-for=\"(price,i) in deepModel\" :key=\"`price-${i}`\">\n    <div class=\"d-flex w-100 ga-2\">\n      <CurrencyNumber\n        class=\"flex-grow-1\"\n        v-bind=\"{label, ...$attrs }\"\n        :name=\"`${$attrs['name']}-${i}`\"\n        :modelValue=\"deepModel[i][priceInputName]\"\n        @update:modelValue=\"updateNumberInput($event, i)\"\n        >\n        <template v-slot:append-inner=\"{isActive, isFocused, controlRef, focus, blur}\">\n          <v-chip @click=\"changeCurrency($event, i)\">\n            {{ displayedCurrency[i] }}\n          </v-chip>\n        </template>\n      </CurrencyNumber>\n      <v-select\n        v-show=\"vatRates.length > 0\"\n        v-bind=\"{...$lodash.omit($attrs, ['rules', 'error', 'errorMessages'])}\"\n        :label=\"$t('VAT Rate')\"\n        :items=\"vatRates\"\n        class=\"flex-grow-0\"\n        v-model=\"deepModel[i].vat_rate_id\"\n      />\n    </div>\n    <div v-if=\"vatRates.length > 0\" class=\"w-100 d-flex justify-center\">\n      <v-card\n        class=\"w-75\"\n        color=\"success\"\n        rounded=\"lg\"\n        elevation=\"0\"\n      >\n        <v-card-text class=\"text-center py-6\">\n          <div class=\"text-h6 text-white mb-2\">Total Pay:</div>\n          <div class=\"text-h2 text-white font-weight-bold\">\n            {{ displayedCurrency[i] + ' ' + (deepModel[i].display_price * (1 + $lodash.find(vatRates, ['value', deepModel[i].vat_rate_id])?.rate / 100)).toFixed(2) }}\n          </div>\n        </v-card-text>\n      </v-card>\n    </div>\n  </template>\n</template>\n\n<script>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\nimport CurrencyNumber from '__components/others/CurrencyNumber'\n\nexport default {\n  name: 'v-input-price',\n  emits: [...makeInputEmits],\n  components: {\n    CurrencyNumber\n  },\n  props: {\n    ...makeInputProps(),\n    modelValue: {\n      type: Array,\n      default () {\n        return [\n          {\n            display_price: 1.00,\n            currency_id: 1,\n            vat_rate_id: 1,\n            price_type_id: 1\n          }\n        ]\n      }\n    },\n    priceInputName: {\n      type: String,\n      default: 'display_price'\n    },\n    currencyInputName: {\n      type: String,\n      default: 'currency_id'\n    },\n    numberMultiplier: {\n      type: Number,\n      default: 100\n    },\n    // currencyInputName: {\n    //   type: String,\n    //   default: 'currency_id'\n    // },\n    items: {\n      type: Array\n    },\n    vatRates: {\n      type: Array,\n      default: () => []\n    },\n    rules: {\n      type: Array,\n      default: () => []\n    },\n    error: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (props, context) {\n    const inputHook = useInput(props, context)\n\n\n    // const { modelValue } = toRefs(props)\n    return {\n      ...inputHook\n    }\n  },\n\n  data () {\n    return {\n      deepModel: Array.isArray(this.modelValue)\n        ? this.modelValue.map((item) => {\n            return item\n            return {...item, [this.priceInputName]: item[this.priceInputName] / this.numberMultiplier }\n          })\n        : [this.modelValue]\n    }\n  },\n\n  methods: {\n    changeCurrency (e, index) {\n      const currentIndex = this.currencies.findIndex(o => o.id === this.modelValue[index][this.currencyInputName])\n\n      this.deepModel[index][this.currencyInputName] = currentIndex === this.totalCurrencies - 1 ? this.currencies[0].id : this.currencies[currentIndex + 1].id\n\n      // this.updateModelValue()\n    },\n    updateNumberInput (e, index) {\n      this.deepModel[index][this.priceInputName] = e\n    },\n    updateVatRate (e, index) {\n      this.deepModel[index].vat_rate_id = e\n    },\n    updateModelValue() {\n\n      this.$emit('update:modelValue', this.deepModel.map((item) => {\n        return item\n        return {...item, [this.priceInputName]: item[this.priceInputName] * this.numberMultiplier }\n      }))\n    }\n  },\n\n  watch: {\n    modelValue: {\n      deep: true,\n      handler (newValue, old) {\n        if (newValue) {\n          this.deepModel = Array.isArray(newValue)\n            ? newValue.map((item) => {\n                return item\n                return {...item, [this.priceInputName]: item[this.priceInputName] / this.numberMultiplier }\n              })\n            : [newValue]\n        } else {\n          this.deepModel = [\n            {\n              display_price: 1.00,\n              currency_id: 1\n            }\n          ]\n        }\n      }\n    },\n    deepModel: {\n      deep: true,\n      handler (newValue) {\n\n      }\n    },\n  },\n\n  computed: {\n    currencies () {\n      return this.items\n    },\n    displayedCurrency () {\n      return this.deepModel.map((item, i) => {\n        return this.currencies.find(o => { return o.id === item[this.currencyInputName] }).name\n      })\n    },\n    totalCurrencies () {\n      return this.currencies.length\n    }\n  },\n\n  created () {\n    // __log(this.modelValue)\n    // __log(this.deepModel, this.modelValue)\n    // __log(this.$attrs)\n  }\n}\n</script>\n\n<style lang=\"sass\">\n.v-input-price\n  min-width: 150px\n\n</style>\n","<template>\n  <div>\n    <ue-modal\n      v-if=\"formSchema && processableModel\"\n      ref=\"formModal\"\n      v-model=\"formActive\"\n      scrollablex\n      transition=\"dialog-bottom-transition\"\n      width-type=\"md\"\n      full\n    >\n      <template v-slot:body=\"formModalBodyScope\">\n        <v-card class=\"fill-height d-flex flex-column\">\n          <ue-form\n            ref=\"UeForm\"\n            v-model=\"processableModel\"\n            :schema=\"formSchema\"\n\n            :title=\"title\"\n            :style=\"formModalBodyScope.isFullActive ? 'height: 90vh !important;' : 'height: 70vh !important;'\"\n\n            is-editing\n            fill-height\n            scrollable\n            has-divider\n          />\n\n          <v-divider class=\"mx-6 mt-4\"/>\n\n          <v-card-actions class=\"px-6 flex-grow-0\">\n            <v-spacer></v-spacer>\n            <v-btn-secondary\n              :slim=\"false\"\n              variant=\"outlined\"\n              @click=\"$refs.formModal.close()\"\n            >\n              {{ $t('Close') }}\n            </v-btn-secondary>\n            <v-btn-secondary\n              v-if=\"$store.getters.isSuperAdmin\"\n              :slim=\"false\"\n              variant=\"outlined\"\n              @click=\"UeForm.validate()\"\n            >\n              {{ $t('Validate') }}\n            </v-btn-secondary>\n            <v-btn-primary\n              :slim=\"false\"\n              variant=\"elevated\"\n              @click=\"updateProcessable\"\n              :disabled=\"!formIsValid\"\n              >\n              {{ $t('fields.save') }}\n            </v-btn-primary>\n          </v-card-actions>\n\n        </v-card>\n      </template>\n    </ue-modal>\n\n    <v-card\n      :color=\"processModel?.status_card_color ?? color\"\n      :variant=\"processModel?.status_card_variant ?? cardVariant\"\n      class=\"mb-4 w-100 h-100 d-flex flex-column\"\n    >\n\n      <v-skeleton-loader v-if=\"loading\" type=\"table-heading, list-item-three-line\" class=\"mb-4 w-100 h-100\" style=\"min-height: 300px;\"></v-skeleton-loader>\n\n      <template v-else>\n        <v-card-text>\n\n          <!-- Processable Title -->\n          <ue-list-section\n            class=\"mb-4\"\n            :items=\"[\n              {\n                title: title,\n                value: processModel.status_label,\n              }\n            ]\"\n            :item-fields=\"['title', 'value']\"\n            :col-classes=\"['text-h5 font-weight-medium', 'd-flex justify-end']\"\n            :col-ratios=\"[1,2]\"\n          >\n              <template v-slot:field.1=\"slotScope\">\n                <v-chip\n                  :prepend-icon=\"processModel.status_icon\"\n                  :color=\"processModel.status_color\"\n                  class=\"text-subtitle-1\"\n                >\n                  {{ processModel.status_label }}\n                </v-chip>\n              </template>\n          </ue-list-section>\n\n          <!-- Edit Button -->\n          <v-row v-if=\"$hasRoles(processableEditableRoles)\">\n            <v-col cols=\"12\" class=\"text-center\" v-if=\"formSchema && processableModel\">\n              <v-btn\n                colorx=\"primary\"\n                color=\"\"\n                density=\"compact\"\n                variant=\"outlined\"\n                @click=\"$log('edit', $refs.formModal.open())\"\n                class=\"mb-4\"\n              >\n                {{ $t('Edit') }}\n              </v-btn>\n            </v-col>\n          </v-row>\n\n          <!-- Processable display -->\n          <template v-if=\"processableModel\">\n            <ue-list-section\n              v-for=\"formInput in formSchema\"\n              :key=\"formInput.name\"\n              :items=\"[\n                {\n                  title: formInput.label ?? $t('Unknown'),\n                  value: processableModel?.[formInput.name],\n                }\n              ]\"\n              col-element=\"div\"\n              :item-fields=\"['title', 'value']\"\n              :col-classes=\"['font-weight-medium text-wrap', 'd-flex justify-start']\"\n              item-classes=\"text-body-2\"\n              :col-ratios=\"[1,2]\"\n              vertical-align-top\n            >\n              <template v-slot:field.1=\"slotScope\">\n                <!-- <div class=\"d-flex\" style=\"\"> -->\n                  <ue-filepond-preview\n                    v-if=\"formInput.type === 'input-filepond'\"\n                    :source=\"slotScope.value\"\n                    show-inline-file-name\n                    image-size=\"24\"\n                    style=\"width: 155px;\"\n                  />\n                  <template\n                    v-else\n                    class=\"text-subtitle-1\"\n                  >\n                    {{ slotScope.value }}\n                  </template>\n                <!-- </div> -->\n              </template>\n            </ue-list-section>\n          </template>\n\n          <!-- History -->\n          <ue-list-section\n            v-if=\"processModel.last_history && processModel.last_history.reason\"\n            :items=\"[\n              {\n                title: processModel.status_reason_label,\n                value: processModel.last_history.reason,\n              }\n            ]\"\n            :item-fields=\"['title', 'value']\"\n            :col-classes=\"['font-weight-bold text-wrap', 'd-flex justify-start']\"\n            :col-ratios=\"[1,2]\"\n          >\n          </ue-list-section>\n        </v-card-text>\n\n        <v-spacer></v-spacer>\n\n        <v-card-actions class=\"px-4\" v-if=\"$hasRoles(processEditableRoles)\" >\n          <v-row>\n            <v-col cols=\"12\" class=\"text-center\" v-if=\"processModel && processModel.status\">\n\n              <!-- Preparing -->\n              <template v-if=\"processModel.status === 'preparing' && canAction(processModel.status)\">\n                <v-btn\n                  :color=\"processModel.next_action_color\"\n                  variant=\"elevated\"\n                  :loading=\"updating\"\n                  @click=\"updateProcess('waiting_for_confirmation')\"\n                >\n                  {{ processModel.next_action_label }}\n                </v-btn>\n              </template>\n\n              <!-- Waiting for Confirmation -->\n              <template v-else-if=\"processModel.status.match(/waiting_for_confirmation|waiting_for_reaction/) && canAction(processModel.status)\">\n                <ue-modal\n                  ref=\"promptModal\"\n                  v-model=\"promptModalActive\"\n                  width-type=\"sm\"\n                  transition=\"dialog-bottom-transition\"\n\n                  >\n                  <template v-slot:activator=\"{ props }\">\n                    <v-btn\n                      color=\"error\"\n                      variant=\"outlined\"\n                      class=\"mr-2\"\n                      v-bind=\"props\"\n                    >\n                      <v-icon left>mdi-close</v-icon>\n                    </v-btn>\n                  </template>\n                  <template v-slot:body=\"modalBodyScope\">\n                    <v-card>\n                      <v-card-text>\n                        <v-textarea v-model=\"reason\" variant=\"outlined\" label=\"Reason\" />\n                      </v-card-text>\n                      <v-card-actions>\n                        <v-btn\n                          :slim=\"false\"\n                          color=\"grey\"\n                          variant=\"outlined\"\n                          :disabled=\"updating\"\n                          @click=\"promptModalActive = false\"\n                        >\n                          {{ $t('Close') }}\n                        </v-btn>\n                        <v-btn\n                          color=\"error\"\n                          :slim=\"false\"\n                          variant=\"elevated\"\n                          :disabled=\"!reason\"\n                          :loading=\"updating\"\n                          @click=\"confirmPrompt('rejected')\"\n                        >\n                          {{ $t('Reject') }}\n                        </v-btn>\n                      </v-card-actions>\n                    </v-card>\n                  </template>\n                </ue-modal>\n                <v-btn\n                  color=\"success\"\n                  variant=\"elevated\"\n                  :loading=\"updating\"\n                  @click=\"updateProcess('confirmed')\"\n                >\n                  <v-icon left>mdi-check</v-icon>\n                </v-btn>\n              </template>\n\n              <!-- Rejected -->\n              <template v-else-if=\"processModel.status === 'rejected' && canAction(processModel.status)\">\n                <v-btn\n                  :color=\"processModel.next_action_color\"\n                  variant=\"elevated\"\n                  @click=\"updateProcess('waiting_for_reaction')\"\n                >\n                  {{ processModel.next_action_label }}\n                </v-btn>\n              </template>\n\n            </v-col>\n          </v-row>\n        </v-card-actions>\n\n\n      </template>\n    </v-card>\n\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, toRefs } from 'vue'\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\nimport { ALERT } from '@/store/mutations'\nexport default {\n  name: 'v-input-process',\n  emits: [...makeInputEmits],\n  components: {\n\n  },\n  props: {\n    ...makeInputProps(),\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    cardVariant: {\n      type: String,\n      default: 'outlined',\n    },\n\n    process: {\n      type: Object\n    },\n    processableTitle: {\n      type: String,\n      default: 'name'\n    },\n\n    schema: {\n      type: Object,\n    },\n    formatters: {\n      type: Object,\n      default: () => {}\n    },\n\n    fetchEndpoint: {\n      type: String,\n      required: true,\n    },\n    updateEndpoint: {\n      type: String,\n      required: true,\n    },\n\n    processableEditableRoles: {\n      type: Array,\n      default: () => ['superadmin']\n    },\n    processEditableRoles: {\n      type: Array,\n      default: () => ['superadmin']\n    },\n    actionRoles: {\n      type: Object,\n      default: () => {}\n    },\n\n\n  },\n  setup (props, context) {\n    const initializeInput = (val) => {\n      return val\n    }\n\n    const updateModelValue = (val) => {\n      context.emit('update:modelValue', val)\n    }\n\n    const UeForm = ref(null)\n\n    const formIsValid = computed(() => {\n      return UeForm.value?.validModel ?? null\n    })\n\n    const states = reactive({\n      UeForm,\n      formIsValid,\n    })\n\n    return {\n      ...useInput(props, { ...context, initializeInput, updateModelValue }),\n      ...toRefs(states),\n    }\n  },\n  data: function () {\n    return {\n      loading: this.process ? false : true,\n      updating: false,\n\n      processModel: this.process,\n      processableModel: this?.process?.processable ?? null,\n      reason: '',\n\n      formActive: false,\n      formSchema: this.process ? this.formatSchema() : null,\n\n      promptModalActive: false,\n    }\n  },\n  computed: {\n    title() {\n      return this.$lodash.get(this.processModel.processable, this.processableTitle, '')\n    }\n  },\n  watch: {\n    input: {\n      handler(val, old) {\n\n      },\n      immediate: true\n    },\n    processableModel: {\n      handler(val) {\n\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    setSchema() {\n      this.formSchema = this.formatSchema()\n    },\n    formatSchema() {\n      let schema = {}\n      let processable = this.$lodash.get(this.processModel, 'processable', {});\n\n      if(this.schema && __isObject(this.schema)){\n        schema = this.schema;\n\n        if(this.formatters && __isObject(this.formatters)){\n          for(const [inputName, formatter] of Object.entries(this.formatters)){\n            if(schema[inputName]){\n              for(const [formattedKey, formatterValues] of Object.entries(formatter)){\n\n                if(__isString(formatterValues)){\n                  formatterValues = formatterValues.split(',');\n                }\n\n                let [processableKey, formatterFunction] = formatterValues;\n\n                if(__isset(processable[processableKey])){\n                  let value = processable[processableKey];\n                  if(__isset(value[formatterFunction])){\n                    schema[inputName][formattedKey] = value[formatterFunction];\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return schema;\n    },\n    fetchProcess() {\n      if (this.input > 0 && !this.process) {\n        const endpoint = this.fetchEndpoint.replace(':id', this.input);\n\n        this.loading = true\n\n        const self = this\n\n        axios.get(endpoint).then(response => {\n          self.loading = false\n          self.processModel = response.data\n          self.processableModel = self.processModel?.processable ?? {}\n          self.setSchema()\n        })\n      }\n    },\n    updateProcess(status) {\n      if (this.input) {\n        this.updating = true\n        const endpoint = this.updateEndpoint.replace(':id', this.input);\n\n        const data = {\n          status: status,\n          reason: this.reason\n        }\n\n        const self = this\n        axios.put(endpoint, data).then(response => {\n          self.updating = false\n          self.promptModalActive = false\n          self.reason = ''\n\n          self.$store.commit(ALERT.SET_ALERT, { message: response.data.message, variant: response.data.variant })\n          self.fetchProcess()\n        })\n      }\n    },\n    updateProcessable() {\n\n      if(this.input){\n\n        let payload = {\n          // ...this.processableModel,\n          ...(this.$lodash.omit(this.UeForm.model, ['id']))\n        }\n\n        const endpoint = this.updateEndpoint.replace(':id', this.input);\n\n        const self = this\n\n        axios.put(endpoint, payload).then(response => {\n          if(response.data.variant === 'success'){\n            self.$store.commit(ALERT.SET_ALERT, { message: response.data.message, variant: response.data.variant })\n            if(self.$refs.formModal && typeof self.$refs.formModal.close === 'function'){\n              self.$refs.formModal.close()\n            }\n            self.fetchProcess()\n          }\n        })\n      }\n\n\n    },\n    canAction(status) {\n      return (!this.$isset(this.actionRoles[status]) || this.$hasRoles(this.actionRoles[status]))\n    },\n    confirmPrompt(status) {\n      // this.promptModalActive = false\n      this.updateProcess(status)\n    }\n  },\n  created() {\n    this.fetchProcess()\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  .v-input-process\n    .v-input__control\n      height: 100%\n</style>\n\n<style lang=\"scss\">\n\n</style>\n","<template>\n  <v-radio-group v-model=\"input\" direction=\"horizontal\"  class=\"v-input-radio-group\" hide-details>\n    <ue-title v-if=\"label\" :text=\"label\" color=\"grey-darken-5\" padding=\"b-4\" margin=\"b-0\" transform=\"none\"/>\n    <v-row>\n      <v-col v-for=\"(item, i) in items\" :key=\"`col-${item[itemValue]}`\" :cols=\"12\" :md=\"6\">\n        <v-btn\n          block class=\"v-input-radio-group__btn\"\n          :variant=\"input == item[itemValue] ? 'elevated' : 'outlined'\"\n          @click=\"input=item[itemValue]\"\n          :disabled=\"$attrs.disabled ?? false\"\n        >\n          <template #prepend>\n            <v-radio :value=\"item[itemValue]\" :disabled=\"$attrs.disabled ?? false\"></v-radio>\n          </template>\n          {{ item[itemTitle].toUpperCase() }}\n        </v-btn>\n\n        <div v-if=\"item[descriptionTitle]\" class=\"text-caption pa-2\" v-html=\"item[descriptionTitle]\"></div>\n      </v-col>\n    </v-row>\n  </v-radio-group>\n</template>\n\n<script>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\nimport Checklist from './Checklist.vue'\n\nexport default {\n  name: 'v-input-radio-group',\n  emits: [...makeInputEmits],\n  components: {\n    Checklist\n  },\n  props: {\n    ...makeInputProps(),\n    modelValue: {\n      type: Object,\n      default: () => ''\n    },\n    items: {\n      type: Object,\n      default: () => []\n    },\n    itemTitle: {\n      type: String,\n      default: 'name'\n    },\n    itemValue: {\n      type: String,\n      default: 'id'\n    },\n    descriptionTitle: {\n      type: String,\n      default: 'description'\n    }\n  },\n  setup (props, context) {\n\n    const initializeInput = (val) => {\n      return val\n    }\n    return {\n      ...useInput(props, {...context, ...{initializeInput}})\n    }\n  },\n  data: function () {\n    return {\n\n    }\n  },\n  computed: {\n\n  },\n  watch: {\n\n  },\n  methods: {\n\n  },\n  created() {\n    // __log(this.schema)\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  .v-input-radio-group\n    .v-input__control\n      display: block\n\n\n    .v-input-radio-group__btn\n      padding-left: 4px\n      justify-content: flex-start !important\n\n      .v-btn__content\n        width: 100%\n        white-space: normal\n\n\n</style>\n\n<style lang=\"scss\">\n\n</style>\n","<template>\n  <v-input\n    class=\"v-input-repeater\"\n  >\n    <div class=\"w-100\">\n      <ue-collapsible\n        v-model=\"isOpen\"\n        :no-collapse=\"!collapsible\"\n        no-header-background\n        :horizontal-padding=\"0\"\n        :vertical-padding=\"0\"\n      >\n        <!-- Title -->\n        <template v-slot:title v-if=\"label || subtitle || $slots.title || $slots.append\">\n          <div class=\"d-flex\" v-if=\"(label || subtitle) && (schema.length || Object.keys(schema).length) || $slots.append\">\n            <div class=\"d-flex flex-column\">\n              <ue-title v-if=\"label && (schema.length || Object.keys(schema).length) \" :classes=\"['pl-0 pt-0']\" color=\"grey-darken-5\" transform=\"none\" weight=\"medium\">\n                {{ label }}\n              </ue-title>\n              <ue-title v-if=\"subtitle && (schema.length || Object.keys(schema).length) \" :classes=\"['pl-0 pt-0']\" color=\"grey-darken-5\" transform=\"none\" weight=\"regular\">\n                {{ subtitle }}\n              </ue-title>\n            </div>\n            <slot name=\"append\"></slot>\n          </div>\n        </template>\n        <template v-slot:default>\n          <div class=\"mt-4\">\n            <!-- Headers -->\n            <v-row v-if=\"hasHeaders\" class=\"mb-4\" no-gutters>\n              <v-col v-for=\"header in headers\" :key=\"header.title\" v-bind=\"header.col\">\n                {{ header.title }}\n              </v-col>\n            </v-row>\n            <!-- Draggable -->\n            <div v-if=\"draggable\" :class=\"['v-input-repeater__block v-input-repeater__block--draggable']\">\n              <Draggable\n                class=\"v-input-repeater__content\"\n                v-model=\"repeaterInputs\"\n                item-key=\"id\"\n                v-bind=\"dragOptions\"\n                >\n                <template #item=\"itemSlot\">\n                  <div>\n                    <v-hover>\n                      <template v-slot:default=\"{ isHovering, props }\">\n                        <div :class=\"['v-input-repeater__item', isHovering ? 'active' :'', draggable ? 'draggable': '']\" v-bind=\"props\">\n                          <div :class=\"['v-input-repeater__item--body', {gutter: withGutter}]\">\n                            <div v-if=\"!noToolbar\" class=\"v-input-repeater__item--toolbar\">\n                              <v-btn v-if=\"isAddible\" @click=\"addRepeaterBlock()\" color=\"success\" variant=\"text\" density=\"compact\" class=\"\" icon=\"\">\n                                <v-icon size=\"x-small\" icon=\"mdi-plus\" />\n                              </v-btn>\n                              <v-btn v-if=\"!isUnique\" @click=\"duplicateRepeaterBlock(itemSlot.index)\" variant=\"text\" density=\"compact\" class=\"\" icon=\"\">\n                                <v-icon size=\"x-small\" icon=\"mdi-content-copy\" />\n                              </v-btn>\n                              <v-btn @click=\"deleteRepeaterBlock(itemSlot.index)\" color=\"red\" variant=\"text\" density=\"compact\" class=\"\" icon=\"\">\n                                <v-icon size=\"x-small\" icon=\"$delete\" />\n                              </v-btn>\n                            </div>\n                            <v-custom-form-base\n                              :id=\"`ue-repeater-form-${itemSlot.index}`\"\n                              :modelValue=\"itemSlot.element\"\n                              @update:modelValue=\"onUpdateRepeaterInput($event, itemSlot.index)\"\n                              :schema=\"repeaterSchemas[itemSlot.index]\"\n                              @update:schema=\"console.log(repeaterSchemas[itemSlot.index])\"\n                              :row=\"formRowAttribute\"\n                            >\n                              <!-- <template v-slot:[`slot-top-ue-repeater-form-${itemSlot.index}`]>\n                                <h4 class=\"slot\">\n                                  Top Slot of 'Form'\n                                </h4>\n                              </template> -->\n                              <!-- <template\n                                v-for=\"(input, key) in repeaterSchemas[itemSlot.index]\"\n                                :key=\"key\"\n                                v-slot:[`slot-inject-item-key-ue-repeater-form-${itemSlot.index}-${key}`]=\"selectItemSlot\"\n                                >\n                                <v-list-item v-bind=\"selectItemSlot.props\" :subtitle=\"selectItemSlot.title\"></v-list-item>\n                              </template> -->\n                              <template\n                                v-for=\"(_slot, key) in selectFieldSlots[itemSlot.index]\"\n                                :key=\"key\"\n                                v-slot:[`slot-inject-${_slot.name}-key-ue-repeater-form-${itemSlot.index}-${_slot.inputName}`]=\"_slotData\"\n                                >\n                                <ue-recursive-stuff\n                                  v-for=\"(context, i) in _slot.context.elements\"\n                                  :key=\"i\"\n                                  :configuration=\"context\"\n                                  :bindData=\"_slotData\">\n                                </ue-recursive-stuff>\n                                <!-- <v-list-item v-bind=\"_slotData.props\" :subtitle=\"_slotData.title\"></v-list-item> -->\n                                <!-- <v-list-item v-bind=\"_slotData.props\" subtitle=\"text\"></v-list-item> -->\n                              </template>\n\n                            </v-custom-form-base>\n                          </div>\n                        </div>\n                      </template>\n                    </v-hover>\n                  </div>\n                </template>\n              </Draggable>\n            </div>\n\n            <!-- Static -->\n            <v-row v-else class=\"v-input-repeater__block\" v-bind=\"rowAttribute\">\n              <v-col v-for=\"(item, index) in repeaterInputs\" :key=\"item.id\" v-bind=\"$lodash.pick(formCol, ['cols', 'xs', 'sm', 'md', 'lg', 'xl'])\">\n                <v-hover>\n                  <template v-slot:default=\"{ isHovering, props }\">\n                    <div :class=\"['v-input-repeater__item', isHovering ? 'active' :'', draggable ? 'draggable': '']\" v-bind=\"props\">\n                      <div :class=\"['v-input-repeater__item--body', {gutter: withGutter}]\">\n                        <div v-if=\"!noToolbar\" class=\"v-input-repeater__item--toolbar\">\n                          <v-btn v-if=\"isAddible\" @click=\"addRepeaterBlock()\" color=\"success\" variant=\"text\" density=\"compact\" class=\"\" icon=\"\">\n                            <v-icon size=\"x-small\" icon=\"mdi-plus\" />\n                          </v-btn>\n                          <v-btn v-if=\"!isUnique\" @click=\"duplicateRepeaterBlock(index)\" variant=\"text\" density=\"compact\" class=\"\" icon=\"\">\n                            <v-icon size=\"x-small\" icon=\"mdi-content-copy\" />\n                          </v-btn>\n                          <v-btn @click=\"deleteRepeaterBlock(index)\" color=\"red\" variant=\"text\" density=\"compact\" class=\"\" icon=\"\">\n                            <v-icon size=\"x-small\" icon=\"$delete\" />\n                          </v-btn>\n                        </div>\n                        <v-custom-form-base\n                          :id=\"`ue-repeater-form-${index}`\"\n                          class=\"w-100 h-100\"\n                          :modelValue=\"item\"\n                          @update:modelValue=\"onUpdateRepeaterInput($event, index)\"\n                          :schema=\"repeaterSchemas[index]\"\n                          @update:schema=\"console.log(repeaterSchemas[index])\"\n                          :row=\"formRowAttribute\"\n                        >\n\n                          <template\n                            v-for=\"(_slot, key) in selectFieldSlots[index]\"\n                            :key=\"key\"\n                            v-slot:[`slot-inject-${_slot.name}-key-ue-repeater-form-${index}-${_slot.inputName}`]=\"_slotData\"\n                            >\n                            <ue-recursive-stuff\n                              v-for=\"(context, i) in _slot.context.elements\"\n                              :key=\"i\"\n                              :configuration=\"context\"\n                              :bindData=\"_slotData\">\n                            </ue-recursive-stuff>\n                          </template>\n\n                        </v-custom-form-base>\n                      </div>\n                    </div>\n                  </template>\n                </v-hover>\n              </v-col>\n            </v-row>\n\n            <!-- Bottom Actions -->\n            <div\n              v-if=\"!noAddButton || $slots.addButton || $slots.addButtonRight\"\n              class=\"v-input-repeater__bottom mb-12\"\n            >\n              <div class=\"d-flex\">\n                <slot name=\"addButton\" v-bind=\"{text: addButtonContent, addRepeaterBlock, isActive: addButtonIsActive}\">\n                  <v-btn\n                    v-if=\"!noAddButton && (schema.length || Object.keys(schema).length)\"\n                    variant=\"outlined\"\n                    class=\"\"\n                    :disabled=\"!addButtonIsActive\"\n                    @click=\"addRepeaterBlock\"\n                    appendIcon=\"$add\"\n                    >\n                    {{ addButtonContent }}\n                  </v-btn>\n                </slot>\n                <div class=\"ml-auto\">\n                  <slot name=\"addButtonRight\" v-bind=\"{}\"></slot>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </ue-collapsible>\n\n\n    </div>\n  </v-input>\n</template>\n\n<script>\n  import Draggable from 'vuedraggable'\n\n  import {\n    useDraggable,\n    makeDraggableProps,\n    useRepeater,\n    makeRepeaterProps,\n    makeInputEmits\n  } from '@/hooks'\n\n  export default {\n    name: 'v-input-repeater',\n    emits: [...makeInputEmits],\n    components: {\n      Draggable\n    },\n    props: {\n      ...makeDraggableProps(),\n      ...makeRepeaterProps(),\n      noToolbar: {\n        type: Boolean,\n        default: false\n      },\n      collapsible: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup (props, context) {\n      return {\n        ...useDraggable(props, context),\n        ...useRepeater(props, context)\n      }\n    },\n\n    data () {\n      return {\n        isOpen: true\n      }\n    },\n    computed: {},\n    methods: {},\n    watch: {},\n    created () {\n    }\n  }\n</script>\n\n<style lang=\"sass\" scoped>\n  .v-input-repeater\n    $border-color: $primary-color\n    $border-width: 2px\n    $toolbar-height: 36px\n\n    .v-input-repeater__block\n      // margin-left: -1 * 12 * $spacer\n      .v-input-repeater__content\n        margin-bottom: 20px\n      + .dropdown\n        display: inline-block\n\n      .v-input-repeater__item\n        height: 100%\n        z-index: 1\n        // padding-left: 12 * $spacer\n        // border: 1px solid $color__border\n        // border-top: 0 none\n        position: relative\n        box-sizing: border-box\n        &.draggable\n          cursor: all-scroll\n        &.sortable-ghost\n          opacity: 0.5\n\n        &.active\n          z-index: 3\n          >.v-input-repeater__item--body\n            // border: $border-width solid $border-color\n            >.v-input-repeater__item--toolbar\n              display: flex\n              border-top: $border-width solid $border-color\n              border-left: $border-width solid $border-color\n              border-right: $border-width solid $border-color\n            // border-color: red\n          .v-input-repeater__item--navigation\n            display: block\n\n        .v-input-repeater__item--body\n          height: 100%\n          position: relative\n          border-radius: 4px\n          transition: border 200ms ease\n\n        .v-input-repeater__item--toolbar\n          background: $tertiary-color or #fff\n          border-top-left-radius: 4px\n          border-top-right-radius: 4px\n          z-index: 2\n          position: absolute\n          top: -1 * $toolbar-height\n          // left: -1 * $border-width\n          transition: border 200ms ease\n          height: $toolbar-height\n          box-sizing: border-box\n          display: none\n          align-items: center\n          padding: 0\n          overflow: hidden\n\n      &--draggable\n        margin-left: -1 * 12 * $spacer\n        .v-input-repeater__item\n          padding-left: 12 * $spacer\n\n\n    .v-input-repeater__item--body\n      &.gutter\n        padding: 1.3vw !important\n</style>\n","<template>\n  <component\n    :is=\"componentType\"\n    v-bind=\"$bindAttributes()\"\n\n    v-model=\"input\"\n    :class=\"['v-select-scroll']\"\n    :items=\"elements\"\n    :label=\"label\"\n    @update:search=\"searched\"\n    :no-filter=\"noFilter\"\n    @input.native=\"getItemsFromApi\"\n    :return-object=\"false\"\n  >\n    <template v-slot:append-item>\n      <div v-if=\"lastPage > 0 && lastPage > page\" v-intersect=\"endIntersect\" />\n    </template>\n  </component>\n</template>\n\n<script>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\n\nexport default {\n  name: 'v-input-select-scroll',\n  emits: [...makeInputEmits],\n\n  props: {\n    ...makeInputProps(),\n    componentType: {\n      type: String,\n      default: 'v-autocomplete'\n    },\n    itemsPerPage: {\n      type: Number,\n      default: 20\n    },\n    endpoint: {\n      type: String,\n    }\n  },\n  setup (props, context) {\n    const inputHook = useInput(props, context)\n    return {\n      ...inputHook\n    }\n  },\n  data () {\n    return {\n      page: 1,\n      limit: 100,\n      lastPage: -1,\n      selectedVendorId: null,\n      elements: [],\n      loading: true,\n      search: '',\n      noFilter: this.componentType == 'v-autocomplete' ? true : null\n    }\n  },\n  methods: {\n    endIntersect(entries, observer, isIntersecting) {\n      if (isIntersecting) {\n        this.getItemsFromApi()\n      }\n    },\n    getItemsFromApi (event) {\n\n      if( !(this.page > this.lastPage) || this.lastPage < 0){\n        return new Promise(() => {\n          this.$axios.get(this.fullUrl)\n            .then(response => {\n              if(this.lastPage < 0)\n                this.lastPage = response.data.resource.last_page\n\n              if(this.search == ''){\n                this.elements = this.elements.concat(response.data.resource.data ?? []);\n              }else{\n                this.elements = response.data.resource.data ?? []\n              }\n\n              this.page++;\n\n              if(!!this.input){\n                let searchContinue = false;\n                let self = this\n                if(this.input && this.input.length > 0 && !self.elements.find((o) => o.id == this.input)){\n                  searchContinue = true\n                }\n\n                if(searchContinue)\n                  this.getItemsFromApi()\n              }\n              // if(this.input.length > 0){\n              //   let searchContinue = false;\n              //   let self = this\n              //   this.input.forEach(function(id){\n              //     if(!self.elements.find((o) => o.id == id)){\n              //       searchContinue = true\n              //     }\n              //     return\n              //   })\n\n              //   if(searchContinue)\n              //     this.getItemsFromApi()\n              // }\n            })\n        })\n      }\n    },\n    searched(val) {\n\n      // if( this.input.length > 0 ){\n      if( !!this.input ){\n        if(this.search = ''){\n          this.elements = []\n          this.getItemsFromApi()\n        }else{\n          this.search = ''\n        }\n\n        return\n      }\n\n      this.search = val\n      this.page = 1\n      this.lastPage = -1\n\n      if(this.search == ''){\n        this.elements = []\n      }\n\n      // if(this.input.length > 0 ){\n      //   __log('searched', val, this.input)\n      // }\n\n      this.getItemsFromApi()\n\n    },\n    makeReference (key) {\n      return `${key}-${states.id}`\n    },\n\n  },\n  computed: {\n    input: {\n      get() {\n        return this.modelValue ?? null\n      },\n      set(val, old) {\n        this.updateModelValue(val)\n      }\n    },\n    queryParameters() {\n      let query = new URLSearchParams({\n        page: this.page,\n        itemsPerPage: this.itemsPerPage,\n        ...(!!this.search ? {search: this.search} : {})\n      });\n\n      return query.toString()\n    },\n    fullUrl() {\n      return `${this.endpoint}?${this.queryParameters}`\n    },\n  },\n  created () {\n    this.getItemsFromApi()\n  },\n  watch: {\n\n  }\n}\n</script>\n\n<style lang=\"sass\">\n\n</style>\n","<template>\n  <div>\n  <v-autocomplete\n    v-bind=\"$bindAttributes()\"\n    v-model=\"input\"\n    variant=\"outlined\"\n    clearable\n    closable-chips\n    chips\n    clear-on-select\n    :label=\"label\"\n    :items=\"filteredElements\"\n    multiple\n    @update:model-value=\"handleUpdateModelValue\"\n    @update:search=\"handleSearch\"\n    @change=\"input\"\n  ></v-autocomplete>\n  <v-text-field\n    type=\"hidden\"\n    hidden\n    name=\"tags\"\n    id=\"tags-form-input\">\n  </v-text-field>\n  </div>\n\n\n</template>\n\n<script>\nimport { computed } from 'vue';\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks';\n\nexport default {\n  name: 'v-select-tag',\n  emits: [...makeInputEmits],\n  props: {\n    ...makeInputProps(),\n    endpoint: {\n      type: String\n    },\n    selected: {\n      type: Array\n    }\n  },\n  setup(props, context) {\n    const inputHook = useInput(props, context);\n    return {\n      ...inputHook,\n    };\n  },\n  data() {\n    return {\n      value: this.selected,\n      elements: [],\n      page: 1,\n      lastPage: -1,\n      customElement: null,\n      selectedItems: [], // To keep track of selected items\n    };\n  },\n  methods: {\n    getItemsFromApi(event) {\n      return new Promise(() => {\n        this.$axios.get(this.fullUrl)\n          .then(response => {\n            if (this.lastPage < 0)\n              this.lastPage = response.data.resource.last_page;\n            if (this.search == '') {\n              this.elements = this.elements.concat(response.data.resource.data ?? []);\n            } else {\n              this.elements = response.data.resource.data ?? [];\n            }\n            this.page++;\n\n            if (!!this.input) {\n              let searchContinue = false;\n              let self = this;\n              if (this.input && this.input.length > 0 && !self.elements.find((o) => o.id == this.input)) {\n                searchContinue = true;\n              }\n\n              if (searchContinue)\n                this.getItemsFromApi();\n            }\n          });\n      });\n    },\n    makeReference(key) {\n      return `${key}-${states.id}`;\n    },\n    handleUpdateModelValue(newValue) {\n      this.value = newValue;\n      this.updateModelValue(newValue.toString());\n      document.getElementById('tags-form-input').value = newValue.toString()\n      this.$emit('change', newValue.toString());\n    },\n    handleSearch(value) {\n      // If the search query is empty, only remove the custom element if it's not selected\n      if(!value){\n        return;\n      }\n      if (!value.trim()) {\n        if (this.customElement !== null && !this.selectedItems.includes(this.customElement)) {\n          const index = this.elements.indexOf(this.customElement);\n          if (index !== -1) {\n            this.elements.splice(index, 1);\n          }\n          this.customElement = null;\n        }\n        return;\n      }\n\n      // Convert the Proxy to a regular array if necessary\n      const regularArray = Array.isArray(this.elements) ? this.elements : Array.from(this.elements);\n\n      // Convert search text to lowercase for case-insensitive search\n      const lowerSearchText = value.toLowerCase();\n\n      // Check if the value exists in the array\n      const valueExists = regularArray.some(item =>\n        typeof item === 'string' && item.toLowerCase() === lowerSearchText\n      );\n\n      if (!valueExists) {\n        if (this.customElement !== null) {\n          // Update the existing custom element in the array\n          const index = this.elements.indexOf(this.customElement);\n          if (index !== -1) {\n            this.elements.splice(index, 1, value);\n          }\n        } else {\n          // Add the new value to the array\n          this.elements.push(value);\n          //Create a tag with call\n          //Refetch list\n        }\n        // Update the tracked custom element\n        this.customElement = value;\n      }\n    },\n  },\n  computed: {\n    input: {\n      get() {\n        if (Array.isArray(this.value) && this.value.length > 0) {\n          if (typeof this.value[0] === 'object') {\n            return this.value.map(e => e.value);\n          }\n          return this.value;\n        }\n        return [];\n      },\n      set(val) {\n        this.handleUpdateModelValue(val);\n      }\n    },\n    filteredElements() {\n      return this.elements.filter(element => !this.input.includes(element.id));\n    },\n    queryParameters() {\n      let query = new URLSearchParams({\n        page: this.page,\n      });\n      return query.toString();\n    },\n    fullUrl() {\n      return `${this.endpoint}?${this.queryParameters}`;\n    },\n  },\n  created() {\n    this.getItemsFromApi();\n  },\n  watch: {\n    selected: {\n      handler(newSelected) {\n        this.value = newSelected || [];\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"meta-editor\">\n    <!-- Header Row -->\n    <v-row no-gutters class=\"header-row py-2\">\n      <v-col cols=\"4\">\n        <div class=\"px-3 text-subtitle-1 font-weight-medium\">Key</div>\n      </v-col>\n      <v-col cols=\"4\">\n        <div class=\"px-3 text-subtitle-1 font-weight-medium\">Value</div>\n      </v-col>\n      <v-col cols=\"2\">\n        <div class=\"px-3 text-subtitle-1 font-weight-medium\">Type</div>\n      </v-col>\n      <v-col cols=\"2\">\n        <div class=\"px-3 text-subtitle-1 font-weight-medium\">Actions</div>\n      </v-col>\n    </v-row>\n\n    <!-- Data Rows -->\n    <div\n      class=\"data-rows\"\n      :class=\"['data-rows', { scrollable }]\"\n      :height=\"height\">\n      <v-row\n        v-for=\"(row, index) in localRows\"\n        :key=\"row.key + index\"\n        no-gutters\n        class=\"data-row py-1\"\n      >\n        <!-- Key Field -->\n        <v-col cols=\"4\">\n          <div class=\"px-2\">\n            <!-- <v-text-field\n              v-model=\"row.key\"\n              @input=\"handleKeyChange(index)\"\n              @blur=\"validateKeyOnBlur(index)\"\n              variant=\"outlined\"\n              density=\"compact\"\n              bg-color=\"surface\"\n              :error=\"row.keyError\"\n              :error-messages=\"row.keyErrorMessage\"\n              hide-details=\"auto\"\n              class=\"meta-field\"\n            /> -->\n            <v-text-field\n              v-model=\"row.tempKey\"\n              @input=\"handleTempKeyChange(index)\"\n              @blur=\"syncKeyWithTempKey(index)\"\n              variant=\"outlined\"\n              density=\"compact\"\n              bg-color=\"surface\"\n              :error=\"row.keyError\"\n              :error-messages=\"row.keyErrorMessage\"\n              hide-details=\"auto\"\n              class=\"meta-field\"\n            />\n          </div>\n        </v-col>\n\n        <!-- Value Field -->\n        <v-col cols=\"4\">\n          <div class=\"px-2\">\n            <template v-if=\"row.currentType === 'boolean'\">\n              <v-select\n                v-model=\"row.currentValue\"\n                :items=\"[\n                  { text: 'true', value: true },\n                  { text: 'false', value: false }\n                ]\"\n                item-title=\"text\"\n                item-value=\"value\"\n                variant=\"outlined\"\n                density=\"compact\"\n                bg-color=\"surface\"\n                hide-details\n                class=\"meta-field\"\n                @input=\"handleFieldChange(index)\"\n              />\n            </template>\n            <template v-else>\n              <v-text-field\n                v-model=\"row.currentValue\"\n                :type=\"row.currentType === 'number' ? 'number' : 'text'\"\n                variant=\"outlined\"\n                density=\"compact\"\n                bg-color=\"surface\"\n                hide-details\n                class=\"meta-field\"\n                @input=\"handleFieldChange(index)\"\n              />\n            </template>\n          </div>\n        </v-col>\n\n        <!-- Type Toggle -->\n        <v-col cols=\"2\">\n          <div class=\"px-2\">\n            <v-btn\n              class=\"type-toggle-btn\"\n              variant=\"outlined\"\n              @click=\"toggleType(index)\"\n              :color=\"getTypeColor(row.currentType)\"\n              density=\"comfortable\"\n              block\n            >\n              {{ row.currentType.toUpperCase() }}\n            </v-btn>\n          </div>\n        </v-col>\n\n        <!-- Delete Button -->\n        <v-col cols=\"2\" class=\"d-flex align-center\">\n          <div class=\"px-2\">\n            <v-btn\n              color=\"error\"\n              variant=\"text\"\n              @click=\"deleteRow(index)\"\n              density=\"compact\"\n              icon\n            >\n              <v-icon>mdi-trash-can-outline</v-icon>\n            </v-btn>\n          </div>\n        </v-col>\n      </v-row>\n    </div>\n\n    <!-- Footer Actions -->\n    <v-row no-gutters class=\"mt-4 px-2\">\n      <v-col cols=\"auto\" class=\"mr-2\">\n        <v-btn\n          color=\"primary\"\n          variant=\"text\"\n          prepend-icon=\"mdi-plus\"\n          @click=\"addNewRow\"\n        >\n          Add row\n        </v-btn>\n      </v-col>\n      <v-col cols=\"auto\">\n        <v-btn\n          color=\"primary\"\n          :disabled=\"!hasUnsavedChanges || hasReservedKeyError\"\n          @click=\"saveAllChanges\"\n          prepend-icon=\"mdi-content-save\"\n        >\n          Save All\n        </v-btn>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n<script setup>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\nimport { ref, computed, watch, onMounted } from 'vue'\nimport _ from 'lodash'\n\nconst props = defineProps({\n  ...makeInputProps(),\n  reservedKeys: {\n    type: [Object, Array, Proxy],\n    default: () => ({})\n  },\n  scrollable: {\n    type: Boolean,\n    default: false\n  },\n  height: {\n    type: String,\n    default: '300px'\n  }\n})\n\nconst emit = defineEmits([...makeInputEmits])\n\nconst inputHook = useInput(props, { emit })\n\nconst input = computed({\n  get: () => inputHook.input.value,\n  set: (val) => {\n    inputHook.updateModelValue.value(val)\n  }\n})\n\nconst types = ['string', 'number', 'boolean']\nconst localRows = ref([])\nconst originalJson = ref({})\nconst hasUnsavedChanges = ref(false)\nconst hasReservedKeyError = computed(() => {\n  return localRows.value.some(row => row.keyError)\n})\n\nconst validateKey = (key, index) => {\n  const row = localRows.value[index]\n  const isReserved = Array.isArray(props.reservedKeys)\n    ? props.reservedKeys.includes(key)\n    : key in props.reservedKeys\n\n  if (isReserved) {\n    row.keyError = true\n    row.keyErrorMessage = 'This key is reserved'\n    return false\n  }\n\n  row.keyError = false\n  row.keyErrorMessage = ''\n  return true\n}\n\nonMounted(() => {\n  if (props.modelValue) {\n    originalJson.value = _.cloneDeep(props.modelValue)\n    initializeRows(props.modelValue)\n  }\n})\n\nwatch(() => props.modelValue, (newValue) => {\n  if (!originalJson.value || Object.keys(originalJson.value).length === 0) {\n    originalJson.value = _.cloneDeep(newValue || {})\n    initializeRows(newValue || {})\n  }\n}, { deep: true })\n\nconst filterReservedKeys = () => {\n  // Filter out rows where the key matches any reserved key\n  localRows.value = localRows.value.filter(row => {\n    // Handle case where reservedKeys is an array\n    if (Array.isArray(props.reservedKeys)) {\n      return !props.reservedKeys.includes(row.key)\n    }\n    // Handle case where reservedKeys is an object\n    return !(row.key in props.reservedKeys)\n  })\n\n  // Update the input value after filtering\n  input.value = getCurrentJson()\n  updateHasUnsavedChanges()\n}\n\n\nconst initializeRows = (obj) => {\n  localRows.value = Object.entries(obj || {}).map(([key, value]) => ({\n    key,\n    tempKey: key, // Add tempKey for smoother updates\n    currentValue: value,\n    initialValue: value,\n    originalValue: value,\n    currentType: detectType(value),\n    initialType: detectType(value),\n    originalType: detectType(value),\n    saved: true,\n    valueBeforeTypeChange: value,\n    keyError: false,\n    keyErrorMessage: ''\n  }))\n  filterReservedKeys()\n  updateHasUnsavedChanges()\n}\n\nconst detectType = (value) => {\n  if (typeof value === 'boolean') return 'boolean'\n  if (typeof value === 'number') return 'number'\n  return 'string'\n}\n\nconst handleTempKeyChange = (index) => {\n  const row = localRows.value[index]\n  row.saved = false\n  updateHasUnsavedChanges()\n}\n\nconst syncKeyWithTempKey = (index) => {\n  const row = localRows.value[index]\n  if (row.tempKey !== row.key) {\n    row.key = row.tempKey\n    validateKey(row.key, index)\n    input.value = getCurrentJson()\n  }\n}\n\nconst handleFieldChange = (index) => {\n  const row = localRows.value[index]\n  row.saved = false\n\n  if (row.currentType === 'number') {\n    row.currentValue = Number(row.currentValue) || 0\n  } else if (row.currentType === 'boolean') {\n    if (typeof row.currentValue === 'string') {\n      row.currentValue = row.currentValue.toLowerCase() === 'true' || row.currentValue === '1'\n    }\n  }\n\n  if (!row.savedValues) {\n    row.savedValues = {\n      [row.currentType]: row.currentValue\n    }\n  } else {\n    row.savedValues[row.currentType] = row.currentValue\n  }\n\n  const newState = getCurrentJson()\n  input.value = newState\n  updateHasUnsavedChanges()\n}\n\nconst toggleType = (index) => {\n  const row = localRows.value[index]\n  const currentTypeIndex = types.indexOf(row.currentType)\n  const nextTypeIndex = (currentTypeIndex + 1) % types.length\n  const nextType = types[nextTypeIndex]\n\n  if (row.currentType === row.originalType && !row.valueBeforeTypeChange) {\n    row.valueBeforeTypeChange = row.currentValue\n  }\n\n  if (nextType === row.originalType) {\n    row.currentType = row.originalType\n    row.currentValue = row.originalValue\n  } else {\n    row.currentType = nextType\n    row.currentValue = convertValue(\n      row.originalValue,\n      nextType,\n      row.originalType,\n      row.originalValue\n    )\n  }\n\n  row.saved = false\n  updateHasUnsavedChanges()\n  input.value = getCurrentJson()\n}\n\nconst convertValue = (value, type, originalType = null, originalValue = null) => {\n  if (originalType && type === originalType && originalValue !== null) {\n    return originalValue\n  }\n\n  switch (type) {\n    case 'number':\n      return Number(value) || 0\n    case 'boolean':\n      if (typeof value === 'string') {\n        return value.toLowerCase() === 'true' || value === '1'\n      }\n      if (typeof value === 'number') {\n        return value !== 0\n      }\n      return Boolean(value)\n    case 'string':\n      if (typeof value === 'boolean') {\n        return value ? 'true' : 'false'\n      }\n      return String(value)\n    default:\n      return String(value)\n  }\n}\n\nconst deleteRow = (index) => {\n  localRows.value.splice(index, 1)\n  updateHasUnsavedChanges()\n  input.value = getCurrentJson()\n}\n\nconst addNewRow = () => {\n  const newKey = `key_${localRows.value.length + 1}`\n  localRows.value.push({\n    key: newKey,\n    tempKey: newKey, // Initialize tempKey\n    currentValue: '',\n    initialValue: '',\n    currentType: 'string',\n    initialType: 'string',\n    originalType: 'string',\n    saved: false,\n    valueBeforeTypeChange: '',\n    keyError: false,\n    keyErrorMessage: ''\n  })\n  updateHasUnsavedChanges()\n  input.value = getCurrentJson()\n}\n\nconst updateHasUnsavedChanges = () => {\n  const currentState = getCurrentJson()\n  hasUnsavedChanges.value = !_.isEqual(currentState, originalJson.value)\n}\n\nconst getCurrentJson = () => {\n  const updatedObject = {}\n  localRows.value.forEach(row => {\n    if (row.key && row.currentValue !== undefined) {\n      let finalValue = row.currentValue\n\n      switch (row.currentType) {\n        case 'number':\n          finalValue = Number(row.currentValue) || 0\n          break\n        case 'boolean':\n          if (typeof row.currentValue === 'string') {\n            finalValue = row.currentValue.toLowerCase() === 'true' || row.currentValue === '1'\n          } else if (typeof row.currentValue === 'number') {\n            finalValue = row.currentValue !== 0\n          } else {\n            finalValue = Boolean(row.currentValue)\n          }\n          break\n        case 'string':\n          finalValue = String(row.currentValue)\n          break\n      }\n\n      updatedObject[row.key] = finalValue\n    }\n  })\n  return updatedObject\n}\n\nconst saveAllChanges = () => {\n  const newJson = getCurrentJson()\n  originalJson.value = _.cloneDeep(newJson)\n\n  localRows.value.forEach(row => {\n    row.initialValue = row.currentValue\n    row.initialType = row.currentType\n    row.valueBeforeTypeChange = row.currentValue\n    row.saved = true\n  })\n\n  input.value = newJson\n  hasUnsavedChanges.value = false\n}\n\nconst getTypeColor = (type) => {\n  switch (type) {\n    case 'number':\n      return 'primary'\n    case 'boolean':\n      return 'success'\n    default:\n      return 'default'\n  }\n}\n</script>\n\n\n<style lang=\"scss\">\n.meta-editor {\n  border: 1px solid rgba(0, 0, 0, 0.12);\n  border-radius: 8px;\n  overflow: hidden;\n  .header-row {\n    background-color: rgba(0, 0, 0, 0.02);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  }\n  .scrollable{\n    overflow: auto;\n  }\n\n  .data-row {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n    &:last-child {\n      border-bottom: none;\n    }\n  }\n\n  .meta-field {\n    .v-field__outline {\n      --v-field-border-opacity: 0.12;\n    }\n  }\n\n  .type-toggle-btn {\n    text-transform: none;\n    width: 100%;\n  }\n}\n</style>\n","<template>\n  <v-combobox\n    ref=\"VInput\"\n    v-model=\"input\"\n    :items=\"items\"\n    :loading=\"loading\"\n    :item-value=\"itemValue\"\n    :item-title=\"itemTitle\"\n    :multiple=\"multiple\"\n    @updatex:search=\"handleSearch\"\n    @keydown.enter=\"handleEnter\"\n\n    class=\"v-input-tag\"\n  >\n  </v-combobox>\n</template>\n\n<script>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\nimport { FORM } from '@/store/mutations'\nimport { useStore } from 'vuex'\nimport api from '@/store/api/form'\n\nimport { ref, computed, toRefs, toRef } from 'vue'\n\nexport default {\n  name: 'v-input-tag',\n  emits: [...makeInputEmits],\n  props: {\n    ...makeInputProps(),\n    taggable: {\n      type: String,\n      default: null\n    },\n    items: {\n      type: Array,\n      default: []\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    endpoint: {\n      type: String,\n      required: null\n    },\n    updateEndpoint: {\n      type: String,\n      required: null\n    },\n    itemValue: {\n      type: String,\n      default: 'value'\n    },\n    itemTitle: {\n      type: String,\n      default: 'label'\n    }\n  },\n\n  setup(props, context) {\n    const store = useStore()\n\n    const loading = ref(false)\n\n    if(!store.state.form.taggableItems[props.taggable]) {\n      store.commit(FORM.SET_TAGGABLE_ITEMS, { taggable_type: props.taggable, items: props.items ?? [] })\n    }\n\n    const items = computed(() => {\n      return store.state.form.taggableItems[props.taggable]\n    })\n\n    return {\n      ...useInput(props, context),\n      loading,\n      items,\n    }\n  },\n\n  methods: {\n    async handleEnter() {\n\n      const value = this.input\n\n      if(Array.isArray(value)) return\n      if (!value || this.items.includes(value)) return\n      if (!value || this.items.find(item => item[this.itemValue] === value || item[this.itemTitle] === value)) return\n\n      try {\n        this.loading = true\n        let self = this\n        api.put(this.updateEndpoint, { value: value, taggable: this.taggable }, function(res) {\n          if(res.status === 200) {\n            self.$store.commit(FORM.ADD_TAGGABLE_ITEM, { taggable_type: self.taggable, item: {\n              [self.itemValue]: res.data.id,\n              [self.itemTitle]: value\n            }})\n          }\n\n        })\n        return\n\n      } catch (error) {\n        console.error('Error creating new item:', error)\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  // .v-input-tag\n\n\n</style>\n","<template>\n  <v-input\n    v-model=\"input\"\n    hideDetails=\"auto\"\n    :variant=\"boundProps.variant\"\n    class=\"v-input-tagger\"\n    >\n    <template v-slot:default=\"defaultSlot\">\n      <v-combobox\n        v-bind=\"$lodash.pick(boundProps, ['variant', 'menuProps', 'selectClasses', 'selectLabel', 'dense', 'density', 'color'])\"\n\n        :label=\"label\"\n        hide-selected\n\n        :items=\"items\"\n        :loading=\"loading\"\n        :multiple=\"multiple\"\n\n        :itemValue=\"itemValue\"\n        :itemTitle=\"itemTitle\"\n\n        v-model=\"model\"\n        v-model:search=\"search\"\n        :custom-filter=\"filter\"\n      >\n        <template v-slot:selection=\"{ item, index }\">\n          <v-chip\n            v-if=\"item === Object(item)\"\n            :color=\"`${item.raw.color}-lighten-3`\"\n            :text=\"item.title\"\n            size=\"small\"\n            variant=\"flat\"\n            closable\n            label\n            @click:close=\"removeSelection(index)\"\n          ></v-chip>\n        </template>\n        <template v-slot:item=\"{ props, item }\">\n          <!-- {{ $log(props, item) }} -->\n          <v-list-item v-if=\"item.raw.header && search\">\n            <span class=\"mr-3\">Create</span>\n            <v-chip\n              :color=\"`${colors[nonce - 1]}-lighten-3`\"\n              size=\"small\"\n              variant=\"flat\"\n              label\n            >\n              {{ search }}\n            </v-chip>\n          </v-list-item>\n          <v-list-subheader v-else-if=\"item.raw.header\" :title=\"props.title\"></v-list-subheader>\n          <v-list-item v-else @click=\"props.onClick\">\n            <v-text-field\n              v-if=\"editingItem === item.raw\"\n              v-model=\"editingItem[itemTitle]\"\n              bg-color=\"transparent\"\n              class=\"mr-3\"\n              density=\"compact\"\n              variant=\"plain\"\n              autofocus\n              hide-details\n              @click.stop\n              @keydown.stop\n              @keyup.enter=\"edit(item.raw)\"\n            ></v-text-field>\n            <v-chip\n              v-else\n              :color=\"`${item.raw.color}-lighten-3`\"\n              :text=\"props.title\"\n              variant=\"flat\"\n              label\n            ></v-chip>\n            <template v-slot:append>\n              <v-btn\n                :color=\"editingItem !== item.raw ? 'primary' : 'success'\"\n                :icon=\"editingItem !== item.raw ? 'mdi-pencil' : 'mdi-check'\"\n                size=\"small\"\n                variant=\"text\"\n                @click.stop.prevent=\"edit(item.raw)\"\n              ></v-btn>\n            </template>\n          </v-list-item>\n        </template>\n      </v-combobox>\n    </template>\n  </v-input>\n</template>\n\n<script>\nimport { useInput, makeInputProps, makeInputEmits } from '@/hooks'\n\nexport default {\n  name: 'v-input-tagger',\n  emits: [...makeInputEmits],\n  components: {\n\n  },\n  props: {\n    ...makeInputProps(),\n    items: {\n      type: Array,\n    },\n    multiple: {\n      type: Boolean,\n      default: true,\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    itemValue: {\n      type: String,\n      default: 'id',\n    },\n    itemTitle: {\n      type: String,\n      default: 'name',\n    },\n    fetchEndpoint: {\n      type: String,\n      required: true,\n    },\n    updateEndpoint: {\n      type: String,\n      required: true,\n    },\n    colors: {\n      type: Array,\n      default: () => ['green', 'purple', 'indigo', 'cyan', 'teal', 'orange'],\n    },\n    returnItemValue: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup (props, context) {\n    return {\n      ...useInput(props, context)\n    }\n  },\n  data: function () {\n    return {\n      editingItem: null,\n      nonce: 1,\n      search: null,\n      // items: [\n      //   { header: true, title: 'Select an option or create one' },\n      //   {\n      //     title: 'Foo',\n      //     color: 'blue',\n      //   },\n      //   {\n      //     title: 'Bar',\n      //     color: 'red',\n      //   },\n      // ],\n      model: [],\n    }\n  },\n  computed: {\n    handleKey () {\n      if (this.returnItemValue) {\n        return this.itemValue\n      }\n\n      return this.itemTitle\n    },\n  },\n  watch: {\n    model (val, prev) {\n      if (val.length === prev.length) return\n\n      this.model = val.map(v => {\n        if (typeof v === 'string') {\n          v = {\n            [this.itemTitle]: v,\n            [this.itemValue]: v,\n            color: this.colors[this.nonce % this.colors.length],\n          }\n\n          this.items.push(v)\n\n          this.nonce++\n        }\n\n        return v\n      })\n\n      let newInput = this.model.map(v => v[this.handleKey])\n\n      if (newInput !== this.input) {\n        // __log('newInput', newInput)\n        this.input = newInput\n      }\n    },\n  },\n  methods: {\n    edit (item) {\n      if (!this.editingItem) {\n        this.editingItem = item\n      } else {\n        this.editingItem = null\n      }\n    },\n    filter (value, queryText, item) {\n      const toLowerCaseString = val =>\n        String(val != null ? val : '').toLowerCase()\n\n      const query = toLowerCaseString(queryText)\n\n      const availableOptions = this.items.filter(x => !this.model.includes(x))\n      const hasAnyMatch = availableOptions.some(\n        x => !x.header && toLowerCaseString(x[this.itemTitle]).includes(query)\n      )\n      if (item.raw.header) return !hasAnyMatch\n\n      const text = toLowerCaseString(item.raw[this.itemTitle])\n\n      return text.includes(query)\n    },\n    removeSelection (index) {\n      this.model = [...this.model.slice(0, index), ...this.model.slice(index + 1)]\n    },\n  },\n\n  mounted () {\n    this.model = this.items.reduce((acc, item) => {\n      if (item.header) return acc\n\n      if (this.input.includes(item[this.handleKey])) {\n        acc.push(item)\n      }\n\n      return acc\n    }, [])\n\n  },\n\n  created() {\n\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  .v-input-tagger\n\n\n</style>\n\n<style lang=\"scss\">\n\n</style>\n","/**\n * Media Library\n *\n * Set options for the Media Library and all the medias attached into the form\n */\n\n// import Vue from 'vue'\nimport cloneDeep from 'lodash-es/cloneDeep'\nimport { MEDIA_LIBRARY } from '../mutations'\nimport ACTIONS from '@/store/actions'\n\nconst state = {\n  /**\n   * An object of all crops available for cropper component configuration\n   * @type {Object}\n   */\n  crops: window[import.meta.env.VUE_APP_NAME]?.STORE?.medias.crops || {},\n  /**\n   * Display the file name of images\n   * @type {Object}\n   */\n  showFileName: window[import.meta.env.VUE_APP_NAME]?.STORE?.medias.showFileName || false,\n  /**\n   * Define types available in medias library\n   * @type {Array.<string>}\n   */\n  types: window[import.meta.env.VUE_APP_NAME]?.STORE?.medias.types || [],\n\n  /**\n   * Current type of media library\n   * @type {string}\n   */\n  type: 'image',\n  /**\n   * Connector is used to save media by usage (eg. cover, image, profile...)\n   * @type {string}\n   */\n  connector: null,\n\n  isInserted: false,\n\n  /**\n   * Define the max of medias that can be select from the media libray\n   * @type {number}\n   */\n  max: 0,\n  /**\n   * Define the maximum filesize allowed to attach in a field from the media library\n   * @type {number}\n   */\n  filesizeMax: 0,\n  /**\n   * Define the min image width allowed to attach in a field from the media library\n   * @type {number}\n   */\n  widthMin: 0,\n  /**\n   * Define the min image height allowed to attach in a field from the media library\n   * @type {number}\n   */\n  heightMin: 0,\n  /**\n   * Restrict the media library navigation between type\n   * @type {Boolean}\n   */\n  strict: true,\n  /**\n   * An object of selected medias by usage (connector)\n   * @type {Object.<string,Object>}\n   */\n  selected: window[import.meta.env.VUE_APP_NAME]?.STORE?.medias.selected || {},\n  /**\n   * An object of configs\n   * @type {Object.<string,Object>}\n   */\n  config: window[import.meta.env.VUE_APP_NAME]?.STORE?.medias.config || { useWysiwyg: false, wysiwygOptions: {} },\n  /**\n   * An array of current uploading medias. When upload is ended, array is reset\n   * @type {Array}\n   */\n  loading: [],\n  /**\n   * The progress value of an upload. When upload is ended, this value is reset to 0.\n   * @type {number}\n   */\n  uploadProgress: 0,\n  /**\n   * An index used when mediaLibrary is open to replace a file\n   * @type {number}\n   */\n  indexToReplace: -1,\n\n  showModal: window[import.meta.env.VUE_APP_NAME]?.STORE?.medias.openModal || false\n}\n\n// getters\nconst getters = {\n  mediasByBlockId: (state) => (id) => {\n    const ids = Object.keys(state.selected).filter(key => key.startsWith(`blocks[${id}]`))\n    const medias = {}\n    ids.forEach(id => (medias[id] = state.selected[id]))\n    return medias\n  }\n}\n\nconst mutations = {\n  [MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL] (state, type) {\n    state.types = state.types.map(t => {\n      if (t.value === type.type) t.total = type.total\n      return t\n    })\n  },\n  [MEDIA_LIBRARY.UPDATE_REPLACE_INDEX] (state, index) {\n    state.indexToReplace = index\n  },\n  [MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL] (state, type) {\n    state.types = state.types.map(t => {\n      if (t.value === type) t.total = t.total + 1\n      return t\n    })\n  },\n  [MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL] (state, type) {\n    state.types = state.types.map(t => {\n      if (t.value === type) t.total = t.total - 1\n      return t\n    })\n  },\n  [MEDIA_LIBRARY.UPDATE_MEDIAS] (state, { mediaRole, index, media }) {\n    state.selected[mediaRole][index] = media\n    // Vue.set(\n    //   state.selected[mediaRole],\n    //   index,\n    //   media\n    // )\n  },\n  [MEDIA_LIBRARY.SAVE_MEDIAS] (state, medias) {\n    // __log(\n    //   medias,\n    //   state.connector,\n    //   state.indexToReplace,\n    //   state.selected\n    // )\n    // return\n    if (state.connector) {\n      const key = state.connector\n      const existedSelectedConnector = state.selected[key] && state.selected[key].length\n      if (existedSelectedConnector && state.indexToReplace > -1) {\n        // Replace mode\n        state.selected[key].splice(state.indexToReplace, 1, cloneDeep(medias[0]))\n      } else if (existedSelectedConnector) {\n        // Add mode\n        medias.forEach(function (media) {\n          state.selected[key].push(cloneDeep(media))\n        })\n      } else {\n        // Create mode\n        const newMedias = {}\n        newMedias[key] = medias\n        state.selected = Object.assign({}, state.selected, newMedias)\n      }\n\n      state.indexToReplace = -1\n    }\n  },\n  [MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA] (state, media) {\n    __log(\n      media.name,\n      state.selected\n    )\n    // if (state.selected[media.name]) {\n    //   state.selected[media.name].splice(media.index, 1)\n    //   if (state.selected[media.name].length === 0) delete state.selected[media.name]\n    // }\n\n    // state.connector = null\n  },\n  [MEDIA_LIBRARY.DESTROY_MEDIAS] (state, connector) {\n    if (state.selected[connector]) delete state.selected[connector]\n\n    state.connector = null\n  },\n  [MEDIA_LIBRARY.REORDER_MEDIAS] (state, newValues) {\n    const newMedias = {}\n    newMedias[newValues.name] = newValues.medias\n    state.selected = Object.assign({}, state.selected, newMedias)\n  },\n  [MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA] (state, media) {\n    const mediaToUpdate = state.loading.filter((m) => m.id === media.id)\n    // Update existing form field\n    if (mediaToUpdate.length) {\n      mediaToUpdate[0].error = false\n      mediaToUpdate[0].progress = media.progress\n    } else {\n      state.loading.unshift({\n        id: media.id,\n        name: media.name,\n        progress: media.progress,\n        replacementId: media.replacementId,\n        isReplacement: media.isReplacement\n      })\n    }\n  },\n  [MEDIA_LIBRARY.PROGRESS_UPLOAD] (state, uploadProgress) {\n    state.uploadProgress = uploadProgress\n  },\n  [MEDIA_LIBRARY.DONE_UPLOAD_MEDIA] (state, media) {\n    state.loading.forEach(function (m, index) {\n      if (m.id === media.id) state.loading.splice(index, 1)\n    })\n  },\n  [MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA] (state, media) {\n    state.loading.forEach(function (m, index) {\n      if (m.id === media.id) {\n        state.loading[index].progress = 0\n        state.loading[index].error = true\n        state.loading[index].errorMessage = media.errorMessage\n        // Vue.set(state.loading[index], 'progress', 0)\n        // Vue.set(state.loading[index], 'error', true)\n        // Vue.set(state.loading[index], 'errorMessage', media.errorMessage)\n      }\n    })\n  },\n  [MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR] (state, newValue) {\n    if (newValue && newValue !== '') state.connector = newValue\n    else state.connector = null\n  },\n  [MEDIA_LIBRARY.UPDATE_IS_INSERTED] (state, newValue) {\n    state.isInserted = newValue\n  },\n\n  [MEDIA_LIBRARY.UPDATE_MEDIA_MODE] (state, newValue) {\n    state.strict = newValue\n  },\n  [MEDIA_LIBRARY.UPDATE_MEDIA_TYPE] (state, newValue) {\n    if (newValue && newValue !== '') state.type = newValue\n  },\n  [MEDIA_LIBRARY.RESET_MEDIA_TYPE] (state) {\n    // __log(state)\n    state.type = state.types[0].value\n  },\n  [MEDIA_LIBRARY.UPDATE_MEDIA_MAX] (state, newValue) {\n    state.max = Math.max(0, newValue)\n  },\n  [MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX] (state, newValue) {\n    state.filesizeMax = Math.max(0, newValue)\n  },\n  [MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN] (state, newValue) {\n    state.widthMin = Math.max(0, newValue)\n  },\n  [MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN] (state, newValue) {\n    state.heightMin = Math.max(0, newValue)\n  },\n  [MEDIA_LIBRARY.SET_MEDIA_METADATAS] (state, metadatas) {\n    const connector = metadatas.media.context\n    const medias = state.selected[connector]\n    const newValue = metadatas.value\n\n    // Save all the custom metadatas here (with or wthout localization)\n    function setMetatadas (mediaToModify) {\n      if (newValue.locale) {\n        // if multi language we will fill an object\n        if (!mediaToModify.metadatas.custom[newValue.id]) {\n          mediaToModify.metadatas.custom[newValue.id] = {}\n        }\n\n        mediaToModify.metadatas.custom[newValue.id][newValue.locale] = newValue.value\n      } else {\n        mediaToModify.metadatas.custom[newValue.id] = newValue.value\n      }\n\n      return mediaToModify\n    }\n\n    if (metadatas.media.hasOwnProperty('index')) {\n      const media = setMetatadas(cloneDeep(medias[metadatas.media.index]))\n      medias[metadatas.media.index] = media\n    //   Vue.set(medias, metadatas.media.index, media)\n    }\n  },\n  [MEDIA_LIBRARY.DESTROY_MEDIA_CONNECTOR] (state) {\n    state.connector = null\n  },\n  [MEDIA_LIBRARY.SET_MEDIA_CROP] (state, crop) {\n    const key = crop.key\n    const index = crop.index\n    const media = state.selected[key][index]\n\n    function addCrop (mediaToModify) {\n      if (!mediaToModify.crops) mediaToModify.crops = {}\n\n      // save all the crop variants to the media\n      for (const variant in crop.values) {\n        const newValues = {}\n        newValues.name = crop.values[variant].name || variant\n        newValues.x = crop.values[variant].x\n        newValues.y = crop.values[variant].y\n        newValues.width = crop.values[variant].width\n        newValues.height = crop.values[variant].height\n\n        mediaToModify.crops[variant] = newValues\n      }\n\n      return mediaToModify\n    }\n\n    const newMedia = addCrop(cloneDeep(media))\n\n    state.selected[key][index] = newMedia\n    // Vue.set(state.selected[key], index, newMedia)\n  },\n  [MEDIA_LIBRARY.ADD_MEDIAS] (state, { medias }) {\n    state.selected = Object.assign({}, state.selected, medias)\n  }\n}\n\nconst actions = {\n  async [ACTIONS.DUPLICATE_BLOCK] ({ commit, getters }, { block, id }) {\n    // copy medias and update with the provided id\n    const medias = { ...getters.mediasByBlockId(block.id) }\n    const mediaIds = Object.keys(medias)\n    const duplicates = {}\n    mediaIds.forEach(mediaId => (duplicates[mediaId.replace(block.id, id)] = [...medias[mediaId]]))\n\n    commit(MEDIA_LIBRARY.ADD_MEDIAS, { medias: duplicates })\n  }\n\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n","import { ALERT } from '../mutations'\n\nconst state = {\n  success: null,\n  info: null,\n  warning: null,\n  error: null,\n\n  show: false,\n  type: 'info',\n  message: null,\n  location: 'bottom',\n\n  dialog: false,\n  dialogMessage: null,\n\n}\n\n// getters\nconst getters = {\n  notifByVariant: state => {\n    return variant => state[variant]\n  },\n  notified: state => {\n    return Object.keys(state).filter(key => state[key] !== null).length === 0\n  }\n}\n\nconst mutations = {\n  [ALERT.SET_ALERT_SHOW] (state, show) {\n    state.show = show\n  },\n  [ALERT.SET_ALERT] (state, alert) {\n    state.type = alert.variant ?? state.type\n    state.location = alert.location ?? state.location\n    state.message = alert.message ?? null\n\n    state.show = true\n  },\n  [ALERT.CLEAR_ALERT] (state, variant) {\n    state.show = false\n    state.type = 'info'\n    state.message = null\n  },\n\n  [ALERT.SET_DIALOG_SHOW] (state, show) {\n    state.dialog = show\n  },\n  [ALERT.SET_DIALOG] (state, dialog) {\n    state.dialogMessage = dialog.message ?? null\n    state.dialog = true\n  },\n  [ALERT.CLEAR_DIALOG] (state) {\n    state.dialog = false\n    state.dialogMessage = null\n  },\n}\n\nexport default {\n  state,\n  getters,\n  mutations\n}\n","import { USER } from '../mutations'\n\n\nconst state = {\n  locale: window[import.meta.env.VUE_APP_NAME]?.LOCALE ?? 'en',\n  timezone: window[import.meta.env.VUE_APP_NAME]?.TIMEZONE ?? 'Europe/London',\n  authorization: window[import.meta.env.VUE_APP_NAME]?.AUTHORIZATION ?? {},\n\n  profileDialog: false,\n  profile: window[import.meta.env.VUE_APP_NAME]?.STORE?.user?.profile ?? {},\n  profileRoute: window[import.meta.env.VUE_APP_NAME]?.STORE?.user?.profileRoute ?? '',\n  profileShortcutModel: window[import.meta.env.VUE_APP_NAME]?.STORE?.user?.profileShortcutModel ?? {},\n  profileShortcutSchema: window[import.meta.env.VUE_APP_NAME]?.STORE?.user?.profileShortcutSchema ?? {}\n}\n\nconst getters = {\n  userProfile: state => {\n    return state.profile\n  },\n  isSuperAdmin: state => {\n    return state.authorization.isSuperAdmin ?? false\n  },\n  isClient: state => {\n    return state.authorization.isClient ?? false\n  },\n  userLocale: state => {\n    return state.locale\n  },\n  hasRestorable: state => {\n    return state.authorization.hasRestorable ?? false\n  },\n  hasBulkable: state => {\n    return state.authorization.hasBulkable ?? false\n  },\n  userPermissions: state => {\n    return state.authorization.permissions ?? []\n  },\n  userRoles: state => {\n    return state.authorization.roles ?? []\n  }\n}\n\nconst actions = {\n\n}\n\nconst mutations = {\n  [USER.SET_PROFILE_DATA] (state, data) {\n    state.profile = data\n  },\n}\n\nexport default {\n  // namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","/**\n * Language\n *\n * Switch between languages\n * Publish, unpublish languages\n */\n\nimport { LANGUAGE } from '../mutations'\n\nconst state = {\n  /**\n   * Array of all the languages available\n   * @type {Array.Object}\n   */\n  all: window[import.meta.env.VUE_APP_NAME]?.STORE.languages.all || [],\n  /**\n   * Array of all the languages available (initial value (not to be modified))\n   * @type {Array.Object}\n   */\n  initialAll: window[import.meta.env.VUE_APP_NAME]?.STORE.languages.all || [],\n  /**\n   * The language you are currently editing\n   * @type {Object}\n   */\n  active: window[import.meta.env.VUE_APP_NAME]?.STORE.languages.active || window[import.meta.env.VUE_APP_NAME]?.STORE.languages.all[0] || {}\n}\n\n// getters\nconst getters = {\n  publishedLanguages: state => {\n    return state.all.filter(language => language.published)\n  }\n}\n\nconst mutations = {\n  [LANGUAGE.SWITCH_LANG] (state, { oldValue }) {\n    function isMatchingLocale (language) {\n      return language.value === oldValue.value\n    }\n\n    const index = state.all.findIndex(isMatchingLocale)\n    const newIndex = index < (state.all.length - 1) ? (index + 1) : 0\n\n    state.active = state.all[newIndex]\n  },\n\n  [LANGUAGE.UPDATE_LANG] (state, newValue) {\n    function isMatchingLocale (language) {\n      return language.value === newValue\n    }\n\n    const index = state.all.findIndex(isMatchingLocale)\n    state.active = state.all[index]\n  },\n\n  [LANGUAGE.PUBLISH_LANG] (state, publishedValues) {\n    state.all.forEach(function (language) {\n      language.published = !!publishedValues.includes(language.value)\n    })\n  },\n\n  [LANGUAGE.PUBLISH_SINGLE_LANG] (state, newValue) {\n    function isMatchingLocale (language) {\n      return language.value === newValue\n    }\n\n    const index = state.all.findIndex(isMatchingLocale)\n    state.all[index].published = !state.all[index].published\n  },\n  [LANGUAGE.REPLACE_LANGUAGES] (state, newValue) {\n    state.all = newValue\n  },\n  [LANGUAGE.RESET_LANGUAGES] (state) {\n    state.all = state.initialAll\n  }\n}\n\nexport default {\n  state,\n  getters,\n  mutations\n}\n","// import Vue from 'vue'\nimport { BROWSER } from '../mutations'\nimport ACTIONS from '@/store/actions'\n\nconst state = {\n  connector: null,\n  title: 'Attach related resources',\n  note: '',\n  endpoint: '',\n  endpointName: '',\n  endpoints: [],\n  max: 0,\n  selected: window[import.meta.env.VUE_APP_NAME]?.STORE.browser.selected || {}\n}\n\n// getters\nconst getters = {\n  selectedItemsByIds: state => {\n    const arrayOfIds = []\n\n    for (const name in state.selected) {\n      arrayOfIds[name] = state.selected[name].map((item) => `${item.endpointType}_${item.id}`)\n    }\n\n    return arrayOfIds\n  },\n  browsersByBlockId: (state) => (id) => {\n    const ids = Object.keys(state.selected).filter(key => key.startsWith(`blocks[${id}]`))\n    const browsers = {}\n    ids.forEach(id => (browsers[id] = state.selected[id]))\n    return browsers\n  }\n}\n\nconst mutations = {\n  [BROWSER.SAVE_ITEMS] (state, items) {\n    if (state.connector) {\n      if (state.selected[state.connector] && state.selected[state.connector].length) {\n        // items.forEach(function (item) {\n        //   state.selected[state.connector].push(item)\n        // })\n        state.selected[state.connector] = items\n      } else {\n        const newItems = {}\n        newItems[state.connector] = items\n        state.selected = Object.assign({}, state.selected, newItems)\n      }\n    }\n  },\n  [BROWSER.DESTROY_ITEMS] (state, itemToDestroy) {\n    if (state.selected[itemToDestroy.name]) {\n      // Vue.delete(state.selected, itemToDestroy.name)\n    }\n  },\n  [BROWSER.DESTROY_ITEM] (state, itemToDestroy) {\n    if (state.selected[itemToDestroy.name]) {\n      state.selected[itemToDestroy.name].splice(itemToDestroy.index, 1)\n\n      // if (state.selected[itemToDestroy.name].length === 0) Vue.delete(state.selected, itemToDestroy.name)\n\n      state.connector = null\n    }\n  },\n  [BROWSER.REORDER_ITEMS] (state, newValues) {\n    const newItems = {}\n    newItems[newValues.name] = newValues.items\n    state.selected = Object.assign({}, state.selected, newItems)\n  },\n  [BROWSER.UPDATE_BROWSER_MAX] (state, newValue) {\n    state.max = Math.max(0, newValue)\n  },\n  [BROWSER.UPDATE_BROWSER_CONNECTOR] (state, newValue) {\n    if (newValue && newValue !== '') state.connector = newValue\n  },\n  [BROWSER.UPDATE_BROWSER_TITLE] (state, newValue) {\n    if (newValue && newValue !== '') state.title = newValue\n  },\n  [BROWSER.UPDATE_BROWSER_NOTE] (state, newValue) {\n    state.note = newValue\n  },\n  [BROWSER.DESTROY_BROWSER_CONNECTOR] (state) {\n    state.connector = null\n  },\n  [BROWSER.UPDATE_BROWSER_ENDPOINT] (state, newValue) {\n    if (newValue && newValue !== '') {\n      state.endpoint = newValue.value\n      state.endpointName = newValue.label || ''\n    }\n  },\n  [BROWSER.DESTROY_BROWSER_ENDPOINT] (state) {\n    state.endpoint = ''\n    state.endpointName = ''\n  },\n  [BROWSER.UPDATE_BROWSER_ENDPOINTS] (state, endpoints) {\n    if (!endpoints && !endpoints.length > 0) return\n    state.endpoints = endpoints\n    state.endpoint = endpoints[0].value\n    state.endpointName = endpoints[0].label\n  },\n  [BROWSER.DESTROY_BROWSER_ENDPOINTS] (state) {\n    state.endpoints = []\n  },\n  [BROWSER.ADD_BROWSERS] (state, { browsers }) {\n    state.selected = Object.assign({}, state.selected, browsers)\n  }\n}\n\nconst actions = {\n  async [ACTIONS.DUPLICATE_BLOCK] ({ commit, getters }, { block, id }) {\n    // copy browsers and update with the provided id\n    const browsers = { ...getters.browsersByBlockId(block.id) }\n    const browserIds = Object.keys(browsers)\n    const duplicates = {}\n    browserIds.forEach(browserId => (duplicates[browserId.replace(block.id, id)] = [...browsers[browserId]]))\n\n    commit(BROWSER.ADD_BROWSERS, { browsers: duplicates })\n  }\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n","import { CONFIG } from '../mutations'\n\nconst state = {\n  isHot: window[import.meta.env.VUE_APP_NAME]?.STORE.ambient.isHot ?? false,\n  appEnv: window[import.meta.env.VUE_APP_NAME]?.STORE.ambient.appEnv ?? '',\n  appName: window[import.meta.env.VUE_APP_NAME]?.STORE.ambient.appName ?? '',\n  appEmail: window[import.meta.env.VUE_APP_NAME]?.STORE.ambient.appEmail ?? '',\n  appDebug: window[import.meta.env.VUE_APP_NAME]?.STORE.ambient.appDebug ?? false,\n\n  test: window[import.meta.env.VUE_APP_NAME]?.STORE.ambient.test ?? false,\n  systemPackageVersions: window[import.meta.env.VUE_APP_NAME]?.STORE.ambient.systemPackageVersions ?? {},\n}\n\n// getters\nconst getters = {\n  isHot: state => {\n    return state.isHot\n  },\n  appName: state => {\n    return state.appName\n  },\n  appEmail: state => {\n    return state.appEmail\n  },\n  appEnv: state => {\n    return state.appEnv\n  },\n  appDebug: state => {\n    return state.appDebug\n  },\n  versions: state => {\n    return state.systemPackageVersions\n  },\n}\n\nconst mutations = {\n\n}\n\nexport default {\n  state,\n  getters,\n  mutations\n}\n","import { createStore } from 'vuex'\n\nimport mediaLibrary from './modules/media-library'\nimport alert from './modules/alert'\nimport config from './modules/config'\nimport user from './modules/user'\nimport language from './modules/language'\nimport browser from './modules/browser'\nimport ambient from './modules/ambient'\n\nexport default createStore({\n  modules: {\n    ambient,\n    user,\n    alert,\n    config,\n    language,\n    mediaLibrary,\n    browser\n  }\n\n})\n// export default new Vuex.Store({\n//     modules\n// });\n","// import 'bootstrap';\n\nimport axios from 'axios'\nimport jquery from 'jquery'\nimport lodash, { snakeCase } from 'lodash-es'\nimport pluralize from 'pluralize'\nimport moment from 'moment'\nimport { useI18n } from 'vue-i18n'\n\nimport store from '@/store' // Adjust the import based on your store structure\nimport { CONFIG } from '@/store/mutations'\nimport { addParametersToUrl, replaceState } from '@/utils/pushState'\n\n/**\n * We'll load the axios HTTP library which allows us to easily issue requests\n * to our Laravel back-end. This library automatically handles sending the\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\n */\n\n/*\n |--------------------------------------------------------------------------\n | Global Helper Definitions\n |--------------------------------------------------------------------------\n |\n | Global js functions are defined here.\n | Functions will be defined with '__' prefix as a unusual enterprise's standard\n |\n */\n function assignBOMHElpers(){\n  window.__log = console.log\n\n  window.__isString = (value) => {\n    return (Object.prototype.toString.call(value) === '[object String]')\n  }\n\n  window.__isBoolean = (value) => {\n    return typeof value == \"boolean\"\n  }\n\n  window.__isNumber = (value) => {\n    return !isNaN(value)\n  }\n\n  window.__isObject = (value) => {\n    return Object.prototype.toString.call(value) === '[object Object]'\n  },\n  window.__isArray = (value) => {\n    return Array.isArray(value)\n  }\n\n  window.__isset = (...args) => {\n    // !No description available for isset. @php.js developers: Please update the function summary text file.\n    //\n    // version: 1103.1210\n    // discuss at: http://phpjs.org/functions/isset\n    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   improved by: FremyCompany\n    // +   improved by: Onno Marsman\n    // +   improved by: Rafał Kukawski\n    // *     example 1: isset( undefined, true);\n    // *     returns 1: false\n    // *     example 2: isset( 'Kevin van Zonneveld' );\n    // *     returns 2: true\n    const a = args\n    const l = a.length\n    let i = 0\n    let undef\n\n    if (l === 0) {\n      throw new Error('Empty isset')\n    }\n\n    while (i !== l) {\n      if (a[i] === undef || a[i] === null) {\n        return false\n      }\n      i++\n    }\n    return true\n  }\n  window.__issetReturn = (arg, defaultValue) => {\n    return __isset(arg) ? arg : defaultValue\n  }\n\n  window.__getMethods = (obj) => Object.getOwnPropertyNames(obj).filter(item => typeof obj[item] === 'function')\n\n  window.__globalizeMethods = (input) => {\n    if (Array.isArray(input)) {\n      input.forEach(function (obj) {\n        __getMethods(obj).forEach(function (v) {\n          window[v] = obj[v]\n        })\n      })\n    } else if (__isObject(input)) {\n      __getMethods(obj).forEach(function (v) {\n        window[v] = obj[v]\n      })\n    }\n  }\n\n  window.__responseHandler = (response) => {\n    if (__isset(response.data.errors)) {\n      return {\n        status: false,\n        text: errorHandler(response.data.errors)\n      }\n    } else {\n      return {\n        status: true,\n        data: response.data.data\n      }\n    }\n  }\n\n  /**\n   * @param  {} errors\n   * !danger, does not work\n   * TODO make it work\n   */\n  window.__errorHandler = (errors) => {\n    let rows = ''\n    Object.keys(errors).forEach((key, i) => {\n      rows += `\n              <tr>\n                  <td> <strong> ${capitalCase(key)} </strong> </td>\n                  <td>\n                      ${errors[key].join('</br>')}\n                  </td>\n              </tr>\n          `\n    })\n\n    const html = `\n      <table> \\\n         <tbody> \\\n          ${rows} \\\n         </tbody> \\\n      </table>`\n\n    return html\n  }\n\n  window.__functionDefinition = (func) => {\n    return Function.prototype.toString.call(func)\n  }\n\n  window.__convertArrayOrObject = (el, key = null) => {\n    if (__isObject(el)) {\n      const object = {}\n      Object.keys(el).forEach((key) => {\n        object[key] = __convertArrayOrObject(el[key], key)\n      })\n      return object\n    } else if (Array.isArray(el)) {\n      const array = []\n      el.forEach((item) => {\n        array.push(__convertArrayOrObject(item))\n      })\n      return array\n    } else if (typeof el === 'function') {\n      let string = __functionDefinition(el)\n\n      if (key) {\n        string = string.replace(key + '(', 'function (')\n      }\n      return string\n    } else if (el instanceof RegExp) {\n      return el.toString()\n    } else {\n      return el\n    }\n  }\n\n  window.__printDefinition = (variable) => {\n    // return  __convertArrayOrObject(variable);\n    return JSON.stringify(__convertArrayOrObject(variable))\n  }\n\n  window.__shorten = (string, maxLength = 40) => {\n    // return  __convertArrayOrObject(variable);\n    return string.length > maxLength ? string.substring(0, maxLength) + '...' : string\n  }\n\n  window.__preg_quote = (str, delimeter = '') => {\n    return (str + '').replace(new RegExp('[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\' + '-]', 'g'), '\\\\$&');\n  }\n\n  window.__extract = (obj) => {\n    for (var key in obj) {\n      window[key] = obj[key];\n    }\n  }\n\n  window.__dot = (obj, prefix = '') => {\n    return Object.keys(obj).reduce((acc, key) => {\n      const newKey = prefix ? `${prefix}.${key}` : key;\n\n      if (typeof obj[key] === 'object' && obj[key] !== null && !Array.isArray(obj[key])) {\n        Object.assign(acc, __dot(obj[key], newKey));\n      } else {\n        acc[newKey] = obj[key];\n      }\n\n      return acc;\n    }, {});\n  }\n\n  window.__reverseDot = (flatObj) => {\n    const result = {};\n\n    for (const [key, value] of Object.entries(flatObj)) {\n      const keys = key.split('.');\n      let current = result;\n\n      for (let i = 0; i < keys.length; i++) {\n        const k = keys[i];\n        if (i === keys.length - 1) {\n          current[k] = value;\n        } else {\n          current[k] = current[k] || {};\n          current = current[k];\n        }\n      }\n    }\n\n    return result;\n  };\n\n  window.__wildcard_change = (string, val, search_key = 'id') => {\n    let values = Array.isArray(val) ? val.join(',') : val\n    // __log('wildcard_change', string, val)\n    return string.replace(/^([\\w\\.]+)?(\\*)([\\w_\\-\\.\\*]+)$/, '$1*' + `${search_key}=${values}` + '$3')\n  }\n\n  window.__data_get = (data, path, defaultValue) => {\n    if (!data || typeof path !== 'string') {\n      return defaultValue;\n    }\n\n    const parts = tokenizePath(path);\n    let current = data;\n\n    for (const index in parts) {\n      let part = parts[index]\n      if (current === undefined || current === null) {\n        return defaultValue;\n      }\n\n      if (typeof current === 'object') {\n        let _tmp\n\n        let matches = part ? part.match(/^\\*(.*)/) : false\n\n        if (matches) {\n          // if part is *id=1,2,3, current will be filtered wrt values splitted ',' comma\n          let filterMatches\n          if(matches[1] && (filterMatches = matches[1].match(/^(\\w+)\\=([\\w\\d\\,]+)/))){\n            let filterKey = filterMatches[1]\n            let filterValues = filterMatches[2].split(',')\n            current = lodash.filter(current, (el) => filterValues.includes( lodash.isNumber(el[filterKey]) ? el[filterKey].toString() : el[filterKey] ))\n            // __log(filterValues, current)\n          }\n\n          // Handle wildcard (modified for array case):\n          if (Array.isArray(current)) {\n            let _index = parseInt(index)\n            // return current.map(item => window.__data_get(item, parts.slice(1).join('.'), defaultValue)); // Recursively get desired property from each object\n            return current.map(item => __data_get(item, parts.slice(_index+1).join('.'), defaultValue)); // Recursively get desired property from each object\n          } else {\n            return Object.assign({}, current); // Shallow copy for single object\n          }\n        } else if (part.indexOf('[') !== -1) {\n          // Handle brackets for array access\n          const key = extractKeyFromBracket(part);\n          if (key !== undefined) {\n            current = current[key];\n          } else {\n            return defaultValue; // Invalid bracket syntax\n          }\n        } else {\n          _tmp = current[part];\n        }\n\n        if(!_tmp){\n          current = lodash.get(current, parts.slice(index).join('.'))\n          if(current)\n            break;\n        }else{\n          current = _tmp\n        }\n\n      } else {\n        return defaultValue; // Path points to a non-object\n      }\n    }\n\n    return current;\n  }\n\n  // TODO: inputs/FormTabs.vue\n  window.__cast_value_match = (value, ownerItem ) => {\n    let matches\n\n    let returnValue = value\n\n    if(__isString(value) && (matches = value.match(/\\$([\\w\\.\\*]+)/))){\n      let notation = matches[1]\n      let quoted = __preg_quote(matches[0])\n      let parts = notation.split('.')\n      // __log(parts)\n\n      let newParts = []\n      for(const j in parts){\n        let part = parts[j]\n        if(part === '*'){\n          // let searchedValue =\n          let _id = ownerItem.id\n          // parts[j] = `*id=${_id}`\n        }else{\n          newParts.push(part)\n        }\n      }\n\n      notation = newParts.join('.')\n\n      let newValue = __data_get(ownerItem, notation)\n\n      if(newValue){\n        let _value\n        if(Array.isArray(newValue) && newValue.length > 0){\n          _value = newValue.join(',')\n        }else if(__isString(newValue)){\n          _value = newValue\n\n          let snakeCased = snakeCase(_value)\n\n          if(this.$te(`modules.${snakeCased}`)){\n            _value = this.$t(`modules.${snakeCased}`)\n          }\n        }else if(__isNumber(newValue)){\n          _value = newValue.toString()\n        }\n\n        if(_value){\n          let remainingQuote = '\\\\w\\\\s' + __preg_quote('çşıİğüö.,;?|:_')\n          let pattern = new RegExp( String.raw`^([${remainingQuote}]+)?(${quoted})([${remainingQuote}]+)?$`)\n\n          if(value.match(pattern)){\n            returnValue = value.replace(pattern, '$1' + _value + '$3')\n          }else{\n            __log(\n              'Not matched sentence',\n              pattern,\n              value,\n              value.match(pattern)\n            )\n          }\n        }\n      }\n    }\n\n    return returnValue\n  },\n\n  window.__snakeToHeadline = (str) => {\n    return str\n      .split('_')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n      .join(' ');\n  }\n\n  window.__headline = (str) => {\n    str = snakeCase(str)\n    return str\n      .split('_')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n      .join(' ');\n  }\n\n  /**\n   * Extracts the foreign key from a given model name.\n   * Converts camelCase or snake_case and plural forms to snake_case singular with '_id'.\n   *\n   * @param {string} modelName - The name of the model (e.g., 'packageFeature', 'package_features').\n   * @returns {string} - The foreign key in snake_case singular form with '_id' suffix (e.g., 'package_feature_id').\n   */\n  window.__extractForeignKey = (modelName) => {\n    if (typeof modelName !== 'string') {\n      throw new TypeError('modelName must be a string');\n    }\n\n    // Convert camelCase to snake_case if necessary\n    let snakeCaseName = lodash.snakeCase(modelName);\n\n    // Convert to singular form\n    let singularName = pluralize.isPlural(snakeCaseName) ? pluralize.singular(snakeCaseName) : snakeCaseName;\n\n    // Append '_id' suffix\n    const foreignKey = `${singularName}_id`;\n\n    return foreignKey;\n  }\n\n  window.__snakeNameFromForeignKey = (str) => {\n    let matches = str.match(/(.*)(_id)/)\n\n    if (matches) {\n      return snakeCase(matches[1]);\n    }\n\n    return false;\n  }\n\n  window.__nameFromForeignKey = (str) => {\n    str = __snakeNameFromForeignKey(str)\n\n    return !str ? __snakeToHeadline(str) : str;\n  }\n\n  window.__moduleName = (str) => {\n    let matches = str.match('/(.*)(_id)/')\n    if(matches){ // is foreign key\n      return __snakeNameFromForeignKey(matches[1])\n    }\n\n    return snakeCase(str);\n  }\n\n  window.__moduleTranslationName = (str) => {\n    __log(window)\n    const { t, te } = useI18n({ useScope: 'global' })\n\n    let isPlural = false\n    let name = str\n\n    let snakeNameFromForeignKey = __snakeNameFromForeignKey(name)\n\n    if(snakeNameFromForeignKey){ // is foreign key\n      name = snakeNameFromForeignKey\n      str = snakeNameFromForeignKey\n    }\n\n    if(pluralize.isPlural(name)){\n      isPlural = true\n      name = pluralize.singular(name)\n    }\n\n    name = snakeCase(name)\n    str = snakeCase(str)\n\n    return te(`modules.${name}`) ? t(`modules.${name}`, isPlural ? 1 : 0) : __snakeToHeadline(str)\n  }\n\n  window.__removeQueryParams = (paramsToRemove) => {\n    // Get the current URL\n    const currentUrl = new URL(window.location.href);\n\n    // Convert the search params to an object\n    let queryObject = {};\n    for (const [key, value] of currentUrl.searchParams.entries()) {\n      queryObject[key] = value;\n    }\n\n    // Remove specified parameters and clean the object\n    paramsToRemove.forEach(param => {\n      delete queryObject[param];\n    });\n\n    // Clean the object by removing undefined or null values\n    Object.keys(queryObject).forEach(key =>\n      (queryObject[key] === undefined || queryObject[key] === null) && delete queryObject[key]\n    );\n\n    // Reconstruct the URL with the cleaned query parameters\n    const newSearchParams = new URLSearchParams();\n    Object.keys(queryObject).forEach(key => {\n      newSearchParams.append(key, queryObject[key]);\n    });\n\n    // Construct the new URL\n    const newUrl = currentUrl.origin + currentUrl.pathname + (newSearchParams.toString() ? '?' + newSearchParams.toString() : '');\n\n    // Update the URL without refreshing the page using replaceState\n    window.history.replaceState({}, '', newUrl);\n  }\n\n  window.__pluralize = (str) => pluralize.plural(str)\n\n  window.__pushQueryParams = (params) => {\n    // Get current URL and create URLSearchParams object\n    const url = new URL(window.location);\n    const searchParams = url.searchParams;\n\n    // Add new parameters\n    Object.entries(params).forEach(([key, value]) => {\n        searchParams.set(key, value);\n    });\n\n    // Update URL without reloading the page\n    window.history.pushState({}, '', url);\n  }\n\n  window.__formatCurrencyPrice = (amount, symbol, preferedLocale = 'en') => {\n\n    // const { locale } = useI18n({ useScope: 'global' })\n\n    // Handle invalid input\n    // if(isNull(preferedLocale))\n    //   preferedLocale = locale.value;\n    // console.log('here', amount, symbol, preferedLocale)\n    if (typeof amount !== 'number' || isNaN(amount))\n      throw new Error('Amount must be a valid number');\n\n    // Format the number with proper grouping and decimal places\n    const formatter = new Intl.NumberFormat(preferedLocale, {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n    });\n\n    // Format the number and add the symbol\n    return `${symbol}${formatter.format(amount)}`;\n  }\n}\n\nfunction tokenizePath(path) {\n  const tokens = [];\n  let currentToken = '';\n  let inBracket = false;\n  let escaped = false;\n\n  for (let i = 0; i < path.length; i++) {\n    const char = path[i];\n\n    if (escaped) {\n      currentToken += char;\n      escaped = false;\n    } else if (char === '\\\\') {\n      escaped = true;\n    } else if (char === '[') {\n      if (currentToken) {\n        tokens.push(currentToken);\n        currentToken = '';\n      }\n      inBracket = true;\n      currentToken += char;\n    } else if (char === ']') {\n      if (!inBracket) {\n        throw new Error('Mismatched brackets in path');\n      }\n      currentToken += char;\n      tokens.push(extractBracketContent(currentToken));\n      currentToken = '';\n      inBracket = false;\n    } else if (char === '.' && !inBracket) {\n      if (currentToken) {\n        tokens.push(currentToken);\n        currentToken = '';\n      }\n    } else {\n      currentToken += char;\n    }\n  }\n\n  if (currentToken) {\n    tokens.push(currentToken);\n  }\n\n  return tokens;\n}\n\nfunction extractBracketContent(bracketToken) {\n  // Remove brackets and trim whitespace\n  const content = bracketToken.slice(1, -1).trim();\n\n  // If it's a number, return as a number\n  if (/^\\d+$/.test(content)) {\n    return content;\n  }\n\n  // Otherwise, return as a string\n  return content;\n}\n\nfunction extractKeyFromBracket(part) {\n  const match = part.match(/\\[([^\\]]*)\\]/);\n  return match ? match[1] : undefined;\n}\n\nfunction assignObjectHelpers(){\n  if (!Object.equals) {\n    Object.equals = function (object1, object2) {\n      // For the first loop, we only check for types\n      for (const k1 in object1) {\n        // Check for inherited methods and properties - like .equals itself\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\n        // Return false if the return value is different\n        if (object1.hasOwnProperty(k1) != object2.hasOwnProperty(k1)) {\n          return false\n        }\n        // Check instance type\n        else if (typeof object1[k1] !== typeof object2[k1]) {\n          // Different types => not equal\n          return false\n        }\n      }\n      // Now a deeper check using other objects property names\n      for (const k2 in object2) {\n        // We must check instances anyway, there may be a property that only exists in object2\n        // I wonder, if remembering the checked values from the first loop would be faster or not\n        if (object1.hasOwnProperty(k2) != object2.hasOwnProperty(k2)) {\n          return false\n        } else if (typeof object1[k2] !== typeof object2[k2]) {\n          return false\n        }\n        // If the property is inherited, do not check any more (it must be equa if both objects inherit it)\n        if (!object1.hasOwnProperty(k2)) { continue }\n\n        // Now the detail check and recursion\n\n        // This returns the script back to the array comparing\n        /** REQUIRES Array.equals**/\n        if (object1[k2] instanceof Array && object2[k2] instanceof Array) {\n          // recurse into the nested arrays\n          if (!Array.equals(object1[k2], object2[k2])) { return false }\n        } else if (object1[k2] instanceof Object && object2[k2] instanceof Object) {\n          // recurse into another objects\n          // console.log(\"Recursing to compare \", this[propName],\"with\",object2[propName], \" both named \\\"\"+propName+\"\\\"\");\n          if (!Object.equals(object1[k2], object2[k2])) { return false }\n        }\n        // Normal value comparison for strings and numbers\n        else if (object1[k2] != object2[k2]) {\n          return false\n        }\n      }\n      // If everything passed, let's say YES\n      return true\n    }\n  }\n}\n\nfunction assignArrayHelpers(){\n  if (!Array.equals) {\n    Array.equals = function (first, array) {\n      // if the other array is a falsy value, return\n      if (!array) { return false }\n\n      // compare lengths - can save a lot of time\n      if (first.length != array.length) { return false }\n\n      for (let i = 0, l = first.length; i < l; i++) {\n        // Check if we have nested arrays\n        if (first[i] instanceof Array && array[i] instanceof Array) {\n          // recurse into the nested arrays\n          if (!first[i].equals(array[i])) { return false }\n        } else if (first[i] != array[i]) {\n          // Warning - two different object instances will never be equal: {x:20} != {x:20}\n          return false\n        }\n      }\n      return true\n    }\n  }\n}\n\n\nexport default function init(){\n\n  assignBOMHElpers()\n  assignObjectHelpers()\n  assignArrayHelpers()\n\n  window.axios = axios\n  window.$ = jquery\n  window._ = lodash\n  window.$moment = moment\n  window.axios.defaults.headers.common = {\n    'X-Requested-With': 'XMLHttpRequest',\n    Accept: 'application/json'\n  }\n\n  window.axios.defaults.headers.post = {\n    'Content-Type': 'application/json'\n  }\n\n  axios.interceptors.request.use(function (config) {\n    // Do something before request is sent\n    store.commit(CONFIG.INCREASE_AXIOS_REQUEST)\n\n    return config;\n  }, function (error) {\n    store.commit(CONFIG.DECREASE_AXIOS_REQUEST)\n    // Do something with request error\n    return Promise.reject(error);\n  });\n\n  axios.interceptors.response.use(function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    store.commit(CONFIG.DECREASE_AXIOS_REQUEST)\n\n    return response;\n  }, function (error) {\n    store.commit(CONFIG.DECREASE_AXIOS_REQUEST)\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error);\n  });\n}\n\n/**\n * Echo exposes an expressive API for subscribing to channels and listening\n * for events that are broadcast by Laravel. Echo and event broadcasting\n * allows your team to easily build robust real-time web applications.\n */\n\n// import Echo from 'laravel-echo';\n\n// window.Pusher = require('pusher-js');\n\n// window.Echo = new Echo({\n//     broadcaster: 'pusher',\n//     key: import.meta.env.MIX_PUSHER_APP_KEY,\n//     cluster: import.meta.env.MIX_PUSHER_APP_CLUSTER,\n//     forceTLS: true\n// });\n","import * as changeCase from 'change-case'\nimport init from './init.js'\n\n// require('./helpers.js')\n// require('./init.js')\n\nexport default function setup() {\n  init()\n  window.__globalizeMethods([\n    changeCase\n  ])\n}\n","// General includes\nimport setup from '__setup/setup.js'\n\nconst UECompose = function () {\n  setup()\n}\n\nexport default UECompose\n","<!-- eslint-disable vue/no-mutating-props -->\n<!-- eslint-disable vue/no-side-effects-in-computed-properties -->\n<template>\n  <v-row\n    :id=\"id\"\n    v-bind=\"getRow\"\n    v-resize.quiet=\"onResize\"\n  >\n    <!-- FORM-BASE TOP SLOT -->\n    <slot :name=\"getFormTopSlot()\" :id=\"id\" />\n    <!-- main loop over components/controls -->\n    <template v-for=\"(obj, index) in flatCombinedArraySorted\" :key=\"index\">\n      <!-- Tooltip Wrapper -->\n      <v-tooltip\n        :disabled=\"!obj.schema.tooltip\"\n        v-bind=\"getShorthandTooltip(obj.schema.tooltip)\"\n      >\n        <template v-slot:activator=\"{ props }\">\n          <v-col\n            v-show=\"!obj.schema.hidden\"\n            :key=\"index\"\n            v-bind= \"{\n              ...getGridAttributes(obj),\n              ...props\n            }\"\n            v-intersect= \"(isIntersecting, entries, observer) => onIntersect(isIntersecting, entries, observer, obj)\"\n            v-touch= \"{ left: () => onSwipe('left', obj), right: () => onSwipe('right', obj), up: () => onSwipe('up', obj), down: () => onSwipe('down', obj) }\"\n            v-click-outside= \"(event) => onClickOutside(event, obj)\"\n            :class =\"getClassName(obj)\"\n            :draggable =\"obj.schema.drag\"\n            @mouseenter =\"onEvent($event, obj)\"\n            @mouseleave =\"onEvent($event, obj)\"\n\n            @dragstart=\"dragstart($event, obj)\"\n            @dragover=\"dragover($event, obj)\"\n            @drop=\"drop($event, obj)\"\n          >\n            <!-- slot on top of type  -> <div slot=\"slot-bottom-type-[propertyName]\"> -->\n            <slot :name=\"getTypeTopSlot(obj)\" v-bind= \"{ obj, index, id }\"/>\n            <!-- slot on top of key  -> <v-btn slot=\"slot-bottom-key-[propertyName]\"> -->\n            <slot :name=\"getKeyTopSlot(obj)\" v-bind= \"{ obj, index, id }\"/>\n            <!-- slot replaces complete item of defined TYPE -> <v-btn slot=\"slot-item-type-[propertyName]\">-->\n            <slot :name=\"getTypeItemSlot(obj)\" v-bind= \"{ obj, index, id }\">\n              <!-- slot replaces complete item of defined KEY -> <div slot=\"slot-item-key-[propertyName]\">-->\n              <slot :name=\"getKeyItemSlot(obj)\" v-bind= \"{ obj, index, id }\">\n\n                <ue-title v-if=\"obj.schema.type === 'title'\"\n                  :text=\"obj.schema.title ?? obj.schema.text ?? obj.schema.label ?? obj.schema.name\"\n                  v-bind=\"bindSchema(obj)\"\n                />\n\n                <!-- RADIO -->\n                <v-radio-group v-else-if=\"obj.schema.type === 'radio'\"\n                  v-bind=\"bindSchema(obj)\"\n                  :modelValue=\"setValue(obj)\"\n                  @change=\"onInput($event, obj)\"\n                >\n                  <v-radio\n                    v-for=\"(option, idx) in obj.schema.options\"\n                    :key=\"idx\"\n                    v-bind=\"bindOptions(option)\"\n                  >\n                    <!-- component doesn't work with #[s]=\"slotData\" \" -->\n                    <template v-for=\"s in getInjectedScopedSlots(id, obj)\" #[s]><slot :name= \"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index, idx, option }\"/></template>\n                  </v-radio>\n                </v-radio-group>\n                <!-- END RADIO -->\n\n                <!-- DATE, TIME, COLOR TEXT-MENU -->\n                <v-menu v-else-if=\"isDateTimeColorTypeAndExtensionText(obj)\"\n                  v-bind=\"bindSchemaMenu(obj)\"\n                >\n                  <template v-slot:activator=\"{ props }\">\n                    <v-text-field\n                      v-bind= \"{\n                        ...bindSchemaText(obj),\n                        ...props\n                      }\"\n                      :modelValue=\"setValue(obj)\"\n                      @[suspendClickAppend(obj)]=\"onEvent($event, obj, append)\"\n                      @click:append-inner=\"onEvent($event, obj, appendInner)\"\n                      @click:prepend=\"onEvent($event, obj, prepend)\"\n                      @click:prepend-inner=\"onEvent($event, obj, prependInner)\"\n                    />\n                    <!-- SLOTS append|prepend|message for picker not avilable, try custom component -->\n                  </template>\n                  <component\n                    :is=\"mapTypeToComponent( obj.schema.type )\"\n                    v-bind=\"bindSchema(obj)\"\n                    :type=\"checkInternType(obj)\"\n                    :modelValue=\"setValue(obj)\"\n                    @update:modelValue=\"onInput($event, obj)\"\n                    @click:hour=\"onEvent({type:'click'}, obj, hour)\"\n                    @click:minute=\"onEvent({type:'click'}, obj, minute)\"\n                    @click:second=\"onEvent({type:'click'}, obj, second)\"\n                  />\n                </v-menu>\n                <!-- END DATE, TIME, COLOR TEXT-MENU -->\n\n                <!-- ARRAY -->\n                <template v-else-if=\"obj.schema.type === 'array'\">\n                  <div\n                    v-for=\"(item, idx) in setValue(obj)\"\n                    :key=\"getKeyForArray(id, obj, item, idx)\"\n                    v-bind=\"bindSchema(obj)\"\n                    :modelValue=\"setValue(obj)\"\n                  >\n                    <slot :name=\"getArrayTopSlot(obj)\" v-bind= \"{ obj, id, index, idx, item}\"/>\n                    <slot :name=\"getArrayItemSlot(obj)\" v-bind= \"{ obj, id, index, idx, item}\">\n                      <v-custom-form-base\n                        :id=\"`${id}-${obj.key}-${idx}`\"\n                        :modelValue=\"item\"\n                        @update:modelValue=\"item = $event\"\n                        v-model:schema=\"obj.schema.schema\"\n                        :row=\"getRowGroupOrArray(obj)\"\n                        :col=\"getColGroupOrArray(obj)\"\n                        :class=\"`${id}-${obj.key}`\"\n                      >\n                        <!-- Based on https://gist.github.com/loilo/73c55ed04917ecf5d682ec70a2a1b8e2 -->\n                        <template v-for=\"(_, name) in $slots\" #[name]=\"slotData\"><slot :name=\"name\" v-bind= \"{ id, obj, index, idx, item, ...slotData}\" /></template>\n                      </v-custom-form-base>\n                    </slot>\n                    <slot :name=\"getArrayBottomSlot(obj)\" v-bind= \"{ obj, id, index, idx, item}\"/>\n                  </div>\n                </template>\n                <!-- END ARRAY -->\n\n                <!-- GROUP | WRAP-->\n                <template v-else-if=\"/^(wrap|group)$/.test(obj.schema.type)\">\n                  <component\n                    v-if=\"obj.schema && obj.schema.schema\"\n                    :is=\"checkInternGroupType(obj)\"\n                    v-bind=\"bindSchema(obj)\"\n                    @click=\"onEvent($event, obj)\"\n                  >\n                    <!-- <v-card-title v-if=\"obj.schema.title\">{{obj.schema.title}}</v-card-title>\n                    <v-card-subtitle v-if=\"obj.schema.subtitle\">{{obj.schema.subtitle}}</v-card-subtitle>  -->\n                    <div v-if=\"obj.schema.noLabel !== true && (obj.schema.title || obj.schema.subtitle)\" class=\"mb-3\">\n                      <ue-title padding=\"a-0\" margin=\"b-0\" transform=\"none\" weight=\"bold\" class=\"text-body-1\" v-if=\"obj.schema.title\">{{obj.schema.title}}</ue-title>\n                      <ue-title padding=\"a-0\" margin=\"b-4\" transform=\"none\" weight=\"regular\" class=\"text-caption\" v-if=\"obj.schema.subtitle\">\n                        <span v-html=\"obj.schema.subtitle\"></span>\n                      </ue-title>\n                    </div>\n\n                    <v-custom-form-base\n                      :id=\"`${id}-${obj.key}`\"\n                      :modelValue=\"setValue(obj)\"\n                      v-model:schema=\"obj.schema.schema\"\n                      :row=\"getRowGroupOrArray(obj)\"\n                      :col=\"getColGroupOrArray(obj)\"\n                      :class=\"`${id}-${obj.key}`\"\n                      @input=\"onInputWrapper($event, obj)\"\n                      >\n                      <!-- v-bind=\"$lodash.omit($attrs, 'onUpdate:schema')\" -->\n                      <!-- Based on https://gist.github.com/loilo/73c55ed04917ecf5d682ec70a2a1b8e2 -->\n                      <template v-for=\"(_, name) in $slots\" #[name]=\"slotData\"><slot :name=\"name\" v-bind= \"{ id, obj, index,  ...slotData}\" /></template>\n                    </v-custom-form-base>\n                  </component>\n                </template>\n                <!-- END GROUP | WRAP -->\n\n                <!-- TREEVIEW -->\n                <component v-else-if=\"obj.schema.type === treeview\"\n                  v-bind:is=\"v-treeview\"\n\n                  v-model:open=\"obj.schema.open\"\n                  v-bind=\"bindSchema(obj)\"\n                  @update:open=\"onEvent({type:'click'}, obj, 'open' )\"\n                  @update:active=\"onEvent({type:'click'}, obj, 'selected' )\"\n\n                  :items=\"obj.schema.items\"\n                  :modelValue=\"setValue(obj)\"\n                  @update:modelValue= \"onInput($event, obj)\"\n                >\n                  <!-- works with #[s]=\"slotData\" \" -->\n                  <template v-for=\"s in getInjectedScopedSlots(id, obj)\" v-slot:[s]=\"slotData\">\n                    <slot :name=\"getKeyInjectSlot(obj, s)\" v-bind=\"{ id, obj, index,  ...slotData}\" />\n                  </template>\n                </component>\n                <!-- END TREEVIEW -->\n\n                <!-- LIST -->\n                <template v-else-if=\"obj.schema.type === list\"\n                >\n                  <v-list>\n                    <slot :name=\"getKeyInjectSlot(obj, 'label')\" v-bind= \"{ id, obj, index }\" >\n                      <v-toolbar\n                        v-if=\"obj.schema.label\"\n                        v-bind=\"bindSchema(obj)\"\n                        dark\n                      >\n                        <v-toolbar-title>{{ obj.schema.label }}</v-toolbar-title>\n                      </v-toolbar>\n                    </slot>\n                    <v-list\n                      v-model=\"obj.schema.model\"\n                      v-bind=\"bindSchema(obj)\"\n                      light\n                    >\n                      <template v-for=\"(item, idx) in setValue(obj)\" :key=\"idx\">\n                        <v-list-item\n                          @click=\"onEvent($event, obj, list )\"\n                        >\n                        <slot :name=\"getArrayItemSlot(obj)\" v-bind= \"{ obj, id, index, idx, item}\">\n                              <v-list-item\n                                  :icon=\"obj.schema.icon\"\n                                  :title=\"obj.schema.item ? item[obj.schema.item] : item\"\n                                  >\n\n                              </v-list-item>\n                            <!-- <v-list-item-icon>\n                              <v-icon v-text=\"obj.schema.icon\" />\n                            </v-list-item-icon>\n                            <v-list-item-content>\n                              <v-list-item-title v-text=\"obj.schema.item ? item[obj.schema.item] : item\" />\n                            </v-list-item-content> -->\n                        </slot>\n                        </v-list-item>\n                      </template>\n                    </v-list>\n                  </v-list>\n                </template>\n                <!-- END LIST -->\n\n                <!-- CHECKBOX | SWITCH -->\n                <component v-else-if=\"/(switch|checkbox)/.test(obj.schema.type)\"\n                  :is=\"mapTypeToComponent(obj.schema.type)\"\n                  :modelValue=\"setValue(obj)\"\n                  @update:modelValue=\"onInput($event, obj)\"\n                  v-bind=\"bindSchema(obj)\"\n                >\n                  <!-- component doesn't work with #[s]=\"slotData\" \" -->\n                  <template v-for=\"s in getInjectedScopedSlots(id, obj)\" #[s]><slot :name=\"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index }\"/></template>\n                </component>\n                <!-- END CHECKBOX | SWITCH -->\n\n                <!-- FILE -->\n                <v-file-input v-else-if=\"obj.schema.type === 'file' \"\n                  v-bind=\"bindSchema(obj)\"\n                  :modelValue=\"setValue(obj)\"\n                  @focus=\"onEvent($event, obj)\"\n                  @blur=\"onEvent($event, obj)\"\n                  @change=\"onInput($event, obj)\"\n                >\n                  <template v-for=\"s in getInjectedScopedSlots(id, obj)\" #[s]=\"scopeData\"><slot :name=\"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index, ...scopeData}\" /></template>\n                </v-file-input>\n                <!-- END FILE -->\n\n                <!-- ICON -->\n                <v-icon v-else-if=\"obj.schema.type === 'icon'\"\n                  v-bind=\"bindSchema(obj)\"\n                  v-text=\"getIconValue(obj)\"\n                  @click=\"onEvent($event, obj)\"\n                />\n                <!-- END ICON -->\n\n                <!-- SLIDER -->\n                <v-slider v-else-if=\"obj.schema.type === 'slider'\"\n                  v-bind=\"bindSchema(obj)\"\n                  @update:modelValue=\"onInput($event, obj)\"\n                >\n                  <!-- some component works with #[s]=\"slotData\"  some doesn't work with slot data ie: 'label'  / but 'thumb-label' works only with scopeData -->\n                  <template v-for=\"s in getInjectedScopedSlots(id, obj)\" #[s]><slot :name=\"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index }\" /></template>\n                  <!-- <template v-for=\"s in getInjectedScopedSlots(id, obj)\" #[s]=\"scopeData\"><slot :name=\"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index, ...scopeData}\" /></template> -->\n                </v-slider>\n                <!-- END SLIDER -->\n\n                <!-- IMG -->\n                <v-img v-else-if=\"obj.schema.type === 'img'\"\n                  :src=\"getImageSource(obj)\"\n                  v-bind=\"bindSchema(obj)\"\n                  @click=\"onEvent($event, obj)\"\n                >\n                  <!-- component doesn't work with #[s]=\"slotData\" \" -->\n                  <template v-for=\"s in getInjectedScopedSlots(id, obj)\" #[s]><slot :name=\"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index }\"/></template>\n                </v-img>\n                <!-- END IMG -->\n\n                <!-- BTN-TOGGLE -->\n                <v-btn-toggle v-else-if=\"obj.schema.type === 'btn-toggle'\"\n                  v-bind=\"bindSchema(obj)\"\n                  :modelValue=\"setValue(obj)\"\n                  @change=\"onInput($event, obj)\"\n                >\n                  <v-btn\n                    v-for=\"(option,idx) in obj.schema.options\"\n                    :key=\"idx\"\n                    v-bind=\"bindOptions(option)\"\n                    :icon=\"option.icon ? true :false\"\n                  >\n                    <v-icon :dark=\"obj.schema.dark\">\n                      {{ bindOptions(option).icon }}\n                    </v-icon>\n                    {{ bindOptions(option).label }}\n                  </v-btn>\n                </v-btn-toggle>\n                <!-- END BTN-TOGGLE -->\n\n                <!-- BTN -->\n                <v-btn v-else-if=\"obj.schema.type === 'btn'\"\n                  v-bind=\"bindSchema(obj)\"\n                  @click=\"onEvent($event, obj, button)\"\n                  type=\"button\"\n                >\n                  {{ setValue(obj) }}\n                  <v-icon\n                    v-if=\"obj.schema.iconCenter\"\n                    :dark=\"obj.schema.dark\"\n                  >\n                    {{ obj.schema.iconCenter }}\n                  </v-icon>\n                  {{ obj.schema.label }}\n                </v-btn>\n                <!-- END BTN -->\n\n                <v-input-locale v-else-if=\"obj.schema.translated\"\n                  :type=\"mapTypeToComponent(obj.schema.type)\"\n                  :attributes=\"obj.schema\"\n                  :modelValue=\"setValue(obj)\"\n                  @update:modelValue=\"onInput($event, obj)\"\n                />\n\n                <!-- MASK  -->\n                <component v-else-if=\"obj.schema.mask\"\n                  :is=\"mapTypeToComponent(obj.schema.type)\"\n                  v-bind=\"bindSchema(obj)\"\n                  v-mask=\"obj.schema.mask\"\n                  :type=\"checkExtensionType(obj)\"\n                  :modelValue=\"setValue(obj)\"\n                  :obj=\"obj\"\n                  v-model:[searchInputSync(obj)]=\"obj.schema.searchInput\"\n                  @focus= \"onEvent($event, obj)\"\n                  @blur= \"onEvent($event, obj)\"\n                  @[suspendClickAppend(obj)]=\"onEvent($event, obj, append)\"\n                  @click:append-inner=\"onEvent($event, obj, appendInner)\"\n                  @click:prepend=\"onEvent($event, obj, prepend )\"\n                  @click:prepend-inner=\"onEvent($event, obj, prependInner)\"\n                  @click:clear=\"onEvent($event, obj, clear )\"\n                  @click:hour=\"onEvent({type:'click'}, obj, hour)\"\n                  @click:minute=\"onEvent({type:'click'}, obj, minute)\"\n                  @click:second=\"onEvent({type:'click'}, obj, second)\"\n                  @update:modelValue=\"onInput($event, obj)\"\n                >\n                  <!-- component doesn't work with #[s]=\"slotData\" \" -->\n                  <template v-for=\"s in getInjectedScopedSlots(id, obj)\" #[s]><slot :name=\"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index, model: valueIntern }\"/></template>\n                </component>\n                <!-- END MASK -->\n\n                <!-- DEFAULT all other Types -> typeToComponent -->\n                <component v-else\n                  :is=\"mapTypeToComponent(obj.schema.type)\"\n                  v-bind=\"bindSchema(obj)\"\n                  :type=\"checkExtensionType(obj)\"\n                  :modelValue=\"setValue(obj)\"\n                  :obj=\"obj\"\n                  v-model:[searchInputSync(obj)]=\"obj.schema.searchInput\"\n                  @focus=\"onEvent($event, obj)\"\n                  @blur=\"onEvent($event, obj)\"\n                  @[suspendClickAppend(obj)]=\"onEvent($event, obj, append)\"\n                  @click:append-inner=\"onEvent($event, obj, appendInner)\"\n                  @click:prepend= \"onEvent($event, obj, prepend )\"\n                  @click:prepend-inner= \"onEvent($event, obj, prependInner)\"\n                  @click:clear= \"onEvent($event, obj, clear )\"\n                  @click:hour= \"onEvent({type:'click'}, obj, hour)\"\n                  @click:minute= \"onEvent({type:'click'}, obj, minute)\"\n                  @click:second= \"onEvent({type:'click'}, obj, second)\"\n                  @update:modelValue=\"onInput($event, obj)\"\n                >\n                  <!-- component doesn't work with #[s]=\"slotData\" \" -->\n                  <template v-for=\"s in getInjectedScopedSlots(id, obj)\" v-slot:[s]=\"slotData\">\n                    <slot :name= \"getKeyInjectSlot(obj, s)\" v-bind= \"{ id, obj, index, ...slotData,  model: valueIntern }\"/>\n                  </template>\n                </component>\n                <!-- END DEFAULT -->\n              </slot>\n            </slot>\n\n            <!-- slot at bottom of item  -> <div slot=\"slot-bottom-key-[deep-nested-key-name]\"> -->\n            <slot :name=\"getTypeBottomSlot(obj)\" v-bind= \"{ obj, index, id }\"/>\n            <slot :name=\"getKeyBottomSlot(obj)\" v-bind= \"{ obj, index, id }\"/>\n          </v-col>\n\n          <!-- schema.spacer:true - push next item to the right and fill space between items -->\n          <v-spacer\n            v-if=\"obj.schema.spacer\"\n            :key=\"`s-${index}`\"\n          />\n        </template>\n        <!-- slot for Tooltip or use shorthand schema.tooltip:'myTooltip' | any tooltip activated by schema:{ key:{ tooltip:'myTooltip', ...} -->\n        <slot :name=\"getTooltipSlot(obj)\" v-bind= \"{ obj, index, id }\" >\n          <span>{{getShorthandTooltipLabel(obj.schema.tooltip)}}</span>\n        </slot>\n        <slot :name=\"getKeyTooltipSlot(obj)\" v-bind= \"{ obj, index, id }\" />\n      </v-tooltip>\n    </template>\n    <!-- FORM-BASE BOTTOM SLOT -->\n    <slot :name=\"getFormBottomSlot()\" :id= \"id\"/>\n  </v-row>\n</template>\n\n<script>\n\n// Import\n// import Vue from 'vue'\nimport { getCurrentInstance } from 'vue'\nimport { get, set, isPlainObject, isFunction, isString, isNumber, isEmpty, orderBy, delay, find, findIndex, omit } from 'lodash-es'\nimport getFormData from '@/utils/getFormData.js'\n\n// import VueMask from 'v-mask'\n// Vue.use(VueMask, {\n//   placeholders: {\n//     // Info Mask https://github.com/probil/v-mask\n//     // '#': null,       // passing `null` removes default placeholder, so `#` is treated as character\n//     // D: /\\d/,         // define new placeholder\n//   }\n// })\n//\n// Declaration\nconst typeToComponent = {\n  // maps schema.type to prop 'type' in v-text-field  - https://www.wufoo.com/html5/\n  text: 'v-text-field',\n  password: 'v-text-field',\n  email: 'v-text-field',\n  tel: 'v-text-field',\n  url: 'v-text-field',\n  search: 'v-text-field',\n  number: 'v-text-field',\n  /*\n    { type:'text, ext:'typeOfTextField', ...}\n    For native <INPUT> type use alternative schema prop ext  -> schema:{ type:'text, ext:'date', ...}\n    correspond to <input type=\"number\" >\n    number: 'v-text-field',   //  { type:'text, ext:'number', ...}\n    range: 'v-text-field',   //  { type:'text, ext:'range', ...}\n    date: 'v-text-field',    //  { type:'text, ext:'date', ...}\n    time: 'v-text-field',    //  { type:'text, ext:'time', ...}\n    color: 'v-text-field',   //  { type:'text, ext:'color', ...}\n  */\n\n  date: 'v-date-picker',\n  time: 'v-time-picker',\n  color: 'v-color-picker',\n  /*\n    INFO: 3 Types of PICKER DATE / TIME / COLOR\n    Date-Native Input    - schema:{ type:'text, ext:'date', ...}\n    Date-Picker          - schema:{ type:'date', ...}\n    Date-Picker-Textmenu     - schema:{ type:'date', ext:'text'...}\n  */\n\n  // map schema.type to vuetify-control (vuetify 2.0)\n  img: 'v-img',\n  textarea: 'v-textarea',\n  range: 'v-slider',\n  file: 'v-file-input',\n  switch: 'v-switch',\n  checkbox: 'v-checkbox',\n  card: 'v-card'\n  /*\n    HOW TO USE CUSTOM Components\n    1)\n      Name and Register your Custom-Control Component globally in 'main.js'\n      but avoid collision with registered names of Vuetify - Controls\n      See: https://vuejs.org/v2/guide/components-registration.html\n\n      Vue.component('custom-component', () => import('@/components/custom-component.vue') )\n\n    2)\n      use it in Schema\n\n      mySchema: { myCustom: { type: 'custom-component' }\n\n    3) // custom-component.vue\n      <template>\n        <v-text-field v-model=\"inp\"  label=\"Basic\"></v-text-field>\n      </template>\n      <script>\n        export default {\n          props: ['type','value', 'obj'],\n          computed:{\n            inp:{\n              get(){  return this.value},\n              set(v){ this.$emit('input', v)}\n            }\n          }\n        }\n      < /script>\n  */\n\n}\nconst orderDirection = 'ASC'\nconst pathDelimiter = '.'\nconst classKeyDelimiter = '-'\nconst defaultID = 'form-base'\nconst isPicker = 'date|time|color'\nconst onEventDelay = 1 // ms\n\nconst mouse = 'mouseenter|mouseleave'\nconst change = 'input|click' // event change collects events 'input|click'\nconst watch = 'focus|input|click|blur' // event watch collects events 'focus|input|click|blur'\nconst display = 'resize|swipe|intersect' // event watch collects events 'resize|swipe|intersect'\n\nconst topAppendix = 'top'\nconst bottomAppendix = 'bottom'\nconst slotAppendix = 'slot'\nconst tooltipAppendix = 'tooltip'\nconst injectAppendix = 'inject'\nconst itemClassAppendix = 'item'\nconst typeClassAppendix = 'type'\nconst keyClassAppendix = 'key'\nconst arrayClassAppendix = 'array'\nconst propertyClassAppendix = 'prop'\n\nconst injectSlotAppendix = `${slotAppendix}-${injectAppendix}`\n// const arraySlotAppendix = `${slotAppendix}-${arrayClassAppendix}`\nconst topSlotAppendix = `${slotAppendix}-${topAppendix}`\nconst itemSlotAppendix = `${slotAppendix}-${itemClassAppendix}`\nconst bottomSlotAppendix = `${slotAppendix}-${bottomAppendix}`\nconst tooltipSlotAppendix = `${slotAppendix}-${tooltipAppendix}`\n\nconst clear = 'clear'\nconst button = 'button'\nconst treeview = 'treeview'\nconst list = 'list'\nconst focus = 'focus'\nconst blur = 'blur'\nconst append = 'append'\nconst appendInner = 'append-inner'\nconst prepend = 'prepend'\nconst prependInner = 'prepend-inner'\n\nconst hour = 'hour'\nconst minute = 'minute'\nconst second = 'second'\n\n// symbol on drop\nconst dropEffect = 'move' // 'copy, link, move\n// Default row setting if no row-attribute defined\nconst rowDefault = { noGutters: false } // { noGutters:true, justify:'center', align:'center' }\nconst rowGroupDefault = { noGutters: true } // { noGutters:true, justify:'center', align:'center' }\n\n// Default col setting, overrideable by prop col or by schema.col definition\n// Default col setting, overrideable by prop flex or by schema.flex definition (flex is DEPRECATED use col instead)\nconst colDefault = { cols: 'auto' } // { cols:12, sm: 6, md:4, lg:3, xl:2}\n\n// Mapper for Autogeneration of Schema from Value\nconst defaultSchemaIfValueIsNullOrUndefined = key => ({ type: 'text', label: key })\nconst defaultSchemaIfValueIsString = key => ({ type: 'text', label: key })\nconst defaultSchemaIfValueIsNumber = key => ({ type: 'number', label: key })\nconst defaultSchemaIfValueIsBoolean = key => ({ type: 'checkbox', label: key })\n// Menu triggered DateTimePicker Default\nconst defaultPickerSchemaText = { type: 'text', readonly: true }\nconst defaultPickerSchemaMenu = { closeOnContentClick: false, transition: 'scale-transition', nudgeRight: 32, maxWidth: '290px', minWidth: '290px' }\n// type wrap or group - if no typeInt defined take default\nconst defaultInternGroupType = 'v-card'\n//\n\nconst emits = [\n  'update:modelValue',\n  'update:schema',\n  'input',\n  'update',\n  'resize',\n  'blur',\n  'click'\n]\nexport default {\n  setup () {\n    const _instance = getCurrentInstance()\n    const vueInstance = _instance.appContext\n\n    return {\n      vueInstance\n    }\n  },\n  name: 'VFormBase',\n  emits,\n  props: {\n    id: {\n      type: String,\n      default: defaultID\n    },\n    rootId: {\n      type: String,\n      default: defaultID\n    },\n    row: {\n      type: [Object]\n    },\n    rowGroup: {\n      type: [Object]\n    },\n    col: {\n      type: [Object, Number, String]\n    },\n    colGroup: {\n      type: [Object, Number, String]\n    },\n    flex: {\n      type: [Object, Number, String]\n    },\n    modelValue: {\n      type: [Object, Array],\n      default: () => null\n    },\n    model: {\n      type: [Object, Array]\n    },\n    schema: {\n      type: [Object, Array],\n      default: () => ({})\n    }\n  },\n  data () {\n    return {\n      flatCombinedArray: [],\n      clear,\n      button,\n      treeview,\n      list,\n\n      focus,\n      blur,\n\n      append,\n      appendInner,\n      prepend,\n      prependInner,\n\n      hour,\n      minute,\n      second\n\n    }\n  },\n  computed: {\n    valueIntern () {\n      // use <formbase :model=\"myData\" />  ->  legacy code <formbase :modelValue=\"myData\" />\n      const model = this.model || this.modelValue\n\n      this.updateArrayFromState(model, this.formSchema)\n\n      return model\n    },\n    parent () {\n      let p = this\n      if (p.$parent && p.$parent.$parent) {\n        while (p.id.startsWith(p.$parent.$parent.id + '-')) {\n          p = p.$parent.$parent\n        }\n      }\n      return p\n    },\n    index () {\n      const m = this.id && this.id.match(/\\d+/g)\n      return m ? m.map(Number) : null\n    },\n    getRow () {\n      return this.row || rowDefault\n    },\n    flatCombinedArraySorted () {\n      // __log('flatCombinedArraySorted computed', this.valueIntern, this.formSchema)\n      return orderBy(this.flatCombinedArray, ['schema.sort'], [orderDirection])\n    },\n    storeStateData () {\n      this.updateArrayFromState(this.valueIntern, this.formSchema)\n      return this.valueIntern\n    },\n    storeStateSchema () {\n\n      this.updateArrayFromState(this.valueIntern, this.formSchema)\n\n      getFormData.setSchemaInputField(this.formSchema, this.valueIntern)\n\n      return this.formSchema\n    },\n    formSchema: {\n      get () {\n        return this.schema\n      },\n      set (val) {\n        this.$emit('update:schema', val)\n        // eslint-disable-next-line vue/no-mutating-props\n        this.schema.value = val\n      }\n    }\n  },\n  watch: {\n    schema: {\n      handler (value, oldValue) {\n        // __log('schema watch', value, oldValue)\n      },\n      deep: true\n    },\n    modelValue: {\n      handler (value, oldValue) {\n        if(JSON.stringify(Object.keys(__dot(value)) )!== JSON.stringify(Object.keys(__dot(oldValue)))){\n          this.rebuildArrays(this.valueIntern, this.formSchema)\n        }\n      },\n      deep: true\n    },\n    // formSchema: function (newSchema, oldSchema) {\n    //   // __log('formSchema watch', newSchema)\n\n    //   this.rebuildArrays(this.valueIntern, newSchema)\n\n    //   this.formSchema = newSchema\n    //   this.schema = newSchema\n\n    // },\n    // valueIntern: function (newVal, oldVal) {\n    //   __log('valueIntern watch', newVal, oldVal)\n    // }\n  },\n  methods: {\n    // MAP TYPE\n    mapTypeToComponent (type) {\n      // merge global registered components into typeToComponent Object\n      const allTypeComponents = { ...typeToComponent, ...this.vueInstance.components }\n      // const typeToComponent -> maps type to according v-component\n      // ie. schema:{ type:'password', ... } to specific vuetify-control or default to v-text-field'\n      return allTypeComponents[type] ? allTypeComponents[type] : `v-${type}`\n    },\n    // CHECK FOR TYPE: DATE, TIME OR COLOR and EXT: TEXT\n    isDateTimeColorTypeAndExtensionText (obj) {\n      return isPicker.includes(obj.schema.type) && obj.schema.ext === 'text'\n    },\n    // CHECK FOR EXT: DATE, TIME OR COLOR\n    isDateTimeColorExtension (obj) {\n      return isPicker.includes(obj.schema.ext)\n    },\n    // BIND SCHEMA TEXT OPTIONS\n    bindOptions (b) {\n      // schema.options in RADIO/BUTTON\n      return isString(b) ? { value: b, label: b } : b\n    },\n    bindSchemaText (obj) {\n      return { ...defaultPickerSchemaText, ...obj.schema.text }\n    },\n    bindSchemaMenu (obj) {\n      return { ...defaultPickerSchemaMenu, ...obj.schema.menu }\n    },\n    bindSchema (obj) {\n      if (Object.prototype.hasOwnProperty.call(obj.schema, 'falseValue') && obj.schema.falseValue == 0) {\n        obj.schema.falseValue = '0'\n      }\n      // if (Object.prototype.hasOwnProperty.call(obj.schema, 'falseValue') && obj.schema.falseValue == 1) {\n      //   obj.schema.falseValue = '0'\n      // }\n      // __log(obj.schema)\n\n      return omit(obj.schema, ['type', 'col', 'order', 'offset', 'ext', 'event'] )\n      return obj.schema\n    },\n    suspendClickAppend (obj) {\n      // select|combobox|autocomplete -> suspend 'click:append' for working down arrow\n      return /(select|combobox|autocomplete)/.test(obj.schema.type) ? '' : 'click:append'\n    },\n    searchInputSync (obj) {\n      // schema.searchInput ->   bind 'search-input'\n      return (typeof obj.schema.searchInput !== 'undefined') ? 'search-input' : ''\n    },\n    // EXT TYPE\n    checkExtensionType (obj) {\n      // For native <INPUT> type use prop 'ext'\n      // { type:'text', ext:'range', ... } -> use native Input Type 'range' instead of slider\n      // { type:'text', ext:'number', ...} -> use native Input Type 'number'\n\n      let ext\n      if(['number', 'range', 'date', 'time', 'color'].includes(obj.schema.ext))\n        ext = obj.schema.ext\n\n      return ext || obj.schema.type\n    },\n    // V-INTERN TYPE\n    checkInternType (obj) {\n      // If vuetify component needs a 'type' prop for working  - ie. datepicker uses type:'month'\n      // { type:'date', ext:'text', typeInt:'month' ...} -> use v-date-picker menu with intern Type 'month'\n      return obj.schema.typeInt || obj.schema.type\n    },\n    checkInternGroupType (obj) {\n      //  in type 'wrap|group' you can define with typeInt: a component as group - schema: { group1: { type:'wrap', typeInt:'v-card', ... } ...}\n      const typeInt = obj.schema.typeInt || defaultInternGroupType\n\n      return typeInt.startsWith('v-') ? typeInt : `v-${typeInt}`\n    },\n    // GET ITERATION KEY FOR TYPE ARRAY\n    getKeyForArray (id, obj, item, index) {\n      // IMPORTANT if you want to add or remove items in type:'array'\n      // more Info ->\n      // https://forum.vuejs.org/t/after-splicing-an-object-wrong-item-disappears-from-view/9247/4\n      // https://stackoverflow.com/questions/45655090/vue-array-splice-removing-wrong-item-from-list\n\n      // create for iteration v-for an uniqe key from each object in array using index and time.hash\n      // or define your key index by defining a key property\n      // MODEL\n      // arrayTasks: [{ trace:'100', label:'A'}, ...  ]\n      // SCHEMA\n      // arrayTasks: { type:'array', schema:{ ... } }                                                      DEFAULT KEY -> KEY id-key-index   'arrayTasks-0'\n      // arrayTasks: { type:'array', key:'trace', schema:{ trace: { type:'text'}, ... } }                              -> KEY trace            100\n      // arrayTasks: { type:'array', key:['trace','label'], schema:{ trace: { type:'text'}, label: { type:'text'} } }  -> KEY trace_label      100_A\n\n      // IMPORTANT! Key should not contain an EDITABLE prop, because of re-iteration on any change\n\n      const k = obj.schema.key\n      return k ? Array.isArray(k) ? k.map(i => item[i]).join('_') : item[k] : (!isNaN(index)) ? `${id}-${obj.key}-${index}` : index\n    },\n    //\n    // GET IMG SOURCE\n    getImageSource (obj) {\n      // if exist get source from src otherwise join schema.base & value & schema.tail\n      return obj.schema.src ? obj.schema.src : `${obj.schema.base}${obj.value}${obj.schema.tail}`\n    },\n    //\n    // ICON\n    getIconValue (obj) {\n      // icon: try schema.label or if undefined use value\n      return obj.schema.label ? obj.schema.label : this.setValue(obj)\n    },\n    //\n    // TOOLTIP\n    getShorthandTooltip (schemaTooltip) {\n      // check if tooltip is typeof string ->  shorthand { bottom:true, label: obj.schema.tooltip} otherwise take original object\n      return isString(schemaTooltip) ? { location: 'top', text: schemaTooltip } : schemaTooltip\n    },\n    getShorthandTooltipLabel (schemaTooltip) {\n      // check if tooltip is typeof string ->  return Label\n      return isString(schemaTooltip) ? schemaTooltip : schemaTooltip && schemaTooltip.label\n    },\n    //\n    // FORM SLOTS\n    getFormTopSlot () {\n      // Slot for Top Line in Formbase -> 'slot-formbase-top'\n      return `${topSlotAppendix}-${this.id}`\n    },\n    getFormBottomSlot () {\n      // Slot for Bottom Line in Formbase -> 'slot-formbase-bottom'\n      return `${bottomSlotAppendix}-${this.id}`\n    },\n    //\n    // KEY SLOTS\n    getKeyInjectSlot (obj, inject) {\n      // get slot starting with 'slot-inject' and inject verb 'thumb-label'   -> 'slot-inject-thumb-label-key-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${injectSlotAppendix}-${inject}-${keyClassAppendix}`)\n    },\n    getKeyTopSlot (obj) {\n      // get Key specific name by replacing '.' with '-' and prepending 'slot-top'  -> 'slot-top-key-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${topSlotAppendix}-${keyClassAppendix}`)\n    },\n    getKeyItemSlot (obj) {\n      // get Key specific name by replacing '.' with '-' and prepending 'slot-item'  -> 'slot-item-key-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${itemSlotAppendix}-${keyClassAppendix}`)\n    },\n    getKeyBottomSlot (obj) {\n      // get Key specific name by replacing '.' with '-' and prepending 'slot-bottom'  -> 'slot-bottom-key-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${bottomSlotAppendix}-${keyClassAppendix}`)\n    },\n    getKeyTooltipSlot (obj) {\n      // matches Key specific Tooltip | name by replacing '.' with '-' and prepending 'slot-bottom'  -> 'slot-tooltip-key-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${tooltipSlotAppendix}-${keyClassAppendix}`)\n    },\n    getTooltipSlot (obj) {\n      // default tooltip slot matches all keys\n      return `${tooltipSlotAppendix}`\n    },\n    //\n    // ARRAY SLOTS\n    getArrayTopSlot (obj) {\n      // slot each item from array  -> 'slot-top-array-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${topSlotAppendix}-${arrayClassAppendix}`)\n    },\n    getArrayItemSlot (obj) {\n      // slot each item from array  -> 'slot-top-array-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${itemSlotAppendix}-${arrayClassAppendix}`)\n    },\n    getArrayBottomSlot (obj) {\n      // slot each item from array   -> 'slot-bottom-array-formbase-address-city'\n      return this.getKeyClassNameWithAppendix(obj, `${bottomSlotAppendix}-${arrayClassAppendix}`)\n    },\n    //\n    // TYPE SLOTS\n    getTypeTopSlot (obj) {\n      // get Type specific slot name  -> 'slot-top-type-radio'\n      return this.getTypeClassNameWithAppendix(obj, `${topSlotAppendix}-${typeClassAppendix}`)\n    },\n    getTypeItemSlot (obj) {\n      // get Type specific slot name  -> 'slot-item-type-radio'\n      return this.getTypeClassNameWithAppendix(obj, `${itemSlotAppendix}-${typeClassAppendix}`)\n    },\n    getTypeBottomSlot (obj) {\n      // get Type specific slot name  -> 'slot-bottom-type-radio'\n      return this.getTypeClassNameWithAppendix(obj, `${bottomSlotAppendix}-${typeClassAppendix}`)\n    },\n    //\n    // CLASS Names\n    getPropertyClassNameWithAppendix (obj, appendix) {\n      // get PROP specific name by app-/prepending 'appendix-' and replacing '.' with '-' in nested key path  -> 'controls switch'\n      return obj.key ? obj.key.split(pathDelimiter).map(s => `${appendix ? appendix + classKeyDelimiter : ''}${s}`).join(' ') : ''\n    },\n    getPropertyClassName (obj) {\n      return this.getPropertyClassNameWithAppendix(obj, propertyClassAppendix)\n    },\n    getKeyClassNameWithAppendix (obj, appendix) {\n      // get KEY specific name by app-/prepending 'appendix-' and replacing '.' with '-' in nested key path  -> 'top-slot-address-city'\n      return `${appendix ? appendix + classKeyDelimiter : ''}${this.id ? this.id + classKeyDelimiter : ''}${obj.key.replace(/\\./g, '-')}`\n      // return `${appendix ? appendix + classKeyDelimiter : ''}${obj.key.replace(/\\./g, '-')}`\n    },\n    getKeyClassName (obj) {\n      return this.getKeyClassNameWithAppendix(obj, keyClassAppendix)\n    },\n    getTypeClassNameWithAppendix (obj, appendix) {\n      // get TYPE specific class name by prepending '-type' -> 'type-checkbox'\n      return `${appendix ? appendix + classKeyDelimiter : ''}${this.id ? this.id + classKeyDelimiter : ''}${obj.schema.type}`\n      // return `${appendix + classKeyDelimiter}${obj.schema.type}`\n    },\n    getTypeClassName (obj) {\n      return this.getTypeClassNameWithAppendix(obj, typeClassAppendix)\n    },\n    getClassName (obj) {\n      // combines all into a single classname\n      // class => ie. 'item type-checkbox key-address-zip prop-adress prop-zip'\n      return `${itemClassAppendix} ${this.getTypeClassName(obj)} ${this.getKeyClassName(obj)} ${this.getPropertyClassName(obj)}`\n    },\n    //\n    // GRID\n    gridMapper (obj, prepender) {\n      if (obj) {\n        ['sm', 'md', 'lg', 'xl'].map(k => {\n          if (obj[k]) { obj[prepender + k] = obj[k]; delete obj[k] }\n        })\n      }\n    },\n    gridReplaceXS (obj, replacer) {\n      // see vuetify Grid - replace Prop XS -V1.5 with COLS, ORDER, OFFSET - V2.0\n      // xs must be replaced in new Vuetify 2.0 Grid with cols, offset, order\n      if (obj && obj.xs) { obj[replacer] = obj.xs; delete obj.xs }\n    },\n    getGridAttributes (obj) {\n      // FLEX DEPRECATED use COL instead of FLEX\n      // flex:{ xs|sm|md|lg } - value:number|string\n\n      // col:{ cols|sm|md|lg|xl } - value:number|string\n      // order:{ order|sm|md|lg|xl|order-sm|order-md|order-lg|order-xl } - value:number|string\n      // offset:{ offset|sm|md|lg|xl|offset-sm|offset-md|offset-lg|offset-xl } - value:number|string\n\n      const colSchema = obj.schema.col || obj.schema.flex\n\n      const colAttr = this.col || this.flex || colDefault\n\n      const colObject = colSchema\n        // if available use schema definition of cols\n        ? (isPlainObject(colSchema) ? colSchema : isNumber(colSchema) || isString(colSchema) ? { cols: colSchema } : { cols: 'auto' })\n        // else use formbase attribute definition of cols\n        : colAttr ? (isPlainObject(colAttr) ? colAttr : isNumber(colAttr) || isString(colAttr) ? { cols: colAttr } : { cols: 'auto' })\n        // if no definition set cols to 'auto'\n          : { cols: 'auto' }\n\n      this.gridReplaceXS(colObject, 'cols')\n\n      // schema definition of offset\n      const offset = obj.schema.offset\n      const offsetObject = offset ? (isPlainObject(offset) ? offset : { offset }) : offset\n      this.gridMapper(offsetObject, 'offset-')\n      this.gridReplaceXS(offsetObject, 'offset')\n\n      // schema definition of offset\n      const order = obj.schema.order\n      const orderObject = order ? (isPlainObject(order) ? order : { order }) : order\n      this.gridMapper(orderObject, 'order-')\n      this.gridReplaceXS(orderObject, 'order')\n\n      return { ...colObject, ...offsetObject, ...orderObject }\n    },\n    getRowGroupOrArray (obj) {\n      return obj.schema.rowGroup || this.rowGroup || rowGroupDefault\n    },\n    getColGroupOrArray (obj) {\n      return obj.schema.col || this.col || colDefault\n    },\n    //\n    // SANITIZE SLOTS\n    getInjectedScopedSlots (id, obj) {\n      // <template #slot-inject-thumb-label-key-formbase-path-to-mykey />\n      // extract the verb 'thumb-label' from Slots starting with 'slot-inject' and matching [component-id] and [key]\n      const rx = new RegExp(`${injectSlotAppendix}-(.*?)-${keyClassAppendix}`)\n\n      return Object.keys(this.$slots)\n        .filter(s => (s.includes(`${id}${classKeyDelimiter}${obj.key.replace(/\\./g, '-')}`) && s.includes(injectSlotAppendix)))\n        .map(i => i.match(rx)[1])\n    },\n    //\n    // Map Values coming FROM Control, TO Control or DROP on Control\n    toCtrl (params) {\n      // signature params { value, obj, data, schema }\n      //\n      // manipulate value going to control, function must return a (modified) value\n      // schema:{ name: { type:'text', toCtrl: ( {value} ) => value && value.toUpperCase, ... }, ... }\n      // return isFunction(params.obj.schema && params.obj.schema.toCtrl) ? params.obj.schema.toCtrl(params) : params.value\n      return params.obj.schema && isFunction(params.obj.schema.toCtrl) ? params.obj.schema.toCtrl(params) : params.value\n    },\n    fromCtrl (params) {\n      // signature params { value, obj, data, schema }\n      //\n      // manipulate updated value from control, function must return a (modified) value\n      // schema:{ name: { type:'text', fromCtrl: ( {value} ) => value && value.toUpperCase, ... }, ... }\n      return params.obj.schema && isFunction(params.obj.schema.fromCtrl) ? params.obj.schema.fromCtrl(params) : params.value\n    },\n    dropCtrl (params) {\n      // signature params { value, obj, dragObject, dragEvent, event,data, schema }\n      //\n      // manipulate dropped value from control, function must return a (modified) value\n      // schema:{ name: { type:'text', drop: ( {value} ) => value && value.toUpperCase, ... }, ... }\n      return params.obj.schema && isFunction(params.obj.schema.drop) ? params.obj.schema.drop(params) : params.value\n    },\n    //\n    // Drag / Drop / DropValue\n    dragstart (event, obj) {\n      if (!obj.schema.drag) return\n\n      event.dataTransfer.dropEffect = dropEffect\n      event.dataTransfer.effectAllowed = dropEffect\n\n      const dragEvent = this.onEvent(event, obj)\n      event.dataTransfer.setData('text', JSON.stringify(dragEvent))\n    },\n\n    dragover (event, obj) { return obj.schema.drop ? event.preventDefault() : null },\n\n    drop (event, obj) {\n      if (!obj.schema.drop) return event.preventDefault()\n      // get dragEvent and dragEvent.obj\n      obj.dragEvent = JSON.parse(event.dataTransfer.getData('text'))\n\n      // no drop on drag object\n      if (obj.key === obj.dragEvent.obj.key && obj.id === obj.dragEvent.id) return event.preventDefault()\n      // handle schema.drop function\n      if (isFunction(obj.schema.drop)) obj.value = this.dropValue(obj, event)\n\n      this.onEvent(event, obj)\n\n      event.preventDefault()\n    },\n\n    dropValue (obj, event) {\n      return this.dropCtrl({ value: obj.dragEvent.value, obj, event, data: this.storeStateData, schema: this.storeStateSchema })\n    },\n    //\n    // Set Value\n    setValue (obj, type) {\n      // Use 'schema.toCtrl' Function for setting a modified Value\n      return (obj.schema.type === 'wrap')\n        ? this.toCtrl({ value: this.storeStateData, obj, data: this.storeStateData, schema: this.storeStateSchema })\n        : this.toCtrl({ value: obj.value, obj, data: this.storeStateData, schema: this.storeStateSchema })\n    },\n    //\n    // EVENTS Get Value from Input & other Events\n    onInput (value, obj, type = 'input') {\n      // Value after change in Control\n      value = this.fromCtrl({ value, obj, data: this.storeStateData, schema: this.storeStateSchema })\n      // harmonize undefined or empty strings => null, because 'clearable' in vuetify controls resets to null and not to empty string!\n      value = !value || value === '' ? null : value\n      // if schema type is number convert to number\n      value = obj.schema.type === 'number' ? Number(value) : value\n      // update deep nested prop(key) with value\n      this.setObjectByPath(this.storeStateData, obj.key, value)\n      obj.value = obj.value !== value ? value : obj.value\n\n      let key = obj.key\n      // when cascade select changed\n      // this.setCascadeSelect(obj)\n      getFormData.onInputEventFormData(\n        obj,\n        this.formSchema,\n        this.storeStateData,\n        this.flatCombinedArraySorted,\n        this.valueIntern\n      )\n\n      const emitObj = {\n        on: type,\n        id: this.id,\n        index: this.index,\n        params: { index: this.index, lastValue: obj.value },\n        key: key,\n        value,\n        obj,\n        data: this.storeStateData,\n        schema: this.storeStateSchema,\n        parent: this.parent\n      }\n\n      this.emitValue(type, emitObj)\n\n      return emitObj\n    },\n    onInputWrapper (emitObj, wrapperObj) {\n      if(wrapperObj.schema.type == 'wrap'){\n        const newKey = `${wrapperObj.key}.schema.${emitObj.key}`\n        // set(emitObj, 'schema', emitObj.schema[emitObj.key])\n        // set(emitObj, 'key', newKey)\n        // set(emitObj, 'obj.key', newKey)\n        // set(emitObj, 'obj.schema.key', newKey)\n        // set(emitObj, 'schema.key', newKey)\n      }\n      this.emitValue('input', emitObj)\n    },\n    onEvent (event = {}, obj, tag) {\n      const text = event && event.srcElement && event.srcElement.innerText\n      const model = obj.schema.model\n      const open = obj.schema.open\n      const index = this.index\n      // avoid circular JSON in dragstart\n      const parent = event.type !== 'dragstart' ? this.parent : undefined\n\n      const emitObj = {\n        on: event.type,\n        id: this.id,\n        index,\n        params: { text, tag, model, open, index },\n        key: obj.key,\n        value: obj.value,\n        obj,\n        event,\n        data: this.storeStateData,\n        schema: this.storeStateSchema,\n        parent\n      }\n\n      delay(() => { this.emitValue(event.type, emitObj), onEventDelay })\n      // __log(emitObj)\n      return emitObj\n    },\n    onClickOutside (event, obj) {\n      if (!obj.schema || !obj.schema.clickOutside) return\n      if (isFunction(obj.schema.clickOutside)) return obj.schema.clickOutside(obj, event)\n      this.emitValue('clickOutside', { on: 'clickOutside', id: this.id, key: obj.key, value: obj.value, obj, params: { x: event.clientX, y: event.clientY }, event, data: this.storeStateData, schema: this.storeStateSchema })\n    },\n    onIntersect (isIntersecting, entries, observer, obj) {\n      //   const isIntersecting = entries[0].isIntersecting\n      const index = this.index\n      this.emitValue('intersect', { on: 'intersect', id: this.id, index, key: obj.key, value: obj.value, obj, params: { isIntersecting, entries, observer }, data: this.storeStateData, schema: this.storeStateSchema })\n    },\n    onSwipe (tag, obj) {\n      this.emitValue('swipe', { on: 'swipe', id: this.id, key: obj.key, value: obj.value, obj, params: { tag }, data: this.storeStateData, schema: this.storeStateSchema })\n    },\n    onResize (event) {\n      this.emitValue('resize', { on: 'resize', id: this.id, params: { x: window.innerWidth, y: window.innerHeight }, event, data: this.storeStateData, schema: this.storeStateSchema })\n    },\n    //\n    // EMIT EVENT\n    emitValue (event, val) {\n      // const mouse = 'mouseenter|mouseleave'\n      // const change = 'input|click' // event change collects events 'input|click'\n      // const watch = 'focus|input|click|blur' // event watch collects events 'focus|input|click|blur'\n      // const display = 'resize|swipe|intersect' // event watch collects events 'resize|swipe|intersect'\n\n      // const emitEvent = change.includes(event) ? 'change' : watch.includes(event) ? 'watch' : mouse.includes(event) ? 'mouse' : display.includes(event) ? 'display' : event\n      const emitEvent = change.includes(event)\n        ? 'onChange'\n        : watch.includes(event)\n          ? 'onWatch'\n          : mouse.includes(event)\n            ? 'onMouse'\n            : display.includes(event)\n              ? 'onDisplay'\n              : event\n      // const listener = 'on' + this.$lodash.startCase(this.$lodash.camelCase(event)).replace(/ /g, '')\n      // __log(emitEvent, listener, this)\n      // if (this.$attrs[`${emitEvent}:${this.id}`]) {\n      //   this.deprecateEventCustomID(emitEvent)\n      //   this.deprecateCombinedEvents(emitEvent, event)\n      //   this.$emit(`${emitEvent}:${this.id}`, val) // listen to specific event only\n      // } else if (this.$attrs[`${emitEvent}`]) {\n      //   // this.deprecateCombinedEvents(emitEvent, event)\n      //   __log(emitEvent, val)\n      //   this.$emit(emitEvent, val) // listen to specific event only\n      // } else if (this.$attrs[`${listener}:${this.id}`]) {\n      //   this.deprecateEventCustomID(event)\n      //   this.$emit(`${event}:${this.id}`, val) // listen to specific event only\n      // } else if (this.$attrs[`${listener}`]) {\n      //   // this.$emit(event, val) // listen to specific event only\n      //   // this.$emit(listener, val) // listen to specific event only\n      //   // this.$emit('update:schema', this.storeStateSchema) // listen to specific event only\n      //   // __log(listener, this.storeStateData)\n      //   this.$emit(`${event}`, val) // listen to specific event only\n      //   // this.$emit('update:modelValue', this.storeStateData) // listen to specific event only\n      // }\n      if (event === 'onInput' || emitEvent === 'onChange') {\n        this.$emit('update:modelValue', this.storeStateData)\n      }\n\n      if (emits.includes(event)) {\n        this.$emit(`${event}`, val) // listen to specific event only\n      }\n    },\n    deprecateEventCustomID (ev) {\n      console.warn(`--- DEPRECATION ${ev}:${this.id}: ----------------------------------------------------------------------------`)\n      console.warn(`<v-form-base  @${ev}:${this.id}=\"handler\" /> is deprecated use simplified version <v-form-base  @${ev}=\"handler\" />`)\n      console.warn('---------------------------------------------------------------------------------------------')\n    },\n    deprecateCombinedEvents (emitEvent, event) {\n      if (emitEvent !== event) {\n        console.warn('--- DEPRECATION Combined Listener:  --------------------------------------------------------------------------')\n        console.warn(`Combined Event-Listener '${emitEvent}' have been removed for better comprehensibility and simplification`)\n        console.warn('Please use separate listener for each event like <v-form-base  @focus=\"handler\" @input=\"handler\" @blur=\"handler\"/>')\n        console.warn('---------------------------------------------------------------------------------------------')\n      }\n    },\n    //\n    // PREPARE ARRAYS DATA & SCHEMA\n    setObjectByPath (object, path, value) {\n      // resolves chained keys (like 'user.address.street') on an object and set the value\n      const pathArray = path.split(pathDelimiter)\n      pathArray.forEach((p, ix) => {\n        // if (ix === pathArray.length - 1) this.$set(object, p, value)\n        if (ix === pathArray.length - 1) object[p] = value\n        object = object[p]\n      })\n      // __log(object)\n    },\n    updateArrayFromState (data, schema) {\n      this.flatCombinedArray.forEach(obj => {\n        // ## CHECK WHY IS THAT NOT WORKING\n        obj.value = get(schema, [obj.key, 'type']) === 'select' ? get(data, obj.key, null) || get(schema, [obj.key, 'default'], null) : get(data, obj.key, null)\n        // obj.value = get(data, obj.key, null) // get - lodash\n        obj.schema = get(schema, obj.key, null) // get - lodash\n      })\n    },\n    sanitizeShorthandType (key, schema) {\n      // if key in schema is string only, then handle shorthand definition\n      // schema:{ name:'text' }  => schema:{ name: { type:'text', label: 'name' }\n      return isString(schema) ? { type: schema, label: key } : schema\n    },\n    flattenObjects (dat = {}, sch) {\n      const data = {}\n      const schema = {}\n      // Organize Formular using Schema not Data\n      Object.keys(sch).forEach(key => {\n        // convert string definition of name:'text' into object name:{type:'text'}\n        sch[key] = this.sanitizeShorthandType(key, sch[key])\n\n        const bothArray = Array.isArray(dat[key]) && Array.isArray(sch[key])\n        const datObjectWithoutSchemaType = isPlainObject(dat[key]) && !sch[key].type\n        const datObjectContainsTypeKey = (dat[key] && dat[key].type && (sch[key] && sch[key].type))\n        const notInstanceOfFileObject = !(dat[key] instanceof File)\n\n        if (bothArray || datObjectWithoutSchemaType || (datObjectContainsTypeKey && notInstanceOfFileObject)) {\n          const { data: flatData, schema: flatSchema } = this.flattenObjects(dat[key], sch[key])\n          Object.keys(flatData).forEach(ii => {\n            data[key + pathDelimiter + ii] = flatData[ii]\n            schema[key + pathDelimiter + ii] = flatSchema[ii]\n          })\n        } else {\n          data[key] = dat[key]\n          schema[key] = sch[key]\n        }\n      })\n      return { data, schema }\n    },\n    combineObjectsToArray ({ data, schema }) {\n      const arr = []\n      Object.keys(schema).forEach(key => {\n        if (!isPlainObject(schema[key])) {\n          console.warn(`Schema '${JSON.stringify(schema)}' of Prop '${key}' must be a string with value of type key:'text' or a plainobject with at least key:{ type:'text'} definition.  Prop '${key}' will be ignored!`)\n          return\n        }\n        arr.push({ key, value: data[key], schema: schema[key] })\n      })\n      return arr\n    },\n    flattenAndCombineToArray (data, schema) {\n      // flatten nested structure of both objects 'data' & 'schema' ...\n      const flattenedObjects = this.flattenObjects(data, schema)\n      // ... and combine them to an array\n      return this.combineObjectsToArray(flattenedObjects)\n    },\n    autogenerateSchema (value) {\n      // generate a minimal default schema from value\n      let schema = JSON.stringify(value, (key, val) => val === undefined ? null : val)\n      schema = JSON.parse(schema, (key, val) => {\n        if (val === null || val === undefined) return defaultSchemaIfValueIsNullOrUndefined(key)\n        if (typeof val === 'string') return defaultSchemaIfValueIsString(key)\n        if (typeof val === 'number') return defaultSchemaIfValueIsNumber(key)\n        if (typeof val === 'boolean') return defaultSchemaIfValueIsBoolean(key)\n        return val\n      })\n      // assign root props to avoid manipulating prop: schema\n      Object.keys(schema).forEach(key => this.formSchema[key] = schema[key])\n    },\n    tryAutogenerateModelStructure (model, schema) {\n      // generate or complete an empty model based on schema structure\n\n      Object.keys(schema).forEach(key => {\n        // model must be at least an empty Object. It doesn't work with 'null', 'undefined' or any 'primitive value'\n        // Autogeneration from Schema works only if model is an empty Object\n        // if model is NOT an empty Object, no action is applied, otherwise data in model could be changed or modified\n        if (!isEmpty(model[key])) return\n        const val = schema[key]\n        if (val.type === 'group') {\n          model[key] = {}\n          this.tryAutogenerateModelStructure(model[key], val.schema)\n        } else\n          if (val.type === 'array') {\n            model[key] = {}\n            this.tryAutogenerateModelStructure(model[key], val.schema)\n          } else\n            if (val.type === 'list') {\n              model[key] = {}\n            } else\n              if (isPlainObject(val) && !val.type) {\n                model[key] = {}\n                this.tryAutogenerateModelStructure(model[key], val)\n              }\n        if (Array.isArray(val) && !val.type) {\n          model[key] = {}\n          this.tryAutogenerateModelStructure(model[key], val)\n        }\n      })\n    },\n    rebuildArrays (model, schema) {\n      // undefined, null or primitive value for model can't work because you need reference to object for working on\n      if (!model) throw 'Property \\'model\\' is null or undefined. Use \\'<v-form-base :model=\"myModel\" :schema=\"mySchema\" />\\'. myModel must be at least an empty Object.'\n\n      // noise if async loading\n      if (isEmpty(schema) && isEmpty(model)) {\n        console.warn('At least one of the properties \\'model\\' or \\'schema\\' in <v-form-base /> must be at least an empty Object. Ignore this Warning on async loading \\'model\\' or \\'schema\\' ')\n        // return\n      }\n      // generate/complete structure of model\n      this.tryAutogenerateModelStructure(model, schema)\n\n      // no schema defined or empty -> autogenerate basic schema\n      if (isEmpty(schema)) this.autogenerateSchema(model)\n\n      // create flatted working array from schema and value\n      this.flatCombinedArray = this.flattenAndCombineToArray(this.storeStateData, this.storeStateSchema)\n    },\n\n    setCascadeSelect (obj) {\n      if (obj.schema.type === 'select' && obj.schema.hasOwnProperty('cascade')) {\n        const cascadedSelectName = obj.schema.name.includes('repeater') ? obj.schema.name.match(/repeater\\d+-input\\[\\d+\\]/) + `[${obj.schema.cascade}]` : obj.schema.cascade\n        const cascadeKey = obj.schema.cascadeKey ?? 'items'\n        const selectItemValue = obj.schema.itemValue ?? 'id'\n\n        // ACTIONS\n        this.formSchema[cascadedSelectName][cascadeKey] = find(obj.schema[cascadeKey], [selectItemValue, this.valueIntern[obj.key]])?.schema ?? []\n        const sortIndex = findIndex(this.flatCombinedArraySorted, ['key', cascadedSelectName])\n        this.storeStateData[cascadedSelectName] = this.formSchema[cascadedSelectName][cascadeKey].length > 0 ? this.formSchema[cascadedSelectName][cascadeKey][0].value : []\n        this.flatCombinedArraySorted[sortIndex].value = this.valueIntern[cascadedSelectName]\n        this.setCascadeSelect(this.flatCombinedArraySorted[sortIndex])\n      } else if ((obj.schema.type === 'select') && obj.schema.hasOwnProperty('autofill')) {\n        obj.schema.autofill.forEach(element => {\n          if (this.formSchema[element].autofillable) {\n            this.storeStateData[element] = find(obj.schema.items, ['id', this.valueIntern[obj.key]])?.[element] ?? ''\n            // ## TODO type conditional default value\n          }\n        })\n      }\n    }\n  },\n  created () {\n    this.rebuildArrays(this.valueIntern, this.formSchema)\n  }\n}\n</script>\n","<template>\n  <v-dialog\n    v-model=\"dialog\"\n    v-bind=\"$bindAttributes()\"\n    :transition=\"transition\"\n    :fullscreen=\"full\"\n    :width=\"modalWidth\"\n    >\n    <template v-for=\"(_, name) in $slots\" v-slot:[name]=\"slotProps\">\n      <slot :name=\"name\" v-bind=\"slotProps || {}\"></slot>\n    </template>\n\n    <template v-slot:default=\"defaultScope\">\n      <slot name=\"default\" v-bind=\"{\n          ...defaultScope,\n          isFullActive: this.full,\n          toggleFullscreen: () => this.toggleFullscreen(),\n          close: () => this.close(),\n          confirm: () => this.confirm(),\n          open: () => this.open(),\n\n        }\">\n        <slot name=\"systembar\">\n          <v-layout v-if=\"hasSystembar\" style=\"height: 40px\">\n            <v-col>\n              <v-system-bar dark>\n                <v-icon @click=\"toggleFullscreen()\" :x-small=\"full\">\n                  mdi-checkbox-blank-outline\n                </v-icon>\n                <v-icon @click=\"close()\">mdi-close</v-icon>\n              </v-system-bar>\n            </v-col>\n          </v-layout>\n        </slot>\n        <slot name=\"body\"\n            v-bind=\"{\n                textCancel: this.textCancel,\n                textConfirm: this.textConfirm,\n                textDescription: this.textDescription,\n                isFullActive: this.full,\n\n                open: () => this.open(),\n                close: () => this.close(),\n                confirm: () => this.confirm(),\n                toggleFullscreen: () => this.toggleFullscreen(),\n            }\"\n            :closeDialog=\"close\"\n            >\n            <v-card >\n              <v-card-title class=\"text-h5 text-center\" style=\"word-break: break-word;\">\n                <!-- {{ textDescription }} -->\n              </v-card-title>\n              <v-card-text class=\"text-center\" style=\"word-break: break-word;\" >\n                <slot name=\"body.description\" v-bind=\"{textDescription}\">\n                  {{ textDescription }}\n                </slot>\n              </v-card-text>\n              <v-divider/>\n              <v-card-actions>\n                <v-spacer/>\n                <slot name=\"body.options\" v-bind=\"{textDescription}\">\n                  <v-btn ref=\"modalCancel\" class=\"modal-cancel\" color=\"red\" text @click=\"cancel()\"> {{ textCancel }}</v-btn>\n                  <v-btn ref=\"modalConfirm\" class=\"modal-confirm\" color=\"green\" text @click=\"confirm()\"> {{ textConfirm }}</v-btn>\n                </slot>\n                <v-spacer/>\n              </v-card-actions>\n            </v-card>\n        </slot>\n      </slot>\n    </template>\n  </v-dialog>\n</template>\n\n<script>\nimport htmlClasses from '@/utils/htmlClasses'\nimport { makeModalProps, useModal } from '@/hooks'\n\nexport default {\n  emits: [\n    'update:modelValue',\n    'opened'\n  ],\n  props: {\n    ...makeModalProps()\n  },\n  setup (props, context) {\n    return {\n      ...useModal(props, context)\n    }\n  },\n  computed: {\n    textCancel () {\n      return this.cancelText !== '' ? this.cancelText : this.$t('fields.cancel')\n    },\n    textConfirm () {\n      return this.confirmText !== '' ? this.confirmText : this.$t('fields.confirm')\n    },\n    textDescription () {\n      return this.descriptionText\n    }\n  },\n\n  watch: {\n    dialog (value) {\n      !value || this.emitOpened()\n    }\n  },\n\n  methods: {\n    toggle () {\n      this.dialog = !this.dialog\n    },\n    close (callback = null) {\n      if (callback) {\n        callback()\n      }\n      this.dialog = false\n    },\n    open (callback = null, nextCallback = null) {\n      if (callback) {\n        callback()\n      }\n\n      this.dialog = true\n      if (nextCallback) {\n        const _this = this\n        this.$nextTick().then(() => {\n          _this.$refs.modalConfirm.$el.addEventListener('click', (e) => {\n            nextCallback()\n            _this.close()\n          })\n\n          _this.$refs.modalCancel.$el.addEventListener('click', (e) => {\n            _this.close()\n          })\n        })\n      }\n    },\n    confirm (callback = null) {\n      if (callback) {\n        callback()\n      }\n      this.dialog = false\n      this.$emit('confirm')\n    },\n    cancel (callback = null) {\n      if (callback) {\n        callback()\n      }\n      this.dialog = false\n      this.$emit('cancel')\n    },\n    // attrs (attrs) {\n    //   return attrs\n    // },\n    toggleFullscreen () {\n      this.full = !this.full\n    },\n    screenListener (e) {\n      this.full = e.target.fullScreen\n    }\n  },\n  beforeUnmount: function () {\n\n  },\n  created () {\n    // setInterval((self) => {\n    //   __log('dialog', self.dialog)\n    // }, 5000, this)\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import axios from 'axios'\nimport { globalError } from '@/utils/errors'\n\nconst component = 'MEDIA-LIBRARY'\n\nexport default {\n\n  get (endpoint, params, callback, errorCallback) {\n    // Params\n    //\n    // Form datas : query, page\n\n    // Set endpoint in global config\n    axios.get(endpoint, { params: params }).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      // error callback\n      const error = {\n        message: 'Media library get error.',\n        value: resp\n      }\n      globalError(component, error)\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(resp)\n    })\n  },\n\n  update (endpoint, params, callback, errorCallback) {\n    axios.put(endpoint, params).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      // error callback\n      const error = {\n        message: 'Media library update error.',\n        value: resp\n      }\n      globalError(component, error)\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(resp)\n    })\n  },\n\n  delete (endpoint, callback, errorCallback) {\n    axios.delete(endpoint).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      // error callback\n      const error = {\n        message: 'Media library delete error.',\n        value: resp\n      }\n      globalError(component, error)\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(resp)\n    })\n  },\n\n  bulkDelete (endpoint, params, callback, errorCallback) {\n    axios.put(endpoint, params).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp)\n    }, function (resp) {\n      // error callback\n      const error = {\n        message: 'Media library bulk delete error.',\n        value: resp\n      }\n      globalError(component, error)\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(resp)\n    })\n  }\n}\n","const scrollToY = function (options) {\n  // Doc: https://code.area17.com/mike/a17-js-helpers/wikis/A17-Helpers-scrollToY\n\n  const settings = {\n    el: document,\n    offset: 0,\n    duration: 250,\n    easing: 'linear'\n  }\n  const start = Date.now()\n  let from = 0\n  let isDocument = false\n  const easingEquations = {\n\n    // Easing functions taken from: https://gist.github.com/gre/1650294\n    // -\n    // no easing, no acceleration\n    linear: function (t) { return t },\n\n    // accelerating from zero velocity\n    easeIn: function (t) { return t * t * t },\n\n    // decelerating to zero velocity\n    easeOut: function (t) { return (--t) * t * t + 1 },\n\n    // acceleration until halfway, then deceleration\n    easeInOut: function (t) { return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1 }\n  }\n  const useRequestAnimationFrame = window.requestAnimationFrame\n  let scrollInterval\n\n  for (const def in options) {\n    if (typeof options[def] !== 'undefined') {\n      settings[def] = options[def]\n    }\n  }\n\n  if (settings.el === document) {\n    isDocument = true\n    settings.el = document.documentElement.scrollTop ? document.documentElement : document.body\n  }\n\n  from = settings.el.scrollTop\n\n  if (from === settings.offset) {\n    // Prevent scrolling to the offset point if already there\n    return\n  }\n\n  function min (a, b) {\n    return a < b ? a : b\n  }\n\n  function cancelInterval () {\n    if (useRequestAnimationFrame) {\n      try {\n        cancelAnimationFrame(scrollInterval)\n      } catch (err) {\n        // continue execution in case cancelAnimationFrame fails\n      }\n    } else {\n      clearTimeout(scrollInterval)\n    }\n  }\n\n  function scroll () {\n    if (isDocument && from === 0) {\n      // eugh Firefox! (https://miketaylr.com/posts/2014/11/document-body-scrollTop.html)\n      document.documentElement.scrollTop = 1\n      document.body.scrollTop = 1\n      from = 1\n      settings.el = document.documentElement.scrollTop ? document.documentElement : document.body\n      requestAnimationFrame(scroll)\n    } else {\n      const currentTime = Date.now()\n      const time = min(1, ((currentTime - start) / settings.duration))\n      const easedT = easingEquations[settings.easing](time)\n\n      settings.el.scrollTop = (easedT * (settings.offset - from)) + from\n\n      if (time < 1) {\n        doScroll()\n      } else {\n        cancelInterval()\n        if ((typeof settings.onComplete).toLowerCase() === 'function') {\n          settings.onComplete.call(this)\n        }\n      }\n    }\n  }\n\n  function doScroll () {\n    if (useRequestAnimationFrame) {\n      scrollInterval = requestAnimationFrame(scroll)\n    } else {\n      scrollInterval = setTimeout(function () {\n        scroll()\n      }, (1000 / 60))\n    }\n  }\n\n  doScroll()\n}\n\nexport default scrollToY\n","import { mapState } from 'vuex'\n\nexport default {\n  props: {\n    items: {\n      type: Array,\n      default: () => []\n    },\n    selectedItems: {\n      type: Array,\n      default: () => []\n    },\n    usedItems: {\n      type: Array,\n      default: () => []\n    }\n  },\n  computed: {\n    ...mapState({\n      itemsLoading: state => state.mediaLibrary.loading\n    }),\n    replacingMediaIds: function () {\n      return this.itemsLoading.reduce((agg, curr) => {\n        if (curr.isReplacement) {\n          agg[curr.replacementId] = curr.id\n        }\n        return agg\n      }, {})\n    }\n  },\n  methods: {\n    isSelected: function (item, keys = ['id']) {\n      return Boolean(this.selectedItems.find(sItem => keys.every(key => sItem[key] === item[key])))\n    },\n    isUsed: function (item, keys = ['id']) {\n      return Boolean(this.usedItems.find(uItem => keys.every(key => uItem[key] === item[key])))\n    },\n    toggleSelection: function (item) {\n      this.$emit('change', item)\n    },\n    shiftToggleSelection: function (item) {\n      this.$emit('shiftChange', item, true)\n    }\n  }\n}\n","<template>\n  <div class=\"mediagrid\">\n    <div class=\"mediagrid__item\" v-show=\"!item.isReplacement\" v-for=\"(item, index) in itemsLoading\" :key=\"'mediaLoading_' + item.id\">\n      <span class=\"mediagrid__button s--loading\">\n        <span class=\"mediagrid__progress\" v-if=\"!item.error\"><span class=\"mediagrid__progressBar\" :style=\"loadingProgress(index)\"></span></span>\n        <span class=\"mediagrid__progressError\" v-else>Upload Error</span>\n      </span>\n    </div>\n    <div class=\"mediagrid__item\" :class=\"{'s--hasFilename': showFileName}\" v-for=\"item in items\" :key=\"item.id\">\n      <span class=\"mediagrid__button\" :class=\"{\n          's--picked': isSelected(item),\n          's--used': isUsed(item) || !!replacingMediaIds[item.id],\n          's--disabled': item.disabled\n        }\"\n        @click.exact=\"toggleSelection(item)\"\n        @click.shift.exact=\"shiftToggleSelection(item)\">\n          <img :src=\"item.thumbnail\" class=\"mediagrid__img\" />\n        </span>\n        <p v-if=\"showFileName\" :title=\"item.name\" class=\"mediagrid__name\">{{ item.name }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mediaItemsMixin from '@/mixins/mediaLibrary/mediaItems'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'A17Mediagrid',\n  mixins: [mediaItemsMixin],\n  computed: {\n    ...mapState({\n      showFileName: state => state.mediaLibrary.showFileName\n    })\n  },\n  methods: {\n    loadingProgress: function (index) {\n      return {\n        width: this.itemsLoading[index].progress ? this.itemsLoading[index].progress + '%' : '0%'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  $height_text: 17px;\n\n  .mediagrid {\n    display: block;\n    width: 100%;\n    height: 100%;\n    font-size:0;\n    line-height: 1em;\n  }\n\n  .mediagrid__item {\n    position:relative;\n    display:inline-block;\n    width: 16.66666665%;\n    padding-bottom: 16.66666665%;\n    overflow: hidden;\n    background:white;\n\n    @media (max-width: 300px) {\n      width: 100%;\n      padding-bottom: 100%;\n    }\n\n    @media (min-width: 300px) {\n      width: calc(100%/ 2);\n      padding-bottom: calc(100%/ 2);\n    }\n\n    @media (min-width: 600px) {\n      width: calc(100%/ 2);\n      padding-bottom: calc(100%/ 2);\n    }\n\n    @media (min-width: 800px) {\n      width: calc(100%/ 3);\n      padding-bottom: calc(100%/ 3);\n    }\n\n    @media (min-width: 1000px) {\n      width: calc(100%/ 4);\n      padding-bottom: calc(100%/ 4);\n    }\n\n    @media (min-width: 1200px) {\n      width: calc(100%/ 5);\n      padding-bottom: calc(100%/ 5);\n    }\n\n    @media (min-width: 1400px) {\n      width: calc(100%/ 6);\n      padding-bottom: calc(100%/ 6);\n    }\n\n    @media (min-width: 1600px) {\n      width: calc(100%/ 7);\n      padding-bottom: calc(100%/ 7);\n    }\n\n    @media (min-width: 1800px) {\n      width: calc(100%/ 8);\n      padding-bottom: calc(100%/ 8);\n    }\n\n    @media (min-width: 2000px) {\n      width: calc(100%/ 9);\n      padding-bottom: calc(100%/ 9);\n    }\n\n    @media (min-width: 2200px) {\n      width: calc(100%/ 10);\n      padding-bottom: calc(100%/ 10);\n    }\n\n    &.s--hasFilename {\n      @media (max-width: 300px) {\n        width: 100%;\n        padding-bottom: calc(100% + #{$height_text});\n      }\n\n      @media (min-width: 300px) {\n        padding-bottom: calc((100% / 2) + #{$height_text});\n      }\n\n      @media (min-width: 600px) {\n        padding-bottom: calc((100% / 2) + #{$height_text});\n      }\n\n      @media (min-width: 800px) {\n        padding-bottom: calc((100% / 3) + #{$height_text});\n      }\n\n      @media (min-width: 1000px) {\n        padding-bottom: calc((100% / 4) + #{$height_text});\n      }\n\n      @media (min-width: 1200px) {\n        padding-bottom: calc((100% / 5) + #{$height_text});\n      }\n\n      @media (min-width: 1400px) {\n        padding-bottom: calc((100% / 6) + #{$height_text});\n      }\n\n      @media (min-width: 1600px) {\n        padding-bottom: calc((100% / 7) + #{$height_text});\n      }\n\n      @media (min-width: 1800px) {\n        padding-bottom: calc((100% / 8) + #{$height_text});\n      }\n\n      @media (min-width: 2000px) {\n        padding-bottom: calc((100% / 9) + #{$height_text});\n      }\n\n      @media (min-width: 2200px) {\n        padding-bottom: calc((100% / 10) + #{$height_text});\n      }\n    }\n\n  }\n\n  .mediagrid__button {\n    position: absolute;\n    cursor:pointer;\n    display: flex;\n    justify-content: center; /* align horizontal */\n    flex-direction: column;\n    align-items: center; /* align vertical */\n\n    // @include font-regular;\n    font-size: 15px;\n\n    user-select: none;\n    // background:$color__lighter;\n    top: 10px;\n    left: 10px;\n    right: 10px;\n    bottom: 10px;\n\n    .s--hasFilename & {\n      bottom: calc(10px + #{$height_text})\n    }\n\n    &:before {\n      content: \"\";\n      position: absolute;\n      display:block;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border:1px solid rgba(0,0,0,0.05);\n    }\n\n    &.s--picked {\n      &:after {\n        content: \"\";\n        position: absolute;\n        display:block;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        border:4px solid $color__link;\n        z-index: 1;\n      }\n    }\n\n    &.s--used {\n      &:before {\n        content: \"\";\n        position: absolute;\n        display:block;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: $color__translucentBlue;\n        opacity: 0.85;\n      }\n    }\n\n    &.s--disabled {\n      pointer-events: none;\n      opacity: 0.2;\n    }\n  }\n\n  .mediagrid__name {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    padding: 3px 20px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    font-size: 13px;\n    color: $color__text--light;\n    width: 100%;\n    text-align: center;\n    cursor: default;\n  }\n\n  .s--loading {\n    background:$color__f--bg;\n    cursor:default;\n  }\n\n  .mediagrid__img {\n    display:block;\n    max-width:100%;\n    height:auto;\n    max-height:100%;\n  }\n\n  .mediagrid__progress {\n    height: 4px;\n    width: 80%;\n    background: $color__border--focus;\n    border-radius: 2px;\n    position: relative;\n  }\n\n  .mediagrid__progressBar {\n    position: absolute;\n    top:0;\n    left:0;\n    width: 100%;\n    border-radius: 2px;\n    height:4px;\n    background: $color__action;\n  }\n\n  .mediagrid__progressError {\n    color:$color__error;\n  }\n</style>\n","<template>\n  <div class=\"itemlist\">\n    <table class=\"itemlist__table\">\n      <tbody>\n        <tr class=\"itemlist__row\" v-show=\"!item.isReplacement\" v-for=\"(item, index) in itemsLoading\" :key=\"item.id\" >\n          <td class=\"itemlist__cell itemlist__cell--loading\" :class=\"{ 'itemlist__cell--error' : item.error }\" :colspan=\"columnsNumber\">\n            <span class=\"itemlist__progress\" v-if=\"!item.error\" ><span class=\"itemlist__progressBar\" :style=\"loadingProgress(index)\"></span></span>\n            <span class=\"itemlist__progressError\" v-else>Upload Error</span>\n          </td>\n        </tr>\n        <tr class=\"itemlist__row\"\n            v-for=\"(item, index) in allItems\"\n            :key=\"`${item.endpointType}_${item.id}`\"\n            :class=\"{\n              's--picked': isSelected(item, keysToCheck),\n              's--disabled': item.disabled || !!replacingMediaIds[item.id]\n            }\"\n            @click.exact.prevent=\"toggleSelection(item)\"\n            @click.shift.exact.prevent=\"shiftToggleSelection(item)\">\n          <template v-if=\"!item.isReplacement\">\n            <td class=\"itemlist__cell itemlist__cell--btn\" v-if=\"item.hasOwnProperty('id')\">\n              <!-- <a17-checkbox name=\"item_list\" :value=\"item.endpointType + '_' + item.id\" :initialValue=\"checkedItems\" theme=\"bold\" :disabled=\"item.disabled\" /> -->\n            </td>\n            <td class=\"itemlist__cell itemlist__cell--thumb\" v-if=\"item.hasOwnProperty('thumbnail')\">\n              <img :src=\"item.thumbnail\" />\n            </td>\n            <td class=\"itemlist__cell itemlist__cell--name\" v-if=\"item.hasOwnProperty('name')\">\n              <div v-if=\"item.hasOwnProperty('renderHtml')\" v-html=\"item.name\"></div>\n              <div v-else>{{ item.name }}</div>\n            </td>\n            <td class=\"itemlist__cell\"\n                v-for=\"(extraColumn, index) in extraColumns\"\n                :key=\"index\"\n                :class=\"rowClass(extraColumn)\">\n              <template v-if=\"extraColumn === 'size'\">{{ item[extraColumn].toUpperCase() }}</template>\n              <template v-else>{{ item[extraColumn] }}</template>\n            </td>\n          </template>\n          <template v-else-if=\"item.isReplacement\">\n            <td class=\"itemlist__cell itemlist__cell--loading\" :class=\"{ 'itemlist__cell--error' : item.error }\" :colspan=\"columnsNumber\">\n              <span class=\"itemlist__progress\" v-if=\"!item.error\" ><span class=\"itemlist__progressBar\" :style=\"loadingProgress(index, 'allItems')\"></span></span>\n              <span class=\"itemlist__progressError\" v-else>Upload Error</span>\n            </td>\n          </template>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport a17VueFilters from '@/utils/filters.js'\nimport mediaItemsMixin from '@/mixins/mediaLibrary/mediaItems'\n\nexport default {\n  name: 'A17Itemlist',\n  props: {\n    keysToCheck: {\n      type: Array,\n      default: () => ['id']\n    }\n  },\n  mixins: [mediaItemsMixin],\n  filters: a17VueFilters,\n  computed: {\n    allItems: function () {\n      return this.items.map((item) => {\n        if (!this.replacingMediaIds[item.id]) return item\n        else {\n          const loadingItem = this.itemsLoading.find(loadingItem => loadingItem.replacementId === item.id)\n          if (loadingItem) return loadingItem\n          return item\n        }\n      })\n    },\n    columnsNumber: function () {\n      if (!this.items.length) return 0\n\n      let numb = this.extraColumns.length\n\n      const firstItem = this.items[0]\n\n      if (firstItem.hasOwnProperty('id')) numb++\n      if (firstItem.hasOwnProperty('name')) numb++\n      if (firstItem.hasOwnProperty('thumbnail')) numb++\n\n      return numb\n    },\n    extraColumns: function () {\n      if (!this.items.length) return []\n\n      const firstItem = this.items[0]\n\n      return Object.keys(firstItem).filter(key => { // exclude columns here\n        return ![\n          'id', 'name', 'thumbnail', 'src', 'original', 'edit',\n          'crop', 'deleteUrl', 'updateUrl', 'updateBulkUrl',\n          'deleteBulkUrl', 'endpointType', 'filesizeInMb'\n        ].includes(key) && typeof firstItem[key] === 'string' // only strings\n      })\n    },\n    checkedItems: function () {\n      const checkItemsIds = []\n\n      if (this.selectedItems.length) {\n        this.selectedItems.forEach(function (item) {\n          checkItemsIds.push(item.endpointType + '_' + item.id)\n        })\n      }\n\n      return checkItemsIds\n    }\n  },\n  methods: {\n    rowClass: function (item) {\n      return 'itemlist__cell--' + item\n    },\n    loadingProgress: function (index, itemsKey) {\n      const items = itemsKey ? this[itemsKey] : this.itemsLoading\n      return {\n        width: items[index].progress ? items[index].progress + '%' : '0%'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .itemlist {\n    padding: 10px;\n    overflow:hidden;\n  }\n\n  .itemlist__table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n    // table-layout: fixed;\n    white-space: nowrap;\n  }\n\n  .itemlist__table {\n    th, td {\n      border-top:1px solid $color__border--light;\n      border-bottom:1px solid $color__border--light;\n      vertical-align: top;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    td:first-child {\n      border-left:1px solid $color__border--light;\n    }\n\n    td:last-child {\n      border-right:1px solid $color__border--light;\n    }\n  }\n\n  .itemlist__row {\n    overflow: hidden;\n    background:white;\n    position:relative;\n\n    cursor:pointer;\n\n    &:hover {\n      background-color: $color__f--bg;\n    }\n\n    &.s--disabled {\n      color: $color__button_greyed--bg;\n      pointer-events: none;\n    }\n  }\n\n  .itemlist__row:first-child {\n    border-top-left-radius: 2px;\n    border-top-right-radius: 2px;\n  }\n\n  .itemlist__cell {\n    padding:20px 10px;\n    white-space: nowrap;\n    overflow:hidden;\n    text-overflow:ellipsis;\n    vertical-align:middle;\n\n    &:first-child {\n      padding-left:20px;\n    }\n\n    &:last-child {\n      padding-left:20px;\n    }\n  }\n\n  .itemlist__cell > *:first-child {\n    display: block;\n  }\n\n  .itemlist__cell--btn {\n    width:1px;\n    // width:15px + 20px + 10px;\n  }\n\n  .itemlist__cell--type {\n    width: 150px;\n  }\n\n  // .itemlist__cell--name {\n  //   width:40%;\n  // }\n\n  .itemlist__cell--thumb {\n    width:50px;\n\n    img {\n      display:block;\n      width:50px;\n      height:auto;\n      background: $color__border--light;\n    }\n  }\n\n  .itemlist__cell--loading {\n    height: 4px;\n  }\n\n  .itemlist__cell--error {\n    height:auto;\n  }\n\n  .itemlist__progress {\n    height: 4px;\n    width: 15%;\n    min-width:120px;\n    background: $color__border--focus;\n    border-radius: 2px;\n    position: relative;\n  }\n\n  .itemlist__progressBar {\n    position: absolute;\n    top:0;\n    left:0;\n    width: 100%;\n    border-radius: 2px;\n    height:4px;\n    background: $color__action;\n  }\n\n  .itemlist__progressError {\n    color:$color__error;\n  }\n</style>\n","<template>\n  <div class=\"mediasidebar__inner mediasidebar__inner--single\">\n    <p class=\"f--note\">Uploading {{ mediasLoading.length }} file{{ mediasLoading.length > 1 ? 's' : '' }}</p>\n\n    <div class=\"mediasidebar__progress\"><span class=\"mediasidebar__progressBar\" :style=\"loadingProgress\"></span></div>\n\n    <div class=\"mediasidebar__loading\">\n      <p class=\"f--small\" v-for=\"media in mediasLoading\" :key=\"media.id\" :class=\"{ 's--error' : media.error }\">\n        <span class=\"mediasidebar__errorMessage\" v-if=\"media.error\">{{media.errorMessage}}</span>\n        <span>{{ media.name }}</span> <a href=\"#\" v-if=\"media.error\" @click.prevent=\"cancelUpload(media)\">Cancel</a>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { MEDIA_LIBRARY } from '@/store/mutations'\n\nexport default {\n  name: 'A17MediaSidebarUpload',\n  props: {\n    selectedMedias: {\n      default: function () { return [] }\n    }\n  },\n  data: function () {\n    return {\n      updateInProgress: false\n    }\n  },\n  computed: {\n    loadingProgress: function () {\n      const progress = -100 + this.uploadProgress\n      return {\n        transform: 'translateX(' + progress + '%)'\n      }\n    },\n    ...mapState({\n      mediasLoading: state => state.mediaLibrary.loading,\n      uploadProgress: state => state.mediaLibrary.uploadProgress\n    })\n  },\n  methods: {\n    cancelUpload: function (media) {\n      this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA, media)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .mediasidebar__progress {\n    height: 6px;\n    background: $color__border--focus;\n    border-radius: 3px;\n    position: relative;\n    margin-top:20px;\n    overflow: hidden;\n  }\n\n  .mediasidebar__progressBar {\n    position: absolute;\n    display:block;\n    top:0;\n    left:0;\n    width: 100%;\n    border-radius: 3px;\n    height:6px;\n    background: $color__action;\n    transform: translateX(-100%);\n    transition: transform 250ms;\n  }\n\n  .mediasidebar__loading {\n    margin-top:25px;\n\n    p {\n      margin-top:5px;\n      display:flex;\n      flex-flow: row wrap;\n\n      span {\n        flex-grow:1;\n      }\n    }\n\n    a {\n      color:$color__link;\n      text-decoration:none;\n\n      &:hover {\n        text-decoration:underline;\n      }\n    }\n  }\n\n  .mediasidebar__errorMessage {\n    display: block;\n    width: 100%;\n    color: $color__black;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n\n  .s--error {\n    color:$color__error;\n  }\n</style>\n","<template>\n  <div class=\"mediasidebar\">\n    <ue-mediasidebar-upload v-if=\"mediasLoading.length\" />\n    <template v-else>\n      <div class=\"mediasidebar__inner\" :class=\"containerClasses\">\n        <p v-if=\"!hasMedia\" class=\"f--note\">{{ $trans('media-library.sidebar.empty-text', 'No file selected') }}</p>\n        <p v-if=\"hasMultipleMedias\" class=\"mediasidebar__info\">\n          {{ medias.length }} {{ $trans('media-library.sidebar.files-selected', 'files selected') }} <a href=\"#\"\n            @click.prevent=\"clear\">{{ $trans('media-library.sidebar.clear', 'Clear') }}</a>\n        </p>\n\n        <template v-if=\"hasSingleMedia\">\n          <img v-if=\"isImage\" :src=\"firstMedia.thumbnail\" class=\"mediasidebar__img\" :alt=\"firstMedia.original\" />\n          <p class=\"mediasidebar__name\">{{ firstMedia.name }}</p>\n          <v-list density=\"compact\" class=\"bg-transparent\">\n            <v-list-item v-if=\"firstMedia.size\" color=\"primary\" variant=\"tonal\">\n              <!-- <template v-slot:prepend><v-icon icon=\"mdi-folder\"/></template> -->\n              <v-list-item-title>File size: {{ firstMedia.size.toUpperCase() }}</v-list-item-title>\n            </v-list-item>\n            <v-list-item v-if=\"isImage && (firstMedia.width + firstMedia.height)\" color=\"primary\" variant=\"tonal\">\n              <!-- <template v-slot:prepend><v-icon icon=\"mdi-relative-scale\"/></template> -->\n              <v-list-item-title>{{ $t('media-library.sidebar.dimensions', 'Dimensions') }}: {{ firstMedia.width }} &times; {{\n                firstMedia.height }}\n              </v-list-item-title>\n            </v-list-item>\n          </v-list>\n        </template>\n        <v-row v-if=\"hasMedia\" align=\"center\" justify=\"space-around\" class=\"mt-12\">\n          <v-btn v-if=\"hasSingleMedia\" :href=\"firstMedia.original\" download icon=\"mdi-download\" size=\"small\"/>\n          <v-btn v-if=\"allowDelete && authorized\" icon=\"$trash\" size=\"small\" type=\"button\" @click=\"deleteSelectedMediasValidation\" />\n          <v-btn v-else icon=\"$trash\" disabled size=\"small\" type=\"button\" />\n          <v-btn v-if=\"hasSingleMedia\" icon=\"mdi-recycle\" size=\"small\" type=\"button\" @click=\"replaceMedia\" />\n        </v-row>\n      </div>\n\n      <form v-if=\"hasMedia\" ref=\"form\" class=\"mediasidebar__inner mediasidebar__form\" @submit=\"submit\">\n        <span class=\"mediasidebar__loader\" v-if=\"loading\"><span class=\"loader loader--small\"><span></span></span></span>\n        <!-- <a17-vselect v-if=\"!fieldsRemovedFromBulkEditing.includes('tags')\" :label=\"$trans('media-library.sidebar.tags')\"\n          :key=\"firstMedia.id + '-' + medias.length\" name=\"tags\" :multiple=\"true\"\n          :selected=\"hasMultipleMedias ? sharedTags : firstMedia.tags\" :searchable=\"true\"\n          :emptyText=\"$trans('media-library.no-tags-found', 'Sorry, no tags found.')\" :taggable=\"true\" :pushTags=\"true\"\n          size=\"small\" :endpoint=\"type.tagsEndpoint\" @change=\"save\" maxHeight=\"175px\" /> -->\n          <template\n            v-if=\"!hasMultipleMedias\"\n          >\n            <SelectTag\n              :label=\"$trans('media-library.sidebar.tags')\"\n              :key=\"firstMedia.id + '-' + medias.length\"\n              name=\"\"\n              :v-model=\"hasMultipleMedias ? sharedTags : firstMedia.tags\"\n              :options=\"tags\"\n              :selected=\"hasMultipleMedias ? sharedTags : firstMedia.tags\"\n              :searchable=\"true\"\n              :multiple=\"true\"\n              :emptyText=\"$trans('media-library.no-tags-found', 'Sorry, no tags found.')\"\n              :taggable=\"true\"\n              :pushTags=\"true\"\n              size=\"small\"\n              :endpoint=\"type.tagsEndpoint\"\n              @change=\"save\"\n            >\n            </SelectTag>\n            <v-text-field\n              :label=\"$trans('media-library.sidebar.alt-text')\"\n              variant=\"outlined\"\n              name=\"alt_text\"\n              @blur=\"blur\"\n              v-if=\"isImage\"\n              v-model=\"firstMedia.metadatas.default.altText\"\n              >\n            </v-text-field>\n            <v-textarea\n              :label=\"$trans('media-library.sidebar.caption')\"\n              variant=\"outlined\"\n              name=\"caption\"\n              @blur=\"blur\"\n              v-if=\"isImage\"\n              v-model=\"firstMedia.metadatas.default.caption\"\n            >\n            </v-textarea>\n          </template>\n\n\n        <v-tooltip\n          v-if=\"extraMetadatas.length && isImage && hasMultipleMedias && !fieldsRemovedFromBulkEditing.includes('tags')\"\n          text=\"Remove this field if you do not want to update it on all selected medias\"\n          location=\"top\"\n          >\n          <template v-slot:activator=\"{ props }\" >\n            <span\n              v-bind=\"props\"\n              class=\"f--tiny f--note f--underlined\" @click=\"removeFieldFromBulkEditing('tags')\"\n              >\n              Remove from bulk edit\n            </span>\n          </template>\n        </v-tooltip>\n        <!-- <span\n          v-if=\"extraMetadatas.length && isImage && hasMultipleMedias && !fieldsRemovedFromBulkEditing.includes('tags')\"\n          class=\"f--tiny f--note f--underlined\" @click=\"removeFieldFromBulkEditing('tags')\"\n          data-tooltip-title=\"Remove this field if you do not want to update it on all selected medias\"\n          data-tooltip-theme=\"default\" data-tooltip-placement=\"top\" v-tooltip>Remove from bulk edit\n        </span> -->\n\n        <template v-if=\"hasMultipleMedias\">\n          <input type=\"hidden\" name=\"ids\" :value=\"mediasIds\" />\n        </template>\n        <template v-else>\n          <input type=\"hidden\" name=\"id\" :value=\"firstMedia.id\" />\n          <!-- <div class=\"mediasidebar__langswitcher\" v-if=\"translatableMetadatas.length > 0\">\n            <a17-langswitcher :in-modal=\"true\" :all-published=\"true\" />\n          </div> -->\n\n          <!-- <a17-locale type=\"a17-textfield\" v-if=\"isImage && translatableMetadatas.includes('alt_text')\"\n            :attributes=\"{ label: $trans('media-library.sidebar.alt-text', 'Alt text'), name: 'alt_text', type: 'text', size: 'small' }\"\n            :initialValues=\"altValues\" @focus=\"focus\" @blur=\"blur\">\n          </a17-locale>\n          <a17-textfield v-else-if=\"isImage\" :label=\"$trans('media-library.sidebar.alt-text', 'Alt text')\" name=\"alt_text\"\n            :initialValue=\"firstMedia.metadatas.default.altText\" size=\"small\" @focus=\"focus\" @blur=\"blur\"\n            /> -->\n\n          <!-- <template v-if=\"useWysiwyg\">\n            <a17-locale type=\"a17-wysiwyg\" v-if=\"isImage && translatableMetadatas.includes('caption')\"\n              :attributes=\"{ options: wysiwygOptions, label: $trans('media-library.sidebar.caption', 'Caption'), name: 'caption', size: 'small' }\"\n              :initialValues=\"captionValues\" @focus=\"focus\" @blur=\"blur\"></a17-locale>\n            <a17-wysiwyg v-else-if=\"isImage\" type=\"textarea\" :rows=\"1\" size=\"small\"\n              :label=\"$trans('media-library.sidebar.caption', 'Caption')\" name=\"caption\" :options=\"wysiwygOptions\"\n              :initialValue=\"firstMedia.metadatas.default.caption\" @focus=\"focus\" @blur=\"blur\" />\n          </template>\n          <template v-else>\n            <a17-locale type=\"a17-textfield\" v-if=\"isImage && translatableMetadatas.includes('caption')\"\n              :attributes=\"{ type: 'textarea', rows: 1, label: $trans('media-library.sidebar.caption', 'Caption'), name: 'caption', size: 'small' }\"\n              :initialValues=\"captionValues\" @focus=\"focus\" @blur=\"blur\"></a17-locale>\n            <a17-textfield v-else-if=\"isImage\" type=\"textarea\" :rows=\"1\" size=\"small\"\n              :label=\"$trans('media-library.sidebar.caption', 'Caption')\" name=\"caption\"\n              :initialValue=\"firstMedia.metadatas.default.caption\" @focus=\"focus\" @blur=\"blur\" />\n          </template> -->\n\n          <!-- <template v-for=\"field in singleOnlyMetadatas\">\n            <a17-locale type=\"a17-textfield\" v-bind:key=\"field.name\"\n              v-if=\"isImage && (field.type === 'text' || !field.type) && translatableMetadatas.includes(field.name)\"\n              :attributes=\"{ label: field.label, name: field.name, type: 'textarea', rows: 1, size: 'small' }\"\n              :initialValues=\"firstMedia.metadatas.default[field.name]\" @focus=\"focus\" @blur=\"blur\" />\n            <a17-textfield v-bind:key=\"field.name\" v-else-if=\"isImage && (field.type === 'text' || !field.type)\"\n              :label=\"field.label\" :name=\"field.name\" size=\"small\"\n              :initialValue=\"firstMedia.metadatas.default[field.name]\" type=\"textarea\" :rows=\"1\" @focus=\"focus\"\n              @blur=\"blur\" />\n            <div class=\"mediasidebar__checkbox\" v-if=\"isImage && (field.type === 'checkbox')\" v-bind:key=\"field.name\">\n              <a17-checkbox :label=\"field.label\" :name=\"field.name\"\n                :initialValue=\"firstMedia.metadatas.default[field.name]\" :value=\"1\" @change=\"blur\" />\n            </div>\n          </template> -->\n        </template>\n        <!-- <template v-for=\"field in singleAndMultipleMetadatas\">\n          <a17-locale type=\"a17-textfield\" v-bind:key=\"field.name\"\n            v-if=\"isImage && (field.type === 'text' || !field.type) && ((hasMultipleMedias && !fieldsRemovedFromBulkEditing.includes(field.name)) || hasSingleMedia) && translatableMetadatas.includes(field.name)\"\n            :attributes=\"{ label: field.label, name: field.name, type: 'textarea', rows: 1, size: 'small' }\"\n            :initialValues=\"sharedMetadata(field.name, 'object')\" @focus=\"focus\" @blur=\"blur\" />\n          <a17-textfield v-bind:key=\"field.name\"\n            v-else-if=\"isImage && (field.type === 'text' || !field.type) && ((hasMultipleMedias && !fieldsRemovedFromBulkEditing.includes(field.name)) || hasSingleMedia)\"\n            :label=\"field.label\" :name=\"field.name\" size=\"small\" :initialValue=\"sharedMetadata(field.name)\"\n            type=\"textarea\" :rows=\"1\" @focus=\"focus\" @blur=\"blur\" />\n          <div class=\"mediasidebar__checkbox\" v-bind:key=\"field.name\"\n            v-if=\"isImage && (field.type === 'checkbox') && ((hasMultipleMedias && !fieldsRemovedFromBulkEditing.includes(field.name)) || hasSingleMedia)\">\n            <a17-checkbox v-bind:key=\"field.name\" :label=\"field.label\" :name=\"field.name\"\n              :initialValue=\"sharedMetadata(field.name, 'boolean')\" :value=\"1\" @change=\"blur\" />\n          </div>\n          <span class=\"f--tiny f--note f--underlined\" @click=\"removeFieldFromBulkEditing(field.name)\"\n            v-if=\"isImage && hasMultipleMedias && !fieldsRemovedFromBulkEditing.includes(field.name)\"\n            v-bind:key=\"field.name\"\n            data-tooltip-title=\"Remove this field if you do not want to update it on all selected medias\"\n            data-tooltip-theme=\"default\" data-tooltip-placement=\"top\" v-tooltip>Remove from bulk edit</span>\n        </template> -->\n      </form>\n    </template>\n    <ue-modal\n      ref=\"warningDelete\"\n      transition=\"dialog-bottom-transition\"\n      v-model=\"deleteModalActive\"\n      width-type=\"sm\"\n      :confirm-text=\"`Delete ( ${mediasIdsToDelete.length} )`\"\n      :cancel-text=\"`Cancel`\"\n      >\n      <template v-slot:body.description>\n        <p class=\"modal--tiny-title\">\n          <strong>{{ $trans('media-library.dialogs.delete.title', 'Are you sure ?') }}</strong>\n        </p>\n        <p> {{ warningDeleteMessage }} </p>\n      </template>\n    </ue-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport api from '@/store/api/media-library'\n// import { NOTIFICATION } from '@/store/mutations'\nimport isEqual from 'lodash-es/isEqual'\nimport FormDataAsObj from '@/utils/formDataAsObj.js'\nimport a17VueFilters from '@/utils/filters.js'\nimport UeMediaSidebarUpload from './MediaSidebarUpload.vue'\nimport { ALERT } from '@/store/mutations'\nimport SelectTag from '@/components/inputs/SelectTag';\nimport formDataAsObj from '../../../utils/formDataAsObj'\n\n// import a17Langswitcher from '@/components/LangSwitcher'\n\nexport default {\n  name: 'A17MediaSidebar',\n  components: {\n    'ue-mediasidebar-upload': UeMediaSidebarUpload,\n    SelectTag\n\n    // 'a17-langswitcher': a17Langswitcher\n  },\n  props: {\n    medias: {\n      default: function () { return [] }\n    },\n    authorized: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: Object,\n      required: true\n    },\n    extraMetadatas: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    translatableMetadatas: {\n      type: Array,\n      default () {\n        return []\n      }\n    }\n  },\n  data: function () {\n    return {\n      loading: false,\n      focused: false,\n      previousSavedData: {},\n      fieldsRemovedFromBulkEditing: [],\n\n      deleteModalActive: false\n    }\n  },\n  filters: a17VueFilters,\n  watch: {\n    medias: function () {\n      this.fieldsRemovedFromBulkEditing = []\n    }\n  },\n  computed: {\n    firstMedia: function () {\n      return this.hasMedia ? this.medias[0] : null\n    },\n    hasMultipleMedias: function () {\n      return this.medias.length > 1\n    },\n    hasSingleMedia: function () {\n      return this.medias.length === 1\n    },\n    hasMedia: function () {\n      return this.medias.length > 0\n    },\n    isImage: function () {\n      return this.type.value === 'image'\n    },\n    sharedTags: function () {\n      return this.medias.map((media) => {\n        return media.tags\n      }).reduce((allTags, currentTags) => allTags.filter(tag => currentTags.includes(tag)))\n    },\n    sharedMetadata () {\n      return (name, type) => {\n        if (!this.hasMultipleMedias) {\n          return typeof this.firstMedia.metadatas.default[name] === 'object' || type === 'boolean' ? this.firstMedia.metadatas.default[name] : {}\n        }\n\n        return this.medias.map((media) => {\n          return media.metadatas.default[name]\n          // eslint-disable-next-line eqeqeq\n        }).every((val, i, arr) => Array.isArray(val) ? (val[0] == arr[0]) : (val == arr[0])) ? this.firstMedia.metadatas.default[name] : (type === 'object' ? {} : type === 'boolean' ? false : '')\n      }\n    },\n    captionValues () {\n      return typeof this.firstMedia.metadatas.default.caption === 'object' ? this.firstMedia.metadatas.default.caption : {}\n    },\n    altValues () {\n      return typeof this.firstMedia.metadatas.default.altText === 'object' ? this.firstMedia.metadatas.default.altText : {}\n    },\n    mediasIds: function () {\n      return this.medias.map(function (media) { return media.id }).join(',')\n    },\n    mediasIdsToDelete: function () {\n      return this.medias.filter(media => media.deleteUrl).map(media => media.id)\n    },\n    mediasIdsToDeleteString: function () {\n      return this.mediasIdsToDelete.join(',')\n    },\n    allowDelete: function () {\n      return this.medias.every((media) => {\n        return media.deleteUrl\n      }) || (this.hasMultipleMedias && !this.medias.every((media) => {\n        return !media.deleteUrl\n      }))\n    },\n    warningDeleteMessage: function () {\n      console.log(this.allowDelete + '+ HEREEE')\n      if (this.allowDelete) {\n        if (this.hasMultipleMedias) {\n          return this.$trans('media-library.dialogs.delete.allow-delete-multiple-medias', 'Some files are used and can\\'t be deleted. Do you want to delete the others ?')\n        } else {\n          return this.$trans('media-library.dialogs.delete.allow-delete-one-media', 'This file is used and can\\'t be deleted. Do you want to delete the others ?')\n        }\n      } else {\n        if (this.hasMultipleMedias) {\n          return this.$trans('media-library.dialogs.delete.dont-allow-delete-multiple-medias', 'This files are used and can\\'t be deleted.')\n        } else {\n          return this.$trans('media-library.dialogs.delete.dont-allow-delete-one-media', 'This file is used and can\\'t be deleted.')\n        }\n      }\n    },\n    containerClasses: function () {\n      return {\n        'mediasidebar__inner--multi': this.hasMultipleMedias,\n        'mediasidebar__inner--single': this.hasSingleMedia\n      }\n    },\n    singleAndMultipleMetadatas: function () {\n      return this.extraMetadatas.filter(m => m.multiple && !this.translatableMetadatas.includes(m.name))\n    },\n    singleOnlyMetadatas: function () {\n      return this.extraMetadatas.filter(m => !m.multiple || (m.multiple && this.translatableMetadatas.includes(m.name)))\n    },\n    ...mapState({\n      mediasLoading: state => state.mediaLibrary.loading,\n      useWysiwyg: state => state.mediaLibrary.config.useWysiwyg,\n      wysiwygOptions: state => state.mediaLibrary.config.wysiwygOptions\n    })\n  },\n  methods: {\n    replaceMedia: function () {\n      // Open confirm dialog if any\n      if (this.$root.$refs.replaceWarningMediaLibrary) {\n        this.$root.$refs.replaceWarningMediaLibrary.open(() => {\n          this.triggerMediaReplace()\n        })\n      } else {\n        this.triggerMediaReplace()\n      }\n    },\n    triggerMediaReplace: function () {\n      this.$emit('triggerMediaReplace', {\n        id: this.getMediaToReplaceId()\n      })\n    },\n    deleteSelectedMediasValidation: function () {\n      if (this.loading) return false\n\n      if (this.mediasIdsToDelete.length !== this.medias.length) {\n        this.$refs.warningDelete.open()\n        return\n      }\n\n      // Open confirm dialog if any\n      if (this.$main().$refs.deleteWarningMediaModal) {\n        this.$main().$refs.deleteWarningMediaModal.open(null, () => {\n          this.deleteSelectedMedias()\n        })\n      } else {\n        this.deleteSelectedMedias()\n      }\n    },\n    deleteSelectedMedias: function () {\n      if (this.loading) return false\n      this.loading = true\n\n      if (this.hasMultipleMedias) {\n        api.bulkDelete(this.firstMedia.deleteBulkUrl, { ids: this.mediasIdsToDeleteString }, (resp) => {\n          this.loading = false\n          this.$emit('delete', this.mediasIdsToDelete)\n          this.$refs.warningDelete.close()\n          this.$store.commit(ALERT.SET_ALERT, { message: resp.data.message, variant: resp.data.variant })\n        }, (error) => {\n          // this.$store.commit(NOTIFICATION.SET_NOTIF, {\n          //   message: error.data.message,\n          //   variant: 'error'\n          // })\n        })\n      } else {\n        api.delete(this.firstMedia.deleteUrl, (resp) => {\n          this.loading = false\n          this.$emit('delete', this.mediasIdsToDelete)\n          console.log(this.$refs.warningDelete)\n          this.$refs.warningDelete.close()\n          this.$store.commit(ALERT.SET_ALERT, { message: resp.data.message, variant: resp.data.variant })\n          // this.$emit();\n        }, (error) => {\n          // this.$store.commit(NOTIFICATION.SET_NOTIF, {\n          //   message: error.data.message,\n          //   variant: 'error'\n          // })\n        })\n      }\n    },\n    clear: function () {\n      this.$emit('clear')\n    },\n    getFormData: function (form) {\n      return FormDataAsObj(form)\n    },\n    getMediaToReplaceId: function () {\n      return this.firstMedia.id\n    },\n    removeFieldFromBulkEditing: function (name) {\n      this.fieldsRemovedFromBulkEditing.push(name)\n    },\n    focus: function () {\n      this.focused = true\n    },\n    blur: function () {\n      this.focused = false\n      this.save()\n\n      const form = this.$refs.form\n      const data = this.getFormData(form)\n\n      if (this.hasSingleMedia) {\n        if (data.hasOwnProperty('alt_text')) this.firstMedia.metadatas.default.altText = data.alt_text\n        else this.firstMedia.metadatas.default.altText = ''\n\n        if (data.hasOwnProperty('caption')) this.firstMedia.metadatas.default.caption = data.caption\n        else this.firstMedia.metadatas.default.caption = ''\n\n        this.extraMetadatas.forEach((metadata) => {\n          if (data.hasOwnProperty(metadata.name)) {\n            this.firstMedia.metadatas.default[metadata.name] = data[metadata.name]\n          } else {\n            this.firstMedia.metadatas.default[metadata.name] = ''\n          }\n        })\n      } else {\n        this.singleAndMultipleMetadatas.forEach((metadata) => {\n          if (data.hasOwnProperty(metadata.name)) {\n            this.medias.forEach((media) => {\n              media.metadatas.default[metadata.name] = data[metadata.name]\n            })\n          }\n        })\n      }\n    },\n    save: function () {\n      const form = this.$refs.form\n      if (!form) return\n\n      const formData = this.getFormData(form)\n      if (!isEqual(formData, this.previousSavedData) && !this.loading) {\n        this.previousSavedData = formData\n        this.update(form)\n      }\n    },\n    submit: function (event) {\n      event.preventDefault()\n      this.save()\n    },\n    update: function (form) {\n      if (this.loading) return\n\n      this.loading = true\n\n      const data = this.getFormData(form)\n      data.fieldsRemovedFromBulkEditing = this.fieldsRemovedFromBulkEditing\n\n      const url = this.hasMultipleMedias ? this.firstMedia.updateBulkUrl : this.firstMedia.updateUrl // single or multi updates\n\n      api.update(url, data, (resp) => {\n        this.loading = false\n\n        // Refresh the select filter displaying all tags\n        if (resp.data.tags) this.$emit('tagUpdated', resp.data.tags)\n\n        // Bulk update : Refresh tags\n        if (this.hasMultipleMedias && resp.data.items) {\n          // Update the tags of all the selected medias\n          this.medias.forEach(function (media) {\n            resp.data.items.some(function (mediaFromResp) {\n              if (mediaFromResp.id === media.id) media.tags = mediaFromResp.tags // replace tags with the one from the response\n              return mediaFromResp.id === media.id\n            })\n          })\n        }\n      }, (error) => {\n        this.loading = false\n\n        if (error.data.message) {\n          // this.$store.commit(NOTIFICATION.SET_NOTIF, {\n          //   message: error.data.message,\n          //   variant: 'error'\n          // })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .mediasidebar {\n    a {\n      color: $color__link;\n      text-decoration: none;\n\n      &:focus,\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n\n  .mediasidebar__info {\n    margin-bottom: 30px;\n\n    a {\n      margin-left: 15px;\n    }\n  }\n\n  .mediasidebar__inner {\n    padding: 20px;\n    // overflow: hidden;\n  }\n\n  .mediasidebar__img {\n    max-width: 135px;\n    max-height: 135px;\n    height: auto;\n    display: block;\n    margin-bottom: 17px;\n  }\n\n  .mediasidebar__name {\n    margin-bottom: 6px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .mediasidebar__metadatas {\n    color: $color__text--light;\n    margin-bottom: 16px;\n  }\n\n  .mediasidebar .mediasidebar__buttonbar {\n    display: inline-block;\n  }\n\n  .mediasidebar__form {\n    border-top: 1px solid $color__border;\n    position: relative;\n\n    button {\n      margin-top: 16px;\n    }\n\n    &.mediasidebar__form--loading {\n      opacity: 0.5;\n    }\n  }\n\n  .mediasidebar__loader {\n    position: absolute;\n    top: 20px;\n    right: 20px + 8px + 8px;\n  }\n\n  .mediasidebar__checkbox {\n    margin-top: 16px;\n  }\n\n  .mediasidebar__langswitcher {\n    margin-top: 32px;\n    margin-bottom: 32px;\n  }\n</style>\n","<template>\n  <ue-modal\n    v-model=\"show\"\n    id=\"modalMedia\"\n    ref=\"modalMedia\"\n    fullscreen\n    content-class=\"\"\n    width=\"\"\n    @opened=\"opened\"\n    >\n    <template v-slot:activator=\"{props}\">\n      <slot name=\"activator\" :props=\"{...props}\"></slot>\n    </template>\n    <template v-slot:body=\"{props}\" v-bind=\"props\">\n\n      <div class=\"medialibrary\">\n        <div class=\"medialibrary__frame\">\n          <v-toolbar\n            dark\n            color=\"primary\"\n          >\n            <v-toolbar-title>{{ modalTitle }}</v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-toolbar-items>\n              <v-btn\n                icon\n                dark\n                @click=\"closeModal\"\n              >\n                <v-icon>mdi-close</v-icon>\n              </v-btn>\n            </v-toolbar-items>\n          </v-toolbar>\n          <div class=\"medialibrary__header\" ref=\"form\">\n            <ue-filter\n              @submit=\"submitFilter\"\n              :clearOption=\"true\"\n              @clear=\"clearFilters\"\n              v-model:filterState=\"sharedFilterState\"\n              >\n              <ul class=\"secondarynav secondarynav--desktop py\" slot=\"navigation\" v-if=\"types.length\">\n                <v-chip\n                  v-for=\"navType in types\"\n                  :key=\"navType.value\"\n                  class=\"ma-2\"\n                  @click.prevent=\"updateType(navType.value)\"\n                  >\n                    {{  navType.text }}\n                    <span\n                      v-if=\"navType.total > 0\" class=\"secondarynav__number\"\n                      >\n                      ({{ navType.total }})\n                    </span>\n                </v-chip>\n              </ul>\n\n              <!-- <div class=\"secondarynav secondarynav--mobile secondarynav--dropdown\" slot=\"navigation\">\n                <a17-dropdown ref=\"secondaryNavDropdown\" position=\"bottom-left\" width=\"full\" :offset=\"0\">\n                  <a17-button class=\"secondarynav__button\" variant=\"dropdown-transparent\" size=\"small\"\n                              @click=\"$refs.secondaryNavDropdown.toggle()\" v-if=\"selectedType\">\n                    <span class=\"secondarynav__link\">{{ selectedType.text }}</span><span class=\"secondarynav__number\">{{ selectedType.total }}</span>\n                  </a17-button>\n                  <div slot=\"dropdown__content\">\n                    <ul>\n                      <li v-for=\"navType in types\" :key=\"navType.value\" class=\"secondarynav__item\">\n                        <a href=\"#\" v-on:click.prevent=\"updateType(navType.value)\"><span class=\"secondarynav__link\">{{ navType.text }}</span><span\n                          class=\"secondarynav__number\">{{ navType.total }}</span></a>\n                      </li>\n                    </ul>\n                  </div>\n                </a17-dropdown>\n              </div> -->\n\n              <div slot=\"hidden-filters\">\n\n                <!-- <a17-vselect class=\"medialibrary__filter-item\" ref=\"filter\" name=\"tag\" :options=\"tags\"\n                            :placeholder=\"$trans('media-library.filter-select-label', 'Filter by tag')\" :searchable=\"true\" maxHeight=\"175px\"/>\n                <a17-checkbox class=\"medialibrary__filter-item\" ref=\"unused\" name=\"unused\" :initial-value=\"0\" :value=\"1\" :label=\"$trans('media-library.unused-filter-label', 'Show unused only')\"/> -->\n              </div>\n\n            </ue-filter>\n            <ue-dropdown-filter\n            @submit=\"submitFilter\"\n            @clear=\"clearDropdownFilters\"\n            :loading=\"loading\"\n            :filter-ref=\"$refs.filter\"\n\n            v-model:filterState=\"sharedFilterState\"\n            :schema=\"filterSchema\"\n          >\n\n          </ue-dropdown-filter>\n<!--\n\n[\n  {\n    \"clearable\" => \"true\"\n    \"chips\" => \"true\",\n    \"label\" => $trans('media-library.filter-select-label', 'Filter by tag'),\n    \"name\" => \"tag\"\n    \"items\" => \"tags\"\n    \"class\" => \"medialibrary__filter\"\n    \"ref\" => \"filter\"\n    \"maxHeight\" => \"175px\"\n    \"v-model\" => \"sharedFilterState.tag\"\n  }\n]\n\n-->\n\n          </div>\n\n          <div class=\"medialibrary__inner\">\n            <div class=\"medialibrary__grid\">\n              <aside class=\"medialibrary__sidebar\">\n                <MediaSidebar :medias=\"selectedMedias\"\n                  :authorized=\"authorized\"\n                  :extraMetadatas=\"extraMetadatas\"\n                  @clear=\"clearSelectedMedias\"\n                  @delete=\"deleteSelectedMedias\"\n                  @tagUpdated=\"reloadTags\"\n                  :type=\"currentTypeObject\"\n                  :translatableMetadatas=\"translatableMetadatas\"\n                  @triggerMediaReplace=\"replaceMedia\"\n                >\n                </MediaSidebar>\n              </aside>\n              <footer class=\"medialibrary__footer\" v-if=\"selectedMedias.length && showInsert && connector\">\n                <v-btn  v-if=\"canInsert\" @click=\"saveAndClose\">{{ btnLabel }} </v-btn>\n                <v-btn v-else :disabled=\"true\" > {{ btnLabel }} </v-btn>\n              </footer>\n\n              <div class=\"medialibrary__list\" ref=\"list\">\n                <ue-uploader\n                  ref=\"uploader\"\n                  v-if=\"authorized\"\n                  @loaded=\"addMedia\"\n                  @clear=\"clearSelectedMedias\"\n                  :type=\"currentTypeObject\"\n                />\n                <!-- TEST START -->\n                <div class=\"medialibrary__list-items\">\n                  <ItemList v-if=\"type === 'file'\" :items=\"renderedMediaItems\" :selected-items=\"selectedMedias\"\n                                :used-items=\"usedMedias\" @change=\"updateSelectedMedias\"\n                                @shiftChange=\"updateSelectedMedias\"/>\n                  <MediaGrid v-else :items=\"renderedMediaItems\" :selected-items=\"selectedMedias\" :used-items=\"usedMedias\"\n                                @change=\"updateSelectedMedias\" @shiftChange=\"updateSelectedMedias\"/>\n                  <!-- <a17-spinner v-if=\"loading\" class=\"medialibrary__spinner\">Loading&hellip;</a17-spinner> -->\n                </div>\n                <!-- TEST END -->\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </ue-modal>\n</template>\n\n<script>\n\nimport { getCurrentInstance } from 'vue'\nimport { mapState } from 'vuex'\nimport { MEDIA_LIBRARY } from '@/store/mutations'\n\nimport { ModalMixin } from '@/mixins'\n\nimport api from '@/store/api/media-library'\n\nimport scrollToY from '@/utils/scrollToY.js'\nimport FormDataAsObj from '@/utils/formDataAsObj.js'\n\n// TEST START\nimport MediaGrid from './media-library/MediaGrid.vue'\nimport ItemList from './media-library/ItemList.vue'\nimport MediaSidebar from './media-library/MediaSidebar.vue'\nimport { makeModalMediaProps } from '@/hooks/useModal'\n// import a17Checkbox from '@/components/Checkbox.vue'\n\n// TEST END\nexport default {\n  mixins: [ModalMixin],\n  components: {\n    MediaGrid,\n    ItemList,\n    MediaSidebar\n    // 'a17-spinner': a17Spinner\n    // 'a17-checkbox': a17Checkbox\n  },\n  setup (props, { attrs, slots, emit }) {\n    // __log(props, attrs, slots, emit)\n  },\n  props: {\n    ...makeModalMediaProps(),\n    initialPage: {\n      type: Number,\n      default: 1\n    },\n    authorized: {\n      type: Boolean,\n      default: true\n    },\n    showInsert: {\n      type: Boolean,\n      default: true\n    },\n    extraMetadatas: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    translatableMetadatas: {\n      type: Array,\n      default () {\n        return []\n      }\n    }\n  },\n  data: function () {\n    return {\n      loading: false,\n      maxPage: 20,\n      mediaItems: [],\n      selectedMedias: [],\n      gridHeight: 0,\n      page: this.initialPage,\n      tags: [],\n      lastScrollTop: 0,\n      gridLoaded: false,\n      full: true,\n      sharedFilterState: {\n        search: '',\n        tag: null,\n        type: this.type ?? \"image\",\n        page: this.page ?? this.initialPage\n      },\n\n\n\n      //   show: false\n    }\n  },\n  computed: {\n    renderedMediaItems: function () {\n      return this.mediaItems.map((item) => {\n        item.disabled = (this.filesizeMax > 0 && item.filesizeInMb > this.filesizeMax) ||\n            (this.widthMin > 0 && item.width < this.widthMin) ||\n            (this.heightMin > 0 && item.height < this.heightMin)\n        return item\n      })\n    },\n    currentTypeObject: function () {\n      return this.types.find((type) => {\n        return type.value === this.type\n      })\n    },\n    endpoint: function () {\n      return this.currentTypeObject.endpoint\n    },\n    modalTitle: function () {\n      if (this.connector) {\n        if (this.indexToReplace > -1) return this.modalTitlePrefix + ' – ' + this.btnLabelUpdate\n        return this.selectedMedias.length > 1 ? this.modalTitlePrefix + ' – ' + this.btnLabelMulti : this.modalTitlePrefix + ' – ' + this.btnLabelSingle\n      }\n      return this.modalTitlePrefix\n    },\n    btnLabel: function () {\n      let type = getCurrentInstance().appContext.config.globalProperties.$trans('media-library.types.single.' + this.type, this.type)\n\n      if (this.indexToReplace > -1) {\n        return this.btnLabelUpdate + ' ' + type\n      } else {\n        if (this.selectedMedias.length > 1) {\n          type = getCurrentInstance().appContext.config.globalProperties.$trans('media-library.types.multiple.' + this.type, this.type)\n        }\n\n        return this.btnLabelSingle + ' ' + type\n      }\n    },\n    usedMedias: function () {\n      return this.selected[this.connector] || []\n    },\n    selectedType: function () {\n      const self = this\n      const navItem = self.types.filter(function (t) {\n        return t.value === self.type\n      })\n      return navItem[0]\n    },\n    canInsert: function () {\n      // __log(\n      //   this.selectedMedias,\n      //   this.usedMedias\n      // )\n      return !this.selectedMedias.some(sMedia => !!this.usedMedias.find(uMedia => uMedia.id === sMedia.id))\n    },\n    ...mapState({\n      connector: state => state.mediaLibrary.connector,\n      max: state => state.mediaLibrary.max,\n      filesizeMax: state => state.mediaLibrary.filesizeMax,\n      widthMin: state => state.mediaLibrary.widthMin,\n      heightMin: state => state.mediaLibrary.heightMin,\n      type: state => state.mediaLibrary.type, // image, video, file\n      types: state => state.mediaLibrary.types,\n      strict: state => state.mediaLibrary.strict,\n      selected: state => state.mediaLibrary.selected,\n      indexToReplace: state => state.mediaLibrary.indexToReplace\n\n      // showModal: state => state.mediaLibrary.showModal,\n\n      // show: state => state.mediaLibrary.showModal,\n    }),\n    filterSchema: function(){\n      return {\n        tag: {\n          type: \"select\",\n          name: \"tag\",\n          label: \"Filter by tags\",\n          items: this.tags,\n          variant: \"outlined\",\n          clearable: \"true\",\n          chips: \"true\",\n          col: \"12\"\n        },\n        // clearBtn: {\n        //   type: \"btn\",\n        //   label: \"Clear Filters\",\n        //   loading: this.loading,\n        //   click: \"handleClear\"\n        // }\n      }\n    }\n\n    // show: {\n    //     get () {\n    //         return this.$store.state.mediaLibrary.showModal;\n    //     },\n    //     set (value) {\n    //         // this.$store.dispatch(ACTIONS.TOGGLE_MEDIA_MODAL, value)\n    //     }\n    // },\n  },\n  watch: {\n    type: function () {\n      this.clearMediaItems()\n      this.gridLoaded = false\n      this.sharedFilterState.type = this.type;\n    },\n    page: function (newPage) {\n      this.sharedFilterState.page = newPage;\n    }\n  },\n  methods: {\n    deleteSelectedMedias: function (mediasIds) {\n      let keepSelectedMedias = []\n      if (mediasIds && mediasIds.length !== this.selectedMedias.length) {\n        keepSelectedMedias = this.selectedMedias.filter((media) => !media.deleteUrl)\n      }\n      mediasIds.forEach(() => {\n        this.$store.commit(MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL, this.type)\n      })\n      this.mediaItems = this.mediaItems.filter((media) => {\n        return !this.selectedMedias.includes(media) || keepSelectedMedias.includes(media)\n      })\n      this.selectedMedias = keepSelectedMedias\n      if (this.mediaItems.length <= 40) {\n        this.reloadGrid()\n      }\n    },\n    replaceMedia: function ({ id }) {\n      this.$refs.uploader.replaceMedia(id)\n    },\n    // for ue-uploader\n    addMedia: function (media) {\n      const index = this.mediaItems.findIndex(function (item) {\n        return item.id === media.id\n      })\n\n      // Check of the media item exists i.e replacement\n      if (index > -1) {\n        for (const mediaRole in this.selected) {\n          this.selected[mediaRole].forEach((mediaCrop, index) => {\n            if (media.id === mediaCrop.id) {\n              const crops = []\n\n              for (const crop in mediaCrop.crops) {\n                crops[crop] = {\n                  height: media.height === mediaCrop.height ? mediaCrop.crops[crop].height : media.height,\n                  name: crop,\n                  width: media.width === mediaCrop.width ? mediaCrop.crops[crop].width : media.width,\n                  x: media.width === mediaCrop.width ? mediaCrop.crops[crop].x : 0,\n                  y: media.height === mediaCrop.height ? mediaCrop.crops[crop].y : 0\n                }\n              }\n\n              this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIAS, {\n                index,\n                media: {\n                  ...media,\n                  width: media.width === mediaCrop.width ? mediaCrop.width : media.width,\n                  height: media.height === mediaCrop.height ? mediaCrop.height : media.height,\n                  crops\n                },\n                mediaRole\n              })\n            }\n          })\n        }\n\n        this.$set(this.mediaItems, index, media)\n        this.selectedMedias.unshift(media)\n      } else {\n        // add media in first position of the available media\n        this.mediaItems.unshift(media)\n        this.$store.commit(MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL, this.type)\n        // select it\n        this.updateSelectedMedias(media.id)\n      }\n    },\n    open: function () {\n      this.$refs.modal.open()\n    },\n    opened: function () {\n      if (!this.gridLoaded) {\n        this.reloadGrid()\n      }\n\n      // this.listenScrollPosition()\n\n      // empty selected medias (to avoid gs when adding)\n      this.selectedMedias = []\n\n      // in replace mode : select the media to replace when opening\n      if (this.connector && this.indexToReplace > -1) {\n        const mediaInitSelect = this.selected[this.connector][this.indexToReplace]\n        if (mediaInitSelect) {\n          this.selectedMedias.push(mediaInitSelect)\n        }\n      }\n    },\n    updateSelectedMedias: function (item, shift = false) {\n      const id = item.id\n      const alreadySelectedMedia = this.selectedMedias.filter(function (media) {\n        return media.id === id\n      })\n\n      // not already selected\n      if (alreadySelectedMedia.length === 0) {\n        if (this.max === 1) this.clearSelectedMedias()\n        if (this.selectedMedias.length >= this.max && this.max > 0) return\n\n        if (shift && this.selectedMedias.length > 0) {\n          const lastSelectedMedia = this.selectedMedias[this.selectedMedias.length - 1]\n          const lastSelectedMediaIndex = this.mediaItems.findIndex((media) => media.id === lastSelectedMedia.id)\n          const selectedMediaIndex = this.mediaItems.findIndex((media) => media.id === id)\n          if (selectedMediaIndex === -1 && lastSelectedMediaIndex === -1) return\n\n          let start = null\n          let end = null\n          if (lastSelectedMediaIndex < selectedMediaIndex) {\n            start = lastSelectedMediaIndex + 1\n            end = selectedMediaIndex + 1\n          } else {\n            start = selectedMediaIndex\n            end = lastSelectedMediaIndex\n          }\n\n          const selectedMedias = this.mediaItems.slice(start, end)\n\n          selectedMedias.forEach((media) => {\n            if (this.selectedMedias.length >= this.max && this.max > 0) return\n            const index = this.selectedMedias.findIndex((m) => m.id === media.id)\n            if (index === -1) {\n              this.selectedMedias.push(media)\n            }\n          })\n        } else {\n          const mediaToSelect = this.mediaItems.filter(function (media) {\n            return media.id === id\n          })\n\n          // Add one media to the selected media\n          if (mediaToSelect.length) this.selectedMedias.push(mediaToSelect[0])\n        }\n      } else {\n        // Remove one item from the selected media\n        this.selectedMedias = this.selectedMedias.filter(function (media) {\n          return media.id !== id\n        })\n      }\n    },\n    clearSelectedMedias: function () {\n      this.selectedMedias.splice(0)\n    },\n    // for ue-filter\n    clearFilters: function () {\n      const self = this\n      // reset tags\n      this.sharedFilterState = {\n        tag: null, // Set tag to null when clearing\n        type: this.type,\n        page: this.page\n      };\n      if (this.$refs.filter) this.$refs.filter.value = null\n      // reset unused field\n      if (this.$refs.unused) {\n        const input = this.$refs.unused.$el.querySelector('input')\n        input && input.checked && input.click()\n      }\n\n      this.$nextTick(function () {\n        self.submitFilter()\n      })\n    },\n    clearDropdownFilters: function () {\n      const self = this\n      // reset tags\n      this.sharedFilterState = {\n        tag: null, // Set tag to null when clearing\n        type: this.type,\n        page: this.page\n      };\n      this.$nextTick(function () {\n        self.submitFilter()\n      })\n    },\n    submitFilter: function (formData) {\n      const self = this\n      const el = this.$refs.list\n      // when changing filters, reset the page to 1\n      this.page = 1\n\n      this.clearMediaItems()\n      this.clearSelectedMedias()\n\n      if (el.scrollTop === 0) {\n        self.reloadGrid()\n        return\n      }\n\n      scrollToY({\n        el,\n        offset: 0,\n        easing: 'easeOut',\n        onComplete: function () {\n          self.reloadGrid()\n        }\n      })\n    },\n    clearMediaItems: function () {\n      this.mediaItems.splice(0)\n    },\n    reloadGrid: function () {\n      const self = this;\n      this.loading = true\n      // let formdata = null;\n      const form = this.$refs.form\n      const formdata = self.cleanEmptyFilters(this.sharedFilterState);\n      // console.log(formdata)\n\n      // see api/media-library for actual ajax\n      api.get(this.endpoint, formdata, (resp) => {\n        // add medias here\n        resp.data.items.forEach(item => {\n          if (!this.mediaItems.find(media => media.id === item.id)) {\n            this.mediaItems.push(item)\n          }\n        })\n        this.maxPage = resp.data.maxPage || 1\n        let regularArray = resp.data.tags.map(({label, ...rest}) => ({\n          title: label,\n          ...rest\n        }));\n        this.tags = regularArray || []\n\n        this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL, { type: this.type, total: resp.data.total })\n        this.loading = false\n        // this.listenScrollPosition()\n        this.gridLoaded = true\n      }, (error) => {\n        // this.$store.commit(NOTIFICATION.SET_NOTIF, {\n        //   message: error.data.message,\n        //   variant: 'error'\n        // })\n      })\n    },\n    updateType: function (newType) {\n      if (this.loading) return\n      if (this.strict) return\n      if (this.type === newType) return\n\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE, newType)\n      this.submitFilter()\n    },\n    getFormData: function (form) {\n      let data = FormDataAsObj(form)\n\n      if (data) data.page = this.page\n      else data = { page: this.page }\n\n      data.type = this.type\n\n      if (Array.isArray(data.unused) && data.unused.length) {\n        data.unused = data.unused[0]\n      }\n\n      return data\n    },\n    listenScrollPosition: function () {\n      // re-listen for scroll position\n      this.$nextTick(function () {\n        if (!this.gridLoaded) return\n\n        const list = this.$refs.list\n        if (this.gridHeight !== list.scrollHeight) {\n          list.addEventListener('scroll', this.scrollToPaginate)\n        }\n      })\n    },\n    scrollToPaginate: function () {\n      if (!this.gridLoaded) return\n\n      const list = this.$refs.list\n      const offset = 10\n\n      if (list.scrollTop > this.lastScrollTop && list.scrollTop + list.offsetHeight > list.scrollHeight - offset) {\n        list.removeEventListener('scroll', this.scrollToPaginate)\n\n        if (this.maxPage > this.page) {\n          this.page = this.page + 1\n          this.reloadGrid()\n        } else {\n          this.gridHeight = list.scrollHeight\n        }\n      }\n\n      this.lastScrollTop = list.scrollTop\n    },\n    saveAndClose: function () {\n      this.$store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED, true)\n      this.$store.commit(MEDIA_LIBRARY.SAVE_MEDIAS, this.selectedMedias)\n      this.$nextTick(() => { this.closeModal() })\n\n      // this.closeModal()\n    },\n\n    reloadTags: function (tags = []) {\n      this.tags = tags\n    },\n    cleanEmptyFilters: function(obj) {\n      return Object.entries(obj).reduce((acc, [key, value]) => {\n        if (value !== null && value !== undefined && value !== '') {\n          if (typeof value === 'object' && !Array.isArray(value)) {\n            acc[key] = this.cleanEmptyFilters(value); // Recursively clean nested objects\n          } else {\n            acc[key] = value;\n          }\n        }\n        return acc;\n      }, {});\n    }\n  },\n\n  created () {\n    // __log(this.type)\n    if (!this.gridLoaded) {\n      this.reloadGrid()\n    }\n\n    // empty selected medias (to avoid gs when adding)\n    this.selectedMedias = []\n\n    // in replace mode : select the media to replace when opening\n    if (this.connector && this.indexToReplace > -1) {\n      const mediaInitSelect = this.selected[this.connector][this.indexToReplace]\n      if (mediaInitSelect) {\n        this.selectedMedias.push(mediaInitSelect)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  $width_sidebar: (default: 290px, small: 250px, xsmall: 200px);\n\n  .medialibrary {\n    display: block;\n    width: 100%;\n    min-height: 100%;\n    padding: 0;\n    position: relative;\n  }\n\n  .medialibrary__header {\n    background: $color__border--light;\n    border-bottom: 1px solid $color__border;\n    padding: 0 20px;\n    display:flex;\n    flex-flow:row;\n    align-items: center;\n    justify-content: space-between;\n\n    @include breakpoint(small-) {\n      .secondarynav {\n        padding-bottom: 10px;\n      }\n    }\n  }\n\n  .medialibrary__frame {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  .medialibrary__inner {\n    position: relative;\n    width: 100%;\n    overflow: hidden;\n    flex-grow: 1;\n  }\n\n  .medialibrary__footer {\n    position: absolute;\n    right: 0;\n    z-index: 76;\n    bottom: 0;\n    width: map-get($width_sidebar, default); // fixed arbitrary width\n    color: $color__text--light;\n    padding: 10px;\n    overflow: hidden;\n    background: $color__border--light;\n    border-top: 1px solid $color__border;\n\n    > button {\n      display: block;\n      width: 100%;\n    }\n\n    @include breakpoint(small) {\n      width: map-get($width_sidebar, small);\n    }\n\n    @include breakpoint(xsmall) {\n      width: map-get($width_sidebar, xsmall);\n    }\n\n    @media screen and (max-width: 550px) {\n      width: 100%;\n    }\n  }\n\n  .medialibrary__sidebar {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: map-get($width_sidebar, default); // fixed arbitrary width\n    padding: 0 0 80px 0; // 80px so we have some room to display the tags dropdown menu under the field\n    z-index: 75;\n    background: $color__border--light;\n    overflow: auto;\n\n    @include breakpoint(small) {\n      width: map-get($width_sidebar, small);\n    }\n\n    @include breakpoint(xsmall) {\n      width: map-get($width_sidebar, xsmall);\n    }\n\n    @media screen and (max-width: 550px) {\n      display: none;\n    }\n  }\n\n  .medialibrary__list {\n    margin: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: auto;\n    padding: 10px;\n    background:$color__border--light;\n  }\n\n  .medialibrary__list-items {\n    position: relative;\n    display: block;\n    width: 100%;\n    min-height: 100%;\n  }\n\n  /* with a sidebar visible */\n  .medialibrary__list {\n    right: map-get($width_sidebar, default);\n\n    @include breakpoint(small) {\n      right: map-get($width_sidebar, small);\n    }\n\n    @include breakpoint(xsmall) {\n      right: map-get($width_sidebar, xsmall);\n    }\n\n    @media screen and (max-width: 550px) {\n      right: 0;\n    }\n  }\n</style>\n\n<style lang=\"scss\">\n\n  .medialibrary__filter-item {\n    .vselect {\n      min-width: 200px;\n    }\n  }\n\n  .medialibrary__filter-item.checkbox {\n    margin-top: 8px;\n    margin-right: 45px !important;\n  }\n\n  .medialibrary__header {\n    @include breakpoint(small-) {\n      .filter__inner {\n        flex-direction: column;\n      }\n\n      .filter__search, .filter__navigation {\n        padding-top: 10px;\n        display: flex;\n      }\n\n      .filter__search input {\n        flex-grow: 1;\n      }\n    }\n  }\n</style>\n","export default {\n  accountSettings: 'mdi mdi-account-cog',\n  add: 'mdi-plus',\n  alert: 'mdi-alert-outline',\n  arrowLeft: 'mdi-arrow-left-thin',\n  arrowRight: 'mdi-arrow-right-thin',\n\n  check: 'mdi-check',\n  close: 'mdi-close',\n  company: 'mdi-office-building-cog',\n  creditCards: 'mdi-credit-card-search',\n\n  dashboard: 'mdi-view-dashboard-outline',\n  delete: 'mdi-trash-can-outline',\n  download: 'mdi-download',\n  duplicate: 'mdi-content-copy',\n\n  // edit: 'mdi-pencil',\n  edit: 'mdi-pencil-box-outline',\n  error: 'mdi-close-circle-outline',\n\n  filter_list: 'mdi-filter',\n\n  header: 'mdi-text-short',\n  info: 'mdi-information',\n\n  list: 'mdi-dots-vertical-circle-outline',\n\n  media: 'mdi-image-album',\n  modules: 'mdi-view-module',\n\n  'non-visibility': 'mdi-eye-off',\n\n  package: 'mdi-package',\n  permission: 'mdi-account-arrow-right',\n  product: 'mdi-dropbox',\n\n  restore: 'mdi-file-restore',\n  role: 'mdi-account-key',\n\n  submodule: 'mdi-file-tree',\n  success: 'mdi-check-circle-outline',\n  support: 'mdi-lifebuoy',\n\n  trash: 'mdi-delete',\n\n  // userAdd: 'fa-user-plus',\n  userAdd: 'mdi-account-edit',\n  users: 'mdi:mdi-account-multiple',\n\n  visibility: 'mdi-eye',\n  warning: 'mdi-alert-circle-outline'\n}\n/** DEFAULT VUETIFY ICONS\n$calendar\tmdi-calendar\n$cancel\tmdi-close-circle\n$checkboxIndeterminate\tmdi-minus-box\n$checkboxOff\tmdi-checkbox-blank-outline\n$checkboxOn\tmdi-checkbox-marked\n$clear\tmdi-close-circle\n$close\tmdi-close\n$collapse\tmdi-chevron-up\n$complete\tmdi-check\n$delete\tmdi-close-circle\n$delimiter\tmdi-circle\n$dropdown\tmdi-menu-down\n$edit\tmdi-pencil\n$error\tmdi-close-circle\n$expand\tmdi-chevron-down\n$eyeDropper\tmdi-eyedropper\n$file\tmdi-paperclip\n$first\tmdi-page-first\n$info\tmdi-information\n$last\tmdi-page-last\n$loading\tmdi-cached\n$menu\tmdi-menu\n$minus\tmdi-minus\n$next\tmdi-chevron-right\n$plus\tmdi-plus\n$prev\tmdi-chevron-left\n$radioOff\tmdi-radiobox-blank\n$radioOn\tmdi-radiobox-marked\n$ratingEmpty\tmdi-star-outline\n$ratingFull\tmdi-star\n$ratingHalf\tmdi-star-half-full\n$sortAsc\tmdi-arrow-up\n$sortDesc\tmdi-arrow-down\n$subgroup\tmdi-menu-down\n$success\tmdi-check-circle\n$treeviewCollapse\tmdi-menu-down\n$treeviewExpand\tmdi-menu-right\n$unfold\tmdi-unfold-more-horizontal\n$warning\tmdi-alert-circle\n */\n","import colors from 'vuetify/util/colors'\n\nexport default {\n  dark: false,\n  colors: {\n    background: '#F5F5F5',\n    // surface: '#FF0000',\n\n    red: '#DE3730',\n    'red-lighten-1': '#FFEDEA',\n    'red-darken-1': '#93000A',\n    error: '#DE3730', // '#E65100',\n\n    blue: '#2196F3',\n    'blue-lighten-1': '#D3EAFD',\n    'blue-darken-1': '#077BD8',\n    'blue-accent-1': '#176FC7',\n    'blue-accent-2': '#63ADED',\n    info: '#2196F3', //'#178DA0',\n\n    green: '#54AF4C',\n    'green-lighten-1': '#E4F4D8',\n    'green-darken-1': '#1C7F20',\n    success: '#54AF4C',\n\n    orange: '#FDB022',\n    'orange-lighten-1': '#FEF8EC',\n    'orange-darken-1': '#F88C00',\n    warning: '#FDB022', // '#F08712',\n\n    // unusualify colors\n    // accent: '#8c9eff',\n\n    //vuetify colors\n    primary: '#27A0B4',            // R:39  G:160 B:180\n    'primary-lighten-1': '#4DBBC6', // R:77  G:187 B:198\n    'primary-lighten-2': '#74CED7', // R:116 G:206 B:215\n    'primary-lighten-3': '#AFE2E7', // R:175 G:226 B:231\n    'primary-lighten-4': '#F5FAFC', // R:245 G:250 B:252\n    'primary-darken-1': '#00758D',  // R:0   G:117 B:141\n    'primary-darken-2': '#00566A',  // R:0   G:86  B:106\n    'primary-darken-3': '#01404F',  // R:1   G:64  B:79\n    'primary-accent': '#DEF5FA',    // R:222 G:245 B:250\n\n    'on-primary': '#FFFFFF',\n    // 'on-primary-lighten-1': '#FFFFFF', // R:77  G:187 B:198\n    // 'on-primary-lighten-2': '#FFFFFF', // R:116 G:206 B:215\n    // 'on-primary-lighten-3': '#000000', // R:175 G:226 B:231\n    // 'on-primary-lighten-4': '#000000', // R:245 G:250 B:252\n    // 'on-primary-darken-1': '#FFFFFF',  // R:0   G:117 B:141\n    // 'on-primary-darken-2': '#FFFFFF',  // R:0   G:86  B:106\n    // 'on-primary-darken-3': '#FFFFFF',  // R:1   G:64  B:79\n    // 'on-primary-accent': '#FFFFFF',    // R:222 G:245 B:250\n\n    // Secondary Colors\n    secondary: '#E16437',           // R:225 G:100 B:55\n    'secondary-lighten-1': '#EC9F83', // R:236 G:159 B:131\n    'secondary-lighten-2': '#F2BAA6', // R:242 G:186 B:166\n    'secondary-lighten-3': '#F7D6CA', // R:247 G:214 B:202\n    'secondary-lighten-4': '#FCF1ED', // R:252 G:241 B:237\n    'secondary-lighten-5': '#F7D6CA', // R:247 G:214 B:202\n    'secondary-lighten-6': '#F2BAA6', // R:242 G:186 B:166\n    'secondary-darken-1': '#D55020',  // R:213 G:80  B:32\n    'secondary-darken-2': '#C3491D',  // R:195 G:73  B:29\n    'secondary-darken-3': '#B1431B',  // R:177 G:67  B:27\n    'secondary-darken-4': '#A03C18',  // R:160 G:60  B:24\n    'secondary-darken-5': '#8E3515',  // R:142 G:53  B:21\n    'secondary-darken-6': '#7C2F13',  // R:124 G:47  B:19\n\n    grey: '#768184',                // R:118 G:129 B:132\n    'grey-lighten-1': '#879092',    // R:135 G:144 B:146\n    'grey-lighten-2': '#999FA1',    // R:153 G:159 B:161\n    'grey-lighten-3': '#AAEAEF',    // R:170 G:234 B:239\n    'grey-lighten-6': '#F2F1F1',    // R:242 G:241 B:241\n    'grey-lighten-4': '#CACBCB',    // R:202 G:203 B:203\n    'grey-lighten-5': '#E4E4E4',    // R:228 G:228 B:228\n    'grey-lighten-6': '#F2F1F1',    // R:242 G:241 B:241\n    'grey-darken-1': '#657275',     // R:101 G:114 B:117\n    'grey-darken-2': '#546367',     // R:84  G:99  B:103\n    'grey-darken-3': '#435458',     // R:67  G:84  B:88\n    'grey-darken-4': '#32454A',     // R:50  G:69  B:74\n    'grey-darken-5': '#20363B',     // R:32  G:54  B:59\n\n    // grey accents\n    'grey-accent-1': '#EEF1F2',     // R:238 G:241 B:242\n    'grey-accent-2': '#DEE3E5',     // R:222 G:227 B:229\n    'grey-accent-3': '#BFC8CB',     // R:191 G:200 B:203\n    'grey-accent-4': '#8CA0A7',     // R:140 G:160 B:167\n    'grey-accent-5': '#6F797B',     // R:111 G:121 B:123\n    'grey-accent-6': '#3F484A',     // R:63  G:72  B:74\n    'grey-accent-7': '#171D1E',     // R:23  G:29  B:30\n\n\n    // surface: '#FFFFFF',\n    // 'surface-bright': '#FFFFFF',\n    // 'surface-light': '#EEEEEE',\n    // 'surface-variant': '#424242',\n    // 'on-surface-variant': '#EEEEEE',\n\n    // secondary: '#F08712',\n    // 'secondary-darken-1': '#018786',\n\n\n\n\n\n    // // State colors\n    // info: '#2196F3',\n    // 'on-info': '#077BD8',\n    // 'info-container': '#D3EAFD',\n\n    // error: '#DE3730',\n    // 'on-error': '#93000A',\n    // 'error-container': '#FFEDEA',\n\n    // success: '#54AF4C',\n    // 'on-success': '#1C7F20',\n    // 'success-container': '#E4F4D8',\n\n    // warning: '#FDB022',\n    // 'on-warning': '#F8BC00',\n    // 'warning-container': '#F8BC00',\n\n    // // Surface variants\n    // surface: '#171D1E',\n    // 'surface-variant': '#424545',\n    // 'surface-container': '#8DCDA7',\n    // 'surface-container-low': '#B8CBD8',\n    // 'surface-container-high': '#E8F3F5',\n  },\n  variables: {\n    'border-color': '#000000',\n    'border-opacity': 0.12,\n    'high-emphasis-opacity': 0.87,\n    'medium-emphasis-opacity': 0.60,\n    'disabled-opacity': 0.38,\n    'idle-opacity': 0.04,\n    'hover-opacity': 0.04,\n    'focus-opacity': 0.12,\n    'selected-opacity': 0.08,\n    'activated-opacity': 0.12,\n    'pressed-opacity': 0.12,\n    'dragged-opacity': 0.08,\n    'theme-kbd': '#212529',\n    'theme-on-kbd': '#FFFFFF',\n    'theme-code': '#F5F5F5',\n    'theme-on-code': '#000000',\n  }\n}\n","import { createVuetify } from 'vuetify'\nimport { aliases, mdi } from 'vuetify/iconsets/mdi'\nimport { fa } from 'vuetify/iconsets/fa'\n\n// Stylesheets\nimport '@fortawesome/fontawesome-free/css/all.min.css' // Ensure you are using css-loader\nimport '@mdi/font/css/materialdesignicons.css' // Ensure you are using css-loader\n// import '@mdi/font/scss/materialdesignicons.scss'\n\n// import 'styles/themes/b2press/main.scss'\n// import 'vuetify/styles'\n\n// Vuetify\nimport * as components from 'vuetify/components'\nimport * as directives from 'vuetify/directives'\n// import { VTreeview } from 'vuetify/lib/components/VTreeview'\n// import { VBtn } from 'vuetify/lib/components'\n\nimport customMdiIcons from '@/config/icons/mdi'\n// import { md2 } from 'vuetify/blueprints'\n\nimport * as themes from '@/config/themes'\n\n// import 'vuetify/lib/styles/main.sass'\n\nconst APP_THEME = import.meta.env.VUE_APP_THEME || 'unusualify'\n\nfunction loadIcons ($font) {\n  const locales = require.context('../config/icons', true, /[A-Za-z0-9-_,\\s]+.json$/i)\n  const messages = {}\n\n  locales.keys().forEach(key => {\n    const matched = key.match(/([A-Za-z0-9-_]+)\\./i)\n    if (matched && matched.length > 1) {\n      const locale = matched[1]\n      messages[locale] = locales(key)\n    }\n  })\n\n  return messages\n}\n\nconst opts = {\n//   blueprint: md2,\n  aliases: {\n    VBtnPrimary: components.VBtn,\n    VBtnSecondary: components.VBtn,\n    // VBtnTertiary: components.VBtn,\n    // VBtnCta: components.VBtn,\n    // VBtnCtaSecondary: components.VBtn,\n    VBtnSuccess: components.VBtn,\n    VImgIcon: components.VImg,\n    VSheetRounded: components.VSheet,\n    VRowSecondary: components.VRow,\n    VRowTertiary: components.VRow,\n\n\n  },\n  defaults: {\n    global: {\n      ripple: false\n    },\n    VSheet: {\n      // class: 'rounded'\n      //   elevation: 4\n    },\n    VSheetRounded: {\n      class: 'rounded'\n    },\n    VBtn: {\n      color: 'primary',\n      density: 'comfortable',\n      variant: 'elevated'\n    },\n    VBtnPrimary: {\n      color: 'primary',\n      density: 'comfortable',\n      variant: 'elevated',\n      class: 'text-uppercase',\n    },\n    VBtnSecondary: {\n      color: 'secondary',\n      density: 'comfortable',\n      variant: 'elevated',\n      class: 'text-uppercase',\n    },\n    // VBtnTertiary: {\n    //   color: 'tertiary'\n    //   // variant: 'plain'\n    // },\n    // VBtnCta: {\n    //   color: 'cta'\n    //   // variant: 'plain'\n    // },\n    // VBtnCtaSecondary: {\n    //   color: 'cta-secondary'\n    //   // variant: 'plain'\n    // },\n    VBtnSuccess: {\n      color: 'success',\n      variant: 'elevated'\n    },\n    VImgIcon: {\n      height: '2.5rem',\n    },\n    VRowSecondary: {\n      'class': 'v-row-secondary'\n    },\n    VRowTertiary: {\n      'class': 'v-row-tertiary'\n    }\n\n  },\n  theme: {\n    defaultTheme: APP_THEME,\n    themes\n  },\n  icons: {\n    defaultSet: 'mdi',\n    // iconfont: 'mdi',\n    aliases: {\n      ...aliases,\n      ...customMdiIcons\n    },\n    sets: {\n      mdi,\n      fa\n    }\n    // component: VIcon,\n    // iconfont: 'mdi' || 'fa', // 'mdi' || 'mdiSvg' || 'md' || 'fa' || 'fa4' || 'faSvg'\n    // values: {\n\n    // }\n  },\n  directives,\n  components: {\n    ...components\n    // VTreeview\n  }\n}\n\nexport default createVuetify(opts)\n","import Echo from 'laravel-echo';\nimport Pusher from 'pusher-js';\nimport { ALERT } from '@/store/mutations'\n\nexport default {\n  install: (app, opts) => {\n    window.Pusher = Pusher;\n\n    if(false) {\n      window.Echo = new Echo({\n          broadcaster: 'reverb',\n          key: import.meta.env.VITE_REVERB_APP_KEY || 'reverb-app-key',\n          wsHost: import.meta.env.VITE_REVERB_HOST || 'reverb-host',\n          wsPort: import.meta.env.VITE_REVERB_PORT || '8080',\n          wssPort: import.meta.env.VITE_REVERB_PORT || '8080',\n          forceTLS: (import.meta.env.VITE_REVERB_SCHEME ?? 'https') === 'https',\n          enabledTransports: ['ws', 'wss'],\n      });\n\n      app.config.globalProperties.$echo = window.Echo;\n\n      window.Echo.connected = false;\n\n      // window.Echo.connector.pusher.connection.bind('connected', () => {\n      //     Echo.isActive = true;\n      //     console.log('Echo connected', Echo.isActive);\n      // });\n      // window.Echo.connector.pusher.connection.bind('unavailable', () => {\n      //   Echo.isActive = false;\n      //   console.log('Echo unavailable', Echo.isActive);\n      // });\n      window.Echo.connector.pusher.connection.bind('state_change', (states) => {\n        if( states.current === 'connected') {\n          Echo.connected = true;\n          // console.log('Echo state changed to:', states.current);\n        } else {\n          Echo.connected = false;\n          // console.log('Echo state changed to:', states.current);\n        }\n      });\n\n\n      window.Echo.private(`models.1`)\n        .listen('.modularity.model.created', (e) => {\n          // commit(ALERT.SET_ALERT, { message: resp.data.message, variant: resp.data.variant })\n            app._component.store.commit(ALERT.SET_ALERT, { message: 'model created', variant: 'success', location: 'top' })\n            // console.log('private model created', e);\n        })\n        .listen('.modularity.model.updated', (e) => {\n          // commit(ALERT.SET_ALERT, { message: resp.data.message, variant: resp.data.variant })\n            app._component.store.commit(ALERT.SET_ALERT, { message: 'model updated', variant: 'success', location: 'top' })\n            // console.log('private model created', e);\n        });\n\n      window.Echo.channel('model')\n        .listen('.modularity.model.created', (e) => {\n            const data = typeof e === 'string' ? JSON.parse(e) : e;\n            console.log('model created', data);\n            // console.log('private model created', app._component.store, app);\n\n        })\n        .listen('.modularity.model.updated', (e) => {\n            const data = typeof e === 'string' ? JSON.parse(e) : e;\n            console.log('model updated', data);\n            // console.log('private model created', app._component.store, app);\n\n        });\n      // window.Echo.channel('ModelCreatedEvent')\n      //   .listen('model.created', (e) => {\n      //       console.log('model created', e);\n      //   });\n    }\n  }\n}\n","import axios from 'axios'\nimport { nextTick } from 'vue'\nimport { createI18n } from 'vue-i18n'\nimport store from '@/store'\n\n// import messages from \"@intlify/unplugin-vue-i18n/messages\";\n\nfunction loadStaticMessages () {\n  // const locales = require.context('./../../../../lang', true, /[A-Za-z0-9-_,\\s]+.json$/i)\n  const locales = import.meta.glob('./../../../../lang/*.json', { eager: true })\n\n  const messages = {}\n\n  Object.keys(locales).forEach(path => {\n    const extFile = path.split('/').pop()\n    const key = extFile.match(/([A-Za-z0-9-_]+)\\.json/i)[1]\n    const matched = key.match(/([A-Za-z0-9-_]+)/i)\n    if (matched && matched.length > 1) {\n      const locale = matched[1]\n      messages[locale] = locales[path]\n    }\n  })\n  return messages\n}\n\n// https://vue-i18n.intlify.dev/guide/essentials/datetime.html\nconst datetimeFormats = {\n  en: {\n    numeric: {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric'\n    },\n    'numeric-full': {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    },\n    short: {\n      year: '2-digit',\n      month: 'short',\n      day: 'numeric'\n    },\n    medium: {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n      // weekday: 'narrow'\n      // era: 'long',\n    },\n    long: {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      weekday: 'long',\n      hour: 'numeric',\n      minute: 'numeric',\n      hour12: true\n    }\n  },\n  tr: {\n    numeric: {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric'\n    },\n    'numeric-full': {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    },\n    short: {\n      year: '2-digit',\n      month: 'short',\n      day: 'numeric'\n    },\n    medium: {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n      // weekday: 'narrow'\n      // era: 'long',\n    },\n    long: {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      weekday: 'long',\n      hour: 'numeric',\n      minute: 'numeric'\n    }\n  }\n}\n\n// https://vue-i18n.intlify.dev/guide/essentials/number.html\nconst numberFormats = {\n  'en-US': {\n    currency: {\n      style: 'currency', currency: 'USD', notation: 'standard'\n    },\n    decimal: {\n      style: 'decimal', minimumFractionDigits: 2, maximumFractionDigits: 2\n    },\n    percent: {\n      style: 'percent', useGrouping: false\n    }\n  },\n  en: {\n    currency: {\n      style: 'currency',\n      currency: 'EUR'\n      // currencyDisplay: '$'\n\n    }\n  },\n  tr: {\n    currency: {\n      style: 'currency',\n      currency: 'TRY'\n      // currencyDisplay: '₺'\n    }\n  }\n}\n\nconst setupOptions = {\n//   locale: import.meta.env.UNUSUAL_DEFAULT_LOCALE || 'tr',\n  locale: import.meta.env.VUE_APP_LOCALE || 'en',\n  //   fallbackLocale: import.meta.env.UNUSUAL_FALLBACK_LOCALE || 'tr',\n  fallbackLocale: import.meta.env.VUE_APP_FALLBACK_LOCALE || 'en',\n  legacy: false,\n  // silentFallbackWarn: true,\n  missingWarn: false,\n  fallbackWarn: false,\n  messages: loadStaticMessages(),\n  datetimeFormats,\n  numberFormats\n\n  // messages: loadLocaleMessages(),\n\n}\n\nexport default setupI18n(setupOptions)\n\nexport function setupI18n (options = { locale: 'en' }) {\n  const i18n = createI18n(options)\n\n  setI18nLocale(i18n, options.locale)\n\n  return i18n\n}\n\nexport function setI18nLocale (i18n, locale) {\n  if (i18n.mode === 'legacy') {\n    i18n.global.locale = locale\n  } else {\n    i18n.global.locale.value = locale\n  }\n  /**\n   * NOTE:\n   * If you need to specify the language setting for headers, such as the `fetch` API, set it here.\n   * The following is an example for axios.\n   *\n   * axios.defaults.headers.common['Accept-Language'] = locale\n   */\n  document.querySelector('html').setAttribute('lang', locale)\n}\n\nexport async function loadLocaleMessages (i18n, endpoint) {\n\n  if (typeof TRANSLATIONS !== 'undefined' && TRANSLATIONS) {\n    for (const locale in TRANSLATIONS) {\n      loadLocaleMessage(i18n, locale, TRANSLATIONS[locale])\n    }\n  }\n\n}\n\nexport function loadLocaleMessage (i18n, locale, messages) {\n  // set locale and locale message\n  i18n.global.setLocaleMessage(locale, messages)\n\n  return nextTick()\n}\n","// SVGs\n// Should output : '<span class=\"icon icon--${id}\"><svg><title>id</title><use xlink:href=\"#icon--${id}\"></use></svg></span>';\n// <svg class=\"icon icon--${id}\"><title>id</title><use xlink:href=\"#icon--${id}\"></use></svg> if node is already a svg\n\nexport function addSvg (el, binding, vnode) {\n  const classNames = ['icon']\n  const id = binding.expression || vnode.props.symbol\n  let svg = el\n  // span or svg ?\n  if (vnode.type === 'span') {\n    // add SVG element\n    svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n    el.appendChild(svg)\n  }\n  // add classes to wrapper\n  classNames.push(`icon--${id}`)\n  classNames.forEach(function (className) {\n    el.classList.add(className)\n  })\n\n  // add title to SVGs\n  const title = document.createElementNS('http://www.w3.org/2000/svg', 'title')\n\n  title.textContent = id\n  svg.appendChild(title)\n\n  // Add the <use> element to <svg>\n  const href = `#icon--${id}`\n  const use = document.createElementNS('http://www.w3.org/2000/svg', 'use')\n\n  use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', href)\n  svg.appendChild(use)\n}\n\nexport function removeSvg (el) {\n  const svg = el.querySelector('svg')\n\n  // remove svg\n  if (svg) svg.parentNode.removeChild(svg)\n\n  // clean up classes\n  const classNames = el.className.split(' ').filter(function (c) {\n    return c.indexOf('icon') === 0\n  })\n\n  classNames.forEach(function (className) {\n    el.classList.remove(className)\n  })\n}\n","import { addSvg, removeSvg } from '@/utils/svg.js'\n\nexport default {\n  install (app, opts = {}) {\n    const dir = {\n      beforeMount (el, binding, vnode) {\n        addSvg(el, binding, vnode)\n      },\n      updated: function (el, binding, vnode, oldVnode) {\n        removeSvg(el)\n        addSvg(el, binding, vnode)\n      },\n      mounted: function (el, binding, vnode) {\n      },\n      unmounted: function (el, binding, vnode) {\n        // removeSvg(el)\n      }\n    }\n    app.directive('svg', dir)\n  }\n}\n","\nexport default {\n  install (app, opts = {}) {\n    const defaultColumns = {\n      cols: 12\n      // xxl: 4,\n      // xl: 4,\n      // lg: 6,\n      // md: 8,\n      // sm: 12,\n      // xs: 12\n    }\n    const dir = {\n      // called before bound element's attributes\n      // or event listeners are applied\n      created (el, binding, vnode, prevVnode) {\n        const Columns = binding.value\n        const vm = binding.instance\n        __log(vnode, el)\n        // vnode.props[key] = value\n      },\n      // called right before the element is inserted into the DOM.\n      beforeMount (el, binding, vnode, prevVnode) {\n        const Columns = binding.value\n        if (!Columns) {\n          Object.entries(defaultColumns).forEach(([key, value]) => {\n            // el.setAttribute(key, value)\n            el.classList.add(`v-col-${key === 'cols' ? value : key + '-' + value}`)\n          })\n          // el.setAttribute('md', '6')\n        } else if (__isObject(Columns)) {\n          // Set the column information as attributes\n          Object.entries(Columns).forEach(([key, value]) => {\n            // el.setAttribute(key, value)\n            el.classList.add(`v-col-${key === 'cols' ? value : key + '-' + value}`)\n          })\n        }\n      },\n      // called when the bound element's parent component\n      // and all its children are mounted.\n      mounted (el, binding, vnode, prevVnode) {\n\n      },\n      // called before the parent component is updated\n      beforeUpdate (el, binding, vnode, prevVnode) {},\n      // called after the parent component and\n      // all of its children have updated\n      updated (el, binding, vnode, prevVnode) {},\n      // called before the parent component is unmounted\n      beforeUnmount (el, binding, vnode, prevVnode) {},\n      // called when the parent component is unmounted\n      unmounted (el, binding, vnode, prevVnode) {}\n    }\n    app.directive('column', dir)\n  }\n}\n","\nexport default {\n  install (app, opts = {}) {\n    const dir = {\n      // called before bound element's attributes\n      // or event listeners are applied\n      created (el, binding, vnode, prevVnode) {\n\n      },\n      // called right before the element is inserted into the DOM.\n      beforeMount (el, binding, vnode, prevVnode) {\n        // __log(\n        //   el\n        // )\n        el.classList.add('d-flex')\n\n        el.firstElementChild.classList.add('h-100', 'w-100')\n      },\n      // called when the bound element's parent component\n      // and all its children are mounted.\n      mounted (el, binding, vnode, prevVnode) {\n\n      },\n      // called before the parent component is updated\n      beforeUpdate (el, binding, vnode, prevVnode) {},\n      // called after the parent component and\n      // all of its children have updated\n      updated (el, binding, vnode, prevVnode) {},\n      // called before the parent component is unmounted\n      beforeUnmount (el, binding, vnode, prevVnode) {},\n      // called when the parent component is unmounted\n      unmounted (el, binding, vnode, prevVnode) {}\n    }\n    app.directive('fit-grid', dir)\n  }\n}\n","export default {\n  install(app, opts = {}) {\n    const dir = {\n      created(el, binding, vnode, prevVnode) {\n        // Initialize any necessary data\n      },\n      beforeMount(el, binding, vnode, prevVnode) {\n        el.classList.add('ue-scrollable');\n\n        // Check if a height modifier is provided\n        console.log('here')\n        if (binding.modifiers.height) {\n          const height = binding.value;\n          if (typeof height === 'number' || (typeof height === 'string' && height.match(/^\\d+(\\.\\d+)?(px|em|rem|vh|%)$/))) {\n            el.style.height = typeof height === 'number' ? `${height}px` : height;\n            el.style.overflowY = 'auto';\n          } else {\n            console.warn('v-scrollable: Invalid height value. Please provide a number (for px) or a valid CSS height value.');\n          }\n        }\n      },\n      mounted(el, binding, vnode, prevVnode) {\n        // Additional mounted logic if needed\n      },\n      updated(el, binding, vnode, prevVnode) {\n        // Update height if the binding value changes\n        if (binding.modifiers.height && binding.value !== binding.oldValue) {\n          const height = binding.value;\n          if (typeof height === 'number' || (typeof height === 'string' && height.match(/^\\d+(\\.\\d+)?(px|em|rem|vh|%)$/))) {\n            el.style.height = typeof height === 'number' ? `${height}px` : height;\n          }\n        }\n      },\n      beforeUpdate(el, binding, vnode, prevVnode) {},\n      beforeUnmount(el, binding, vnode, prevVnode) {},\n      unmounted(el, binding, vnode, prevVnode) {}\n    };\n    app.directive('scrollable', dir);\n  }\n};\n","export default {\n  install(app, opts = {}) {\n    const dir = {\n      beforeMount(el, binding) {\n        // Default transition type if none specified\n        const type = binding.arg || 'scale'\n        // Get transition duration from modifier or use default\n        const duration = binding.modifiers?.slow ? '0.3s' : '0.2s'\n\n        // Add base transition class\n        el.classList.add(`${type}-transition`)\n      },\n\n      mounted(el, binding) {\n        const type = binding.arg || 'scale'\n\n        // Set initial state\n        if (!el.classList.contains('d-none')) {\n          el.classList.add(`${type}-1`)\n        }\n\n        // Create mutation observer to watch for d-none class changes\n        const observer = new MutationObserver((mutations) => {\n          mutations.forEach((mutation) => {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n              const hasDNone = el.classList.contains('d-none')\n              // Handle transition when d-none is added/removed\n              if (hasDNone) {\n                __log('observer', hasDNone, el)\n                el.classList.remove(`${type}-1`)\n              } else {\n                // Small delay to ensure d-none is fully removed\n                setTimeout(() => {\n                  el.classList.add(`${type}-1`)\n                }, 50)\n              }\n            }\n          })\n        })\n\n        // Store observer in element to cleanup later\n        el._transitionObserver = observer\n\n        // Start observing the element\n        observer.observe(el, {\n          attributes: true,\n          attributeFilter: ['class']\n        })\n      },\n\n      updated(el, binding) {\n        // Handle any dynamic updates to the binding if needed\n      },\n\n      unmounted(el) {\n        // Cleanup the observer when component is unmounted\n        if (el._transitionObserver) {\n          el._transitionObserver.disconnect()\n          delete el._transitionObserver\n        }\n      }\n    }\n\n    // Register the directive as 'transition'\n    app.directive('transition', dir)\n  }\n}\n","import _ from 'lodash-es'\nimport pluralize from 'pluralize'\n\nimport { ALERT, CONFIG } from '../store/mutations'\n\nexport default {\n  $csrf: function () {\n    return document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n  },\n  $log: function (...args) {\n    return window.__log(...args)\n  },\n  $isset: function (...args) {\n    return window.__isset(...args)\n  },\n  $bindAttributes: function (attributes = null) {\n    const _attributes = {}\n    if (attributes) {\n      Object.keys(attributes).forEach((v, i) => {\n        if (parseInt(v) > -1) {\n          _attributes[attributes[v]] = true\n        } else {\n          _attributes[v] = attributes[v]\n        }\n      })\n    } else if (attributes == null) {\n      return { ...this.$attrs }\n    }\n    // __log(_props)\n    return _attributes\n  },\n  $main: function () {\n    return this.$root.$refs.main\n  },\n  $profileDialog: function () {\n    return this.$root.$refs.sidebar.$refs.profileDialog\n  },\n  $openProfileDialog: function () {\n    return this.$store.state.user.profileDialog = true\n  },\n  $closeProfileDialog: function () {\n    return this.$store.state.user.profileDialog = false\n  },\n  $can: function (permission) {\n    if (this.$store.getters.isSuperAdmin) {\n      return true\n    }\n\n    return false\n  },\n  $hasRoles: function (roles) {\n    if(window.__isString(roles)){\n      roles = roles.split(',').map(role => role.trim())\n    }\n\n    return this.$store.getters.userRoles.some(role => roles.includes(role))\n  },\n  $toggleSidebar: function () {\n    this.$store.commit(CONFIG.SIDEBAR_TOGGLE)\n  },\n  $castValueMatch: function (value, ownerItem) {\n    let matches\n\n    let returnValue = value\n\n    if(__isString(value) && (matches = value.match(/\\$([\\w\\.\\*]+)/))){\n      let notation = matches[1]\n      let quoted = __preg_quote(matches[0])\n      let parts = notation.split('.')\n      // __log(parts)\n\n      let newParts = []\n      for(const j in parts){\n        let part = parts[j]\n        if(part === '*'){\n          // let searchedValue =\n          let _id = ownerItem.id\n          // parts[j] = `*id=${_id}`\n        }else{\n          newParts.push(part)\n        }\n      }\n\n      notation = newParts.join('.')\n\n      let newValue = __data_get(ownerItem, notation)\n\n      if(newValue){\n        let _value\n        if(Array.isArray(newValue) && newValue.length > 0){\n          _value = newValue.join(',')\n        }else if(__isString(newValue)){\n          _value = newValue\n\n          let snakeCased = snakeCase(_value)\n\n          if(this.$te(`modules.${snakeCased}`)){\n            _value = this.$t(`modules.${snakeCased}`)\n          }\n        }else if(__isNumber(newValue)){\n          _value = newValue.toString()\n        }\n\n        if(_value){\n          let remainingQuote = '\\\\w\\\\s' + __preg_quote('çşıİğüö.,;?|:_')\n          let pattern = new RegExp( String.raw`^([${remainingQuote}]+)?(${quoted})([${remainingQuote}]+)?$`)\n\n          if(value.match(pattern)){\n            returnValue = value.replace(pattern, '$1' + _value + '$3')\n          }else{\n            __log(\n              'Not matched sentence',\n              pattern,\n              value,\n              value.match(pattern)\n            )\n          }\n        }\n      }\n    }\n\n    return returnValue\n  },\n  $notif: function (payload) {\n    this.$store.commit(ALERT.SET_ALERT, payload)\n  },\n  $dialog: function (payload) {\n    this.$store.commit(ALERT.SET_DIALOG, payload)\n  },\n  $hasRequestInProgress: function () {\n    return this.$store.getters.isRequestInProgress\n  },\n  $trans: function (key, defaultValue) {\n    return this.$lodash.get(window[import.meta.env.VUE_APP_NAME]?.modularityLocalization.lang, key, defaultValue)\n    // return get(window[import.meta.env.VUE_APP_NAME].modularityLocalization.lang, key, defaultValue)\n  },\n  $changeLocale: function (locale) {\n    // this.$i18n.locale = locale\n    this.$i18n.locale.value = locale\n  },\n  $localization: function (str) {\n\n    let hasWhitespace = str.indexOf(' ') > -1\n\n    if(hasWhitespace){\n      return this.$t(str)\n    }\n\n    let segments = _.split(str, '.');\n    if(segments.length > 1){ // is a nested searching\n      return this.$te(str) ? this.$t(str) : _.join(segments, ' ')\n    }\n\n    let isPlural = false\n    let singular = str\n    if(pluralize.isPlural(singular)){\n      isPlural = true\n      singular = pluralize.singular(singular)\n    }\n\n    let kebabCase = _.kebabCase(singular)\n    let snakeCase = _.snakeCase(singular)\n\n    return this.$translation(`modules.${snakeCase}`, isPlural ? 1 : 0) ||\n      this.$translation(`fields.${kebabCase}`) ||\n      this.$translation(`fields.${snakeCase}`) ||\n      window.__snakeToHeadline(str)\n  },\n  $moduleTranslationName: function (str) {\n    // const { t, te } = useI18n({ useScope: 'global' })\n    let original = str\n    let isPlural = false\n    let name = str\n\n    let snakeNameFromForeignKey = window.__snakeNameFromForeignKey(name)\n\n    if(snakeNameFromForeignKey){ // is foreign key\n      name = snakeNameFromForeignKey\n      str = snakeNameFromForeignKey\n    }\n\n    if(pluralize.isPlural(name)){\n      isPlural = true\n      name = pluralize.singular(name)\n    }\n\n    name = _.snakeCase(name)\n    str = _.snakeCase(str)\n\n    return this.$te(`modules.${name}`) ? this.$t(`modules.${name}`, isPlural ? 1 : 0) : window.__snakeToHeadline(str)\n  },\n  $translation: function (key, ...args) {\n    return this.$te(key) ? this.$t(key, ...args) : false\n  },\n  $headline: function (str) {\n    return window.__headline(str)\n  },\n  $getDisplayData: function (schema, model) {\n    let displayData = {};\n\n    for (const key in schema) {\n      const input = schema[key];\n      const value = model[key];\n\n      let displayLabel = input.displayLabel || input.label || input.name || key;\n      displayLabel = this.$localization(displayLabel)\n      // __log(displayLabel, input)\n\n      if(!input.type || input.type == 'hidden') continue;\n\n      if (!value && value !== 0 && value !== false && displayLabel !== null && input.type !== 'wrap') continue;\n\n      displayData[key] = {\n        _title: displayLabel,\n        _type: input.type\n      };\n\n      switch (input.type) {\n        case 'wrap':\n          // Wrap only affects schema, not model\n          if (input.schema) {\n\n            delete displayData[key]\n            displayData = Object.assign(displayData, this.$getDisplayData(input.schema, model))\n            // console.log(input.schema, model, getDisplayData(input.schema, model))\n            // displayData[key].value = getDisplayData(input.schema, model);\n          }\n        break;\n        case 'group':\n          // Group adds a nested level to the model\n          if (input.schema && typeof value === 'object') {\n            displayData[key] = {\n              ...displayData[key],\n              ...this.$getDisplayData(input.schema, value)\n            };\n          } else {\n            // displayData[key]._value = value;\n          }\n        break;\n        case 'input-repeater':\n          // Repeater adds a nested level to the model as an array\n          if (Array.isArray(value) && input.schema) {\n            displayData[key]._value = value.map(item => this.$getDisplayData(input.schema, item));\n          } else {\n            displayData[key]._value = value;\n          }\n        break;\n        case 'input-filepond':\n          // Repeater adds a nested level to the model as an array\n          if (Array.isArray(value)) {\n            displayData[key]._value = value.map(item => item.file_name);\n          } else {\n            displayData[key]._value = value.file_name;\n          }\n        break;\n        case 'input-form-tabs':\n          // Repeater adds a nested level to the model as an array\n          displayData[key]._value = _.reduce(value, (acc, obj, id) => {\n            id = __isString(id) ? parseInt(id) : id\n            const item = input.items.find((i) => i.id == id);\n            const _displayLabel = item.title || item.name\n            // __log(item)\n            // acc[_key] = {\n            //   title: _key,\n            //   items: {}\n            // }\n            let _displayData = {\n              _title: _displayLabel,\n              _model: item.id ?? null,\n              _value: {}\n            }\n            _.each(input.tabFields, ( _map, _key) => {\n              let _input = input.schema[_key]\n              let __displayLabel = this.$localization(_input.displayLabel || _input.label || _input.name || _key)\n              let __displayData = {\n                _title: __displayLabel,\n                _type: input.type,\n                _value: null\n              }\n              // let _name = __moduleTranslationName(_key)\n              let _value = obj[_key];\n              let _haystack = item[_map];\n              if (Array.isArray(_value) && _haystack) {\n                __displayData._value = _value.map(id => {\n                  let _item = _haystack.find(i => i.id === id);\n                  return _item ? _item.title || _item.name : 'N/A';\n                })\n              } else {\n                if(!!_haystack){\n                  let item = _haystack.find(i => i.id === _value);\n                  _value = item ? item.title || item.name : _value;\n                  // __log(id, _key, _map, _displayData, _value)\n\n                  __displayData._value = _value;\n                  let __displayKeys = this.$getDisplayKeys(item);\n                  for(const displayKey in __displayKeys){\n                    if(!__displayData[displayKey]){\n                      __displayData[__displayKeys[displayKey]] = item[displayKey]\n                    }\n                  }\n\n                }\n              }\n              // acc[_key].items[_name] = _value\n              _displayData[_key] = __displayData\n            })\n\n            acc.push(_displayData)\n\n            return acc;\n          }, [])\n        break;\n        case 'input-price':\n          // const { n, locale, numberFormats, t, te } = useI18n({ useScope: 'global' })\n          const currencyInfo = this.$numberFormats[this.$getLocale].currency\n          const displayCurrency = input.items.find(c => c.iso === currencyInfo.currency)\n          __log(this.$n(100, { style: 'currency', currency: currencyInfo.currency }))\n\n          displayData[key]._value = this.$n(\n            value.find(priceItem => priceItem.currency_id === displayCurrency.id).display_price,\n            { style: 'currency', currency: currencyInfo.currency }\n          )\n        break;\n        default:\n          if (__isObject(value)) {\n            // __log('getDisplayData is object', input.type, value, input)\n            displayData[key]._value = value;\n          } else if (Array.isArray(value) && input.items) {\n            // __log('getDisplayData is array', input.type, key, value, input)\n            displayData[key]._value = value.map(id => {\n              const item = input.items.find(i => i[input.itemValue] === id);\n              return item ? item[input.itemTitle] : id;\n            });\n          } else {\n            if (!!input.items) {\n              const item = input.items.find(i => i[input.itemValue] === value);\n              displayData[key]._value = item ? item[input.itemTitle] : value;\n            } else {\n              displayData[key]._value = value;\n            }\n          }\n        break;\n      }\n    }\n\n    return displayData;\n  },\n  $getDisplayKeys: function (item) {\n    return _.reduce(Object.keys(item ?? {}), (acc, key) => {\n      let matches = key.match(/^([a-zA-Z0-9]+)(_show)$/)\n      if(matches){\n        acc[key] = matches[1]\n      }\n      return acc\n    }, {})\n  },\n  $copy: function(text) {\n    window.navigator.clipboard.writeText(text);\n  }\n}\n","import pluralize from 'pluralize'\n\nimport core from '@/core'\n// import VFormBase from 'vuetify-form-base';\nimport VCustomFormBase from '__components/others/CustomFormBase.vue'\n\n// Template Components\nimport UEModal from '__components/modals/Modal.vue'\nimport UEModalMedia from '__components/modals/ModalMedia.vue'\n\n// global mixins\n\n// mutations\nimport { MEDIA_LIBRARY } from '@/store/mutations'\n\n// Add-ons\nimport vuetify from '@/plugins/vuetify'\nimport broadcasting from '@/plugins/broadcasting'\n\n// Store\nimport store from '@/store'\n\n// Config\nimport i18n, { loadLocaleMessages, setI18nLocale } from '@/config/i18n'\n\n// Directives\nimport { VueMaskDirective } from 'v-mask'\n\n// Directives\nimport SvgSprite from '@/directives/svg'\nimport Column from '@/directives/column'\nimport FitGrid from '@/directives/fit-grid'\nimport Scrollable from '@/directives/scrollable'\nimport Transition from '@/directives/transition'\nimport commonMethods from '@/utils/commonMethods'\nimport { ALERT } from '../store/mutations'\n\n// const includeGlobalComponents = require.context('__components', false, /[A-Za-z]*(?<!_)\\.vue$/i)\n\n\n// const includeLabComponents = require.context('__components/labs', false, /[A-Za-z]*(?<!_)\\.vue$/i)\n// const includeLayouts = require.context('__components/layouts/', false, /[A-Za-z]*(?<!_)\\.vue$/i)\n// const includeFormInputs = require.context('__components/inputs', true, /\\.vue$/i)\n// const includeCustomFormInputs = require.context('__components/inputs', true, /\\.vue$/i)\n\nconst includeGlobalComponents = import.meta.glob('__components/*.vue', {eager: true})\nconst includeIteratorComponents = import.meta.glob('__components/data_iterators/*.vue', {eager: true})\nconst includeLayouts = import.meta.glob('__components/layouts/*.vue', {eager:true})\nconst includeFormInputs = import.meta.glob('__components/inputs/*.vue', {eager: true})\n\nconst includeCustomComponents = import.meta.glob('__components/customs/*.vue', {eager: true})\nconst includeCustomFormInputs = import.meta.glob('__components/customs/inputs/*.vue', {eager: true})\n\ncore()\n\nexport default {\n  install: (app, opts) => {\n    window.vm = app\n    // document.addEventListener('DOMContentLoaded', core(app))\n    // treat all tags starting with 'ue-' as custom elements\n    // app.config.compilerOptions.isCustomElement = (tag) => {\n    //   return tag.startsWith('ue-')\n    // }\n\n    app.use(vuetify)\n    app.use(store)\n    app.use(i18n)\n    app.use(broadcasting)\n    app.config.globalProperties.$jquery = window.$\n    app.config.globalProperties.$axios = window.axios\n    app.config.globalProperties.$lodash = window._\n    app.config.globalProperties.window = window\n\n    app.config.globalProperties.$app = app\n\n    // app.config.errorHandler = (err) => {}\n    // set locale wrt user profile preference\n    setI18nLocale(i18n, store.state.user.locale)\n    loadLocaleMessages(i18n, window[import.meta.env.VUE_APP_NAME]?.ENDPOINTS.languages ?? '')\n    // i18n.global.setDateTimeFormat('tr', 'Europe/Istanbul')\n\n    // add Global methods to all components\n    app.config.globalProperties = {\n      ...app.config.globalProperties,\n      $getLocale: i18n.global.locale.value,\n      $numberFormats: i18n.global.numberFormats.value,\n      $te: function (key, locale) {\n        const func = i18n.global.te\n        return func(key, locale) ?? false\n      },\n      $tc: function (key, locale) {\n        const func = i18n.global.tc\n        return func(key, locale) ?? false\n      },\n      $plural: function (str) {\n        return pluralize.plural(str)\n      },\n      registerComponentsV1: function (components, folder = '', prefix = 'ue') {\n        folder = folder !== '' ? folder + '/' : ''\n        components.keys().forEach((path) => {\n          const fileName = path.split('/').pop().split('.')[0]\n          const componentName = prefix + fileName.replace(/[A-Z]/g, m => '-' + m.toLowerCase())\n          // __log(componentName, fileName, folder)\n          app.component(componentName, require(`__components/${folder}${fileName}.vue`).default)\n        })\n      },\n      registerComponents: function (components, folder = '', prefix = 'ue') {\n        folder = folder !== '' ? folder + '/' : ''\n        Object.keys(components).forEach(path => {\n          const extFile = path.split('/').pop()\n          const fileName = path.split('/').pop().split('.')[0]\n          const module = components[path]\n          const componentName = prefix + fileName.replace(/[A-Z]/g, m => '-' + m.toLowerCase())\n          app.component(componentName, module.default)\n        })\n        // components.keys().forEach((path) => {\n        //   const fileName = path.split('/').pop().split('.')[0]\n        //   const componentName = prefix + fileName.replace(/[A-Z]/g, m => '-' + m.toLowerCase())\n        //   // __log(componentName, fileName, folder)\n        //   app.component(componentName, require(`__components/${folder}${fileName}.vue`).default)\n        // })\n      },\n\n      $call: function (functionName, ...args) {\n        return this[functionName](...args)\n      },\n    }\n\n    Object.keys(commonMethods).forEach(key => {\n      app.config.globalProperties[key] = commonMethods[key].bind(app.config.globalProperties)\n    })\n\n    // Global Vue mixin : Use global mixins sparsely and carefully!\n    app.mixin({\n      //   vuetify,\n      //   i18n,\n      methods: {\n        notif: function (Obj) {\n          this.$store.commit(ALERT.SET_ALERT, Obj)\n        },\n        openFreeMediaLibrary: function () {\n          // __log('openFreeMedialibrary triggered', this.$root.$refs.main.$refs)\n          this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR, null) // reset connector\n          this.$store.commit(MEDIA_LIBRARY.RESET_MEDIA_TYPE) // reset to first available type\n          this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX, -1) // we are not replacing an image here\n          this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX, 0) // set max to 0\n          this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX, 0) // set filesize max to 0\n          this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN, 0) // set width min to 0\n          this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN, 0) // set height min to 0\n          this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE, false) // set the strict to false (you can change the active type)\n\n          if (this.$root.$refs.main && this.$root.$refs.main.$refs.mediaLibrary) {\n            this.$root.$refs.main.$refs.mediaLibrary.openModal()\n          }\n          // if (this.$root.$refs.mediaLibrary) this.$root.$refs.mediaLibrary.open()\n        }\n      }\n\n    })\n    // all components\n\n    // app.component('v-form-base', VFormBase);\n    app.component('v-custom-form-base', VCustomFormBase)\n    app.component('ue-modal', UEModal)\n    // app.component('ue-modal-dialog', UEModalDialog)\n    app.component('ue-modal-media', UEModalMedia)\n    // Vue.component('ue-medialibrary', UEMediaLibrary)\n\n    // crm base package components\n    app.config.globalProperties.registerComponents(includeGlobalComponents)\n    app.config.globalProperties.registerComponents(includeIteratorComponents)\n    // app.config.globalProperties.registerComponents(includeLabComponents, 'labs')\n    app.config.globalProperties.registerComponents(includeLayouts, 'layouts')\n    app.config.globalProperties.registerComponents(includeFormInputs, 'inputs', 'v-input')\n    app.config.globalProperties.registerComponents(includeCustomComponents, 'customs', 'ue-custom')\n    // app.config.globalProperties.registerComponents(includeCustomFormInputs, 'customs/inputs', 'v-input')\n    // // Configurations\n    // Vue.config.productionTip = isProd\n    // Vue.config.devtools = true\n    // app.config.globalProperties.$http = axios\n\n    // axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\n\n    // axios.interceptors.response.use((response) => response, (error) => {\n    //     globalError('CONTENT', error)\n\n    //     return Promise.reject(error)\n    // })\n\n    // // Plugins\n    // Vue.use(VueTimeago, {\n    //     name: 'timeago', // component name\n    //     locale: window[import.meta.env.VUE_APP_NAME].twillLocalization.locale,\n    //     locales: mapValues(locales, 'date-fns')\n    // })\n\n    // Directives\n    app.directive('mask', VueMaskDirective)\n    // app.directive('svg', SvgSprite)\n    app.use(SvgSprite)\n    app.use(Column)\n    app.use(FitGrid)\n    app.use(Scrollable)\n    app.use(Transition)\n    app.provide('$app', app)\n  }\n}\n","import api from '@/store/api/form'\nimport { FORM, ALERT, MEDIA_LIBRARY } from '@/store/mutations'\nimport ACTIONS from '@/store/actions'\n\nimport { getSubmitFormData, getModel } from '@/utils/getFormData.js'\n\nconst getFieldIndex = (stateKey, field) => {\n  return stateKey.findIndex(f => f.name === field.name)\n}\n// __log(\n//   window[import.meta.env.VUE_APP_NAME].STORE.form\n// )\nconst state = {\n  baseUrl: window[import.meta.env.VUE_APP_NAME].STORE.form.baseUrl || '',\n  inputs: window[import.meta.env.VUE_APP_NAME].STORE.form.inputs || {},\n  saveUrl: window[import.meta.env.VUE_APP_NAME].STORE.form.saveUrl || '',\n\n  serverValid: true,\n  /**\n   * Form errors after submitting\n   * @type {Object}\n   */\n  errors: {},\n\n  // fields: window[import.meta.env.VUE_APP_NAME].STORE.form.inputs.forEach(function(el ){\n  //     return {\n  //       name: el.name,\n  //       value: null\n  //     };\n  // }),\n\n  // editedItem: window[import.meta.env.VUE_APP_NAME].STORE.form.inputs.reduce( (a,c) => (a[c.name] = c.default ?? '', a), {}),\n  // editedItem: Object.keys(window[import.meta.env.VUE_APP_NAME].STORE.form.inputs).reduce( (a,c) => (a[window[import.meta.env.VUE_APP_NAME].STORE.form.inputs[c].name] = window[import.meta.env.VUE_APP_NAME].STORE.form.inputs[c].hasOwnProperty('default') ? window[import.meta.env.VUE_APP_NAME].STORE.form.inputs[c].default : '', a), {}),\n  editedItem: window[import.meta.env.VUE_APP_NAME].STORE.form.inputs\n    ? getModel(window[import.meta.env.VUE_APP_NAME].STORE.form.inputs, null)\n    : {},\n\n  /**\n   * Force reload on successful submit\n   * @type {Boolean}\n   */\n  reloadOnSuccess: window[import.meta.env.VUE_APP_NAME].STORE.form.reloadOnSuccess || false,\n\n  /**\n   * Determines if the form should prevent submitting before an input value is pushed into the store\n   * @type {Boolean}\n   */\n  isSubmitPrevented: false,\n\n  loading: false,\n\n  taggableItems: {}\n}\n\n// getters\nconst getters = {\n  defaultItem: state => {\n    return getModel(state.inputs)\n  }\n}\n\nconst mutations = {\n  [FORM.SET_EDITED_ITEM] (state, item) {\n    // state.editedItem = getModel(state.inputs, Object.assign({}, item), this._state.data)\n    state.editedItem = Object.assign({}, item)\n    // store._modules.root.state\n    // commit(MEDIA_LIBRARY.ADD_MEDIAS, )\n  },\n  [FORM.RESET_EDITED_ITEM] (state) {\n    state.editedItem = getModel(state.inputs)\n  },\n  [FORM.PREVENT_SUBMIT] (state) {\n    state.isSubmitPrevented = true\n  },\n  [FORM.ALLOW_SUBMIT] (state) {\n    state.isSubmitPrevented = false\n  },\n  // ----------- Form fields ----------- //\n  [FORM.EMPTY_FORM_FIELDS] (state, status) {\n    state.fields = []\n  },\n  [FORM.ADD_FORM_FIELDS] (state, fields) {\n    state.fields = [...state.fields, ...fields]\n  },\n  [FORM.REPLACE_FORM_FIELDS] (state, fields) {\n    state.fields = fields\n  },\n  [FORM.UPDATE_FORM_FIELD] (state, field) {\n    let fieldValue = field.locale ? {} : null\n    const fieldIndex = getFieldIndex(state.fields, field)\n    // Update existing form field\n    if (fieldIndex !== -1) {\n      if (field.locale) fieldValue = state.fields[fieldIndex].value || {}\n      // remove existing field\n      state.fields.splice(fieldIndex, 1)\n    }\n\n    if (field.locale) fieldValue[field.locale] = field.value\n    else fieldValue = field.value\n\n    state.fields.push({\n      name: field.name,\n      value: fieldValue\n    })\n  },\n  [FORM.REMOVE_FORM_FIELD] (state, fieldName) {\n    state.fields.forEach(function (field, index) {\n      if (field.name === fieldName) state.fields.splice(index, 1)\n    })\n  },\n  // ----------- Modal fields ----------- //\n  [FORM.EMPTY_MODAL_FIELDS] (state, status) {\n    state.modalFields = []\n  },\n  [FORM.REPLACE_MODAL_FIELDS] (state, fields) {\n    state.modalFields = fields\n  },\n  [FORM.UPDATE_MODAL_FIELD] (state, field) {\n    let fieldValue = field.locale ? {} : null\n    const fieldIndex = getFieldIndex(state.modalFields, field)\n\n    // Update existing form field\n    if (fieldIndex !== -1) {\n      if (field.locale) fieldValue = state.modalFields[fieldIndex].value\n      // remove existing field\n      state.modalFields.splice(fieldIndex, 1)\n    }\n\n    if (field.locale) fieldValue[field.locale] = field.value\n    else fieldValue = field.value\n\n    state.modalFields.push({\n      name: field.name,\n      value: fieldValue\n    })\n  },\n  [FORM.REMOVE_MODAL_FIELD] (state, fieldName) {\n    state.modalFields.forEach(function (field, index) {\n      if (field.name === fieldName) state.modalFields.splice(index, 1)\n    })\n  },\n  // ----------- Form errors and Loading ----------- //\n  [FORM.UPDATE_FORM_LOADING] (state, loading) {\n    state.loading = loading || !state.loading\n  },\n  [FORM.SET_FORM_ERRORS] (state, errors) {\n    state.errors = errors\n  },\n  [FORM.SET_SERVER_VALID] (state, isValid) {\n    state.serverValid = isValid\n  },\n  [FORM.CLEAR_FORM_ERRORS] (state) {\n    state.errors = []\n  },\n  [FORM.UPDATE_FORM_SAVE_TYPE] (state, type) {\n    state.type = type\n  },\n\n  [FORM.SET_TAGGABLE_ITEMS] (state, { taggable_type, items }) {\n    state.taggableItems[taggable_type] = items\n  },\n  [FORM.ADD_TAGGABLE_ITEM] (state, { taggable_type, item }) {\n    state.taggableItems[taggable_type].push(item)\n  }\n}\n\nconst actions = {\n  [ACTIONS.SAVE_FORM] ({ commit, state, getters, rootState, dispatch }, { item = null, callback = null, errorCallback = null, plain = false }) {\n    commit(FORM.CLEAR_FORM_ERRORS)\n    commit(FORM.UPDATE_FORM_LOADING, true)\n\n    // commit(NOTIFICATION.CLEAR_NOTIF, 'error')\n\n    // update or create etc...\n    // commit(FORM.UPDATE_FORM_SAVE_TYPE, saveType)\n\n    // we can now create our submitted data object out of:\n    // - our just created fields object,\n    // - publication properties\n    // - selected medias and browsers\n    // - created blocks and repeaters\n\n    // const data = getFormData(rootState)\n    const data = plain ? item : getSubmitFormData(state.inputs, item ?? state.editedItem, rootState)\n\n    // const method = rootState.publication.createWithoutModal ? 'post' : 'put'\n    let method = 'post'\n    let url = window[import.meta.env.VUE_APP_NAME].ENDPOINTS.store\n\n    if (Object.prototype.hasOwnProperty.call(data, 'id')) {\n      method = 'put'\n      url = window[import.meta.env.VUE_APP_NAME].ENDPOINTS.update.replace(':id', data.id)\n    }\n\n    api[method](url, data, function (response) {\n      commit(FORM.UPDATE_FORM_LOADING, false)\n      if (Object.prototype.hasOwnProperty.call(response.data, 'errors')) {\n        commit(FORM.SET_SERVER_VALID, false)\n        commit(FORM.SET_FORM_ERRORS, response.data.errors)\n      } else if (Object.prototype.hasOwnProperty.call(response.data, 'variant') && response.data.variant.toLowerCase() === 'success') {\n        commit(ALERT.SET_ALERT, { message: response.data.message, variant: response.data.variant })\n        commit(FORM.SET_SERVER_VALID, true)\n\n        if (method === 'post') {\n          commit(FORM.RESET_EDITED_ITEM)\n        }\n\n        try {\n          dispatch(ACTIONS.GET_DATATABLE)\n        } catch (error) {\n\n        }\n        // if (!data.hasOwnProperty('reload') || data.reload) { dispatch(ACTIONS.GET_DATATABLE) }\n      }\n\n      if (callback && typeof callback === 'function') callback(response.data)\n    }, function (response) {\n      commit(FORM.UPDATE_FORM_LOADING, false)\n      if (Object.prototype.hasOwnProperty.call(response.data, 'errors')) {\n        commit(FORM.SET_FORM_ERRORS, response.data.errors)\n        commit(FORM.SET_SERVER_VALID, false)\n      } else if (Object.prototype.hasOwnProperty.call(response.data, 'exception')) {\n        commit(ALERT.SET_ALERT, { message: 'Your submission could not be processed.', variant: 'error' })\n      } else {\n        dispatch(ACTIONS.HANDLE_ERRORS, response.data)\n        commit(ALERT.SET_ALERT, { message: 'Your submission could not be validated, please fix and retry', variant: 'error' })\n      }\n\n      if (errorCallback && typeof errorCallback === 'function') errorCallback(response.data)\n    })\n  },\n\n  [ACTIONS.HANDLE_ERRORS] ({ commit, state, getters, rootState }, errors) {\n    const repeaters = rootState.repeaters\n    // Translate the errors to their respective fields.\n    Object.keys(errors).forEach((errorKey) => {\n      const splitted = errorKey.split('.')\n\n      if (splitted.length >= 4) {\n        const type = splitted[0]\n        const subType = splitted[1]\n        const index = splitted[2]\n        const field = splitted[3]\n\n        if (type === 'repeaters') {\n          const id = repeaters[subType][index].id\n          const newErrorKey = `blocks[${id}][${field}]`\n          errors[newErrorKey] = errors[errorKey]\n        }\n      }\n    })\n\n    commit(FORM.SET_FORM_ERRORS, errors)\n  }\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n"],"names":["UPDATE_DATATABLE_DATA","UPDATE_DATATABLE_BULK","REPLACE_DATATABLE_BULK","ADD_DATATABLE_COLUMN","REMOVE_DATATABLE_COLUMN","UPDATE_DATATABLE_OFFSET","UPDATE_DATATABLE_PAGE","UPDATE_DATATABLE_MAXPAGE","UPDATE_DATATABLE_NAV","UPDATE_DATATABLE_VISIBLITY","UPDATE_DATATABLE_SORT","PUBLISH_DATATABLE","FEATURE_DATATABLE","UPDATE_DATATABLE_FILTER","UPDATE_DATATABLE_FILTER_STATUS","CLEAR_DATATABLE_FILTER","UPDATE_DATATABLE_MESSAGE","UPDATE_DATATABLE_LOADING","UPDATE_DATATABLE_NESTED","UPDATE_DATATABLE_TRACKER","UPDATE_DATATABLE_OPTIONS","UPDATE_DATATABLE_SEARCH","UPDATE_DATATABLE_TOTAL","SET_DATATABLE_DIALOG","UPDATE_DATATABLE_ADVANCED_FILTER","RESET_DATATABLE_ADVANCED_FILTER","DATATABLE","PREVENT_SUBMIT","ALLOW_SUBMIT","UPDATE_FORM_PERMALINK","UPDATE_FORM_FIELD","REMOVE_FORM_FIELD","ADD_FORM_BLOCK","DELETE_FORM_BLOCK","DUPLICATE_FORM_BLOCK","DUPLICATE_BLOCK_FORM_FIELDS","ADD_REPEATERS","REORDER_FORM_BLOCKS","UPDATE_FORM_LOADING","SET_FORM_ERRORS","SET_SERVER_VALID","CLEAR_FORM_ERRORS","UPDATE_FORM_SAVE_TYPE","REPLACE_FORM_FIELDS","ADD_FORM_FIELDS","EMPTY_FORM_FIELDS","SET_EDITED_ITEM","RESET_EDITED_ITEM","EMPTY_MODAL_FIELDS","UPDATE_MODAL_FIELD","REMOVE_MODAL_FIELD","REPLACE_MODAL_FIELDS","SET_TAGGABLE_ITEMS","ADD_TAGGABLE_ITEM","FORM","SET_ALERT","SET_ALERT_SHOW","CLEAR_ALERT","SET_DIALOG","SET_DIALOG_SHOW","CLEAR_DIALOG","ALERT","UPDATE_MEDIA_TYPE_TOTAL","INCREMENT_MEDIA_TYPE_TOTAL","DECREMENT_MEDIA_TYPE_TOTAL","SAVE_MEDIAS","UPDATE_MEDIAS","DESTROY_MEDIAS","REORDER_MEDIAS","PROGRESS_UPLOAD","PROGRESS_UPLOAD_MEDIA","DONE_UPLOAD_MEDIA","ERROR_UPLOAD_MEDIA","DESTROY_SPECIFIC_MEDIA","UPDATE_MEDIA_MAX","UPDATE_MEDIA_FILESIZE_MAX","UPDATE_MEDIA_WIDTH_MIN","UPDATE_MEDIA_HEIGHT_MIN","UPDATE_MEDIA_TYPE","RESET_MEDIA_TYPE","SET_MEDIA_CROP","SET_MEDIA_METADATAS","UPDATE_MEDIA_CONNECTOR","UPDATE_MEDIA_MODE","DESTROY_MEDIA_CONNECTOR","UPDATE_REPLACE_INDEX","ADD_MEDIAS","UPDATE_IS_INSERTED","MEDIA_LIBRARY","SWITCH_LANG","UPDATE_LANG","PUBLISH_LANG","PUBLISH_SINGLE_LANG","REPLACE_LANGUAGES","RESET_LANGUAGES","LANGUAGE","SAVE_ITEMS","DESTROY_ITEMS","DESTROY_ITEM","REORDER_ITEMS","UPDATE_BROWSER_MAX","UPDATE_BROWSER_TITLE","UPDATE_BROWSER_NOTE","UPDATE_BROWSER_CONNECTOR","DESTROY_BROWSER_CONNECTOR","UPDATE_BROWSER_ENDPOINT","UPDATE_BROWSER_ENDPOINTS","DESTROY_BROWSER_ENDPOINT","DESTROY_BROWSER_ENDPOINTS","ADD_BROWSERS","BROWSER","SIDEBAR_TOGGLE","SET_SIDEBAR","SET_REQUEST_IN_PROGRESS","INCREASE_AXIOS_REQUEST","DECREASE_AXIOS_REQUEST","CONFIG","SET_PROFILE_DATA","USER","_sfc_main","val","mapState","state","mapGetters","message","timeout","type","_hoisted_1","_createBlock","_component_v_snackbar","$options","_cache","$event","_ctx","_createVNode","_component_v_btn","_withCtx","_component_v_icon","_createElementVNode","props","name","useDisplay","width","computed","title","description","ad","rightBtnText","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_v_app","_component_v_layout","_component_v_main","_component_v_row","_component_v_col","_renderSlot","_component_v_sheet","$setup","_normalizeProps","_guardReactiveProps","_component_ue_form","validForm","buttonDefaultText","_createTextVNode","_toDisplayString","$props","_createCommentVNode","_openBlock","_createElementBlock","_hoisted_2","_component_v_divider","_component_ue_svg_icon","_component_v_img","_component_ue_alert","_component_v_card","_normalizeClass","_component_v_card_title","_component_v_card_item","_Fragment","_renderList","card","i","_normalizeStyle","_mergeProps","VExpandTransition","element","height","content","$data","args","_Transition","value","result","itemCount","_component_ue_title","segment","segmentIndex","action","index","_component_ue_property_list","item","_component_ue_dynamic_component_renderer","_component_v_tooltip","context","block","_component_ue_recursive_stuff","emit","localFilterState","ref","menu","watch","newValue","_component_v_menu","_component_v_card_text","str","el","attr","_resolveDynamicComponent","length","fileName","ext","uuid","response","blob","error","url","a","extension","_hoisted_7","_component_v_hover","isHovering","_withModifiers","_component_v_dialog","_component_v_toolbar","_component_v_toolbar_title","_component_v_spacer","_component_v_progress_circular","FormDataAsObj","formNode","formRef","includeEmptyValuedElements","keyRegex","$form","$formElements","isDomElementNode","node","checkForLastNumericKey","o","elem","getLastIntegerKey","lastKeyIndex","getNextIntegerKey","getObjLength","l","k","forEach","arr","callback","init","setForm","setFormElements","convertToObj","isUploadForm","isRadio","$domNode","isCheckbox","isFileField","isTextarea","isSelectSimple","isSelectMultiple","isSubmitButton","isChecked","isFileList","getNodeValues","values","$option","processSingleLevelNode","domNodeValue","key","processMultiLevelNode","keyName","objKeyNames","getCurrentInstance","done","formData","debounce","_component_v_text_field","_component_ue_btn","_withDirectives","makeFormatterProps","propsFactory","useFormatter","headers","d","useI18n","formatterColumns","h","methods","reactive","datetimeFormat","color","_","unit","taxContent","placeHolders","colors","max","handleFormatter","formatter","func","toRefs","makeInputProps","makeInputEmits","makeInputInjects","useInput","modelValue","obj","VInput","states","omit","_val","_b","_a","old","useInputHandlers","slotName","invokeInputClickHandler","camelSlotName","inBrowser","ua","Time","_key","genKey","pushState","replace","history","replaceState","getURLWithoutQuery","getParameters","params","serializeParameters","prefix","query","addParametersToUrl","string","globalError","component","define_import_meta_env_default","errorMessage","statusCode","_c","_d","_e","api$2","errorCallback","axios","resp","id","ids","requestUrl","MOVE_BLOCK_TO_EDITOR","DUPLICATE_BLOCK","GET_BUCKETS","SAVE_BUCKETS","GET_DATATABLE","SET_DATATABLE_NESTED","SET_DATATABLE","TOGGLE_PUBLISH","DELETE_ITEM","DUPLICATE_ITEM","RESTORE_ITEM","TOGGLE_FEATURE","BULK_PUBLISH","BULK_FEATURE","BULK_EXPORT","BULK_DELETE","BULK_RESTORE","BULK_DESTROY","REPLACE_FORM","SAVE_FORM","UPDATE_FORM_IN_LISTING","CREATE_FORM_IN_MODAL","GET_ALL_PREVIEWS","GET_PREVIEW","GET_REVISION","GET_CURRENT","HANDLE_ERRORS","ACTIONS","store","useStore","getter","getters","mutations","status","isInProgress","config","filters","charMap","p","c","isArrayable","getSchema","inputs","model","isEditing","_inputs","isTopEventInput","isViewOnlyInput","acc","input","inputColClass","isCreatable","isEditable","flattenGroupSchema","handleInputEvents","getModel","rootState","languages","getTranslationLanguages","editing","processInputs","fields","isTranslated","_default","language","accessName","defaultGroupKeys","map","lang","locale","handleEvents","getTopSchema","getTranslationInputsCount","getTranslationInputs","getSubmitFormData","setSchemaInputField","schema","sch","cascadeKey","onInputEventFormData","stateData","sortedStateData","cascadedSelectName","selectItemValue","sortIndex","events","moduleSchema","_fields","_field","_schema","isFieldFalsy","e","methodName","formattedInputName","formatingInputName","slugify","firstLevelName","secondLevelName","lockInput","valueChanged","handlerName","handlerValue","event","runnable","FormatFuncs","handleMultiFormEvents","models","schemas","preview","testMethods","sampleSchema","sampleModel","getFormData","inputObj","groupName","newKey","part","text","inputToFormat","handlerSchema","inputFormatter","inputNotation","inputPropToFormat","setterNotation","setPropFormat","dataSet","notation","targetInput","targetInputName","targetForeignKey","targetInputSchema","isRepeater","isArrayValue","translationParts","field","translationNotation","rawTranslation","translation","handlerModelName","inputReadValue","endpoint","filterValues","eagers","newItems","res","targetSchema","defaultValue","inputToFormats","targetValueKeys","patternValues","previewValue","isMultiple","clear","_index","targetValueKey","stages","stage","found","convertedStage","targetValue","matches","parentPattern","data","parentPatterns","prev","quotedPattern","pattern","formattedData","prepend","setterSchemaKey","array","inputToPrepended","oldSchema","prependerInput","newSchema","lastPrependedKeys","relatedKeys","prependKey","draftSchema","_inputName","deletedKeys","prependedKeys","updatedSchema","handlerSchemaName","inputNotationParts","targetFormIndex","makeTableEndpointsProps","useTableEndpoints","createUrl","editUrl","reorderUrl","indexUrl","makeTableProps","useTable","smAndDown","t","te","tm","editedIndex","items","elements","tableItem","useTableItem","tableNames","useTableNames","tableEndpoints","tableFilters","useTableFilters","tableHeaders","useTableHeaders","tableForms","useTableForms","tableModals","useTableModals","form","loading","searchModel","isStoreTable","options","footerProps","curr","currentIndex","newItem","headersPrev","header","tableItemActions","useTableItemActions","isIntersecting","entries","observer","api","incomingDataArray","studlyCase","list","valuePattern","match","oldValue","refreshItem","makeModelValueProps","makeActiveTableItemProps","useActiveTableItem","useProxiedModel","v","useValidation","valid","ruleMethods","msg","minOrExact","$msg","generateInputRules","validateInput","availableRules","rules","arrayRules","rule","method","ruleFuncs","isValid","invokeRule","Input","cloneDeep","_input","invokeRuleGenerator","htmlClasses","defaultWidths","makeModalProps","makeModalMediaProps","useModal","full","makeDraggableProps","useDraggable","makeRepeaterProps","useRepeater","inputHook","isUnique","uniqueValue","uniqueFilledValues","uniqueField","uniqueInput","namingRepeaterField","hydrateRepeaterInput","extraFields","transform","hydrateRepeaterInputs","hydrateSchemas","processedSchema","selfValue","parseRepeaterInput","newName","inputName","cascadedName","find","object","keys","parseRepeaterInputs","isEmpty","initialRepeats","parsedInitialRepeats","reduce","_rawModel","_model","slotableSchemas","filter","newModel","makeFileProps","useFile","makeImageProps","useImage","useSidebar","lgAndUp","xlAndUp","activeMenuItem","navigationDrawer","onMounted","makeIteratorProps","iterableEmits","useIterator","collection","hasAction","useCurrencyNumber","inputRef","formattedValue","numberValue","setValue","useCurrencyInput","makeModuleProps","useModule","useLocale","api$1","err","useItemActions","editingItem","resolveParamValue","sourceData","findKey","findValue","getNestedValue","path","current","handleRequestAction","handleModalAction","handleBlankAction","handleDownloadAction","link","shouldShowAction","baseCondition","condition","operator","actualValue","flattenedActions","editedItem","isSoftDeletableItem","isSoftDeletable","setEditedItem","resetEditedItem","nextTick","makeTableNamesProps","snakeName","permissionName","transNameSingular","transNamePlural","transNameCountable","tableTitle","tableSubtitle","formTitle","translationKey","deleteQuestion","langKey","itemName","makeTableFiltersProps","filterActiveStatus","filterActive","navActive","search","advancedFilters","mainFilters","filterStatus","slug","submitAdvancedFilter","clearAdvancedFilter","filterBtnTitle","makeTableHeadersProps","headersModel","hasSearchableHeader","selectedHeaders","hideHeaders","hasCustomRow","makeTableFormsProps","UeForm","formActive","customFormModalActive","customFormAttributes","customFormSchema","customFormModel","formStyles","formLoading","formErrors","formIsValid","addBtnTitle","openForm","closeForm","createForm","confirmFormModal","handleFormActionComplete","payload","makeTableItemActionsProps","mdAndDown","lgAndDown","can","permission","itemHasAction","handleEditAction","route","handleDeleteAction","handleRestoreAction","handleDuplicateAction","handleSwitchAction","handleBulkAction","handleCustomFormAction","getOnlyShowData","only","newData","label","getExceptShowData","except","handleShowAction","itemAction","_action","shouldShowDropdown","actionsLength","deleteModalActive","customModalActive","actionModalActive","activeModal","selectedAction","deleteModal","actionDialogQuestion","modals","bulkAction","resetCustomModal","attributes","feasibles","attribute","assignables","openDeleteModal","modal","closeDeleteModal","closeActionModal","openActionModal","cleanupModals","useCurrency","amount","symbol","redirector","makeFormProps","useForm","inputHandlers","validations","VForm","issetModel","issetSchema","rawSchema","defaultItem","storeEditedItem","inputSchema","topSchema","extraValids","saveForm","sendSync","convertToNestedFormData","handleEvent","parentKey","formKey","nestedFormData","nestedKey","nestedValue","setSchemaErrors","errors","_errors","_name","_locale","resetSchemaError","resetSchemaErrors","initialize","on","topInput","newVal","oldVal","isEqual","oldModel","handleAction","showedActions","valids","_component_v_switch","FormActions","formHook","formClasses","formSlots","slots","titleOptions","titleSerialized","_component_v_form","_component_FormActions","_component_v_list","_component_v_list_item","_component_v_list_item_title","_component_v_chip_group","_component_v_chip","_component_v_custom_form_base","_createSlots","_slot","_slotData","_component_v_progress_linear","serverValid","itemActions","other","s","self","_component_v_avatar","__default__","__props","__emit","selected","show","impersonateRoute","_component_v_list_group","icon","sum","ratio","colIndex","percentage","count","actionOffset","classes","customClass","j","_component_ue_modal","_component_v_card_actions","newDatas","initialValues","initialValue","langVal","_component_a17_locale","_component_a17_wysiwyg","_component_a17_textfield","_component_a17_checkbox","getListGroupOpens","baseProps","tooltipActivator","_component_ue_navigation_group","_component_ue_text_display","formatValue","_component_ue_recursive_data_viewer","_component_v_expand_transition","_component_v_table","isTextable","isArray","hasSlot","isObject","applyCasting","funcs","castPattern","get","castAttribute","_value","filteredAttributes","castedAttributes","attrs","bindAttributes","bindKey","_configuration","slotConf","searchInData","results","patternParts","dataIndex","currentPath","depth","parentTitle","currentTitle","newPath","formatResult","findMatchingNotations","regexStr","regex","formattedPreview","formation","formatted","extractValues","titleKey","valueKey","pickKeys","mapArrayItems","nested","includeTitle","col","picked","findPrefix","fieldPattern","parsePattern","matchesPattern","ensureCol","defaultCol","generateSectionKey","isWildcard","details","itemsObject","mainResult","r","extracted","sectionIndex","itemObject","fullPattern","contentValues","prefixes","idx","contentValue","formattedSummary","test","NotationUtil","_component_v_stepper_header","_component_v_stepper_item","titleScope","_component_v_sheet_rounded","_component_v_stepper_window","_component_v_stepper_window_item","_component_ue_form_summary_item","_component_v_btn_secondary","_component_ue_configurable_card","segmentScope","tag","section","sample","valueIndex","StepperHeader","StepperContent","StepperSummary","StepperPreview","StepperFinalSummary","stepperActionRef","formRefs","isFilled","availableValue","previewModel","step","fieldArray","formatteds","previewFormData","lastStepModel","lastStepSelections","_data","each","modelKey","_notation","fieldName","pushRecursively","subItem","slot","fn","_component_v_stepper","next","_component_StepperHeader","_component_StepperContent","_component_StepperPreview","_component_StepperSummary","onComplete","_component_StepperFinalSummary","summaryFormScope","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","addon","_hoisted_8","_hoisted_9","_hoisted_12","_hoisted_13","defineComponent","_component_v_container","style","allKey","grouped","groupKeys","groupKey","_raw","parameters","_component_ue_tabs","slotData","_component_ue_tabs_previous","_component_v_item_group","_component_v_item","isSelected","selectedClass","toggle","_component_ue_table","_imports_0","focusElementStyle","currentFocus","isFocused","isCardFlipped","amexCardPlaceholder","dinersCardPlaceholder","defaultCardPlaceholder","currentPlaceholder","baseUrl","cardImage","number","img","cardType","currentCardBackground","changeFocus","target","getIsNumberMasked","n","changePlaceholder","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_withScopeId","_hoisted_28","_hoisted_29","_hoisted_30","$index","_TransitionGroup","_hoisted_25","checkValue","CreditCard","submitForm","inject","minCardYear","isCardNumberMasked","mainCardNumber","cardNumberMaxLength","months","years","urlParams","minCardMonth","maskCardNumber","generateMonthValue","changeName","changeNumber","changeMonth","changeYear","changeCvv","invaildCard","intVal","blurCardNumber","unMaskCardNumber","focusCardNumber","toggleMask","validateCardNumber","validateCardName","validateExpiryDate","month","year","currentDate","validateCVV","_component_CreditCard","_component_v_select","CreditCardForm","formatPrice","localPaymentMethod","localDefaultPaymentMethod","selectedCurrency","displayPrice","localCreditCard","selectedCurrencyObj","selectedCurrencyIso","formattedCurrencies","currency","filteredServiceItems","service","selectedService","showCreditCardForm","handleCurrencyChange","newCurrencyId","selectedCurrencyObject","_component_v_input","_component_v_radio_group","_component_v_radio","_component_v_img_icon","_component_CreditCardForm","ignoreFormatters","ActiveTableItem","Draggable","VDataTableRow","PaymentService","_component_ActiveTableItem","_component_v_data_table_server","someSelected","_component_v_slide_x_transition","_directive_tooltip","_withKeys","ind","formModalBodyScope","headerLeftScope","formTopScope","rightScope","_component_v_btn_primary","_obj","_component_v_checkbox","page","pageCount","_component_v_pagination","configuration","_component_ue_copy_text","_component_VDataTableHeaders","_component_Draggable","itemSlot","_component_VDataTableRow","RowFormat","_component_v_tabs","_component_v_tab","_component_v_tabs_window","_component_v_tabs_window_item","_component_RowFormat","titleClasses","illegalRe","controlRe","reservedRe","windowsReservedRe","windowsTrailingRe","defaultDiacriticsRemovalap","diacriticsMap","letters","noAccents","removeOtherUnicodeCharacters","replacementCharacter","withoutAccents","ch","sanitize","replacement","sanitized","cleanCharacters","truncate","sanitizeFilename","extensions","sharedConfig","FineUploaderS3","FineUploaderAzure","resolve","FineUploaderTraditional","qqinputs","media","loadingMedia","savedMedia","uploadProgress","responseJSON","xhr","m","succeeded","failed","qq","imageUrl","uploadedBytes","totalBytes","errorReason","oldStatus","newStatus","totalUploadedBytes","errorCode","errorData","files","dropzoneEl","_component_v_card_subtitle","_component_v_footer","_component_v_navigation_drawer","prependScope","_component_ue_logout_modal","activatorProps","isActive","version","Sidebar","_component_Sidebar","_component_v_app_bar","_component_v_app_bar_nav_icon","_component_ue_sidebar","_component_ue_impersonate_toolbar","_component_ue_modal_media","toggleFullscreen","close","isFullActive","_component_v_btn_cta","formattedDate","date","_component_ue_filepond_preview","ChatMessage","container","messages","b","total","tempId","newMessage","created_at","lastMessage","defaultSlot","_component_v_input_chat","_component_v_infinite_scroll","attachment","_component_ChatMessage","_component_v_textarea","_component_v_input_filepond","stat","maxSelectable","initializeInput","mandatoryItems","previous","previousInput","mandatoryItemsIds","missingMandatoryItems","openedGroups","toRef","group","newItemsCount","groups","checklistTitle","splitted","left","right","isOpen","_component_v_input_checkbox_card","Checklist","_component_Checklist","Table","commonComparators","confKey","comparatorItem","comparatorKey","comparisonObject","searchKey","bottomRows","inputRow","comparator","rowData","comparisonValue","rec","toUpper","_component_v_data_table","headerScope","LocaleMixin","rtlLocales","_EXTENSIONS","itemExt","FileExtensions","FileItem","draggable","localeMixin","_component_draggable","_component_FileItem","Component","FilePond","vueFilePond","FilePondPluginImagePreview","FilePondPluginFileValidateType","file","newInput","asset","setOptions","uniqueFileId","load","requestId","metadata","progress","abort","transfer","parts","source","_component_FilePond","castValueMatch","ownerItem","returnValue","quoted","newParts","snakeCased","snakeCase","remainingQuote","setFormRef","getFormRef","baseSchema","addedItems","removedItems","loopValues","updatedTabId","oldModels","modelKeys","schemasChanged","triggerKey","triggers","trigger","triggerSchema","triggerItem","rulesChanged","actionValue","actionName","newClasses","cls","startCase","_component_v_skeleton_loader","active","_component_v_window","_component_v_window_item","mediaLibrayMixin","mediaFieldMixin","cropConversion","dest","origin","IS_SAFARI","range","a17VueFilters","crop","cropInfos","variant","cropInfo","src","cropWidth","cropHeight","defaultCrops","smarcrops","cropVariant","center","x","y","topCrop","imgLoaded","imgTag","reject","append","_component_v_overlay","root","ModalMixin","localeAttributes","errorMessages","labelScope","getCountry","setCaretPosition","ctrl","pos","allCountries","country","defaultOptions","Phone$1","getDefault","Phone","getParents","memo","parsedMemo","parentNode","binding","vNode","compName","warn","bubble","handler","PhoneNumber","iso2","isDropdownOpened","code","newCountry","getExample","initialCountry","activeCountry","defaultCountry","fallbackCountry","countryCode","iso","highlighted","lastPreferred","preferred","toEmitInputEvent","phoneNumber","selEle","typedCountryI","needToScrollTop","needToScrollBottom","_component_v_autocomplete","CurrencyNumber","price","_component_CurrencyNumber","controlRef","focus","blur","_vShow","updateModelValue","processable","formattedKey","formatterValues","processableKey","formatterFunction","_component_ue_list_section","slotScope","formInput","modalBodyScope","_component_ue_collapsible","searchContinue","regularArray","lowerSearchText","newSelected","types","localRows","originalJson","hasUnsavedChanges","hasReservedKeyError","row","validateKey","initializeRows","filterReservedKeys","getCurrentJson","updateHasUnsavedChanges","detectType","handleTempKeyChange","syncKeyWithTempKey","handleFieldChange","newState","toggleType","nextTypeIndex","nextType","convertValue","originalType","originalValue","deleteRow","addNewRow","currentState","updatedObject","finalValue","saveAllChanges","newJson","getTypeColor","_component_v_combobox","queryText","toLowerCaseString","hasAnyMatch","_component_v_list_subheader","_f","_h","_g","_j","_i","_l","_k","medias","mediaRole","existedSelectedConnector","newMedias","connector","newValues","mediaToUpdate","metadatas","setMetatadas","mediaToModify","addCrop","newMedia","actions","commit","mediaIds","duplicates","mediaId","mediaLibrary","alert","dialog","alert$1","_o","_n","_m","user","isMatchingLocale","newIndex","publishedValues","arrayOfIds","browsers","itemToDestroy","endpoints","browserIds","browserId","browser","ambient","createStore","assignBOMHElpers","undef","arg","rows","variable","maxLength","delimeter","flatObj","search_key","tokenizePath","_tmp","filterMatches","filterKey","lodash","extractKeyFromBracket","word","modelName","snakeCaseName","pluralize","isPlural","snakeNameFromForeignKey","paramsToRemove","currentUrl","queryObject","param","newSearchParams","newUrl","searchParams","preferedLocale","tokens","currentToken","inBracket","escaped","char","extractBracketContent","bracketToken","assignObjectHelpers","object1","object2","k1","k2","assignArrayHelpers","first","jquery","moment","setup","changeCase","UECompose","typeToComponent","orderDirection","pathDelimiter","classKeyDelimiter","defaultID","isPicker","mouse","change","display","topAppendix","bottomAppendix","slotAppendix","tooltipAppendix","injectAppendix","itemClassAppendix","typeClassAppendix","keyClassAppendix","arrayClassAppendix","propertyClassAppendix","injectSlotAppendix","topSlotAppendix","itemSlotAppendix","bottomSlotAppendix","tooltipSlotAppendix","button","treeview","appendInner","prependInner","hour","minute","second","dropEffect","rowDefault","rowGroupDefault","colDefault","defaultSchemaIfValueIsNullOrUndefined","defaultSchemaIfValueIsString","defaultSchemaIfValueIsNumber","defaultSchemaIfValueIsBoolean","defaultPickerSchemaText","defaultPickerSchemaMenu","defaultInternGroupType","emits","orderBy","allTypeComponents","isString","typeInt","schemaTooltip","appendix","prepender","replacer","colSchema","colAttr","colObject","isPlainObject","isNumber","offset","offsetObject","order","orderObject","rx","isFunction","dragEvent","emitObj","wrapperObj","open","parent","delay","emitEvent","ev","pathArray","ix","dat","bothArray","datObjectWithoutSchemaType","datObjectContainsTypeKey","notInstanceOfFileObject","flatData","flatSchema","ii","flattenedObjects","findIndex","option","_component_v_file_input","scopeData","_component_v_slider","_component_v_btn_toggle","_component_v_input_locale","_directive_intersect","_directive_touch","_directive_click_outside","nextCallback","_this","defaultScope","_component_v_system_bar","slotProps","scrollToY","settings","start","from","isDocument","easingEquations","useRequestAnimationFrame","scrollInterval","def","min","cancelInterval","scroll","currentTime","time","easedT","doScroll","mediaItemsMixin","agg","sItem","uItem","loadingItem","numb","firstItem","checkItemsIds","itemsKey","extraColumn","UeMediaSidebarUpload","SelectTag","allTags","currentTags","mediaFromResp","_component_ue_mediasidebar_upload","_component_SelectTag","MediaGrid","ItemList","MediaSidebar","sMedia","uMedia","newPage","mediasIds","keepSelectedMedias","mediaCrop","crops","mediaInitSelect","shift","lastSelectedMedia","lastSelectedMediaIndex","selectedMediaIndex","end","mediaToSelect","formdata","rest","newType","tags","_component_v_toolbar_items","_component_ue_filter","navType","_component_ue_dropdown_filter","_component_MediaSidebar","_component_ue_uploader","_component_ItemList","_component_MediaGrid","customMdiIcons","unusualify","APP_THEME","opts","components.VBtn","components.VImg","components.VSheet","components.VRow","themes","aliases","mdi","fa","directives","components","vuetify","createVuetify","broadcasting","app","Pusher","loadStaticMessages","locales","matched","datetimeFormats","numberFormats","setupOptions","i18n","setupI18n","createI18n","setI18nLocale","loadLocaleMessages","loadLocaleMessage","addSvg","vnode","classNames","svg","className","href","use","removeSvg","SvgSprite","dir","oldVnode","Column","defaultColumns","prevVnode","Columns","FitGrid","Scrollable","Transition","mutation","hasDNone","commonMethods","_attributes","roles","role","segments","singular","kebabCase","displayData","displayLabel","_displayData","_map","__displayData","_haystack","_item","__displayKeys","displayKey","currencyInfo","displayCurrency","priceItem","includeGlobalComponents","includeIteratorComponents","includeLayouts","includeFormInputs","includeCustomComponents","core","UEConfig","folder","componentName","module","functionName","Obj","VCustomFormBase","UEModal","UEModalMedia","VueMaskDirective","getFieldIndex","stateKey","f","fieldValue","fieldIndex","taggable_type","dispatch","plain","repeaters","errorKey","subType","newErrorKey"],"mappings":"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M,QACN,KAAM,QACN,UAAW,GACX,MAAO,CACL,CACE,KAAM,cACN,KAAM,iBACN,OAAQ,GACR,UAAW,EACb,CACF,CACF,CACF,CACD,EAED,CACE,KAAM,SACN,KAAM,WACN,OAAQ,GACR,UAAW,EACZ,EACD,CACE,KAAM,cACN,KAAM,SACN,OAAQ,GACR,UAAW,EACb,CACF,CACF,CACF,CACD,EACD,cAAe,CACb,KAAM,OACN,SAAW,CACT,MAAO,CAEP,CACF,CACD,EACD,cAAe,CACb,KAAM,OACN,SAAW,CACT,MAAO,CAEP,CACF,CACF,CACD,EACD,MAAQ,CACN,MAAO,CACL,OAAQ,KACR,QAAS,GACT,MAAO,CAAC,KAAM,IAAI,EAElB,cAAe,GACf,YAAa,CACX,CACE,KAAM,WACN,KAAM,WACN,OAAQ,EACT,EACD,CACE,KAAM,eACN,KAAM,WACN,OAAQ,EACT,EACD,CACE,KAAM,WACN,KAAM,YACN,OAAQ,EACT,EACD,CACE,KAAM,SACN,KAAM,QACN,MAAO,CACL,CACE,KAAM,SACN,KAAM,aACN,OAAQ,EACT,EACD,CACE,KAAM,WACN,KAAM,WACN,OAAQ,EACV,CACF,CACD,EAED,CACE,KAAM,SACN,KAAM,WACN,OAAQ,EACT,EACD,CACE,KAAM,cACN,KAAM,SACN,OAAQ,EACV,CACD,EAED,aAAc,KAAK,WAAW,QAG9B,YAAa,KAAK,WAAW,aAAe,CAAE,EAE9C,YAAa,CACX,CACE,KAAM,eACN,IAAK,cACN,EACD,CACE,KAAM,cACN,IAAK,aACN,EACD,CACE,KAAM,eACN,IAAK,cACN,EACD,CACE,KAAM,gBACN,IAAK,eACP,CACD,EAED,iBAAkB,GAClB,kBAAmB,GACnB,uBAAwB,EAC1B,CACD,EACD,SAAU,CACR,YAAa,CACX,KAAO,CACL,OAAO,KAAK,OAAO,MAAM,MAAM,MAChC,EACD,IAAKC,EAAK,CACR,KAAK,OAAO,OAAO3D,GAAM,gBAAiB2D,CAAG,CAC/C,CACD,EACD,oBAAqB,CACnB,aAAM,8BAA+B,KAAK,OAAO,MAAM,KAAK,EACrD,KAAK,OAAO,MAAM,MAAM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ACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,eACT,aAAc,oIACf,EACD,IAAK,CACH,WAAY,CACV,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACD,EACD,KAAM,MACN,QAAS,YACT,aAAc,iIACf,EACD,KAAM,CACJ,WAAY,CACV,MACD,EACD,KAAM,OACN,QAAS,oBACT,aAAc,uIACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,iBACT,aAAc,sIACf,EACD,GAAI,CACF,WAAY,CACV,IACD,EACD,KAAM,KACN,QAAS,mBACT,aAAc,4IACf,EACD,KAAM,CACJ,WAAY,CACV,MACD,EACD,KAAM,OACN,QAAS,gBACT,aAAc,mIACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,oBACT,aAAc,4IACf,EACD,IAAK,CACH,WAAY,CACV,MACA,KACD,EACD,KAAM,MACN,QAAS,aACT,aAAc,sFACf,EACD,IAAK,CACH,WAAY,CACV,MACA,MACA,MACA,MACA,OACA,MACA,KACD,EACD,KAAM,MACN,QAAS,aACT,aAAc,kFACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,iBACT,aAAc,uHACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,cACT,aAAc,oHACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,kBACT,aAAc,wHACf,EACD,GAAI,CACF,WAAY,CACV,KACA,KACD,EACD,KAAM,KACN,QAAS,oBACT,aAAc,qIACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,eACT,aAAc,sIACf,EACD,IAAK,CACH,WAAY,CACV,MACA,MACD,EACD,KAAM,MACN,QAAS,gBACT,aAAc,mIACf,EACD,IAAK,CACH,WAAY,CACV,MACA,MACD,EACD,KAAM,MACN,QAAS,iBACT,aAAc,uIACf,EACD,IAAK,CACH,WAAY,CACV,MACA,OACA,KACD,EACD,KAAM,MACN,QAAS,sBACT,aAAc,sJACf,EACD,MAAO,CACL,WAAY,CACV,OACD,EACD,KAAM,QACN,QAAS,iBACT,aAAc,iHACf,EACD,QAAS,CACP,WAAY,CACV,SACD,EACD,KAAM,UACN,QAAS,mBACT,aAAc,qHACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,mBACT,aAAc,qHACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,WACT,aAAc,4FACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,YACT,aAAc,uDACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,iBACT,aAAc,uDACf,EACD,OAAQ,CACN,WAAY,CACV,SACA,SACD,EACD,KAAM,SACN,QAAS,cACT,aAAc,iGACf,EACD,KAAM,CACJ,WAAY,CACV,MACD,EACD,KAAM,SACN,QAAS,gBACT,aAAc,6GACf,EACD,IAAK,CACH,WAAY,CACV,MACA,MACA,MACA,IACD,EACD,KAAM,MACN,QAAS,UACT,aAAc,gEACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,gBACT,aAAc,mFACf,EACD,IAAK,CACH,WAAY,CACV,MACA,MACA,OACA,MACA,KACD,EACD,KAAM,MACN,QAAS,OACT,aAAc,+GACf,EACD,KAAM,CACJ,WAAY,CACV,MACD,EACD,KAAM,MACN,QAAS,gBACT,aAAc,wCACf,EACD,KAAM,CACJ,WAAY,CACV,MACA,OACA,OACD,EACD,KAAM,OACN,QAAS,YACT,aAAc,sDACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,aACT,aAAc,qDACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,WACT,aAAc,qDACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,YACT,aAAc,sDACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,aACT,aAAc,+FACf,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,QACV,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,UACV,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,SACV,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,cACV,EACD,KAAM,CACJ,WAAY,CACV,MACA,OACA,MACA,KACA,MACA,MACA,KACA,KACA,MACA,OACA,OACA,KACA,IACD,EACD,KAAM,MACN,QAAS,mBACV,EACD,KAAM,CACJ,WAAY,CACV,MACD,EACD,KAAM,OACN,QAAS,WACV,EACD,MAAO,CACL,WAAY,CACV,OACD,EACD,KAAM,QACN,QAAS,WACV,EACD,IAAK,CACH,WAAY,CACV,KACD,EACD,KAAM,MACN,QAAS,UACV,CACL,ECvYKxqC,GAAU,CACb,KAAM,aACN,MAAO,CACL,KAAM,CACJ,KAAM,OACN,SAAU,EACX,EACD,UAAW,CACT,KAAM,QACN,QAAS,EACV,EACD,KAAM,CACJ,KAAM,OACN,QAAS,UAAY,CACnB,MAAO,CAAC,CACV,CACD,EACD,UAAW,CACT,KAAM,OACN,QAAS,MACV,EACD,SAAU,CACR,KAAM,OACN,QAAS,EACV,EACD,IAAK,CACH,KAAM,OACN,QAAS,EACX,CACD,EACD,KAAM,UAAY,CAChB,MAAO,CACL,OAAQ,eACV,CACD,EACD,SAAU,CACR,YAAa,UAAY,CACvB,OAAO,KAAK,IACd,CACD,EACD,QAAS,CACP,WAAY,UAAY,CACtB,KAAK,MAAM,QAAQ,CACpB,EACD,eAAgB,UAAY,CAC1B,MAAMyqC,EAAU,KAAK,YAAY,UAGjC,GAAIC,GAAe,eAAeD,CAAO,EACvC,OAAOC,GAAeD,CAAO,EAAE,KAIjC,UAAWlkC,KAAOmkC,GAEhB,GADcA,GAAenkC,C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AAC9B,GAAUA,EAAO,CAAC,IAAM,IAC3B,MAAM,IAAI,MAAM,6BAA6B,EAG/C,OAAOA,EAAO,OAAO,EAAG,CAAC,CAC/B,CAAK,CACL,CAGO,SAAS0rC,GAAkBC,EAAMC,EAAK,CAE3C,GAAID,EAAK,kBACPA,EAAK,MAAO,EACZA,EAAK,kBAAkBC,EAAKA,CAAG,UAGtBD,EAAK,gBAAiB,CAC/B,MAAM5B,EAAQ4B,EAAK,gBAAiB,EACpC5B,EAAM,SAAS,EAAI,EACnBA,EAAM,QAAQ,YAAa6B,CAAG,EAC9B7B,EAAM,UAAU,YAAa6B,CAAG,EAChC7B,EAAM,OAAQ,CACf,CACH,CAEA,MAAM8B,GAAe,CACnB,CACE,6BACA,KACA,IACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,uBACA,KACA,KACD,EACD,CACE,iBACA,KACA,MACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,WACA,KACA,MACD,EACD,CACE,sBACA,KACA,MACD,EACD,CACE,YACA,KACA,IACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,YACA,KACA,KACA,CACD,EACD,CACE,uBACA,KACA,IACD,EACD,CACE,0BACA,KACA,KACD,EACD,CACE,UACA,KACA,MACD,EACD,CACE,uBACA,KACA,KACD,EACD,CACE,wBACA,KACA,KACD,EACD,CACE,WACA,KACA,MACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,mBACA,KACA,IACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,gBACA,KACA,KACD,EACD,CACE,UACA,KACA,MACD,EACD,CACE,iBACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,+CACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,kBACA,KACA,IACD,EACD,CACE,iCACA,KACA,KACD,EACD,CACE,yBACA,KACA,MACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,sBACA,KACA,KACD,EACD,CACE,eACA,KACA,KACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,sBACA,KACA,KACD,EACD,CACE,SACA,KACA,IACA,EACA,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,CACtS,EACD,CACE,0BACA,KACA,KACD,EACD,CACE,wBACA,KACA,MACA,CACD,EACD,CACE,iBACA,KACA,MACD,EACD,CACE,uDACA,KACA,KACD,EACD,CACE,eACA,KACA,KACD,EACD,CACE,QACA,KACA,IACD,EACD,CACE,aACA,KACA,IACD,EACD,CACE,mBACA,KACA,KACA,CACD,EACD,CACE,0BACA,KACA,KACA,CACD,EACD,CACE,WACA,KACA,IACD,EACD,CACE,yBACA,KACA,KACD,EACD,CACE,iDACA,KACA,KACD,EACD,CACE,uCACA,KACA,KACD,EACD,CACE,eACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,gBACA,KACA,KACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,OACA,KACA,IACD,EACD,CACE,UACA,KACA,MACA,CACD,EACD,CACE,kBACA,KACA,KACD,EACD,CACE,mCACA,KACA,KACD,EACD,CACE,oBACA,KACA,IACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,WACA,KACA,MACD,EACD,CACE,4CACA,KACA,IACA,EACA,CAAC,MAAO,MAAO,KAAK,CACrB,EACD,CACE,UACA,KACA,KACD,EACD,CACE,iBACA,KACA,IACD,EACD,CACE,cACA,KACA,KACD,EACD,CACE,wCACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,kBACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,oCACA,KACA,KACD,EACD,CACE,0BACA,KACA,KACD,EACD,CACE,OACA,KACA,KACD,EACD,CACE,kBACA,KACA,MACA,CACD,EACD,CACE,SACA,KACA,IACD,EACD,CACE,mCACA,KACA,KACD,EACD,CACE,yCACA,KACA,KACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,uBACA,KACA,KACD,EACD,CACE,wBACA,KACA,IACD,EACD,CACE,gBACA,KACA,KACD,EACD,CACE,YACA,KACA,KACD,EACD,CACE,kBACA,KACA,IACD,EACD,CACE,+BACA,KACA,KACD,EACD,CACE,UACA,KACA,MACD,EACD,CACE,aACA,KACA,MACA,CACD,EACD,CACE,OACA,KACA,MACD,EACD,CACE,YACA,KACA,KACD,EACD,CACE,WACA,KACA,KACA,CACD,EACD,CACE,kBACA,KACA,KACD,EACD,CACE,+BACA,KACA,KACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,iBACA,KACA,KACD,EACD,CACE,yBACA,KACA,IACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,eACA,KACA,IACD,EACD,CACE,YACA,KACA,IACD,EACD,CACE,kBACA,KACA,IACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,cACA,KACA,KACA,CACD,EACD,CACE,oBACA,KACA,KACD,EACD,CACE,iBACA,KACA,KACA,CACD,EACD,CACE,UACA,KACA,MACD,EACD,CACE,aACA,KACA,IACD,EACD,CACE,SACA,KACA,KACA,CACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,yBACA,KACA,IACA,CACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,0BACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,gBACA,KACA,KACD,EACD,CACE,sBACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,iCACA,KACA,KACD,EACD,CACE,4BACA,KACA,KACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,WACA,KACA,IACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,OACA,KACA,KACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,4BACA,KACA,KACD,EACD,CACE,oBACA,KACA,KACD,EACD,CACE,UACA,KACA,MACA,CACD,EACD,CACE,kBACA,KACA,IACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,8BACA,KACA,KACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,oBACA,KACA,KACD,EACD,CACE,yBACA,KACA,KACD,EACD,CACE,aACA,KACA,MACD,EACD,CACE,sBACA,KACA,MACA,CACD,EACD,CACE,0BACA,KACA,KACD,EACD,CACE,2BACA,KACA,IACD,EACD,CACE,oBACA,KACA,KACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,gBACA,KACA,KACD,EACD,CACE,0BACA,KACA,IACD,EACD,CACE,qCACA,KACA,KACD,EACD,CACE,cACA,KACA,IACD,EACD,CACE,YACA,KACA,KACD,EACD,CACE,gBACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,OACA,KACA,KACD,EACD,CACE,iBACA,KACA,KACD,EACD,CACE,+BACA,KACA,KACD,EACD,CACE,2BACA,KACA,MACD,EACD,CACE,iBACA,KACA,KACA,CACD,EACD,CACE,kBACA,KACA,KACD,EACD,CACE,wBACA,KACA,IACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,wBACA,KACA,KACD,EACD,CACE,kBACA,KACA,KACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,cACA,KACA,IACD,EACD,CACE,cACA,KACA,IACD,EACD,CACE,kBACA,KACA,IACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,cACA,KACA,IACA,EACA,CAAC,MAAO,KAAK,CACd,EACD,CACE,iBACA,KACA,KACD,EACD,CACE,uBACA,KACA,MACA,CACD,EACD,CACE,oBACA,KACA,IACD,EACD,CACE,kBACA,KACA,IACA,CACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,mBACA,KACA,MACA,CACD,EACD,CACE,eACA,KACA,KACD,EACD,CACE,wBACA,KACA,MACD,EACD,CACE,cACA,KACA,MACD,EACD,CACE,iDACA,KACA,MACA,CACD,EACD,CACE,uDACA,KACA,KACD,EACD,CACE,mCACA,KACA,MACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,8CACA,KACA,KACD,EACD,CACE,6CACA,KACA,KACD,EACD,CACE,oBACA,KACA,KACD,EACD,CACE,kBACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,eACA,KACA,KACD,EACD,CACE,YACA,KACA,IACD,EACD,CACE,eACA,KACA,MACD,EACD,CACE,uBACA,KACA,KACD,EACD,CACE,uBACA,KACA,KACD,EACD,CACE,kBACA,KACA,KACD,EACD,CACE,uBACA,KACA,KACD,EACD,CACE,eACA,KACA,IACD,EACD,CACE,qBACA,KACA,IACD,EACD,CACE,gCACA,KACA,KACD,EACD,CACE,iBACA,KACA,IACD,EACD,CACE,0BACA,KACA,IACD,EACD,CACE,qBACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,yBACA,KACA,KACA,CACD,EACD,CACE,YACA,KACA,KACD,EACD,CACE,mBACA,KACA,IACD,EACD,CACE,wBACA,KACA,IACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,cACA,KACA,KACD,EACD,CACE,aACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,iBACA,KACA,IACD,EACD,CACE,cACA,KACA,KACD,EACD,CACE,OACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,QACA,KACA,KACD,EACD,CACE,sBACA,KACA,MACD,EACD,CACE,oBACA,KACA,KACD,EACD,CACE,mBACA,KACA,IACD,EACD,CACE,eACA,KACA,KACD,EACD,CACE,2BACA,KACA,MACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,sBACA,KACA,MACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,oBACA,KACA,KACD,EACD,CACE,qDACA,KACA,KACD,EACD,CACE,iBACA,KACA,KACA,CACD,EACD,CACE,gBACA,KACA,IACA,CACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,2BACA,KACA,KACD,EACD,CACE,UACA,KACA,KACD,EACD,CACE,oCACA,KACA,KACA,CACD,EACD,CACE,YACA,KACA,IACD,EACD,CACE,qBACA,KACA,IACD,EACD,CACE,uCACA,KACA,KACD,EACD,CACE,sCACA,KACA,MACA,CACD,EACD,CACE,mBACA,KACA,KACD,EACD,CACE,SACA,KACA,KACD,EACD,CACE,WACA,KACA,KACD,EACD,CACE,gBACA,KACA,MACA,CACD,CACH,EAAE,IAAIC,IAAY,CAChB,KAAMA,EAAQ,CAAC,EACf,KAAMA,EAAQ,CAAC,EAAE,YAAa,EAC9B,SAAUA,EAAQ,CAAC,EACnB,SAAUA,EAAQ,CAAC,GAAK,EACxB,UAAWA,EAAQ,CAAC,GAAK,IAC3B,EAAE,EAEWC,GAAiB,CAC5B,YAAa,uBACb,MAAO,uBACP,wB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"}