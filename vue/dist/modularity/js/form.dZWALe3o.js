import{$ as mapState,ae as mapGetters$1,a0 as openBlock,a1 as createBlock,a2 as withCtx,l as createVNode,a4 as createBaseVNode,c as computed,Y as resolveComponent,M as resolveDirective,A as mergeProps,H as withDirectives,a9 as createElementBlock,ac as createCommentVNode,a6 as renderSlot,a7 as normalizeProps,a8 as guardReactiveProps,S as createTextVNode,I as toDisplayString,F as Fragment,a5 as renderList,af as normalizeClass,ab as normalizeStyle,L as vShow,b as ref,k as watch$1,E as resolveDynamicComponent,a3 as createSlots,W as withModifiers,g as getCurrentInstance,ag as debounce,D as Transition$1,ah as useI18n,r as reactive,t as toRefs,ai as lodash,aj as omit,ak as axios$1,al as reduce,am as cloneDeep,an as createStore,ao as map,ap as useStore,G as nextTick,y as onMounted,aq as lodashExports,ad as isEmpty,ar as filter,as as transform,at as find,au as useCurrencyInput,av as isObject,aw as get,ax as set,ay as isEqual,d as inject,az as isString,aA as isArray,aB as snakeCase$1,aC as isNumber,aD as includes,aE as isBoolean,aF as forEach,e as defineComponent,aG as withKeys,aH as useAttrs,aI as useSlots,u as unref,J as TransitionGroup,aJ as Draggable,aK as truncate,aL as _default,aM as _default$1,aN as _default$2,aa as vModelSelect,j as isRef,m as toRef,aO as vueFilePond,aP as plugin,aQ as plugin$1,aR as plugin$2,aS as setOptions,aT as startCase,aU as range,aV as pick,aW as orderBy,aX as jquery,aY as hooks,aZ as pluralize,a_ as changeCase,a$ as isPlainObject,b0 as isFunction,b1 as delay,b2 as findIndex,b3 as toHandlerKey,p as provide,b4 as toHandlers,b5 as Pusher,b6 as createI18n,b7 as upperFirst,b8 as directive}from"./vendor.CITt4hbT.js";import{V as VBtn,h as VIcon,s as VSnackbar,u as useDisplay,r as VLayout,t as VMain,v as VRow,w as VCol,x as VSheet,d as VDivider,y as VImg,z as VApp,m as VCardTitle,A as VCardItem,l as VCard,B as VExpandTransition,p as VTooltip,n as VCardText,f as VMenu,C as VExpansionPanel,D as VExpansionPanelTitle,E as VExpansionPanelText,F as VExpansionPanels,G as VHover,b as VToolbar,c as VToolbarTitle,g as VSpacer,H as VProgressCircular,I as VDialog,e as VTextField,J as propsFactory,K as useProxiedModel,a as VSwitch,L as VBadge,j as VListItem,k as VListItemTitle,i as VList,M as VChipGroup,N as VChip,O as VProgressLinear,P as VForm,Q as VAvatar,S as VSelect,T as VBottomSheet,U as VListGroup,o as VCardActions,W as VTable,X as VStepperItem,Y as VStepperHeader,Z as VStepperWindow,_ as VStepperWindowItem,$ as useGoTo,a0 as VStepper,a1 as VStepperActions,a2 as VContainer,a3 as VItemGroup,a4 as VItem,a5 as VRadioGroup,a6 as VRadio,a7 as VInput,a8 as VDataTableRow,R as Resize,q as VDataTableServer,a9 as VPagination,aa as VSlideXTransition,ab as Tooltip,ac as VCheckbox,ad as Intersect,ae as VDataTableHeaders,af as VTab,ag as VTabs,ah as VTabsWindowItem,ai as VTabsWindow,aj as VCardSubtitle,ak as VFooter,al as VNavigationDrawer,am as VAppBar,an as VAppBarNavIcon,ao as VBreadcrumbs,ap as VSkeletonLoader,aq as VTextarea,ar as VInfiniteScroll,as as VDataTable,at as VWindow,au as VWindowItem,av as VOverlay,aw as VAutocomplete,ax as VNumberInput,ay as VAlert,az as VCombobox,aA as VListSubheader,aB as Touch,aC as ClickOutside,aD as VFileInput,aE as VSlider,aF as VBtnToggle,aG as VSystemBar,aH as VToolbarItems,aI as createVuetify,aJ as aliases,aK as mdi,aL as fa,aM as directives,aN as components,aO as VDateInput}from"./vuetify.B125FqCc.js";import{q as qq}from"./fine-uploader.C8t-Jhyu.js";import{P as PhoneNumber,b as awesomePhonenumberExports}from"./awesome-phonenumber.CPpBdrPW.js";const PREVENT_SUBMIT="preventSubmit",ALLOW_SUBMIT="allowSubmit",UPDATE_FORM_PERMALINK="updateFormPermalink",UPDATE_FORM_FIELD="updateFormField",REMOVE_FORM_FIELD="removeFormField",ADD_FORM_BLOCK="addFormBlock",DELETE_FORM_BLOCK="deleteFormBlock",DUPLICATE_FORM_BLOCK="duplicateFormBlock",DUPLICATE_BLOCK_FORM_FIELDS="duplicateBlockFormFields",ADD_REPEATERS="duplicateBlockRepeaters",REORDER_FORM_BLOCKS="reorderFormBlocks",UPDATE_FORM_LOADING="updateFormLoading",SET_FORM_ERRORS="setFormErrors",SET_SERVER_VALID="setServerValid",CLEAR_FORM_ERRORS="clearFormErrors",UPDATE_FORM_SAVE_TYPE="updateFormSaveType",REPLACE_FORM_FIELDS="replaceFormField",ADD_FORM_FIELDS="addFormField",EMPTY_FORM_FIELDS="emptyFormField",SET_EDITED_ITEM="setEditedItem",RESET_EDITED_ITEM="resetEditedItem",EMPTY_MODAL_FIELDS="emptyModalField",UPDATE_MODAL_FIELD="updateModalField",REMOVE_MODAL_FIELD="removeModalField",REPLACE_MODAL_FIELDS="replaceModalField",SET_TAGGABLE_ITEMS="setTaggableItems",ADD_TAGGABLE_ITEM="addTaggableItem",FORM={SET_EDITED_ITEM,RESET_EDITED_ITEM,SET_SERVER_VALID,PREVENT_SUBMIT,ALLOW_SUBMIT,UPDATE_FORM_PERMALINK,UPDATE_FORM_FIELD,REMOVE_FORM_FIELD,ADD_FORM_BLOCK,DELETE_FORM_BLOCK,DUPLICATE_FORM_BLOCK,DUPLICATE_BLOCK_FORM_FIELDS,ADD_REPEATERS,REORDER_FORM_BLOCKS,UPDATE_FORM_LOADING,SET_FORM_ERRORS,CLEAR_FORM_ERRORS,UPDATE_FORM_SAVE_TYPE,REPLACE_FORM_FIELDS,ADD_FORM_FIELDS,EMPTY_FORM_FIELDS,EMPTY_MODAL_FIELDS,UPDATE_MODAL_FIELD,REMOVE_MODAL_FIELD,REPLACE_MODAL_FIELDS,SET_TAGGABLE_ITEMS,ADD_TAGGABLE_ITEM},SET_ALERT="__setAlert",SET_ALERT_SHOW="__setAlertShow",CLEAR_ALERT="__clearAlert",SET_DIALOG="__setDialog",SET_DIALOG_SHOW="__setDialogShow",CLEAR_DIALOG="__clearDialog",ALERT$1={SET_ALERT,SET_ALERT_SHOW,CLEAR_ALERT,SET_DIALOG,SET_DIALOG_SHOW,CLEAR_DIALOG},SET_ACCESSIBLE="setMediaLibraryAccessible",SET_SHOW_MODAL="setMediaLibraryShowModal",OPEN_MODAL="openMediaLibraryModal",CLOSE_MODAL="closeMediaLibraryModal",UPDATE_MEDIA_TYPE_TOTAL="updateMediaTypeTotal",INCREMENT_MEDIA_TYPE_TOTAL="incrementMediaTypeTotal",DECREMENT_MEDIA_TYPE_TOTAL="decrementMediaTypeTotal",SAVE_MEDIAS="saveSelectedMedias",UPDATE_MEDIAS="updateMedias",DESTROY_MEDIAS="destroySelectedMedias",REORDER_MEDIAS="reorderSelectedMedias",PROGRESS_UPLOAD="progressUpload",PROGRESS_UPLOAD_MEDIA="progressUploadMedia",DONE_UPLOAD_MEDIA="doneUploadMedia",ERROR_UPLOAD_MEDIA="errorUploadMedia",DESTROY_SPECIFIC_MEDIA="destroyMediasInSelected",UPDATE_MEDIA_MAX="updateMediaMax",UPDATE_MEDIA_FILESIZE_MAX="updateMediaFilesizeMax",UPDATE_MEDIA_WIDTH_MIN="updateMediaWidthMin",UPDATE_MEDIA_HEIGHT_MIN="updateMediaHeightMin",UPDATE_MEDIA_TYPE="updateMediaType",RESET_MEDIA_TYPE="resetMediaType",SET_MEDIA_CROP="setMediaCrop",SET_MEDIA_METADATAS="setMediaMetadatas",UPDATE_MEDIA_CONNECTOR="updateMediaConnector",UPDATE_MEDIA_MODE="updateMediaMode",DESTROY_MEDIA_CONNECTOR="destroyMediaConnector",UPDATE_REPLACE_INDEX="updateReplaceIndex",ADD_MEDIAS="addMedias",UPDATE_IS_INSERTED="updateIsInserted",MEDIA_LIBRARY={SET_ACCESSIBLE,SET_SHOW_MODAL,OPEN_MODAL,CLOSE_MODAL,UPDATE_MEDIA_TYPE_TOTAL,INCREMENT_MEDIA_TYPE_TOTAL,DECREMENT_MEDIA_TYPE_TOTAL,SAVE_MEDIAS,DESTROY_MEDIAS,REORDER_MEDIAS,PROGRESS_UPLOAD,PROGRESS_UPLOAD_MEDIA,DONE_UPLOAD_MEDIA,ERROR_UPLOAD_MEDIA,DESTROY_SPECIFIC_MEDIA,UPDATE_MEDIA_MAX,UPDATE_MEDIA_FILESIZE_MAX,UPDATE_MEDIA_WIDTH_MIN,UPDATE_MEDIA_HEIGHT_MIN,UPDATE_MEDIA_TYPE,RESET_MEDIA_TYPE,SET_MEDIA_CROP,SET_MEDIA_METADATAS,UPDATE_MEDIA_CONNECTOR,UPDATE_MEDIA_MODE,DESTROY_MEDIA_CONNECTOR,UPDATE_REPLACE_INDEX,UPDATE_MEDIAS,ADD_MEDIAS,UPDATE_IS_INSERTED},SWITCH_LANG="switchLanguage",UPDATE_LANG="updateLanguage",PUBLISH_LANG="updatePublishedLanguage",PUBLISH_SINGLE_LANG="publishLanguage",REPLACE_LANGUAGES="replaceLanguages",RESET_LANGUAGES="resetLanguages",LANGUAGE={SWITCH_LANG,UPDATE_LANG,PUBLISH_LANG,PUBLISH_SINGLE_LANG,REPLACE_LANGUAGES,RESET_LANGUAGES},SAVE_ITEMS="saveSelectedItems",DESTROY_ITEMS="destroyAllItems",DESTROY_ITEM$1="destroySelectedItem",REORDER_ITEMS="reorderSelectedItems",UPDATE_BROWSER_MAX="updateBrowserMax",UPDATE_BROWSER_TITLE="updateBrowserTitle",UPDATE_BROWSER_NOTE="updateBrowserNote",UPDATE_BROWSER_CONNECTOR="updateBrowserConnector",DESTROY_BROWSER_CONNECTOR="destroyBrowserConnector",UPDATE_BROWSER_ENDPOINT="updateBrowserEndpoint",UPDATE_BROWSER_ENDPOINTS="updateBrowserEndpoints",DESTROY_BROWSER_ENDPOINT="destroyBrowserEndpoint",DESTROY_BROWSER_ENDPOINTS="destroyBrowserEndpoints",ADD_BROWSERS="addBrowsers",BROWSER={SAVE_ITEMS,DESTROY_ITEMS,DESTROY_ITEM:DESTROY_ITEM$1,REORDER_ITEMS,UPDATE_BROWSER_MAX,UPDATE_BROWSER_TITLE,UPDATE_BROWSER_NOTE,UPDATE_BROWSER_CONNECTOR,DESTROY_BROWSER_CONNECTOR,UPDATE_BROWSER_ENDPOINT,DESTROY_BROWSER_ENDPOINT,UPDATE_BROWSER_ENDPOINTS,DESTROY_BROWSER_ENDPOINTS,ADD_BROWSERS},SIDEBAR_TOGGLE="__sidebarToggle",SET_SIDEBAR="__setSidebar",SET_REQUEST_IN_PROGRESS="__setRequestInProgress",INCREASE_AXIOS_REQUEST="__increaseAxiosRequest",DECREASE_AXIOS_REQUEST="__decreaseAxiosRequest",CONFIG={SIDEBAR_TOGGLE,SET_SIDEBAR,SET_REQUEST_IN_PROGRESS,INCREASE_AXIOS_REQUEST,DECREASE_AXIOS_REQUEST},SET_PROFILE_DATA="__setProfileData",OPEN_LOGIN_MODAL="__openLoginModal",CLOSE_LOGIN_MODAL="__closeLoginModal",USER={SET_PROFILE_DATA,OPEN_LOGIN_MODAL,CLOSE_LOGIN_MODAL},GET_CACHE="getCache",PUT_CACHE="putCache",PUSH_CACHE="pushCache",GET_LAST_CACHE="getLastCache",FORGET_CACHE="forgetCache",CACHE={GET_CACHE,PUT_CACHE,GET_LAST_CACHE,PUSH_CACHE,FORGET_CACHE},_export_sfc=(e,a)=>{const o=e.__vccOpts||e;for(const[r,l]of a)o[r]=l;return o},_sfc_main$1A={data:()=>({timeout:3e3}),computed:{closeButtonColor(){switch(this.type){case"success":case"warning":case"info":case"error":return"white";default:return"white"}},text(){return this.message||this.defaultMessage},defaultMessage(){return this.$t("messages."+this.type)},show:{get(){return this.$store.state.alert.show},set(e){this.$store.commit(ALERT$1.SET_ALERT_SHOW,e)}},...mapState({type:e=>e.alert.type,message:e=>e.alert.message,location:e=>e.alert.location}),...mapGetters$1([])},methods:{info(e=null,a=3e3){this.open("info",e,a)},success(e=null,a=3e3){this.open("success",e,a)},warning(e=null,a=3e3){this.open("warning",e,a)},error(e=null,a=3e3){this.open("error",e,a)},activate(){this.show=!0},deactivate(){this.show=!0},open(e="info",a=null,o=3e3){this.type=e,this.message=a??this.message,this.timeout=o,this.activate()},close(){this.deactivate(),this.$nextTick(()=>{this.type="info",this.message=null,this.timeout=3e3})}}},_hoisted_1$10=["innerHTML"];function _sfc_render$1n(e,a,o,r,l,n){return openBlock(),createBlock(VSnackbar,{modelValue:n.show,"onUpdate:modelValue":a[1]||(a[1]=i=>n.show=i),timeout:e.timeout,color:e.type,location:e.location},{actions:withCtx(()=>[createVNode(VBtn,{color:n.closeButtonColor,variant:"plain",density:"compact",onClick:a[0]||(a[0]=i=>n.show=!1)},{default:withCtx(()=>[createVNode(VIcon,{color:n.closeButtonColor,icon:"$close"},null,8,["color"])]),_:1},8,["color"])]),default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.text},null,8,_hoisted_1$10)]),_:1},8,["modelValue","timeout","color","location"])}const Alert=_export_sfc(_sfc_main$1A,[["render",_sfc_render$1n]]),__vite_glob_0_0$2=Object.freeze(Object.defineProperty({__proto__:null,default:Alert},Symbol.toStringTag,{value:"Module"})),_sfc_main$1z={props:{slots:{type:Object,default(){return{}}},title:{type:String},bannerDescription:{type:String,default:""},bannerSubDescription:{type:String,default:""},adImg:{type:String,default:""},redirectUrl:{type:String,default:null},redirectButtonText:{type:String,default:""},noDivider:{type:[Boolean,Number],default:!1},noSecondSection:{type:[Boolean,Number],default:!1}},data:()=>({schema:{email:{type:"text",label:"E-mail",col:{cols:12},variant:"outlined",rules:[["email"]]},password:{type:"password",label:"Password",col:{cols:12},variant:"outlined",rules:[]}},model:{email:"",password:""}}),setup(e){const{name:a}=useDisplay(),o=computed(()=>{switch(a.value){case"xs":return 300;case"sm":return 450;case"md":return 450;case"lg":return 500;case"xl":return 600;default:return 300}}),r=computed(()=>{if(e.title)return e.title}),l=computed(()=>{if(e.description)return e.description}),n=computed(()=>{if(e.ad)return e.ad}),i=computed(()=>{if(e.rightBtnText)return e.rightBtnText});return{width:o,title:r,description:l,ad:n,rightBtnText:i}},methods:{}},_hoisted_1$$={key:0,symbol:"main-logo-full-light"},_hoisted_2$Q={key:1,class:"d-flex w-100 align-center justify-center"},_hoisted_3$K={class:"mw-420"},_hoisted_4$A={class:"text-white mt-5 text-h4 custom-mb-8rem fs-2rem"},_hoisted_5$u={class:"text-white"};function _sfc_render$1m(e,a,o,r,l,n){const i=resolveComponent("ue-form"),s=resolveComponent("ue-svg-icon"),d=resolveComponent("ue-alert"),c=resolveDirective("svg");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VLayout,{class:"rounded rounded-md bg-tertiary h-100"},{default:withCtx(()=>[createVNode(VMain,{class:"d-flex align-center justify-center"},{default:withCtx(()=>[createVNode(VRow,{class:"h-100 mw-100"},{default:withCtx(()=>[createVNode(VCol,mergeProps({cols:"12",...o.noSecondSection?{}:{md:"6",lg:"6"}},{class:"py-12 d-flex flex-column align-center justify-center bg-white"}),{default:withCtx(()=>[createVNode(VRow,{width:"85%",class:"d-flex flex-column justify-center align-center"},{default:withCtx(()=>[a[1]||(a[1]=createBaseVNode("div",{class:"bg-primary darken-3"},null,-1)),o.noSecondSection?withDirectives((openBlock(),createElementBlock("span",_hoisted_1$$,null,512)),[[c]]):createCommentVNode("",!0),renderSlot(e.$slots,"cardTop"),createVNode(VSheet,{class:"",width:r.width},{default:withCtx(()=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({})),()=>[createVNode(i,{model:e.model,schema:e.schema,"action-url":"/login",async:!0,hasSubmit:!0,buttonText:"auth.login",class:"auth-form"},{submit:withCtx(m=>[createVNode(VBtn,{block:"",dense:"",type:"submit",disabled:!m.validForm,loading:m.loading},{default:withCtx(()=>[createTextVNode(toDisplayString(m.buttonDefaultText.toUpperCase()),1)]),_:2},1032,["disabled","loading"])]),_:1},8,["model","schema"])])]),_:3},8,["width"]),!o.noDivider&&e.$isset(e.$slots.bottom)?(openBlock(),createElementBlock("div",_hoisted_2$Q,[createVNode(VDivider),a[0]||(a[0]=createBaseVNode("div",{class:"text-no-wrap px-3"},"or",-1)),createVNode(VDivider)])):createCommentVNode("",!0),renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))]),_:3})]),_:3},16),o.noSecondSection?createCommentVNode("",!0):(openBlock(),createBlock(VCol,{key:0,cols:"12",md:"6",lg:"6",class:"px-xs-12 py-xs-3 px-sm-12 py-sm-3 pa-12 pa-md-0 d-flex flex-column align-center justify-center col-right bg-primary"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$K,[createVNode(s,{symbol:"main-logo",class:"mx-0"}),renderSlot(e.$slots,"description",{},()=>[createBaseVNode("h2",_hoisted_4$A,toDisplayString(o.bannerDescription),1)]),createBaseVNode("span",_hoisted_5$u,[createVNode(VImg,{href:o.adImg},null,8,["href"]),createTextVNode(" "+toDisplayString(o.bannerSubDescription),1)]),o.redirectUrl?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"text-white custom-right-auth-button my-5",density:"default",href:o.redirectUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(o.redirectButtonText),1)]),_:1},8,["href"])):createCommentVNode("",!0)])]),_:3}))]),_:3})]),_:3})]),_:3}),createVNode(d,{ref:"alert"},null,512)]),_:3})}const Auth=_export_sfc(_sfc_main$1z,[["render",_sfc_render$1m]]),__vite_glob_0_1$2=Object.freeze(Object.defineProperty({__proto__:null,default:Auth},Symbol.toStringTag,{value:"Module"})),_sfc_main$1y={props:{cards:{type:Array,default:[{title:"Active Webinar",data:"12",flex:6},{title:"Speaker Moderators",data:"3",flex:6},{title:"Company",data:"5",flex:6},{title:"Published Webinars",data:"7",flex:6}]},container:{type:Object,default:{color:"#F8F8FF",elevation:10,class:"px-6 py-5"}},cardAttribute:{type:Object,default:{variant:"outlined",borderRadius:14,class:"px-5",border:"sm",titleClass:"pt-3 pb-3 text-subtitle-2",titleColor:"grey",infoClass:"text-h4 pa-0",infoColor:"#000000",infoLineHeight:"1",infoFontWeight:"700"}}},data:()=>({})},_hoisted_1$_={class:"d-flex"},_hoisted_2$P={class:"d-flex flex-column justify-center align-center pr-3"},_hoisted_3$J={class:"d-flex flex-column"};function _sfc_render$1l(e,a,o,r,l,n){return openBlock(),createBlock(VCard,{color:o.container.color,density:"comfortable",elevation:o.container.elevation,class:normalizeClass(o.container.class)},{default:withCtx(()=>[createVNode(VCardTitle,{style:{"font-weight":"bolder"},class:"py-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1}),createVNode(VCardItem,{class:"pt-0 pb-4"},{default:withCtx(()=>[createVNode(VRow,{class:"",densex:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.cards,(i,s)=>(openBlock(),createBlock(VCol,{key:s,cols:i.flex,class:""},{default:withCtx(()=>[createVNode(VCard,{variant:o.cardAttribute.variant,border:o.cardAttribute.border,class:normalizeClass(o.cardAttribute.class),style:normalizeStyle({"border-radius":o.cardAttribute.borderRadius,"border-color":`${o.cardAttribute.borderColor} !important`})},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$_,[createBaseVNode("div",_hoisted_2$P,[createBaseVNode("div",{class:"glance-icon-container",style:normalizeStyle(`background-color: ${i.iconBackground};`)},[createVNode(VIcon,{icon:i.icon,color:i.iconColor,size:i.iconSize},null,8,["icon","color","size"])],4)]),createBaseVNode("div",_hoisted_3$J,[createVNode(VCardItem,{align:"left",class:normalizeClass(o.cardAttribute.infoClass),style:normalizeStyle({"line-height":o.cardAttribute.infoLineHeight,"font-weight":o.cardAttribute.infoFontWeight,color:i.infoColor})},{default:withCtx(()=>[createTextVNode(toDisplayString(i.data.items),1)]),_:2},1032,["class","style"]),createVNode(VCardTitle,{align:"center",class:normalizeClass(o.cardAttribute.titleClass),style:normalizeStyle({color:o.cardAttribute.titleColor,"line-height":o.cardAttribute.infoLineHeight})},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t(i.title)),1)]),_:2},1032,["class","style"])])])]),_:2},1032,["variant","border","class","style"])]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})]),_:1},8,["color","elevation","class"])}const BoardInformationPlus=_export_sfc(_sfc_main$1y,[["render",_sfc_render$1l]]),__vite_glob_0_2$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformationPlus},Symbol.toStringTag,{value:"Module"})),_sfc_main$1x={name:"ue-btn",props:{revealed:{type:Boolean,default:!1}},data(){return{}},methods:{clickSound(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()},click(e){this.disabled=!0,setTimeout(()=>{this.disabled=!1},5e3),this.$emit("click",e)}}};function _sfc_render$1k(e,a,o,r,l,n){return openBlock(),createBlock(VBtn,mergeProps(e.$bindAttributes(),{onClick:n.click}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},()=>[a[0]||(a[0]=createTextVNode(" Button "))])]),_:3},16,["onClick"])}const Btn=_export_sfc(_sfc_main$1x,[["render",_sfc_render$1k]]),__vite_glob_0_3$1=Object.freeze(Object.defineProperty({__proto__:null,default:Btn},Symbol.toStringTag,{value:"Module"})),_sfc_main$1w={name:"ue-collapsible",components:{VExpandTransition},props:{title:{type:String,default:""},modelValue:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:4},verticalPadding:{type:Number,default:3},color:{type:String,default:"primary"},dense:{type:Boolean,default:!1},noHeaderBackground:{type:Boolean,default:!1},noCollapse:{type:Boolean,default:!1}},data(){return{isOpen:this.noCollapse||this.modelValue}},watch:{modelValue(e){this.noCollapse?this.isOpen=!0:this.isOpen=e}},methods:{toggle(){this.noCollapse||(this.isOpen=!this.isOpen,this.$emit("update:modelValue",this.isOpen),this.$emit(this.isOpen?"open":"close"))}},created(){},mounted(){this.isOpen&&this.$el&&this.$el.querySelector(".ue-collapsible__content")}},_hoisted_1$Z={class:"ue-collapsible__title"},_hoisted_2$O={class:"ue-collapsible__content"};function _sfc_render$1j(e,a,o,r,l,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-collapsible",{"ue-collapsible--bordered":o.bordered,"ue-collapsible--elevated":o.elevated,"ue-collapsible--dense":o.dense}])},[o.title||e.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-collapsible__header",l.isOpen?"ue-collapsible__header--active":"",`px-${o.horizontalPadding} py-${o.verticalPadding}`,o.noHeaderBackground?"":"ue-collapsible__header--background"]),onClick:a[0]||(a[0]=(...i)=>n.toggle&&n.toggle(...i))},[createBaseVNode("div",_hoisted_1$Z,[renderSlot(e.$slots,"title",{},()=>[createTextVNode(toDisplayString(o.title),1)])]),o.noCollapse?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:l.isOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ue-collapsible__icon"},null,8,["icon"]))],2)):createCommentVNode("",!0),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$O,[createBaseVNode("div",{class:normalizeClass(["ue-collapsible__content-inner",`px-${o.horizontalPadding} py-${o.verticalPadding}`])},[renderSlot(e.$slots,"default")],2)],512),[[vShow,l.isOpen]])]),_:3})],2)}const Collapsible=_export_sfc(_sfc_main$1w,[["render",_sfc_render$1j]]),__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:Collapsible},Symbol.toStringTag,{value:"Module"})),_sfc_main$1v={name:"ue-configurable-card",props:{title:{type:String,default:""},titleColor:{type:String},items:{type:[Object,Array],required:!0},actions:{type:Array,default:()=>[]},hideSeparator:{type:Boolean,default:!1},maxSegments:{type:Number,default:null,validator:e=>e===null||e>0&&e<=12},actionIconSize:{type:String,default:"medium"},actionIconMinWidth:{type:Number,default:44},actionIconMinHeight:{type:Number,default:44},alignCenterColumns:{type:Boolean,default:!1},justifyCenterColumns:{type:Boolean,default:!1},columnStyles:{type:Object,default:()=>({})},columnClasses:{type:Object,default:()=>({})},rowMinHeight:{type:String,default:null}},computed:{cardClass(){return`ue-configurable-card--${this.effectiveSegmentCount}-columns`},itemsWithActions(){const e={...this.items};return this.actions.length&&(e._actions=this.actions),e},effectiveSegmentCount(){const e=this.isArray(this.itemsWithActions)?this.itemsWithActions.length:Object.keys(this.itemsWithActions).length;return this.maxSegments===null?e:Math.min(this.maxSegments,e)},rowStyle(){return{...this.rowMinHeight?{minHeight:this.rowMinHeight}:{}}}},methods:{isObject(e){return __isObject(e)},isArray(e){return __isArray(e)}}},_hoisted_1$Y={key:0,class:"d-flex fill-height flex-wrap justify-space-evenly align-center"},_hoisted_2$N={key:1,class:"d-flex fill-height"},_hoisted_3$I={key:2,class:"d-flex fill-height"},_hoisted_4$z={key:3,class:"d-flex fill-height"};function _sfc_render$1i(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-property-list"),d=resolveComponent("ue-dynamic-component-renderer");return openBlock(),createBlock(VCard,{class:normalizeClass(["ue-configurable-card",[e.$bindAttributes().class,n.cardClass]])},{default:withCtx(()=>[o.title?(openBlock(),createBlock(i,{key:0,text:o.title,color:o.titleColor,padding:"x-4",class:"pt-4"},null,8,["text","color"])):createCommentVNode("",!0),createBaseVNode("div",{"no-gutters":"",class:"ue-configurable-card__row",style:normalizeStyle(n.rowStyle)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.itemsWithActions,(c,m)=>(openBlock(),createElementBlock("div",{key:m,class:normalizeClass(["ue-configurable-card__col",o.hideSeparator?"":"ue-configurable-card__col--seperator",o.justifyCenterColumns?"ue-configurable-card__col--justify-center":"",o.alignCenterColumns?"ue-configurable-card__col--align-center":"",e.$isset(o.columnStyles[m])?"ue-configurable-card__col--unset-flex-basis":"",o.columnClasses[m]??""]),style:normalizeStyle(o.columnStyles[m]??"")},[renderSlot(e.$slots,`segment.${m==="_actions"?"actions":parseInt(m)+1}`,mergeProps({ref_for:!0},{data:c,actions:o.actions,actionProps:{actionIconMinHeight:o.actionIconMinHeight,actionIconSize:o.actionIconSize}}),()=>[o.actions.length&&m==="_actions"?(openBlock(),createElementBlock("div",_hoisted_1$Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.actions,(p,u)=>(openBlock(),createBlock(VBtn,mergeProps({key:u,class:"mx-1 rounded","min-width":o.actionIconMinHeight,"min-height":o.actionIconMinHeight,size:o.actionIconSize,ref_for:!0},p),null,16,["min-width","min-height","size"]))),128))])):n.isObject(c)?(openBlock(),createElementBlock("div",_hoisted_2$N,[createVNode(s,{data:c,class:"",noPadding:""},null,8,["data"])])):n.isArray(c)?(openBlock(),createElementBlock("div",_hoisted_3$I,[createVNode(s,{data:c.map(p=>[p]),class:"",noPadding:""},null,8,["data"])])):(openBlock(),createElementBlock("div",_hoisted_4$z,[createVNode(d,{subject:c},null,8,["subject"])]))],!0)],6))),128))],4)]),_:3},8,["class"])}const ConfigurableCard=_export_sfc(_sfc_main$1v,[["render",_sfc_render$1i],["__scopeId","data-v-bd86b8ba"]]),__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:ConfigurableCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1u={name:"CopyText",props:{text:{type:[String,Number],required:!0},icon:{type:String,default:"mdi-content-copy"},color:{type:String,default:"primary"},size:{type:String,default:"small"}},data(){return{showTooltip:!1}},methods:{handleCopy(){this.$copy(this.text),this.showTooltip=!0,setTimeout(()=>{this.showTooltip=!1},2e3)}}},_hoisted_1$X={class:"d-inline-block"};function _sfc_render$1h(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$X,[createVNode(VTooltip,{"model-value":l.showTooltip,text:"Copied!",location:"top","open-on-hover":!1,"open-on-focus":!1},{activator:withCtx(({props:i})=>[createVNode(VIcon,mergeProps({...i,onClick:n.handleCopy},{icon:o.icon,color:o.color,size:o.size,class:{"cursor-pointer":!0}}),null,16,["icon","color","size"])]),_:1},8,["model-value"])])}const CopyText=_export_sfc(_sfc_main$1u,[["render",_sfc_render$1h]]),__vite_glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:CopyText},Symbol.toStringTag,{value:"Module"})),_sfc_main$1t={props:{blocks:{type:Object,default(){return{}}}},components:{},setup(e,a){},data(){return{}},created(){}};function _sfc_render$1g(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VRow,{class:"h-100"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.blocks,(s,d)=>(openBlock(),createBlock(i,{key:`tag-0-${d}`,configuration:s},null,8,["configuration"]))),128))]),_:1})}const Dashboard=_export_sfc(_sfc_main$1t,[["render",_sfc_render$1g]]),__vite_glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:Dashboard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1s={name:"UEDropdownFilter",props:{buttonText:{type:String,default:"Filter"},loading:{type:Boolean,default:!1},page:{type:Number,required:!0},type:{type:String,required:!0},tags:{type:Array,default:()=>[]},filterState:{type:Object,required:!0},filterModel:{type:Object,required:!0},schema:{type:Object||Array,required:!0}},emits:["update:filterState","submit","clear"],setup(e,{emit:a}){const o=ref({...e.filterState}),r=ref(!1);return watch$1(()=>e.filterState,i=>{o.value={...i}}),{localFilterState:o,menu:r,submitFilter:()=>{a("update:filterState",{...o.value}),a("submit"),r.value=!1},handleClear:()=>{a("clear"),r.value=!1}}}};function _sfc_render$1f(e,a,o,r,l,n){const i=resolveComponent("ue-form");return openBlock(),createElementBlock("div",null,[createVNode(VMenu,{modelValue:r.menu,"onUpdate:modelValue":a[1]||(a[1]=s=>r.menu=s),"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:s})=>[createVNode(VBtn,mergeProps({color:"primary"},s),{default:withCtx(()=>[createTextVNode(toDisplayString(o.buttonText),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(i,{ref:"form",schema:o.schema,"has-submit":"",modelValue:r.localFilterState,"onUpdate:modelValue":a[0]||(a[0]=s=>r.localFilterState=s),onSubmit:r.submitFilter},{submit:withCtx(()=>[createVNode(VBtn,{color:"primary",class:"mt-4 mr-2",type:"button",loading:o.loading,onClick:r.submitFilter},{default:withCtx(()=>a[2]||(a[2]=[createTextVNode(" Apply Filters ")])),_:1},8,["loading","onClick"]),createVNode(VBtn,{color:"secondary",class:"mt-4 ml-2",type:"button",loading:o.loading,onClick:r.handleClear},{default:withCtx(()=>a[3]||(a[3]=[createTextVNode(" Clear Filters ")])),_:1},8,["loading","onClick"])]),_:1},8,["schema","modelValue","onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const DropdownFilter=_export_sfc(_sfc_main$1s,[["render",_sfc_render$1f]]),__vite_glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:DropdownFilter},Symbol.toStringTag,{value:"Module"})),_sfc_main$1r={__name:"DynamicComponentRenderer",props:{subject:{type:String,default:""}},setup(e){const a=e,o=n=>{const d=new DOMParser().parseFromString(n,"text/html").body.firstChild,c=d.tagName.toLowerCase();let m={};const p=d.textContent;for(let u=0;u<d.attributes.length;u++){const y=d.attributes[u];m[y.name]=y.value}return m={...m},{name:c,props:m,content:p}},r=computed(()=>(a.subject.startsWith("<v-")||a.subject.startsWith("<ue-"))&&a.subject.endsWith(">")),l=computed(()=>r.value?o(a.subject):null);return(n,i)=>e.subject&&r.value?(openBlock(),createBlock(resolveDynamicComponent(l.value.name),normalizeProps(mergeProps({key:0},{...l.value.props,...n.$bindAttributes()})),{default:withCtx(()=>[createTextVNode(toDisplayString(l.value.content),1)]),_:1},16)):e.subject?(openBlock(),createElementBlock(Fragment,{key:1},[],64)):createCommentVNode("",!0)}},__vite_glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1r},Symbol.toStringTag,{value:"Module"})),_sfc_main$1q={__name:"Expansion",props:{modelValue:{type:Boolean,default:!0},title:{type:String,default:""},multiple:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasActions:{type:Boolean,default:!1},expandedIcon:{type:String,default:"mdi-chevron-down"},collapsedIcon:{type:String,default:"mdi-chevron-up"}},setup(e){const o=ref(e.modelValue?["one"]:[]);return(r,l)=>(openBlock(),createBlock(VExpansionPanels,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=n=>o.value=n),multiple:e.multiple,readonly:e.readonly},{default:withCtx(()=>[createVNode(VExpansionPanel,{value:"one"},{default:withCtx(()=>[e.title?(openBlock(),createBlock(VExpansionPanelTitle,{key:0},createSlots({default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:2},[e.hasActions?{name:"actions",fn:withCtx(({expanded:n})=>[createVNode(VIcon,{color:n?"":"teal",icon:n?e.expandedIcon:e.collapsedIcon},null,8,["color","icon"])]),key:"0"}:void 0]),1024)):createCommentVNode("",!0),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3})]),_:3})]),_:3},8,["modelValue","multiple","readonly"]))}},__vite_glob_0_10=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1q},Symbol.toStringTag,{value:"Module"})),_sfc_main$1p={data(){return{fileUrls:[],thumbnailUrls:[],isImageArray:[],loadingStates:[],downloadingStates:[],previewDialogs:[]}},props:{source:{type:[Object,Array],required:!0},imageSize:{type:[Number,String],default:64},showFileName:{type:Boolean,default:!1},showInlineFileName:{type:Boolean,default:!1},maxFileNameLength:{type:Number,default:10},noOverlay:{type:Boolean,default:!1},showDate:{type:Boolean,default:!1}},computed:{normalizedSource(){return Array.isArray(this.source)?this.source:[this.source]}},methods:{processSource(){const e=this.normalizedSource.length;this.loadingStates=new Array(e).fill(!1),this.downloadingStates=new Array(e).fill(!1),this.previewDialogs=new Array(e).fill(!1),this.fileUrls=new Array(e).fill(null),this.thumbnailUrls=new Array(e).fill(null),this.isImageArray=new Array(e).fill(!1),this.normalizedSource.forEach((a,o)=>{this.isImageFile(a.file_name)&&this.generateThumbnail(a.uuid,o)})},isImageFile(e){const a=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(a)},async generateThumbnail(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Failed to fetch thumbnail");const r=await o.blob();r.type.startsWith("image/")&&(this.thumbnailUrls[a]=URL.createObjectURL(r))}catch(o){console.error("Error generating thumbnail:",o)}},getFileIcon(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"mdi-file-pdf-box";case"doc":case"docx":return"mdi-file-word";case"xls":case"xlsx":return"mdi-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"mdi-file-image";default:return"mdi-file-document-outline"}},getFileIconColor(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"red";case"doc":case"docx":return"blue";case"xls":case"xlsx":return"green";case"jpg":case"jpeg":case"png":case"gif":return"purple";default:return"grey"}},async previewFile(e){this.previewDialogs[e]=!0,this.fileUrls[e]||(this.loadingStates[e]=!0,await this.fetchFile(this.normalizedSource[e].uuid,e))},async downloadFile(e){const a=this.normalizedSource.findIndex(o=>o.uuid===e);this.downloadingStates[a]=!0;try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Download failed");const r=await o.blob(),l=window.URL.createObjectURL(r),n=document.createElement("a");n.href=l,n.download=this.normalizedSource[a].file_name,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(l),n.remove()}catch(o){console.error("Error downloading file:",o)}finally{this.downloadingStates[a]=!1}},async fetchFile(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Network response was not ok");const r=await o.blob();this.isImageArray[a]=r.type.startsWith("image/"),this.fileUrls[a]=URL.createObjectURL(r)}catch(o){console.error("Error fetching file:",o)}finally{this.loadingStates[a]=!1}},shortenFileName(e){if(e.length<=this.maxFileNameLength)return e;const a=e.split(".").pop();return`${e.slice(0,e.lastIndexOf(".")).slice(0,this.maxFileNameLength)}...${a}`}},mounted(){this.processSource()}},_hoisted_1$W={key:0,class:"d-flex align-center px-4"},_hoisted_2$M={class:"text-body-2 text-truncate"},_hoisted_3$H={key:1,class:"ml-auto mr-1"},_hoisted_4$y={class:"text-caption text-truncate"},_hoisted_5$t={key:2,class:"overlay-content d-flex align-center justify-center"},_hoisted_6$s={class:"d-flex justify-center align-center",style:{height:"calc(100vh - 64px)"}},_hoisted_7$i=["src"];function _sfc_render$1e(e,a,o,r,l,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex ga-2",o.showInlineFileName||o.showFileName?"flex-wrap":""])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.normalizedSource,(i,s)=>(openBlock(),createElementBlock("div",{key:i.uuid,class:"file-preview-item",style:normalizeStyle({width:o.showInlineFileName||o.showFileName?"100%":"aut"})},[createVNode(VHover,null,{default:withCtx(({isHovering:d,props:c})=>[createVNode(VCard,mergeProps({ref_for:!0},c,{class:"rounded position-relative d-flex bg-transparent",width:o.showInlineFileName||o.showFileName?"100%":`${o.imageSize}`,height:o.imageSize,elevation:d?4:0,onClick:m=>n.previewFile(s)}),{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle({width:`${o.imageSize}px`,height:`${o.imageSize}px`}),class:"position-relative flex-grow-0"},[l.thumbnailUrls[s]?(openBlock(),createBlock(VImg,{key:0,src:l.thumbnailUrls[s],height:"100%",width:"100%",cover:""},{placeholder:withCtx(()=>[createVNode(VIcon,{color:n.getFileIconColor(i.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.getFileIcon(i.file_name)),1)]),_:2},1032,["color"])]),_:2},1032,["src"])):(openBlock(),createBlock(VCardText,{key:1,class:"pa-0 d-flex justify-center align-center",style:{height:"100%"}},{default:withCtx(()=>[createVNode(VIcon,{color:n.getFileIconColor(i.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.getFileIcon(i.file_name)),1)]),_:2},1032,["color"])]),_:2},1024))],4),o.showInlineFileName||o.showFileName?(openBlock(),createElementBlock("div",_hoisted_1$W,[createBaseVNode("span",_hoisted_2$M,toDisplayString(n.shortenFileName(i.file_name)),1)])):createCommentVNode("",!0),o.showDate?(openBlock(),createElementBlock("div",_hoisted_3$H,[createBaseVNode("span",_hoisted_4$y,toDisplayString(e.$d(new Date(i.created_at),"numeric-full")),1)])):createCommentVNode("",!0),d&&!o.noOverlay?(openBlock(),createElementBlock("div",_hoisted_5$t,[createVNode(VBtn,{icon:"mdi-download",size:"x-small",color:"white",variant:"text",onClick:withModifiers(m=>n.downloadFile(i.uuid),["stop"]),loading:l.downloadingStates[s]},null,8,["onClick","loading"]),createVNode(VBtn,{icon:"mdi-eye",size:"x-small",color:"white",variant:"text",onClick:withModifiers(m=>n.previewFile(s),["stop"]),loading:l.downloadingStates[s]},null,8,["onClick","loading"])])):createCommentVNode("",!0)]),_:2},1040,["width","height","elevation","onClick"])]),_:2},1024),createVNode(VDialog,{modelValue:l.previewDialogs[s],"onUpdate:modelValue":d=>l.previewDialogs[s]=d,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:d=>l.previewDialogs[s]=!1},{default:withCtx(()=>[createVNode(VIcon,{color:"white",icon:"$close"})]),_:2},1032,["onClick"]),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(i.file_name),1)]),_:2},1024),createVNode(VSpacer)]),_:2},1024),createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$s,[l.loadingStates[s]?(openBlock(),createBlock(VProgressCircular,{key:0,indeterminate:"",color:"primary"})):createCommentVNode("",!0),!l.loadingStates[s]&&l.isImageArray[s]?(openBlock(),createBlock(VImg,{key:1,src:l.fileUrls[s],contain:"","max-height":"90vh"},null,8,["src"])):!l.loadingStates[s]&&l.fileUrls[s]?(openBlock(),createElementBlock("iframe",{key:2,src:l.fileUrls[s],width:"100%",height:"100%",frameborder:"0"},null,8,_hoisted_7$i)):createCommentVNode("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])],4))),128))],2)}const FilepondPreview=_export_sfc(_sfc_main$1p,[["render",_sfc_render$1e],["__scopeId","data-v-45967191"]]),__vite_glob_0_11=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondPreview},Symbol.toStringTag,{value:"Module"}));function FormDataAsObj(e){let a=null;const o=!1;let r=/[^\[\]]+|\[\]/g,l=null,n=[];function i(k){return!!(k&&typeof k=="object"&&"nodeType"in k&&k.nodeType===1)}function s(k){if(!(!k||typeof k!="object"))return Object.keys(k).filter(function(N){return!isNaN(parseInt(N,10))}).splice(-1)[0]}function d(k){const N=s(k);return typeof N=="string"?parseInt(N,10):0}function c(k){const N=s(k);return typeof N=="string"?parseInt(N,10)+1:0}function m(k){if(typeof k!="object"||k===null)return 0;let N=0,D;if(typeof Object.keys=="function")N=Object.keys(k).length;else for(D in k)k.hasOwnProperty(D)&&N++;return N}function p(k,N){if([].forEach)return[].forEach.call(k,N);let D;for(D=0;D<k.length;D++)N.call(k,k[D],D)}function u(k){return!k||(a=k,!y())||!f()?!1:V()}function y(){switch(typeof a){case"string":l=document.getElementById(a);break;case"object":i(a)&&(l=a);break}return l}function g(){return!!(l.enctype&&l.enctype==="multipart/form-data")}function f(){return n=l.querySelectorAll("input, textarea, select"),n.length}function v(k){return k.nodeName==="INPUT"&&k.type==="radio"}function C(k){return k.nodeName==="INPUT"&&k.type==="checkbox"}function h(k){return k.nodeName==="INPUT"&&k.type==="file"}function b(k){return k.nodeName==="TEXTAREA"}function w(k){return k.nodeName==="SELECT"&&k.type==="select-one"}function B(k){return k.nodeName==="SELECT"&&k.type==="select-multiple"}function S(k){return k.nodeName==="BUTTON"&&k.type==="submit"}function E(k){return k.checked}function I(k){return window.FileList&&k.files instanceof window.FileList}function $(k){if(v(k)||C(k))return E(k)?k.value:!1;if(h(k))return g()?I(k)&&k.files.length>0?k.files:k.value&&k.value!==""?k.value:!1:!1;if(b(k))return k.value&&k.value!==""?k.value:!1;if(w(k))return k.value&&k.value!==""?k.value:k.options&&k.options.length&&k.options[0].value!==""?k.options[0].value:!1;if(B(k))if(k.options&&k.options.length>0){const N=[];return p(k.options,function(D){D.selected&&N.push(D.value)}),N.length?N:!1}else return!1;return S(k)?k.value&&k.value!==""?k.value:k.innerText&&k.innerText!==""?k.innerText:!1:typeof k.value<"u"&&k.value!==""?k.value:!1}function T(k,N,D,O){const U=N[0];if(v(k))return D!==!1?(O[U]=D,D):void 0;if(C(k))return D!==!1?(O[U]||(O[U]=[]),O[U].push(D)):void 0;if(B(k))if(D!==!1)O[U]=D;else return;return O[U]=D,D}function A(k,N,D,O){const U=N[0];if(N.length>1)return U==="[]"?(O[c(O)]={},A(k,N.splice(1,N.length),D,O[d(O)])):(O[U]&&m(O[U])>0||(O[U]={}),A(k,N.splice(1,N.length),D,O[U]));if(N.length===1)return U==="[]"?(O[c(O)]=D,O):(T(k,N,D,O),O)}function V(){let k=0,N,D,O;const U={};for(k=0;k<n.length;k++)D=n[k],!(!D.name||D.name===""||D.disabled||v(D)&&!E(D))&&(O=$(D),!(O===!1&&!o)&&(N=D.name.match(r),N.length===1&&T(D,N,O||"",U),N.length>1&&A(D,N,O||"",U)));return m(U)>0?U:!1}return u(e)}const _sfc_main$1o={name:"UEFilter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default(){return getCurrentInstance().appContext.config.globalProperties.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},filterState:{type:Object,required:!0}},emits:["update:filterState","submit","clear"],data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,a){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{e.style.overflow="visible"},275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,a){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){const e=FormDataAsObj(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:debounce(function(){this.resetHeight()},50),updateSearch(e){this.$emit("update:filterState",{...this.filterState,search:e})}},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},_hoisted_1$V={class:"filter__inner"},_hoisted_2$L={class:"filter__navigation"},_hoisted_3$G={class:"filter__search"},_hoisted_4$x={class:"float-right",symbol:"dropdown_module"},_hoisted_5$s=["aria-hidden"],_hoisted_6$r={class:"filter__moreInner",ref:"moreInner"};function _sfc_render$1d(e,a,o,r,l,n){const i=resolveComponent("ue-btn"),s=resolveDirective("svg");return openBlock(),createElementBlock("div",null,[createBaseVNode("form",{class:normalizeClass(["filter",{"filter--opened":n.opened,"filter--single":!e.withNavigation,"filter--withHiddenFilters":e.withHiddenFilters}]),onSubmit:a[0]||(a[0]=withModifiers((...d)=>n.submitFilter&&n.submitFilter(...d),["prevent"])),ref:"form"},[createBaseVNode("div",_hoisted_1$V,[createBaseVNode("div",_hoisted_2$L,[renderSlot(e.$slots,"navigation",{},void 0,!0)]),createBaseVNode("div",_hoisted_3$G,[createVNode(VTextField,{type:"search",class:"form__input form__input--small v-filter__search__input",name:"search",modelValue:o.filterState.search,"onUpdate:modelValue":n.updateSearch,placeholder:o.placeholder,variant:"outlined","hide-details":"true"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.withHiddenFilters?(openBlock(),createBlock(i,{key:0,class:"filter__toggle",variant:"outlined",onClick:n.toggleFilter,"aria-expanded":n.opened?"true":"false",fab:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.toggle-label","Filter"))+" ",1),withDirectives(createBaseVNode("span",_hoisted_4$x,null,512),[[s]])]),_:1},8,["onClick","aria-expanded"])):createCommentVNode("",!0),renderSlot(e.$slots,"additional-actions",{},void 0,!0)])]),createVNode(Transition$1,{css:!1,duration:275,onBeforeEnter:n.beforeEnter,onEnter:n.enter,onBeforeLeave:n.beforeLeave,onLeave:n.leave},{default:withCtx(()=>[e.withHiddenFilters?withDirectives((openBlock(),createElementBlock("div",{key:0,class:"filter__more","aria-hidden":n.opened?null:!0,ref:"more"},[createBaseVNode("div",_hoisted_6$r,[renderSlot(e.$slots,"hidden-filters",{},void 0,!0),createVNode(i,{variant:"outlined",type:"submit"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.apply-btn","Apply")),1)]),_:1}),o.clearOption?(openBlock(),createBlock(i,{key:0,variant:"elavated",type:"button",onClick:n.clear},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.clear-btn","Clear")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)],512)],8,_hoisted_5$s)),[[vShow,n.opened]]):createCommentVNode("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],34),renderSlot(e.$slots,"default",{},void 0,!0)])}const Filter=_export_sfc(_sfc_main$1o,[["render",_sfc_render$1d],["__scopeId","data-v-e1692dd5"]]),__vite_glob_0_12=Object.freeze(Object.defineProperty({__proto__:null,default:Filter},Symbol.toStringTag,{value:"Module"})),makeFormatterProps=propsFactory({ignoreFormatters:{type:[Array],default:[]}});function useFormatter(e,a,o=null){const{d:r,te:l,t:n}=useI18n({useScope:"global"}),i=computed(()=>((o==null?void 0:o.value)??[]).filter(c=>Object.prototype.hasOwnProperty.call(c,"formatter")&&c.formatter.length>0&&(!Object.prototype.hasOwnProperty.call(e,"ignoreFormatters")||!e.ignoreFormatters.includes(c.formatter[0])))),s=reactive({dateFormatter:function(c,m="long"){return{configuration:s.makeText(r(new Date(c),m))}},chipFormatter:function(c,m={}){return{configuration:s.makeChip(c,m)}},badgeFormatter:function(c,m={}){return{configuration:s.makeBadge(c,m)}},editFormatter:function(c){return{configuration:{elements:`${c}`,tag:"span",attributes:{onClick:"editItem"}}}},pascalFormatter:function(c){return lodash.startCase(lodash.camelCase(c)).replace(/ /g,"")},priceFormatter:(c,m="",p=null)=>({configuration:{elements:[{tag:"p",attributes:{class:"featured"},elements:`${m}${c}`},{tag:"p",attributes:{class:"value"},elements:`${p?`+${p}`:""}`}]}}),statusFormatter:(c,m=null,p=null)=>{const u=c===!0||c==="true"||c===1||c==="1";return{configuration:{tag:"v-icon",attributes:{size:"small",style:{color:u?"green":"red"},icon:u?"mdi-check":"mdi-close"}}}},shortenFormatter:function(c,m=10){return{configuration:{elements:window.__shorten(c,m)}}},makeChip:function(c,m={}){return{tag:"v-chip",attributes:{...m},elements:c}},makeBadge:function(c,m={}){return{tag:"v-badge",attributes:{...m,content:c}}},makeText:function(c){return{elements:c}},castMatch:function(c,m){let p=/\$([\w\d\.\*\_]+)/,u,y=c;if(window.__isString(c)&&(u=c.match(p))){let g=u[1],f=window.__preg_quote(u[0]),v=g.split("."),C=[];for(const b in v){let w=v[b];w==="*"?m.id:C.push(w)}g=C.join(".");let h=window.__data_get(m,g);if(h!=null){let b;if(Array.isArray(h)&&h.length>0)b=h.join(",");else if(window.__isString(h)){b=h;let w=lodash.snakeCase(b);l(`modules.${w}`)&&(b=n(`modules.${w}`))}else window.__isNumber(h)&&(b=h.toString());if(b!==void 0){let w="\\w\\s"+window.__preg_quote(".,;?|:_"),B=new RegExp(String.raw`^([${w}]+)?(${f})([${w}]+)?$`);c.match(B)?y=c.replace(B,"$1"+b+"$3"):__log("Not matched sentence",B,c,c.match(B))}}}return y}});function d(c,m){let p=lodash.cloneDeep(c);const y=`${p.shift()}Formatter`;try{return m==null||m===""?{configuration:{elements:""}}:s[y](m,...lodash(p))}catch(g){console.error(`${g}: ${y}`)}}return{formatterColumns:i,handleFormatter:d,...toRefs(s)}}const makeInputProps=propsFactory({modelValue:{type:[Array,Object,String,Number,Boolean],default:null},obj:{type:Object,default(){return{}}},label:{type:String,default:""},hideIfEmpty:{type:Boolean,default:!1},default:{type:[Array,Object,String,Number,Boolean],default:null},protectInitialValue:{type:Boolean,default:!1},isEditing:{type:Boolean,default:!1},editable:{type:[Boolean,String],default:!0},creatable:{type:[Boolean,String],default:!0}}),makeInputEmits=["update:modelValue","change","update:preview","focus","blur","click:append","click:appendInner","click:prepend","click:prependInner","click:clear","click:hour","click:minute","click:second","update:input"],makeInputInjects=["manualValidation"];function useInput(e,a){const{modelValue:o,obj:r}=toRefs(e),l=ref(null),n=reactive({VInput:l,id:Math.ceil(Math.random()*1e6)+"-input",boundProps:omit(r.value.schema??{},["offset","order","col"]),input:computed({get:()=>{var d,c;let s=o.value??(e==null?void 0:e.default)??((c=(d=e==null?void 0:e.obj)==null?void 0:d.schema)==null?void 0:c.default)??[];return Array.isArray(s)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&!e.multiple&&s.length===0&&(s=Array.isArray(o.value)?null:o.value),!Array.isArray(s)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&e.multiple&&(s=[]),a.initializeInput?a.initializeInput(s):s},set:(s,d)=>{a.updateModelValue?a.updateModelValue(s,d):i.emitModelValue(s,d)}})}),i=reactive({async validate(){this.$refs.VInput&&await this.$refs.VInput.validate()},updateModelValue:function(s,d){a.emit("update:modelValue",s,d)},emitModelValue:function(s,d){a.emit("update:modelValue",s,d)},makeReference(s){return`${s}-${n.id}`},getReference(s){return i.makeReference(s)}});return{...toRefs(i),...toRefs(n)}}function useInputHandlers(){const e=reactive({passwordHandler:function(o,r){o.schema[`${r}Icon`]=o.schema.type==="password"?"$visibility":"$non-visibility",o.schema.type=o.schema.type==="password"?"text":"password"}});function a(o,r){const l=lodash.camelCase(r);if(Object.prototype.hasOwnProperty.call(o.schema,"slotHandlers")&&Object.prototype.hasOwnProperty.call(o.schema.slotHandlers,l)){const i=`${lodash.camelCase(o.schema.slotHandlers[l])}Handler`;return e[i](o,l)}}return{invokeInputClickHandler:a,...toRefs(e)}}const inBrowser=typeof window<"u";inBrowser&&function(){const e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}();const Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;let _key=genKey();function genKey(){return Time.now().toFixed(3)}function pushState(e,a){const o=window.history;try{a&&o.replaceState({key:_key},"",e)}catch{window.location.replace(e)}}function replaceState(e){pushState(e,!0)}function getURLWithoutQuery(e=null){return e?getOrigin(e)+getPath(e):location.protocol+"//"+location.host+location.pathname}function getParameters(e=window.location){let a={};return new URL(e).searchParams.forEach(function(o,r){a[r]!==void 0?(Array.isArray(a[r])||(a[r]=[a[r]]),a[r].push(o)):a[r]=o}),a}function serializeParameters(e,a){const o=Object.keys(e).map(r=>{const l=e[r];return e.constructor===Array?r=`${a}[]`:e.constructor===Object&&(r=a?`${a}[${r}]`:r),typeof l=="object"?serializeParameters(l,r):`${r}=${encodeURIComponent(l)}`});return[].concat.apply([],o).join("&")}function addParametersToUrl(e,a,o){let r="";return __isString(a)?r=a:r=serializeParameters(a,o),r.length>0&&(r="?"+r),e+r}function removeQueryKeys(e=[]){const a=new URL(window.location.href);e.forEach(r=>a.searchParams.delete(r));const o=a.pathname+(a.searchParams.toString()?"?"+a.searchParams.toString():"");window.history.pushState({},"",o)}function getOrigin(e){return new URL(e).origin}function getPath(e){return new URL(e).pathname}function removeParameterFromUrl(e,a){const o=new URL(e);return o.searchParams.delete(a),o.toString()}function removeParameterFromHistory(e){window.history.replaceState({},"",removeParameterFromUrl(window.location.href,e))}function globalError$1(e=null,a={message:"",value:null}){var n,i,s,d,c;let o="";e&&typeof e=="string"&&(o=`MODULARITY - [${e}]: `);const r=o+a.message,l=((i=(n=a==null?void 0:a.value)==null?void 0:n.response)==null?void 0:i.status)??((s=a==null?void 0:a.response)==null?void 0:s.status)??null;console.error(r),a!=null&&a.value&&((d=a.value)!=null&&d.response)&&((c=a.value.response)!=null&&c.data)&&console.error(a.value.response.data),l===401||l===419?window.vm.config.globalProperties.$dialog({message:'Your session has expired, please <a class="v-btn v-btn--slim text-primary v-btn--density-default v-btn--size-default mr-12" href="'+document.location+'" target="_blank">login in another tab</a>'}):window.vm.config.globalProperties.$notif({message:a.message,variant:"error"})}const component$2="DATATABLE",api$2={get(e,a,o,r=null){axios$1.get(e,{params:a}).then(function(l){if(l.data.replaceUrl){const n=l.request.responseURL;replaceState(n)}o&&typeof o=="function"&&o(l.data,l)},function(l){r&&typeof r=="function"&&r({message:"Get request error.",value:l})})},delete(e,a,o,r){e=e.replace(":id",a),axios$1.delete(e).then(function(l){o&&typeof o=="function"&&o(l)},function(l){const n={message:"Delete request error.",value:l};globalError$1(component$2,n),r&&typeof r=="function"&&r(n)})},forceDelete(e,a,o,r){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(l){o&&typeof o=="function"&&o(l)},function(l){const n={message:"Force Delete request error.",value:l};globalError$1(component$2,n),r&&typeof r=="function"&&r(n)})},restore(e,a,o){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Restore request error.",value:r})})},duplicate(e,a,o){e=e.replace(":id",a),axios$1.put(e).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Duplicate request error.",value:r})})},reorder(e=null,a,o){const r=e??window.MODULARITY.ENDPOINTS.reorder;axios$1.post(r,{ids:a}).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component$2,{message:"Reorder request error.",value:l})})},bulkPublish(e,a,o){axios$1.post(e,{ids:a.ids,publish:a.toPublish}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk publish request error.",value:r})})},bulkFeature(e,a,o){axios$1.post(e,{ids:a.ids,feature:a.toFeature}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk feature request error.",value:r})})},bulkDelete(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk delete request error.",value:r})})},bulkRestore(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk restore request error.",value:r})})},bulkDestroy(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk destroy request error.",value:r})})}},MOVE_BLOCK_TO_EDITOR="moveBlockToEditor",DUPLICATE_BLOCK="duplicateBlock",GET_BUCKETS="getBucketsData",SAVE_BUCKETS="saveBuckets",GET_DATATABLE="getDatatableDatas",SET_DATATABLE_NESTED="setDatatableNestedDatas",SET_DATATABLE="setDatatableDatas",TOGGLE_PUBLISH="togglePublishedData",DELETE_ITEM="deleteData",DUPLICATE_ITEM="duplicateData",RESTORE_ITEM="restoreData",DESTROY_ITEM="destroyData",TOGGLE_FEATURE="toggleFeaturedData",BULK_PUBLISH="bulkPublishData",BULK_FEATURE="bulkFeatureData",BULK_EXPORT="bulkExportData",BULK_DELETE="bulkDeleteData",BULK_RESTORE="bulkRestoreData",BULK_DESTROY="bulkDestroyData",REPLACE_FORM="replaceFormData",SAVE_FORM="saveFormData",UPDATE_FORM_IN_LISTING="updateFormInListing",CREATE_FORM_IN_MODAL="createFormInModal",SHOW_ALERT="showAlert",GET_ALL_PREVIEWS="getAllPreviews",GET_PREVIEW="getPreview",GET_REVISION="getRevisionContent",GET_CURRENT="getCurrentContent",HANDLE_ERRORS="handleErrors",ACTIONS={HANDLE_ERRORS,GET_BUCKETS,SAVE_BUCKETS,GET_DATATABLE,SET_DATATABLE_NESTED,SET_DATATABLE,TOGGLE_PUBLISH,DELETE_ITEM,DUPLICATE_ITEM,RESTORE_ITEM,DESTROY_ITEM,TOGGLE_FEATURE,BULK_PUBLISH,BULK_FEATURE,BULK_EXPORT,BULK_DELETE,BULK_RESTORE,BULK_DESTROY,REPLACE_FORM,SAVE_FORM,UPDATE_FORM_IN_LISTING,CREATE_FORM_IN_MODAL,GET_ALL_PREVIEWS,GET_PREVIEW,GET_REVISION,GET_CURRENT,MOVE_BLOCK_TO_EDITOR,DUPLICATE_BLOCK,SHOW_ALERT};var X,Z,J,ee;const state$9={test:((X=window.MODULARITY)==null?void 0:X.STORE.config.test)??!1,profileMenu:((Z=window.MODULARITY)==null?void 0:Z.STORE.config.profileMenu)??[],sidebarStatus:!0,sidebarOptions:((J=window.MODULARITY)==null?void 0:J.STORE.config.sidebarOptions)??!1,secondarySidebarOptions:((ee=window.MODULARITY)==null?void 0:ee.STORE.config.secondarySidebarOptions)??!1,isRequestInProgress:!1,ongoingAxiosRequests:0},getters$8={sidebarStatus:e=>e.sidebarStatus,sidebarOptions:e=>e.sidebarOptions,secondarySidebarOptions:e=>e.secondarySidebarOptions,profileMenu:e=>e.profileMenu,isRequestInProgress:e=>e.isRequestInProgress,ongoingAxiosRequests:e=>e.ongoingAxiosRequests},mutations$8={[CONFIG.SIDEBAR_TOGGLE](e){e.sidebarStatus=!e.sidebarStatus},[CONFIG.SET_SIDEBAR](e,a=!0){e.sidebarStatus=a},[CONFIG.SET_REQUEST_IN_PROGRESS](e,a=!0){e.isRequestInProgress=a},[CONFIG.INCREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests+=1,e.isRequestInProgress=e.ongoingAxiosRequests>0},[CONFIG.DECREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests-=1,e.isRequestInProgress=e.ongoingAxiosRequests>0}},config={state:state$9,getters:getters$8,mutations:mutations$8},filters={slugify:function(e){let a="";newValue.value&&typeof newValue.value=="string"?a=newValue.value:typeof newValue=="string"&&(a=newValue);const o={",":"-","/":"-",":":"-",";":"-",_:"-","":"(c)","":"-",:"ss",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"th",:"y",:"a",:"a",:"a",:"c",:"c",:"d",:"e",:"e",:"e",:"g",:"g",:"i",:"i",:"k",:"l",:"l",:"n",:"n",:"n",:"o",:"oe",:"r",:"r",:"s",:"s",:"s",:"t",:"u",:"u",:"u",:"z",:"z",:"z",:"u",:"g",:"n",:"s",:"t",:"i",:"a",:"e",:"h",:"i",:"y",:"a",:"b",:"g",:"d",:"e",:"z",:"h",:"8",:"i",:"k",:"l",:"m",:"n",:"3",:"o",:"p",:"r",:"s",:"s",:"t",:"y",:"f",:"x",:"ps",:"w",:"i",:"y",:"o",:"y",:"w",:"a",:"b",:"v",:"g",:"d",:"e",:"zh",:"z",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"yo",:"ye",:"i",:"yi",:"g",:"h",:"m",:"p",:"w",:"x",:"a",:"g",:"q",:"n",:"o",:"u"},r=new RegExp(Object.keys(o).join("|"),"g");return a.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(r,l=>o[l]).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||e===0?e.toString().toUpperCase():""},lowercase:function(e){return e||e===0?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},isViewOnlyInput=e=>Object.prototype.hasOwnProperty.call(e,"viewOnlyComponent"),isFormEventInput=e=>Object.prototype.hasOwnProperty.call(e,"isEvent")&&e.isEvent&&(["select","autocomplete","combobox","switch"].includes(e.type)||__isset(e.viewOnlyComponent)||e.noSubmit),getTranslationInputsCount=e=>getTranslationInputs(e).length,getTranslationInputs=(e,a=[])=>_.reduce(e,(o,r)=>(__isset(r)&&__isset(r.schema)&&["wrap","group","repeater","input-repeater"].includes(r.type)?o=getTranslationInputs(r.schema,o):Object.prototype.hasOwnProperty.call(r,"translated")&&r.translated&&o.push(r),o),a),flattenGroupSchema=(e,a)=>reduce(e,(o,r,l)=>{const n=l.split(".").filter(i=>i!==a).join(".");return o[n]=r,o},{}),processInputs=e=>reduce(e,(a,o,r)=>(o.type==="wrap"&&o.schema?Object.assign(a,processInputs(o.schema)):o.type==="groupz"&&o.schema||(o.slotable,a[r]=o),a),{});var ae,oe,ne,re,le,ie,se,de,ce,ue,me,pe;const state$8={showModal:!1,accessible:!1,crops:((oe=(ae=window.MODULARITY)==null?void 0:ae.STORE)==null?void 0:oe.medias.crops)||{},showFileName:((re=(ne=window.MODULARITY)==null?void 0:ne.STORE)==null?void 0:re.medias.showFileName)||!1,types:((ie=(le=window.MODULARITY)==null?void 0:le.STORE)==null?void 0:ie.medias.types)||[],type:"image",connector:null,isInserted:!1,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:((de=(se=window.MODULARITY)==null?void 0:se.STORE)==null?void 0:de.medias.selected)||{},config:((ue=(ce=window.MODULARITY)==null?void 0:ce.STORE)==null?void 0:ue.medias.config)||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1,showModal:((pe=(me=window.MODULARITY)==null?void 0:me.STORE)==null?void 0:pe.medias.openModal)||!1},getters$7={mediaLibraryAccessible:e=>e.accessible,mediasByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(l=>l.startsWith(`blocks[${a}]`)),r={};return o.forEach(l=>r[l]=e.selected[l]),r}},mutations$7={[MEDIA_LIBRARY.SET_ACCESSIBLE](e,a){e.accessible=a},[MEDIA_LIBRARY.SET_SHOW_MODAL](e,a){e.showModal=a},[MEDIA_LIBRARY.OPEN_MODAL](e){e.showModal=!0},[MEDIA_LIBRARY.CLOSE_MODAL](e){e.showModal=!1},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a.type&&(o.total=a.total),o))},[MEDIA_LIBRARY.UPDATE_REPLACE_INDEX](e,a){e.indexToReplace=a},[MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total+1),o))},[MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total-1),o))},[MEDIA_LIBRARY.UPDATE_MEDIAS](e,{mediaRole:a,index:o,media:r}){e.selected[a][o]=r},[MEDIA_LIBRARY.SAVE_MEDIAS](e,a){if(e.connector){const o=e.connector,r=e.selected[o]&&e.selected[o].length;if(r&&e.indexToReplace>-1)e.selected[o].splice(e.indexToReplace,1,cloneDeep(a[0]));else if(r)a.forEach(function(l){e.selected[o].push(cloneDeep(l))});else{const l={};l[o]=a,e.selected=Object.assign({},e.selected,l)}e.indexToReplace=-1}},[MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA](e,a){},[MEDIA_LIBRARY.DESTROY_MEDIAS](e,a){e.selected[a]&&delete e.selected[a],e.connector=null},[MEDIA_LIBRARY.REORDER_MEDIAS](e,a){const o={};o[a.name]=a.medias,e.selected=Object.assign({},e.selected,o)},[MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA](e,a){const o=e.loading.filter(r=>r.id===a.id);o.length?(o[0].error=!1,o[0].progress=a.progress):e.loading.unshift({id:a.id,name:a.name,progress:a.progress,replacementId:a.replacementId,isReplacement:a.isReplacement})},[MEDIA_LIBRARY.PROGRESS_UPLOAD](e,a){e.uploadProgress=a},[MEDIA_LIBRARY.DONE_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,r){o.id===a.id&&e.loading.splice(r,1)})},[MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,r){o.id===a.id&&(e.loading[r].progress=0,e.loading[r].error=!0,e.loading[r].errorMessage=a.errorMessage)})},[MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR](e,a){a&&a!==""?e.connector=a:e.connector=null},[MEDIA_LIBRARY.UPDATE_IS_INSERTED](e,a){e.isInserted=a},[MEDIA_LIBRARY.UPDATE_MEDIA_MODE](e,a){e.strict=a},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE](e,a){a&&a!==""&&(e.type=a)},[MEDIA_LIBRARY.RESET_MEDIA_TYPE](e){e.type=e.types[0].value},[MEDIA_LIBRARY.UPDATE_MEDIA_MAX](e,a){e.max=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX](e,a){e.filesizeMax=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN](e,a){e.widthMin=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN](e,a){e.heightMin=Math.max(0,a)},[MEDIA_LIBRARY.SET_MEDIA_METADATAS](e,a){const o=a.media.context,r=e.selected[o],l=a.value;function n(i){return l.locale?(i.metadatas.custom[l.id]||(i.metadatas.custom[l.id]={}),i.metadatas.custom[l.id][l.locale]=l.value):i.metadatas.custom[l.id]=l.value,i}if(a.media.hasOwnProperty("index")){const i=n(cloneDeep(r[a.media.index]));r[a.media.index]=i}},[MEDIA_LIBRARY.DESTROY_MEDIA_CONNECTOR](e){e.connector=null},[MEDIA_LIBRARY.SET_MEDIA_CROP](e,a){const o=a.key,r=a.index,l=e.selected[o][r];function n(s){s.crops||(s.crops={});for(const d in a.values){const c={};c.name=a.values[d].name||d,c.x=a.values[d].x,c.y=a.values[d].y,c.width=a.values[d].width,c.height=a.values[d].height,s.crops[d]=c}return s}const i=n(cloneDeep(l));e.selected[o][r]=i},[MEDIA_LIBRARY.ADD_MEDIAS](e,{medias:a}){e.selected=Object.assign({},e.selected,a)}},actions$4={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:r}){const l={...a.mediasByBlockId(o.id)},n=Object.keys(l),i={};n.forEach(s=>i[s.replace(o.id,r)]=[...l[s]]),e(MEDIA_LIBRARY.ADD_MEDIAS,{medias:i})}},mediaLibrary={state:state$8,getters:getters$7,mutations:mutations$7,actions:actions$4},state$7={success:null,info:null,warning:null,error:null,show:!1,type:"info",message:null,location:"bottom",dialog:!1,dialogMessage:null},getters$6={notifByVariant:e=>a=>e[a],notified:e=>Object.keys(e).filter(a=>e[a]!==null).length===0},mutations$6={[ALERT$1.SET_ALERT_SHOW](e,a){e.show=a},[ALERT$1.SET_ALERT](e,a){e.type=a.variant??e.type,e.location=a.location??e.location,e.message=a.message??null,e.show=!0},[ALERT$1.CLEAR_ALERT](e,a){e.show=!1,e.type="info",e.message=null},[ALERT$1.SET_DIALOG_SHOW](e,a){e.dialog=a},[ALERT$1.SET_DIALOG](e,a){e.dialogMessage=a.message??null,e.dialog=!0},[ALERT$1.CLEAR_DIALOG](e){e.dialog=!1,e.dialogMessage=null}},actions$3={[ACTIONS.SHOW_ALERT]({commit:e},a){e(ALERT$1.SET_ALERT,a)}},alert$1={state:state$7,getters:getters$6,mutations:mutations$6,actions:actions$3};var fe,he,ge,ye,_e,ve,be,Ce,ke,Ve,we,Se,Be,Ae,Ee,Ne,Ie,Te,Me,De,$e,Fe,Pe,xe,Oe,Re,Le;const state$6={locale:((fe=window.MODULARITY)==null?void 0:fe.LOCALE)??"en",timezone:((he=window.MODULARITY)==null?void 0:he.TIMEZONE)??"Europe/London",authorization:((ge=window.MODULARITY)==null?void 0:ge.AUTHORIZATION)??{},isGuest:((ve=(_e=(ye=window.MODULARITY)==null?void 0:ye.STORE)==null?void 0:_e.user)==null?void 0:ve.isGuest)??!1,profileDialog:!1,profile:((ke=(Ce=(be=window.MODULARITY)==null?void 0:be.STORE)==null?void 0:Ce.user)==null?void 0:ke.profile)??{},profileRoute:((Se=(we=(Ve=window.MODULARITY)==null?void 0:Ve.STORE)==null?void 0:we.user)==null?void 0:Se.profileRoute)??"",profileShortcutModel:((Ee=(Ae=(Be=window.MODULARITY)==null?void 0:Be.STORE)==null?void 0:Ae.user)==null?void 0:Ee.profileShortcutModel)??{},profileShortcutSchema:((Te=(Ie=(Ne=window.MODULARITY)==null?void 0:Ne.STORE)==null?void 0:Ie.user)==null?void 0:Te.profileShortcutSchema)??{},showLoginModal:!1,loginShortcutModel:(($e=(De=(Me=window.MODULARITY)==null?void 0:Me.STORE)==null?void 0:De.user)==null?void 0:$e.loginShortcutModel)??{},loginShortcutSchema:((xe=(Pe=(Fe=window.MODULARITY)==null?void 0:Fe.STORE)==null?void 0:Pe.user)==null?void 0:xe.loginShortcutSchema)??{},loginRoute:((Le=(Re=(Oe=window.MODULARITY)==null?void 0:Oe.STORE)==null?void 0:Re.user)==null?void 0:Le.loginRoute)??""},getters$5={userProfile:e=>e.profile,isGuest:e=>e.isGuest,isSuperAdmin:e=>e.authorization.isSuperAdmin??!1,isClient:e=>e.authorization.isClient??!1,userLocale:e=>e.locale,hasRestorable:e=>e.authorization.hasRestorable??!1,hasBulkable:e=>e.authorization.hasBulkable??!1,userPermissions:e=>e.authorization.permissions??[],userRoles:e=>e.authorization.roles??[]},actions$2={},mutations$5={[USER.SET_PROFILE_DATA](e,a){e.profile=a},[USER.OPEN_LOGIN_MODAL](e){e.showLoginModal=!0},[USER.CLOSE_LOGIN_MODAL](e){e.showLoginModal=!1}},user={state:state$6,getters:getters$5,actions:actions$2,mutations:mutations$5};var Ue,je,ze,He;const state$5={all:((Ue=window.MODULARITY)==null?void 0:Ue.STORE.languages.all)||[],initialAll:((je=window.MODULARITY)==null?void 0:je.STORE.languages.all)||[],active:((ze=window.MODULARITY)==null?void 0:ze.STORE.languages.active)||((He=window.MODULARITY)==null?void 0:He.STORE.languages.all[0])||{}},getters$4={publishedLanguages:e=>e.all.filter(a=>a.published)},mutations$4={[LANGUAGE.SWITCH_LANG](e,{oldValue:a}){function o(n){return n.value===a.value}const r=e.all.findIndex(o),l=r<e.all.length-1?r+1:0;e.active=e.all[l]},[LANGUAGE.UPDATE_LANG](e,a){function o(l){return l.value===a}const r=e.all.findIndex(o);e.active=e.all[r]},[LANGUAGE.PUBLISH_LANG](e,a){e.all.forEach(function(o){o.published=!!a.includes(o.value)})},[LANGUAGE.PUBLISH_SINGLE_LANG](e,a){function o(l){return l.value===a}const r=e.all.findIndex(o);e.all[r].published=!e.all[r].published},[LANGUAGE.REPLACE_LANGUAGES](e,a){e.all=a},[LANGUAGE.RESET_LANGUAGES](e){e.all=e.initialAll}},language={state:state$5,getters:getters$4,mutations:mutations$4};var Ge;const state$4={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:((Ge=window.MODULARITY)==null?void 0:Ge.STORE.browser.selected)||{}},getters$3={selectedItemsByIds:e=>{const a=[];for(const o in e.selected)a[o]=e.selected[o].map(r=>`${r.endpointType}_${r.id}`);return a},browsersByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(l=>l.startsWith(`blocks[${a}]`)),r={};return o.forEach(l=>r[l]=e.selected[l]),r}},mutations$3={[BROWSER.SAVE_ITEMS](e,a){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=a;else{const o={};o[e.connector]=a,e.selected=Object.assign({},e.selected,o)}},[BROWSER.DESTROY_ITEMS](e,a){e.selected[a.name]},[BROWSER.DESTROY_ITEM](e,a){e.selected[a.name]&&(e.selected[a.name].splice(a.index,1),e.connector=null)},[BROWSER.REORDER_ITEMS](e,a){const o={};o[a.name]=a.items,e.selected=Object.assign({},e.selected,o)},[BROWSER.UPDATE_BROWSER_MAX](e,a){e.max=Math.max(0,a)},[BROWSER.UPDATE_BROWSER_CONNECTOR](e,a){a&&a!==""&&(e.connector=a)},[BROWSER.UPDATE_BROWSER_TITLE](e,a){a&&a!==""&&(e.title=a)},[BROWSER.UPDATE_BROWSER_NOTE](e,a){e.note=a},[BROWSER.DESTROY_BROWSER_CONNECTOR](e){e.connector=null},[BROWSER.UPDATE_BROWSER_ENDPOINT](e,a){a&&a!==""&&(e.endpoint=a.value,e.endpointName=a.label||"")},[BROWSER.DESTROY_BROWSER_ENDPOINT](e){e.endpoint="",e.endpointName=""},[BROWSER.UPDATE_BROWSER_ENDPOINTS](e,a){!a&&!a.length>0||(e.endpoints=a,e.endpoint=a[0].value,e.endpointName=a[0].label)},[BROWSER.DESTROY_BROWSER_ENDPOINTS](e){e.endpoints=[]},[BROWSER.ADD_BROWSERS](e,{browsers:a}){e.selected=Object.assign({},e.selected,a)}},actions$1={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:r}){const l={...a.browsersByBlockId(o.id)},n=Object.keys(l),i={};n.forEach(s=>i[s.replace(o.id,r)]=[...l[s]]),e(BROWSER.ADD_BROWSERS,{browsers:i})}},browser={state:state$4,getters:getters$3,mutations:mutations$3,actions:actions$1};var Ke,qe,Ye,We,Qe,Xe,Ze;const state$3={isHot:((Ke=window.MODULARITY)==null?void 0:Ke.STORE.ambient.isHot)??!1,appEnv:((qe=window.MODULARITY)==null?void 0:qe.STORE.ambient.appEnv)??"",appName:((Ye=window.MODULARITY)==null?void 0:Ye.STORE.ambient.appName)??"",appEmail:((We=window.MODULARITY)==null?void 0:We.STORE.ambient.appEmail)??"",appDebug:((Qe=window.MODULARITY)==null?void 0:Qe.STORE.ambient.appDebug)??!1,test:((Xe=window.MODULARITY)==null?void 0:Xe.STORE.ambient.test)??!1,systemPackageVersions:((Ze=window.MODULARITY)==null?void 0:Ze.STORE.ambient.systemPackageVersions)??{}},getters$2={isHot:e=>e.isHot,appName:e=>e.appName,appEmail:e=>e.appEmail,appEnv:e=>e.appEnv,appDebug:e=>e.appDebug,versions:e=>e.systemPackageVersions},mutations$2={},ambient={state:state$3,getters:getters$2,mutations:mutations$2},state$2={},getters$1={[CACHE.GET_CACHE]:e=>a=>e[a]??null,[CACHE.GET_LAST_CACHE]:e=>a=>e[a]?Array.isArray(e[a])?lodash.last(e[a]):e[a]:null},mutations$1={[CACHE.PUT_CACHE](e,a){const{key:o,value:r}=a;e[o]=r},[CACHE.PUSH_CACHE](e,a){const{key:o,value:r}=a;e[o]?Array.isArray(e[o])||(e[o]=[e[o]]):e[o]=[],e[o]=[...e[o],r]},[CACHE.FORGET_CACHE](e,a){delete e[a]}},cache={state:state$2,getters:getters$1,mutations:mutations$1},store=createStore({modules:{ambient,user,alert:alert$1,config,language,mediaLibrary,browser,cache}}),getTranslationLanguages=e=>map(window.MODULARITY.STORE.languages.all,"value"),formatHelpers={handlers:(e,a,o=null)=>{const r=e.name,l=e.name,n=e.key??e.name,i=e;let s=__data_get(a,isNaN(parseInt(o))?l:`${o}.${l}`);return!s&&__isset(i.parentName)&&(s=__data_get(a,isNaN(o)?`${i.parentName}.${l}`:`${o}.${i.parentName}.${l}`)),{handlerName:r,handlerModelName:l,handlerSchemaName:n,handlerSchema:i,handlerValue:s}},getInputToFormat:(e,a,o,r,l)=>{let n=e.shift(),i=[],s=n.split("."),d=parseInt(s[0]);if(isNaN(d))d=l;else if(!Array.isArray(a))return!1;return Array.isArray(a)&&(isNaN(d)||(d-=1,s.shift()),i.push(`[${d}]`)),n=s.join("."),i.push(n),i.join(".")},getNewValue:(e,a,o)=>{let r;if(a){let l=[],n=__wildcard_change(e,a);l=__data_get(o,n,null),Array.isArray(l)&&l.length>0?r=l.shift():l!=null&&(r=l)}return r}};async function formatClearModel(e,a,o,r,l=null,n=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;formatHelpers.handlers(r,a,l);let s=lodash.get(o,i),d=(s==null?void 0:s.default)??[];lodash.set(a,i,d),lodash.get(n,i)&&lodash.unset(n,i)}async function formatFilter(e,a,o,r,l=null,n=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;let{handlerName:s,handlerModelName:d,handlerSchema:c,handlerValue:m}=formatHelpers.handlers(r,a,l);const p=e.shift(),u=e.shift();let y,g,f;m[u]?(f=m[u],y=r.filterEndpoint[f],g=m[p]):(f=d,y=r.filterEndpoint,g=m);let v=`${i}.${p}`,C=lodash.get(o,`${i}.eagers`)??[],h=lodash.get(o,`${i}.lazy`)??[];lodash.get(o,v)||lodash.set(o,v,[]);let b=lodash.cloneDeep(lodash.get(o,v));for(const w in b)g.includes(b[w].id)||b.splice(w,1);for(const w in g){const B=g[w];if(!b.find(S=>S.id==B))try{let S={};h.length>0&&(S.lazy=h),C.length>0&&(S.eagers=C);let E=await axios.get(y.replace(`{${lodash.snakeCase(f)}}`,B),{params:S});b.push(E.data)}catch(S){console.error("An error occurred:",S),S.response?globalError("",{message:"formatFilter error",value:S}):S.request?console.error("No response received:",S.request):console.error("Error message:",S.message)}}lodash.set(o,v,lodash.orderBy(b,["id"],["asc"]))}async function formatLock(e,a,o,r,l=null,n=[]){var p;const i=r.name,s=o[i],d=a[i];Array.isArray(d)&&d.length>0||Array.isArray(d);const c=e.shift(),m=e.shift();if(["select","combobox"].includes(s.type)&&d){const u=(p=s.items.find(y=>y[s.itemValue]===d))==null?void 0:p[m];o[c].disabled=!!u,o[c].focused=!!u,o[c].placeHolder=u}else if(["text"].includes(s.type)&&_field){const u=_field,[y,g]=c.split(".");o[y].schema[g].disabled=!!u,o[y].schema[g].focused=!!u,o[y].schema[g].placeHolder=u}}async function formatPermalink(e,a,o,r,l=null,n=[]){const i=r.name;o[i];const s=a[i],d=Array.isArray(s)&&s.length>0||!Array.isArray(s)&&!!s,c=e.shift();d&&(a[c]=filters.slugify(s))}async function formatPermalinkPrefix(e,a,o,r,l=null,n=[]){const i=r.name,s=o[i],d=a[i],c=Array.isArray(d)&&d.length>0||!Array.isArray(d)&&!!d,m=e.shift(),p=e.shift();if(["select","combobox"].includes(s.type)&&d&&c){const u=filters.slugify(s.items.find(y=>y[s.itemValue]===d)[s.itemTitle]);o[m??"slug"].prefix=o[m??"slug"].prefixFormat.replace(":"+p,u)}else if(["text"].includes(s.type)&&c){const u=filters.slugify(value),[y,g]=m.split(".");o[y].schema[g??"slug"].prefix=o[y].schema[g??"slug"].prefixFormat.replace(":"+p,u)}}const searchInData=(e,a)=>{const o=[];if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a!="string"||a.startsWith("regex:"))return o;const r=a.split("."),l=(n,i,s=[],d=0,c=null)=>{if(Array.isArray(n))n.forEach((m,p)=>{l(m,i,[...s,p],d,c)});else if(typeof n=="object"&&n!==null){const m=n._title||null;for(const[p,u]of Object.entries(n)){const y=[...s,p];p==="_value"?l(u,i,y,d,m):p===r[d]&&(d===r.length-1?o.push(formatResult(i,y,u,m,c)):l(u,i,y,d+1,m))}}};return e.forEach((n,i)=>l(n,i)),o},formatResult=(e,a,o,r,l)=>{const n=[e,...a].join("."),i={dataIndex:e,notation:n,value:o};return r!==null&&(i.title=r),l!==null&&(i.parentTitle=l),i},findMatchingNotations=(e,a)=>{if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a=="string"&&a.startsWith("regex:")){const o=a.replace("regex:","").replace("content.",""),r=new RegExp(o),l=[];for(const n of e)n.content&&Object.entries(n.content).forEach(([i,s])=>{r.test(i)&&l.push({key:i,value:s})});return l}return searchInData(e,a)},formattedPreview=(e,a)=>{const o=[],r=(c,m={})=>{const{titleKey:p="_title",valueKey:u="_value",pickKeys:y=[],mapArrayItems:g=!0,nested:f=!1,includeTitle:v=!0,col:C=6}=m;if(!c)return null;if(Array.isArray(c[u]))return g?[v?c[p]:null,c[u].map(h=>h[p]),C].filter(Boolean):[c[p],c[u],C];if(y.length>0){const h=y.map(b=>c[b]).filter(Boolean);return h.length?[c[p],...h,C]:null}return[v?c[p]:null,c[u],C].filter(Boolean)},l=(c,m)=>{typeof m=="object"&&m.pattern&&(m=m.pattern);const p=d(m);if(!p.length)return"";if(p[0].startsWith("regex:")){const u=[];for(const y of c)for(const[g,f]of Object.entries(y))typeof f=="object"&&f!==null&&Object.keys(f).some(C=>s(p[0],C))&&u.push(g);return u.length?u:""}for(const u of c)for(const[y,g]of Object.entries(u))if(typeof g=="object"&&g!==null&&p[0]in g)return y;return""},n=(c,m=6)=>(c.col||(c.col=m),c),i=(c=0)=>`section_${c+1}`,s=(c,m)=>{if(typeof c!="string")return!1;if(c.startsWith("regex:")){const p=c.replace("regex:","");return new RegExp(p).test(m)}return c===m},d=c=>(typeof c=="object"&&c.pattern&&(c=c.pattern),typeof c!="string"?[]:c.startsWith("regex:")?["content",c.includes("content.")?c.replace("regex:content.","regex:"):c]:c.split("."));for(const c of a)if(typeof c=="string"||typeof c=="object"&&c.pattern){const m=typeof c=="string"?c:c.pattern,p={col:6,...typeof c=="object"?c:{}},u=m.endsWith(".*"),y=findMatchingNotations(e,u?m.slice(0,-2):m);if(y.length>0)if(u&&y[0].value._value)if(!p.includeOverview)y[0].value._value.forEach((g,f)=>{const v=Object.entries(g).filter(([C])=>!C.startsWith("_")).map(([C,h])=>Array.isArray(h._value)&&p.mapArrayItems===!1?[h._title,h._value]:r(h,p)).filter(Boolean);if(v.length>0)if(p.outputFormat==="object"){const C={};v.forEach(([h,b])=>{C[h]=b}),o.push(n({title:g._title,items:p.nested?{[i(f)]:C}:C},p.col))}else o.push(n({title:g._title,items:p.nested?[v]:v},p.col))});else{const g=r(y[0].value,{...p,mapArrayItems:!0});g&&o.push(n({title:g[0],items:[g[1]]},p.col))}else{const g=y.map(f=>r(f.value,p)).filter(Boolean);g.length>0&&o.push(n({items:g},p.col))}}else if(Array.isArray(c)){const m=[],p={col:6};for(const u of c)findMatchingNotations(e,u).forEach(g=>{if(g.value._value){const f=r(g.value,p);m.push([f[0],f[1]])}});m.length>0&&o.push(n({items:m},p.col))}else if(typeof c=="object"&&c.items){const m={title:c.title,items:c.outputFormat==="object"?{}:[],col:c.col||6};c.col&&(m.col=c.col),c.items.forEach((p,u)=>{if(typeof p=="object")if(Array.isArray(p)){const y={};for(const g of p){const f=l(e,g),v=f?`${f}.${g}`:g;findMatchingNotations(e,v).forEach(h=>{if(h.value){const b=h.value._title,w=h.value._value;w&&(y[b]=w)}})}Object.keys(y).length>0&&(c.nested?m.items[i(u)]=y:Object.assign(m.items,y))}else{const y=p.pattern;if(y.startsWith("regex:")){const g=findMatchingNotations(e,y),f={};g.forEach(v=>{v.value&&v.value._value&&(p.simpleValue?f[v.key]=v.value._value:f[v.value._title]=v.value._value)}),Object.keys(f).length>0&&(c.nested?m.items[i(u)]=f:Object.assign(m.items,f))}else{const g=l(e,y);if(Array.isArray(g))g.forEach((f,v)=>{findMatchingNotations(e,y).forEach(h=>{var w;const b=(w=e.find(B=>B.content))==null?void 0:w[h.key];if(b&&b._value)if(p.simpleValue)c.nested?m.items[i(v)]=b._value:m.items[`content_${v+1}`]=b._value;else{const B={[b._title]:b._value};c.nested?m.items[i(v)]=B:Object.assign(m.items,B)}})});else{const f=p.pattern,v=l(e,f),C=v?`${v}.${f}`:f;findMatchingNotations(e,C).forEach(b=>{if(b.value&&b.value._value)if(p.simpleValue)c.nested?m.items[i(u)]=b.value._value:m.items=b.value._value;else{const w={[b.value._title]:b.value._value};c.nested?m.items[i(u)]=w:Object.assign(m.items,w)}})}}}else{const y=l(e,p),g=y?`${y}.${p}`:p,f=findMatchingNotations(e,g);c.outputFormat==="object"?f.forEach(v=>{if(v.value._value){const C=v.value._value;c.nested?m.items[i(u)]={[v.value._title]:C}:m.items[v.value._title]=C}}):f.forEach(v=>{v.value._value&&m.items.push([v.value._value])})}}),(Array.isArray(m.items)&&m.items.length>0||!Array.isArray(m.items)&&Object.keys(m.items).length>0)&&o.push(n(m,c.col))}return o},formattedSummary=(e,a)=>{let o={};for(const r in a){const l=a[r],n=findMatchingNotations(e,r);o[r]=Object.assign({},l,{values:n})}return o},test=()=>{};function replacePatternInObject(e,a,o){return!e||typeof e!="object"?e:Object.keys(e).reduce((r,l)=>{const n=e[l];return typeof n=="string"?r[l]=n.replace(a,o):Array.isArray(n)?r[l]=n.map(i=>replacePatternInObject(i,a,o)):typeof n=="object"?r[l]=replacePatternInObject(n,a,o):r[l]=n,r},{})}function replaceVariablesFromHaystack(e,a){if(!e||typeof e!="object")return e;const o=/\${([^}]+)}\$/g;return Object.keys(e).reduce((r,l)=>{const n=e[l];return typeof n=="string"?r[l]=n.replace(o,(i,s)=>{let d=s.split("??"),c=d[0].split("|"),m=d[1]??"";for(const p of c)if(a.hasOwnProperty(p))return a[p];return m}):Array.isArray(n)?r[l]=n.map(i=>replaceVariablesFromHaystack(i,a)):typeof n=="object"?r[l]=replaceVariablesFromHaystack(n,a):r[l]=n,r},{})}const NotationUtil={findMatchingNotations,formattedPreview,formattedSummary,test,replacePatternInObject,replaceVariablesFromHaystack};async function formatPrependSchema(e,a,o,r,l=null,n=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;const s=e.shift(),d=e.shift(),c=e.shift()=="true";let{handlerName:m,handlerSchema:p,handlerValue:u}=formatHelpers.handlers(r,a,l);if(__isObject(u)&&(u=Object.values(u)),!(Array.isArray(u)&&u.length<1)&&u){s&&(u=__data_get(u,s),s.match(/^\*(.*)/)&&(u=lodash.reduce(u,function(v,C){return v=[...C??[],...v],[...new Set(v)]},[])));let y=lodash.get(o,i);if(!y||!y.schema)return;let g=lodash.cloneDeep(y.schema),f=__data_get(p,d);if(f&&__isset(f.schema)){let v=[],C;if(Array.isArray(u)){if(!f.items)return;v=lodash.reduce(u,(I,$)=>(I[$]=lodash.find(f.items,T=>T.id==$),I),{}),u=lodash.reduce(u,(I,$)=>{var T;return I[$]={label_prefix:(T=__data_get(f.items,`*id=${$}.${f.itemTitle}`))==null?void 0:T.shift()},I},{})}let h=lodash.cloneDeep({}),b=lodash.get(o,i+"._prependedKeys",[]),w=[];for(const I in f.schema){__preg_quote(I);for(const $ in u){let T=lodash.cloneDeep(f.schema[I]);C=v[$];let A=/(\${[\w]+}\$)/,V=I.replace(A,$);w.push(V),g[V]||(h[V]={...T,name:V},h[V]=replaceVariablesFromHaystack(h[V],C))}}let B=b.filter(I=>!w.includes(I));B.forEach(I=>{delete g[I]});let S=w.filter(I=>!B.includes(I));c&&(S=S.sort((I,$)=>{const T=parseInt(I.match(/^(\d+)/)[1]),A=parseInt($.match(/^(\d+)/)[1]);return T-A}),h=S.reduce((I,$)=>(I[$]=h[$],I),{}));let E=Object.assign(h,g);JSON.stringify(y.schema)!==JSON.stringify(E)&&(lodash.set(o,i+".schema",E),lodash.set(o,i+"._prependedKeys",S))}}}async function formatPreview(e,a,o,r,l=null,n=[]){if(Array.isArray(a)){let{handlerName:i,handlerSchema:s,handlerValue:d}=formatHelpers.handlers(r,a,l),c=e.shift().split(","),m=(e.shift()??"").split(","),p={},u=[],y=c.length>1,g=!1;for(const f in c){let v=c[f],C=m[f]??null,h=v.split(".");h=lodash.map(h,function(B,S){let E,I=B;return(E=B.match(/\$(\w+)/))&&__isset(d[E[1]])&&(I=d[E[1]]),I}),v=h.join(".");let b,w=C.match(/\*\.?(\w+)/);if(C=="*key")b=Object.keys(d).map(function(B){return parseInt(B)});else if(w){let S=C.match(/\*\.?(\w+)/)[1];b=lodash.map(d,function(E,I){return E[S]})}else b=C?d[C]:d;if(Array.isArray(b))if(f==0){g=b.length<1;let B=v.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,"$1*");p[B]=lodash.map(b,E=>v.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,`$1*id=${E}`));let S=__data_get(s,__wildcard_change(v,b));lodash.each(S,(E,I)=>g?lodash.unset(u,y?`[${I}][${f}]`:`[${I}]`):lodash.set(u,y?`[${I}][${f}]`:`[${I}]`,E))}else{let B;Object.keys(p).forEach(S=>{let E=__preg_quote(S),I=new RegExp(String.raw`^(${E}).([\w\$\.\*]+)`),$=v.match(I);if($)return B=p[S],v=$[2],!1}),lodash.each(b,(S,E)=>{if(S){if(Array.isArray(S)&&lodash.isEmpty(S))return;let I=B[E];Array.isArray(S)&&S.join(",");let $=[I,__wildcard_change(v,S)].join("."),T=__data_get(s,$).shift();if(!T){console.warn("formatPreview error",{getter:$,inputToFormat:v,data:T,handlerSchema:s});return}let A=T[0]??"";f>1&&Array.isArray(T)&&(A=`(${T.join(", ")})`),lodash.set(u,y?`[${E}][${f}]`:`[${f}]`,A)}})}}n[l]||(n[l]={}),g?lodash.unset(n[l],i):n[l][i]=u;return}}async function formatRemoveValue(e,a,o,r,l=null,n=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;let{handlerName:s,handlerSchema:d,handlerValue:c}=formatHelpers.handlers(r,a,l);__isObject(c)&&(c=Object.values(c));let m=lodash.get(a,i);if(Array.isArray(m)&&m.length>0)m=m.filter(p=>p.id!==c),lodash.set(a,i,m);else if(window.__isObject(m)&&Object.keys(m).length>0){let p=Object.keys(m);p=p.map(y=>window.__isString(y)&&parseInt(y)>0?parseInt(y):y);let u=p.filter(y=>!c.includes(y));u.forEach(y=>{delete m[y]}),u.length>0&&lodash.set(a,i,m)}}async function formatResetItems(e,a,o,r,l=null,n=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;formatHelpers.handlers(r,a,l),lodash.get(o,i);let s=[];lodash.set(o,i+".items",s)}async function formatSet(e,a,o,r,l=null,n=[]){const i=formatHelpers.getInputToFormat(e,a,o,l),s=getTranslationLanguages();if(!i)return;const d=i,c=e.shift(),m=`${i}.${c}`,p=e.shift();let{handlerName:u,handlerSchema:y,handlerValue:g}=formatHelpers.handlers(r,a,l);if(!(Array.isArray(g)&&g.length<1)&&g){let f=formatHelpers.getNewValue(p,g,y);if(f!=null)if(c.match(/^(modelValue|model)$/g)){let C=lodash.get(o,d);if(C==null||C==null)return;let h=C.name,b=__extractForeignKey(h),w=C.schema??null,B=C.type=="input-repeater",S=Array.isArray(f);if(__isset(C.translated)&&C.translated){let E=notation.split("."),I=E.pop(),$=E.join(".")+".translations";notation.split(".").pop();let T=__data_get(y,$).shift();T&&(f=lodash.reduce(s,(A,V)=>{let k=lodash.find(T,N=>N.locale==V)??T[0];return k[I],A[V]=k[I]??null,A},{}))}if(S&&f.length>0){let E=f.map(I=>{if(w)return lodash.reduce(w,($,T,A)=>(B&&A==b?$[b]=I.id??null:$[A]=I[A]??null,$),{})});lodash.set(a,d,E)}else if(!S)try{lodash.set(a,h,f)}catch(E){console.error(E)}}else{let C=lodash.get(o,m),h=store.getters[CACHE.GET_LAST_CACHE](m)??C;lodash.isString(f)&&f=="#"?f=h:f!==C&&store.commit(CACHE.PUSH_CACHE,{key:m,value:C}),lodash.set(o,m,f),c.match(/schema/)&&lodash.set(o,`${i}.default`,getModel(f))}}}async function formatToggleInput(e,a,o,r,l=null,n=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;const s=e.shift()??"items.*.toggleValue";let d=e.shift()??"-1";d=parseInt(d)??-1;let{handlerName:c,handlerSchema:m,handlerValue:p}=formatHelpers.handlers(r,a,l);if(p==null)return;let u=formatHelpers.getNewValue(s,p,m);if(u!=null&&lodash.isBoolean(u)){let y=u;const g=__data_get(o,i);let f=`formatToggleInput:${i}`;handleToggleInput(y,i,g,o,f,d)}}const toggleActivateOperations={class:"d-none",rawRules:"#"},toggleDeactivateOperations={class:"d-none",rawRules:""},handleToggleInput=(e,a,o,r,l,n=-1,i=0)=>{i+=1,e?lodash.each(toggleActivateOperations,(s,d)=>{let c=a+"."+d,m=a+"._cached-"+d,p=l?`${l}:${d}`:`${d}`,u=lodash.get(r,c),y=store.getters[CACHE.GET_LAST_CACHE](p)||lodash.get(r,m)||null,g=u,f=!1;if(s==="#")y&&(g=y,f=!0);else switch(d){case"class":let v=u?u.split(" "):[];v=v.filter(C=>C!==s),g=v.join(" "),f=!0;break;case"rawRules":g=s,f=!0;break}f&&(y==null&&store.commit(CACHE.PUSH_CACHE,{key:p,value:u}),lodash.set(r,c,g))}):lodash.each(toggleDeactivateOperations,(s,d)=>{let c=a+"."+d,m=a+"._cached-"+d,p=l?`${l}:${d}`:`${d}`,u=lodash.get(r,c),y=store.getters[CACHE.GET_LAST_CACHE](p)||lodash.get(r,m)||null,g=u,f=!1;if(s==="#")y&&(g=y,f=!0);else switch(d){case"class":let v=u?u.split(" "):[];v.push(s),v=lodash.uniq(v),g=v.join(" "),f=!0;break;case"rawRules":g=s,f=!0;break}f&&(y==null&&store.commit(CACHE.PUSH_CACHE,{key:p,value:u}),lodash.set(r,c,g))}),!(n>-1&&n<=i)&&o.schema&&lodash.isObject(o.schema)&&lodash.each(o.schema,(s,d)=>{handleToggleInput(e,`${a}.schema.${d}`,s,r,l,n,i)})},FormEventFormatters={formatClearModel,formatFilter,formatLock,formatPermalink,formatPermalinkPrefix,formatPrependSchema,formatPreview,formatRemoveValue,formatResetItems,formatSet,formatToggleInput},setSchemaInputField=(e,a)=>{var o;for(const r in e){const l=e[r],n=l.cascadeKey??"items";if(l.type==="select"&&Object.prototype.hasOwnProperty.call(l,"cascade")){if(r.includes("repeater"))break;__isset(e[l.cascade])&&(e[l.cascade][n]=((o=lodash.find(l[n],[l.itemValue,a[l.name]]))==null?void 0:o[n])??[])}}},onInputEventFormData=(e,a,o,r,l)=>{var n;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const i=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,s=e.schema.cascadeKey??"items",d=e.schema.itemValue??"id";a[i][s]=((n=lodash.find(e.schema[s],[d,l[e.key]]))==null?void 0:n.schema)??[];const c=lodash.findIndex(r,["key",i]);o[i]=a[i][s].length>0?a[i][s][0].value:[],r[c].value=l[i],onInputEventFormData(r[c],a,o,r,l)}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")},handleInputEvents=(e=null,a,o,r=null)=>{const l=a,n=a[r],i=o[r],s=Array.isArray(n)&&n.length>0||!Array.isArray(n)&&!!n;return e&&e.split("|").forEach(c=>{var y;const[m,p,u]=c.split(":");switch(m){case"formatPermalink":s&&(l[p]=filters.slugify(n));break;case"formatPermalinkPrefix":if(["select","combobox"].includes(i.type)&&n&&s){const g=filters.slugify(i.items.find(f=>f[i.itemValue]===n)[i.itemTitle]);o[p??"slug"].prefix=o[p??"slug"].prefixFormat.replace(":"+u,g)}else if(["text"].includes(i.type)&&s){const g=filters.slugify(n),[f,v]=p.split(".");o[f].schema[v??"slug"].prefix=o[f].schema[v??"slug"].prefixFormat.replace(":"+u,g)}break;case"formatLock":if(["select","combobox"].includes(i.type)&&n){const g=(y=i.items.find(f=>f[i.itemValue]===n))==null?void 0:y[u];o[p].disabled=!!g,o[p].focused=!!g,o[p].placeHolder=g}else if(["text"].includes(i.type)&&n){const g=n,[f,v]=p.split(".");o[f].schema[v].disabled=!!g,o[f].schema[v].focused=!!g,o[f].schema[v].placeHolder=g}break}}),{_fields:l,moduleSchema:o}},handleEvents=(e,a,o,r=!1)=>{const l=o.name;a[l];const n=e[l];Array.isArray(n)&&n.length>0||Array.isArray(n),o.event&&lodash.uniq(o.event.split("|")).forEach(s=>{let d=s.split(":"),c=d.shift(),m=!0;c=="formatSetx"&&!r&&(m=!1),m&&typeof FormEventFormatters[c]<"u"&&(FormEventFormatters==null||FormEventFormatters[c](d,e,a,o))})},handleMultiFormEvents=(e,a,o,r,l=[])=>{const n=o.name;a[r][n]??lodash.get(a,`[${r}].${n}`);const i=e[r][n]??lodash.get(e,`[${r}].${n}`);Array.isArray(i)&&i.length>0||Array.isArray(i),o.event&&lodash.uniq(o.event.split("|")).forEach(d=>{let c=d.split(":"),m=c.shift();typeof FormEventFormatters[m]<"u"&&(FormEventFormatters==null||FormEventFormatters[m](c,e,a,o,r,l))})},formEvents={setSchemaInputField,onInputEventFormData,handleInputEvents,handleEvents,handleMultiFormEvents},getNestedValue=(e,a)=>a.split(".").reduce((o,r)=>o&&o[r]!==void 0?o[r]:void 0,e),checkItemConditions=(e,a)=>!a||!window.__isObject(a)||!e||!Array.isArray(e)||e.length===0?!0:e.every(o=>{const[r,l,n]=o;let i=getNestedValue(a,r);switch([">","<",">=","<=","=","=="].includes(l)&&Array.isArray(i)&&(i=i.length),l){case"=":case"==":return i===n;case"!=":return i!==n;case">":return i>n;case"<":return i<n;case">=":return i>=n;case"<=":return i<=n;case"in":return Array.isArray(n)&&n.includes(i);case"not in":return Array.isArray(n)&&!n.includes(i);case"exists":return i!=null;case"not exists":return i==null;default:return console.warn(`Unknown operator: ${l}`),!1}}),isArrayable="input-treeview|treeview|input-checklist|input-repeater|input-file|input-image",getSchema=(e,a=null,o=!1)=>{let r=lodash.omitBy(e,(l,n)=>!checkItemConditions(l.conditions,a)||Object.prototype.hasOwnProperty.call(l,"slotable")||isFormEventInput(l)||isViewOnlyInput(l));return r=lodash.reduce(r,(l,n,i)=>{var m,p;n.col.class=n._originalClass||((m=n.col)==null?void 0:m.class)||[],n._originalClass=n.col.class||[],n.disabled=__isset(n._originalDisabled)?n._originalDisabled:__isset(n.disabled)?n.disabled:!1,n._originalDisabled=n.disabled;let s=((p=n.col)==null?void 0:p.class)||[];__isString(s)&&(s=s.split(" "));let d=n.creatable??!0,c=n.editable??!0;return(d===!1||d==="hidden")&&!o&&(d==="hidden"?(s=lodash.union(s,["d-none"]),n.col.class=s.join(" ")):n.disabled=!0),(c===!1||c==="hidden")&&o&&(c==="hidden"?(s=lodash.union(s,["d-none"]),n.col.class=s.join(" ")):n.disabled=!0),__isset(n)&&__isset(n.schema)&&["wrap","group","repeater","input-repeater"].includes(n.type)&&(n.schema=getSchema(n.schema,n.type==="wrap"?a:a[i],o)),n.creatable=d,n.editable=c,n.isEditing=o,l[i]=n,l},{}),lodash.map(r,(l,n)=>(__isset(l.type)&&l.type=="group"&&(l.schema=flattenGroupSchema(l.schema,l.name)),handleInputEvents(l.event,a,e,n),l)),r},getModel=(e,a=null,o=null)=>{const r=getTranslationLanguages(),l=__isset(a);e=processInputs(e);const n=Object.keys(e).reduce((i,s)=>{const d=e[s],c=d.name,m=Object.prototype.hasOwnProperty.call(d,"translated")&&d.translated;let p="";isArrayable.includes(d.type)&&(p=[]),p=Object.prototype.hasOwnProperty.call(d,"default")?d.default:p,d.type=="group"&&(p=getModel(d.schema,a??d.default)),m&&(p=lodash.reduce(r,function(g,f,v){return g[f]=p,g},{}));let u=c.replace(/->/g,"."),y=l?__isset(i[c])?i[c]:__data_get(a,u,p)??p:p;if(l){if(d.type=="group"&&__isset(a[c])){let g=Object.keys(lodash.omit(__dot(p),["id"]));JSON.stringify(g)!==JSON.stringify(Object.keys(lodash.omit(__dot(a[c]),["id"])))&&(y={...p,...lodash.pick(a[c],g)})}Object.prototype.hasOwnProperty.call(d,"connectedRelationship")&&lodash.isString(d.connectedRelationship)&&a&&__isset(a[d.connectedRelationship])&&(y=a[d.connectedRelationship])}if(__isObject(d))if(m)l?Object.prototype.hasOwnProperty.call(a,"translations")&&a.translations[c]?i[c]=r.reduce(function(f,v){return f[v]=lodash.find(a.translations,{locale:v})?lodash.find(a.translations,{locale:v})[c]:a.translations[c][v],f},{}):i[c]=y:i[c]=getTranslationLanguages().reduce(function(g,f){return g[f]=__isset(y[f])?y[f]:"",g},{});else if(!y&&l&&Object.prototype.hasOwnProperty.call(a,"translations")&&Object.prototype.hasOwnProperty.call(a.translations,c)){const g=Object.keys(a.translations[c])[0];i[c]=a.translations[c][g]}else i[c]=y;return d.type=="preview"&&__isset(d.previewKey)&&a&&__isset(a[d.previewKey])&&(i[c]=a[d.previewKey]),handleEvents(i,e,d),i},{});return l&&(n.id=a.id),n},getFormEventSchema=(e,a=null,o=!1)=>lodash.filter(e,r=>o&&__isset(r.editable)&&(r.editable===!1||r.editable==="hidden")||!o&&__isset(r.creatable)&&(r.creatable===!1||r.creatable==="hidden")?!1:isFormEventInput(r)&&(r.conditions?checkItemConditions(r.conditions,a):!0)),getSubmitFormData=(e,a=null,o=null)=>{e=processInputs(e);const r="input-treeview|treeview|input-checklist",l=Object.keys(e).reduce((n,i)=>{if(window.__isset(e[i].noSubmit)&&e[i].noSubmit)return n;const s=e[i],d=s.name,c=__data_get(a,d,void 0);if(!__isset(c)){let m=s.default??"";return r.includes(s.type)&&(m=[]),n[d]=m,n}return __isObject(s)&&(Object.prototype.hasOwnProperty.call(s,"translated")&&s.translated?n[d]=window.MODULARITY.STORE.languages.all.reduce(function(m,p){return __isObject(c)?m[p.value]=__isset(c[p.value])?c[p.value]:"":m[p.value]=c,m},{}):n[d]=a[d]),n},{});return a.id&&(l.id=a.id),l};function useTableItem(e,a){const o=useStore(),r=computed(()=>o.state.form.editedItem??{}),l=computed(()=>d(r.value)),n=computed(()=>c(r.value)),i=m=>{o.commit(FORM.SET_EDITED_ITEM,m)},s=()=>{nextTick(()=>{o.commit(FORM.RESET_EDITED_ITEM)})},d=m=>!!(__isset(m.deleted_at)&&m.deleted_at),c=m=>!!(__isset(m.deleted_at)&&m.deleted_at);return{editedItem:r,isSoftDeletableItem:l,itemIsDeleted:n,setEditedItem:i,resetEditedItem:s,isSoftDeletable:d,isDeleted:c}}const makeTableNamesProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},subtitle:{type:String,default:""},formTitle:{type:String},formCreateTitleTranslationKey:{type:String,default:"fields.new-item"},formEditTitleTranslationKey:{type:String,default:"fields.edit-item"},formCreateTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},formEditTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},createFormTitle:{type:String},editFormTitle:{type:String},formSubtitle:{type:String},formCreateSubtitle:{type:String},formEditSubtitle:{type:String}});function useTableNames(e,a){const o=useStore(),{t:r,te:l}=useI18n({useScope:"global"}),{editedItem:n,isSoftDeletableItem:i}=useTableItem(),s=useModule(e),d=computed(()=>r(`modules.${s.snakeName.value}`,o.getters.totalElements)),c=computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:s.transNamePlural.value)),m=computed(()=>__isset(e.subtitle)?r(e.subtitle):""),p=computed(()=>{let g=a.editedIndex.value!==-1,f=e.formCreateTitleTranslationKey;g&&(f=e.formEditTitleTranslationKey),__isset(e.createFormTitle)&&(f=e.createFormTitle),__isset(e.editFormTitle)&&(f=e.editFormTitle);let v=g?e.formEditTitleInterpolations:e.formCreateTitleInterpolations;for(let C in v){let h=v[C];v[C]=__isset(s[v[C]])?s[v[C]].value:__isset(n.value[v[C]])?n.value[v[C]]:h}return l(f)?r(f,v):f}),u=computed(()=>{let g=e.formSubtitle,f=a.editedIndex.value!==-1;return __isset(e.formCreateSubtitle)&&!f&&(g=e.formCreateSubtitle),__isset(e.formEditSubtitle)&&f&&(g=e.editFormSubtitle),l(g)?r(g):g}),y=computed(()=>{const g=i.value?"fields.confirm-soft-deletion":"fields.confirm-deletion",f=n.value[e.titleKey]?lodash.isObject(n.value[e.titleKey])?n.value[e.titleKey][o.state.user.locale]:n.value[e.titleKey]:"";return r(g,{route:s.transNameSingular.value,name:f.toLocaleUpperCase()})});return{snakeName:s.snakeName,permissionName:s.permissionName,transNameSingular:s.transNameSingular,transNamePlural:s.transNamePlural,transNameCountable:d,tableTitle:c,tableSubtitle:m,deleteQuestion:y,formTitle:p,formSubtitle:u}}const makeTableFiltersProps=propsFactory({hideSearchField:{type:Boolean,default:!1},navActive:{type:String,default:"all"},filterBtnOptions:{type:Object,default:{}},searchInitialValue:{type:String,default:""},filterList:{type:Array,default:[]},filterListAdvanced:{type:Object,default:{}},hideFilters:{type:Boolean,default:!1},hideAdvancedFilters:{type:Boolean,default:!1}});function useTableFilters(e){var C;const{lastParameters:a,queryParameters:o}=useTableState(),r=ref(a.search??e.searchInitialValue??""),l=ref(r.value),n=ref(e.filterList??[]);let i=((C=a.filter)==null?void 0:C.status)??e.navActive??"all";n.value.length>0&&!lodash.find(n.value,{slug:i})&&(i="all");const s=ref(i),d=computed(()=>lodash.find(n.value,{slug:s.value})),c=computed(()=>{var h,b;return{text:`${(h=d.value)==null?void 0:h.name} (${(b=d.value)==null?void 0:b.number})`}}),m=h=>{let b=h??l.value;return r.value!==b?(r.value=b,!0):!1},p=h=>s.value!==h?(s.value=h,!0):!1,u=h=>{n.value=h},y=h=>{lodash.isEqual(g.value,h)||(g.value=h)},g=ref(e.filterListAdvanced??{}),f=computed(()=>Object.keys(g.value).reduce((h,b,w)=>(g.value[b].reduce((B,S)=>{var E;return((E=S.selecteds)==null?void 0:E.length)>0&&(B[b]||(B[b]={}),B[b][S.slug]=S.selecteds),B},h),h),{}));return{activeFilterSlug:s,activeFilter:d,mainFilters:n,search:r,searchModel:l,activeAdvancedFilters:f,advancedFilters:g,filterBtnTitle:c,setSearchValue:m,setFilterSlug:p,setMainFilters:u,setAdvancedFilters:y,clearAdvancedFilter:()=>{g.value=Object.fromEntries(Object.entries(g.value).map(([h,b])=>(g.value[h]=[],b.map(w=>w.selecteds=[]),[h,b])))}}}const makeTableHeadersProps=propsFactory({columns:{type:Array},hideHeaders:{type:Boolean,default:!1},headerOptions:{type:[Array,Object],default:{}},cellOptions:{type:[Array,Object],default:{}},customRow:{type:Object,default:{}}});function useTableHeaders(e){const a=()=>`table_unvisible_columns_${window.location.pathname}`,o=()=>{const g=localStorage.getItem(a());return g?g.split(","):[]},r=g=>{const f=s.value.findIndex(C=>C.key===g);s.value[f].visible=!1;const v=s.value.filter((C,h)=>!C.visible).map(C=>C.key);localStorage.setItem(a(),v.join(",")),i.value=lodash.cloneDeep(s.value.filter(C=>C.visible))};let l=o();const n=e.columns??[],i=ref(n.filter(g=>!l.includes(g.key))),s=ref(lodash.cloneDeep(n.map(g=>({...g,visible:!l.includes(g.key)})))),d=ref(!!lodash.find(i.value,g=>window.__isset(g.searchable)&&g.searchable===!0)),c=computed(()=>i.value.filter(g=>!!g.visible&&g.visible===!0)),m=computed(()=>Object.keys(e.customRow||{}).length>0),p=computed(()=>e.hideHeaders||m.value),u=computed(()=>n.filter(g=>g.hasOwnProperty("columnEditable")&&g.columnEditable===!0||g.hasOwnProperty("removable")&&g.removable===!0||g.hasOwnProperty("searchable")&&g.searchable===!0));return{headers:i,headersModel:s,hasSearchableHeader:d,selectedHeaders:c,hideHeaders:p,hasCustomRow:m,formattableHeaders:u,removeHeader:r,applyHeaders:()=>{i.value=lodash.cloneDeep(s.value);const g=s.value.filter((f,v)=>!f.visible);localStorage.setItem(a(),g.map(f=>f.key).join(","))}}}const makeTableFormsProps=propsFactory({inputFields:{type:Array},formWidth:{type:[String,Number],default:"60%"},createOnModal:{type:Boolean,default:!0},editOnModal:{type:Boolean,default:!0},embeddedForm:{type:Boolean,default:!1},addBtnOptions:{type:Object,default:()=>({})},noForm:{type:Boolean,default:!1},formActions:{type:[Array,Object],default:[]}});function useTableForms(e,a){const o=useStore(),{t:r}=useI18n({useScope:"global"}),{setEditedItem:l,resetEditedItem:n,editedItem:i}=useTableItem(),s=ref(null),d=ref(!1),c=ref(!1),m=ref({}),p=ref({}),u=ref({}),y=reactive({UeForm:s,formActive:d,customFormModalActive:c,customFormAttributes:m,customFormSchema:p,customFormModel:u}),g=computed(()=>e.inputFields??o.state.datatable.inputs??[]),f=computed(()=>state.id+"-form"),v=computed(()=>({width:e.formWidth})),C=computed(()=>o.state.form.loading??!1),h=computed(()=>o.state.form.errors??{}),b=computed(()=>{var $;return(($=s.value)==null?void 0:$.validModel)??null}),w=computed(()=>e.createOnModal||e.editOnModal?e.addBtnOptions.text?r(e.addBtnOptions.text):r("fields.add-item",{item:a.transNameSingular.value}):e.addBtnOptions.text??r("ADD NEW")),B=()=>{d.value=!0},S=()=>{d.value=!1},E=()=>{n(),B()},I=$=>{Object.prototype.hasOwnProperty.call($,"variant")&&$.variant.toLowerCase()==="success"&&(S(),a.loadItems())};return watch$1(()=>d.value,$=>{$||n()}),{...toRefs(y),inputs:g,formRef:f,formStyles:v,formLoading:C,formErrors:h,formIsValid:b,addBtnTitle:w,openForm:B,closeForm:S,createForm:E,handleFormSubmission:I}}const component$1="FORM",api$1={get(e,a,o){axios$1.get(e).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component$1,{message:"Get request error.",value:r}),o&&typeof o=="function"&&o(r)})},post(e,a,o,r){axios$1.post(e,a,{validateStatus:l=>l>=200&&l<300||l===422}).then(function(l){o&&typeof o=="function"&&o(l)}).catch(function(l){globalError$1(component$1,{message:"Post request error.",value:l}),r&&typeof r=="function"&&r(l.response)})},put(e,a,o,r){axios$1.put(e,a,{validateStatus:l=>l>=200&&l<300||l===422}).then(function(l){o&&typeof o=="function"&&o(l)}).catch(function(l){globalError$1(component$1,{message:"Put request error.",value:l}),r&&typeof r=="function"&&r(l.response)})}};function useGenerate(e,a){const{smAndUp:o}=useDisplay(),r=computed(()=>{if(!e)return{};const n=l(e),i=n.icon||n.prependIcon||n.appendIcon||e.icon||e.prependIcon||e.appendIcon;return{...n,icon:i&&!o.value?i:n.icon,density:i&&!o.value?"compact":e.density??"comfortable",rounded:o.value?n.rounded:!0}}),l=n=>{var s;let i={};return n.href&&(i.onClick=d=>{d.preventDefault(),window.open(n.href,n.target??"_blank")}),{...n.componentProps??{},...i,icon:n.forceLabel?null:n.icon,text:n.forceLabel?n.label:null,color:n.color,variant:n.variant,density:n.density??"comfortable",size:n.size??"default",disabled:n.disabled??((s=n.componentProps)==null?void 0:s.disabled)??!1,rounded:n.forceLabel?null:!0}};return{generateButtonProps:l,generatedButtonProps:r}}const makeTableItemActionsProps=propsFactory({isRowEditing:Boolean,rowActionsIcon:{type:String,default:"mdi-cog-outline"},rowActions:{type:Array,default:[]},rowActionsType:{type:String,default:"inline"},iteratorType:{type:String,default:""}});function useTableItemActions(e,{tableForms:a,loadItems:o}){const r=useTableItem(),l=useTableNames(e),{can:n}=useAuthorization(),i=useDynamicModal(),{castObjectAttributes:s}=useCastAttributes();useGenerate();const{smAndDown:d,mdAndDown:c,lgAndDown:m}=useDisplay(),p=reactive({event:null,payload:null,reset:()=>{p.event=null,p.payload=null}}),u=(V,k)=>{let N=!0;switch(k.name){case"edit":case"delete":case"switch":case"duplicate":case"activate":N=!r.isDeleted(V)&&n(k.name,l.permissionName.value);break;case"forceDelete":case"restore":N=r.isDeleted(V)&&n(k.name,l.permissionName.value);break}return N&&checkItemConditions(k.conditions,V)},y=async(V,k)=>{let N=k.url??k.endpoint??k.href;if(N)if(N.includes(":id")&&(N=N.replace(":id",V.id)),k.hasDialog){const D=async(O,U)=>{window.open(N,k.target??"_self")};p.event="dialog",p.payload={description:k.dialogQuestion??null,callback:D}}else window.open(N,k.target??"_self");k.modalService&&lodash.isObject(k.modalService)&&i.open(k.modalService.component??null,lodash.omit(s(k.modalService,V),["component"]))},g=V=>{if(e.editOnModal||e.embeddedForm)r.setEditedItem(V),a.openForm();else if(lodash.isObject(e.endpoints)&&e.endpoints.edit){const k=e.endpoints.edit.replace(":id",V.id);window.open(k)}else console.error("No edit endpoint found in endpoints of props")},f=V=>{r.setEditedItem(V);const k="restore",N=async(D,O)=>await api$2[k](e.endpoints[k],V.id,D,O);p.event="process",p.payload={type:k,item:V,callback:N}},v=V=>{r.setEditedItem(lodash.omit(V,"id")),a.openForm()},C=(V,k,N)=>{const D="publish",O=async(U,x)=>{let F={id:V.id,[N]:k};return await api$1.put(e.endpoints.update.replace(":id",V.id),F,U,x)};V[N]=k,p.event="process",p.payload={type:D,item:V,callback:O}},h=V=>{r.setEditedItem(V);let k=r.editedItem.value.id,N=r.isSoftDeletableItem.value?"forceDelete":"delete";const D=async(O,U)=>N==="forceDelete"?await api$2.forceDelete(e.endpoints.forceDelete,k,O,U):await api$2.delete(e.endpoints.destroy,k,O,U);p.event="dialog",p.payload={type:N,id:k,callback:D}},b=V=>{const k=V.name,N=async(D,O,U)=>{let x=lodash.camelCase(k);if(api$2[x])return await api$2[x](e.endpoints[x],D,O,U)};p.event="dialog",p.payload={type:k,callback:N}},w=(V,k)=>{if(a.customFormSchema.value=lodash.cloneDeep(V.form.attributes.schema),a.customFormAttributes.value=lodash.cloneDeep(V.form.attributes),V.form.hasOwnProperty("model_formatter"))for(let N in V.form.model_formatter){let D=lodash.get(k,V.form.model_formatter[N],"");lodash.set(a.customFormModel.value,N,D)}if(V.form.hasOwnProperty("schema_formatter"))for(let N in V.form.schema_formatter){let D=lodash.get(k,V.form.schema_formatter[N],"");lodash.set(a.customFormAttributes.value.schema,N,D)}a.customFormModalActive.value=!0,p.event="showCustomForm",p.payload={action:V,item:k}},B=(V,k=null)=>{if(!k)return V;if(Array.isArray(V))V=V.map(N=>B(N,k));else if(__isObject(V)){if(Array.isArray(k))k.forEach(N=>{__data_get(V,N,null)});else if(__isObject(k)){let N={};Object.keys(k).forEach(D=>{let O=k[D],U=__data_get(V,D,null);N[O]=U}),V=lodash.cloneDeep(N)}}return V},S=(V,k=null)=>{if(!k)return V;if(Array.isArray(V))V=V.map(N=>S(N,k));else if(__isObject(V)&&Array.isArray(k)){let N=lodash.cloneDeep(V);k.forEach(D=>{__data_get(V,D,null),delete N[D]}),V=lodash.cloneDeep(N)}return V},E=(V,k)=>{let N=null;V.show===!0?N=k:N=__data_get(k,V.show,null),N&&(V.only?N=B(N,V==null?void 0:V.only):V.except&&(N=S(N,V==null?void 0:V.except)),p.event="showData",p.payload={action:V,data:N})},I=(V,k)=>{let N=null,D=null,O=null;if(lodash.isArray(V)?(N=V[0],D=V[1]):lodash.isObject(V)&&(N=V.type,D=V.payload,O=V.conditions),!!checkItemConditions(O,k)){if(N==="post")e.endpoints.store;else if(N==="put"&&e.endpoints.update&&k&&k.id)return api$1.put(e.endpoints.update.replace(":id",k.id),s(D,k),function(U){U.status===200&&U.data.variant==="success"&&o()},function(U){console.log(U)})}},$=(V,k)=>{V.preProcesses&&V.preProcesses.forEach(N=>{I(N,k)})},T=(V=null,k=null,...N)=>{const D=__isString(k)?{name:k}:k;switch($(D,V),D.name){case"edit":g(V);break;case"delete":case"forceDelete":h(V);break;case"restore":f(V);break;case"duplicate":v(V);break;case"link":window.open(D.url.replace(":id",V.id),"_blank");break;case"switch":C(V,N[0],N[1]);break;case"activate":state.activeTableItem=lodash.find(state.elements,{id:V.id});break;case"bulkDelete":case"bulkForceDelete":case"bulkRestore":case"bulkPublish":b(D);break;default:y(V,D);break}D.form&&w(D,V),D.show&&E(D,V)},A=reactive({actionShowingType:computed(()=>{const V=k=>k>7?m.value:k>4?c.value:d.value;return e.rowActionsType==="dropdown"||V(e.rowActions.length)?"dropdown":"inline"}),visibleRowActions:computed(()=>e.rowActions.reduce((V,k)=>{if(Object.prototype.hasOwnProperty.call(k,"href"))return console.error("href is not supported in row actions",k),V;let N="v-icon",D={},O=!0,U=k.icon?k.icon:"$"+k.name,x=k.iconColor??k.color??"primary";return __isset(k.is)&&k.is==="v-btn"?(N="v-btn",O=!1,D={variant:"plain",class:"pa-0 ma-2",...k.componentProps??{},color:k.color},k.icon&&(D.prependIcon=k.icon)):D={small:!0,class:"mr-2",...k.componentProps??{},color:k.color??"grey-darken-2"},k.componentProps=D,k.label=k.label??window.__headline(k.name),V.push({...k,is:N,icon:U,iconColor:x,hasTooltip:O}),V},[]))});return console.log(A.visibleRowActions),{...toRefs(A),itemAction:T,itemHasAction:u,actionEvents:p}}const makeTableModalsProps=propsFactory({openCustomModal:{type:Boolean,default:!1}});function useTableModals(e,a){const o=useStore(),{t:r}=useI18n({useScope:"global"}),l=useTableItem(),n=useTableNames(e),i=ref(!1),s=ref(e.openCustomModal),d=ref(!1),c=ref("custom"),m=ref(null),p=ref(null),u=computed(()=>w.value[c.value]),y=()=>{s.value=!0},g=()=>{s.value=!1},f=()=>{o._state.data.datatable.customModal&&__removeQueryParams(["customModal[description]","customModal[color]","customModal[icon]","customModal[hideModalCancel]"])},v=B=>{c.value=B},C=()=>{w.custom.confirmText="",w.custom.cancelText="",w.custom.img="",w.custom.icon="",w.custom.iconSize=null,w.custom.title="",w.custom.color=""},h=async B=>{const S=lodash.camelCase(B.name);api$2[S]&&api$2[S](e.endpoints[S],l.editedItem.value.id,()=>{})},b=computed(()=>{var B;return r("confirm-action",{route:n.transNameSingular.value,action:r(((B=m.value)==null?void 0:B.name)??"")})}),w=ref({dialog:{ref:ref(null),active:!1,modalAttributes:{title:null,description:null,transition:"dialog-bottom-transition",widthType:"md",fullscreen:!1,persistent:!1,confirmText:r("Confirm"),cancelText:r("Cancel"),confirmClosing:!1,rejectClosing:!0,confirmCallback:null,rejectCallback:null},_oldModalAttributes:{},toggle(B=null){this.active=B??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},setConfirmCallback(B){B&&typeof B=="function"&&(this._oldModalAttributes.confirmCallback=this.modalAttributes.confirmCallback,this.modalAttributes.confirmCallback=B)},setRejectCallback(B){B&&typeof B=="function"&&(this._oldModalAttributes.rejectCallback=this.modalAttributes.rejectCallback,this.modalAttributes.rejectCallback=B)},setQuestion(B){this._oldModalAttributes.description=this.modalAttributes.description,this.modalAttributes.description=B},setTitle(B){this._oldModalAttributes.title=this.modalAttributes.title,this.modalAttributes.title=B},set(B){let S=Object.keys(B).reduce((I,$)=>(I[$]=B[$],I),{}),E=lodash.reduce(S,(I,$,T)=>{var A;return I[T]=$,(A=this._oldModalAttributes)[T]??(A[T]=lodash.cloneDeep(this.modalAttributes[T])),I},{});Object.assign(this.modalAttributes,E)},reset(){const B=this;lodash.each(this._oldModalAttributes,(S,E)=>{B.modalAttributes[E]=S}),this._oldModalAttributes={}}},custom:{content:computed(()=>o._state.data.datatable.customModal.description),confirmText:"Done",cancelText:" ",img:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-1024.png",icon:computed(()=>o._state.data.datatable.customModal.icon),iconSize:72,title:"Payment Complete",color:"success",closeAction(){g(),C()},confirmAction(){g(),C()}},show:{ref:ref(null),active:!1,data:null,transition:"dialog-bottom-transition",widthType:"lg",fullscreen:!1,persistent:!1,title:r("Display Details"),confirmText:r("Confirm"),cancelText:r("Cancel"),_old:{},toggle(B=null){this.active=B??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},set(B){let S=Object.keys(B).reduce((I,$)=>(this[$]!==void 0&&!["active","ref","data","_old"].includes($)&&(I[$]=B[$]),I),{}),E=lodash.reduce(S,(I,$,T)=>(I[T]=$,this._old[T]=lodash.cloneDeep(this[T]),I),{});Object.assign(this,E)},loadData(B){this.data=B},resetData(){this.data=null},cancel(){this.toggle(!1),this.reset()},confirm(){},reset(){this.resetData(),lodash.each(this._old,(B,S)=>{this[S]=B}),this._old={}}}});return watch$1(()=>w.value.show.active,B=>{B||w.value.show.reset()}),onMounted(()=>{f()}),{deleteModalActive:i,customModalActive:s,actionModalActive:d,selectedAction:m,deleteModal:p,activeModal:u,modals:w,actionDialogQuestion:b,openCustomModal:y,closeCustomModal:g,cleanupModals:f,setModalType:v,bulkAction:h}}const makeTableIteratorProps=propsFactory({name:{type:String,default:""},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},item:{type:Object,default:{}},headers:{type:Object,default:{}},iteratorOptions:{type:Object,default:{}},rowActions:{type:Array,default:[]}}),tableIterableEmits=["click-action","edit-item"];function useTableIterator(e,a){const{itemHasAction:o}=useTableItemActions(e,a),r=reactive({id:Math.ceil(Math.random()*1e6)+" -iterator",headersWithKeys:computed(()=>{let i={};return Object.values(e.headers).forEach((s,d)=>{i[s.key]=s}),i})}),l=useFormatter(e,a,e.headers),n=reactive({canItemAction:function(i){return __isset(i.can)&&i.can,!0},isSoftDeletable(i){return!!(__isset(i.deleted_at)&&i.deleted_at)},itemAction:(i,s)=>a.emit("click-action",i,s),editItem:i=>{a.emit("edit-item",i)}});return{...toRefs(n),...toRefs(r),...l,itemHasAction:o}}const makeTableActionsProps=propsFactory({actionsPosition:{type:String,default:"top"},actions:{type:Array,default:()=>[]}});function useTableActions(e,a){return{}}function useTableState(e,a){const r=`table_filters_${window.location.pathname}`,l=["id","page","itemsPerPage","sortBy","groupBy","filter","replaceUrl"],n=["page","itemsPerPage","sortBy","groupBy","filter"],i=()=>{const m=new URL(window.location.href),p=Object.fromEntries(m.searchParams.entries());return Object.keys(p).forEach(u=>{const y=p[u];try{p[u]=JSON.parse(y)}catch{p[u]=y}}),p},s=()=>{const m=localStorage.getItem(r),p=i();return{...m?JSON.parse(m):{},...p}},d=m=>{const p=new URL(window.location.href),u=Object.fromEntries(p.searchParams.entries());let y=[];Object.keys(m).forEach(g=>{Object.prototype.hasOwnProperty.call(u,g)&&l.includes(g)&&y.push(g)}),y.length>0&&removeQueryKeys(y),localStorage.setItem(r,JSON.stringify(lodashExports.pick(m,n)))},c=reactive({lastParameters:s(),queryParameters:i()});return{getQueryParameters:i,getLastParameters:s,setLastParameters:d,...c}}const makeTableProps=propsFactory({elevation:{type:[Number,String]},rounded:{type:[Boolean,String]},tableElevation:{type:[Number,String]},tableRounded:{type:[Boolean,String]},fillHeight:{type:Boolean,default:!1},items:{type:Array},total:{type:Number,default:null},hideFooter:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!1},defaultTableOptions:{type:Object,default:()=>({itemsPerPage:10,page:1,search:"",sortBy:[],groupBy:[]})},itemsPerPageOptions:{type:Array,default:()=>[{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"50",value:50},{title:"100",value:100}]},tableOptions:{type:Object},tableClasses:{type:[String,Array],default:""},iteratorType:{type:String,default:""},slots:{type:Object,default(){return{}}},nestedData:{type:Object,default(){return{}}},striped:Boolean,hideBorderRow:Boolean,roundedRows:Boolean,fullWidthWrapper:{type:Boolean,default:!1},noFullScreen:{type:Boolean,default:!1},tableDensity:{type:String,default:"comfortable"},toolbarOptions:{type:Object,default:{}},bulkActions:{type:[Array,Object],default:[]},paginationOptions:{type:[Array,Object],default:{}},formAttributes:{type:Object,default:{}},formModalAttributes:{type:Object,default:{}},showSelect:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},controlsPosition:{type:String,default:"top"},disableSort:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!0},multiSort:{type:Boolean,default:!1},isModuleTable:{type:Boolean,default:!1},endpoints:{type:Object,default:{}}});function useTable(e,a){const o=useStore(),{smAndDown:r}=useDisplay(),{t:l,te:n,tm:i}=useI18n({useScope:"global"}),s=ref(-1);let d=ref(e.items??[]);const c=computed(()=>e.endpoints.index.replace(/\/$/,"").split("?")[0]===window.location.href.replace(/\/$/,"").split("?")[0]),{setLastParameters:m,lastParameters:p,getQueryParameters:u}=useTableState(),y=ref(null),g=ref(!1),f=ref(lodash.pick({...e.defaultTableOptions??{},...e.tableOptions??{},...c.value?p:{}},["itemsPerPage","page","sortBy","groupBy","search"])),v=ref(e.total??-1),C=computed(()=>Math.ceil(v.value/f.value.itemsPerPage)),h=x=>{d.value=x},b=x=>{d.value=d.value.push(x)},w=ref(!1),B=(x,F={})=>{v.value=x.resource.total,$.setMainFilters(x.mainFilters),D.options.page!==x.resource.current_page&&(w.value=!0,D.options.page=x.resource.current_page),D.enableInfiniteScroll?b(x.resource.data):h(x.resource.data),F.id&&N(F.id)},S=async(x=null)=>{D.loading=!0;const F={...f.value,...x??{},replaceUrl:!1};if($.search.value!==""&&(F.search=$.search.value),$.activeFilterSlug.value!=="all"&&(F.filter={...F.filter??{},status:$.activeFilterSlug.value}),lodash.isEmpty($.activeAdvancedFilters.value)||(F.filter={...F.filter??{},...$.activeAdvancedFilters.value}),lodash.isObject(e.endpoints)&&e.endpoints.index){const K=u();await api$2.get(e.endpoints.index,F,function(R){c.value&&m(F),B(R,K),D.loading=!1},function(R){D.loading=!1,console.error(R)})}else console.error("No index endpoint found in endpoints of props")},E=useTableItem(),I=useTableNames(e,{editedIndex:s}),$=useTableFilters(e),T=useTableHeaders(e),A=useTableForms(e,{...a,...I,loadItems:S}),V=useTableModals(e),k=useTableItemActions(e,{...a,tableForms:A,loadItems:S}),N=x=>{const F=D.elements.find(K=>K.id==x);F&&k.itemAction(F,"edit")},D=reactive({id:Math.ceil(Math.random()*1e6)+"-table",isStoreTable:c,hideTable:!1,searchPlaceholder:l("Type to Search"),fillHeight:computed(()=>e.fillHeight),enableCustomFooter:computed(()=>e.paginationOptions.footerComponent==="vuePagination"),footerProps:computed(()=>{const x=e.paginationOptions.footerProps;return D.enableInfiniteScroll?{"hide-default-footer":!0}:x}),defaultPaginationButtonProps:{elevation:1,color:"grey-darken-5",class:"bg-surface",variant:"text",density:"compact",size:"small"},windowSize:{x:0,y:0},mobileTableLayout:computed(()=>r.value),loading:g,totalNumberOfElements:v,totalNumberOfPages:C,availablePages:computed(()=>Array.from({length:C.value},(x,F)=>F+1)),options:f,elements:d,editedIndex:s,selectedItems:[],activeTableItem:null,activeItemConfiguration:null,enableInfiniteScroll:computed(()=>e.paginationOptions.footerComponent==="infiniteScroll"&&v.value>d.value.length),draggableItems:computed(()=>D.elements.reduce((F,K,R)=>{const j={type:"item",key:R+1,value:K.id,index:R,selectable:e.showSelect,columns:T.headers.value.reduce((M,P)=>(M[P.key]=K[P.key],M),{})};return F[R]=j,F},[]))}),O=reactive({onResize(){e.noFullScreen||(D.windowSize={x:window.innerWidth,y:window.innerHeight})},onIntersect(x,F,K){x&&F[0].intersectionRatio===1&&O.goNextPage()},initialize:function(){const x=u(),F=lodash.pick(x,["id"]);S(F)},goNextPage(){D.options.page<numberOfPages.value&&(D.options.page+=1)},goPreviousPage(){D.options.page>1&&(D.options.page-=1)},changeOptions(x){lodash.isEqual(x,D.options)||(D.options=x)},setEditedItem:E.setEditedItem,resetEditedItem:E.resetEditedItem,sortElements(x){lodash.isObject(e.endpoints)&&e.endpoints.reorder?api$2.reorder(e.endpoints.reorder,x.map(F=>F.id),function(F){F.status===200&&(x.forEach((K,R)=>K.position=R+1),D.elements=x)}):console.error("No reorder endpoint found in endpoints of props")},hydrateNestedData:function(x,F){const K=/\$([A-Za-z]+)/;for(const R in F)if(__isString(F[R])){const j=F[R].match(K);if(j){const M=j[1];D.snakeName===M?(F[R]=getSubmitFormData(F.schema,x,o.state),F.actionUrl&&(F.actionUrl=F.actionUrl.replace(`:${M}`,F[R].id))):x[M]&&(F[R]=getSubmitFormData(F.schema,x[M],o.state),F.actionUrl&&(F.actionUrl=F.actionUrl.replace(`:${M}`,F[R].id)))}}else(Array.isArray(F[R])||lodash.isObject(F[R]))&&(F[R]=O.hydrateNestedData(x,F[R]));return F},searchItems(x){$.setSearchValue()&&S()},changeFilter(x){$.setFilterSlug(x)&&(f.value.page=1,S())},changeAdvancedFilter(x){f.value.page=1,S()},resetAdvancedFilter(){$.clearAdvancedFilter(),f.value.page=1,S()},handleFormActionComplete(x){const F=x.action;x.response,F.type==="request"&&S(),F.type==="modal"&&S()}});watch$1(()=>E.editedItem.value,(x,F)=>{D.editedIndex=D.elements.findIndex(K=>K.id===x.id)}),watch$1(()=>D.activeTableItem,(x,F)=>{x&&(D.activeItemConfiguration=O.hydrateNestedData(x,JSON.parse(JSON.stringify(e.nestedData))))},{deep:!0}),watch$1(()=>D.options,(x,F)=>{w.value?w.value=!1:S()},{deep:!0}),watch$1(()=>D.elements,(x,F)=>{if(D.editedIndex>-1){let K=x[D.editedIndex];E.setEditedItem(K)}},{deep:!0}),watch$1(()=>k.actionEvents.event,x=>{if(x){const F=k.actionEvents.payload;let K=[],R=!1,j=!1,M=!1,P=!0;switch(x){case"dialog":if(F.callback&&typeof F.callback=="function"){R=V.modals.value.dialog;const H={confirmClosing:!1};switch(F.type){case"delete":case"forceDelete":H.description=I.deleteQuestion.value;break;case"bulkPublish":case"bulkDelete":case"bulkRestore":case"bulkDestroy":K.push(D.selectedItems);const q=`fields.confirm-${lodash.kebabCase(F.type)}`;H.description=l(q,{count:D.selectedItems.length,route:I.transNamePlural.value});break;default:H.description=F.description??l("Are you sure you want to perform this action?");break}V.modals.value.dialog.set(H)}break;case"process":F.callback&&typeof F.callback=="function"&&(j=!0),F.type==="publish"&&(P=!1,M=!0);break;case"showCustomForm":A.customFormModalActive.value=!0;break;case"showData":V.modals.value.show.loadData(F.data),V.modals.value.show.set(F.action),V.modals.value.show.open();break}let z=H=>{if(H.status===200){if(H.data.variant&&H.data.message&&o.dispatch(ACTIONS.SHOW_ALERT,H.data),S(),R)try{R.close(),R.reset()}catch{}P&&(E.resetEditedItem(),D.selectedItems=[]),M&&F.item&&E.setEditedItem(F.item)}};j&&(K.push(z),F.callback(...K)),R&&(K.push(z),R.setConfirmCallback(()=>F.callback(...K)),R.open()),k.actionEvents.reset()}},{immediate:!0});const U=useFormatter(e,a,T.selectedHeaders);return{form:y,...useTableActions(),...toRefs(D),...toRefs(O),...I,...$,...T,...A,...k,...V,...U}}const makeModelValueProps=propsFactory({modelValue:[String,Number,Object,Boolean]}),makeActiveTableItemProps=propsFactory({...makeModelValueProps(),tableHeaders:{type:Array,default:[]},itemData:{type:Object,default(){return{}}}});function useActiveTableItem(e,a){const o=useProxiedModel(e,"modelValue"),r=computed({get:()=>o.value,set:i=>{o.value=i}}),l=reactive({modalOpened:!1,modalActive:!1,modalStatus:computed(()=>l.modalOpened&&!!r.value),activeKey:null,activeBlock:computed(()=>l.activeKey?e.itemData[l.activeKey]:null),items:computed(()=>r.value?[r.value]:[])}),n=reactive({selectNested:function(i){l.activeKey=i,a.emit("toggle",!0)},clickOutside:function(i){r.value=null,l.activeKey=null},closeItemDetails:function(i=""){l.modalActive=!0,l.activeKey=null,a.emit("toggle",!1)}});return watch$1(()=>r.value,(i,s)=>{l.modalActive=!!i&&i!==s}),watch$1(()=>l.activeKey,(i,s)=>{i&&(l.modalActive=!1)}),watch$1(()=>e.itemData,(i,s)=>{}),{item:r,...toRefs(l),...toRefs(n)}}function useValidation(e){const{valid:a}=toRefs(e),o=reactive({validModel:(a==null?void 0:a.value)??null}),r=reactive({minRule:(d,c)=>m=>!!m&&m.length>=d||c||`min. ${d} ${Array.isArray(m)?"Selections":"Characters"}`,maxRule:(d,c)=>m=>!!m&&m.length<=d||c||`max. ${d} ${Array.isArray(m)?"Selections":"Characters"}`,emailRule:(d={},c)=>m=>{if(!m)return!0;const{allowedDomains:p=[],blockedDomains:u=[],allowSubdomains:y=!0,minLength:g=3,maxLength:f=254,strict:v=!1}=d;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m))return c||"Invalid email format";if(v&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(m))return c||"Email contains invalid characters";const[h,b]=m.split("@");if(h.length<g)return c||`Email username must be at least ${g} characters`;if(m.length>f)return c||`Email cannot exceed ${f} characters`;if(p.length>0){const S=b.toLowerCase();if(!p.some(I=>y?S.endsWith(I.toLowerCase()):S===I.toLowerCase()))return c||`Email domain must be one of: ${p.join(", ")}`}if(u.length>0){const S=b.toLowerCase();if(u.some(I=>y?S.endsWith(I.toLowerCase()):S===I.toLowerCase()))return c||"Email domain not allowed"}const w={gmial:"gmail",gmal:"gmail",gamil:"gmail",yaho:"yahoo",ymail:"yahoo",hotmal:"hotmail",hotnail:"hotmail",outloo:"outlook"},B=b.split(".")[0].toLowerCase();return w[B]?c||`Did you mean ${w[B]}?`:!0},requiredRule:(d="classic",c=1,m,p)=>u=>{switch(d){case"classic":return!!u||p||"Required";case"array":case"object":m=m??-1;let y=c==m||m<0?`Requires exactly ${c} items`:`Requires at least ${c}${m!=1/0&&m!=null?", and maximum of:"+m:""}) elements`;return Array.isArray(u)?u.length>=c&&(m<0||u.length<=m)||p||y:__isObject(u)?Object.keys(u).length>=c&&(m<0||Object.keys(u).length<=m)||p||y:u==null?p||"Must select at least one item":"dev error: nsupported value type";default:return"dev error: unknown rule type"}},arrayRule:d=>c=>Array.isArray(c)||d||"Value must be array",numberRule:d=>c=>!isNaN(parseFloat(c))&&isFinite(c)||d||"Must be a valid number",integerRule:d=>c=>Number.isInteger(Number(c))||d||"Must be an integer",minValueRule:(d,c)=>m=>m==null||Number(m)>=d||c||`Must be at least ${d}`,maxValueRule:(d,c)=>m=>!m||Number(m)<=d||c||`Must not exceed ${d}`,phoneRule:d=>c=>!c||/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(c)||d||"Invalid phone number",urlRule:d=>c=>!c||/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(c)||d||"Invalid URL",alphaRule:d=>c=>!c||/^[A-Za-z]+$/.test(c)||d||"Only letters allowed",alphaNumRule:d=>c=>!c||/^[A-Za-z0-9]+$/.test(c)||d||"Only letters and numbers allowed",passwordRule:(d=8,c)=>m=>!m||/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{${minLength},}$/.test(m)||c||`Password must be at least ${d} characters, contain at least one letter and one number`,strongPasswordRule:(d=8,c)=>m=>!m||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{${minLength},}$/.test(m)||c||`Password must be at least ${d} characters, contain uppercase, lowercase, number and special character`,dateRule:d=>c=>!c||!isNaN(Date.parse(c))||d||"Invalid date format",futureDateRule:(d=0,c="days",m)=>p=>{if(!p)return!0;let u=new Date;u.setHours(0,0,0,0);const y=new Date(u);switch(lodash.isString(d)&&(d=parseInt(d)),c.toLowerCase()){case"minutes":y.setMinutes(u.getMinutes()+d);break;case"hours":y.setHours(u.getHours()+d);break;case"days":y.setDate(u.getDate()+d);break;case"months":y.setMonth(u.getMonth()+d);break;case"years":y.setFullYear(u.getFullYear()+d);break;default:y.setDate(u.getDate()+d)}return new Date(p)>=y||m||`Date must be at least ${d} ${c} in the future`},pastDateRule:(d=0,c="days",m)=>p=>{if(!p)return!0;const u=new Date,y=new Date(u);switch(c.toLowerCase()){case"minutes":y.setMinutes(u.getMinutes()-d);break;case"hours":y.setHours(u.getHours()-d);break;case"days":y.setDate(u.getDate()-d);break;case"months":y.setMonth(u.getMonth()-d);break;case"years":y.setFullYear(u.getFullYear()-d);break;default:y.setDate(u.getDate()-d)}return new Date(p)<=y||m||`Date must be at least ${d} ${c} in the past`},zipCodeRule:d=>c=>!c||/^\d{5}(-\d{4})?$/.test(c)||d||"Invalid ZIP code",ipAddressRule:d=>c=>!c||/^(\d{1,3}\.){3}\d{1,3}$/.test(c)||d||"Invalid IP address",fileTypeRule:(d,c)=>m=>{if(!m||!m.type)return!0;const p=Array.isArray(d)?d:[d];return p.includes(m.type)||c||`File type must be: ${p.join(", ")}`},fileSizeRule:(d,c)=>m=>!m||!m.size?!0:m.size<=d||c||`File size must not exceed ${d/1024/1024}MB`,equalsRule:(d,c)=>m=>m===d||c||`Must equal ${d}`,notEqualsRule:(d,c)=>m=>m!==d||c||`Must not equal ${d}`,matchesRule:(d,c)=>(m,p)=>m===p[d]||c||`Must match ${d}`,betweenRule:(d,c,m)=>p=>{if(!p)return!0;const u=Number(p);return u>=d&&u<=c||m||`Must be between ${d} and ${c}`},notBetweenRule:(d,c,m)=>p=>{if(!p)return!0;const u=Number(p);return u<d||u>c||m||`Must not be between ${d} and ${c}`},containsRule:(d,c)=>m=>!m||m.includes(d)||c||`Must contain "${d}"`,notContainsRule:(d,c)=>m=>!m||!m.includes(d)||c||`Must not contain "${d}"`,startsWithRule:(d,c)=>m=>!m||m.startsWith(d)||c||`Must start with "${d}"`,endsWithRule:(d,c)=>m=>!m||m.endsWith(d)||c||`Must end with "${d}"`,patternRule:(d,c)=>m=>!m||d.test(m)||c||"Invalid format",customFormatRule:(d,c)=>m=>{if(!m)return!0;const p={creditCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13})$/,ssn:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,rgb:/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,isbn:/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/},u=Array.isArray(d)?d:[d];return u.every(y=>p[y].test(m))||c||`Invalid ${u.join(" and ")} format`},uniqueRule:d=>c=>Array.isArray(c)?c.length===new Set(c).size||d||"Must contain unique values":!0,includesAnyRule:(d,c)=>m=>Array.isArray(m)?d.some(p=>m.includes(p))||c||`Must include at least one of: ${d.join(", ")}`:!0,includesAllRule:(d,c)=>m=>Array.isArray(m)?d.every(p=>m.includes(p))||c||`Must include all of: ${d.join(", ")}`:!0,whenRule:(d,c,m=[])=>(p,u)=>((typeof d=="function"?d(u):d)?c:m).every(g=>g(p,u)===!0)||"Conditional validation failed",dependentRule:(d,c,m)=>(p,u)=>u[d]?c.every(y=>y(p,u)===!0)||m||`Invalid based on ${d}`:!0,generateInputRules:l,validateInput:n});function l(d){let c=[];if(Object.prototype.hasOwnProperty.call(d,"rules")){let m=d.rawRules??d.rules,p;window.__isString(m)?p=m.split("|"):p=m,p.forEach((u,y)=>{window.__isString(u)&&(u=u.split(":"));const g=u[0]+"Rule";Object.prototype.hasOwnProperty.call(r,g)&&c.push(r[g](...u.slice(1)))})}return c}function n(d,c){let m=l(d),p=!0;for(const u in m){let y=m[u](c);if(y!==!0){p=y;break}}return p}function i(d){let c=cloneDeep(d),m=cloneDeep(d);return Object.prototype.hasOwnProperty.call(m,"rules")&&(c.rawRules=__isset(c.rawRules)?c.rawRules:m.rules,window.__isString(c.rawRules)?m.rules=c.rawRules.split("|"):m.rules=c.rawRules,c.rules=[],m.rules.forEach((p,u)=>{window.__isString(p)&&(p=p.split(":"));const y=p[0]+"Rule";Object.prototype.hasOwnProperty.call(r,y)&&c.rules.push(r[y](...p.slice(1)))})),__isset(c.schema)&&(c.schema=s(c.schema)),__isset(d.rawRules)||(c.rules=[],c.rawRules=""),c}function s(d){const c=cloneDeep(d);return __isObject(c)&&Object.keys(c).forEach(m=>{Object.prototype.hasOwnProperty.call(c[m],"rules")&&(d[m].rawRules=__isset(d[m].rawRules)?d[m].rawRules:c[m].rules,window.__isString(d[m].rawRules)?c[m].rules=d[m].rawRules.split("|"):c[m].rules=d[m].rawRules,d[m].rules=[],c[m].rules.forEach((p,u)=>{window.__isString(p)&&(p=p.split(":"));const y=p[0]+"Rule";Object.prototype.hasOwnProperty.call(r,y)&&d[m].rules.push(r[y](...p.slice(1)))})),__isset(d[m].schema)&&(d[m].schema=s(d[m].schema))}),d}return watch$1(()=>o.valid,(d,c)=>{}),{invokeRule:i,invokeRuleGenerator:s,...toRefs(r),...toRefs(o)}}const htmlClasses={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"},defaultWidths={xs:"320px",sm:"480px",md:"720px",lg:"1080px",xl:"1600px"},makeModalProps$1=propsFactory({modelValue:{type:Boolean},useModelValue:{type:Boolean,default:!0},title:{type:String,default:null},hasCloseButton:{type:Boolean,default:!1},hasFullscreenButton:{type:Boolean,default:!1},hasTitleDivider:{type:Boolean,default:!1},noDefaultBodyPadding:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},noCancelButton:{type:Boolean,default:!1},noConfirmButton:{type:Boolean,default:!1},description:{type:String,default:null},transition:{type:String,default:"bottom",values:["dialog-transition","dialog-bottom-transition","dialog-top-transition","fade-transition","scale-transition","slide-x-transition","slide-y-transition","slide-x-reverse-transition","slide-y-reverse-transition","scroll-x-transition","scroll-y-transition"]},widthType:{type:String,default:"md",validator:e=>Object.prototype.hasOwnProperty.call(defaultWidths,e)},hasSystembar:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},confirmCallback:{type:Function},rejectCallback:{type:Function},rejectLoading:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},rejectButtonAttributes:{type:Object,default:()=>({color:"error",variant:"outlined"})},confirmButtonAttributes:{type:Object,default:()=>({color:"success",variant:"elevated"})},confirmClosing:{type:Boolean,default:!0},rejectClosing:{type:Boolean,default:!0}}),makeModalMediaProps=propsFactory({modalTitlePrefix:{type:String,default:function(e){return useI18n().t("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return useI18n().t("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}}});function useModal(e,a){const{modelValue:o}=toRefs(e),r=ref(e.fullscreen),l=ref(!1),n=reactive({modalClass:htmlClasses.modal,width:e.widthType,full:r,dialog:computed({get:()=>e.useModelValue?o.value??!1:l.value,set:s=>{e.useModelValue?i.emitModelValue(s):l.value=s}}),togglePersistent:computed(()=>e.persistent),toggleScrollable:computed(()=>e.scrollable),modalWidth:computed(()=>e.widthType&&!r.value?defaultWidths[e.widthType]:null)}),i=reactive({emitModelValue:function(s){a.emit("update:modelValue",s)},emitOpened:function(){a.emit("opened",n.dialog)},clickOutside:function(s){a.emit("click:outside",s)},openModal:function(){return n.dialog=!0,n.dialog},closeModal:function(){return n.dialog=!1,n.dialog},toggleModal:function(){return n.dialog=!n.dialog,n.dialog}});return{...toRefs(i),...toRefs(n)}}const makeDraggableProps=propsFactory({draggable:{type:Boolean,default:!1},orderKey:{type:String,default:"position"}});function useDraggable(e,a){const o=reactive({animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30,dragOptions:computed(()=>({disabled:!e.draggable,animation:o.animation}))}),r=reactive({});return{...toRefs(r),...toRefs(o)}}const makeRepeaterProps=propsFactory({...makeInputProps(),modelValue:{type:Array,default:[]},max:{type:Number,default:-1},min:{type:Number,default:-1},label:{type:String,default:""},subtitle:{type:String},singularLabel:{type:String},schema:{type:Object,default:()=>{}},rowAttribute:{type:Object,default(){return{noGutters:!1}}},formRowAttribute:{type:Object,default(){return{noGutters:!1,class:"ml-12"}}},noAddButton:{type:Boolean,default:!1},addButtonText:{type:String,default(){return useI18n().t("ADD NEW")}},hasButtonLabel:{type:Boolean,default:!1},withGutter:{type:Boolean,default:!1},autoIdGenerator:{type:Boolean,default:!0},noHeaders:{type:Boolean,default:!1},isUnique:{type:Boolean,default:!1},uniqueValue:{type:String,default:"id"},uniqueField:{type:String,default:null},disableAddButton:{type:Boolean,default:!0},formCol:{type:Object,default:()=>({cols:12})},idResetter:{type:String,default:null},noWaitSourceLoading:{type:Boolean,default:!1}});function useRepeater(e,a){const o=useStore(),{invokeRuleGenerator:r}=useValidation(e),l=useInput(e,a),n=ref(e.schema),i=computed(()=>e.noHeaders?cloneDeep(n.value??{}):reduce(cloneDeep(n.value??{}),(S,E,I)=>(S[I]=omit(E,["label"]),S),{})),{modelValue:s}=toRefs(e),d=e.isUnique,c=e.uniqueValue,m=ref([]),p=computed(()=>d&&window.__isset(n.value)&&Object.keys(n.value).length>0?e.uniqueField??Object.values(n.value)[0].name:null),u=computed(()=>d&&window.__isset(n.value)&&Object.keys(n.value).length>0?n.value[p.value]:null);function y(S,E){const I=`repeater${l.id.value}`;return new RegExp(`^${I}\\[${S}\\]`).test(E)?E:`${I}[${S}][${E}]`}function g(S,E){const I=getModel(i.value,S),$={};return e.draggable&&!I[e.orderKey]&&($[e.orderKey]=E+1),{...e.autoIdGenerator?{id:E}:{},...transform(omit(I,[]),(T,A,V)=>{T[y(E,V)]=A}),...$}}function f(S){return S.map((E,I)=>g(E,I))}function v(S){const E=[];return S.forEach((I,$)=>{const T=cloneDeep(i.value);if(d&&T[p.value]){const k=C(S[$])[p.value];T[p.value].items=u.value.items.filter(N=>!(m.value.includes(N[c])&&k!==N[c]))}const A=r(T);E[$]=transform(A,(V,k,N)=>{const D=cloneDeep(k),O=y($,k.name);D.name=O,V[O]=D}),Object.keys(E[$]).forEach(V=>{var N;const k=E[$][V];if(Object.prototype.hasOwnProperty.call(k,"cascade")){const D=y($,k.cascade);E[$][D][k.cascadeKey]=((N=find(k.items,[k.itemValue,I[V]]))==null?void 0:N.schema)??[]}})}),E}function C(S,E){const I=/\[(.*?)\]/gi,$={};return e.draggable&&($[e.orderKey]=E+1),{...transform(S,(T,A,V)=>{const k=V.match(I);if(k){const N=k.map(D=>D.replace(I,"$1"));T[N.pop()]=A}}),...$}}function h(S){return S.map((E,I)=>C(E,I))}const b=computed({get:()=>{if(isEmpty(n.value))return[];const S=Array.isArray(s.value)?s.value:[],E=f(S);if(e.min>0&&S.length<e.min){const I=r(n.value);E.push(g(getModel(I),1))}if(E.length>0){const I=h(E).map($=>{const T=e.autoIdGenerator?["id"]:[];return omit($,T)});JSON.stringify(s.value)!==JSON.stringify(I)&&I.forEach(($,T)=>{s.value[T]=$})}return d&&(m.value=reduce(cloneDeep(E),(I,$)=>{const T=C($);return p.value&&T[p.value]&&I.push(T[p.value]),I},[])),E},set:(S,E)=>{l.updateModelValue.value(h(S))}}),w=reactive({repeaterModels:b,repeaterSchemas:computed(()=>v(b.value)),totalRepeats:computed(()=>w.repeaterModels.length),hasRepeaterModels:computed(()=>w.repeaterModels.length>0),isRemainingAddible:computed(()=>!d||w.totalRepeats<u.value.items.length&&w.totalRepeats<u.value.items.filter(S=>S[c]>0).length),isAddible:computed(()=>(e.max<1||w.totalRepeats<e.max)&&w.isRemainingAddible),isDeletable:computed(()=>e.min<1||w.totalRepeats>e.min),addButtonIsActive:computed(()=>!e.disableAddButton||w.isAddible),selectFieldSlots:computed(()=>{const S=[];return filter(n.value,function(E,I){return Object.prototype.hasOwnProperty.call(E,"slots")&&Object.keys(E.slots).length>0}).forEach((E,I)=>{const $=cloneDeep(E);w.repeaterModels.forEach((T,A)=>{const V=[];for(const k in $.slots)V.push({inputName:y(A,$.name),name:k,context:$.slots[k]});S.push(V)})}),S}),headers:reduce(n.value??[],(S,E)=>(["hidden"].includes(E.type)||S.push({title:E.label||__headline(E.name),col:E.col}),S),[]),addButtonContent:computed(()=>e.addButtonText+(e.hasButtonLabel&&__isset(e.singularLabel)?` ${e.singularLabel}`:"")),hasSchemaInputSourceLoading:computed(()=>Object.values(n.value).some(S=>Object.prototype.hasOwnProperty.call(S,"sourceLoading")&&S.sourceLoading===!0))}),B=reactive({onUpdateRepeaterModel(S,E){const I=C(S,E);s.value[E]&&JSON.stringify(s.value[E])!==JSON.stringify(I)&&e.idResetter&&s.value[E][e.idResetter]&&s.value[E][e.idResetter]!==I[e.idResetter]&&delete I.id,s.value[E]=I},onUpdateRepeaterSchema(S,E){const I=C(S,E);Object.keys(n.value).forEach(T=>{n.value[T]=Object.assign({},n.value[T],omit(I[T],["name"]))})},onHoverContent(S){},addRepeaterBlock:function(){if(w.isAddible){const S=r(cloneDeep(n.value));s.value.push(g(getModel(S),w.totalRepeats))}else{let S=`You cannot add new item, because the number of elements should be at much ${e.max}`;w.isRemainingAddible||(S="You cannot add new item, because there are no more items to add"),o.commit(ALERT$1.SET_ALERT,{message:S,variant:"warning",location:"top"})}},deleteRepeaterBlock:function(S){if(w.isDeletable){const E=h(w.repeaterModels);E.splice(S,1),w.repeaterModels=f(E)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot delete, because the number of elements should be at least ${e.min}`,variant:"warning",location:"top"})},duplicateRepeaterBlock:function(S){if(w.isAddible){const E=h(w.repeaterModels);E.push(E[S]),w.repeaterModels=f(E)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot add new item, because the number of elements should be at much ${e.max}`,variant:"warning",location:"top"})}});return{...toRefs(B),...toRefs(w),invokeRuleGenerator:r,...l}}const mapGetters=()=>{const e=useStore();return Object.fromEntries(Object.keys(e.getters).map(a=>[a,computed(()=>e.getters[a])]))},makeFileProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default(){return useI18n().t("File")}},endpoint:{type:String,default:""},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useFile(e,a){const o=useStore(),r=useInput(e,a),{modelValue:l,obj:n}=toRefs(e),i=mapGetters(),{t:s}=useI18n({useScope:"global"}),d=reactive({mediableActive:!1,handle:".item__handle",addLabel:computed(()=>s("ADD")+" "+e.itemLabel),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(m,p)=>{}}),input_:computed({get:()=>l.value??[],set:(m,p)=>{r.updateModelValue.value(m)}}),input:l.value??[],isDraggable:computed(()=>e.draggable&&d.input.length>1),remainingItems:computed(()=>e.max-d.input.length),itemsIds:computed(()=>i.selectedItemsByIds.value[e.name]?i.selectedItemsByIds.value[e.name].join():"")}),c=reactive({deleteAll:function(m){d.input=[]},deleteItem:function(m){d.input.splice(m,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(m,p)=>{o.state.mediaLibrary.isInserted&&d.mediableActive&&(d.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),d.input=m)},{deep:!0}),watch$1(()=>d.input,(m,p)=>{r.updateModelValue.value(m)},{deep:!0}),watch$1(()=>l.value,(m,p)=>{d.input=m},{deep:!0}),{...r,...toRefs(c),...toRefs(d)}}const makeImageProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"image"},itemLabel:{type:String,default(){return useI18n().t("Image")}},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default(){return useI18n().t("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useImage(e,a){const o=useStore(),r=useInput(e,a),{modelValue:l,obj:n}=toRefs(e),i=mapGetters(),{t:s}=useI18n({useScope:"global"}),d=reactive({mediableActive:!0,handle:".item__handle",addLabel:computed(()=>s("ADD",{item:e.itemLabel})),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(m,p)=>{}}),input_:computed({get:()=>l.value??[],set:(m,p)=>{r.updateModelValue.value(m)}}),input:l.value??[],isDraggable:computed(()=>e.draggable&&d.input.length>1),remainingItems:computed(()=>e.max-d.input.length),itemsIds:computed(()=>i.selectedItemsByIds.value[e.name]?i.selectedItemsByIds.value[e.name].join():"")}),c=reactive({deleteAll:function(m){d.input=[]},deleteItem:function(m){d.input.splice(m,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(m,p)=>{window.__isset(o.state.mediaLibrary.selected[e.name])&&o.state.mediaLibrary.isInserted&&d.mediableActive&&(d.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),d.input=m)},{deep:!0}),watch$1(()=>d.input,(m,p)=>{r.updateModelValue.value(m)},{deep:!0}),watch$1(()=>l.value,(m,p)=>{d.input=m},{deep:!0}),watch$1(()=>d.error,(m,p)=>{}),{...r,...toRefs(c),...toRefs(d)}}function useSidebar(){const{lgAndUp:e,xlAndUp:a}=useDisplay();ref(!1);const o=ref("#profile"),r=useStore(),l=ref(null),n=reactive({navigationDrawer:l,open:[],activeMenu:computed({get(){return o.value},set(s){o.value=s}}),status:computed({get(){return r.state.config.sidebarStatus},set(s){r.commit(CONFIG.SET_SIDEBAR,s)}}),options:r.state.config.sidebarOptions,width:computed(()=>a.value?320:n.options.width||264),hideIcons:computed(()=>!n.rail&&n.options.hideIcons),railManual:!1,rail:computed(()=>(n.options.rail||n.railManual)&&e.value),hasRail:computed(()=>n.options.rail),isHoverable:computed(()=>(e.value||n.rail)&&n.options.expandOnHover),secondaryOptions:r.state.config.secondarySidebarOptions,profileMenu:r.state.config.profileMenu,socialMediaLinks:[["mdi-twitter",""],["mdi-linkedin",""],["mdi-facebook",""],["mdi-instagram",""]]}),i=reactive({handleProfile(s){s.type==="mouseenter"&&n.profileMenu.expandOnHover&&n.open.push("User")},handleMenu(s){n.activeMenu=`#${s}`}});return watch$1(e,()=>{}),onMounted(()=>{}),{...toRefs(n),...toRefs(i)}}function useCurrencyNumber(e,a){const o=useStore(),{inputRef:r,formattedValue:l,numberValue:n,setValue:i}=useCurrencyInput({currency:"EUR",locale:o.state.language.active.value,autoDecimalDigits:!0,precision:2,currencyDisplay:"hidden",hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,valueRange:{min:0}}),s=reactive({inputRef:r,formattedValue:l,numberValue:n});return watch$1(()=>e.modelValue,d=>{i(d)}),{...toRefs(s)}}const makeModuleProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},fillHeight:{type:Boolean,default:!1},slots:{type:Object,default(){return{}}},noFullScreen:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},items:{type:Array,default:[]}});function useModule(e,a){const{t:o,te:r}=useI18n({useScope:"global"});ref(!1),onMounted(()=>{});const l=reactive({snakeName:lodash.snakeCase(e.name),permissionName:lodash.kebabCase(e.name),transNameSingular:computed(()=>r("modules."+l.snakeName,0)?o("modules."+l.snakeName,0):e.name),transNamePlural:computed(()=>o("modules."+l.snakeName,1)),moduleTitle:computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:l.transNamePlural)),windowSize:{x:0,y:0},elements:e.items,searchPlaceholder:o("Type to Search"),searchModel:""}),n=reactive({onResize(){l.windowSize={x:window.innerWidth,y:window.innerHeight}}});return{...toRefs(l),...toRefs(n)}}function useLocale(){const e=useStore(),a=reactive({currentLocale:computed(()=>e.state.language.active),languages:computed(()=>e.state.language.all),locales:computed(()=>e.state.language.all),displayedLocale:computed(()=>e.state.language.active.shortlabel)}),o=reactive({updateLocale:function(r){e.commit(LANGUAGE.UPDATE_LANG,r)}});return{...toRefs(a),...toRefs(o)}}function useItemActions(e,a){const o=useStore(),{castMatch:r}=useFormatter(e),l=lodash.cloneDeep(e.actions),n=a.actionItem||a.item||a.editedItem||e.item||e.editedItem,i=h=>{if(!h.source||!h.find||!h.return)return h;const b=n[h.source];if(!Array.isArray(b))return;const[w,B]=h.find,S=b.find(E=>E[w]===B);return S?S[h.return]:void 0},s=(h,b)=>{var S;if(!b){console.error("Endpoint not specified for request action");return}const w=((S=h.method)==null?void 0:S.toLowerCase())||"post";if(!api$1[w]){console.error("Invalid request method:",w);return}const B={};for(const[E,I]of Object.entries(h.params))if(typeof I=="object"&&I!==null){const $=i(I);if($===void 0){console.error(`Could not resolve parameter value for ${E}`);return}B[E]=$}else B[E]=I;api$1[w](b,B,E=>{E.data.message&&o.commit(ALERT$1.SET_ALERT,{message:E.data.message,variant:E.data.variant}),a.emit("actionComplete",{action:h,response:E})},E=>{var I;o.commit(ALERT$1.SET_ALERT,{message:((I=E.data)==null?void 0:I.message)||"Action failed",variant:"error"})})},d=(h,b)=>{o.commit("SET_MODAL",{show:!0,title:h.label,component:"ue-form",props:{schema:h.schema,actionUrl:b,async:!0},on:{success:w=>{o.commit(ALERT$1.SET_ALERT,{message:w.message||"Action completed successfully",variant:"success"}),a.emit("action-complete",{action:h,response:w})}}})},c=h=>{if(!h){console.error("Endpoint not specified for blank action");return}window.open(h,"_blank")},m=h=>{if(!h){console.error("Endpoint not specified for download action");return}const b=document.createElement("a");b.href=h,b.target="_blank",document.body.appendChild(b),b.click(),document.body.removeChild(b)},p=h=>{if(!n)return!0;const b=e.isEditing?h.editable:h.creatable;return!h.conditions||!b?b:b&&checkItemConditions(h.conditions,n)},u=h=>h.map(b=>(n&&Object.keys(b).forEach(w=>{w==="badge"&&(b[w]=r.value(b[w],n))}),p(b)||(b.disabled=!0),b)),y=ref(window.__isObject(l)?Object.values(l):l),g=computed(()=>u(y.value)),f=computed(()=>g.value.filter(h=>!(window.__isset(h.disabled)&&h.disabled))),v=reactive({hasActions:computed(()=>g.value.length>0),hasVisibleActions:computed(()=>f.value.length>0),allActions:g,visibleActions:f}),C=reactive({shouldShowAction:p,handleAction(h){var w;if(!h.type){console.warn("Action type not specified:",h);return}const b=(w=h.endpoint)==null?void 0:w.replace(":id",n.id);switch(h.type){case"request":s(h,b);break;case"modal":d(h,b);break;case"download":m(b);break;case"blank":c(b);break;default:console.warn("Unknown action type:",h.type)}}});return{...toRefs(v),...toRefs(C)}}function useCurrency(e){const{locale:a}=useI18n({useScope:"global"}),o=reactive({formatPrice(r,l){return window.__formatCurrencyPrice(r,l,a.value??a)}});return{...toRefs(o)}}const redirector=(e,a=1e3)=>{Object.prototype.hasOwnProperty.call(e,"redirector")&&(a=Object.prototype.hasOwnProperty.call(e,"timeout")?e.timeout:a,setTimeout(function(o){window.open(o.redirector,Object.prototype.hasOwnProperty.call(o,"target")?o.target:"_self")},a,e))},handleSuccessResponse=e=>{e.status===200&&e.data.modalService&&isObject(e.data.modalService)&&window.$modalService.open(e.data.modalService.component??null,omit(e.data.modalService,["component"]))},handleErrorResponse=e=>{__log(e)},makeFormProps=propsFactory({modelValue:{type:Object},formClass:{type:[Array,String],default:""},actionUrl:{type:String},title:{type:[String,Object]},noTitle:{type:Boolean,default:!1},subtitle:{type:String},schema:{type:Object},async:{type:Boolean,default:!0},buttonText:{type:String},hasSubmit:{type:Boolean,default:!1},stickyFrame:{type:Boolean,default:!1},stickyButton:{type:Boolean,default:!1},rowAttribute:{type:Object,default(){return{noGutters:!1,class:"py-4"}}},slots:{type:Object,default(){return{}}},valid:{type:Boolean,default:null},isEditing:{type:Boolean,default:!1},hasDivider:{type:Boolean,default:!1},fillHeight:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},noDefaultFormPadding:{type:Boolean,default:!1},noDefaultSurface:{type:Boolean,default:!1},actions:{type:[Array,Object],default:[]},actionsPosition:{type:String,default:"top",validator(e){return["title-right","title-center","top","middle","bottom","right-top","right-middle","right-bottom"].includes(e)}},rightSlotGap:{type:Number,default:12},pushButtonToBottom:{type:Boolean,default:!1},rightSlotWidth:{type:[Number,String],default:null},rightSlotMinWidth:{type:[Number,String],default:300},rightSlotMaxWidth:{type:[Number,String],default:600},additionalSectionDialogTitle:{type:String,default:"Additional Options"},clearOnSaved:{type:Boolean,default:!1},refreshOnSaved:{type:Boolean,default:!1},noWaitSourceLoading:{type:Boolean,default:!1}});function useForm(e,a){const o=useStore(),{t:r,te:l}=useI18n({useScope:"global"}),n=useInputHandlers(),i=useValidation(e),s=useLocale(),{hasRoles:d}=useAuthorization(),c=ref(null),m=Math.ceil(Math.random()*1e6)+"-form",p=m+"-base",u=ref(!!e.modelValue),y=ref(!!e.schema),g=ref(!1),f=ref({}),v=ref(y.value?e.schema:o.state.form.inputs),C=computed(()=>processInputs(v.value)),h=ref(y.value?getModel(v.value):o.getters.defaultItem),b=computed(()=>o.state.form.editedItem),w=ref(getModel(v.value,u.value?e.modelValue:b.value,o.state)),B=computed(()=>u.value?e.modelValue:b.value),S=ref(i.invokeRuleGenerator(getSchema(v.value,{...w.value,...B.value},e.isEditing))),E=ref(getFormEventSchema(v.value,{...w.value,...B.value},e.isEditing)),I=ref(e.actions.length?e.actions.map(()=>!0):[]),$=M=>{let P=!1;return Object.prototype.hasOwnProperty.call(M,"noSubmit")&&M.noSubmit||(P=!0),P===!0&&(__isset(M.editable)&&(M.editable===!1||M.editable==="hidden")&&e.isEditing||__isset(M.creatable)&&(M.creatable===!1||M.creatable==="hidden")&&!e.isEditing?P=!1:Object.prototype.hasOwnProperty.call(M,"allowedRoles")&&Array.isArray(M.allowedRoles)&&(d(M.allowedRoles)||(P=!1))),P},T=computed(()=>!!(find(S.value,M=>{let P=!1;return["wrap","group"].includes(M.type)?P=find(M.schema,$):P=$(M),P})||find(E.value,$))),A=computed(()=>a.slots.right||a.slots["right.top"]||a.slots["right.bottom"]||a.slots["right.middle"]||["right-top","right-middle","right-bottom"].includes(e.actionsPosition)),V=reactive({id:m,formBaseId:p,VForm:c,issetModel:u,issetSchema:y,model:w,formItem:B,chunkedRawSchema:C,inputSchema:S,formEventSchema:E,isSubmittable:T,extraValids:I,hasStickyFrame:e.stickyFrame||e.stickyButton,manualValidation:!1,buttonDefaultText:computed(()=>e.buttonText?l(e.buttonText)?r(e.buttonText):e.buttonText:r("submit")),serverValid:computed(()=>o.state.form.serverValid??!0),loading:computed(()=>e.actionUrl?g.value:o.state.form.loading),errors:computed(()=>e.actionUrl?f.value:o.state.form.errors),reference:computed(()=>"ref-"+V.id),hasTraslationInputs:computed(()=>getTranslationInputsCount(S.value)>0),hasAdditionalSection:A,showAdditionalSectionDialog:!1,hasSchemaInputSourceLoading:computed(()=>Object.values(v.value).some(M=>Object.prototype.hasOwnProperty.call(M,"sourceLoading")&&M.sourceLoading===!0||Object.prototype.hasOwnProperty.call(M,"type")&&(M.type==="wrap"||M.type==="group")&&Object.values(M.schema).some(P=>Object.prototype.hasOwnProperty.call(P,"sourceLoading")&&P.sourceLoading===!0)))}),k=(M=null,P=null)=>{if(e.actionUrl){f.value={},g.value=!0;const z=getSubmitFormData(v.value,V.model,o._state.data),H=Object.prototype.hasOwnProperty.call(z,"id")?"put":"post";api$1[H](e.actionUrl,z,L=>{g.value=!1,Object.prototype.hasOwnProperty.call(L.data,"errors")?(o.commit(FORM.SET_SERVER_VALID,!1),f.value=L.data.errors):Object.prototype.hasOwnProperty.call(L.data,"variant")&&(o.commit(FORM.SET_SERVER_VALID,!1),o.commit(ALERT$1.SET_ALERT,{message:L.data.message,variant:L.data.variant})),e.clearOnSaved&&(V.model=getModel(v.value),U(),c.value&&c.value.reset()),a.emit("submitted",L.data);let q=M;if(!e.refreshOnSaved||Object.prototype.hasOwnProperty.call(L.data,"forceRedirect")&&L.data.forceRedirect)redirector(L.data);else{let Y=()=>{window.location.reload(!0)};q=G=>{M&&typeof M=="function"&&M(G),Y()}}q&&typeof q=="function"&&q(L.data)},L=>{g.value=!1,Object.prototype.hasOwnProperty.call(L.data,"exception")?o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(o.dispatch(ACTIONS.HANDLE_ERRORS,L.response.data),o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),P&&typeof P=="function"&&P(L.data)})}else nextTick(()=>{let z=()=>{window.location.reload(!0)},H=M;e.refreshOnSaved?H=L=>{a.emit("submitted",L),M&&typeof M=="function"&&M(L),Object.prototype.hasOwnProperty.call(L,"forceRedirect")&&L.forceRedirect?redirector(L):z()}:H=L=>{a.emit("submitted",L),redirector(L),M&&typeof M=="function"&&M(L)},o.dispatch(ACTIONS.SAVE_FORM,{item:null,callback:H,errorCallback:P})})},N=M=>{M&&M.preventDefault();const P=document.createElement("form");P.method="POST",P.action=e.actionUrl,P.enctype="multipart/form-data";let z=O(V.model);for(const[L,q]of z.entries()){const Y=document.createElement("input");Y.type="hidden",Y.name=L,Y.value=q,P.appendChild(Y)}const H=document.createElement("input");if(H.type="hidden",H.name="_token",H.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),P.appendChild(H),e.isEditing){const L=document.createElement("input");L.type="hidden",L.name="_method",L.value="PUT",P.appendChild(L)}document.body.appendChild(P),P.submit()},D=M=>{handleEvents(w.value,S.value,M.schema,!0)},O=(M,P="")=>{const z=new FormData;for(const[H,L]of Object.entries(M)){const q=P?`${P}[${H}]`:H;if(L!=null)if(typeof L=="object")if(Array.isArray(L))L.forEach((Y,G)=>{if(typeof Y=="object"&&Y!==null){const W=O(Y,`${q}[${G}]`);for(const[Q,Je]of W.entries())z.append(Q,Je)}else z.append(`${q}[${G}]`,Y)});else{const Y=O(L,q);for(const[G,W]of Y.entries())z.append(G,W)}else z.append(q,L)}return z},U=()=>{c.value.resetValidation()},x=M=>{const P={};for(const z in M){const H=/(\w+)\.(\w+)/,L=z.match(H);if(L){const q=L[1],Y=L[2];__isset(P[q])||(P[q]=[]),P[q][Y]=M[z]}else P[z]=M[z]}for(const z in P)S.value[z]?S.value[z].errorMessages=P[z]:find(C.value,H=>H.name===z)&&reduce(S.value,(L,q,Y)=>(q.type==="wrap"&&L.push(Y),L),[]).forEach(L=>{S.value[L].schema[z]&&(S.value[L].schema[z].errorMessages=P[z])})},F=M=>{if(get(S.value,`${M}`))set(S.value,`${M}.errorMessages`,[]),set(S.value,`${M}.error`,!1);else for(const P in S.value)if(S.value[P].schema)for(const z in S.value[P].schema)z===M&&(set(S.value,`${P}.schema.${z}.errorMessages`,[]),set(S.value,`${P}.schema.${z}.error`,!1))},K=()=>{for(const M in S.value)if(F(M),S.value[M].schema)for(const P in S.value[M].schema)S.value[M].schema[P]&&F(`${M}.schema.${P}`)},R=()=>{K()},j=reactive({async validate(){return await V.VForm.validate()},createModel:M=>getModel(M,V.model.value,o.state),handleInput:M=>{const{on:P,key:z,obj:H}=M;P==="input"&&z&&(V.serverValid||F(z),D(H)),a.emit("input",M)},handleClick:M=>{const{on:P,obj:z,params:H}=M;P==="click"&&H&&H.tag&&n.invokeInputClickHandler(z,H.tag)},handleUpdate:M=>{},handleResize:M=>{},handleBlur:M=>{},submit:(M,P=null,z=null)=>{i.validModel.value?e.async?(M&&M.preventDefault(),e.actionUrl?k(P,z):(o.commit(FORM.SET_EDITED_ITEM,V.model),nextTick(()=>{k(P,z)}))):N(M):M&&M.preventDefault()},updatedSlotModel:(M,P)=>{},regenerateInputSchema:M=>{},updatedCustomFormBaseModelValue:M=>{w.value=M}});return watch$1(()=>e.modelValue,(M,P)=>{if(P!==void 0&&u.value){if(isEqual(M,P)&&isEqual(M,w.value))return;w.value=getModel(v.value,M,o.state)}}),watch$1(()=>b.value,(M,P)=>{u.value}),watch$1(()=>w.value,(M,P)=>{if(u.value){if(isEqual(M,P)&&isEqual(M,e.modelValue))return;a.emit("update:modelValue",M)}},{deep:!0}),watch$1(()=>V.errors,M=>{x(M)}),watch$1(()=>i.validModel.value,M=>{a.emit("update:valid",M)}),watch$1(()=>e.schema,(M,P)=>{!isEqual(M,P)&&y.value&&!isEqual(M,S.value)&&(v.value=M,h.value=getModel(v.value),S.value=i.invokeRuleGenerator(getSchema(v.value,w.value,e.isEditing)),E.value=getFormEventSchema(v.value,B.value,e.isEditing),R())},{deep:!0}),watch$1(()=>S.value,(M,P)=>{},{deep:!0}),watch$1(()=>v.value,(M,P)=>{if(P!==void 0&&!isEqual(M,P)){const z=cloneDeep(w.value),H=getModel(M,w.value,o.state);isEqual(H,z)||(w.value=H,S.value=i.invokeRuleGenerator(getSchema(M,w.value,e.isEditing)))}},{deep:!0}),R(),{...toRefs(V),...toRefs(j),...n,...i,...s}}function useAuthorization(){const e=useStore();return{can:(l,n=null)=>{const i=n?n+"_"+l:l;return e.getters.isSuperAdmin||e.getters.userPermissions[i]},hasRoles:l=>(window.__isString(l)&&(l=l.split(",").map(n=>n.trim())),e.getters.userRoles.some(n=>l.includes(n))),isYou:l=>{var n,i;return(((i=(n=e==null?void 0:e.getters)==null?void 0:n.userProfile)==null?void 0:i.id)??-1)==l}}}function useCache(){return{get:(n,i=null)=>store.getters[CACHE.GET_CACHE](n)??i,put:(n,i)=>{store.commit(CACHE.PUT_CACHE,{key:n,value:i})},push:(n,i)=>{store.commit(CACHE.PUSH_CACHE,{key:n,value:i})},last:(n,i=null)=>store.getters[CACHE.GET_LAST_CACHE](n)??i,forget:n=>{store.commit(CACHE.FORGET_CACHE,n)}}}function useDynamicModal(){const e=inject("modalService");if(!e)throw new Error("[ModalService] not installed. Did you forget `app.use(ModalService)`?");return e}const makeFilepondProps=propsFactory({hint:{type:String,default:null},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number},rules:{type:Array,default:()=>[]},noRules:{type:Boolean,default:!1},hintWeight:{type:String,default:"thin"},maxFiles:{type:Number,default:2},endPoints:{type:Object,default:()=>({})},class:{type:String,default:""},labelWeight:{type:String,default:"regular"},subtitle:{type:String,default:null},subtitleWeight:{type:String,default:"thin"},acceptedFileTypes:{type:String,default:""},allowImagePreview:{type:Boolean,default:!1},allowMultiple:{type:Boolean,default:!1},allowProcess:{type:Boolean,default:!0},allowRemove:{type:Boolean,default:!0},allowDrop:{type:Boolean,default:!0},allowReorder:{type:Boolean,default:!1},allowReplace:{type:Boolean,default:!1},dropOnPage:{type:Boolean,default:!1},dropOnElement:{type:Boolean,default:!0},dropValidation:{type:Boolean,default:!1},allowFileSizeValidation:{type:Boolean,default:!0},maxFileSize:{type:String,default:"5MB"},minFileSize:{type:String,default:"1KB"},maxTotalFileSize:{type:String,default:null},labelMaxFileSize:{type:String,default:"Maximum file size is {filesize}"},labelMaxFileSizeExceeded:{type:String,default:"File is too large"}});function useFilepond(e,a){const{requiredRule:o}=useValidation(e),r=window.__data_get(e.obj,"schema.rawRules","")||"",l=ref(e.rules??[]),n=ref(e.maxFiles),i=ref(e.min);return(e.isEditing?e.editable===!0:e.creatable===!0)&&!e.noRules&&e.min&&e.min>0&&!r.match(/required:array:\d+/)&&l.value.push(o.value("array",e.min)),i.value&&n.value<i.value&&(n.value=i.value),n.value<1&&(n.value=5),watch$1(()=>e.rules,s=>{l.value=s}),{filepondRules:l,max:n}}const makeInputFetchProps=propsFactory({itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},multiple:{type:Boolean,default:!1},page:{type:Number,default:1},lastPage:{type:Number,default:-1},itemsPerPage:{type:Number,default:20},endpoint:{type:String},items:{type:Array,default:()=>[]},sourceLoading:{type:Boolean,default:!1}});function useInputFetch(e,a){const o=ref(!1),r=ref(getURLWithoutQuery(e.endpoint)),l=ref(e.page||1),n=ref(e.lastPage||-1),i=ref(n.value>0?n.value+1:e.page||1),s=ref(""),d=ref(e.items||[]),c=ref(getParameters(e.endpoint)),m=computed(()=>new URLSearchParams({...c.value,...i.value?{page:i.value}:{},itemsPerPage:e.itemsPerPage,...s.value?{search:s.value}:{}}).toString()),p=computed(()=>getURLWithoutQuery(r.value)+"?"+m.value),u=async()=>{if(!(i.value>n.value)||n.value<0)return o.value=!0,a.emit("update:input",[{key:"sourceLoading",value:!0}]),new Promise(()=>{axios.get(p.value).then(g=>{if(g.status==200)if(n.value<0&&(n.value=g.data.resource.last_page),s.value==""?d.value=d.value.concat(g.data.resource.data??[]):d.value=g.data.resource.data??[],l.value=g.data.resource.current_page,i.value=g.data.resource.current_page+1,a.input.value){let f=!1;a.input.value&&(e.multiple?a.input.value.forEach(function(v){if(!d.value.find(C=>C[e.itemValue]==v))return f=!0,!1}):f=!d.value.find(v=>v[e.itemValue]==a.input.value)),f?u():(o.value=!1,a.emit("update:input",[{key:"sourceLoading",value:!1},{key:"items",value:d.value},{key:"lastPage",value:n.value},{key:"page",value:l.value}]))}else o.value=!1,a.emit("update:input",[{key:"sourceLoading",value:!1}])})})};return{loading:o,elements:d,getItemsFromApi:u,activePage:l,activeLastPage:n,nextPage:i,searchOnInputFetch:g=>{if(a.input){g==""?(d.value=[],u()):s.value=g;return}s.value=g,l.value=1,i.value=1,lastPage.value=-1,s.value==""&&(d.value=[]),u()}}}function useAlert(){const e=useStore();return{openAlert:o=>{e.commit(ALERT$1.SET_ALERT,o)}}}function useCastAttributes(){const{t,te}=useI18n(),AttributePattern=/\$([\w\d\.\*\_]+)/,EvalPattern=/^\{(.*)\}$/,castObjectAttribute=(value,ownerItem)=>{if(!isString(value))return value;let returnValue=value;if(AttributePattern.test(value)){let e=value.match(AttributePattern),a=e[1],o=__preg_quote(e[0]),r=a.split("."),l=[];for(const i in r){let s=r[i];if(s==="*"){let d=ownerItem.id;l.push(`*id=${d}`)}else l.push(s)}a=l.join(".");let n=__data_get(ownerItem,a);if(n){let i;if(isArray(n)&&n.length>0)i=n.join(",");else if(isString(n)){i=n;let s=snakeCase$1(i);te(`modules.${s}`)&&(i=t(`modules.${s}`))}else isNumber(n)&&(i=n.toString());if(i){let s="\\w\\s"+__preg_quote(".,;?|:_"),d=new RegExp(String.raw`^([${s}]+)?(${o})([${s}]+)?$`);value.match(d)?returnValue=value.replace(d,"$1"+i+"$3"):__log("Not matched sentence",d,value,value.match(d))}}}else if(EvalPattern.test(value)){let matches=value.match(EvalPattern),evalText=matches[1],evalParts=evalText.split(" ").map(e=>{if(AttributePattern.test(e)){let o=e.match(AttributePattern)[1],r=__data_get(ownerItem,o,void 0);if(r!==void 0)return r}return e});try{return eval(evalParts.join(" "))}catch(e){console.error("Error in eval",e)}}return returnValue},castObjectAttributes=(e,a)=>isString(e)?castObjectAttribute(e,a):isArray(e)?e.map(o=>castObjectAttributes(o,a)):isObject(e)?Object.keys(e).reduce((o,r)=>(o[r]=castObjectAttributes(e[r],a),o),{}):e;return{castObjectAttribute,castObjectAttributes}}function useBadge(e,a){return{isBadge:l=>{if(!window.__isset(l.badge))return!1;let n=l.badge;return window.__isString(n)&&(n=parseInt(n)),n>0},badgeProps:l=>({...l.componentProps??{},content:l.badgeContent??l.badge,color:l.badgeColor??"warning",textColor:l.badgeTextColor??"white"})}}const _sfc_main$1n={name:"FormActions",emits:["actionComplete"],props:{modelValue:{type:Object,required:!0},isEditing:{type:Boolean,required:!1},actions:{type:Object,required:!0}},setup(e,a){const{handleAction:o,allActions:r,hasActions:l}=useItemActions(e,{...a,actionItem:e.modelValue}),{generateButtonProps:n}=useGenerate(),{isBadge:i,badgeProps:s}=useBadge(),d=computed(()=>r.value.map(m=>!0));return{hasActions:l,allActions:r,handleAction:o,valids:d,createModel:m=>getModel(m,e.modelValue),generateButtonProps:n,isBadge:i,badgeProps:s}}};function _sfc_render$1c(e,a,o,r,l,n){const i=resolveComponent("ue-form"),s=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([r.hasActions?"d-flex flex-wrap ga-4 py-4":""])},[renderSlot(e.$slots,"prepend",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing}))),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.allActions,(d,c)=>(openBlock(),createElementBlock(Fragment,null,[d.type!=="modalx"?(openBlock(),createBlock(VTooltip,{key:0,disabled:!d.icon||d.forceLabel,location:d.tooltipLocation??"top"},{activator:withCtx(m=>[d.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:e.editedItem[d.key??"published"]??d.default??!1,ref_for:!0},{...d.componentProps,...m.props},{disabled:d.disabled??!1,"onUpdate:modelValue":p=>r.handleAction(d)}),null,16,["modelValue","disabled","onUpdate:modelValue"])):d.type==="modal"&&d.endpoint&&d.schema?(openBlock(),createBlock(s,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},d.modalAttributes??{}),{activator:withCtx(p=>[r.isBadge(d)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},r.badgeProps(d)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...r.generateButtonProps(d),...p.props,...m.props}),null,16)]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...r.generateButtonProps(d),...p.props,...m.props}),null,16))]),body:withCtx(p=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(i,mergeProps({ref_for:!0,ref:`extra-form-${c}`,modelValue:r.createModel(d.schema),title:d.formTitle??null,schema:d.schema,"action-url":d.endpoint.replace(":id",o.modelValue.id),valid:r.valids[c],"is-editing":o.isEditing,style:p.isFullActive?"height: 90vh !important;":"height: 70vh !important;","fill-height":"",scrollable:"","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:u=>e.$emit("actionComplete",{action:d}),"onUpdate:valid":u=>r.valids[c]=u,"onUpdatex:modelValue":a[0]||(a[0]=u=>e.$log(u))},d.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1024)]),_:2},1040)):d.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[r.isBadge(d)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},r.badgeProps(d)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...r.generateButtonProps(d),...m.props},{onClick:p=>r.handleAction(d)}),null,16,["onClick"])]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...r.generateButtonProps(d),...m.props},{onClick:p=>r.handleAction(d)}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(d.tooltip??d.label),1)]),_:2},1032,["disabled","location"])):createCommentVNode("",!0)],64))),256)),renderSlot(e.$slots,"append",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing})))],2)}const FormActions=_export_sfc(_sfc_main$1n,[["render",_sfc_render$1c]]),_sfc_main$1m={name:"FormEvents",emits:["update:modelValue"],props:{events:{type:Array,required:!0},modelValue:{type:Object,required:!0},formItem:{type:Object,default:()=>({})}},computed:{input:{get(){return this.modelValue??{}},set(e){this.$emit("update:modelValue",e)}}},methods:{updateValue(e,a){this.input={...this.modelValue,[e]:a}},getEventActiveLabel(e){const a=e.items.find(o=>o[e.itemValue]===(window.__isset(this.input[e.name])?this.input[e.name]:-1));return a?a[e.itemTitle]:e.label},getEventProps(e){return this.$lodash.omit(e,["type","name","tooltip","conditions","scopeRole","allowedRoles","tooltipLocation"])}}};function _sfc_render$1b(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff");return openBlock(!0),createElementBlock(Fragment,null,renderList(o.events,s=>(openBlock(),createBlock(VTooltip,{key:s.name,disabled:e.$isset(s.tooltip)||s.tooltip===!1,location:s.tooltipLocation??"top"},{activator:withCtx(d=>[s.type==="switch"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,ref_for:!0},{...e.$lodash.omit(s,"label"),...e.props},{"hide-details":"",modelValue:n.input[s.name]??s.default??!1,"onUpdate:modelValue":c=>n.updateValue(s.name,c),class:"mr-2"}),null,16,["modelValue","onUpdate:modelValue"])):s.viewOnlyComponent?(openBlock(),createBlock(i,mergeProps({key:1,configuration:s.viewOnlyComponent,"bind-data":{...n.input,...o.formItem},ref_for:!0},d.props,{class:"mr-2"}),null,16,["configuration","bind-data"])):s.component?(openBlock(),createBlock(resolveDynamicComponent(s.component),mergeProps({key:2,ref_for:!0},{...d.props,...n.getEventProps(s)},{modelValue:n.input[s.name]??s.default??!1,"onUpdate:modelValue":c=>n.updateValue(s.name,c),class:"mr-2"}),null,16,["modelValue","onUpdate:modelValue"])):s.items&&Array.isArray(s.items)&&s.items.length?(openBlock(),createBlock(VMenu,{key:3,"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:withCtx(c=>[createVNode(VBtn,mergeProps({class:"mr-2",variant:"outlined","append-icon":"mdi-chevron-down",ref_for:!0},c.props),{default:withCtx(()=>[createTextVNode(toDisplayString(n.getEventActiveLabel(s)),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.items,(c,m)=>(openBlock(),createBlock(VListItem,{key:c.id,onClick:p=>n.updateValue(s.name,c[s.itemValue])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(c.name)+" ",1),e.$isset(o.modelValue[s.name])&&c[s.itemValue]===o.modelValue[s.name]?(openBlock(),createBlock(VIcon,{key:0,size:"small",icon:"$check",color:"primary"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.tooltip??s.label),1)]),_:2},1032,["disabled","location"]))),128)}const FormEvents=_export_sfc(_sfc_main$1m,[["render",_sfc_render$1b]]),AdditionalSectionContent={props:{actionsPosition:String,isEditing:Boolean,formItem:Object,actions:[Array,Object]},emits:["action-complete"],template:`
    <div>
      <!-- Right Top Form Actions -->
      <FormActions v-if="actionsPosition == 'right-top' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-top"></slot>

      <!-- Right Middle Form Actions -->
      <FormActions v-if="actionsPosition == 'right-middle' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-middle"></slot>

      <!-- Right Bottom Form Actions -->
      <FormActions v-if="actionsPosition == 'right-bottom' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-bottom"></slot>
    </div>
  `,components:{FormActions}},_sfc_main$1l={name:"ue-form",components:{FormActions,FormEvents,AdditionalSectionContent},emits:["update:valid","update:modelValue","update:schema","input","actionComplete","submitted"],props:{...makeFormProps()},provide(){return{manualValidation:computed(()=>this.manualValidation),submitForm:computed(()=>this.submit)}},setup(e,a){useStore();const o=useForm(e,a),{t:r,te:l,locale:n}=useI18n({useScope:"global"}),i=computed(()=>[e.noDefaultFormPadding?"":"px-6 py-6",e.noDefaultSurface?"":"bg-surface",e.fillHeight?"d-flex flex-column h-100":"",e.formClass]),s=computed(()=>{const m=[];function p(u,y,g,f=""){let v=f!=""?`${f}-${y}`:y;Object.prototype.hasOwnProperty.call(u,"slots")&&Object.keys(u.slots).length>0?Object.keys(u.slots).forEach(C=>{g.push({type:"recursive-stuff",name:C,inputName:y,slotPath:v,context:u.slots[C]})}):Object.prototype.hasOwnProperty.call(u,"slotable")&&g.push({type:"form",name:u.slotable.name,inputName:u.slotable.slotTo,selfName:y,slotPath:v,schema:cloneDeep(o.invokeRuleGenerator({[y]:omit(u,["slotable"])}))}),u.schema&&isObject(u.schema)&&Object.keys(u.schema).forEach(C=>{let h=u.schema[C];p(h,C,g,v)})}return Object.keys(o.inputSchema.value).forEach(u=>{let y=o.inputSchema.value[u];p(y,u,m)}),m}),d=computed(()=>{let m={};return __isObject(e.title)&&(m={tag:e.title.tag||"div",type:e.title.type||"body-1",weight:e.title.weight||"regular",transform:e.title.transform||"none",color:e.title.color,padding:e.title.padding||"a-0",margin:e.title.margin||"a-0",align:e.title.align||"left",justify:e.title.justify||"start"}),m}),c=computed(()=>{let m=e.title;return __isObject(e.title)&&(m=e.title.text),l(m)?r(m):m});return computed(()=>e.hasStickyFrame?{cols:"12",sm:"12",md:"12",lg:"8",xl:"6","order-lg":"0","order-xl":"0"}:{cols:"12"}),computed(()=>({cols:"12",sm:"12",md:"12",lg:"4",xl:"6","order-lg":"1","order-xl":"1"})),onMounted(()=>{document.getElementById("timezone_session")&&o.model.value&&o.model.value._timezone&&(o.model.value._timezone=Intl.DateTimeFormat().resolvedOptions().timeZone)}),{...o,formClasses:i,formSlots:s,titleOptions:d,titleSerialized:c}}},_hoisted_1$U=["value"],_hoisted_2$K={class:"d-flex align-center"},_hoisted_3$F={class:"flex-grow-1 px-1"},_hoisted_4$w={key:2,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_5$r={key:1,class:"d-flex pt-6"},_hoisted_6$q={key:2},_hoisted_7$h={class:"ue-form__bottom"};function _sfc_render$1a(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("FormActions"),d=resolveComponent("FormEvents"),c=resolveComponent("v-custom-form-base"),m=resolveComponent("ue-recursive-stuff"),p=resolveComponent("AdditionalSectionContent");return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-form"]),style:normalizeStyle({height:e.fillHeight?e.$vuetify.display.mdAndDown?"calc(97vh - 64px)":"calc(97vh)":""})},[createVNode(VForm,{id:e.id,ref:"VForm",action:e.actionUrl,method:"POST",modelValue:e.validModel,"onUpdate:modelValue":a[14]||(a[14]=u=>e.validModel=u),onSubmit:e.submit,class:normalizeClass(r.formClasses)},{default:withCtx(()=>[e.async?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:0,type:"hidden",name:"_token",value:e.$csrf},null,8,_hoisted_1$U)),createBaseVNode("div",{class:normalizeClass([e.hasDivider||e.title?"pb-2 px-1":"",e.scrollable?"flex-grow-0":""])},[!e.noTitle&&e.title?(openBlock(),createBlock(i,mergeProps({key:0,padding:"b-3",align:"center",justify:"space-between"},r.titleOptions),{default:withCtx(()=>[renderSlot(e.$slots,"header.left",normalizeProps(guardReactiveProps({title:r.titleSerialized,subtitle:e.subtitle??null,model:e.model,schema:e.inputSchema,formItem:e.formItem})),()=>[createBaseVNode("span",null,[createTextVNode(toDisplayString(r.titleSerialized)+" ",1),e.subtitle?(openBlock(),createBlock(i,{key:0,text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},null,8,["text"])):createCommentVNode("",!0)])])]),right:withCtx(()=>[createBaseVNode("div",_hoisted_2$K,[e.actionsPosition=="title-center"&&e.isEditing?(openBlock(),createBlock(s,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[0]||(a[0]=u=>e.$emit("actionComplete",u))},{prepend:withCtx(()=>[renderSlot(e.$slots,"actions.prepend")]),append:withCtx(()=>[renderSlot(e.$slots,"actions.append")]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"headerCenter"),e.actionsPosition=="title-right"&&e.isEditing?(openBlock(),createBlock(s,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[1]||(a[1]=u=>e.$emit("actionComplete",u))},{prepend:withCtx(u=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(u)))]),append:withCtx(u=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(u)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.formEventSchema&&e.formEventSchema.length&&e.model?(openBlock(),createBlock(d,{key:2,events:e.formEventSchema,modelValue:e.model,"onUpdate:modelValue":a[2]||(a[2]=u=>e.model=u),"form-item":e.formItem},null,8,["events","modelValue","form-item"])):createCommentVNode("",!0),e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1?(openBlock(),createBlock(VChipGroup,{key:3,modelValue:e.currentLocale.value,"onUpdate:modelValue":a[3]||(a[3]=u=>e.updateLocale(u)),"selected-class":"bg-primary",mandatory:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.languages,u=>(openBlock(),createBlock(VChip,{key:u.value,text:u.shortlabel,value:u.value,variant:"outlined"},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])):createCommentVNode("",!0),renderSlot(e.$slots,"header.right")])]),_:3},16)):createCommentVNode("",!0),e.hasDivider?(openBlock(),createBlock(VDivider,{key:1})):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["d-flex",e.scrollable?"flex-grow-1 overflow-hidden mr-n5":""])},[createBaseVNode("div",{class:normalizeClass(["w-100 d-flex",e.scrollable?"overflow-y-auto pr-3":""])},[createBaseVNode("div",_hoisted_3$F,[e.actionsPosition=="top"&&e.isEditing?(openBlock(),createBlock(s,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[4]||(a[4]=u=>e.$emit("actionComplete",u))},{prepend:withCtx(u=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(u)))]),append:withCtx(u=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(u)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"top",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.schema}))),e.actionsPosition=="middle"&&e.isEditing?(openBlock(),createBlock(s,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[5]||(a[5]=u=>e.$emit("actionComplete",u))},{prepend:withCtx(u=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(u)))]),append:withCtx(u=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(u)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_4$w,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:60,width:6})])):createCommentVNode("",!0),createVNode(c,{class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":""),id:e.formBaseId,modelValue:e.model,"onUpdate:modelValue":a[7]||(a[7]=u=>e.model=u),schema:e.inputSchema,row:e.rowAttribute,"form-item":e.formItem,"no-auto-generate-schema":"",onUpdate:e.handleUpdate,onInput:e.handleInput,onResize:e.handleResize,onBlur:e.handleBlur,onClick:e.handleClick},createSlots({_:2},[renderList(r.formSlots,(u,y)=>({name:`slot-inject-${u.name}-key-${e.formBaseId}-${u.slotPath}`,fn:withCtx(g=>[u.type=="form"?(openBlock(),createBlock(c,{key:0,id:`${e.formBaseId}-${u.name}`,modelValue:e.model,"onUpdate:modelValue":a[6]||(a[6]=f=>e.model=f),schema:u.schema,"onUpdate:schema":f=>u.schema=f,row:e.rowAttribute},null,8,["id","modelValue","schema","onUpdate:schema","row"])):u.type=="recursive-stuff"?(openBlock(),createBlock(m,{key:1,configuration:u.context,bindData:g},null,8,["configuration","bindData"])):createCommentVNode("",!0)])}))]),1032,["class","id","modelValue","schema","row","form-item","onUpdate","onInput","onResize","onBlur","onClick"]),e.actionsPosition=="bottom"&&e.isEditing?(openBlock(),createBlock(s,{key:3,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[8]||(a[8]=u=>e.$emit("actionComplete",u))},{prepend:withCtx(u=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(u)))]),append:withCtx(u=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(u)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0)]),e.hasAdditionalSection&&e.$vuetify.display.lgAndUp?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([`flex-grow-0 ml-${e.rightSlotGap}`])},[createBaseVNode("div",{class:normalizeClass(["pt-2 gr-4",e.$vuetify.display.smAndDown?"d-none":"d-flex flex-column"]),style:normalizeStyle({...e.rightSlotWidth?{width:`${e.rightSlotWidth}px`}:{},...e.rightSlotMinWidth?{minWidth:`${e.rightSlotMinWidth}px`}:{},...e.rightSlotMaxWidth?{maxWidth:`${e.rightSlotMaxWidth}px`}:{}})},[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(p,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:a[9]||(a[9]=u=>e.$emit("actionComplete",u))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])],6)],2)):createCommentVNode("",!0),e.hasAdditionalSection&&e.$vuetify.display.mdAndDown?(openBlock(),createBlock(VBtn,{key:1,icon:"",class:"mt-2",onClick:a[10]||(a[10]=u=>e.showAdditionalSectionDialog=!0)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[15]||(a[15]=[createTextVNode("mdi-menu-right")])),_:1})]),_:1})):createCommentVNode("",!0),e.hasAdditionalSection?(openBlock(),createBlock(VDialog,{key:2,modelValue:e.showAdditionalSectionDialog,"onUpdate:modelValue":a[13]||(a[13]=u=>e.showAdditionalSectionDialog=u),"max-width":"500px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(e.additionalSectionDialogTitle||"Additional Options"),1),createVNode(VSpacer),createVNode(VBtn,{variant:"text",size:"default",icon:"",onClick:a[11]||(a[11]=u=>e.showAdditionalSectionDialog=!1)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[16]||(a[16]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(p,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:a[12]||(a[12]=u=>e.$emit("actionComplete",u))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])):createCommentVNode("",!0)],2)],2),e.pushButtonToBottom?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),e.hasSubmit&&e.isSubmittable||e.$slots.submit||e.$slots.options||e.$slots.bottom?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(["px-1",e.scrollable?"flex-grow-0":""])},[e.hasSubmit&&!e.stickyButton&&e.hasDivider?(openBlock(),createBlock(VDivider,{key:0,class:""})):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_5$r,[renderSlot(e.$slots,"submit",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,buttonDefaultText:e.buttonDefaultText,loading:e.loading})),()=>[renderSlot(e.$slots,"options",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,loading:e.loading}))),e.isSubmittable?(openBlock(),createBlock(VBtn,{key:0,type:"submit",disabled:!(e.validModel||!e.serverValid)||e.loading||!e.isSubmittable,class:"ml-auto mb-5",loading:e.loading,color:e.isSubmittable?"primary":"warning"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.isSubmittable?e.buttonDefaultText:"No Operation To Perform"),1)]),_:1},8,["disabled","loading","color"])):createCommentVNode("",!0)])])):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_6$q,[e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,indeterminate:"",color:"green"})):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$h,[renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))])],2)):createCommentVNode("",!0)]),_:3},8,["id","action","modelValue","onSubmit","class"])],4)}const Form=_export_sfc(_sfc_main$1l,[["render",_sfc_render$1a]]),__vite_glob_0_13=Object.freeze(Object.defineProperty({__proto__:null,default:Form},Symbol.toStringTag,{value:"Module"})),_sfc_main$1k={name:"FormSummaryItem",props:{index:{type:Number,required:!0},title:{type:String,required:!0},model:{type:Object,required:!0}},created(){}},_hoisted_1$T={class:"mb-6"},_hoisted_2$J={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_3$E={class:"font-weight-bold text-primary"},_hoisted_4$v={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_5$q={key:0,class:""},_hoisted_6$p={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}};function _sfc_render$19(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$T,[createBaseVNode("div",_hoisted_2$J,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(o.index+1),1)]),_:1}),createBaseVNode("span",_hoisted_3$E,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(o.index+1),1)]),createBaseVNode("div",_hoisted_4$v,toDisplayString(o.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model,(i,s)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model[s],(d,c)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}-${o.index}`},[Array.isArray(d)?(openBlock(),createElementBlock("div",_hoisted_5$q,[createBaseVNode("span",_hoisted_6$p,toDisplayString(e.window.__isObject(o.model[s])?c:d[0])+": ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(o.model[s])?d:d.slice(1),m=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${s}-${o.index}-${s}-${c}`,style:{"margin-inline-end":"8px"}},toDisplayString(m),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px","margin-block-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(d),1)]),_:2},1024))],64))),128))],64))),128))])}const FormSummaryItem=_export_sfc(_sfc_main$1k,[["render",_sfc_render$19],["__scopeId","data-v-332f12e2"]]),__vite_glob_0_14=Object.freeze(Object.defineProperty({__proto__:null,default:FormSummaryItem},Symbol.toStringTag,{value:"Module"})),_hoisted_1$S={class:"pa-3 bg-primary"},__default__={data(){return{}},created(){}},_sfc_main$1j=Object.assign(__default__,{__name:"ImpersonateToolbar",props:{modelValue:{type:Boolean,default:!1},active:{type:Boolean,default:!1},users:{type:Array,default(){return[]}},impersonated:{type:Boolean,default:!1},route:{type:String,default:"/users/impersonate/:id"},stopRoute:{type:String,default:"/users/impersonate/stop"}},emits:["update:modelValue"],setup(e,{emit:a}){const o=e,r=a,l=ref(null),n=computed({get(){return o.modelValue},set(s){r("update:modelValue",s)}});watch$1(l,function(s,d){});const i=computed(()=>o.route.replace(":id",l.value));return(s,d)=>(openBlock(),createBlock(VBottomSheet,{modelValue:n.value,"onUpdate:modelValue":d[1]||(d[1]=c=>n.value=c)},{activator:withCtx(({props:c})=>[createVNode(VListItem,mergeProps(c,{class:"font-weight-bold mt-2",ripple:!1,append:!1,"prepend-icon":"mdi-account-switch",title:"Impersonate Manager"}),null,16)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$S,[e.impersonated?(openBlock(),createBlock(VBtn,{key:0,color:"red",href:e.stopRoute},{default:withCtx(()=>d[2]||(d[2]=[createTextVNode(" Stop Impersonating ")])),_:1},8,["href"])):createCommentVNode("",!0),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VSelect,{key:1,class:"mt-5",modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=c=>l.value=c),items:e.users,variant:"outlined",density:"compact","item-title":"name","item-value":"id",clearable:""},null,8,["modelValue","items"])),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:2,href:i.value,disabled:!l.value},{default:withCtx(()=>d[3]||(d[3]=[createTextVNode("Impersonate")])),_:1},8,["href","disabled"]))])]),_:1},8,["modelValue"]))}}),__vite_glob_0_15=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1j},Symbol.toStringTag,{value:"Module"})),_sfc_main$1i={name:"ue-list-element",props:{item:{type:Object,required:!0},selectItem:{type:Number,default:0},selectedSubItem:{type:Number,default:0}},data:()=>({open:["Users"],admins:[["Management","mdi-account-multiple-outline"],["Settings","mdi-cog-outline"]],cruds:[["Create","mdi-plus-outline"],["Read","mdi-file-outline"],["Update","mdi-update"],["Delete","mdi-delete"]]})};function _sfc_render$18(e,a,o,r,l,n){return openBlock(),createBlock(VList,{opened:e.open,"onUpdate:opened":a[0]||(a[0]=i=>e.open=i)},{default:withCtx(()=>[createVNode(VListItem,{"prepend-icon":"mdi-home",title:"Home"}),createVNode(VListGroup,{value:"Users"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{"prepend-icon":"mdi-account-circle",title:"Users"}),null,16)]),default:withCtx(()=>[createVNode(VListGroup,{value:"Admin"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{title:"Admin"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.admins,([i,s],d)=>(openBlock(),createBlock(VListItem,{key:d,title:i,"prepend-icon":s,value:i},null,8,["title","prepend-icon","value"]))),128))]),_:1}),createVNode(VListGroup,{value:"Actions"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{title:"Actions"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.cruds,([i,s],d)=>(openBlock(),createBlock(VListItem,{key:d,value:i,title:i,"prepend-icon":s},null,8,["value","title","prepend-icon"]))),128))]),_:1})]),_:1})]),_:1},8,["opened"])}const ListElement=_export_sfc(_sfc_main$1i,[["render",_sfc_render$18]]),__vite_glob_0_16=Object.freeze(Object.defineProperty({__proto__:null,default:ListElement},Symbol.toStringTag,{value:"Module"})),_sfc_main$1h={name:"ue-list-section",props:{title:{type:String},titleTag:{type:String,default:"h3"},titleClasses:{type:String,default:"text-body-1 font-weight-medium"},itemClasses:{type:String,default:"text-body-2"},headerClasses:{type:String,default:"text-body-2 font-weight-bold"},items:{type:Array,required:!0},itemFields:{type:Array,default:()=>["name"]},headers:{type:Array,default:null},showHeader:{type:Boolean,default:!1},colClasses:{type:Array,default:()=>[]},colWidths:{type:Array,default:()=>[]},colRatios:{type:Array,default:()=>[]},rowClassFn:{type:Function,default:null},emptyMessage:{type:String,default:"No items to display"},striped:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},hasRowBottomBorder:{type:Boolean,default:!1},actionsHeader:{type:String,default:""},verticalAlignTop:{type:Boolean,default:!1}},computed:{effectiveHeaders(){return this.headers||this.itemFields.map(e=>e.replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase()))},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.itemFields.length:this.colRatios.reduce((e,a,o)=>e+(a||1),0)}},methods:{getColumnStyle(e){if(this.colWidths&&this.colWidths[e])return{width:this.colWidths[e],flexBasis:this.colWidths[e]};if(this.colRatios&&this.colRatios.length>0){const l=this.colRatios[e]||1,n=l/this.totalRatio*100;return{flex:`${l} 0 0`,maxWidth:`${n}%`}}const a=this.itemFields.length,o=this.$slots["row-actions"]?1:0;return{flex:"1 1 0",maxWidth:`${100/(a+o)}%`}},getRowClass(e,a){let o=[this.itemClasses];if(this.striped&&a%2===1&&o.push("bg-grey-lighten-5"),this.hoverable&&o.push("ue-list-section__row--hoverable"),this.rowClassFn){const r=this.rowClassFn(e,a);r&&o.push(r)}return o.join(" ")}}},_hoisted_1$R={class:"ue-list-section"},_hoisted_2$I={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_3$D={key:1,class:"ue-list-section__row ue-list-section__row--title"},_hoisted_4$u={class:"ue-list-section__cell"},_hoisted_5$p={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_6$o={key:2,class:"ue-list-section__row ue-list-section__row--empty"},_hoisted_7$g={class:"ue-list-section__row--empty .ue-list-section__cell"};function _sfc_render$17(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$R,[createBaseVNode("div",{class:normalizeClass(["ue-list-section__container",{"align-top":o.verticalAlignTop}])},[o.showHeader?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-list-section__row ue-list-section__row--header",o.headerClasses])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.effectiveHeaders,(i,s)=>(openBlock(),createElementBlock("div",{key:`header-${s}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[s]??""]]),style:normalizeStyle(n.getColumnStyle(s))},[renderSlot(e.$slots,`header.${s}`,mergeProps({ref_for:!0},{header:i}),()=>[createTextVNode(toDisplayString(i),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_2$I,[renderSlot(e.$slots,"actions-header",{},()=>[createTextVNode(toDisplayString(o.actionsHeader),1)],!0)])):createCommentVNode("",!0)],2)):createCommentVNode("",!0),o.title?(openBlock(),createElementBlock("div",_hoisted_3$D,[createBaseVNode("div",_hoisted_4$u,[(openBlock(),createBlock(resolveDynamicComponent(o.titleTag),{class:normalizeClass(o.titleClasses)},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"]))])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(i,s)=>(openBlock(),createElementBlock("div",{key:`item-${s}`,class:normalizeClass(["ue-list-section__row ue-list-section__row--data",[n.getRowClass(i,s),{"has-bottom-border":o.hasRowBottomBorder}]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.itemFields,(d,c)=>(openBlock(),createElementBlock("div",{key:`item-field-${c}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[c]??""]]),style:normalizeStyle(n.getColumnStyle(c))},[renderSlot(e.$slots,`field.${c}`,mergeProps({ref_for:!0},{value:e.$lodash.get(i,d),item:i,index:s}),()=>[createTextVNode(toDisplayString(e.$lodash.get(i,d,"")),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_5$p,[renderSlot(e.$slots,"row-actions",mergeProps({ref_for:!0},{item:i,index:s}),void 0,!0)])):createCommentVNode("",!0)],2))),128)),o.items.length===0&&o.emptyMessage?(openBlock(),createElementBlock("div",_hoisted_6$o,[createBaseVNode("div",_hoisted_7$g,toDisplayString(o.emptyMessage),1)])):createCommentVNode("",!0)],2)])}const ListSection=_export_sfc(_sfc_main$1h,[["render",_sfc_render$17],["__scopeId","data-v-e89d1f35"]]),__vite_glob_0_17=Object.freeze(Object.defineProperty({__proto__:null,default:ListSection},Symbol.toStringTag,{value:"Module"})),_sfc_main$1g={emits:["update:modelValue"],props:{csrf:{type:String}},data(){return{dialog:!1}}},_hoisted_1$Q=["value"];function _sfc_render$16(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:l.dialog,"onUpdate:modelValue":a[1]||(a[1]=d=>l.dialog=d)},e.$bindAttributes(),{"width-type":"md"}),{activator:withCtx(({props:d})=>[renderSlot(e.$slots,"activator",{props:d},()=>[createVNode(VBtn,mergeProps({class:"w-66 m-auto",color:"red lighten-2",dark:""},d),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040)])]),body:withCtx(d=>[createVNode(VCard,{class:"text-center"},{default:withCtx(()=>[createVNode(VCardTitle,{class:""},{default:withCtx(()=>[createVNode(i,{type:"h5",weight:"medium",justify:"center",color:"primary",padding:"t-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Log Out")),1)]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Are you sure you want to logout?")),1)]),_:1}),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(VBtn,{class:"",variant:"outlined",onClick:a[0]||(a[0]=c=>l.dialog=!1),density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Cancel")),1)]),_:1}),createVNode(VForm,{method:"post",action:"/logout"},{default:withCtx(()=>[createBaseVNode("input",{type:"hidden",name:"_token",value:e.$csrf()},null,8,_hoisted_1$Q),createVNode(VBtn,{variant:"elevated",type:"submit",density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Log Out")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:3},16,["modelValue"])}const LogoutModal=_export_sfc(_sfc_main$1g,[["render",_sfc_render$16]]),__vite_glob_0_18=Object.freeze(Object.defineProperty({__proto__:null,default:LogoutModal},Symbol.toStringTag,{value:"Module"})),_sfc_main$1f={name:"A17MediaMetadata",props:{media:{type:Object,default:()=>{}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:{fieldName:function(){return`${this.name}[${this.id}]`},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?typeof this.defaultMetadatas=="object"?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":this.defaultMetadatas!==null?this.defaultMetadatas:"":""},...mapState({languages:e=>e.language.all,currentLocale:e=>e.language.active.value})},methods:{saveMetadata:function(e){e.locale||(e={value:e}),e.id=this.id,this.$emit("change",e)}},mounted:function(){const e={};let a="",o=0;this.languages.forEach(r=>{const l=r.value;if(this.customMetadatas){this.customMetadatas[l]?e[l]=this.customMetadatas[l]:(this.customMetadatas===!0||typeof this.customMetadatas=="string")&&o===0?(e[l]=this.customMetadatas,a=this.customMetadatas):e[l]="";const n={};n.name=this.fieldName,n.value=e[l],this.languages.length>1&&(n.locale=l),this.$store.commit(FORM.UPDATE_FORM_FIELD,n)}o++}),this.initialValues=e,this.initialValue=a}},_hoisted_1$P={key:1},_hoisted_2$H=["innerHTML"],_hoisted_3$C={key:3,class:"mediaMetadata__checkbox"};function _sfc_render$15(e,a,o,r,l,n){const i=resolveComponent("a17-locale"),s=resolveComponent("a17-wysiwyg"),d=resolveComponent("a17-textfield"),c=resolveComponent("a17-checkbox");return e.languages.length>1&&n.fieldType==="text"?(openBlock(),createBlock(i,{key:0,type:o.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:n.attributes,onChange:n.saveMetadata},null,8,["type","initialValues","attributes","onChange"])):n.fieldType==="text"&&o.wysiwyg?(openBlock(),createElementBlock("div",_hoisted_1$P,[createVNode(s,{options:o.wysiwygOptions,label:o.label,name:n.fieldName,type:n.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:n.saveMetadata},null,8,["options","label","name","type","initialValue","maxlength","onChange"]),createBaseVNode("p",{class:"f--note f--small",innerHTML:n.placeholder},null,8,_hoisted_2$H)])):n.fieldType==="text"?(openBlock(),createBlock(d,{key:2,label:o.label,name:n.fieldName,type:"text",placeholder:n.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:n.saveMetadata},null,8,["label","name","placeholder","initialValue","maxlength","onChange"])):n.fieldType==="checkbox"?(openBlock(),createElementBlock("div",_hoisted_3$C,[createVNode(c,{label:o.label,name:n.fieldName,initialValue:e.initialValue,value:1,onChange:n.saveMetadata,inStore:"value"},null,8,["label","name","initialValue","onChange"])])):createCommentVNode("",!0)}const MediaMetadata=_export_sfc(_sfc_main$1f,[["render",_sfc_render$15],["__scopeId","data-v-b8b069a3"]]),__vite_glob_0_19=Object.freeze(Object.defineProperty({__proto__:null,default:MediaMetadata},Symbol.toStringTag,{value:"Module"})),_hoisted_1$O={class:"d-flex"},_hoisted_2$G={key:0,class:"d-flex align-center justify-center me-2"},_sfc_main$1e={__name:"Metric",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},color:{type:String,default:null},cardColor:{type:String,default:null},labelColor:{type:String,default:null},valueClass:{type:String,default:""},labelClass:{type:String,default:""},dense:{type:Boolean,default:!1},noInline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},icon:{type:String,default:null},appendIcon:{type:String,default:null},appendIconAttributes:{type:Object,default:()=>({})}},setup(e){const a=e,o=computed(()=>({"d-inline-block":!a.noInline,"ue-metric":!0,"text-center":a.center,"py-1 px-1":!a.dense})),r=computed(()=>["font-weight-bold",a.dense?"text-h4":"text-h3",a.color?`text-${a.color}`:"",a.valueClass]),l=computed(()=>[a.color?`text-${a.color}`:"",a.labelColor?`text-${a.labelColor}`:"",a.dense?"text-caption":"text-subtitle",a.labelClass]);return(n,i)=>(openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value)},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-3 pr-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$O,[e.appendIcon?(openBlock(),createElementBlock("div",_hoisted_2$G,[createVNode(VIcon,mergeProps(e.appendIconAttributes,{icon:e.appendIcon}),null,16,["icon"])])):createCommentVNode("",!0),createBaseVNode("div",null,[renderSlot(n.$slots,"value",normalizeProps(guardReactiveProps({value:e.value,classes:r.value})),()=>[createBaseVNode("div",{class:normalizeClass(r.value)},toDisplayString(e.value),3)],!0),renderSlot(n.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,classes:l.value,icon:e.icon})),()=>[createBaseVNode("div",{class:normalizeClass(l.value)},[e.icon?(openBlock(),createBlock(VIcon,{key:0,icon:e.icon},null,8,["icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.label),1)],2)],!0)])])]),_:3})]),_:3},8,["color","class"]))}},Metric=_export_sfc(_sfc_main$1e,[["__scopeId","data-v-57735a08"]]),__vite_glob_0_20=Object.freeze(Object.defineProperty({__proto__:null,default:Metric},Symbol.toStringTag,{value:"Module"})),_sfc_main$1d={__name:"MetricGroups",props:{title:{type:String,default:""},items:{type:Array,required:!0},defaultCol:{type:Object,default:()=>({cols:12})},metricsBgHeaderColor:{type:String,default:null},metricsNoInline:{type:Boolean,default:null},metricColor:{type:String,default:null},metricCardColor:{type:String,default:null},metricLabelColor:{type:String,default:null},metricValueClass:{type:String,default:null},metricLabelClass:{type:String,default:null},metricNoInline:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>({...a.metricColor?{metricColor:a.metricColor}:{},...a.metricCardColor?{metricCardColor:a.metricCardColor}:{},...a.metricLabelColor?{metricLabelColor:a.metricLabelColor}:{},...a.metricValueClass?{metricValueClass:a.metricValueClass}:{},...a.metricLabelClass?{metricLabelClass:a.metricLabelClass}:{},...a.metricNoInline?{metricNoInline:a.metricNoInline}:{}})),r=computed(()=>a.items.map(l=>({...a.metricsBgHeaderColor?{bgHeaderColor:a.metricsBgHeaderColor}:{},...a.metricsNoInline?{noInline:a.metricsNoInline}:{},...o.value,...l})));return(l,n)=>{const i=resolveComponent("ue-metrics");return openBlock(),createBlock(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(s,d)=>(openBlock(),createBlock(VCol,mergeProps({key:d,ref_for:!0},{...e.defaultCol,...s.col??{}}),{default:withCtx(()=>[createVNode(i,mergeProps({ref_for:!0},{...l.$lodash.omit(s,"col")}),null,16)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})}}},__vite_glob_0_21=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1d},Symbol.toStringTag,{value:"Module"})),_hoisted_1$N={class:"py-2"},_sfc_main$1c={__name:"Metrics",props:{title:{type:String,required:!0},subtitle:{type:String,default:null},items:{type:Array,default:()=>[]},color:{type:String,default:null},cardColor:{type:String,default:null},filterColor:{type:String,default:null},bgHeaderColor:{type:String,default:null},hasGutter:{type:Boolean,default:!1},gutterStep:{type:Number,default:1},rowClass:{type:String,default:null},noInline:{type:Boolean,default:!1},dateLabel:{type:String,default:"Today"},date:{type:String,default:null},metricWidth:{type:[String,Number],default:null},minMetricWidth:{type:[String,Number],default:130},metricAttributes:{type:Object,default:()=>({})},endpoint:{type:String,default:null}},setup(e){const a=e,o=computed(()=>[a.noInline?"":"d-inline-block"]),r=computed(()=>[a.bgHeaderColor?`bg-${a.bgHeaderColor}`:"","d-flex justify-space-between align-center pa-4"]),l=computed(()=>[a.color?`text-${a.color}`:"","font-weight-medium text-body-1 text-wrap"]),n=computed(()=>[a.filterColor?`text-${a.filterColor}`:"","d-flex align-center"]),i=computed(()=>["d-flex flex-wrap ga-4",a.rowClass?a.rowClass:"",a.hasGutter?`mx-n${a.gutterStep}`:""]),s=computed(()=>({...a.metricAttributes??{}})),d=ref(a.items),c=computed(()=>d.value.filter(g=>g.connectorFilter&&isObject(g.connectorFilter)&&g.connectorFilter.name&&g.connectorFilter.args)),m=computed(()=>c.value.length>0),p=ref(null),u=ref(!1),y=()=>{u.value=!0,axios.post(a.endpoint,{date_range:p.value,items:d.value}).then(g=>{g.data.variant==="success"&&(d.value=g.data.data)}).catch(g=>{console.log(g)}).finally(()=>{u.value=!1})};return watch$1(p,(g,f)=>{(Array.isArray(g)&&g.length>1||!g&&f&&f.length>1)&&y()}),(g,f)=>{const v=resolveComponent("ue-title"),C=resolveComponent("v-date-input"),h=resolveComponent("ue-metric");return openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value),elevation:"0"},{default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(r.value)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$N,[createVNode(v,{padding:"a-0",text:e.title,class:normalizeClass(l.value)},null,8,["text","class"]),createVNode(v,{padding:"a-0",text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none"},null,8,["text"])]),m.value&&e.endpoint?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.value),style:{width:"280px"}},[createVNode(C,{modelValue:p.value,"onUpdate:modelValue":f[0]||(f[0]=b=>p.value=b),Xlabel:g.$t(""),"validate-on":"submit blur",variant:"outlined",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"",required:"","hide-details":"",multiple:"range",clearable:"",disabled:u.value,class:"w-100"},null,8,["modelValue","Xlabel","disabled"])],2)):createCommentVNode("",!0)]),_:1},8,["class"]),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(i.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,(b,w)=>(openBlock(),createBlock(h,mergeProps({key:w,style:[e.metricWidth?`width: ${e.metricWidth}`:"",e.minMetricWidth?`min-width: ${e.minMetricWidth}px`:""],dense:"","no-inline":"",ref_for:!0},{...s.value,...b}),createSlots({_:2},[b.filtered?{name:"value",fn:withCtx(B=>[createVNode(VBadge,{color:"grey-lighten-4",class:"text-white",icon:"mdi-filter-check",inline:"",Xdot:"","X-floating":""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(B.classes)},toDisplayString(B.value),3)]),_:2},1024)]),key:"0"}:void 0]),1040,["style"]))),128))],2)]),_:1})]),_:1},8,["color","class"])}}},__vite_glob_0_22=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1c},Symbol.toStringTag,{value:"Module"})),_sfc_main$1b={name:"ue-navigation-group",inject:["activeMenu"],props:{items:{type:Array,required:!0},level:{type:Number,default:0},hideIcons:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1},profileMenu:{type:Boolean,default:!1}},setup(e,a){const o=(r,l)=>(Array.isArray(l)&&l.forEach(function(n){__isset(n.is_active)&&n.is_active&&__isset(n.items)&&(r.push(n.name),o(r,n.items))}),r);return{getListGroupOpens:o}},data:()=>({opened:[]}),computed:{activeIndex:{get(){try{return this.items.findIndex(e=>e.is_active==1)}catch{return 0}},set(e){}},style(){return{marginLeft:"0rem"}}},created(){this.opened=this.getListGroupOpens([],this.items)},watch:{},methods:{getComponentType(e){return this.isSubgroup(e)?"v-list-group":this.isMenu(e)?"v-menu-wrapper":"v-list-item"},getComponentProps(e,a){const o={index:a};return this.isSubgroup(e)?{...e.props??{},"prepend-icon":e.icon,value:e.name,items:e.items,level:this.level+1,...o}:this.isMenu(e)?{item:e,...e.props??{},hideIcons:this.hideIcons,...o}:{...o,...this.getListItemProps(e,a)}},getListItemProps(e,a){const o={nav:!0,active:this.activeIndex===a,ripple:!1,append:!1,title:e.name,"prepend-icon":this.hideIcons?null:e.icon};return this.isRoute(e)?(o.href=e.route||e.href,Object.assign(o,this.$bindAttributes(e))):this.isEvent(e)?o.onClick=()=>this.$call(e.event):this.isMenuRoute(e)?(o.density="compact",o.href=e.route||e.href,o.slim=!0,o.class={"px-4":!this.hideIcons,"ml-2":!0},Object.assign(o,this.$bindAttributes(e))):this.isHeader(e)&&(o.inactive=!0,o.disabled=!0),o},getListGroupOpens(e,a){return Array.isArray(a)&&a.forEach(o=>{o.is_active&&o.items&&(e.push(o.name),this.getListGroupOpens(e,o.items))}),e},isSubgroup:e=>!!e.items,isRoute(e){return!e.items&&(!!e.route||!!e.href)&&!this.profileMenu},isEvent:e=>!!e.attr,isHeader:e=>!e.href&&!e.route&&!e.items&&!!e.name,isMenu:e=>!!e.menuItems,isMenuRoute(e){return!e.menuItems&&this.profileMenu&&(!!e.route||!!e.href)},formatBadgeContent(e){let a=parseInt(e);return a>9?"9+":a}}};function _sfc_render$14(e,a,o,r,l,n){const i=resolveComponent("ue-navigation-group");return openBlock(),createBlock(VList,{modelValue:n.activeIndex,"onUpdate:modelValue":a[0]||(a[0]=s=>n.activeIndex=s),opened:e.opened,"onUpdate:opened":a[1]||(a[1]=s=>e.opened=s),style:normalizeStyle(n.style),"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,class:"mb-2 pl-0",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(s,d)=>(openBlock(),createElementBlock(Fragment,{key:d},[n.isSubgroup(s)?(openBlock(),createBlock(VListGroup,{key:d+"subgroup",index:d,ripple:!0,"prepend-icon":s.icon,"sub-group":!1,"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,value:s.name},{activator:withCtx(({props:c})=>[createVNode(VTooltip,{bottom:"",disabled:!o.showTooltip},{activator:withCtx(m=>[createBaseVNode("div",mergeProps({ref_for:!0},m.props),[createVNode(VListItem,mergeProps({ref_for:!0},c,{title:s.name,"prepend-icon":o.hideIcons?null:s.icon,nav:""}),createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(p=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:s.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040,["title","prepend-icon"])],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"])]),default:withCtx(()=>[createVNode(i,{items:s.items,level:o.level+1,hideIcons:o.hideIcons,"show-tooltip":o.showTooltip},null,8,["items","level","hideIcons","show-tooltip"])]),_:2},1032,["index","prepend-icon","active-class","value"])):n.isMenu(s)?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VListItem,{nav:"",title:s.name,"prepend-icon":s.icon,"append-icon":"mdi-menu-right",density:"compact",id:s.menuActivator,slim:!0,onClick:c=>e.$emit("activateMenu",s.menuActivator)},createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(c=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:s.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1032,["title","prepend-icon","id","onClick"]),n.activeMenu===`#${s.menuActivator}`?(openBlock(),createBlock(VMenu,{key:0,location:"end",activator:n.activeMenu},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(i,{items:Object.values(s.menuItems),"show-tooltip":o.showTooltip},null,8,["items","show-tooltip"])]),_:2},1024)]),_:2},1032,["activator"])):createCommentVNode("",!0)],64)):(openBlock(),createBlock(VTooltip,{key:2,bottom:"",disabled:!o.showTooltip},{activator:withCtx(({props:c})=>[createBaseVNode("div",mergeProps({ref_for:!0},c),[(openBlock(),createBlock(resolveDynamicComponent(n.getComponentType(s)),mergeProps({ref_for:!0},n.getComponentProps(s,d)),createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(m=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,mergeProps({ref_for:!0},s.iconProps??{},{icon:s.icon}),null,16,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040))],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"]))],64))),128))]),_:1},8,["modelValue","opened","style","active-class"])}const NavigationGroup=_export_sfc(_sfc_main$1b,[["render",_sfc_render$14]]),__vite_glob_0_23=Object.freeze(Object.defineProperty({__proto__:null,default:NavigationGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$1a={props:{payload:{type:Object,required:!0},endpoint:{type:String,required:!0},printKeys:{type:[Array,Object],required:!0},loadingText:{type:String,default:"Loading..."}},data(){return{values:{},loading:!0}},methods:{getDisplayText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||0]=="string")return e[this.printKeys[a||0]];const o=this.printKeys[a||0];return e[o==null?void 0:o.text]}return e[this.printKeys.text]??""},getSubText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||1]=="string")return e[this.printKeys[a||1]];const o=this.printKeys[a||0];return e[o==null?void 0:o.subText]}return e[this.printKeys.subText]??""},async sendRequest(){this.loading=!0;try{const e=await axios$1.post(this.endpoint,this.payload);e.status===200&&(this.values=e.data)}catch(e){console.error("Error calculating price:",e)}finally{this.loading=!1}}},mounted(){this.sendRequest()},watch:{payload:{handler(){this.sendRequest()},deep:!0}}},_hoisted_1$M={key:0,class:"d-flex flex-column align-center"},_hoisted_2$F={class:"mt-2"};function _sfc_render$13(e,a,o,r,l,n){const i=resolveComponent("ue-text-display");return openBlock(),createElementBlock("div",null,[l.loading?(openBlock(),createElementBlock("div",_hoisted_1$M,[createVNode(VProgressCircular,{indeterminate:"",color:"primary"}),createBaseVNode("span",_hoisted_2$F,toDisplayString(o.loadingText),1)])):(openBlock(),createElementBlock(Fragment,{key:1},[Array.isArray(l.values)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(l.values,(s,d)=>(openBlock(),createElementBlock("div",{key:d},[createVNode(i,{class:"text-h5",text:n.getDisplayText(s,d),"sub-text":n.getSubText(s,d)},null,8,["text","sub-text"])]))),128)):(openBlock(),createBlock(i,{key:1,class:"text-h5",text:n.getDisplayText(l.values),"sub-text":n.getSubText(l.values)},null,8,["text","sub-text"]))],64))])}const PrintRequest=_export_sfc(_sfc_main$1a,[["render",_sfc_render$13]]),__vite_glob_0_24=Object.freeze(Object.defineProperty({__proto__:null,default:PrintRequest},Symbol.toStringTag,{value:"Module"})),_hoisted_1$L={key:0},_hoisted_2$E=["innerHTML"],_hoisted_3$B=["innerHTML"],_sfc_main$19={__name:"PropertyList",props:{data:{type:[Array,Object],default:()=>[]},noPadding:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>Array.isArray(a.data)?a.data:typeof a.data=="object"&&a.data!==null?Object.entries(a.data).map(([l,n])=>[l,n]):[]),r=l=>!l||l.length===0?null:l.map(i=>Array.isArray(i)?i.join(", "):i).join(", ");return(l,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["ue-property-list",e.noPadding?"":"ue-property-list--padding"])},[!o.value||o.value.length===0?(openBlock(),createElementBlock("div",_hoisted_1$L,"No data available")):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(o.value,(i,s)=>(openBlock(),createElementBlock("div",{key:s,class:"ue-property-list__item d-flex flex-wrap"},[createBaseVNode("span",{class:"text-caption font-weight-bold pr-1",innerHTML:i[0].trim()+(i.slice(1).length>0?":":"")},null,8,_hoisted_2$E),createBaseVNode("span",{class:"text-caption",innerHTML:r(i.slice(1))},null,8,_hoisted_3$B)]))),128))],2))}},PropertyList=_export_sfc(_sfc_main$19,[["__scopeId","data-v-b43b9e9f"]]),__vite_glob_0_25=Object.freeze(Object.defineProperty({__proto__:null,default:PropertyList},Symbol.toStringTag,{value:"Module"})),_sfc_main$18={name:"ue-recursive-data-viewer",props:{data:{type:[Array,Object,String,Number,Boolean],required:!0},allArrayItemsClosed:{type:Boolean,default:!1},allArrayItemsOpen:{type:Boolean,default:!1},arrayIndex:{type:Number,default:null},objectDepth:{type:Number,default:0},allObjectsClosed:{type:Boolean,default:!1},allObjectsOpen:{type:Boolean,default:!1},objectTitle:{type:String,default:null}},data(){return{isExpanded:this.determineInitialExpanded(),expandedItems:new Set(this.determineInitialExpandedItems())}},methods:{determineInitialExpanded(){return Array.isArray(this.data)?this.allArrayItemsClosed?!1:this.allArrayItemsOpen?!0:this.arrayIndex===0:typeof this.data=="object"&&this.data!==null?this.allObjectsClosed?!1:this.allObjectsOpen?!0:this.objectDepth===0:!0},determineInitialExpandedItems(){return this.allArrayItemsClosed?[]:this.allArrayItemsOpen?Array.from({length:this.data.length},(e,a)=>a):[0]},toggleItem(e){this.expandedItems.has(e)?this.expandedItems.delete(e):this.expandedItems.add(e)},isItemExpanded(e){return this.expandedItems.has(e)},getPreview(e){return Array.isArray(e)?`Array(${e.length})`:typeof e=="object"&&e!==null?"Object":typeof e=="string"?`"${e.substring(0,30)}${e.length>30?"...":""}"`:String(e)}}},_hoisted_1$K={class:"text-body-2"},_hoisted_2$D={class:"array-items"},_hoisted_3$A={class:""},_hoisted_4$t={class:"json-key"},_hoisted_5$o={class:"json-value"},_hoisted_6$n={key:2};function _sfc_render$12(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-data-viewer");return Array.isArray(o.data)?(openBlock(),createBlock(VCard,{key:0,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"py-2 px-4"},{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-code-brackets",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_1$K,"Array ("+toDisplayString(o.data.length)+" items)",1)]),_:1}),createBaseVNode("div",_hoisted_2$D,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(s,d)=>(openBlock(),createElementBlock("div",{key:d,class:"array-item"},[createVNode(VCard,{variant:"flat",class:"mb-1"},{default:withCtx(()=>[createVNode(i,{data:s,"array-index":0,"object-depth":d===0?o.objectDepth:o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open"])]),_:2},1024)]))),128))])]),_:1})):typeof o.data=="object"&&o.data!==null?(openBlock(),createBlock(VCard,{key:1,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center py-2 px-4 collapsible-header text-body-2",onClick:a[0]||(a[0]=s=>l.isExpanded=!l.isExpanded)},{default:withCtx(()=>[createVNode(VIcon,{icon:l.isExpanded?"mdi-chevron-down":"mdi-chevron-right",class:"mr-2",size:"small"},null,8,["icon"]),createVNode(VIcon,{icon:"mdi-code-braces",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_3$A," Object ("+toDisplayString(Object.keys(o.data).length)+" properties) ",1)]),_:1}),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",null,[createVNode(VTable,{density:"compact",class:"json-table"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(s,d)=>(openBlock(),createElementBlock("tr",{key:d,class:"json-row"},[createBaseVNode("td",_hoisted_4$t,toDisplayString(d),1),createBaseVNode("td",_hoisted_5$o,[createVNode(i,{data:s,"array-index":0,"object-depth":o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen,"object-titlex":e.window.__isObject(s)?d:null},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open","object-titlex"])])]))),128))])]),_:1})],512),[[vShow,l.isExpanded]])]),_:1})]),_:1})):(openBlock(),createElementBlock("span",_hoisted_6$n,toDisplayString(o.data),1))}const RecursiveDataViewer=_export_sfc(_sfc_main$18,[["render",_sfc_render$12],["__scopeId","data-v-c5013ed3"]]),__vite_glob_0_26=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveDataViewer},Symbol.toStringTag,{value:"Module"})),_sfc_main$17={props:{configuration:{type:[Object,Array,String],default(){return{}}},level:{type:Number,default:0},bindData:{type:Object,default(){return{}}}},setup(props,context){const FuncPattern=/^\{(.*)\}$/,CastPattern=/\$([\w|.|\_|\-]+)/,slots=computed(()=>props.configuration.hasOwnProperty("slots")?props.configuration.slots:{});function isTextable(e){return isString(e)||isNumber(e)}function hasSlot(e){return e.hasOwnProperty("slots")}function isObject(e){return __isObject(e)}function applyCasting(value,funcs=[]){if(!window.__isString(value))return value;if(FuncPattern.test(value)){const matches=value.match(FuncPattern),evalText=matches[1];let evalParts=evalText.split(" ").map(e=>{if(CastPattern.test(e)){let o=e.match(CastPattern)[1],r=__data_get(props.bindData,o,void 0);if(r!==void 0)return r}return e});try{return eval(evalParts.join(" "))}catch(e){console.error(e)}}if(CastPattern.test(value)){const e=value.match(CastPattern);if(e){let a=get(props.bindData,e[1]);if(a!==void 0)try{funcs.forEach(o=>{window[o]&&typeof window[o]=="function"&&(a=window[o](a))})}catch(o){console.error(o)}return a}}return value}function castAttribute(e,a,o){let r=o,l=[];if(isArray(o)&&isString(o[0])&&(r=o.shift(),l=o),!isObject(o)){const n=applyCasting(r,l);n&&(e[a]=n,delete filteredAttributes[a])}}const filteredAttributes=cloneDeep(props.configuration.attributes),castedAttributes=computed(()=>{const e=cloneDeep(props.configuration.attributes);return reduce(e,(a,o,r)=>((isArray(o)||isString(o)||isObject(o))&&castAttribute(a,r,o),a),{})}),bindAttributes=computed(()=>{const e=props.bindData;let a={};if(e&&isObject(e)){let o=props.configuration.bind;o&&(isString(o)&&(o=[o]),isArray(o)&&e&&o.forEach(r=>{let l=r,n=r.match(CastPattern);n&&(l=n[1]);let i;Object.prototype.hasOwnProperty.call(e,l)?i=__data_get(e,l,void 0):Object.prototype.hasOwnProperty.call(e,r)&&(i=__data_get(e,r,void 0)),i!==void 0&&(a={...a,...i})}))}return a});return{isTextable,isArray,isObject,applyCasting,hasSlot,filteredAttributes,castedAttributes,bindAttributes,slots}},data(){return{}},created(){}};function _sfc_render$11(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff");return!o.configuration.tag&&r.isTextable(o.configuration.elements)?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(r.applyCasting(o.configuration.elements)),1)],64)):!o.configuration.tag&&r.isArray(o.configuration.elements)?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(o.configuration.elements,(s,d)=>(openBlock(),createBlock(resolveDynamicComponent(s.tag),mergeProps({key:`tag-${o.level}-${d}`,ref_for:!0},s.attributes),{default:withCtx(()=>[createTextVNode(toDisplayString(s.elements),1)]),_:2},1040))),128)):o.configuration.tag?(openBlock(),createBlock(resolveDynamicComponent(o.configuration.tag),normalizeProps(mergeProps({key:2},{...r.filteredAttributes,...r.bindAttributes,...r.castedAttributes})),createSlots({default:withCtx(()=>[r.isArray(o.configuration.elements)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(o.configuration.elements,(s,d)=>(openBlock(),createBlock(i,{key:`tag-${o.level}-${d}`,level:o.level+1,configuration:s,"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"]))),128)):createCommentVNode("",!0),r.isObject(o.configuration.elements)?(openBlock(),createBlock(i,{key:`tag-${o.level}-${e.i}`,level:o.level+1,configuration:o.configuration.elements,"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"])):r.isTextable(o.configuration.elements)?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(r.applyCasting(o.configuration.elements)),1)],64)):createCommentVNode("",!0)]),_:2},[renderList(r.slots,(s,d)=>({name:`${d}`,fn:withCtx(c=>[createVNode(i,{level:o.level+1,configuration:s,"bind-data":{...o.bindData,...c}},null,8,["level","configuration","bind-data"])])}))]),1040)):createCommentVNode("",!0)}const RecursiveStuff=_export_sfc(_sfc_main$17,[["render",_sfc_render$11]]),__vite_glob_0_27=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveStuff},Symbol.toStringTag,{value:"Module"})),_sfc_main$16={name:"StepperHeader",props:{forms:{type:Array,required:!0},activeStep:{type:Number,required:!0}},emits:["step-click"]},_hoisted_1$J=["onClick"];function _sfc_render$10(e,a,o,r,l,n){return openBlock(),createBlock(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(i,s)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${s}`,complete:o.activeStep>s+1,title:i.title,value:s+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(d=>[createBaseVNode("div",{onClick:c=>e.$emit("step-click",s+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([d.hasCompleted||d.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(d.title),3)],8,_hoisted_1$J)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:o.activeStep>o.forms.length,title:"Preview & Summary",value:o.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(i=>[createBaseVNode("span",{class:normalizeClass([i.hasCompleted||i.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(i.title),3)]),_:1},8,["complete","value"])]),_:1})}const StepperHeader=_export_sfc(_sfc_main$16,[["render",_sfc_render$10]]),_sfc_main$15={name:"StepperContent",props:{modelValue:{type:Array,required:!0},forms:{type:Array,required:!0},schemas:{type:Array,required:!0,default:()=>[]},activeStep:{type:Number,required:!0},formRefs:{type:Array,required:!0},isEditing:{type:Boolean,default:!1}},emits:["form-input","form-valid","update:modelValue","update:schemas"],data(){return{models:cloneDeep(this.modelValue),localSchemas:cloneDeep(this.schemas)}},computed:{inputModels:{get(){return this.modelValue},set(e,a){}},inputSchemas:{get(){return this.schemas},set(e,a){isEqual(e,a)}}},methods:{updateFormModel(e,a){this.models.splice(a,1,e)},updateFormSchema(e,a){this.localSchemas.splice(a,1,cloneDeep(e))}},watch:{modelValue:{handler(e){isEqual(e,this.models)||(this.models=cloneDeep(e))},deep:!0},schemas:{handler(e){isEqual(e,this.localSchemas)||(this.localSchemas=cloneDeep(e))},deep:!0},models:{handler(e){isEqual(e,this.modelValue)||this.$emit("update:modelValue",cloneDeep(e))},deep:!0},localSchemas:{handler(e){isEqual(e,this.schemas)||this.$emit("update:schemas",cloneDeep(e))},deep:!0}}};function _sfc_render$$(e,a,o,r,l,n){const i=resolveComponent("ue-form"),s=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(s,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{id:"ue-stepper-content-window",class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(d,c)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${c}`,value:c+1},{default:withCtx(()=>[o.activeStep>c?(openBlock(),createBlock(i,{key:0,ref_for:!0,ref:o.formRefs[c],id:`stepper-form-${c+1}`,isEditing:o.isEditing,modelValue:l.models[c],"onUpdate:modelValue":[m=>l.models[c]=m,m=>n.updateFormModel(m,c)],XmodelValue:n.inputModels[c],"onXupdate:modelValue":m=>n.updateFormModel(m,c),schema:l.localSchemas[c],"onUpdate:schema":m=>n.updateFormSchema(m,c),Xschema:n.inputSchemas[c],"onXupdate:schema":m=>n.updateFormSchema(m,c),onInput_:a[0]||(a[0]=m=>e.$log("input emitted from form on steppercontent",m)),onInput:m=>e.$emit("form-input",{event:m,index:c}),"onUpdate:valid":m=>e.$emit("form-valid",{event:m,index:c}),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","XmodelValue","onXupdate:modelValue","schema","onUpdate:schema","Xschema","onXupdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:o.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview")]),_:3},8,["value"])]),_:3})]),_:3})}const StepperContent=_export_sfc(_sfc_main$15,[["render",_sfc_render$$]]),_sfc_main$14={name:"StepperSummary",props:{isLastStep:Boolean,forms:Array,activeStep:Number,models:Array,schemas:Array,previewModel:Array,previewTitles:Array,isPreviewModelFilled:Function},emits:["next-form","complete-form"]};function _sfc_render$_(e,a,o,r,l,n){const i=resolveComponent("ue-form-summary-item"),s=resolveComponent("v-btn-secondary"),d=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(d,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[o.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(o.isLastStep,"")])},{default:withCtx(()=>[o.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:o.models,schema:o.schemas,previewModel:o.previewModel,onComplete:()=>e.$emit("complete-form")}))):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(c,m)=>renderSlot(e.$slots,`summary-form-${m+1}`,mergeProps({key:`stepper-summary-item-${m}`,ref_for:!0},{index:m,order:m+1,title:o.previewTitles[m],isPreviewModelFilled:o.isPreviewModelFilled,model:o.models[m],schema:o.schemas[m],previewModel:o.previewModel[m]??{},length:o.forms.length}),()=>[o.isPreviewModelFilled(m)&&m!==0&&m<o.forms.length-1?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),o.isPreviewModelFilled(m)?(openBlock(),createBlock(i,{key:1,index:m,title:o.previewTitles[m],model:o.previewModel[m]},null,8,["index","title","model"])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(s,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:a[0]||(a[0]=c=>e.$emit("next-form",o.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])}const StepperSummary=_export_sfc(_sfc_main$14,[["render",_sfc_render$_]]),_sfc_main$13={name:"StepperPreview",emits:["final-form-action"],props:{formattedPreview:{type:Array,default:()=>[]},previewFormData:{type:Array,default:()=>[]},lastStepModel:{type:Object,required:!0},finalFormTitle:{type:String,required:!0},finalFormSubtitle:{type:String,default:null},protectedLastStepModel:{type:Object,default:()=>{}}},methods:{fieldSelected(e){const a=e.fieldName,o=this.lastStepModel[a]??[],r=e._fieldFormat??"id",l=e._fieldFormatUniqueKey??"id",n=e._fieldFormatSourceKey??"id";let i=!1;if(isString(r))result=includes(o,e[r]);else if(isObject(r)){let s=o.find(d=>d[l]===e[n]);i=s!=null}return i},getFieldIcon(e){return this.fieldSelected(e)?"mdi-minus":"mdi-plus"},getFieldColor(e){return this.fieldSelected(e)?"grey":"primary"},isReadOnly(e){const a=e.fieldName,o=this.protectedLastStepModel[a]??[],r=e._fieldFormat??"id",l=e._fieldFormatUniqueKey??"id",n=e._fieldFormatSourceKey??"id";let i=!1;if(isString(r))i=includes(o,e[r]);else if(isObject(r)){let s=o.find(d=>__isset(e[n])&&__isset(d[l])&&d[l]===e[n]);i=s!=null}return i}},created(){}},_hoisted_1$I={class:"d-flex flex-column ga-2 my-4"},_hoisted_2$C={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$z=["innerHTML"],_hoisted_4$s={key:0,class:"text-caption mt-4 d-flex ga-4 flex-wrap"},_hoisted_5$n={class:"text-h4 font-weight-medium py-auto justify-center w-100"},_hoisted_6$m={class:"d-flex fill-height align-content-md-center"};function _sfc_render$Z(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-configurable-card"),d=resolveDirective("fit-grid");return openBlock(),createBlock(VSheet,null,{default:withCtx(()=>[createVNode(i,{type:"body-1",weight:"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.formattedPreview,(c,m)=>(openBlock(),createBlock(VCol,{key:`summary-${m}`,cols:"12",md:c.col||6,class:"d-flex"},{default:withCtx(()=>[createVNode(s,mergeProps({ref_for:!0},c,{elevation:"2","title-color":"primary",class:"my-2 w-100 h-100"}),null,16)]),_:2},1032,["md"]))),128)),o.previewFormData.length>0?withDirectives((openBlock(),createBlock(VCol,{key:0,cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$I,[createVNode(i,{type:"body-1","font-weight":"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormTitle),1)]),_:1}),o.finalFormSubtitle?(openBlock(),createBlock(i,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormSubtitle),1)]),_:1})):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.previewFormData,(c,m)=>(openBlock(),createBlock(s,{key:`final-form-data-${m}`,"row-min-height":"120px",style:{"background-color":"transparent","min-height":"150px"},class:normalizeClass([[n.fieldSelected(c)?"bg-primary":"bg-grey-lighten-5","w-100"],"mb-4 py-4"]),elevation:"2",items:c.form_card_items||[[c.name||"N/A ",c.description||"N/A",c.tags||[]],c.base_price_without_vat_formatted||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{0:"",1:"",_actions:""},"column-classes":{0:"flex-1-1-0",1:"flex-0-1 d-flex align-center",_actions:"flex-0-1"}},{"segment.1":withCtx(p=>[createBaseVNode("div",_hoisted_2$C,toDisplayString(p.data[0]),1),createBaseVNode("p",{class:"text-caption",style:{"white-space":"pre-wrap","word-wrap":"break-word"},innerHTML:p.data[1]},null,8,_hoisted_3$z),Array.isArray(p.data[2])&&p.data[2].length>0?(openBlock(),createElementBlock("div",_hoisted_4$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.data[2],u=>(openBlock(),createBlock(VChip,{key:u,variant:"outlined",size:"small",class:""},{default:withCtx(()=>[createTextVNode(toDisplayString(u.name??u.slug),1)]),_:2},1024))),128))])):createCommentVNode("",!0)]),"segment.2":withCtx(p=>[createBaseVNode("div",_hoisted_5$n,toDisplayString(p.data),1)]),"segment.actions":withCtx(p=>[createBaseVNode("div",_hoisted_6$m,[createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":p.actionProps.actionIconMinHeight,"min-height":p.actionProps.actionIconMinHeight,size:p.actionProps.actionIconSize,icon:n.getFieldIcon(c),color:n.getFieldColor(c),onClick:u=>e.$emit("final-form-action",{index:m,event:!n.fieldSelected(c)}),readonly:n.isReadOnly(c)},null,8,["min-width","min-height","size","icon","color","onClick","readonly"])])]),_:2},1032,["class","items"]))),128))]),_:1})]),_:1})),[[d]]):createCommentVNode("",!0)]),_:1})]),_:1})}const StepperPreview=_export_sfc(_sfc_main$13,[["render",_sfc_render$Z],["__scopeId","data-v-d28eb1d8"]]),_sfc_main$12={name:"StepperFinalSummary",props:{loading:{type:Boolean,default:!1},isCompleted:{type:Boolean,default:!1}},emits:["complete"]},_hoisted_1$H={class:"py-0"},_hoisted_2$B={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$y={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$r={class:"text-caption text-grey-lighten-1 mb-6"};function _sfc_render$Y(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-text-display"),d=resolveComponent("v-btn-secondary");return openBlock(),createElementBlock(Fragment,null,[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(i,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider,{style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),renderSlot(e.$slots,"body",{},void 0,!0)]),_:3}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$H,[createBaseVNode("td",_hoisted_2$B,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$y,[renderSlot(e.$slots,"total",{},()=>[createVNode(s,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})],!0)])])])]),_:3}),createBaseVNode("div",_hoisted_4$r,[renderSlot(e.$slots,"description",{},()=>[a[1]||(a[1]=createTextVNode(" At "))],!0)]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(d,{class:"v-stepper-form__nextButton",block:"",disabled:o.loading||o.isCompleted,loading:o.loading,onClick:a[0]||(a[0]=c=>e.$emit("complete"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete Request").toUpperCase()),1)]),_:1},8,["disabled","loading"])]),_:1})],64)}const StepperFinalSummary=_export_sfc(_sfc_main$12,[["render",_sfc_render$Y],["__scopeId","data-v-eaf07dc3"]]),_sfc_main$11={name:"StepperForm",components:{StepperHeader,StepperContent,StepperSummary,StepperPreview,StepperFinalSummary},props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:[Array,Object],default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormSubtitle:{type:String,default:null},finalFormFields:{type:Array,default:()=>[]},validationScrollingDuration:{type:Number,default:1e3},validationScrollingEasing:{type:String,default:"easeInOutCubic"},validationScrollingOffset:{type:Number,default:0},protectInitialValue:{type:Boolean,default:!1},responseModalIcon:{type:String,default:"mdi-check-circle-outline"},responseModalTitle:{type:String,default:"Request Complete"},responseModalMessage:{type:String,default:"Congratulations! Your request was completed successfully."},responseModalButtonText:{type:String,default:"Ok"},responseModalOptions:{type:Object,default:()=>({})}},setup(e,a){const o=useInputHandlers(),r=useValidation(e),l=useGoTo(),n=ref(null),i=ref(!1),s=reactive({stepperActionRef:n,loading:i}),d=computed(()=>map(e.forms,(c,m)=>ref(null)));return{...o,...r,...toRefs(s),formRefs:d,goTo:l}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,lastFormPreviewLoading:!1,schemas:[],models:[],valids:[],lastFormPreview:[],lastStepModel:{},protectedLastStepModel:{},previewModel:[],pendingHandleFunctions:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var o;const e=(o=this.payload)!=null&&o.id?"put":"post",a=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(r){r.status===200&&r.data.variant==="success"?(a.loading=!1,a.isCompleted=!0,a.modalMessage=r.data.message,a.modalActive=!0):(a.loading=!1,this.$store.commit(ALERT.SET_ALERT,r.data))},function(r){a.loading=!1,__log(r)})},isPreviewModelFilled(e){const a=this.previewModel[e]??{};let o=!1;for(const r in a)if(a){o=!0;break}return o},handleInput(e){const{event:a,index:o}=e,{on:r,key:l,obj:n,value:i}=a;if(r==="input"&&l){let s=get(this.models[o],l);JSON.stringify(s)!==JSON.stringify(i)?this.pendingHandleFunctions.push((d,c,m)=>{handleMultiFormEvents(d,c,n.schema,o,m)}):handleMultiFormEvents(this.models,this.schemas,n.schema,o,this.previewModel)}},updateFormValid(e){const{event:a,index:o}=e;this.valids[o]=a},goStep(e){this.valids.slice(0,e-1).every(a=>a===!0)&&(this.activeStep=e)},async nextForm(e){await this.validateForm(e),this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const o=this.formRefs[e].value[0];o.manualValidation=!0;const r=await o.validate();return o.manualValidation=!1,isBoolean(r.valid)&&r.valid===!1&&this.$nextTick(()=>{const l=this.$el.querySelector(".v-input--error .v-input__details[role='alert'] .v-messages");l&&this.goTo(l,{container:"#ue-stepper-content-window",duration:this.validationScrollingDuration,offset:this.validationScrollingOffset,easing:this.validationScrollingEasing})}),r},handleFinalFormAction({index:e,event:a}){const o=this.lastFormPreview[e],r=o.fieldName,l=o._fieldFormat??"id",n=cloneDeep(this.lastStepModel);let i=this.lastStepModel[r]??[];if(isString(l))n[r]=i.includes(o[l])?i.filter(s=>s!==o[l]):[...i,o[l]];else if(isObject(l)){const s=o._fieldFormatUniqueKey??"id",d=o._fieldFormatSourceKey??"id";if(a===!1)for(const c in i){let m=i[c];if(isObject(m)&&a===!1&&m[s]===o[d]){i.splice(c,1);break}}else if(a===!0){let c={};for(const m in l){const p=l[m];c[m]=get(o,p)}i.push(c)}n[r]=i}this.lastStepModel=n},async handlePreviewFormField(e){if(!e.modelNotation)return;let a=e.modelNotation,o=`preview-form-field-${a}`,r=`preview-form-field-values-${a}`;this.lastFormPreviewLoading=!0;let l=this.$cacheGet(o,{}),n=reduce(l,(d,c,m)=>(d.push(parseInt(m)),d),[]),i=this.$cacheGet(r,[]),s=get(this.models,a);if(s&&e.endpoint){this.lastFormPreview=[];let d=Array.isArray(s)?s:[s],c=d.filter(p=>!n.includes(p)),m=d.filter(p=>n.includes(p));if(m.length>0&&m.forEach(p=>{i.filter(y=>y.form_field_id===p&&y.form_field_notation===a).forEach(y=>{this.lastFormPreview.push(y)}),l[p]=!0}),c.length>0){if(!e.endpoint)return;let p=window.__addParametersToUrl(e.endpoint,{ids:c}),u=await axios.get(p);if(u.status===200){let y=u.data;y.forEach(f=>{l[f.id]=!0}),e.notation?y=y.map(f=>{let v=get(f,e.notation,[]),C=e.cardFields??["name"],h=e.fieldName||a.split(".").pop();return Array.isArray(v)?v=v.map(b=>({...b,isSelected:!1,fieldName:h,form_field_notation:a,form_field_id:f.id,form_card_items:C.map(w=>Array.isArray(w)?w.map(B=>b[B]??"N/A"):b[w]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"})):v={...v,isSelected:!1,fieldName:h,form_field_notation:a,form_field_id:f.id,form_card_items:C.map(b=>Array.isArray(b)?b.map(w=>v[w]??"N/A"):v[b]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"},v}):y=y.map(f=>({...f,form_field_notation:e.notation,form_field_id:f.id})),reduce(y,(f,v)=>Array.isArray(v)?[...f,...v]:[...f,v],[]).forEach(f=>{this.$cachePush(r,f),this.lastFormPreview.push(f)})}}this.$cachePut(o,l)}this.lastFormPreviewLoading=!1}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,a)=>{let o=this.forms[a],r=__isset(o.previewTitle)?o.previewTitle:o.title;return this.$castValueMatch(r,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const a in this.schemas)e[a]=this.$getDisplayData(this.schemas[a],this.models[a]);return e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},payload(){let e=reduce(this.models,function(r,l,n){return{...r,...l}},{}),a=this.lastFormPreview,o=reduce(this.lastStepModel,function(r,l,n){return Array.isArray(l)&&(l=l.reduce((i,s)=>((isObject(s)?a.find(c=>c[c._fieldFormatSourceKey??"id"]===s[c._fieldFormatUniqueKey??"id"]&&c.fieldName===n):a.find(c=>c.id===s&&c.fieldName===n))&&i.push(s),i),[])),r[n]=l,r},{});return{...e,...o}},summaryFormScopes(){return reduce(this.$slots,(e,a,o)=>(o.match(/summary-form-\d+/)&&(e[o]=a),e),{})}},watch:{schemas:{handler(e,a){isEqual(e,this.schemas)||(this.schemas=e)},deep:!0},models:{handler(e,a){this.pendingHandleFunctions.length>0&&(this.pendingHandleFunctions.forEach(o=>{typeof o=="function"&&o(this.models,this.schemas,this.previewModel)}),this.pendingHandleFunctions=[]),this.models.forEach((o,r)=>{this.previewModel[r]&&Object.keys(this.previewModel[r]).forEach(l=>{this.models[r][l]||delete this.previewModel[r][l]})})},deep:!0},activeStep:{handler(e,a){this.finalFormFields.forEach(o=>{o.afterStep&&o.afterStep===a&&this.handlePreviewFormField(o)})},deep:!0}},created(){let e=this;this.forms.forEach((a,o)=>{let r=a.schema,l=getModel(r,this.modelValue);e.models.push(l),e.schemas.push(e.invokeRuleGenerator(r,l)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormFields,(a,o,r)=>{let l=null;return __isObject(o)?l=o.inputName||o.fieldName||o.modelNotation.split(".").pop():l=o.split(".").pop(),__isset(a[l])||(a[l]=[]),a},{}),this.lastStepModel=this.$lodash.mapValues(this.lastStepModel,(a,o)=>this.modelValue[o]?this.modelValue[o]:a),this.protectInitialValue&&(this.protectedLastStepModel=cloneDeep(this.lastStepModel))}},_hoisted_1$G={key:1,class:"d-flex align-center justify-center",style:{height:"70vh"}},_hoisted_2$A={class:"text-h4 mb-4 text-success"},_hoisted_3$x={class:"text-subtitle-1 grey--text"},_hoisted_4$q={class:"d-flex justify-center w-100"};function _sfc_render$X(e,a,o,r,l,n){const i=resolveComponent("StepperHeader"),s=resolveComponent("StepperPreview"),d=resolveComponent("StepperContent"),c=resolveComponent("ue-text-display"),m=resolveComponent("StepperFinalSummary"),p=resolveComponent("StepperSummary"),u=resolveComponent("ue-modal"),y=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:l.activeStep,"onUpdate:modelValue":a[5]||(a[5]=g=>l.activeStep=g),color:"prima",class:normalizeClass(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"]),"mobile-breakpoint":"md"},{default:withCtx(({prev:g,next:f})=>[createVNode(i,{forms:o.forms,"active-step":l.activeStep,onStepClick:n.goStep},null,8,["forms","active-step","onStepClick"]),createVNode(VRow,{class:"mt-4 flex-fill"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",lg:"8",md:"8","order-md":"1",order:"2"},{default:withCtx(()=>[createVNode(d,{modelValue:l.models,"onUpdate:modelValue":a[0]||(a[0]=v=>l.models=v),schemas:l.schemas,"onUpdate:schemas":a[1]||(a[1]=v=>l.schemas=v),forms:o.forms,"active-step":l.activeStep,"form-refs":r.formRefs,"is-editing":o.isEditing,onFormInput:a[2]||(a[2]=v=>n.handleInput(v)),onFormValid:a[3]||(a[3]=v=>n.updateFormValid(v))},{preview:withCtx(()=>[!l.lastFormPreviewLoading&&n.isLastStep?(openBlock(),createBlock(s,{key:0,"formatted-preview":n.formattedPreview,"preview-form-data":l.lastFormPreview,"last-step-model":l.lastStepModel,"protected-last-step-model":l.protectedLastStepModel,"final-form-title":o.finalFormTitle,"final-form-subtitle":o.finalFormSubtitle,onFinalFormAction:n.handleFinalFormAction},null,8,["formatted-preview","preview-form-data","last-step-model","protected-last-step-model","final-form-title","final-form-subtitle","onFinalFormAction"])):l.lastFormPreviewLoading&&n.isLastStep?(openBlock(),createElementBlock("div",_hoisted_1$G,[createVNode(VProgressCircular,{"model-value":"20",indeterminate:""})])):createCommentVNode("",!0)]),_:1},8,["modelValue","schemas","forms","active-step","form-refs","is-editing"])]),_:1})),[[y]]),createVNode(VCol,{cols:"12",lg:"4",md:"4","order-md":"2",order:"1"},{default:withCtx(()=>[createVNode(p,{"is-last-step":n.isLastStep,forms:o.forms,"active-step":l.activeStep,models:l.models,schemas:l.schemas,"preview-model":l.previewModel,"preview-titles":n.previewTitles,"is-preview-model-filled":n.isPreviewModelFilled,onNextForm:n.nextForm,onCompleteForm:n.completeForm},createSlots({"summary.final":withCtx(({onComplete:v})=>[renderSlot(e.$slots,"summary.final",normalizeProps(guardReactiveProps({model:l.models,schema:l.schemas,previewModel:l.previewModel,completeForm:n.completeForm})),()=>[createVNode(m,{loading:e.loading,"is-completed":l.isCompleted,onComplete:v},createSlots({total:withCtx(()=>[renderSlot(e.$slots,"summary.final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(c,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})])]),description:withCtx(()=>[renderSlot(e.$slots,"summary.final.description",{},()=>[a[6]||(a[6]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),_:2},[e.$slots["summary.final.body"]?{name:"body",fn:withCtx(()=>[renderSlot(e.$slots,"summary.final.body",normalizeProps(guardReactiveProps({models:l.models,schemas:l.schemas,lastStepModel:l.lastStepModel,finalFormFields:o.finalFormFields,lastFormPreview:l.lastFormPreview})))]),key:"0"}:void 0]),1032,["loading","is-completed","onComplete"])])]),_:2},[renderList(n.summaryFormScopes,(v,C)=>({name:`${C}`,fn:withCtx(h=>[renderSlot(e.$slots,C,normalizeProps(guardReactiveProps(h)))])}))]),1032,["is-last-step","forms","active-step","models","schemas","preview-model","preview-titles","is-preview-model-filled","onNextForm","onCompleteForm"])]),_:3})]),_:3}),createVNode(u,mergeProps({ref:"modal",modelValue:l.modalActive,"onUpdate:modelValue":a[4]||(a[4]=v=>l.modalActive=v),"width-type":"md",description:l.modalMessage,persistent:""},o.responseModalOptions),{"body.description":withCtx(()=>[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalIcon),1)]),_:1}),createBaseVNode("h2",_hoisted_2$A,toDisplayString(o.responseModalTitle),1),createBaseVNode("p",_hoisted_3$x,toDisplayString(o.responseModalMessage),1)]),"body.options":withCtx(()=>[createBaseVNode("div",_hoisted_4$q,[createVNode(VBtn,{variant:"flat",color:"success",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalButtonText),1)]),_:1},8,["onClick"])])]),_:1},16,["modelValue","description"])]),_:3},8,["modelValue"])}const StepperForm=_export_sfc(_sfc_main$11,[["render",_sfc_render$X]]),__vite_glob_0_28=Object.freeze(Object.defineProperty({__proto__:null,default:StepperForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$10={props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:Array,default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormNotations:{type:Object,default:()=>({"0.PackageCountry":{pattern:"0.wrap_location.schema.PackageCountry.items.*.package_addons",inputName:"pressReleasePackageAddons"},"0.PackageRegion":{pattern:"0.wrap_location.schema.PackageRegion.items.*.package_addons",inputName:"pressReleasePackageAddons"}})},finalCardShowFields:{type:Array,default:()=>[["name","description"],["basePrice_show"]]}},setup(e,a){const o=useInputHandlers(),r=useValidation(e),l=ref(null),n=ref(!1),i=reactive({stepperActionRef:l,loading:n}),s=computed(()=>map(e.forms,(d,c)=>ref(null)));return{...o,...r,...toRefs(i),formRefs:s}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,schemas:[],models:[],valids:[],lastStepModel:{},previewModel:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var o;const e=(o=this.payload)!=null&&o.id?"put":"post",a=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(r){a.loading=!1,a.isCompleted=!0,a.modalMessage=r.data.message,a.modalActive=!0},function(r){a.loading=!1,__log(r)})},isPreviewModelFilled(e){const a=this.previewModel[e]??{};let o=!1;for(const r in a)if(a){o=!0;break}return o},handleInput(e,a){const{on:o,key:r,obj:l}=e;o==="input"&&r&&handleMultiFormEvents(this.models,this.schemas,l.schema,a,this.previewModel)},updateFormValid(e,a){this.valids[a]=e},goStep(e){this.valids.slice(0,e-1).every(a=>a===!0)&&(this.activeStep=e)},async goNextForm(e,a){this.formRefs[a].value[0].validModel===!0?e():await this.validateForm(a)},async nextForm(e){this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const a=this.formRefs[e];a.value[0].manualValidation=!0;const o=await a.value[0].validate();return a.value[0].manualValidation=!1,o},handleFinalFormAction(e){const a=this.previewFormData[e],o=this.lastStepModel[a.fieldName];this.lastStepModel[a.fieldName]=o.includes(a.id)?o.filter(r=>r!==a.id):[...o,a.id],this.lastStepModel={...this.lastStepModel}}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,a)=>{let o=this.forms[a],r=__isset(o.previewTitle)?o.previewTitle:o.title;return this.$castValueMatch(r,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const a in this.schemas)e[a]=this.$getDisplayData(this.schemas[a],this.models[a]);return e},formattedSummary(){let e=NotationUtil.formattedSummary(this.displayInfo,this.summaryNotations),a=this.previewFormData,o=this.lastStepModel;const r=reduce(o,function(l,n,i){let s=Array.isArray(n)?n:[n];return forEach(s,d=>{const c=find(a,m=>m.id===d&&m.fieldName===i);c&&l.push(c)}),l},[]);return r.length>0&&(e.lastStepSelections={title:this.finalFormTitle,values:map(r,l=>({title:l.name||l.title||"N/A",value:l.basePrice_show||"N/A"}))}),e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},previewFormData(){let e=[];for(const a in this.finalFormNotations){let o=__data_get(this.models,a);if(!o)continue;let r=this.finalFormNotations[a],l=null,n=null;if(__isObject(r)?(n=r.pattern,l=r.inputName||r.fieldName||n.split(".").pop()):(n=r,l=n.split(".").pop()),__log(r,n,l),n){n=__wildcard_change(n,o);let i=__data_get(this.schemas,n,null);if(i){const s=(d,c)=>{if(Array.isArray(d))for(const m of d)s(m,c);else typeof d=="object"&&d!==null&&e.push({...d,fieldName:c,isSelected:!1})};s(i,l)}}}return e},payload(){return{...reduce(this.models,function(a,o,r){return{...a,...o}},{}),...this.lastStepModel}}},watch:{schemas:{handler(e,a){},deep:!0},models:{handler(e,a){this.models.forEach((o,r)=>{this.previewModel[r]&&Object.keys(this.previewModel[r]).forEach(l=>{this.models[r][l]||delete this.previewModel[r][l]})})},deep:!0}},created(){let e=this;this.forms.forEach((a,o)=>{let r=a.schema,l=getModel(r,this.modelValue);e.models.push(l),e.schemas.push(e.invokeRuleGenerator(r,l)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormNotations,(a,o,r)=>{let l=null;return __isObject(o)?l=o.inputName||o.fieldName||o.pattern.split(".").pop():l=o.split(".").pop(),__isset(a[l])||(a[l]=[]),a},{})}},_hoisted_1$F=["onClick"],_hoisted_2$z={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$w={class:"text-caption"},_hoisted_4$p={class:"text-body-2 font-weight-medium py-auto"},_hoisted_5$m={class:"d-flex fill-height justify-space-evenly align-content-md-center"},_hoisted_6$l={class:"text-h6 mb-2"},_hoisted_7$f={class:"text-body-2 text-grey-darken-1"},_hoisted_8$d={key:1,class:"mb-6"},_hoisted_9$c={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_10$a={class:"font-weight-bold text-primary"},_hoisted_11$a={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_12$6={key:0,class:""},_hoisted_13$6={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}},_hoisted_14$4={class:"py-0"},_hoisted_15$3={class:"border-0 h-auto py-1 pl-0 text-body-1"},_hoisted_16$2={class:"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1"},_hoisted_17$2={class:"py-0"},_hoisted_18$2={class:"border-0 h-auto py-1 pl-0 text-h5"},_hoisted_19$2={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_20$2={class:"text-caption text-grey mb-6"};function _sfc_render$W(e,a,o,r,l,n){const i=resolveComponent("ue-form"),s=resolveComponent("ue-title"),d=resolveComponent("ue-configurable-card"),c=resolveComponent("v-sheet-rounded"),m=resolveComponent("v-btn-secondary"),p=resolveComponent("ue-text-display"),u=resolveComponent("ue-modal"),y=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:l.activeStep,"onUpdate:modelValue":a[3]||(a[3]=g=>l.activeStep=g),color:"prima",class:normalizeClass(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"])},{default:withCtx(({prev:g,next:f})=>[createVNode(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(v,C)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${C}`,complete:l.activeStep>C+1,title:v.title,value:C+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(h=>[createBaseVNode("div",{onClick:b=>n.goStep(C+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([h.hasCompleted||h.step==l.activeStep?"text-primary font-weight-bold":""])},toDisplayString(h.title),3)],8,_hoisted_1$F)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:l.activeStep>o.forms.length,title:"Preview & Summary",value:o.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(v=>[createBaseVNode("span",{class:normalizeClass([v.hasCompleted||v.step==l.activeStep?"text-primary font-weight-bold":""])},toDisplayString(v.title),3)]),_:1},8,["complete","value"])]),_:1}),createVNode(VRow,{class:"mt-4 flex-fill"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",lg:"8"},{default:withCtx(()=>[createVNode(c,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(v,C)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${C}`,value:C+1,class:""},{default:withCtx(()=>[l.activeStep>C?(openBlock(),createBlock(i,{key:0,ref_for:!0,ref:r.formRefs[C],id:`stepper-form-${C+1}`,isEditing:o.isEditing,modelValue:l.models[C],"onUpdate:modelValue":h=>l.models[C]=h,schema:l.schemas[C],"onUpdate:schema":h=>l.schemas[C]=h,onInput:h=>n.handleInput(h,C),"onUpdate:valid":h=>n.updateFormValid(h,C),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","schema","onUpdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:o.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview",{},()=>[createVNode(VSheet,{class:""},{default:withCtx(()=>[createVNode(s,{weight:"medium",color:"black",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedPreview,(v,C)=>withDirectives((openBlock(),createBlock(VCol,{key:`summary-${C}`,cols:"12",md:v.col||6},{default:withCtx(()=>[createVNode(d,mergeProps({ref_for:!0},v,{elevation:"2",class:"my-2"}),null,16)]),_:2},1032,["md"])),[[y]])),128)),createVNode(VCol,{cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-4"},{default:withCtx(()=>[createVNode(s,{type:"body-1",color:"primary","font-weight":"bold",padding:"a-0",margin:"y-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormTitle),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.previewFormData,(v,C)=>(openBlock(),createBlock(d,{key:`final-form-data-${C}`,style:{"background-color":"transparent"},class:normalizeClass([[l.lastStepModel[v.fieldName].includes(v.id)?"bg-primary":"bg-grey-lighten-5"],"mx-n4 mb-4 py-4"]),elevation:"2",items:[[v.name||"N/A ",v.description||"N/A"],v.basePrice_show||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{1:"flex-basis: 50%;",2:"flex-grow: 1; display: flex; justify-content: center; align-items: center;",3:"flex-grow: 1; display: flex; align-items: end;"}},{"segment.1":withCtx(h=>[createBaseVNode("div",_hoisted_2$z,toDisplayString(h.data[0]),1),createBaseVNode("div",_hoisted_3$w,toDisplayString(h.data[1]),1)]),"segment.2":withCtx(h=>[createBaseVNode("div",_hoisted_4$p,toDisplayString(h.data),1)]),"segment.actions":withCtx(h=>[createBaseVNode("div",_hoisted_5$m,[e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VDivider,{key:0,vertical:""})):createCommentVNode("",!0),createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":h.actionProps.actionIconMinHeight,"min-height":h.actionProps.actionIconMinHeight,size:h.actionProps.actionIconSize,icon:l.lastStepModel[v.fieldName].includes(v.id)?"mdi-minus":"mdi-plus",color:l.lastStepModel[v.fieldName].includes(v.id)?"grey":"primary",onClick:b=>n.handleFinalFormAction(C)},null,8,["min-width","min-height","size","icon","color","onClick"])])]),_:2},1032,["class","items"]))),128)),(openBlock(),createElementBlock(Fragment,null,renderList([{id:1,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50},{id:2,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50}],(v,C)=>(openBlock(),createElementBlock(Fragment,{key:v.id},[createCommentVNode("",!0)],64))),64))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:3},8,["value"])]),_:3}),createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)),[[y]]),createVNode(VCol,{cols:"12",lg:"4"},{default:withCtx(()=>[renderSlot(e.$slots,"summary",{},()=>[createVNode(c,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[n.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(n.isLastStep,"")])},{default:withCtx(()=>[n.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:l.models,schema:l.schemas,previewModel:l.previewModel,completeForm:n.completeForm})),()=>[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(s,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedSummary,(v,C)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(s,{text:v.title,transform:"capitalize",type:"h6",color:"white",padding:"x-6",margin:"t-6",class:"mx-n6 py-3 bg-primary-darken-1"},null,8,["text"]),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.values,(h,b)=>(openBlock(),createElementBlock("tr",_hoisted_14$4,[createBaseVNode("td",_hoisted_15$3,toDisplayString(h.parentTitle||h.title||"N/A"),1),createBaseVNode("td",_hoisted_16$2,toDisplayString(h.value||"N/A"),1)]))),256))])]),_:2},1024)],64))),256))]),_:1}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_17$2,[createBaseVNode("td",_hoisted_18$2,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_19$2,[renderSlot(e.$slots,"final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(p,{class:"text-h5",text:"$2500",subText:"+ VAT"})])])])])]),_:3}),createBaseVNode("div",_hoisted_20$2,[renderSlot(e.$slots,"final.description",{},()=>[a[5]||(a[5]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom",style:{"background-color":"#005868"}},{default:withCtx(()=>[createVNode(m,{class:"v-stepper-form__nextButton",block:"",disabled:e.loading||l.isCompleted,loading:e.loading,onClick:n.completeForm},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete").toUpperCase()),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(v,C)=>renderSlot(e.$slots,`summary-form-${C+1}`,mergeProps({key:`stepper-summary-item-${C}`,ref_for:!0},{index:C,order:C+1,title:n.previewTitles[C],isPreviewModelFilled:n.isPreviewModelFilled,model:l.models[C],schema:l.schemas[C],previewModel:l.previewModel[C]??{}}),()=>[n.isPreviewModelFilled(C)&&C!==0?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),n.isPreviewModelFilled(C)?(openBlock(),createElementBlock("div",_hoisted_8$d,[createBaseVNode("div",_hoisted_9$c,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(C+1),1)]),_:2},1024),createBaseVNode("span",_hoisted_10$a,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(C+1),1)]),createBaseVNode("div",_hoisted_11$a,toDisplayString(n.previewTitles[C]),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.previewModel[C],(h,b)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${b}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.previewModel[C][b],(w,B)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${b}-${C}`},[Array.isArray(w)?(openBlock(),createElementBlock("div",_hoisted_12$6,[createBaseVNode("span",_hoisted_13$6,toDisplayString(e.window.__isObject(l.previewModel[C][b])?B:w[0])+":",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(l.previewModel[C][b])?w:w.slice(1),S=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${b}-${C}-${b}-${B}`,style:{"margin-inline-end":"8px"}},toDisplayString(S),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(w),1)]),_:2},1024))],64))),128))],64))),128))])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(m,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:a[1]||(a[1]=v=>n.nextForm(l.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])])]),_:3})]),_:2},1024),createVNode(u,{ref:"modal",modelValue:l.modalActive,"onUpdate:modelValue":a[2]||(a[2]=v=>l.modalActive=v),"width-type":"lg","cancel-text":"$t('Cancel')","confirm-text":"$t('Cancel')","description-text":l.modalMessage},{"body.options":withCtx(()=>[createVNode(VBtn,{variant:"outlined",color:"primary",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Ok")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description-text"])]),_:3},8,["modelValue"])}const StepperFormOld=_export_sfc(_sfc_main$10,[["render",_sfc_render$W]]),__vite_glob_0_29=Object.freeze(Object.defineProperty({__proto__:null,default:StepperFormOld},Symbol.toStringTag,{value:"Module"})),_sfc_main$$=defineComponent({name:"UeSuccess",props:{title:{type:String,required:!0},description:{type:String,required:!0},button_text:{type:String,required:!0},button_url:{type:String,required:!0}},setup(e){return{}}}),_hoisted_1$E={class:"text-h4 mb-2 text-success"},_hoisted_2$y={class:"text-body-1 text-medium-emphasis mb-6"};function _sfc_render$V(e,a,o,r,l,n){return openBlock(),createBlock(VContainer,{class:"fill-height"},{default:withCtx(()=>[createVNode(VRow,{justify:"center",align:"center"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"12",md:"12",lg:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VCard,{flat:"",class:"bg-transparent"},{default:withCtx(()=>[createVNode(VCardItem,null,{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-check-circle",color:"success",size:"64",class:"mb-4"}),createBaseVNode("h1",_hoisted_1$E,toDisplayString(e.title),1),createBaseVNode("p",_hoisted_2$y,toDisplayString(e.description),1),createVNode(VBtn,{color:"success",class:"mt-10",href:e.button_url,"min-width":"200",density:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.button_text),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Success=_export_sfc(_sfc_main$$,[["render",_sfc_render$V]]),__vite_glob_0_30=Object.freeze(Object.defineProperty({__proto__:null,default:Success},Symbol.toStringTag,{value:"Module"})),_sfc_main$_={props:{symbol:{type:String,required:!0},height:{type:String},width:{type:String},style:{type:String,default:""}},setup(e){const a=computed(()=>{if(e.symbol)return e.symbol}),o=computed(()=>{if(e.height||e.width)return"height:"+e.height+"px;width:"+e.width+"px;"});return{symbol:a,style:o}}},_hoisted_1$D=["symbol"];function _sfc_render$U(e,a,o,r,l,n){const i=resolveDirective("svg");return openBlock(),createElementBlock("div",{style:normalizeStyle(r.style)},[withDirectives(createBaseVNode("span",{symbol:r.symbol},null,8,_hoisted_1$D),[[i]])],4)}const SvgIcon=_export_sfc(_sfc_main$_,[["render",_sfc_render$U]]),__vite_glob_0_31=Object.freeze(Object.defineProperty({__proto__:null,default:SvgIcon},Symbol.toStringTag,{value:"Module"})),_sfc_main$Z={name:"ue-tab-groups",props:{...makeModuleProps(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayn:[{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,a){return{...useModule(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,r,l)=>{this.noAllGroup||o[e].push(r);const n=__data_get(r,this.groupKey);if(Array.isArray(n))for(const i of n)o[i]??(o[i]=[]),o[i].push(r);else __isString(n)&&(o[n]??(o[n]=[]),o[n].push(r));return o},a)}},watch:{},methods:{loadItems(e={}){let a=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},api$2.get(this.endpoints.index,e,function(o,r){const l=getParameters(r.request.responseURL);a.elements=o.resource.data,replaceState(addParametersToUrl(getURLWithoutQuery(),l))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function _sfc_render$T(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createVNode(i,{text:e.moduleTitle,classes:[]},null,8,["text"]),createVNode(s,{items:n.groupedItems,modelValue:l.activeTab,"onUpdate:modelValue":a[0]||(a[0]=d=>l.activeTab=d)},createSlots({_:2},[renderList(e.$slots,(d,c)=>({name:c,fn:withCtx(m=>[renderSlot(e.$slots,c,normalizeProps(guardReactiveProps(m)))])}))]),1032,["items","modelValue"])]),_:3})}const TabGroups=_export_sfc(_sfc_main$Z,[["render",_sfc_render$T]]),__vite_glob_0_32=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroups},Symbol.toStringTag,{value:"Module"})),_sfc_main$Y={name:"ue-tab-groups",props:{...makeModuleProps(),subtitle:{type:String},groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayn:[{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}]})},search:{type:String,default:""},noSearch:{type:Boolean,default:!1},queryParameters:{type:Object,default:()=>({})}},setup(e,a){return{...useModule(e)}},data(){return{loading:!1,searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,r,l)=>{this.noAllGroup||o[e].push(r);const n=__data_get(r,this.groupKey);if(Array.isArray(n))for(const i of n)o[i]??(o[i]=[]),o[i].push(r);else __isString(n)&&(o[n]??(o[n]=[]),o[n].push(r));return o},a)},searchable(){return this.searchModel!==this.searchInput}},watch:{},methods:{loadItems(e={}){let a=this;this.loading=!0,e={...this.searchModel!==""?{search:this.searchModel}:{},...e,...this.queryParameters},this.searchInput=this.searchModel,api$2.get(this.endpoints.index,e,function(o,r){var l;getParameters(r.request.responseURL),a.elements=o.resource.data,a.activeTab=((l=Object.keys(a.groupedItems??{}))==null?void 0:l[0])??0,a.loading=!1},function(o){a.loading=!1})},enterSearch(){this.searchModel!==this.searchInput&&this.loadItems({replaceUrl:!1})}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}},_hoisted_1$C={class:"py-4 d-flex justify-space-between flex-wrap ga-2"},_hoisted_2$x={class:"flex-1-0",style:{"max-width":"100%"}},_hoisted_3$v={key:0,class:"flex-1-1"},_hoisted_4$o={key:0,class:"text-center pa-8"};function _sfc_render$S(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-tabs-previous");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$C,[createBaseVNode("div",_hoisted_2$x,[createVNode(i,{text:e.moduleTitle,classes:[],padding:"a-0"},null,8,["text"]),o.subtitle?(openBlock(),createBlock(i,{key:0,class:"text-wrap",text:o.subtitle,classes:[],padding:"a-0",weight:"regular",transform:"none",type:"subtitle-2"},null,8,["text"])):createCommentVNode("",!0)]),o.noSearch?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$v,[createVNode(VTextField,{modelValue:e.searchModel,"onUpdate:modelValue":a[0]||(a[0]=d=>e.searchModel=d),label:"Search",variant:"outlined",density:"compact",color:"primary","hide-details":"",style:{"min-width":"300px"},onKeydown:withKeys(n.enterSearch,["enter"])},{"append-inner":withCtx(()=>[n.searchable?(openBlock(),createBlock(VIcon,{key:0,icon:"mdi-magnify",variant:"text",onClick:n.enterSearch},null,8,["onClick"])):createCommentVNode("",!0)]),_:1},8,["modelValue","onKeydown"])]))]),createVNode(VDivider),l.loading?(openBlock(),createElementBlock("div",_hoisted_4$o,[createVNode(VProgressCircular,{size:50,color:"primary",indeterminate:""})])):(openBlock(),createBlock(s,{key:1,items:n.groupedItems,modelValue:l.activeTab,"onUpdate:modelValue":a[1]||(a[1]=d=>l.activeTab=d)},createSlots({_:2},[renderList(e.$slots,(d,c)=>({name:c,fn:withCtx(m=>[renderSlot(e.$slots,c,normalizeProps(guardReactiveProps(m)))])}))]),1032,["items","modelValue"]))]),_:3})}const TabGroupsPrevious=_export_sfc(_sfc_main$Y,[["render",_sfc_render$S]]),__vite_glob_0_33=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroupsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$X={__name:"TableActions",props:{actions:{type:Array,required:!0}},emits:["actionComplete"],setup(e,{emit:a}){const o=e,r=a,l=useAttrs(),n=useSlots(),{generateButtonProps:i}=useGenerate(),s={};o.actions.forEach((g,f)=>{const{generatedButtonProps:v}=useGenerate(g);s[f]=v});const d=computed(()=>Object.keys(s).reduce((g,f)=>(g[f]=s[f].value,g),{})),{isBadge:c,badgeProps:m}=useBadge(),{handleAction:p,allActions:u,hasActions:y}=useItemActions(o,{...l,...n,...r,actionItem:o.modelValue});return(g,f)=>{const v=resolveComponent("ue-form"),C=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([unref(y)||g.$slots.prepend?"d-flex flex-wrap ga-2":""])},[renderSlot(g.$slots,"prepend"),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u),(h,b)=>(openBlock(),createBlock(VTooltip,{disabled:!h.icon||h.forceLabel,location:h.tooltipLocation??"top"},{activator:withCtx(({props:w})=>[h.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:g.editedItem[h.key??"published"]??h.default??!1,"onUpdate:modelValue":B=>unref(p)(h),ref_for:!0},{...h.componentProps,...w}),null,16,["modelValue","onUpdate:modelValue"])):h.type==="modal"&&h.endpoint&&h.schema?(openBlock(),createBlock(C,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},h.modalAttributes??{}),{activator:withCtx(B=>[unref(c)(h)?(openBlock(),createBlock(VBadge,{key:0,content:h.badge,color:h.badgeColor??"warning","text-color":h.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...unref(i)(h),...B.props,...w}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...unref(i)(h),...B.props,...w}),null,16))]),body:withCtx(B=>[createVNode(v,mergeProps({ref_for:!0,ref:`extra-form-${b}`,modelValue:g.createModel(h.schema),title:h.formTitle??null,schema:h.schema,"action-url":h.endpoint.replace(":id",g.modelValue.id),valid:g.valids[b],"is-editing":g.isEditing,style:B.isFullActive?"height: 90vh !important;":"height: 70vh !important;","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:S=>g.$emit("actionComplete",{action:h}),"onUpdate:valid":S=>g.valids[b]=S,"onUpdatex:modelValue":f[0]||(f[0]=S=>g.$log(S))},h.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1040)):h.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[unref(c)(h)?(openBlock(),createBlock(VBadge,{key:0,content:h.badge,color:h.badgeColor??"warning","text-color":h.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...d.value[b],...w}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...d.value[b],...w},{onClick:()=>console.log(d.value[b])}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(h.tooltip??h.label),1)]),_:2},1032,["disabled","location"]))),256))],2)}}},_sfc_main$W={props:{...makeActiveTableItemProps()},setup(e,a){return{...useActiveTableItem(e,a)}},created(){}};function _sfc_render$R(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal"),d=resolveComponent("ue-table");return openBlock(),createElementBlock("div",null,[createVNode(s,{ref:"customModal",modelValue:e.modalActive,"onUpdate:modelValue":a[0]||(a[0]=c=>e.modalActive=c),scrollable:"",transition:"dialog-bottom-transition","width-type":"md","onClick:outside":e.clickOutside},{body:withCtx(c=>[createVNode(VCard,{class:"pa-12"},{default:withCtx(()=>[createVNode(VItemGroup,{"selected-class":"bg-primary"},{default:withCtx(()=>[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemData,(m,p)=>(openBlock(),createBlock(VCol,mergeProps({key:p,ref_for:!0},e.$bindAttributes(m.clickBlock?m.clickBlock.col:{cols:12})),{default:withCtx(()=>[createVNode(VItem,null,{default:withCtx(({isSelected:u,selectedClass:y,toggle:g})=>[m.clickBlock&&m.clickBlock.elements?(openBlock(),createBlock(i,{key:0,configuration:m.clickBlock.elements,onClick:f=>e.selectNested(p)},{default:withCtx(()=>[createTextVNode(toDisplayString(m.title),1)]),_:2},1032,["configuration","onClick"])):(openBlock(),createBlock(VBtn,{key:1,onClick:f=>e.selectNested(p),class:"w-100",style:{"max-width":"unset","text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(m.title),1)]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"]),e.item&&!e.modalActive&&e.activeBlock?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(d,mergeProps({...e.$bindAttributes(),tableClasses:e.$parent.tableClasses},{"custom-title":e.activeBlock.title,class:"mb-12","is-row-editing":!1,"embedded-form":!1,"create-on-modal":!1,"edit-on-modal":!1,"row-actions":[],columns:e.tableHeaders,items:e.items,"table-options":{page:1,itemsPerPage:1,multiSort:!1,mustSort:!1},"hide-footer":"","no-footer":"","no-form":"","no-full-screen":"","ignore-formatters":["activate"]}),{headerRight:withCtx(()=>[createVNode(VBtn,{class:"bg-grey-darken-1",color:"white",variant:"tonal",icon:"$close",density:"compact",onClick:a[1]||(a[1]=c=>e.closeItemDetails())},{default:withCtx(()=>[createVNode(VIcon,{icon:"$close",size:"small"})]),_:1})]),_:1},16,["custom-title","columns","items"]),createBaseVNode("div",null,[createVNode(i,{configuration:e.activeBlock.elements},null,8,["configuration"])])],64)):createCommentVNode("",!0)])}const ActiveTableItem=_export_sfc(_sfc_main$W,[["render",_sfc_render$R]]),_imports_0="/vendor/modularity/png/cardtypes/chip.png",_sfc_main$V={name:"CreditCard",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},setup(e){const a=ref(null),o=ref(null),r=ref(!1),l=ref(!1),n="#### ###### #####",i="#### ###### ####",s="#### #### #### ####",d=ref(""),c=computed(()=>{let v=new URL(import.meta.url);return`${v.protocol}//${v.hostname}${v.port?":"+v.port:""}`}),m=computed(()=>{let v=e.labels.cardNumber,C="./vendor/modularity/png/cardtypes/";switch(!0){case/^4/.test(v):C=C+"visa.png";break;case/^(34|37)/.test(v):C=C+"amex.png";break;case/^5[1-5]/.test(v):C=C+"mastercard.png";break;case/^6011/.test(v):C=C+"discover.png";break;case/^62/.test(v):C=C+"unionpay.png";break;case/^9792/.test(v):C=C+"troy.png";break;case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(v):C=C+"dinersclub.png";break;case/^35(2[89]|[3-8])/.test(v):C=C+"jcb.png";break;default:C=C+"visa.png";break}return new URL(C,c.value).href}),p=computed(()=>{let v=e.labels.cardNumber;switch(!0){case/^4/.test(v):return"visa";case/^(34|37)/.test(v):return"amex";case/^5[1-5]/.test(v):return"mastercard";case/^6011/.test(v):return"discover";case/^62/.test(v):return"unionpay";case/^9792/.test(v):return"troy";case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(v):return"dinersclub";case/^35(2[89]|[3-8])/.test(v):return"jcb";default:return"visa"}}),u=computed(()=>{if(e.randomBackgrounds&&!e.backgroundImage){let C=`./vendor/modularity/jpg/payment/${Math.floor(Math.random()*25+1)}.jpeg`;return new URL(C,c.value).href}else return e.backgroundImage?e.backgroundImage:null}),y=()=>{const v=document.querySelector(`label[for="${o.value}"]`);a.value=v?{width:`${v.offsetWidth}px`,height:`${v.offsetHeight}px`,transform:`translateX(${v.offsetLeft}px) translateY(${v.offsetTop}px)`}:null},g=(v,C)=>v>4&&v<14&&e.labels.cardNumber.length>v&&C.trim()!==""&&e.isCardNumberMasked,f=()=>{p.value==="amex"?d.value=n:p.value==="dinersclub"?d.value=i:d.value=s,nextTick(()=>{y()})};return watch$1(o,()=>{o.value?y():a.value=null}),watch$1(p,()=>{f()}),onMounted(()=>{f(),document.querySelectorAll("[data-card-field] input").forEach(C=>{C.addEventListener("focus",()=>{r.value=!0,C.id===e.fields.cardYear||C.id===e.fields.cardMonth?o.value="cardDate":o.value=C.id,l.value=C.id===e.fields.cardCvv}),C.addEventListener("blur",()=>{l.value=C.id===e.fields.cardCvv,setTimeout(()=>{r.value||(o.value=null)},300),r.value=!1})})}),{focusElementStyle:a,currentFocus:o,isFocused:r,isCardFlipped:l,baseUrl:c,currentPlaceholder:d,cardType:p,cardImage:m,currentCardBackground:u,changeFocus:y,getIsNumberMasked:g,changePlaceholder:f}}},_hoisted_1$B={class:"card-item__side -front"},_hoisted_2$w={class:"card-item__cover"},_hoisted_3$u=["src"],_hoisted_4$n={class:"card-item__wrapper"},_hoisted_5$l={class:"card-item__top"},_hoisted_6$k={class:"card-item__type"},_hoisted_7$e=["src"],_hoisted_8$c=["for"],_hoisted_9$b={key:0,class:"card-item__numberItem"},_hoisted_10$9={class:"card-item__content"},_hoisted_11$9=["for"],_hoisted_12$5={class:"card-item__holder"},_hoisted_13$5={class:"card-item__name",key:"1"},_hoisted_14$3={class:"card-item__name",key:"2"},_hoisted_15$2={class:"card-item__date",ref:"cardDate"},_hoisted_16$1=["for"],_hoisted_17$1=["for"],_hoisted_18$1={key:"2"},_hoisted_19$1=["for"],_hoisted_20$1={key:"2"},_hoisted_21$1={class:"card-item__side -back"},_hoisted_22$1={class:"card-item__cover"},_hoisted_23=["src"],_hoisted_24={class:"card-item__cvv"},_hoisted_25={class:"card-item__cvvBand"},_hoisted_26={class:"card-item__type"},_hoisted_27=["src"];function _sfc_render$Q(e,a,o,r,l,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["card-item",{"-active":r.isCardFlipped}])},[createBaseVNode("div",_hoisted_1$B,[createBaseVNode("div",{class:normalizeClass(["card-item__focus",{"-active":r.focusElementStyle}]),style:normalizeStyle(r.focusElementStyle),ref:"focusElement"},null,6),createBaseVNode("div",_hoisted_2$w,[r.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:r.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_3$u)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$n,[createBaseVNode("div",_hoisted_5$l,[a[0]||(a[0]=createBaseVNode("img",{src:_imports_0,class:"card-item__chip"},null,-1)),createBaseVNode("div",_hoisted_6$k,[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[r.cardImage?(openBlock(),createElementBlock("img",{src:r.cardImage,key:r.cardImage,alt:"",class:"card-item__typeImg"},null,8,_hoisted_7$e)):createCommentVNode("",!0)]),_:1})])]),createBaseVNode("label",{for:o.fields.cardNumber,class:"card-item__number",ref:o.fields.cardNumber},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.currentPlaceholder,(i,s)=>(openBlock(),createElementBlock("span",{key:s},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[r.getIsNumberMasked(s,i)?(openBlock(),createElementBlock("div",_hoisted_9$b,"*")):o.labels.cardNumber.length>s?(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":i.trim()===""}]),key:r.currentPlaceholder},toDisplayString(o.labels.cardNumber[s]),3)):(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":i.trim()===""}]),key:r.currentPlaceholder+1},toDisplayString(i),3))]),_:2},1024)]))),128))],8,_hoisted_8$c),createBaseVNode("div",_hoisted_10$9,[createBaseVNode("label",{for:o.fields.cardName,class:"card-item__info",ref:o.fields.cardName},[createBaseVNode("div",_hoisted_12$5,toDisplayString(e.$t("Card Holder")),1),createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardName.length?(openBlock(),createElementBlock("div",_hoisted_13$5,[createVNode(TransitionGroup,{name:"slide-fade-right"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardName.replace(/\s\s+/g," "),(i,s)=>(openBlock(),createElementBlock("span",{class:"card-item__nameItem",key:s+1},toDisplayString(i),1))),128))]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_14$3,toDisplayString(e.$t("Full Name")),1))]),_:1})],8,_hoisted_11$9),createBaseVNode("div",_hoisted_15$2,[createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateTitle"},toDisplayString(e.$t("Expire Date")),9,_hoisted_16$1),createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardMonth?(openBlock(),createElementBlock("span",{key:o.labels.cardMonth},toDisplayString(o.labels.cardMonth),1)):(openBlock(),createElementBlock("span",_hoisted_18$1,toDisplayString(e.$t("MM")),1))]),_:1})],8,_hoisted_17$1),a[1]||(a[1]=createTextVNode(" / ")),createBaseVNode("label",{for:o.fields.cardYear,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardYear?(openBlock(),createElementBlock("span",{key:o.labels.cardYear},toDisplayString(String(o.labels.cardYear).slice(2,4)),1)):(openBlock(),createElementBlock("span",_hoisted_20$1,toDisplayString(e.$t("YY")),1))]),_:1})],8,_hoisted_19$1)],512)])])]),createBaseVNode("div",_hoisted_21$1,[createBaseVNode("div",_hoisted_22$1,[r.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:r.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_23)):createCommentVNode("",!0)]),a[3]||(a[3]=createBaseVNode("div",{class:"card-item__band"},null,-1)),createBaseVNode("div",_hoisted_24,[a[2]||(a[2]=createBaseVNode("div",{class:"card-item__cvvTitle"},"CVV",-1)),createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardCvv,(i,s)=>(openBlock(),createElementBlock("span",{key:s},"*"))),128))]),createBaseVNode("div",_hoisted_26,[r.cardImage?(openBlock(),createElementBlock("img",{key:0,src:r.cardImage,class:"card-item__typeImg"},null,8,_hoisted_27)):createCommentVNode("",!0)])])])],2)}const CreditCard=_export_sfc(_sfc_main$V,[["render",_sfc_render$Q],["__scopeId","data-v-4fa28647"]]),__vite_glob_3_6=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$U={name:"CreditCardForm",directives:{"number-only":{beforeMount(e){function a(o){if(o.target.value=o.target.value.replace(/[^0-9 ]/g,""),o.charCode>=48&&o.charCode<=57||o.charCode===32)return!0;o.preventDefault()}e.addEventListener("keypress",a)}},"letter-only":{beforeMount(e){function a(o){return o.charCode>=48&&o.charCode<=57&&o.preventDefault(),!0}e.addEventListener("keypress",a)}}},props:{formData:{type:Object,default:()=>reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""})},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0}},components:{CreditCard},setup(e,{emit:a}){const o=reactive({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"}),r=inject("submitForm"),l=new Date().getFullYear(),n=ref(!0),i=ref(e.formData.cardNumber),s=ref(19),d=computed(()=>["01","02","03","04","05","06","07","08","09","10","11","12"]),c=computed(()=>{const V=new URLSearchParams(window.location.search);return V.has("testYears")?Array.from({length:V.get("testYears")},(k,N)=>l+N):Array.from({length:12},(k,N)=>l+N)}),m=computed(()=>e.formData.cardYear===l?new Date().getMonth()+1:1);watch$1(()=>e.formData.cardYear,()=>{e.formData.cardMonth<m.value&&(e.formData.cardMonth="")}),onMounted(()=>{w()});const p=V=>V<10?`0${V}`:V,u=reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}),y=()=>{a("v-card-name",e.formData.cardName),a("update:cardName",u.cardName)},g=V=>{e.formData.cardNumber=V.target.value;let k=e.formData.cardNumber.replace(/\D/g,"");/^3[47]\d{0,13}$/.test(k)?(e.formData.cardNumber=k.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(k)?(e.formData.cardNumber=k.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=16):/^\d{0,16}$/.test(k)&&(e.formData.cardNumber=k.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),s.value=19),V.inputType==="deleteContentBackward"&&e.formData.cardNumber.substring(e.formData.cardNumber.length-1)===" "&&(e.formData.cardNumber=e.formData.cardNumber.substring(0,e.formData.cardNumber.length-1)),u.cardNumber=e.formData.cardNumber,a("input-card-number",e.formData.cardNumber),a("update:cardNumber",u.cardNumber)},f=()=>{a("input-card-month",e.formData.cardMonth),a("update:cardMonth",u.cardMonth)},v=()=>{a("input-card-year",e.formData.cardYear),a("update:cardYear",u.cardYear)},C=()=>{a("input-card-cvv",e.formData.cardCvv),a("update:cardCvv",u.cardCvv)},h=()=>{let V=e.formData.cardNumberNotMask.replace(/ /g,""),k=0;for(let N=0;N<V.length;N++){let D=parseInt(V.substr(N,1));N%2===0&&(D*=2,D>9&&(D=1+D%10)),k+=D}k%10!==0&&alert(e.$t("cardForm.invalidCardNumber"))},b=()=>{n.value&&w()},w=()=>{e.formData.cardNumberNotMask=e.formData.cardNumber,i.value=e.formData.cardNumber;let V=e.formData.cardNumber.split("");V.forEach((k,N)=>{N>4&&N<14&&k.trim()!==""&&(V[N]="*")}),e.formData.cardNumber=V.join("")},B=()=>{e.formData.cardNumber=i.value},S=()=>{B()},E=()=>{n.value=!n.value,n.value?w():B()},I=V=>useValidation({rules:"required|min:16|max:19|regex:/^[0-9]+$/"}),$=V=>useValidation({rules:"required"}),T=(V,k)=>{const N=new Date;return new Date(k,V-1)<N?"Card has expired":!0},A=V=>useValidation({rules:"required|min:3|max:4"});return watch$1(()=>e.formData.cardNumber,I),watch$1(()=>e.formData.cardName,$),watch$1([()=>e.formData.cardMonth,()=>e.formData.cardYear],([V,k])=>T(V,k)),watch$1(()=>e.formData.cardCvv,A),watch$1(()=>u.cardName,V=>a("update:cardName",V)),watch$1(()=>u.cardNumber,V=>a("update:cardNumber",V)),watch$1(()=>u.cardMonth,V=>a("update:cardMonth",V)),watch$1(()=>u.cardYear,V=>a("update:cardYear",V)),watch$1(()=>u.cardCvv,V=>a("update:cardCvv",V)),{fields:o,minCardYear:l,isCardNumberMasked:n,mainCardNumber:i,cardNumberMaxLength:s,months:d,years:c,minCardMonth:m,generateMonthValue:p,changeName:y,changeNumber:g,changeMonth:f,changeYear:v,changeCvv:C,invaildCard:h,blurCardNumber:b,maskCardNumber:w,unMaskCardNumber:B,focusCardNumber:S,toggleMask:E,submitForm:r,validateCardNumber:I,validateCardName:$,validateExpiryDate:T,validateCVV:A,formData:u}}},_hoisted_1$A={class:"card-form"},_hoisted_2$v={class:"card-list"},_hoisted_3$t={class:"card-form__inner"},_hoisted_4$m={class:"card-input"},_hoisted_5$k={for:"cardNumber",class:"card-input__label"},_hoisted_6$j={class:"card-input"},_hoisted_7$d={for:"cardName",class:"card-input__label"},_hoisted_8$b={class:"card-form__row"},_hoisted_9$a={class:"card-form__col"},_hoisted_10$8={class:"card-form__group"},_hoisted_11$8={for:"cardMonth",class:"card-input__label"},_hoisted_12$4={class:"card-form__col -cvv"},_hoisted_13$4={class:"card-input"},_hoisted_14$2={for:"cardCvv",class:"card-input__label"};function _sfc_render$P(e,a,o,r,l,n){const i=resolveComponent("CreditCard"),s=resolveDirective("number-only");return openBlock(),createElementBlock("div",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$v,[createVNode(i,{fields:r.fields,labels:r.formData,isCardNumberMasked:r.isCardNumberMasked,randomBackgrounds:o.randomBackgrounds,backgroundImage:o.backgroundImage},null,8,["fields","labels","isCardNumberMasked","randomBackgrounds","backgroundImage"])]),createBaseVNode("div",_hoisted_3$t,[createBaseVNode("div",_hoisted_4$m,[createBaseVNode("label",_hoisted_5$k,toDisplayString(e.$t("Card Number")),1),withDirectives(createVNode(VTextField,{id:r.fields.cardNumber,modelValue:r.formData.cardNumber,"onUpdate:modelValue":a[0]||(a[0]=d=>r.formData.cardNumber=d),onInput:r.changeNumber,onFocus:r.focusCardNumber,onBlur:r.blurCardNumber,"data-card-field":"",type:"tel",variant:"outlined",maxlength:r.cardNumberMaxLength},null,8,["id","modelValue","onInput","onFocus","onBlur","maxlength"]),[[s]])]),createBaseVNode("div",_hoisted_6$j,[createBaseVNode("label",_hoisted_7$d,toDisplayString(e.$t("Card Holder")),1),createVNode(VTextField,{id:r.fields.cardName,modelValue:r.formData.cardName,"onUpdate:modelValue":a[1]||(a[1]=d=>r.formData.cardName=d),onInput:r.changeName,"data-card-field":"",variant:"outlined"},null,8,["id","modelValue","onInput"])]),createBaseVNode("div",_hoisted_8$b,[createBaseVNode("div",_hoisted_9$a,[createBaseVNode("div",_hoisted_10$8,[createBaseVNode("label",_hoisted_11$8,toDisplayString(e.$t("Expire Date")),1),createVNode(VSelect,{id:r.fields.cardMonth,items:r.months,label:e.$t("Month"),modelValue:r.formData.cardMonth,"onUpdate:modelValue":a[2]||(a[2]=d=>r.formData.cardMonth=d),onChange:r.changeMonth,"disabled-item":d=>d<r.minCardMonth,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange","disabled-item"]),createVNode(VSelect,{id:r.fields.cardYear,items:r.years,label:e.$t("Year"),modelValue:r.formData.cardYear,"onUpdate:modelValue":a[3]||(a[3]=d=>r.formData.cardYear=d),onChange:r.changeYear,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange"])])]),createBaseVNode("div",_hoisted_12$4,[createBaseVNode("div",_hoisted_13$4,[createBaseVNode("label",_hoisted_14$2,toDisplayString(e.$t("CVV")),1),withDirectives(createVNode(VTextField,{type:"tel",modelValue:r.formData.cardCvv,"onUpdate:modelValue":a[4]||(a[4]=d=>r.formData.cardCvv=d),id:r.fields.cardCvv,maxlength:"4",onInput:r.changeCvv,"data-card-field":"",autocomplete:"off",variant:"outlined"},null,8,["modelValue","id","onInput"]),[[s]])])])]),createVNode(VBtn,{class:"card-form__button bg-success",onClick:r.submitForm,density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("PAY")),1)]),_:1},8,["onClick"])])])}const CreditCardForm=_export_sfc(_sfc_main$U,[["render",_sfc_render$P]]),__vite_glob_3_7=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCardForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$T={name:"PaymentService",components:{CreditCardForm},emits:[...makeInputEmits,"update:price","currency-converted"],props:{...makeInputProps(),modelValue:{type:Object,default:()=>({})},itemValue:{type:String,default:"id"},items:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},price_object:{type:[Object,Array,Proxy],default:()=>({})},api:{type:String,default:""},currencyCardTypes:{type:[Object,Proxy,Array],default:()=>({})},baseCurrency:{type:String,default:"EUR"}},setup(e,{emit:a}){var b,w;const o=inject("submitForm"),{formatPrice:r}=useCurrency(),l=ref(""),n=ref("-1"),i=ref(e.price_object.currency_id||((b=e.currencies[0])==null?void 0:b.id)),s=ref(r.value(e.price_object.total_amount/100,((w=e.currencies[0])==null?void 0:w.symbol)||"")),d=reactive({card_name:"",card_number:"",card_month:"",card_year:"",card_cvv:""}),c=computed(()=>e.currencies.find(B=>B.id===i.value)),m=computed(()=>{var B;return(B=c.value)==null?void 0:B.iso_4217}),p=computed(()=>e.currencies.map(B=>({id:B.id,display:`${B.symbol} - ${B.name}`}))),u=computed(()=>i.value?e.items.filter(B=>{var S;return(S=B.payment_currencies)==null?void 0:S.some(E=>E.id===i.value)}):[]),y=computed(()=>u.value.find(B=>B[e.itemValue]===l.value)),g=computed(()=>{var B;return!((B=y.value)!=null&&B.is_external)}),f=computed({get:()=>e.modelValue,set:B=>a("update:modelValue",B)}),v=computed(()=>{var B;return((B=c.value)==null?void 0:B.iso_4217)!==e.baseCurrency}),C=ref(0),h=async B=>{i.value=B,l.value=n.value;const S=e.currencies.find(E=>E.id===B);if(!(!S||!e.api))try{const E=await axios.post(e.api,{currency:S.iso_4217,amount:e.price_object.discounted_raw_amount/100});C.value=E.data.exchange_rate;const I=E.data.converted_amount*(1+e.price_object.vat_multiplier);s.value=r.value(I,S.symbol),a("update:price",s.value),a("currency-converted",s.value)}catch(E){console.error("Currency conversion error:",E)}};return watch$1(()=>e.modelValue,B=>{B&&typeof B=="object"&&(l.value=B.payment_method||n.value,Object.assign(d,B.credit_card||{}))},{immediate:!0,deep:!0}),watch$1([l,d,c],()=>{f.value={payment_method:l.value,credit_card:{...d},currency:c.value}},{deep:!0}),{input:f,localPaymentMethod:l,localDefaultPaymentMethod:n,localCreditCard:d,showCreditCardForm:g,submitForm:o,selectedCurrency:i,selectedCurrencyIso:m,formattedCurrencies:p,filteredServiceItems:u,handleCurrencyChange:h,displayPrice:s,selectedService:y,exchangeRate:C,isExchanged:v}}},_hoisted_1$z={class:"select-title"},_hoisted_2$u={class:"service-icon-container"},_hoisted_3$s={class:"total mb-2"},_hoisted_4$l={class:"amount mb-2"},_hoisted_5$j={key:0,class:""},_hoisted_6$i={class:"ml-2 font-weight-bold text-body-2 text-align-center"};function _sfc_render$O(e,a,o,r,l,n){const i=resolveComponent("v-img-icon"),s=resolveComponent("CreditCardForm");return openBlock(),createBlock(VInput,{modelValue:r.input,"onUpdate:modelValue":a[7]||(a[7]=d=>r.input=d)},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"d-flex flex-column justify-center px-0"},{default:withCtx(()=>[createVNode(VCard,{class:"pa-4 payment-container",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$z,toDisplayString(e.$t("How would you like to pay?")),1)]),_:1}),createVNode(VSelect,{modelValue:r.selectedCurrency,"onUpdate:modelValue":[a[0]||(a[0]=d=>r.selectedCurrency=d),r.handleCurrencyChange],items:r.formattedCurrencies,label:"Currency",variant:"outlined",density:"comfortable","item-title":"display","item-value":"id",class:"mx-6"},null,8,["modelValue","items","onUpdate:modelValue"]),createVNode(VRadioGroup,{modelValue:r.localPaymentMethod,"onUpdate:modelValue":a[1]||(a[1]=d=>r.localPaymentMethod=d),column:""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["service-container px-3 py-cs-1 credit-card-service",{"selected-service--focus":r.localPaymentMethod===r.localDefaultPaymentMethod}])},[createVNode(VRadio,{label:e.$t("Credit Card"),value:r.localDefaultPaymentMethod,class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.currencyCardTypes[r.selectedCurrencyIso],(d,c)=>(openBlock(),createBlock(i,{key:`type-${c}`,src:d.logo,style:{"max-width":"64px"}},null,8,["src"]))),128))]),_:1})]),_:1})],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filteredServiceItems,(d,c)=>(openBlock(),createElementBlock("div",{key:`service-${c}`,class:normalizeClass(["service-container px-3 py-1",{"selected-service--focus":r.localPaymentMethod===d[o.itemValue]}])},[createVNode(VRadio,{label:d.name,value:d[o.itemValue],class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>{var m;return[createBaseVNode("div",_hoisted_2$u,[createVNode(i,{Xsrc:"/storage/uploads/"+((m=d==null?void 0:d.medias.find(p=>{var u;return((u=p==null?void 0:p.pivot)==null?void 0:u.role)==="logo"}))==null?void 0:m.uuid),src:d.button_logo_url,class:"v-img__img--relative"},null,8,["Xsrc","src"])])]}),_:2},1024)]),_:2},1024)],2))),128))]),_:1},8,["modelValue"])]),_:1}),createVNode(VCardTitle,{class:"headline"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_3$s,toDisplayString(e.$t("Total Amount")),1),createBaseVNode("p",_hoisted_4$l,toDisplayString(r.displayPrice),1),r.isExchanged?(openBlock(),createElementBlock("p",_hoisted_5$j,toDisplayString(e.$t("Exchange Rate"))+": ~"+toDisplayString(r.exchangeRate),1)):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(VCol,{class:"px-0 d-flex align-center justify-center"},{default:withCtx(()=>{var d;return[r.showCreditCardForm?(openBlock(),createBlock(s,{key:0,cardName:r.localCreditCard.card_name,"onUpdate:cardName":a[2]||(a[2]=c=>r.localCreditCard.card_name=c),cardNumber:r.localCreditCard.card_number,"onUpdate:cardNumber":a[3]||(a[3]=c=>r.localCreditCard.card_number=c),cardMonth:r.localCreditCard.card_month,"onUpdate:cardMonth":a[4]||(a[4]=c=>r.localCreditCard.card_month=c),cardYear:r.localCreditCard.card_year,"onUpdate:cardYear":a[5]||(a[5]=c=>r.localCreditCard.card_year=c),cardCvv:r.localCreditCard.card_cvv,"onUpdate:cardCvv":a[6]||(a[6]=c=>r.localCreditCard.card_cvv=c)},null,8,["cardName","cardNumber","cardMonth","cardYear","cardCvv"])):(openBlock(),createBlock(VBtn,{key:1,style:normalizeStyle((d=r.selectedService)==null?void 0:d.button_style),onClick:r.submitForm,density:"comfortable","max-width":"300px","min-width":"80%",class:"d-flex align-center justify-center"},{default:withCtx(()=>{var c;return[createVNode(VImg,{width:"100px",contain:"","max-height":"36px",src:(c=r.selectedService)==null?void 0:c.button_logo_url},null,8,["src"]),createBaseVNode("span",_hoisted_6$i,toDisplayString(r.displayPrice),1)]}),_:1},8,["style","onClick"]))]}),_:1})]),_:1})]),_:1},8,["modelValue"])}const PaymentService=_export_sfc(_sfc_main$T,[["render",_sfc_render$O],["__scopeId","data-v-c4bc24aa"]]),__vite_glob_3_15=Object.freeze(Object.defineProperty({__proto__:null,default:PaymentService},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$4}=makeFormatterProps(),_sfc_main$S={components:{ActiveTableItem,Draggable,VDataTableRow,PaymentService,TableActions:_sfc_main$X},props:{...makeTableNamesProps(),...makeTableFiltersProps(),...makeTableHeadersProps(),...makeTableFormsProps(),...makeTableItemActionsProps(),...makeTableActionsProps(),...makeTableModalsProps(),...makeTableProps(),...makeDraggableProps(),...ignoreFormatters$4},setup(e,a){return{...useDraggable(e),...useTable(e,a)}},data(){return{datatable:{}}},mounted(){document.documentElement.style.setProperty("--table-header-color",this.headerOptions.color),this.$nextTick(()=>{this.$refs.datatable&&(this.datatable=this.$refs.datatable)}),this.initialize()},created(){},methods:{}},_hoisted_1$y={class:"ue-table-top__wrapper"},_hoisted_2$t={class:"d-flex text-start"},_hoisted_3$r={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"},_hoisted_4$k={class:"d-flex justify-end py-4"},_hoisted_5$i=["onClick"],_hoisted_6$h={key:1};function _sfc_render$N(e,a,o,r,l,n){const i=resolveComponent("ActiveTableItem"),s=resolveComponent("ue-title"),d=resolveComponent("TableActions"),c=resolveComponent("v-btn-secondary"),m=resolveComponent("ue-form"),p=resolveComponent("ue-modal"),u=resolveComponent("ue-recursive-data-viewer"),y=resolveComponent("ue-recursive-stuff"),g=resolveComponent("ue-copy-text"),f=resolveComponent("ue-dynamic-component-renderer"),v=resolveComponent("Draggable");return withDirectives((openBlock(),createBlock(VLayout,{fluid:"",class:normalizeClass([e.noFullScreen?"h-100":"",e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.elevation?`elevation-${e.elevation}`:""]),style:normalizeStyle(e.$vuetify.display.lgAndUp?"max-height: calc(100vh - 24px)":"max-height: calc(100vh - 24px - 64px)")},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["ue-datatable__container",e.noFullScreen?"fill-height":"fill-heigh ue-datatable--full-screen"])},[createVNode(i,mergeProps({class:"",modelValue:e.activeTableItem,"onUpdate:modelValue":a[0]||(a[0]=C=>e.activeTableItem=C)},e.$lodash.pick(this.$props??{},["name","fullWidthWrapper"]),{"table-headers":Object.values(e.$lodash.omitBy(this.headers,"actions")),"item-data":e.activeItemConfiguration,onToggle:a[1]||(a[1]=C=>e.hideTable=C)}),null,16,["modelValue","table-headers","item-data"]),e.hideTable?createCommentVNode("",!0):(openBlock(),createBlock(VDataTableServer,{key:0,class:normalizeClass(["px-4 h-100",e.tableClasses,e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.fullWidthWrapper?"":"ue-table--narrow-wrapper",e.tableElevation?`elevation-${e.tableElevation}`:"",e.striped?"ue-datatable--striped":"",e.roundedRows?"ue-datatable--rounded-row":"",e.hideBorderRow?"ue-datatable--no-border-row":"",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"ue-datatable--bottom-controls":""]),id:"ue-table",headers:e.selectedHeaders,"fixed-header":e.fixedHeader,sticky:e.sticky,items:e.elements,hover:!0,"items-per-page-options":e.itemsPerPageOptions,"items-per-page":e.options.itemsPerPage,search:e.options.search,page:e.options.page,"items-length":e.totalNumberOfElements,"item-title":e.titleKey,ref:"datatable",height:e.windowSize.y-64-24-59-76-(e.$vuetify.display.mdAndDown?80:0),"hide-default-header":e.hideHeaders,"multi-sort":e.multiSort,"must-sort":e.mustSort,density:e.tableDensity??"comfortable","disable-sort":e.disableSort,loading:e.loading,"loading-text":e.$t("Loading... Please wait"),mobile:e.$vuetify.display.smAndDown,"show-select":e.$store.getters.isSuperAdmin&&e.showSelect,"item-value":"id",modelValue:e.selectedItems,"onUpdate:modelValue":a[14]||(a[14]=C=>e.selectedItems=C),"onUpdate:options":a[15]||(a[15]=C=>e.changeOptions(C))},createSlots({top:withCtx(({someSelected:C})=>[createVNode(VToolbar,mergeProps(e.toolbarOptions,{class:["pt-3"]}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"pt-2":"flex-grow-1 h-100 d-flex flex-column justify-center"]),style:{"min-width":"20%"}},[createVNode(s,{type:"subtitle-1",color:"black",text:e.tableTitle,padding:"a-0"},null,8,["text"]),e.tableSubtitle?(openBlock(),createBlock(s,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0",text:e.tableSubtitle},null,8,["text"])):createCommentVNode("",!0)],2),e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?(openBlock(),createBlock(VDivider,{key:0,class:"my-2"})):createCommentVNode("",!0),createVNode(VSlideXTransition,{group:!0},{default:withCtx(()=>[createBaseVNode("div",{key:"table-controls",class:normalizeClass(["d-flex",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"mb-2":"flex-grow-1 flex-shrink-0"])},[C?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.bulkActions,(h,b)=>(openBlock(),createElementBlock(Fragment,{key:b},[e.$can(h.name,e.permissionName)?withDirectives((openBlock(),createBlock(VBtn,mergeProps({key:0,ref_for:!0},e.filterBtnOptions,{"append-icon":!1,"prepend-icon":h.icon?h.icon:`$${h.name}`,text:e.window.__headline(h.name),color:h.color??"primary",onClick:w=>e.itemAction(h,h.name)}),null,16,["prepend-icon","text","color","onClick"])),[[Tooltip,e.$lodash.startCase(h.name)]]):createCommentVNode("",!0)],64))),128)):(openBlock(),createElementBlock(Fragment,{key:1},[!e.hideSearchField&&e.hasSearchableHeader?(openBlock(),createBlock(VTextField,{key:0,id:"search-field",ref:"searchField",modelValue:e.searchModel,"onUpdate:modelValue":a[3]||(a[3]=h=>e.searchModel=h),variant:"outlined","append-inner-iconx":e.searchModel!==e.search?"mdi-magnify":null,"hide-details":"",density:"compact","single-line":"",placeholder:e.searchPlaceholder,class:normalizeClass(["mr-2",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"flex-grow-1":""]),style:normalizeStyle(["display: inline","min-width: 165px"]),"onClick:appendInner":e.searchItems,disabled:e.loading,onKeydown:withKeys(e.searchItems,["enter"])},{"append-inner":withCtx(()=>[createVNode(VBtn,{disabled:e.searchModel===e.search,icon:"mdi-magnify",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=h=>e.searchItems())},null,8,["disabled"])]),_:1},8,["modelValue","append-inner-iconx","placeholder","class","onClick:appendInner","disabled","onKeydown"])):createCommentVNode("",!0),e.$vuetify.display.mdAndUp?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),createVNode(d,{actions:e.actions},{prepend:withCtx(()=>[createVNode(VMenu,null,{activator:withCtx(({props:h})=>[e.mainFilters.length>0&&!e.hideFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"filter-btn-activator"},{...e.filterBtnOptions,...e.filterBtnTitle,...h},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,Xtext:e.$vuetify.display.smAndDown?null:e.filterBtnTitle.text,text:e.filterBtnTitle.text,"prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.smAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","Xtext","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mainFilters,(h,b)=>(openBlock(),createBlock(VListItem,{key:b,onClick:withModifiers(w=>e.changeFilter(h.slug),["prevent"]),class:normalizeClass([h.slug===e.activeFilterSlug?"bg-primary":""])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(h.name+"("+h.number+")"),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}),createVNode(VMenu,{"close-on-content-click":!1,location:"end"},{activator:withCtx(({props:h})=>[Object.keys(e.advancedFilters).length>0&&!e.hideAdvancedFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"advanced-filter-btn"},{...e.filterBtnOptions,...e.filterBtnTitle,...h},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:"Filters","prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.mdAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{title:"Filters","min-width":"40vw","max-width":"50vw"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.advancedFilters,(h,b)=>(openBlock(),createElementBlock(Fragment,{key:b},[(openBlock(!0),createElementBlock(Fragment,null,renderList(h,(w,B)=>(openBlock(),createBlock(resolveDynamicComponent(`v-${w.type}`),mergeProps({ref_for:!0},w.componentOptions,{modelValue:w.selecteds,"onUpdate:modelValue":S=>w.selecteds=S}),null,16,["modelValue","onUpdate:modelValue"]))),256))],64))),128))]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"Clear",variant:"plain",onClick:e.resetAdvancedFilter},null,8,["onClick"]),createVNode(VBtn,{color:"primary",text:"Apply",variant:"tonal",onClick:e.changeAdvancedFilter},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["actions"]),e.$can("create",e.permissionName)&&!e.noForm&&!C&&e.createOnModal?(openBlock(),createBlock(VBtn,mergeProps({key:2},e.addBtnOptions,{onClick:e.createForm,icon:e.$vuetify.display.smAndDown?e.addBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:e.addBtnTitle,"prepend-icon":e.$vuetify.display.smAndDown?null:e.addBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.addBtnOptions.density??"comfortable"}),null,16,["onClick","icon","text","prepend-icon","density"])):createCommentVNode("",!0)],64))],2)]),_:2},1024)]),_:2},1040),e.hideHeaders&&e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,class:"w-100 mb-4 mt-2",color:"success",indeterminate:"",reverse:""})):e.controlsPosition==="top"&&e.$vuetify.display.mdAndUp?(openBlock(),createBlock(VDivider,{key:1,class:"mb-2 mt-2"})):createCommentVNode("",!0),e.embeddedForm?createCommentVNode("",!0):(openBlock(),createBlock(p,mergeProps({key:2,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[6]||(a[6]=h=>e.formActive=h),transition:"dialog-bottom-transition",fullscreen:!1,"width-type":"lg"},e.formModalAttributes),{body:withCtx(h=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(m,mergeProps({ref:"UeForm","form-class":"px-6 pt-6 pb-0","fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":""},e.formAttributes,{title:{...e.formAttributes.title??{},text:e.formTitle},subtitle:e.formSubtitle,isEditing:e.editedIndex>-1,style:h.isFullActive?"height: 90vh !important;":"height: 70vh !important;",actions:e.formActions,"has-submit":"","button-text":e.editedIndex>-1?e.$t("fields.update"):e.$t("fields.create"),onActionComplete:e.handleFormActionComplete,onSubmitted:e.handleFormSubmission}),createSlots({"header.right":withCtx(()=>[renderSlot(e.$slots,"form.header.right",{},()=>[createVNode(VBtn,{icon:h.isFullActive?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:b=>h.toggleFullscreen()},null,8,["icon","onClick"]),createVNode(VBtn,{icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[4]||(a[4]=b=>e.closeForm())})])]),top:withCtx(b=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(b)))]),_:2},[e.$slots["form.header.left"]?{name:"header.left",fn:withCtx(b=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(b)),()=>[createTextVNode(toDisplayString(b.title),1)])]),key:"0"}:void 0,e.$slots["form.top"]?{name:"top",fn:withCtx(b=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(b)))]),key:"1"}:void 0,e.$slots["form.bottom"]?{name:"bottom",fn:withCtx(b=>[renderSlot(e.$slots,"form.bottom",normalizeProps(guardReactiveProps(b)))]),key:"2"}:void 0,e.$slots["form.right.top"]?{name:"right.top",fn:withCtx(b=>[renderSlot(e.$slots,"form.right.top",normalizeProps(guardReactiveProps(b)))]),key:"3"}:void 0,e.$slots["form.right.middle"]?{name:"right.middle",fn:withCtx(b=>[renderSlot(e.$slots,"form.right.middle",normalizeProps(guardReactiveProps(b)))]),key:"4"}:void 0,e.$slots["form.right.bottom"]?{name:"right.bottom",fn:withCtx(b=>[renderSlot(e.$slots,"form.right.bottom",normalizeProps(guardReactiveProps(b)))]),key:"5"}:void 0,e.$slots["form.actions.prepend"]?{name:"actions.prepend",fn:withCtx(b=>[renderSlot(e.$slots,"form.actions.prepend",normalizeProps(guardReactiveProps(b)))]),key:"6"}:void 0,e.$slots["form.actions.append"]?{name:"actions.append",fn:withCtx(b=>[renderSlot(e.$slots,"form.actions.append",normalizeProps(guardReactiveProps(b)))]),key:"7"}:void 0,e.$store.getters.isSuperAdmin?{name:"options",fn:withCtx(b=>[b.isSubmittable?(openBlock(),createBlock(c,{key:0,slim:!1,variant:"outlined",onClick:a[5]||(a[5]=w=>e.$refs.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.validate")),1)]),_:1})):createCommentVNode("",!0)]),key:"8"}:void 0]),1040,["title","subtitle","isEditing","style","actions","button-text","onActionComplete","onSubmitted"])]),_:2},1024)]),_:3},16,["modelValue"])),createBaseVNode("div",_hoisted_1$y,[e.embeddedForm&&!e.noForm?(openBlock(),createElementBlock("div",{key:0,class:"",style:normalizeStyle(e.formStyles)},[createVNode(VExpandTransition,null,{default:withCtx(()=>[e.formActive?(openBlock(),createBlock(VCard,{key:0,class:"mb-theme",elevation:"4"},{default:withCtx(()=>[createVNode(m,{"has-submit":"","button-text":"save",title:e.formTitle,ref:"form",isEditing:e.editedIndex>-1},{"header.left":withCtx(h=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(h)),()=>[createTextVNode(toDisplayString(h.title),1)])]),headerCenter:withCtx(()=>a[16]||(a[16]=[])),"header.right":withCtx(()=>[createVNode(VBtn,{class:"",variant:"text",icon:"$close",density:"compact",onClick:a[7]||(a[7]=h=>e.closeForm())})]),_:3},8,["title","isEditing"])]),_:3})):createCommentVNode("",!0)]),_:3})],4)):createCommentVNode("",!0),createVNode(p,mergeProps({modelValue:e.modals.dialog.active,"onUpdate:modelValue":a[8]||(a[8]=h=>e.modals.dialog.active=h),ref:e.modals.dialog.ref,transition:"dialog-bottom-transition","width-type":"sm"},e.modals.dialog.modalAttributes??{},{"has-fullscreen-button":""}),null,16,["modelValue"]),e.modals.show.active?(openBlock(),createBlock(p,{key:1,ref:e.modals.show.ref,modelValue:e.modals.show.active,"onUpdate:modelValue":a[9]||(a[9]=h=>e.modals.show.active=h),transition:e.modals.show.transition||"dialog-bottom-transition","width-type":e.modals.show.widthType||"lg",persistent:e.modals.show.persistent,description:e.modals.show.description,title:e.modals.show.title,"has-fullscreen-button":"","has-close-button":"","no-confirm-button":"","has-title-divider":"","cancel-text":"Close","reject-button-attributes":{variant:"elevated",color:"primary"},scrollable:""},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_2$t,[createVNode(u,{data:e.modals.show.data,"all-array-items-open":!1,"all-array-items-closed":!1},null,8,["data"])])]),_:1},8,["modelValue","transition","width-type","persistent","description","title"])):createCommentVNode("",!0),createVNode(p,{modelValue:e.customFormModalActive,"onUpdate:modelValue":a[12]||(a[12]=h=>e.customFormModalActive=h),ref:"customFormModal","width-type":"lg",persistent:""},{default:withCtx(()=>[createVNode(m,mergeProps({ref:"customForm",modelValue:e.customFormModel,"onUpdate:modelValue":a[11]||(a[11]=h=>e.customFormModel=h)},e.customFormAttributes,{"fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":"","form-class":"px-6 pb-0",style:{height:"90vh !important"}}),{"header.right":withCtx(()=>[createVNode(VBtn,{class:"ml-auto",variant:"text",icon:"$close",density:"compact",color:"deafult",onClick:a[10]||(a[10]=h=>e.customFormModalActive=!1)})]),_:1},16,["modelValue"])]),_:1},8,["modelValue"])])]),"header.actions":withCtx(C=>[createVNode(VMenu,{"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:h})=>[createVNode(VBtn,mergeProps({size:"large",variant:"plain",color:"black",icon:"mdi-cog-outline"},h),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(VList,{class:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersModel,(h,b)=>(openBlock(),createElementBlock(Fragment,{key:b},[h.key!=="actions"?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.headersModel[b].visible,"onUpdate:modelValue":w=>e.headersModel[b].visible=w,color:"primary",class:"ml-n2",disabled:e.headersModel.filter(w=>w.key!=="actions"&&w.visible===!0).length<2&&e.headersModel[b].visible===!0,label:h.title,"hide-details":"",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","disabled","label"])):createCommentVNode("",!0)],64))),128))]),_:1})]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{color:"primary",text:"Save",variant:"tonal",onClick:e.applyHeaders,block:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),"item.actions":withCtx(({item:C})=>[e.actionShowingType==="dropdown"?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,left:"","offset-x":"",class:"action-dropdown"},{activator:withCtx(({props:h})=>[createVNode(VIcon,mergeProps({size:"large",color:"primary",icon:"$list"},h),null,16)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(h,b)=>(openBlock(),createElementBlock(Fragment,{key:b},[e.itemHasAction(C,h)?(openBlock(),createBlock(VListItem,{key:0,onClick:w=>e.itemAction(C,h)},{default:withCtx(()=>[createVNode(VIcon,{small:"",color:h.iconColor,left:""},{default:withCtx(()=>[createTextVNode(toDisplayString(h.icon),1)]),_:2},1032,["color"]),createTextVNode(" "+toDisplayString(e.$t(h.label)),1)]),_:2},1032,["onClick"])):createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024)):(openBlock(),createElementBlock("div",_hoisted_6$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(h,b)=>(openBlock(),createElementBlock(Fragment,{key:b},[e.itemHasAction(C,h)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(h.label),location:"top",disabled:h.is!=="v-icon"},{activator:withCtx(({props:w})=>[(openBlock(),createBlock(resolveDynamicComponent(h.is),mergeProps({onClick:B=>e.itemAction(C,h),ref_for:!0},{...h.hasTooltip?w:{},...h.componentProps??{}}),{prepend:withCtx(()=>[createVNode(VIcon,{small:"",color:h.iconColor,left:"",icon:h.icon},null,8,["color","icon"])]),default:withCtx(()=>[h.is!=="v-icon"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.$t(h.label)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(h.icon),1)],64))]),_:2},1040,["onClick"]))]),_:2},1032,["text","disabled"])):createCommentVNode("",!0)],64))),128))]))]),"body.append":withCtx(()=>[e.enableInfiniteScroll?withDirectives((openBlock(),createBlock(VCard,{key:0},null,512)),[[Intersect,e.onIntersect]]):createCommentVNode("",!0),e.enableInfiniteScroll&&e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,indeterminate:e.loading},null,8,["indeterminate"])):createCommentVNode("",!0)]),_:2},[e.hasCustomRow?{name:"body",fn:withCtx(({items:C})=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(C,(h,b)=>(openBlock(),createBlock(VCol,mergeProps({key:h.id,ref_for:!0},e.customRow.col),{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(`ue-${e.customRow.name}`),{key:h.id,name:e.name,titlePrefix:e.titlePrefix,titleKey:e.titleKey,item:h,headers:e.headers,rowActions:e.rowActions,onClickAction:e.itemAction},{actions:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_3$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(w,B)=>(openBlock(),createElementBlock(Fragment,{key:B},[e.itemHasAction(h,w)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(w.label??e.$headline(w.name)),location:"top"},{activator:withCtx(({props:S})=>[createVNode(VBtn,mergeProps({ref_for:!0},S,{text:w.forceLabel?e.$t(w.label??e.$headline(w.name)):null,variant:w.variant??"elevated",density:w.density??(w.forceLabel?"comfortable":"compact"),size:w.size??(w.forceLabel,"default"),icon:w.forceLabel?null:w.icon?w.icon:"$"+w.name,color:w.color??"primary",rounded:w.forceLabel?null:!0,onClick:E=>e.itemAction(h,w),class:"text-capitalize"}),null,16,["text","variant","density","size","icon","color","rounded","onClick"])]),_:2},1032,["text"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1064,["name","titlePrefix","titleKey","item","headers","rowActions","onClickAction"])),b<C.length-1?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:2},1040))),128))]),_:2},1024)]),key:"0"}:void 0,e.enableCustomFooter?{name:"bottom",fn:withCtx(({page:C,pageCount:h})=>[createBaseVNode("div",_hoisted_4$k,[createVNode(VContainer,{class:"max-width text-center"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,width:"3",size:"small",indeterminate:""})):(openBlock(),createBlock(VPagination,mergeProps({key:0,modelValue:e.options.page,"onUpdate:modelValue":b=>e.options.page=b,length:e.totalNumberOfPages,density:"compact",size:"small","total-visible":"3","show-first-last-page":""},e.footerProps),{first:withCtx(({onClick:b,disabled:w,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-left",onClick:b,disabled:w}),null,16,["onClick","disabled"])]),prev:withCtx(({onClick:b,disabled:w,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:B,onClick:b,disabled:w}),null,16,["icon","onClick","disabled"])]),next:withCtx(({onClick:b,disabled:w,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:B,onClick:b,disabled:w}),null,16,["icon","onClick","disabled"])]),last:withCtx(({onClick:b,disabled:w,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-right",onClick:b,disabled:w}),null,16,["onClick","disabled"])]),_:2},1040,["modelValue","onUpdate:modelValue","length"]))]),_:2},1024)])]),key:"1"}:void 0,renderList(e.slots,(C,h)=>({name:h,fn:withCtx(()=>[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.elements,(b,w)=>(openBlock(),createBlock(y,{key:`tag-0-${w}`,configuration:b},null,8,["configuration"]))),128))])])})),renderList(e.formattableHeaders,(C,h)=>({name:`header.${C.key}`,fn:withCtx(b=>[createTextVNode(toDisplayString(b.column.title)+" ",1),C.searchable&&!e.hideSearchField?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t("Search")},{activator:withCtx(({props:w})=>[createVNode(VIcon,mergeProps(w,{color:"medium-emphasis",size:"small",icon:"mdi-table-search",onClick:a[13]||(a[13]=B=>e.$refs.searchField.focus())}),null,16)]),_:1},8,["text"])):createCommentVNode("",!0),C.removable?(openBlock(),createBlock(VTooltip,{key:1,text:e.$t("Remove Column")},{activator:withCtx(({props:w})=>[C.removable?(openBlock(),createBlock(VIcon,mergeProps({key:0,color:"medium-emphasis",size:"small",icon:"$close",onClick:B=>e.removeHeader(C.key)},w),null,16,["onClick"])):createCommentVNode("",!0)]),_:2},1032,["text"])):createCommentVNode("",!0)])})),renderList(e.formatterColumns,(C,h)=>({name:`item.${C.key}`,fn:withCtx(({item:b})=>[C.formatter=="edit"||C.formatter=="activate"?(openBlock(),createBlock(VTooltip,{text:b[C.key],key:h},{activator:withCtx(({props:w})=>{var B;return[(openBlock(),createElementBlock("span",mergeProps({key:h},w,{class:"pa-0 justify-start text-none text-wrap text-primary darken-1 cursor-pointer",onClick:S=>e.itemAction(b,...C.formatter)}),toDisplayString(e.window.__isset(b[C.key])?e.window.__shorten(b[C.key],((B=b[C.key])==null?void 0:B.textLength)??8):""),17,_hoisted_5$i)),C.key.match(/^id|uuid$/)?(openBlock(),createBlock(g,{key:0,text:b[C.key]},null,8,["text"])):createCommentVNode("",!0)]}),_:2},1032,["text"])):C.formatter=="switch"?(openBlock(),createBlock(VSwitch,{key:h,"model-value":b[C.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":w=>e.itemAction(b,"switch",w,C.key)},{label:withCtx(()=>a[17]||(a[17]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):C.formatter=="dynamic"?(openBlock(),createBlock(f,{subject:b[C.key],key:b[C.key]},null,8,["subject"])):(openBlock(),createBlock(y,mergeProps({key:3},e.handleFormatter(C.formatter,e.window.__shorten(b[C.key]??"",e.cellOptions.maxChars)),{key:b[C.key]}),null,16))])})),e.draggable?{name:"default",fn:withCtx(()=>[createBaseVNode("thead",null,[renderSlot(e.$slots,e.headers,{},()=>[createVNode(VDataTableHeaders,{mobile:this.datatable.mobile,color:this.headerOptions.color},createSlots({_:2},[renderList(this.datatable.$slots,(C,h)=>({name:h,fn:withCtx(b=>[renderSlot(e.$slots,h,normalizeProps(guardReactiveProps(b)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[h]),normalizeProps(guardReactiveProps(b)),null,16))])])}))]),1032,["mobile","color"])])]),createVNode(v,mergeProps({"model-value":e.elements,"item-key":"position"},e.dragOptions,{tag:"tbody",class:"v-data-table__tbody","onUpdate:modelValue":e.sortElements}),{item:withCtx(C=>[createVNode(VDataTableRow,{item:e.draggableItems[C.index],mobile:this.datatable.mobile},createSlots({_:2},[renderList(this.datatable.$slots,(h,b)=>({name:b,fn:withCtx(w=>[renderSlot(e.$slots,b,normalizeProps(guardReactiveProps(w)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[b]),mergeProps({",":""},{...w,item:e.elements[C.index]}),null,16))])])}))]),1032,["item","mobile"])]),_:3},16,["model-value","onUpdate:modelValue"])]),key:"2"}:void 0]),1032,["class","headers","fixed-header","sticky","items","items-per-page-options","items-per-page","search","page","items-length","item-title","height","hide-default-header","multi-sort","must-sort","density","disable-sort","loading","loading-text","mobile","show-select","modelValue"]))],2)]),_:3},8,["class","style"])),[[Resize,e.onResize]])}const Table=_export_sfc(_sfc_main$S,[["render",_sfc_render$N]]),__vite_glob_0_34=Object.freeze(Object.defineProperty({__proto__:null,default:Table},Symbol.toStringTag,{value:"Module"})),_sfc_main$R={props:{componentName:{type:String},tableAttributes:{type:Object,required:!0,default:{}}}};function _sfc_render$M(e,a,o,r,l,n){return openBlock(),createBlock(resolveDynamicComponent(`ue-${o.componentName}`),normalizeProps(guardReactiveProps(o.tableAttributes)),null,16)}const TableBinder=_export_sfc(_sfc_main$R,[["render",_sfc_render$M]]),__vite_glob_0_35=Object.freeze(Object.defineProperty({__proto__:null,default:TableBinder},Symbol.toStringTag,{value:"Module"})),_sfc_main$Q={props:{elements:{type:Array,default(){return[]}},color:{type:String,default:""}},data(){return{defaultCols:[]}},computed:{textColor(){return this.color!==""?`text-${this.color}`:""}}};function _sfc_render$L(e,a,o,r,l,n){return openBlock(),createBlock(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.elements,(i,s)=>(openBlock(),createBlock(VCol,mergeProps({key:s,ref_for:!0},i.col),{default:withCtx(()=>[createBaseVNode("label",{class:normalizeClass([`${n.textColor}`,i.class]),style:normalizeStyle(i.style)},toDisplayString(i.text),7)]),_:2},1040))),128))]),_:1})}const RowFormat=_export_sfc(_sfc_main$Q,[["render",_sfc_render$L]]),_sfc_main$P={name:"ue-tabs",emits:["update:modelValue"],components:{RowFormat},props:{modelValue:{type:[String,Number]},tabValue:{type:String,default:"id"},tabTitle:{type:String,default:"name"},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab_:this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null,models:{},elements:__isObject(this.items)?Object.keys(this.items).map(e=>({[this.tabTitle]:e,...this.items[e],[this.tabValue]:e})):this.items}},watch:{tab_:{handler(e,a){this.$emit("update:modelValue",e)}}},computed:{tab:{get(){return this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$K(e,a,o,r,l,n){const i=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:n.tab,"onUpdate:modelValue":a[0]||(a[0]=s=>n.tab=s),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.elements,s=>renderSlot(e.$slots,`tab.${s[o.tabValue]}`,{key:`tab-${s[o.tabValue]}`},()=>[createVNode(VTab,{value:s[o.tabValue]},{prepend:withCtx(()=>[renderSlot(e.$slots,`tab.${s[o.tabValue]}.prepend`)]),append:withCtx(()=>[renderSlot(e.$slots,`tab.${s[o.tabValue]}.append`)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s[o.tabTitle]),1)]),_:2},1032,["value"])])),128))]),_:3},8,["modelValue"]),renderSlot(e.$slots,"windows",normalizeProps(guardReactiveProps({active:n.tab})),()=>[createVNode(VTabsWindow,{modelValue:n.tab,"onUpdate:modelValue":a[1]||(a[1]=s=>n.tab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(s,d)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${d}`,value:s[o.tabValue]},{default:withCtx(()=>[renderSlot(e.$slots,`window.${d}`,mergeProps({ref_for:!0},{index:d,item:s,model:l.models[s[o.tabValue]]}),()=>[createVNode(i,{elements:[{text:`${s[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"])])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])])],64)}const Tabs=_export_sfc(_sfc_main$P,[["render",_sfc_render$K]]),__vite_glob_0_36=Object.freeze(Object.defineProperty({__proto__:null,default:Tabs},Symbol.toStringTag,{value:"Module"})),_sfc_main$O={name:"ue-tabs",components:{RowFormat},props:{modelValue:{type:String,default:null},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{models:{}}},computed:{activeTab:{get(){return this.modelValue??Object.keys(this.items)[0]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$J(e,a,o,r,l,n){const i=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:n.activeTab,"onUpdate:modelValue":a[0]||(a[0]=s=>n.activeTab=s),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),s=>(openBlock(),createBlock(VTab,{key:`tab-${s}`,value:s},{default:withCtx(()=>[createTextVNode(toDisplayString(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),createVNode(VTabsWindow,{modelValue:n.activeTab,"onUpdate:modelValue":a[1]||(a[1]=s=>n.activeTab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),(s,d)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${s}`,value:s,class:"pa-theme"},{default:withCtx(()=>[renderSlot(e.$slots,"window",mergeProps({ref_for:!0},{index:d,key:s,items:o.items[s],model:l.models[s]}),()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items[s],(c,m)=>(openBlock(),createBlock(i,{key:`window-row-${m}]`,elements:[{text:`${c[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"]))),128)),renderSlot(e.$slots,"windowItem")])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])],64)}const TabsPrevious=_export_sfc(_sfc_main$O,[["render",_sfc_render$J]]),__vite_glob_0_37=Object.freeze(Object.defineProperty({__proto__:null,default:TabsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$N={name:"ue-text-display",props:{text:{type:String,required:!0},subText:{type:String,required:!1}}},_hoisted_1$x={class:"d-flex align-baseline"},_hoisted_2$s={class:"font-weight-bold"},_hoisted_3$q={key:0,class:"text-body-1"};function _sfc_render$I(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$x,[createBaseVNode("span",_hoisted_2$s,toDisplayString(o.text),1),o.subText?(openBlock(),createElementBlock("span",_hoisted_3$q,toDisplayString(o.subText),1)):createCommentVNode("",!0)])}const TextDisplay=_export_sfc(_sfc_main$N,[["render",_sfc_render$I]]),__vite_glob_0_38=Object.freeze(Object.defineProperty({__proto__:null,default:TextDisplay},Symbol.toStringTag,{value:"Module"})),_hoisted_1$w=["innerHTML"],_sfc_main$M={__name:"Title",props:{text:String,subTitle:String,tag:{type:String,default:"div",validator:e=>["div","h1","h2","h3","h4","h5","h6"].includes(e)},type:{type:String,default:"body-1",validator:e=>e===null||["h1","h2","h3","h4","h5","h6","subtitle-1","subtitle-2","body-1","body-2","button","caption","overline"].includes(e)},weight:{type:String,default:"bold",validator:e=>e===null||["black","bold","medium","regular","light","thin"].includes(e)},transform:{type:String,default:"uppercase",validator:e=>e===null||["none","capitalize","lowercase","uppercase"].includes(e)},color:{type:String},bg:{type:String},padding:{type:String,default:"a-3"},margin:{type:String,default:"a-0"},align:{type:String,default:"start",validator:e=>["start","center","end"].includes(e)},textPosition:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},justify:{type:String,default:"start",validator:e=>["start","center","end","space-between"].includes(e)},classes:{type:[String,Array]},paddingReset:{type:Boolean,default:!1},descriptionClasses:{type:[String,Array],default:"font-weight-light text-subtitle-2 text-truncate"}},setup(e){const a=e,o=computed(()=>["ue-title",`text-${a.type}`,a.bg?`bg-${a.bg}`:"",a.color?`text-${a.color}`:"",`text-${a.transform}`,`font-weight-${a.weight}`,a.padding?`p${a.padding}`:"",a.margin?`m${a.margin}`:"",`text-${a.textPosition}`,`align-${a.align}`,`justify-${a.justify}`]);return(r,l)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass([o.value,e.classes,"d-flex"])},{default:withCtx(()=>[renderSlot(r.$slots,"default",normalizeProps(guardReactiveProps({text:e.text})),()=>[createBaseVNode("span",{innerHTML:e.text},null,8,_hoisted_1$w)]),renderSlot(r.$slots,"right")]),_:3},8,["class"]))}},__vite_glob_0_39=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$M},Symbol.toStringTag,{value:"Module"})),illegalRe=/[\/\?<>\\:\*\|":]/g,controlRe=/[\x00-\x1f\x80-\x9f]/g,reservedRe=/^\.+$/,windowsReservedRe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,windowsTrailingRe=/[\. ]+$/,defaultDiacriticsRemovalap=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],diacriticsMap={};for(let e=0;e<defaultDiacriticsRemovalap.length;e++){const a=defaultDiacriticsRemovalap[e].letters.split("");for(let o=0;o<a.length;o++)diacriticsMap[a[o]]=defaultDiacriticsRemovalap[e].base}function noAccents(e,a,o){let r=e.replace(/[^\u0000-\u007E]/g,function(l){return diacriticsMap[l]||l});return o=o||"",r=r.replace(/[^\u0000-\u007E]/g,o),r}function sanitize(e,a){let o=noAccents(e).replace(illegalRe,a).replace(controlRe,a).replace(reservedRe,a).replace(windowsReservedRe,a).replace(windowsTrailingRe,a);const r=/[^0-9a-zA-Z-.,;_]/g;return o=o.replace(r,""),truncate(o,{length:255})}function sanitizeFilename(e,a){return sanitize(e,"")}const _sfc_main$L={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){const e=this.uploaderConfig.allowedExtensions;return{allowedExtensions:e,acceptFiles:"."+e.join(", ."),stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){const a={debug:!0,maxConnections:5,button:this.$refs.uploaderBrowseButton,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader=this.uploaderConfig.endpointType==="s3"?new _default({options:{...a,validation:{...this.uploaderValidation},objectProperties:{key:o=>this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)),region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):this.uploaderConfig.endpointType==="azure"?new _default$1({options:{...a,validation:{...this.uploaderValidation},cors:{expected:!0,sendCredentials:!0},blobProperties:{name:o=>new Promise(r=>{r(this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)))})},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):new _default$2({options:{...a,validation:{...this.uploaderValidation,sizeLimit:this.uploaderConfig.filesizeLimit*1048576},request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}})},replaceMedia:function(e){this.media_to_replace_id=e;const a=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');a[Array.from(a).length-1].click()},loadingProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,a){this.$emit("loaded",a),this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD,e)},_onCompleteCallback(e,a,o,r){const l=this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e));o.success?this.loadingFinished(this.loadingMedias[l],o.media):this.loadingError(this.loadingMedias[l])},_onAllCompleteCallback(e,a){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback(e,a){this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+qq.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);const o=URL.createObjectURL(this._uploader.methods.getFile(e)),r=new Image;r.onload=()=>{this._uploader.methods.setParams({width:r.width,height:r.height,unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e),this.media_to_replace_id=null},r.src=o;const l={id:this._uploader.methods.getUuid(e),name:sanitizeFilename(a),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};this.type.value==="file"&&(this.media_to_replace_id=null),this.loadingMedias.push(l),this.loadingProgress(l)},_onProgressCallback(e,a,o,r){const l=this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e));if(l>=0){const n=this.loadingMedias[l];n.progress=o/r*100||0,n.error=!1,this.loadingProgress(n)}},_onErrorCallback(e,a,o,r){const l=e?this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e)):-1;if(l>=0)this.loadingMedias[l].errorMessage=o,this.loadingError(this.loadingMedias[l]);else{const n={id:e?this._uploader.methods.getUuid(e):Math.floor(Math.random()*1e3),name:sanitizeFilename(a),progress:0,error:!0,errorMessage:o};this.loadingMedias.push(n),this.loadingProgress(n),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback(e,a,o){if(o==="retrying upload"){const r=this.loadingMedias.findIndex(function(l){return l.id===e});if(r>=0){const l=this.loadingMedias[r];l.progress=0,l.error=!1,this.loadingProgress(l)}}},_onTotalProgressCallback(e,a){const o=Math.floor(e/a*100);this.uploadProgress(o)},_onDropError(e,a){console.error(e,a)},_onProcessingDroppedFilesComplete(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted(){this.initUploader();const e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new qq.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeUnmount(){this._qqDropzone&&this._qqDropzone.dispose()}},_hoisted_1$v={class:"uploader"},_hoisted_2$r={class:"uploader__dropzone",ref:"uploaderDropzone"},_hoisted_3$p={class:"uploader__dropzone--desktop"};function _sfc_render$H(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$r,[createBaseVNode("div",{class:"button",ref:"uploaderBrowseButton"},toDisplayString(e.$trans("uploader.upload-btn-label","Add new")),513),createBaseVNode("div",_hoisted_3$p,toDisplayString(e.$trans("uploader.dropzone-text","or drop new files here")),1)],512)])}const Uploader=_export_sfc(_sfc_main$L,[["render",_sfc_render$H],["__scopeId","data-v-936f2c80"]]),__vite_glob_0_40=Object.freeze(Object.defineProperty({__proto__:null,default:Uploader},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$3}=makeFormatterProps(),_sfc_main$K={props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$3},setup(e,a){return{...useTableIterator(e,a)}},data(){return{isExpanded:!1}},methods:{toggleExpand(){this.isExpanded=!this.isExpanded}}};function _sfc_render$G(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VCard,{onClick:n.toggleExpand,color:"#EBEFF280",variant:"flat",rounded:"l",class:"mr-0 pr-0"},{default:withCtx(()=>[createVNode(VRow,{class:"d-flex align-center pr-0 mr-0 ga-0"},{default:withCtx(()=>[createVNode(VCol,{cols:"11"},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.headerKey].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.headerKey].formatter,e.item[e.iteratorOptions.headerKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1}))]),_:1}),createVNode(VSpacer),createVNode(VIcon,{icon:"mdi-menu-down",class:"pr-3"})]),_:1}),(openBlock(),createBlock(VExpandTransition,{key:e.item.id},{default:withCtx(()=>[l.isExpanded?(openBlock(),createBlock(VCard,{key:0},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.expandedKey].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.expandedKey].formatter,e.item[e.iteratorOptions.expandedKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.expandedKey]),1)]),_:1}))]),_:1})):createCommentVNode("",!0)]),_:1}))]),_:1},8,["onClick"])}const ExpandableIterator=_export_sfc(_sfc_main$K,[["render",_sfc_render$G]]),__vite_glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:ExpandableIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$2}=makeFormatterProps(),_sfc_main$J={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$2},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$u={class:"text-h6"},_hoisted_2$q={key:0},_hoisted_3$o={key:1},_hoisted_4$j={key:2},_hoisted_5$h={class:"d-flex justify-end"};function _sfc_render$F(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VSheet,{border:""},{default:withCtx(()=>[createVNode(VImg,{gradient:"to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, .1), rgba(0, 0, 0, .15)",src:e.headersWithKeys[e.iteratorOptions.imgSrc]??"https://ih1.redbubble.net/image.4905811447.8675/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",height:"150"},null,8,["src"]),createVNode(VListItem,{title:e.item.name,density:"comfortable",lines:"one"},{title:withCtx(()=>[createBaseVNode("strong",_hoisted_1$u,toDisplayString(e.item.name),1)]),_:1},8,["title"]),createVNode(VTable,{class:"data-iterator-table",density:"compact"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersWithKeys,(s,d)=>{var c,m;return openBlock(),createElementBlock("tr",null,[createBaseVNode("th",null,toDisplayString(s.title),1),s.key!=="actions"&&!((c=s.formatter)!=null&&c.length)?(openBlock(),createElementBlock("td",_hoisted_2$q,toDisplayString(e.item[s.key]),1)):s.key!=="actions"&&((m=s.formatter)!=null&&m.length)?(openBlock(),createElementBlock("td",_hoisted_3$o,[(openBlock(),createBlock(i,mergeProps({ref_for:!0},e.handleFormatter(s.formatter,e.item[s.key]),{key:s.key}),null,16))])):s.key==="actions"&&!s.formatter.length?(openBlock(),createElementBlock("td",_hoisted_4$j,[createBaseVNode("div",_hoisted_5$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(p=>e.itemHasAction(e.item,p)),(p,u)=>(openBlock(),createBlock(VIcon,{ripple:!0,density:"compact",size:"medium",key:u,onClick:y=>e.itemAction(e.item,p),small:"",icon:p.icon??`$${p.name}`},null,8,["onClick","icon"]))),128))])])):createCommentVNode("",!0)])}),256))])]),_:1})]),_:1})}const RichCardIterator=_export_sfc(_sfc_main$J,[["render",_sfc_render$F]]),__vite_glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:RichCardIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$1}=makeFormatterProps(),_sfc_main$I={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$1},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$t={class:"d-flex"},_hoisted_2$p={class:"header"},_hoisted_3$n={key:0,class:"value"},_hoisted_4$i={class:"d-flex"},_hoisted_5$g={class:"header"},_hoisted_6$g={key:0,class:"value"},_hoisted_7$c={key:0,class:"featured"},_hoisted_8$a={key:1};function _sfc_render$E(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createElementBlock(Fragment,null,[createVNode(VCard,{class:"data-iterable-rich-row",variant:"flat",elevation:"0"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1})]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"action-area"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(s=>e.itemHasAction(e.item,s)),(s,d)=>(openBlock(),createBlock(VBtn,{ripple:!0,density:"compact",size:"small",key:d,onClick:c=>e.itemAction(e.item,s)},{default:withCtx(()=>[createVNode(VIcon,{small:"",icon:s.icon??`$${s.name}`},null,8,["icon"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"3",class:"first-column"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.firstColumn,(s,d)=>(openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("p",_hoisted_2$p,toDisplayString(e.headersWithKeys[s].title),1),e.headersWithKeys[s].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_3$n,toDisplayString(e.item[s]),1))]))),256))]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.secondColumn,(s,d)=>{var c,m;return openBlock(),createElementBlock("div",_hoisted_4$i,[createBaseVNode("p",_hoisted_5$g,toDisplayString(((c=e.headersWithKeys[s])==null?void 0:c.title)??s),1),(m=e.headersWithKeys[s])!=null&&m.formatter.length?(openBlock(),createBlock(i,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_6$g,toDisplayString(e.item[s]??""),1))])}),256))]),_:1}),createVNode(VCol,{cols:"3",class:"featured"},{default:withCtx(()=>{var s;return[(s=e.headersWithKeys[e.iteratorOptions.featured])!=null&&s.formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.featured].formatter,e.item[e.iteratorOptions.featured]),{key:e.item[e.iteratorOptions.featured].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_7$c,toDisplayString(e.item[e.iteratorOptions.featured]),1))]}),_:1}),createVNode(VCol,{cols:"3",class:"last-column"},{default:withCtx(()=>[e.headersWithKeys.published.formatter.length?(openBlock(),createBlock(i,mergeProps({key:0},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.lastColumn].formatter,e.item[e.iteratorOptions.lastColumn]),{key:e.item[e.iteratorOptions.lastColumn].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_8$a,toDisplayString(e.item[e.iteratorOptions.lastColumn]),1)),createVNode(VBtn,{variant:"outlined",ripple:!0},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Report")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VDivider)],64)}const RichRowIterator=_export_sfc(_sfc_main$I,[["render",_sfc_render$E]]),__vite_glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:RichRowIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$H={name:"Footer",props:{items:{type:Array,required:!0},show:{type:Boolean,default:!0}},data:function(){return{links:this.items,display:this.show}},created(){}};function _sfc_render$D(e,a,o,r,l,n){return withDirectives((openBlock(),createBlock(VFooter,{dark:"",padless:""},{default:withCtx(()=>[createVNode(VCard,{flat:"",tile:"",class:"indigo lighten-1 white--text text-center"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.links,(i,s)=>(openBlock(),createBlock(VBtn,{key:s,class:"mx-4 white--text",href:i.url,icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"24px"},{default:withCtx(()=>[createTextVNode(toDisplayString(i.icon),1)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),createVNode(VCardText,{class:"white--text pt-0"},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode(" Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. ")])),_:1}),createVNode(VDivider),createVNode(VCardText,{class:"white--text"},{default:withCtx(()=>[createTextVNode(toDisplayString(new Date().getFullYear())+"  ",1),a[1]||(a[1]=createBaseVNode("strong",null,"Vuetify",-1))]),_:1})]),_:1})]),_:1},512)),[[vShow,e.display]])}const Footer=_export_sfc(_sfc_main$H,[["render",_sfc_render$D]]),__vite_glob_2_0=Object.freeze(Object.defineProperty({__proto__:null,default:Footer},Symbol.toStringTag,{value:"Module"})),_sfc_main$G={provide(){return{activeMenu:computed(()=>this.activeMenu)}},setup(){const e=useGoTo();return{...useSidebar(),goTo:e}},props:{items:{type:Array,required:!0},rating:{type:Number,default:0}},data(){return{dialog:!1,logo:"@/sass/themes/template/main-logo.svg",profileMenuOpen:!1}},mounted(){try{const e=window.$(".sidebar-item-active"),a=e[e.length-1];this.goTo(a,{container:".v-navigation-drawer__content",duration:200,offset:-200,easing:"easeInOutQuad"})}catch(e){console.log(e)}},methods:{profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})}}},_hoisted_1$s={key:1,class:"mx-3 text-subtitle-2"},_hoisted_2$o={class:"flex-grow-1"},_hoisted_3$m={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_4$h={class:"flex-grow-1"},_hoisted_5$f={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_6$f={class:"d-flex align-center position-relatie",style:{}};function _sfc_render$C(e,a,o,r,l,n){const i=resolveComponent("ue-svg-icon"),s=resolveComponent("ue-navigation-group"),d=resolveComponent("ue-logout-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{ref:"navigationDrawer",id:"navigation-drawer",modelValue:e.status,"onUpdate:modelValue":a[3]||(a[3]=c=>e.status=c),rail:e.rail,"expand-on-hover":e.isHoverable,location:e.options.location,railWidth:e.options.railWidth,persistent:e.options.persistent??!1,width:e.width},{prepend:withCtx(()=>[createVNode(VList,{class:"ue-sidebar__info"},{default:withCtx(()=>[e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock("div",_hoisted_1$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(c,m)=>(openBlock(),createElementBlock("div",{key:m,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_2$o,toDisplayString(e.$headline(m))+":",1),createBaseVNode("div",_hoisted_3$m,toDisplayString(c),1)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],c=>createBaseVNode("div",{key:c,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_4$h,toDisplayString(c==="appDebug"?"Debug Mode":e.$headline(c))+":",1),createBaseVNode("div",_hoisted_5$f,toDisplayString(c==="appDebug"?e.$store.getters[c]?"Active":"Inactive":e.$store.getters[c]),1)])),64)):createCommentVNode("",!0)])):(openBlock(),createBlock(VListItem,{key:0,"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",subtitle:e.$store.getters.appEmail,title:e.$store.getters.appName,class:"ue-sidebar__info-item"},{prepend:withCtx(()=>[createVNode(VAvatar,{class:"ue-sidebar__avatar",color:"primary"},{default:withCtx(()=>[createVNode(i,{class:"ue-sidebar__logo",symbol:"main-logo-dark"})]),_:1})]),_:1},8,["subtitle","title"]))]),_:1}),createBaseVNode("div",_hoisted_6$f,[createVNode(VDivider,{class:"flex-grow-1"}),!e.hasRail&&e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VBtn,{key:0,icon:"",color:"orange",onClick:a[0]||(a[0]=c=>e.railManual=!e.railManual),class:"sidebar-toggle-btn",size:"small",style:{position:"absolute",right:"-20px","z-index":"9999"}},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.rail?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1})):createCommentVNode("",!0)])]),append:withCtx(()=>[(e.$store.getters.isGuest,openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VDivider),createVNode(VList,{class:""},{default:withCtx(()=>[createVNode(VListItem,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:e.$store.getters.userProfile.name,subtitle:e.$store.getters.userProfile.email,class:"ue-sidebar__info-item"},{prepend:withCtx(c=>[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])]),append:withCtx(()=>[createVNode(VBtn,{onClick:a[1]||(a[1]=c=>l.profileMenuOpen=!l.profileMenuOpen),icon:l.profileMenuOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text"},null,8,["icon"])]),_:1},8,["title","subtitle"]),createVNode(VExpandTransition,null,{default:withCtx(()=>[l.profileMenuOpen?(openBlock(),createBlock(s,{key:0,items:e.profileMenu,profileMenu:!0,onActivateMenu:a[2]||(a[2]=c=>e.handleMenu(c))},null,8,["items"])):createCommentVNode("",!0)]),_:1}),createVNode(d,{csrf:e.$csrf()},{activator:withCtx(({props:c})=>[createVNode(VTooltip,{text:"Logout",location:"top",disabled:!(e.rail&&!e.isHoverable)},{activator:withCtx(m=>[createBaseVNode("div",normalizeProps(guardReactiveProps(m.props)),[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-logout"},c,{disabled:e.$store.getters.isGuest}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040,["disabled"])],16)]),_:2},1032,["disabled"])]),_:1},8,["csrf"]),e.$store.getters.versions&&!e.$store.getters.isGuest&&!e.$store.getters.isClient&&!e.$store.getters.isSuperAdmin?(openBlock(),createBlock(VDialog,{key:0,ref:"aboutDialog","max-width":"500"},{activator:withCtx(({props:c})=>[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-information"},c),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("About")),1)]),_:2},1040)]),default:withCtx(({isActive:c})=>[createVNode(VCard,{title:e.$t("About")},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(m,p)=>(openBlock(),createElementBlock("div",{key:p,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(e.$headline(p))+": ",1),createVNode(VChip,{variant:"outlined",color:"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(m),1)]),_:2},1024)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],m=>createBaseVNode("div",{key:m,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(m==="appDebug"?"Debug Mode":e.$headline(m))+": ",1),createVNode(VChip,{variant:"outlined",color:m==="appDebug"?e.$store.getters[m]?"success":"error":"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(m==="appDebug"?e.$store.getters[m]?"Active":"Inactive":e.$store.getters[m]),1)]),_:2},1032,["color"])])),64)):createCommentVNode("",!0)]),_:1}),createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"outlined",text:e.$t("Close"),onClick:m=>c.value=!1},null,8,["text","onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:1},512)):createCommentVNode("",!0),renderSlot(e.$slots,"bottom")]),_:3})],64))]),default:withCtx(()=>[createVNode(s,{items:o.items,hideIcons:e.hideIcons,showTooltip:e.rail&&!e.isHoverable,id:"ue-sidebar__menu"},null,8,["items","hideIcons","showTooltip"])]),_:3},8,["modelValue","rail","expand-on-hover","location","railWidth","persistent","width"]),e.options.contentDrawer.exists?(openBlock(),createBlock(VNavigationDrawer,{key:0,width:e.width,location:e.options.location,style:{"max-width":"15%"}},null,8,["width","location"])):createCommentVNode("",!0),e.secondaryOptions.exists?(openBlock(),createBlock(VNavigationDrawer,{key:1,location:e.secondaryOptions.location,width:e.width},null,8,["location","width"])):createCommentVNode("",!0)],64)}const Sidebar=_export_sfc(_sfc_main$G,[["render",_sfc_render$C]]),__vite_glob_2_3=Object.freeze(Object.defineProperty({__proto__:null,default:Sidebar},Symbol.toStringTag,{value:"Module"})),_sfc_main$F={name:"Home",data(){return{sidebarItems:[{icon:"fas fa-plus"},{icon:"fas fa-th-large"},{icon:"fas fa-align-center"},{icon:"fas fa-gitter"},{icon:"fas fa-chart-line"}]}},components:{Sidebar}};function _sfc_render$B(e,a,o,r,l,n){const i=resolveComponent("Sidebar");return openBlock(),createBlock(VApp,{id:"inspire",style:normalizeStyle({background:e.$vuetify.theme.themes.dark.background})},{default:withCtx(()=>[createVNode(i,{items:l.sidebarItems},null,8,["items"])]),_:1},8,["style"])}const Home=_export_sfc(_sfc_main$F,[["render",_sfc_render$B]]),__vite_glob_2_1=Object.freeze(Object.defineProperty({__proto__:null,default:Home},Symbol.toStringTag,{value:"Module"})),_sfc_main$E={props:{navigation:{type:Object,default(){return{sidebar:[{icon:"$package",text:"Packages",action:"",is_active:!1},{icon:"$creditCards",text:"Payments",action:"",is_active:!1},{icon:"$product",text:"Customers",action:"",is_active:!1},{icon:"$users",text:"Users",is_active:!0,items:[{icon:"$users",text:"Show Users",action:"",is_active:!1},{icon:"$userAdd",text:"Add User",action:"",is_active:!1},{icon:"$role",text:"Roles",is_active:!0,items:[{icon:"$permission",text:"Add Permission",action:"",is_active:!0}]}]},{icon:"$check",text:"Settings",action:"",is_active:!1},{icon:"fas fa-plus",text:"Others",action:"",is_active:!1}]}}},impersonation:{type:Object,default(){return{}}},authorization:{type:Object,default(){return{}}}},data(){return{loader:null,loading:!1,langs:["tr","en"],footerDisplay:!1,sidebarItem:[{icon:"$package",text:"Packages",action:""},{icon:"$creditCards",text:"Payments",action:""},{icon:"$product",text:"Customers",action:""},{icon:"$users",text:"Users",items:[{icon:"$users",text:"Show Users",action:""},{icon:"$userAdd",text:"Add User",action:""}]},{icon:"$check",text:"Settings",action:""},{icon:"fas fa-plus",text:"Others",action:""}],sidebarItems:this.navigation.sidebar,breadcrumbs:this.navigation.breadcrumbs??[],footerLinks:[{icon:"mdi-facebook",url:"facebook.com"},{icon:"mdi-twitter",url:"twitter.com"},{icon:"mdi-linkedin",url:"linkedin.com"},{icon:"mdi-instagram",url:"instagram.com"}],showDeleteWarning:!1,showImpersonateToolbar:!1}},computed:{alertDialog:{get(){return this.$store.state.alert.dialog},set(e){this.$store.commit(ALERT$1.SET_DIALOG_SHOW,e)}},alertDialogMessage(){return this.$store.state.alert.dialogMessage}},created(){this.$vuetify.display.mdAndDown&&this.$store.commit(CONFIG.SET_SIDEBAR,!1),this.$store.commit(MEDIA_LIBRARY.SET_ACCESSIBLE,this.authorization&&!this.$lodash.isEmpty(this.authorization)&&!this.authorization.isClient)},mounted(){},methods:{addSidebarItem:function(e){this.$refs.sidebar.addItem({icon:"fa-regular fa-circle-question",text:"New"})},submit(){alert("Submit Form")},closeAlertDialog(){this.$store.commit(ALERT$1.CLEAR_DIALOG)},profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})},loginFormSubmitted(e){e.variant==="success"&&(this.$store.commit(ALERT$1.SET_ALERT,{...e}),e.timeout?setTimeout(()=>{window.location.reload()},e.timeout):window.location.reload())}}},_hoisted_1$r={class:"d-flex justify-end mr-4"},_hoisted_2$n={class:"d-flex align-center"},_hoisted_3$l=["value"],_hoisted_4$g={key:0},_hoisted_5$e={class:"modal--tiny-title"},_hoisted_6$e=["innerHTML"],_hoisted_7$b={class:"d-flex align-center"},_hoisted_8$9={class:"d-flex"},_hoisted_9$9={class:"my-3 flex-grow-0"},_hoisted_10$7=["innerHTML"],_hoisted_11$7={class:"text-grey-darken-2 text-caption"};function _sfc_render$A(e,a,o,r,l,n){const i=resolveComponent("ue-impersonate-toolbar"),s=resolveComponent("ue-sidebar"),d=resolveComponent("ue-modal-media"),c=resolveComponent("ue-modal"),m=resolveComponent("ue-title"),p=resolveComponent("ue-form"),u=resolveComponent("ue-alert"),y=resolveComponent("ue-dynamic-modal"),g=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VApp,{id:"inspire"},{default:withCtx(()=>[renderSlot(e.$slots,"top"),e.$store.getters.isHot?(openBlock(),createBlock(VChip,{key:0,color:"green",class:"position-absolute",style:{top:"4px",right:"0","z-index":"10000"},onClick:a[0]||(a[0]=f=>e.$store.state.ambient.isHot=!1)},{default:withCtx(()=>a[11]||(a[11]=[createTextVNode(" Development Mode ")])),_:1})):createCommentVNode("",!0),e.$vuetify.display.mdAndDown?(openBlock(),createBlock(VAppBar,{key:1,app:""},{default:withCtx(()=>[e.$vuetify.display.lgAndUp?createCommentVNode("",!0):(openBlock(),createBlock(VAppBarNavIcon,{key:0,icon:e.$store.getters.sidebarStatus?"$close":"$menu",onClick:a[1]||(a[1]=f=>e.$toggleSidebar())},null,8,["icon"])),createVNode(VToolbarTitle,null,{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("CRM")])),_:1}),createCommentVNode("",!0),createVNode(VSpacer),createBaseVNode("div",_hoisted_1$r,[createBaseVNode("div",_hoisted_2$n,[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])])]),createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),createVNode(s,{items:l.sidebarItems,ref:"sidebar"},{bottom:withCtx(()=>[o.impersonation.active?(openBlock(),createBlock(i,mergeProps({key:0,modelValue:l.showImpersonateToolbar,"onUpdate:modelValue":a[3]||(a[3]=f=>l.showImpersonateToolbar=f)},o.impersonation),null,16,["modelValue"])):createCommentVNode("",!0)]),_:1},8,["items"]),createVNode(VMain,null,{default:withCtx(()=>[renderSlot(e.$slots,"main-top"),createCommentVNode("",!0),renderSlot(e.$slots,"default"),e.$store.getters.mediaLibraryAccessible?(openBlock(),createBlock(d,{key:1,ref:"mediaLibrary",modelValue:e.$store.state.mediaLibrary.showModal,"onUpdate:modelValue":a[4]||(a[4]=f=>e.$store.state.mediaLibrary.showModal=f)},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(c,{ref:"deleteWarningMediaModal",modelValue:l.showDeleteWarning,"onUpdate:modelValue":a[5]||(a[5]=f=>l.showDeleteWarning=f),transition:"dialog-bottom-transition","width-type":"sm","confirm-text":e.$t("media-library.dialogs.delete.delete-media-confirm"),"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("p",_hoisted_5$e,[createBaseVNode("strong",null,toDisplayString(e.$t("media-library.dialogs.delete.delete-media-title")),1)]),createBaseVNode("p",{innerHTML:e.$t("media-library.dialogs.delete.delete-media-desc")},null,8,_hoisted_6$e)]),_:1},8,["modelValue","confirm-text"]),createVNode(c,{ref:"profileDialog",modelValue:e.$store.state.user.profileDialog,"onUpdate:modelValue":a[7]||(a[7]=f=>e.$store.state.user.profileDialog=f),Xwidth:"500",scrollable:""},{body:withCtx(({isActive:f,toggleFullscreen:v,close:C,isFullActive:h})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(m,{padding:"y-3",text:e.$t("Upload Profile Image"),color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_7$b,[createVNode(VIcon,{icon:h?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"default",onClick:b=>v()},null,8,["icon","onClick"]),createVNode(VIcon,{icon:"$close",variant:"plain",color:"grey-darken-5",size:"default",onClick:b=>C()},null,8,["onClick"])])]),_:2},1032,["text"]),createVNode(VDivider)]),_:2},1024),createVNode(VCardText,{Xstyle:"height: 30vh;"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_8$9,[createBaseVNode("div",_hoisted_9$9,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"100"},null,8,["image"])]),createVNode(p,{class:"flex-grow-1 pl-6",schema:e.$store.state.user.profileShortcutSchema,modelValue:e.$store.state.user.profileShortcutModel,"onUpdate:modelValue":a[6]||(a[6]=b=>e.$store.state.user.profileShortcutModel=b),"action-url":e.$store.state.user.profileRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"","is-editing":"",buttonText:"fields.save",onSubmitted:n.profileFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),createVNode(u,{ref:"alert"},null,512),createVNode(y),createVNode(c,{ref:"dialog",modelValue:n.alertDialog,"onUpdate:modelValue":a[8]||(a[8]=f=>n.alertDialog=f),scrollable:"",transition:"dialog-bottom-transition","width-type":"lg",persistent:""},{body:withCtx(f=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,{class:"text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.alertDialogMessage},null,8,_hoisted_10$7)]),_:1}),createVNode(VDivider),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(g,{onClick:n.closeAlertDialog},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(c,{ref:"loginModal",modelValue:e.$store.state.user.showLoginModal,"onUpdate:modelValue":a[10]||(a[10]=f=>e.$store.state.user.showLoginModal=f),scrollable:"",transition:"dialog-bottom-transition","width-type":"sm",persistent:""},{body:withCtx(({isActive:f,toggleFullscreen:v,close:C,isFullActive:h})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(m,{padding:"y-3",color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{default:withCtx(()=>[createBaseVNode("div",null,[createTextVNode(toDisplayString(e.$t("Login"))+" ",1),a[15]||(a[15]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",_hoisted_11$7,toDisplayString(e.$t("Your session has expired, please login again.")),1)])]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(p,{class:"flex-grow-1",schema:e.$store.state.user.loginShortcutSchema,modelValue:e.$store.state.user.loginShortcutModel,"onUpdate:modelValue":a[9]||(a[9]=b=>e.$store.state.user.loginShortcutModel=b),"action-url":e.$store.state.user.loginRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"",buttonText:"fields.login",onSubmitted:n.loginFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3})]),_:3})}const Main=_export_sfc(_sfc_main$E,[["render",_sfc_render$A]]),__vite_glob_2_2=Object.freeze(Object.defineProperty({__proto__:null,default:Main},Symbol.toStringTag,{value:"Module"})),_hoisted_1$q={class:"w-100"},_hoisted_2$m={class:"d-flex flex-wrap gc-4 align-center px-4"},_hoisted_3$k=["innerHTML"],_hoisted_4$f=["innerHTML"],_hoisted_5$d=["innerHTML"],_hoisted_6$d=["innerHTML"],_hoisted_7$a=["innerHTML"],_hoisted_8$8=["innerHTML"],_hoisted_9$8={class:"d-flex justify-space-between gc-4"},_hoisted_10$6={class:"d-flex justify-space-between gc-4 mt-2"},_hoisted_11$6={class:"d-flex justify-end gc-4"},_sfc_main$D={__name:"Assignment",props:{...makeInputProps(),variant:{type:String,default:"outlined"},density:{type:String,default:"default"},items:{type:Array,default:()=>[]},fetchEndpoint:{type:String,default:null},saveEndpoint:{type:String,default:null},assignableType:{type:String,default:null},assigneeType:{type:String,default:null},authorizedRoles:{type:Array,default:()=>["superadmin","admin"]},minDueDays:{type:Number,default:0},filepond:{type:Object,default:null}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,r=a,{input:l,id:n,boundProps:i}=useInput(o,{emit:r}),{requiredRule:s,minRule:d,futureDateRule:c,dateRule:m,invokeRule:p}=useValidation(o),{t:u,d:y}=useI18n(),g=useDynamicModal(),f=useAuthorization(),v=useAlert(),C=ref(!1),h=ref(!1);ref(o.modelValue),ref([]),ref([]);const b=ref([]),w=ref(!1),B=ref(null),S=ref(!1),E=ref({assignee_id:null,due_at:null,description:null});ref(!1);const I=ref([]),$=ref(!1),T=computed(()=>f.hasRoles(o.authorizedRoles)),A=computed(()=>b.value.length>0?b.value[0]:null),V=computed(()=>b.value.length>0),k=computed(()=>A.value&&f.isYou(A.value.assignee_id));computed(()=>T.value&&k.value);const N=computed(()=>{let R=[];return b.value.reduce((j,M,P)=>{let z=M.assignee_avatar??"",H=f.isYou(M.assigner_id)?u("You"):M.assigner_name,L=f.isYou(M.assignee_id)?u("You"):M.assignee_name,q=`to <span class="text-blue-darken-1">${L}</span> &mdash; by <span class="text-success">${H}</span>`;`${u("Until")}${y(new Date(M.due_at),"medium")}`;let Y=`${u("From")}: <span class="">${y(M.created_at?new Date(M.created_at):new Date,"medium")}</span>`,G=`${M.description} </br> </br>`,W="",Q=null;return W=`${M.status_interval_description}`,Q=M.status_vuetify_icon,W+=` ${Y}`,G+=W,j.push({prependAvatar:z,assignerName:H,assigneeName:L,title:q,subtitle:G,subDescription:W,appendInnerIcon:Q,attachments:M.attachments??[]}),P!==b.value.length-1&&j.push({type:"divider",inset:!0}),j},R)}),D=computed(()=>N.value.length>0?N.value[0]:null);watch$1(()=>b.value,R=>{R&&R.length>0&&(I.value=R[0].attachments??[])});const O=async(R,j=null,M=null,P=null)=>{const z=o.saveEndpoint.replace(":id",l.value);return axios$1.post(z,R).then(H=>{j&&j(H)}).catch(H=>{M&&M(H)}).finally(()=>{P&&P()}),!1},U=async()=>{if(l.value){const R=o.fetchEndpoint.replace(":id",l.value);C.value=!0,axios$1.get(R).then(j=>{j.status===200&&(b.value=j.data)}).finally(()=>{C.value=!1})}},x=async()=>{if(l.value){if(!await B.value.validate())return;const j={...E.value,assignee_type:o.assigneeType,assignable_id:l.value,assignable_type:o.assignableType};h.value=!0,O(j,M=>{M.status===200&&(v.openAlert({message:"Assignment created successfully",location:"top",variant:"success",...M.data}),b.value.unshift(M.data),E.value={assignee_id:null,due_at:null,description:null},S.value=!1)},M=>{__log(M)},()=>{h.value=!1})}},F=async R=>l.value!==null?(h.value=!0,await O(R,M=>{M.status===200&&(v.openAlert({message:"Assignment updated successfully",...M.data}),M.data.assignments?b.value=M.data.assignments:U(),g.close())},M=>{__log(M)},()=>{h.value=!1})):!1,K=()=>{g.open(null,{modalProps:{widthType:"md",description:u("Are you sure you want to complete this task?"),title:u("Complete Task"),confirmText:u("Yes"),cancelText:u("No"),confirmLoading:h,rejectLoading:h,confirmCallback:async()=>{await F({status:"completed"})}}})};return onMounted(()=>{U()}),(R,j)=>{const M=resolveComponent("ue-filepond-preview"),P=resolveComponent("v-input-filepond"),z=resolveComponent("ue-dynamic-component-renderer"),H=resolveComponent("ue-modal"),L=resolveComponent("v-date-input"),q=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VInput,{modelValue:unref(l),"onUpdate:modelValue":j[12]||(j[12]=Y=>isRef(l)?l.value=Y:null),variant:unref(i).variant,"hide-details":"",class:"v-input-assignment"},{default:withCtx(Y=>[createBaseVNode("div",_hoisted_1$q,[C.value?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"list-item-two-line"})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_2$m,[V.value?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"end","Xopen-on-hover":""},{activator:withCtx(({props:G})=>[(k.value||T.value)&&D.value?(openBlock(),createBlock(VList,mergeProps({key:0,id:"assigneeList",items:[{title:R.$t("Assignee"),prependAvatar:D.value.prependAvatar??"",subtitle:D.value.assigneeName}],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee flex-grow-1 flex-shrink-0",color:"primary"},G,{variant:"plain"}),{title:withCtx(({title:W})=>[createBaseVNode("div",{class:"text-primary font-weight-bold",innerHTML:W},null,8,_hoisted_3$k)]),subtitle:withCtx(({subtitle:W})=>[createBaseVNode("div",{class:"font-weight-medium",innerHTML:W},null,8,_hoisted_4$f)]),_:2},1040,["items"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300","max-width":"500"},{default:withCtx(()=>[createVNode(VList,{id:"assigneeList",items:[D.value],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee"},{title:withCtx(({title:G})=>[createBaseVNode("div",{innerHTML:G},null,8,_hoisted_5$d)]),subtitle:withCtx(G=>[createBaseVNode("div",{innerHTML:D.value.subDescription},null,8,_hoisted_6$d)]),_:1},8,["items"]),createVNode(VDivider),createVNode(VList,{lines:"10"},{default:withCtx(()=>[createVNode(VListItem,{title:R.$t("Description"),subtitle:A.value.description,class:""},{prepend:withCtx(({isSelected:G,select:W})=>[createVNode(VIcon,{icon:"mdi-information-outline"})]),_:1},8,["title","subtitle"]),T.value&&!k.value&&A.value.attachments&&A.value.attachments.length>0?(openBlock(),createBlock(VListItem,{key:0,title:R.$t("Files"),subtitle:"Files subtitle"},{prepend:withCtx(({isSelected:G,select:W})=>[createVNode(VIcon,{icon:"mdi-file-outline"})]),subtitle:withCtx(({subtitle:G})=>[createVNode(M,{source:A.value.attachments??[],"show-inline-file-name":"","image-size":"24"},null,8,["source"])]),_:1},8,["title"])):createCommentVNode("",!0)]),_:1}),k.value?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[e.filepond?(openBlock(),createBlock(P,mergeProps({key:0,label:"Files",ref:"inputFilepond"},unref(p)(R.$lodash.omit(e.filepond,["type"])),{modelValue:I.value,"onUpdate:modelValue":j[0]||(j[0]=G=>I.value=G),xmodelValue:I.value,"onXupdate:modelValue":j[1]||(j[1]=G=>R.$log("update:modelValue",G)),onLoadingFile:j[2]||(j[2]=G=>$.value=!0),onLoadedFile:j[3]||(j[3]=G=>$.value=!1)}),null,16,["modelValue","xmodelValue"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),createVNode(VDivider),k.value?(openBlock(),createBlock(VCardActions,{key:1},{default:withCtx(()=>[createVNode(VBtn,{variant:"tonal",color:"success",onClick:K},{default:withCtx(()=>j[13]||(j[13]=[createTextVNode(" Complete ")])),_:1}),createVNode(VSpacer),createVNode(VBtn,{color:"primary",variant:"tonal",onClick:j[4]||(j[4]=G=>I.value.length>0&&F({attachments:I.value})),loading:$.value||h.value,disabled:I.value.length<1},{default:withCtx(()=>j[14]||(j[14]=[createTextVNode(" Save ")])),_:1},8,["loading","disabled"])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0),T.value?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VTooltip,{location:"top"},{activator:withCtx(({props:G})=>[createVNode(VBtn,mergeProps({id:"createAssignmentBtn",icon:"mdi-account-reactivate",size:"default",rounded:"",color:"success",density:"compact",class:"flex-grow-0 flex-shrink-1 my-2"},G,{disabled:!unref(l)||h.value,loading:h.value,onClick:j[5]||(j[5]=W=>S.value=!0)}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(R.$t("Assign")),1)]),_:1}),V.value?(openBlock(),createBlock(H,{key:0,modelValue:w.value,"onUpdate:modelValue":j[6]||(j[6]=G=>w.value=G),widthType:"md",transition:"scroll-y-reverse-transition",scrollable:"",height:"450",title:R.$t("Task History"),"has-close-button":"","has-title-divider":"","no-default-body-padding":"","no-actions":""},{activator:withCtx(G=>[createVNode(VTooltip,{location:"top"},{activator:withCtx(W=>[createVNode(VBtn,mergeProps({id:"showHistoryBtn",icon:"mdi-clipboard-list-outline",size:"default",rounded:"",color:"info",density:"compact",class:"flex-grow-0 flex-shrink-1 my-2",disabled:!unref(l)||h.value,loading:h.value},{...G.props,...W.props}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(R.$t("Show History")),1)]),_:2},1024)]),"body.description":withCtx(()=>[createVNode(VList,{class:"pb-4 text-start",items:N.value,lines:"ten","item-props":""},{title:withCtx(({title:G})=>[createBaseVNode("div",{innerHTML:G},null,8,_hoisted_7$a)]),subtitle:withCtx(({item:G,subtitle:W})=>[createBaseVNode("div",{innerHTML:W},null,8,_hoisted_8$8),G.attachments&&G.attachments.length>0?(openBlock(),createBlock(M,{key:0,class:"my-2",source:G.attachments,"show-inline-file-name":"","image-size":"24"},null,8,["source"])):createCommentVNode("",!0)]),append:withCtx(G=>[createVNode(z,{subject:G.item.appendInnerIcon},null,8,["subject"])]),_:1},8,["items"])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createVNode(H,{ref:"createFormModal",modelValue:S.value,"onUpdate:modelValue":j[11]||(j[11]=G=>S.value=G),widthType:"md",persistent:"",transition:"scale-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VForm,{id:"createAssignmentForm",ref_key:"createForm",ref:B,class:"d-flex flex-column",onSubmit:withModifiers(x,["prevent"])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$8,[createVNode(VSelect,{modelValue:E.value.assignee_id,"onUpdate:modelValue":j[7]||(j[7]=G=>E.value.assignee_id=G),items:e.items,label:R.label,variant:e.variant,density:"compact","item-title":"name","item-value":"id","return-object":!1,"validate-on":"submit blur",class:"w-50",rules:[unref(s)("classic",1,void 0,"Assignee is required")],required:"","auto-select-first":"exact"},null,8,["modelValue","items","label","variant","rules"]),createVNode(L,{modelValue:E.value.due_at,"onUpdate:modelValue":j[8]||(j[8]=G=>E.value.due_at=G),variant:e.variant,label:R.$t("Due Date"),rules:[unref(s)("classic",1,1,"Pick a due date"),unref(m)(),unref(c)(e.minDueDays,"days")],"validate-on":"submit blur",class:"w-50",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"","show-week":"",required:"",Xmultiple:"4",Ymultiple:"range"},null,8,["modelValue","variant","label","rules"])]),createBaseVNode("div",_hoisted_10$6,[createVNode(VTextarea,{modelValue:E.value.description,"onUpdate:modelValue":j[9]||(j[9]=G=>E.value.description=G),variant:e.variant,label:R.$t("Description"),density:"compact",class:"flex-grow-1",rules:[unref(s)("classic",1,1,"Description is required"),unref(d)(10,"Description must be at least 10 characters")],"validate-on":"input blur"},null,8,["modelValue","variant","label","rules"])]),createVNode(VDivider),createBaseVNode("div",_hoisted_11$6,[createVNode(q,{class:"mt-4",density:"comfortable",variant:"plain",loading:h.value,onClick:j[10]||(j[10]=G=>S.value=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(R.$t("Cancel")),1)]),_:1},8,["loading"]),createVNode(VBtn,{class:"mt-4",density:"comfortable",type:"submit",loading:h.value,disabled:!unref(l)||h.value||B.value&&!B.value.isValid},{default:withCtx(()=>[createTextVNode(toDisplayString(R.$t("Assign")),1)]),_:1},8,["loading","disabled"])])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))])]),_:1},8,["modelValue","variant"])}}},__vite_glob_3_0=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$D},Symbol.toStringTag,{value:"Module"})),_sfc_main$C={props:{modelValue:{type:Object,required:!0},avatarSize:{type:Number,default:50},reverse:{type:Boolean,default:!1},updateEndpoint:{type:String,required:!0},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1}},data(){return{readingTimer:null}},computed:{input:{get(){return this.modelValue},set(e){this.message=e,this.$emit("update:modelValue",e)}},message(){return this.modelValue},isUnread(){return!this.message.is_read&&!this.reverse}},methods:{formatDate(e){let a=window.$moment().fromNow();if(e.created_at){let o=new Date(e.created_at);Date.now()-o.getTime()<48*60*60*1e3?a=window.$moment(o).fromNow():a=this.$d(new Date(e.created_at),"numeric-full")}return a},updateMessage(e,a){let o=this.updateEndpoint.replace(":id",this.input.id),r=this;axios.put(o,{[e]:a}).then(l=>{r.input={...r.input,[e]:a}})},startReading(){this.isUnread&&(this.readingTimer=setTimeout(()=>{this.markAsRead()},1e3))},markAsRead(){this.updateMessage("is_read",!0)}},beforeUnmount(){this.readingTimer&&clearTimeout(this.readingTimer)}},_hoisted_1$p=["stylex"],_hoisted_2$l={class:"d-flex justify-end"},_hoisted_3$j={key:0,class:"mt-2 pa-1 rounded"};function _sfc_render$z(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex mb-4 w-100",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{style:{"max-width":"60%","min-width":"30%"},class:normalizeClass(["d-flex bg-grey-lighten-6 elevation-2 px-4 py-3 rounded position-relative",o.reverse?"flex-row-reverse":"flex-row",n.isUnread?"v-input-chat__message--unread":""]),onMouseenter:a[2]||(a[2]=(...d)=>n.startReading&&n.startReading(...d))},[createVNode(VTooltip,{text:n.formatDate(n.message),location:"top"},{activator:withCtx(({props:d})=>[createVNode(VAvatar,mergeProps({size:o.avatarSize,class:[o.reverse?"ml-3":"mr-3"],image:n.message.user_profile.avatar_url},d),null,16,["size","class","image"])]),_:1},8,["text"]),createBaseVNode("div",{stylex:{width:`calc(50% - ${o.avatarSize}px)`},class:"w-100"},[createBaseVNode("div",{class:normalizeClass(["text-grey text-caption w-100 d-flex justify-space-between",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",null,toDisplayString(n.message.user_profile.name),1),createBaseVNode("div",_hoisted_2$l,[o.noStarring?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:n.message.is_starred?"mdi-star":"mdi-star-outline",color:n.message.is_starred?"secondary":"grey",onClick:a[0]||(a[0]=d=>n.updateMessage("is_starred",!n.message.is_starred))},null,8,["icon","color"])),o.noPinning?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:1,icon:n.message.is_pinned?"mdi-pin":"mdi-pin-outline",color:n.message.is_pinned?"primary":"grey",onClick:a[1]||(a[1]=d=>n.updateMessage("is_pinned",!n.message.is_pinned))},null,8,["icon","color"]))])],2),createBaseVNode("div",{class:normalizeClass(["message-content",n.isUnread?"message-content--unread":""])},[createBaseVNode("div",{class:normalizeClass(["d-flex mt-2 text-break",o.reverse?"flex-row-reverse":"flex-row"])},toDisplayString(n.message.content),3),n.message.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_3$j,[createVNode(i,{text:e.$t("Attachments"),padding:"b-2",type:"caption",color:"none"},null,8,["text"]),createVNode(s,{source:n.message.attachments,"image-size":"24","show-file-name":"","no-overlay":"","show-datex":""},null,8,["source"])])):createCommentVNode("",!0)],2)],8,_hoisted_1$p)],34)],2)}const ChatMessage=_export_sfc(_sfc_main$C,[["render",_sfc_render$z]]),_sfc_main$B={name:"v-input-chat",emits:[...makeInputEmits],components:{ChatMessage},props:{...makeInputProps(),color:{type:String},disabled:{type:Boolean,default:!1},height:{type:String,default:"50vh"},background:{type:String},elevation:{type:Number,default:2},density:{type:String,default:"comfortable"},variant:{type:String,default:"plain"},endpoints:{type:Object,default:()=>({})},perPage:{type:Number,default:-1},initialPage:{type:Number,default:1},filepond:{type:Object,default:null},noSendAction:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},dialogHeight:{type:String,default:"80vh"},bodyHeight:{type:String,default:null},loadMoreText:{type:String,default:null},refreshTime:{type:Number,default:1e4},inputVariant:{type:String,default:"outlined"},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1}},setup(e,a){const{invokeRule:o}=useValidation();return{...useInput(e,a),invokeRule:o}},data:function(){return{message:"",messages:[],loading:!0,loadingAttachment:!1,page:this.initialPage,lastPage:1,dialogOpen:!1,attachments:[],uploadedAttachments:[],uploadedAttachmentsDialog:!1,refreshInterval:null,pinnedMessage:null}},computed:{currentUser(){return this.$store.getters.userProfile},formattedMessages(){return this.formatMessages(this.messages)},noRemainingItems(){return!this.loading&&this.perPage>-1&&this.page===this.lastPage},showLoadMoreButton(){return!this.noRemainingItems&&this.perPage>-1},isInfiniteScrollable(){return this.perPage>-1},sendButtonIcon(){return this.loading||!this.message?"mdi-send-lock":this.message?"mdi-send-check":"mdi-send"}},watch:{messages:{handler(e){this.pinnedMessage=e.find(a=>a.is_pinned),this.pinnedMessage||this.fetchPinnedMessage()},deep:!0}},methods:{scrollEndInfiniteScroll(){this.$nextTick(()=>{const e=this.$refs.infiniteScroll.$el;e.scrollTop=e.scrollHeight})},formatMessage(e){return e={user_profile:this.$lodash.cloneDeep(this.currentUser),attachments:[],reverse:!1,loading:!1,...e},e.user_profile.id===this.currentUser.id&&(e.reverse=!0,e.is_read=!0,e.user_profile.name=this.$t("You")),e},formatMessages(e){return e.sort((a,o)=>new Date(a.created_at)-new Date(o.created_at)).map(a=>this.formatMessage(a))},loadMessages(e){const a=this.endpoints.index.replace(":id",this.input);let o={};this.perPage!==-1&&(o.page=this.page,o.perPage=this.perPage),this.loading=!0,axios.get(a,{params:o}).then(r=>{if(r.status===200)if(this.perPage>-1){const l=r.data.total;this.lastPage=r.data.last_page,this.page=r.data.current_page,this.messages=[...r.data.data,...this.messages],l!==0?e&&(this.page===this.lastPage?e("empty"):e("ok")):e&&e("empty")}else this.messages=this.formatMessages(r.data),e("empty")}).finally(()=>{this.loading=!1,(!this.isInfiniteScrollable||this.page===1)&&this.scrollEndInfiniteScroll()})},loadMoreMessages({done:e}){this.page++,this.loadMessages(e)},addMessage(e){return this.messages.push(e)-1},unpinMessage(e){let a=this.endpoints.update.replace(":id",e.id),o=this,r=this.messages.findIndex(l=>l.id===e.id);axios.put(a,{is_pinned:!1}).then(l=>{o.messages[r]={...o.messages[r],is_pinned:!1}})},findMessageByTempId(e){return this.messages.findIndex(a=>a.tempId===e)},updateMessageByTempId(e,a){this.messages=this.messages.filter(r=>r.id!==a.id);const o=this.findMessageByTempId(e);o!==-1&&(this.messages[o]={...this.messages[o],...a})},sendMessage(){const e=this.endpoints.store.replace(":id",this.input),a={loading:!0,content:this.message,tempId:Date.now()};let o=a.tempId;this.addMessage(a),this.loading=!0,axios.post(e,{content:this.message,attachments:this.attachments}).then(r=>{if(r.status===200){let l=r.data;l.loading=!1,this.updateMessageByTempId(o,l),this.message="",this.attachments=[]}}).finally(()=>{this.loading=!1,this.scrollEndInfiniteScroll()})},getAttachments(){const e=this.endpoints.attachments.replace(":id",this.input);axios.get(e).then(a=>{this.uploadedAttachments=a.data})},fetchPinnedMessage(){const e=this.endpoints.pinnedMessage.replace(":id",this.input);axios.get(e).then(a=>{a.status===200&&a.data&&Object.keys(a.data).length>0&&(this.pinnedMessage=a.data)})},refreshMessages(){const e=this.endpoints.index.replace(":id",this.input);let a=new Date().toISOString();if(this.messages.length){let o=this.messages.filter(r=>!!r.created_at).sort((r,l)=>new Date(l.created_at)-new Date(r.created_at))[0];o&&o.created_at&&(a=o.created_at)}axios.get(e,{params:{from:a,user_id:this.currentUser.id}}).then(o=>{o.status===200&&o.data.length>0&&(this.messages=[...this.messages,...o.data],this.getAttachments()),o.status===401&&(clearInterval(this.refreshInterval),this.refreshInterval=null)})},updatedMessage(e){let a=[...this.messages],o=a.findIndex(l=>l.id===e.id);if(this.messages[o].is_pinned!==e.is_pinned)if(e.is_pinned){let l=this.pinnedMessage;if(this.pinnedMessage=e,l){let n=a.findIndex(i=>i.id===l.id);n!==-1&&(a[n]={...a[n],is_pinned:!1})}}else this.pinnedMessage=null;o!==-1&&(a[o]={...a[o],...e}),this.messages=a}},created(){},mounted(){this.input&&this.input>-1&&(this.loadMessages(),this.getAttachments(),this.refreshInterval=setInterval(()=>{this.refreshMessages()},this.refreshTime))},beforeUnmount(){clearInterval(this.refreshInterval),this.refreshInterval=null,this.input&&this.input>-1}},_hoisted_1$o={class:"w-100 d-flex justify-end"},_hoisted_2$k={class:"d-flex w-100 justify-end"},_hoisted_3$i={class:"flex-grow-0"};function _sfc_render$y(e,a,o,r,l,n){const i=resolveComponent("v-input-chat"),s=resolveComponent("ue-title"),d=resolveComponent("ue-filepond-preview"),c=resolveComponent("ChatMessage"),m=resolveComponent("v-input-filepond");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[11]||(a[11]=p=>e.input=p),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-chat"},{default:withCtx(p=>[createVNode(VCard,{class:normalizeClass(["w-100",[!o.noBackground&&o.background?`bg-${o.background}`:"",o.disabled?"bg-grey-lighten-4":""]]),variant:o.variant,elevation:o.elevation,color:o.color,heightx:o.height,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex w-100 py-4"},{default:withCtx(()=>[createVNode(s,{text:e.label,align:"center",padding:"a-0",transform:"none",class:"w-100"},{rightX:withCtx(()=>[createBaseVNode("div",_hoisted_1$o,[renderSlot(e.$slots,"actions",{},()=>[o.perPage!==-1?(openBlock(),createBlock(VDialog,{key:0,width:"70%",height:o.dialogHeight,modelValue:e.dialogOpen,"onUpdate:modelValue":a[1]||(a[1]=u=>e.dialogOpen=u)},{activator:withCtx(({props:u})=>[createVNode(VBtn,mergeProps({variant:"elevated",density:"comfortable"},u,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{text:withCtx(()=>[createVNode(i,{label:e.$t("All Messages"),background:o.background,modelValue:e.input,endpoints:o.endpoints,perPage:10,density:o.density,noSendAction:!1,elevation:0,"body-height":`calc(${o.dialogHeight} * 0.60)`,height:`calc(${o.dialogHeight} * 0.80)`,noStarring:o.noStarring,noPinning:o.noPinning},{actions:withCtx(()=>[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[0]||(a[0]=u=>e.dialogOpen=!1)})]),_:1},8,["label","background","modelValue","endpoints","density","body-height","height","noStarring","noPinning"])]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),e.uploadedAttachments.length>0?(openBlock(),createBlock(VDialog,{key:1,width:"70%",height:o.dialogHeight,modelValue:e.uploadedAttachmentsDialog,"onUpdate:modelValue":a[3]||(a[3]=u=>e.uploadedAttachmentsDialog=u)},{activator:withCtx(({props:u})=>[createVNode(VBtn,mergeProps({variant:"outlined",density:"comfortable"},u,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All Attachments")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{default:withCtx(()=>[createVNode(s,{text:e.$t("Attachments"),align:"center",transform:"none",padding:"x-4",class:"w-100 pt-2",color:"grey-darken-5"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$k,[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[2]||(a[2]=u=>e.uploadedAttachmentsDialog=!1)})])]),_:1},8,["text"]),createVNode(VDivider,{class:"mx-4"}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VInfiniteScroll,{height:`calc(${o.dialogHeight} * 0.75)`},{loading:withCtx(()=>a[12]||(a[12]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.uploadedAttachments,u=>(openBlock(),createBlock(d,{class:"my-2",source:u,"image-size":"24","show-file-name":"","max-file-name-length":"70","no-overlay":"","show-date":""},null,8,["source"]))),256))]),_:1},8,["height"])]),_:1})]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),createVNode(VBtn,{variant:"elevated",density:"comfortable",onClick:n.sendMessage},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Confirm")),1)]),_:1},8,["onClick"])])])]),_:3},8,["text"])]),_:3}),createVNode(VCardText,{class:""},{default:withCtx(()=>[e.pinnedMessage?(openBlock(),createBlock(VList,{key:0,elevation:"3",class:"bg-grey-lighten-4 mx-n4",items:[{title:e.pinnedMessage.content,subtitle:e.pinnedMessage.created_at?e.$d(new Date(e.pinnedMessage.created_at),"short"):"",prepend:e.pinnedMessage.user_profile.avatar_url}],lines:"two",prependIcon:"mdi-pin","item-props":""},{prepend:withCtx(u=>[createVNode(VIcon,{size:"small",color:"primary",class:"mr-2",style:{transform:"rotate(325deg)"},onClick:a[4]||(a[4]=y=>n.unpinMessage(e.pinnedMessage))},{default:withCtx(()=>a[13]||(a[13]=[createTextVNode("mdi-pin")])),_:1}),createVNode(VTooltip,{text:e.pinnedMessage.user_profile.name,location:"top"},{activator:withCtx(({props:y})=>[createVNode(VAvatar,mergeProps({image:u.item.prepend,size:"24"},y),null,16,["image"])]),_:2},1032,["text"])]),_:1},8,["items"])):(openBlock(),createBlock(VDivider,{key:1})),createVNode(VInfiniteScroll,{ref:"infiniteScroll",height:o.bodyHeight?`calc(${o.bodyHeight})`:`calc(${o.height}*0.65)`,mode:"manual",side:"start",onLoad:n.loadMoreMessages,"load-more-text":o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")},{"load-more":withCtx(({props:u})=>[n.showLoadMoreButton?(openBlock(),createBlock(VBtn,mergeProps({key:0,variant:"outlined"},u),{default:withCtx(()=>[createTextVNode(toDisplayString(o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")),1)]),_:2},1040)):createCommentVNode("",!0)]),empty:withCtx(({props:u})=>a[14]||(a[14]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedMessages,(u,y)=>(openBlock(),createElementBlock("div",{key:y,class:"v-input-chat__messages"},[renderSlot(e.$slots,"message",{message:u,index:y},()=>[createVNode(c,{class:normalizeClass(["v-input-chat__message",u.loading?"v-input-chat__message--loading":""]),modelValue:u,"onUpdate:modelValue":g=>n.updatedMessage(g,y),reverse:u.reverse,updateEndpoint:o.endpoints.update,noStarring:o.noStarring,noPinning:o.noPinning},null,8,["class","modelValue","onUpdate:modelValue","reverse","updateEndpoint","noStarring","noPinning"])])]))),128))]),_:3},8,["height","onLoad","load-more-text"])]),_:3}),o.noSendAction?createCommentVNode("",!0):(openBlock(),createBlock(VCardActions,{key:0,class:"pa-4"},{default:withCtx(()=>[renderSlot(e.$slots,"sending",{},()=>[createVNode(VTextarea,{modelValue:e.message,"onUpdate:modelValue":a[10]||(a[10]=u=>e.message=u),variant:o.inputVariant,disabled:e.loading,"hide-details":"",placeholder:"Type your answer here...",density:"compact","onClick:append":n.sendMessage,onKeyup:withKeys(n.sendMessage,["enter"]),rows:1},{prepend:withCtx(()=>[createBaseVNode("div",_hoisted_3$i,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"40"},null,8,["image"])]),o.filepond?(openBlock(),createBlock(m,mergeProps({key:0,ref:"inputFilepond",class:"d-non"},r.invokeRule(e.$lodash.omit(o.filepond,["type","rules","rawRules"])),{modelValue:e.attachments,"onUpdate:modelValue":a[5]||(a[5]=u=>e.attachments=u),xmodelValue:e.attachments,"onXupdate:modelValue":a[6]||(a[6]=u=>e.$log("update:modelValue",u)),onLoading:a[7]||(a[7]=u=>e.loadingAttachment=!0),onLoaded:a[8]||(a[8]=u=>e.loadingAttachment=!1)}),{activator:withCtx(u=>a[15]||(a[15]=[])),_:1},16,["modelValue","xmodelValue"])):createCommentVNode("",!0)]),appendx:withCtx(()=>a[16]||(a[16]=[])),"append-inner":withCtx(()=>[createVNode(d,{source:e.attachments,"image-size":"24"},null,8,["source"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.attachments,u=>(openBlock(),createElementBlock(Fragment,null,[],64))),256)),createVNode(VBtn,{disabled:e.loadingAttachment,color:o.color,size:"default",icon:"mdi-paperclip",density:"compact",onClick:a[9]||(a[9]=u=>e.$refs.inputFilepond.browse())},null,8,["disabled","color"]),createVNode(VBtn,{variant:"elevated",density:"compact",icon:n.sendButtonIcon,size:"small",disabled:e.loading||!e.message||e.loadingAttachment,onClick:n.sendMessage},null,8,["icon","disabled","onClick"])]),_:1},8,["modelValue","variant","disabled","onClick:append","onKeyup"])])]),_:3}))]),_:3},8,["variant","elevation","class","color","heightx","disabled"])]),_:3},8,["modelValue","variant"])}const Chat=_export_sfc(_sfc_main$B,[["render",_sfc_render$y]]),__vite_glob_3_1=Object.freeze(Object.defineProperty({__proto__:null,default:Chat},Symbol.toStringTag,{value:"Module"})),_sfc_main$A={name:"v-input-checkbox-card",emits:[...makeInputEmits],props:{...makeInputProps(),title:{type:String,required:!0},description:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},value:{type:[Number,String],default:null},activeColor:{type:String,default:null},activeTitleColor:{type:String,default:null},checkboxColor:{type:String,default:"primary"},stats:{type:Array,default:null,validator:e=>e===null||e.every(a=>"label"in a&&"value"in a&&(!("color"in a)||typeof a.color=="string"))},checkboxOnRight:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data(){return{input_:!1}},methods:{toggleSelection(){!this.disabled&&!this.readonly&&(this.input.includes(this.value)?this.input=this.input.filter(e=>e!==this.value):this.input=[...this.input,this.value])}}};function _sfc_render$x(e,a,o,r,l,n){return openBlock(),createBlock(VInput,{modelValue:e.input[o.value],"onUpdate:modelValue":a[2]||(a[2]=i=>e.input[o.value]=i),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-checkbox-card",readonly:o.readonly},{default:withCtx(i=>[createVNode(VCard,{class:normalizeClass(["v-input-checkbox-card__item",e.input.includes(o.value)?"v-input-checkbox-card__item--selected":"",o.disabled?"v-input-checkbox-card__item--disabled":""]),variant:e.input.includes(o.value)?"elevated":"outlined",onClick:n.toggleSelection,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardItem,null,createSlots({append:withCtx(()=>[o.checkboxOnRight?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(["v-input-checkbox-card__title",e.input.includes(o.value)?`v-input-checkbox-card__title--selected ${o.activeTitleColor?`text-${o.activeTitleColor}`:""}`:""])},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"])]),_:2},[o.checkboxOnRight?void 0:{name:"prepend",fn:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=s=>e.input=s),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])]),key:"0"}]),1024),o.description?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(o.description),1)]),_:1})):createCommentVNode("",!0),o.stats?(openBlock(),createBlock(VCardText,{key:1},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.stats,(s,d)=>(openBlock(),createBlock(VCol,{key:d,cols:12/o.stats.length,class:"text-center"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["text-h4 font-weight-bold",`text-${s.color||"primary"}`])},toDisplayString(s.value),3),createBaseVNode("div",{class:normalizeClass(`text-body-2 text-${s.color||"primary"}`)},toDisplayString(s.label),3)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1},8,["class","variant","onClick","disabled"])]),_:1},8,["modelValue","variant","readonly"])}const CheckboxCard=_export_sfc(_sfc_main$A,[["render",_sfc_render$x]]),__vite_glob_3_2=Object.freeze(Object.defineProperty({__proto__:null,default:CheckboxCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$z={name:"v-input-checklist",emits:[...makeInputEmits],props:{...makeInputProps(),color:{type:String,default:null},labelColor:{type:String,default:"grey-darken-1"},subtitleColor:{type:String,default:"grey-darken-1"},activeTextColor:{type:String,default:null},checkboxColor:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},subtitle:{type:String,default:null},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},items:{type:Array,default:()=>[]},orderBy:{type:String,default:null},orderByDirection:{type:String,default:"asc"},isTreeview:{type:Boolean,default:!1},chunkCharacter:{type:String,default:"_"},chunkTitleKey:{type:String,default:"name"},chunkField:{type:String,default:null},truncateItemLabel:{type:Boolean,default:!1},flexColumn:{type:Boolean,default:!0},checkboxHighlighted:{type:Boolean,default:!1},checkboxHighlightedColor:{type:String,default:"grey-lighten-5"},checkboxPosition:{type:String,default:"right"},checkboxCol:{type:Object,default:()=>({cols:3,sm:6,md:4,lg:3})},noGroupAllSelectable:{type:Boolean,default:!1},hasGroupBottomDivider:{type:Boolean,default:!0},openAllGroups:{type:Boolean,default:!1},closeAllGroups:{type:Boolean,default:!1},rawRules:{type:[String,Array],default:null},max:{type:[Number,String],default:null},mandatory:{type:String,default:null},isCard:{type:Boolean,default:!1},cardStats:{type:Array,default:()=>[]}},setup(e,a){const o=computed(()=>{var c;let d=e.max;return window.__isString(d)?d=parseInt(d):!d&&window.__isString(e.rawRules)&&(d=(c=e.rawRules.match(/max:\d+/))==null?void 0:c[0].split(":")[1]),d??999}),r=ref(e.protectInitialValue?e.modelValue:[]),l=d=>r.value.includes(d),n=d=>{if(e.mandatory){let c=e.items.filter(m=>__data_get(m,e.mandatory,!1));if(e.max){let m=parseInt(e.max);c.length>m&&(c=c.slice(0,m))}if(c.length>0){const m=cloneDeep(d),p=Array.isArray(m)?m:[],u=c.map(g=>g[e.itemValue]),y=u.filter(g=>!p.includes(g));d=[...new Set([...Array.isArray(d)?d:[],...u])],y.length>0&&a.emit("update:modelValue",d)}}return o.value>1&&d.length>o.value&&(d=d.sort((c,m)=>c-m).slice(0,o.value),a.emit("update:modelValue",d)),d},i=ref([]),s=computed(()=>{let d=e.items;return e.orderBy&&d.sort((c,m)=>e.orderByDirection==="asc"?c[e.orderBy].localeCompare(m[e.orderBy]):m[e.orderBy].localeCompare(c[e.orderBy])),d});return{...useInput(e,{...a,initializeInput:n}),openedGroups:toRef(i),maxSelectable:o,isProtected:l,flattenedItems:s}},methods:{isAllSelected(e){return e.items.map(o=>o.id).every(o=>this.input.includes(o))},isIndeterminateGroup(e){const a=e.items.map(o=>o.id);return!a.every(o=>this.input.includes(o))&&a.some(o=>this.input.includes(o))},updatedParent(e,a){const o=a.items.map(r=>r.id);if(!e)this.input=this.input.filter(function(r){return!o.includes(r)});else{if(this.maxSelectable){const r=o.filter(l=>!this.input.includes(l)).length;if(this.input.length+r>this.maxSelectable)return}o.forEach(r=>{this.input.includes(r)||this.input.push(r)})}},getRowStyles(){const e="flex: 1 1;";return this.flexColumn&&this.$vuetify.display.mdAndUp?`${e} flex: 1 1 60%;`:e},getCheckboxContainerClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["d-flex align-center rounded-sm",this.checkboxOnRight?"pl-2":"px-2",this.checkboxOnRight&&a?"checked":"",this.checkboxHighlighted&&a?`bg-${this.checkboxHighlightedColor}`:""]},getItemLabelClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return[(this.$attrs.disabled??!1)||!this.canSelectMore()&&!this.input.includes(e[this.itemValue])?"v-input-checklist__label--disabled":"",a?`font-weight-bold ${this.activeTextColor?`text-${this.activeTextColor}`:""}`:"",this.truncateItemLabel?"text-truncate text-wrap":""]},getCheckboxClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["flex-shrink-0 flex-grow-0",this.checkboxOnLeft?"rounded-sm":"",this.checkboxOnLeft&&a?"checked":""]},canSelectMore(){return!this.disabled&&(!this.maxSelectable||Array.isArray(this.input)&&this.input.length<this.maxSelectable)},isMandatoryItem(e){return!!__data_get(e,this.mandatory,!1)},isGroupOpen(e){return this.openAllGroups?!0:this.closeAllGroups?!1:e===0},getCardStats(e){return this.cardStats.map(a=>({...a,value:e[a.key]}))}},computed:{checkboxOnRight(){return this.checkboxPosition==="right"},checkboxOnLeft(){return this.checkboxPosition==="left"},groupedItems(){const e={};for(const o in this.items)if(this.chunkField){const r=this.items[o][this.chunkField],l=this.items[o][this.chunkTitleKey],n=this.items[o];Object.prototype.hasOwnProperty.call(e,r)?e[r].items.unshift({id:n.id,name:l}):e[r]={name:this.$lodash.startCase(this.$lodash.camelCase(r)),items:[{id:n.id,name:l}]}}else{const r=this.items[o][this.chunkTitleKey].split(this.chunkCharacter);if(r.length>1){const l=r[0],n=r[1];Object.prototype.hasOwnProperty.call(e,l)?(__isset(e[l].id)&&delete e[l].id,e[l].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(n))})):e[l]={name:this.$lodash.startCase(this.$lodash.camelCase(l)),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(n))}]}}else{const l="alpha";Object.prototype.hasOwnProperty.call(e,l)?(__isset(e[l].id)&&delete e[l].id,e[l].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))})):e[l]={name:this.$t("General"),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))}]}}}const a=Object.values(e);if(a.sort(function(o,r){return o.hasOwnProperty("items")?1:r.hasOwnProperty("items")?-1:0}),this.closeAllGroups?this.openedGroups=[]:this.openedGroups=this.openAllGroups?a.map(o=>o.name):[a[0].name],this.orderBy)for(const o in a)a[o].items.sort((r,l)=>this.orderByDirection==="asc"?r[this.orderBy].localeCompare(l[this.orderBy]):l[this.orderBy].localeCompare(r[this.orderBy]));return a},disabledCheckbox(){return this.$attrs.disabled||!this.canSelectMore()&&!Array.isArray(this.input)},hasMandatoryItems(){return this.items.some(e=>__data_get(e,this.mandatory,!1))},treeviewCols(){return this.chunkField?{cols:12}:{lg:6,md:8,sm:12}}},created(){}},_hoisted_1$n={class:"d-flex align-center"};function _sfc_render$w(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("v-input-checkbox-card");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[6]||(a[6]=d=>e.input=d),hideDetails:"auto",disabled:o.disabled,class:"v-input-checklist"},{default:withCtx(d=>[createBaseVNode("div",{class:normalizeClass(["v-input-checklist__field d-flex",(o.flexColumn&&e.$vuetify.display.mdAndUp,"flex-wrap")]),style:{"max-width":"100%"}},[e.label?(openBlock(),createElementBlock("div",{key:0,class:"d-flex flex-column",style:normalizeStyle(["max-width: 100%;",o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 0 1 30%;":"flex: 1 0 100%;"])},[e.label?(openBlock(),createBlock(i,{key:0,padding:"x-3","data-test":"title",color:o.labelColor,transform:"none"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label),1)]),_:1},8,["color"])):createCommentVNode("",!0),o.subtitle?(openBlock(),createBlock(i,{key:1,padding:"x-3",type:"caption",weight:"medium",transform:"none",color:o.subtitleColor,"data-test":"title"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.subtitle),1)]),_:1},8,["color"])):createCommentVNode("",!0)],4)):createCommentVNode("",!0),o.flexColumn&&e.$vuetify.display.mdAndUp&&(e.label||o.subtitle)?(openBlock(),createBlock(VDivider,{key:1,vertical:"",class:"mr-4"})):createCommentVNode("",!0),o.isTreeview?(openBlock(),createBlock(VRow,{key:2,style:normalizeStyle([o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 1 0 70%;":"flex: 1 1;"])},{default:withCtx(()=>[createVNode(VCol,normalizeProps(guardReactiveProps({...n.treeviewCols})),{default:withCtx(()=>[createVNode(VList,{opened:r.openedGroups,"onUpdate:opened":a[3]||(a[3]=c=>r.openedGroups=c)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.groupedItems,(c,m)=>(openBlock(),createElementBlock(Fragment,{key:`checkbox-${m}`},[e.$isset(c.items)&&c.items.length>0?(openBlock(),createBlock(VListGroup,{key:0,class:"pl-0","collapse-icon":"","expand-icon":"",value:c.name},{activator:withCtx(({props:p,isOpen:u})=>[o.noGroupAllSelectable?(openBlock(),createBlock(i,mergeProps({key:1,text:c[`${o.itemTitle}`],type:"body-1",color:"grey-darken-5",weight:"medium",justify:"space-between",ref_for:!0},p),{right:withCtx(()=>[createBaseVNode("div",_hoisted_1$n,[createVNode(VIcon,{icon:u?"$collapse":"$expand"},null,8,["icon"])])]),_:2},1040,["text"])):(openBlock(),createBlock(VCheckbox,{key:0,class:"ue-checklist-checkbox",label:c[`${o.itemTitle}`],color:"success","hide-details":"",indeterminate:n.isIndeterminateGroup(c),density:"compact",modelValue:n.isAllSelected(c),"onUpdate:modelValue":y=>n.updatedParent(y,c),readonly:n.isMandatoryItem(c)||o.readonly},{prepend:withCtx(()=>[o.chunkField?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,mergeProps({key:0,ref_for:!0},p,{icon:u?"$collapse":"$expand"}),null,16,["icon"]))]),_:2},1032,["label","indeterminate","modelValue","onUpdate:modelValue","readonly"])),o.hasGroupBottomDivider?(openBlock(),createBlock(VDivider,{key:2,class:"mt-0"})):createCommentVNode("",!0)]),default:withCtx(()=>[o.chunkField?(openBlock(),createBlock(VListItem,{key:0,style:{"padding-inline-start":"0px !important"}},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",style:normalizeStyle([o.flexColumn?"":"flex: 1 0 60%;"])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.items,(p,u)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${u}`,ref_for:!0},o.checkboxCol,{class:"pb-0 pr-0"}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.getCheckboxContainerClasses(p))},[n.checkboxOnRight?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(n.getItemLabelClasses(p))},toDisplayString(p[o.itemTitle]),3)):createCommentVNode("",!0),n.checkboxOnRight?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=y=>e.input=y),disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(p[o.itemValue]),value:p[o.itemValue],color:o.checkboxColor??o.color??"primary","hide-details":"",label:p[o.itemTitle],class:normalizeClass(n.getCheckboxClasses(p)),readonly:n.isMandatoryItem(p)||r.isProtected(p[o.itemValue])||o.readonly},createSlots({_:2},[n.checkboxOnRight?{name:"label",fn:withCtx(()=>[a[7]||(a[7]=createBaseVNode("span",null,null,-1))]),key:"0"}:void 0]),1032,["modelValue","disabled","value","color","label","class","readonly"])],2)]),_:2},1040))),128))]),_:2},1032,["style"])]),_:2},1024)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(c.items,(p,u)=>(openBlock(),createBlock(VListItem,{key:`checkbox-${u}`,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{class:"ue-checklist-checkbox",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=y=>e.input=y),label:p[`${o.itemTitle}`],value:p[`${o.itemValue}`],disabled:!n.canSelectMore()&&!e.input.includes(p[o.itemValue]),color:"success","hide-details":"",density:"compact",readonly:n.isMandatoryItem(p)||o.readonly},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))),128))]),_:2},1032,["value"])):(openBlock(),createBlock(VListItem,{key:1,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[2]||(a[2]=p=>e.input=p),label:c[`${o.itemTitle}`],value:c[`${o.itemValue}`],disabled:!n.canSelectMore()&&!e.input.includes(c[o.itemValue]),readonly:n.isMandatoryItem(c)||r.isProtected(c[o.itemValue])||o.readonly,color:"success","hide-details":"",density:"compact"},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))],64))),128))]),_:1},8,["opened"])]),_:1},16)]),_:1},8,["style"])):(openBlock(),createBlock(VRow,{key:3,style:normalizeStyle(n.getRowStyles()),"no-gutters":e.$vuetify.display.xs,class:"align-stretch"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.flattenedItems,(c,m)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${m}`,cols:"12",sm:"6",md:"4",lg:"3",ref_for:!0},o.checkboxCol,{class:""}),{default:withCtx(()=>[o.isCard?(openBlock(),createBlock(s,{key:0,modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=p=>e.input=p),value:c[o.itemValue],class:normalizeClass([n.getCheckboxClasses(c),"h-100"]),color:o.checkboxColor??o.color??"primary",title:c[o.itemTitle],description:c.description,disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(c[o.itemValue]),readonly:n.isMandatoryItem(c)||r.isProtected(c[o.itemValue])||o.readonly,checkboxOnRight:n.checkboxOnRight,stats:n.getCardStats(c),activeTitleColor:o.activeTextColor},null,8,["modelValue","value","class","color","title","description","disabled","readonly","checkboxOnRight","stats","activeTitleColor"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.getCheckboxContainerClasses(c))},[n.checkboxOnRight?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(n.getItemLabelClasses(c))},toDisplayString(c[o.itemTitle]),3)):createCommentVNode("",!0),n.checkboxOnRight?(openBlock(),createBlock(VSpacer,{key:1})):createCommentVNode("",!0),createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=p=>e.input=p),value:c[o.itemValue],disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(c[o.itemValue]),color:o.checkboxColor??o.color??"primary","hide-details":"",label:c[o.itemTitle],class:normalizeClass(n.getCheckboxClasses(c)),readonly:n.isMandatoryItem(c)||r.isProtected(c[o.itemValue])||o.readonly},createSlots({_:2},[n.checkboxOnRight?{name:"label",fn:withCtx(()=>[a[8]||(a[8]=createBaseVNode("span",null,null,-1))]),key:"0"}:void 0]),1032,["modelValue","value","disabled","color","label","class","readonly"])],2))]),_:2},1040))),128))]),_:1},8,["style","no-gutters"]))],2)]),_:1},8,["modelValue","disabled"])}const Checklist=_export_sfc(_sfc_main$z,[["render",_sfc_render$w]]),__vite_glob_3_3=Object.freeze(Object.defineProperty({__proto__:null,default:Checklist},Symbol.toStringTag,{value:"Module"})),_sfc_main$y={name:"v-input-checklist-group",emits:[...makeInputEmits],components:{Checklist},props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},setup(e,a){return{...useInput(e,a)}},data:function(){return{selectedGroup:Object.keys(this.schema)[0]??1,selectedItems:[]}},computed:{},watch:{selectedGroup:{handler(e,a){this.selectedItems=[]}},selectedItems:{handler(e,a){this.$emit("update:modelValue",{group:this.selectedGroup,items:this.selectedItems})}}},methods:{},created(){}};function _sfc_render$v(e,a,o,r,l,n){const i=resolveComponent("Checklist");return openBlock(),createBlock(VInput,{modelValue:e.selectedItems,"onUpdate:modelValue":a[2]||(a[2]=s=>e.selectedItems=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-checklist-group"},{default:withCtx(s=>{var d;return[createVNode(VRadioGroup,{modelValue:e.selectedGroup,"onUpdate:modelValue":a[0]||(a[0]=c=>e.selectedGroup=c),direction:"horizontal"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.schema,(c,m)=>(openBlock(),createBlock(VCol,{key:m},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-checklist-group__btn",variant:e.selectedGroup==m?"elevated":"outlined",onClick:p=>e.selectedGroup=m},{prepend:withCtx(()=>[createVNode(VRadio,{value:m},null,8,["value"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(c.label.toUpperCase()),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),createBaseVNode("div",null,[createVNode(i,{modelValue:e.selectedItems,"onUpdate:modelValue":a[1]||(a[1]=c=>e.selectedItems=c),items:((d=o.schema[e.selectedGroup??0])==null?void 0:d.items)??[]},null,8,["modelValue","items"])])]}),_:1},8,["modelValue","variant"])}const ChecklistGroup=_export_sfc(_sfc_main$y,[["render",_sfc_render$v]]),__vite_glob_3_4=Object.freeze(Object.defineProperty({__proto__:null,default:ChecklistGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$x={name:"v-input-comparison-table",emits:[...makeInputEmits],components:{Table},props:{...makeInputProps(),schema:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},comparatorField:{type:String,default:"name"},comparatorValue:{type:String,default:"value"},comparators:{type:Object,default:()=>{}},selectable:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!0},itemsPerPage:{type:Number,default:50},maxHeight:{type:[String,Number],default:null}},setup(e,a){return{...useInput(e,a)}},data:function(){return{model:null}},computed:{headers(){return[{title:this.label,key:"comparator_name"}].concat(this.items.map(e=>({title:e.name,key:e.name,align:"center",id:e.id})))},inputAndTableStyle(){let e=this.maxHeight,a={};return e&&(isNumber(e)&&(e=`${e}px`),isString(e)&&(isNumber(parseInt(e))?e=`${parseInt(e)}px`:e=e),a.maxHeight=e),a},comparisonItems(){let e=Object.keys(this.comparators).reduce((o,r)=>{const l=this.comparators[r];let n=(l==null?void 0:l.key)??r;return this.items.forEach(i=>{if(Array.isArray(i[n]))i[n].forEach(function(s){find(o,["id",s.id])||o.push({...s,_comparatorField:(l==null?void 0:l.field)??"name",...l!=null&&l.itemClasses?{_comparatorItemClasses:l.itemClasses}:{}})});else{let s=__isset(i[`${n}_show`])?`${n}_show`:n;o.includes(s)||o.push(s)}}),o},[]),a=[];if(this.selectable){let o={comparator_name:""};this.items.forEach(r=>{o[r.name]="__input"}),a.push(o)}return e.map(o=>{let r={},l=null;if(__isObject(o))l=o[o._comparatorField],__isset(o._comparatorItemClasses)&&(l=`<span class="${o._comparatorItemClasses}">${l}</span>`);else{let n=null;if((n=find(this.comparators,["key",o]))&&__isset(n.title))l=n.title;else{let i=o.match(/(\w+)?(_show)/);i?l=this.$headline(i[1]):l=this.$headline(o)}__isset(n.itemClasses)&&(l=`<span class="${n.itemClasses}"> ${l} </span>`)}return r.comparator_name=l,this.items.forEach(n=>{if(__isObject(o)){let i=find(n[this.comparatorField],["id",o.id]);if(i){let s=get(i,this.comparatorValue,"unknown");s==="unknown"&&(console.error(`${this.comparatorField} not found for ${this.comparatorValue}`),s=""),r[n.name]=s}else r[n.name]=""}else{let i=n[o];r[n.name]=i;let s=null;(s=find(this.comparators,["key",o]))&&__isset(s.itemClasses)&&(r[n.name]=`<span class="${s.itemClasses}"> ${i} </span>`)}}),r}).concat(a)}},watch:{input(e,a){},modelValue(e,a){}},methods:{},created(){}},_hoisted_1$m={key:0,class:"v-input-comparison-table__header--selected"},_hoisted_2$j=["innerHTML"],_hoisted_3$h=["innerHTML"];function _sfc_render$u(e,a,o,r,l,n){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=i=>e.input=i),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:normalizeClass(["v-input-comparison-table",{"v-input-comparison-table--striped":o.striped,"v-input-comparison-table--highlighted":o.highlighted}]),rules:e.$attrs.rules,style:normalizeStyle(n.inputAndTableStyle)},{default:withCtx(i=>[createVNode(VDataTable,{class:normalizeClass(["h-100"]),style:normalizeStyle(n.inputAndTableStyle),headers:n.headers,items:n.comparisonItems,itemsLength:"0","disable-sort":"","hide-default-footer":"","items-per-page":o.itemsPerPage,"mobile-breakpoint":"md"},createSlots({_:2},[renderList(n.headers,(s,d)=>({name:`header.${s.key}`,fn:withCtx(c=>[e.$isset(s.id)&&e.input==s.id?(openBlock(),createElementBlock("div",_hoisted_1$m,toDisplayString(s.title),1)):(openBlock(),createElementBlock("div",{key:1,innerHTML:s.title},null,8,_hoisted_2$j))])})),renderList(n.headers,(s,d)=>({name:`item.${s.key}`,fn:withCtx(({item:c})=>[c[s.key]=="__input"?(openBlock(),createBlock(VBtn,{key:0,class:"ma-2",onClick:m=>e.input=s.id,variant:e.input==s.id?"elevated":"outlined",readonly:e.protectInitialValue},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select")),1)]),_:2},1032,["onClick","variant","readonly"])):(openBlock(),createElementBlock("div",{key:1,innerHTML:c[s.key]},null,8,_hoisted_3$h))])}))]),1032,["style","headers","items","items-per-page"])]),_:1},8,["modelValue","variant","class","rules","style"])}const ComparisonTable=_export_sfc(_sfc_main$x,[["render",_sfc_render$u]]),__vite_glob_3_5=Object.freeze(Object.defineProperty({__proto__:null,default:ComparisonTable},Symbol.toStringTag,{value:"Module"})),LocaleMixin={props:{locale:{default:null}},data(){return{_locale:this.locale}},computed:{hasLocale:function(){return this._locale!=null},hasCurrentLocale:function(){return this.currentLocale!=null},isLocaleRTL:function(){const e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return this.hasLocale?e.includes(this.locale.shortlabel.toLowerCase()):!1},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return this.currentLocale.shortlabel},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all})},methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}},mounted(){}},_EXTENSIONS={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},_sfc_main$w={name:"UeFileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){const e=this.currentItem.extension;if(_EXTENSIONS.hasOwnProperty(e))return _EXTENSIONS[e].icon;for(const a in _EXTENSIONS)if(_EXTENSIONS[a].FileExtensions.findIndex(r=>r===e)>-1)return _EXTENSIONS[a].icon;return"gen"}}},_hoisted_1$l={class:"fileItem"},_hoisted_2$i={key:0,class:"fileItem__cell fileItem__cell--drag"},_hoisted_3$g={key:1,class:"fileItem__cell fileItem__cell--extension"},_hoisted_4$e={href:"#",target:"_blank"},_hoisted_5$c=["symbol"],_hoisted_6$c={class:"fileItem__cell fileItem__cell--name"},_hoisted_7$9={key:0},_hoisted_8$7=["src"],_hoisted_9$7=["href"],_hoisted_10$5={class:"f--link-underlined--o"},_hoisted_11$5=["name","value"],_hoisted_12$3={key:2,class:"fileItem__cell fileItem__cell--size"},_hoisted_13$3={class:"fileItem__cell"};function _sfc_render$t(e,a,o,r,l,n){const i=resolveDirective("svg");return openBlock(),createElementBlock("tr",_hoisted_1$l,[o.draggable?(openBlock(),createElementBlock("td",_hoisted_2$i,a[0]||(a[0]=[createBaseVNode("div",{class:"drag__handle--drag"},null,-1)]))):createCommentVNode("",!0),n.currentItem.hasOwnProperty("extension")?(openBlock(),createElementBlock("td",_hoisted_3$g,[createBaseVNode("a",_hoisted_4$e,[withDirectives(createBaseVNode("span",{symbol:n.getSvgIconName()},null,8,_hoisted_5$c),[[i]])])])):createCommentVNode("",!0),createBaseVNode("td",_hoisted_6$c,[n.currentItem.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("span",_hoisted_7$9,[createBaseVNode("img",{src:n.currentItem.thumbnail},null,8,_hoisted_8$7)])):createCommentVNode("",!0),createBaseVNode("a",{href:n.currentItem.hasOwnProperty("original")?n.currentItem.original:"#",download:""},[createBaseVNode("span",_hoisted_10$5,toDisplayString(n.currentItem.name),1)],8,_hoisted_9$7),createBaseVNode("input",{type:"hidden",name:o.name,value:n.currentItem.id},null,8,_hoisted_11$5)]),n.currentItem.hasOwnProperty("size")?(openBlock(),createElementBlock("td",_hoisted_12$3,toDisplayString(n.currentItem.size),1)):createCommentVNode("",!0),createBaseVNode("td",_hoisted_13$3,[createVNode(VBtn,{icon:"$close",onClick:n.deleteItem},null,8,["onClick"])])])}const FileItem=_export_sfc(_sfc_main$w,[["render",_sfc_render$t],["__scopeId","data-v-4430099c"]]),_sfc_main$v={name:"v-input-file",emits:[...makeInputEmits],components:{FileItem,draggable:Draggable},mixins:[LocaleMixin],props:{...makeFileProps()},setup(e,a){return{...useFile(e,a)}},created(){},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))}}},_hoisted_1$k={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$h={class:"v-field__field","data-no-activator":""},_hoisted_3$f={class:"fileField"},_hoisted_4$d={key:0,class:"fileField__trigger"},_hoisted_5$b=["name","value"],_hoisted_6$b={class:"fileField__note f--small"},_hoisted_7$8={key:1,class:"fileField__list"},_hoisted_8$6={key:2,class:"fileField__trigger"},_hoisted_9$6=["name","value"],_hoisted_10$4={class:"fileField__note f--small"},_hoisted_11$4={class:"v-field__outline"},_hoisted_12$2={class:"v-field__outline__notch"},_hoisted_13$2={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$s(e,a,o,r,l,n){const i=resolveComponent("FileItem"),s=resolveComponent("draggable");return openBlock(),createBlock(VInput,{hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(d=>[createBaseVNode("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$f,[e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_4$d,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_5$b),createVNode(VBtn,{type:"button",onClick:a[0]||(a[0]=c=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_6$b,toDisplayString(e.note),1)])):createCommentVNode("",!0),e.input.length?(openBlock(),createElementBlock("table",_hoisted_7$8,[createVNode(s,{tag:"tbody",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=c=>e.input=c),itemKey:"id"},{item:withCtx(c=>[createVNode(i,{class:"item__content",name:`${e.name}_${c.index}`,"item-label":e.$t("form-labels.File"),item:e.input[`${c.index}`],onDelete:m=>e.deleteItem(c.index)},null,8,["name","item-label","item","onDelete"])]),_:1},8,["modelValue"])])):createCommentVNode("",!0),!e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_8$6,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_9$6),createVNode(VBtn,{type:"button",onClick:a[2]||(a[2]=c=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_10$4,toDisplayString(e.note),1)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$4,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("label",_hoisted_13$2,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:1},8,["variant"])}const File$1=_export_sfc(_sfc_main$v,[["render",_sfc_render$s],["__scopeId","data-v-274d55d2"]]),__vite_glob_3_8=Object.freeze(Object.defineProperty({__proto__:null,default:File$1},Symbol.toStringTag,{value:"Module"})),Component="Filepond",FilePond=vueFilePond(plugin$2,plugin$1,plugin),_sfc_main$u={name:"v-input-filepond",components:{FilePond},emits:[...makeInputEmits,"loading","loaded","loadedFile"],props:{...makeInputProps(),...makeFilepondProps()},setup(e,a){const{requiredRule:o}=useValidation(e);return{...useInput(e,a),...useFilepond(e),requiredRule:o}},data(){return{fileFieldClasses:["v-input-filepond__file-field",this.$slots.activator||this.$slots.body?"d-none":""],errorMessages:[],onStart:!0,files:isArray(this.modelValue)?this.modelValue.map(function(e){return{source:e.source??`${this.endPoints.load}${e.uuid}`,options:{type:`${e.type??"local"}`,metadata:{date:e.created_at},file:e.file}}}):[],slotBindings:{browse:this.browse,addFile:this.addFile,removeFile:this.removeFile,removeFiles:this.removeFiles,getFiles:this.getFiles,getFile:this.getFile,files:this.files}}},methods:{postProcessFilepond:function(e,a){e?__log("postProcess error",e):this.input=this.input.concat({uuid:a.serverId,file_name:a.filename,source:`${this.endPoints.load}${a.serverId}`})},removeFilepond:function(e,a){var l;const o=a.filename??((l=a.serverId)==null?void 0:l.replace(`/${a.filename}`,""))??a.uuid;let r=this.input.findIndex(n=>n.uuid==o);if(r==-1){const n=a.source;r=this.input.findIndex(i=>i.source==n)}if(r!=-1){const n=this.input.slice(0,r).concat(this.input.slice(r+1));this.input=n}else console.error("removeFilepond error not found",a,this.input)},init(){setOptions({server_:{process_:this.endPoints.process,revert_:this.endPoints.revert,load_:this.endPoints.load}})},addFile(...e){return this.$refs.pond.addFile(...e)},browse(...e){return this.$refs.pond._pond.browse()},removeFile(...e){return this.$refs.pond.removeFile(...e)},removeFiles(...e){return this.$refs.pond.removeFiles(...e)},getFiles(...e){return this.$refs.pond.getFiles(...e)},getFile(...e){return this.$refs.pond.getFile(...e)},warning(e){this.$store.commit(ALERT$1.SET_ALERT,{message:e.body,variant:"warning"})},error(e){__log("error",e)}},computed:{classes(){return["v-input-filepond",this.class??""]},server(){return{revert:(e,a,o)=>{let r="revert-"+e;axios.delete(this.endPoints.revert,{requestId:r,data:e}).then(l=>{this.input=this.input.filter(n=>n.uuid!=e),a()}).catch(l=>{console.error("server revert error",l)})},process:(e,a,o,r,l,n,i,s,d)=>{const c=new FormData;if(e.match(/(\w)+.(\w)+/)){let p=e.split(".");e="";for(const u in p)u==0?e+=p[u]:e+=`[${p[u]}]`}c.append(e,a,a.name);let m="process-"+e;return axios.post(this.endPoints.process,c,{requestId:m,onUploadProgress:p=>{n(p.lengthComputable,p.loaded,p.total)}}).then(function(p){r(p.data)}).catch(function(p){p.status==500&&p.response.match(/^\<script\> Sfdump/)?(globalError$1(Component,{message:"Filepond process error.",value:request}),l("Dump error on processing")):l("Processing Error")}),{abort:()=>{__log("aborted"),axios.abort(m),i()}}},load:(e,a,o,r,l,n)=>(axios.get(e,{responseType:"blob",validateStatus:i=>i>=200&&i<300||i===422}).then(i=>{if(i.status==200)a(i.data);else throw i.status==500?new Error("Answer not found"):new Error("Some other status code")}).catch(function(i){console.error(i)}),{abort:()=>{l()}}),headers:{"X-Csrf-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},input:{get(){return this.modelValue??[]},set(e){__log("input set",e),this.updateModelValue(e)}},key:{get(){return`filepond-${Date.now()}`}},name(){let e=this.$attrs.name;return this.obj&&this.obj.schema&&this.obj.schema.parentName&&(e=`${this.obj.schema.parentName}.${e}`),e}},watch:{modelValue:{handler(e){}},disabled:{handler(e){}}},created(){},mounted(){this.$refs.VInput&&this.$watch(()=>this.$refs.VInput.errorMessages,e=>{this.onStart||(this.errorMessages=e),this.onStart=!1},{deep:!0})}},_hoisted_1$j={class:normalizeClass(["w-100"])},_hoisted_2$g=["innerHTML"],_hoisted_3$e={key:2,class:"v-input__details",role:"alert","aria-live":"polite"},_hoisted_4$c={key:0,class:"v-messages"},_hoisted_5$a={class:"v-messages__message"},_hoisted_6$a=["innerHTML"];function _sfc_render$r(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("FilePond");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:n.input,"onUpdate:modelValue":a[4]||(a[4]=d=>n.input=d),"hide-details":"",class:normalizeClass(n.classes),rules:e.noRules?[]:e.filepondRules},{default:withCtx(d=>[renderSlot(e.$slots,"activator",normalizeProps(guardReactiveProps({...l.slotBindings})),void 0,!0),createBaseVNode("div",_hoisted_1$j,[e.label?(openBlock(),createBlock(i,{key:0,transform:"none",padding:"a-0",weight:e.labelWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,ref:e.$refs.VInput})),()=>[createTextVNode(toDisplayString(e.label),1)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),e.subtitle?(openBlock(),createBlock(i,{key:1,type:"caption",transform:"none",padding:"a-0",weight:e.subtitleWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"subtitle",normalizeProps(guardReactiveProps({subtitle:e.subtitle,ref:e.$refs.VInput})),()=>[createBaseVNode("span",{innerHTML:e.subtitle},null,8,_hoisted_2$g)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(l.fileFieldClasses)},[(openBlock(),createBlock(s,mergeProps({ref:"pond",key:n.key,id:n.key},e.$lodash.omit(e.$bindAttributes(),["rules"]),{name:n.name,"allow-image-preview":e.allowImagePreview,"allow-multiple":e.allowMultiple,"allow-process":e.allowProcess,"allow-remove":e.allowRemove,"allow-reorder":e.allowReorder,"allow-replace":e.allowReplace,"drop-on-page":e.dropOnPage,"drop-on-element":e.dropOnElement,"drop-validation":e.dropValidation,"allow-file-type-validation":!0,"accepted-file-types":e.acceptedFileTypes,"max-files":e.max,disabled:e.disabled,"allow-drop":!e.disabled,"allow-browse":!e.disabled,"allow-file-size-validation":e.allowFileSizeValidation,"max-file-size":e.maxFileSize,"min-file-size":e.minFileSize,"max-total-file-size":e.maxTotalFileSize,"label-max-file-size":e.labelMaxFileSize,"label-max-file-size-exceeded":e.labelMaxFileSizeExceeded,files:l.files,server:n.server,onProcessfile:n.postProcessFilepond,onRemovefile:n.removeFilepond,onAddfilestart:a[0]||(a[0]=c=>e.$emit("loadingFile",c)),onAddfileprogress:a[1]||(a[1]=c=>e.$emit("loadingFileProgress",c)),onAddfile:a[2]||(a[2]=c=>e.$emit("loadedFile",c)),onInit:n.init,onWarning:n.warning,onError:n.error}),null,16,["id","name","allow-image-preview","allow-multiple","allow-process","allow-remove","allow-reorder","allow-replace","drop-on-page","drop-on-element","drop-validation","accepted-file-types","max-files","disabled","allow-drop","allow-browse","allow-file-size-validation","max-file-size","min-file-size","max-total-file-size","label-max-file-size","label-max-file-size-exceeded","files","server","onProcessfile","onRemovefile","onInit","onWarning","onError"]))],2),renderSlot(e.$slots,"body",mergeProps({...l.slotBindings},{onClick:a[3]||(a[3]=(...c)=>n.browse&&n.browse(...c))}),void 0,!0),e.hideDetails?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$e,[l.errorMessages.length>0?(openBlock(),createElementBlock("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$a,toDisplayString(l.errorMessages.join(", ")),1)])):e.hint?(openBlock(),createBlock(i,{key:1,class:"v-messages",type:"caption",transform:"none",padding:"a-0",weight:e.hintWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"hint",normalizeProps(guardReactiveProps({hint:e.hint})),()=>[createBaseVNode("span",{innerHTML:e.hint},null,8,_hoisted_6$a)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0)]))])]),_:3},8,["modelValue","class","rules"])}const Filepond=_export_sfc(_sfc_main$u,[["render",_sfc_render$r],["__scopeId","data-v-6036ed6f"]]),__vite_glob_3_9=Object.freeze(Object.defineProperty({__proto__:null,default:Filepond},Symbol.toStringTag,{value:"Module"})),_sfc_main$t={__name:"FilepondAvatar",props:{disabled:{type:Boolean,default:!1},...makeInputProps(),...makeFilepondProps()},emits:makeInputEmits,setup(e,{emit:a}){const o=e,r=a;ref(null);const l=useInput(o,{emit:r,updateModelValue:(m,p)=>{m.length>1?l.input.value=[m[1]]:r("update:modelValue",m)}}),n=ref(!1),i=ref(null),s=()=>{n.value||o.disabled||i.value.browse()},d=()=>{n.value=!0},c=()=>{n.value=!1};return(m,p)=>{const u=resolveComponent("v-input-filepond");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:"v-input-filepond__avatar-wrapper",onClick:s},[createVNode(VAvatar,{size:"90",class:normalizeClass(e.disabled?"":"cursor-pointer")},{default:withCtx(()=>[unref(l).input.value.length>0?(openBlock(),createBlock(VImg,{key:0,alt:"Avatar",src:unref(l).input.value[0].source},null,8,["src"])):(openBlock(),createBlock(VIcon,{key:1,icon:"mdi-account"}))]),_:1},8,["class"]),createBaseVNode("div",{class:normalizeClass(["v-input-filepond__edit-icon",n.value?"bg-surface":"bg-primary-lighten-3"])},[n.value?(openBlock(),createBlock(VProgressCircular,{key:0,size:25,color:"success",indeterminate:""})):createCommentVNode("",!0),createVNode(VIcon,{disabled:e.disabled,size:"default"},{default:withCtx(()=>p[1]||(p[1]=[createTextVNode("mdi-account-edit-outline")])),_:1},8,["disabled"])],2)]),createVNode(u,{ref_key:"FilepondRef",ref:i,modelValue:unref(l).input.value,"onUpdate:modelValue":p[0]||(p[0]=y=>unref(l).input.value=y),class:"v-input-filepond-avatar","hide-details":m.hideDetails,hint:m.hint,min:m.min,"max-files":m.maxFiles,rules:m.rules,"hint-weight":m.hintWeight,"end-points":m.endPoints,"label-weight":m.labelWeight,subtitle:m.subtitle,"subtitle-weight":m.subtitleWeight,"accepted-file-types":m.acceptedFileTypes,onLoadingFile:d,onLoadedFile:c},{activator:withCtx(y=>p[2]||(p[2]=[])),_:1},8,["modelValue","hide-details","hint","min","max-files","rules","hint-weight","end-points","label-weight","subtitle","subtitle-weight","accepted-file-types"])],64)}}},FilepondAvatar=_export_sfc(_sfc_main$t,[["__scopeId","data-v-103a1819"]]),__vite_glob_3_10=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondAvatar},Symbol.toStringTag,{value:"Module"})),_sfc_main$s={name:"v-input-form-tabs",emits:[...makeInputEmits],inject:[...makeInputInjects],props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}},tabFields:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},triggers:{type:Object,default:()=>[]},protectDefiner:{type:String},protectedInputs:{type:Array,default:()=>["*"]}},setup(e,{emit:a}){const o=useInputHandlers(),r=useValidation(e),{t:l,te:n}=useI18n(),i=useInput(e,{emit:a}),s=ref(e.items),d=ref(!0),c=(b,w)=>{let B,S=b;if(__isString(b)&&(B=b.match(/\$([\w\.\*]+)/))){let E=B[1],I=__preg_quote(B[0]),$=E.split("."),T=[];for(const V in $){let k=$[V];k==="*"?w.id:T.push(k)}E=T.join(".");let A=__data_get(w,E);if(A){let V;if(Array.isArray(A)&&A.length>0)V=A.join(",");else if(__isString(A)){V=A;let k=snakeCase$1(V);n(`modules.${k}`)&&(V=l(`modules.${k}`))}else __isNumber(A)&&(V=A.toString());if(V){let k="\\w\\s"+__preg_quote(".,;?|:_"),N=new RegExp(String.raw`^([${k}]+)?(${I})([${k}]+)?$`);b.match(N)?S=b.replace(N,"$1"+V+"$3"):__log("Not matched sentence",N,b,b.match(N))}}}return S},m=reactive(new Map),p=(b,w)=>{w?m.set(b,w):m.delete(b)},u=b=>m.get(b),y=ref(s.value.reduce((b,w)=>{var B;return __isset(b[w.id])||(b[w.id]={...getModel(e.schema,{}),...((B=i.input.value)==null?void 0:B[w.id])??{}}),b},{})),g=(b,w,B)=>{let S=!1;return Object.keys(b).forEach(I=>{const $=filter(e.triggers,k=>k.trigger===I);if($.length<1)return;const T=b[I],A=cloneDeep(B[w][I]);let V=null;A.items&&Array.isArray(A.items)&&(V=A.items.find(k=>k.id==T)),$.forEach(k=>{let N=cloneDeep(B[w][k.target]),D=!1;forEach(k.actions,(O,U)=>{if(Array.isArray(O)){if(U==="class"){let x=(N==null?void 0:N.class)??"";if(x){let F=x.split(" "),[K,...R]=O;K==="remove"?F=F.filter(j=>!R.includes(j)):K==="add"&&(F=[...F,...R]),N.class=F.join(" "),S=!0}}}else S=!0,U==="rules"&&(D=!0,U="raw"+startCase(U)),U==="disabled"&&(N._originalDisabled=O),U==="items"?N[U]=__data_get(V,O,[]):V&&(N[U]=c(O,V))}),B[w][k.target]=N,D&&(B[w]=r.invokeRuleGenerator(B[w]))})}),{schemas:B,schemasChanged:S}},f=ref(s.value.reduce((b,w,B)=>{var S;if(!__isset(b[w.id])){const E=cloneDeep(e.schema);let I=e.protectInitialValue&&e.protectDefiner&&__isset(e.modelValue[w.id])&&__isset(e.modelValue[w.id][e.protectDefiner])&&e.modelValue[w.id][e.protectDefiner]!==null&&e.modelValue[w.id][e.protectDefiner]!==void 0;for(const T in e.tabFields)I&&Array.isArray(e.protectedInputs)&&e.protectedInputs.length>0&&(e.protectedInputs[0]==="*"||e.protectedInputs.includes(T))&&(E[T].protectInitialValue=!0),__isset(E[T])&&(E[T].items=w[e.tabFields[T]]),forEach(E[T],(A,V)=>{E[T][V]=c(A,s.value[B])});b[w.id]=getSchema(E,((S=y.value)==null?void 0:S[w.id])??{});const{schemas:$}=g(y.value[w.id],w.id,b);b=$}return b},{})),v=ref(s.value.reduce((b,w,B)=>(b[B]=null,b),{}));s.value.length>0&&(d.value=!1);const C=reactive({loading:d,elements:s,formRefs:m,activeTab:1,models:y,schemas:f,valids:v});watch$1(()=>e.items,b=>{d.value=!0;let w=b.filter(S=>!s.value.find(E=>E.id==S.id)),B=s.value.filter(S=>!b.find(E=>E.id==S.id));w.length>0&&w.forEach(S=>{var E,I;if(__isset(y.value[S.id])||(y.value[S.id]={...getModel(e.schema,{}),...((E=i.input.value)==null?void 0:E[S.id])??{}}),!__isset(f.value[S.id])){const $=cloneDeep(e.schema);for(const T in e.tabFields)__isset($[T])&&($[T].items=S[e.tabFields[T]]),forEach($[T],(A,V)=>{$[T][V]=c(A,S)});f.value[S.id]=getSchema($,((I=y.value)==null?void 0:I[S.id])??{})}v.value[S.id]=null}),B.length>0&&B.forEach(S=>{delete y.value[S.id],delete f.value[S.id],delete v.value[S.id],p(S.id,null)}),s.value=b}),watch$1(()=>s.value,b=>{setTimeout(()=>{b.length>0&&(d.value=!1)},1e3)});const h=(b,w)=>{let B=cloneDeep(y.value);B[w];let S=cloneDeep(f.value);const{schemas:E,schemasChanged:I}=g(b,w,S);I&&(f.value=cloneDeep(E)),B[w]=b,y.value=cloneDeep(B),a("update:modelValue",y.value)};return{...i,...o,...r,...toRefs(C),setFormRef:p,getFormRef:u,updateModel:h,schemas:f}},data(){return{formTabsRules:[e=>{var o;let a=!0;e:for(const r in e){let l=e[r];for(const n in this.schema){let i=l[n],s=this.schema[n];if(a=this.validateInput(s,i),a!==!0&&this.manualValidation){this.activeTab=parseInt(r);let d=this.getFormRef(this.activeTab);if(d){d.validate();break e}else console.info("FormTabs validateInput",{id:r,formRef:d,formRefValue:(o=this.getFormRef(r))==null?void 0:o.value,activeTab:this.activeTab,formRefs:this.formRefs})}if(a!==!0)break e}}return a}]}},computed:{},watch:{models:{handler(e,a){this.validate()},deep:!0}},methods:{async validate(){this.VInput&&await this.VInput.validate()},async validateForm(e){return await this.getFormRef(e).value[0].validate()},init(){}},created(){}};function _sfc_render$q(e,a,o,r,l,n){const i=resolveComponent("ue-form"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:e.models,"onUpdate:modelValue":a[2]||(a[2]=d=>e.models=d),"hide-details":"",multiple:"",rules:l.formTabsRules,class:"v-input-form-tabs"},{default:withCtx(d=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-row-divider, table-row@4",height:"400px",width:"100%"})):(openBlock(),createBlock(s,{key:1,modelValue:e.activeTab,"onUpdate:modelValue":a[1]||(a[1]=c=>e.activeTab=c),items:e.elements,"tab-value":"id","tab-title":"name"},createSlots({windows:withCtx(({active:c})=>[createVNode(VWindow,{modelValue:e.activeTab,"onUpdate:modelValue":a[0]||(a[0]=m=>e.activeTab=m)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.elements,(m,p)=>(openBlock(),createBlock(VWindowItem,{key:m.id,value:m.id},{default:withCtx(()=>[(openBlock(),createBlock(i,{ref_for:!0,ref:u=>r.setFormRef(m.id,u),key:`form-${m.id}-${JSON.stringify(r.schemas[m.id])}`,"vvvvv-model":"models[item.id]",modelValue:e.models[m.id],"onUpdate:modelValue":u=>r.updateModel(u,m.id),"onXupdate:modelValue":u=>e.$log("update:modelValue",u,m.id),schema:r.schemas[m.id],valid:e.valids[p],"onUpdate:valid":u=>e.valids[p]=u,noDefaultFormPadding:"",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","onXupdate:modelValue","schema","valid","onUpdate:valid"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:2},[renderList(e.elements,(c,m)=>({name:`tab.${c.id}`,fn:withCtx(()=>[createVNode(VTab,{value:c.id,color:!this.valids[m]&&e.window.__isBoolean(this.valids[m])?"error":"primary",class:normalizeClass([e.window.__isBoolean(this.valids[m])&&!this.valids[m]?"bg-red-lighten-5":""])},{append:withCtx(()=>[e.window.__isBoolean(e.valids[m])?(openBlock(),createBlock(VIcon,{key:0,icon:e.valids[m]?"$check":"$close"},null,8,["icon"])):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(c.name),1)]),_:2},1032,["value","color","class"])])}))]),1032,["modelValue","items"]))]),_:1},8,["modelValue","rules"])}const FormTabs=_export_sfc(_sfc_main$s,[["render",_sfc_render$q]]),__vite_glob_3_11=Object.freeze(Object.defineProperty({__proto__:null,default:FormTabs},Symbol.toStringTag,{value:"Module"})),mediaLibrayMixin={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}},mediaFieldMixin={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!0},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default(){return[]}}}},cropConversion=(e,a,o)=>({x:Math.round(e.x*a.width/o.width),y:Math.round(e.y*a.height/o.height),width:Math.round(e.width*a.width/o.width),height:Math.round(e.height*a.height/o.height)}),IS_SAFARI$1=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$r={name:"v-input-image",emits:[...makeInputEmits],components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps()},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$t("fields.medias.edit-close"))??"",active:!1},totalElementCount:range(0,this.max)}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),r=o.width,l=o.height;this.canvas.width=r,this.canvas.height=l,this.ctx.drawImage(this.img,o.x,o.y,r,l,0,0,r,l),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const r=this.allCrops[this.cropContext][o][0].ratio,l=this.media.width,n=this.media.height,i={x:l/2,y:n/2};let s=l,d=n;r>0&&r<1?(s=Math.floor(Math.min(n*r,l)),d=Math.floor(s/r)):r>=1&&(d=Math.floor(Math.min(l/r,n)),s=Math.floor(d*r));let c={x:0,y:0,width:s,height:d};c=cropConversion(c,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:c.width,height:c.height,minScale:1}));const m=Math.floor(i.x-s/2),p=Math.floor(i.y-d/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=m,e[o].y=p,e[o].width=s,e[o].height=d}Promise.all(a).then(o=>{let r=0;o.forEach(l=>{const n={x:l.topCrop.x,y:l.topCrop.y,width:l.topCrop.width,height:l.topCrop.height},i=e[Object.keys(e)[r]],s=cropConversion(n,this.originalDim,this.naturalDim);i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height,r++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",r=>{console.error(r),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI$1||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",r=>{a(r)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$i={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$f={class:"v-field__field","data-no-activator":""},_hoisted_3$d={class:"_media__field"},_hoisted_4$b={class:"media__img px-2 py-2"},_hoisted_5$9={key:0,class:"media__note f--small"},_hoisted_6$9=["name","value"],_hoisted_7$7={class:"v-field__outline"},_hoisted_8$5={class:"v-field__outline__notch"},_hoisted_9$5={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$p(e,a,o,r,l,n){const i=resolveDirective("fit-grid");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$f,[createVNode(VHover,null,{default:withCtx(({isHovering:d,props:c})=>[createBaseVNode("div",mergeProps({class:["media w-100",{"media--slide":e.isSlide}]},c),[createBaseVNode("div",_hoisted_3$d,[createVNode(VRow,{dense:"",class:"","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.totalElementCount,m=>withDirectives((openBlock(),createBlock(VCol,{key:m,cols:"12",md:"6",lg:"4"},{default:withCtx(()=>[createVNode(VCard,{color:"",class:"w-100 d-flex flex-column justify-end",style:{"box-shadow":"unset"}},createSlots({default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:p,props:u})=>[e.input[m]!==void 0?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"d-flex flex-no-wrap",ref_for:!0},u,{"data-test":"imageCard"}),[createBaseVNode("div",_hoisted_4$b,[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:g})=>[createBaseVNode("div",mergeProps({class:"media__imgFrame",ref_for:!0},g),[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(n.cropThumbnailStyle)},[e.showImg?(openBlock(),createBlock(VImg,{key:0,src:e.input[m].thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass([n.cropThumbnailClass]),"max-width":"240"},null,8,["src","class"])):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createBlock(VOverlay,{key:0,"model-value":y,class:"align-end justify-end",contained:"",onClick:f=>n.openMediaLibrary(1,n.mediaKey,m),elevation:y?12:2},{default:withCtx(()=>[createVNode(VBtn,{icon:"$edit",size:"small",class:"mb-2 mr-2",color:"blue-lighten-5"})]),_:2},1032,["model-value","onClick","elevation"]))],16)]),_:2},1024)]),createVNode(VList,{lines:"one",class:normalizeClass([[!e.hover||p?"opacity-100":"opacity-70","w-50"],"w-50"]),style:{"min-width":"50px",transition:"opacity 250ms ease-in"}},{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:g})=>[createVNode(VListItem,mergeProps({ref_for:!0},g,{class:{"text-blue":y},title:e.input[m].name,onClick:f=>n.openMediaLibrary(1,n.mediaKey,m)}),null,16,["class","title","onClick"])]),_:2},1024),e.input[m].size?(openBlock(),createBlock(VListItem,{key:0,subtitle:"File size: {{ input[index].size }}"})):createCommentVNode("",!0),e.input[m].width+e.input[m].height?(openBlock(),createBlock(VListItem,{key:1,subtitle:`${e.$t("fields.medias.original-dimensions")}: ${e.input[m].width}${e.input[m].height}`},null,8,["subtitle"])):createCommentVNode("",!0)]),_:2},1032,["class"]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,style:{"min-width":"50px",transition:"opacity 250ms ease-in"},class:normalizeClass([!e.hover||p?"opacity-100":"opacity-10","d-flex justify-end ma-2"])},[createVNode(VBtn,{"data-test":"downloadButton",icon:"$download",color:"blue-lighten-5",rounded:"0",size:"small",href:e.input[m].original,download:""},null,8,["href"]),createVNode(VBtn,{"data-test":"cropButton",icon:"mdi-crop",color:"blue-lighten-5",rounded:"0",size:"small"}),createVNode(VBtn,{"data-test":"deleteButton",icon:"$delete",color:"blue-lighten-5",rounded:"0",size:"small",onClick:y=>n.deleteMediaClick(m,s.validate)},null,8,["onClick"])],2))],16)):createCommentVNode("",!0)]),_:2},1024)]),_:2},[e.input[m]===void 0?{name:"actions",fn:withCtx(()=>[createVNode(VBtn,{"data-test":"addButton","append-icon":"$add",variant:"outlined",block:"",onClick:a[0]||(a[0]=p=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1024)),[[i]])),128))]),_:2},1024),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_5$9,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(n.media),type:"hidden"},null,8,_hoisted_6$9)],16)]),_:2},1024)]),createBaseVNode("div",_hoisted_7$7,[a[2]||(a[2]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("label",_hoisted_9$5,[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label})),()=>[createTextVNode(toDisplayString(e.boundProps.label),1)],!0)])]),a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const Image$1=_export_sfc(_sfc_main$r,[["render",_sfc_render$p],["__scopeId","data-v-d30f3735"]]),__vite_glob_3_12=Object.freeze(Object.defineProperty({__proto__:null,default:Image$1},Symbol.toStringTag,{value:"Module"})),IS_SAFARI=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$q={name:"v-input-image",components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps()},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$trans("fields.medias.edit-close"))??"",active:!1}}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),r=o.width,l=o.height;this.canvas.width=r,this.canvas.height=l,this.ctx.drawImage(this.img,o.x,o.y,r,l,0,0,r,l),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const r=this.allCrops[this.cropContext][o][0].ratio,l=this.media.width,n=this.media.height,i={x:l/2,y:n/2};let s=l,d=n;r>0&&r<1?(s=Math.floor(Math.min(n*r,l)),d=Math.floor(s/r)):r>=1&&(d=Math.floor(Math.min(l/r,n)),s=Math.floor(d*r));let c={x:0,y:0,width:s,height:d};c=cropConversion(c,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:c.width,height:c.height,minScale:1}));const m=Math.floor(i.x-s/2),p=Math.floor(i.y-d/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=m,e[o].y=p,e[o].width=s,e[o].height=d}Promise.all(a).then(o=>{let r=0;o.forEach(l=>{const n={x:l.topCrop.x,y:l.topCrop.y,width:l.topCrop.width,height:l.topCrop.height},i=e[Object.keys(e)[r]],s=cropConversion(n,this.originalDim,this.naturalDim);i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height,r++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",r=>{console.error(r),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",r=>{a(r)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a,__log(e,this.input,this.boundProps)},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$h={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$e={class:"v-field__field","data-no-activator":""},_hoisted_3$c={class:"media__field"},_hoisted_4$a={key:0,class:"media__info"},_hoisted_5$8={class:"media__img"},_hoisted_6$8={class:"media__imgFrame"},_hoisted_7$6=["src"],_hoisted_8$4=["onClick"],_hoisted_9$4={class:"media__edit--button"},_hoisted_10$3={symbol:"edit"},_hoisted_11$3=["onClick"],_hoisted_12$1={class:"media__delete--button"},_hoisted_13$1={key:0,class:"media__metadatas"},_hoisted_14$1=["onClick"],_hoisted_15$1=["title"],_hoisted_16={key:0,class:"f--small"},_hoisted_17={key:1,class:"f--small"},_hoisted_18={key:2,class:"media__note f--small"},_hoisted_19=["name","value"],_hoisted_20={class:"v-field__outline"},_hoisted_21={class:"v-field__outline__notch"},_hoisted_22={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$o(e,a,o,r,l,n){const i=resolveDirective("svg");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",{class:normalizeClass(["media",{"media--hoverable":e.hover,"media--slide":e.isSlide}])},[createBaseVNode("div",_hoisted_3$c,[n.hasMedia?(openBlock(),createElementBlock("div",_hoisted_4$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.input,(d,c)=>(openBlock(),createElementBlock(Fragment,{key:c},[createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(n.cropThumbnailStyle)},[e.showImg?(openBlock(),createElementBlock("img",{key:0,src:d.thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass(n.cropThumbnailClass)},null,10,_hoisted_7$6)):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"media__edit",onClick:m=>n.openMediaLibrary(1,n.mediaKey,c)},[createBaseVNode("span",_hoisted_9$4,[withDirectives((openBlock(),createElementBlock("span",_hoisted_10$3,[createVNode(VIcon,{icon:"$edit"})])),[[i]])])],8,_hoisted_8$4)),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:"media__delete",onClick:m=>n.deleteMediaClick(c,s.validate)},[createBaseVNode("span",_hoisted_12$1,[createVNode(VIcon,{icon:"$delete"})])],8,_hoisted_11$3))])]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("ul",_hoisted_13$1,[createBaseVNode("li",{class:"media__name",onClick:m=>n.openMediaLibrary(1,n.mediaKey,c)},[createBaseVNode("strong",{title:d.name},toDisplayString(d.name),9,_hoisted_15$1)],8,_hoisted_14$1),d.size?(openBlock(),createElementBlock("li",_hoisted_16,"File size: "+toDisplayString(d.size),1)):createCommentVNode("",!0),d.width+d.height?(openBlock(),createElementBlock("li",_hoisted_17,toDisplayString(e.$trans("fields.medias.original-dimensions"))+": "+toDisplayString(d.width)+""+toDisplayString(d.height),1)):createCommentVNode("",!0)])),a[2]||(a[2]=createBaseVNode("div",{class:"media__actions-dropDown"},null,-1))],64))),128))])):createCommentVNode("",!0),e.remainingItems?(openBlock(),createBlock(VBtn,{key:1,type:"button",onClick:a[0]||(a[0]=d=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})):createCommentVNode("",!0),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_18,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(n.media),type:"hidden"},null,8,_hoisted_19)],2)]),createBaseVNode("div",_hoisted_20,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_21,[createBaseVNode("label",_hoisted_22,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const ImageOld=_export_sfc(_sfc_main$q,[["render",_sfc_render$o],["__scopeId","data-v-8cc5a462"]]),__vite_glob_3_13=Object.freeze(Object.defineProperty({__proto__:null,default:ImageOld},Symbol.toStringTag,{value:"Module"})),makeModalProps=propsFactory({modelValue:{type:Boolean,default:!1}}),ModalMixin={emits:["update:modelValue","confirm","cancel"],props:{cancelText:{type:String,default:""},confirmText:{type:String,default:""},...makeModalProps()},data(){return{id:Math.ceil(Math.random()*1e6)+"-modal"}},computed:{show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},methods:{setValue(e){this[e.target.name]=e.target.value},openModal(){this.show=!0},closeModal(){this.show=!1},cancelModal(e=null){typeof this.cancelCallback>"u"?this.closeModal():this.cancelCallback(),e&&e(),this.$emit("cancel")},confirmModal(e=null){typeof this.confirmCallback>"u"?e?e():this.closeModal():this.confirmCallback(),this.$emit("confirm")}},created(){}},_sfc_main$p={name:"v-input-locale",emits:[...makeInputEmits],mixins:[LocaleMixin],setup(e,a){return{...useInput(e,a)}},props:{...makeInputProps(),type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}}},watch:{modelValue(e){if(__isObject(e))for(const a in e)this.input[a]=e[a]},attributes:{handler(e,a){},deep:!0}},computed:{input:{get(){return this.modelValue},set(e,a){this.inputOnSet(e,a),this.updateModelValue(e)}},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all}),attributesPerLang:function(){const e={},a=this.attributes.errorMessages;return this.languages.forEach(o=>{const r=cloneDeep(omit(this.attributes,["errorMessages"]));r.required=!!o.published&&this.isRequired,r.name=`${r.name}[${o.value}]`,__isset(a[o.value])&&(r.errorMessages=a[o.value],r.error=!1),this.input?r.modelValue=this.input[o.value]:r.default,e[o.value]=r}),e}},data(){return{isCustomForm:!1,isRequired:this.attributes.required,inputObject:this.modelValue}},mounted(){this.isCustomForm=this.$root.$refs.customForm!==void 0,this.isRequired=this.attributes.required??!1},created(){},methods:{attributesPerLang_:function(e){const a=this.languages.find(r=>r.value===e),o=cloneDeep(this.attributes);return o.required=!!a.published&&this.isRequired,o.name=`${o.name}[${e}]`,this.input&&(o.modelValue=this.input[e]),o},attributesNoLang:function(){const e=cloneDeep(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(LANGUAGE.SWITCH_LANG,{oldValue:e}),this.$nextTick(function(){})},updateValue:function(e,a){},modelUpdated(e,a){try{this.input&&__isset(this.input[a])?(this.input[a]=e,this.updateModelValue(this.input)):this.input&&!__isset(this.input[a])&&e?(this.input={},this.input[a]=e,this.updateModelValue(this.input)):!this.input&&e&&(this.input={})}catch{__log("catch",this.input,a,e)}}}},_hoisted_1$g={class:"locale"};function _sfc_render$n(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$g,[e.languages&&e.languages.length&&e.languages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.languages,i=>(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:i.value,ref_for:!0},n.attributesPerLang[`${i.value}`],{class:[i.value===e.currentLocale.value||l.isCustomForm?"":"d-none"],"onUpdate:modelValue":s=>n.modelUpdated(s,i.value)}),{appendx:withCtx(()=>[e.languages.length>1?(openBlock(),createBlock(VChip,{key:0,onClick:a[0]||(a[0]=s=>n.updateLocale(e.currentLocale))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale)+" ",1),createVNode(VTooltip,{activator:"parent",location:"top"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.switch-language")),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),label:withCtx(s=>[createTextVNode(toDisplayString(s.label)+" ",1),s.label&&s.isActive&&(s.isActive.value||s.isFocused.value)?(openBlock(),createBlock(VChip,{key:0,style:{"font-size":"var(--v-field-label-scale)",height:"calc(var(--v-field-label-scale) * 1.5)"},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):s.label&&!e.$isset(s.isActive)?(openBlock(),createBlock(VChip,{key:1,style:{},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:2},1040,["class","onUpdate:modelValue"]))),128)):(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:1,name:o.attributes.name},n.attributesNoLang(),{onChange:a[1]||(a[1]=i=>n.updateValue(!1,...arguments)),onBlur:a[2]||(a[2]=i=>e.$emit("blur")),onFocus:a[3]||(a[3]=i=>e.$emit("focus"))}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:3},16,["name"]))])}const Locale=_export_sfc(_sfc_main$p,[["render",_sfc_render$n],["__scopeId","data-v-38020bfc"]]),__vite_glob_3_14=Object.freeze(Object.defineProperty({__proto__:null,default:Locale},Symbol.toStringTag,{value:"Module"}));function getCountry(){return fetch("https://ip2c.org/s").then(e=>e.text()).then(e=>{const a=(e||"").toString();if(!a||a[0]!=="1")throw new Error("unable to fetch the country");return a.substr(2,2)})}function setCaretPosition(e,a){if(e.setSelectionRange)e.focus(),e.setSelectionRange(a,a);else if(e.createTextRange){const o=e.createTextRange();o.collapse(!0),o.moveEnd("character",a),o.moveStart("character",a),o.select()}}const allCountries=[["Afghanistan ()","af","93"],["Albania (Shqipri)","al","355"],["Algeria ()","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia ()","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (sterreich)","at","43"],["Azerbaijan (Azrbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain ()","bh","973"],["Bangladesh ()","bd","880"],["Barbados","bb","1246"],["Belarus ()","by","375"],["Belgium (Belgi)","be","32"],["Belize","bz","501"],["Benin (Bnin)","bj","229"],["Bermuda","bm","1441"],["Bhutan ()","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (  )","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria ()","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia ()","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (Rpublique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China ()","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros ( )","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Cte dIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaao","cw","599",0],["Cyprus ()","cy","357"],["Czech Republic (esk republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Repblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt ()","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Froyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane franaise)","gf","594"],["French Polynesia (Polynsie franaise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia ()","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece ()","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guine)","gn","224"],["Guinea-Bissau (Guin Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong ()","hk","852"],["Hungary (Magyarorszg)","hu","36"],["Iceland (sland)","is","354"],["India ()","in","91"],["Indonesia","id","62"],["Iran ()","ir","98"],["Iraq ()","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel ()","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan ()","jp","81"],["Jersey","je","44",3],["Jordan ()","jo","962"],["Kazakhstan ()","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait ()","kw","965"],["Kyrgyzstan ()","kg","996"],["Laos ()","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon ()","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya ()","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau ()","mo","853"],["Macedonia (FYROM) ()","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania ()","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (Mxico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia ()","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco ()","ma","212",0],["Mozambique (Moambique)","mz","258"],["Myanmar (Burma) ()","mm","95"],["Namibia (Namibi)","na","264"],["Nauru","nr","674"],["Nepal ()","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Caldonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (   )","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman ()","om","968"],["Pakistan ()","pk","92"],["Palau","pw","680"],["Palestine ()","ps","970"],["Panama (Panam)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar ()","qa","974"],["Runion (La Runion)","re","262",0],["Romania (Romnia)","ro","40"],["Russia ()","ru","7",0],["Rwanda","rw","250"],["Saint Barthlemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie franaise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe (So Tom e Prncipe)","st","239"],["Saudi Arabia (  )","sa","966"],["Senegal (Sngal)","sn","221"],["Serbia ()","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea ()","kr","82"],["South Sudan ( )","ss","211"],["Spain (Espaa)","es","34"],["Sri Lanka ( )","lk","94"],["Sudan ()","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria ()","sy","963"],["Taiwan ()","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand ()","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia ()","tn","216"],["Turkey (Trkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine ()","ua","380"],["United Arab Emirates (  )","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Ozbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vit Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara ( )","eh","212",1],["Yemen ()","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["land Islands","ax","358",1]].map(e=>({name:e[0],iso2:e[1].toUpperCase(),dialCode:e[2],priority:e[3]||0,areaCodes:e[4]||null})),defaultOptions={placeholder:"Enter a phone number",label:"Enter a Phone Number",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,mode:"international",invalidMsg:"",required:!1,allCountries,defaultCountry:"tr",enabledCountryCode:!1,enabledFlags:!0,preferredCountries:[],onlyCountries:[],ignoredCountries:[],autofocus:!1,autocomplete:"on",name:"telephone",wrapperClasses:"",inputClasses:"",inputId:"",dropdownOptions:{},inputOptions:{},maxLen:25,dynamicPlaceholder:!1},Phone$1={options:{...defaultOptions}};function getDefault(e){return Phone$1.options[e]}function getParents(e,a){const o=a||[],{parentNode:r}=e;return r?getParents(r,o.concat(r)):o}const _sfc_main$o={emits:[...makeInputEmits,"country-changed","validate","onValidate","keydown","mousedown","mouseup","input","change","focus","blur","click","space","onInput","onSpace","onBlur","onMouseup","onMousedown"],directives:{"click-outside":{bind(e,a,o){if(typeof a.value!="function"){const n=o.context.name;let i=`[Vue-click-outside:] provided expression ${a.expression} is not a function, but has to be`;n&&(i+=`Found in component ${n}`),console.warn(i)}const{bubble:r}=a.modifiers,l=n=>{const i=n.path||(n.composedPath?n.composedPath():!1)||getParents(n.target);(r||i.length&&!e.contains(i[0])&&e!==i[0])&&a.value(n)};e.__vueClickOutside__=l,document.addEventListener("click",l)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},props:{...makeInputProps(),invalidMsg:{type:String,default:()=>getDefault("invalidMsg")},mode:{type:String,default:()=>getDefault("mode")},disabled:{type:Boolean,default:!1},disabledFetchingCountry:{type:Boolean,default:()=>getDefault("disabledFetchingCountry")},allCountries:{type:Array,default:()=>getDefault("allCountries")},defaultCountry:{type:String,default:()=>getDefault("defaultCountry")},preferredCountries:{type:Array,default:()=>getDefault("preferredCountries")},onlyCountries:{type:Array,default:()=>getDefault("onlyCountries")},ignoredCountries:{type:Array,default:()=>getDefault("ignoredCountries")}},setup(e,a){return{...useInput(e,a)}},data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:{handler(e){e&&e!==this.activeCountry&&this.choose(e,!0)},deep:!0},lastValidCountry:null,data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:null,phoneRule:e=>e?PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON().valid||"Geersiz telefon numaras":"Telefon Numaras gerekli"}}}},computed:{parsedMode(){if(this.mode)if(!["international","national"].includes(this.mode))console.error('Invalid value of prop "mode"');else return this.mode;return!this.phone||this.phone[0]!=="+"?"national":"international"},filteredCountries(){return this.onlyCountries.length?this.getCountries(this.onlyCountries):this.ignoredCountries.length?this.allCountries.filter(({iso2:e})=>!this.ignoredCountries.includes(e.toUpperCase())&&!this.ignoredCountries.includes(e.toLowerCase())):this.allCountries},sortedCountries(){return[...this.getCountries(this.preferredCountries).map(a=>({...a,preferred:!0})),...this.filteredCountries]},phoneObject(){const e=PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON();return Object.assign(e,{isValid:e.valid,country:this.activeCountry}),this.phone?e:{...e,number:{_phone:""}}},phoneText(){let e="_phone";return this.phoneObject.isValid?e=this.parsedMode:this.boundProps.validate=!1,this.phoneObject.number[e]||""}},watch:{"phoneObject.valid":function(e){e&&(this.phone=this.phoneText,this.lastValidCountry={...this.activeCountry}),this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)},modelValue(e,a){__isString(e)&&(this.phone=this.modelValue)},open(e){e?this.$emit("open"):this.$emit("close")},phone:{handler(e,a){if(e){if(e[0]==="+"){const o=PhoneNumber(e).getRegionCode();if(o){const r=this.findCountry(o);r&&(this.activeCountry=r,this.countryCode=r)}}else for(const o of this.sortedCountries)if(PhoneNumber(e,o.iso2).valid){this.activeCountry=o,this.countryCode=o;break}}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},immediate:!0},activeCountry(e){e&&e.iso2&&(this.boundProps.placeholder=awesomePhonenumberExports.getExample(e.iso2).toJSON().number.national,this.boundProps.persistentPlaceholder=!0,this.$emit("country-changed",e))},countryCode(e,a){this.choose(e,!0)}},mounted(){this.$watch(`$refs.${this.getReference("countryInput")}.isResetting`,e=>e&&this.reset()),(!this.activeCountry||!this.activeCountry.iso2)&&this.reset()},created(){if(this.modelValue&&(this.phone=this.modelValue.trim(),this.phone[0]==="+")){const e=PhoneNumber(this.phone).getRegionCode();if(e){const a=this.findCountry(e);a&&(this.activeCountry=a,this.countryCode=a)}}__isset(this.boundProps.rules)||(this.boundProps.rules=[]),this.boundProps.rules.push(this.phoneRule)},methods:{inputOnSet(e,a){if((e||__isString(e))&&e[0]==="+"){const o=PhoneNumber(e).getRegionCode();o&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},initializeCountry(){return new Promise(e=>{if(this.phone&&this.phone[0]==="+"){const o=PhoneNumber(this.input).getRegionCode();if(o){this.choose(o),e();return}}if(this.defaultCountry){const o=this.findCountry(this.defaultCountry);if(o){this.choose(o),e();return}}const a=this.findCountry(this.preferredCountries[0])||this.filteredCountries[0];this.disabledFetchingCountry?(this.choose(a),e()):getCountry().then(o=>{this.phone===""&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}).catch(o=>{console.warn(o),this.choose(a)}).finally(()=>{e()})})},getCountries(e=[]){return e.map(a=>this.findCountry(a)).filter(Boolean)},findCountry(e=""){return this.allCountries.find(a=>a.iso2===e.toUpperCase())},getItemClass(e,a){const o=this.selectedIndex===e,r=e===this.preferredCountries.length-1,l=this.preferredCountries.some(n=>n.toUpperCase()===a);return{highlighted:o,"last-preferred":r,preferred:l}},choose(e,a=!1){if(this.activeCountry=e||this.activeCountry||{},this.phone&&this.phone[0]==="+"&&this.activeCountry.iso2&&this.phoneObject.number.significant){const o=PhoneNumber(this.phoneObject.number.significant,this.activeCountry.iso2);o.valid&&(this.phone=o.getNumber("international"))}else this.inputOptions&&this.inputOptions.showDialCode&&e&&e.dialCode&&(this.phone=`+${e.dialCode}`);this.countryCode=this.activeCountry,a&&(this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject))},reset(){this.activeCountry&&this.activeCountry.iso2&&(this.countryCode=this.activeCountry),this.initializeCountry().then(()=>{!this.phone&&this.inputOptions&&this.inputOptions.showDialCode&&this.activeCountry.dialCode&&(this.phone=`+${this.activeCountry.dialCode}`),this.countryCode=this.activeCountry,this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)}).catch(console.error).finally(()=>{this.finishMounted=!0}),this.open=!1},onInput(e){e&&e.target&&(this.cursorPosition=e.target.selectionStart)},onBlur(){this.$emit("blur"),this.$emit("onBlur")},onFocus(e){this.$emit("focus",e)},onClick(e){this.$emit("click",e)},onChange(e){this.$emit("change",e)},onMouseUp(e){this.$emit("mouseup",e)},onMouseDown(e){this.$emit("mousedown",e)},onKeyDown(e){this.$emit("keydown",e)},onEnter(){this.$emit("enter"),this.$emit("onEnter")},onSpace(){this.$emit("space"),this.$emit("onSpace")},focus(){this.$refs[this.getReference("phoneInput")].focus()},toggleDropdown(){this.disabled||(this.open=!this.open)},clickedOutside(){this.open=!1},keyboardNav(e){if(e.keyCode===40){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=0:this.selectedIndex=Math.min(this.sortedCountries.length-1,this.selectedIndex+1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop+a.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight&&(this.$refs.list.scrollTop=a.offsetTop-this.$refs.list.clientHeight+a.clientHeight)}else if(e.keyCode===38){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=this.sortedCountries.length-1:this.selectedIndex=Math.max(0,this.selectedIndex-1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop<this.$refs.list.scrollTop&&(this.$refs.list.scrollTop=a.offsetTop)}else if(e.keyCode===13)this.selectedIndex!==null&&this.choose(this.sortedCountries[this.selectedIndex]),this.open=!this.open;else{this.typeToFindInput+=e.key,clearTimeout(this.typeToFindTimer),this.typeToFindTimer=setTimeout(()=>{this.typeToFindInput=""},700);const a=this.sortedCountries.slice(this.preferredCountries.length).findIndex(o=>o.name.toLowerCase().startsWith(this.typeToFindInput));if(a>=0){this.selectedIndex=this.preferredCountries.length+a;const o=this.$refs.list.children[this.selectedIndex],r=o.offsetTop<this.$refs.list.scrollTop,l=o.offsetTop+o.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight;(r||l)&&(this.$refs.list.scrollTop=o.offsetTop-this.$refs.list.clientHeight/2)}}}}};function _sfc_render$m(e,a,o,r,l,n){return openBlock(),createBlock(VRow,{"no-gutters":"",class:normalizeClass(["vue-tel-input-vuetify flex-nowrap",e.$lodash.pick(e.boundProps,["wrapperClasses"])??e.getDefault("wrapperClasses")])},{default:withCtx(()=>[createVNode(VAutocomplete,mergeProps({class:"flex-grow-0 flex-shrink-1",ref:e.makeReference("countryInput"),modelValue:l.countryCode,"onUpdate:modelValue":a[0]||(a[0]=i=>l.countryCode=i)},e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{items:n.sortedCountries,"item-title":"name","item-value":"iso2","menu-props":{maxHeight:200},autocomplete:"off","return-object":"","onUpdate:modelValue":n.choose,disabled:o.disabled}),{selection:withCtx(()=>[l.activeCountry&&l.activeCountry.iso2?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([l.activeCountry.iso2.toLowerCase(),"vti__flag"])},null,2)):createCommentVNode("",!0)]),item:withCtx(({item:i,props:s})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(s)),{prepend:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([i.raw.iso2.toLowerCase(),"vti__flag"])},null,2)]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(" +"+toDisplayString(i.raw.dialCode),1)]),_:2},1024)]),_:2},1040)]),_:1},16,["modelValue","items","onUpdate:modelValue","disabled"]),createVNode(VTextField,mergeProps({ref:e.makeReference("phoneInput"),type:"tel",class:"flex-grow-1 flex-shrink-0",modelValue:l.phone,"onUpdate:modelValue":a[1]||(a[1]=i=>l.phone=i)},e.boundProps,{onInput:n.onInput,onBlur:n.onBlur,onFocus:n.onFocus,onClick:n.onClick,onChange:n.onChange,onMousedown:n.onMouseDown,onMouseup:n.onMouseUp,onKeydown:n.onKeyDown,onKeyup:[withKeys(n.onEnter,["enter"]),withKeys(n.onSpace,["space"])],disabled:o.disabled}),null,16,["modelValue","onInput","onBlur","onFocus","onClick","onChange","onMousedown","onMouseup","onKeydown","onKeyup","disabled"])]),_:1},8,["class"])}const Phone=_export_sfc(_sfc_main$o,[["render",_sfc_render$m]]),__vite_glob_3_16=Object.freeze(Object.defineProperty({__proto__:null,default:Phone},Symbol.toStringTag,{value:"Module"})),_sfc_main$n={name:"ue-currency-number",props:{modelValue:Number,errorMessages:{type:Array,default:()=>[]}},setup(e,a){return{...useCurrencyNumber(e)}},created(){}};function _sfc_render$l(e,a,o,r,l,n){return openBlock(),createBlock(VTextField,mergeProps({ref:"inputRef",modelValue:e.formattedValue,"onUpdate:modelValue":a[0]||(a[0]=i=>e.formattedValue=i)},{...e.$bindAttributes(e.$lodash.pick(e.$attrs,["label","error"]))},{errorMessages:o.errorMessages}),createSlots({_:2},[renderList(e.$slots,(i,s)=>({name:s,fn:withCtx(d=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(d)))])}))]),1040,["modelValue","errorMessages"])}const CurrencyNumber=_export_sfc(_sfc_main$n,[["render",_sfc_render$l]]),_sfc_main$m={name:"v-input-price",emits:[...makeInputEmits],components:{CurrencyNumber},props:{...makeInputProps(),modelValue:{type:[Array,Object],default(){return[{[this.priceInputName]:1,currency_id:1,vat_rate_id:1,price_type_id:1,raw_amount:1,discount_percentage:0}]}},priceInputName:{type:String},currencyInputName:{type:String,default:"currency_id"},numberMultiplier:{type:Number,default:100},items:{type:Array},vatRates:{type:Array,default:()=>[]},rules:{type:Array,default:()=>[]},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasDiscount:{type:Boolean,default:!1}},setup(e,a){const o=useInput(e,a),r=ref(Array.isArray(e.modelValue)?e.modelValue.map(d=>d):[e.modelValue]),l=ref(r.value.map(d=>[])),n=reactive(new Map);return{...o,deepModel:r,inputRefs:n,setInputRef:(d,c)=>{c?n.set(d,c):n.delete(d)},getInputRef:d=>n.get(d),errorMessages:l}},data(){return{}},methods:{changeCurrency(e,a){if(this.readonly)return;const o=this.currencies.findIndex(r=>r.id===this.modelValue[a][this.currencyInputName]);this.deepModel[a][this.currencyInputName]=o===this.totalCurrencies-1?this.currencies[0].id:this.currencies[o+1].id},updateNumberInput(e,a){this.deepModel[a][this.priceInputName]=e,this.$nextTick(()=>{try{let o=this.inputRefs.get(a);this.errorMessages[a]=o.errorMessages}catch(o){console.error(o)}})},updateVatRate(e,a){this.deepModel[a].vat_rate_id=e},updateModelValue(){this.$emit("update:modelValue",this.deepModel.map(e=>e))},displayFormattedPrice(e,a){var i;const o=((i=this.$lodash.find(this.vatRates,["value",a.vat_rate_id]))==null?void 0:i.rate)/100,r=(a.discount_percentage||0)/100,l=a[this.priceInputName],n=(Math.round(l*(1-r))*(1+o)).toFixed(2);try{return Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(n)}catch(s){console.log(s)}return e+" "+n}},watch:{modelValue:{deep:!0,handler(e,a){e?this.deepModel=Array.isArray(e)?e.map(o=>o):[e]:this.deepModel=[{[this.priceInputName]:1,currency_id:1}]}},deepModel:{deep:!0,handler(e){}}},computed:{currencies(){return this.items},displayedCurrency(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).name)},displayedCurrencyISO4217(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).iso)},totalCurrencies(){return this.currencies.length}},created(){}},_hoisted_1$f={class:"d-flex w-100 ga-2"},_hoisted_2$d={key:0,class:"w-100 d-flex justify-center"},_hoisted_3$b={class:"text-h2 text-white font-weight-bold"};function _sfc_render$k(e,a,o,r,l,n){const i=resolveComponent("CurrencyNumber");return openBlock(!0),createElementBlock(Fragment,null,renderList(r.deepModel,(s,d)=>(openBlock(),createElementBlock(Fragment,{key:`price-${d}`},[createBaseVNode("div",_hoisted_1$f,[createVNode(VInput,mergeProps({ref_for:!0,ref:c=>r.setInputRef(d,c),modelValue:r.deepModel[d][o.priceInputName],"onUpdate:modelValue":c=>r.deepModel[d][o.priceInputName]=c,class:"v-input-price"},{...e.$lodash.pick(e.$attrs,["error","errorMessages"])},{rules:o.rules,"hide-details":""}),{default:withCtx(c=>[createVNode(i,mergeProps({class:"flex-grow-1",ref_for:!0},{label:e.label,...e.$attrs},{name:`${e.$attrs.name}-${d}`,modelValue:r.deepModel[d][o.priceInputName],"onUpdate:modelValue":m=>n.updateNumberInput(m,d),readonly:o.readonly,errorMessages:r.errorMessages[d]}),{"append-inner":withCtx(({isActive:m,isFocused:p,controlRef:u,focus:y,blur:g})=>[createVNode(VChip,{onClick:f=>n.changeCurrency(f,d)},{default:withCtx(()=>[createTextVNode(toDisplayString(n.displayedCurrency[d]),1)]),_:2},1032,["onClick"])]),_:2},1040,["name","modelValue","onUpdate:modelValue","readonly","errorMessages"])]),details:withCtx(()=>[createTextVNode(toDisplayString(r.errorMessages[d]),1)]),_:2},1040,["modelValue","onUpdate:modelValue","rules"]),withDirectives(createVNode(VSelect,mergeProps({ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("VAT Rate"),items:o.vatRates,class:"flex-grow-0",modelValue:r.deepModel[d].vat_rate_id,"onUpdate:modelValue":c=>r.deepModel[d].vat_rate_id=c}),null,16,["label","items","modelValue","onUpdate:modelValue"]),[[vShow,o.vatRates.length>0]]),o.hasDiscount?(openBlock(),createBlock(VNumberInput,mergeProps({key:0,modelValue:r.deepModel[d].discount_percentage,"onUpdate:modelValue":c=>r.deepModel[d].discount_percentage=c,ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("Discount %"),"control-variant":"stacked",min:0,max:100,rules:[]}),null,16,["modelValue","onUpdate:modelValue","label"])):createCommentVNode("",!0)]),o.vatRates.length>0?(openBlock(),createElementBlock("div",_hoisted_2$d,[createVNode(VCard,{class:"w-75",color:"success",rounded:"lg",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center py-6"},{default:withCtx(()=>[a[0]||(a[0]=createBaseVNode("div",{class:"text-h6 text-white mb-2"},"Total Pay",-1)),createBaseVNode("div",_hoisted_3$b,toDisplayString(n.displayFormattedPrice(n.displayedCurrencyISO4217[d],r.deepModel[d])),1)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)],64))),128)}const Price=_export_sfc(_sfc_main$m,[["render",_sfc_render$k]]),__vite_glob_3_17=Object.freeze(Object.defineProperty({__proto__:null,default:Price},Symbol.toStringTag,{value:"Module"})),_sfc_main$l={name:"v-input-process",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),color:{type:String,default:"primary"},cardVariant:{type:String,default:"outlined"},process:{type:Object},processableTitle:{type:String,default:"name"},processableDetails:{type:Array,default:()=>[]},schema:{type:Object},formatters:{type:Object,default:()=>{}},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},processableEditableRoles:{type:Array,default:()=>["superadmin"]},processEditableRoles:{type:Array,default:()=>["superadmin"]},processableShowStatuses:{type:[Array,Object],default:()=>["*"]},actionRoles:{type:Object,default:()=>{}},displayColRatio:{type:Array,default:()=>[5,7]},historyColRatio:{type:Array,default:null}},setup(e,a){var T;const{t:o}=useI18n(),{hasRoles:r}=useAuthorization(),l=A=>A,n=A=>{a.emit("update:modelValue",A)},i=ref(e.process),s=ref(((T=e.process)==null?void 0:T.processable)??null),d=ref(!1),c=ref(!1),m=()=>{let A={},V=lodash.get(i.value,"processable",{});if(e.schema&&__isObject(e.schema)&&(A=e.schema,e.formatters&&__isObject(e.formatters))){for(const[k,N]of Object.entries(e.formatters))if(A[k])for(const[D,O]of Object.entries(N)){let U=O;__isString(O)&&(U=O.split(","));let[x,F]=U;if(__isset(V[x])){let K=V[x];__isset(K[F])&&(A[k][D]=K[F])}}}return A},p=ref(!e.process),u=ref(!1),y=ref(null),g=ref(!1),f=ref(e.process?m():null),v=computed(()=>{var A;return((A=y.value)==null?void 0:A.validModel)??null}),C=()=>{f.value=m()},h=ref(""),b=ref(!1),w=computed(()=>{let A=e.processableEditableRoles;return __isString(A)&&A==="*"||Array.isArray(A)&&A.includes("*")?!0:r(A)}),B=A=>{let V=e.processableShowStatuses;if(__isString(V)&&V==="*"||Array.isArray(V)&&V.includes("*"))return!0;if(!(A!=null&&A.status))return!1;const k=A.status;if(__isObject(V)){for(const[N,D]of Object.entries(V))if(k===N&&(__isString(D)&&D==="*"||Array.isArray(D)&&D.includes("*")||r(D)))return!0}else if(Array.isArray(V)&&V.includes(A==null?void 0:A.status))return!0;return!1},S=computed(()=>B(i.value)),E=computed(()=>{var A;return(A=i.value)!=null&&A.status?i.value.status_informational_message:o("The contents are being prepared or updated. Please check back later.")}),I=reactive({loading:p,updating:u,UeForm:y,formActive:g,formIsValid:v,processableModel:s,processValid:d,processableValid:c,hasProcessableEditing:w,showProcessableDetails:S,informationalMessage:E,reason:h,promptModalActive:b,title:computed(()=>{var A;return(A=i.value)!=null&&A.processable?lodash.get(i.value.processable,e.processableTitle,""):null}),flattenedProcessableDetails:computed(()=>{var k;const A=((k=i.value)==null?void 0:k.processable)??{};let V=[];for(const N of e.processableDetails)__isset(N.field)&&__isset(N.title)&&V.push({title:o(N.title),value:lodash.get(A,N.field,"")});return V}),bothFormAndProcessableValid:computed(()=>c.value&&v.value),onlyOneValid:computed(()=>c.value&&!v.value||!c.value&&v.value)}),$=reactive({setSchema:C});return{...useInput(e,{...a,initializeInput:l,updateModelValue:n}),...toRefs(I),formSchema:f,processModel:i,...toRefs($)}},data:function(){return{}},watch:{input:{handler(e,a){},immediate:!0},processableModel:{handler(e){e&&this.$nextTick(()=>{})},immediate:!0}},methods:{fetchProcess(){if(this.input>0&&!this.process){const e=this.fetchEndpoint.replace(":id",this.input);this.loading=!0;const a=this;axios.get(e).then(o=>{var r;a.loading=!1,o.status===200&&(a.processModel=o.data,a.processableModel=((r=a.processModel)==null?void 0:r.processable)??{},a.setSchema(),a.$nextTick(async()=>{a.UeForm&&(await a.UeForm.validate(),await a.UeForm.VForm.resetValidation(),a.processableValid=a.UeForm.validModel)}))}).catch(o=>{}).finally(()=>{a.loading=!1})}},async updateProcess(e){if(this.input){if(this.hasProcessableEditing&&(await this.UeForm.validate(),!this.UeForm.validModel)){this.$store.commit(ALERT$1.SET_ALERT,{message:this.$t("Please fill all the required fields"),variant:"error",location:"top",timeout:2e3});return}this.updating=!0;const a=this.updateEndpoint.replace(":id",this.input),o={status:e,reason:this.reason},r=this;axios.put(a,o).then(l=>{l.status===200&&(r.promptModalActive=!1,r.reason="",r.$store.commit(ALERT$1.SET_ALERT,{message:l.data.message,variant:l.data.variant}),r.fetchProcess())}).finally(()=>{r.updating=!1})}},async updateProcessable(){if(this.input){let e={...this.$lodash.omit(this.UeForm.model,["id"])};const a=this.updateEndpoint.replace(":id",this.input),o=this;axios.put(a,e).then(r=>{r.data.variant==="success"&&(o.$store.commit(ALERT$1.SET_ALERT,{message:r.data.message,variant:r.data.variant}),o.$refs.formModal&&typeof o.$refs.formModal.close=="function"&&o.$refs.formModal.close(),o.fetchProcess())})}},canAction(e){return!this.$isset(this.actionRoles[e])||this.$hasRoles(this.actionRoles[e])},confirmPrompt(e){this.updateProcess(e)}},created(){this.fetchProcess()}};function _sfc_render$j(e,a,o,r,l,n){var u,y;const i=resolveComponent("ue-form"),s=resolveComponent("v-btn-secondary"),d=resolveComponent("v-btn-primary"),c=resolveComponent("ue-modal"),m=resolveComponent("ue-list-section"),p=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",null,[r.formSchema&&e.processableModel?(openBlock(),createBlock(c,{key:0,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[3]||(a[3]=g=>e.formActive=g),scrollablex:"",transition:"dialog-bottom-transition","width-type":"md",full:"",eager:""},{body:withCtx(g=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(i,{ref:"UeForm",modelValue:e.processableModel,"onUpdate:modelValue":a[0]||(a[0]=f=>e.processableModel=f),schema:r.formSchema,title:e.title,style:normalizeStyle(g.isFullActive?"height: 90vh !important;":"height: 70vh !important;"),"is-editing":"","fill-height":"",scrollable:"","has-divider":""},null,8,["modelValue","schema","title","style"]),createVNode(VDivider,{class:"mx-6 mt-4"}),createVNode(VCardActions,{class:"px-6 flex-grow-0"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(s,{slim:!1,variant:"outlined",onClick:a[1]||(a[1]=f=>e.$refs.formModal.close())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1}),e.$store.getters.isSuperAdmin?(openBlock(),createBlock(s,{key:0,slim:!1,variant:"outlined",onClick:a[2]||(a[2]=f=>e.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Validate")),1)]),_:1})):createCommentVNode("",!0),createVNode(d,{slim:!1,variant:"elevated",onClick:n.updateProcessable,disabled:!e.formIsValid},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.save")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"])):createCommentVNode("",!0),createVNode(VCard,{color:((u=r.processModel)==null?void 0:u.status_card_color)??o.color,variant:((y=r.processModel)==null?void 0:y.status_card_variant)??o.cardVariant,class:"mb-4 w-100 h-100 d-flex flex-column"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-heading, list-item-three-line",class:"mb-4 w-100 h-100",style:{"min-height":"300px"}})):r.processModel?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VCardText,{class:"d-flex flex-column"},{default:withCtx(()=>{var g;return[createVNode(VRow,{"no-gutters":"",class:"pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"8",xl:"9",class:"text-h5 font-weight-medium text-wrap"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"4",xl:"3",class:"d-flex justify-sm-end"},{default:withCtx(()=>[createVNode(VChip,{"prepend-icon":r.processModel.status_icon,color:r.processModel.status_color,class:"text-subtitle-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(r.processModel.status_label),1)]),_:1},8,["prepend-icon","color"])]),_:1})]),_:1}),createVNode(VSpacer,{class:"flex-grow-0"}),e.$hasRoles(o.processableEditableRoles)?(openBlock(),createBlock(VRow,{key:0},{default:withCtx(()=>[r.formSchema&&e.processableModel?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VBtn,{ref:"editButton",colorx:"primary",density:"compact",variant:e.bothFormAndProcessableValid?"outlined":"elevated",elevation:e.bothFormAndProcessableValid?null:10,color:e.bothFormAndProcessableValid?"success":e.onlyOneValid?"warning":"secondary","prepend-icon":e.bothFormAndProcessableValid?"mdi-check-circle-outline":e.onlyOneValid?"mdi-progress-question":"mdi-gesture-tap",onClick:a[4]||(a[4]=f=>e.$log("edit",e.$refs.formModal.open())),class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.bothFormAndProcessableValid?e.$t("Edit"):e.onlyOneValid?e.$t("Complete"):e.$t("Fill")),1)]),_:1},8,["variant","elevation","color","prepend-icon"])]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.flattenedProcessableDetails.length>0?(openBlock(),createBlock(m,{key:1,items:e.flattenedProcessableDetails,"item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"col-ratios":[5,7]},null,8,["items"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(r.formSchema,f=>{var v;return openBlock(),createBlock(m,{key:f.name,items:[{title:f.label??e.$t("Unknown"),value:(v=e.processableModel)==null?void 0:v[f.name]}],"col-element":"div","item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"item-classes":"text-body-2","col-ratios":o.displayColRatio,"vertical-align-top":""},{"field.1":withCtx(C=>[f.type==="input-filepond"?(openBlock(),createBlock(p,{key:0,source:C.value,"show-inline-file-name":"","image-size":"24",style:{width:"155px"}},null,8,["source"])):f.type==="text"&&f.ext==="date"||f.type==="date-input"?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(C.value?e.$d(C.value,"numeric"):""),1)],64)):(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(C.value),1)],64))]),_:2},1032,["items","col-ratios"])}),128)):createCommentVNode("",!0),r.processModel.last_history&&r.processModel.last_history.reason?(openBlock(),createBlock(m,{key:3,items:[{title:r.processModel.status_reason_label,value:r.processModel.last_history.reason}],"item-fields":["title","value"],"col-classes":["font-weight-bold text-wrap","d-flex justify-start"],"col-ratios":o.historyColRatio??o.displayColRatio},null,8,["items","col-ratios"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?createCommentVNode("",!0):(openBlock(),createBlock(VAlert,{key:4,type:"info",variant:"tonal",color:((g=r.processModel)==null?void 0:g.status_card_color)??o.color,class:"my-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.informationalMessage),1)]),_:1},8,["color"]))]}),_:1}),createVNode(VSpacer),e.$hasRoles(o.processEditableRoles)?(openBlock(),createBlock(VCardActions,{key:0,class:"px-4"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[r.processModel&&r.processModel.status?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[r.processModel.status==="preparing"&&n.canAction(r.processModel.status)?(openBlock(),createBlock(VBtn,{key:0,color:r.processModel.next_action_color,variant:"elevated",loading:e.updating,onClick:a[5]||(a[5]=g=>n.updateProcess("waiting_for_confirmation")),disabled:!e.bothFormAndProcessableValid},{default:withCtx(()=>[createTextVNode(toDisplayString(r.processModel.next_action_label),1)]),_:1},8,["color","loading","disabled"])):r.processModel.status.match(/waiting_for_confirmation|waiting_for_reaction/)&&n.canAction(r.processModel.status)?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(c,{ref:"promptModal",modelValue:e.promptModalActive,"onUpdate:modelValue":a[9]||(a[9]=g=>e.promptModalActive=g),"width-type":"sm",transition:"dialog-bottom-transition"},{activator:withCtx(({props:g})=>[createVNode(VBtn,mergeProps({color:"error",variant:"outlined",class:"mr-2"},g),{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("mdi-close")])),_:1})]),_:2},1040)]),body:withCtx(g=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VTextarea,{modelValue:e.reason,"onUpdate:modelValue":a[6]||(a[6]=f=>e.reason=f),variant:"outlined",label:"Reason"},null,8,["modelValue"])]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{slim:!1,color:"grey",variant:"outlined",disabled:e.updating,onClick:a[7]||(a[7]=f=>e.promptModalActive=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1},8,["disabled"]),createVNode(VBtn,{color:"error",slim:!1,variant:"elevated",disabled:!e.reason,loading:e.updating,onClick:a[8]||(a[8]=f=>n.confirmPrompt("rejected"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Reject")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VBtn,{color:"success",variant:"elevated",loading:e.updating,onClick:a[10]||(a[10]=g=>n.updateProcess("confirmed"))},{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[13]||(a[13]=[createTextVNode("mdi-check")])),_:1})]),_:1},8,["loading"])],64)):r.processModel.status==="rejected"&&n.canAction(r.processModel.status)?(openBlock(),createBlock(VBtn,{key:2,color:r.processModel.next_action_color,variant:"elevated",loading:e.updating,onClick:a[11]||(a[11]=g=>n.updateProcess("waiting_for_reaction"))},{default:withCtx(()=>[createTextVNode(toDisplayString(r.processModel.next_action_label),1)]),_:1},8,["color","loading"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),_:1},8,["color","variant"])])}const Process=_export_sfc(_sfc_main$l,[["render",_sfc_render$j]]),__vite_glob_3_18=Object.freeze(Object.defineProperty({__proto__:null,default:Process},Symbol.toStringTag,{value:"Module"})),_sfc_main$k={name:"v-input-radio-group",emits:[...makeInputEmits],components:{Checklist},props:{...makeInputProps(),items:{type:Object,default:()=>[]},itemTitle:{type:String,default:"name"},itemValue:{type:String,default:"id"},descriptionTitle:{type:String,default:"description"},color:{type:String,default:"primary"}},setup(e,a){return{...useInput(e,{...a,initializeInput:r=>r})}},data:function(){return{}},computed:{},watch:{},methods:{},created(){}},_hoisted_1$e=["innerHTML"];function _sfc_render$i(e,a,o,r,l,n){const i=resolveComponent("ue-title");return openBlock(),createBlock(VRadioGroup,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=s=>e.input=s),direction:"horizontal",class:"v-input-radio-group","hide-details":""},{default:withCtx(()=>[e.label?(openBlock(),createBlock(i,{key:0,text:e.label,color:"grey-darken-5",padding:"b-4",margin:"b-0",transform:"none"},null,8,["text"])):createCommentVNode("",!0),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(s,d)=>(openBlock(),createBlock(VCol,{key:`col-${s[o.itemValue]}`,cols:12,md:6},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-radio-group__btn",color:o.color,variant:e.input==s[o.itemValue]?"elevated":"outlined",disabled:e.$attrs.disabled??!1,readonly:e.protectInitialValue,onClick:c=>e.input=s[o.itemValue]},{prepend:withCtx(()=>[createVNode(VRadio,{value:s[o.itemValue],disabled:e.$attrs.disabled??!1},null,8,["value","disabled"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(s[o.itemTitle].toUpperCase()),1)]),_:2},1032,["color","variant","disabled","readonly","onClick"]),s[o.descriptionTitle]?(openBlock(),createElementBlock("div",{key:0,class:"text-caption pa-2",innerHTML:s[o.descriptionTitle]},null,8,_hoisted_1$e)):createCommentVNode("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}const RadioGroup=_export_sfc(_sfc_main$k,[["render",_sfc_render$i]]),__vite_glob_3_19=Object.freeze(Object.defineProperty({__proto__:null,default:RadioGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$j={name:"v-input-repeater",emits:[...makeInputEmits],components:{Draggable},props:{...makeDraggableProps(),...makeRepeaterProps(),noToolbar:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1}},setup(e,a){return{...useDraggable(e),...useRepeater(e,a)}},data(){return{isOpen:!0}},computed:{},methods:{},watch:{},created(){}},_hoisted_1$d={class:"w-100"},_hoisted_2$c={key:0,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_3$a={key:0,class:"d-flex"},_hoisted_4$9={class:"d-flex flex-column"},_hoisted_5$7={class:"mt-4"},_hoisted_6$7={key:1,class:normalizeClass(["v-input-repeater__block v-input-repeater__block--draggable"])},_hoisted_7$5={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_8$3={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_9$3={key:3,class:"v-input-repeater__bottom mb-12"},_hoisted_10$2={class:"d-flex"},_hoisted_11$2={class:"ml-auto"};function _sfc_render$h(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-recursive-stuff"),d=resolveComponent("v-custom-form-base"),c=resolveComponent("Draggable"),m=resolveComponent("ue-collapsible");return openBlock(),createBlock(VInput,{class:normalizeClass(["v-input-repeater",e.totalRepeats===0&&e.hideIfEmpty?"d-none":""])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_2$c,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:50,width:6})])):createCommentVNode("",!0),createVNode(m,{modelValue:l.isOpen,"onUpdate:modelValue":a[3]||(a[3]=p=>l.isOpen=p),"no-collapse":!o.collapsible,"no-header-background":"","horizontal-padding":0,"vertical-padding":0,class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":"")},createSlots({default:withCtx(()=>[createBaseVNode("div",_hoisted_5$7,[!e.noHeaders&&e.hasRepeaterModels?(openBlock(),createBlock(VRow,{key:0,class:"mb-4","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headers,p=>(openBlock(),createBlock(VCol,mergeProps({key:p.title,ref_for:!0},p.col),{default:withCtx(()=>[createTextVNode(toDisplayString(p.title),1)]),_:2},1040))),128))]),_:1})):createCommentVNode("",!0),e.draggable?(openBlock(),createElementBlock("div",_hoisted_6$7,[createVNode(c,mergeProps({class:"v-input-repeater__content",modelValue:e.repeaterModels,"onUpdate:modelValue":a[1]||(a[1]=p=>e.repeaterModels=p),"item-key":"id"},e.dragOptions),{item:withCtx(p=>[createBaseVNode("div",null,[createVNode(VHover,null,{default:withCtx(({isHovering:u,props:y})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",u?"active":"",e.draggable?"draggable":""]},y),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$5,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[0]||(a[0]=g=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:g=>e.duplicateRepeaterBlock(p.index),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:g=>e.deleteRepeaterBlock(p.index),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(d,{id:`ue-repeater-form-${p.index}`,modelValue:p.element,schema:e.repeaterSchemas[p.index],row:e.formRowAttribute,"onUpdate:schema":g=>e.onUpdateRepeaterSchema(g,p.index),"onUpdate:modelValue":g=>e.onUpdateRepeaterModel(g,p.index)},createSlots({_:2},[renderList(e.selectFieldSlots[p.index],(g,f)=>({name:`slot-inject-${g.name}-key-ue-repeater-form-${p.index}-${g.inputName}`,fn:withCtx(v=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.context.elements,(C,h)=>(openBlock(),createBlock(s,{key:h,configuration:C,bindData:v},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:schema","onUpdate:modelValue"])],2)],16)]),_:2},1024)])]),_:1},16,["modelValue"])])):(openBlock(),createBlock(VRow,mergeProps({key:2,class:"v-input-repeater__block"},e.rowAttribute),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.repeaterModels,(p,u)=>(openBlock(),createBlock(VCol,mergeProps({key:p.id,ref_for:!0},e.$lodash.pick(e.formCol,["cols","xs","sm","md","lg","xl"])),{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:g})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",y?"active":"",e.draggable?"draggable":""],ref_for:!0},g),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_8$3,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[2]||(a[2]=f=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:f=>e.duplicateRepeaterBlock(u),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:f=>e.deleteRepeaterBlock(u),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(d,{id:`ue-repeater-form-${u}`,class:"w-100 h-100",modelValue:p,schema:e.repeaterSchemas[u],row:e.formRowAttribute,"onUpdate:modelValue":f=>e.onUpdateRepeaterModel(f,u),"onUpdate:schema":f=>e.onUpdateRepeaterSchema(f,u)},createSlots({_:2},[renderList(e.selectFieldSlots[u],(f,v)=>({name:`slot-inject-${f.name}-key-ue-repeater-form-${u}-${f.inputName}`,fn:withCtx(C=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.context.elements,(h,b)=>(openBlock(),createBlock(s,{key:b,configuration:h,bindData:C},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:modelValue","onUpdate:schema"])],2)],16)]),_:2},1024)]),_:2},1040))),128))]),_:1},16)),!e.noAddButton||e.$slots.addButton||e.$slots.addButtonRight?(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",_hoisted_10$2,[renderSlot(e.$slots,"addButton",normalizeProps(guardReactiveProps({text:e.addButtonContent,addRepeaterBlock:e.addRepeaterBlock,isActive:e.addButtonIsActive})),()=>[!e.noAddButton&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"",disabled:!e.addButtonIsActive,onClick:e.addRepeaterBlock,appendIcon:"$add"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addButtonContent),1)]),_:1},8,["disabled","onClick"])):createCommentVNode("",!0)],!0),createBaseVNode("div",_hoisted_11$2,[renderSlot(e.$slots,"addButtonRight",normalizeProps(guardReactiveProps({})),void 0,!0)])])])):createCommentVNode("",!0)])]),_:2},[(e.label||e.subtitle||e.$slots.title||e.$slots.append)&&!(!e.noHeaders&&e.hasRepeaterModels)?{name:"title",fn:withCtx(()=>[(e.label||e.subtitle)&&(e.schema.length||Object.keys(e.schema).length)||e.$slots.append?(openBlock(),createElementBlock("div",_hoisted_3$a,[createBaseVNode("div",_hoisted_4$9,[e.label&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(i,{key:0,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label),1)]),_:1})):createCommentVNode("",!0),e.subtitle&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(i,{key:1,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.subtitle),1)]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"append",{},void 0,!0)])):createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["modelValue","no-collapse","class"])])]),_:3},8,["class"])}const Repeater=_export_sfc(_sfc_main$j,[["render",_sfc_render$h],["__scopeId","data-v-566f0edc"]]),__vite_glob_3_20=Object.freeze(Object.defineProperty({__proto__:null,default:Repeater},Symbol.toStringTag,{value:"Module"})),_sfc_main$i={name:"v-input-select-scroll",emits:[...makeInputEmits],props:{...makeInputProps(),...makeInputFetchProps(),rules:{type:Array,default:()=>[]},componentType:{type:String,default:"v-autocomplete"}},setup(e,a){const o=useInput(e,a),r=useInputFetch(e,{...a,input:o.input});return{...o,...r}},data(){return{noFilter:this.activeLastPage>0&&this.activeLastPage>=this.nextPage}},methods:{handleIntersect(e,a,o){e&&this.getItemsFromApi()},makeReference(e){return`${e}-${states.id}`}},computed:{},created(){this.getItemsFromApi()},watch:{}},_hoisted_1$c={key:0};function _sfc_render$g(e,a,o,r,l,n){return openBlock(),createBlock(resolveDynamicComponent(o.componentType),mergeProps(e.$bindAttributes(),{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=i=>e.input=i),class:["v-input-select-scroll"],items:e.elements,label:e.label,"onUpdate:search":e.searched,onInput:e.getItemsFromApi,multiple:e.multiple,"return-object":e.$attrs.returnObject??e.returnObject??!1,"item-value":e.itemValue,"item-title":e.itemTitle,loading:e.loading,readonly:e.$attrs.readonly||e.readonly||e.elements.length===0,"hide-no-data":e.loading,"no-filter":l.noFilter,rules:o.rules}),createSlots({"append-item":withCtx(()=>[e.activeLastPage>0&&e.activeLastPage>=e.nextPage?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$c,null,512)),[[Intersect,n.handleIntersect]]):createCommentVNode("",!0)]),_:2},[renderList(e.$slots,(i,s)=>({name:s,fn:withCtx(d=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(d)))])}))]),1040,["modelValue","items","label","onUpdate:search","onInput","multiple","return-object","item-value","item-title","loading","readonly","hide-no-data","no-filter","rules"])}const SelectScroll=_export_sfc(_sfc_main$i,[["render",_sfc_render$g]]),__vite_glob_3_21=Object.freeze(Object.defineProperty({__proto__:null,default:SelectScroll},Symbol.toStringTag,{value:"Module"})),_sfc_main$h={name:"v-select-tag",emits:[...makeInputEmits],props:{...makeInputProps(),endpoint:{type:String},selected:{type:Array}},setup(e,a){return{...useInput(e,a)}},data(){return{value:this.selected,elements:[],page:1,lastPage:-1,customElement:null,selectedItems:[]}},methods:{getItemsFromApi(e){return new Promise(()=>{this.$axios.get(this.fullUrl).then(a=>{if(this.lastPage<0&&(this.lastPage=a.data.resource.last_page),this.search==""?this.elements=this.elements.concat(a.data.resource.data??[]):this.elements=a.data.resource.data??[],this.page++,this.input){let o=!1,r=this;this.input&&this.input.length>0&&!r.elements.find(l=>l.id==this.input)&&(o=!0),o&&this.getItemsFromApi()}})})},makeReference(e){return`${e}-${states.id}`},handleUpdateModelValue(e){this.value=e,this.updateModelValue(e.toString()),document.getElementById("tags-form-input").value=e.toString(),this.$emit("change",e.toString())},handleSearch(e){if(!e)return;if(!e.trim()){if(this.customElement!==null&&!this.selectedItems.includes(this.customElement)){const l=this.elements.indexOf(this.customElement);l!==-1&&this.elements.splice(l,1),this.customElement=null}return}const a=Array.isArray(this.elements)?this.elements:Array.from(this.elements),o=e.toLowerCase();if(!a.some(l=>typeof l=="string"&&l.toLowerCase()===o)){if(this.customElement!==null){const l=this.elements.indexOf(this.customElement);l!==-1&&this.elements.splice(l,1,e)}else this.elements.push(e);this.customElement=e}}},computed:{input:{get(){return Array.isArray(this.value)&&this.value.length>0?typeof this.value[0]=="object"?this.value.map(e=>e.value):this.value:[]},set(e){this.handleUpdateModelValue(e)}},filteredElements(){return this.elements.filter(e=>!this.input.includes(e.id))},queryParameters(){return new URLSearchParams({page:this.page}).toString()},fullUrl(){return`${this.endpoint}?${this.queryParameters}`}},created(){this.getItemsFromApi()},watch:{selected:{handler(e){this.value=e||[]},immediate:!0}}};function _sfc_render$f(e,a,o,r,l,n){return openBlock(),createElementBlock("div",null,[createVNode(VAutocomplete,mergeProps(e.$bindAttributes(),{modelValue:n.input,"onUpdate:modelValue":[a[0]||(a[0]=i=>n.input=i),n.handleUpdateModelValue],variant:"outlined",clearable:"","closable-chips":"",chips:"","clear-on-select":"",label:e.label,items:n.filteredElements,multiple:"","onUpdate:search":n.handleSearch,onChange:n.input}),null,16,["modelValue","label","items","onUpdate:modelValue","onUpdate:search","onChange"]),createVNode(VTextField,{type:"hidden",hidden:"",name:"tags",id:"tags-form-input"})])}const SelectTag=_export_sfc(_sfc_main$h,[["render",_sfc_render$f]]),__vite_glob_3_22=Object.freeze(Object.defineProperty({__proto__:null,default:SelectTag},Symbol.toStringTag,{value:"Module"})),_hoisted_1$b={class:"meta-editor"},_hoisted_2$b=["height"],_hoisted_3$9={class:"px-2"},_hoisted_4$8={class:"px-2"},_hoisted_5$6={class:"px-2"},_hoisted_6$6={class:"px-2"},_sfc_main$g={__name:"Spread",props:{...makeInputProps(),reservedKeys:{type:[Object,Array,Proxy],default:()=>({})},scrollable:{type:Boolean,default:!1},height:{type:String,default:"300px"}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,l=useInput(o,{emit:a}),n=computed({get:()=>l.input.value,set:T=>{l.updateModelValue.value(T)}}),i=["string","number","boolean"],s=ref([]),d=ref({}),c=ref(!1),m=computed(()=>s.value.some(T=>T.keyError)),p=(T,A)=>{const V=s.value[A];return(Array.isArray(o.reservedKeys)?o.reservedKeys.includes(T):T in o.reservedKeys)?(V.keyError=!0,V.keyErrorMessage="This key is reserved",!1):(V.keyError=!1,V.keyErrorMessage="",!0)};onMounted(()=>{o.modelValue&&(d.value=lodash.cloneDeep(o.modelValue),y(o.modelValue))}),watch$1(()=>o.modelValue,T=>{(!d.value||Object.keys(d.value).length===0)&&(d.value=lodash.cloneDeep(T||{}),y(T||{}))},{deep:!0});const u=()=>{s.value=s.value.filter(T=>Array.isArray(o.reservedKeys)?!o.reservedKeys.includes(T.key):!(T.key in o.reservedKeys)),n.value=E(),S()},y=T=>{s.value=Object.entries(T||{}).map(([A,V])=>({key:A,tempKey:A,currentValue:V,initialValue:V,originalValue:V,currentType:g(V),initialType:g(V),originalType:g(V),saved:!0,valueBeforeTypeChange:V,keyError:!1,keyErrorMessage:""})),u(),S()},g=T=>typeof T=="boolean"?"boolean":typeof T=="number"?"number":"string",f=T=>{const A=s.value[T];A.saved=!1,S()},v=T=>{const A=s.value[T];A.tempKey!==A.key&&(A.key=A.tempKey,p(A.key,T),n.value=E())},C=T=>{const A=s.value[T];A.saved=!1,A.currentType==="number"?A.currentValue=Number(A.currentValue)||0:A.currentType==="boolean"&&typeof A.currentValue=="string"&&(A.currentValue=A.currentValue.toLowerCase()==="true"||A.currentValue==="1"),A.savedValues?A.savedValues[A.currentType]=A.currentValue:A.savedValues={[A.currentType]:A.currentValue};const V=E();n.value=V,S()},h=T=>{const A=s.value[T],k=(i.indexOf(A.currentType)+1)%i.length,N=i[k];A.currentType===A.originalType&&!A.valueBeforeTypeChange&&(A.valueBeforeTypeChange=A.currentValue),N===A.originalType?(A.currentType=A.originalType,A.currentValue=A.originalValue):(A.currentType=N,A.currentValue=b(A.originalValue,N,A.originalType,A.originalValue)),A.saved=!1,S(),n.value=E()},b=(T,A,V=null,k=null)=>{if(V&&A===V&&k!==null)return k;switch(A){case"number":return Number(T)||0;case"boolean":return typeof T=="string"?T.toLowerCase()==="true"||T==="1":typeof T=="number"?T!==0:!!T;case"string":return typeof T=="boolean"?T?"true":"false":String(T);default:return String(T)}},w=T=>{s.value.splice(T,1),S(),n.value=E()},B=()=>{const T=`key_${s.value.length+1}`;s.value.push({key:T,tempKey:T,currentValue:"",initialValue:"",currentType:"string",initialType:"string",originalType:"string",saved:!1,valueBeforeTypeChange:"",keyError:!1,keyErrorMessage:""}),S(),n.value=E()},S=()=>{const T=E();c.value=!lodash.isEqual(T,d.value)},E=()=>{const T={};return s.value.forEach(A=>{if(A.key&&A.currentValue!==void 0){let V=A.currentValue;switch(A.currentType){case"number":V=Number(A.currentValue)||0;break;case"boolean":typeof A.currentValue=="string"?V=A.currentValue.toLowerCase()==="true"||A.currentValue==="1":typeof A.currentValue=="number"?V=A.currentValue!==0:V=!!A.currentValue;break;case"string":V=String(A.currentValue);break}T[A.key]=V}}),T},I=()=>{const T=E();d.value=lodash.cloneDeep(T),s.value.forEach(A=>{A.initialValue=A.currentValue,A.initialType=A.currentType,A.valueBeforeTypeChange=A.currentValue,A.saved=!0}),n.value=T,c.value=!1},$=T=>{switch(T){case"number":return"primary";case"boolean":return"success";default:return"default"}};return(T,A)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode(VRow,{"no-gutters":"",class:"header-row py-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>A[0]||(A[0]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Key",-1)])),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>A[1]||(A[1]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Value",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>A[2]||(A[2]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Type",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>A[3]||(A[3]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Actions",-1)])),_:1})]),_:1}),createBaseVNode("div",{class:normalizeClass(["data-rows",["data-rows",{scrollable:e.scrollable}]]),height:e.height},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(V,k)=>(openBlock(),createBlock(VRow,{key:V.key+k,"no-gutters":"",class:"data-row py-1"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$9,[createVNode(VTextField,{modelValue:V.tempKey,"onUpdate:modelValue":N=>V.tempKey=N,onInput:N=>f(k),onBlur:N=>v(k),variant:"outlined",density:"compact","bg-color":"surface",error:V.keyError,"error-messages":V.keyErrorMessage,"hide-details":"auto",class:"meta-field"},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur","error","error-messages"])])]),_:2},1024),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$8,[V.currentType==="boolean"?(openBlock(),createBlock(VSelect,{key:0,modelValue:V.currentValue,"onUpdate:modelValue":N=>V.currentValue=N,items:[{text:"true",value:!0},{text:"false",value:!1}],"item-title":"text","item-value":"value",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:N=>C(k)},null,8,["modelValue","onUpdate:modelValue","onInput"])):(openBlock(),createBlock(VTextField,{key:1,modelValue:V.currentValue,"onUpdate:modelValue":N=>V.currentValue=N,type:V.currentType==="number"?"number":"text",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:N=>C(k)},null,8,["modelValue","onUpdate:modelValue","type","onInput"]))])]),_:2},1024),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$6,[createVNode(VBtn,{class:"type-toggle-btn",variant:"outlined",onClick:N=>h(k),color:$(V.currentType),density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(V.currentType.toUpperCase()),1)]),_:2},1032,["onClick","color"])])]),_:2},1024),createVNode(VCol,{cols:"2",class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$6,[createVNode(VBtn,{color:"error",variant:"text",onClick:N=>w(k),density:"compact",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>A[4]||(A[4]=[createTextVNode("mdi-trash-can-outline")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))],10,_hoisted_2$b),createVNode(VRow,{"no-gutters":"",class:"mt-4 px-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"auto",class:"mr-2"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:B},{default:withCtx(()=>A[5]||(A[5]=[createTextVNode(" Add row ")])),_:1})]),_:1}),createVNode(VCol,{cols:"auto"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",disabled:!c.value||m.value,onClick:I,"prepend-icon":"mdi-content-save"},{default:withCtx(()=>A[6]||(A[6]=[createTextVNode(" Save All ")])),_:1},8,["disabled"])]),_:1})]),_:1})]))}},__vite_glob_3_23=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$g},Symbol.toStringTag,{value:"Module"})),_sfc_main$f={name:"v-input-tag",emits:[...makeInputEmits],props:{...makeInputProps(),taggable:{type:String,default:null},items:{type:Array,default:[]},multiple:{type:Boolean,default:!1},endpoint:{type:String,required:null},updateEndpoint:{type:String,required:null},itemValue:{type:String,default:"value"},itemTitle:{type:String,default:"label"}},setup(e,a){const o=useStore(),r=ref(!1);o.state.form.taggableItems[e.taggable]||o.commit(FORM.SET_TAGGABLE_ITEMS,{taggable_type:e.taggable,items:e.items??[]});const l=computed(()=>o.state.form.taggableItems[e.taggable]);return{...useInput(e,a),loading:r,items:l}},methods:{async handleEnter(){const e=this.input;if(!Array.isArray(e)&&!(!e||this.items.includes(e))&&!(!e||this.items.find(a=>a[this.itemValue]===e||a[this.itemTitle]===e)))try{this.loading=!0;let a=this;api$1.put(this.updateEndpoint,{value:e,taggable:this.taggable},function(o){o.status===200&&a.$store.commit(FORM.ADD_TAGGABLE_ITEM,{taggable_type:a.taggable,item:{[a.itemValue]:o.data.id,[a.itemTitle]:e}})});return}catch(a){console.error("Error creating new item:",a)}finally{this.loading=!1}}}};function _sfc_render$e(e,a,o,r,l,n){return openBlock(),createBlock(VCombobox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=i=>e.input=i),items:r.items,loading:r.loading,"item-value":o.itemValue,"item-title":o.itemTitle,multiple:o.multiple,"onUpdatex:search":e.handleSearch,onKeydown:withKeys(n.handleEnter,["enter"]),class:"v-input-tag"},null,8,["modelValue","items","loading","item-value","item-title","multiple","onUpdatex:search","onKeydown"])}const Tag=_export_sfc(_sfc_main$f,[["render",_sfc_render$e]]),__vite_glob_3_24=Object.freeze(Object.defineProperty({__proto__:null,default:Tag},Symbol.toStringTag,{value:"Module"})),_sfc_main$e={name:"v-input-tagger",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),items:{type:Array},multiple:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},colors:{type:Array,default:()=>["green","purple","indigo","cyan","teal","orange"]},returnItemValue:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data:function(){return{editingItem:null,nonce:1,search:null,model:[]}},computed:{handleKey(){return this.returnItemValue?this.itemValue:this.itemTitle}},watch:{model(e,a){if(e.length===a.length)return;this.model=e.map(r=>(typeof r=="string"&&(r={[this.itemTitle]:r,[this.itemValue]:r,color:this.colors[this.nonce%this.colors.length]},this.items.push(r),this.nonce++),r));let o=this.model.map(r=>r[this.handleKey]);o!==this.input&&(this.input=o)}},methods:{edit(e){this.editingItem?this.editingItem=null:this.editingItem=e},filter(e,a,o){const r=d=>String(d??"").toLowerCase(),l=r(a),i=this.items.filter(d=>!this.model.includes(d)).some(d=>!d.header&&r(d[this.itemTitle]).includes(l));return o.raw.header?!i:r(o.raw[this.itemTitle]).includes(l)},removeSelection(e){this.model=[...this.model.slice(0,e),...this.model.slice(e+1)]}},mounted(){this.model=this.items.reduce((e,a)=>(a.header||this.input.includes(a[this.handleKey])&&e.push(a),e),[])},created(){}};function _sfc_render$d(e,a,o,r,l,n){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=i=>e.input=i),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-tagger"},{default:withCtx(i=>[createVNode(VCombobox,mergeProps(e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{label:e.label,"hide-selected":"",items:o.items,loading:o.loading,multiple:o.multiple,itemValue:o.itemValue,itemTitle:o.itemTitle,modelValue:e.model,"onUpdate:modelValue":a[3]||(a[3]=s=>e.model=s),search:e.search,"onUpdate:search":a[4]||(a[4]=s=>e.search=s),"custom-filter":n.filter}),{selection:withCtx(({item:s,index:d})=>[s===Object(s)?(openBlock(),createBlock(VChip,{key:0,color:`${s.raw.color}-lighten-3`,text:s.title,size:"small",variant:"flat",closable:"",label:"","onClick:close":c=>n.removeSelection(d)},null,8,["color","text","onClick:close"])):createCommentVNode("",!0)]),item:withCtx(({props:s,item:d})=>[d.raw.header&&e.search?(openBlock(),createBlock(VListItem,{key:0},{default:withCtx(()=>[a[6]||(a[6]=createBaseVNode("span",{class:"mr-3"},"Create",-1)),createVNode(VChip,{color:`${o.colors[e.nonce-1]}-lighten-3`,size:"small",variant:"flat",label:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.search),1)]),_:1},8,["color"])]),_:1})):d.raw.header?(openBlock(),createBlock(VListSubheader,{key:1,title:s.title},null,8,["title"])):(openBlock(),createBlock(VListItem,{key:2,onClick:s.onClick},{append:withCtx(()=>[createVNode(VBtn,{color:e.editingItem!==d.raw?"primary":"success",icon:e.editingItem!==d.raw?"mdi-pencil":"mdi-check",size:"small",variant:"text",onClick:withModifiers(c=>n.edit(d.raw),["stop","prevent"])},null,8,["color","icon","onClick"])]),default:withCtx(()=>[e.editingItem===d.raw?(openBlock(),createBlock(VTextField,{key:0,modelValue:e.editingItem[o.itemTitle],"onUpdate:modelValue":a[0]||(a[0]=c=>e.editingItem[o.itemTitle]=c),"bg-color":"transparent",class:"mr-3",density:"compact",variant:"plain",autofocus:"","hide-details":"",onClick:a[1]||(a[1]=withModifiers(()=>{},["stop"])),onKeydown:a[2]||(a[2]=withModifiers(()=>{},["stop"])),onKeyup:withKeys(c=>n.edit(d.raw),["enter"])},null,8,["modelValue","onKeyup"])):(openBlock(),createBlock(VChip,{key:1,color:`${d.raw.color}-lighten-3`,text:s.title,variant:"flat",label:""},null,8,["color","text"]))]),_:2},1032,["onClick"]))]),_:1},16,["label","items","loading","multiple","itemValue","itemTitle","modelValue","search","custom-filter"])]),_:1},8,["modelValue","variant"])}const Tagger=_export_sfc(_sfc_main$e,[["render",_sfc_render$d]]),__vite_glob_3_25=Object.freeze(Object.defineProperty({__proto__:null,default:Tagger},Symbol.toStringTag,{value:"Module"})),_sfc_main$d={name:"v-input-terms-checkbox",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),label:{type:String,default:"I agree to the terms and conditions"},terms:{type:String,default(){const{t:e}=useI18n();return e("authentication.terms-policy")}},conditions:{type:String,default(){const{t:e}=useI18n();return e("authentication.conditions-policy")}},trueValue:{type:[Boolean,String,Number],default:1},falseValue:{type:[Boolean,String,Number],default:0}},setup(e,a){const o=ref(!1);return{...useInput(e,{...a,initializeInput:r=>r===e.trueValue?e.trueValue:e.falseValue}),showDialog:o}},data:function(){return{showDialog:!1,isRead:!1,readType:null,count:0}},computed:{checkboxRules(){return[e=>this.count<2||!!e||"You must agree to continue!"]},modalContent(){return this.readType==="terms"?this.terms:this.conditions}},methods:{agreeAndClose(){this.isRead=!0,this.showDialog=!1,this.input=this.trueValue},handleReadTerms(e){this.isRead=!0,this.showDialog=!0,this.readType=e},handleCheckboxClick(){this.isRead?this.showDialog||(this.count++,this.input=this.input===this.trueValue?this.falseValue:this.trueValue):(this.readType??(this.readType="terms"),this.showDialog=!0,this.isRead=!0)}}},_hoisted_1$a={class:"text-grey-lighten-2"},_hoisted_2$a=["innerHTML"];function _sfc_render$c(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-modal");return openBlock(),createBlock(VCheckbox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=d=>e.input=d),hideDetails:"auto",variant:e.boundProps.variant,rules:n.checkboxRules,label:o.label,class:"v-input-terms-checkbox",onClick:withModifiers(n.handleCheckboxClick,["prevent"]),"true-value":o.trueValue,"false-value":o.falseValue},{label:withCtx(()=>[createBaseVNode("span",_hoisted_1$a,[createTextVNode(toDisplayString(e.$t("I agree with"))+" ",1),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:d})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},d,{onClick:a[0]||(a[0]=c=>n.handleReadTerms("terms"))}),toDisplayString(e.$t("Terms")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Terms")),1)]),_:1}),a[5]||(a[5]=createTextVNode(" "+toDisplayString(" and ")+" ")),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:d})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},d,{onClick:a[1]||(a[1]=c=>n.handleReadTerms("conditions"))}),toDisplayString(e.$t("Conditions")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Conditions")),1)]),_:1})])]),append:withCtx(()=>[createVNode(s,{modelValue:r.showDialog,"onUpdate:modelValue":a[3]||(a[3]=d=>r.showDialog=d),Xtitle:"Terms and Conditions","max-width":"600px","no-cancel-button":"","confirm-callback":n.agreeAndClose,"confirm-text":"I agree"},{activator:withCtx(({props:d})=>[(e.isRead,createCommentVNode("",!0))]),"body.description":withCtx(()=>[createVNode(i,{justify:"center",text:e.$t(`${e.readType}`),class:"mb-4"},null,8,["text"]),createVNode(VSheet,{class:"pa-4 overflow-y-auto","max-height":"400px"},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.modalContent},null,8,_hoisted_2$a)]),_:1})]),_:1},8,["modelValue","confirm-callback"])]),_:1},8,["modelValue","variant","rules","label","onClick","true-value","false-value"])}const TermsCheckbox=_export_sfc(_sfc_main$d,[["render",_sfc_render$c]]),__vite_glob_3_26=Object.freeze(Object.defineProperty({__proto__:null,default:TermsCheckbox},Symbol.toStringTag,{value:"Module"})),_sfc_main$c={components:{RowFormat},props:{bgColor:{type:String,default:"white"},color:{type:String,default:"success"},textColor:{type:String,default:""},title:{type:String,default:""},value:{type:String,default:""}},data(){return{}},computed:{_textColor(){return this.textColor!==""?this.textColor:this.color}}};function _sfc_render$b(e,a,o,r,l,n){const i=resolveComponent("RowFormat");return openBlock(),createBlock(VSheet,{class:"rounded-0"},{default:withCtx(()=>[createVNode(VAlert,{class:"rounded-0 v-callout",border:"start",color:o.bgColor,"border-color":o.color,elevation:"2"},{default:withCtx(()=>[createVNode(i,{elements:[{text:o.title,col:{cols:8,class:"d-flex align-center"}},{text:o.value,col:{cols:4},style:{"font-size":"1.5rem"}}],color:n._textColor},null,8,["elements","color"])]),_:1},8,["color","border-color"])]),_:1})}const Callout=_export_sfc(_sfc_main$c,[["render",_sfc_render$b]]),_sfc_main$b={components:{Callout},props:{title:{type:String}},data(){return{statuses:[["Pending Approval","999","warning"],["Unapproved","3","error"],["Approved","0","info"],["Published","5","success"]],details:[["Account Type","Pre-paid"],["Packages","10"],["Credits","$210"]]}}},_hoisted_1$9={class:"mt-1 mb-5 pb-6"},_hoisted_2$9={class:"font-weight-bold text-primary"},_hoisted_3$8={class:"text-grey"},_hoisted_4$7={class:"d-flex flex-lg-column flex-sm-column align-start align-lg-end justify-lg-center pl-10 pl-lg-0 pr-lg-10"};function _sfc_render$a(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("Callout"),d=resolveComponent("v-btn-tertiary"),c=resolveDirective("fit-grid");return openBlock(),createBlock(VRow,{class:"ue-board-information","no-gutters":""},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"9",lg:"8"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"12",class:""},{default:withCtx(()=>[createVNode(i,{"padding-reset":"",classes:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1})]),_:1}),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"7",lg:"6",md:"8",sm:"8",class:""},{default:withCtx(()=>[createVNode(VList,{class:"v-callout-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.statuses,([m,p,u],y)=>(openBlock(),createBlock(VListItem,{key:y},{default:withCtx(()=>[createVNode(s,{title:m,value:p,color:u},null,8,["title","value","color"])]),_:2},1024))),128))]),_:1})]),_:1})),[[c]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"5",lg:"6",md:"4",sm:"4"},{default:withCtx(()=>[createVNode(VList,{class:"v-details-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.details,([m,p],u)=>(openBlock(),createBlock(VListItem,{key:u,class:"pl-4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,[createBaseVNode("span",_hoisted_2$9,toDisplayString(m),1),a[0]||(a[0]=createBaseVNode("span",{class:"font-weight-bold text-primary"}," : ",-1)),createBaseVNode("span",_hoisted_3$8,toDisplayString(p),1)])]),_:2},1024))),128))]),_:1})]),_:1})),[[c]])]),_:1})]),_:1})),[[c]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"3",lg:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$7,[createVNode(d,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Package")),1)]),_:1}),createVNode(d,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Credit")),1)]),_:1})])]),_:1})),[[c]])]),_:1})}const BoardInformation=_export_sfc(_sfc_main$b,[["render",_sfc_render$a],["__scopeId","data-v-396c0094"]]),__vite_glob_0_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformation},Symbol.toStringTag,{value:"Module"})),_sfc_main$a={name:"ue-custom-package-selector",props:{modelValue:{type:Object,default:()=>({})},title:{type:String,required:!0},submitButtonText:{type:String,default:"Complete"},subtitle:{type:String,required:!0},summaryDescription:{type:String},filterTitle:{type:String,required:!0},schema:{type:Object,required:!0},filterSchema:{type:Object,required:!0},actionUrl:{type:String},redirectUrl:{type:String},calculatorUrl:{type:String}},data(){return{loading:!1,modalActive:!1,modalMessage:"",isCompleted:!1,model:{...getModel(this.schema,this.modelValue),...getModel(this.filterSchema,this.modelValue),...this.modelValue},dynamicSchema:this.schema,dynamicFilterSchema:this.filterSchema,mainModel:getModel(this.schema,this.modelValue),filterModel:getModel(this.filterSchema,this.modelValue),mainValid:!1,filterValid:!1}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},sendRequest(){if(!this.filterValid){this.$refs.filterForm.manualValidation=!0,this.$refs.filterForm.validate(),this.$refs.filterForm.manualValidation=!1;return}if(!this.mainValid){this.$refs.mainForm.manualValidation=!0,this.$refs.mainForm.validate(),this.$refs.mainForm.manualValidation=!1;return}let e={...this.filterModel,...this.mainModel};const a=e!=null&&e.id?"put":"post",o=this;api$1[a](this.actionUrl,e,function(r){o.loading=!1,r.data.variant==="success"&&(r.data.cached?o.$store.commit(ALERT$1.SET_ALERT,pick(r.data,["variant","message","location","timeout"])):o.modalActive=!0)},function(r){o.loading=!1,__log(r)})},async updateModelValue(e,a=null){if(a==="filter"){if(isEqual(this.filterModel,e))return;const o=Object.keys(e).reduce((l,n)=>(isEqual(this.filterModel[n],e[n])||(l[n]={old:this.filterModel[n],new:e[n]}),l),{}),r=this;await forEach(o,async(l,n)=>{var i,s;if(n==="location")this.dynamicSchema.pressReleasePackages.items=[];else if(n==="packageables"){let d=l.old,c=l.new,m=c.filter(h=>!d.includes(h)),p=d.filter(h=>!c.includes(h)),u=[],y=(i=this.dynamicFilterSchema.location.items.find(h=>h.id===this.filterModel.location))==null?void 0:i.filterEndpoint,g=this.dynamicSchema.pressReleasePackages.eagers??[];r.loading=!0,u=await Promise.all(map(m,async h=>(await axios.get(y.replace(":id",h),{params:{eagers:g}})).data));let f=(((s=this.dynamicSchema.pressReleasePackages)==null?void 0:s.items)??[]).filter(h=>p.includes(h.id)),v=cloneDeep(this.dynamicSchema.pressReleasePackages.items??[]),C=!1;u.length>0&&(u.forEach(h=>{v.find(b=>b.id===h.id)||v.push(h)}),C=!0),f.length>0&&(f.forEach(h=>{v.find(b=>b.id===h.id)&&(v=v.filter(b=>b.id!==h.id))}),C=!0),C&&(this.dynamicSchema.pressReleasePackages.items=orderBy(v,["id"],["asc"])),r.loading=!1}this.filterModel[n]=l.new})}else{if(isEqual(this.mainModel,e))return;let o={};const r=Object.keys(e).reduce((l,n)=>(isEqual(this.mainModel[n],e[n])||(l[n]={old:this.mainModel[n],new:e[n]},n==="pressReleasePackages"&&Object.keys(e[n]).forEach(i=>{e[n][i].packageLanguages.forEach(d=>{o[`${d}_content`]=[]})})),l),{});forEach(r,(l,n)=>{this.mainModel[n]=l.new}),Object.keys(o).forEach(l=>{__isset(this.mainModel.content[l])||(this.mainModel.content[l]=o[l])}),Object.keys(this.mainModel.content).forEach(l=>{l.match(/^(\d+)_content$/)&&(Object.keys(o).includes(l)||delete this.mainModel.content[l])})}},updateSchema(e,a=null){if(__log("updateSchema"),a==="filter"){if(isEqual(this.dynamicFilterSchema,e))return}else{if(isEqual(this.dynamicSchema,e))return;__log("updateSchema",{old:this.dynamicSchema,new:e})}},handleInput(e){}},computed:{payload(){return{...this.filterModel,...this.mainModel}},isValid(){return this.filterValid&&this.mainValid}},watch:{filterModel:{handler(e){},deep:!0},dynamicSchema:{handler(e){},deep:!0},dynamicFilterSchema:{handler(e){},deep:!0}},created(){}},_hoisted_1$8={class:"py-0"},_hoisted_2$8={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$7={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$6={class:"text-caption text-grey-lighten-1 mb-6"},_hoisted_5$5={class:"text-h4 mb-4 text-success"},_hoisted_6$5={class:"text-subtitle-1 grey--text"},_hoisted_7$4={class:"d-flex justify-center w-100"};function _sfc_render$9(e,a,o,r,l,n){const i=resolveComponent("ue-title"),s=resolveComponent("ue-form"),d=resolveComponent("v-sheet-rounded"),c=resolveComponent("ue-print-request"),m=resolveComponent("v-btn-secondary"),p=resolveComponent("ue-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VRow,{class:"h-100 pa-3"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",lg:"8",class:"d-flex","order-lg":"1",order:"2"},{default:withCtx(()=>[createVNode(d,{class:"h-100 w-100 pa-6",elevation:"2"},{default:withCtx(()=>[o.title?(openBlock(),createBlock(i,{key:0,text:o.title,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),o.subtitle?(openBlock(),createBlock(i,{key:1,text:o.subtitle,padding:"",class:"pt-1",transform:"none",weight:"regular",type:"caption"},null,8,["text"])):createCommentVNode("",!0),createVNode(s,{ref:"mainForm",schema:l.dynamicSchema,modelValue:l.mainModel,"onUpdate:modelValue":a[0]||(a[0]=u=>n.updateModelValue(u)),valid:l.mainValid,"onUpdate:valid":a[1]||(a[1]=u=>l.mainValid=u),"onUpdate:schema":a[2]||(a[2]=u=>n.updateSchema(u)),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["schema","modelValue","valid"])]),_:1})]),_:1}),createVNode(VCol,{cols:"12",lg:"4",class:"d-flex","order-lg":"2",order:"1"},{default:withCtx(()=>[createVNode(d,{class:"bg-primary-darken-2 h-100 w-100 d-flex flex-column fill-height pa-6",elevation:"2"},{default:withCtx(()=>[o.filterTitle?(openBlock(),createBlock(i,{key:0,text:o.filterTitle,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),createVNode(VDivider,{class:"my-3",style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),createVNode(s,{ref:"filterForm",modelValue:l.filterModel,"onUpdate:modelValue":a[3]||(a[3]=u=>n.updateModelValue(u,"filter")),schema:l.dynamicFilterSchema,"onUpdate:schema":a[4]||(a[4]=u=>n.updateSchema(u,"filter")),valid:l.filterValid,"onUpdate:valid":a[5]||(a[5]=u=>l.filterValid=u),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["modelValue","schema","valid"]),createVNode(VSpacer),createVNode(VDivider,{class:"my-3"}),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$8,[createBaseVNode("td",_hoisted_2$8,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$7,[renderSlot(e.$slots,"summary.final.total",{},()=>[o.calculatorUrl?(openBlock(),createBlock(c,{key:0,payload:n.payload,endpoint:o.calculatorUrl,"print-keys":{text:"total",subText:"vatText"},"loading-text":e.$t("Calculating...")},null,8,["payload","endpoint","loading-text"])):createCommentVNode("",!0)])])])])]),_:3}),createBaseVNode("div",_hoisted_4$6,[renderSlot(e.$slots,"summary.final.description",{},()=>[o.summaryDescription?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(o.summaryDescription),1)],64)):createCommentVNode("",!0)])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(m,{class:"v-stepper-form__nextButton",block:"",disabled:l.loading,loading:l.loading,onClick:n.sendRequest},{default:withCtx(()=>[createTextVNode(toDisplayString(o.submitButtonText),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:3})]),_:3})]),_:3}),createVNode(p,{ref:"modal",modelValue:l.modalActive,"onUpdate:modelValue":a[6]||(a[6]=u=>l.modalActive=u),"width-type":"md",description:l.modalMessage,persistent:""},{"body.description":withCtx(()=>[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>a[7]||(a[7]=[createTextVNode("mdi-check-circle-outline")])),_:1}),createBaseVNode("h2",_hoisted_5$5,toDisplayString(e.$t("Request Complete")),1),createBaseVNode("p",_hoisted_6$5,toDisplayString(e.$t("Congratulations! Your PR request is complete.")),1)]),"body.options":withCtx(()=>[createBaseVNode("div",_hoisted_7$4,[createVNode(VBtn,{variant:"flat",color:"success",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Go Back")),1)]),_:1},8,["onClick"])])]),_:1},8,["modelValue","description"])],64)}const PackageSelector=_export_sfc(_sfc_main$a,[["render",_sfc_render$9]]),__vite_glob_0_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:PackageSelector},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters}=makeFormatterProps(),_sfc_main$9={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters},setup(e,a){return{...useTableIterator(e,a)}},computed:{languageFiles(){__log(this.item.fileponds);let e=/content\.(\d+)_content/;return this.item.fileponds.filter(a=>a.role.match(e))},languageFileNames(){return this.languageFiles.map(e=>this.getFileName(e)).join(", ")},mediaFiles(){return this.item.fileponds.filter(e=>e.role.match(/press_release_image/))},mediaFileNames(){return this.mediaFiles.map(e=>this.getFileName(e)).join(", ")}},methods:{getFileName(e){const a=e.file_name.split("."),o=a.slice(0,a.length-1).join("."),r=a[a.length-1];return __shorten(o,10)+"."+r}},created(){}},_hoisted_1$7={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_2$7={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_3$6={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_4$5={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"};function _sfc_render$8(e,a,o,r,l,n){var c,m;const i=resolveComponent("ue-title"),s=resolveComponent("ue-dynamic-component-renderer"),d=resolveComponent("ue-configurable-card");return openBlock(),createElementBlock(Fragment,null,[createVNode(i,{type:"caption",text:e.item.id,weight:"regular",color:"grey-lighten-1",padding:"x-2",margin:"t-2"},null,8,["text"]),createVNode(i,{color:"primary",text:((m=(c=e.item)==null?void 0:c.content)==null?void 0:m.headline)||e.$t("Please update the headline"),padding:"x-2"},null,8,["text"]),createVNode(d,{title:e.item.name,style:{"background-color":"transparent"},elevation:"0","hide-separator":"","align-center-columns":"",items:[Object.entries(e.item.press_release_packages??e.item.pressReleasePackages??{}).reduce((p,[u,y])=>(p.push(y),p),[]),e.item.content.date||(e.item.content.estimated_scheduled_at?e.$d(e.item.content.estimated_scheduled_at,"numeric"):"N/A"),[e.item._price??"N/A"],[e.item._status??"Draft"]],actions:[{name:"edit",icon:"mdi-pencil",color:"primary"}]},{"segment.1":withCtx(p=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.data,u=>(openBlock(),createBlock(VRow,{key:`package-${u.id}`,"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.packageable.name),1)]),_:2},1024),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.name),1)]),_:2},1024)]),_:2},1024))),128))]),"segment.2":withCtx(p=>[createBaseVNode("div",_hoisted_1$7,toDisplayString(p.data),1)]),"segment.3":withCtx(p=>[createBaseVNode("div",_hoisted_2$7,[createVNode(s,{subject:e.item.state_formatted},null,8,["subject"])])]),"segment.4":withCtx(p=>[createBaseVNode("div",_hoisted_3$6,[createVNode(s,{subject:e.item.payment_status_formatted},null,8,["subject"])])]),"segment.actions":withCtx(p=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(u,y)=>(openBlock(),createElementBlock(Fragment,{key:y},[e.itemHasAction(e.item,u)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(u.label??e.$headline(u.name)),location:"top"},{activator:withCtx(({props:g})=>[createVNode(VBtn,mergeProps({ref_for:!0},g,{text:u.forceLabel?e.$t(u.label??e.$headline(u.name)):null,variant:u.variant??"elevated",density:u.density??(u.forceLabel?"comfortable":"compact"),size:u.size??(u.forceLabel,"default"),icon:u.forceLabel?null:u.icon?u.icon:"$"+u.name,color:u.color??"primary",rounded:u.forceLabel?null:!0,onClick:f=>e.itemAction(e.item,u)}),null,16,["text","variant","density","size","icon","color","rounded","onClick"])]),_:2},1032,["text"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1032,["title","items"])],64)}const PressReleaseCardIterator=_export_sfc(_sfc_main$9,[["render",_sfc_render$8]]),__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:PressReleaseCardIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$8={};function _sfc_render$7(e,a){return" How To Install Vue 3 in Laravel 10 with Vite - TechvBlogs "}const TestApp=_export_sfc(_sfc_main$8,[["render",_sfc_render$7]]),__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:TestApp},Symbol.toStringTag,{value:"Module"}));function assignBOMHElpers(){window.__log=console.log,window.__isString=e=>Object.prototype.toString.call(e)==="[object String]",window.__isBoolean=e=>typeof e=="boolean",window.__isNumber=e=>!isNaN(e),window.__isObject=e=>Object.prototype.toString.call(e)==="[object Object]",window.__isArray=e=>Array.isArray(e),window.__isset=(...e)=>{const a=e,o=a.length;let r=0,l;if(o===0)throw new Error("Empty isset");for(;r!==o;){if(a[r]===l||a[r]===null)return!1;r++}return!0},window.__issetReturn=(e,a)=>__isset(e)?e:a,window.__getMethods=e=>Object.getOwnPropertyNames(e).filter(a=>typeof e[a]=="function"),window.__globalizeMethods=e=>{Array.isArray(e)?e.forEach(function(a){__getMethods(a).forEach(function(o){window[o]=a[o]})}):__isObject(e)&&__getMethods(obj).forEach(function(a){window[a]=obj[a]})},window.__responseHandler=e=>__isset(e.data.errors)?{status:!1,text:errorHandler(e.data.errors)}:{status:!0,data:e.data.data},window.__errorHandler=e=>{let a="";return Object.keys(e).forEach((r,l)=>{a+=`
              <tr>
                  <td> <strong> ${capitalCase(r)} </strong> </td>
                  <td>
                      ${e[r].join("</br>")}
                  </td>
              </tr>
          `}),`
      <table>          <tbody>           ${a}          </tbody>       </table>`},window.__functionDefinition=e=>Function.prototype.toString.call(e),window.__convertArrayOrObject=(e,a=null)=>{if(__isObject(e)){const o={};return Object.keys(e).forEach(r=>{o[r]=__convertArrayOrObject(e[r],r)}),o}else if(Array.isArray(e)){const o=[];return e.forEach(r=>{o.push(__convertArrayOrObject(r))}),o}else if(typeof e=="function"){let o=__functionDefinition(e);return a&&(o=o.replace(a+"(","function (")),o}else return e instanceof RegExp?e.toString():e},window.__printDefinition=e=>JSON.stringify(__convertArrayOrObject(e)),window.__shorten=(e,a=40)=>e.length>a?e.substring(0,a)+"...":e,window.__preg_quote=(e,a="")=>(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&"),window.__extract=e=>{for(var a in e)window[a]=e[a]},window.__dot=(e,a="")=>Object.keys(e).reduce((o,r)=>{const l=a?`${a}.${r}`:r;return typeof e[r]=="object"&&e[r]!==null&&!Array.isArray(e[r])?Object.assign(o,__dot(e[r],l)):o[l]=e[r],o},{}),window.__reverseDot=e=>{const a={};for(const[o,r]of Object.entries(e)){const l=o.split(".");let n=a;for(let i=0;i<l.length;i++){const s=l[i];i===l.length-1?n[s]=r:(n[s]=n[s]||{},n=n[s])}}return a},window.__wildcard_change=(e,a,o="id")=>{let r=Array.isArray(a)?a.join(","):a;return e.replace(/^([\w\.]+)?(\*)([\w_\-\.\*]+)$/,`$1*${o}=${r}$3`)},window.__data_get=(e,a,o)=>{if(!e||typeof a!="string")return o;const r=tokenizePath(a);let l=e;for(const n in r){let i=r[n];if(l==null)return o;if(typeof l=="object"){let s,d=i?i.match(/^\*(.*)/):!1;if(d){let c;if(d[1]&&(c=d[1].match(/^(\w+)\=([\w\d\,]+)/))){let m=c[1],p=c[2].split(",");l=lodash.filter(l,u=>p.includes(lodash.isNumber(u[m])?u[m].toString():u[m]))}if(Array.isArray(l)){let m=parseInt(n);return l.map(p=>__data_get(p,r.slice(m+1).join("."),o))}else return Object.assign({},l)}else if(i.indexOf("[")!==-1){const c=extractKeyFromBracket(i);if(c!==void 0)l=l[c];else return o}else s=l[i];if(s)l=s;else if(l=lodash.get(l,r.slice(n).join(".")),l)break}else return o}return l},window.__cast_value_match=(e,a)=>{let o,r=e;if(__isString(e)&&(o=e.match(/\$([\w\.\*]+)/))){let l=o[1],n=__preg_quote(o[0]),i=l.split("."),s=[];for(const c in i){let m=i[c];m==="*"?a.id:s.push(m)}l=s.join(".");let d=__data_get(a,l);if(d){let c;if(Array.isArray(d)&&d.length>0)c=d.join(",");else if(__isString(d)){c=d;let m=snakeCase$1(c);this.$te(`modules.${m}`)&&(c=this.$t(`modules.${m}`))}else __isNumber(d)&&(c=d.toString());if(c){let m="\\w\\s"+__preg_quote(".,;?|:_"),p=new RegExp(String.raw`^([${m}]+)?(${n})([${m}]+)?$`);e.match(p)?r=e.replace(p,"$1"+c+"$3"):__log("Not matched sentence",p,e,e.match(p))}}}return r},window.__snakeToHeadline=e=>e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "),window.__headline=e=>(e=snakeCase$1(e),e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")),window.__extractForeignKey=e=>{if(typeof e!="string")throw new TypeError("modelName must be a string");let a=lodash.snakeCase(e);return`${pluralize.isPlural(a)?pluralize.singular(a):a}_id`},window.__snakeNameFromForeignKey=e=>{let a=e.match(/(.*)(_id)/);return a?snakeCase$1(a[1]):!1},window.__nameFromForeignKey=e=>(e=__snakeNameFromForeignKey(e),e||__snakeToHeadline(e)),window.__moduleName=e=>{let a=e.match("/(.*)(_id)/");return a?__snakeNameFromForeignKey(a[1]):snakeCase$1(e)},window.__moduleTranslationName=e=>{const{t:a,te:o}=useI18n({useScope:"global"});let r=!1,l=e,n=__snakeNameFromForeignKey(l);return n&&(l=n,e=n),pluralize.isPlural(l)&&(r=!0,l=pluralize.singular(l)),l=snakeCase$1(l),e=snakeCase$1(e),o(`modules.${l}`)?a(`modules.${l}`,r?1:0):__snakeToHeadline(e)},window.__removeQueryParams=e=>{const a=new URL(window.location.href);let o={};for(const[n,i]of a.searchParams.entries())o[n]=i;e.forEach(n=>{delete o[n]}),Object.keys(o).forEach(n=>(o[n]===void 0||o[n]===null)&&delete o[n]);const r=new URLSearchParams;Object.keys(o).forEach(n=>{r.append(n,o[n])});const l=a.origin+a.pathname+(r.toString()?"?"+r.toString():"");window.history.replaceState({},"",l)},window.__pluralize=e=>pluralize.plural(e),window.__pushQueryParams=e=>{const a=new URL(window.location),o=a.searchParams;Object.entries(e).forEach(([r,l])=>{o.set(r,l)}),window.history.pushState({},"",a)},window.__formatCurrencyPrice=(e,a,o="en")=>{if(typeof e!="number"||isNaN(e))throw new Error("Amount must be a valid number");const r=new Intl.NumberFormat(o,{minimumFractionDigits:2,maximumFractionDigits:2});return`${a}${r.format(e)}`},window.__addParametersToUrl=(e,a)=>{const o=new URL(e),r=o.searchParams;return Object.entries(a).forEach(([l,n])=>{r.set(l,n)}),o.toString()},window.__removeParametersFromUrl=(e,a)=>{const o=new URL(e),r=o.searchParams;return Object.entries(a).forEach(([l,n])=>{r.delete(l)}),o.toString()}}function tokenizePath(e){const a=[];let o="",r=!1,l=!1;for(let n=0;n<e.length;n++){const i=e[n];if(l)o+=i,l=!1;else if(i==="\\")l=!0;else if(i==="[")o&&(a.push(o),o=""),r=!0,o+=i;else if(i==="]"){if(!r)throw new Error("Mismatched brackets in path");o+=i,a.push(extractBracketContent(o)),o="",r=!1}else i==="."&&!r?o&&(a.push(o),o=""):o+=i}return o&&a.push(o),a}function extractBracketContent(e){const a=e.slice(1,-1).trim();return/^\d+$/.test(a),a}function extractKeyFromBracket(e){const a=e.match(/\[([^\]]*)\]/);return a?a[1]:void 0}function assignObjectHelpers(){Object.equals||(Object.equals=function(e,a){for(const o in e){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1}for(const o in a){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1;if(e.hasOwnProperty(o)){if(e[o]instanceof Array&&a[o]instanceof Array){if(!Array.equals(e[o],a[o]))return!1}else if(e[o]instanceof Object&&a[o]instanceof Object){if(!Object.equals(e[o],a[o]))return!1}else if(e[o]!=a[o])return!1}}return!0})}function assignArrayHelpers(){Array.equals||(Array.equals=function(e,a){if(!a||e.length!=a.length)return!1;for(let o=0,r=e.length;o<r;o++)if(e[o]instanceof Array&&a[o]instanceof Array){if(!e[o].equals(a[o]))return!1}else if(e[o]!=a[o])return!1;return!0})}function init(){assignBOMHElpers(),assignObjectHelpers(),assignArrayHelpers(),window.axios=axios$1,window.$=jquery,window._=lodash,window.$moment=hooks;const e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};window.axios.defaults.headers.common=e,axios$1.defaults.headers.common=e,window.axios.defaults.headers.post={"Content-Type":"application/json"};const a=o=>o>=200&&o<300||o===422||o===401||o===419;axios$1.defaults.validateStatus=a,window.axios.defaults.validateStatus=a,axios$1.interceptors.request.use(function(o){return store.commit(CONFIG.INCREASE_AXIOS_REQUEST),o},function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),Promise.reject(o)}),axios$1.interceptors.response.use(function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),o.status===401&&o.data.message==="Unauthenticated."&&store.commit(USER.OPEN_LOGIN_MODAL),o.status===419||o.data.message,handleSuccessResponse(o),o},function(o){var r;return handleErrorResponse(o),store.commit(CONFIG.DECREASE_AXIOS_REQUEST),(r=o.response)==null||r.status,Promise.reject(o)})}function setup(){init(),window.__globalizeMethods([changeCase])}const UECompose=function(){setup()},typeToComponent={text:"v-text-field",password:"v-text-field",email:"v-text-field",tel:"v-text-field",url:"v-text-field",search:"v-text-field",number:"v-text-field",date:"v-date-picker",time:"v-time-picker",color:"v-color-picker",img:"v-img",textarea:"v-textarea",range:"v-slider",file:"v-file-input",switch:"v-switch",checkbox:"v-checkbox",card:"v-card",hidden:"input"},orderDirection="ASC",pathDelimiter=".",classKeyDelimiter="-",defaultID="form-base",isPicker="date|time|color",mouse="mouseenter|mouseleave",change="input|click",watch="focus|input|click|blur",display="resize|swipe|intersect",topAppendix="top",bottomAppendix="bottom",slotAppendix="slot",tooltipAppendix="tooltip",injectAppendix="inject",itemClassAppendix="item",typeClassAppendix="type",keyClassAppendix="key",arrayClassAppendix="array",propertyClassAppendix="prop",injectSlotAppendix=`${slotAppendix}-${injectAppendix}`,topSlotAppendix=`${slotAppendix}-${topAppendix}`,itemSlotAppendix=`${slotAppendix}-${itemClassAppendix}`,bottomSlotAppendix=`${slotAppendix}-${bottomAppendix}`,tooltipSlotAppendix=`${slotAppendix}-${tooltipAppendix}`,clear="clear",button="button",treeview="treeview",list="list",focus="focus",blur="blur",append="append",appendInner="append-inner",prepend="prepend",prependInner="prepend-inner",hour="hour",minute="minute",second="second",dropEffect="move",rowDefault={noGutters:!1},rowGroupDefault={noGutters:!1,class:"my-2"},colDefault={cols:"auto"},defaultSchemaIfValueIsNullOrUndefined=e=>({type:"text",label:e}),defaultSchemaIfValueIsString=e=>({type:"text",label:e}),defaultSchemaIfValueIsNumber=e=>({type:"number",label:e}),defaultSchemaIfValueIsBoolean=e=>({type:"checkbox",label:e}),defaultPickerSchemaText={type:"text",readonly:!0},defaultPickerSchemaMenu={closeOnContentClick:!1,transition:"scale-transition",nudgeRight:32,maxWidth:"290px",minWidth:"290px"},defaultInternGroupType="v-card",emits=["update:modelValue","update:schema","input","update","resize","blur","click"],_sfc_main$7={setup(){return{vueInstance:getCurrentInstance().appContext}},name:"VFormBase",emits,props:{id:{type:String,default:defaultID},rootId:{type:String,default:defaultID},row:{type:[Object]},rowGroup:{type:[Object]},col:{type:[Object,Number,String]},colGroup:{type:[Object,Number,String]},flex:{type:[Object,Number,String]},modelValue:{type:[Object,Array],default:()=>null},model:{type:[Object,Array]},schema:{type:[Object,Array],default:()=>({})},formItem:{type:Object,default:()=>({})},noAutoGenerateSchema:{type:Boolean,default:!1}},data(){return{flatCombinedArray:[],clear,button,treeview,list,focus,blur,append,appendInner,prepend,prependInner,hour,minute,second}},computed:{valueIntern(){const e=this.model||this.modelValue;return this.updateArrayFromState(e,this.formSchema),e},parent(){let e=this;if(e.$parent&&e.$parent.$parent)for(;e.id.startsWith(e.$parent.$parent.id+"-");)e=e.$parent.$parent;return e},index(){const e=this.id&&this.id.match(/\d+/g);return e?e.map(Number):null},getRow(){return this.row||rowDefault},flatCombinedArraySorted(){return orderBy(this.flatCombinedArray,["schema.sort"],[orderDirection])},storeStateData(){return this.updateArrayFromState(this.valueIntern,this.formSchema),this.valueIntern},storeStateSchema(){return this.updateArrayFromState(this.valueIntern,this.formSchema),formEvents.setSchemaInputField(this.formSchema,this.valueIntern),this.formSchema},formSchema:{get(){return this.schema},set(e){this.$emit("update:schema",e),this.schema.value=e}}},watch:{schema:{handler(e,a){},deep:!0},modelValue:{handler(e,a){JSON.stringify(Object.keys(__dot(e)))!==JSON.stringify(Object.keys(__dot(a)))&&this.rebuildArrays(this.valueIntern,this.formSchema)},deep:!0}},methods:{mapTypeToComponent(e){const a={...typeToComponent,...this.vueInstance.components};return a[e]?a[e]:`v-${e}`},isDateTimeColorTypeAndExtensionText(e){return isPicker.includes(e.schema.type)&&e.schema.ext==="text"},isDateTimeColorExtension(e){return isPicker.includes(e.schema.ext)},bindOptions(e){return isString(e)?{value:e,label:e}:e},bindSchemaText(e){return{...defaultPickerSchemaText,...e.schema.text}},bindSchemaMenu(e){return{...defaultPickerSchemaMenu,...e.schema.menu}},bindSchema(e){return Object.prototype.hasOwnProperty.call(e.schema,"falseValue")&&e.schema.falseValue==0&&(e.schema.falseValue="0"),omit(e.schema,["type","col","order","offset","ext","event"])},suspendClickAppend(e){return/(select|combobox|autocomplete)/.test(e.schema.type)?"":"click:append"},searchInputSync(e){return typeof e.schema.searchInput<"u"?"search-input":""},checkExtensionType(e){let a;return["number","range","date","time","color"].includes(e.schema.ext)&&(a=e.schema.ext),a||e.schema.type},checkInternType(e){return e.schema.typeInt||e.schema.type},checkInternGroupType(e){const a=e.schema.typeInt||defaultInternGroupType;return a.startsWith("v-")||a.startsWith("ue-")?a:`v-${a}`},getKeyForArray(e,a,o,r){const l=a.schema.key;return l?Array.isArray(l)?l.map(n=>o[n]).join("_"):o[l]:isNaN(r)?r:`${e}-${a.key}-${r}`},getImageSource(e){return e.schema.src?e.schema.src:`${e.schema.base}${e.value}${e.schema.tail}`},getIconValue(e){return e.schema.label?e.schema.label:this.setValue(e)},getShorthandTooltip(e){return isString(e)?{location:"top",text:e}:e},getShorthandTooltipLabel(e){return isString(e)?e:e&&e.label},getFormTopSlot(){return`${topSlotAppendix}-${this.id}`},getFormBottomSlot(){return`${bottomSlotAppendix}-${this.id}`},getKeyInjectSlot(e,a){return this.getKeyClassNameWithAppendix(e,`${injectSlotAppendix}-${a}-${keyClassAppendix}`)},getKeyTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${keyClassAppendix}`)},getKeyItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${keyClassAppendix}`)},getKeyBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${keyClassAppendix}`)},getKeyTooltipSlot(e){return this.getKeyClassNameWithAppendix(e,`${tooltipSlotAppendix}-${keyClassAppendix}`)},getTooltipSlot(e){return`${tooltipSlotAppendix}`},getArrayTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${arrayClassAppendix}`)},getArrayItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${arrayClassAppendix}`)},getArrayBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${arrayClassAppendix}`)},getTypeTopSlot(e){return this.getTypeClassNameWithAppendix(e,`${topSlotAppendix}-${typeClassAppendix}`)},getTypeItemSlot(e){return this.getTypeClassNameWithAppendix(e,`${itemSlotAppendix}-${typeClassAppendix}`)},getTypeBottomSlot(e){return this.getTypeClassNameWithAppendix(e,`${bottomSlotAppendix}-${typeClassAppendix}`)},getPropertyClassNameWithAppendix(e,a){return e.key?e.key.split(pathDelimiter).map(o=>`${a?a+classKeyDelimiter:""}${o}`).join(" "):""},getPropertyClassName(e){return this.getPropertyClassNameWithAppendix(e,propertyClassAppendix)},getKeyClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.key.replace(/\./g,"-")}`},getKeyClassName(e){return this.getKeyClassNameWithAppendix(e,keyClassAppendix)},getTypeClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.schema.type}`},getTypeClassName(e){return this.getTypeClassNameWithAppendix(e,typeClassAppendix)},getClassName(e){return`${itemClassAppendix} ${this.getTypeClassName(e)} ${this.getKeyClassName(e)} ${this.getPropertyClassName(e)}`},gridMapper(e,a){e&&["sm","md","lg","xl"].map(o=>{e[o]&&(e[a+o]=e[o],delete e[o])})},gridReplaceXS(e,a){e&&e.xs&&(e[a]=e.xs,delete e.xs)},getGridAttributes(e){const a=e.schema.col||e.schema.flex,o=this.col||this.flex||colDefault,r=a?isPlainObject(a)?a:isNumber(a)||isString(a)?{cols:a}:{cols:"auto"}:o?isPlainObject(o)?o:isNumber(o)||isString(o)?{cols:o}:{cols:"auto"}:{cols:"auto"};this.gridReplaceXS(r,"cols");const l=e.schema.offset,n=l&&(isPlainObject(l)?l:{offset:l});this.gridMapper(n,"offset-"),this.gridReplaceXS(n,"offset");const i=e.schema.order,s=i&&(isPlainObject(i)?i:{order:i});return this.gridMapper(s,"order-"),this.gridReplaceXS(s,"order"),{...r,...n,...s}},getRowGroupOrArray(e){return e.schema.rowGroup||this.rowGroup||rowGroupDefault},getColGroupOrArray(e){return e.schema.col||this.col||colDefault},getInjectedScopedSlots(e,a){const o=new RegExp(`${injectSlotAppendix}-(.*?)-${keyClassAppendix}`);return Object.keys(this.$slots).filter(r=>r.includes(`${e}${classKeyDelimiter}${a.key.replace(/\./g,"-")}`)&&r.includes(injectSlotAppendix)).map(r=>r.match(o)[1])},toCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.toCtrl)?e.obj.schema.toCtrl(e):e.value},fromCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.fromCtrl)?e.obj.schema.fromCtrl(e):e.value},dropCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.drop)?e.obj.schema.drop(e):e.value},dragstart(e,a){if(!a.schema.drag)return;e.dataTransfer.dropEffect=dropEffect,e.dataTransfer.effectAllowed=dropEffect;const o=this.onEvent(e,a);e.dataTransfer.setData("text",JSON.stringify(o))},dragover(e,a){return a.schema.drop?e.preventDefault():null},drop(e,a){if(!a.schema.drop||(a.dragEvent=JSON.parse(e.dataTransfer.getData("text")),a.key===a.dragEvent.obj.key&&a.id===a.dragEvent.id))return e.preventDefault();isFunction(a.schema.drop)&&(a.value=this.dropValue(a,e)),this.onEvent(e,a),e.preventDefault()},dropValue(e,a){return this.dropCtrl({value:e.dragEvent.value,obj:e,event:a,data:this.storeStateData,schema:this.storeStateSchema})},setValue(e,a){return e.schema.type==="wrap"?this.toCtrl({value:this.storeStateData,obj:e,data:this.storeStateData,schema:this.storeStateSchema}):this.toCtrl({value:e.value,obj:e,data:this.storeStateData,schema:this.storeStateSchema})},onInput(e,a,o="input"){e=this.fromCtrl({value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema}),e=!e||e===""?null:e,e=a.schema.type==="number"?Number(e):e,this.setObjectByPath(this.storeStateData,a.key,e),a.value=a.value!==e?e:a.value;let r=a.key;formEvents.onInputEventFormData(a,this.formSchema,this.storeStateData,this.flatCombinedArraySorted,this.valueIntern);const l={on:o,id:this.id,index:this.index,params:{index:this.index,lastValue:a.value},key:r,value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema,parent:this.parent};return this.emitValue(o,l),l},onInputWrapper(e,a){a.schema.type=="wrap"&&`${a.key}${e.key}`,this.emitValue("input",e)},onEvent(e={},a,o){const r=e&&e.srcElement&&e.srcElement.innerText,l=a.schema.model,n=a.schema.open,i=this.index,s=e.type!=="dragstart"?this.parent:void 0,d={on:e.type,id:this.id,index:i,params:{text:r,tag:o,model:l,open:n,index:i},key:a.key,value:a.value,obj:a,event:e,data:this.storeStateData,schema:this.storeStateSchema,parent:s};return delay(()=>{this.emitValue(e.type,d)}),d},onClickOutside(e,a){if(!(!a.schema||!a.schema.clickOutside)){if(isFunction(a.schema.clickOutside))return a.schema.clickOutside(a,e);this.emitValue("clickOutside",{on:"clickOutside",id:this.id,key:a.key,value:a.value,obj:a,params:{x:e.clientX,y:e.clientY},event:e,data:this.storeStateData,schema:this.storeStateSchema})}},onIntersect(e,a,o,r){const l=this.index;this.emitValue("intersect",{on:"intersect",id:this.id,index:l,key:r.key,value:r.value,obj:r,params:{isIntersecting:e,entries:a,observer:o},data:this.storeStateData,schema:this.storeStateSchema})},onSwipe(e,a){this.emitValue("swipe",{on:"swipe",id:this.id,key:a.key,value:a.value,obj:a,params:{tag:e},data:this.storeStateData,schema:this.storeStateSchema})},onResize(e){this.emitValue("resize",{on:"resize",id:this.id,params:{x:window.innerWidth,y:window.innerHeight},event:e,data:this.storeStateData,schema:this.storeStateSchema})},emitValue(e,a){const o=change.includes(e)?"onChange":watch.includes(e)?"onWatch":mouse.includes(e)?"onMouse":display.includes(e)?"onDisplay":e;(e==="onInput"||o==="onChange")&&this.$emit("update:modelValue",this.storeStateData),emits.includes(e)&&this.$emit(`${e}`,a)},deprecateEventCustomID(e){console.warn(`--- DEPRECATION ${e}:${this.id}: ----------------------------------------------------------------------------`),console.warn(`<v-form-base  @${e}:${this.id}="handler" /> is deprecated use simplified version <v-form-base  @${e}="handler" />`),console.warn("---------------------------------------------------------------------------------------------")},deprecateCombinedEvents(e,a){e!==a&&(console.warn("--- DEPRECATION Combined Listener:  --------------------------------------------------------------------------"),console.warn(`Combined Event-Listener '${e}' have been removed for better comprehensibility and simplification`),console.warn('Please use separate listener for each event like <v-form-base  @focus="handler" @input="handler" @blur="handler"/>'),console.warn("---------------------------------------------------------------------------------------------"))},setObjectByPath(e,a,o){const r=a.split(pathDelimiter);r.forEach((l,n)=>{n===r.length-1&&(e[l]=o),e=e[l]})},updateArrayFromState(e,a){this.flatCombinedArray.forEach(o=>{o.value=get(a,[o.key,"type"])==="select"?get(e,o.key,null)||get(a,[o.key,"default"],null):get(e,o.key,null),o.schema=get(a,o.key,null)})},sanitizeShorthandType(e,a){return isString(a)?{type:a,label:e}:a},flattenObjects(e={},a){const o={},r={};return Object.keys(a).forEach(l=>{a[l]=this.sanitizeShorthandType(l,a[l]);const n=Array.isArray(e[l])&&Array.isArray(a[l]),i=isPlainObject(e[l])&&!a[l].type,s=e[l]&&e[l].type&&a[l]&&a[l].type,d=!(e[l]instanceof File);if(n||i||s&&d){const{data:c,schema:m}=this.flattenObjects(e[l],a[l]);Object.keys(c).forEach(p=>{o[l+pathDelimiter+p]=c[p],r[l+pathDelimiter+p]=m[p]})}else o[l]=e[l],r[l]=a[l]}),{data:o,schema:r}},combineObjectsToArray({data:e,schema:a}){const o=[];return Object.keys(a).forEach(r=>{if(!isPlainObject(a[r])){console.warn(`Schema '${JSON.stringify(a)}' of Prop '${r}' must be a string with value of type key:'text' or a plainobject with at least key:{ type:'text'} definition.  Prop '${r}' will be ignored!`);return}o.push({key:r,value:e[r],schema:a[r]})}),o},flattenAndCombineToArray(e,a){const o=this.flattenObjects(e,a);return this.combineObjectsToArray(o)},autogenerateSchema(e){let a=JSON.stringify(e,(o,r)=>r===void 0?null:r);a=JSON.parse(a,(o,r)=>r==null?defaultSchemaIfValueIsNullOrUndefined(o):typeof r=="string"?defaultSchemaIfValueIsString(o):typeof r=="number"?defaultSchemaIfValueIsNumber(o):typeof r=="boolean"?defaultSchemaIfValueIsBoolean(o):r),Object.keys(a).forEach(o=>this.formSchema[o]=a[o])},tryAutogenerateModelStructure(e,a){Object.keys(a).forEach(o=>{if(!isEmpty(e[o]))return;const r=a[o];r.type==="group"?(e[o]={},this.tryAutogenerateModelStructure(e[o],r.schema)):r.type==="array"?(e[o]={},this.tryAutogenerateModelStructure(e[o],r.schema)):r.type==="list"?e[o]={}:isPlainObject(r)&&!r.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],r)),Array.isArray(r)&&!r.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],r))})},rebuildArrays(e,a){if(!e)throw`Property 'model' is null or undefined. Use '<v-form-base :model="myModel" :schema="mySchema" />'. myModel must be at least an empty Object.`;isEmpty(a)&&isEmpty(e)&&console.warn("At least one of the properties 'model' or 'schema' in <v-form-base /> must be at least an empty Object. Ignore this Warning on async loading 'model' or 'schema' "),this.tryAutogenerateModelStructure(e,a),isEmpty(a)&&!this.noAutoGenerateSchema&&this.autogenerateSchema(e),this.flatCombinedArray=this.flattenAndCombineToArray(this.storeStateData,this.storeStateSchema)},setCascadeSelect(e){var a;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const o=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,r=e.schema.cascadeKey??"items",l=e.schema.itemValue??"id";this.formSchema[o][r]=((a=find(e.schema[r],[l,this.valueIntern[e.key]]))==null?void 0:a.schema)??[];const n=findIndex(this.flatCombinedArraySorted,["key",o]);this.storeStateData[o]=this.formSchema[o][r].length>0?this.formSchema[o][r][0].value:[],this.flatCombinedArraySorted[n].value=this.valueIntern[o],this.setCascadeSelect(this.flatCombinedArraySorted[n])}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")&&e.schema.autofill.forEach(o=>{var r;this.formSchema[o].autofillable&&(this.storeStateData[o]=((r=find(e.schema.items,["id",this.valueIntern[e.key]]))==null?void 0:r[o])??"")})},updateInput(e,a){var o;if(Array.isArray(e)){const r=cloneDeep(this.formSchema);let l=!1;e.forEach(n=>{var i;n.key&&(n.value!==null||n.value!==void 0)&&((i=this.formSchema)!=null&&i[a.key])&&(r[a.key][n.key]=n.value,l=!0)}),l&&(this.formSchema=r)}else if(e.key&&e.value&&((o=this.formSchema)!=null&&o[a.key])){const r=cloneDeep(this.formSchema);r[a.key][e.key]=e.value,this.formSchema=r}}},created(){this.rebuildArrays(this.valueIntern,this.formSchema)}},_hoisted_1$6=["modelValue"],_hoisted_2$6={key:0,class:"mb-3"},_hoisted_3$5=["innerHTML"];function _sfc_render$6(e,a,o,r,l,n){const i=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-dynamic-component-renderer"),d=resolveComponent("ue-title"),c=resolveComponent("v-custom-form-base"),m=resolveComponent("v-input-locale"),p=resolveDirective("mask");return withDirectives((openBlock(),createBlock(VRow,mergeProps({id:o.id},n.getRow),{default:withCtx(()=>[renderSlot(e.$slots,n.getFormTopSlot(),{id:o.id}),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.flatCombinedArraySorted,(u,y)=>(openBlock(),createBlock(VTooltip,mergeProps({key:y,disabled:!u.schema.tooltip,ref_for:!0},n.getShorthandTooltip(u.schema.tooltip)),{activator:withCtx(({props:g})=>[withDirectives((openBlock(),createBlock(VCol,mergeProps({key:y,ref_for:!0},{...n.getGridAttributes(u),...g},{class:n.getClassName(u),draggable:u.schema.drag,onMouseenter:f=>n.onEvent(f,u),onMouseleave:f=>n.onEvent(f,u),onDragstart:f=>n.dragstart(f,u),onDragover:f=>n.dragover(f,u),onDrop:f=>n.drop(f,u)}),{default:withCtx(()=>[renderSlot(e.$slots,n.getTypeTopSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id})),renderSlot(e.$slots,n.getKeyTopSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id})),renderSlot(e.$slots,n.getTypeItemSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id}),()=>[renderSlot(e.$slots,n.getKeyItemSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id}),()=>[u.schema.type==="preview"&&u.schema.configuration?(openBlock(),createBlock(i,{key:0,configuration:u.schema.configuration,"bind-data":{...n.valueIntern,...o.formItem}},null,8,["configuration","bind-data"])):u.schema.type==="dynamic-component"?(openBlock(),createBlock(s,{key:1,subject:u.schema.subject},null,8,["subject"])):u.schema.type==="title"?(openBlock(),createBlock(d,mergeProps({key:2,text:u.schema.title??u.schema.text??u.schema.label??u.schema.name,ref_for:!0},n.bindSchema(u)),null,16,["text"])):u.schema.type==="radio"?(openBlock(),createBlock(VRadioGroup,mergeProps({key:3,ref_for:!0},n.bindSchema(u),{modelValue:n.setValue(u),onChange:f=>n.onInput(f,u)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.schema.options,(f,v)=>(openBlock(),createBlock(VRadio,mergeProps({key:v,ref_for:!0},n.bindOptions(f)),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),C=>({name:C,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,C),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y,idx:v,option:f}))])}))]),1040))),128))]),_:2},1040,["modelValue","onChange"])):n.isDateTimeColorTypeAndExtensionText(u)?(openBlock(),createBlock(VMenu,mergeProps({key:4,ref_for:!0},n.bindSchemaMenu(u)),{activator:withCtx(({props:f})=>[createVNode(VTextField,mergeProps({ref_for:!0},{...n.bindSchemaText(u),...f},{modelValue:n.setValue(u)},{[toHandlerKey(n.suspendClickAppend(u))]:v=>n.onEvent(v,u,l.append)},{"onClick:appendInner":v=>n.onEvent(v,u,l.appendInner),"onClick:prepend":v=>n.onEvent(v,u,l.prepend),"onClick:prependInner":v=>n.onEvent(v,u,l.prependInner)}),null,16,["modelValue","onClick:appendInner","onClick:prepend","onClick:prependInner"])]),default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(u.schema.type)),mergeProps({ref_for:!0},n.bindSchema(u),{type:n.checkInternType(u),modelValue:n.setValue(u),"onUpdate:modelValue":f=>n.onInput(f,u),"onClick:hour":f=>n.onEvent({type:"click"},u,l.hour),"onClick:minute":f=>n.onEvent({type:"click"},u,l.minute),"onClick:second":f=>n.onEvent({type:"click"},u,l.second)}),null,16,["type","modelValue","onUpdate:modelValue","onClick:hour","onClick:minute","onClick:second"]))]),_:2},1040)):u.schema.type==="array"?(openBlock(!0),createElementBlock(Fragment,{key:5},renderList(n.setValue(u),(f,v)=>(openBlock(),createElementBlock("div",mergeProps({key:n.getKeyForArray(o.id,u,f,v),ref_for:!0},n.bindSchema(u),{modelValue:n.setValue(u)}),[renderSlot(e.$slots,n.getArrayTopSlot(u),mergeProps({ref_for:!0},{obj:u,id:o.id,index:y,idx:v,item:f})),renderSlot(e.$slots,n.getArrayItemSlot(u),mergeProps({ref_for:!0},{obj:u,id:o.id,index:y,idx:v,item:f}),()=>[createVNode(c,{id:`${o.id}-${u.key}-${v}`,modelValue:f,"onUpdate:modelValue":C=>f=C,schema:u.schema.schema,"onUpdate:schema":C=>u.schema.schema=C,row:n.getRowGroupOrArray(u),col:n.getColGroupOrArray(u),class:normalizeClass(`${o.id}-${u.key}`)},createSlots({_:2},[renderList(e.$slots,(C,h)=>({name:h,fn:withCtx(b=>[renderSlot(e.$slots,h,mergeProps({ref_for:!0},{id:o.id,obj:u,index:y,idx:v,item:f,...b}))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row","col","class"])]),renderSlot(e.$slots,n.getArrayBottomSlot(u),mergeProps({ref_for:!0},{obj:u,id:o.id,index:y,idx:v,item:f}))],16,_hoisted_1$6))),128)):/^(wrap|group)$/.test(u.schema.type)?(openBlock(),createElementBlock(Fragment,{key:6},[u.schema&&u.schema.schema?(openBlock(),createBlock(resolveDynamicComponent(n.checkInternGroupType(u)),mergeProps({key:0,ref_for:!0},n.bindSchema(u),{title:u.schema.typeIntTitle??null,modelValue:u.schema.typeIntModelValue||!1,onClick:f=>n.onEvent(f,u)}),{default:withCtx(()=>[u.schema.noLabel!==!0&&(u.schema.title||u.schema.subtitle)?(openBlock(),createElementBlock("div",_hoisted_2$6,[u.schema.title?(openBlock(),createBlock(d,{key:0,padding:"a-0",margin:"b-0",transform:"none",weight:"bold",class:"text-body-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.schema.title),1)]),_:2},1024)):createCommentVNode("",!0),u.schema.subtitle?(openBlock(),createBlock(d,{key:1,padding:"a-0",margin:"b-4",transform:"none",weight:"regular",class:"text-caption"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:u.schema.subtitle},null,8,_hoisted_3$5)]),_:2},1024)):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(c,{id:`${o.id}-${u.key}`,modelValue:n.setValue(u),schema:u.schema.schema,"onUpdate:schema":f=>u.schema.schema=f,row:n.getRowGroupOrArray(u),col:n.getColGroupOrArray(u),class:normalizeClass(`${o.id}-${u.key}`),onInput:f=>n.onInputWrapper(f,u)},createSlots({_:2},[renderList(e.$slots,(f,v)=>({name:v,fn:withCtx(C=>[renderSlot(e.$slots,v,mergeProps({ref_for:!0},{id:o.id,obj:u,index:y,...C}))])}))]),1032,["id","modelValue","schema","onUpdate:schema","row","col","class","onInput"])]),_:2},1040,["title","modelValue","onClick"])):createCommentVNode("",!0)],64)):u.schema.type===l.treeview?(openBlock(),createBlock(resolveDynamicComponent(e.v-l.treeview),mergeProps({key:7,open:u.schema.open,"onUpdate:open":f=>u.schema.open=f,ref_for:!0},n.bindSchema(u),{"onUpdate:open":f=>n.onEvent({type:"click"},u,"open"),"onUpdate:active":f=>n.onEvent({type:"click"},u,"selected"),items:u.schema.items,modelValue:n.setValue(u),"onUpdate:modelValue":f=>n.onInput(f,u)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),f=>({name:f,fn:withCtx(v=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,f),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y,...v}))])}))]),1040,["open","onUpdate:open","onUpdate:active","items","modelValue","onUpdate:modelValue"])):u.schema.type===l.list?(openBlock(),createBlock(VList,{key:8},{default:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,"label"),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y}),()=>[u.schema.label?(openBlock(),createBlock(VToolbar,mergeProps({key:0,ref_for:!0},n.bindSchema(u),{dark:""}),{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(u.schema.label),1)]),_:2},1024)]),_:2},1040)):createCommentVNode("",!0)]),createVNode(VList,mergeProps({modelValue:u.schema.model,"onUpdate:modelValue":f=>u.schema.model=f,ref_for:!0},n.bindSchema(u),{light:""}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.setValue(u),(f,v)=>(openBlock(),createBlock(VListItem,{key:v,onClick:C=>n.onEvent(C,u,l.list)},{default:withCtx(()=>[renderSlot(e.$slots,n.getArrayItemSlot(u),mergeProps({ref_for:!0},{obj:u,id:o.id,index:y,idx:v,item:f}),()=>[createVNode(VListItem,{icon:u.schema.icon,title:u.schema.item?f[u.schema.item]:f},null,8,["icon","title"])])]),_:2},1032,["onClick"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])]),_:2},1024)):/(switch|checkbox)/.test(u.schema.type)?(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(u.schema.type)),mergeProps({key:9,modelValue:n.setValue(u),"onUpdate:modelValue":f=>n.onInput(f,u),ref_for:!0},n.bindSchema(u)),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),f=>({name:f,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,f),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y}))])}))]),1040,["modelValue","onUpdate:modelValue"])):u.schema.type==="file"?(openBlock(),createBlock(VFileInput,mergeProps({key:10,ref_for:!0},n.bindSchema(u),{modelValue:n.setValue(u),onFocus:f=>n.onEvent(f,u),onBlur:f=>n.onEvent(f,u),onChange:f=>n.onInput(f,u)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),f=>({name:f,fn:withCtx(v=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,f),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y,...v}))])}))]),1040,["modelValue","onFocus","onBlur","onChange"])):u.schema.type==="icon"?(openBlock(),createBlock(VIcon,mergeProps({key:11,ref_for:!0},n.bindSchema(u),{textContent:toDisplayString(n.getIconValue(u)),onClick:f=>n.onEvent(f,u)}),null,16,["textContent","onClick"])):u.schema.type==="slider"?(openBlock(),createBlock(VSlider,mergeProps({key:12,ref_for:!0},n.bindSchema(u),{"onUpdate:modelValue":f=>n.onInput(f,u)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),f=>({name:f,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,f),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y}))])}))]),1040,["onUpdate:modelValue"])):u.schema.type==="img"?(openBlock(),createBlock(VImg,mergeProps({key:13,src:n.getImageSource(u),ref_for:!0},n.bindSchema(u),{onClick:f=>n.onEvent(f,u)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),f=>({name:f,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,f),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y}))])}))]),1040,["src","onClick"])):u.schema.type==="btn-toggle"?(openBlock(),createBlock(VBtnToggle,mergeProps({key:14,ref_for:!0},n.bindSchema(u),{modelValue:n.setValue(u),onChange:f=>n.onInput(f,u)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.schema.options,(f,v)=>(openBlock(),createBlock(VBtn,mergeProps({key:v,ref_for:!0},n.bindOptions(f),{icon:!!f.icon}),{default:withCtx(()=>[createVNode(VIcon,{dark:u.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(n.bindOptions(f).icon),1)]),_:2},1032,["dark"]),createTextVNode(" "+toDisplayString(n.bindOptions(f).label),1)]),_:2},1040,["icon"]))),128))]),_:2},1040,["modelValue","onChange"])):u.schema.type==="btn"?(openBlock(),createBlock(VBtn,mergeProps({key:15,ref_for:!0},n.bindSchema(u),{onClick:f=>n.onEvent(f,u,l.button),type:"button"}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.setValue(u))+" ",1),u.schema.iconCenter?(openBlock(),createBlock(VIcon,{key:0,dark:u.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(u.schema.iconCenter),1)]),_:2},1032,["dark"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(u.schema.label),1)]),_:2},1040,["onClick"])):u.schema.translated?(openBlock(),createBlock(m,{key:16,type:n.mapTypeToComponent(u.schema.type),attributes:u.schema,modelValue:n.setValue(u),"onUpdate:modelValue":f=>n.onInput(f,u)},null,8,["type","attributes","modelValue","onUpdate:modelValue"])):u.schema.mask?withDirectives((openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(u.schema.type)),mergeProps({key:17,ref_for:!0},n.bindSchema(u),{type:n.checkExtensionType(u),modelValue:n.setValue(u),obj:u,[n.searchInputSync(u)]:u.schema.searchInput,["onUpdate:"+n.searchInputSync(u)]:f=>u.schema.searchInput=f,onFocus:f=>n.onEvent(f,u),onBlur:f=>n.onEvent(f,u)},{[toHandlerKey(n.suspendClickAppend(u))]:f=>n.onEvent(f,u,l.append)},{"onClick:appendInner":f=>n.onEvent(f,u,l.appendInner),"onClick:prepend":f=>n.onEvent(f,u,l.prepend),"onClick:prependInner":f=>n.onEvent(f,u,l.prependInner),"onClick:clear":f=>n.onEvent(f,u,l.clear),"onClick:hour":f=>n.onEvent({type:"click"},u,l.hour),"onClick:minute":f=>n.onEvent({type:"click"},u,l.minute),"onClick:second":f=>n.onEvent({type:"click"},u,l.second),"onUpdate:modelValue":f=>n.onInput(f,u),"onUpdate:input":f=>n.updateInput(f,u)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),f=>({name:f,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,f),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y,model:n.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"])),[[p,u.schema.mask]]):(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(u.schema.type)),mergeProps({key:18,ref_for:!0},n.bindSchema(u),{type:n.checkExtensionType(u),modelValue:n.setValue(u),obj:u,[n.searchInputSync(u)]:u.schema.searchInput,["onUpdate:"+n.searchInputSync(u)]:f=>u.schema.searchInput=f,onFocus:f=>n.onEvent(f,u),onBlur:f=>n.onEvent(f,u)},{[toHandlerKey(n.suspendClickAppend(u))]:f=>n.onEvent(f,u,l.append)},{"onClick:appendInner":f=>n.onEvent(f,u,l.appendInner),"onClick:prepend":f=>n.onEvent(f,u,l.prepend),"onClick:prependInner":f=>n.onEvent(f,u,l.prependInner),"onClick:clear":f=>n.onEvent(f,u,l.clear),"onClick:hour":f=>n.onEvent({type:"click"},u,l.hour),"onClick:minute":f=>n.onEvent({type:"click"},u,l.minute),"onClick:second":f=>n.onEvent({type:"click"},u,l.second),"onUpdate:modelValue":f=>n.onInput(f,u),"onUpdate:input":f=>n.updateInput(f,u)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,u),f=>({name:f,fn:withCtx(v=>[renderSlot(e.$slots,n.getKeyInjectSlot(u,f),mergeProps({ref_for:!0},{id:o.id,obj:u,index:y,...v,model:n.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"]))])]),renderSlot(e.$slots,n.getTypeBottomSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id})),renderSlot(e.$slots,n.getKeyBottomSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id}))]),_:2},1040,["class","draggable","onMouseenter","onMouseleave","onDragstart","onDragover","onDrop"])),[[vShow,!u.schema.hidden],[Intersect,(f,v,C)=>n.onIntersect(f,v,C,u)],[Touch,{left:()=>n.onSwipe("left",u),right:()=>n.onSwipe("right",u),up:()=>n.onSwipe("up",u),down:()=>n.onSwipe("down",u)}],[ClickOutside,f=>n.onClickOutside(f,u)]]),u.schema.spacer?(openBlock(),createBlock(VSpacer,{key:`s-${y}`})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,n.getTooltipSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id}),()=>[createBaseVNode("span",null,toDisplayString(n.getShorthandTooltipLabel(u.schema.tooltip)),1)]),renderSlot(e.$slots,n.getKeyTooltipSlot(u),mergeProps({ref_for:!0},{obj:u,index:y,id:o.id}))]),_:2},1040,["disabled"]))),128)),renderSlot(e.$slots,n.getFormBottomSlot(),{id:o.id})]),_:3},16,["id"])),[[Resize,n.onResize,void 0,{quiet:!0}]])}const VCustomFormBase=_export_sfc(_sfc_main$7,[["render",_sfc_render$6]]),_sfc_main$6={emits:["update:modelValue","opened","confirm","cancel"],props:{...makeModalProps$1()},setup(e,a){return{...useModal(e,a)}},computed:{textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},watch:{dialog(e){e&&this.emitOpened()}},methods:{toggle(){return this.toggleModal()},close(e=null){return e&&e(),this.closeModal()},open(e=null,a=null){if(e&&e(),this.openModal(),a){const o=this;this.$nextTick().then(()=>{o.$refs.modalConfirm&&o.$refs.modalConfirm.$el.addEventListener("click",r=>{a(),o.close()}),o.$refs.modalCancel&&o.$refs.modalCancel.$el.addEventListener("click",r=>{o.close()})})}return!0},async confirm(e=null){let a=!0;if(e)a=!!await e(),a&&(this.closeModal(),this.$emit("confirm"));else if(this.confirmCallback&&typeof this.confirmCallback=="function"){let o=await this.confirmCallback();a=typeof o=="boolean"?o:!0,a&&this.confirmClosing&&this.closeModal(),this.$emit("confirm")}else this.closeModal(),this.$emit("confirm");return a},async cancel(e=null){if(e&&e(),this.rejectCallback&&typeof this.rejectCallback=="function"){let a=await this.rejectCallback();shouldClose=typeof a=="boolean"?a:!0,shouldClose&&this.rejectClosing&&this.closeModal()}else this.closeModal()},toggleFullscreen(){this.full=!this.full},screenListener(e){this.full=e.target.fullScreen}}},_hoisted_1$5={class:"d-flex align-center"},_hoisted_2$5=["innerHTML"];function _sfc_render$5(e,a,o,r,l,n){const i=resolveComponent("ue-title");return openBlock(),createBlock(VDialog,mergeProps({modelValue:e.dialog,"onUpdate:modelValue":a[5]||(a[5]=s=>e.dialog=s)},e.$bindAttributes(),{transition:e.transition,fullscreen:e.full,width:e.modalWidth}),createSlots({default:withCtx(s=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({...s,isFullActive:this.full,toggleFullscreen:()=>this.toggleFullscreen(),close:()=>this.close(),confirm:()=>this.confirm(),open:()=>this.open()})),()=>[renderSlot(e.$slots,"systembar",{},()=>[e.hasSystembar?(openBlock(),createBlock(VLayout,{key:0,style:{height:"40px"}},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VSystemBar,{dark:""},{default:withCtx(()=>[createVNode(VIcon,{onClick:a[0]||(a[0]=d=>n.toggleFullscreen()),"x-small":e.full},{default:withCtx(()=>a[6]||(a[6]=[createTextVNode(" mdi-checkbox-blank-outline ")])),_:1},8,["x-small"]),createVNode(VIcon,{onClick:a[1]||(a[1]=d=>n.close())},{default:withCtx(()=>a[7]||(a[7]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"body",mergeProps({textCancel:this.textCancel,textConfirm:this.textConfirm,textDescription:this.description,isFullActive:this.full,open:()=>this.open(),close:()=>this.close(),confirm:()=>this.confirm(),toggleFullscreen:()=>this.toggleFullscreen()},{closeDialog:n.close}),()=>[createVNode(VCard,null,{default:withCtx(()=>[e.title?(openBlock(),createBlock(VCardTitle,{key:0,class:"text-h5 text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createVNode(i,{justify:"space-between",padding:"y-2"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_1$5,[e.hasFullscreenButton?(openBlock(),createBlock(VBtn,{key:0,icon:e.full?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:n.toggleFullscreen},null,8,["icon","onClick"])):createCommentVNode("",!0),e.hasCloseButton?(openBlock(),createBlock(VBtn,{key:1,icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=d=>n.close())})):createCommentVNode("",!0)])]),default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:1}),e.hasTitleDivider?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.description||e.$slots["body.description"]?(openBlock(),createBlock(VCardText,{key:1,class:normalizeClass(["text-center",{"pa-0":e.noDefaultBodyPadding}]),style:{"word-break":"break-word"}},{default:withCtx(()=>[renderSlot(e.$slots,"body.description",normalizeProps(guardReactiveProps({description:e.description})),()=>[createBaseVNode("div",{innerHTML:e.description},null,8,_hoisted_2$5)])]),_:3},8,["class"])):createCommentVNode("",!0),e.noActions?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:2},[createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[renderSlot(e.$slots,"body.options",normalizeProps(guardReactiveProps({description:e.description})),()=>[createVNode(VSpacer),e.noCancelButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:0,ref:"modalCancel"},e.rejectButtonAttributes,{class:"modal-cancel",onClick:a[3]||(a[3]=d=>n.cancel()),loading:e.rejectLoading,disabled:e.rejectLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.textCancel),1)]),_:1},16,["loading","disabled"])),e.noConfirmButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref:"modalConfirm"},e.confirmButtonAttributes,{class:"modal-confirm",onClick:a[4]||(a[4]=d=>n.confirm()),loading:e.confirmLoading,disabled:e.confirmLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.textConfirm),1)]),_:1},16,["loading","disabled"]))]),createVNode(VSpacer)]),_:3})],64))]),_:3})])])]),_:2},[renderList(e.$slots,(s,d)=>({name:d,fn:withCtx(c=>[renderSlot(e.$slots,d,normalizeProps(guardReactiveProps(c||{})))])}))]),1040,["modelValue","transition","fullscreen","width"])}const UEModal=_export_sfc(_sfc_main$6,[["render",_sfc_render$5]]),component="MEDIA-LIBRARY",api={get(e,a,o,r){axios$1.get(e,{params:a}).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component,{message:"Media library get error.",value:l}),r&&typeof r=="function"&&r(l)})},update(e,a,o,r){axios$1.put(e,a).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component,{message:"Media library update error.",value:l}),r&&typeof r=="function"&&r(l)})},delete(e,a,o){axios$1.delete(e).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component,{message:"Media library delete error.",value:r}),o&&typeof o=="function"&&o(r)})},bulkDelete(e,a,o,r){axios$1.put(e,a).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component,{message:"Media library bulk delete error.",value:l}),r&&typeof r=="function"&&r(l)})}},scrollToY=function(e){const a={el:document,offset:0,duration:250,easing:"linear"},o=Date.now();let r=0,l=!1;const n={linear:function(u){return u},easeIn:function(u){return u*u*u},easeOut:function(u){return--u*u*u+1},easeInOut:function(u){return u<.5?4*u*u*u:(u-1)*(2*u-2)*(2*u-2)+1}},i=window.requestAnimationFrame;let s;for(const u in e)typeof e[u]<"u"&&(a[u]=e[u]);if(a.el===document&&(l=!0,a.el=document.documentElement.scrollTop?document.documentElement:document.body),r=a.el.scrollTop,r===a.offset)return;function d(u,y){return u<y?u:y}function c(){if(i)try{cancelAnimationFrame(s)}catch{}else clearTimeout(s)}function m(){if(l&&r===0)document.documentElement.scrollTop=1,document.body.scrollTop=1,r=1,a.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(m);else{const u=Date.now(),y=d(1,(u-o)/a.duration),g=n[a.easing](y);a.el.scrollTop=g*(a.offset-r)+r,y<1?p():(c(),(typeof a.onComplete).toLowerCase()==="function"&&a.onComplete.call(this))}}function p(){i?s=requestAnimationFrame(m):s=setTimeout(function(){m()},1e3/60)}p()},mediaItemsMixin={props:{items:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},usedItems:{type:Array,default:()=>[]}},computed:{...mapState({itemsLoading:e=>e.mediaLibrary.loading}),replacingMediaIds:function(){return this.itemsLoading.reduce((e,a)=>(a.isReplacement&&(e[a.replacementId]=a.id),e),{})}},methods:{isSelected:function(e,a=["id"]){return!!this.selectedItems.find(o=>a.every(r=>o[r]===e[r]))},isUsed:function(e,a=["id"]){return!!this.usedItems.find(o=>a.every(r=>o[r]===e[r]))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}},_sfc_main$5={name:"A17Mediagrid",mixins:[mediaItemsMixin],computed:{...mapState({showFileName:e=>e.mediaLibrary.showFileName})},methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},_hoisted_1$4={class:"mediagrid"},_hoisted_2$4={class:"mediagrid__button s--loading"},_hoisted_3$4={key:0,class:"mediagrid__progress"},_hoisted_4$4={key:1,class:"mediagrid__progressError"},_hoisted_5$4=["onClick"],_hoisted_6$4=["src"],_hoisted_7$3=["title"];function _sfc_render$4(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(i,s)=>withDirectives((openBlock(),createElementBlock("div",{class:"mediagrid__item",key:"mediaLoading_"+i.id},[createBaseVNode("span",_hoisted_2$4,[i.error?(openBlock(),createElementBlock("span",_hoisted_4$4,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_3$4,[createBaseVNode("span",{class:"mediagrid__progressBar",style:normalizeStyle(n.loadingProgress(s))},null,4)]))])])),[[vShow,!i.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,i=>(openBlock(),createElementBlock("div",{class:normalizeClass(["mediagrid__item",{"s--hasFilename":e.showFileName}]),key:i.id},[createBaseVNode("span",{class:normalizeClass(["mediagrid__button",{"s--picked":e.isSelected(i),"s--used":e.isUsed(i)||!!e.replacingMediaIds[i.id],"s--disabled":i.disabled}]),onClick:[withModifiers(s=>e.toggleSelection(i),["exact"]),withModifiers(s=>e.shiftToggleSelection(i),["shift","exact"])]},[createBaseVNode("img",{src:i.thumbnail,class:"mediagrid__img"},null,8,_hoisted_6$4)],10,_hoisted_5$4),e.showFileName?(openBlock(),createElementBlock("p",{key:0,title:i.name,class:"mediagrid__name"},toDisplayString(i.name),9,_hoisted_7$3)):createCommentVNode("",!0)],2))),128))])}const MediaGrid=_export_sfc(_sfc_main$5,[["render",_sfc_render$4],["__scopeId","data-v-a5c29ae6"]]),_sfc_main$4={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:()=>["id"]}},mixins:[mediaItemsMixin],filters,computed:{allItems:function(){return this.items.map(e=>{if(this.replacingMediaIds[e.id]){const a=this.itemsLoading.find(o=>o.replacementId===e.id);return a||e}else return e})},columnsNumber:function(){if(!this.items.length)return 0;let e=this.extraColumns.length;const a=this.items[0];return a.hasOwnProperty("id")&&e++,a.hasOwnProperty("name")&&e++,a.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];const e=this.items[0];return Object.keys(e).filter(a=>!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(a)&&typeof e[a]=="string")},checkedItems:function(){const e=[];return this.selectedItems.length&&this.selectedItems.forEach(function(a){e.push(a.endpointType+"_"+a.id)}),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,a){const o=a?this[a]:this.itemsLoading;return{width:o[e].progress?o[e].progress+"%":"0%"}}}},_hoisted_1$3={class:"itemlist"},_hoisted_2$3={class:"itemlist__table"},_hoisted_3$3=["colspan"],_hoisted_4$3={key:0,class:"itemlist__progress"},_hoisted_5$3={key:1,class:"itemlist__progressError"},_hoisted_6$3=["onClick"],_hoisted_7$2={key:0,class:"itemlist__cell itemlist__cell--btn"},_hoisted_8$2={key:1,class:"itemlist__cell itemlist__cell--thumb"},_hoisted_9$2=["src"],_hoisted_10$1={key:2,class:"itemlist__cell itemlist__cell--name"},_hoisted_11$1=["innerHTML"],_hoisted_12={key:1},_hoisted_13=["colspan"],_hoisted_14={key:0,class:"itemlist__progress"},_hoisted_15={key:1,class:"itemlist__progressError"};function _sfc_render$3(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("table",_hoisted_2$3,[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(i,s)=>withDirectives((openBlock(),createElementBlock("tr",{class:"itemlist__row",key:i.id},[createBaseVNode("td",{class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":i.error}]),colspan:n.columnsNumber},[i.error?(openBlock(),createElementBlock("span",_hoisted_5$3,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_4$3,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(n.loadingProgress(s))},null,4)]))],10,_hoisted_3$3)])),[[vShow,!i.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.allItems,(i,s)=>(openBlock(),createElementBlock("tr",{class:normalizeClass(["itemlist__row",{"s--picked":e.isSelected(i,o.keysToCheck),"s--disabled":i.disabled||!!e.replacingMediaIds[i.id]}]),key:`${i.endpointType}_${i.id}`,onClick:[withModifiers(d=>e.toggleSelection(i),["exact","prevent"]),withModifiers(d=>e.shiftToggleSelection(i),["shift","exact","prevent"])]},[i.isReplacement?i.isReplacement?(openBlock(),createElementBlock("td",{key:1,class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":i.error}]),colspan:n.columnsNumber},[i.error?(openBlock(),createElementBlock("span",_hoisted_15,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_14,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(n.loadingProgress(s,"allItems"))},null,4)]))],10,_hoisted_13)):createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[i.hasOwnProperty("id")?(openBlock(),createElementBlock("td",_hoisted_7$2)):createCommentVNode("",!0),i.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("td",_hoisted_8$2,[createBaseVNode("img",{src:i.thumbnail},null,8,_hoisted_9$2)])):createCommentVNode("",!0),i.hasOwnProperty("name")?(openBlock(),createElementBlock("td",_hoisted_10$1,[i.hasOwnProperty("renderHtml")?(openBlock(),createElementBlock("div",{key:0,innerHTML:i.name},null,8,_hoisted_11$1)):(openBlock(),createElementBlock("div",_hoisted_12,toDisplayString(i.name),1))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.extraColumns,(d,c)=>(openBlock(),createElementBlock("td",{class:normalizeClass(["itemlist__cell",n.rowClass(d)]),key:c},[d==="size"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(i[d].toUpperCase()),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(i[d]),1)],64))],2))),128))],64))],10,_hoisted_6$3))),128))])])])}const ItemList=_export_sfc(_sfc_main$4,[["render",_sfc_render$3],["__scopeId","data-v-c7fcfc1f"]]),_sfc_main$3={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:{loadingProgress:function(){return{transform:"translateX("+(-100+this.uploadProgress)+"%)"}},...mapState({mediasLoading:e=>e.mediaLibrary.loading,uploadProgress:e=>e.mediaLibrary.uploadProgress})},methods:{cancelUpload:function(e){this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)}}},_hoisted_1$2={class:"mediasidebar__inner mediasidebar__inner--single"},_hoisted_2$2={class:"f--note"},_hoisted_3$2={class:"mediasidebar__progress"},_hoisted_4$2={class:"mediasidebar__loading"},_hoisted_5$2={key:0,class:"mediasidebar__errorMessage"},_hoisted_6$2=["onClick"];function _sfc_render$2(e,a,o,r,l,n){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("p",_hoisted_2$2,"Uploading "+toDisplayString(e.mediasLoading.length)+" file"+toDisplayString(e.mediasLoading.length>1?"s":""),1),createBaseVNode("div",_hoisted_3$2,[createBaseVNode("span",{class:"mediasidebar__progressBar",style:normalizeStyle(n.loadingProgress)},null,4)]),createBaseVNode("div",_hoisted_4$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mediasLoading,i=>(openBlock(),createElementBlock("p",{class:normalizeClass(["f--small",{"s--error":i.error}]),key:i.id},[i.error?(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString(i.errorMessage),1)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(i.name),1),a[0]||(a[0]=createTextVNode()),i.error?(openBlock(),createElementBlock("a",{key:1,href:"#",onClick:withModifiers(s=>n.cancelUpload(i),["prevent"])},"Cancel",8,_hoisted_6$2)):createCommentVNode("",!0)],2))),128))])])}const UeMediaSidebarUpload=_export_sfc(_sfc_main$3,[["render",_sfc_render$2],["__scopeId","data-v-2c5af2a8"]]),_sfc_main$2={name:"A17MediaSidebar",components:{"ue-mediasidebar-upload":UeMediaSidebarUpload,SelectTag},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[],deleteModalActive:!1}},filters,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:{firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return this.medias.length===1},hasMedia:function(){return this.medias.length>0},isImage:function(){return this.type.value==="image"},sharedTags:function(){return this.medias.map(e=>e.tags).reduce((e,a)=>e.filter(o=>a.includes(o)))},sharedMetadata(){return(e,a)=>this.hasMultipleMedias?this.medias.map(o=>o.metadatas.default[e]).every((o,r,l)=>Array.isArray(o)?o[0]==l[0]:o==l[0])?this.firstMedia.metadatas.default[e]:a==="object"?{}:a==="boolean"?!1:"":typeof this.firstMedia.metadatas.default[e]=="object"||a==="boolean"?this.firstMedia.metadatas.default[e]:{}},captionValues(){return typeof this.firstMedia.metadatas.default.caption=="object"?this.firstMedia.metadatas.default.caption:{}},altValues(){return typeof this.firstMedia.metadatas.default.altText=="object"?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map(function(e){return e.id}).join(",")},mediasIdsToDelete:function(){return this.medias.filter(e=>e.deleteUrl).map(e=>e.id)},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every(e=>e.deleteUrl)||this.hasMultipleMedias&&!this.medias.every(e=>!e.deleteUrl)},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){return this.extraMetadatas.filter(e=>e.multiple&&!this.translatableMetadatas.includes(e.name))},singleOnlyMetadatas:function(){return this.extraMetadatas.filter(e=>!e.multiple||e.multiple&&this.translatableMetadatas.includes(e.name))},...mapState({mediasLoading:e=>e.mediaLibrary.loading,useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions})},methods:{replaceMedia:function(){this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open(()=>{this.triggerMediaReplace()}):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){if(this.loading)return!1;if(this.mediasIdsToDelete.length!==this.medias.length){this.$refs.warningDelete.open();return}this.$main().$refs.deleteWarningMediaModal?this.$main().$refs.deleteWarningMediaModal.open(null,()=>{this.deleteSelectedMedias()}):this.deleteSelectedMedias()},deleteSelectedMedias:function(){if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?api.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{}):api.delete(this.firstMedia.deleteUrl,e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{})},clear:function(){this.$emit("clear")},getFormData:function(e){return FormDataAsObj(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){this.focused=!1,this.save();const e=this.$refs.form,a=this.getFormData(e);this.hasSingleMedia?(a.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=a.alt_text:this.firstMedia.metadatas.default.altText="",a.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=a.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach(o=>{a.hasOwnProperty(o.name)?this.firstMedia.metadatas.default[o.name]=a[o.name]:this.firstMedia.metadatas.default[o.name]=""})):this.singleAndMultipleMetadatas.forEach(o=>{a.hasOwnProperty(o.name)&&this.medias.forEach(r=>{r.metadatas.default[o.name]=a[o.name]})})},save:function(){const e=this.$refs.form;if(!e)return;const a=this.getFormData(e);!isEqual(a,this.previousSavedData)&&!this.loading&&(this.previousSavedData=a,this.update(e))},submit:function(e){e.preventDefault(),this.save()},update:function(e){if(this.loading)return;this.loading=!0;const a=this.getFormData(e);a.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;const o=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;api.update(o,a,r=>{this.loading=!1,r.data.tags&&this.$emit("tagUpdated",r.data.tags),this.hasMultipleMedias&&r.data.items&&this.medias.forEach(function(l){r.data.items.some(function(n){return n.id===l.id&&(l.tags=n.tags),n.id===l.id})})},r=>{this.loading=!1,r.data.message})}}},_hoisted_1$1={class:"mediasidebar"},_hoisted_2$1={key:0,class:"f--note"},_hoisted_3$1={key:1,class:"mediasidebar__info"},_hoisted_4$1=["src","alt"],_hoisted_5$1={class:"mediasidebar__name"},_hoisted_6$1={key:0,class:"mediasidebar__loader"},_hoisted_7$1=["value"],_hoisted_8$1=["value"],_hoisted_9$1={class:"modal--tiny-title"};function _sfc_render$1(e,a,o,r,l,n){const i=resolveComponent("ue-mediasidebar-upload"),s=resolveComponent("SelectTag"),d=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",_hoisted_1$1,[e.mediasLoading.length?(openBlock(),createBlock(i,{key:0})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:normalizeClass(["mediasidebar__inner",n.containerClasses])},[n.hasMedia?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_2$1,toDisplayString(e.$trans("media-library.sidebar.empty-text","No file selected")),1)),n.hasMultipleMedias?(openBlock(),createElementBlock("p",_hoisted_3$1,[createTextVNode(toDisplayString(o.medias.length)+" "+toDisplayString(e.$trans("media-library.sidebar.files-selected","files selected"))+" ",1),createBaseVNode("a",{href:"#",onClick:a[0]||(a[0]=withModifiers((...c)=>n.clear&&n.clear(...c),["prevent"]))},toDisplayString(e.$trans("media-library.sidebar.clear","Clear")),1)])):createCommentVNode("",!0),n.hasSingleMedia?(openBlock(),createElementBlock(Fragment,{key:2},[n.isImage?(openBlock(),createElementBlock("img",{key:0,src:n.firstMedia.thumbnail,class:"mediasidebar__img",alt:n.firstMedia.original},null,8,_hoisted_4$1)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_5$1,toDisplayString(n.firstMedia.name),1),createVNode(VList,{density:"compact",class:"bg-transparent"},{default:withCtx(()=>[n.firstMedia.size?(openBlock(),createBlock(VListItem,{key:0,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode("File size: "+toDisplayString(n.firstMedia.size.toUpperCase()),1)]),_:1})]),_:1})):createCommentVNode("",!0),n.isImage&&n.firstMedia.width+n.firstMedia.height?(openBlock(),createBlock(VListItem,{key:1,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("media-library.sidebar.dimensions","Dimensions"))+": "+toDisplayString(n.firstMedia.width)+"  "+toDisplayString(n.firstMedia.height),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})],64)):createCommentVNode("",!0),n.hasMedia?(openBlock(),createBlock(VRow,{key:3,align:"center",justify:"space-around",class:"mt-12"},{default:withCtx(()=>[n.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:0,href:n.firstMedia.original,download:"",icon:"mdi-download",size:"small"},null,8,["href"])):createCommentVNode("",!0),n.allowDelete&&o.authorized?(openBlock(),createBlock(VBtn,{key:1,icon:"$trash",size:"small",type:"button",onClick:n.deleteSelectedMediasValidation},null,8,["onClick"])):(openBlock(),createBlock(VBtn,{key:2,icon:"$trash",disabled:"",size:"small",type:"button"})),n.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:3,icon:"mdi-recycle",size:"small",type:"button",onClick:n.replaceMedia},null,8,["onClick"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)],2),n.hasMedia?(openBlock(),createElementBlock("form",{key:0,ref:"form",class:"mediasidebar__inner mediasidebar__form",onSubmit:a[4]||(a[4]=(...c)=>n.submit&&n.submit(...c))},[e.loading?(openBlock(),createElementBlock("span",_hoisted_6$1,a[6]||(a[6]=[createBaseVNode("span",{class:"loader loader--small"},[createBaseVNode("span")],-1)]))):createCommentVNode("",!0),n.hasMultipleMedias?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(s,{label:e.$trans("media-library.sidebar.tags"),key:n.firstMedia.id+"-"+o.medias.length,name:"","v-model":n.hasMultipleMedias?n.sharedTags:n.firstMedia.tags,options:e.tags,selected:n.hasMultipleMedias?n.sharedTags:n.firstMedia.tags,searchable:!0,multiple:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:o.type.tagsEndpoint,onChange:n.save},null,8,["label","v-model","options","selected","emptyText","endpoint","onChange"])),n.isImage?(openBlock(),createBlock(VTextField,{key:0,label:e.$trans("media-library.sidebar.alt-text"),variant:"outlined",name:"alt_text",onBlur:n.blur,modelValue:n.firstMedia.metadatas.default.altText,"onUpdate:modelValue":a[1]||(a[1]=c=>n.firstMedia.metadatas.default.altText=c)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0),n.isImage?(openBlock(),createBlock(VTextarea,{key:1,label:e.$trans("media-library.sidebar.caption"),variant:"outlined",name:"caption",onBlur:n.blur,modelValue:n.firstMedia.metadatas.default.caption,"onUpdate:modelValue":a[2]||(a[2]=c=>n.firstMedia.metadatas.default.caption=c)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0)],64)),o.extraMetadatas.length&&n.isImage&&n.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?(openBlock(),createBlock(VTooltip,{key:2,text:"Remove this field if you do not want to update it on all selected medias",location:"top"},{activator:withCtx(({props:c})=>[createBaseVNode("span",mergeProps(c,{class:"f--tiny f--note f--underlined",onClick:a[3]||(a[3]=m=>n.removeFieldFromBulkEditing("tags"))})," Remove from bulk edit ",16)]),_:1})):createCommentVNode("",!0),n.hasMultipleMedias?(openBlock(),createElementBlock("input",{key:3,type:"hidden",name:"ids",value:n.mediasIds},null,8,_hoisted_7$1)):(openBlock(),createElementBlock("input",{key:4,type:"hidden",name:"id",value:n.firstMedia.id},null,8,_hoisted_8$1))],544)):createCommentVNode("",!0)],64)),createVNode(d,{ref:"warningDelete",transition:"dialog-bottom-transition",modelValue:e.deleteModalActive,"onUpdate:modelValue":a[5]||(a[5]=c=>e.deleteModalActive=c),"width-type":"sm","confirm-text":`Delete ( ${n.mediasIdsToDelete.length} )`,"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("p",_hoisted_9$1,[createBaseVNode("strong",null,toDisplayString(e.$trans("media-library.dialogs.delete.title","Are you sure ?")),1)]),createBaseVNode("p",null,toDisplayString(n.warningDeleteMessage),1)]),_:1},8,["modelValue","confirm-text"])])}const MediaSidebar=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-a5c09d1e"]]),_sfc_main$1={mixins:[ModalMixin],components:{MediaGrid,ItemList,MediaSidebar},setup(e,{attrs:a,slots:o,emit:r}){},props:{...makeModalMediaProps(),initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!0},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1,full:!0,sharedFilterState:{search:"",tag:null,type:this.type??"image",page:this.page??this.initialPage}}},computed:{renderedMediaItems:function(){return this.mediaItems.map(e=>(e.disabled=this.filesizeMax>0&&e.filesizeInMb>this.filesizeMax||this.widthMin>0&&e.width<this.widthMin||this.heightMin>0&&e.height<this.heightMin,e))},currentTypeObject:function(){return this.types.find(e=>e.value===this.type)},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+"  "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+"  "+this.btnLabelMulti:this.modalTitlePrefix+"  "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){let e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){const e=this;return e.types.filter(function(o){return o.value===e.type})[0]},canInsert:function(){return!this.selectedMedias.some(e=>!!this.usedMedias.find(a=>a.id===e.id))},...mapState({connector:e=>e.mediaLibrary.connector,max:e=>e.mediaLibrary.max,filesizeMax:e=>e.mediaLibrary.filesizeMax,widthMin:e=>e.mediaLibrary.widthMin,heightMin:e=>e.mediaLibrary.heightMin,type:e=>e.mediaLibrary.type,types:e=>e.mediaLibrary.types,strict:e=>e.mediaLibrary.strict,selected:e=>e.mediaLibrary.selected,indexToReplace:e=>e.mediaLibrary.indexToReplace}),filterSchema:function(){return{tag:{type:"select",name:"tag",label:"Filter by tags",items:this.tags,variant:"outlined",clearable:"true",chips:"true",col:"12"}}}},watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1,this.sharedFilterState.type=this.type},page:function(e){this.sharedFilterState.page=e}},methods:{deleteSelectedMedias:function(e){let a=[];e&&e.length!==this.selectedMedias.length&&(a=this.selectedMedias.filter(o=>!o.deleteUrl)),e.forEach(()=>{this.$store.commit(MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL,this.type)}),this.mediaItems=this.mediaItems.filter(o=>!this.selectedMedias.includes(o)||a.includes(o)),this.selectedMedias=a,this.mediaItems.length<=40&&this.reloadGrid()},replaceMedia:function({id:e}){this.$refs.uploader.replaceMedia(e)},addMedia:function(e){const a=this.mediaItems.findIndex(function(o){return o.id===e.id});if(a>-1){for(const o in this.selected)this.selected[o].forEach((r,l)=>{if(e.id===r.id){const n=[];for(const i in r.crops)n[i]={height:e.height===r.height?r.crops[i].height:e.height,name:i,width:e.width===r.width?r.crops[i].width:e.width,x:e.width===r.width?r.crops[i].x:0,y:e.height===r.height?r.crops[i].y:0};this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIAS,{index:l,media:{...e,width:e.width===r.width?r.width:e.width,height:e.height===r.height?r.height:e.height,crops:n},mediaRole:o})}});this.$set(this.mediaItems,a,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},open:function(){this.$refs.modal.open()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateSelectedMedias:function(e,a=!1){const o=e.id;if(this.selectedMedias.filter(function(l){return l.id===o}).length===0){if(this.max===1&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(a&&this.selectedMedias.length>0){const l=this.selectedMedias[this.selectedMedias.length-1],n=this.mediaItems.findIndex(m=>m.id===l.id),i=this.mediaItems.findIndex(m=>m.id===o);if(i===-1&&n===-1)return;let s=null,d=null;n<i?(s=n+1,d=i+1):(s=i,d=n),this.mediaItems.slice(s,d).forEach(m=>{if(this.selectedMedias.length>=this.max&&this.max>0)return;this.selectedMedias.findIndex(u=>u.id===m.id)===-1&&this.selectedMedias.push(m)})}else{const l=this.mediaItems.filter(function(n){return n.id===o});l.length&&this.selectedMedias.push(l[0])}}else this.selectedMedias=this.selectedMedias.filter(function(l){return l.id!==o})},clearSelectedMedias:function(){this.selectedMedias.splice(0)},clearFilters:function(){const e=this;if(this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){const a=this.$refs.unused.$el.querySelector("input");a&&a.checked&&a.click()}this.$nextTick(function(){e.submitFilter()})},clearDropdownFilters:function(){const e=this;this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$nextTick(function(){e.submitFilter()})},submitFilter:function(e){const a=this,o=this.$refs.list;if(this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),o.scrollTop===0){a.reloadGrid();return}scrollToY({el:o,offset:0,easing:"easeOut",onComplete:function(){a.reloadGrid()}})},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){const e=this;this.loading=!0,this.$refs.form;const a=e.cleanEmptyFilters(this.sharedFilterState);api.get(this.endpoint,a,o=>{o.data.items.forEach(l=>{this.mediaItems.find(n=>n.id===l.id)||this.mediaItems.push(l)}),this.maxPage=o.data.maxPage||1;let r=o.data.tags.map(({label:l,...n})=>({title:l,...n}));this.tags=r||[],this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL,{type:this.type,total:o.data.total}),this.loading=!1,this.gridLoaded=!0},o=>{})},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,e),this.submitFilter())},getFormData:function(e){let a=FormDataAsObj(e);return a?a.page=this.page:a={page:this.page},a.type=this.type,Array.isArray(a.unused)&&a.unused.length&&(a.unused=a.unused[0]),a},listenScrollPosition:function(){this.$nextTick(function(){if(!this.gridLoaded)return;const e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)})},scrollToPaginate:function(){if(!this.gridLoaded)return;const e=this.$refs.list;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop},saveAndClose:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!0),this.$store.commit(MEDIA_LIBRARY.SAVE_MEDIAS,this.selectedMedias),this.$nextTick(()=>{this.closeModal()})},reloadTags:function(e=[]){this.tags=e},cleanEmptyFilters:function(e){return Object.entries(e).reduce((a,[o,r])=>(r!=null&&r!==""&&(typeof r=="object"&&!Array.isArray(r)?a[o]=this.cleanEmptyFilters(r):a[o]=r),a),{})}},created(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}}},_hoisted_1={class:"medialibrary"},_hoisted_2={class:"medialibrary__frame"},_hoisted_3={class:"medialibrary__header",ref:"form"},_hoisted_4={key:0,class:"secondarynav secondarynav--desktop py",slot:"navigation"},_hoisted_5={key:0,class:"secondarynav__number"},_hoisted_6={class:"medialibrary__inner"},_hoisted_7={class:"medialibrary__grid"},_hoisted_8={class:"medialibrary__sidebar"},_hoisted_9={key:0,class:"medialibrary__footer"},_hoisted_10={class:"medialibrary__list",ref:"list"},_hoisted_11={class:"medialibrary__list-items"};function _sfc_render(e,a,o,r,l,n){const i=resolveComponent("ue-filter"),s=resolveComponent("ue-dropdown-filter"),d=resolveComponent("MediaSidebar"),c=resolveComponent("ue-uploader"),m=resolveComponent("ItemList"),p=resolveComponent("MediaGrid"),u=resolveComponent("ue-modal");return openBlock(),createBlock(u,{ref:"modalMedia",id:"modalMedia",modelValue:e.show,"onUpdate:modelValue":a[2]||(a[2]=y=>e.show=y),fullscreen:"","content-class":"",width:"",onOpened:n.opened,eager:""},{activator:withCtx(({props:y})=>[renderSlot(e.$slots,"activator",{props:{...y}},void 0,!0)]),body:withCtx(({props:y})=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(n.modalTitle),1)]),_:1}),createVNode(VSpacer),createVNode(VToolbarItems,null,{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:e.closeModal},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[3]||(a[3]=[createTextVNode("mdi-close")])),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_3,[createVNode(i,{onSubmit:n.submitFilter,clearOption:!0,onClear:n.clearFilters,filterState:e.sharedFilterState,"onUpdate:filterState":a[0]||(a[0]=g=>e.sharedFilterState=g)},{default:withCtx(()=>[e.types.length?(openBlock(),createElementBlock("ul",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.types,g=>(openBlock(),createBlock(VChip,{key:g.value,class:"ma-2",onClick:withModifiers(f=>n.updateType(g.value),["prevent"])},{default:withCtx(()=>[createTextVNode(toDisplayString(g.text)+" ",1),g.total>0?(openBlock(),createElementBlock("span",_hoisted_5," ("+toDisplayString(g.total)+") ",1)):createCommentVNode("",!0)]),_:2},1032,["onClick"]))),128))])):createCommentVNode("",!0),a[4]||(a[4]=createBaseVNode("div",{slot:"hidden-filters"},null,-1))]),_:1},8,["onSubmit","onClear","filterState"]),createVNode(s,{onSubmit:n.submitFilter,onClear:n.clearDropdownFilters,loading:e.loading,"filter-ref":e.$refs.filter,filterState:e.sharedFilterState,"onUpdate:filterState":a[1]||(a[1]=g=>e.sharedFilterState=g),schema:n.filterSchema},null,8,["onSubmit","onClear","loading","filter-ref","filterState","schema"])],512),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("aside",_hoisted_8,[createVNode(d,{medias:e.selectedMedias,authorized:o.authorized,extraMetadatas:o.extraMetadatas,onClear:n.clearSelectedMedias,onDelete:n.deleteSelectedMedias,onTagUpdated:n.reloadTags,type:n.currentTypeObject,translatableMetadatas:o.translatableMetadatas,onTriggerMediaReplace:n.replaceMedia},null,8,["medias","authorized","extraMetadatas","onClear","onDelete","onTagUpdated","type","translatableMetadatas","onTriggerMediaReplace"])]),e.selectedMedias.length&&o.showInsert&&e.connector?(openBlock(),createElementBlock("footer",_hoisted_9,[n.canInsert?(openBlock(),createBlock(VBtn,{key:0,onClick:n.saveAndClose},{default:withCtx(()=>[createTextVNode(toDisplayString(n.btnLabel),1)]),_:1},8,["onClick"])):(openBlock(),createBlock(VBtn,{key:1,disabled:!0},{default:withCtx(()=>[createTextVNode(toDisplayString(n.btnLabel),1)]),_:1}))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10,[o.authorized?(openBlock(),createBlock(c,{key:0,ref:"uploader",onLoaded:n.addMedia,onClear:n.clearSelectedMedias,type:n.currentTypeObject},null,8,["onLoaded","onClear","type"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11,[e.type==="file"?(openBlock(),createBlock(m,{key:0,items:n.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":n.usedMedias,onChange:n.updateSelectedMedias,onShiftChange:n.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"])):(openBlock(),createBlock(p,{key:1,items:n.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":n.usedMedias,onChange:n.updateSelectedMedias,onShiftChange:n.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"]))])],512)])])])])]),_:3},8,["modelValue","onOpened"])}const UEModalMedia=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-12d8f088"]]),_sfc_main={__name:"DynamicModal",setup(e){const a=inject("modalService");if(!a)throw new Error("[DynamicModal] modalService not found");const o=a.state,r=computed(()=>{const l={};return Object.entries(o.emits).forEach(([n,i])=>{l[n]=s=>i(s)}),l});return provide("modalRef",{close:a.close.bind(a),data:o.data}),(l,n)=>{const i=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:unref(o).visible,"onUpdate:modelValue":n[0]||(n[0]=d=>unref(o).visible=d),persistent:"",widthType:"md"},unref(o).modalProps),createSlots({_:2},[unref(o).component?{name:"body.description",fn:withCtx(()=>[unref(o).component?(openBlock(),createBlock(resolveDynamicComponent(unref(o).component),mergeProps({key:0},unref(o).props,toHandlers(r.value)),null,16)):createCommentVNode("",!0)]),key:"0"}:void 0,renderList(Object.keys(unref(o).slots),d=>({name:d,fn:withCtx(c=>[createVNode(i,{configuration:unref(o).slots[d],bindData:c},null,8,["configuration","bindData"])])}))]),1040,["modelValue"])}}},customMdiIcons={accountSettings:"mdi mdi-account-cog",add:"mdi-plus",alert:"mdi-alert-outline",arrowLeft:"mdi-arrow-left-thin",arrowRight:"mdi-arrow-right-thin",check:"mdi-check",close:"mdi-close",company:"mdi-office-building-cog",creditCards:"mdi-credit-card-search",dashboard:"mdi-view-dashboard-outline",delete:"mdi-trash-can-outline",download:"mdi-download",duplicate:"mdi-content-copy",edit:"mdi-pencil-box-outline",error:"mdi-close-circle-outline",filter_list:"mdi-filter",header:"mdi-text-short",info:"mdi-information",list:"mdi-dots-vertical-circle-outline",media:"mdi-image-album",modules:"mdi-view-module","non-visibility":"mdi-eye-off",package:"mdi-package",permission:"mdi-account-arrow-right",product:"mdi-dropbox",restore:"mdi-file-restore",role:"mdi-account-key",submodule:"mdi-file-tree",success:"mdi-check-circle-outline",support:"mdi-lifebuoy",trash:"mdi-delete",userAdd:"mdi-account-edit",users:"mdi:mdi-account-multiple",visibility:"mdi-eye",warning:"mdi-alert-circle-outline"},unusualify={dark:!1,colors:{background:"#F5F5F5",red:"#DE3730","red-lighten-1":"#FFEDEA","red-darken-1":"#93000A",error:"#DE3730",blue:"#2196F3","blue-lighten-1":"#D3EAFD","blue-darken-1":"#077BD8","blue-accent-1":"#176FC7","blue-accent-2":"#63ADED",info:"#2196F3",green:"#54AF4C","green-lighten-1":"#E4F4D8","green-darken-1":"#1C7F20",success:"#54AF4C",warning:"#FDB022",primary:"#27A0B4","primary-lighten-1":"#4DBBC6","primary-lighten-2":"#74CED7","primary-lighten-3":"#AFE2E7","primary-lighten-4":"#F5FAFC","primary-darken-1":"#00758D","primary-darken-2":"#00566A","primary-darken-3":"#01404F","primary-accent":"#DEF5FA","on-primary":"#FFFFFF",secondary:"#E16437","secondary-lighten-1":"#EC9F83","secondary-lighten-2":"#F2BAA6","secondary-lighten-3":"#F7D6CA","secondary-lighten-4":"#FCF1ED","secondary-lighten-5":"#F7D6CA","secondary-lighten-6":"#F2BAA6","secondary-darken-1":"#D55020","secondary-darken-2":"#C3491D","secondary-darken-3":"#B1431B","secondary-darken-4":"#A03C18","secondary-darken-5":"#8E3515","secondary-darken-6":"#7C2F13","on-secondary":"#FFFFFF","on-secondary-lighten-1":"#FFFFFF","on-secondary-lighten-2":"#FFFFFF","on-secondary-darken-1":"#FFFFFF","on-secondary-darken-2":"#FFFFFF","on-secondary-darken-3":"#FFFFFF","on-secondary-darken-4":"#FFFFFF","on-secondary-darken-5":"#FFFFFF",grey:"#768184","grey-lighten-1":"#879092","grey-lighten-2":"#999FA1","grey-lighten-3":"#AAEAEF","grey-lighten-6":"#F2F1F1","grey-lighten-4":"#CACBCB","grey-lighten-5":"#E4E4E4","grey-lighten-6":"#F2F1F1","grey-darken-1":"#657275","grey-darken-2":"#546367","grey-darken-3":"#435458","grey-darken-4":"#32454A","grey-darken-5":"#20363B","grey-accent-1":"#EEF1F2","grey-accent-2":"#DEE3E5","grey-accent-3":"#BFC8CB","grey-accent-4":"#8CA0A7","grey-accent-5":"#6F797B","grey-accent-6":"#3F484A","grey-accent-7":"#171D1E","on-green-lighten-1":"#FFFFFF","on-green-lighten-2":"#FFFFFF","on-green-lighten-3":"#FFFFFF","on-green-lighten-4":"#FFFFFF","on-green-lighten-5":"#FFFFFF","on-green-lighten-6":"#FFFFFF"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},themes=Object.freeze(Object.defineProperty({__proto__:null,unusualify},Symbol.toStringTag,{value:"Module"})),APP_THEME="unusualify",opts={aliases:{VBtnPrimary:VBtn,VBtnSecondary:VBtn,VBtnSuccess:VBtn,VImgIcon:VImg,VSheetRounded:VSheet,VRowSecondary:VRow,VRowTertiary:VRow},defaults:{global:{ripple:!1},VSheet:{},VSheetRounded:{class:"rounded"},VBtn:{color:"primary",density:"comfortable",variant:"elevated"},VBtnPrimary:{color:"primary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSecondary:{color:"secondary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSuccess:{color:"success",variant:"elevated"},VImgIcon:{height:"2.5rem"},VRowSecondary:{class:"v-row-secondary"},VRowTertiary:{class:"v-row-tertiary"}},theme:{defaultTheme:APP_THEME,themes},icons:{defaultSet:"mdi",aliases:{...aliases,...customMdiIcons},sets:{mdi,fa}},directives,components:{...components,VDateInput}},vuetify=createVuetify(opts),broadcasting={install:(e,a)=>{window.Pusher=Pusher}};class ModalService{constructor(){this.state=reactive({visible:!1,component:null,props:{},emits:{},slots:{},data:void 0,onClose:void 0,modalProps:{}})}open(a,o={}){this.state.component=a,this.state.props=o.props||{},this.state.emits=o.emits||{},this.state.data=o.data,this.state.onClose=o.onClose,this.state.visible=!0,this.state.modalProps=o.modalProps||{},this.state.slots=o.slots||{}}close(a){this.state.visible=!1;const o=this.state.onClose;this.state.component=null,this.state.props={},this.state.emits={},this.state.data=void 0,this.state.onClose=void 0,this.state.modalProps={},this.state.slots={},o&&o(a)}}const ModalService$1={install(e){const a=new ModalService;e.provide("modalService",a),e.config.globalProperties.$modalService=a,window.$modalService=a,setTimeout(()=>{const l=new URLSearchParams(window.location.search).get("modalService"),n=JSON.parse(l);if(isObject(n))try{a.open(n.component??null,omit(n,["component"])),removeParameterFromHistory("modalService")}catch(i){console.error("Failed to open modal from URL parameters:",i)}},0)}},CVV$1="CVV",MM$1="MM",Month$1="Month",PAY$1="PAY",Year$1="Year",YY$1="YY",en={"ADD NEW":"ADD NEW","Are you sure logout?":"Are you sure logout?","AT A GLANCE":"AT A GLANCE","Card Holder":"Card Holder","Card Number":"Card Number","Company Information":"Company Information",CVV:CVV$1,"Expire Date":"Expire Date","Loading... Please wait":"Loading... Please wait",MM:MM$1,Month:Month$1,PAY:PAY$1,"Personal Information":"Personal Information","Update Password":"Update Password",Year:Year$1,YY:YY$1},__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,CVV:CVV$1,MM:MM$1,Month:Month$1,PAY:PAY$1,YY:YY$1,Year:Year$1,default:en},Symbol.toStringTag,{value:"Module"})),All="Hepsi",CVV="CVV",Month="Ay",MM="AA",No="Hayr",PAY="DE",Regards="Sayglar",VAT="KDV",YY="YY",Yes="Evet",Year="Yl",Total="Toplam",tr={"ADD NEW":"EKLE","Are you sure logout?":"k yapmak istediinize emin misiniz?","AT A GLANCE":"GENEL BAKI",All,"Card Holder":"Kart stndeki sim","Card Number":"Kart No","Company Information":"irket Bilgileri",CVV,"Expire Date":"Son Kullanma Tarihi","Frequently Asked Questions":"Ska Sorulan Sorular","If you did not request a password reset, no further action is required.":"ifre sfrlama talebinde bulunmadysanz, herhangi bir ilem yapmanz gerekli deildir","Loading... Please wait":"Ykleniyor, ltfen bekleyin...",Month,MM,No,PAY,"Personal Information":"Kiisel Bilgiler",Regards,"Reset Password":"Yeni ifre Olutur","Reset Password Notification":"Yeni ifre Oluturma Bildirimi","This password reset link will expire in :count minutes.":"Bu ifre oluturma linki :count dakika ierisinde sonlanacak.","Total Amount":"Genel Toplam","Update Password":"ifreyi Gncelle",VAT,YY,"You are receiving this email because we received a password reset request for your account.":"Hesabnzn ifresini sfrlamak iin bu maili alyorsunuz",Yes,Year,Total},__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,All,CVV,MM,Month,No,PAY,Regards,Total,VAT,YY,Year,Yes,default:tr},Symbol.toStringTag,{value:"Module"}));function loadStaticMessages(){const e=Object.assign({"../../../../lang/en.json":__vite_glob_0_0,"../../../../lang/tr.json":__vite_glob_0_1}),a={};return Object.keys(e).forEach(o=>{const n=o.split("/").pop().match(/([A-Za-z0-9-_]+)\.json/i)[1].match(/([A-Za-z0-9-_]+)/i);if(n&&n.length>1){const i=n[1];a[i]=e[o]}}),a}const datetimeFormats={en:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}},tr:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}}},numberFormats={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}},en:{currency:{style:"currency",currency:"EUR"}},tr:{currency:{style:"currency",currency:"TRY"}}},setupOptions={locale:"tr",fallbackLocale:"en",legacy:!1,missingWarn:!1,fallbackWarn:!1,messages:loadStaticMessages(),datetimeFormats,numberFormats},i18n=setupI18n(setupOptions);function setupI18n(e={locale:"en"}){const a=createI18n(e);return setI18nLocale(a,e.locale),a}function setI18nLocale(e,a){e.mode==="legacy"?e.global.locale=a:e.global.locale.value=a,document.querySelector("html").setAttribute("lang",a)}async function loadLocaleMessages(e,a){if(typeof TRANSLATIONS<"u"&&TRANSLATIONS)for(const o in TRANSLATIONS)loadLocaleMessage(e,o,TRANSLATIONS[o])}function loadLocaleMessage(e,a,o){return e.global.setLocaleMessage(a,o),nextTick()}function addSvg(e,a,o){const r=["icon"],l=a.expression||o.props.symbol;let n=e;o.type==="span"&&(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(n)),r.push(`icon--${l}`),r.forEach(function(c){e.classList.add(c)});const i=document.createElementNS("http://www.w3.org/2000/svg","title");i.textContent=l,n.appendChild(i);const s=`#icon--${l}`,d=document.createElementNS("http://www.w3.org/2000/svg","use");d.setAttributeNS("http://www.w3.org/1999/xlink","href",s),n.appendChild(d)}function removeSvg(e){const a=e.querySelector("svg");a&&a.parentNode.removeChild(a),e.className.split(" ").filter(function(r){return r.indexOf("icon")===0}).forEach(function(r){e.classList.remove(r)})}const SvgSprite={install(e,a={}){const o={beforeMount(r,l,n){addSvg(r,l,n)},updated:function(r,l,n,i){removeSvg(r),addSvg(r,l,n)},mounted:function(r,l,n){},unmounted:function(r,l,n){}};e.directive("svg",o)}},Column={install(e,a={}){const o={cols:12},r={created(l,n,i,s){n.value,n.instance},beforeMount(l,n,i,s){const d=n.value;d?__isObject(d)&&Object.entries(d).forEach(([c,m])=>{l.classList.add(`v-col-${c==="cols"?m:c+"-"+m}`)}):Object.entries(o).forEach(([c,m])=>{l.classList.add(`v-col-${c==="cols"?m:c+"-"+m}`)})},mounted(l,n,i,s){},beforeUpdate(l,n,i,s){},updated(l,n,i,s){},beforeUnmount(l,n,i,s){},unmounted(l,n,i,s){}};e.directive("column",r)}},FitGrid={install(e,a={}){const o={created(r,l,n,i){},beforeMount(r,l,n,i){r.classList.add("d-flex"),r.firstElementChild.classList.add("h-100","w-100")},mounted(r,l,n,i){},beforeUpdate(r,l,n,i){},updated(r,l,n,i){},beforeUnmount(r,l,n,i){},unmounted(r,l,n,i){}};e.directive("fit-grid",o)}},Scrollable={install(e,a={}){const o={created(r,l,n,i){},beforeMount(r,l,n,i){if(r.classList.add("ue-scrollable"),l.modifiers.height){const s=l.value;typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/)?(r.style.height=typeof s=="number"?`${s}px`:s,r.style.overflowY="auto"):console.warn("v-scrollable: Invalid height value. Please provide a number (for px) or a valid CSS height value.")}},mounted(r,l,n,i){},updated(r,l,n,i){if(l.modifiers.height&&l.value!==l.oldValue){const s=l.value;(typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/))&&(r.style.height=typeof s=="number"?`${s}px`:s)}},beforeUpdate(r,l,n,i){},beforeUnmount(r,l,n,i){},unmounted(r,l,n,i){}};e.directive("scrollable",o)}},Transition={install(e,a={}){const o={beforeMount(r,l){var i;const n=l.arg||"scale";(i=l.modifiers)!=null&&i.slow,r.classList.add(`${n}-transition`)},mounted(r,l){const n=l.arg||"scale";r.classList.contains("d-none")||r.classList.add(`${n}-1`);const i=new MutationObserver(s=>{s.forEach(d=>{d.type==="attributes"&&d.attributeName==="class"&&(r.classList.contains("d-none")?r.classList.remove(`${n}-1`):setTimeout(()=>{r.classList.add(`${n}-1`)},50))})});r._transitionObserver=i,i.observe(r,{attributes:!0,attributeFilter:["class"]})},updated(r,l){},unmounted(r){r._transitionObserver&&(r._transitionObserver.disconnect(),delete r._transitionObserver)}};e.directive("transition",o)}},commonMethods={$csrf:function(){return document.querySelector('meta[name="csrf-token"]').getAttribute("content")},$log:function(...e){return window.__log(...e)},$isset:function(...e){return window.__isset(...e)},$bindAttributes:function(e=null){const a={};if(e)Object.keys(e).forEach((o,r)=>{parseInt(o)>-1?a[e[o]]=!0:a[o]=e[o]});else if(e==null)return{...this.$attrs};return a},$main:function(){return this.$app._instance.refs.main},$profileDialog:function(){return this.$root.$refs.sidebar.$refs.profileDialog},$openProfileDialog:function(){return this.$store.state.user.profileDialog=!0},$closeProfileDialog:function(){return this.$store.state.user.profileDialog=!1},$can:function(e,a=null){const{can:o}=useAuthorization();return o(e,a)},$hasRoles:function(e){const{hasRoles:a}=useAuthorization();return a(e)},$isYou:function(e){const{isYou:a}=useAuthorization();return a(e)},$isSuperAdmin:function(){return this.$store.getters.isSuperAdmin},$toggleSidebar:function(){this.$store.commit(CONFIG.SIDEBAR_TOGGLE)},$castValueMatch:function(e,a){let o,r=e;if(__isString(e)&&(o=e.match(/\$([\w\.\*]+)/))){let l=o[1],n=__preg_quote(o[0]),i=l.split("."),s=[];for(const c in i){let m=i[c];m==="*"?a.id:s.push(m)}l=s.join(".");let d=__data_get(a,l);if(d){let c;if(Array.isArray(d)&&d.length>0)c=d.join(",");else if(__isString(d)){c=d;let m=snakeCase(c);this.$te(`modules.${m}`)&&(c=this.$t(`modules.${m}`))}else __isNumber(d)&&(c=d.toString());if(c){let m="\\w\\s"+__preg_quote(".,;?|:_"),p=new RegExp(String.raw`^([${m}]+)?(${n})([${m}]+)?$`);e.match(p)?r=e.replace(p,"$1"+c+"$3"):__log("Not matched sentence",p,e,e.match(p))}}}return r},$notif:function(e){this.$store.commit(ALERT$1.SET_ALERT,e)},$dialog:function(e){this.$store.commit(ALERT$1.SET_DIALOG,e)},$hasRequestInProgress:function(){return this.$store.getters.isRequestInProgress},$trans:function(e,a){var o;return this.$lodash.get((o=window.MODULARITY)==null?void 0:o.modularityLocalization.lang,e,a)},$changeLocale:function(e){this.$i18n.locale.value=e},$localization:function(e){if(e.indexOf(" ")>-1)return this.$t(e);let o=lodash.split(e,".");if(o.length>1)return this.$te(e)?this.$t(e):lodash.join(o," ");let r=!1,l=e;pluralize.isPlural(l)&&(r=!0,l=pluralize.singular(l));let n=lodash.kebabCase(l),i=lodash.snakeCase(l);return this.$translation(`modules.${i}`,r?1:0)||this.$translation(`fields.${n}`)||this.$translation(`fields.${i}`)||window.__snakeToHeadline(e)},$moduleTranslationName:function(e){let a=!1,o=e,r=window.__snakeNameFromForeignKey(o);return r&&(o=r,e=r),pluralize.isPlural(o)&&(a=!0,o=pluralize.singular(o)),o=lodash.snakeCase(o),e=lodash.snakeCase(e),this.$te(`modules.${o}`)?this.$t(`modules.${o}`,a?1:0):window.__snakeToHeadline(e)},$translation:function(e,...a){return this.$te(e)?this.$t(e,...a):!1},$headline:function(e){return window.__headline(e)},$getDisplayData:function(e,a){let o={};for(const r in e){const l=e[r],n=a[r];let i=l.displayLabel||l.label||l.name||r;if(i=this.$localization(i),!(!l.type||l.type=="hidden")&&!(!n&&n!==0&&n!==!1&&i!==null&&l.type!=="wrap"))switch(o[r]={_title:i,_type:l.type},l.type){case"wrap":l.schema&&(delete o[r],o=Object.assign(o,this.$getDisplayData(l.schema,a)));break;case"group":l.schema&&typeof n=="object"&&(o[r]={...o[r],...this.$getDisplayData(l.schema,n)});break;case"input-repeater":Array.isArray(n)&&l.schema?o[r]._value=n.map(c=>this.$getDisplayData(l.schema,c)):o[r]._value=n;break;case"input-filepond":Array.isArray(n)?o[r]._value=n.map(c=>c.file_name):o[r]._value=n.file_name;break;case"input-form-tabs":o[r]._value=lodash.reduce(n,(c,m,p)=>{p=__isString(p)?parseInt(p):p;const u=l.items.find(f=>f.id==p);if(!u)return c;let g={_title:u.title||u.name,_model:u.id??null,_value:{}};return lodash.each(l.tabFields,(f,v)=>{let C=l.schema[v],b={_title:this.$localization(C.displayLabel||C.label||C.name||v),_type:l.type,_value:null},w=m[v],B=u[f];if(Array.isArray(w)&&B)b._value=w.map(S=>{let E=B.find(I=>I.id==S);return E?E.title||E.name:"N/A"});else if(B){let S=B.find(I=>I.id==w);w=S?S.title||S.name:w,b._value=w;let E=this.$getDisplayKeys(S);for(const I in E)b[I]||(b[E[I]]=S[I])}g[v]=b}),c.push(g),c},[]);break;case"input-price":const s=this.$numberFormats[this.$getLocale].currency,d=l.items.find(c=>c.iso===s.currency);o[r]._value=this.$n(n.find(c=>c.currency_id===d.id).raw_amount,{style:"currency",currency:s.currency});break;default:if(__isObject(n))o[r]._value=n;else if(Array.isArray(n)&&l.items)o[r]._value=n.map(c=>{const m=l.items.find(p=>p[l.itemValue]===c);return m?m[l.itemTitle]:c});else if(l.items){const c=l.items.find(m=>m[l.itemValue]===n);o[r]._value=c?c[l.itemTitle]:n}else o[r]._value=n;break}}return o},$getDisplayKeys:function(e){return lodash.reduce(Object.keys(e??{}),(a,o)=>{let r=o.match(/^([a-zA-Z0-9]+)(_(show|formatted))$/);return r&&(a[o]=r[1]),a},{})},$d:function(e,a="long"){const{d:o}=useI18n({useScope:"global"});return o(new Date(e),a)},$copy:function(e){window.navigator.clipboard.writeText(e)},$openLoginModal:function(){this.$store.commit(USER.OPEN_LOGIN_MODAL)},$closeLoginModal:function(){this.$store.commit(USER.CLOSE_LOGIN_MODAL)},$cacheGet:function(e,a=null){const{get:o}=useCache();return o(e,a)},$cachePut:function(e,a){const{put:o}=useCache();o(e,a)},$cachePush:function(e,a){const{push:o}=useCache();o(e,a)},$cacheLast:function(e,a=null){const{last:o}=useCache();return o(e,a)},$cacheForget:function(e){const{forget:a}=useCache();a(e)}},includeGlobalComponents=Object.assign({"/src/js/components/Alert.vue":__vite_glob_0_0$2,"/src/js/components/Auth.vue":__vite_glob_0_1$2,"/src/js/components/BoardInformationPlus.vue":__vite_glob_0_2$1,"/src/js/components/Btn.vue":__vite_glob_0_3$1,"/src/js/components/Collapsible.vue":__vite_glob_0_4,"/src/js/components/ConfigurableCard.vue":__vite_glob_0_5,"/src/js/components/CopyText.vue":__vite_glob_0_6,"/src/js/components/Dashboard.vue":__vite_glob_0_7,"/src/js/components/DropdownFilter.vue":__vite_glob_0_8,"/src/js/components/DynamicComponentRenderer.vue":__vite_glob_0_9,"/src/js/components/Expansion.vue":__vite_glob_0_10,"/src/js/components/FilepondPreview.vue":__vite_glob_0_11,"/src/js/components/Filter.vue":__vite_glob_0_12,"/src/js/components/Form.vue":__vite_glob_0_13,"/src/js/components/FormSummaryItem.vue":__vite_glob_0_14,"/src/js/components/ImpersonateToolbar.vue":__vite_glob_0_15,"/src/js/components/ListElement.vue":__vite_glob_0_16,"/src/js/components/ListSection.vue":__vite_glob_0_17,"/src/js/components/LogoutModal.vue":__vite_glob_0_18,"/src/js/components/MediaMetadata.vue":__vite_glob_0_19,"/src/js/components/Metric.vue":__vite_glob_0_20,"/src/js/components/MetricGroups.vue":__vite_glob_0_21,"/src/js/components/Metrics.vue":__vite_glob_0_22,"/src/js/components/NavigationGroup.vue":__vite_glob_0_23,"/src/js/components/PrintRequest.vue":__vite_glob_0_24,"/src/js/components/PropertyList.vue":__vite_glob_0_25,"/src/js/components/RecursiveDataViewer.vue":__vite_glob_0_26,"/src/js/components/RecursiveStuff.vue":__vite_glob_0_27,"/src/js/components/StepperForm.vue":__vite_glob_0_28,"/src/js/components/StepperFormOld.vue":__vite_glob_0_29,"/src/js/components/Success.vue":__vite_glob_0_30,"/src/js/components/SvgIcon.vue":__vite_glob_0_31,"/src/js/components/TabGroups.vue":__vite_glob_0_32,"/src/js/components/TabGroupsPrevious.vue":__vite_glob_0_33,"/src/js/components/Table.vue":__vite_glob_0_34,"/src/js/components/TableBinder.vue":__vite_glob_0_35,"/src/js/components/Tabs.vue":__vite_glob_0_36,"/src/js/components/TabsPrevious.vue":__vite_glob_0_37,"/src/js/components/TextDisplay.vue":__vite_glob_0_38,"/src/js/components/Title.vue":__vite_glob_0_39,"/src/js/components/Uploader.vue":__vite_glob_0_40}),includeIteratorComponents=Object.assign({"/src/js/components/data_iterators/ExpandableIterator.vue":__vite_glob_1_0,"/src/js/components/data_iterators/RichCardIterator.vue":__vite_glob_1_1,"/src/js/components/data_iterators/RichRowIterator.vue":__vite_glob_1_2}),includeLayouts=Object.assign({"/src/js/components/layouts/Footer.vue":__vite_glob_2_0,"/src/js/components/layouts/Home.vue":__vite_glob_2_1,"/src/js/components/layouts/Main.vue":__vite_glob_2_2,"/src/js/components/layouts/Sidebar.vue":__vite_glob_2_3}),includeFormInputs=Object.assign({"/src/js/components/inputs/Assignment.vue":__vite_glob_3_0,"/src/js/components/inputs/Chat.vue":__vite_glob_3_1,"/src/js/components/inputs/CheckboxCard.vue":__vite_glob_3_2,"/src/js/components/inputs/Checklist.vue":__vite_glob_3_3,"/src/js/components/inputs/ChecklistGroup.vue":__vite_glob_3_4,"/src/js/components/inputs/ComparisonTable.vue":__vite_glob_3_5,"/src/js/components/inputs/CreditCard.vue":__vite_glob_3_6,"/src/js/components/inputs/CreditCardForm.vue":__vite_glob_3_7,"/src/js/components/inputs/File.vue":__vite_glob_3_8,"/src/js/components/inputs/Filepond.vue":__vite_glob_3_9,"/src/js/components/inputs/FilepondAvatar.vue":__vite_glob_3_10,"/src/js/components/inputs/FormTabs.vue":__vite_glob_3_11,"/src/js/components/inputs/Image.vue":__vite_glob_3_12,"/src/js/components/inputs/ImageOld.vue":__vite_glob_3_13,"/src/js/components/inputs/Locale.vue":__vite_glob_3_14,"/src/js/components/inputs/PaymentService.vue":__vite_glob_3_15,"/src/js/components/inputs/Phone.vue":__vite_glob_3_16,"/src/js/components/inputs/Price.vue":__vite_glob_3_17,"/src/js/components/inputs/Process.vue":__vite_glob_3_18,"/src/js/components/inputs/RadioGroup.vue":__vite_glob_3_19,"/src/js/components/inputs/Repeater.vue":__vite_glob_3_20,"/src/js/components/inputs/SelectScroll.vue":__vite_glob_3_21,"/src/js/components/inputs/SelectTag.vue":__vite_glob_3_22,"/src/js/components/inputs/Spread.vue":__vite_glob_3_23,"/src/js/components/inputs/Tag.vue":__vite_glob_3_24,"/src/js/components/inputs/Tagger.vue":__vite_glob_3_25,"/src/js/components/inputs/TermsCheckbox.vue":__vite_glob_3_26}),includeCustomComponents=Object.assign({"/src/js/components/customs/BoardInformation.vue":__vite_glob_0_0$1,"/src/js/components/customs/PackageSelector.vue":__vite_glob_0_1$1,"/src/js/components/customs/PressReleaseCardIterator.vue":__vite_glob_0_2,"/src/js/components/customs/TestApp.vue":__vite_glob_0_3});UECompose();const UEConfig={install:(e,a)=>{var o;window.vm=e,e.use(vuetify),e.use(store),e.use(i18n),e.use(broadcasting),e.config.globalProperties.$jquery=window.$,e.config.globalProperties.$axios=window.axios,e.config.globalProperties.$lodash=window._,e.config.globalProperties.window=window,e.config.globalProperties.$app=e,setI18nLocale(i18n,store.state.user.locale),loadLocaleMessages(i18n,((o=window.MODULARITY)==null?void 0:o.ENDPOINTS.languages)??""),e.config.globalProperties={...e.config.globalProperties,$getLocale:i18n.global.locale.value,$numberFormats:i18n.global.numberFormats.value,$te:function(r,l){const n=i18n.global.te;return n(r,l)??!1},$tc:function(r,l){const n=i18n.global.tc;return n(r,l)??!1},$plural:function(r){return pluralize.plural(r)},registerComponentsV1:function(r,l="",n="ue"){l=l!==""?l+"/":"",r.keys().forEach(i=>{const s=i.split("/").pop().split(".")[0],d=n+s.replace(/[A-Z]/g,c=>"-"+c.toLowerCase());e.component(d,require(`__components/${l}${s}.vue`).default)})},registerComponents:function(r,l="",n="Ue"){l=l!==""?l+"/":"",Object.keys(r).forEach(i=>{i.split("/").pop();const s=i.split("/").pop().split(".")[0],d=r[i],c=n+upperFirst(s);e.component(c,d.default)})},$call:function(r,...l){return this[r](...l)}},Object.keys(commonMethods).forEach(r=>{e.config.globalProperties[r]=commonMethods[r].bind(e.config.globalProperties)}),e.mixin({methods:{notif:function(r){this.$store.commit(ALERT$1.SET_ALERT,r)},openFreeMediaLibrary:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(MEDIA_LIBRARY.RESET_MEDIA_TYPE),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,-1),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!1),this.$root.$refs.main&&this.$root.$refs.main.$refs.mediaLibrary&&this.$root.$refs.main.$refs.mediaLibrary.openModal()}}}),e.component("VCustomFormBase",VCustomFormBase),e.component("UeDynamicModal",_sfc_main),e.component("UeModal",UEModal),e.component("UeModalMedia",UEModalMedia),e.config.globalProperties.registerComponents(includeGlobalComponents),e.config.globalProperties.registerComponents(includeIteratorComponents),e.config.globalProperties.registerComponents(includeLayouts,"layouts"),e.config.globalProperties.registerComponents(includeFormInputs,"inputs","VInput"),e.config.globalProperties.registerComponents(includeCustomComponents,"customs","UeCustom"),e.directive("mask",directive),e.use(SvgSprite),e.use(Column),e.use(FitGrid),e.use(Scrollable),e.use(Transition),e.use(ModalService$1),e.provide("$app",e)}},getFieldIndex=(e,a)=>e.findIndex(o=>o.name===a.name),state$1={baseUrl:window.MODULARITY.STORE.form.baseUrl||"",inputs:window.MODULARITY.STORE.form.inputs||{},serverValid:!0,errors:{},editedItem:window.MODULARITY.STORE.form.inputs?getModel(window.MODULARITY.STORE.form.inputs,null):{},loading:!1,taggableItems:{}},getters={defaultItem:e=>getModel(e.inputs)},mutations={[FORM.SET_EDITED_ITEM](e,a){e.editedItem=Object.assign({},a)},[FORM.RESET_EDITED_ITEM](e){e.editedItem=getModel(e.inputs)},[FORM.UPDATE_FORM_FIELD](e,a){let o=a.locale?{}:null;const r=getFieldIndex(e.fields,a);r!==-1&&(a.locale&&(o=e.fields[r].value||{}),e.fields.splice(r,1)),a.locale?o[a.locale]=a.value:o=a.value,e.fields.push({name:a.name,value:o})},[FORM.UPDATE_FORM_LOADING](e,a){e.loading=a||!e.loading},[FORM.SET_FORM_ERRORS](e,a){e.errors=a},[FORM.SET_SERVER_VALID](e,a){e.serverValid=a},[FORM.CLEAR_FORM_ERRORS](e){e.errors=[]},[FORM.SET_TAGGABLE_ITEMS](e,{taggable_type:a,items:o}){e.taggableItems[a]=o},[FORM.ADD_TAGGABLE_ITEM](e,{taggable_type:a,item:o}){e.taggableItems[a].push(o)}},actions={[ACTIONS.SAVE_FORM]({commit:e,state:a,getters:o,rootState:r,dispatch:l},{item:n=null,callback:i=null,errorCallback:s=null,plain:d=!1}){e(FORM.CLEAR_FORM_ERRORS),e(FORM.UPDATE_FORM_LOADING,!0);const c=d?n:getSubmitFormData(a.inputs,n??a.editedItem,r);let m="post",p=window.MODULARITY.ENDPOINTS.store;Object.prototype.hasOwnProperty.call(c,"id")&&(m="put",p=window.MODULARITY.ENDPOINTS.update.replace(":id",c.id)),api$1[m](p,c,function(u){if(e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(u.data,"errors"))e(FORM.SET_SERVER_VALID,!1),e(FORM.SET_FORM_ERRORS,u.data.errors);else if(Object.prototype.hasOwnProperty.call(u.data,"variant")&&u.data.variant.toLowerCase()==="success"){e(ALERT$1.SET_ALERT,{message:u.data.message,variant:u.data.variant}),e(FORM.SET_SERVER_VALID,!0),m==="post"&&e(FORM.RESET_EDITED_ITEM);try{l(ACTIONS.GET_DATATABLE)}catch{}}i&&typeof i=="function"&&i(u.data)},function(u){e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(u.data,"errors")?(e(FORM.SET_FORM_ERRORS,u.data.errors),e(FORM.SET_SERVER_VALID,!1)):Object.prototype.hasOwnProperty.call(u.data,"exception")?e(ALERT$1.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(l(ACTIONS.HANDLE_ERRORS,u.data),e(ALERT$1.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),s&&typeof s=="function"&&s(u.data)})},[ACTIONS.HANDLE_ERRORS]({commit:e,state:a,getters:o,rootState:r},l){const n=r.repeaters;Object.keys(l).forEach(i=>{const s=i.split(".");if(s.length>=4){const d=s[0],c=s[1],m=s[2],p=s[3];if(d==="repeaters"){const y=`blocks[${n[c][m].id}][${p}]`;l[y]=l[i]}}}),e(FORM.SET_FORM_ERRORS,l)}},form={state:state$1,getters,actions,mutations};export{ALERT$1 as A,UEConfig as U,__vite_glob_0_0$1 as _,__vite_glob_0_1$1 as a,__vite_glob_0_2 as b,__vite_glob_0_3 as c,ACTIONS as d,_export_sfc as e,form as f,api$2 as g,makeTableProps as m,store as s,useTable as u};
//# sourceMappingURL=form.dZWALe3o.js.map
