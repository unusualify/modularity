import{ad as useI18n,c as computed,r as reactive,t as toRefs,ah as lodash,b as ref,ai as omit,aj as isObject,ak as axios$1,al as reduce,am as cloneDeep,an as createStore,ao as map,ab as useStore,K as nextTick,l as watch$1,aa as router,G as onMounted,ap as lodashExports,aq as transform,ar as isEmpty,as as filter,at as find,au as useCurrencyInput,av as get,aw as set,ax as isEqual,d as inject,ay as isArray,az as isString,aA as isNumber,aB as snakeCase,aC as useAttrs,aD as useSlots,W as resolveComponent,$ as openBlock,a0 as createElementBlock,a2 as renderSlot,F as Fragment,a9 as renderList,a3 as createBlock,a1 as withCtx,m as mergeProps,u as unref,k as createVNode,a4 as createCommentVNode,a6 as createBaseVNode,L as toDisplayString,aE as normalizeClass,U as createTextVNode,aF as normalizeStyle,j as Transition$1,T as TransitionGroup,y as resolveDirective,n as withDirectives,aG as Draggable,ac as createSlots,J as resolveDynamicComponent,a7 as normalizeProps,a8 as guardReactiveProps,aH as withKeys,V as withModifiers,aI as mapState,aJ as mapGetters$1,v as vShow,g as getCurrentInstance,aK as debounce,aL as d,h,aM as RevolutCheckoutLoader,aN as includes,aO as isBoolean,e as defineComponent,aP as truncate,aQ as _default,aR as _default$1,aS as _default$2,aT as vModelSelect,o as isRef,aU as pick,q as toRef,aV as isNaN$1,aW as vueFilePond,aX as plugin,aY as plugin$1,aZ as plugin$2,a_ as setOptions,a$ as forEach,b0 as startCase,b1 as range,b2 as orderBy,b3 as jquery,b4 as hooks,b5 as pluralize,b6 as changeCase,b7 as isPlainObject,b8 as isFunction,b9 as delay,ba as findIndex,bb as toHandlerKey,p as provide,bc as toHandlers,bd as Pusher,be as createI18n,bf as upperFirst,bg as directive}from"./vendor.CTlBbFOA.js";import{p as propsFactory,u as useDisplay,n as useProxiedModel,o as VSwitch,q as VBadge,k as VBtn,l as VTooltip,g as VCard,r as VItemGroup,m as VContainer,a as VRow,s as VItem,b as VCol,t as VIcon,v as VTextField,w as VSelect,i as VCardText,x as VRadioGroup,y as VRadio,z as VCardTitle,A as VProgressCircular,B as VImg,C as VInput,D as VDataTableRow,R as Resize,E as VDataTableServer,j as VDivider,F as VPagination,G as VSlideXTransition,T as Tooltip,H as VMenu,I as VList,J as VListItem,K as VListItemTitle,L as VCardActions,M as VSpacer,N as VToolbar,O as VProgressLinear,P as VExpandTransition,Q as VCheckbox,S as Intersect,U as VLayout,W as VDataTableHeaders,X as VChipGroup,Y as VChip,Z as VDialog,_ as VForm,$ as VSnackbar,a0 as VMain,f as VSheet,a1 as VApp,a2 as VCardItem,a3 as VAlert,c as VExpansionPanel,d as VExpansionPanelTitle,e as VExpansionPanelText,V as VExpansionPanels,a4 as VHover,a5 as VToolbarTitle,a6 as VAvatar,a7 as VBottomSheet,a8 as VListGroup,a9 as VTable,aa as VStepperItem,ab as VStepperHeader,ac as VStepperWindow,ad as VStepperWindowItem,ae as useGoTo,af as VStepperActions,ag as VStepper,ah as VTab,ai as VTabs,aj as VTabsWindowItem,ak as VTabsWindow,al as VCardSubtitle,am as VFooter,an as VNavigationDrawer,ao as VAppBar,ap as VAppBarNavIcon,aq as VBreadcrumbs,ar as VSkeletonLoader,as as VTextarea,h as VCombobox,at as VCheckboxBtn,au as VInfiniteScroll,av as VDataTable,aw as VWindow,ax as VWindowItem,ay as VOverlay,az as VAutocomplete,aA as VNumberInput,aB as VListSubheader,aC as Touch,aD as ClickOutside,aE as VFileInput,aF as VSlider,aG as VBtnToggle,aH as VSystemBar,aI as VToolbarItems,aJ as createVuetify,aK as aliases,aL as mdi,aM as fa,aN as directives,aO as components,aP as VDateInput}from"./vuetify.BJtVVQgM.js";import{q as qq}from"./fine-uploader.C8t-Jhyu.js";import{P as PhoneNumber,b as awesomePhonenumberExports}from"./awesome-phonenumber.CPpBdrPW.js";const _export_sfc=(e,a)=>{const o=e.__vccOpts||e;for(const[n,l]of a)o[n]=l;return o},makeFormatterProps=propsFactory({ignoreFormatters:{type:[Array],default:[]}});function useFormatter(e,a,o=null){const{d:n,te:l,t:r}=useI18n({useScope:"global"}),i=computed(()=>((o==null?void 0:o.value)??[]).filter(s=>Object.prototype.hasOwnProperty.call(s,"formatter")&&s.formatter.length>0&&(!Object.prototype.hasOwnProperty.call(e,"ignoreFormatters")||!e.ignoreFormatters.includes(s.formatter[0]))||Object.prototype.hasOwnProperty.call(s,"formatterName")&&["edit","activate"].includes(s.formatterName)).map(s=>{let f=Object.prototype.hasOwnProperty.call(s,"formatterName")&&["edit","activate"].includes(s.formatterName)?s.formatterName:s.formatter[0];return{...s,formatterName:Object.prototype.hasOwnProperty.call(s,"formatterName")&&["edit","activate"].includes(s.formatterName)?s.formatterName:s.formatter[0],isFormatting:f!==s.formatter[0]}})),c=reactive({dateFormatter:function(s,f="long"){return{configuration:c.makeText(n(new Date(s),f))}},chipFormatter:function(s,f={}){return{configuration:c.makeChip(s,f)}},badgeFormatter:function(s,f={}){return{configuration:c.makeBadge(s,f)}},editFormatter:function(s){return{configuration:{elements:`${s}`,tag:"span",attributes:{onClick:"editItem"}}}},pascalFormatter:function(s){return lodash.startCase(lodash.camelCase(s)).replace(/ /g,"")},priceFormatter:(s,f="₺",p=null)=>({configuration:{elements:[{tag:"p",attributes:{class:"featured"},elements:`${f}${s}`},{tag:"p",attributes:{class:"value"},elements:`${p?`+${p}`:""}`}]}}),statusFormatter:(s,f=null,p=null)=>{const m=s===!0||s==="true"||s===1||s==="1";return{configuration:{tag:"v-icon",attributes:{size:"small",style:{color:m?"green":"red"},icon:m?"mdi-check":"mdi-close"}}}},shortenFormatter:function(s,f=10){return{configuration:{elements:window.__shorten(s,f)}}},makeChip:function(s,f={}){return{tag:"v-chip",attributes:{...f},elements:s}},makeBadge:function(s,f={}){return{tag:"v-badge",attributes:{...f,content:s}}},makeText:function(s){return{elements:s}}});function u(s,f){let p=lodash.cloneDeep(s);const y=`${p.shift()}Formatter`;try{return f==null||f===""?{configuration:{elements:""}}:c[y](f,...lodash(p))}catch(v){console.error(`${v}: ${y}`)}}return{formatterColumns:i,handleFormatter:u,...toRefs(c)}}const makeInputProps=propsFactory({modelValue:{type:[Array,Object,String,Number,Boolean],default:null},obj:{type:Object,default(){return{}}},label:{type:String,default:""},hideIfEmpty:{type:Boolean,default:!1},default:{type:[Array,Object,String,Number,Boolean],default:null},protectInitialValue:{type:Boolean,default:!1},isEditing:{type:Boolean,default:!1},editable:{type:[Boolean,String],default:!0},creatable:{type:[Boolean,String],default:!0}}),makeInputEmits=["update:modelValue","change","update:preview","focus","blur","click:append","click:appendInner","click:prepend","click:prependInner","click:clear","click:hour","click:minute","click:second","update:input"],makeInputInjects=["manualValidation"];function useInput(e,a){var u,s;const{modelValue:o,obj:n}=toRefs(e),l=ref(null),r=ref(o.value??(e==null?void 0:e.default)??((s=(u=e==null?void 0:e.obj)==null?void 0:u.schema)==null?void 0:s.default)??(Object.prototype.hasOwnProperty.call(e,"multiple")&&e.multiple?[]:null)),i=reactive({VInput:l,id:Math.ceil(Math.random()*1e6)+"-input",boundProps:omit(n.value.schema??{},["offset","order","col"]),initialValue:r,input:computed({get:()=>{var p,m;let f=o.value??(e==null?void 0:e.default)??((m=(p=e==null?void 0:e.obj)==null?void 0:p.schema)==null?void 0:m.default)??[];return e.convertObject&&Object.prototype.hasOwnProperty.call(e,"multiple")&&e.multiple&&(f=f.map(y=>isObject(y)?y[e.itemValue]:y)),Array.isArray(f)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&!e.multiple&&f.length===0&&(f=Array.isArray(o.value)?null:o.value),!Array.isArray(f)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&e.multiple&&(f=[]),a.initializeInput?a.initializeInput(f):f},set:(f,p)=>{a.updateModelValue?a.updateModelValue(f,p):c.emitModelValue(f,p)}})}),c=reactive({async validate(){this.$refs.VInput&&await this.$refs.VInput.validate()},updateModelValue:function(f,p){a.emit("update:modelValue",f,p)},emitModelValue:function(f,p){a.emit("update:modelValue",f,p)},makeReference(f){return`${f}-${i.id}`},getReference(f){return c.makeReference(f)}});return{...toRefs(c),...toRefs(i)}}function useInputHandlers(){const e=reactive({passwordHandler:function(o,n){o.schema[`${n}Icon`]=o.schema.type==="password"?"$visibility":"$non-visibility",o.schema.type=o.schema.type==="password"?"text":"password"}});function a(o,n){const l=lodash.camelCase(n);if(Object.prototype.hasOwnProperty.call(o.schema,"slotHandlers")&&Object.prototype.hasOwnProperty.call(o.schema.slotHandlers,l)){const i=`${lodash.camelCase(o.schema.slotHandlers[l])}Handler`;return e[i](o,l)}}return{invokeInputClickHandler:a,...toRefs(e)}}const inBrowser=typeof window<"u";inBrowser&&function(){const e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}();const Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;let _key=genKey();function genKey(){return Time.now().toFixed(3)}function pushState(e,a){const o=window.history;try{a&&o.replaceState({key:_key},"",e)}catch{window.location.replace(e)}}function replaceState(e){pushState(e,!0)}function getURLWithoutQuery(e=null){return e?getOrigin(e)+getPath(e):location.protocol+"//"+location.host+location.pathname}function getParameters(e=window.location){let a={};return new URL(e).searchParams.forEach(function(o,n){a[n]!==void 0?(Array.isArray(a[n])||(a[n]=[a[n]]),a[n].push(o)):a[n]=o}),a}function serializeParameters(e,a){const o=Object.keys(e).map(n=>{const l=e[n];return e.constructor===Array?n=`${a}[]`:e.constructor===Object&&(n=a?`${a}[${n}]`:n),typeof l=="object"?serializeParameters(l,n):`${n}=${encodeURIComponent(l)}`});return[].concat.apply([],o).join("&")}function addParametersToUrl(e,a,o){let n="";return __isString(a)?n=a:n=serializeParameters(a,o),n.length>0&&(n="?"+n),e+n}function removeQueryKeys(e=[]){const a=new URL(window.location.href);e.forEach(n=>a.searchParams.delete(n));const o=a.pathname+(a.searchParams.toString()?"?"+a.searchParams.toString():"");window.history.pushState({},"",o)}function getOrigin(e){return new URL(e).origin}function getPath(e){return new URL(e).pathname}function removeParameterFromUrl(e,a){const o=new URL(e);return o.searchParams.delete(a),o.toString()}function removeParameterFromHistory(e){window.history.replaceState({},"",removeParameterFromUrl(window.location.href,e))}function isSameUrl(e,a){return getURLWithoutQuery(e)===getURLWithoutQuery(a)}function isSamePath(e,a){return e===a}function globalError$1(e=null,a={message:"",value:null}){var r,i,c,u,s,f,p;let o="";e&&typeof e=="string"&&(o=`MODULARITY - [${e}]: `);const n=o+a.message,l=((i=(r=a==null?void 0:a.value)==null?void 0:r.response)==null?void 0:i.status)??((c=a==null?void 0:a.response)==null?void 0:c.status)??null;console.error(n),a!=null&&a.value&&((u=a.value)!=null&&u.response)&&((s=a.value.response)!=null&&s.data)&&console.error(a.value.response.data),l===401||l===419||(a!=null&&a.value&&((f=a.value)!=null&&f.response)&&((p=a.value.response)!=null&&p.data)?window.vm.config.globalProperties.$notif({message:a.value.response.data.message??"An error occurred",variant:a.value.response.data.variant??"error"}):window.vm.config.globalProperties.$notif({message:a.message,variant:"error"}))}const component$2="DATATABLE",api$2={get(e,a,o,n=null){axios$1.get(e,{params:a}).then(function(l){if(l.data.replaceUrl){const r=l.request.responseURL;replaceState(r)}o&&typeof o=="function"&&o(l.data,l)},function(l){n&&typeof n=="function"&&n({message:"Get request error.",value:l})})},delete(e,a,o,n){e=e.replace(":id",a),axios$1.delete(e).then(function(l){o&&typeof o=="function"&&o(l)},function(l){const r={message:"Delete request error.",value:l};globalError$1(component$2,r),n&&typeof n=="function"&&n(r)})},forceDelete(e,a,o,n){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(l){o&&typeof o=="function"&&o(l)},function(l){const r={message:"Force Delete request error.",value:l};globalError$1(component$2,r),n&&typeof n=="function"&&n(r)})},restore(e,a,o){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Restore request error.",value:n})})},duplicate(e,a,o){e=e.replace(":id",a),axios$1.put(e).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Duplicate request error.",value:n})})},reorder(e=null,a,o){const n=e??window.MODULARITY.ENDPOINTS.reorder;axios$1.post(n,{ids:a}).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component$2,{message:"Reorder request error.",value:l})})},bulkPublish(e,a,o){axios$1.post(e,{ids:a.ids,publish:a.toPublish}).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Bulk publish request error.",value:n})})},bulkFeature(e,a,o){axios$1.post(e,{ids:a.ids,feature:a.toFeature}).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Bulk feature request error.",value:n})})},bulkDelete(e,a,o){axios$1.post(e,{ids:a}).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Bulk delete request error.",value:n})})},bulkForceDelete(e,a,o){axios$1.post(e,{ids:a}).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Bulk force delete request error.",value:n})})},bulkRestore(e,a,o){axios$1.post(e,{ids:a}).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Bulk restore request error.",value:n})})},bulkDestroy(e,a,o){axios$1.post(e,{ids:a}).then(function(n){o&&typeof o=="function"&&o(n)},function(n){globalError$1(component$2,{message:"Bulk destroy request error.",value:n})})}},MOVE_BLOCK_TO_EDITOR="moveBlockToEditor",DUPLICATE_BLOCK="duplicateBlock",GET_BUCKETS="getBucketsData",SAVE_BUCKETS="saveBuckets",GET_DATATABLE="getDatatableDatas",SET_DATATABLE_NESTED="setDatatableNestedDatas",SET_DATATABLE="setDatatableDatas",TOGGLE_PUBLISH="togglePublishedData",DELETE_ITEM="deleteData",DUPLICATE_ITEM="duplicateData",RESTORE_ITEM="restoreData",DESTROY_ITEM$1="destroyData",TOGGLE_FEATURE="toggleFeaturedData",BULK_PUBLISH="bulkPublishData",BULK_FEATURE="bulkFeatureData",BULK_EXPORT="bulkExportData",BULK_DELETE="bulkDeleteData",BULK_RESTORE="bulkRestoreData",BULK_DESTROY="bulkDestroyData",REPLACE_FORM="replaceFormData",SAVE_FORM="saveFormData",UPDATE_FORM_IN_LISTING="updateFormInListing",CREATE_FORM_IN_MODAL="createFormInModal",SHOW_ALERT="showAlert",GET_ALL_PREVIEWS="getAllPreviews",GET_PREVIEW="getPreview",GET_REVISION="getRevisionContent",GET_CURRENT="getCurrentContent",ACTIONS={GET_BUCKETS,SAVE_BUCKETS,GET_DATATABLE,SET_DATATABLE_NESTED,SET_DATATABLE,TOGGLE_PUBLISH,DELETE_ITEM,DUPLICATE_ITEM,RESTORE_ITEM,DESTROY_ITEM:DESTROY_ITEM$1,TOGGLE_FEATURE,BULK_PUBLISH,BULK_FEATURE,BULK_EXPORT,BULK_DELETE,BULK_RESTORE,BULK_DESTROY,REPLACE_FORM,SAVE_FORM,UPDATE_FORM_IN_LISTING,CREATE_FORM_IN_MODAL,GET_ALL_PREVIEWS,GET_PREVIEW,GET_REVISION,GET_CURRENT,MOVE_BLOCK_TO_EDITOR,DUPLICATE_BLOCK,SHOW_ALERT},PREVENT_SUBMIT="preventSubmit",ALLOW_SUBMIT="allowSubmit",UPDATE_FORM_PERMALINK="updateFormPermalink",UPDATE_FORM_FIELD="updateFormField",REMOVE_FORM_FIELD="removeFormField",ADD_FORM_BLOCK="addFormBlock",DELETE_FORM_BLOCK="deleteFormBlock",DUPLICATE_FORM_BLOCK="duplicateFormBlock",DUPLICATE_BLOCK_FORM_FIELDS="duplicateBlockFormFields",ADD_REPEATERS="duplicateBlockRepeaters",REORDER_FORM_BLOCKS="reorderFormBlocks",UPDATE_FORM_LOADING="updateFormLoading",SET_FORM_ERRORS="setFormErrors",SET_SERVER_VALID="setServerValid",CLEAR_FORM_ERRORS="clearFormErrors",UPDATE_FORM_SAVE_TYPE="updateFormSaveType",REPLACE_FORM_FIELDS="replaceFormField",ADD_FORM_FIELDS="addFormField",EMPTY_FORM_FIELDS="emptyFormField",SET_EDITED_ITEM="setEditedItem",RESET_EDITED_ITEM="resetEditedItem",EMPTY_MODAL_FIELDS="emptyModalField",UPDATE_MODAL_FIELD="updateModalField",REMOVE_MODAL_FIELD="removeModalField",REPLACE_MODAL_FIELDS="replaceModalField",SET_TAGGABLE_ITEMS="setTaggableItems",ADD_TAGGABLE_ITEM="addTaggableItem",FORM={SET_EDITED_ITEM,RESET_EDITED_ITEM,SET_SERVER_VALID,PREVENT_SUBMIT,ALLOW_SUBMIT,UPDATE_FORM_PERMALINK,UPDATE_FORM_FIELD,REMOVE_FORM_FIELD,ADD_FORM_BLOCK,DELETE_FORM_BLOCK,DUPLICATE_FORM_BLOCK,DUPLICATE_BLOCK_FORM_FIELDS,ADD_REPEATERS,REORDER_FORM_BLOCKS,UPDATE_FORM_LOADING,SET_FORM_ERRORS,CLEAR_FORM_ERRORS,UPDATE_FORM_SAVE_TYPE,REPLACE_FORM_FIELDS,ADD_FORM_FIELDS,EMPTY_FORM_FIELDS,EMPTY_MODAL_FIELDS,UPDATE_MODAL_FIELD,REMOVE_MODAL_FIELD,REPLACE_MODAL_FIELDS,SET_TAGGABLE_ITEMS,ADD_TAGGABLE_ITEM},SET_ALERT="__setAlert",SET_ALERT_SHOW="__setAlertShow",CLEAR_ALERT="__clearAlert",SET_DIALOG="__setDialog",SET_DIALOG_SHOW="__setDialogShow",CLEAR_DIALOG="__clearDialog",ALERT$1={SET_ALERT,SET_ALERT_SHOW,CLEAR_ALERT,SET_DIALOG,SET_DIALOG_SHOW,CLEAR_DIALOG},SET_ACCESSIBLE="setMediaLibraryAccessible",SET_SHOW_MODAL="setMediaLibraryShowModal",OPEN_MODAL="openMediaLibraryModal",CLOSE_MODAL="closeMediaLibraryModal",UPDATE_MEDIA_TYPE_TOTAL="updateMediaTypeTotal",INCREMENT_MEDIA_TYPE_TOTAL="incrementMediaTypeTotal",DECREMENT_MEDIA_TYPE_TOTAL="decrementMediaTypeTotal",SAVE_MEDIAS="saveSelectedMedias",UPDATE_MEDIAS="updateMedias",DESTROY_MEDIAS="destroySelectedMedias",REORDER_MEDIAS="reorderSelectedMedias",PROGRESS_UPLOAD="progressUpload",PROGRESS_UPLOAD_MEDIA="progressUploadMedia",DONE_UPLOAD_MEDIA="doneUploadMedia",ERROR_UPLOAD_MEDIA="errorUploadMedia",DESTROY_SPECIFIC_MEDIA="destroyMediasInSelected",UPDATE_MEDIA_MAX="updateMediaMax",UPDATE_MEDIA_FILESIZE_MAX="updateMediaFilesizeMax",UPDATE_MEDIA_WIDTH_MIN="updateMediaWidthMin",UPDATE_MEDIA_HEIGHT_MIN="updateMediaHeightMin",UPDATE_MEDIA_TYPE="updateMediaType",RESET_MEDIA_TYPE="resetMediaType",SET_MEDIA_CROP="setMediaCrop",SET_MEDIA_METADATAS="setMediaMetadatas",UPDATE_MEDIA_CONNECTOR="updateMediaConnector",UPDATE_MEDIA_MODE="updateMediaMode",DESTROY_MEDIA_CONNECTOR="destroyMediaConnector",UPDATE_REPLACE_INDEX="updateReplaceIndex",ADD_MEDIAS="addMedias",UPDATE_IS_INSERTED="updateIsInserted",MEDIA_LIBRARY={SET_ACCESSIBLE,SET_SHOW_MODAL,OPEN_MODAL,CLOSE_MODAL,UPDATE_MEDIA_TYPE_TOTAL,INCREMENT_MEDIA_TYPE_TOTAL,DECREMENT_MEDIA_TYPE_TOTAL,SAVE_MEDIAS,DESTROY_MEDIAS,REORDER_MEDIAS,PROGRESS_UPLOAD,PROGRESS_UPLOAD_MEDIA,DONE_UPLOAD_MEDIA,ERROR_UPLOAD_MEDIA,DESTROY_SPECIFIC_MEDIA,UPDATE_MEDIA_MAX,UPDATE_MEDIA_FILESIZE_MAX,UPDATE_MEDIA_WIDTH_MIN,UPDATE_MEDIA_HEIGHT_MIN,UPDATE_MEDIA_TYPE,RESET_MEDIA_TYPE,SET_MEDIA_CROP,SET_MEDIA_METADATAS,UPDATE_MEDIA_CONNECTOR,UPDATE_MEDIA_MODE,DESTROY_MEDIA_CONNECTOR,UPDATE_REPLACE_INDEX,UPDATE_MEDIAS,ADD_MEDIAS,UPDATE_IS_INSERTED},SWITCH_LANG="switchLanguage",UPDATE_LANG="updateLanguage",PUBLISH_LANG="updatePublishedLanguage",PUBLISH_SINGLE_LANG="publishLanguage",REPLACE_LANGUAGES="replaceLanguages",RESET_LANGUAGES="resetLanguages",LANGUAGE={SWITCH_LANG,UPDATE_LANG,PUBLISH_LANG,PUBLISH_SINGLE_LANG,REPLACE_LANGUAGES,RESET_LANGUAGES},SAVE_ITEMS="saveSelectedItems",DESTROY_ITEMS="destroyAllItems",DESTROY_ITEM="destroySelectedItem",REORDER_ITEMS="reorderSelectedItems",UPDATE_BROWSER_MAX="updateBrowserMax",UPDATE_BROWSER_TITLE="updateBrowserTitle",UPDATE_BROWSER_NOTE="updateBrowserNote",UPDATE_BROWSER_CONNECTOR="updateBrowserConnector",DESTROY_BROWSER_CONNECTOR="destroyBrowserConnector",UPDATE_BROWSER_ENDPOINT="updateBrowserEndpoint",UPDATE_BROWSER_ENDPOINTS="updateBrowserEndpoints",DESTROY_BROWSER_ENDPOINT="destroyBrowserEndpoint",DESTROY_BROWSER_ENDPOINTS="destroyBrowserEndpoints",ADD_BROWSERS="addBrowsers",BROWSER={SAVE_ITEMS,DESTROY_ITEMS,DESTROY_ITEM,REORDER_ITEMS,UPDATE_BROWSER_MAX,UPDATE_BROWSER_TITLE,UPDATE_BROWSER_NOTE,UPDATE_BROWSER_CONNECTOR,DESTROY_BROWSER_CONNECTOR,UPDATE_BROWSER_ENDPOINT,DESTROY_BROWSER_ENDPOINT,UPDATE_BROWSER_ENDPOINTS,DESTROY_BROWSER_ENDPOINTS,ADD_BROWSERS},SIDEBAR_TOGGLE="__sidebarToggle",SET_SIDEBAR="__setSidebar",SET_REQUEST_IN_PROGRESS="__setRequestInProgress",INCREASE_AXIOS_REQUEST="__increaseAxiosRequest",DECREASE_AXIOS_REQUEST="__decreaseAxiosRequest",CONFIG={SIDEBAR_TOGGLE,SET_SIDEBAR,SET_REQUEST_IN_PROGRESS,INCREASE_AXIOS_REQUEST,DECREASE_AXIOS_REQUEST},SET_PROFILE_DATA="__setProfileData",OPEN_LOGIN_MODAL="__openLoginModal",CLOSE_LOGIN_MODAL="__closeLoginModal",USER={SET_PROFILE_DATA,OPEN_LOGIN_MODAL,CLOSE_LOGIN_MODAL},GET_CACHE="getCache",PUT_CACHE="putCache",PUSH_CACHE="pushCache",GET_LAST_CACHE="getLastCache",FORGET_CACHE="forgetCache",HAS_CACHE="hasCache",CACHE$1={GET_CACHE,PUT_CACHE,GET_LAST_CACHE,PUSH_CACHE,FORGET_CACHE,HAS_CACHE};var ce,ue,me,fe,pe;const state$8={test:((ce=window.MODULARITY)==null?void 0:ce.STORE.config.test)??!1,isInertia:((ue=window.MODULARITY)==null?void 0:ue.STORE.config.isInertia)??!1,profileMenu:((me=window.MODULARITY)==null?void 0:me.STORE.config.profileMenu)??[],sidebarStatus:!0,sidebarOptions:((fe=window.MODULARITY)==null?void 0:fe.STORE.config.sidebarOptions)??!1,secondarySidebarOptions:((pe=window.MODULARITY)==null?void 0:pe.STORE.config.secondarySidebarOptions)??!1,isRequestInProgress:!1,ongoingAxiosRequests:0},getters$7={sidebarStatus:e=>e.sidebarStatus,sidebarOptions:e=>e.sidebarOptions,secondarySidebarOptions:e=>e.secondarySidebarOptions,isRequestInProgress:e=>e.isRequestInProgress,ongoingAxiosRequests:e=>e.ongoingAxiosRequests},mutations$7={[CONFIG.SIDEBAR_TOGGLE](e){e.sidebarStatus=!e.sidebarStatus},[CONFIG.SET_SIDEBAR](e,a=!0){e.sidebarStatus=a},[CONFIG.SET_REQUEST_IN_PROGRESS](e,a=!0){e.isRequestInProgress=a},[CONFIG.INCREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests+=1,e.isRequestInProgress=e.ongoingAxiosRequests>0},[CONFIG.DECREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests-=1,e.isRequestInProgress=e.ongoingAxiosRequests>0}},config={state:state$8,getters:getters$7,mutations:mutations$7},filters={slugify:function(e){let a="";newValue.value&&typeof newValue.value=="string"?a=newValue.value:typeof newValue=="string"&&(a=newValue);const o={",":"-","/":"-",":":"-",";":"-",_:"-","©":"(c)","·":"-",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",þ:"th",ÿ:"y",ā:"a",ă:"a",ą:"a",ć:"c",č:"c",ď:"d",ē:"e",ę:"e",ě:"e",ğ:"g",ģ:"g",ī:"i",ı:"i",ķ:"k",ļ:"l",ł:"l",ń:"n",ņ:"n",ň:"n",ő:"o",œ:"oe",ŕ:"r",ř:"r",ś:"s",ş:"s",š:"s",ť:"t",ū:"u",ů:"u",ű:"u",ź:"z",ż:"z",ž:"z",ǘ:"u",ǵ:"g",ǹ:"n",ș:"s",ț:"t",ΐ:"i",ά:"a",έ:"e",ή:"h",ί:"i",ΰ:"y",α:"a",β:"b",γ:"g",δ:"d",ε:"e",ζ:"z",η:"h",θ:"8",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"3",ο:"o",π:"p",ρ:"r",ς:"s",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"w",ϊ:"i",ϋ:"y",ό:"o",ύ:"y",ώ:"w",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ж:"zh",з:"z",и:"i",й:"j",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",ё:"yo",є:"ye",і:"i",ї:"yi",ґ:"g",ḧ:"h",ḿ:"m",ṕ:"p",ẃ:"w",ẍ:"x",ә:"a",ғ:"g",қ:"q",ң:"n",ө:"o",ұ:"u"},n=new RegExp(Object.keys(o).join("|"),"g");return a.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(n,l=>o[l]).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||e===0?e.toString().toUpperCase():""},lowercase:function(e){return e||e===0?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},isViewOnlyInput=e=>Object.prototype.hasOwnProperty.call(e,"viewOnlyComponent"),isFormEventInput=e=>Object.prototype.hasOwnProperty.call(e,"isEvent")&&e.isEvent&&(["select","autocomplete","combobox","switch"].includes(e.type)||__isset(e.viewOnlyComponent)||e.noSubmit),getTranslationInputsCount=e=>getTranslationInputs(e).length,getTranslationInputs=(e,a=[])=>_.reduce(e,(o,n)=>(__isset(n)&&__isset(n.schema)&&["wrap","group","repeater","input-repeater"].includes(n.type)?o=getTranslationInputs(n.schema,o):Object.prototype.hasOwnProperty.call(n,"translated")&&n.translated&&o.push(n),o),a),flattenGroupSchema=(e,a)=>reduce(e,(o,n,l)=>{const r=l.split(".").filter(i=>i!==a).join(".");return o[r]=n,o},{}),processInputs=e=>reduce(e,(a,o,n)=>(o.type==="wrap"&&o.schema?Object.assign(a,processInputs(o.schema)):o.type==="groupz"&&o.schema||(o.slotable,a[n]=o),a),{});var he,ge,ye,_e,ve,be,Ce,ke,Ve,we,Se,Be;const state$7={showModal:!1,accessible:!1,crops:((ge=(he=window.MODULARITY)==null?void 0:he.STORE)==null?void 0:ge.medias.crops)||{},showFileName:((_e=(ye=window.MODULARITY)==null?void 0:ye.STORE)==null?void 0:_e.medias.showFileName)||!1,types:((be=(ve=window.MODULARITY)==null?void 0:ve.STORE)==null?void 0:be.medias.types)||[],type:"image",connector:null,isInserted:!1,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:((ke=(Ce=window.MODULARITY)==null?void 0:Ce.STORE)==null?void 0:ke.medias.selected)||{},config:((we=(Ve=window.MODULARITY)==null?void 0:Ve.STORE)==null?void 0:we.medias.config)||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1,showModal:((Be=(Se=window.MODULARITY)==null?void 0:Se.STORE)==null?void 0:Be.medias.openModal)||!1},getters$6={mediaLibraryAccessible:e=>e.accessible,mediasByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(l=>l.startsWith(`blocks[${a}]`)),n={};return o.forEach(l=>n[l]=e.selected[l]),n}},mutations$6={[MEDIA_LIBRARY.SET_ACCESSIBLE](e,a){e.accessible=a},[MEDIA_LIBRARY.SET_SHOW_MODAL](e,a){e.showModal=a},[MEDIA_LIBRARY.OPEN_MODAL](e){e.showModal=!0},[MEDIA_LIBRARY.CLOSE_MODAL](e){e.showModal=!1},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a.type&&(o.total=a.total),o))},[MEDIA_LIBRARY.UPDATE_REPLACE_INDEX](e,a){e.indexToReplace=a},[MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total+1),o))},[MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total-1),o))},[MEDIA_LIBRARY.UPDATE_MEDIAS](e,{mediaRole:a,index:o,media:n}){e.selected[a][o]=n},[MEDIA_LIBRARY.SAVE_MEDIAS](e,a){if(e.connector){const o=e.connector,n=e.selected[o]&&e.selected[o].length;if(n&&e.indexToReplace>-1)e.selected[o].splice(e.indexToReplace,1,cloneDeep(a[0]));else if(n)a.forEach(function(l){e.selected[o].push(cloneDeep(l))});else{const l={};l[o]=a,e.selected=Object.assign({},e.selected,l)}e.indexToReplace=-1}},[MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA](e,a){},[MEDIA_LIBRARY.DESTROY_MEDIAS](e,a){e.selected[a]&&delete e.selected[a],e.connector=null},[MEDIA_LIBRARY.REORDER_MEDIAS](e,a){const o={};o[a.name]=a.medias,e.selected=Object.assign({},e.selected,o)},[MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA](e,a){const o=e.loading.filter(n=>n.id===a.id);o.length?(o[0].error=!1,o[0].progress=a.progress):e.loading.unshift({id:a.id,name:a.name,progress:a.progress,replacementId:a.replacementId,isReplacement:a.isReplacement})},[MEDIA_LIBRARY.PROGRESS_UPLOAD](e,a){e.uploadProgress=a},[MEDIA_LIBRARY.DONE_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,n){o.id===a.id&&e.loading.splice(n,1)})},[MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,n){o.id===a.id&&(e.loading[n].progress=0,e.loading[n].error=!0,e.loading[n].errorMessage=a.errorMessage)})},[MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR](e,a){a&&a!==""?e.connector=a:e.connector=null},[MEDIA_LIBRARY.UPDATE_IS_INSERTED](e,a){e.isInserted=a},[MEDIA_LIBRARY.UPDATE_MEDIA_MODE](e,a){e.strict=a},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE](e,a){a&&a!==""&&(e.type=a)},[MEDIA_LIBRARY.RESET_MEDIA_TYPE](e){e.type=e.types[0].value},[MEDIA_LIBRARY.UPDATE_MEDIA_MAX](e,a){e.max=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX](e,a){e.filesizeMax=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN](e,a){e.widthMin=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN](e,a){e.heightMin=Math.max(0,a)},[MEDIA_LIBRARY.SET_MEDIA_METADATAS](e,a){const o=a.media.context,n=e.selected[o],l=a.value;function r(i){return l.locale?(i.metadatas.custom[l.id]||(i.metadatas.custom[l.id]={}),i.metadatas.custom[l.id][l.locale]=l.value):i.metadatas.custom[l.id]=l.value,i}if(a.media.hasOwnProperty("index")){const i=r(cloneDeep(n[a.media.index]));n[a.media.index]=i}},[MEDIA_LIBRARY.DESTROY_MEDIA_CONNECTOR](e){e.connector=null},[MEDIA_LIBRARY.SET_MEDIA_CROP](e,a){const o=a.key,n=a.index,l=e.selected[o][n];function r(c){c.crops||(c.crops={});for(const u in a.values){const s={};s.name=a.values[u].name||u,s.x=a.values[u].x,s.y=a.values[u].y,s.width=a.values[u].width,s.height=a.values[u].height,c.crops[u]=s}return c}const i=r(cloneDeep(l));e.selected[o][n]=i},[MEDIA_LIBRARY.ADD_MEDIAS](e,{medias:a}){e.selected=Object.assign({},e.selected,a)}},actions$3={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:n}){const l={...a.mediasByBlockId(o.id)},r=Object.keys(l),i={};r.forEach(c=>i[c.replace(o.id,n)]=[...l[c]]),e(MEDIA_LIBRARY.ADD_MEDIAS,{medias:i})}},mediaLibrary={state:state$7,getters:getters$6,mutations:mutations$6,actions:actions$3},state$6={success:null,info:null,warning:null,error:null,show:!1,type:"info",message:null,location:"bottom",dialog:!1,dialogMessage:null},getters$5={notifByVariant:e=>a=>e[a],notified:e=>Object.keys(e).filter(a=>e[a]!==null).length===0},mutations$5={[ALERT$1.SET_ALERT_SHOW](e,a){e.show=a},[ALERT$1.SET_ALERT](e,a){e.type=a.variant??e.type,e.location=a.location??e.location,e.message=a.message??null,e.show=!0},[ALERT$1.CLEAR_ALERT](e,a){e.show=!1,e.type="info",e.message=null},[ALERT$1.SET_DIALOG_SHOW](e,a){e.dialog=a},[ALERT$1.SET_DIALOG](e,a){e.dialogMessage=a.message??null,e.dialog=!0},[ALERT$1.CLEAR_DIALOG](e){e.dialog=!1,e.dialogMessage=null}},actions$2={[ACTIONS.SHOW_ALERT]({commit:e},a){e(ALERT$1.SET_ALERT,a)}},alert$1={state:state$6,getters:getters$5,mutations:mutations$5,actions:actions$2};var Ae,Ee,Ne,Ie,Te,De,Me,$e,Pe,xe,Fe,Oe,Re,Le,Ue,je,ze,He,Ke,Ge,qe,Ye,We,Xe,Qe,Ze,Je;const state$5={locale:((Ae=window.MODULARITY)==null?void 0:Ae.LOCALE)??"en",timezone:((Ee=window.MODULARITY)==null?void 0:Ee.TIMEZONE)??"Europe/London",authorization:((Ne=window.MODULARITY)==null?void 0:Ne.AUTHORIZATION)??{},isGuest:((De=(Te=(Ie=window.MODULARITY)==null?void 0:Ie.STORE)==null?void 0:Te.user)==null?void 0:De.isGuest)??!1,profileDialog:!1,profile:((Pe=($e=(Me=window.MODULARITY)==null?void 0:Me.STORE)==null?void 0:$e.user)==null?void 0:Pe.profile)??{},profileRoute:((Oe=(Fe=(xe=window.MODULARITY)==null?void 0:xe.STORE)==null?void 0:Fe.user)==null?void 0:Oe.profileRoute)??"",profileShortcutModel:((Ue=(Le=(Re=window.MODULARITY)==null?void 0:Re.STORE)==null?void 0:Le.user)==null?void 0:Ue.profileShortcutModel)??{},profileShortcutSchema:((He=(ze=(je=window.MODULARITY)==null?void 0:je.STORE)==null?void 0:ze.user)==null?void 0:He.profileShortcutSchema)??{},showLoginModal:!1,loginShortcutModel:((qe=(Ge=(Ke=window.MODULARITY)==null?void 0:Ke.STORE)==null?void 0:Ge.user)==null?void 0:qe.loginShortcutModel)??{},loginShortcutSchema:((Xe=(We=(Ye=window.MODULARITY)==null?void 0:Ye.STORE)==null?void 0:We.user)==null?void 0:Xe.loginShortcutSchema)??{},loginRoute:((Je=(Ze=(Qe=window.MODULARITY)==null?void 0:Qe.STORE)==null?void 0:Ze.user)==null?void 0:Je.loginRoute)??""},getters$4={userProfile:e=>e.profile,isGuest:e=>e.isGuest,isSuperAdmin:e=>e.authorization.isSuperAdmin??!1,isClient:e=>e.authorization.isClient??!1,userLocale:e=>e.locale,hasRestorable:e=>e.authorization.hasRestorable??!1,hasBulkable:e=>e.authorization.hasBulkable??!1,userPermissions:e=>e.authorization.permissions??[],userRoles:e=>e.authorization.roles??[]},actions$1={},mutations$4={[USER.SET_PROFILE_DATA](e,a){e.profile=a},[USER.OPEN_LOGIN_MODAL](e){e.showLoginModal=!0},[USER.CLOSE_LOGIN_MODAL](e){e.showLoginModal=!1}},user={state:state$5,getters:getters$4,actions:actions$1,mutations:mutations$4};var et,tt,at,ot;const state$4={all:((et=window.MODULARITY)==null?void 0:et.STORE.languages.all)||[],initialAll:((tt=window.MODULARITY)==null?void 0:tt.STORE.languages.all)||[],active:((at=window.MODULARITY)==null?void 0:at.STORE.languages.active)||((ot=window.MODULARITY)==null?void 0:ot.STORE.languages.all[0])||{}},getters$3={publishedLanguages:e=>e.all.filter(a=>a.published)},mutations$3={[LANGUAGE.SWITCH_LANG](e,{oldValue:a}){function o(r){return r.value===a.value}const n=e.all.findIndex(o),l=n<e.all.length-1?n+1:0;e.active=e.all[l]},[LANGUAGE.UPDATE_LANG](e,a){function o(l){return l.value===a}const n=e.all.findIndex(o);e.active=e.all[n]},[LANGUAGE.PUBLISH_LANG](e,a){e.all.forEach(function(o){o.published=!!a.includes(o.value)})},[LANGUAGE.PUBLISH_SINGLE_LANG](e,a){function o(l){return l.value===a}const n=e.all.findIndex(o);e.all[n].published=!e.all[n].published},[LANGUAGE.REPLACE_LANGUAGES](e,a){e.all=a},[LANGUAGE.RESET_LANGUAGES](e){e.all=e.initialAll}},language={state:state$4,getters:getters$3,mutations:mutations$3};var nt;const state$3={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:((nt=window.MODULARITY)==null?void 0:nt.STORE.browser.selected)||{}},getters$2={selectedItemsByIds:e=>{const a=[];for(const o in e.selected)a[o]=e.selected[o].map(n=>`${n.endpointType}_${n.id}`);return a},browsersByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(l=>l.startsWith(`blocks[${a}]`)),n={};return o.forEach(l=>n[l]=e.selected[l]),n}},mutations$2={[BROWSER.SAVE_ITEMS](e,a){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=a;else{const o={};o[e.connector]=a,e.selected=Object.assign({},e.selected,o)}},[BROWSER.DESTROY_ITEMS](e,a){e.selected[a.name]},[BROWSER.DESTROY_ITEM](e,a){e.selected[a.name]&&(e.selected[a.name].splice(a.index,1),e.connector=null)},[BROWSER.REORDER_ITEMS](e,a){const o={};o[a.name]=a.items,e.selected=Object.assign({},e.selected,o)},[BROWSER.UPDATE_BROWSER_MAX](e,a){e.max=Math.max(0,a)},[BROWSER.UPDATE_BROWSER_CONNECTOR](e,a){a&&a!==""&&(e.connector=a)},[BROWSER.UPDATE_BROWSER_TITLE](e,a){a&&a!==""&&(e.title=a)},[BROWSER.UPDATE_BROWSER_NOTE](e,a){e.note=a},[BROWSER.DESTROY_BROWSER_CONNECTOR](e){e.connector=null},[BROWSER.UPDATE_BROWSER_ENDPOINT](e,a){a&&a!==""&&(e.endpoint=a.value,e.endpointName=a.label||"")},[BROWSER.DESTROY_BROWSER_ENDPOINT](e){e.endpoint="",e.endpointName=""},[BROWSER.UPDATE_BROWSER_ENDPOINTS](e,a){!a&&!a.length>0||(e.endpoints=a,e.endpoint=a[0].value,e.endpointName=a[0].label)},[BROWSER.DESTROY_BROWSER_ENDPOINTS](e){e.endpoints=[]},[BROWSER.ADD_BROWSERS](e,{browsers:a}){e.selected=Object.assign({},e.selected,a)}},actions={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:n}){const l={...a.browsersByBlockId(o.id)},r=Object.keys(l),i={};r.forEach(c=>i[c.replace(o.id,n)]=[...l[c]]),e(BROWSER.ADD_BROWSERS,{browsers:i})}},browser={state:state$3,getters:getters$2,mutations:mutations$2,actions};var rt,lt,it,st,dt,ct,ut;const state$2={isHot:((rt=window.MODULARITY)==null?void 0:rt.STORE.ambient.isHot)??!1,appEnv:((lt=window.MODULARITY)==null?void 0:lt.STORE.ambient.appEnv)??"",appName:((it=window.MODULARITY)==null?void 0:it.STORE.ambient.appName)??"",appEmail:((st=window.MODULARITY)==null?void 0:st.STORE.ambient.appEmail)??"",appDebug:((dt=window.MODULARITY)==null?void 0:dt.STORE.ambient.appDebug)??!1,test:((ct=window.MODULARITY)==null?void 0:ct.STORE.ambient.test)??!1,systemPackageVersions:((ut=window.MODULARITY)==null?void 0:ut.STORE.ambient.systemPackageVersions)??{}},getters$1={isHot:e=>e.isHot,appName:e=>e.appName,appEmail:e=>e.appEmail,appEnv:e=>e.appEnv,appDebug:e=>e.appDebug,versions:e=>e.systemPackageVersions},mutations$1={},ambient={state:state$2,getters:getters$1,mutations:mutations$1},state$1={},getters={[CACHE$1.GET_CACHE]:e=>a=>e[a]??null,[CACHE$1.GET_LAST_CACHE]:e=>a=>e[a]?Array.isArray(e[a])?lodash.last(e[a]):e[a]:null,[CACHE$1.HAS_CACHE]:e=>a=>e[a]!==void 0},mutations={[CACHE$1.PUT_CACHE](e,a){const{key:o,value:n}=a;e[o]=n},[CACHE$1.PUSH_CACHE](e,a){const{key:o,value:n}=a;e[o]?Array.isArray(e[o])||(e[o]=[e[o]]):e[o]=[],e[o]=[...e[o],n]},[CACHE$1.FORGET_CACHE](e,a){delete e[a]}},cache={state:state$1,getters,mutations},store=createStore({modules:{ambient,user,alert:alert$1,config,language,mediaLibrary,browser,cache}}),getTranslationLanguages=e=>map(window.MODULARITY.STORE.languages.all,"value"),formatHelpers={handlers:(e,a,o=null)=>{const n=e.name,l=e.name,r=e.key??e.name,i=e;let c=__data_get(a,isNaN(parseInt(o))?l:`${o}.${l}`);return!c&&__isset(i.parentName)&&(c=__data_get(a,isNaN(o)?`${i.parentName}.${l}`:`${o}.${i.parentName}.${l}`)),{handlerName:n,handlerModelName:l,handlerSchemaName:r,handlerSchema:i,handlerValue:c}},getInputToFormat:(e,a,o,n,l)=>{let r=e.shift(),i=[],c=r.split("."),u=parseInt(c[0]);if(isNaN(u))u=l;else if(!Array.isArray(a))return!1;return Array.isArray(a)&&(isNaN(u)||(u-=1,c.shift()),i.push(`[${u}]`)),r=c.join("."),i.push(r),i.join(".")},getNewValue:(e,a,o)=>{let n;if(a){let l=[],r=__wildcard_change(e,a);l=__data_get(o,r,null),Array.isArray(l)&&l.length>0?n=l.shift():l!=null&&(n=l)}return n}};async function formatClearModel(e,a,o,n,l=null,r=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;formatHelpers.handlers(n,a,l);let c=lodash.get(o,i),u=(c==null?void 0:c.default)??[];lodash.set(a,i,u),lodash.get(r,i)&&lodash.unset(r,i)}async function formatFilter(e,a,o,n,l=null,r=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;let{handlerName:c,handlerModelName:u,handlerSchema:s,handlerValue:f}=formatHelpers.handlers(n,a,l);const p=e.shift(),m=e.shift();let y,v,g;f[m]?(g=f[m],y=n.filterEndpoint[g],v=f[p]):(g=u,y=n.filterEndpoint,v=f);let C=`${i}.${p}`,k=lodash.get(o,`${i}.eagers`)??[],b=lodash.get(o,`${i}.lazy`)??[];lodash.get(o,C)||lodash.set(o,C,[]);let w=lodash.cloneDeep(lodash.get(o,C));for(const S in w)v.includes(w[S].id)||w.splice(S,1);for(const S in v){const T=v[S];if(!w.find(V=>V.id==T))try{let V={};b.length>0&&(V.lazy=b),k.length>0&&(V.eagers=k);let A=await axios.get(y.replace(`{${lodash.snakeCase(g)}}`,T),{params:V});w.push(A.data)}catch(V){console.error("An error occurred:",V),V.response?globalError("",{message:"formatFilter error",value:V}):V.request?console.error("No response received:",V.request):console.error("Error message:",V.message)}}lodash.set(o,C,lodash.orderBy(w,["id"],["asc"]))}async function formatLock(e,a,o,n,l=null,r=[]){var p;const i=n.name,c=o[i],u=a[i];Array.isArray(u)&&u.length>0||Array.isArray(u);const s=e.shift(),f=e.shift();if(["select","combobox"].includes(c.type)&&u){const m=(p=c.items.find(y=>y[c.itemValue]===u))==null?void 0:p[f];o[s].disabled=!!m,o[s].focused=!!m,o[s].placeHolder=m}else if(["text"].includes(c.type)&&_field){const m=_field,[y,v]=s.split(".");o[y].schema[v].disabled=!!m,o[y].schema[v].focused=!!m,o[y].schema[v].placeHolder=m}}async function formatPermalink(e,a,o,n,l=null,r=[]){const i=n.name;o[i];const c=a[i],u=Array.isArray(c)&&c.length>0||!Array.isArray(c)&&!!c,s=e.shift();u&&(a[s]=filters.slugify(c))}async function formatPermalinkPrefix(e,a,o,n,l=null,r=[]){const i=n.name,c=o[i],u=a[i],s=Array.isArray(u)&&u.length>0||!Array.isArray(u)&&!!u,f=e.shift(),p=e.shift();if(["select","combobox"].includes(c.type)&&u&&s){const m=filters.slugify(c.items.find(y=>y[c.itemValue]===u)[c.itemTitle]);o[f??"slug"].prefix=o[f??"slug"].prefixFormat.replace(":"+p,m)}else if(["text"].includes(c.type)&&s){const m=filters.slugify(value),[y,v]=f.split(".");o[y].schema[v??"slug"].prefix=o[y].schema[v??"slug"].prefixFormat.replace(":"+p,m)}}const variablePattern=/\${([^}]+)}\$/g,searchInData=(e,a)=>{const o=[];if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a!="string"||a.startsWith("regex:"))return o;const n=a.split("."),l=(r,i,c=[],u=0,s=null)=>{if(Array.isArray(r))r.forEach((f,p)=>{l(f,i,[...c,p],u,s)});else if(typeof r=="object"&&r!==null){const f=r._title||null;for(const[p,m]of Object.entries(r)){const y=[...c,p];p==="_value"?l(m,i,y,u,f):p===n[u]&&(u===n.length-1?o.push(formatResult(i,y,m,f,s)):l(m,i,y,u+1,f))}}};return e.forEach((r,i)=>l(r,i)),o},formatResult=(e,a,o,n,l)=>{const r=[e,...a].join("."),i={dataIndex:e,notation:r,value:o};return n!==null&&(i.title=n),l!==null&&(i.parentTitle=l),i},findMatchingNotations=(e,a)=>{if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a=="string"&&a.startsWith("regex:")){const o=a.replace("regex:","").replace("content.",""),n=new RegExp(o),l=[];for(const r of e)r.content&&Object.entries(r.content).forEach(([i,c])=>{n.test(i)&&l.push({key:i,value:c})});return l}return searchInData(e,a)},formattedPreview=(e,a)=>{const o=[],n=(s,f={})=>{const{titleKey:p="_title",valueKey:m="_value",pickKeys:y=[],mapArrayItems:v=!0,nested:g=!1,includeTitle:C=!0,col:k=6}=f;if(!s)return null;if(Array.isArray(s[m]))return v?[C?s[p]:null,s[m].map(b=>b[p]),k].filter(Boolean):[s[p],s[m],k];if(y.length>0){const b=y.map(w=>s[w]).filter(Boolean);return b.length?[s[p],...b,k]:null}return[C?s[p]:null,s[m],k].filter(Boolean)},l=(s,f)=>{typeof f=="object"&&f.pattern&&(f=f.pattern);const p=u(f);if(!p.length)return"";if(p[0].startsWith("regex:")){const m=[];for(const y of s)for(const[v,g]of Object.entries(y))typeof g=="object"&&g!==null&&Object.keys(g).some(k=>c(p[0],k))&&m.push(v);return m.length?m:""}for(const m of s)for(const[y,v]of Object.entries(m))if(typeof v=="object"&&v!==null&&p[0]in v)return y;return""},r=(s,f=6)=>(s.col||(s.col=f),s),i=(s=0)=>`section_${s+1}`,c=(s,f)=>{if(typeof s!="string")return!1;if(s.startsWith("regex:")){const p=s.replace("regex:","");return new RegExp(p).test(f)}return s===f},u=s=>(typeof s=="object"&&s.pattern&&(s=s.pattern),typeof s!="string"?[]:s.startsWith("regex:")?["content",s.includes("content.")?s.replace("regex:content.","regex:"):s]:s.split("."));for(const s of a)if(typeof s=="string"||typeof s=="object"&&s.pattern){const f=typeof s=="string"?s:s.pattern,p={col:6,...typeof s=="object"?s:{}},m=f.endsWith(".*"),y=findMatchingNotations(e,m?f.slice(0,-2):f);if(y.length>0)if(m&&y[0].value._value)if(!p.includeOverview)y[0].value._value.forEach((v,g)=>{const C=Object.entries(v).filter(([k])=>!k.startsWith("_")).map(([k,b])=>Array.isArray(b._value)&&p.mapArrayItems===!1?[b._title,b._value]:n(b,p)).filter(Boolean);if(C.length>0)if(p.outputFormat==="object"){const k={};C.forEach(([b,w])=>{k[b]=w}),o.push(r({title:v._title,items:p.nested?{[i(g)]:k}:k},p.col))}else o.push(r({title:v._title,items:p.nested?[C]:C},p.col))});else{const v=n(y[0].value,{...p,mapArrayItems:!0});v&&o.push(r({title:v[0],items:[v[1]]},p.col))}else{const v=y.map(g=>n(g.value,p)).filter(Boolean);v.length>0&&o.push(r({items:v},p.col))}}else if(Array.isArray(s)){const f=[],p={col:6};for(const m of s)findMatchingNotations(e,m).forEach(v=>{if(v.value._value){const g=n(v.value,p);f.push([g[0],g[1]])}});f.length>0&&o.push(r({items:f},p.col))}else if(typeof s=="object"&&s.items){const f={title:s.title,items:s.outputFormat==="object"?{}:[],col:s.col||6};s.col&&(f.col=s.col),s.items.forEach((p,m)=>{if(typeof p=="object")if(Array.isArray(p)){const y={};for(const v of p){const g=l(e,v),C=g?`${g}.${v}`:v;findMatchingNotations(e,C).forEach(b=>{if(b.value){const w=b.value._title,S=b.value._value;S&&(y[w]=S)}})}Object.keys(y).length>0&&(s.nested?f.items[i(m)]=y:Object.assign(f.items,y))}else{const y=p.pattern;if(y.startsWith("regex:")){const v=findMatchingNotations(e,y),g={};v.forEach(C=>{C.value&&C.value._value&&(p.simpleValue?g[C.key]=C.value._value:g[C.value._title]=C.value._value)}),Object.keys(g).length>0&&(s.nested?f.items[i(m)]=g:Object.assign(f.items,g))}else{const v=l(e,y);if(Array.isArray(v))v.forEach((g,C)=>{findMatchingNotations(e,y).forEach(b=>{var S;const w=(S=e.find(T=>T.content))==null?void 0:S[b.key];if(w&&w._value)if(p.simpleValue)s.nested?f.items[i(C)]=w._value:f.items[`content_${C+1}`]=w._value;else{const T={[w._title]:w._value};s.nested?f.items[i(C)]=T:Object.assign(f.items,T)}})});else{const g=p.pattern,C=l(e,g),k=C?`${C}.${g}`:g;findMatchingNotations(e,k).forEach(w=>{if(w.value&&w.value._value)if(p.simpleValue)s.nested?f.items[i(m)]=w.value._value:f.items=w.value._value;else{const S={[w.value._title]:w.value._value};s.nested?f.items[i(m)]=S:Object.assign(f.items,S)}})}}}else{const y=l(e,p),v=y?`${y}.${p}`:p,g=findMatchingNotations(e,v);s.outputFormat==="object"?g.forEach(C=>{if(C.value._value){const k=C.value._value;s.nested?f.items[i(m)]={[C.value._title]:k}:f.items[C.value._title]=k}}):g.forEach(C=>{C.value._value&&f.items.push([C.value._value])})}}),(Array.isArray(f.items)&&f.items.length>0||!Array.isArray(f.items)&&Object.keys(f.items).length>0)&&o.push(r(f,s.col))}return o},formattedSummary=(e,a)=>{let o={};for(const n in a){const l=a[n],r=findMatchingNotations(e,n);o[n]=Object.assign({},l,{values:r})}return o},test=()=>{};function replacePatternInObject(e,a,o){return!e||typeof e!="object"?e:Object.keys(e).reduce((n,l)=>{const r=e[l];return typeof r=="string"?n[l]=r.replace(a,o):Array.isArray(r)?n[l]=r.map(i=>replacePatternInObject(i,a,o)):typeof r=="object"?n[l]=replacePatternInObject(r,a,o):n[l]=r,n},{})}function isMatchingPattern(e){return variablePattern.test(e)}function replaceCallback(e,a,o){let n=o.split("??"),l=n[0].split("|"),r=n[1]??"";for(const i of l){let c=__data_get(e,i,!1);if(c)return c}return r}function replacePattern(e,a){const o=e.match(/^\${([^}]+)}\$$/);if(o){const n=o[1];return replaceCallback(a,o[0],n)}return e.replace(variablePattern,(n,l)=>{const r=replaceCallback(a,n,l);return Array.isArray(r)?r.join(", "):typeof r=="object"&&r!==null?JSON.stringify(r):r})}function replaceVariablesFromHaystack(e,a){return!e||typeof e!="object"?e:Object.keys(e).reduce((o,n)=>{const l=e[n];return typeof l=="string"?o[n]=l.replace(variablePattern,replaceCallback.bind(null,a)):Array.isArray(l)?o[n]=l.map(r=>replaceVariablesFromHaystack(r,a)):typeof l=="object"?o[n]=replaceVariablesFromHaystack(l,a):o[n]=l,o},{})}const NotationUtil={findMatchingNotations,formattedPreview,formattedSummary,test,replacePatternInObject,replaceVariablesFromHaystack};async function formatPrependSchema(e,a,o,n,l=null,r=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;const c=e.shift(),u=e.shift(),s=e.shift()=="true";let{handlerName:f,handlerSchema:p,handlerValue:m}=formatHelpers.handlers(n,a,l);if(__isObject(m)&&(m=Object.values(m)),!(Array.isArray(m)&&m.length<1)&&m){c&&(m=__data_get(m,c),c.match(/^\*(.*)/)&&(m=lodash.reduce(m,function(C,k){return C=[...k??[],...C],[...new Set(C)]},[])));let y=lodash.get(o,i);if(!y||!y.schema)return;let v=lodash.cloneDeep(y.schema),g=__data_get(p,u);if(g&&__isset(g.schema)){let C=[],k;if(Array.isArray(m)){if(!g.items)return;C=lodash.reduce(m,(I,D)=>(I[D]=lodash.find(g.items,M=>M.id==D),I),{}),m=lodash.reduce(m,(I,D)=>{var M;return I[D]={label_prefix:(M=__data_get(g.items,`*id=${D}.${g.itemTitle}`))==null?void 0:M.shift()},I},{})}let b=lodash.cloneDeep({}),w=lodash.get(o,i+"._prependedKeys",[]),S=[];for(const I in g.schema){__preg_quote(I);for(const D in m){let M=lodash.cloneDeep(g.schema[I]);k=C[D];let N=/(\${[\w]+}\$)/,x=I.replace(N,D);S.push(x),v[x]||(b[x]={...M,name:x},b[x]=replaceVariablesFromHaystack(b[x],k))}}let T=w.filter(I=>!S.includes(I));T.forEach(I=>{delete v[I]});let V=S.filter(I=>!T.includes(I));s&&(V=V.sort((I,D)=>{const M=parseInt(I.match(/^(\d+)/)[1]),N=parseInt(D.match(/^(\d+)/)[1]);return M-N}),b=V.reduce((I,D)=>(I[D]=b[D],I),{}));let A=Object.assign(b,v);JSON.stringify(y.schema)!==JSON.stringify(A)&&(lodash.set(o,i+".schema",A),lodash.set(o,i+"._prependedKeys",V))}}}async function formatPreview(e,a,o,n,l=null,r=[]){if(Array.isArray(a)){let{handlerName:i,handlerSchema:c,handlerValue:u}=formatHelpers.handlers(n,a,l),s=e.shift().split(","),f=(e.shift()??"").split(","),p={},m=[],y=s.length>1,v=!1;for(const g in s){let C=s[g],k=f[g]??null,b=C.split(".");b=lodash.map(b,function(T,V){let A,I=T;return(A=T.match(/\$(\w+)/))&&__isset(u[A[1]])&&(I=u[A[1]]),I}),C=b.join(".");let w,S=k.match(/\*\.?(\w+)/);if(k=="*key")w=Object.keys(u).map(function(T){return parseInt(T)});else if(S){let V=k.match(/\*\.?(\w+)/)[1];w=lodash.map(u,function(A,I){return A[V]})}else w=k?u[k]:u;if(Array.isArray(w))if(g==0){v=w.length<1;let T=C.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,"$1*");p[T]=lodash.map(w,A=>C.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,`$1*id=${A}`));let V=__data_get(c,__wildcard_change(C,w));lodash.each(V,(A,I)=>v?lodash.unset(m,y?`[${I}][${g}]`:`[${I}]`):lodash.set(m,y?`[${I}][${g}]`:`[${I}]`,A))}else{let T;Object.keys(p).forEach(V=>{let A=__preg_quote(V),I=new RegExp(String.raw`^(${A}).([\w\$\.\*]+)`),D=C.match(I);if(D)return T=p[V],C=D[2],!1}),lodash.each(w,(V,A)=>{if(V){if(Array.isArray(V)&&lodash.isEmpty(V))return;let I=T[A];Array.isArray(V)&&V.join(",");let D=[I,__wildcard_change(C,V)].join("."),M=__data_get(c,D).shift();if(!M){console.warn("formatPreview error",{getter:D,inputToFormat:C,data:M,handlerSchema:c});return}let N=M[0]??"";g>1&&Array.isArray(M)&&(N=`(${M.join(", ")})`),lodash.set(m,y?`[${A}][${g}]`:`[${g}]`,N)}})}}r[l]||(r[l]={}),v?lodash.unset(r[l],i):r[l][i]=m;return}}async function formatRemoveValue(e,a,o,n,l=null,r=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;let{handlerName:c,handlerSchema:u,handlerValue:s}=formatHelpers.handlers(n,a,l);__isObject(s)&&(s=Object.values(s));let f=lodash.get(a,i);if(Array.isArray(f)&&f.length>0)f=f.filter(p=>p.id!==s),lodash.set(a,i,f);else if(window.__isObject(f)&&Object.keys(f).length>0){let p=Object.keys(f);p=p.map(y=>window.__isString(y)&&parseInt(y)>0?parseInt(y):y);let m=p.filter(y=>!s.includes(y));m.forEach(y=>{delete f[y]}),m.length>0&&lodash.set(a,i,f)}}async function formatResetItems(e,a,o,n,l=null,r=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;formatHelpers.handlers(n,a,l),lodash.get(o,i);let c=[];lodash.set(o,i+".items",c)}async function formatSet(e,a,o,n,l=null,r=[]){const i=formatHelpers.getInputToFormat(e,a,o,l),c=getTranslationLanguages();if(!i)return;const u=i,s=e.shift(),f=`${i}.${s}`,p=e.shift();let{handlerName:m,handlerSchema:y,handlerValue:v}=formatHelpers.handlers(n,a,l);if(!(Array.isArray(v)&&v.length<1)&&v){let g=formatHelpers.getNewValue(p,v,y);if(g!=null)if(s.match(/^(modelValue|model)$/g)){let k=lodash.get(o,u);if(k==null||k==null)return;let b=k.name,w=__extractForeignKey(b),S=k.schema??null,T=k.type=="input-repeater",V=Array.isArray(g);if(__isset(k.translated)&&k.translated){let A=notation.split("."),I=A.pop(),D=A.join(".")+".translations";notation.split(".").pop();let M=__data_get(y,D).shift();M&&(g=lodash.reduce(c,(N,x)=>{let E=lodash.find(M,z=>z.locale==x)??M[0];return E[I],N[x]=E[I]??null,N},{}))}if(V&&g.length>0){let A=g.map(I=>{if(S)return lodash.reduce(S,(D,M,N)=>(T&&N==w?D[w]=I.id??null:D[N]=I[N]??null,D),{})});lodash.set(a,u,A)}else if(!V)try{lodash.set(a,b,g)}catch(A){console.error(A)}}else{let k=lodash.get(o,f),b=store.getters[CACHE$1.GET_LAST_CACHE](f)??k;lodash.isString(g)&&g=="#"?g=b:g!==k&&store.commit(CACHE$1.PUSH_CACHE,{key:f,value:k}),lodash.set(o,f,g),s.match(/schema/)&&lodash.set(o,`${i}.default`,getModel(g))}}}async function formatToggleInput(e,a,o,n,l=null,r=[]){const i=formatHelpers.getInputToFormat(e,a,o,l);if(!i)return;const c=e.shift()??"items.*.toggleValue";let u=e.shift()??"-1";u=parseInt(u)??-1;let{handlerName:s,handlerSchema:f,handlerValue:p}=formatHelpers.handlers(n,a,l);if(p==null)return;let m=formatHelpers.getNewValue(c,p,f);if(m!=null&&lodash.isBoolean(m)){let y=m;const v=__data_get(o,i);let g=`formatToggleInput:${i}`;handleToggleInput(y,i,v,o,g,u)}}const toggleActivateOperations={class:"d-none",rawRules:"#"},toggleDeactivateOperations={class:"d-none",rawRules:""},handleToggleInput=(e,a,o,n,l,r=-1,i=0)=>{i+=1,e?lodash.each(toggleActivateOperations,(c,u)=>{let s=a+"."+u,f=a+"._cached-"+u,p=l?`${l}:${u}`:`${u}`,m=lodash.get(n,s),y=store.getters[CACHE$1.GET_LAST_CACHE](p)||lodash.get(n,f)||null,v=m,g=!1;if(c==="#")y&&(v=y,g=!0);else switch(u){case"class":let C=m?m.split(" "):[];C=C.filter(k=>k!==c),v=C.join(" "),g=!0;break;case"rawRules":v=c,g=!0;break}g&&(y==null&&store.commit(CACHE$1.PUSH_CACHE,{key:p,value:m}),lodash.set(n,s,v))}):lodash.each(toggleDeactivateOperations,(c,u)=>{let s=a+"."+u,f=a+"._cached-"+u,p=l?`${l}:${u}`:`${u}`,m=lodash.get(n,s),y=store.getters[CACHE$1.GET_LAST_CACHE](p)||lodash.get(n,f)||null,v=m,g=!1;if(c==="#")y&&(v=y,g=!0);else switch(u){case"class":let C=m?m.split(" "):[];C.push(c),C=lodash.uniq(C),v=C.join(" "),g=!0;break;case"rawRules":v=c,g=!0;break}g&&(y==null&&store.commit(CACHE$1.PUSH_CACHE,{key:p,value:m}),lodash.set(n,s,v))}),!(r>-1&&r<=i)&&o.schema&&lodash.isObject(o.schema)&&lodash.each(o.schema,(c,u)=>{handleToggleInput(e,`${a}.schema.${u}`,c,n,l,r,i)})},FormEventFormatters={formatClearModel,formatFilter,formatLock,formatPermalink,formatPermalinkPrefix,formatPrependSchema,formatPreview,formatRemoveValue,formatResetItems,formatSet,formatToggleInput},nonRunEventsOnCreate=["formatClearModel"],setSchemaInputField=(e,a)=>{var o;for(const n in e){const l=e[n],r=l.cascadeKey??"items";if(l.type==="select"&&Object.prototype.hasOwnProperty.call(l,"cascade")){if(n.includes("repeater"))break;__isset(e[l.cascade])&&(e[l.cascade][r]=((o=lodash.find(l[r],[l.itemValue,a[l.name]]))==null?void 0:o[r])??[])}}},onInputEventFormData=(e,a,o,n,l)=>{var r;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const i=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,c=e.schema.cascadeKey??"items",u=e.schema.itemValue??"id";a[i][c]=((r=lodash.find(e.schema[c],[u,l[e.key]]))==null?void 0:r.schema)??[];const s=lodash.findIndex(n,["key",i]);o[i]=a[i][c].length>0?a[i][c][0].value:[],n[s].value=l[i],onInputEventFormData(n[s],a,o,n,l)}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")},handleInputEvents=(e=null,a,o,n=null)=>{const l=a,r=a[n],i=o[n],c=Array.isArray(r)&&r.length>0||!Array.isArray(r)&&!!r;return e&&e.split("|").forEach(s=>{var y;const[f,p,m]=s.split(":");switch(f){case"formatPermalink":c&&(l[p]=filters.slugify(r));break;case"formatPermalinkPrefix":if(["select","combobox"].includes(i.type)&&r&&c){const v=filters.slugify(i.items.find(g=>g[i.itemValue]===r)[i.itemTitle]);o[p??"slug"].prefix=o[p??"slug"].prefixFormat.replace(":"+m,v)}else if(["text"].includes(i.type)&&c){const v=filters.slugify(r),[g,C]=p.split(".");o[g].schema[C??"slug"].prefix=o[g].schema[C??"slug"].prefixFormat.replace(":"+m,v)}break;case"formatLock":if(["select","combobox"].includes(i.type)&&r){const v=(y=i.items.find(g=>g[i.itemValue]===r))==null?void 0:y[m];o[p].disabled=!!v,o[p].focused=!!v,o[p].placeHolder=v}else if(["text"].includes(i.type)&&r){const v=r,[g,C]=p.split(".");o[g].schema[C].disabled=!!v,o[g].schema[C].focused=!!v,o[g].schema[C].placeHolder=v}break}}),{_fields:l,moduleSchema:o}},handleEvents=(e,a,o,n=!1)=>{const l=o.name;a[l];const r=e[l];Array.isArray(r)&&r.length>0||Array.isArray(r),o.event&&lodash.uniq(o.event.split("|")).forEach(c=>{let u=c.split(":"),s=u.shift(),f=!0;nonRunEventsOnCreate.includes(s)&&!n&&(f=!1),f&&typeof FormEventFormatters[s]<"u"&&(FormEventFormatters==null||FormEventFormatters[s](u,e,a,o))})},handleMultiFormEvents=(e,a,o,n,l=[])=>{const r=o.name;a[n][r]??lodash.get(a,`[${n}].${r}`);const i=e[n][r]??lodash.get(e,`[${n}].${r}`);Array.isArray(i)&&i.length>0||Array.isArray(i),o.event&&lodash.uniq(o.event.split("|")).forEach(u=>{let s=u.split(":"),f=s.shift();typeof FormEventFormatters[f]<"u"&&(FormEventFormatters==null||FormEventFormatters[f](s,e,a,o,n,l))})},formEvents={setSchemaInputField,onInputEventFormData,handleInputEvents,handleEvents,handleMultiFormEvents},getNestedValue=(e,a)=>a.split(".").reduce((o,n)=>o&&o[n]!==void 0?o[n]:void 0,e),evaluateCondition=(e,a)=>{const[o,n,l]=e;let r=getNestedValue(a,o);switch([">","<",">=","<=","=","=="].includes(n)&&Array.isArray(r)&&(r=r.length),n){case"=":case"==":return r===l;case"!=":return r!==l;case">":return r>l;case"<":return r<l;case">=":return r>=l;case"<=":return r<=l;case"in":return Array.isArray(l)&&l.includes(r);case"not in":return Array.isArray(l)&&!l.includes(r);case"exists":return r!=null;case"not exists":return r==null;default:return console.warn(`Unknown operator: ${n}`),!1}},checkItemConditions=(e,a)=>!a||!window.__isObject(a)||!e?!0:window.__isObject(e)&&e.operator&&e.conditions?evaluateConditionGroup(e,a):!Array.isArray(e)||e.length===0?!0:evaluateConditionArray(e,a),evaluateConditionGroup=(e,a)=>{const{operator:o="and",conditions:n=[]}=e;if(!Array.isArray(n)||n.length===0)return!0;const l=n.map(r=>window.__isObject(r)&&r.operator&&r.conditions?evaluateConditionGroup(r,a):Array.isArray(r)?evaluateCondition(r,a):(console.warn("Invalid condition format:",r),!1));return o==="or"?l.some(Boolean):l.every(Boolean)},evaluateConditionArray=(e,a)=>{if(e.length===0)return!0;let o=null,n="and";for(let r=0;r<e.length;r++){const i=e[r];let c;if(window.__isObject(i)&&i.operator&&i.conditions)c=evaluateConditionGroup(i,a);else if(Array.isArray(i)){if(c=evaluateCondition(i,a),i.length>3&&["and","or"].includes(i[3]))var l=i[3]}else console.warn("Invalid condition format:",i),c=!1;if(o===null?o=c:n==="or"?o=o||c:o=o&&c,typeof l<"u"?(n=l,l=void 0):n="and",n==="and"&&!o)return!1;if(n==="or"&&o){let u=r+1;for(;u<e.length;){const s=e[u];if(Array.isArray(s)&&s.length>3&&s[3]==="and"||window.__isObject(s))break;u++}if(u>=e.length)return!0}}return o!==null?o:!0},isArrayable="input-treeview|treeview|input-checklist|input-repeater|input-file|input-image",getSchema=(e,a=null,o=!1)=>{let n=lodash.omitBy(e,(l,r)=>!checkItemConditions(l.conditions,a)||Object.prototype.hasOwnProperty.call(l,"slotable")||isFormEventInput(l)||isViewOnlyInput(l));return n=lodash.reduce(n,(l,r,i)=>{var p,m;let c=parseInt(i);!lodash.isNaN(c)&&r.name&&(i=r.name),r.col.class=r._originalClass||((p=r.col)==null?void 0:p.class)||[],r._originalClass=r.col.class||[],r.disabled=__isset(r._originalDisabled)?r._originalDisabled:__isset(r.disabled)?r.disabled:!1,r._originalDisabled=r.disabled;let u=((m=r.col)==null?void 0:m.class)||[];__isString(u)&&(u=u.split(" "));let s=r.creatable??!0,f=r.editable??!0;return(s===!1||s==="hidden")&&!o&&(s==="hidden"?(u=lodash.union(u,["d-none"]),r.col.class=u.join(" ")):r.disabled=!0),(f===!1||f==="hidden")&&o&&(f==="hidden"?(u=lodash.union(u,["d-none"]),r.col.class=u.join(" ")):r.disabled=!0),__isset(r)&&__isset(r.schema)&&["wrap","group","repeater","input-repeater"].includes(r.type)&&(r.schema=getSchema(r.schema,r.type==="wrap"?a:a[i],o)),r.creatable=s,r.editable=f,r.isEditing=o,l[i]=r,l},{}),lodash.map(n,(l,r)=>(__isset(l.type)&&l.type=="group"&&(l.schema=flattenGroupSchema(l.schema,l.name)),handleInputEvents(l.event,a,e,r),l)),n},getModel=(e,a=null,o=null)=>{const n=getTranslationLanguages(),l=__isset(a);e=processInputs(e);const r=Object.keys(e).reduce((i,c)=>{const u=e[c],s=u.name,f=Object.prototype.hasOwnProperty.call(u,"translated")&&u.translated;let p="";isArrayable.includes(u.type)&&(p=[]),p=Object.prototype.hasOwnProperty.call(u,"default")?u.default:p,u.type=="group"&&(p=getModel(u.schema,a??u.default)),f&&(p=lodash.reduce(n,function(v,g,C){return v[g]=p,v},{}));let m=s.replace(/->/g,"."),y=l?__isset(i[s])?i[s]:__data_get(a,m,p)??p:p;if(l){if(u.type=="group"&&__isset(a[s])){let v=Object.keys(lodash.omit(__dot(p),["id"]));JSON.stringify(v)!==JSON.stringify(Object.keys(lodash.omit(__dot(a[s]),["id"])))&&(y={...p,...lodash.pick(a[s],v)})}Object.prototype.hasOwnProperty.call(u,"connectedRelationship")&&lodash.isString(u.connectedRelationship)&&a&&__isset(a[u.connectedRelationship])&&(y=a[u.connectedRelationship])}if(__isObject(u))if(f)l?Object.prototype.hasOwnProperty.call(a,"translations")&&a.translations[s]?i[s]=n.reduce(function(g,C){return g[C]=lodash.find(a.translations,{locale:C})?lodash.find(a.translations,{locale:C})[s]:a.translations[s][C],g},{}):i[s]=y:i[s]=getTranslationLanguages().reduce(function(v,g){return v[g]=__isset(y[g])?y[g]:"",v},{});else if(!y&&l&&Object.prototype.hasOwnProperty.call(a,"translations")&&Object.prototype.hasOwnProperty.call(a.translations,s)){const v=Object.keys(a.translations[s])[0];i[s]=a.translations[s][v]}else i[s]=y;return u.type=="preview"&&__isset(u.previewKey)&&a&&__isset(a[u.previewKey])&&(i[s]=a[u.previewKey]),handleEvents(i,e,u),i},{});return l&&(r.id=a.id),r},getFormEventSchema=(e,a=null,o=!1)=>lodash.filter(e,n=>o&&__isset(n.editable)&&(n.editable===!1||n.editable==="hidden")||!o&&__isset(n.creatable)&&(n.creatable===!1||n.creatable==="hidden")?!1:isFormEventInput(n)&&(n.conditions?checkItemConditions(n.conditions,a):!0)),getSubmitFormData=(e,a=null,o=null)=>{e=processInputs(e);const n="input-treeview|treeview|input-checklist",l=Object.keys(e).reduce((r,i)=>{if(window.__isset(e[i].noSubmit)&&e[i].noSubmit)return r;const c=e[i],u=c.name,s=__data_get(a,u,void 0);if(!__isset(s)){let f=c.default??"";return n.includes(c.type)&&(f=[]),r[u]=f,r}return __isObject(c)&&(Object.prototype.hasOwnProperty.call(c,"translated")&&c.translated?r[u]=window.MODULARITY.STORE.languages.all.reduce(function(f,p){return __isObject(s)?f[p.value]=__isset(s[p.value])?s[p.value]:"":f[p.value]=s,f},{}):r[u]=a[u]),r},{});return a.id&&(l.id=a.id),l};function useTableItem(e,a){useStore();const o=ref(e.modelValue?e.modelValue:getModel(e.formSchema)),n=computed(()=>c(o.value)),l=computed(()=>u(o.value)),r=s=>{o.value=Object.assign({},s)},i=()=>{nextTick(()=>{o.value=getModel(e.formSchema)})},c=s=>!!(__isset(s.deleted_at)&&s.deleted_at),u=s=>!!(__isset(s.deleted_at)&&s.deleted_at);return{editedItem:o,isSoftDeletableItem:n,itemIsDeleted:l,setEditedItem:r,resetEditedItem:i,isSoftDeletable:c,isDeleted:u}}const makeTableNamesProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},subtitle:{type:String,default:""},formTitle:{type:String},formCreateTitleTranslationKey:{type:String,default:"fields.new-item"},formEditTitleTranslationKey:{type:String,default:"fields.edit-item"},formCreateTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},formEditTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},createFormTitle:{type:String},editFormTitle:{type:String},formSubtitle:{type:String},formCreateSubtitle:{type:String},formEditSubtitle:{type:String}});function useTableNames(e,a){const o=useStore(),{t:n,te:l}=useI18n({useScope:"global"}),{editedItem:r,isSoftDeletableItem:i}=a.TableItem,c=useModule(e),u=computed(()=>n(`modules.${c.snakeName.value}`,o.getters.totalElements)),s=computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:c.transNamePlural.value)),f=computed(()=>__isset(e.subtitle)?n(e.subtitle):""),p=computed(()=>{let C=a.editedIndex.value!==-1,k=e.formCreateTitleTranslationKey;C&&(k=e.formEditTitleTranslationKey),__isset(e.createFormTitle)&&(k=e.createFormTitle),__isset(e.editFormTitle)&&(k=e.editFormTitle);let b=C?e.formEditTitleInterpolations:e.formCreateTitleInterpolations;for(let w in b){let S=b[w];b[w]=__isset(c[b[w]])?c[b[w]].value:__isset(r.value[b[w]])?r.value[b[w]]:S}return l(k)?n(k,b):k}),m=computed(()=>{let C=e.formSubtitle,k=a.editedIndex.value!==-1;return __isset(e.formCreateSubtitle)&&!k&&(C=e.formCreateSubtitle),__isset(e.formEditSubtitle)&&k&&(C=e.editFormSubtitle),l(C)?n(C):C}),y=computed(()=>{const C=i.value?"fields.confirm-soft-deletion":"fields.confirm-deletion",k=r.value[e.titleKey]?lodash.isObject(r.value[e.titleKey])?r.value[e.titleKey][o.state.user.locale]:r.value[e.titleKey]:"";return n(C,{route:c.transNameSingular.value,name:k.toLocaleUpperCase()})}),v=computed(()=>{const C=i.value?"confirm-soft-deletion-title":"confirm-deletion-title",k=l(`messages.${c.snakeName.value}.${C}`)?`messages.${c.snakeName.value}.${C}`:`fields.${C}`,b=r.value[e.titleKey]?lodash.isObject(r.value[e.titleKey])?r.value[e.titleKey][o.state.user.locale]:r.value[e.titleKey]:"";return n(k,{route:c.transNameSingular.value,name:b.toLocaleUpperCase()})}),g=computed(()=>{const C=i.value?"confirm-soft-deletion-description":"confirm-deletion-description",k=l(`messages.${c.snakeName.value}.${C}`)?`messages.${c.snakeName.value}.${C}`:`fields.${C}`,b=r.value[e.titleKey]?lodash.isObject(r.value[e.titleKey])?r.value[e.titleKey][o.state.user.locale]:r.value[e.titleKey]:"";return n(k,{route:c.transNameSingular.value,name:b.toLocaleUpperCase()})});return{snakeName:c.snakeName,permissionName:c.permissionName,transNameSingular:c.transNameSingular,transNamePlural:c.transNamePlural,transNameCountable:u,tableTitle:s,tableSubtitle:f,deleteQuestion:y,deleteDialogTitle:v,deleteDialogDescription:g,formTitle:p,formSubtitle:m}}const makeTableFiltersProps=propsFactory({hideSearchField:{type:Boolean,default:!1},navActive:{type:String,default:"all"},filterBtnOptions:{type:Object,default:{}},searchInitialValue:{type:String,default:""},filterList:{type:Array,default:[]},filterListAdvanced:{type:Object,default:{}},hideFilters:{type:Boolean,default:!1},hideAdvancedFilters:{type:Boolean,default:!1},showMobileHeaders:{type:Boolean,default:!1}});function useTableFilters(e){var k;const{lastParameters:a,queryParameters:o}=useTableState(),n=ref(a.search??e.searchInitialValue??""),l=ref(n.value),r=ref(e.filterList??[]);let i=((k=a.filter)==null?void 0:k.status)??e.navActive??"all";r.value.length>0&&!lodash.find(r.value,{slug:i})&&(i="all");const c=ref(i),u=computed(()=>lodash.find(r.value,{slug:c.value})),s=computed(()=>{var b,w;return{text:`${(b=u.value)==null?void 0:b.name} (${(w=u.value)==null?void 0:w.number})`}}),f=b=>{let w=b??l.value;return n.value!==w?(n.value=w,!0):!1},p=b=>c.value!==b?(c.value=b,!0):!1,m=b=>{r.value=b},y=b=>{lodash.isEqual(v.value,b)||(v.value=b)},v=ref(e.filterListAdvanced??{}),g=computed(()=>Object.keys(v.value).reduce((b,w,S)=>(v.value[w].reduce((T,V)=>{var A;return((A=V.selecteds)==null?void 0:A.length)>0&&(T[w]||(T[w]={}),T[w][V.slug]=V.selecteds),T},b),b),{}));return{activeFilterSlug:c,activeFilter:u,mainFilters:r,search:n,searchModel:l,activeAdvancedFilters:g,advancedFilters:v,filterBtnTitle:s,setSearchValue:f,setFilterSlug:p,setMainFilters:m,setAdvancedFilters:y,clearAdvancedFilter:()=>{v.value=Object.fromEntries(Object.entries(v.value).map(([b,w])=>(v.value[b]=[],w.map(S=>S.selecteds=[]),[b,w])))}}}const makeTableHeadersProps=propsFactory({columns:{type:Array,default:()=>[]},hideHeaders:{type:Boolean,default:!1},headerOptions:{type:[Array,Object],default:{}},cellOptions:{type:[Array,Object],default:{}},customRow:{type:Object,default:{}}});function useTableHeaders(e){const a=()=>`table_unvisible_columns_${window.location.pathname}`,o=()=>{const v=localStorage.getItem(a());return v?v.split(","):[]},n=v=>{const g=c.value.findIndex(k=>k.key===v);c.value[g].visible=!1;const C=c.value.filter((k,b)=>!k.visible).map(k=>k.key);localStorage.setItem(a(),C.join(",")),i.value=lodash.cloneDeep(c.value.filter(k=>k.visible))};let l=o();const r=e.columns??[],i=ref(r.filter(v=>!l.includes(v.key))),c=ref(lodash.cloneDeep(r.map(v=>({...v,visible:!l.includes(v.key)})))),u=ref(!!lodash.find(i.value,v=>window.__isset(v.searchable)&&v.searchable===!0)),s=computed(()=>i.value.filter(v=>!!v.visible&&v.visible===!0)),f=computed(()=>Object.keys(e.customRow||{}).length>0),p=computed(()=>e.hideHeaders||f.value),m=computed(()=>r.filter(v=>v.hasOwnProperty("columnEditable")&&v.columnEditable===!0||v.hasOwnProperty("removable")&&v.removable===!0||v.hasOwnProperty("searchable")&&v.searchable===!0));return{headers:i,headersModel:c,hasSearchableHeader:u,selectedHeaders:s,hideHeaders:p,hasCustomRow:f,formattableHeaders:m,removeHeader:n,applyHeaders:()=>{i.value=lodash.cloneDeep(c.value);const v=c.value.filter((g,C)=>!g.visible);localStorage.setItem(a(),v.map(g=>g.key).join(","))}}}const makeTableFormsProps=propsFactory({inputFields:{type:Array,default:()=>[]},formSchema:{type:Object,required:!0,validator(e){return e&&typeof e=="object"}},formWidth:{type:[String,Number],default:"60%"},createOnModal:{type:Boolean,default:!0},editOnModal:{type:Boolean,default:!0},embeddedForm:{type:Boolean,default:!1},addBtnOptions:{type:Object,default:()=>({})},noForm:{type:Boolean,default:!1},formActions:{type:[Array,Object],default:[]}});function useTableForms(e,a){const o=useStore(),{t:n}=useI18n({useScope:"global"}),{setEditedItem:l,resetEditedItem:r,editedItem:i}=a.TableItem,c=ref(null),u=ref(!1),s=ref(!1),f=ref({}),p=ref({}),m=ref({}),y=ref({}),v=reactive({UeForm:c,formActive:u,customFormModalActive:s,customFormModalAttributes:f,customFormAttributes:p,customFormSchema:m,customFormModel:y}),g=computed(()=>state.id+"-form"),C=computed(()=>({width:e.formWidth})),k=computed(()=>o.state.form.loading??!1),b=computed(()=>o.state.form.errors??{}),w=computed(()=>{var D;return((D=c.value)==null?void 0:D.validModel)??null}),S=computed(()=>e.createOnModal||e.editOnModal?e.addBtnOptions.text?n(e.addBtnOptions.text):n("fields.add-item",{item:a.transNameSingular.value}):e.addBtnOptions.text??n("ADD NEW")),T=()=>{u.value=!0},V=()=>{u.value=!1},A=()=>{r(),T()},I=D=>{Object.prototype.hasOwnProperty.call(D,"variant")&&D.variant.toLowerCase()==="success"&&(V(),a.loadItems())};return watch$1(()=>u.value,D=>{D||r()}),{...toRefs(v),formRef:g,formStyles:C,formLoading:k,formErrors:b,formIsValid:w,addBtnTitle:S,openForm:T,closeForm:V,createForm:A,handleFormSubmission:I}}const component$1="FORM",api$1={get(e,a,o){axios$1.get(e).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component$1,{message:"Get request error.",value:n}),o&&typeof o=="function"&&o(n)})},post(e,a,o,n){axios$1.post(e,a,{validateStatus:l=>l>=200&&l<300||l===422}).then(function(l){o&&typeof o=="function"&&o(l)}).catch(function(l){globalError$1(component$1,{message:"Post request error.",value:l}),n&&typeof n=="function"&&n(l.response)})},put(e,a,o,n){axios$1.put(e,a,{validateStatus:l=>l>=200&&l<300||l===422}).then(function(l){o&&typeof o=="function"&&o(l)}).catch(function(l){globalError$1(component$1,{message:"Put request error.",value:l}),n&&typeof n=="function"&&n(l.response)})}};function useGenerate(e,a){const{smAndUp:o}=useDisplay(),{shouldUseInertia:n}=useConfig(),l=computed(()=>{if(!e)return{};const i=r(e),c=i.icon||i.prependIcon||i.appendIcon||e.icon||e.prependIcon||e.appendIcon;return{...i,icon:c&&!o.value?c:i.icon,density:c&&!o.value?"compact":e.density??"comfortable",rounded:o.value?i.rounded:!0}}),r=i=>{var u;let c={};return i.href&&(c.onClick=s=>{s.preventDefault();const f=i.target??"_blank";n.value&&isSameUrl(i.href,window.location.href)?router.visit(i.href):f!=="_blank"?router.visit(i.href,{target:f}):window.open(i.href,f)}),{...i.componentProps??{},...c,icon:i.forceLabel?null:i.icon,text:i.forceLabel?i.label:null,color:i.color,variant:i.variant,density:i.density??"comfortable",size:i.size??"default",disabled:i.disabled??((u=i.componentProps)==null?void 0:u.disabled)??!1,rounded:i.forceLabel?null:!0}};return{generateButtonProps:r,generatedButtonProps:l}}const makeTableItemActionsProps=propsFactory({isRowEditing:Boolean,hideMobileActions:{type:Boolean,default:!1},rowActionsIcon:{type:String,default:"mdi-cog-outline"},rowActions:{type:[Array,Object],default:()=>[]},rowActionsType:{type:String,default:"inline"},iteratorType:{type:String,default:""}});function useTableItemActions(e,{TableForms:a,loadItems:o,TableItem:n,TableNames:l}){const r=useStore(),{can:i}=useAuthorization(),c=useDynamicModal(),{castObjectAttributes:u}=useCastAttributes();useGenerate();const{xs:s,smAndDown:f,mdAndDown:p,lgAndDown:m,xlAndDown:y}=useDisplay(),v=reactive({event:null,payload:null,reset:()=>{v.event=null,v.payload=null}}),g=(B,O)=>{let U=!0;switch(O.name){case"edit":case"delete":case"switch":case"duplicate":case"activate":U=!n.isDeleted(B)&&i(O.name,l.permissionName.value);break;case"forceDelete":case"restore":U=n.isDeleted(B)&&i(O.name,l.permissionName.value);break}return U&&checkItemConditions(O.conditions,B)&&checkItemConditions(O.userConditions??[],r.getters.userProfile)},C=async(B,O)=>{let U=O.url??O.endpoint??O.href;if(U)if(U.includes(":id")&&(U=U.replace(":id",B.id)),O.hasDialog){const P=async(L,G)=>{window.open(U,O.target??"_self")};v.event="dialog",v.payload={description:O.dialogQuestion??null,callback:P}}else window.open(U,O.target??"_self");O.modalService&&lodash.isObject(O.modalService)&&c.open(O.modalService.component??null,lodash.omit(u(O.modalService,B),["component"]))},k=B=>{if(e.editOnModal||e.embeddedForm)n.setEditedItem(B),a.openForm();else if(lodash.isObject(e.endpoints)&&e.endpoints.edit){const O=e.endpoints.edit.replace(":id",B.id);window.open(O)}else console.error("No edit endpoint found in endpoints of props")},b=B=>{n.setEditedItem(B);const O="restore",U=async(P,L)=>await api$2[O](e.endpoints[O],B.id,P,L);v.event="process",v.payload={type:O,item:B,callback:U}},w=B=>{n.setEditedItem(lodash.omit(B,"id")),a.openForm()},S=(B,O,U)=>{const P="publish",L=async(G,$)=>{let j={id:B.id,[U]:O};return await api$1.put(e.endpoints.update.replace(":id",B.id),j,G,$)};B[U]=O,v.event="process",v.payload={type:P,item:B,callback:L}},T=B=>{n.setEditedItem(B);let O=n.editedItem.value.id,U=n.isSoftDeletableItem.value?"forceDelete":"delete";const P=async(L,G)=>U==="forceDelete"?await api$2.forceDelete(e.endpoints.forceDelete,O,L,G):await api$2.delete(e.endpoints.destroy,O,L,G);v.event="dialog",v.payload={type:U,id:O,callback:P}},V=B=>{const O=B.name,U=async(P,L,G)=>{let $=lodash.camelCase(O);if(api$2[$])return await api$2[$](e.endpoints[$],P,L,G)};v.event="dialog",v.payload={type:O,callback:U}},A=(B,O)=>{if(a.customFormSchema.value=lodash.cloneDeep(B.form.attributes.schema),a.customFormAttributes.value=lodash.cloneDeep(B.form.attributes),B.form.attributes&&B.form.attributes.modelValue&&(a.customFormModel.value=lodash.cloneDeep(B.form.attributes.modelValue)),B.form.hasOwnProperty("model_formatter"))for(let U in B.form.model_formatter){let P=lodash.get(O,B.form.model_formatter[U],"");lodash.set(a.customFormModel.value,U,P)}if(B.form.hasOwnProperty("schema_formatter"))for(let U in B.form.schema_formatter){let P=lodash.get(O,B.form.schema_formatter[U],"");lodash.set(a.customFormAttributes.value.schema,U,P)}B.hasOwnProperty("modalAttributes")?a.customFormModalAttributes.value=lodash.cloneDeep(B.modalAttributes):a.customFormModalAttributes.value={},a.customFormModalActive.value=!0,v.event="showCustomForm",v.payload={action:B,item:O}},I=(B,O=null)=>{if(!O)return B;if(Array.isArray(B))B=B.map(U=>I(U,O));else if(__isObject(B)){if(Array.isArray(O))O.forEach(U=>{__data_get(B,U,null)});else if(__isObject(O)){let U={};Object.keys(O).forEach(P=>{let L=O[P],G=__data_get(B,P,null);U[L]=G}),B=lodash.cloneDeep(U)}}return B},D=(B,O=null)=>{if(!O)return B;if(Array.isArray(B))B=B.map(U=>D(U,O));else if(__isObject(B)&&Array.isArray(O)){let U=lodash.cloneDeep(B);O.forEach(P=>{__data_get(B,P,null),delete U[P]}),B=lodash.cloneDeep(U)}return B},M=(B,O)=>{let U=null;B.show===!0?U=O:U=__data_get(O,B.show,null),U&&(B.only?U=I(U,B==null?void 0:B.only):B.except&&(U=D(U,B==null?void 0:B.except)),v.event="showData",v.payload={action:B,data:U})},N=(B,O)=>{let U=null,P=null,L=null;if(lodash.isArray(B)?(U=B[0],P=B[1]):lodash.isObject(B)&&(U=B.type,P=B.payload,L=B.conditions),!!checkItemConditions(L,O)){if(U==="post")e.endpoints.store;else if(U==="put"&&e.endpoints.update&&O&&O.id)return api$1.put(e.endpoints.update.replace(":id",O.id),u(P,O),function(G){G.status===200&&G.data.variant==="success"&&o()},function(G){console.error(G)})}},x=(B,O)=>{B.preProcesses&&B.preProcesses.forEach(U=>{N(U,O)})},E=(B=null,O=null,...U)=>{const P=__isString(O)?{name:O}:O;switch(x(P,B),P.name){case"edit":k(B);break;case"delete":case"forceDelete":T(B);break;case"restore":b(B);break;case"duplicate":w(B);break;case"link":let L=B.target??P.target??"_blank";["_self","_blank","_parent","_top"].includes(L)||(L="_blank");let G=B.href??(P.url?P.url.replace(":id",B.id):e.endpoints.show?e.endpoints.show.replace(":id",B.id):null);if(!G){console.error("No link found in item or action",B,P);return}window.open(G,L);break;case"switch":S(B,U[0],U[1]);break;case"activate":state.activeTableItem=lodash.find(state.elements,{id:B.id});break;case"bulkDelete":case"bulkForceDelete":case"bulkRestore":case"bulkPublish":V(P);break;default:C(B,P);break}P.form&&A(P,B),P.show&&M(P,B)},z=reactive({actionShowingType:computed(()=>{const B=U=>U>6?y.value:U>5?m.value:U>4?p.value:U>3?f.value:U>2?s.value:!1;let O=0;return lodash.isArray(e.rowActions)?O=e.rowActions.length:lodash.isObject(e.rowActions)&&(O=Object.keys(e.rowActions).length),e.rowActionsType==="dropdown"||B(O)?"dropdown":"inline"}),visibleRowActions:computed(()=>{let B=e.rowActions;return lodash.isObject(e.rowActions)&&!lodash.isArray(e.rowActions)&&(B=Object.values(e.rowActions)),B.reduce((O,U)=>{if(Object.prototype.hasOwnProperty.call(U,"href"))return console.error("href is not supported in row actions",U),O;let P="v-icon",L={},G=!0,$=U.icon?U.icon:"$"+U.name,j=U.iconColor??U.color??"primary";return __isset(U.is)&&U.is==="v-btn"?(P="v-btn",G=!1,L={variant:"plain",class:"pa-0 ma-2",...U.componentProps??{},color:U.color},U.icon&&(L.prependIcon=U.icon)):L={small:!0,class:"mr-2",...U.componentProps??{},color:U.color??"grey-darken-2"},U.componentProps=L,U.label=U.label??window.__headline(U.name),O.push({...U,is:P,icon:$,iconColor:j,hasTooltip:G}),O},[])})});return{...toRefs(z),itemAction:E,itemHasAction:g,actionEvents:v}}const makeTableModalsProps=propsFactory({openCustomModal:{type:Boolean,default:!1}});function useTableModals(e,a){const o=useStore(),{t:n}=useI18n({useScope:"global"}),l=a.TableNames,r=ref(!1),i=ref(e.openCustomModal),c=ref(!1),u=ref("custom"),s=ref(null),f=ref(null),p=computed(()=>w.value[u.value]),m=()=>{i.value=!0},y=()=>{i.value=!1},v=()=>{},g=S=>{u.value=S},C=()=>{w.custom.confirmText="",w.custom.cancelText="",w.custom.img="",w.custom.icon="",w.custom.iconSize=null,w.custom.title="",w.custom.color=""},k=async S=>{const T=lodash.camelCase(S.name);api$2[T]&&api$2[T](e.endpoints[T],tableItem.editedItem.value.id,()=>{})},b=computed(()=>{var S;return n("confirm-action",{route:l.transNameSingular.value,action:n(((S=s.value)==null?void 0:S.name)??"")})}),w=ref({dialog:{ref:ref(null),active:!1,modalAttributes:{title:null,description:null,transition:"dialog-bottom-transition",widthType:"md",fullscreen:!1,persistent:!1,confirmText:n("Confirm"),cancelText:n("Cancel"),confirmClosing:!1,rejectClosing:!0,confirmCallback:null,rejectCallback:null},_oldModalAttributes:{},toggle(S=null){this.active=S??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},setConfirmCallback(S){S&&typeof S=="function"&&(this._oldModalAttributes.confirmCallback=this.modalAttributes.confirmCallback,this.modalAttributes.confirmCallback=S)},setRejectCallback(S){S&&typeof S=="function"&&(this._oldModalAttributes.rejectCallback=this.modalAttributes.rejectCallback,this.modalAttributes.rejectCallback=S)},setQuestion(S){this._oldModalAttributes.description=this.modalAttributes.description,this.modalAttributes.description=S},setTitle(S){this._oldModalAttributes.title=this.modalAttributes.title,this.modalAttributes.title=S},set(S){let T=Object.keys(S).reduce((A,I)=>(A[I]=S[I],A),{}),V=lodash.reduce(T,(A,I,D)=>{var M;return A[D]=I,(M=this._oldModalAttributes)[D]??(M[D]=lodash.cloneDeep(this.modalAttributes[D])),A},{});Object.assign(this.modalAttributes,V)},reset(){const S=this;lodash.each(this._oldModalAttributes,(T,V)=>{S.modalAttributes[V]=T}),this._oldModalAttributes={}}},custom:{content:computed(()=>o._state.data.datatable.customModal.description),confirmText:"Done",cancelText:" ",img:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-1024.png",icon:computed(()=>o._state.data.datatable.customModal.icon),iconSize:72,title:"Payment Complete",color:"success",closeAction(){y(),C()},confirmAction(){y(),C()}},show:{ref:ref(null),active:!1,data:null,transition:"dialog-bottom-transition",widthType:"lg",fullscreen:!1,persistent:!1,title:n("Display Details"),confirmText:n("Confirm"),cancelText:n("Cancel"),_old:{},toggle(S=null){this.active=S??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},set(S){let T=Object.keys(S).reduce((A,I)=>(this[I]!==void 0&&!["active","ref","data","_old"].includes(I)&&(A[I]=S[I]),A),{}),V=lodash.reduce(T,(A,I,D)=>(A[D]=I,this._old[D]=lodash.cloneDeep(this[D]),A),{});Object.assign(this,V)},loadData(S){this.data=S},resetData(){this.data=null},cancel(){this.toggle(!1),this.reset()},confirm(){},reset(){this.resetData(),lodash.each(this._old,(S,T)=>{this[T]=S}),this._old={}}}});return watch$1(()=>w.value.show.active,S=>{S||w.value.show.reset()}),onMounted(()=>{}),{deleteModalActive:r,customModalActive:i,actionModalActive:c,selectedAction:s,deleteModal:f,activeModal:p,modals:w,actionDialogQuestion:b,openCustomModal:m,closeCustomModal:y,cleanupModals:v,setModalType:g,bulkAction:k}}const makeTableIteratorProps=propsFactory({name:{type:String,default:""},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},item:{type:Object,default:{}},headers:{type:Object,default:{}},iteratorOptions:{type:Object,default:{}},rowActions:{type:Array,default:[]}}),tableIterableEmits=["click-action","edit-item"];function useTableIterator(e,a){const o=useTableItem(e),n=useTableNames(e,{...a,TableItem:o}),l=useTableForms(e,{...a,...n,TableItem:o}),{itemHasAction:r}=useTableItemActions(e,{...a,TableNames:n,TableItem:o,TableForms:l}),i=reactive({id:Math.ceil(Math.random()*1e6)+" -iterator",headersWithKeys:computed(()=>{let s={};return Object.values(e.headers).forEach((f,p)=>{s[f.key]=f}),s})}),c=useFormatter(e,a,e.headers),u=reactive({canItemAction:function(s){return __isset(s.can)&&s.can,!0},isSoftDeletable(s){return!!(__isset(s.deleted_at)&&s.deleted_at)},itemAction:(s,f)=>a.emit("click-action",s,f),editItem:s=>{a.emit("edit-item",s)}});return{...toRefs(u),...toRefs(i),...c,itemHasAction:r}}const makeTableActionsProps=propsFactory({actionsPosition:{type:String,default:"top"},actions:{type:Array,default:()=>[]}});function useTableActions(e,a){return{}}function useTableState(e,a){const n=`table_filters_${window.location.pathname}`,l=["id","page","itemsPerPage","sortBy","groupBy","filter","replaceUrl"],r=["page","itemsPerPage","sortBy","groupBy","filter"],i=()=>{const f=new URL(window.location.href),p=Object.fromEntries(f.searchParams.entries());return Object.keys(p).forEach(m=>{const y=p[m];try{p[m]=JSON.parse(y)}catch{p[m]=y}}),p},c=()=>{const f=localStorage.getItem(n),p=i();return{...f?JSON.parse(f):{},...p}},u=f=>{const p=new URL(window.location.href),m=Object.fromEntries(p.searchParams.entries());let y=[];Object.keys(f).forEach(v=>{Object.prototype.hasOwnProperty.call(m,v)&&l.includes(v)&&y.push(v)}),y.length>0&&removeQueryKeys(y),localStorage.setItem(n,JSON.stringify(lodashExports.pick(f,r)))},s=reactive({lastParameters:c(),queryParameters:i()});return{getQueryParameters:i,getLastParameters:c,setLastParameters:u,...s}}const makeTableProps=propsFactory({elevation:{type:[Number,String]},rounded:{type:[Boolean,String]},tableElevation:{type:[Number,String]},tableRounded:{type:[Boolean,String]},fillHeight:{type:Boolean,default:!1},items:{type:Array},total:{type:Number,default:null},hideFooter:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!1},defaultTableOptions:{type:Object,default:()=>({itemsPerPage:10,page:1,search:"",sortBy:[],groupBy:[]})},itemsPerPageOptions:{type:Array,default:()=>[{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"50",value:50},{title:"100",value:100}]},tableOptions:{type:Object},tableClasses:{type:[String,Array],default:""},iteratorType:{type:String,default:""},slots:{type:Object,default(){return{}}},nestedData:{type:Object,default(){return{}}},striped:Boolean,hideBorderRow:Boolean,roundedRows:Boolean,fullWidthWrapper:{type:Boolean,default:!1},noFullScreen:{type:Boolean,default:!1},tableDensity:{type:String,default:"comfortable"},toolbarOptions:{type:Object,default:{}},bulkActions:{type:[Array,Object],default:[]},paginationOptions:{type:[Array,Object],default:{}},formAttributes:{type:Object,default:{}},formModalAttributes:{type:Object,default:{}},showSelect:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},controlsPosition:{type:String,default:"top"},disableSort:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!0},multiSort:{type:Boolean,default:!1},isModuleTable:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},noFetch:{type:Boolean,default:!1},isClickableRows:{type:Boolean,default:!1},clickableItemAttribute:{type:String,default:"href"},mobileBreakpoint:{type:[String,Number],default:"sm"}});function useTable(e,a){const o=useStore(),{smAndDown:n}=useDisplay(),{t:l,te:r,tm:i}=useI18n({useScope:"global"}),c=ref(-1);let u=ref(e.items??[]);const s=computed(()=>e.endpoints.index.replace(/\/$/,"").split("?")[0]===window.location.href.replace(/\/$/,"").split("?")[0]),{setLastParameters:f,lastParameters:p,getQueryParameters:m}=useTableState(),y=ref(null),v=ref(!1),g=ref(lodash.pick({...e.defaultTableOptions??{},...e.tableOptions??{},...s.value?p:{}},["itemsPerPage","page","sortBy","groupBy","search"]));watch$1(()=>n.value,(P,L)=>{P&&(g.value.itemsPerPage=Math.min(...e.itemsPerPageOptions.map(G=>G.value)))});const C=ref(e.total??-1),k=computed(()=>Math.ceil(C.value/(g.value.itemsPerPage??10))),b=P=>{u.value=P},w=P=>{u.value=u.value.push(P)},S=ref(!1),T=(P,L={})=>{C.value=P.resource.total,D.setMainFilters(P.mainFilters),B.options.page!==P.resource.current_page&&(S.value=!0,B.options.page=P.resource.current_page),B.enableInfiniteScroll?w(P.resource.data):b(P.resource.data),L.id&&z(L.id)},V=async(P=null)=>{if(e.noFetch)return;B.loading=!0;const L={...g.value,...P??{},replaceUrl:!1};if(D.search.value!==""&&(L.search=D.search.value),D.activeFilterSlug.value!=="all"&&(L.filter={...L.filter??{},status:D.activeFilterSlug.value}),lodash.isEmpty(D.activeAdvancedFilters.value)||(L.filter={...L.filter??{},...D.activeAdvancedFilters.value}),lodash.isObject(e.endpoints)&&e.endpoints.index){const G=m();await api$2.get(e.endpoints.index,L,function($){s.value&&f(L),T($,G),B.loading=!1},function($){B.loading=!1,console.error($)})}else console.error("No index endpoint found in endpoints of props")},A=useTableItem(e),I=useTableNames(e,{...a,TableItem:A,editedIndex:c}),D=useTableFilters(e),M=useTableHeaders(e),N=useTableForms(e,{...a,...I,TableItem:A,loadItems:V}),x=useTableModals(e,{...a,TableItem:A,TableNames:I}),E=useTableItemActions(e,{...a,TableItem:A,TableNames:I,TableForms:N,loadItems:V}),z=P=>{const L=B.elements.find(G=>G.id==P);L&&E.itemAction(L,"edit")},B=reactive({id:Math.ceil(Math.random()*1e6)+"-table",isStoreTable:s,hideTable:!1,searchPlaceholder:l("Type to Search"),fillHeight:computed(()=>e.fillHeight),enableCustomFooter:computed(()=>e.paginationOptions.footerComponent==="vuePagination"),footerProps:computed(()=>{const P=e.paginationOptions.footerProps;return B.enableInfiniteScroll?{"hide-default-footer":!0}:P}),defaultPaginationButtonProps:{elevation:1,color:"grey-darken-5",class:"bg-surface",variant:"text",density:"compact",size:"small"},windowSize:{x:0,y:0},mobileTableLayout:computed(()=>n.value),loading:v,totalNumberOfElements:C,totalNumberOfPages:k,availablePages:computed(()=>Array.from({length:k.value},(P,L)=>L+1)),options:g,elements:u,editedItem:A.editedItem,editedIndex:c,selectedItems:[],activeTableItem:null,activeItemConfiguration:null,enableInfiniteScroll:computed(()=>e.paginationOptions.footerComponent==="infiniteScroll"&&C.value>u.value.length),draggableItems:computed(()=>B.elements.reduce((L,G,$)=>{const j={type:"item",key:$+1,value:G.id,index:$,selectable:e.showSelect,columns:M.headers.value.reduce((q,X)=>(q[X.key]=G[X.key],q),{})};return L[$]=j,L},[]))}),O=reactive({onResize(){e.noFullScreen||(B.windowSize={x:window.innerWidth,y:window.innerHeight})},onIntersect(P,L,G){P&&L[0].intersectionRatio===1&&O.goNextPage()},initialize:function(){const P=m(),L=lodash.pick(P,["id"]);e.noFetch||V(L)},goNextPage(){B.options.page<numberOfPages.value&&(B.options.page+=1)},goPreviousPage(){B.options.page>1&&(B.options.page-=1)},changeOptions(P){lodash.isEqual(P,B.options)||(B.options=P)},setEditedItem:A.setEditedItem,resetEditedItem:A.resetEditedItem,sortElements(P){lodash.isObject(e.endpoints)&&e.endpoints.reorder?api$2.reorder(e.endpoints.reorder,P.map(L=>L.id),function(L){L.status===200&&(P.forEach((G,$)=>G.position=$+1),B.elements=P)}):console.error("No reorder endpoint found in endpoints of props")},hydrateNestedData:function(P,L){const G=/\$([A-Za-z]+)/;for(const $ in L)if(__isString(L[$])){const j=L[$].match(G);if(j){const q=j[1];B.snakeName===q?(L[$]=getSubmitFormData(L.schema,P,o.state),L.actionUrl&&(L.actionUrl=L.actionUrl.replace(`:${q}`,L[$].id))):P[q]&&(L[$]=getSubmitFormData(L.schema,P[q],o.state),L.actionUrl&&(L.actionUrl=L.actionUrl.replace(`:${q}`,L[$].id)))}}else(Array.isArray(L[$])||lodash.isObject(L[$]))&&(L[$]=O.hydrateNestedData(P,L[$]));return L},searchItems(P){D.setSearchValue()&&V()},changeFilter(P){D.setFilterSlug(P)&&(g.value.page=1,V())},changeAdvancedFilter(P){g.value.page=1,V()},resetAdvancedFilter(){D.clearAdvancedFilter(),g.value.page=1,V()},handleFormActionComplete(P){const L=P.action;P.response,L.type==="request"&&V(),L.type==="modal"&&V()}});watch$1(()=>A.editedItem.value,(P,L)=>{B.editedIndex=B.elements.findIndex(G=>G.id===P.id)}),watch$1(()=>B.activeTableItem,(P,L)=>{P&&(B.activeItemConfiguration=O.hydrateNestedData(P,JSON.parse(JSON.stringify(e.nestedData))))},{deep:!0}),watch$1(()=>B.options,(P,L)=>{S.value?S.value=!1:V()},{deep:!0}),watch$1(()=>B.elements,(P,L)=>{if(B.editedIndex>-1){let G=P[B.editedIndex];A.setEditedItem(G)}},{deep:!0}),watch$1(()=>E.actionEvents.event,P=>{if(P){const L=E.actionEvents.payload;let G=[],$=!1,j=!1,q=!1,X=!0;switch(P){case"dialog":if(L.callback&&typeof L.callback=="function"){$=x.modals.value.dialog;const R={confirmClosing:!1};switch(L.type){case"delete":case"forceDelete":R.description=I.deleteDialogDescription.value,R.title=I.deleteDialogTitle.value,R.titleJustify="center";break;case"bulkPublish":case"bulkDelete":case"bulkForceDelete":case"bulkRestore":case"bulkDestroy":G.push(B.selectedItems);const H=`fields.confirm-${lodash.kebabCase(L.type)}`;R.description=l(H,{count:B.selectedItems.length,route:I.transNamePlural.value});break;default:R.description=L.description??l("Are you sure you want to perform this action?");break}x.modals.value.dialog.set(R)}break;case"process":L.callback&&typeof L.callback=="function"&&(j=!0),L.type==="publish"&&(X=!1,q=!0);break;case"showCustomForm":N.customFormModalActive.value=!0;break;case"showData":x.modals.value.show.loadData(L.data),x.modals.value.show.set(L.action),x.modals.value.show.open();break}let J=R=>{if(R.status===200){if(R.data.variant&&R.data.message&&o.dispatch(ACTIONS.SHOW_ALERT,R.data),V(),$)try{$.close(),$.reset()}catch{}X&&(A.resetEditedItem(),B.selectedItems=[]),q&&L.item&&A.setEditedItem(L.item)}};j&&(G.push(J),L.callback(...G)),$&&(G.push(J),$.setConfirmCallback(()=>L.callback(...G)),$.open()),E.actionEvents.reset()}},{immediate:!0});const U=useFormatter(e,a,M.selectedHeaders);return{form:y,...useTableActions(),...toRefs(B),...toRefs(O),...I,...D,...M,...N,...E,...x,...U}}const makeModelValueProps=propsFactory({modelValue:[String,Number,Object,Boolean]}),makeActiveTableItemProps=propsFactory({...makeModelValueProps(),tableHeaders:{type:Array,default:[]},itemData:{type:Object,default(){return{}}}});function useActiveTableItem(e,a){const o=useProxiedModel(e,"modelValue"),n=computed({get:()=>o.value,set:i=>{o.value=i}}),l=reactive({modalOpened:!1,modalActive:!1,modalStatus:computed(()=>l.modalOpened&&!!n.value),activeKey:null,activeBlock:computed(()=>l.activeKey?e.itemData[l.activeKey]:null),items:computed(()=>n.value?[n.value]:[])}),r=reactive({selectNested:function(i){l.activeKey=i,a.emit("toggle",!0)},clickOutside:function(i){n.value=null,l.activeKey=null},closeItemDetails:function(i=""){l.modalActive=!0,l.activeKey=null,a.emit("toggle",!1)}});return watch$1(()=>n.value,(i,c)=>{l.modalActive=!!i&&i!==c}),watch$1(()=>l.activeKey,(i,c)=>{i&&(l.modalActive=!1)}),watch$1(()=>e.itemData,(i,c)=>{}),{item:n,...toRefs(l),...toRefs(r)}}function useValidation(e){const{valid:a}=toRefs(e),o=reactive({validModel:(a==null?void 0:a.value)??null}),n=reactive({minRule:(u,s)=>f=>!!f&&f.length>=u||s||`min. ${u} ${Array.isArray(f)?"Selections":"Characters"}`,maxRule:(u,s)=>f=>!f||f.length<=u||s||`max. ${u} ${Array.isArray(f)?"Selections":"Characters"}`,emailRule:(u={},s)=>f=>{if(!f)return!0;const{allowedDomains:p=[],blockedDomains:m=[],allowSubdomains:y=!0,minLength:v=3,maxLength:g=254,strict:C=!1}=u;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f))return s||"Invalid email format";if(C&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(f))return s||"Email contains invalid characters";const[b,w]=f.split("@");if(b.length<v)return s||`Email username must be at least ${v} characters`;if(f.length>g)return s||`Email cannot exceed ${g} characters`;if(p.length>0){const V=w.toLowerCase();if(!p.some(I=>y?V.endsWith(I.toLowerCase()):V===I.toLowerCase()))return s||`Email domain must be one of: ${p.join(", ")}`}if(m.length>0){const V=w.toLowerCase();if(m.some(I=>y?V.endsWith(I.toLowerCase()):V===I.toLowerCase()))return s||"Email domain not allowed"}const S={gmial:"gmail",gmal:"gmail",gamil:"gmail",yaho:"yahoo",ymail:"yahoo",hotmal:"hotmail",hotnail:"hotmail",outloo:"outlook"},T=w.split(".")[0].toLowerCase();return S[T]?s||`Did you mean ${S[T]}?`:!0},requiredRule:(u="classic",s=1,f,p)=>m=>{switch(u){case"classic":return!!m||p||"Required";case"array":case"object":f=lodash.toNumber(f),f=lodash.isNaN(f)?-1:f;let y=s==f||f<0?`Requires exactly ${s} items`:`Requires at least ${s}${f!=1/0&&f!=null?", and maximum of:"+f:""}) elements`;return Array.isArray(m)?m.length>=s&&(f<0||m.length<=f)||p||y:__isObject(m)?Object.keys(m).length>=s&&(f<0||Object.keys(m).length<=f)||p||y:m==null?p||"Must select at least one item":"dev error: nsupported value type";default:return"dev error: unknown rule type"}},arrayRule:u=>s=>Array.isArray(s)||u||"Value must be array",numberRule:u=>s=>!isNaN(parseFloat(s))&&isFinite(s)||u||"Must be a valid number",integerRule:u=>s=>Number.isInteger(Number(s))||u||"Must be an integer",minValueRule:(u,s)=>f=>f==null||Number(f)>=u||s||`Must be at least ${u}`,maxValueRule:(u,s)=>f=>!f||Number(f)<=u||s||`Must not exceed ${u}`,phoneRule:u=>s=>!s||/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(s)||u||"Invalid phone number",urlRule:u=>s=>!s||/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(s)||u||"Invalid URL",alphaRule:u=>s=>!s||/^[A-Za-z]+$/.test(s)||u||"Only letters allowed",alphaNumRule:u=>s=>!s||/^[A-Za-z0-9]+$/.test(s)||u||"Only letters and numbers allowed",passwordRule:(u=8,s)=>f=>!f||/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{${minLength},}$/.test(f)||s||`Password must be at least ${u} characters, contain at least one letter and one number`,strongPasswordRule:(u=8,s)=>f=>!f||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{${minLength},}$/.test(f)||s||`Password must be at least ${u} characters, contain uppercase, lowercase, number and special character`,dateRule:u=>s=>!s||!isNaN(Date.parse(s))||u||"Invalid date format",futureDateRule:(u=0,s="days",f)=>p=>{if(!p)return!0;let m=new Date;m.setHours(0,0,0,0);const y=new Date(m);switch(lodash.isString(u)&&(u=parseInt(u)),s.toLowerCase()){case"minutes":y.setMinutes(m.getMinutes()+u);break;case"hours":y.setHours(m.getHours()+u);break;case"days":y.setDate(m.getDate()+u);break;case"months":y.setMonth(m.getMonth()+u);break;case"years":y.setFullYear(m.getFullYear()+u);break;default:y.setDate(m.getDate()+u)}return new Date(p)>=y||f||`Date must be at least ${u} ${s} in the future`},pastDateRule:(u=0,s="days",f)=>p=>{if(!p)return!0;const m=new Date,y=new Date(m);switch(s.toLowerCase()){case"minutes":y.setMinutes(m.getMinutes()-u);break;case"hours":y.setHours(m.getHours()-u);break;case"days":y.setDate(m.getDate()-u);break;case"months":y.setMonth(m.getMonth()-u);break;case"years":y.setFullYear(m.getFullYear()-u);break;default:y.setDate(m.getDate()-u)}return new Date(p)<=y||f||`Date must be at least ${u} ${s} in the past`},zipCodeRule:u=>s=>!s||/^\d{5}(-\d{4})?$/.test(s)||u||"Invalid ZIP code",ipAddressRule:u=>s=>!s||/^(\d{1,3}\.){3}\d{1,3}$/.test(s)||u||"Invalid IP address",fileTypeRule:(u,s)=>f=>{if(!f||!f.type)return!0;const p=Array.isArray(u)?u:[u];return p.includes(f.type)||s||`File type must be: ${p.join(", ")}`},fileSizeRule:(u,s)=>f=>!f||!f.size?!0:f.size<=u||s||`File size must not exceed ${u/1024/1024}MB`,equalsRule:(u,s)=>f=>f===u||s||`Must equal ${u}`,notEqualsRule:(u,s)=>f=>f!==u||s||`Must not equal ${u}`,matchesRule:(u,s)=>(f,p)=>f===p[u]||s||`Must match ${u}`,betweenRule:(u,s,f)=>p=>{if(!p)return!0;const m=Number(p);return m>=u&&m<=s||f||`Must be between ${u} and ${s}`},notBetweenRule:(u,s,f)=>p=>{if(!p)return!0;const m=Number(p);return m<u||m>s||f||`Must not be between ${u} and ${s}`},containsRule:(u,s)=>f=>!f||f.includes(u)||s||`Must contain "${u}"`,notContainsRule:(u,s)=>f=>!f||!f.includes(u)||s||`Must not contain "${u}"`,startsWithRule:(u,s)=>f=>!f||f.startsWith(u)||s||`Must start with "${u}"`,endsWithRule:(u,s)=>f=>!f||f.endsWith(u)||s||`Must end with "${u}"`,patternRule:(u,s)=>f=>!f||u.test(f)||s||"Invalid format",customFormatRule:(u,s)=>f=>{if(!f)return!0;const p={creditCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13})$/,ssn:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,rgb:/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,isbn:/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/},m=Array.isArray(u)?u:[u];return m.every(y=>p[y].test(f))||s||`Invalid ${m.join(" and ")} format`},uniqueRule:u=>s=>Array.isArray(s)?s.length===new Set(s).size||u||"Must contain unique values":!0,includesAnyRule:(u,s)=>f=>Array.isArray(f)?u.some(p=>f.includes(p))||s||`Must include at least one of: ${u.join(", ")}`:!0,includesAllRule:(u,s)=>f=>Array.isArray(f)?u.every(p=>f.includes(p))||s||`Must include all of: ${u.join(", ")}`:!0,whenRule:(u,s,f=[])=>(p,m)=>((typeof u=="function"?u(m):u)?s:f).every(v=>v(p,m)===!0)||"Conditional validation failed",dependentRule:(u,s,f)=>(p,m)=>m[u]?s.every(y=>y(p,m)===!0)||f||`Invalid based on ${u}`:!0,generateInputRules:l,validateInput:r});function l(u){let s=[];if(Object.prototype.hasOwnProperty.call(u,"rules")){let f=u.rawRules??u.rules,p;window.__isString(f)?p=f.split("|"):p=f,p.forEach((m,y)=>{window.__isString(m)&&(m=m.split(":"));const v=m[0]+"Rule";Object.prototype.hasOwnProperty.call(n,v)&&s.push(n[v](...m.slice(1)))})}return s}function r(u,s){let f=l(u),p=!0;for(const m in f){let y=f[m](s);if(y!==!0){p=y;break}}return p}function i(u){let s=cloneDeep(u),f=cloneDeep(u);return Object.prototype.hasOwnProperty.call(f,"rules")&&(s.rawRules=__isset(s.rawRules)?s.rawRules:f.rules,window.__isString(s.rawRules)?f.rules=s.rawRules.split("|"):f.rules=s.rawRules,s.rules=[],f.rules.forEach((p,m)=>{window.__isString(p)&&(p=p.split(":"));const y=p[0]+"Rule";Object.prototype.hasOwnProperty.call(n,y)&&s.rules.push(n[y](...p.slice(1)))})),__isset(s.schema)&&(s.schema=c(s.schema)),__isset(u.rawRules)||(s.rules=[],s.rawRules=""),s}function c(u){const s=cloneDeep(u);return __isObject(s)&&Object.keys(s).forEach(f=>{Object.prototype.hasOwnProperty.call(s[f],"rules")&&(u[f].rawRules=__isset(u[f].rawRules)?u[f].rawRules:s[f].rules,window.__isString(u[f].rawRules)?s[f].rules=u[f].rawRules.split("|"):s[f].rules=u[f].rawRules,u[f].rules=[],s[f].rules.forEach((p,m)=>{window.__isString(p)&&(p=p.split(":"));const y=p[0]+"Rule";Object.prototype.hasOwnProperty.call(n,y)&&u[f].rules.push(n[y](...p.slice(1)))})),__isset(u[f].schema)&&(u[f].schema=c(u[f].schema))}),u}return watch$1(()=>o.valid,(u,s)=>{}),{invokeRule:i,invokeRuleGenerator:c,...toRefs(n),...toRefs(o)}}const htmlClasses={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"},defaultWidths={xs:"320px",sm:"480px",md:"720px",lg:"1080px",xl:"1600px"},makeModalProps$1=propsFactory({modelValue:{type:Boolean},useModelValue:{type:Boolean,default:!0},title:{type:String,default:null},titleClass:{type:String,default:""},titlePadding:{type:String,default:"a-4"},titleJustify:{type:String,default:"space-between"},hasCloseButton:{type:Boolean,default:!1},hasFullscreenButton:{type:Boolean,default:!1},hasTitleDivider:{type:Boolean,default:!1},noDefaultBodyPadding:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},noCancelButton:{type:Boolean,default:!1},noConfirmButton:{type:Boolean,default:!1},description:{type:String,default:null},descriptionBodyClass:{type:String,Array,default:"d-flex justify-center"},transition:{type:String,default:"bottom",values:["dialog-transition","dialog-bottom-transition","dialog-top-transition","fade-transition","scale-transition","slide-x-transition","slide-y-transition","slide-x-reverse-transition","slide-y-reverse-transition","scroll-x-transition","scroll-y-transition"]},widthType:{type:String,default:"md",validator:e=>Object.prototype.hasOwnProperty.call(defaultWidths,e)},hasSystembar:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},confirmCallback:{type:Function},rejectCallback:{type:Function},rejectLoading:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},rejectButtonAttributes:{type:Object,default:()=>({color:"error",variant:"outlined"})},confirmButtonAttributes:{type:Object,default:()=>({color:"success",variant:"elevated"})},confirmClosing:{type:Boolean,default:!0},rejectClosing:{type:Boolean,default:!0}}),makeModalMediaProps=propsFactory({modalTitlePrefix:{type:String,default:function(e){return useI18n().t("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return useI18n().t("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}}});function useModal(e,a){const{modelValue:o}=toRefs(e),n=ref(e.fullscreen),l=ref(!1),r=reactive({modalClass:htmlClasses.modal,width:e.widthType,full:n,dialog:computed({get:()=>e.useModelValue?o.value??!1:l.value,set:c=>{e.useModelValue?i.emitModelValue(c):l.value=c}}),togglePersistent:computed(()=>e.persistent),toggleScrollable:computed(()=>e.scrollable),modalWidth:computed(()=>e.widthType&&!n.value?defaultWidths[e.widthType]:null)}),i=reactive({emitModelValue:function(c){a.emit("update:modelValue",c)},emitOpened:function(){a.emit("opened",r.dialog)},clickOutside:function(c){a.emit("click:outside",c)},openModal:function(){return r.dialog=!0,r.dialog},closeModal:function(){return r.dialog=!1,r.dialog},toggleModal:function(){return r.dialog=!r.dialog,r.dialog}});return{...toRefs(i),...toRefs(r)}}const makeDraggableProps=propsFactory({draggable:{type:Boolean,default:!1},orderKey:{type:String,default:"position"}});function useDraggable(e,a){const o=reactive({animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30,dragOptions:computed(()=>({disabled:!e.draggable,animation:o.animation}))}),n=reactive({});return{...toRefs(n),...toRefs(o)}}const makeRepeaterProps=propsFactory({...makeInputProps(),modelValue:{type:Array,default:[]},max:{type:Number,default:-1},min:{type:Number,default:-1},label:{type:String,default:""},subtitle:{type:String},singularLabel:{type:String},schema:{type:Object,default:()=>{}},rowAttribute:{type:Object,default(){return{noGutters:!1}}},formRowAttribute:{type:Object,default(){return{noGutters:!1,class:"ml-12"}}},noAddButton:{type:Boolean,default:!1},addButtonText:{type:String,default(){return useI18n().t("ADD NEW")}},hasButtonLabel:{type:Boolean,default:!1},withGutter:{type:Boolean,default:!1},autoIdGenerator:{type:Boolean,default:!0},noHeaders:{type:Boolean,default:!1},isUnique:{type:Boolean,default:!1},uniqueValue:{type:String,default:"id"},uniqueField:{type:String,default:null},disableAddButton:{type:Boolean,default:!0},formCol:{type:Object,default:()=>({cols:12})},idResetter:{type:String,default:null},noWaitSourceLoading:{type:Boolean,default:!1}});function useRepeater(e,a){const o=useStore(),{invokeRuleGenerator:n}=useValidation(e),l=useInput(e,a),r=ref(e.schema),i=computed(()=>e.noHeaders?cloneDeep(r.value??{}):reduce(cloneDeep(r.value??{}),(V,A,I)=>(V[I]=omit(A,["label"]),V),{})),{modelValue:c}=toRefs(e),u=e.isUnique,s=e.uniqueValue,f=ref([]),p=computed(()=>u&&window.__isset(r.value)&&Object.keys(r.value).length>0?e.uniqueField??Object.values(r.value)[0].name:null),m=computed(()=>u&&window.__isset(r.value)&&Object.keys(r.value).length>0?r.value[p.value]:null);function y(V,A){const I=`repeater${l.id.value}`;return new RegExp(`^${I}\\[${V}\\]`).test(A)?A:`${I}[${V}][${A}]`}function v(V,A){const I=getModel(i.value,V),D={};return e.draggable&&!I[e.orderKey]&&(D[e.orderKey]=A+1),{...e.autoIdGenerator?{id:A}:{},...transform(omit(I,[]),(M,N,x)=>{M[y(A,x)]=N}),...D}}function g(V){return V.map((A,I)=>v(A,I))}function C(V){const A=[];return V.forEach((I,D)=>{const M=cloneDeep(i.value);if(u&&M[p.value]){const E=k(V[D])[p.value];M[p.value].items=m.value.items.filter(z=>!(f.value.includes(z[s])&&E!==z[s]))}const N=n(M);A[D]=transform(N,(x,E,z)=>{const B=cloneDeep(E),O=y(D,E.name);B.name=O,x[O]=B}),Object.keys(A[D]).forEach(x=>{var z;const E=A[D][x];if(Object.prototype.hasOwnProperty.call(E,"cascade")){const B=y(D,E.cascade);A[D][B][E.cascadeKey]=((z=find(E.items,[E.itemValue,I[x]]))==null?void 0:z.schema)??[]}})}),A}function k(V,A){const I=/\[(.*?)\]/gi,D={};return e.draggable&&(D[e.orderKey]=A+1),{...transform(V,(M,N,x)=>{const E=x.match(I);if(E){const z=E.map(B=>B.replace(I,"$1"));M[z.pop()]=N}}),...D}}function b(V){return V.map((A,I)=>k(A,I))}const w=computed({get:()=>{if(isEmpty(r.value))return[];const V=Array.isArray(c.value)?c.value:[],A=g(V);if(e.min>0&&V.length<e.min){const I=n(r.value);A.push(v(getModel(I),1))}if(A.length>0){const I=b(A).map(D=>{const M=e.autoIdGenerator?["id"]:[];return omit(D,M)});JSON.stringify(c.value)!==JSON.stringify(I)&&I.forEach((D,M)=>{c.value[M]=D})}return u&&(f.value=reduce(cloneDeep(A),(I,D)=>{const M=k(D);return p.value&&M[p.value]&&I.push(M[p.value]),I},[])),A},set:(V,A)=>{l.updateModelValue.value(b(V))}}),S=reactive({repeaterModels:w,repeaterSchemas:computed(()=>C(w.value)),totalRepeats:computed(()=>S.repeaterModels.length),hasRepeaterModels:computed(()=>S.repeaterModels.length>0),isRemainingAddible:computed(()=>!u||S.totalRepeats<m.value.items.length&&S.totalRepeats<m.value.items.filter(V=>V[s]>0).length),isAddible:computed(()=>(e.max<1||S.totalRepeats<e.max)&&S.isRemainingAddible),isDeletable:computed(()=>e.min<1||S.totalRepeats>e.min),addButtonIsActive:computed(()=>!e.disableAddButton||S.isAddible),selectFieldSlots:computed(()=>{const V=[];return filter(r.value,function(A,I){return Object.prototype.hasOwnProperty.call(A,"slots")&&Object.keys(A.slots).length>0}).forEach((A,I)=>{const D=cloneDeep(A);S.repeaterModels.forEach((M,N)=>{const x=[];for(const E in D.slots)x.push({inputName:y(N,D.name),name:E,context:D.slots[E]});V.push(x)})}),V}),headers:reduce(r.value??[],(V,A)=>(["hidden"].includes(A.type)||V.push({title:A.label||__headline(A.name),col:A.col}),V),[]),addButtonContent:computed(()=>e.addButtonText+(e.hasButtonLabel&&__isset(e.singularLabel)?` ${e.singularLabel}`:"")),hasSchemaInputSourceLoading:computed(()=>Object.values(r.value).some(V=>Object.prototype.hasOwnProperty.call(V,"sourceLoading")&&V.sourceLoading===!0))}),T=reactive({onUpdateRepeaterModel(V,A){const I=k(V,A);c.value[A]&&JSON.stringify(c.value[A])!==JSON.stringify(I)&&e.idResetter&&c.value[A][e.idResetter]&&c.value[A][e.idResetter]!==I[e.idResetter]&&delete I.id,c.value[A]=I},onUpdateRepeaterSchema(V,A){const I=k(V,A);Object.keys(r.value).forEach(M=>{r.value[M]=Object.assign({},r.value[M],omit(I[M],["name"]))})},onHoverContent(V){},addRepeaterBlock:function(){if(S.isAddible){const V=n(cloneDeep(r.value));c.value.push(v(getModel(V),S.totalRepeats))}else{let V=`You cannot add new item, because the number of elements should be at much ${e.max}`;S.isRemainingAddible||(V="You cannot add new item, because there are no more items to add"),o.commit(ALERT$1.SET_ALERT,{message:V,variant:"warning",location:"top"})}},deleteRepeaterBlock:function(V){if(S.isDeletable){const A=b(S.repeaterModels);A.splice(V,1),S.repeaterModels=g(A)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot delete, because the number of elements should be at least ${e.min}`,variant:"warning",location:"top"})},duplicateRepeaterBlock:function(V){if(S.isAddible){const A=b(S.repeaterModels);A.push(A[V]),S.repeaterModels=g(A)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot add new item, because the number of elements should be at much ${e.max}`,variant:"warning",location:"top"})}});return{...toRefs(T),...toRefs(S),invokeRuleGenerator:n,...l}}const mapGetters=()=>{const e=useStore();return Object.fromEntries(Object.keys(e.getters).map(a=>[a,computed(()=>e.getters[a])]))},makeFileProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default(){return useI18n().t("File")}},endpoint:{type:String,default:""},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useFile(e,a){const o=useStore(),n=useInput(e,a),{modelValue:l,obj:r}=toRefs(e),i=mapGetters(),{t:c}=useI18n({useScope:"global"}),u=reactive({mediableActive:!1,handle:".item__handle",addLabel:computed(()=>c("ADD")+" "+e.itemLabel),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(f,p)=>{}}),input_:computed({get:()=>l.value??[],set:(f,p)=>{n.updateModelValue.value(f)}}),input:l.value??[],isDraggable:computed(()=>e.draggable&&u.input.length>1),remainingItems:computed(()=>e.max-u.input.length),itemsIds:computed(()=>i.selectedItemsByIds.value[e.name]?i.selectedItemsByIds.value[e.name].join():"")}),s=reactive({deleteAll:function(f){u.input=[]},deleteItem:function(f){u.input.splice(f,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(f,p)=>{o.state.mediaLibrary.isInserted&&u.mediableActive&&(u.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),u.input=f)},{deep:!0}),watch$1(()=>u.input,(f,p)=>{n.updateModelValue.value(f)},{deep:!0}),watch$1(()=>l.value,(f,p)=>{u.input=f},{deep:!0}),{...n,...toRefs(s),...toRefs(u)}}const makeImageProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"image"},itemLabel:{type:String,default(){return useI18n().t("Image")}},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default(){return useI18n().t("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useImage(e,a){const o=useStore(),n=useInput(e,a),{modelValue:l,obj:r}=toRefs(e),i=mapGetters(),{t:c}=useI18n({useScope:"global"}),u=reactive({mediableActive:!0,handle:".item__handle",addLabel:computed(()=>c("ADD",{item:e.itemLabel})),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(f,p)=>{}}),input_:computed({get:()=>l.value??[],set:(f,p)=>{n.updateModelValue.value(f)}}),input:l.value??[],isDraggable:computed(()=>e.draggable&&u.input.length>1),remainingItems:computed(()=>e.max-u.input.length),itemsIds:computed(()=>i.selectedItemsByIds.value[e.name]?i.selectedItemsByIds.value[e.name].join():"")}),s=reactive({deleteAll:function(f){u.input=[]},deleteItem:function(f){u.input.splice(f,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(f,p)=>{window.__isset(o.state.mediaLibrary.selected[e.name])&&o.state.mediaLibrary.isInserted&&u.mediableActive&&(u.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),u.input=f)},{deep:!0}),watch$1(()=>u.input,(f,p)=>{n.updateModelValue.value(f)},{deep:!0}),watch$1(()=>l.value,(f,p)=>{u.input=f},{deep:!0}),watch$1(()=>u.error,(f,p)=>{}),{...n,...toRefs(s),...toRefs(u)}}function useSidebar(){const{lgAndUp:e,xlAndUp:a}=useDisplay();ref(!1);const o=ref("#profile"),n=useStore(),l=ref(null),r=reactive({navigationDrawer:l,open:[],activeMenu:computed({get(){return o.value},set(c){o.value=c}}),status:computed({get(){return n.state.config.sidebarStatus},set(c){n.commit(CONFIG.SET_SIDEBAR,c)}}),options:n.state.config.sidebarOptions,width:computed(()=>a.value?320:r.options.width||264),hideIcons:computed(()=>!r.rail&&r.options.hideIcons),railManual:!1,rail:computed(()=>(r.options.rail||r.railManual)&&e.value),hasRail:computed(()=>r.options.rail),isHoverable:computed(()=>(e.value||r.rail)&&r.options.expandOnHover),secondaryOptions:n.state.config.secondarySidebarOptions,profileMenu:n.state.config.profileMenu,socialMediaLinks:[["mdi-twitter",""],["mdi-linkedin",""],["mdi-facebook",""],["mdi-instagram",""]]}),i=reactive({handleProfile(c){c.type==="mouseenter"&&r.profileMenu.expandOnHover&&r.open.push("User")},handleMenu(c){r.activeMenu=`#${c}`}});return watch$1(e,()=>{}),onMounted(()=>{}),{...toRefs(r),...toRefs(i)}}function useCurrencyNumber(e,a){const o=useStore(),{inputRef:n,formattedValue:l,numberValue:r,setValue:i}=useCurrencyInput({currency:"EUR",locale:o.state.language.active.value,autoDecimalDigits:!0,precision:2,currencyDisplay:"hidden",hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,valueRange:{min:0}}),c=reactive({inputRef:n,formattedValue:l,numberValue:r});return watch$1(()=>e.modelValue,u=>{i(u)}),{...toRefs(c)}}const makeModuleProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},fillHeight:{type:Boolean,default:!1},slots:{type:Object,default(){return{}}},noFullScreen:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},items:{type:Array,default:[]}});function useModule(e,a){const{t:o,te:n}=useI18n({useScope:"global"});ref(!1),onMounted(()=>{});const l=reactive({snakeName:lodash.snakeCase(e.name),permissionName:lodash.kebabCase(e.name),transNameSingular:computed(()=>n("modules."+l.snakeName,0)?o("modules."+l.snakeName,0):e.name),transNamePlural:computed(()=>o("modules."+l.snakeName,1)),moduleTitle:computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:l.transNamePlural)),windowSize:{x:0,y:0},elements:e.items,searchPlaceholder:o("Type to Search"),searchModel:""}),r=reactive({onResize(){l.windowSize={x:window.innerWidth,y:window.innerHeight}}});return{...toRefs(l),...toRefs(r)}}function useLocale(){const e=useStore(),a=reactive({currentLocale:computed(()=>e.state.language.active),languages:computed(()=>e.state.language.all),locales:computed(()=>e.state.language.all),displayedLocale:computed(()=>e.state.language.active.shortlabel)}),o=reactive({updateLocale:function(n){e.commit(LANGUAGE.UPDATE_LANG,n)}});return{...toRefs(a),...toRefs(o)}}function useItemActions(e,a){const o=useStore(),{shouldUseInertia:n}=useConfig(),{castObjectAttributes:l}=useCastAttributes(),r=useDynamicModal(),i=lodash.cloneDeep(e.actions),c=a.actionItem||a.item||a.editedItem||e.item||e.editedItem,u=T=>{if(!T.source||!T.find||!T.return)return T;const V=c[T.source];if(!Array.isArray(V))return;const[A,I]=T.find,D=V.find(M=>M[A]===I);return D?D[T.return]:void 0},s=(T,V)=>{var D;if(!V){console.error("Endpoint not specified for request action");return}const A=((D=T.method)==null?void 0:D.toLowerCase())||"post";if(!api$1[A]){console.error("Invalid request method:",A);return}const I={};for(const[M,N]of Object.entries(T.params))if(typeof N=="object"&&N!==null){const x=u(N);if(x===void 0){console.error(`Could not resolve parameter value for ${M}`);return}I[M]=x}else I[M]=N;api$1[A](V,I,M=>{if(M.data.message){let N=T.responseMessage||{},x=M.data.message,E=M.data.variant;lodash.isString(N)&&(N={success:N,error:N}),window.__isset(N[E])&&(x=N[E]),o.commit(ALERT$1.SET_ALERT,{message:x,variant:E})}if(a.emit("actionComplete",{action:T,response:M}),T.reloadOnSuccess===!0){const N=T.forceRefresh||!1;n.value&&!N?router.reload({only:["formAttributes",...T.reloadOnly||[]]}):setTimeout(()=>{window.location.reload()},T.reloadDelay||1e3)}},M=>{var N;o.commit(ALERT$1.SET_ALERT,{message:((N=M.data)==null?void 0:N.message)||"Action failed",variant:"error"})})},f=(T,V)=>{o.commit("SET_MODAL",{show:!0,title:T.label,component:"ue-form",props:{schema:T.schema,actionUrl:V,async:!0},on:{success:A=>{o.commit(ALERT$1.SET_ALERT,{message:A.message||"Action completed successfully",variant:"success"}),a.emit("action-complete",{action:T,response:A})}}})},p=T=>{if(!T){console.error("Endpoint not specified for blank action");return}window.open(T,"_blank")},m=T=>{if(!T){console.error("Endpoint not specified for download action");return}const V=document.createElement("a");V.href=T,V.target="_blank",document.body.appendChild(V),V.click(),document.body.removeChild(V)},y=T=>{if(!c)return!0;const V=e.isEditing?T.editable:T.creatable;return!T.conditions||!V?V:V&&checkItemConditions(T.conditions,c)&&checkItemConditions(T.userConditions??[],o.getters.userProfile)},v=T=>T.map(V=>(e.isEditing&&c&&(V=l(V,c)),y(V)||(V.disabled=!0),V)),g=ref(window.__isObject(i)?Object.values(i):i),C=computed(()=>g.value.filter(T=>!(!y(T)&&T.hideOnCondition))),k=computed(()=>v(C.value)),b=computed(()=>k.value.filter(T=>!(window.__isset(T.disabled)&&T.disabled))),w=reactive({hasActions:computed(()=>k.value.length>0),hasVisibleActions:computed(()=>b.value.length>0),allActions:k,visibleActions:b}),S=reactive({shouldShowAction:y,handleAction(T){var D;let V=!1,A=null;if(!T.type){console.warn("Action type not specified:",T);return}window.__isset(T.hasConfirmation)&&T.hasConfirmation===!0&&(V=!0);const I=(D=T.endpoint)==null?void 0:D.replace(":id",c.id);switch(T.type){case"request":V?A=async()=>(s(T,I),!0):s(T,I);break;case"modal":f(T,I);break;case"download":m(I);break;case"blank":V?A=async()=>(p(I),!0):p(I);break;default:console.warn("Unknown action type:",T.type)}V&&r.open(null,{modalProps:{...T.confirmationModalAttributes??{},confirmCallback:A}})}});return{...toRefs(w),...toRefs(S)}}function useCurrency(e){const{locale:a}=useI18n({useScope:"global"}),o=reactive({formatPrice(n,l){return window.__formatCurrencyPrice(n,l,a.value??a)}});return{...toRefs(o)}}const redirector$1=(e,a=1e3)=>{Object.prototype.hasOwnProperty.call(e,"redirector")&&(a=Object.prototype.hasOwnProperty.call(e,"timeout")?e.timeout:a,setTimeout(function(o){window.open(o.redirector,Object.prototype.hasOwnProperty.call(o,"target")?o.target:"_self")},a,e))},handleSuccessResponse=e=>{e.status===200&&e.data.modalService&&isObject(e.data.modalService)&&window.$modalService.open(e.data.modalService.component??null,omit(e.data.modalService,["component"]))},handleErrorResponse=e=>{var a;((a=e.response)==null?void 0:a.status)===403&&window.$modalService.handleObject(e.response.data),redirector$1(e.response.data,1e3)},makeFormProps=propsFactory({modelValue:{type:Object,required:!0},formClass:{type:[Array,String],default:""},actionUrl:{type:String},title:{type:[String,Object]},noTitle:{type:Boolean,default:!1},subtitle:{type:String},schema:{type:Object,required:!0},async:{type:Boolean,default:!0},buttonText:{type:String},hasSubmit:{type:Boolean,default:!1},stickyFrame:{type:Boolean,default:!1},stickyButton:{type:Boolean,default:!1},rowAttribute:{type:Object,default(){return{noGutters:!1,class:"py-4"}}},slots:{type:Object,default(){return{}}},valid:{type:Boolean,default:null},isEditing:{type:Boolean,default:!1},hasDivider:{type:Boolean,default:!1},fillHeight:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},noDefaultFormPadding:{type:Boolean,default:!1},noDefaultSurface:{type:Boolean,default:!1},actions:{type:[Array,Object],default:[]},actionsPosition:{type:String,default:"top",validator(e){return["title-right","title-center","top","middle","bottom","right-top","right-middle","right-bottom"].includes(e)}},rightSlotGap:{type:Number,default:12},pushButtonToBottom:{type:Boolean,default:!1},rightSlotWidth:{type:[Number,String],default:null},rightSlotMinWidth:{type:[Number,String],default:300},rightSlotMaxWidth:{type:[Number,String],default:600},additionalSectionDialogTitle:{type:String,default:"Additional Options"},clearOnSaved:{type:Boolean,default:!1},refreshOnSaved:{type:Boolean,default:!1},forceRefresh:{type:Boolean,default:!1},noWaitSourceLoading:{type:Boolean,default:!1},noSchemaUpdatingProgressBar:{type:Boolean,default:!1},reloadOnly:{type:Array,default:()=>[]}});function useForm(e,a){const o=useStore(),{t:n,te:l}=useI18n({useScope:"global"}),{shouldUseInertia:r}=useConfig(),i=useInputHandlers(),c=useValidation(e),u=useLocale(),{hasRoles:s}=useAuthorization(),f=ref(null),p=Math.ceil(Math.random()*1e6)+"-form",m=p+"-base",y=ref(!!e.modelValue),v=ref(!!e.schema),g=ref(!1),C=ref(!0),k=ref({}),b=ref(e.schema),w=computed(()=>processInputs(b.value)),S=ref(getModel(b.value)),T=ref(getModel(b.value,e.modelValue)),V=ref(!1),A=R=>{if(R&&e.noSchemaUpdatingProgressBar){V.value=!1;return}V.value=R},I=computed(()=>e.modelValue),D=ref(c.invokeRuleGenerator(getSchema(b.value,{...T.value,...I.value},e.isEditing))),M=ref(getFormEventSchema(b.value,{...T.value,...I.value},e.isEditing)),N=ref(e.actions.length?e.actions.map(()=>!0):[]),x=R=>{let F=!1;return Object.prototype.hasOwnProperty.call(R,"noSubmit")&&R.noSubmit||(F=!0),F===!0&&(__isset(R.editable)&&(R.editable===!1||R.editable==="hidden")&&e.isEditing||__isset(R.creatable)&&(R.creatable===!1||R.creatable==="hidden")&&!e.isEditing?F=!1:Object.prototype.hasOwnProperty.call(R,"allowedRoles")&&Array.isArray(R.allowedRoles)&&(s(R.allowedRoles)||(F=!1))),F},E=computed(()=>!!(find(D.value,R=>{let F=!1;return["wrap","group"].includes(R.type)?F=find(R.schema,x):F=x(R),F})||find(M.value,x))),z=computed(()=>a.slots.right||a.slots["right.top"]||a.slots["right.bottom"]||a.slots["right.middle"]||["right-top","right-middle","right-bottom"].includes(e.actionsPosition)),B=reactive({id:p,reference:computed(()=>"ref-"+B.id),formBaseId:m,VForm:f,issetModel:y,issetSchema:v,model:T,formItem:I,schemaUpdating:V,formActionsActive:computed(()=>!V.value&&e.isEditing),chunkedRawSchema:w,inputSchema:D,formEventSchema:M,isSubmittable:E,extraValids:N,hasStickyFrame:e.stickyFrame||e.stickyButton,manualValidation:!1,buttonDefaultText:computed(()=>e.buttonText?l(e.buttonText)?n(e.buttonText):e.buttonText:n("submit")),serverValid:C,loading:g,errors:k,hasTraslationInputs:computed(()=>getTranslationInputsCount(D.value)>0),hasAdditionalSection:z,showAdditionalSectionDialog:!1,hasSchemaInputSourceLoading:computed(()=>Object.values(b.value).some(R=>Object.prototype.hasOwnProperty.call(R,"sourceLoading")&&R.sourceLoading===!0||Object.prototype.hasOwnProperty.call(R,"type")&&(R.type==="wrap"||R.type==="group")&&Object.values(R.schema).some(F=>Object.prototype.hasOwnProperty.call(F,"sourceLoading")&&F.sourceLoading===!0)))}),O=(R=null,F=null)=>{if(e.actionUrl){k.value={},g.value=!0;const H=getSubmitFormData(b.value,B.model,o._state.data),W=Object.prototype.hasOwnProperty.call(H,"id")?"put":"post";api$1[W](e.actionUrl,H,K=>{g.value=!1,Object.prototype.hasOwnProperty.call(K.data,"errors")?(C.value=!1,k.value=K.data.errors):Object.prototype.hasOwnProperty.call(K.data,"variant")&&(C.value=!1,o.commit(ALERT$1.SET_ALERT,{message:K.data.message,variant:K.data.variant})),e.clearOnSaved&&(B.model=getModel(b.value),G(),f.value&&f.value.reset()),a.emit("submitted",K.data);let Y=R;if(!e.refreshOnSaved||Object.prototype.hasOwnProperty.call(K.data,"forceRedirect")&&K.data.forceRedirect)redirector$1(K.data);else{let Q=()=>{r.value&&!e.forceRefresh?router.reload({only:["formAttributes",...e.reloadOnly||[]]}):window.location.reload(!0)};Y=ae=>{R&&typeof R=="function"&&R(ae),Q()}}Y&&typeof Y=="function"&&Y(K.data)},K=>{g.value=!1,Object.prototype.hasOwnProperty.call(K.data,"exception")?o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),F&&typeof F=="function"&&F(K.data)})}},U=R=>{R&&R.preventDefault();const F=document.createElement("form");F.method="POST",F.action=e.actionUrl,F.enctype="multipart/form-data";let H=L(B.model);for(const[K,Y]of H.entries()){const Q=document.createElement("input");Q.type="hidden",Q.name=K,Q.value=Y,F.appendChild(Q)}const W=document.createElement("input");if(W.type="hidden",W.name="_token",W.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),F.appendChild(W),e.isEditing){const K=document.createElement("input");K.type="hidden",K.name="_method",K.value="PUT",F.appendChild(K)}document.body.appendChild(F),F.submit()},P=R=>{handleEvents(T.value,D.value,R.schema,!0)},L=(R,F="")=>{const H=new FormData;for(const[W,K]of Object.entries(R)){const Y=F?`${F}[${W}]`:W;if(K!=null)if(typeof K=="object")if(Array.isArray(K))K.forEach((Q,ae)=>{if(typeof Q=="object"&&Q!==null){const Z=L(Q,`${Y}[${ae}]`);for(const[ee,oe]of Z.entries())H.append(ee,oe)}else H.append(`${Y}[${ae}]`,Q)});else{const Q=L(K,Y);for(const[ae,Z]of Q.entries())H.append(ae,Z)}else H.append(Y,K)}return H},G=()=>{f.value.resetValidation()},$=R=>{const F={};for(const H in R){const W=/(\w+)\.(\w+)/,K=H.match(W);if(K){const Y=K[1],Q=K[2];__isset(F[Y])||(F[Y]=[]),F[Y][Q]=R[H]}else F[H]=R[H]}for(const H in F)D.value[H]?D.value[H].errorMessages=F[H]:find(w.value,W=>W.name===H)&&reduce(D.value,(K,Y,Q)=>(Y.type==="wrap"&&K.push(Q),K),[]).forEach(K=>{D.value[K].schema[H]&&(D.value[K].schema[H].errorMessages=F[H])})},j=R=>{if(get(D.value,`${R}`))set(D.value,`${R}.errorMessages`,[]),set(D.value,`${R}.error`,!1);else for(const F in D.value)if(D.value[F].schema)for(const H in D.value[F].schema)H===R&&(set(D.value,`${F}.schema.${H}.errorMessages`,[]),set(D.value,`${F}.schema.${H}.error`,!1))},q=()=>{for(const R in D.value)if(j(R),D.value[R].schema)for(const F in D.value[R].schema)D.value[R].schema[F]&&j(`${R}.schema.${F}`)},X=()=>{q()},J=reactive({async validate(){return await B.VForm.validate()},createModel:R=>getModel(R,B.model.value,o.state),handleInput:R=>{const{on:F,key:H,obj:W}=R;F==="input"&&H&&(B.serverValid||j(H),P(W)),a.emit("input",R)},handleClick:R=>{const{on:F,obj:H,params:W}=R;F==="click"&&W&&W.tag&&i.invokeInputClickHandler(H,W.tag)},handleUpdate:R=>{},handleResize:R=>{},handleBlur:R=>{},saveForm:O,submit:(R,F=null,H=null)=>{c.validModel.value?e.async?(R&&R.preventDefault(),e.actionUrl?O(F,H):nextTick(()=>{O(F,H)})):U(R):R&&R.preventDefault()},updatedSlotModel:(R,F)=>{},regenerateInputSchema:R=>{},updatedCustomFormBaseModelValue:R=>{T.value=R}});return watch$1(()=>e.modelValue,(R,F)=>{if(F!==void 0&&y.value){let H=getModel(b.value,R,o.state);if(isEqual(R,F)&&isEqual(H,T.value))return;T.value=getModel(b.value,R,o.state)}}),watch$1(()=>T.value,(R,F)=>{if(y.value){if(isEqual(R,F)&&isEqual(R,e.modelValue))return;a.emit("update:modelValue",R)}},{deep:!0}),watch$1(()=>B.errors,R=>{$(R)}),watch$1(()=>c.validModel.value,R=>{a.emit("update:valid",R)}),watch$1(()=>e.schema,(R,F)=>{!isEqual(R,F)&&v.value&&!isEqual(R,D.value)&&(A(!0),b.value=R,S.value=getModel(b.value),D.value=c.invokeRuleGenerator(getSchema(b.value,{...T.value,...I.value},e.isEditing)),M.value=getFormEventSchema(b.value,{...T.value,...I.value},e.isEditing),X(),setTimeout(()=>{A(!1)},500))},{deep:!0}),watch$1(()=>D.value,(R,F)=>{},{deep:!0}),watch$1(()=>b.value,(R,F)=>{if(F!==void 0&&!isEqual(R,F)){const H=cloneDeep(T.value),W=getModel(R,e.modelValue,o.state);isEqual(W,H)||(T.value=W,D.value=c.invokeRuleGenerator(getSchema(R,e.modelValue,e.isEditing)))}},{deep:!0}),X(),{...toRefs(B),...toRefs(J),...i,...c,...u}}function useAuthorization(){const e=useStore();return{can:(l,r=null)=>{const i=r?r+"_"+l:l;return e.getters.isSuperAdmin||e.getters.userPermissions[i]},hasRoles:l=>(window.__isString(l)&&(l=l.split(",").map(r=>r.trim())),e.getters.userRoles.some(r=>l.includes(r))),isYou:l=>{var r,i;return(((i=(r=e==null?void 0:e.getters)==null?void 0:r.userProfile)==null?void 0:i.id)??-1)==l}}}function useCache$1(){return{get:(r,i=null)=>store.getters[CACHE$1.GET_CACHE](r)??i,put:(r,i)=>{store.commit(CACHE$1.PUT_CACHE,{key:r,value:i})},push:(r,i)=>{store.commit(CACHE$1.PUSH_CACHE,{key:r,value:i})},last:(r,i=null)=>store.getters[CACHE$1.GET_LAST_CACHE](r)??i,forget:r=>{store.commit(CACHE$1.FORGET_CACHE,r)},states:computed(()=>store.state.cache)}}function useConfig(){const e=useStore(),a=computed(()=>e.state.config.isInertia??!1),o=computed(()=>e.state.config.isRequestInProgress??!1),n=u=>{e.commit(CONFIG.SET_REQUEST_IN_PROGRESS,u)},l=()=>{e.commit(CONFIG.INCREASE_AXIOS_REQUEST)},r=()=>{e.commit(CONFIG.DECREASE_AXIOS_REQUEST)},i=reactive({shouldUseInertia:a,isRequestInProgress:o}),c=reactive({setRequestInProgress:n,increaseAxiosRequest:l,decreaseAxiosRequest:r});return{...toRefs(i),...toRefs(c)}}function useDynamicModal(){const e=inject("modalService");if(!e)throw new Error("[ModalService] not installed. Did you forget `app.use(ModalService)`?");return e}const makeFilepondProps=propsFactory({hint:{type:String,default:null},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number},rules:{type:Array,default:()=>[]},noRules:{type:Boolean,default:!1},hintWeight:{type:String,default:"thin"},maxFiles:{type:Number,default:2},endPoints:{type:Object,default:()=>({})},class:{type:String,default:""},labelWeight:{type:String,default:"regular"},subtitle:{type:String,default:null},subtitleWeight:{type:String,default:"thin"},acceptedFileTypes:{type:String,default:""},allowImagePreview:{type:Boolean,default:!1},allowMultiple:{type:Boolean,default:!1},allowProcess:{type:Boolean,default:!0},allowRemove:{type:Boolean,default:!0},allowDrop:{type:Boolean,default:!0},allowReorder:{type:Boolean,default:!1},allowReplace:{type:Boolean,default:!1},dropOnPage:{type:Boolean,default:!1},dropOnElement:{type:Boolean,default:!0},dropValidation:{type:Boolean,default:!1},allowFileSizeValidation:{type:Boolean,default:!0},maxFileSize:{type:String,default:"5MB"},minFileSize:{type:String,default:"1KB"},maxTotalFileSize:{type:String,default:null},labelMaxFileSize:{type:String,default:"Maximum file size is {filesize}"},labelMaxFileSizeExceeded:{type:String,default:"File is too large"}});function useFilepond(e,a){const{requiredRule:o}=useValidation(e),n=window.__data_get(e.obj,"schema.rawRules","")||"",l=ref(e.rules??[]),r=ref(e.maxFiles),i=ref(e.min);return(e.isEditing?e.editable===!0:e.creatable===!0)&&!e.noRules&&e.min&&e.min>0&&!n.match(/required:array:\d+/)&&l.value.push(o.value("array",e.min)),i.value&&r.value<i.value&&(r.value=i.value),r.value<1&&(r.value=5),watch$1(()=>e.rules,c=>{l.value=c}),{filepondRules:l,max:r}}const makeSelectProps=propsFactory({itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},multiple:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},returnObject:{type:Boolean,default:!1},objectIdDefiner:{type:String},convertObject:{type:Boolean,default:!1},objectModelValues:{type:Array,default:()=>["*"]},max:{type:Number,default:null}}),makePaginationProps=propsFactory({endpoint:{type:String},page:{type:Number,default:1},lastPage:{type:Number,default:-1},itemsPerPage:{type:Number,default:20},sourceLoading:{type:Boolean,default:!1},with:{type:[Array],default:()=>[]},scopes:{type:[Array],default:()=>[]},orders:{type:[Array],default:()=>[]},appends:{type:[Array],default:()=>[]},column:{type:[Array],default:()=>[]},searchKeys:{type:[Array],default:()=>["name"]},paginationPageKey:{type:String,default:"page"}});function usePagination(e,a){const o=ref(getURLWithoutQuery(e.endpoint)),n=ref(e.page||1),l=ref(e.lastPage||-1),r=ref(l.value>0?l.value+1:e.page||1),i=ref(""),c=ref(""),u=ref(!1),s=ref(e.items||[]),f=ref(getParameters(e.endpoint)),p=computed(()=>({...i.value?{search:i.value}:{}})),m=computed(()=>({...i.value?{search:e.searchKeys.reduce((V,A)=>(V[A]=i.value,V),{})}:{}})),y=computed(()=>new URLSearchParams({...f.value,...r.value?{[e.paginationPageKey]:r.value}:{},itemsPerPage:e.itemsPerPage,...p.value,...e.with?{with:e.with.join(",")}:{}}).toString()),v=computed(()=>getURLWithoutQuery(o.value)+"?"+y.value);return{rawUrl:o,defaultQueryParameters:f,searchFilterObject:p,searchFieldsFilter:m,queryParameters:y,fullUrl:v,activePage:n,nextPage:r,activeLastPage:l,searchModel:i,search:c,itemsLoading:u,elements:s,setItemsLoading:V=>{u.value=V},setActivePage:V=>{n.value=V,r.value=n.value+1},setActiveLastPage:V=>{V!=l.value&&(l.value=V)},setElements:V=>{s.value=V},appendElements:V=>{s.value=s.value.concat(V)},prependElements:V=>{s.value=V.concat(s.value)},getSearchData:()=>{}}}const makeInputFetchProps=propsFactory({...makeSelectProps(),...makePaginationProps()});function useInputFetch(e,a){const{activePage:o,activeLastPage:n,nextPage:l,search:r,itemsLoading:i,elements:c,fullUrl:u,setItemsLoading:s,setElements:f,appendElements:p,setActivePage:m}=usePagination(e),y=async()=>{if(!(l.value>n.value)||n.value<0)return s(!0),a.emit("update:input",[{key:"sourceLoading",value:!0}]),new Promise(()=>{axios.get(u.value).then(g=>{if(g.status==200)if(n.value<0&&(n.value=g.data.resource.last_page),r.value==""?p(g.data.resource.data??[]):f(g.data.resource.data??[]),m(g.data.resource.current_page),a.input.value){let C=!1;a.input.value&&(e.multiple?a.input.value.forEach(function(k){if(!c.value.find(b=>b[e.itemValue]==k))return C=!0,!1}):C=!c.value.find(k=>k[e.itemValue]==a.input.value)),C?y():(s(!1),a.emit("update:input",[{key:"sourceLoading",value:!1},{key:"items",value:c.value},{key:"lastPage",value:n.value},{key:"page",value:o.value}]))}else s(!1),a.emit("update:input",[{key:"sourceLoading",value:!1}])})})};return{itemsLoading:i,elements:c,getItemsFromApi:y,activePage:o,activeLastPage:n,nextPage:l,searchOnInputFetch:g=>{if(a.input){g==""?(c.value=[],y()):r.value=g;return}r.value=g,o.value=1,l.value=1,lastPage.value=-1,r.value==""&&(c.value=[]),y()}}}function useAlert(){const e=useStore();return{openAlert:o=>{e.commit(ALERT$1.SET_ALERT,o)}}}function useCastAttributes(){const{t,te}=useI18n(),AttributePattern=/\$([\w\d\.\*\_]+)/,EvalPattern=/^\$\((.*)\)\$/,matchAttribute=e=>isMatchingPattern(e),matchStandardAttribute=e=>AttributePattern.test(e),matchEvalAttribute=e=>EvalPattern.test(e),castStandardAttribute=(e,a,o={})=>{let n=e;if(matchStandardAttribute(e)){let l=e.match(AttributePattern),r=l[1],i=__preg_quote(l[0]),c=r.split("."),u=[];for(const f in c){let p=c[f];if(p==="*"){let m=a.id;__isset(o.clearAsterisk)&&o.clearAsterisk||u.push(`*id=${m}`)}else u.push(p)}r=u.join(".");let s=__data_get(a,r);if(!(s===void 0&&s===null)){let f;if(isArray(s)&&s.length>0)f=s,s.every(p=>isString(p)||isNumber(p))&&(f=s.join(","));else if(isString(s)){f=s;let p=snakeCase(f);te(`modules.${p}`)&&(f=t(`modules.${p}`))}else isNumber(s)&&(f=s.toString());if(f&&isString(f)){let p="\\w\\s"+__preg_quote(`çşıİğüö.,;?|:_-=<>/"'`),m=new RegExp(String.raw`^([${p}]+)?(${i})([${p}]+)?$`);e.match(m)?n=e.replace(m,"$1"+f+"$3"):__log("Not matched sentence",m,e,e.match(m))}else isArray(f)&&(n=f)}}return n},castEvalAttribute=(value,ownerItem)=>{let returnValue=value;if(matchEvalAttribute(value)){let matches=value.match(EvalPattern),evalText=matches[1],evalParts=evalText.split(" ").map(e=>castAttribute(e,ownerItem));try{returnValue=eval(evalParts.join(" "))}catch(e){console.error("Error in eval",e)}}return returnValue},castAttribute=(e,a)=>matchAttribute(e)?replacePattern(e,a):matchEvalAttribute(e)?castEvalAttribute(e,a):matchStandardAttribute(e)?castStandardAttribute(e,a):e,castObjectAttribute=(value,ownerItem,options={})=>{if(!isString(value))return value;let returnValue=value;if(matchAttribute(value))returnValue=replacePattern(value,ownerItem);else if(matchEvalAttribute(value)){let matches=value.match(EvalPattern),evalText=matches[1],evalParts=evalText.split(" ").map(e=>{if(AttributePattern.test(e)){let o=e.match(AttributePattern)[1],n=__data_get(ownerItem,o,void 0);if(n!==void 0)return n}return e});try{return eval(evalParts.join(" "))}catch(e){console.error("Error in eval",e)}}else if(matchStandardAttribute(value))return castStandardAttribute(value,ownerItem,options);return returnValue},castObjectAttributes=(e,a)=>isString(e)?castObjectAttribute(e,a):isArray(e)?e.map(o=>castObjectAttributes(o,a)):isObject(e)?Object.keys(e).reduce((o,n)=>(o[n]=castObjectAttributes(e[n],a),o),{}):e;return{matchAttribute,matchStandardAttribute,matchEvalAttribute,castAttribute,castStandardAttribute,castEvalAttribute,castObjectAttribute,castObjectAttributes}}function useUser(){const e=useStore(),a=useAuthorization(),o=reactive({isGuest:computed(()=>e.getters.isGuest??!0),isSuperAdmin:computed(()=>a.isSuperAdmin??!1),isClient:computed(()=>a.isClient??!1),timezone:computed(()=>e.state.user.timezone??"Europe/London")});return{...toRefs(o),can:a.can,isYou:a.isYou,hasRoles:a.hasRoles}}function useBadge(e,a){return{isBadge:l=>{if(!window.__isset(l.badge))return!1;let r=l.badge;if(window.__isString(r)){let i=lodashExports.toNumber(r);if(!isNaN(i))return i>0}return r},badgeProps:l=>({...l.componentProps??{},content:l.badgeContent??l.badge,color:l.badgeColor??"warning",textColor:l.badgeTextColor??"white"})}}const _sfc_main$1H={__name:"TableActions",props:{actions:{type:Array,required:!0}},emits:["actionComplete"],setup(e,{emit:a}){const o=e,n=a,l=useAttrs(),r=useSlots(),{generateButtonProps:i}=useGenerate(),c={};o.actions.forEach((v,g)=>{const{generatedButtonProps:C}=useGenerate(v);c[g]=C});const u=computed(()=>Object.keys(c).reduce((v,g)=>(v[g]=c[g].value,v),{})),{isBadge:s,badgeProps:f}=useBadge(),{handleAction:p,allActions:m,hasActions:y}=useItemActions(o,{...l,...r,...n,actionItem:o.modelValue});return(v,g)=>{const C=resolveComponent("ue-form"),k=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([unref(y)||v.$slots.prepend?"d-flex flex-wrap ga-2":""])},[renderSlot(v.$slots,"prepend"),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(m),(b,w)=>(openBlock(),createBlock(VTooltip,{disabled:!b.icon||b.forceLabel,location:b.tooltipLocation??"top"},{activator:withCtx(({props:S})=>[b.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:v.editedItem[b.key??"published"]??b.default??!1,"onUpdate:modelValue":T=>unref(p)(b),ref_for:!0},{...b.componentProps,...S}),null,16,["modelValue","onUpdate:modelValue"])):b.type==="modal"&&b.endpoint&&b.schema?(openBlock(),createBlock(k,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},b.modalAttributes??{}),{activator:withCtx(T=>[unref(s)(b)?(openBlock(),createBlock(VBadge,{key:0,content:b.badge,color:b.badgeColor??"warning","text-color":b.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...unref(i)(b),...T.props,...S}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...unref(i)(b),...T.props,...S}),null,16))]),body:withCtx(T=>[createVNode(C,mergeProps({ref_for:!0,ref:`extra-form-${w}`,modelValue:v.createModel(b.schema),title:b.formTitle??null,schema:b.schema,"action-url":b.endpoint.replace(":id",v.modelValue.id),valid:v.valids[w],"is-editing":v.isEditing,style:T.isFullActive?"height: 90vh !important;":"height: 70vh !important;","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:V=>v.$emit("actionComplete",{action:b}),"onUpdate:valid":V=>v.valids[w]=V,"onUpdatex:modelValue":g[0]||(g[0]=V=>v.$log(V))},b.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1040)):b.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[unref(s)(b)?(openBlock(),createBlock(VBadge,{key:0,content:b.badge,color:b.badgeColor??"warning","text-color":b.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...u.value[w],...S}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...u.value[w],...S},{onClick:()=>console.log(u.value[w])}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(b.tooltip??b.label),1)]),_:2},1032,["disabled","location"]))),256)),renderSlot(v.$slots,"append")],2)}}},_sfc_main$1G={props:{...makeActiveTableItemProps()},setup(e,a){return{...useActiveTableItem(e,a)}},created(){}};function _sfc_render$1m(e,a,o,n,l,r){const i=resolveComponent("ue-recursive-stuff"),c=resolveComponent("ue-modal"),u=resolveComponent("ue-table");return openBlock(),createElementBlock("div",null,[createVNode(c,{ref:"customModal",modelValue:e.modalActive,"onUpdate:modelValue":a[0]||(a[0]=s=>e.modalActive=s),scrollable:"",transition:"dialog-bottom-transition","width-type":"md","onClick:outside":e.clickOutside},{body:withCtx(s=>[createVNode(VCard,{class:"pa-12"},{default:withCtx(()=>[createVNode(VItemGroup,{"selected-class":"bg-primary"},{default:withCtx(()=>[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemData,(f,p)=>(openBlock(),createBlock(VCol,mergeProps({key:p,ref_for:!0},e.$bindAttributes(f.clickBlock?f.clickBlock.col:{cols:12})),{default:withCtx(()=>[createVNode(VItem,null,{default:withCtx(({isSelected:m,selectedClass:y,toggle:v})=>[f.clickBlock&&f.clickBlock.elements?(openBlock(),createBlock(i,{key:0,configuration:f.clickBlock.elements,onClick:g=>e.selectNested(p)},{default:withCtx(()=>[createTextVNode(toDisplayString(f.title),1)]),_:2},1032,["configuration","onClick"])):(openBlock(),createBlock(VBtn,{key:1,onClick:g=>e.selectNested(p),class:"w-100",style:{"max-width":"unset","text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(f.title),1)]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"]),e.item&&!e.modalActive&&e.activeBlock?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(u,mergeProps({...e.$bindAttributes(),tableClasses:e.$parent.tableClasses},{"custom-title":e.activeBlock.title,class:"mb-12","is-row-editing":!1,"embedded-form":!1,"create-on-modal":!1,"edit-on-modal":!1,"row-actions":[],columns:e.tableHeaders,items:e.items,"table-options":{page:1,itemsPerPage:1,multiSort:!1,mustSort:!1},"hide-footer":"","no-footer":"","no-form":"","no-full-screen":"","ignore-formatters":["activate"]}),{headerRight:withCtx(()=>[createVNode(VBtn,{class:"bg-grey-darken-1",color:"white",variant:"tonal",icon:"$close",density:"compact",onClick:a[1]||(a[1]=s=>e.closeItemDetails())},{default:withCtx(()=>[createVNode(VIcon,{icon:"$close",size:"small"})]),_:1})]),_:1},16,["custom-title","columns","items"]),createBaseVNode("div",null,[createVNode(i,{configuration:e.activeBlock.elements},null,8,["configuration"])])],64)):createCommentVNode("",!0)])}const ActiveTableItem=_export_sfc(_sfc_main$1G,[["render",_sfc_render$1m]]),_imports_0="/vendor/modularity/png/cardtypes/chip.png",_sfc_main$1F={name:"CreditCard",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},setup(e){const a=ref(null),o=ref(null),n=ref(!1),l=ref(!1),r="#### ###### #####",i="#### ###### ####",c="#### #### #### ####",u=ref(""),s=computed(()=>{let C=new URL(import.meta.url);return`${C.protocol}//${C.hostname}${C.port?":"+C.port:""}`}),f=computed(()=>{let C=e.labels.cardNumber,k="./vendor/modularity/png/cardtypes/";switch(!0){case/^4/.test(C):k=k+"visa.png";break;case/^(34|37)/.test(C):k=k+"amex.png";break;case/^5[1-5]/.test(C):k=k+"mastercard.png";break;case/^6011/.test(C):k=k+"discover.png";break;case/^62/.test(C):k=k+"unionpay.png";break;case/^9792/.test(C):k=k+"troy.png";break;case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(C):k=k+"dinersclub.png";break;case/^35(2[89]|[3-8])/.test(C):k=k+"jcb.png";break;default:k=k+"visa.png";break}return new URL(k,s.value).href}),p=computed(()=>{let C=e.labels.cardNumber;switch(!0){case/^4/.test(C):return"visa";case/^(34|37)/.test(C):return"amex";case/^5[1-5]/.test(C):return"mastercard";case/^6011/.test(C):return"discover";case/^62/.test(C):return"unionpay";case/^9792/.test(C):return"troy";case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(C):return"dinersclub";case/^35(2[89]|[3-8])/.test(C):return"jcb";default:return"visa"}}),m=computed(()=>{if(e.randomBackgrounds&&!e.backgroundImage){let k=`./vendor/modularity/jpg/payment/${Math.floor(Math.random()*25+1)}.jpeg`;return new URL(k,s.value).href}else return e.backgroundImage?e.backgroundImage:null}),y=()=>{const C=document.querySelector(`label[for="${o.value}"]`);a.value=C?{width:`${C.offsetWidth}px`,height:`${C.offsetHeight}px`,transform:`translateX(${C.offsetLeft}px) translateY(${C.offsetTop}px)`}:null},v=(C,k)=>C>4&&C<14&&e.labels.cardNumber.length>C&&k.trim()!==""&&e.isCardNumberMasked,g=()=>{p.value==="amex"?u.value=r:p.value==="dinersclub"?u.value=i:u.value=c,nextTick(()=>{y()})};return watch$1(o,()=>{o.value?y():a.value=null}),watch$1(p,()=>{g()}),onMounted(()=>{g(),document.querySelectorAll("[data-card-field] input").forEach(k=>{k.addEventListener("focus",()=>{n.value=!0,k.id===e.fields.cardYear||k.id===e.fields.cardMonth?o.value="cardDate":o.value=k.id,l.value=k.id===e.fields.cardCvv}),k.addEventListener("blur",()=>{l.value=k.id===e.fields.cardCvv,setTimeout(()=>{n.value||(o.value=null)},300),n.value=!1})})}),{focusElementStyle:a,currentFocus:o,isFocused:n,isCardFlipped:l,baseUrl:s,currentPlaceholder:u,cardType:p,cardImage:f,currentCardBackground:m,changeFocus:y,getIsNumberMasked:v,changePlaceholder:g}}},_hoisted_1$15={class:"card-item__side -front"},_hoisted_2$R={class:"card-item__cover"},_hoisted_3$N=["src"],_hoisted_4$C={class:"card-item__wrapper"},_hoisted_5$w={class:"card-item__top"},_hoisted_6$t={class:"card-item__type"},_hoisted_7$m=["src"],_hoisted_8$j=["for"],_hoisted_9$g={key:0,class:"card-item__numberItem"},_hoisted_10$d={class:"card-item__content"},_hoisted_11$a=["for"],_hoisted_12$7={class:"card-item__holder"},_hoisted_13$6={class:"card-item__name",key:"1"},_hoisted_14$4={class:"card-item__name",key:"2"},_hoisted_15$3={class:"card-item__date",ref:"cardDate"},_hoisted_16$2=["for"],_hoisted_17$2=["for"],_hoisted_18$1={key:"2"},_hoisted_19$1=["for"],_hoisted_20$1={key:"2"},_hoisted_21$1={class:"card-item__side -back"},_hoisted_22$1={class:"card-item__cover"},_hoisted_23=["src"],_hoisted_24={class:"card-item__cvv"},_hoisted_25={class:"card-item__cvvBand"},_hoisted_26={class:"card-item__type"},_hoisted_27=["src"];function _sfc_render$1l(e,a,o,n,l,r){return openBlock(),createElementBlock("div",{class:normalizeClass(["card-item",{"-active":n.isCardFlipped}])},[createBaseVNode("div",_hoisted_1$15,[createBaseVNode("div",{class:normalizeClass(["card-item__focus",{"-active":n.focusElementStyle}]),style:normalizeStyle(n.focusElementStyle),ref:"focusElement"},null,6),createBaseVNode("div",_hoisted_2$R,[n.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:n.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_3$N)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$C,[createBaseVNode("div",_hoisted_5$w,[a[0]||(a[0]=createBaseVNode("img",{src:_imports_0,class:"card-item__chip"},null,-1)),createBaseVNode("div",_hoisted_6$t,[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[n.cardImage?(openBlock(),createElementBlock("img",{src:n.cardImage,key:n.cardImage,alt:"",class:"card-item__typeImg"},null,8,_hoisted_7$m)):createCommentVNode("",!0)]),_:1})])]),createBaseVNode("label",{for:o.fields.cardNumber,class:"card-item__number",ref:o.fields.cardNumber},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.currentPlaceholder,(i,c)=>(openBlock(),createElementBlock("span",{key:c},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[n.getIsNumberMasked(c,i)?(openBlock(),createElementBlock("div",_hoisted_9$g,"*")):o.labels.cardNumber.length>c?(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":i.trim()===""}]),key:n.currentPlaceholder},toDisplayString(o.labels.cardNumber[c]),3)):(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":i.trim()===""}]),key:n.currentPlaceholder+1},toDisplayString(i),3))]),_:2},1024)]))),128))],8,_hoisted_8$j),createBaseVNode("div",_hoisted_10$d,[createBaseVNode("label",{for:o.fields.cardName,class:"card-item__info",ref:o.fields.cardName},[createBaseVNode("div",_hoisted_12$7,toDisplayString(e.$t("Card Holder")),1),createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardName.length?(openBlock(),createElementBlock("div",_hoisted_13$6,[createVNode(TransitionGroup,{name:"slide-fade-right"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardName.replace(/\s\s+/g," "),(i,c)=>(openBlock(),createElementBlock("span",{class:"card-item__nameItem",key:c+1},toDisplayString(i),1))),128))]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_14$4,toDisplayString(e.$t("Full Name")),1))]),_:1})],8,_hoisted_11$a),createBaseVNode("div",_hoisted_15$3,[createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateTitle"},toDisplayString(e.$t("Expire Date")),9,_hoisted_16$2),createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardMonth?(openBlock(),createElementBlock("span",{key:o.labels.cardMonth},toDisplayString(o.labels.cardMonth),1)):(openBlock(),createElementBlock("span",_hoisted_18$1,toDisplayString(e.$t("MM")),1))]),_:1})],8,_hoisted_17$2),a[1]||(a[1]=createTextVNode(" / ")),createBaseVNode("label",{for:o.fields.cardYear,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardYear?(openBlock(),createElementBlock("span",{key:o.labels.cardYear},toDisplayString(String(o.labels.cardYear).slice(2,4)),1)):(openBlock(),createElementBlock("span",_hoisted_20$1,toDisplayString(e.$t("YY")),1))]),_:1})],8,_hoisted_19$1)],512)])])]),createBaseVNode("div",_hoisted_21$1,[createBaseVNode("div",_hoisted_22$1,[n.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:n.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_23)):createCommentVNode("",!0)]),a[3]||(a[3]=createBaseVNode("div",{class:"card-item__band"},null,-1)),createBaseVNode("div",_hoisted_24,[a[2]||(a[2]=createBaseVNode("div",{class:"card-item__cvvTitle"},"CVV",-1)),createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardCvv,(i,c)=>(openBlock(),createElementBlock("span",{key:c},"*"))),128))]),createBaseVNode("div",_hoisted_26,[n.cardImage?(openBlock(),createElementBlock("img",{key:0,src:n.cardImage,class:"card-item__typeImg"},null,8,_hoisted_27)):createCommentVNode("",!0)])])])],2)}const CreditCard=_export_sfc(_sfc_main$1F,[["render",_sfc_render$1l],["__scopeId","data-v-4fa28647"]]),__vite_glob_3_7=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1E={name:"CreditCardForm",directives:{"number-only":{beforeMount(e){function a(o){if(o.target.value=o.target.value.replace(/[^0-9 ]/g,""),o.charCode>=48&&o.charCode<=57||o.charCode===32)return!0;o.preventDefault()}e.addEventListener("keypress",a)}},"letter-only":{beforeMount(e){function a(o){return o.charCode>=48&&o.charCode<=57&&o.preventDefault(),!0}e.addEventListener("keypress",a)}}},props:{formData:{type:Object,default:()=>reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""})},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0},inputDensity:{type:String,default:"default"}},components:{CreditCard},setup(e,{emit:a}){const o=reactive({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"}),n=inject("submitForm"),l=new Date().getFullYear(),r=ref(!0),i=ref(e.formData.cardNumber),c=ref(19),u=computed(()=>["01","02","03","04","05","06","07","08","09","10","11","12"]),s=computed(()=>{const x=new URLSearchParams(window.location.search);return x.has("testYears")?Array.from({length:x.get("testYears")},(E,z)=>l+z):Array.from({length:12},(E,z)=>l+z)}),f=computed(()=>e.formData.cardYear===l?new Date().getMonth()+1:1);watch$1(()=>e.formData.cardYear,()=>{e.formData.cardMonth<f.value&&(e.formData.cardMonth="")}),onMounted(()=>{S()});const p=x=>x<10?`0${x}`:x,m=reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}),y=()=>{a("v-card-name",e.formData.cardName),a("update:cardName",m.cardName)},v=x=>{e.formData.cardNumber=x.target.value;let E=e.formData.cardNumber.replace(/\D/g,"");/^3[47]\d{0,13}$/.test(E)?(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),c.value=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(E)?(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),c.value=16):/^\d{0,16}$/.test(E)&&(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),c.value=19),x.inputType==="deleteContentBackward"&&e.formData.cardNumber.substring(e.formData.cardNumber.length-1)===" "&&(e.formData.cardNumber=e.formData.cardNumber.substring(0,e.formData.cardNumber.length-1)),m.cardNumber=e.formData.cardNumber,a("input-card-number",e.formData.cardNumber),a("update:cardNumber",m.cardNumber)},g=()=>{a("input-card-month",e.formData.cardMonth),a("update:cardMonth",m.cardMonth)},C=()=>{a("input-card-year",e.formData.cardYear),a("update:cardYear",m.cardYear)},k=()=>{a("input-card-cvv",e.formData.cardCvv),a("update:cardCvv",m.cardCvv)},b=()=>{let x=e.formData.cardNumberNotMask.replace(/ /g,""),E=0;for(let z=0;z<x.length;z++){let B=parseInt(x.substr(z,1));z%2===0&&(B*=2,B>9&&(B=1+B%10)),E+=B}E%10!==0&&alert(e.$t("cardForm.invalidCardNumber"))},w=()=>{r.value&&S()},S=()=>{e.formData.cardNumberNotMask=e.formData.cardNumber,i.value=e.formData.cardNumber;let x=e.formData.cardNumber.split("");x.forEach((E,z)=>{z>4&&z<14&&E.trim()!==""&&(x[z]="*")}),e.formData.cardNumber=x.join("")},T=()=>{e.formData.cardNumber=i.value},V=()=>{T()},A=()=>{r.value=!r.value,r.value?S():T()},I=x=>useValidation({rules:"required|min:16|max:19|regex:/^[0-9]+$/"}),D=x=>useValidation({rules:"required"}),M=(x,E)=>{const z=new Date;return new Date(E,x-1)<z?"Card has expired":!0},N=x=>useValidation({rules:"required|min:3|max:4"});return watch$1(()=>e.formData.cardNumber,I),watch$1(()=>e.formData.cardName,D),watch$1([()=>e.formData.cardMonth,()=>e.formData.cardYear],([x,E])=>M(x,E)),watch$1(()=>e.formData.cardCvv,N),watch$1(()=>m.cardName,x=>a("update:cardName",x)),watch$1(()=>m.cardNumber,x=>a("update:cardNumber",x)),watch$1(()=>m.cardMonth,x=>a("update:cardMonth",x)),watch$1(()=>m.cardYear,x=>a("update:cardYear",x)),watch$1(()=>m.cardCvv,x=>a("update:cardCvv",x)),{fields:o,minCardYear:l,isCardNumberMasked:r,mainCardNumber:i,cardNumberMaxLength:c,months:u,years:s,minCardMonth:f,generateMonthValue:p,changeName:y,changeNumber:v,changeMonth:g,changeYear:C,changeCvv:k,invaildCard:b,blurCardNumber:w,maskCardNumber:S,unMaskCardNumber:T,focusCardNumber:V,toggleMask:A,submitForm:n,validateCardNumber:I,validateCardName:D,validateExpiryDate:M,validateCVV:N,formData:m}}},_hoisted_1$14={class:"card-form"},_hoisted_2$Q={class:"card-list"},_hoisted_3$M={class:"card-form__inner"},_hoisted_4$B={class:"card-input"},_hoisted_5$v={for:"cardNumber",class:"card-input__label"},_hoisted_6$s={class:"card-input"},_hoisted_7$l={for:"cardName",class:"card-input__label"},_hoisted_8$i={class:"card-form__row"},_hoisted_9$f={class:"card-form__col"},_hoisted_10$c={class:"card-form__group"},_hoisted_11$9={for:"cardMonth",class:"card-input__label"},_hoisted_12$6={class:"card-form__col -cvv"},_hoisted_13$5={class:"card-input"},_hoisted_14$3={for:"cardCvv",class:"card-input__label"};function _sfc_render$1k(e,a,o,n,l,r){const i=resolveComponent("CreditCard"),c=resolveDirective("number-only");return openBlock(),createElementBlock("div",_hoisted_1$14,[createBaseVNode("div",_hoisted_2$Q,[createVNode(i,{fields:n.fields,labels:n.formData,isCardNumberMasked:n.isCardNumberMasked,randomBackgrounds:o.randomBackgrounds,backgroundImage:o.backgroundImage},null,8,["fields","labels","isCardNumberMasked","randomBackgrounds","backgroundImage"])]),createBaseVNode("div",_hoisted_3$M,[createBaseVNode("div",_hoisted_4$B,[createBaseVNode("label",_hoisted_5$v,toDisplayString(e.$t("Card Number")),1),withDirectives(createVNode(VTextField,{id:n.fields.cardNumber,modelValue:n.formData.cardNumber,"onUpdate:modelValue":a[0]||(a[0]=u=>n.formData.cardNumber=u),onInput:n.changeNumber,onFocus:n.focusCardNumber,onBlur:n.blurCardNumber,"data-card-field":"",type:"tel",variant:"outlined",maxlength:n.cardNumberMaxLength,density:o.inputDensity},null,8,["id","modelValue","onInput","onFocus","onBlur","maxlength","density"]),[[c]])]),createBaseVNode("div",_hoisted_6$s,[createBaseVNode("label",_hoisted_7$l,toDisplayString(e.$t("Card Holder")),1),createVNode(VTextField,{id:n.fields.cardName,modelValue:n.formData.cardName,"onUpdate:modelValue":a[1]||(a[1]=u=>n.formData.cardName=u),onInput:n.changeName,"data-card-field":"",variant:"outlined",density:o.inputDensity},null,8,["id","modelValue","onInput","density"])]),createBaseVNode("div",_hoisted_8$i,[createBaseVNode("div",_hoisted_9$f,[createBaseVNode("div",_hoisted_10$c,[createBaseVNode("label",_hoisted_11$9,toDisplayString(e.$t("Expire Date")),1),createVNode(VSelect,{id:n.fields.cardMonth,items:n.months,label:e.$t("Month"),modelValue:n.formData.cardMonth,"onUpdate:modelValue":a[2]||(a[2]=u=>n.formData.cardMonth=u),onChange:n.changeMonth,"disabled-item":u=>u<n.minCardMonth,"data-card-field":"",variant:"outlined",density:o.inputDensity},null,8,["id","items","label","modelValue","onChange","disabled-item","density"]),createVNode(VSelect,{id:n.fields.cardYear,items:n.years,label:e.$t("Year"),modelValue:n.formData.cardYear,"onUpdate:modelValue":a[3]||(a[3]=u=>n.formData.cardYear=u),onChange:n.changeYear,"data-card-field":"",variant:"outlined",density:o.inputDensity},null,8,["id","items","label","modelValue","onChange","density"])])]),createBaseVNode("div",_hoisted_12$6,[createBaseVNode("div",_hoisted_13$5,[createBaseVNode("label",_hoisted_14$3,toDisplayString(e.$t("CVV")),1),withDirectives(createVNode(VTextField,{type:"tel",modelValue:n.formData.cardCvv,"onUpdate:modelValue":a[4]||(a[4]=u=>n.formData.cardCvv=u),id:n.fields.cardCvv,maxlength:"4",onInput:n.changeCvv,"data-card-field":"",autocomplete:"off",variant:"outlined",density:o.inputDensity},null,8,["modelValue","id","onInput","density"]),[[c]])])])]),createVNode(VBtn,{class:"card-form__button bg-success",onClick:n.submitForm,density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("PAY")),1)]),_:1},8,["onClick"])])])}const CreditCardForm=_export_sfc(_sfc_main$1E,[["render",_sfc_render$1k]]),__vite_glob_3_8=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCardForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$1D={name:"PaymentService",components:{CreditCardForm},emits:[...makeInputEmits,"update:price","currency-converted"],props:{...makeInputProps(),modelValue:{type:Object,default:()=>({})},itemValue:{type:String,default:"id"},items:{type:Array,default:()=>[]},supportedCurrencies:{type:Array,default:()=>[]},price_object:{type:[Object,Array,Proxy],default:()=>({})},currencyConversionEndpoint:{type:String,default:""},currencyCardTypes:{type:[Object,Proxy,Array],default:()=>({})},baseCurrency:{type:String,default:"EUR"},transferFormSchema:{type:[Array,Object],default:()=>[]},paymentUrl:{type:String,default:""},checkoutUrl:{type:String,default:null},completeUrl:{type:String,default:null},transactionFeePercentage:{type:Number,default:3},transactionFeeDescription:{type:String,default:"transaction fee"}},setup(e,{emit:a}){var B,O,U;const o=inject("submitForm"),{formatPrice:n}=useCurrency(),l=ref(""),r=ref("-1"),i=ref(e.price_object.currency_id||((B=e.supportedCurrencies[0])==null?void 0:B.id)),c=ref(n.value(e.price_object.total_amount/100,((O=e.supportedCurrencies[0])==null?void 0:O.symbol)||"")),u=ref(!0),s=ref({}),f=reactive({card_name:"",card_number:"",card_month:"",card_year:"",card_cvv:""}),p=computed(()=>e.supportedCurrencies.find(P=>P.id===i.value)),m=computed(()=>e.supportedCurrencies.map(P=>({id:P.id,display:`${P.symbol} - ${P.name}`}))),y=computed(()=>i.value?e.items.filter(P=>{var L;return(L=P.payment_currencies)==null?void 0:L.some(G=>G.id===i.value)}):[]),v=computed(()=>y.value.some(P=>P.is_external)),g=computed(()=>{const P=y.value,L=l.value;return L==null||L===""?null:P.find(G=>G[e.itemValue]===L)||null}),C=ref({...getModel(e.transferFormSchema),price_id:e.price_object.id,payment_service_id:l.value,currency_id:((U=p.value)==null?void 0:U.id)??null}),k=computed(()=>getSchema(e.transferFormSchema,C.value)),b=P=>P?P.transferrable:!1,w=P=>P?P.is_internal&&!b(P):!0,S=computed(()=>w(g.value)),T=computed(()=>b(g.value)),V=computed({get:()=>e.modelValue,set:P=>a("update:modelValue",P)}),A=computed(()=>{var P;return((P=p.value)==null?void 0:P.iso_4217)!==e.baseCurrency}),I=ref(0),D=P=>{C.value=P},M=()=>{var P;return{...getModel(e.transferFormSchema),price_id:e.price_object.id,payment_service_id:l.value,currency_id:((P=p.value)==null?void 0:P.id)??null}},N=P=>{console.log("transfer submitted",P)},x=P=>{s.value=P},E=()=>{axios.post(e.checkoutUrl,{price_id:e.price_object.id,payment_service:{payment_method:p.value.payment_service_id,credit_card:{card_name:f.card_name,card_number:f.card_number,card_month:f.card_month,card_year:f.card_year,card_cvv:f.card_cvv},currency:p.value}}).then(P=>{x({...P.data,orderId:P.data.order_id}),u.value=!1})},z=async P=>{i.value=P,l.value=r.value;const L=e.supportedCurrencies.find(G=>G.id===P);if(!(!L||!e.currencyConversionEndpoint))try{const G=await axios.post(e.currencyConversionEndpoint,{currency:L.iso_4217,amount:e.price_object.discounted_raw_amount/100});I.value=G.data.exchange_rate;const $=G.data.converted_amount*(1+e.price_object.vat_multiplier);c.value=n.value($,L.symbol),a("update:price",c.value),a("currency-converted",c.value)}catch(G){console.error("Currency conversion error:",G)}};return watch$1(()=>e.modelValue,P=>{P&&typeof P=="object"&&(l.value=P.payment_method||r.value,Object.assign(f,P.credit_card||{}))},{immediate:!0,deep:!0}),watch$1([l,f,p],()=>{p.value.has_built_in_form&&E(),V.value={payment_method:l.value,credit_card:{...f},currency:p.value}},{deep:!0}),watch$1(T,P=>{if(P){let L=l.value;C.value.payment_service_id=L,C.value.currency_id=p.value.id}},{deep:!0}),p.value.has_built_in_form&&E(),{input:V,localPaymentMethod:l,localDefaultPaymentMethod:r,localCreditCard:f,isCreditCardForm:S,isTransferrableForm:T,submitForm:o,currencyModel:i,selectedCurrency:p,formattedCurrencies:m,filteredServiceItems:y,currencyHasExternalService:v,transferSchema:k,transferFormModel:C,createTransferModel:M,updateTransferModel:D,handleTransferSubmit:N,handleCurrencyChange:z,displayPrice:c,selectedService:g,exchangeRate:I,isExchanged:A,builtInFormLoading:u,builtInFormAttributes:s,setBuiltInFormAttributes:x,runBuiltInForm:E}}},_hoisted_1$13={class:"text-h5 text-center ma-6"},_hoisted_2$P={class:"flex-md-1-1-0 flex-1-1-100"},_hoisted_3$L={class:"d-flex justify-md-end ga-1"},_hoisted_4$A={class:"flex-md-0-1 flex-1-1-100"},_hoisted_5$u={class:"service-icon-container"},_hoisted_6$r={key:0,class:"service-container",style:{border:"none"}},_hoisted_7$k={class:"text-body-1"},_hoisted_8$h={class:"total mb-2"},_hoisted_9$e={class:"amount mb-2"},_hoisted_10$b={key:0,class:""},_hoisted_11$8={class:"d-flex flex-column align-center",style:{width:"100%"}},_hoisted_12$5={class:"text-h5 text-center ma-4"},_hoisted_13$4={key:1,class:"w-100 h-100 d-flex border-thin d-flex flex-column pa-4 ga-4"},_hoisted_14$2={class:"text-body-1 font-weight-bold"},_hoisted_15$2={class:"text-body-1"},_hoisted_16$1={key:2,class:"d-flex flex-column align-center",style:{width:"100%"}},_hoisted_17$1={class:"text-h5 text-center ma-4"};function _sfc_render$1j(e,a,o,n,l,r){const i=resolveComponent("v-img-icon"),c=resolveComponent("ue-revolut-checkout-modal"),u=resolveComponent("CreditCardForm"),s=resolveComponent("ue-form");return openBlock(),createBlock(VInput,{modelValue:n.input,"onUpdate:modelValue":a[7]||(a[7]=f=>n.input=f)},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex flex-column justify-center px-0"},{default:withCtx(()=>[createVNode(VCard,{class:"pa-4 payment-container",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$13,toDisplayString(e.$t("How would you like to pay?")),1)]),_:1}),createVNode(VSelect,{modelValue:n.currencyModel,"onUpdate:modelValue":[a[0]||(a[0]=f=>n.currencyModel=f),n.handleCurrencyChange],items:n.formattedCurrencies,label:"Currency",variant:"outlined",density:"comfortable","item-title":"display","item-value":"id",class:"mx-6"},null,8,["modelValue","items","onUpdate:modelValue"]),createVNode(VRadioGroup,{modelValue:n.localPaymentMethod,"onUpdate:modelValue":a[1]||(a[1]=f=>n.localPaymentMethod=f),column:""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["service-container px-3 py-cs-1 credit-card-service",{"selected-service--focus":n.localPaymentMethod===n.localDefaultPaymentMethod}])},[createVNode(VRadio,{label:e.$t("Credit Card")+" *",value:n.localDefaultPaymentMethod,class:"service-label flex-md-1-1-0 flex-1-1-100"},null,8,["label","value"]),createBaseVNode("div",_hoisted_2$P,[createBaseVNode("div",_hoisted_3$L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.currencyCardTypes[n.selectedCurrency.iso_4217],(f,p)=>(openBlock(),createBlock(i,{key:`type-${p}`,src:f.logo,style:{"max-width":"64px"},class:"v-img__img--relative"},null,8,["src"]))),128))])])],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filteredServiceItems,(f,p)=>{var m;return openBlock(),createElementBlock("div",{key:`service-${p}`,class:normalizeClass(["service-container px-3 py-1",{"selected-service--focus":n.localPaymentMethod===f[o.itemValue]}])},[createVNode(VRadio,{labelX:f.name.includes("Bank Transfer")?f.name:f.name+"*",label:`${f.name} ${f.is_external?"*":""}`,value:f[o.itemValue],class:"service-label flex-md-1-1-0 flex-1-1-100"},null,8,["labelX","label","value"]),createBaseVNode("div",_hoisted_4$A,[createBaseVNode("div",_hoisted_5$u,[createVNode(i,{Xsrc:"/storage/uploads/"+((m=f==null?void 0:f.medias.find(y=>{var v;return((v=y==null?void 0:y.pivot)==null?void 0:v.role)==="logo"}))==null?void 0:m.uuid),src:f.button_logo_url,class:"v-img__img--relative"},null,8,["Xsrc","src"])])])],2)}),128)),n.currencyHasExternalService?(openBlock(),createElementBlock("div",_hoisted_6$r,[createBaseVNode("div",_hoisted_7$k,toDisplayString("* +"+o.transactionFeePercentage+"% "+o.transactionFeeDescription),1)])):createCommentVNode("",!0)]),_:1},8,["modelValue"])]),_:1}),createVNode(VCardTitle,{class:"headline"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_8$h,toDisplayString(e.$t("Total Amount")),1),createBaseVNode("p",_hoisted_9$e,toDisplayString(n.displayPrice),1),n.isExchanged?(openBlock(),createElementBlock("p",_hoisted_10$b,toDisplayString(e.$t("Exchange Rate"))+": ~"+toDisplayString(n.exchangeRate),1)):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(VCol,{class:"pa-4 pa-sm-0 d-flex align-center justify-center"},{default:withCtx(()=>{var f,p;return[n.isCreditCardForm?(openBlock(),createElementBlock(Fragment,{key:0},[n.selectedCurrency.has_built_in_form?(openBlock(),createElementBlock(Fragment,{key:0},[n.builtInFormLoading?(openBlock(),createBlock(VProgressCircular,{key:0,indeterminate:""})):(openBlock(),createBlock(c,mergeProps({key:1},n.builtInFormAttributes,{"complete-url":o.completeUrl}),{button:withCtx(({pay:m})=>{var y,v;return[createBaseVNode("div",_hoisted_11$8,[createBaseVNode("p",_hoisted_12$5,toDisplayString(e.$t("Click below to pay securely")),1),createVNode(VBtn,{style:normalizeStyle((v=(y=n.selectedCurrency)==null?void 0:y.payment_service)==null?void 0:v.button_style),density:"comfortable","max-height":"","max-width":"300px","min-width":"80%",class:"d-flex align-center justify-center py-6",onClick:m},{default:withCtx(()=>{var g,C,k,b;return[(C=(g=n.selectedCurrency)==null?void 0:g.payment_service)!=null&&C.button_logo_url?(openBlock(),createBlock(VImg,{key:0,contain:"",width:100,style:{"max-height":"36px","max-width":"100px"},"aspect-ratio":"16/9",src:(b=(k=n.selectedCurrency)==null?void 0:k.payment_service)==null?void 0:b.button_logo_url},null,8,["src"])):createCommentVNode("",!0)]}),_:2},1032,["style","onClick"])])]}),_:1},16,["complete-url"]))],64)):(openBlock(),createBlock(u,{key:1,cardName:n.localCreditCard.card_name,"onUpdate:cardName":a[2]||(a[2]=m=>n.localCreditCard.card_name=m),cardNumber:n.localCreditCard.card_number,"onUpdate:cardNumber":a[3]||(a[3]=m=>n.localCreditCard.card_number=m),cardMonth:n.localCreditCard.card_month,"onUpdate:cardMonth":a[4]||(a[4]=m=>n.localCreditCard.card_month=m),cardYear:n.localCreditCard.card_year,"onUpdate:cardYear":a[5]||(a[5]=m=>n.localCreditCard.card_year=m),cardCvv:n.localCreditCard.card_cvv,"onUpdate:cardCvv":a[6]||(a[6]=m=>n.localCreditCard.card_cvv=m)},null,8,["cardName","cardNumber","cardMonth","cardYear","cardCvv"]))],64)):n.isTransferrableForm?(openBlock(),createElementBlock("div",_hoisted_13$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(((f=n.selectedService)==null?void 0:f.bank_details)??{},(m,y)=>(openBlock(),createElementBlock("div",{key:y,class:""},[createBaseVNode("h6",_hoisted_14$2,toDisplayString(e.$headline(y)),1),createBaseVNode("p",_hoisted_15$2,toDisplayString(m),1)]))),128)),createVNode(s,{ref:"transferForm",schema:n.transferSchema,modelValue:n.createTransferModel(),"action-url":o.paymentUrl,noDefaultSurface:"",noDefaultFormPadding:"",hasSubmit:"",buttonText:"I Have Completed The Transfer",onSubmitted:n.handleTransferSubmit},{submit:withCtx(({validForm:m,loading:y,saveForm:v})=>[createVNode(VBtn,{color:"success",block:"",disabled:!m,loading:y,onClick:v},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("I Have Completed The Transfer")),1)]),_:2},1032,["disabled","loading","onClick"])]),_:1},8,["schema","modelValue","action-url","onSubmitted"])])):(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("p",_hoisted_17$1,toDisplayString(e.$t("Click below to pay securely")),1),createVNode(VBtn,{style:normalizeStyle((p=n.selectedService)==null?void 0:p.button_style),onClick:n.submitForm,density:"comfortable","max-height":"","max-width":"300px","min-width":"80%",class:"d-flex align-center justify-center py-6"},{default:withCtx(()=>{var m;return[createVNode(VImg,{contain:"",width:"100px",height:"36px",style:{"max-width":"100px","max-height":"36px"},src:(m=n.selectedService)==null?void 0:m.button_logo_url},null,8,["src"])]}),_:1},8,["style","onClick"])]))]}),_:1})]),_:1})]),_:1},8,["modelValue"])}const PaymentService=_export_sfc(_sfc_main$1D,[["render",_sfc_render$1j],["__scopeId","data-v-dd9d5103"]]),__vite_glob_3_18=Object.freeze(Object.defineProperty({__proto__:null,default:PaymentService},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$4}=makeFormatterProps(),_sfc_main$1C={components:{ActiveTableItem,Draggable,VDataTableRow,PaymentService,TableActions:_sfc_main$1H},props:{...makeTableNamesProps(),...makeTableFiltersProps(),...makeTableHeadersProps(),...makeTableFormsProps(),...makeTableItemActionsProps(),...makeTableActionsProps(),...makeTableModalsProps(),...makeTableProps(),...makeDraggableProps(),...ignoreFormatters$4},setup(e,a){return{...useDraggable(e),...useTable(e,a)}},data(){return{datatable:{}}},mounted(){document.documentElement.style.setProperty("--table-header-color",this.headerOptions.color),this.$nextTick(()=>{this.$refs.datatable&&(this.datatable=this.$refs.datatable)}),this.initialize()},created(){},methods:{}},_hoisted_1$12={class:"d-flex align-start"},_hoisted_2$O={class:"ue-table-top__wrapper"},_hoisted_3$K={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"},_hoisted_4$z={class:"d-flex justify-end py-4"},_hoisted_5$t={class:"d-flex"},_hoisted_6$q=["onClick"],_hoisted_7$j=["onClick"],_hoisted_8$g={key:1};function _sfc_render$1i(e,a,o,n,l,r){const i=resolveComponent("ActiveTableItem"),c=resolveComponent("ue-title"),u=resolveComponent("TableActions"),s=resolveComponent("v-btn-secondary"),f=resolveComponent("ue-form"),p=resolveComponent("ue-modal"),m=resolveComponent("ue-recursive-data-viewer"),y=resolveComponent("ue-recursive-stuff"),v=resolveComponent("ue-copy-text"),g=resolveComponent("ue-dynamic-component-renderer"),C=resolveComponent("Draggable");return withDirectives((openBlock(),createBlock(VLayout,{fluid:"",class:normalizeClass([e.noFullScreen?"h-100":"",e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.elevation?`elevation-${e.elevation}`:""]),style:normalizeStyle(e.$vuetify.display.lgAndUp?"max-height: calc(100vh - 24px)":"max-height: calc(100vh - 24px - 64px)")},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["ue-datatable__container",e.noFullScreen?"fill-height":"fill-heigh ue-datatable--full-screen"])},[createVNode(i,mergeProps({class:"",modelValue:e.activeTableItem,"onUpdate:modelValue":a[0]||(a[0]=k=>e.activeTableItem=k)},e.$lodash.pick(this.$props??{},["name","fullWidthWrapper"]),{"table-headers":Object.values(e.$lodash.omitBy(this.headers,"actions")),"item-data":e.activeItemConfiguration,onToggle:a[1]||(a[1]=k=>e.hideTable=k)}),null,16,["modelValue","table-headers","item-data"]),e.hideTable?createCommentVNode("",!0):(openBlock(),createBlock(VDataTableServer,{key:0,class:normalizeClass(["px-4 h-100",e.tableClasses,e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.fullWidthWrapper?"":"ue-table--narrow-wrapper",e.tableElevation?`elevation-${e.tableElevation}`:"",e.striped?"ue-datatable--striped":"",e.roundedRows?"ue-datatable--rounded-row":"",e.hideBorderRow?"ue-datatable--no-border-row":"",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"ue-datatable--bottom-controls":""]),id:"ue-table",headers:e.selectedHeaders,"fixed-header":e.fixedHeader,sticky:e.sticky,items:e.elements,hover:!0,"items-per-page-options":e.itemsPerPageOptions,"items-per-page":e.options.itemsPerPage,search:e.options.search,page:e.options.page,"items-length":e.totalNumberOfElements,"item-title":e.titleKey,ref:"datatable",height:e.windowSize.y-64-24-59-(e.hideFooter?0:76)-(e.$vuetify.display.mdAndDown?80:0),"hide-default-header":e.hideHeaders||e.$vuetify.display.smAndDown&&!e.showMobileHeaders,"multi-sort":e.multiSort,"must-sort":e.mustSort,density:e.tableDensity??"comfortable","disable-sort":e.disableSort,loading:e.loading,"loading-text":e.$t("Loading... Please wait"),Xmobile:e.$vuetify.display.smAndDown,"mobile-breakpoint":e.mobileBreakpoint,"show-select":e.$store.getters.isSuperAdmin&&e.showSelect,"item-value":"id",modelValue:e.selectedItems,"onUpdate:modelValue":a[13]||(a[13]=k=>e.selectedItems=k),"onUpdate:options":a[14]||(a[14]=k=>e.changeOptions(k))},createSlots({top:withCtx(({someSelected:k})=>[createVNode(VToolbar,mergeProps(e.toolbarOptions,{class:["pt-3",e.$vuetify.display.smAndUp?"d-flex":""]}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"":"flex-lg-1-1-100 h-100 d-flex flex-column"]),style:{"min-width":"33%"}},[createVNode(c,{type:"subtitle-1",color:"black",text:e.tableTitle,padding:"a-0"},null,8,["text"]),e.tableSubtitle?(openBlock(),createBlock(c,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0",text:e.tableSubtitle},null,8,["text"])):createCommentVNode("",!0)],2),e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?(openBlock(),createBlock(VDivider,{key:0,class:"my-2"})):createCommentVNode("",!0),createVNode(VSlideXTransition,{group:!0},{default:withCtx(()=>[createBaseVNode("div",{key:"table-controls",class:normalizeClass(["d-flex ga-2 align-md-center",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"mb-2":"flex-1-1-100 justify-end",e.$vuetify.display.smAndDown?"flex-column":""])},[k?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.bulkActions,(b,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[e.$can(b.name,e.permissionName)?withDirectives((openBlock(),createBlock(VBtn,mergeProps({key:0,ref_for:!0},e.filterBtnOptions,{"append-icon":!1,"prepend-icon":b.icon?b.icon:`$${b.name}`,text:e.window.__headline(b.name),color:b.color??"primary",onClick:S=>e.itemAction(b,b.name)}),null,16,["prepend-icon","text","color","onClick"])),[[Tooltip,e.$lodash.startCase(b.name)]]):createCommentVNode("",!0)],64))),128)):(openBlock(),createElementBlock(Fragment,{key:1},[!e.hideSearchField&&e.hasSearchableHeader?(openBlock(),createBlock(VTextField,{key:0,id:"search-field",ref:"searchField",modelValue:e.searchModel,"onUpdate:modelValue":a[3]||(a[3]=b=>e.searchModel=b),variant:"outlined","append-inner-iconx":e.searchModel!==e.search?"mdi-magnify":null,"hide-details":"",density:"compact","single-line":"",placeholder:e.searchPlaceholder,class:normalizeClass([e.controlsPosition==="bottom"||!e.$vuetify.display.xs?"flex-sm-grow-1":""]),style:normalizeStyle(["display: inline","min-width: 200px",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"":"max-width: 250px"]),"onClick:appendInner":e.searchItems,disabled:e.loading,onKeydown:withKeys(e.searchItems,["enter"])},{"append-inner":withCtx(()=>[createVNode(VBtn,{disabled:e.searchModel===e.search,icon:"mdi-magnify",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=b=>e.searchItems())},null,8,["disabled"])]),_:1},8,["modelValue","append-inner-iconx","placeholder","class","style","onClick:appendInner","disabled","onKeydown"])):createCommentVNode("",!0),createVNode(u,{class:normalizeClass(e.$vuetify.display.mdAndUp?"flex-grow-0 flex-shrink-0":""),actions:e.actions},{prepend:withCtx(()=>[createVNode(VMenu,null,{activator:withCtx(({props:b})=>[e.mainFilters.length>0&&!e.hideFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"filter-btn-activator"},{...e.filterBtnOptions,...e.filterBtnTitle,...b},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,Xtext:e.$vuetify.display.smAndDown?null:e.filterBtnTitle.text,text:e.filterBtnTitle.text,"prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.smAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","Xtext","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mainFilters,(b,w)=>(openBlock(),createBlock(VListItem,{key:w,onClick:withModifiers(S=>e.changeFilter(b.slug),["prevent"]),class:normalizeClass([b.slug===e.activeFilterSlug?"bg-primary":"",b.class??""])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(b.name+"("+b.number+")"),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}),createVNode(VMenu,{"close-on-content-click":!1,location:"end"},{activator:withCtx(({props:b})=>[Object.keys(e.advancedFilters).length>0&&!e.hideAdvancedFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"advanced-filter-btn"},{...e.filterBtnOptions,...e.filterBtnTitle,...b},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:"Filters","prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.mdAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{title:"Filters","min-width":"40vw","max-width":"50vw"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.advancedFilters,(b,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[(openBlock(!0),createElementBlock(Fragment,null,renderList(b,(S,T)=>(openBlock(),createBlock(resolveDynamicComponent(`v-${S.type}`),mergeProps({ref_for:!0},S.componentOptions,{modelValue:S.selecteds,"onUpdate:modelValue":V=>S.selecteds=V}),null,16,["modelValue","onUpdate:modelValue"]))),256))],64))),128))]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"Clear",variant:"plain",onClick:e.resetAdvancedFilter},null,8,["onClick"]),createVNode(VBtn,{color:"primary",text:"Apply",variant:"tonal",onClick:e.changeAdvancedFilter},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),append:withCtx(()=>[e.$can("create",e.permissionName)&&!e.noForm&&!k&&e.createOnModal?(openBlock(),createBlock(VBtn,mergeProps({key:0},e.addBtnOptions,{onClick:e.createForm,icon:e.$vuetify.display.smAndDown?e.addBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:e.addBtnTitle,"prepend-icon":e.$vuetify.display.smAndDown?null:e.addBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.addBtnOptions.density??"comfortable"}),null,16,["onClick","icon","text","prepend-icon","density"])):createCommentVNode("",!0)]),_:2},1032,["class","actions"])],64))],2)]),_:2},1024)]),_:2},1040,["class"]),e.hideHeaders&&e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,class:"w-100 mb-4 mt-2",color:"success",indeterminate:"",reverse:""})):e.controlsPosition==="top"&&e.$vuetify.display.mdAndUp?(openBlock(),createBlock(VDivider,{key:1,class:"mb-2 mt-2"})):createCommentVNode("",!0),e.embeddedForm?createCommentVNode("",!0):(openBlock(),createBlock(p,mergeProps({key:2,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[6]||(a[6]=b=>e.formActive=b),transition:"dialog-bottom-transition",fullscreen:!1,"width-type":"lg"},e.formModalAttributes),{body:withCtx(b=>[createVNode(VCard,{class:"fill-height d-flex flex-column py-4"},{default:withCtx(()=>[createVNode(f,mergeProps({ref:"UeForm","form-class":"px-4","fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":"",modelValue:e.editedItem},e.formAttributes,{title:{...e.formAttributes.title??{},text:e.formTitle},schema:e.formSchema,subtitle:e.formSubtitle,isEditing:e.editedIndex>-1,style:b.isFullActive?"height: 95vh !important;":"height: 70vh !important;",actions:e.formActions,actionUrl:e.editedIndex>-1?e.endpoints.update.replace(":id",e.editedItem.id):e.endpoints.store,"has-submit":"","button-text":e.editedIndex>-1?e.$t("fields.update"):e.$t("fields.create"),onActionComplete:e.handleFormActionComplete,onSubmitted:e.handleFormSubmission}),createSlots({"header.right":withCtx(()=>[renderSlot(e.$slots,"form.header.right",{},()=>[createBaseVNode("div",_hoisted_1$12,[createVNode(VBtn,{icon:b.isFullActive?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:w=>b.toggleFullscreen()},null,8,["icon","onClick"]),createVNode(VBtn,{icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[4]||(a[4]=w=>e.closeForm())})])])]),top:withCtx(w=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(w)))]),_:2},[e.$slots["form.header.left"]?{name:"header.left",fn:withCtx(w=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(w)),()=>[createTextVNode(toDisplayString(w.title),1)])]),key:"0"}:void 0,e.$slots["form.top"]?{name:"top",fn:withCtx(w=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(w)))]),key:"1"}:void 0,e.$slots["form.bottom"]?{name:"bottom",fn:withCtx(w=>[renderSlot(e.$slots,"form.bottom",normalizeProps(guardReactiveProps(w)))]),key:"2"}:void 0,e.$slots["form.right.top"]?{name:"right.top",fn:withCtx(w=>[renderSlot(e.$slots,"form.right.top",normalizeProps(guardReactiveProps(w)))]),key:"3"}:void 0,e.$slots["form.right.middle"]?{name:"right.middle",fn:withCtx(w=>[renderSlot(e.$slots,"form.right.middle",normalizeProps(guardReactiveProps(w)))]),key:"4"}:void 0,e.$slots["form.right.bottom"]?{name:"right.bottom",fn:withCtx(w=>[renderSlot(e.$slots,"form.right.bottom",normalizeProps(guardReactiveProps(w)))]),key:"5"}:void 0,e.$slots["form.actions.prepend"]?{name:"actions.prepend",fn:withCtx(w=>[renderSlot(e.$slots,"form.actions.prepend",normalizeProps(guardReactiveProps(w)))]),key:"6"}:void 0,e.$slots["form.actions.append"]?{name:"actions.append",fn:withCtx(w=>[renderSlot(e.$slots,"form.actions.append",normalizeProps(guardReactiveProps(w)))]),key:"7"}:void 0,e.$store.getters.isSuperAdmin?{name:"options",fn:withCtx(w=>[w.isSubmittable?(openBlock(),createBlock(s,{key:0,slim:!1,variant:"outlined",onClick:a[5]||(a[5]=S=>e.$refs.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.validate")),1)]),_:1})):createCommentVNode("",!0)]),key:"8"}:void 0]),1040,["modelValue","title","schema","subtitle","isEditing","style","actions","actionUrl","button-text","onActionComplete","onSubmitted"])]),_:2},1024)]),_:3},16,["modelValue"])),createBaseVNode("div",_hoisted_2$O,[e.embeddedForm&&!e.noForm?(openBlock(),createElementBlock("div",{key:0,class:"",style:normalizeStyle(e.formStyles)},[createVNode(VExpandTransition,null,{default:withCtx(()=>[e.formActive?(openBlock(),createBlock(VCard,{key:0,class:"mb-theme",elevation:"4"},{default:withCtx(()=>[createVNode(f,{"has-submit":"","button-text":"save",title:e.formTitle,ref:"form",isEditing:e.editedIndex>-1},{"header.left":withCtx(b=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(b)),()=>[createTextVNode(toDisplayString(b.title),1)])]),headerCenter:withCtx(()=>a[15]||(a[15]=[])),"header.right":withCtx(()=>[createVNode(VBtn,{class:"",variant:"text",icon:"$close",density:"compact",onClick:a[7]||(a[7]=b=>e.closeForm())})]),_:3},8,["title","isEditing"])]),_:3})):createCommentVNode("",!0)]),_:3})],4)):createCommentVNode("",!0),createVNode(p,mergeProps({modelValue:e.modals.dialog.active,"onUpdate:modelValue":a[8]||(a[8]=b=>e.modals.dialog.active=b),ref:e.modals.dialog.ref,transition:"dialog-bottom-transition","width-type":"sm"},e.modals.dialog.modalAttributes??{}),null,16,["modelValue"]),e.modals.show.active?(openBlock(),createBlock(p,{key:1,ref:e.modals.show.ref,modelValue:e.modals.show.active,"onUpdate:modelValue":a[9]||(a[9]=b=>e.modals.show.active=b),transition:e.modals.show.transition||"dialog-bottom-transition","width-type":e.modals.show.widthType||"lg",persistent:e.modals.show.persistent,description:e.modals.show.description,title:e.modals.show.title,"has-fullscreen-button":"","has-close-button":"","no-confirm-button":"","has-title-divider":"","cancel-text":"Close","reject-button-attributes":{variant:"elevated",color:"primary"},scrollable:""},{"body.description":withCtx(()=>[createBaseVNode("div",null,[createVNode(m,{data:e.modals.show.data,"all-array-items-open":!1,"all-array-items-closed":!1},null,8,["data"])])]),_:1},8,["modelValue","transition","width-type","persistent","description","title"])):createCommentVNode("",!0),createVNode(p,mergeProps({modelValue:e.customFormModalActive,"onUpdate:modelValue":a[11]||(a[11]=b=>e.customFormModalActive=b),ref:"customFormModal","width-type":"lg",persistent:"","description-body-class":"d-flex flex-column fill-height w-100 pa-4","no-default-body-padding":"","no-actions":"","has-close-button":"",scrollable:""},e.customFormModalAttributes),{"body.description":withCtx(()=>[createVNode(f,mergeProps({ref:"customForm",modelValue:e.customFormModel,"onUpdate:modelValue":a[10]||(a[10]=b=>e.customFormModel=b),title:null,"fill-height":"",scrollable:"","no-default-form-padding":"",style:{height:"80vh !important"}},e.customFormAttributes),null,16,["modelValue"])]),_:1},16,["modelValue"])])]),"header.actions":withCtx(k=>[e.hideHeaders||e.hideMobileActions&&e.$vuetify.display.xs?createCommentVNode("",!0):(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:b})=>[createVNode(VBtn,mergeProps({size:"large",variant:"plain",color:"black",icon:"mdi-cog-outline"},b),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(VList,{class:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersModel,(b,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[b.key!=="actions"&&!(e.$vuetify.display.xs&&b.noMobile===!0)?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.headersModel[w].visible,"onUpdate:modelValue":S=>e.headersModel[w].visible=S,color:"primary",class:"ml-n2",disabled:e.headersModel.filter(S=>S.key!=="actions"&&S.visible===!0).length<2&&e.headersModel[w].visible===!0,label:b.title,"hide-details":"",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","disabled","label"])):createCommentVNode("",!0)],64))),128))]),_:1})]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{color:"primary",text:"Save",variant:"tonal",onClick:e.applyHeaders,block:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1}))]),"item.actions":withCtx(({item:k})=>[e.hideMobileActions&&e.$vuetify.display.xs||e.visibleRowActions.length===0?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[e.actionShowingType==="dropdown"?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,left:"","offset-x":"",class:"action-dropdown"},{activator:withCtx(({props:b})=>[createVNode(VIcon,mergeProps({size:"large",color:"primary",icon:"$list"},b),null,16)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(b,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[e.itemHasAction(k,b)?(openBlock(),createBlock(VListItem,{key:0,class:normalizeClass(b.class??""),onClick:S=>e.itemAction(k,b)},{default:withCtx(()=>[createVNode(VIcon,{small:"",color:b.iconColor,left:""},{default:withCtx(()=>[createTextVNode(toDisplayString(b.icon),1)]),_:2},1032,["color"]),createTextVNode(" "+toDisplayString(e.$t(b.label)),1)]),_:2},1032,["class","onClick"])):createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024)):(openBlock(),createElementBlock("div",_hoisted_8$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(b,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[e.itemHasAction(k,b)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(b.label),location:"top",disabled:b.is!=="v-icon",class:normalizeClass(b.class??"")},{activator:withCtx(({props:S})=>[(openBlock(),createBlock(resolveDynamicComponent(b.is),mergeProps({onClick:T=>e.itemAction(k,b),ref_for:!0},{...b.hasTooltip?S:{},...b.componentProps??{}}),{prepend:withCtx(()=>[createVNode(VIcon,{small:"",color:b.iconColor,left:"",icon:b.icon},null,8,["color","icon"])]),default:withCtx(()=>[b.is!=="v-icon"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.$t(b.label)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(b.icon),1)],64))]),_:2},1040,["onClick"]))]),_:2},1032,["text","disabled","class"])):createCommentVNode("",!0)],64))),128))]))],64))]),"body.append":withCtx(()=>[e.enableInfiniteScroll?withDirectives((openBlock(),createBlock(VCard,{key:0},null,512)),[[Intersect,e.onIntersect]]):createCommentVNode("",!0),e.enableInfiniteScroll&&e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,indeterminate:e.loading},null,8,["indeterminate"])):createCommentVNode("",!0)]),_:2},[e.hasCustomRow?{name:"body",fn:withCtx(({items:k})=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(k,(b,w)=>(openBlock(),createBlock(VCol,mergeProps({key:b.id,ref_for:!0},e.customRow.col),{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(`ue-${e.customRow.name}`),{key:b.id,name:e.name,titlePrefix:e.titlePrefix,titleKey:e.titleKey,item:b,headers:e.headers,rowActions:e.rowActions,onClickAction:e.itemAction},{actions:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_3$K,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(S,T)=>(openBlock(),createElementBlock(Fragment,{key:T},[e.itemHasAction(b,S)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(S.label??e.$headline(S.name)),location:"top"},{activator:withCtx(({props:V})=>[createVNode(VBtn,mergeProps({ref_for:!0},V,{text:S.forceLabel?e.$t(S.label??e.$headline(S.name)):null,variant:S.variant??"elevated",density:S.density??(S.forceLabel?"comfortable":"compact"),size:S.size??(S.forceLabel,"default"),icon:S.forceLabel?null:S.icon?S.icon:"$"+S.name,color:S.color??"primary",rounded:S.forceLabel?null:!0,onClick:A=>e.itemAction(b,S),class:"text-capitalize"}),null,16,["text","variant","density","size","icon","color","rounded","onClick"])]),_:2},1032,["text"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1064,["name","titlePrefix","titleKey","item","headers","rowActions","onClickAction"])),w<k.length-1?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:2},1040))),128))]),_:2},1024)]),key:"0"}:void 0,e.hideFooter?{name:"bottom",fn:withCtx(({page:k,pageCount:b})=>[]),key:"1"}:e.enableCustomFooter||e.$vuetify.display.smAndDown?{name:"bottom",fn:withCtx(({page:k,pageCount:b})=>[createBaseVNode("div",_hoisted_4$z,[createVNode(VContainer,{class:"max-width text-center"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,width:"3",size:"small",indeterminate:""})):(openBlock(),createBlock(VPagination,mergeProps({key:0,modelValue:e.options.page,"onUpdate:modelValue":w=>e.options.page=w,length:e.totalNumberOfPages,density:"compact",size:"small","total-visible":e.$vuetify.display.smAndDown?1:3,"show-first-last-page":""},e.footerProps),{first:withCtx(({onClick:w,disabled:S,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-left",onClick:w,disabled:S}),null,16,["onClick","disabled"])]),prev:withCtx(({onClick:w,disabled:S,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:T,onClick:w,disabled:S}),null,16,["icon","onClick","disabled"])]),next:withCtx(({onClick:w,disabled:S,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:T,onClick:w,disabled:S}),null,16,["icon","onClick","disabled"])]),last:withCtx(({onClick:w,disabled:S,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-right",onClick:w,disabled:S}),null,16,["onClick","disabled"])]),_:2},1040,["modelValue","onUpdate:modelValue","length","total-visible"]))]),_:2},1024)])]),key:"2"}:void 0,renderList(e.slots,(k,b)=>({name:b,fn:withCtx(()=>[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.elements,(w,S)=>(openBlock(),createBlock(y,{key:`tag-0-${S}`,configuration:w},null,8,["configuration"]))),128))])])})),renderList(e.formattableHeaders,(k,b)=>({name:`header.${k.key}`,fn:withCtx(w=>[createTextVNode(toDisplayString(w.column.title)+" ",1),k.searchable&&!e.hideSearchField?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t("Search")},{activator:withCtx(({props:S})=>[createVNode(VIcon,mergeProps(S,{color:"medium-emphasis",size:"small",icon:"mdi-table-search",onClick:a[12]||(a[12]=T=>e.$refs.searchField.focus())}),null,16)]),_:1},8,["text"])):createCommentVNode("",!0),k.removable?(openBlock(),createBlock(VTooltip,{key:1,text:e.$t("Remove Column")},{activator:withCtx(({props:S})=>[k.removable?(openBlock(),createBlock(VIcon,mergeProps({key:0,color:"medium-emphasis",size:"small",icon:"$close",onClick:T=>e.removeHeader(k.key)},S),null,16,["onClick"])):createCommentVNode("",!0)]),_:2},1032,["text"])):createCommentVNode("",!0)])})),renderList(e.formatterColumns,(k,b)=>({name:`item.${k.key}`,fn:withCtx(({item:w})=>[k.formatterName=="edit"||k.formatterName=="activate"?(openBlock(),createBlock(VTooltip,{text:w[k.key],key:b,disabled:k.isFormatting,maxWidth:"300"},{activator:withCtx(({props:S})=>[createBaseVNode("div",_hoisted_5$t,[(k.hasCopy??!1)||k.key.match(/^id|uuid$/)?(openBlock(),createBlock(v,{key:0,text:w[k.key],class:"mr-2"},null,8,["text"])):createCommentVNode("",!0),(openBlock(),createElementBlock("div",mergeProps({key:b},S,{class:"justify-start text-none text-wrap text-primary darken-1 cursor-pointer text-truncate",onClick:T=>e.itemAction(w,k.formatterName)}),[k.isFormatting?(openBlock(),createBlock(y,normalizeProps(mergeProps({key:0},e.handleFormatter(k.formatter,w[k.key]))),null,16)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(w[k.key]),1)],64))],16,_hoisted_6$q))])]),_:2},1032,["text","disabled"])):k.formatterName=="switch"?(openBlock(),createBlock(VSwitch,{key:b,"model-value":w[k.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":S=>e.itemAction(w,"switch",S,k.key)},{label:withCtx(()=>a[16]||(a[16]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):k.formatterName=="dynamic"?(openBlock(),createBlock(g,{subject:w[k.key],key:w[k.key]},null,8,["subject"])):(openBlock(),createBlock(y,mergeProps({key:3},e.handleFormatter(k.formatter,e.window.__shorten(w[k.key]??"",e.cellOptions.maxChars)),{key:w[k.key]}),null,16))])})),e.isClickableRows?{name:"item",fn:withCtx(k=>[createVNode(VDataTableRow,mergeProps(k.props,{onClick:b=>e.$isset(k.item[e.clickableItemAttribute])||e.endpoints.show?e.itemAction(k.item,"link"):null,style:{cursor:"pointer"}}),createSlots({_:2},[renderList(e.formatterColumns,(b,w)=>({name:`item.${b.key}`,fn:withCtx(({item:S})=>[b.formatter=="edit"||b.formatter=="activate"?(openBlock(),createBlock(VTooltip,{text:S[b.key],key:w},{activator:withCtx(({props:T})=>{var V;return[(openBlock(),createElementBlock("span",mergeProps({key:w},T,{class:"pa-0 justify-start text-none text-wrap text-primary darken-1 cursor-pointer",onClick:A=>e.itemAction(S,...b.formatter)}),toDisplayString(e.window.__isset(S[b.key])?e.window.__shorten(S[b.key],((V=S[b.key])==null?void 0:V.textLength)??8):""),17,_hoisted_7$j)),b.key.match(/^id|uuid$/)?(openBlock(),createBlock(v,{key:0,text:S[b.key]},null,8,["text"])):createCommentVNode("",!0)]}),_:2},1032,["text"])):b.formatter=="switch"?(openBlock(),createBlock(VSwitch,{key:w,"model-value":S[b.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":T=>e.itemAction(S,"switch",T,b.key)},{label:withCtx(()=>a[17]||(a[17]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):b.formatter=="dynamic"?(openBlock(),createBlock(g,{subject:S[b.key],key:S[b.key]},null,8,["subject"])):(openBlock(),createBlock(y,mergeProps({key:3},e.handleFormatter(b.formatter,e.window.__shorten(S[b.key]??"",e.cellOptions.maxChars)),{key:S[b.key]}),null,16))])}))]),1040,["onClick"])]),key:"3"}:void 0,e.draggable?{name:"default",fn:withCtx(()=>[createBaseVNode("thead",null,[renderSlot(e.$slots,e.headers,{},()=>[createVNode(VDataTableHeaders,{mobile:this.datatable.mobile,color:this.headerOptions.color},createSlots({_:2},[renderList(this.datatable.$slots,(k,b)=>({name:b,fn:withCtx(w=>[renderSlot(e.$slots,b,normalizeProps(guardReactiveProps(w)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[b]),normalizeProps(guardReactiveProps(w)),null,16))])])}))]),1032,["mobile","color"])])]),createVNode(C,mergeProps({"model-value":e.elements,"item-key":"position"},e.dragOptions,{tag:"tbody",class:"v-data-table__tbody","onUpdate:modelValue":e.sortElements}),{item:withCtx(k=>[createVNode(VDataTableRow,{item:e.draggableItems[k.index],mobile:this.datatable.mobile},createSlots({_:2},[renderList(this.datatable.$slots,(b,w)=>({name:w,fn:withCtx(S=>[renderSlot(e.$slots,w,normalizeProps(guardReactiveProps(S)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[w]),mergeProps({",":""},{...S,item:e.elements[k.index]}),null,16))])])}))]),1032,["item","mobile"])]),_:3},16,["model-value","onUpdate:modelValue"])]),key:"4"}:void 0]),1032,["class","headers","fixed-header","sticky","items","items-per-page-options","items-per-page","search","page","items-length","item-title","height","hide-default-header","multi-sort","must-sort","density","disable-sort","loading","loading-text","Xmobile","mobile-breakpoint","show-select","modelValue"]))],2)]),_:3},8,["class","style"])),[[Resize,e.onResize]])}const Table=_export_sfc(_sfc_main$1C,[["render",_sfc_render$1i]]),__vite_glob_0_37=Object.freeze(Object.defineProperty({__proto__:null,default:Table},Symbol.toStringTag,{value:"Module"})),_sfc_main$1B={name:"FormActions",emits:["actionComplete"],props:{modelValue:{type:Object,required:!0},isEditing:{type:Boolean,required:!1},actions:{type:Object,required:!0}},setup(e,a){const{handleAction:o,allActions:n,hasActions:l}=useItemActions(e,{...a,actionItem:e.modelValue}),{generateButtonProps:r}=useGenerate(),{isBadge:i,badgeProps:c}=useBadge(),u=computed(()=>n.value.map(f=>!0));return{hasActions:l,allActions:n,handleAction:o,valids:u,createModel:(f,p)=>{const m=getModel(f,e.modelValue);return p.isEditing===!1&&delete m.id,m},generateButtonProps:r,isBadge:i,badgeProps:c}}};function _sfc_render$1h(e,a,o,n,l,r){const i=resolveComponent("ue-form"),c=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([n.hasActions?"d-flex flex-wrap ga-4 py-4":""])},[renderSlot(e.$slots,"prepend",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing}))),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.allActions,(u,s)=>(openBlock(),createElementBlock(Fragment,null,[u.type!=="modalx"?(openBlock(),createBlock(VTooltip,{key:0,disabled:!u.icon||u.forceLabel,location:u.tooltipLocation??"top"},{activator:withCtx(f=>[u.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:e.editedItem[u.key??"published"]??u.default??!1,ref_for:!0},{...u.componentProps,...f.props},{disabled:u.disabled??!1,"onUpdate:modelValue":p=>n.handleAction(u)}),null,16,["modelValue","disabled","onUpdate:modelValue"])):u.type==="modal"&&u.endpoint&&u.schema?(openBlock(),createBlock(c,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","no-default-body-padding":"","has-close-button":"","has-fullscreen-button":"","has-title-divider":"","no-actions":"",ref_for:!0},u.modalAttributes??{},{"use-model-value":!1,"description-body-class":"d-flex flex-column fill-height w-100"}),{activator:withCtx(p=>[n.isBadge(u)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},n.badgeProps(u)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...n.generateButtonProps(u),...p.props,...f.props}),null,16)]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...n.generateButtonProps(u),...p.props,...f.props}),null,16))]),"body.description":withCtx(p=>[createVNode(i,mergeProps({ref_for:!0,ref:`extra-form-${s}`,modelValue:n.createModel(u.schema,u),title:u.formTitle??null,schema:u.schema,"action-url":u.endpoint.replace(":id",o.modelValue.id),valid:n.valids[s],"is-editing":u.isEditing??o.isEditing,class:"w-100",style:p.isFullActive?"height: 90vh !important;":"height: 70vh !important;","fill-height":"",scrollable:"","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:m=>e.$emit("actionComplete",{action:u}),"onUpdate:valid":m=>n.valids[s]=m,"onUpdatex:modelValue":a[0]||(a[0]=m=>e.$log(m))},u.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1040)):u.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[n.isBadge(u)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},n.badgeProps(u)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...n.generateButtonProps(u),...f.props},{onClick:p=>n.handleAction(u)}),null,16,["onClick"])]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...n.generateButtonProps(u),...f.props},{onClick:p=>n.handleAction(u)}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(u.tooltip??u.label),1)]),_:2},1032,["disabled","location"])):createCommentVNode("",!0)],64))),256)),renderSlot(e.$slots,"append",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing})))],2)}const FormActions=_export_sfc(_sfc_main$1B,[["render",_sfc_render$1h]]),_sfc_main$1A=Object.assign({name:"FormEvents"},{__name:"FormEvents",props:{events:{type:Array,required:!0},modelValue:{type:Object,required:!0},formItem:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){const o=e,n=a,l=computed({get(){return o.modelValue??{}},set(u){n("update:modelValue",u)}}),r=(u,s)=>{l.value={...o.modelValue,[u]:s}},i=u=>{const s=u.items.find(f=>f[u.itemValue]===(window.__isset(l.value[u.name])?l.value[u.name]:-1));return s?s[u.itemTitle]:u.label},c=u=>lodash.omit(u,["type","name","tooltip","conditions","scopeRole","allowedRoles","tooltipLocation"]);return(u,s)=>{const f=resolveComponent("ue-recursive-stuff");return openBlock(!0),createElementBlock(Fragment,null,renderList(e.events,p=>(openBlock(),createBlock(VTooltip,{key:p.name,disabled:u.$isset(p.tooltip)||p.tooltip===!1,location:p.tooltipLocation??"top"},{activator:withCtx(m=>[p.type==="switch"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,ref_for:!0},{...u.$lodash.omit(p,"label"),...o},{"hide-details":"",modelValue:l.value[p.name]??p.default??!1,"onUpdate:modelValue":y=>r(p.name,y)}),null,16,["modelValue","onUpdate:modelValue"])):p.viewOnlyComponent?(openBlock(),createBlock(f,mergeProps({key:1,configuration:p.viewOnlyComponent,"bind-data":{...l.value,...e.formItem},ref_for:!0},m.props),null,16,["configuration","bind-data"])):p.component?(openBlock(),createBlock(resolveDynamicComponent(p.component),mergeProps({key:2,ref_for:!0},{...m.props,...c(p)},{modelValue:l.value[p.name]??p.default??!1,"onUpdate:modelValue":y=>r(p.name,y)}),null,16,["modelValue","onUpdate:modelValue"])):p.items&&Array.isArray(p.items)&&p.items.length?(openBlock(),createBlock(VMenu,{key:3,"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:withCtx(y=>[createVNode(VBtn,mergeProps({variant:"outlined","append-icon":"mdi-chevron-down",ref_for:!0},y.props),{default:withCtx(()=>[createTextVNode(toDisplayString(i(p)),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.items,(y,v)=>(openBlock(),createBlock(VListItem,{key:y.id,onClick:g=>r(p.name,y[p.itemValue])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(y.name)+" ",1),u.$isset(e.modelValue[p.name])&&y[p.itemValue]===e.modelValue[p.name]?(openBlock(),createBlock(VIcon,{key:0,size:"small",icon:"$check",color:"primary"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(p.tooltip??p.label),1)]),_:2},1032,["disabled","location"]))),128)}}}),AdditionalSectionContent={props:{actionsPosition:String,formItem:Object,actions:[Array,Object],formActionsActive:Boolean},emits:["action-complete"],template:`
    <div class="mb-2">
      <!-- Right Top Form Actions -->
      <FormActions v-if="actionsPosition == 'right-top' && formActionsActive"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-top"></slot>

      <!-- Right Middle Form Actions -->
      <FormActions v-if="actionsPosition == 'right-middle' && formActionsActive"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-middle"></slot>

      <!-- Right Bottom Form Actions -->
      <FormActions v-if="actionsPosition == 'right-bottom' && formActionsActive"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-bottom"></slot>
    </div>
  `,components:{FormActions}},_sfc_main$1z={name:"ue-form",components:{FormActions,FormEvents:_sfc_main$1A,AdditionalSectionContent},emits:["update:valid","update:modelValue","update:schema","input","actionComplete","submitted"],props:{...makeFormProps()},provide(){return{manualValidation:computed(()=>this.manualValidation),submitForm:computed(()=>this.submit)}},setup(e,a){useStore();const o=useForm(e,a),{t:n,te:l,locale:r}=useI18n({useScope:"global"}),i=computed(()=>[e.noDefaultFormPadding?"":"pa-4",e.noDefaultSurface?"":"bg-surface",e.fillHeight?"d-flex flex-column h-100":"",e.formClass]),c=computed(()=>{const f=[];function p(m,y,v,g=""){let C=g!=""?`${g}-${y}`:y;Object.prototype.hasOwnProperty.call(m,"slots")&&Object.keys(m.slots).length>0?Object.keys(m.slots).forEach(k=>{v.push({type:"recursive-stuff",name:k,inputName:y,slotPath:C,context:m.slots[k]})}):Object.prototype.hasOwnProperty.call(m,"slotable")&&v.push({type:"form",name:m.slotable.name,inputName:m.slotable.slotTo,selfName:y,slotPath:C,schema:cloneDeep(o.invokeRuleGenerator({[y]:omit(m,["slotable"])}))}),m.schema&&isObject(m.schema)&&Object.keys(m.schema).forEach(k=>{let b=m.schema[k];p(b,k,v,C)})}return Object.keys(o.inputSchema.value).forEach(m=>{let y=o.inputSchema.value[m];p(y,m,f)}),f}),u=computed(()=>{let f={};return __isObject(e.title)?f={tag:e.title.tag||"div",type:e.title.type||"body-1",weight:e.title.weight||"regular",transform:e.title.transform||"none",color:e.title.color,padding:e.title.padding||"a-0",margin:e.title.margin||"a-0",align:e.title.align||"left",justify:e.title.justify||"start",...e.title.class?{class:e.title.class}:{class:"flex-md-row flex-column justify-md-space-between"}}:f={class:"flex-md-row flex-column justify-md-space-between"},f}),s=computed(()=>{let f=e.title;return __isObject(e.title)&&(f=e.title.text),l(f)?n(f):f});return computed(()=>e.hasStickyFrame?{cols:"12",sm:"12",md:"12",lg:"8",xl:"6","order-lg":"0","order-xl":"0"}:{cols:"12"}),computed(()=>({cols:"12",sm:"12",md:"12",lg:"4",xl:"6","order-lg":"1","order-xl":"1"})),onMounted(()=>{document.getElementById("timezone_session")&&o.model.value&&o.model.value._timezone&&(o.model.value._timezone=Intl.DateTimeFormat().resolvedOptions().timeZone)}),{...o,formClasses:i,formSlots:c,titleOptions:u,titleSerialized:s}}},_hoisted_1$11=["value"],_hoisted_2$N={class:"d-flex mt-2 mt-md-0 gc-2"},_hoisted_3$J={class:"flex-grow-1 px-1"},_hoisted_4$y={key:2,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_5$s={key:4,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_6$p={key:1,class:"d-flex flex-wrap justify-center justify-md-start pt-6 w-100 ga-4 flex-md-row"},_hoisted_7$i={class:"d-flex justify-center justify-md-start flex-wrap flex-1-1-100 flex-md-1-1-0"},_hoisted_8$f={key:2},_hoisted_9$d={class:"ue-form__bottom"};function _sfc_render$1g(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("FormActions"),u=resolveComponent("FormEvents"),s=resolveComponent("v-custom-form-base"),f=resolveComponent("ue-recursive-stuff"),p=resolveComponent("AdditionalSectionContent");return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-form"]),style:normalizeStyle({height:e.fillHeight?e.$vuetify.display.mdAndDown?"calc(97vh - 64px)":"calc(97vh)":""})},[createVNode(VForm,{id:e.id,ref:"VForm",action:e.actionUrl,method:"POST",modelValue:e.validModel,"onUpdate:modelValue":a[14]||(a[14]=m=>e.validModel=m),onSubmit:e.submit,class:normalizeClass(n.formClasses)},{default:withCtx(()=>[e.async?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:0,type:"hidden",name:"_token",value:e.$csrf},null,8,_hoisted_1$11)),createBaseVNode("div",{class:normalizeClass([e.hasDivider||e.title?"px-1":"",e.scrollable?"flex-grow-0":"","d-flex flex-row pb-2"])},[!e.noTitle&&e.title?(openBlock(),createBlock(i,mergeProps({key:0,padding:"a-0",align:"start",justify:"start",class:"flex-1-1-100"},n.titleOptions),{default:withCtx(()=>[renderSlot(e.$slots,"header.left",normalizeProps(guardReactiveProps({title:n.titleSerialized,subtitle:e.subtitle??null,model:e.model,schema:e.inputSchema,formItem:e.formItem})),()=>[createBaseVNode("span",null,[createTextVNode(toDisplayString(n.titleSerialized)+" ",1),e.subtitle?(openBlock(),createBlock(i,{key:0,text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},null,8,["text"])):createCommentVNode("",!0)])])]),right:withCtx(()=>[createBaseVNode("div",_hoisted_2$N,[e.actionsPosition=="title-center"&&e.formActionsActive?(openBlock(),createBlock(c,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[0]||(a[0]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(()=>[renderSlot(e.$slots,"actions.prepend")]),append:withCtx(()=>[renderSlot(e.$slots,"actions.append")]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"headerCenter"),e.actionsPosition=="title-right"&&e.formActionsActive?(openBlock(),createBlock(c,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[1]||(a[1]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.formEventSchema&&e.formEventSchema.length&&e.model?(openBlock(),createBlock(u,{key:2,events:e.formEventSchema,modelValue:e.model,"onUpdate:modelValue":a[2]||(a[2]=m=>e.model=m),"form-item":e.formItem},null,8,["events","modelValue","form-item"])):createCommentVNode("",!0)])]),_:3},16)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["flex-1-0 d-flex",e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1||e.hasAdditionalSection&&e.$vuetify.display.mdAndDown||e.$slots["header.right"]?"pl-2":""])},[e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1?(openBlock(),createBlock(VChipGroup,{key:0,modelValue:e.currentLocale.value,"onUpdate:modelValue":a[3]||(a[3]=m=>e.updateLocale(m)),"selected-class":"bg-primary",mandatory:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.languages,m=>(openBlock(),createBlock(VChip,{key:m.value,text:m.shortlabel,value:m.value,variant:"outlined"},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])):createCommentVNode("",!0),e.hasAdditionalSection&&e.$vuetify.display.mdAndDown?(openBlock(),createBlock(VBtn,{key:1,density:"compact",rounded:!0,size:"default",icon:"mdi-book-information-variant",class:"",onClick:a[4]||(a[4]=m=>e.showAdditionalSectionDialog=!0)})):createCommentVNode("",!0),renderSlot(e.$slots,"header.right")],2)],2),e.hasDivider?(openBlock(),createBlock(VDivider,{key:1,class:"pb-2"})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["d-flex",e.scrollable?"flex-grow-1 overflow-hidden mr-n4":""])},[createBaseVNode("div",{class:normalizeClass(["w-100 d-flex",e.scrollable?"overflow-y-auto pr-3":""])},[createBaseVNode("div",_hoisted_3$J,[e.actionsPosition=="top"&&e.formActionsActive?(openBlock(),createBlock(c,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[5]||(a[5]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"top",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.schema}))),e.actionsPosition=="middle"&&e.formActionsActive?(openBlock(),createBlock(c,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[6]||(a[6]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_4$y,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:60,width:6})])):createCommentVNode("",!0),e.schemaUpdating?(openBlock(),createElementBlock("div",_hoisted_5$s,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:60,width:6})])):(openBlock(),createBlock(s,{key:3,class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":""),id:e.formBaseId,modelValue:e.model,"onUpdate:modelValue":a[8]||(a[8]=m=>e.model=m),schema:e.inputSchema,row:e.rowAttribute,"form-item":e.formItem,"no-auto-generate-schema":"",onUpdate:e.handleUpdate,onInput:e.handleInput,onResize:e.handleResize,onBlur:e.handleBlur,onClick:e.handleClick},createSlots({_:2},[renderList(n.formSlots,(m,y)=>({name:`slot-inject-${m.name}-key-${e.formBaseId}-${m.slotPath}`,fn:withCtx(v=>[m.type=="form"?(openBlock(),createBlock(s,{key:0,id:`${e.formBaseId}-${m.name}`,modelValue:e.model,"onUpdate:modelValue":a[7]||(a[7]=g=>e.model=g),schema:m.schema,"onUpdate:schema":g=>m.schema=g,row:e.rowAttribute},null,8,["id","modelValue","schema","onUpdate:schema","row"])):m.type=="recursive-stuff"?(openBlock(),createBlock(f,{key:1,configuration:m.context,bindData:v},null,8,["configuration","bindData"])):createCommentVNode("",!0)])}))]),1032,["class","id","modelValue","schema","row","form-item","onUpdate","onInput","onResize","onBlur","onClick"])),e.actionsPosition=="bottom"&&e.formActionsActive?(openBlock(),createBlock(c,{key:5,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[9]||(a[9]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0)]),e.hasAdditionalSection&&e.$vuetify.display.lgAndUp?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([`flex-grow-0 ml-${e.rightSlotGap}`])},[createBaseVNode("div",{class:normalizeClass(["pt-2 gr-4",e.$vuetify.display.smAndDown?"d-none":"d-flex flex-column"]),style:normalizeStyle({...e.rightSlotWidth?{width:`${e.rightSlotWidth}px`}:{},...e.rightSlotMinWidth?{minWidth:`${e.rightSlotMinWidth}px`}:{},...e.rightSlotMaxWidth?{maxWidth:`${e.rightSlotMaxWidth}px`}:{}})},[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(p,{"actions-position":e.actionsPosition,"form-item":e.formItem,actions:e.actions,"form-actions-active":e.formActionsActive,onActionComplete:a[10]||(a[10]=m=>e.$emit("actionComplete",m))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","form-item","actions","form-actions-active"])])],6)],2)):createCommentVNode("",!0),e.hasAdditionalSection?(openBlock(),createBlock(VDialog,{key:1,modelValue:e.showAdditionalSectionDialog,"onUpdate:modelValue":a[13]||(a[13]=m=>e.showAdditionalSectionDialog=m),"max-width":"500px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(e.additionalSectionDialogTitle||"Additional Options"),1),createVNode(VSpacer),createVNode(VBtn,{variant:"text",size:"default",icon:"",onClick:a[11]||(a[11]=m=>e.showAdditionalSectionDialog=!1)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[15]||(a[15]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(p,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:a[12]||(a[12]=m=>e.$emit("actionComplete",m))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])):createCommentVNode("",!0)],2)],2),e.pushButtonToBottom?(openBlock(),createBlock(VSpacer,{key:2})):createCommentVNode("",!0),e.hasSubmit&&e.isSubmittable||e.$slots.submit||e.$slots.options||e.$slots.bottom?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(["px-1",e.scrollable?"flex-grow-0":""])},[e.hasSubmit&&!e.stickyButton&&e.hasDivider?(openBlock(),createBlock(VDivider,{key:0,class:""})):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_6$p,[renderSlot(e.$slots,"submit",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,saveForm:e.saveForm,buttonDefaultText:e.buttonDefaultText,loading:e.loading})),()=>[createBaseVNode("div",_hoisted_7$i,[renderSlot(e.$slots,"options",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,loading:e.loading})))]),e.isSubmittable?(openBlock(),createBlock(VBtn,{key:0,type:"submit",disabled:!(e.validModel||!e.serverValid)||e.loading||!e.isSubmittable,class:"ml-auto flex-1-1-100 flex-md-1-1-0 flex-lg-0-1-0 order-md-last order-first",block:e.$vuetify.display.smAndDown,loading:e.loading,color:e.isSubmittable?"primary":"warning"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.isSubmittable?e.buttonDefaultText:"No Operation To Perform"),1)]),_:1},8,["disabled","block","loading","color"])):createCommentVNode("",!0)])])):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_8$f,[e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,indeterminate:"",color:"green"})):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$d,[renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))])],2)):createCommentVNode("",!0)]),_:3},8,["id","action","modelValue","onSubmit","class"])],4)}const Form=_export_sfc(_sfc_main$1z,[["render",_sfc_render$1g]]),__vite_glob_0_14=Object.freeze(Object.defineProperty({__proto__:null,default:Form},Symbol.toStringTag,{value:"Module"})),_sfc_main$1y={data:()=>({timeout:3e3}),computed:{closeButtonColor(){switch(this.type){case"success":case"warning":case"info":case"error":return"white";default:return"white"}},text(){return this.message||this.defaultMessage},defaultMessage(){return this.$t("messages."+this.type)},show:{get(){return this.$store.state.alert.show},set(e){this.$store.commit(ALERT$1.SET_ALERT_SHOW,e)}},...mapState({type:e=>e.alert.type,message:e=>e.alert.message,location:e=>e.alert.location}),...mapGetters$1([])},methods:{info(e=null,a=3e3){this.open("info",e,a)},success(e=null,a=3e3){this.open("success",e,a)},warning(e=null,a=3e3){this.open("warning",e,a)},error(e=null,a=3e3){this.open("error",e,a)},activate(){this.show=!0},deactivate(){this.show=!0},open(e="info",a=null,o=3e3){this.type=e,this.message=a??this.message,this.timeout=o,this.activate()},close(){this.deactivate(),this.$nextTick(()=>{this.type="info",this.message=null,this.timeout=3e3})}}},_hoisted_1$10=["innerHTML"];function _sfc_render$1f(e,a,o,n,l,r){return openBlock(),createBlock(VSnackbar,{modelValue:r.show,"onUpdate:modelValue":a[1]||(a[1]=i=>r.show=i),timeout:e.timeout,color:e.type,location:e.location},{actions:withCtx(()=>[createVNode(VBtn,{color:r.closeButtonColor,variant:"plain",density:"compact",onClick:a[0]||(a[0]=i=>r.show=!1)},{default:withCtx(()=>[createVNode(VIcon,{color:r.closeButtonColor,icon:"$close"},null,8,["color"])]),_:1},8,["color"])]),default:withCtx(()=>[createBaseVNode("div",{innerHTML:r.text},null,8,_hoisted_1$10)]),_:1},8,["modelValue","timeout","color","location"])}const Alert=_export_sfc(_sfc_main$1y,[["render",_sfc_render$1f]]),__vite_glob_0_0$2=Object.freeze(Object.defineProperty({__proto__:null,default:Alert},Symbol.toStringTag,{value:"Module"})),_sfc_main$1x={props:{slots:{type:Object,default(){return{}}},title:{type:String},bannerDescription:{type:String,default:""},bannerSubDescription:{type:String,default:""},adImg:{type:String,default:""},redirectUrl:{type:String,default:null},redirectButtonText:{type:String,default:""},noDivider:{type:[Boolean,Number],default:!1},noSecondSection:{type:[Boolean,Number],default:!1},logoSymbol:{type:String,default:"main-logo"}},data:()=>({schema:{email:{type:"text",label:"E-mail",col:{cols:12},variant:"outlined",rules:[["email"]]},password:{type:"password",label:"Password",col:{cols:12},variant:"outlined",rules:[]}},model:{email:"",password:""}}),setup(e){const{name:a}=useDisplay(),o=computed(()=>{switch(a.value){case"xs":return"85vw";case"sm":return"450px";case"md":return"450px";case"lg":return"500px";case"xl":return"600px";case"xxl":return 700;default:return 300}}),n=computed(()=>{if(e.title)return e.title}),l=computed(()=>{if(e.description)return e.description}),r=computed(()=>{if(e.ad)return e.ad}),i=computed(()=>{if(e.rightBtnText)return e.rightBtnText});return{width:o,title:n,description:l,ad:r,rightBtnText:i}},methods:{}},_hoisted_1$$={key:0,symbol:"main-logo-full-light"},_hoisted_2$M={key:1,class:"d-flex w-100 align-center justify-center"},_hoisted_3$I={class:"mw-420"},_hoisted_4$x={class:"text-white mt-5 text-h4 custom-mb-8rem fs-2rem"},_hoisted_5$r={class:"text-white"};function _sfc_render$1e(e,a,o,n,l,r){const i=resolveComponent("ue-form"),c=resolveComponent("ue-svg-icon"),u=resolveComponent("ue-alert"),s=resolveComponent("ue-dynamic-modal"),f=resolveDirective("svg");return openBlock(),createElementBlock(Fragment,null,[createVNode(VApp,null,{default:withCtx(()=>[createVNode(VLayout,{class:"rounded rounded-md bg-tertiary h-100"},{default:withCtx(()=>[createVNode(VMain,{class:"d-flex align-center justify-center"},{default:withCtx(()=>[createVNode(VRow,{class:"h-100 mw-100"},{default:withCtx(()=>[createVNode(VCol,mergeProps({cols:"12",...o.noSecondSection?{}:{md:"6",lg:"6"}},{class:"py-12 d-flex flex-column align-center justify-center bg-white"}),{default:withCtx(()=>[createVNode(VRow,{width:"85%",class:"d-flex flex-column justify-center align-center"},{default:withCtx(()=>[a[1]||(a[1]=createBaseVNode("div",{class:"bg-primary darken-3"},null,-1)),o.noSecondSection?withDirectives((openBlock(),createElementBlock("span",_hoisted_1$$,null,512)),[[f]]):createCommentVNode("",!0),renderSlot(e.$slots,"cardTop"),createVNode(VSheet,{class:"",style:normalizeStyle({width:n.width})},{default:withCtx(()=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({})),()=>[createVNode(i,{model:e.model,schema:e.schema,"action-url":"/login",async:!0,hasSubmit:!0,buttonText:"auth.login",class:"auth-form"},{submit:withCtx(p=>[createVNode(VBtn,{block:"",dense:"",type:"submit",disabled:!p.validForm,loading:p.loading},{default:withCtx(()=>[createTextVNode(toDisplayString(p.buttonDefaultText.toUpperCase()),1)]),_:2},1032,["disabled","loading"])]),_:1},8,["model","schema"])])]),_:3},8,["style"]),!o.noDivider&&e.$isset(e.$slots.bottom)?(openBlock(),createElementBlock("div",_hoisted_2$M,[createVNode(VDivider),a[0]||(a[0]=createBaseVNode("div",{class:"text-no-wrap px-3"},"or",-1)),createVNode(VDivider)])):createCommentVNode("",!0),renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))]),_:3})]),_:3},16),o.noSecondSection?createCommentVNode("",!0):(openBlock(),createBlock(VCol,{key:0,cols:"12",md:"6",lg:"6",class:"px-xs-12 py-xs-3 px-sm-12 py-sm-3 pa-12 pa-md-0 d-flex flex-column align-center justify-center col-right bg-primary"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$I,[createVNode(c,{symbol:o.logoSymbol,class:"mx-0"},null,8,["symbol"]),renderSlot(e.$slots,"description",{},()=>[createBaseVNode("h2",_hoisted_4$x,toDisplayString(o.bannerDescription),1)]),createBaseVNode("span",_hoisted_5$r,[createVNode(VImg,{href:o.adImg},null,8,["href"]),createTextVNode(" "+toDisplayString(o.bannerSubDescription),1)]),o.redirectUrl?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"text-white custom-right-auth-button my-5",density:"default",href:o.redirectUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(o.redirectButtonText),1)]),_:1},8,["href"])):createCommentVNode("",!0)])]),_:3}))]),_:3})]),_:3})]),_:3}),createVNode(u,{ref:"alert"},null,512)]),_:3}),createVNode(s)],64)}const Auth=_export_sfc(_sfc_main$1x,[["render",_sfc_render$1e]]),__vite_glob_0_1$2=Object.freeze(Object.defineProperty({__proto__:null,default:Auth},Symbol.toStringTag,{value:"Module"})),_sfc_main$1w={__name:"Blocks",props:{items:{type:Object,default(){return{}}}},setup(e){const a=e,o=computed(()=>a.items);return(n,l)=>{const r=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VRow,{class:"h-100"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,(i,c)=>(openBlock(),createBlock(r,{key:`tag-0-${c}`,configuration:i},null,8,["configuration"]))),128))]),_:1})}}},__vite_glob_0_2$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1w},Symbol.toStringTag,{value:"Module"})),_sfc_main$1v={props:{cards:{type:Array,default:[{title:"Active Webinar",data:"12",flex:6},{title:"Speaker Moderators",data:"3",flex:6},{title:"Company",data:"5",flex:6},{title:"Published Webinars",data:"7",flex:6}]},container:{type:Object,default:{color:"#F8F8FF",elevation:10,class:"px-6 py-5"}},cardAttribute:{type:Object,default:{variant:"outlined",borderRadius:14,class:"px-5",border:"sm",titleClass:"pt-3 pb-3 text-subtitle-2",titleColor:"grey",infoClass:"text-h4 pa-0",infoColor:"#000000",infoLineHeight:"1",infoFontWeight:"700"}}},data:()=>({})},_hoisted_1$_={class:"d-flex"},_hoisted_2$L={class:"d-flex flex-column justify-center align-center pr-3"},_hoisted_3$H={class:"d-flex flex-column"};function _sfc_render$1d(e,a,o,n,l,r){return openBlock(),createBlock(VCard,{color:o.container.color,density:"comfortable",elevation:o.container.elevation,class:normalizeClass(o.container.class)},{default:withCtx(()=>[createVNode(VCardTitle,{style:{"font-weight":"bolder"},class:"py-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1}),createVNode(VCardItem,{class:"pt-0 pb-4"},{default:withCtx(()=>[createVNode(VRow,{class:"",densex:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.cards,(i,c)=>(openBlock(),createBlock(VCol,{key:c,cols:i.flex,class:""},{default:withCtx(()=>[createVNode(VCard,{variant:o.cardAttribute.variant,border:o.cardAttribute.border,class:normalizeClass(o.cardAttribute.class),style:normalizeStyle({"border-radius":o.cardAttribute.borderRadius,"border-color":`${o.cardAttribute.borderColor} !important`})},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$_,[createBaseVNode("div",_hoisted_2$L,[createBaseVNode("div",{class:"glance-icon-container",style:normalizeStyle(`background-color: ${i.iconBackground};`)},[createVNode(VIcon,{icon:i.icon,color:i.iconColor,size:i.iconSize},null,8,["icon","color","size"])],4)]),createBaseVNode("div",_hoisted_3$H,[createVNode(VCardItem,{align:"left",class:normalizeClass(o.cardAttribute.infoClass),style:normalizeStyle({"line-height":o.cardAttribute.infoLineHeight,"font-weight":o.cardAttribute.infoFontWeight,color:i.infoColor})},{default:withCtx(()=>[createTextVNode(toDisplayString(i.data.items),1)]),_:2},1032,["class","style"]),createVNode(VCardTitle,{align:"center",class:normalizeClass(o.cardAttribute.titleClass),style:normalizeStyle({color:o.cardAttribute.titleColor,"line-height":o.cardAttribute.infoLineHeight})},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t(i.title)),1)]),_:2},1032,["class","style"])])])]),_:2},1032,["variant","border","class","style"])]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})]),_:1},8,["color","elevation","class"])}const BoardInformationPlus=_export_sfc(_sfc_main$1v,[["render",_sfc_render$1d]]),__vite_glob_0_3$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformationPlus},Symbol.toStringTag,{value:"Module"})),_sfc_main$1u={name:"ue-btn",props:{revealed:{type:Boolean,default:!1}},data(){return{}},methods:{clickSound(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()},click(e){this.disabled=!0,setTimeout(()=>{this.disabled=!1},5e3),this.$emit("click",e)}}};function _sfc_render$1c(e,a,o,n,l,r){return openBlock(),createBlock(VBtn,mergeProps(e.$bindAttributes(),{onClick:r.click}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},()=>[a[0]||(a[0]=createTextVNode(" Button "))])]),_:3},16,["onClick"])}const Btn=_export_sfc(_sfc_main$1u,[["render",_sfc_render$1c]]),__vite_glob_0_4$1=Object.freeze(Object.defineProperty({__proto__:null,default:Btn},Symbol.toStringTag,{value:"Module"})),_sfc_main$1t={name:"ue-collapsible",components:{VExpandTransition},props:{title:{type:String,default:""},modelValue:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:4},verticalPadding:{type:Number,default:3},color:{type:String,default:"primary"},dense:{type:Boolean,default:!1},noHeaderBackground:{type:Boolean,default:!1},noCollapse:{type:Boolean,default:!1}},data(){return{isOpen:this.noCollapse||this.modelValue}},watch:{modelValue(e){this.noCollapse?this.isOpen=!0:this.isOpen=e}},methods:{toggle(){this.noCollapse||(this.isOpen=!this.isOpen,this.$emit("update:modelValue",this.isOpen),this.$emit(this.isOpen?"open":"close"))}},created(){},mounted(){this.isOpen&&this.$el&&this.$el.querySelector(".ue-collapsible__content")}},_hoisted_1$Z={class:"ue-collapsible__title"},_hoisted_2$K={class:"ue-collapsible__content"};function _sfc_render$1b(e,a,o,n,l,r){return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-collapsible",{"ue-collapsible--bordered":o.bordered,"ue-collapsible--elevated":o.elevated,"ue-collapsible--dense":o.dense}])},[o.title||e.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-collapsible__header",l.isOpen?"ue-collapsible__header--active":"",`px-${o.horizontalPadding} py-${o.verticalPadding}`,o.noHeaderBackground?"":"ue-collapsible__header--background"]),onClick:a[0]||(a[0]=(...i)=>r.toggle&&r.toggle(...i))},[createBaseVNode("div",_hoisted_1$Z,[renderSlot(e.$slots,"title",{},()=>[createTextVNode(toDisplayString(o.title),1)])]),o.noCollapse?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:l.isOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ue-collapsible__icon"},null,8,["icon"]))],2)):createCommentVNode("",!0),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$K,[createBaseVNode("div",{class:normalizeClass(["ue-collapsible__content-inner",`px-${o.horizontalPadding} py-${o.verticalPadding}`])},[renderSlot(e.$slots,"default")],2)],512),[[vShow,l.isOpen]])]),_:3})],2)}const Collapsible=_export_sfc(_sfc_main$1t,[["render",_sfc_render$1b]]),__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:Collapsible},Symbol.toStringTag,{value:"Module"})),_sfc_main$1s={name:"ue-configurable-card",props:{title:{type:String,default:""},titleColor:{type:String},titlePaddingX:{type:[Number,String]},titlePaddingY:{type:[Number,String]},items:{type:[Object,Array],required:!0},actions:{type:Array,default:()=>[]},hideSeparator:{type:Boolean,default:!1},maxSegments:{type:Number,default:null,validator:e=>e===null||e>0&&e<=12},actionIconSize:{type:String,default:"medium"},actionIconMinWidth:{type:Number,default:44},actionIconMinHeight:{type:Number,default:44},alignCenterColumns:{type:Boolean,default:!1},justifyCenterColumns:{type:Boolean,default:!1},rowMarginY:{type:[Number,String],default:4},rowMarginX:{type:[Number,String]},colPaddingX:{type:[Number,String],default:2},colPaddingY:{type:[Number,String]},columnStyles:{type:Object,default:()=>({})},columnClasses:{type:Object,default:()=>({})},colRatios:{type:Array,default:()=>[]},rowMinHeight:{type:String,default:null},noActions:{type:Boolean,default:!1},mobileBreakpoint:{type:String,default:"md"},mobileRowGap:{type:[Number,String],default:4},mobileColPaddingX:{type:[Number,String],default:0},mobileColPaddingY:{type:[Number,String],default:0}},computed:{titlePXNumber(){if(this.titlePaddingX)return parseInt(this.titlePaddingX);let e=0;return this.rowMarginX&&(e+=parseInt(this.rowMarginX)),this.colPaddingX&&(e+=parseInt(this.colPaddingX)),e},titlePYNumber(){return this.titlePaddingY?parseInt(this.titlePaddingY):4},cardClass(){return`ue-configurable-card--${this.effectiveSegmentCount}-columns`},itemsWithActions(){const e={...this.items};return this.actions.length&&!this.noActions&&(e._actions=this.actions),e},effectiveSegmentCount(){const e=this.isArray(this.itemsWithActions)?this.itemsWithActions.length:Object.keys(this.itemsWithActions).length;return this.maxSegments===null?e:Math.min(this.maxSegments,e)},rowStyle(){return{...this.rowMinHeight?{minHeight:this.rowMinHeight}:{}}},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.effectiveSegmentCount:this.colRatios.reduce((e,a,o)=>e+(a||1),0)},isMobile(){let e="smAndDown";return["sm","md","lg","xl"].includes(this.mobileBreakpoint)&&(e=this.mobileBreakpoint+"AndDown"),this.$vuetify.display[e]}},methods:{isObject(e){return __isObject(e)},isArray(e){return __isArray(e)},getColumnStyleFromRatio(e){if(!this.colRatios||this.colRatios.length===0)return null;const a=e==="_actions"?this.effectiveSegmentCount-1:parseInt(e),o=this.colRatios[a]||1,n=o/this.totalRatio*100;return{flex:`${o} 0 0`,maxWidth:`${n}%`}},getEffectiveColumnStyle(e){const a=this.columnStyles[e],o=this.getColumnStyleFromRatio(e);return a||(o?Object.entries(o).map(([n,l])=>`${n.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${l}`).join("; "):"")}}},_hoisted_1$Y={key:0,class:"d-flex fill-height flex-wrap justify-space-evenly align-center"},_hoisted_2$J={key:1,class:"d-flex fill-height"},_hoisted_3$G={key:2,class:"d-flex fill-height"},_hoisted_4$w={key:3,class:"d-flex fill-height"};function _sfc_render$1a(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-property-list"),u=resolveComponent("ue-dynamic-component-renderer");return openBlock(),createBlock(VCard,{class:normalizeClass(["ue-configurable-card",[e.$bindAttributes().class,r.cardClass]])},{default:withCtx(()=>[renderSlot(e.$slots,"title",{},()=>[o.title?(openBlock(),createBlock(i,{key:0,text:o.title,color:o.titleColor,padding:`x-${r.titlePXNumber}`,class:"pt-4"},null,8,["text","color","padding"])):createCommentVNode("",!0)],!0),createBaseVNode("div",{"no-gutters":"",class:normalizeClass(["ue-configurable-card__row",[r.isMobile?`ga-${o.mobileRowGap}`:"",o.rowMarginY?`my-${o.rowMarginY}`:"",o.rowMarginX?`mx-${o.rowMarginX}`:""]]),style:normalizeStyle(r.rowStyle)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.itemsWithActions,(s,f)=>(openBlock(),createElementBlock("div",{key:f,class:normalizeClass(["ue-configurable-card__col",o.hideSeparator?"":"ue-configurable-card__col--seperator",o.justifyCenterColumns?"ue-configurable-card__col--justify-center":"",o.alignCenterColumns?"ue-configurable-card__col--align-center":"",e.$isset(o.columnStyles[f])||o.colRatios.length>0?"ue-configurable-card__col--unset-flex-basis":"",o.columnClasses[f]??"",r.isMobile?`px-${o.mobileColPaddingX} py-${o.mobileColPaddingY}`:"",o.colPaddingX?`px-${o.colPaddingX}`:"",o.colPaddingY?`py-${o.colPaddingY}`:""]),style:normalizeStyle(r.getEffectiveColumnStyle(f))},[renderSlot(e.$slots,`segment.${f==="_actions"?"actions":parseInt(f)+1}`,mergeProps({ref_for:!0},{data:s,actions:o.actions,actionProps:{actionIconMinHeight:o.actionIconMinHeight,actionIconSize:o.actionIconSize}}),()=>[o.actions.length&&f==="_actions"?(openBlock(),createElementBlock("div",_hoisted_1$Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.actions,(p,m)=>(openBlock(),createBlock(VBtn,mergeProps({key:m,class:"mx-1 rounded","min-width":o.actionIconMinHeight,"min-height":o.actionIconMinHeight,size:o.actionIconSize,ref_for:!0},p),null,16,["min-width","min-height","size"]))),128))])):r.isObject(s)?(openBlock(),createElementBlock("div",_hoisted_2$J,[createVNode(c,{data:s,class:"",noPadding:""},null,8,["data"])])):r.isArray(s)?(openBlock(),createElementBlock("div",_hoisted_3$G,[createVNode(c,{data:s.map(p=>[p]),class:"",noPadding:""},null,8,["data"])])):(openBlock(),createElementBlock("div",_hoisted_4$w,[createVNode(u,{subject:s},null,8,["subject"])]))],!0)],6))),128))],6)]),_:3},8,["class"])}const ConfigurableCard=_export_sfc(_sfc_main$1s,[["render",_sfc_render$1a],["__scopeId","data-v-bcac18e9"]]),__vite_glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:ConfigurableCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1r={name:"CopyText",props:{text:{type:[String,Number],required:!0},icon:{type:String,default:"mdi-content-copy"},color:{type:String,default:"primary"},size:{type:String,default:"small"}},data(){return{showTooltip:!1}},methods:{handleCopy(){this.$copy(this.text),this.showTooltip=!0,setTimeout(()=>{this.showTooltip=!1},2e3)}}},_hoisted_1$X={class:"d-inline-block"};function _sfc_render$19(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$X,[createVNode(VTooltip,{"model-value":l.showTooltip,text:"Copied!",location:"top","open-on-hover":!1,"open-on-focus":!1},{activator:withCtx(({props:i})=>[createVNode(VIcon,mergeProps({...i,onClick:r.handleCopy},{icon:o.icon,color:o.color,size:o.size,class:{"cursor-pointer":!0}}),null,16,["icon","color","size"])]),_:1},8,["model-value"])])}const CopyText=_export_sfc(_sfc_main$1r,[["render",_sfc_render$19]]),__vite_glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:CopyText},Symbol.toStringTag,{value:"Module"})),_sfc_main$1q={name:"UEDropdownFilter",props:{buttonText:{type:String,default:"Filter"},loading:{type:Boolean,default:!1},page:{type:Number,required:!0},type:{type:String,required:!0},tags:{type:Array,default:()=>[]},filterState:{type:Object,required:!0},filterModel:{type:Object,required:!0},schema:{type:Object||Array,required:!0}},emits:["update:filterState","submit","clear"],setup(e,{emit:a}){const o=ref({...e.filterState}),n=ref(!1);return watch$1(()=>e.filterState,i=>{o.value={...i}}),{localFilterState:o,menu:n,submitFilter:()=>{a("update:filterState",{...o.value}),a("submit"),n.value=!1},handleClear:()=>{a("clear"),n.value=!1}}}};function _sfc_render$18(e,a,o,n,l,r){const i=resolveComponent("ue-form");return openBlock(),createElementBlock("div",null,[createVNode(VMenu,{modelValue:n.menu,"onUpdate:modelValue":a[1]||(a[1]=c=>n.menu=c),"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:c})=>[createVNode(VBtn,mergeProps({color:"primary"},c),{default:withCtx(()=>[createTextVNode(toDisplayString(o.buttonText),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(i,{ref:"form",schema:o.schema,"has-submit":"",modelValue:n.localFilterState,"onUpdate:modelValue":a[0]||(a[0]=c=>n.localFilterState=c),onSubmit:n.submitFilter},{submit:withCtx(()=>[createVNode(VBtn,{color:"primary",class:"mt-4 mr-2",type:"button",loading:o.loading,onClick:n.submitFilter},{default:withCtx(()=>a[2]||(a[2]=[createTextVNode(" Apply Filters ")])),_:1},8,["loading","onClick"]),createVNode(VBtn,{color:"secondary",class:"mt-4 ml-2",type:"button",loading:o.loading,onClick:n.handleClear},{default:withCtx(()=>a[3]||(a[3]=[createTextVNode(" Clear Filters ")])),_:1},8,["loading","onClick"])]),_:1},8,["schema","modelValue","onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const DropdownFilter=_export_sfc(_sfc_main$1q,[["render",_sfc_render$18]]),__vite_glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:DropdownFilter},Symbol.toStringTag,{value:"Module"})),_sfc_main$1p={__name:"DynamicComponentRenderer",props:{subject:{type:String,default:""}},setup(e){const a=e,o=r=>{const u=new DOMParser().parseFromString(r,"text/html").body.firstChild,s=u.tagName.toLowerCase();let f={};const p=u.textContent;for(let m=0;m<u.attributes.length;m++){const y=u.attributes[m];f[y.name]=y.value}return f={...f},{name:s,props:f,content:p}},n=computed(()=>(a.subject.startsWith("<v-")||a.subject.startsWith("<ue-"))&&a.subject.endsWith(">")),l=computed(()=>n.value?o(a.subject):null);return(r,i)=>e.subject&&n.value?(openBlock(),createBlock(resolveDynamicComponent(l.value.name),normalizeProps(mergeProps({key:0},{...l.value.props,...r.$bindAttributes()})),{default:withCtx(()=>[createTextVNode(toDisplayString(l.value.content),1)]),_:1},16)):e.subject?(openBlock(),createElementBlock(Fragment,{key:1},[],64)):createCommentVNode("",!0)}},__vite_glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1p},Symbol.toStringTag,{value:"Module"})),_hoisted_1$W={class:"text-h1 font-weight-bold text-{{ alert }} mb-4"},_hoisted_2$I={class:"text-h4 font-weight-medium mb-6"},_hoisted_3$F={class:"text-h6 text-medium-emphasis mb-4"},_sfc_main$1o={__name:"ErrorCard",props:{elevation:{type:Number,default:8},rounded:{type:String,default:"lg"},icon:{type:String,default:"mdi-lock-outline"},iconSize:{type:Number,default:120},statusCode:{type:Number,default:403},statusText:{type:String,default:"Access Forbidden"},description:{type:String,default:"You don't have permission to access this resource."},alertText:{type:String,default:"This action is restricted for modularity authenticated users."},alert:{type:String,default:"warning"},homeUrl:{type:String,default:"/"},homeText:{type:String,default:"Home"}},setup(e){return(a,o)=>(openBlock(),createBlock(VCard,{elevation:e.elevation,rounded:e.rounded,class:"mx-auto text-center"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-8"},{default:withCtx(()=>[createVNode(VIcon,{color:e.alert,size:e.iconSize,class:"mb-6"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.icon),1)]),_:1},8,["color","size"]),createBaseVNode("h1",_hoisted_1$W,toDisplayString(e.statusCode),1),createBaseVNode("h2",_hoisted_2$I,toDisplayString(e.statusText),1),createBaseVNode("p",_hoisted_3$F,toDisplayString(e.description),1),createVNode(VAlert,{type:e.alert,variant:"tonal",class:"mb-6"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.alertText),1)]),_:1},8,["type"]),createVNode(VBtn,{color:"primary",size:"large",variant:"elevated","prepend-icon":"mdi-arrow-left",onClick:o[0]||(o[0]=n=>a.window.history.back()),class:"me-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.$t("Go Back")),1)]),_:1}),createVNode(VBtn,{color:"secondary",size:"large",variant:"outlined","prepend-icon":"mdi-home",href:e.homeUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(a.$t(e.homeText)),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["elevation","rounded"]))}},__vite_glob_0_10=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1o},Symbol.toStringTag,{value:"Module"})),_sfc_main$1n={__name:"Expansion",props:{modelValue:{type:Boolean,default:!0},title:{type:String,default:""},multiple:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasActions:{type:Boolean,default:!1},expandedIcon:{type:String,default:"mdi-chevron-down"},collapsedIcon:{type:String,default:"mdi-chevron-up"}},setup(e){const o=ref(e.modelValue?["one"]:[]);return(n,l)=>(openBlock(),createBlock(VExpansionPanels,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=r=>o.value=r),multiple:e.multiple,readonly:e.readonly},{default:withCtx(()=>[createVNode(VExpansionPanel,{value:"one"},{default:withCtx(()=>[e.title?(openBlock(),createBlock(VExpansionPanelTitle,{key:0},createSlots({default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:2},[e.hasActions?{name:"actions",fn:withCtx(({expanded:r})=>[createVNode(VIcon,{color:r?"":"teal",icon:r?e.expandedIcon:e.collapsedIcon},null,8,["color","icon"])]),key:"0"}:void 0]),1024)):createCommentVNode("",!0),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3})]),_:3})]),_:3},8,["modelValue","multiple","readonly"]))}},__vite_glob_0_11=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1n},Symbol.toStringTag,{value:"Module"})),_sfc_main$1m={data(){return{fileUrls:[],thumbnailUrls:[],isImageArray:[],loadingStates:[],downloadingStates:[],previewDialogs:[]}},props:{source:{type:[Object,Array],required:!0},imageSize:{type:[Number,String],default:64},showFileName:{type:Boolean,default:!1},showInlineFileName:{type:Boolean,default:!1},maxFileNameLength:{type:Number,default:10},noOverlay:{type:Boolean,default:!1},showDate:{type:Boolean,default:!1}},computed:{normalizedSource(){return this.source?Array.isArray(this.source)?this.source:window.__isObject(this.source)?[this.source]:[]:[]}},methods:{processSource(){const e=this.normalizedSource.length;this.loadingStates=new Array(e).fill(!1),this.downloadingStates=new Array(e).fill(!1),this.previewDialogs=new Array(e).fill(!1),this.fileUrls=new Array(e).fill(null),this.thumbnailUrls=new Array(e).fill(null),this.isImageArray=new Array(e).fill(!1),this.normalizedSource.forEach((a,o)=>{this.isImageFile(a.file_name)&&this.generateThumbnail(a.uuid,o)})},isImageFile(e){const a=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(a)},async generateThumbnail(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Failed to fetch thumbnail");const n=await o.blob();n.type.startsWith("image/")&&(this.thumbnailUrls[a]=URL.createObjectURL(n))}catch(o){console.error("Error generating thumbnail:",o)}},getFileIcon(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"mdi-file-pdf-box";case"doc":case"docx":return"mdi-file-word";case"xls":case"xlsx":return"mdi-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"mdi-file-image";default:return"mdi-file-document-outline"}},getFileIconColor(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"red";case"doc":case"docx":return"blue";case"xls":case"xlsx":return"green";case"jpg":case"jpeg":case"png":case"gif":return"purple";default:return"grey"}},canPreviewFile(e){return["jpg","jpeg","png","gif","webp","pdf"].includes(this.normalizedSource[e].file_name.split(".").pop().toLowerCase())},async previewFile(e){this.previewDialogs[e]=!0,this.fileUrls[e]||(this.loadingStates[e]=!0,await this.fetchFile(this.normalizedSource[e].uuid,e))},async downloadFile(e){const a=this.normalizedSource.findIndex(o=>o.uuid===e);this.downloadingStates[a]=!0;try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Download failed");const n=await o.blob(),l=window.URL.createObjectURL(n),r=document.createElement("a");r.href=l,r.download=this.normalizedSource[a].file_name,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(l),r.remove()}catch(o){console.error("Error downloading file:",o)}finally{this.downloadingStates[a]=!1}},async fetchFile(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Network response was not ok");const n=await o.blob();this.isImageArray[a]=n.type.startsWith("image/"),this.fileUrls[a]=URL.createObjectURL(n)}catch(o){console.error("Error fetching file:",o)}finally{this.loadingStates[a]=!1}},shortenFileName(e){if(e.length<=this.maxFileNameLength)return e;const a=e.split(".").pop();return`${e.slice(0,e.lastIndexOf(".")).slice(0,this.maxFileNameLength)}...${a}`}},mounted(){this.processSource()}},_hoisted_1$V={key:0,class:"d-flex align-center px-4"},_hoisted_2$H={class:"text-body-2 text-truncate"},_hoisted_3$E={key:1,class:"ml-auto mr-1"},_hoisted_4$v={class:"text-caption text-truncate"},_hoisted_5$q={key:2,class:"overlay-content d-flex align-center justify-center"},_hoisted_6$o={class:"d-flex justify-center align-center",style:{height:"calc(100vh - 64px)"}},_hoisted_7$h=["src"];function _sfc_render$17(e,a,o,n,l,r){return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex ga-2",o.showInlineFileName||o.showFileName?"flex-wrap":""])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.normalizedSource,(i,c)=>(openBlock(),createElementBlock("div",{key:i.uuid,class:"file-preview-item",style:normalizeStyle({width:o.showInlineFileName||o.showFileName?"100%":"aut"})},[createVNode(VHover,null,{default:withCtx(({isHovering:u,props:s})=>[createVNode(VCard,mergeProps({ref_for:!0},s,{class:"rounded position-relative d-flex bg-transparent",width:o.showInlineFileName||o.showFileName?"100%":`${o.imageSize}`,height:o.imageSize,elevation:u?4:0,onClick:f=>r.canPreviewFile(c)?r.previewFile(c):r.downloadFile(i.uuid)}),{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle({width:`${o.imageSize}px`,height:`${o.imageSize}px`}),class:"position-relative flex-grow-0"},[l.thumbnailUrls[c]?(openBlock(),createBlock(VImg,{key:0,src:l.thumbnailUrls[c],height:"100%",width:"100%",cover:""},{placeholder:withCtx(()=>[createVNode(VIcon,{color:r.getFileIconColor(i.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(r.getFileIcon(i.file_name)),1)]),_:2},1032,["color"])]),_:2},1032,["src"])):(openBlock(),createBlock(VCardText,{key:1,class:"pa-0 d-flex justify-center align-center",style:{height:"100%"}},{default:withCtx(()=>[createVNode(VIcon,{color:r.getFileIconColor(i.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(r.getFileIcon(i.file_name)),1)]),_:2},1032,["color"])]),_:2},1024))],4),o.showInlineFileName||o.showFileName?(openBlock(),createElementBlock("div",_hoisted_1$V,[createBaseVNode("span",_hoisted_2$H,toDisplayString(r.shortenFileName(i.file_name)),1)])):createCommentVNode("",!0),o.showDate?(openBlock(),createElementBlock("div",_hoisted_3$E,[createBaseVNode("span",_hoisted_4$v,toDisplayString(e.$d(new Date(i.created_at),"numeric-full")),1)])):createCommentVNode("",!0),u&&!o.noOverlay?(openBlock(),createElementBlock("div",_hoisted_5$q,[createVNode(VBtn,{icon:"mdi-download",size:"x-small",color:"white",variant:"text",onClick:withModifiers(f=>r.downloadFile(i.uuid),["stop"]),loading:l.downloadingStates[c]},null,8,["onClick","loading"]),r.canPreviewFile(c)?(openBlock(),createBlock(VBtn,{key:0,icon:"mdi-eye",size:"x-small",color:"white",variant:"text",onClick:withModifiers(f=>r.previewFile(c),["stop"]),loading:l.downloadingStates[c]},null,8,["onClick","loading"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1040,["width","height","elevation","onClick"])]),_:2},1024),createVNode(VDialog,{modelValue:l.previewDialogs[c],"onUpdate:modelValue":u=>l.previewDialogs[c]=u,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:u=>l.previewDialogs[c]=!1},{default:withCtx(()=>[createVNode(VIcon,{color:"white",icon:"$close"})]),_:2},1032,["onClick"]),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(i.file_name),1)]),_:2},1024),createVNode(VSpacer)]),_:2},1024),createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$o,[l.loadingStates[c]?(openBlock(),createBlock(VProgressCircular,{key:0,indeterminate:"",color:"primary"})):createCommentVNode("",!0),!l.loadingStates[c]&&l.isImageArray[c]?(openBlock(),createBlock(VImg,{key:1,src:l.fileUrls[c],contain:"","max-height":"90vh"},null,8,["src"])):!l.loadingStates[c]&&l.fileUrls[c]?(openBlock(),createElementBlock("iframe",{key:2,src:l.fileUrls[c],width:"100%",height:"100%",frameborder:"0"},null,8,_hoisted_7$h)):createCommentVNode("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])],4))),128))],2)}const FilepondPreview=_export_sfc(_sfc_main$1m,[["render",_sfc_render$17],["__scopeId","data-v-57689f86"]]),__vite_glob_0_12=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondPreview},Symbol.toStringTag,{value:"Module"}));function FormDataAsObj(e){let a=null;const o=!1;let n=/[^\[\]]+|\[\]/g,l=null,r=[];function i(E){return!!(E&&typeof E=="object"&&"nodeType"in E&&E.nodeType===1)}function c(E){if(!(!E||typeof E!="object"))return Object.keys(E).filter(function(z){return!isNaN(parseInt(z,10))}).splice(-1)[0]}function u(E){const z=c(E);return typeof z=="string"?parseInt(z,10):0}function s(E){const z=c(E);return typeof z=="string"?parseInt(z,10)+1:0}function f(E){if(typeof E!="object"||E===null)return 0;let z=0,B;if(typeof Object.keys=="function")z=Object.keys(E).length;else for(B in E)E.hasOwnProperty(B)&&z++;return z}function p(E,z){if([].forEach)return[].forEach.call(E,z);let B;for(B=0;B<E.length;B++)z.call(E,E[B],B)}function m(E){return!E||(a=E,!y())||!g()?!1:x()}function y(){switch(typeof a){case"string":l=document.getElementById(a);break;case"object":i(a)&&(l=a);break}return l}function v(){return!!(l.enctype&&l.enctype==="multipart/form-data")}function g(){return r=l.querySelectorAll("input, textarea, select"),r.length}function C(E){return E.nodeName==="INPUT"&&E.type==="radio"}function k(E){return E.nodeName==="INPUT"&&E.type==="checkbox"}function b(E){return E.nodeName==="INPUT"&&E.type==="file"}function w(E){return E.nodeName==="TEXTAREA"}function S(E){return E.nodeName==="SELECT"&&E.type==="select-one"}function T(E){return E.nodeName==="SELECT"&&E.type==="select-multiple"}function V(E){return E.nodeName==="BUTTON"&&E.type==="submit"}function A(E){return E.checked}function I(E){return window.FileList&&E.files instanceof window.FileList}function D(E){if(C(E)||k(E))return A(E)?E.value:!1;if(b(E))return v()?I(E)&&E.files.length>0?E.files:E.value&&E.value!==""?E.value:!1:!1;if(w(E))return E.value&&E.value!==""?E.value:!1;if(S(E))return E.value&&E.value!==""?E.value:E.options&&E.options.length&&E.options[0].value!==""?E.options[0].value:!1;if(T(E))if(E.options&&E.options.length>0){const z=[];return p(E.options,function(B){B.selected&&z.push(B.value)}),z.length?z:!1}else return!1;return V(E)?E.value&&E.value!==""?E.value:E.innerText&&E.innerText!==""?E.innerText:!1:typeof E.value<"u"&&E.value!==""?E.value:!1}function M(E,z,B,O){const U=z[0];if(C(E))return B!==!1?(O[U]=B,B):void 0;if(k(E))return B!==!1?(O[U]||(O[U]=[]),O[U].push(B)):void 0;if(T(E))if(B!==!1)O[U]=B;else return;return O[U]=B,B}function N(E,z,B,O){const U=z[0];if(z.length>1)return U==="[]"?(O[s(O)]={},N(E,z.splice(1,z.length),B,O[u(O)])):(O[U]&&f(O[U])>0||(O[U]={}),N(E,z.splice(1,z.length),B,O[U]));if(z.length===1)return U==="[]"?(O[s(O)]=B,O):(M(E,z,B,O),O)}function x(){let E=0,z,B,O;const U={};for(E=0;E<r.length;E++)B=r[E],!(!B.name||B.name===""||B.disabled||C(B)&&!A(B))&&(O=D(B),!(O===!1&&!o)&&(z=B.name.match(n),z.length===1&&M(B,z,O||"",U),z.length>1&&N(B,z,O||"",U)));return f(U)>0?U:!1}return m(e)}const _sfc_main$1l={name:"UEFilter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default(){return getCurrentInstance().appContext.config.globalProperties.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},filterState:{type:Object,required:!0}},emits:["update:filterState","submit","clear"],data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,a){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{e.style.overflow="visible"},275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,a){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){const e=FormDataAsObj(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:debounce(function(){this.resetHeight()},50),updateSearch(e){this.$emit("update:filterState",{...this.filterState,search:e})}},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},_hoisted_1$U={class:"filter__inner"},_hoisted_2$G={class:"filter__navigation"},_hoisted_3$D={class:"filter__search"},_hoisted_4$u={class:"float-right",symbol:"dropdown_module"},_hoisted_5$p=["aria-hidden"],_hoisted_6$n={class:"filter__moreInner",ref:"moreInner"};function _sfc_render$16(e,a,o,n,l,r){const i=resolveComponent("ue-btn"),c=resolveDirective("svg");return openBlock(),createElementBlock("div",null,[createBaseVNode("form",{class:normalizeClass(["filter",{"filter--opened":r.opened,"filter--single":!e.withNavigation,"filter--withHiddenFilters":e.withHiddenFilters}]),onSubmit:a[0]||(a[0]=withModifiers((...u)=>r.submitFilter&&r.submitFilter(...u),["prevent"])),ref:"form"},[createBaseVNode("div",_hoisted_1$U,[createBaseVNode("div",_hoisted_2$G,[renderSlot(e.$slots,"navigation",{},void 0,!0)]),createBaseVNode("div",_hoisted_3$D,[createVNode(VTextField,{type:"search",class:"form__input form__input--small v-filter__search__input",name:"search",modelValue:o.filterState.search,"onUpdate:modelValue":r.updateSearch,placeholder:o.placeholder,variant:"outlined","hide-details":"true"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.withHiddenFilters?(openBlock(),createBlock(i,{key:0,class:"filter__toggle",variant:"outlined",onClick:r.toggleFilter,"aria-expanded":r.opened?"true":"false",fab:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.toggle-label","Filter"))+" ",1),withDirectives(createBaseVNode("span",_hoisted_4$u,null,512),[[c]])]),_:1},8,["onClick","aria-expanded"])):createCommentVNode("",!0),renderSlot(e.$slots,"additional-actions",{},void 0,!0)])]),createVNode(Transition$1,{css:!1,duration:275,onBeforeEnter:r.beforeEnter,onEnter:r.enter,onBeforeLeave:r.beforeLeave,onLeave:r.leave},{default:withCtx(()=>[e.withHiddenFilters?withDirectives((openBlock(),createElementBlock("div",{key:0,class:"filter__more","aria-hidden":r.opened?null:!0,ref:"more"},[createBaseVNode("div",_hoisted_6$n,[renderSlot(e.$slots,"hidden-filters",{},void 0,!0),createVNode(i,{variant:"outlined",type:"submit"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.apply-btn","Apply")),1)]),_:1}),o.clearOption?(openBlock(),createBlock(i,{key:0,variant:"elavated",type:"button",onClick:r.clear},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.clear-btn","Clear")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)],512)],8,_hoisted_5$p)),[[vShow,r.opened]]):createCommentVNode("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],34),renderSlot(e.$slots,"default",{},void 0,!0)])}const Filter=_export_sfc(_sfc_main$1l,[["render",_sfc_render$16],["__scopeId","data-v-e1692dd5"]]),__vite_glob_0_13=Object.freeze(Object.defineProperty({__proto__:null,default:Filter},Symbol.toStringTag,{value:"Module"})),_sfc_main$1k={name:"FormSummaryItem",props:{index:{type:Number,required:!0},title:{type:String,required:!0},model:{type:Object,required:!0}},created(){}},_hoisted_1$T={class:"mb-6"},_hoisted_2$F={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_3$C={class:"font-weight-bold text-primary"},_hoisted_4$t={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_5$o={key:0,class:""},_hoisted_6$m={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}};function _sfc_render$15(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$T,[createBaseVNode("div",_hoisted_2$F,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(o.index+1),1)]),_:1}),createBaseVNode("span",_hoisted_3$C,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(o.index+1),1)]),createBaseVNode("div",_hoisted_4$t,toDisplayString(o.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model,(i,c)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${c}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model[c],(u,s)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${c}-${o.index}`},[Array.isArray(u)?(openBlock(),createElementBlock("div",_hoisted_5$o,[createBaseVNode("span",_hoisted_6$m,toDisplayString(e.window.__isObject(o.model[c])?s:u[0])+": ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(o.model[c])?u:u.slice(1),f=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${c}-${o.index}-${c}-${s}`,style:{"margin-inline-end":"8px"}},toDisplayString(f),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px","margin-block-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(u),1)]),_:2},1024))],64))),128))],64))),128))])}const FormSummaryItem=_export_sfc(_sfc_main$1k,[["render",_sfc_render$15],["__scopeId","data-v-332f12e2"]]),__vite_glob_0_15=Object.freeze(Object.defineProperty({__proto__:null,default:FormSummaryItem},Symbol.toStringTag,{value:"Module"})),_hoisted_1$S={class:"pa-3 bg-primary"},__default__={data(){return{}},created(){}},_sfc_main$1j=Object.assign(__default__,{__name:"ImpersonateToolbar",props:{modelValue:{type:Boolean,default:!1},active:{type:Boolean,default:!1},users:{type:Array,default(){return[]}},impersonated:{type:Boolean,default:!1},route:{type:String,default:"/users/impersonate/:id"},stopRoute:{type:String,default:"/users/impersonate/stop"}},emits:["update:modelValue"],setup(e,{emit:a}){const o=e,n=a,l=ref(null),r=computed({get(){return o.modelValue},set(c){n("update:modelValue",c)}});watch$1(l,function(c,u){});const i=computed(()=>o.route.replace(":id",l.value));return(c,u)=>(openBlock(),createBlock(VBottomSheet,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=s=>r.value=s)},{activator:withCtx(({props:s})=>[createVNode(VListItem,mergeProps(s,{class:"font-weight-bold mt-2",ripple:!1,append:!1,"prepend-icon":"mdi-account-switch",title:"Impersonate Manager"}),null,16)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$S,[e.impersonated?(openBlock(),createBlock(VBtn,{key:0,color:"red",href:e.stopRoute},{default:withCtx(()=>u[2]||(u[2]=[createTextVNode(" Stop Impersonating ")])),_:1},8,["href"])):createCommentVNode("",!0),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VSelect,{key:1,class:"mt-5",modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=s=>l.value=s),items:e.users,variant:"outlined",density:"compact","item-title":"name","item-value":"id",clearable:""},{item:withCtx(({props:s,item:f})=>[createVNode(VListItem,mergeProps(s,{title:`${f.raw.name} (${f.raw.company_name})`,subtitle:f.raw.email}),null,16,["title","subtitle"])]),_:1},8,["modelValue","items"])),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:2,href:i.value,disabled:!l.value},{default:withCtx(()=>u[3]||(u[3]=[createTextVNode("Impersonate")])),_:1},8,["href","disabled"]))])]),_:1},8,["modelValue"]))}}),__vite_glob_0_16=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1j},Symbol.toStringTag,{value:"Module"})),_sfc_main$1i={name:"ue-list-element",props:{item:{type:Object,required:!0},selectItem:{type:Number,default:0},selectedSubItem:{type:Number,default:0}},data:()=>({open:["Users"],admins:[["Management","mdi-account-multiple-outline"],["Settings","mdi-cog-outline"]],cruds:[["Create","mdi-plus-outline"],["Read","mdi-file-outline"],["Update","mdi-update"],["Delete","mdi-delete"]]})};function _sfc_render$14(e,a,o,n,l,r){return openBlock(),createBlock(VList,{opened:e.open,"onUpdate:opened":a[0]||(a[0]=i=>e.open=i)},{default:withCtx(()=>[createVNode(VListItem,{"prepend-icon":"mdi-home",title:"Home"}),createVNode(VListGroup,{value:"Users"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{"prepend-icon":"mdi-account-circle",title:"Users"}),null,16)]),default:withCtx(()=>[createVNode(VListGroup,{value:"Admin"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{title:"Admin"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.admins,([i,c],u)=>(openBlock(),createBlock(VListItem,{key:u,title:i,"prepend-icon":c,value:i},null,8,["title","prepend-icon","value"]))),128))]),_:1}),createVNode(VListGroup,{value:"Actions"},{activator:withCtx(({props:i})=>[createVNode(VListItem,mergeProps(i,{title:"Actions"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.cruds,([i,c],u)=>(openBlock(),createBlock(VListItem,{key:u,value:i,title:i,"prepend-icon":c},null,8,["value","title","prepend-icon"]))),128))]),_:1})]),_:1})]),_:1},8,["opened"])}const ListElement=_export_sfc(_sfc_main$1i,[["render",_sfc_render$14]]),__vite_glob_0_17=Object.freeze(Object.defineProperty({__proto__:null,default:ListElement},Symbol.toStringTag,{value:"Module"})),_sfc_main$1h={name:"ue-list-section",props:{title:{type:String},titleTag:{type:String,default:"h3"},titleClasses:{type:String,default:"text-body-1 font-weight-medium"},itemClasses:{type:String,default:"text-body-2"},headerClasses:{type:String,default:"text-body-2 font-weight-bold"},items:{type:Array,required:!0},itemFields:{type:Array,default:()=>["name"]},headers:{type:Array,default:null},showHeader:{type:Boolean,default:!1},colClasses:{type:Array,default:()=>[]},colWidths:{type:Array,default:()=>[]},colRatios:{type:Array,default:()=>[]},rowClassFn:{type:Function,default:null},emptyMessage:{type:String,default:"No items to display"},striped:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},hasRowBottomBorder:{type:Boolean,default:!1},actionsHeader:{type:String,default:""},verticalAlignTop:{type:Boolean,default:!1}},computed:{effectiveHeaders(){return this.headers||this.itemFields.map(e=>e.replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase()))},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.itemFields.length:this.colRatios.reduce((e,a,o)=>e+(a||1),0)}},methods:{getColumnStyle(e){if(this.colWidths&&this.colWidths[e])return{width:this.colWidths[e],flexBasis:this.colWidths[e]};if(this.colRatios&&this.colRatios.length>0){const l=this.colRatios[e]||1,r=l/this.totalRatio*100;return{flex:`${l} 0 0`,maxWidth:`${r}%`}}const a=this.itemFields.length,o=this.$slots["row-actions"]?1:0;return{flex:"1 1 0",maxWidth:`${100/(a+o)}%`}},getRowClass(e,a){let o=[this.itemClasses];if(this.striped&&a%2===1&&o.push("bg-grey-lighten-5"),this.hoverable&&o.push("ue-list-section__row--hoverable"),this.rowClassFn){const n=this.rowClassFn(e,a);n&&o.push(n)}return o.join(" ")}}},_hoisted_1$R={class:"ue-list-section"},_hoisted_2$E={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_3$B={key:1,class:"ue-list-section__row ue-list-section__row--title"},_hoisted_4$s={class:"ue-list-section__cell"},_hoisted_5$n={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_6$l={key:2,class:"ue-list-section__row ue-list-section__row--empty"},_hoisted_7$g={class:"ue-list-section__row--empty .ue-list-section__cell"};function _sfc_render$13(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$R,[createBaseVNode("div",{class:normalizeClass(["ue-list-section__container",{"align-top":o.verticalAlignTop}])},[o.showHeader?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-list-section__row ue-list-section__row--header",o.headerClasses])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.effectiveHeaders,(i,c)=>(openBlock(),createElementBlock("div",{key:`header-${c}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[c]??""]]),style:normalizeStyle(r.getColumnStyle(c))},[renderSlot(e.$slots,`header.${c}`,mergeProps({ref_for:!0},{header:i}),()=>[createTextVNode(toDisplayString(i),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_2$E,[renderSlot(e.$slots,"actions-header",{},()=>[createTextVNode(toDisplayString(o.actionsHeader),1)],!0)])):createCommentVNode("",!0)],2)):createCommentVNode("",!0),o.title?(openBlock(),createElementBlock("div",_hoisted_3$B,[createBaseVNode("div",_hoisted_4$s,[(openBlock(),createBlock(resolveDynamicComponent(o.titleTag),{class:normalizeClass(o.titleClasses)},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"]))])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(i,c)=>(openBlock(),createElementBlock("div",{key:`item-${c}`,class:normalizeClass(["ue-list-section__row ue-list-section__row--data",[r.getRowClass(i,c),{"has-bottom-border":o.hasRowBottomBorder}]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.itemFields,(u,s)=>(openBlock(),createElementBlock("div",{key:`item-field-${s}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[s]??""]]),style:normalizeStyle(r.getColumnStyle(s))},[renderSlot(e.$slots,`field.${s}`,mergeProps({ref_for:!0},{value:e.$lodash.get(i,u),item:i,index:c}),()=>[createTextVNode(toDisplayString(e.$lodash.get(i,u,"")),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_5$n,[renderSlot(e.$slots,"row-actions",mergeProps({ref_for:!0},{item:i,index:c}),void 0,!0)])):createCommentVNode("",!0)],2))),128)),o.items.length===0&&o.emptyMessage?(openBlock(),createElementBlock("div",_hoisted_6$l,[createBaseVNode("div",_hoisted_7$g,toDisplayString(o.emptyMessage),1)])):createCommentVNode("",!0)],2)])}const ListSection=_export_sfc(_sfc_main$1h,[["render",_sfc_render$13],["__scopeId","data-v-e89d1f35"]]),__vite_glob_0_18=Object.freeze(Object.defineProperty({__proto__:null,default:ListSection},Symbol.toStringTag,{value:"Module"})),_sfc_main$1g={emits:["update:modelValue"],props:{csrf:{type:String}},data(){return{dialog:!1}}},_hoisted_1$Q=["value"];function _sfc_render$12(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-modal");return openBlock(),createBlock(c,mergeProps({modelValue:l.dialog,"onUpdate:modelValue":a[1]||(a[1]=u=>l.dialog=u)},e.$bindAttributes(),{"width-type":"md"}),{activator:withCtx(({props:u})=>[renderSlot(e.$slots,"activator",{props:u},()=>[createVNode(VBtn,mergeProps({class:"w-66 m-auto",color:"red lighten-2",dark:""},u),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040)])]),body:withCtx(u=>[createVNode(VCard,{class:"text-center"},{default:withCtx(()=>[createVNode(VCardTitle,{class:""},{default:withCtx(()=>[createVNode(i,{type:"h5",weight:"medium",justify:"center",color:"primary",padding:"t-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-title")),1)]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-description")),1)]),_:1}),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(VBtn,{class:"",variant:"outlined",onClick:a[0]||(a[0]=s=>l.dialog=!1),density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-cancel")),1)]),_:1}),createVNode(VForm,{method:"post",action:"/logout"},{default:withCtx(()=>[createBaseVNode("input",{type:"hidden",name:"_token",value:e.$csrf()},null,8,_hoisted_1$Q),createVNode(VBtn,{variant:"elevated",type:"submit",density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-confirm")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:3},16,["modelValue"])}const LogoutModal=_export_sfc(_sfc_main$1g,[["render",_sfc_render$12]]),__vite_glob_0_19=Object.freeze(Object.defineProperty({__proto__:null,default:LogoutModal},Symbol.toStringTag,{value:"Module"})),_hoisted_1$P=["innerHTML"],_sfc_main$1f={__name:"MarkdownRender",props:{markdown:{type:String,required:!0}},setup(e){const a=e,o=ref(""),n=ref([]),l=()=>{const r=new Map;return i=>{let c=i.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(r.has(c)){const u=r.get(c)+1;r.set(c,u),c=`${c}-${u}`}else r.set(c,1);return c}};return watch$1(()=>a.markdown,r=>{if(!r){o.value="",n.value=[];return}const i=new d.Renderer,c=l(),u=[];i.heading=s=>{const f=s.depth,p=s.text,m=c(p);return f<=3&&u.push({level:f,id:m,text:p}),`<h${f} id="${m}">${p}</h${f}>`},o.value=d(r,{renderer:i}),n.value=u},{immediate:!0}),(r,i)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{md:n.value.length?9:12,cols:"12",class:"pr-4"},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:o.value,class:"markdown-body"},null,8,_hoisted_1$P)]),_:1},8,["md"]),n.value.length?(openBlock(),createBlock(VCol,{key:0,md:"3",class:"d-none d-md-block"},{default:withCtx(()=>[createVNode(VCard,{class:"sticky-top",flat:""},{default:withCtx(()=>[createVNode(VCardTitle,{class:"text-subtitle-1 py-2 px-3 font-weight-medium"},{default:withCtx(()=>i[0]||(i[0]=[createTextVNode("On this page")])),_:1}),createVNode(VList,{density:"compact",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,c=>(openBlock(),createBlock(VListItem,{class:normalizeClass(["text-body-2 py-1",`heading-level-${c.level}`]),key:c.id,href:`#${c.id}`,title:c.text,style:normalizeStyle({"padding-left":(c.level-1)*16+"px"}),link:""},null,8,["class","href","title","style"]))),128))]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1}))}},MarkdownRender=_export_sfc(_sfc_main$1f,[["__scopeId","data-v-2ee0aec6"]]),__vite_glob_0_20=Object.freeze(Object.defineProperty({__proto__:null,default:MarkdownRender},Symbol.toStringTag,{value:"Module"})),_sfc_main$1e={name:"A17MediaMetadata",props:{media:{type:Object,default:()=>{}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:{fieldName:function(){return`${this.name}[${this.id}]`},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?typeof this.defaultMetadatas=="object"?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":this.defaultMetadatas!==null?this.defaultMetadatas:"":""},...mapState({languages:e=>e.language.all,currentLocale:e=>e.language.active.value})},methods:{saveMetadata:function(e){e.locale||(e={value:e}),e.id=this.id,this.$emit("change",e)}},mounted:function(){const e={};let a="",o=0;this.languages.forEach(n=>{const l=n.value;if(this.customMetadatas){this.customMetadatas[l]?e[l]=this.customMetadatas[l]:(this.customMetadatas===!0||typeof this.customMetadatas=="string")&&o===0?(e[l]=this.customMetadatas,a=this.customMetadatas):e[l]="";const r={};r.name=this.fieldName,r.value=e[l],this.languages.length>1&&(r.locale=l),this.$store.commit(FORM.UPDATE_FORM_FIELD,r)}o++}),this.initialValues=e,this.initialValue=a}},_hoisted_1$O={key:1},_hoisted_2$D=["innerHTML"],_hoisted_3$A={key:3,class:"mediaMetadata__checkbox"};function _sfc_render$11(e,a,o,n,l,r){const i=resolveComponent("a17-locale"),c=resolveComponent("a17-wysiwyg"),u=resolveComponent("a17-textfield"),s=resolveComponent("a17-checkbox");return e.languages.length>1&&r.fieldType==="text"?(openBlock(),createBlock(i,{key:0,type:o.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:r.attributes,onChange:r.saveMetadata},null,8,["type","initialValues","attributes","onChange"])):r.fieldType==="text"&&o.wysiwyg?(openBlock(),createElementBlock("div",_hoisted_1$O,[createVNode(c,{options:o.wysiwygOptions,label:o.label,name:r.fieldName,type:r.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:r.saveMetadata},null,8,["options","label","name","type","initialValue","maxlength","onChange"]),createBaseVNode("p",{class:"f--note f--small",innerHTML:r.placeholder},null,8,_hoisted_2$D)])):r.fieldType==="text"?(openBlock(),createBlock(u,{key:2,label:o.label,name:r.fieldName,type:"text",placeholder:r.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:r.saveMetadata},null,8,["label","name","placeholder","initialValue","maxlength","onChange"])):r.fieldType==="checkbox"?(openBlock(),createElementBlock("div",_hoisted_3$A,[createVNode(s,{label:o.label,name:r.fieldName,initialValue:e.initialValue,value:1,onChange:r.saveMetadata,inStore:"value"},null,8,["label","name","initialValue","onChange"])])):createCommentVNode("",!0)}const MediaMetadata=_export_sfc(_sfc_main$1e,[["render",_sfc_render$11],["__scopeId","data-v-b8b069a3"]]),__vite_glob_0_21=Object.freeze(Object.defineProperty({__proto__:null,default:MediaMetadata},Symbol.toStringTag,{value:"Module"})),_hoisted_1$N={class:"d-flex"},_hoisted_2$C={key:0,class:"d-flex align-center justify-center me-2"},_sfc_main$1d={__name:"Metric",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},color:{type:String,default:null},cardColor:{type:String,default:null},labelColor:{type:String,default:null},valueClass:{type:String,default:""},labelClass:{type:String,default:""},dense:{type:Boolean,default:!1},noInline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},icon:{type:String,default:null},appendIcon:{type:String,default:null},appendIconAttributes:{type:Object,default:()=>({})}},setup(e){const a=e,o=computed(()=>({"d-inline-block":!a.noInline,"ue-metric":!0,"text-center":a.center,"py-1 px-1":!a.dense})),n=computed(()=>["font-weight-bold",a.dense?"text-h4":"text-h3",a.color?`text-${a.color}`:"",a.valueClass]),l=computed(()=>[a.color?`text-${a.color}`:"",a.labelColor?`text-${a.labelColor}`:"",a.dense?"text-caption":"text-subtitle",a.labelClass]);return(r,i)=>(openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value)},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-3 pr-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$N,[e.appendIcon?(openBlock(),createElementBlock("div",_hoisted_2$C,[createVNode(VIcon,mergeProps(e.appendIconAttributes,{icon:e.appendIcon}),null,16,["icon"])])):createCommentVNode("",!0),createBaseVNode("div",null,[renderSlot(r.$slots,"value",normalizeProps(guardReactiveProps({value:e.value,classes:n.value})),()=>[createBaseVNode("div",{class:normalizeClass(n.value)},toDisplayString(e.value),3)],!0),renderSlot(r.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,classes:l.value,icon:e.icon})),()=>[createBaseVNode("div",{class:normalizeClass(l.value)},[e.icon?(openBlock(),createBlock(VIcon,{key:0,icon:e.icon},null,8,["icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.label),1)],2)],!0)])])]),_:3})]),_:3},8,["color","class"]))}},Metric=_export_sfc(_sfc_main$1d,[["__scopeId","data-v-57735a08"]]),__vite_glob_0_22=Object.freeze(Object.defineProperty({__proto__:null,default:Metric},Symbol.toStringTag,{value:"Module"})),_sfc_main$1c={__name:"MetricGroups",props:{title:{type:String,default:""},items:{type:Array,required:!0},defaultCol:{type:Object,default:()=>({cols:12})},metricsBgHeaderColor:{type:String,default:null},metricsNoInline:{type:Boolean,default:null},metricColor:{type:String,default:null},metricCardColor:{type:String,default:null},metricLabelColor:{type:String,default:null},metricValueClass:{type:String,default:null},metricLabelClass:{type:String,default:null},metricNoInline:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>({...a.metricColor?{metricColor:a.metricColor}:{},...a.metricCardColor?{metricCardColor:a.metricCardColor}:{},...a.metricLabelColor?{metricLabelColor:a.metricLabelColor}:{},...a.metricValueClass?{metricValueClass:a.metricValueClass}:{},...a.metricLabelClass?{metricLabelClass:a.metricLabelClass}:{},...a.metricNoInline?{metricNoInline:a.metricNoInline}:{}})),n=computed(()=>a.items.map(l=>({...a.metricsBgHeaderColor?{bgHeaderColor:a.metricsBgHeaderColor}:{},...a.metricsNoInline?{noInline:a.metricsNoInline}:{},...o.value,...l})));return(l,r)=>{const i=resolveComponent("ue-metrics");return openBlock(),createBlock(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(c,u)=>(openBlock(),createBlock(VCol,mergeProps({key:u,ref_for:!0},{...e.defaultCol,...c.col??{}}),{default:withCtx(()=>[createVNode(i,mergeProps({ref_for:!0},{...l.$lodash.omit(c,"col")}),null,16)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})}}},__vite_glob_0_23=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1c},Symbol.toStringTag,{value:"Module"})),_hoisted_1$M={class:"py-2"},_sfc_main$1b={__name:"Metrics",props:{title:{type:String,required:!0},subtitle:{type:String,default:null},items:{type:Array,default:()=>[]},color:{type:String,default:null},cardColor:{type:String,default:null},filterColor:{type:String,default:null},bgHeaderColor:{type:String,default:null},hasGutter:{type:Boolean,default:!1},gutterStep:{type:Number,default:1},rowClass:{type:String,default:null},noInline:{type:Boolean,default:!1},dateLabel:{type:String,default:"Today"},date:{type:String,default:null},metricWidth:{type:[String,Number],default:null},minMetricWidth:{type:[String,Number],default:130},metricAttributes:{type:Object,default:()=>({})},endpoint:{type:String,default:null}},setup(e){const a=e,o=computed(()=>[a.noInline?"":"d-inline-block"]),n=computed(()=>[a.bgHeaderColor?`bg-${a.bgHeaderColor}`:"","d-flex justify-space-between align-center pa-4"]),l=computed(()=>[a.color?`text-${a.color}`:"","font-weight-medium text-body-1 text-wrap"]),r=computed(()=>[a.filterColor?`text-${a.filterColor}`:"","d-flex align-center"]),i=computed(()=>["d-flex flex-wrap ga-4",a.rowClass?a.rowClass:"",a.hasGutter?`mx-n${a.gutterStep}`:""]),c=computed(()=>({...a.metricAttributes??{}})),u=ref(a.items),s=computed(()=>u.value.filter(v=>v.connectorFilter&&isObject(v.connectorFilter)&&v.connectorFilter.name&&v.connectorFilter.args)),f=computed(()=>s.value.length>0),p=ref(null),m=ref(!1),y=()=>{m.value=!0,axios.post(a.endpoint,{date_range:p.value,items:u.value}).then(v=>{v.data.variant==="success"&&(u.value=v.data.data)}).catch(v=>{console.log(v)}).finally(()=>{m.value=!1})};return watch$1(p,(v,g)=>{(Array.isArray(v)&&v.length>1||!v&&g&&g.length>1)&&y()}),(v,g)=>{const C=resolveComponent("ue-title"),k=resolveComponent("v-date-input"),b=resolveComponent("ue-metric");return openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value),elevation:"0"},{default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(n.value)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$M,[createVNode(C,{padding:"a-0",text:e.title,class:normalizeClass(l.value)},null,8,["text","class"]),createVNode(C,{padding:"a-0",text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none"},null,8,["text"])]),f.value&&e.endpoint?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.value),style:{width:"280px"}},[createVNode(k,{modelValue:p.value,"onUpdate:modelValue":g[0]||(g[0]=w=>p.value=w),Xlabel:v.$t(""),"validate-on":"submit blur",variant:"outlined",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"",required:"","hide-details":"",multiple:"range",clearable:"",disabled:m.value,class:"w-100"},null,8,["modelValue","Xlabel","disabled"])],2)):createCommentVNode("",!0)]),_:1},8,["class"]),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(i.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,(w,S)=>(openBlock(),createBlock(b,mergeProps({key:S,style:[e.metricWidth?`width: ${e.metricWidth}`:"",e.minMetricWidth?`min-width: ${e.minMetricWidth}px`:""],dense:"","no-inline":"",ref_for:!0},{...c.value,...w}),createSlots({_:2},[w.filtered?{name:"value",fn:withCtx(T=>[createVNode(VBadge,{color:"grey-lighten-4",class:"text-white",icon:"mdi-filter-check",inline:"",Xdot:"","X-floating":""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(T.classes)},toDisplayString(T.value),3)]),_:2},1024)]),key:"0"}:void 0]),1040,["style"]))),128))],2)]),_:1})]),_:1},8,["color","class"])}}},__vite_glob_0_24=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1b},Symbol.toStringTag,{value:"Module"})),_sfc_main$1a={name:"ue-navigation-group",inject:["activeMenu"],props:{items:{type:Array,required:!0},level:{type:Number,default:0},hideIcons:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1},profileMenu:{type:Boolean,default:!1}},setup(e,a){const o=(n,l)=>(Array.isArray(l)&&l.forEach(function(r){__isset(r.is_active)&&r.is_active&&__isset(r.items)&&(n.push(r.name),o(n,r.items))}),n);return{getListGroupOpens:o}},data:()=>({opened:[]}),computed:{activeIndex:{get(){try{return this.items.findIndex(e=>e.is_active==1)}catch{return 0}},set(e){}},style(){return{marginLeft:"0rem"}}},created(){this.opened=this.getListGroupOpens([],this.items)},watch:{},methods:{getComponentType(e){return this.isSubgroup(e)?"v-list-group":this.isMenu(e)?"v-menu-wrapper":"v-list-item"},getComponentProps(e,a){const o={index:a};return this.isSubgroup(e)?{...e.props??{},"prepend-icon":e.icon,value:e.name,items:e.items,level:this.level+1,...o}:this.isMenu(e)?{item:e,...e.props??{},hideIcons:this.hideIcons,...o}:{...o,...this.getListItemProps(e,a)}},getListItemProps(e,a){const n={nav:!0,active:this.isInertiaLink(e)?isSamePath(this.$page.url,getPath(e.route||e.href)):this.activeIndex===a,ripple:!1,append:!1,title:e.name,"prepend-icon":this.hideIcons?null:e.icon};return this.isRoute(e)?(this.isInertiaLink(e)?n.class="ue-inertia-link":n.href=e.route||e.href,Object.assign(n,this.$bindAttributes(e))):this.isEvent(e)?n.onClick=()=>{this.$call(e.event)}:this.isMenuRoute(e)?(n.density="compact",n.href=e.route||e.href,n.slim=!0,n.class={"px-4":!this.hideIcons,"ml-2":!0},Object.assign(n,this.$bindAttributes(e))):this.isHeader(e)&&(n.inactive=!0,n.disabled=!0),n},getListGroupOpens(e,a){return Array.isArray(a)&&a.forEach(o=>{o.is_active&&o.items&&(e.push(o.name),this.getListGroupOpens(e,o.items))}),e},isSubgroup:e=>!!e.items,isRoute(e){return!e.items&&(!!e.route||!!e.href)&&!this.profileMenu},isEvent:e=>!!e.attr,isHeader:e=>!e.href&&!e.route&&!e.items&&!!e.name,isMenu:e=>!!e.menuItems,isMenuRoute(e){return!e.menuItems&&this.profileMenu&&(!!e.route||!!e.href)},isInApp(e){return e.is_modularity_route??!1},isInertiaLink(e){return this.isInApp(e)&&this.$shouldUseInertia()},formatBadgeContent(e){let a=parseInt(e);return a>9?"9+":a}}};function _sfc_render$10(e,a,o,n,l,r){const i=resolveComponent("ue-navigation-group");return openBlock(),createBlock(VList,{modelValue:r.activeIndex,"onUpdate:modelValue":a[0]||(a[0]=c=>r.activeIndex=c),opened:e.opened,"onUpdate:opened":a[1]||(a[1]=c=>e.opened=c),style:normalizeStyle(r.style),"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,class:"mb-2 pl-0",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(c,u)=>(openBlock(),createElementBlock(Fragment,{key:u},[r.isSubgroup(c)?(openBlock(),createBlock(VListGroup,{key:u+"subgroup",index:u,ripple:!0,"prepend-icon":c.icon,"sub-group":!1,"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,value:c.name},{activator:withCtx(({props:s})=>[createVNode(VTooltip,{bottom:"",disabled:!o.showTooltip},{activator:withCtx(f=>[createBaseVNode("div",mergeProps({ref_for:!0},f.props),[createVNode(VListItem,mergeProps({ref_for:!0},s,{title:c.name,"prepend-icon":o.hideIcons?null:c.icon,nav:""}),createSlots({_:2},[c.badge?{name:"prepend",fn:withCtx(p=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},c.badgeProps??{},{content:r.formatBadgeContent(c.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:c.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040,["title","prepend-icon"])],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(c.name),1)]),_:2},1032,["disabled"])]),default:withCtx(()=>[createVNode(i,{items:c.items,level:o.level+1,hideIcons:o.hideIcons,"show-tooltip":o.showTooltip},null,8,["items","level","hideIcons","show-tooltip"])]),_:2},1032,["index","prepend-icon","active-class","value"])):r.isMenu(c)?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VListItem,{nav:"",title:c.name,"prepend-icon":c.icon,"append-icon":"mdi-menu-right",density:"compact",id:c.menuActivator,slim:!0,"data-level":o.level,onClick:s=>e.$emit("activateMenu",c.menuActivator)},createSlots({_:2},[c.badge?{name:"prepend",fn:withCtx(s=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},c.badgeProps??{},{content:r.formatBadgeContent(c.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:c.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1032,["title","prepend-icon","id","data-level","onClick"]),r.activeMenu===`#${c.menuActivator}`?(openBlock(),createBlock(VMenu,{key:0,location:"end",activator:r.activeMenu},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(i,{items:Object.values(c.menuItems),"show-tooltip":o.showTooltip},null,8,["items","show-tooltip"])]),_:2},1024)]),_:2},1032,["activator"])):createCommentVNode("",!0)],64)):(openBlock(),createBlock(VTooltip,{key:2,bottom:"",disabled:!o.showTooltip},{activator:withCtx(({props:s})=>[(openBlock(),createBlock(resolveDynamicComponent(r.isInertiaLink(c)?"ue-link":"div"),mergeProps({ref_for:!0},{...s,...r.isInertiaLink(c)?{href:c.route||c.href,class:"ue-inertia-anchor"}:{}},{class:[r.isInertiaLink(c)?"":"ue-inertia-anchor"]}),{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.getComponentType(c)),mergeProps({ref_for:!0},r.getComponentProps(c,u),{"data-level":o.level,class:"ue-navigation-link-item"}),createSlots({_:2},[c.badge?{name:"prepend",fn:withCtx(f=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},c.badgeProps??{},{content:r.formatBadgeContent(c.badge)}),{default:withCtx(()=>[createVNode(VIcon,mergeProps({ref_for:!0},c.iconProps??{},{icon:c.icon}),null,16,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040,["data-level"]))]),_:2},1040,["class"]))]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(c.name),1)]),_:2},1032,["disabled"]))],64))),128))]),_:1},8,["modelValue","opened","style","active-class"])}const NavigationGroup=_export_sfc(_sfc_main$1a,[["render",_sfc_render$10]]),__vite_glob_0_25=Object.freeze(Object.defineProperty({__proto__:null,default:NavigationGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$19={props:{payload:{type:Object,required:!0},endpoint:{type:String,required:!0},printKeys:{type:[Array,Object],required:!0},loadingText:{type:String,default:"Loading..."}},data(){return{values:{},loading:!0}},methods:{getDisplayText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||0]=="string")return e[this.printKeys[a||0]];const o=this.printKeys[a||0];return e[o==null?void 0:o.text]}return e[this.printKeys.text]??""},getSubText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||1]=="string")return e[this.printKeys[a||1]];const o=this.printKeys[a||0];return e[o==null?void 0:o.subText]}return e[this.printKeys.subText]??""},async sendRequest(){this.loading=!0;try{const e=await axios$1.post(this.endpoint,this.payload);e.status===200&&(this.values=e.data)}catch(e){console.error("Error calculating price:",e)}finally{this.loading=!1}}},mounted(){this.sendRequest()},watch:{payload:{handler(){this.sendRequest()},deep:!0}}},_hoisted_1$L={key:0,class:"d-flex flex-column align-center"},_hoisted_2$B={class:"mt-2"};function _sfc_render$$(e,a,o,n,l,r){const i=resolveComponent("ue-text-display");return openBlock(),createElementBlock("div",null,[l.loading?(openBlock(),createElementBlock("div",_hoisted_1$L,[createVNode(VProgressCircular,{indeterminate:"",color:"primary"}),createBaseVNode("span",_hoisted_2$B,toDisplayString(o.loadingText),1)])):(openBlock(),createElementBlock(Fragment,{key:1},[Array.isArray(l.values)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(l.values,(c,u)=>(openBlock(),createElementBlock("div",{key:u},[createVNode(i,{class:"text-h5",text:r.getDisplayText(c,u),"sub-text":r.getSubText(c,u)},null,8,["text","sub-text"])]))),128)):(openBlock(),createBlock(i,{key:1,class:"text-h5",text:r.getDisplayText(l.values),"sub-text":r.getSubText(l.values)},null,8,["text","sub-text"]))],64))])}const PrintRequest=_export_sfc(_sfc_main$19,[["render",_sfc_render$$]]),__vite_glob_0_26=Object.freeze(Object.defineProperty({__proto__:null,default:PrintRequest},Symbol.toStringTag,{value:"Module"})),_hoisted_1$K={key:0},_hoisted_2$A=["innerHTML"],_hoisted_3$z=["innerHTML"],_sfc_main$18={__name:"PropertyList",props:{data:{type:[Array,Object],default:()=>[]},noPadding:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>Array.isArray(a.data)?a.data:typeof a.data=="object"&&a.data!==null?Object.entries(a.data).map(([l,r])=>[l,r]):[]),n=l=>!l||l.length===0?null:l.map(i=>Array.isArray(i)?i.join(", "):i).join(", ");return(l,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["ue-property-list",e.noPadding?"":"ue-property-list--padding"])},[!o.value||o.value.length===0?(openBlock(),createElementBlock("div",_hoisted_1$K,"No data available")):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(o.value,(i,c)=>(openBlock(),createElementBlock("div",{key:c,class:"ue-property-list__item d-flex flex-wrap"},[createBaseVNode("span",{class:"text-caption font-weight-bold pr-1",innerHTML:i[0].trim()+(i.slice(1).length>0?":":"")},null,8,_hoisted_2$A),createBaseVNode("span",{class:"text-caption",innerHTML:n(i.slice(1))},null,8,_hoisted_3$z)]))),128))],2))}},PropertyList=_export_sfc(_sfc_main$18,[["__scopeId","data-v-b43b9e9f"]]),__vite_glob_0_27=Object.freeze(Object.defineProperty({__proto__:null,default:PropertyList},Symbol.toStringTag,{value:"Module"})),_sfc_main$17={name:"ue-recursive-data-viewer",props:{data:{type:[Array,Object,String,Number,Boolean],required:!0},allArrayItemsClosed:{type:Boolean,default:!1},allArrayItemsOpen:{type:Boolean,default:!1},arrayIndex:{type:Number,default:null},objectDepth:{type:Number,default:0},allObjectsClosed:{type:Boolean,default:!1},allObjectsOpen:{type:Boolean,default:!1},objectTitle:{type:String,default:null}},data(){return{isExpanded:this.determineInitialExpanded(),expandedItems:new Set(this.determineInitialExpandedItems())}},methods:{determineInitialExpanded(){return Array.isArray(this.data)?this.allArrayItemsClosed?!1:this.allArrayItemsOpen?!0:this.arrayIndex===0:typeof this.data=="object"&&this.data!==null?this.allObjectsClosed?!1:this.allObjectsOpen?!0:this.objectDepth===0:!0},determineInitialExpandedItems(){return this.allArrayItemsClosed?[]:this.allArrayItemsOpen?Array.from({length:this.data.length},(e,a)=>a):[0]},toggleItem(e){this.expandedItems.has(e)?this.expandedItems.delete(e):this.expandedItems.add(e)},isItemExpanded(e){return this.expandedItems.has(e)},getPreview(e){return Array.isArray(e)?`Array(${e.length})`:typeof e=="object"&&e!==null?"Object":typeof e=="string"?`"${e.substring(0,30)}${e.length>30?"...":""}"`:String(e)}}},_hoisted_1$J={class:"text-body-2"},_hoisted_2$z={class:"array-items"},_hoisted_3$y={class:""},_hoisted_4$r={class:"json-key"},_hoisted_5$m={class:"json-value"},_hoisted_6$k={key:2};function _sfc_render$_(e,a,o,n,l,r){const i=resolveComponent("ue-recursive-data-viewer");return Array.isArray(o.data)?(openBlock(),createBlock(VCard,{key:0,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"py-2 px-4"},{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-code-brackets",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_1$J,"Array ("+toDisplayString(o.data.length)+" items)",1)]),_:1}),createBaseVNode("div",_hoisted_2$z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(c,u)=>(openBlock(),createElementBlock("div",{key:u,class:"array-item"},[createVNode(VCard,{variant:"flat",class:"mb-1"},{default:withCtx(()=>[createVNode(i,{data:c,"array-index":0,"object-depth":u===0?o.objectDepth:o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open"])]),_:2},1024)]))),128))])]),_:1})):typeof o.data=="object"&&o.data!==null?(openBlock(),createBlock(VCard,{key:1,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center py-2 px-4 collapsible-header text-body-2",onClick:a[0]||(a[0]=c=>l.isExpanded=!l.isExpanded)},{default:withCtx(()=>[createVNode(VIcon,{icon:l.isExpanded?"mdi-chevron-down":"mdi-chevron-right",class:"mr-2",size:"small"},null,8,["icon"]),createVNode(VIcon,{icon:"mdi-code-braces",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_3$y," Object ("+toDisplayString(Object.keys(o.data).length)+" properties) ",1)]),_:1}),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",null,[createVNode(VTable,{density:"compact",class:"json-table"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(c,u)=>(openBlock(),createElementBlock("tr",{key:u,class:"json-row"},[createBaseVNode("td",_hoisted_4$r,toDisplayString(u),1),createBaseVNode("td",_hoisted_5$m,[createVNode(i,{data:c,"array-index":0,"object-depth":o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen,"object-titlex":e.window.__isObject(c)?u:null},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open","object-titlex"])])]))),128))])]),_:1})],512),[[vShow,l.isExpanded]])]),_:1})]),_:1})):(openBlock(),createElementBlock("span",_hoisted_6$k,toDisplayString(o.data),1))}const RecursiveDataViewer=_export_sfc(_sfc_main$17,[["render",_sfc_render$_],["__scopeId","data-v-c5013ed3"]]),__vite_glob_0_28=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveDataViewer},Symbol.toStringTag,{value:"Module"})),_sfc_main$16={props:{configuration:{type:[Object,Array,String],default(){return{}}},level:{type:Number,default:0},bindData:{type:Object,default(){return{}}}},setup(props,context){const{castObjectAttributes}=useCastAttributes(),componentElement=ref(null),FuncPattern=/^\{(.*)\}$/,CastPattern=/\$([\w|.|\_|\-]+)/,slots=computed(()=>props.configuration.hasOwnProperty("slots")?props.configuration.slots:{});function isTextable(e){return isString(e)||isNumber(e)}function hasSlot(e){return e.hasOwnProperty("slots")}function isObject(e){return __isObject(e)}function applyCasting(value,funcs=[]){if(!window.__isString(value))return value;if(FuncPattern.test(value)){const matches=value.match(FuncPattern),evalText=matches[1];let evalParts=evalText.split(" ").map(e=>{if(CastPattern.test(e)){let o=e.match(CastPattern)[1],n=__data_get(props.bindData,o,void 0);if(n!==void 0)return n}return e});try{return eval(evalParts.join(" "))}catch(e){console.error(e)}}if(CastPattern.test(value)){const e=value.match(CastPattern);if(e){let a=get(props.bindData,e[1]);if(a!==void 0)try{funcs.forEach(o=>{window[o]&&typeof window[o]=="function"&&(a=window[o](a))})}catch(o){console.error(o)}return a}}return value}const filteredAttributes=cloneDeep(props.configuration.attributes),castedAttributes=computed(()=>{const e=props.configuration.attributes??{},a=cloneDeep(e);return castObjectAttributes(a,props.bindData)}),bindAttributes=computed(()=>{const e=props.bindData;let a={};if(e&&isObject(e)){let o=props.configuration.bind;o&&(isString(o)&&(o=[o]),isArray(o)&&e&&o.forEach(n=>{let l=n,r=n.match(CastPattern);r&&(l=r[1]);let i;Object.prototype.hasOwnProperty.call(e,l)?i=__data_get(e,l,void 0):Object.prototype.hasOwnProperty.call(e,n)&&(i=__data_get(e,n,void 0)),i!==void 0&&(a={...a,...i})}))}return a}),castedElements=computed(()=>{let e=props.configuration.elements??"";return e&&castObjectAttributes(e,props.bindData)}),hasDirectives=computed(()=>props.configuration.directives&&Object.keys(props.configuration.directives).length>0),builtInDirectives={html:!0,text:!0,show:!0,if:!0,else:!0,"else-if":!0,for:!0,on:!0,bind:!0,model:!0,slot:!0,pre:!0,cloak:!0,once:!0},builtInDirectivesForWithDirectives=computed(()=>{if(!props.configuration.directives)return[];const e=[];return Object.entries(props.configuration.directives).forEach(([a,o])=>{builtInDirectives.hasOwnProperty(a)&&(a==="html"?e.push([{beforeMount(n,l){n.innerHTML=l.value},updated(n,l){n.innerHTML=l.value}},applyCasting(o)]):a==="text"?e.push([{beforeMount(n,l){n.textContent=l.value},updated(n,l){n.textContent=l.value}},applyCasting(o)]):a==="show"&&e.push([vShow,applyCasting(o)]))}),e}),customDirectives=computed(()=>props.configuration.directives?Object.entries(props.configuration.directives).filter(([e])=>!builtInDirectives.hasOwnProperty(e)).map(([e,a])=>{try{const o=resolveDirective(e);let n=applyCasting(a);return[o,n]}catch(o){return console.error(`Custom directive '${e}' could not be resolved:`,o),null}}).filter(Boolean):[]),allDirectives=computed(()=>[...builtInDirectivesForWithDirectives.value,...customDirectives.value]),builtInDirectiveAttributes=computed(()=>({})),renderComponentWithDirectives=()=>{const e={...filteredAttributes,...bindAttributes.value,...castedAttributes.value,...builtInDirectiveAttributes.value},a=[];isArray(castedElements.value)?castedElements.value.forEach((l,r)=>{a.push(h("ue-recursive-stuff",{key:`tag-${props.level}-${r}`,level:props.level+1,configuration:l,"bind-data":props.bindData??{}}))}):isObject(castedElements.value)?a.push(h("ue-recursive-stuff",{key:`tag-${props.level}-object`,level:props.level+1,configuration:castObjectAttributes(props.configuration.elements,props.bindData),"bind-data":props.bindData??{}})):isTextable(castedElements.value)&&a.push(applyCasting(castedElements.value));const o={};Object.entries(slots.value).forEach(([l,r])=>{o[l]=(i={})=>h("ue-recursive-stuff",{level:props.level+1,configuration:r,"bind-data":{...props.bindData,...i}})});const n=h(props.configuration.tag,e,a.length>0?a:o);return allDirectives.value.length>0?withDirectives(n,allDirectives.value):n};return{isTextable,isArray,isObject,applyCasting,castObjectAttributes,hasSlot,filteredAttributes,castedAttributes,castedElements,bindAttributes,slots,componentElement,hasDirectives,renderComponentWithDirectives}},data(){return{}},created(){}};function _sfc_render$Z(e,a,o,n,l,r){const i=resolveComponent("ue-recursive-stuff");return!o.configuration.tag&&n.isTextable(n.castedElements)?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(n.applyCasting(n.castedElements)),1)],64)):!o.configuration.tag&&n.isArray(n.castedElements)?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(n.castedElements,(c,u)=>(openBlock(),createBlock(resolveDynamicComponent(c.tag),mergeProps({key:`tag-${o.level}-${u}`,ref_for:!0},c.attributes),{default:withCtx(()=>[createTextVNode(toDisplayString(n.castObjectAttributes(c.elements,o.bindData)),1)]),_:2},1040))),128)):o.configuration.tag&&n.hasDirectives?(openBlock(),createBlock(resolveDynamicComponent(n.renderComponentWithDirectives),{key:2})):o.configuration.tag?(openBlock(),createBlock(resolveDynamicComponent(o.configuration.tag),normalizeProps(mergeProps({key:3},{...n.filteredAttributes,...n.bindAttributes,...n.castedAttributes})),createSlots({default:withCtx(()=>[n.isArray(n.castedElements)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(n.castedElements,(c,u)=>(openBlock(),createBlock(i,{key:`tag-${o.level}-${u}`,level:o.level+1,configuration:c,"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"]))),128)):createCommentVNode("",!0),n.isObject(n.castedElements)?(openBlock(),createBlock(i,{key:`tag-${o.level}-${e.i}`,level:o.level+1,configuration:n.castObjectAttributes(o.configuration.elements,o.bindData),"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"])):n.isTextable(n.castedElements)?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(n.applyCasting(n.castedElements)),1)],64)):createCommentVNode("",!0)]),_:2},[renderList(n.slots,(c,u)=>({name:`${u}`,fn:withCtx(s=>[createVNode(i,{level:o.level+1,configuration:c,"bind-data":{...o.bindData,...s}},null,8,["level","configuration","bind-data"])])}))]),1040)):createCommentVNode("",!0)}const RecursiveStuff=_export_sfc(_sfc_main$16,[["render",_sfc_render$Z]]),__vite_glob_0_29=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveStuff},Symbol.toStringTag,{value:"Module"})),_sfc_main$15={props:{token:String,env:String,paymentId:String,revolutOrderId:String,orderId:String,completeUrl:String},setup(e){const a=useDynamicModal();let o=ref(null);return RevolutCheckoutLoader(e.token,e.env).then(n=>{o=n.createCardField({target:document.getElementById("embed-form"),onSuccess(){a.open("ue-recursive-stuff",{props:{configuration:{elements:[{tag:"v-progress-circular",attributes:{size:24,color:"primary",indeterminate:!0}},{tag:"div",attributes:{class:"d-flex flex-column justify-center align-center w-100"},elements:"Payment is processing..."}]}},modalProps:{widthType:"md",noActions:!0}}),axios.post(e.completeUrl+"?id="+e.paymentId+"&status=success",{id:e.paymentId,status:"success"}).then(l=>{l.status===200&&l.data.variant==="success"&&l.data.redirector&&redirector(l.data)}).finally(()=>{a.close()})},onError(l){console.log("error",l)}})}),watch$1(o,n=>{n&&console.log("createCardField",n)}),{}},mounted(){document.getElementById("revolut-loader")}};function _sfc_render$Y(e,a,o,n,l,r){return openBlock(),createElementBlock(Fragment,null,[createVNode(VContainer,{class:"d-flex flex-column justify-center align-center w-100 pa-8"},{default:withCtx(()=>[a[1]||(a[1]=createBaseVNode("div",{id:"embed-form",class:"d-flex flex-column",style:{height:"200px"}},null,-1)),createVNode(VBtn,{class:"mt-4",block:"",onClick:e.submit},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Pay")])),_:1},8,["onClick"])]),_:1}),a[2]||(a[2]=createBaseVNode("div",{id:"revolut-loader",style:{position:"fixed",inset:"0",display:"none","align-items":"center","justify-content":"center",background:"rgba(255,255,255,0.7)","z-index":"9999"}},[createBaseVNode("div",{style:{display:"flex","flex-direction":"column","align-items":"center","font-family":"system-ui, -apple-system, Segoe UI, Roboto"}},[createBaseVNode("div",{style:{width:"32px",height:"32px",border:"3px solid #ccc","border-top-color":"#111","border-radius":"50%",animation:"spin .9s linear infinite"}}),createBaseVNode("div",{style:{"margin-top":"10px",color:"#111"}},"Processing...")])],-1))],64)}const RevolutCheckout=_export_sfc(_sfc_main$15,[["render",_sfc_render$Y],["__scopeId","data-v-3609aedd"]]),__vite_glob_0_30=Object.freeze(Object.defineProperty({__proto__:null,default:RevolutCheckout},Symbol.toStringTag,{value:"Module"})),_sfc_main$14={props:{token:String,env:String,paymentId:String,orderId:String,revolutOrderId:String,completeUrl:String},setup(e){const a=useDynamicModal();console.log("props",e);let o=null;return RevolutCheckoutLoader(e.token,e.env).then(l=>{console.log("instance",l),o=l.payWithPopup}),{pay:()=>{o({email:"test@test.com",onSuccess(...l){a.open("ue-recursive-stuff",{props:{configuration:{elements:[{tag:"v-progress-circular",attributes:{size:24,color:"primary",indeterminate:!0}},{tag:"div",attributes:{class:"d-flex flex-column justify-center align-center w-100"},elements:"Payment is processing..."}]}},modalProps:{widthType:"md",noActions:!0}}),axios.post(e.completeUrl+"?id="+e.paymentId+"&status=success",{id:e.paymentId,status:"success"}).then(r=>{r.status===200&&r.data.variant==="success"&&r.data.redirector&&redirector$1(r.data)}).finally(()=>{a.close()})},onError(...l){axios.post(e.completeUrl+"?id="+e.paymentId+"&status=error",{id:e.paymentId,status:"error"}).then(()=>{a.close()}),console.log("error",l)},onClose(){console.log("close")},onCancel(){console.log("cancel")}})}}},mounted(){}};function _sfc_render$X(e,a,o,n,l,r){return renderSlot(e.$slots,"button",normalizeProps(guardReactiveProps({pay:n.pay})),()=>[createVNode(VBtn,{id:"pay-button",onClick:n.pay},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Pay")])),_:1},8,["onClick"])],!0)}const RevolutCheckoutModal=_export_sfc(_sfc_main$14,[["render",_sfc_render$X],["__scopeId","data-v-b31ed3a4"]]),__vite_glob_0_31=Object.freeze(Object.defineProperty({__proto__:null,default:RevolutCheckoutModal},Symbol.toStringTag,{value:"Module"})),_sfc_main$13={name:"StepperHeader",props:{forms:{type:Array,required:!0},activeStep:{type:Number,required:!0}},emits:["step-click"]},_hoisted_1$I=["onClick"];function _sfc_render$W(e,a,o,n,l,r){return openBlock(),createBlock(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(i,c)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${c}`,complete:o.activeStep>c+1,title:i.title,value:c+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{icon:withCtx(u=>[u.hasCompleted?(openBlock(),createBlock(VIcon,{key:0,icon:"$check",color:"white",onClick:s=>e.$emit("step-click",u.step)},null,8,["onClick"])):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(u.step),1)],64))]),title:withCtx(u=>[createBaseVNode("div",{onClick:s=>e.$emit("step-click",c+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([u.hasCompleted||u.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(u.title),3)],8,_hoisted_1$I)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:o.activeStep>o.forms.length,title:"Preview & Summary",value:o.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(i=>[createBaseVNode("span",{class:normalizeClass([i.hasCompleted||i.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(i.title),3)]),_:1},8,["complete","value"])]),_:1})}const StepperHeader=_export_sfc(_sfc_main$13,[["render",_sfc_render$W]]),_sfc_main$12={name:"StepperContent",props:{modelValue:{type:Array,required:!0},forms:{type:Array,required:!0},schemas:{type:Array,required:!0,default:()=>[]},activeStep:{type:Number,required:!0},formRefs:{type:Array,required:!0},isEditing:{type:Boolean,default:!1},maxHeight:{type:String,default:"84vh"},coverHeight:{type:Number,default:0}},emits:["form-input","form-valid","update:modelValue","update:schemas"],data(){return{models:cloneDeep(this.modelValue),localSchemas:cloneDeep(this.schemas)}},computed:{inputModels:{get(){return this.modelValue},set(e,a){}},inputSchemas:{get(){return this.schemas},set(e,a){isEqual(e,a)}}},methods:{updateFormModel(e,a){this.models.splice(a,1,e)},updateFormSchema(e,a){this.localSchemas.splice(a,1,cloneDeep(e))}},watch:{modelValue:{handler(e){isEqual(e,this.models)||(this.models=cloneDeep(e))},deep:!0},schemas:{handler(e){isEqual(e,this.localSchemas)||(this.localSchemas=cloneDeep(e))},deep:!0},models:{handler(e){isEqual(e,this.modelValue)||this.$emit("update:modelValue",cloneDeep(e))},deep:!0},localSchemas:{handler(e){isEqual(e,this.schemas)||this.$emit("update:schemas",cloneDeep(e))},deep:!0}}};function _sfc_render$V(e,a,o,n,l,r){const i=resolveComponent("ue-form"),c=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(c,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{id:"ue-stepper-content-window",class:"fill-height overflow-y-auto px-4",style:normalizeStyle(`max-height: calc(${o.maxHeight} - ${o.coverHeight}px)`)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(u,s)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${s}`,value:s+1},{default:withCtx(()=>[o.activeStep>s?(openBlock(),createBlock(i,{key:0,ref_for:!0,ref:o.formRefs[s],id:`stepper-form-${s+1}`,isEditing:o.isEditing,modelValue:l.models[s],"onUpdate:modelValue":[f=>l.models[s]=f,f=>r.updateFormModel(f,s)],XmodelValue:r.inputModels[s],"onXupdate:modelValue":f=>r.updateFormModel(f,s),schema:l.localSchemas[s],"onUpdate:schema":f=>r.updateFormSchema(f,s),Xschema:r.inputSchemas[s],"onXupdate:schema":f=>r.updateFormSchema(f,s),onInput_:a[0]||(a[0]=f=>e.$log("input emitted from form on steppercontent",f)),onInput:f=>e.$emit("form-input",{event:f,index:s}),"onUpdate:valid":f=>e.$emit("form-valid",{event:f,index:s}),noDefaultFormPadding:"",noSchemaUpdatingProgressBar:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","XmodelValue","onXupdate:modelValue","schema","onUpdate:schema","Xschema","onXupdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:o.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview")]),_:3},8,["value"])]),_:3},8,["style"])]),_:3})}const StepperContent=_export_sfc(_sfc_main$12,[["render",_sfc_render$V]]),_sfc_main$11={name:"StepperSummary",props:{isLastStep:Boolean,forms:Array,activeStep:Number,models:Array,schemas:Array,previewModel:Array,previewTitles:Array,isPreviewModelFilled:Function},emits:["next-form","complete-form"]};function _sfc_render$U(e,a,o,n,l,r){const i=resolveComponent("ue-form-summary-item"),c=resolveComponent("v-btn-secondary"),u=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(u,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[o.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(o.isLastStep,"")])},{default:withCtx(()=>[o.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:o.models,schema:o.schemas,previewModel:o.previewModel,onComplete:()=>e.$emit("complete-form")}))):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(s,f)=>renderSlot(e.$slots,`summary-form-${f+1}`,mergeProps({key:`stepper-summary-item-${f}`,ref_for:!0},{index:f,order:f+1,title:o.previewTitles[f],isPreviewModelFilled:o.isPreviewModelFilled,model:o.models[f],schema:o.schemas[f],previewModel:o.previewModel[f]??{},length:o.forms.length}),()=>[o.isPreviewModelFilled(f)&&f!==0&&f<o.forms.length-1?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),o.isPreviewModelFilled(f)?(openBlock(),createBlock(i,{key:1,index:f,title:o.previewTitles[f],model:o.previewModel[f]},null,8,["index","title","model"])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(c,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:a[0]||(a[0]=s=>e.$emit("next-form",o.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])}const StepperSummary=_export_sfc(_sfc_main$11,[["render",_sfc_render$U]]),_sfc_main$10={name:"StepperPreview",emits:["final-form-action"],props:{formattedPreview:{type:Array,default:()=>[]},previewFormData:{type:Array,default:()=>[]},lastStepModel:{type:Object,required:!0},finalFormTitle:{type:String,required:!0},finalFormSubtitle:{type:String,default:null},protectedLastStepModel:{type:Object,default:()=>{}}},methods:{fieldSelected(e){const a=e.fieldName,o=this.lastStepModel[a]??[],n=e._fieldFormat??"id",l=e._fieldFormatUniqueKey??"id",r=e._fieldFormatSourceKey??"id";let i=!1;if(isString(n))result=includes(o,e[n]);else if(isObject(n)){let c=o.find(u=>u[l]===e[r]);i=c!=null}return i},getFieldIcon(e){return this.fieldSelected(e)?"mdi-minus":"mdi-plus"},getFieldColor(e){return this.fieldSelected(e)?"grey":"primary"},isReadOnly(e){const a=e.fieldName,o=this.protectedLastStepModel[a]??[],n=e._fieldFormat??"id",l=e._fieldFormatUniqueKey??"id",r=e._fieldFormatSourceKey??"id";let i=!1;if(isString(n))i=includes(o,e[n]);else if(isObject(n)){let c=o.find(u=>__isset(e[r])&&__isset(u[l])&&u[l]===e[r]);i=c!=null}return i}},created(){}},_hoisted_1$H={class:"d-flex flex-column ga-2 my-4"},_hoisted_2$y={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$x=["innerHTML"],_hoisted_4$q={key:0,class:"text-caption mt-4 d-flex ga-4 flex-wrap"},_hoisted_5$l={class:"text-h4 font-weight-medium py-auto justify-center w-100"},_hoisted_6$j={class:"d-flex fill-height align-content-md-center"};function _sfc_render$T(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-configurable-card"),u=resolveDirective("fit-grid");return openBlock(),createBlock(VSheet,null,{default:withCtx(()=>[createVNode(i,{type:"body-1",weight:"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.formattedPreview,(s,f)=>(openBlock(),createBlock(VCol,{key:`summary-${f}`,cols:"12",md:s.col||6,class:"d-flex"},{default:withCtx(()=>[createVNode(c,mergeProps({ref_for:!0},s,{elevation:"2","title-color":"primary",class:"my-2 w-100 h-100","col-padding-x":"4"}),null,16)]),_:2},1032,["md"]))),128)),o.previewFormData.length>0?withDirectives((openBlock(),createBlock(VCol,{key:0,cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$H,[createVNode(i,{type:"body-1","font-weight":"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormTitle),1)]),_:1}),o.finalFormSubtitle?(openBlock(),createBlock(i,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormSubtitle),1)]),_:1})):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.previewFormData,(s,f)=>(openBlock(),createBlock(c,{key:`final-form-data-${f}`,"row-min-height":"120px",style:{"background-color":"transparent","min-height":"150px"},class:normalizeClass([[r.fieldSelected(s)?"bg-primary":"bg-grey-lighten-5","w-100"],"mb-4 py-4"]),elevation:"2","col-padding-x":"4",items:s.form_card_items||[[s.name||"N/A ",s.description||"N/A",s.tags||[]],s.base_price_without_vat_formatted||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{0:"",1:"",_actions:""},"column-classes":{0:"flex-1-1-0",1:"flex-0-1 d-flex align-center",_actions:"flex-0-1"}},{"segment.1":withCtx(p=>[createBaseVNode("div",_hoisted_2$y,toDisplayString(p.data[0]),1),createBaseVNode("p",{class:"text-caption",style:{"white-space":"pre-wrap","word-wrap":"break-word"},innerHTML:p.data[1]},null,8,_hoisted_3$x),Array.isArray(p.data[2])&&p.data[2].length>0?(openBlock(),createElementBlock("div",_hoisted_4$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.data[2],m=>(openBlock(),createBlock(VChip,{key:m,variant:"outlined",size:"small",class:""},{default:withCtx(()=>[createTextVNode(toDisplayString(m.name??m.slug),1)]),_:2},1024))),128))])):createCommentVNode("",!0)]),"segment.2":withCtx(p=>[createBaseVNode("div",_hoisted_5$l,toDisplayString(p.data),1)]),"segment.actions":withCtx(p=>[createBaseVNode("div",_hoisted_6$j,[createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":p.actionProps.actionIconMinHeight,"min-height":p.actionProps.actionIconMinHeight,size:p.actionProps.actionIconSize,icon:r.getFieldIcon(s),color:r.getFieldColor(s),onClick:m=>e.$emit("final-form-action",{index:f,event:!r.fieldSelected(s)}),readonly:r.isReadOnly(s)},null,8,["min-width","min-height","size","icon","color","onClick","readonly"])])]),_:2},1032,["class","items"]))),128))]),_:1})]),_:1})),[[u]]):createCommentVNode("",!0)]),_:1})]),_:1})}const StepperPreview=_export_sfc(_sfc_main$10,[["render",_sfc_render$T],["__scopeId","data-v-e813b9cb"]]),_sfc_main$$={name:"StepperFinalSummary",props:{loading:{type:Boolean,default:!1},isCompleted:{type:Boolean,default:!1}},emits:["complete"]},_hoisted_1$G={class:"py-0"},_hoisted_2$x={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$w={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$p={class:"text-caption text-grey-lighten-1 mb-6"};function _sfc_render$S(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-text-display"),u=resolveComponent("v-btn-secondary");return openBlock(),createElementBlock(Fragment,null,[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(i,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider,{style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),renderSlot(e.$slots,"body",{},void 0,!0)]),_:3}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$G,[createBaseVNode("td",_hoisted_2$x,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$w,[renderSlot(e.$slots,"total",{},()=>[createVNode(c,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})],!0)])])])]),_:3}),createBaseVNode("div",_hoisted_4$p,[renderSlot(e.$slots,"description",{},()=>[a[1]||(a[1]=createTextVNode(" At "))],!0)]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(u,{class:"v-stepper-form__nextButton",block:"",disabled:o.loading||o.isCompleted,loading:o.loading,onClick:a[0]||(a[0]=s=>e.$emit("complete"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete Request").toUpperCase()),1)]),_:1},8,["disabled","loading"])]),_:1})],64)}const StepperFinalSummary=_export_sfc(_sfc_main$$,[["render",_sfc_render$S],["__scopeId","data-v-eaf07dc3"]]),_sfc_main$_={name:"StepperForm",components:{StepperHeader,StepperContent,StepperSummary,StepperPreview,StepperFinalSummary},props:{flexBreakpoint:{type:String,default:null,validator:e=>["sm","md","lg","xl","xxl"].includes(e)},forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:[Array,Object],default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormSubtitle:{type:String,default:null},finalFormFields:{type:Array,default:()=>[]},validationScrollingDuration:{type:Number,default:1e3},validationScrollingEasing:{type:String,default:"easeInOutCubic"},validationScrollingOffset:{type:Number,default:0},protectInitialValue:{type:Boolean,default:!1},responseModalIcon:{type:String,default:"mdi-check-circle-outline"},responseModalTitle:{type:String,default:"Request Complete"},responseModalMessage:{type:String,default:"Congratulations! Your request was completed successfully."},responseModalButtonText:{type:String,default:"Ok"},responseModalOptions:{type:Object,default:()=>({})}},setup(e,a){const o=useInputHandlers(),n=useValidation(e),l=useGoTo(),r=ref(null),i=ref(!1),c=reactive({stepperActionRef:r,loading:i}),u=computed(()=>map(e.forms,(s,f)=>ref(null)));return{...o,...n,...toRefs(c),formRefs:u,goTo:l}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,lastFormPreviewLoading:!1,schemas:[],models:[],valids:[],lastFormPreview:[],lastStepModel:{},protectedLastStepModel:{},previewModel:[],pendingHandleFunctions:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var o;const e=(o=this.payload)!=null&&o.id?"put":"post",a=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(n){n.status===200&&n.data.variant==="success"?(a.loading=!1,a.isCompleted=!0,a.modalMessage=n.data.message,a.modalActive=!0):(a.loading=!1,this.$store.commit(ALERT.SET_ALERT,n.data))},function(n){a.loading=!1,__log(n)})},isPreviewModelFilled(e){const a=this.previewModel[e]??{};let o=!1;for(const n in a)if(a){o=!0;break}return o},handleInput(e){const{event:a,index:o}=e,{on:n,key:l,obj:r,value:i}=a;if(n==="input"&&l){let c=get(this.models[o],l);JSON.stringify(c)!==JSON.stringify(i)?this.pendingHandleFunctions.push((u,s,f)=>{handleMultiFormEvents(u,s,r.schema,o,f)}):handleMultiFormEvents(this.models,this.schemas,r.schema,o,this.previewModel)}},updateFormValid(e){const{event:a,index:o}=e;this.valids[o]=a},goStep(e){if(e<this.activeStep){this.activeStep=e;return}this.valids.slice(0,e-1).every(a=>a===!0)&&(this.activeStep=e)},async nextForm(e){await this.validateForm(e),this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const o=this.formRefs[e].value[0];o.manualValidation=!0;const n=await o.validate();return o.manualValidation=!1,isBoolean(n.valid)&&n.valid===!1&&this.$nextTick(()=>{const l=this.$el.querySelector(".v-input--error .v-input__details[role='alert'] .v-messages");l&&this.goTo(l,{container:"#ue-stepper-content-window",duration:this.validationScrollingDuration,offset:this.validationScrollingOffset,easing:this.validationScrollingEasing})}),n},handleFinalFormAction({index:e,event:a}){const o=this.lastFormPreview[e],n=o.fieldName,l=o._fieldFormat??"id",r=cloneDeep(this.lastStepModel);let i=this.lastStepModel[n]??[];if(isString(l))r[n]=i.includes(o[l])?i.filter(c=>c!==o[l]):[...i,o[l]];else if(isObject(l)){const c=o._fieldFormatUniqueKey??"id",u=o._fieldFormatSourceKey??"id";if(a===!1)for(const s in i){let f=i[s];if(isObject(f)&&a===!1&&f[c]===o[u]){i.splice(s,1);break}}else if(a===!0){let s={};for(const f in l){const p=l[f];s[f]=get(o,p)}i.push(s)}r[n]=i}this.lastStepModel=r},async handlePreviewFormField(e){if(!e.modelNotation)return;let a=e.modelNotation,o=`preview-form-field-${a}`,n=`preview-form-field-values-${a}`;this.lastFormPreviewLoading=!0;let l=this.$cacheGet(o,{}),r=reduce(l,(u,s,f)=>(u.push(parseInt(f)),u),[]),i=this.$cacheGet(n,[]),c=get(this.models,a);if(c&&e.endpoint){this.lastFormPreview=[];let u=Array.isArray(c)?c:[c],s=u.filter(p=>!r.includes(p)),f=u.filter(p=>r.includes(p));if(f.length>0&&f.forEach(p=>{i.filter(y=>y.form_field_id===p&&y.form_field_notation===a).forEach(y=>{this.lastFormPreview.push(y)}),l[p]=!0}),s.length>0){if(!e.endpoint)return;let p=window.__addParametersToUrl(e.endpoint,{ids:s}),m=await axios.get(p);if(m.status===200){let y=m.data;y.forEach(g=>{l[g.id]=!0}),e.notation?y=y.map(g=>{let C=get(g,e.notation,[]),k=e.cardFields??["name"],b=e.fieldName||a.split(".").pop();return Array.isArray(C)?C=C.map(w=>({...w,isSelected:!1,fieldName:b,form_field_notation:a,form_field_id:g.id,form_card_items:k.map(S=>Array.isArray(S)?S.map(T=>w[T]??"N/A"):w[S]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"})):C={...C,isSelected:!1,fieldName:b,form_field_notation:a,form_field_id:g.id,form_card_items:k.map(w=>Array.isArray(w)?w.map(S=>C[S]??"N/A"):C[w]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"},C}):y=y.map(g=>({...g,form_field_notation:e.notation,form_field_id:g.id})),reduce(y,(g,C)=>Array.isArray(C)?[...g,...C]:[...g,C],[]).forEach(g=>{this.$cachePush(n,g),this.lastFormPreview.push(g)})}}this.$cachePut(o,l)}this.lastFormPreviewLoading=!1}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,a)=>{let o=this.forms[a],n=__isset(o.previewTitle)?o.previewTitle:o.title;return this.$castValueMatch(n,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const a in this.schemas)e[a]=this.$getDisplayData(this.schemas[a],this.models[a]);return e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},payload(){let e=reduce(this.models,function(n,l,r){return{...n,...l}},{}),a=this.lastFormPreview,o=reduce(this.lastStepModel,function(n,l,r){return Array.isArray(l)&&(l=l.reduce((i,c)=>((isObject(c)?a.find(s=>s[s._fieldFormatSourceKey??"id"]===c[s._fieldFormatUniqueKey??"id"]&&s.fieldName===r):a.find(s=>s.id===c&&s.fieldName===r))&&i.push(c),i),[])),n[r]=l,n},{});return{...e,...o}},summaryFormScopes(){return reduce(this.$slots,(e,a,o)=>(o.match(/summary-form-\d+/)&&(e[o]=a),e),{})},activeStepIsFullWidth(){var e;return this.forms[this.activeStep-1]?((e=this.forms[this.activeStep-1])==null?void 0:e.fullWidth)===!0:!1},formCol(){let e={cols:12,lg:8,md:8};return this.activeStepIsFullWidth?{cols:12,lg:12,md:12}:e},summaryCol(){let e={cols:12,lg:4,md:4};return this.activeStepIsFullWidth?{class:"d-none"}:e},calculateHeights(){let e=0,a=76,o=64;return this.activeStepIsFullWidth&&(e+=a),this.$vuetify.display.mobile&&(e+=o),e}},watch:{schemas:{handler(e,a){isEqual(e,this.schemas)||(this.schemas=e)},deep:!0},models:{handler(e,a){this.pendingHandleFunctions.length>0&&(this.pendingHandleFunctions.forEach(o=>{typeof o=="function"&&o(this.models,this.schemas,this.previewModel)}),this.pendingHandleFunctions=[]),this.models.forEach((o,n)=>{this.previewModel[n]&&Object.keys(this.previewModel[n]).forEach(l=>{this.models[n][l]||delete this.previewModel[n][l]})})},deep:!0},activeStep:{handler(e,a){this.finalFormFields.forEach(o=>{o.afterStep&&o.afterStep===a&&this.handlePreviewFormField(o)})},deep:!0}},created(){let e=this;this.forms.forEach((a,o)=>{let n=a.schema,l=getModel(n,this.modelValue);e.models.push(l),e.schemas.push(e.invokeRuleGenerator(n,l)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormFields,(a,o,n)=>{let l=null;return __isObject(o)?l=o.inputName||o.fieldName||o.modelNotation.split(".").pop():l=o.split(".").pop(),__isset(a[l])||(a[l]=[]),a},{}),this.lastStepModel=this.$lodash.mapValues(this.lastStepModel,(a,o)=>this.modelValue[o]?this.modelValue[o]:a),this.protectInitialValue&&(this.protectedLastStepModel=cloneDeep(this.lastStepModel))}},_hoisted_1$F={key:1,class:"d-flex align-center justify-center",style:{height:"70vh"}},_hoisted_2$w={class:"d-flex flex-column align-center justify-center"},_hoisted_3$v={class:"text-h4 mb-4 text-success"},_hoisted_4$o={class:"text-subtitle-1 grey--text text-center",style:{"white-space":"pre-line"}},_hoisted_5$k={class:"d-flex justify-center w-100"};function _sfc_render$R(e,a,o,n,l,r){const i=resolveComponent("StepperHeader"),c=resolveComponent("StepperPreview"),u=resolveComponent("StepperContent"),s=resolveComponent("ue-text-display"),f=resolveComponent("StepperFinalSummary"),p=resolveComponent("StepperSummary"),m=resolveComponent("v-sheet-rounded"),y=resolveComponent("ue-modal"),v=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:l.activeStep,"onUpdate:modelValue":a[7]||(a[7]=g=>l.activeStep=g),color:"prima",class:normalizeClass(["ue-stepper-form ue-stepper--no-background fill-height flex-column",o.flexBreakpoint?`d-${o.flexBreakpoint}-flex`:"d-flex"]),"mobile-breakpoint":"md"},{default:withCtx(({prev:g,next:C})=>[createVNode(i,{forms:o.forms,"active-step":l.activeStep,onStepClick:r.goStep},null,8,["forms","active-step","onStepClick"]),createVNode(VRow,{class:"mt-2 flex-fil"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,mergeProps(r.formCol,{"order-md":"1",order:"2"}),{default:withCtx(()=>[createVNode(u,{modelValue:l.models,"onUpdate:modelValue":a[0]||(a[0]=k=>l.models=k),schemas:l.schemas,"onUpdate:schemas":a[1]||(a[1]=k=>l.schemas=k),forms:o.forms,"active-step":l.activeStep,"form-refs":n.formRefs,"is-editing":o.isEditing,onFormInput:a[2]||(a[2]=k=>r.handleInput(k)),onFormValid:a[3]||(a[3]=k=>r.updateFormValid(k)),"cover-height":r.calculateHeights},{preview:withCtx(()=>[!l.lastFormPreviewLoading&&r.isLastStep?(openBlock(),createBlock(c,{key:0,"formatted-preview":r.formattedPreview,"preview-form-data":l.lastFormPreview,"last-step-model":l.lastStepModel,"protected-last-step-model":l.protectedLastStepModel,"final-form-title":o.finalFormTitle,"final-form-subtitle":o.finalFormSubtitle,onFinalFormAction:r.handleFinalFormAction},null,8,["formatted-preview","preview-form-data","last-step-model","protected-last-step-model","final-form-title","final-form-subtitle","onFinalFormAction"])):l.lastFormPreviewLoading&&r.isLastStep?(openBlock(),createElementBlock("div",_hoisted_1$F,[createVNode(VProgressCircular,{"model-value":"20",indeterminate:""})])):createCommentVNode("",!0)]),_:1},8,["modelValue","schemas","forms","active-step","form-refs","is-editing","cover-height"])]),_:1},16)),[[v]]),createVNode(VCol,mergeProps(r.summaryCol,{"order-md":"2",order:"1"}),{default:withCtx(()=>[createVNode(p,{"is-last-step":r.isLastStep,forms:o.forms,"active-step":l.activeStep,models:l.models,schemas:l.schemas,"preview-model":l.previewModel,"preview-titles":r.previewTitles,"is-preview-model-filled":r.isPreviewModelFilled,onNextForm:r.nextForm,onCompleteForm:r.completeForm},createSlots({"summary.final":withCtx(({onComplete:k})=>[renderSlot(e.$slots,"summary.final",normalizeProps(guardReactiveProps({model:l.models,schema:l.schemas,previewModel:l.previewModel,completeForm:r.completeForm})),()=>[createVNode(f,{loading:e.loading,"is-completed":l.isCompleted,onComplete:k},createSlots({total:withCtx(()=>[renderSlot(e.$slots,"summary.final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(s,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})])]),description:withCtx(()=>[renderSlot(e.$slots,"summary.final.description",{},()=>[a[8]||(a[8]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),_:2},[e.$slots["summary.final.body"]?{name:"body",fn:withCtx(()=>[renderSlot(e.$slots,"summary.final.body",normalizeProps(guardReactiveProps({models:l.models,schemas:l.schemas,lastStepModel:l.lastStepModel,finalFormFields:o.finalFormFields,lastFormPreview:l.lastFormPreview})))]),key:"0"}:void 0]),1032,["loading","is-completed","onComplete"])])]),_:2},[renderList(r.summaryFormScopes,(k,b)=>({name:`${b}`,fn:withCtx(w=>[renderSlot(e.$slots,b,normalizeProps(guardReactiveProps(w)))])}))]),1032,["is-last-step","forms","active-step","models","schemas","preview-model","preview-titles","is-preview-model-filled","onNextForm","onCompleteForm"])]),_:3},16)]),_:3}),r.activeStepIsFullWidth?(openBlock(),createBlock(m,{key:0,class:"mt-4 elevation-2 pt-4"},{default:withCtx(()=>[createVNode(VStepperActions,{"click:prev":"","onClick:prev":a[5]||(a[5]=k=>r.goStep(l.activeStep-1))},{next:withCtx(()=>[createVNode(VBtn,{variant:"elevated",color:"secondary",onClick:a[4]||(a[4]=k=>r.nextForm(l.activeStep-1)),disabled:e.$hasRequestInProgress()},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(y,mergeProps({ref:"modal",modelValue:l.modalActive,"onUpdate:modelValue":a[6]||(a[6]=k=>l.modalActive=k),"width-type":"md",description:l.modalMessage,persistent:""},o.responseModalOptions),{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_2$w,[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalIcon),1)]),_:1}),createBaseVNode("h2",_hoisted_3$v,toDisplayString(o.responseModalTitle),1),createBaseVNode("p",_hoisted_4$o,toDisplayString(o.responseModalMessage),1)])]),"body.options":withCtx(()=>[createBaseVNode("div",_hoisted_5$k,[createVNode(VBtn,{variant:"flat",color:"success",onClick:r.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalButtonText),1)]),_:1},8,["onClick"])])]),_:1},16,["modelValue","description"])]),_:3},8,["modelValue","class"])}const StepperForm=_export_sfc(_sfc_main$_,[["render",_sfc_render$R]]),__vite_glob_0_32=Object.freeze(Object.defineProperty({__proto__:null,default:StepperForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$Z=defineComponent({name:"UeSuccess",props:{title:{type:String,required:!0},description:{type:String,required:!0},button_text:{type:String,required:!0},button_url:{type:String,required:!0}},setup(e){return{}}}),_hoisted_1$E={class:"text-h4 mb-2 text-success"},_hoisted_2$v={class:"text-body-1 text-medium-emphasis mb-6"};function _sfc_render$Q(e,a,o,n,l,r){return openBlock(),createBlock(VContainer,{class:"fill-height"},{default:withCtx(()=>[createVNode(VRow,{justify:"center",align:"center"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"12",md:"12",lg:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VCard,{flat:"",class:"bg-transparent"},{default:withCtx(()=>[createVNode(VCardItem,null,{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-check-circle",color:"success",size:"64",class:"mb-4"}),createBaseVNode("h1",_hoisted_1$E,toDisplayString(e.title),1),createBaseVNode("p",_hoisted_2$v,toDisplayString(e.description),1),createVNode(VBtn,{color:"success",class:"mt-10",href:e.button_url,"min-width":"200",density:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.button_text),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Success=_export_sfc(_sfc_main$Z,[["render",_sfc_render$Q]]),__vite_glob_0_33=Object.freeze(Object.defineProperty({__proto__:null,default:Success},Symbol.toStringTag,{value:"Module"})),_sfc_main$Y={props:{symbol:{type:String,required:!0},height:{type:String},width:{type:String},style:{type:String,default:""}},setup(e){const a=computed(()=>{if(e.symbol)return e.symbol}),o=computed(()=>{if(e.height||e.width)return"height:"+e.height+"px;width:"+e.width+"px;"});return{symbol:a,style:o}}},_hoisted_1$D=["symbol"];function _sfc_render$P(e,a,o,n,l,r){const i=resolveDirective("svg");return openBlock(),createElementBlock("div",{style:normalizeStyle(n.style)},[withDirectives(createBaseVNode("span",{symbol:n.symbol},null,8,_hoisted_1$D),[[i]])],4)}const SvgIcon=_export_sfc(_sfc_main$Y,[["render",_sfc_render$P]]),__vite_glob_0_34=Object.freeze(Object.defineProperty({__proto__:null,default:SvgIcon},Symbol.toStringTag,{value:"Module"})),_sfc_main$X={name:"ue-tab-groups",props:{...makeModuleProps(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,a){return{...useModule(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,n,l)=>{this.noAllGroup||o[e].push(n);const r=__data_get(n,this.groupKey);if(Array.isArray(r))for(const i of r)o[i]??(o[i]=[]),o[i].push(n);else __isString(r)&&(o[r]??(o[r]=[]),o[r].push(n));return o},a)}},watch:{},methods:{loadItems(e={}){let a=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},api$2.get(this.endpoints.index,e,function(o,n){const l=getParameters(n.request.responseURL);a.elements=o.resource.data,replaceState(addParametersToUrl(getURLWithoutQuery(),l))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function _sfc_render$O(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-tabs");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createVNode(i,{text:e.moduleTitle,classes:[]},null,8,["text"]),createVNode(c,{items:r.groupedItems,modelValue:l.activeTab,"onUpdate:modelValue":a[0]||(a[0]=u=>l.activeTab=u)},createSlots({_:2},[renderList(e.$slots,(u,s)=>({name:s,fn:withCtx(f=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(f)))])}))]),1032,["items","modelValue"])]),_:3})}const TabGroups=_export_sfc(_sfc_main$X,[["render",_sfc_render$O]]),__vite_glob_0_35=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroups},Symbol.toStringTag,{value:"Module"})),_sfc_main$W={name:"ue-tab-groups",props:{...makeModuleProps(),subtitle:{type:String},groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""},noSearch:{type:Boolean,default:!1},queryParameters:{type:Object,default:()=>({})},responseResourceKey:{type:String,default:"resource.data"}},setup(e,a){return{...useModule(e)}},data(){return{loading:!1,searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0,elements:[]}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,n,l)=>{this.noAllGroup||o[e].push(n);const r=__data_get(n,this.groupKey);if(Array.isArray(r))for(const i of r)o[i]??(o[i]=[]),o[i].push(n);else __isString(r)&&(o[r]??(o[r]=[]),o[r].push(n));return o},a)},searchable(){return this.searchModel!==this.searchInput}},watch:{},methods:{loadItems(e={}){let a=this;this.loading=!0,e={...this.searchModel!==""?{search:this.searchModel}:{},...e,...this.queryParameters},this.searchInput=this.searchModel,api$2.get(this.endpoints.index,e,function(o,n){var l;getParameters(n.request.responseURL),a.elements=get(o,a.responseResourceKey),a.activeTab=((l=Object.keys(a.groupedItems??{}))==null?void 0:l[0])??0,a.loading=!1},function(o){a.loading=!1})},enterSearch(){this.searchModel!==this.searchInput&&this.loadItems({replaceUrl:!1})}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}},_hoisted_1$C={class:"py-4 d-flex justify-space-between flex-wrap ga-2"},_hoisted_2$u={class:"flex-1-0",style:{"max-width":"100%"}},_hoisted_3$u={key:0,class:"flex-1-1"},_hoisted_4$n={key:0,class:"text-center pa-8"};function _sfc_render$N(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-tabs-previous");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$C,[createBaseVNode("div",_hoisted_2$u,[createVNode(i,{text:e.moduleTitle,classes:[],padding:"a-0"},null,8,["text"]),o.subtitle?(openBlock(),createBlock(i,{key:0,class:"text-wrap",text:o.subtitle,classes:[],padding:"a-0",weight:"regular",transform:"none",type:"subtitle-2"},null,8,["text"])):createCommentVNode("",!0)]),o.noSearch?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$u,[createVNode(VTextField,{modelValue:e.searchModel,"onUpdate:modelValue":a[0]||(a[0]=u=>e.searchModel=u),label:"Search",variant:"outlined",density:"compact",color:"primary","hide-details":"",style:{"min-width":"300px"},onKeydown:withKeys(r.enterSearch,["enter"])},{"append-inner":withCtx(()=>[r.searchable?(openBlock(),createBlock(VIcon,{key:0,icon:"mdi-magnify",variant:"text",onClick:r.enterSearch},null,8,["onClick"])):createCommentVNode("",!0)]),_:1},8,["modelValue","onKeydown"])]))]),createVNode(VDivider),l.loading?(openBlock(),createElementBlock("div",_hoisted_4$n,[createVNode(VProgressCircular,{size:50,color:"primary",indeterminate:""})])):(openBlock(),createBlock(c,{key:1,items:r.groupedItems,modelValue:l.activeTab,"onUpdate:modelValue":a[1]||(a[1]=u=>l.activeTab=u)},createSlots({_:2},[renderList(e.$slots,(u,s)=>({name:s,fn:withCtx(f=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(f)))])}))]),1032,["items","modelValue"]))]),_:3})}const TabGroupsPrevious=_export_sfc(_sfc_main$W,[["render",_sfc_render$N]]),__vite_glob_0_36=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroupsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$V={props:{componentName:{type:String},tableAttributes:{type:Object,required:!0,default:{}}}};function _sfc_render$M(e,a,o,n,l,r){return openBlock(),createBlock(resolveDynamicComponent(`ue-${o.componentName}`),normalizeProps(guardReactiveProps(o.tableAttributes)),null,16)}const TableBinder=_export_sfc(_sfc_main$V,[["render",_sfc_render$M]]),__vite_glob_0_38=Object.freeze(Object.defineProperty({__proto__:null,default:TableBinder},Symbol.toStringTag,{value:"Module"})),_sfc_main$U={props:{elements:{type:Array,default(){return[]}},color:{type:String,default:""}},data(){return{defaultCols:[]}},computed:{textColor(){return this.color!==""?`text-${this.color}`:""}}};function _sfc_render$L(e,a,o,n,l,r){return openBlock(),createBlock(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.elements,(i,c)=>(openBlock(),createBlock(VCol,mergeProps({key:c,ref_for:!0},i.col),{default:withCtx(()=>[createBaseVNode("label",{class:normalizeClass([`${r.textColor}`,i.class]),style:normalizeStyle(i.style)},toDisplayString(i.text),7)]),_:2},1040))),128))]),_:1})}const RowFormat=_export_sfc(_sfc_main$U,[["render",_sfc_render$L]]),_sfc_main$T={name:"ue-tabs",emits:["update:modelValue"],components:{RowFormat},props:{modelValue:{type:[String,Number]},tabValue:{type:String,default:"id"},tabTitle:{type:String,default:"name"},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab_:this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null,models:{},elements:__isObject(this.items)?Object.keys(this.items).map(e=>({[this.tabTitle]:e,...this.items[e],[this.tabValue]:e})):this.items}},watch:{tab_:{handler(e,a){this.$emit("update:modelValue",e)}}},computed:{tab:{get(){return this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$K(e,a,o,n,l,r){const i=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:r.tab,"onUpdate:modelValue":a[0]||(a[0]=c=>r.tab=c),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.elements,c=>renderSlot(e.$slots,`tab.${c[o.tabValue]}`,{key:`tab-${c[o.tabValue]}`},()=>[createVNode(VTab,{value:c[o.tabValue]},{prepend:withCtx(()=>[renderSlot(e.$slots,`tab.${c[o.tabValue]}.prepend`)]),append:withCtx(()=>[renderSlot(e.$slots,`tab.${c[o.tabValue]}.append`)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(c[o.tabTitle]),1)]),_:2},1032,["value"])])),128))]),_:3},8,["modelValue"]),renderSlot(e.$slots,"windows",normalizeProps(guardReactiveProps({active:r.tab})),()=>[createVNode(VTabsWindow,{modelValue:r.tab,"onUpdate:modelValue":a[1]||(a[1]=c=>r.tab=c)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(c,u)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${u}`,value:c[o.tabValue]},{default:withCtx(()=>[renderSlot(e.$slots,`window.${u}`,mergeProps({ref_for:!0},{index:u,item:c,model:l.models[c[o.tabValue]]}),()=>[createVNode(i,{elements:[{text:`${c[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"])])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])])],64)}const Tabs=_export_sfc(_sfc_main$T,[["render",_sfc_render$K]]),__vite_glob_0_39=Object.freeze(Object.defineProperty({__proto__:null,default:Tabs},Symbol.toStringTag,{value:"Module"})),_sfc_main$S={name:"ue-tabs",components:{RowFormat},props:{modelValue:{type:String,default:null},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{models:{}}},computed:{activeTab:{get(){return this.modelValue??Object.keys(this.items)[0]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$J(e,a,o,n,l,r){const i=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:r.activeTab,"onUpdate:modelValue":a[0]||(a[0]=c=>r.activeTab=c),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),c=>(openBlock(),createBlock(VTab,{key:`tab-${c}`,value:c},{default:withCtx(()=>[createTextVNode(toDisplayString(c),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),createVNode(VTabsWindow,{modelValue:r.activeTab,"onUpdate:modelValue":a[1]||(a[1]=c=>r.activeTab=c)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),(c,u)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${c}`,value:c,class:"pa-theme"},{default:withCtx(()=>[renderSlot(e.$slots,"window",mergeProps({ref_for:!0},{index:u,key:c,items:o.items[c],model:l.models[c]}),()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items[c],(s,f)=>(openBlock(),createBlock(i,{key:`window-row-${f}]`,elements:[{text:`${s[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"]))),128)),renderSlot(e.$slots,"windowItem")])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])],64)}const TabsPrevious=_export_sfc(_sfc_main$S,[["render",_sfc_render$J]]),__vite_glob_0_40=Object.freeze(Object.defineProperty({__proto__:null,default:TabsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$R={name:"ue-text-display",props:{text:{type:String,required:!0},subText:{type:String,required:!1}}},_hoisted_1$B={class:"d-flex align-baseline"},_hoisted_2$t={class:"font-weight-bold"},_hoisted_3$t={key:0,class:"text-body-1"};function _sfc_render$I(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("span",_hoisted_2$t,toDisplayString(o.text),1),o.subText?(openBlock(),createElementBlock("span",_hoisted_3$t,toDisplayString(o.subText),1)):createCommentVNode("",!0)])}const TextDisplay=_export_sfc(_sfc_main$R,[["render",_sfc_render$I]]),__vite_glob_0_41=Object.freeze(Object.defineProperty({__proto__:null,default:TextDisplay},Symbol.toStringTag,{value:"Module"})),_hoisted_1$A=["innerHTML"],_sfc_main$Q={__name:"Title",props:{text:String,subTitle:String,tag:{type:String,default:"div",validator:e=>["div","h1","h2","h3","h4","h5","h6"].includes(e)},type:{type:String,default:"body-1",validator:e=>e===null||["h1","h2","h3","h4","h5","h6","subtitle-1","subtitle-2","body-1","body-2","button","caption","overline"].includes(e)},weight:{type:String,default:"bold",validator:e=>e===null||["black","bold","medium","regular","light","thin"].includes(e)},transform:{type:String,default:"uppercase",validator:e=>e===null||["none","capitalize","lowercase","uppercase"].includes(e)},color:{type:String},bg:{type:String},padding:{type:String,default:"a-3"},margin:{type:String,default:"a-0"},align:{type:String,default:"start",validator:e=>["start","center","end"].includes(e)},textPosition:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},justify:{type:String,default:"start",validator:e=>["start","center","end","space-between"].includes(e)},classes:{type:[String,Array]},paddingReset:{type:Boolean,default:!1},descriptionClasses:{type:[String,Array],default:"font-weight-light text-subtitle-2 text-truncate"}},setup(e){const a=e,o=computed(()=>["ue-title",`text-${a.type}`,a.bg?`bg-${a.bg}`:"",a.color?`text-${a.color}`:"",`text-${a.transform}`,`font-weight-${a.weight}`,a.padding?`p${a.padding}`:"",a.margin?`m${a.margin}`:"",`text-${a.textPosition}`,`align-${a.align}`,`justify-${a.justify}`]);return(n,l)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass([o.value,e.classes,"d-flex"])},{default:withCtx(()=>[renderSlot(n.$slots,"default",normalizeProps(guardReactiveProps({text:e.text})),()=>[createBaseVNode("span",{innerHTML:e.text},null,8,_hoisted_1$A)]),renderSlot(n.$slots,"right")]),_:3},8,["class"]))}},__vite_glob_0_42=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$Q},Symbol.toStringTag,{value:"Module"})),illegalRe=/[\/\?<>\\:\*\|":]/g,controlRe=/[\x00-\x1f\x80-\x9f]/g,reservedRe=/^\.+$/,windowsReservedRe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,windowsTrailingRe=/[\. ]+$/,defaultDiacriticsRemovalap=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],diacriticsMap={};for(let e=0;e<defaultDiacriticsRemovalap.length;e++){const a=defaultDiacriticsRemovalap[e].letters.split("");for(let o=0;o<a.length;o++)diacriticsMap[a[o]]=defaultDiacriticsRemovalap[e].base}function noAccents(e,a,o){let n=e.replace(/[^\u0000-\u007E]/g,function(l){return diacriticsMap[l]||l});return o=o||"",n=n.replace(/[^\u0000-\u007E]/g,o),n}function sanitize(e,a){let o=noAccents(e).replace(illegalRe,a).replace(controlRe,a).replace(reservedRe,a).replace(windowsReservedRe,a).replace(windowsTrailingRe,a);const n=/[^0-9a-zA-Z-.,;_]/g;return o=o.replace(n,""),truncate(o,{length:255})}function sanitizeFilename(e,a){return sanitize(e,"")}const _sfc_main$P={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){const e=this.uploaderConfig.allowedExtensions;return{allowedExtensions:e,acceptFiles:"."+e.join(", ."),stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){const a={debug:!0,maxConnections:5,button:this.$refs.uploaderBrowseButton,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader=this.uploaderConfig.endpointType==="s3"?new _default({options:{...a,validation:{...this.uploaderValidation},objectProperties:{key:o=>this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)),region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):this.uploaderConfig.endpointType==="azure"?new _default$1({options:{...a,validation:{...this.uploaderValidation},cors:{expected:!0,sendCredentials:!0},blobProperties:{name:o=>new Promise(n=>{n(this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)))})},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):new _default$2({options:{...a,validation:{...this.uploaderValidation,sizeLimit:this.uploaderConfig.filesizeLimit*1048576},request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}})},replaceMedia:function(e){this.media_to_replace_id=e;const a=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');a[Array.from(a).length-1].click()},loadingProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,a){this.$emit("loaded",a),this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD,e)},_onCompleteCallback(e,a,o,n){const l=this.loadingMedias.findIndex(r=>r.id===this._uploader.methods.getUuid(e));o.success?this.loadingFinished(this.loadingMedias[l],o.media):this.loadingError(this.loadingMedias[l])},_onAllCompleteCallback(e,a){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback(e,a){this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+qq.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);const o=URL.createObjectURL(this._uploader.methods.getFile(e)),n=new Image;n.onload=()=>{this._uploader.methods.setParams({width:n.width,height:n.height,unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e),this.media_to_replace_id=null},n.src=o;const l={id:this._uploader.methods.getUuid(e),name:sanitizeFilename(a),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};this.type.value==="file"&&(this.media_to_replace_id=null),this.loadingMedias.push(l),this.loadingProgress(l)},_onProgressCallback(e,a,o,n){const l=this.loadingMedias.findIndex(r=>r.id===this._uploader.methods.getUuid(e));if(l>=0){const r=this.loadingMedias[l];r.progress=o/n*100||0,r.error=!1,this.loadingProgress(r)}},_onErrorCallback(e,a,o,n){const l=e?this.loadingMedias.findIndex(r=>r.id===this._uploader.methods.getUuid(e)):-1;if(l>=0)this.loadingMedias[l].errorMessage=o,this.loadingError(this.loadingMedias[l]);else{const r={id:e?this._uploader.methods.getUuid(e):Math.floor(Math.random()*1e3),name:sanitizeFilename(a),progress:0,error:!0,errorMessage:o};this.loadingMedias.push(r),this.loadingProgress(r),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback(e,a,o){if(o==="retrying upload"){const n=this.loadingMedias.findIndex(function(l){return l.id===e});if(n>=0){const l=this.loadingMedias[n];l.progress=0,l.error=!1,this.loadingProgress(l)}}},_onTotalProgressCallback(e,a){const o=Math.floor(e/a*100);this.uploadProgress(o)},_onDropError(e,a){console.error(e,a)},_onProcessingDroppedFilesComplete(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted(){this.initUploader();const e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new qq.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeUnmount(){this._qqDropzone&&this._qqDropzone.dispose()}},_hoisted_1$z={class:"uploader"},_hoisted_2$s={class:"uploader__dropzone",ref:"uploaderDropzone"},_hoisted_3$s={class:"uploader__dropzone--desktop"};function _sfc_render$H(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("div",_hoisted_2$s,[createBaseVNode("div",{class:"button",ref:"uploaderBrowseButton"},toDisplayString(e.$trans("uploader.upload-btn-label","Add new")),513),createBaseVNode("div",_hoisted_3$s,toDisplayString(e.$trans("uploader.dropzone-text","or drop new files here")),1)],512)])}const Uploader=_export_sfc(_sfc_main$P,[["render",_sfc_render$H],["__scopeId","data-v-936f2c80"]]),__vite_glob_0_43=Object.freeze(Object.defineProperty({__proto__:null,default:Uploader},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$3}=makeFormatterProps(),_sfc_main$O={props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$3},setup(e,a){return{...useTableIterator(e,a)}},data(){return{isExpanded:!1}},methods:{toggleExpand(){this.isExpanded=!this.isExpanded}}};function _sfc_render$G(e,a,o,n,l,r){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VCard,{onClick:r.toggleExpand,color:"#EBEFF280",variant:"flat",rounded:"l",class:"mr-0 pr-0"},{default:withCtx(()=>[createVNode(VRow,{class:"d-flex align-center pr-0 mr-0 ga-0"},{default:withCtx(()=>[createVNode(VCol,{cols:"11"},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.headerKey].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.headerKey].formatter,e.item[e.iteratorOptions.headerKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1}))]),_:1}),createVNode(VSpacer),createVNode(VIcon,{icon:"mdi-menu-down",class:"pr-3"})]),_:1}),(openBlock(),createBlock(VExpandTransition,{key:e.item.id},{default:withCtx(()=>[l.isExpanded?(openBlock(),createBlock(VCard,{key:0},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.expandedKey].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.expandedKey].formatter,e.item[e.iteratorOptions.expandedKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.expandedKey]),1)]),_:1}))]),_:1})):createCommentVNode("",!0)]),_:1}))]),_:1},8,["onClick"])}const ExpandableIterator=_export_sfc(_sfc_main$O,[["render",_sfc_render$G]]),__vite_glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:ExpandableIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$2}=makeFormatterProps(),_sfc_main$N={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$2},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$y={class:"text-h6"},_hoisted_2$r={key:0},_hoisted_3$r={key:1},_hoisted_4$m={key:2},_hoisted_5$j={class:"d-flex justify-end"};function _sfc_render$F(e,a,o,n,l,r){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VSheet,{border:""},{default:withCtx(()=>[createVNode(VImg,{gradient:"to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, .1), rgba(0, 0, 0, .15)",src:e.headersWithKeys[e.iteratorOptions.imgSrc]??"https://ih1.redbubble.net/image.4905811447.8675/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",height:"150"},null,8,["src"]),createVNode(VListItem,{title:e.item.name,density:"comfortable",lines:"one"},{title:withCtx(()=>[createBaseVNode("strong",_hoisted_1$y,toDisplayString(e.item.name),1)]),_:1},8,["title"]),createVNode(VTable,{class:"data-iterator-table",density:"compact"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersWithKeys,(c,u)=>{var s,f;return openBlock(),createElementBlock("tr",null,[createBaseVNode("th",null,toDisplayString(c.title),1),c.key!=="actions"&&!((s=c.formatter)!=null&&s.length)?(openBlock(),createElementBlock("td",_hoisted_2$r,toDisplayString(e.item[c.key]),1)):c.key!=="actions"&&((f=c.formatter)!=null&&f.length)?(openBlock(),createElementBlock("td",_hoisted_3$r,[(openBlock(),createBlock(i,mergeProps({ref_for:!0},e.handleFormatter(c.formatter,e.item[c.key]),{key:c.key}),null,16))])):c.key==="actions"&&!c.formatter.length?(openBlock(),createElementBlock("td",_hoisted_4$m,[createBaseVNode("div",_hoisted_5$j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(p=>e.itemHasAction(e.item,p)),(p,m)=>(openBlock(),createBlock(VIcon,{ripple:!0,density:"compact",size:"medium",key:m,onClick:y=>e.itemAction(e.item,p),small:"",icon:p.icon??`$${p.name}`},null,8,["onClick","icon"]))),128))])])):createCommentVNode("",!0)])}),256))])]),_:1})]),_:1})}const RichCardIterator=_export_sfc(_sfc_main$N,[["render",_sfc_render$F]]),__vite_glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:RichCardIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$1}=makeFormatterProps(),_sfc_main$M={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$1},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$x={class:"d-flex"},_hoisted_2$q={class:"header"},_hoisted_3$q={key:0,class:"value"},_hoisted_4$l={class:"d-flex"},_hoisted_5$i={class:"header"},_hoisted_6$i={key:0,class:"value"},_hoisted_7$f={key:0,class:"featured"},_hoisted_8$e={key:1};function _sfc_render$E(e,a,o,n,l,r){const i=resolveComponent("ue-recursive-stuff");return openBlock(),createElementBlock(Fragment,null,[createVNode(VCard,{class:"data-iterable-rich-row",variant:"flat",elevation:"0"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1})]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"action-area"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(c=>e.itemHasAction(e.item,c)),(c,u)=>(openBlock(),createBlock(VBtn,{ripple:!0,density:"compact",size:"small",key:u,onClick:s=>e.itemAction(e.item,c)},{default:withCtx(()=>[createVNode(VIcon,{small:"",icon:c.icon??`$${c.name}`},null,8,["icon"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"3",class:"first-column"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.firstColumn,(c,u)=>(openBlock(),createElementBlock("div",_hoisted_1$x,[createBaseVNode("p",_hoisted_2$q,toDisplayString(e.headersWithKeys[c].title),1),e.headersWithKeys[c].formatter.length?(openBlock(),createBlock(i,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[c].formatter,e.item[c]),{key:c}),null,16)):(openBlock(),createElementBlock("p",_hoisted_3$q,toDisplayString(e.item[c]),1))]))),256))]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.secondColumn,(c,u)=>{var s,f;return openBlock(),createElementBlock("div",_hoisted_4$l,[createBaseVNode("p",_hoisted_5$i,toDisplayString(((s=e.headersWithKeys[c])==null?void 0:s.title)??c),1),(f=e.headersWithKeys[c])!=null&&f.formatter.length?(openBlock(),createBlock(i,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[c].formatter,e.item[c]),{key:c}),null,16)):(openBlock(),createElementBlock("p",_hoisted_6$i,toDisplayString(e.item[c]??""),1))])}),256))]),_:1}),createVNode(VCol,{cols:"3",class:"featured"},{default:withCtx(()=>{var c;return[(c=e.headersWithKeys[e.iteratorOptions.featured])!=null&&c.formatter.length?(openBlock(),createBlock(i,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.featured].formatter,e.item[e.iteratorOptions.featured]),{key:e.item[e.iteratorOptions.featured].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_7$f,toDisplayString(e.item[e.iteratorOptions.featured]),1))]}),_:1}),createVNode(VCol,{cols:"3",class:"last-column"},{default:withCtx(()=>[e.headersWithKeys.published.formatter.length?(openBlock(),createBlock(i,mergeProps({key:0},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.lastColumn].formatter,e.item[e.iteratorOptions.lastColumn]),{key:e.item[e.iteratorOptions.lastColumn].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_8$e,toDisplayString(e.item[e.iteratorOptions.lastColumn]),1)),createVNode(VBtn,{variant:"outlined",ripple:!0},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Report")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VDivider)],64)}const RichRowIterator=_export_sfc(_sfc_main$M,[["render",_sfc_render$E]]),__vite_glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:RichRowIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$L={name:"Footer",props:{items:{type:Array,required:!0},show:{type:Boolean,default:!0}},data:function(){return{links:this.items,display:this.show}},created(){}};function _sfc_render$D(e,a,o,n,l,r){return withDirectives((openBlock(),createBlock(VFooter,{dark:"",padless:""},{default:withCtx(()=>[createVNode(VCard,{flat:"",tile:"",class:"indigo lighten-1 white--text text-center"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.links,(i,c)=>(openBlock(),createBlock(VBtn,{key:c,class:"mx-4 white--text",href:i.url,icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"24px"},{default:withCtx(()=>[createTextVNode(toDisplayString(i.icon),1)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),createVNode(VCardText,{class:"white--text pt-0"},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode(" Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. ")])),_:1}),createVNode(VDivider),createVNode(VCardText,{class:"white--text"},{default:withCtx(()=>[createTextVNode(toDisplayString(new Date().getFullYear())+" — ",1),a[1]||(a[1]=createBaseVNode("strong",null,"Vuetify",-1))]),_:1})]),_:1})]),_:1},512)),[[vShow,e.display]])}const Footer=_export_sfc(_sfc_main$L,[["render",_sfc_render$D]]),__vite_glob_2_0=Object.freeze(Object.defineProperty({__proto__:null,default:Footer},Symbol.toStringTag,{value:"Module"})),_sfc_main$K={provide(){return{activeMenu:computed(()=>this.activeMenu)}},setup(){const e=useGoTo();return{...useSidebar(),goTo:e}},props:{items:{type:Array,required:!0},profileMenu:{type:Array,required:!1,default:()=>[]},rating:{type:Number,default:0}},data(){return{dialog:!1,logo:"@/sass/themes/template/main-logo.svg",profileMenuOpen:!1}},mounted(){try{const e=window.$(".sidebar-item-active"),a=e[e.length-1];this.goTo(a,{container:".v-navigation-drawer__content",duration:200,offset:-200,easing:"easeInOutQuad"})}catch(e){console.log(e)}this.profileMenu.length>0&&(this.profileMenuOpen=this.profileMenu.some(e=>e.is_active==1))},methods:{profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})}}},_hoisted_1$w={class:"d-flex align-center position-relatie",style:{}};function _sfc_render$C(e,a,o,n,l,r){const i=resolveComponent("ue-svg-icon"),c=resolveComponent("ue-navigation-group"),u=resolveComponent("ue-logout-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{ref:"navigationDrawer",id:"navigation-drawer",modelValue:e.status,"onUpdate:modelValue":a[3]||(a[3]=s=>e.status=s),rail:e.rail,"expand-on-hover":e.isHoverable,location:e.options.location,railWidth:e.options.railWidth,persistent:e.options.persistent??!1,width:e.width},{prepend:withCtx(()=>[createVNode(VList,{class:"ue-sidebar__info"},{default:withCtx(()=>[createVNode(VListItem,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",subtitle:e.$store.getters.appEmail,title:e.$store.getters.appName,class:"ue-sidebar__info-item"},{prepend:withCtx(()=>[createVNode(VAvatar,{class:"ue-sidebar__avatar",color:"primary"},{default:withCtx(()=>[createVNode(i,{class:"ue-sidebar__logo",symbol:"main-logo-dark"})]),_:1})]),_:1},8,["subtitle","title"])]),_:1}),createBaseVNode("div",_hoisted_1$w,[createVNode(VDivider,{class:"flex-grow-1"}),!e.hasRail&&e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VBtn,{key:0,icon:"",color:"orange",onClick:a[0]||(a[0]=s=>e.railManual=!e.railManual),class:"sidebar-toggle-btn",size:"small",style:{position:"absolute",right:"-20px","z-index":"9999"}},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.rail?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1})):createCommentVNode("",!0)])]),append:withCtx(()=>[e.$store.getters.isGuest?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VDivider),createVNode(VList,{class:""},{default:withCtx(()=>[createVNode(VListItem,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:e.$store.getters.userProfile.name,subtitle:e.$store.getters.userProfile.email,class:"ue-sidebar__info-item"},{prepend:withCtx(s=>[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])]),subtitle:withCtx(()=>[createVNode(VTooltip,{text:e.$store.getters.userProfile.email,location:"top"},{activator:withCtx(s=>[createBaseVNode("div",mergeProps({class:"v-list-item-subtitle"},s.props),toDisplayString(e.$store.getters.userProfile.email),17)]),_:1},8,["text"])]),append:withCtx(()=>[createVNode(VBtn,{onClick:a[1]||(a[1]=s=>l.profileMenuOpen=!l.profileMenuOpen),icon:l.profileMenuOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text"},null,8,["icon"])]),_:1},8,["title","subtitle"]),createVNode(VExpandTransition,null,{default:withCtx(()=>[l.profileMenuOpen?(openBlock(),createBlock(c,{key:0,items:o.profileMenu,profileMenu:!0,onActivateMenu:a[2]||(a[2]=s=>e.handleMenu(s))},null,8,["items"])):createCommentVNode("",!0)]),_:1}),createVNode(u,{csrf:e.$csrf()},{activator:withCtx(({props:s})=>[createVNode(VTooltip,{text:"Logout",location:"top",disabled:!(e.rail&&!e.isHoverable)},{activator:withCtx(f=>[createBaseVNode("div",normalizeProps(guardReactiveProps(f.props)),[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-logout"},s,{disabled:e.$store.getters.isGuest}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040,["disabled"])],16)]),_:2},1032,["disabled"])]),_:1},8,["csrf"]),e.$store.getters.versions&&!e.$store.getters.isGuest&&!e.$store.getters.isClient?(openBlock(),createBlock(VDialog,{key:0,ref:"aboutDialog","max-width":"500"},{activator:withCtx(({props:s})=>[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-information"},s),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("About")),1)]),_:2},1040)]),default:withCtx(({isActive:s})=>[createVNode(VCard,{title:e.$t("About")},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(f,p)=>(openBlock(),createElementBlock("div",{key:p,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(e.$headline(p))+": ",1),createVNode(VChip,{variant:"outlined",color:"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(f),1)]),_:2},1024)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],f=>createBaseVNode("div",{key:f,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(f==="appDebug"?"Debug Mode":e.$headline(f))+": ",1),createVNode(VChip,{variant:"outlined",color:f==="appDebug"?e.$store.getters[f]?"success":"error":"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(f==="appDebug"?e.$store.getters[f]?"Active":"Inactive":e.$store.getters[f]),1)]),_:2},1032,["color"])])),64)):createCommentVNode("",!0)]),_:1}),createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"outlined",text:e.$t("Close"),onClick:f=>s.value=!1},null,8,["text","onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:1},512)):createCommentVNode("",!0)]),_:1})],64)),renderSlot(e.$slots,"bottom")]),default:withCtx(()=>[createVNode(c,{items:o.items,hideIcons:e.hideIcons,showTooltip:e.rail&&!e.isHoverable,id:"ue-sidebar__menu"},null,8,["items","hideIcons","showTooltip"])]),_:3},8,["modelValue","rail","expand-on-hover","location","railWidth","persistent","width"]),e.options.contentDrawer.exists?(openBlock(),createBlock(VNavigationDrawer,{key:0,width:e.width,location:e.options.location,style:{"max-width":"15%"}},null,8,["width","location"])):createCommentVNode("",!0),e.secondaryOptions.exists?(openBlock(),createBlock(VNavigationDrawer,{key:1,location:e.secondaryOptions.location,width:e.width},null,8,["location","width"])):createCommentVNode("",!0)],64)}const Sidebar=_export_sfc(_sfc_main$K,[["render",_sfc_render$C]]),__vite_glob_2_3=Object.freeze(Object.defineProperty({__proto__:null,default:Sidebar},Symbol.toStringTag,{value:"Module"})),_sfc_main$J={name:"Home",data(){return{sidebarItems:[{icon:"fas fa-plus"},{icon:"fas fa-th-large"},{icon:"fas fa-align-center"},{icon:"fas fa-gitter"},{icon:"fas fa-chart-line"}]}},components:{Sidebar}};function _sfc_render$B(e,a,o,n,l,r){const i=resolveComponent("Sidebar");return openBlock(),createBlock(VApp,{id:"inspire",style:normalizeStyle({background:e.$vuetify.theme.themes.dark.background})},{default:withCtx(()=>[createVNode(i,{items:l.sidebarItems},null,8,["items"])]),_:1},8,["style"])}const Home=_export_sfc(_sfc_main$J,[["render",_sfc_render$B]]),__vite_glob_2_1=Object.freeze(Object.defineProperty({__proto__:null,default:Home},Symbol.toStringTag,{value:"Module"})),_sfc_main$I={props:{fixedAppBar:{type:Boolean,default:!1},appBarOrder:{type:Number,default:0},headerTitle:{type:String},hideDefaultSidebar:{type:Boolean,default:!1},navigation:{type:Object,default(){return{sidebar:[{icon:"$package",text:"Packages",action:"",is_active:!1},{icon:"$creditCards",text:"Payments",action:"",is_active:!1},{icon:"$product",text:"Customers",action:"",is_active:!1},{icon:"$users",text:"Users",is_active:!0,items:[{icon:"$users",text:"Show Users",action:"",is_active:!1},{icon:"$userAdd",text:"Add User",action:"",is_active:!1},{icon:"$role",text:"Roles",is_active:!0,items:[{icon:"$permission",text:"Add Permission",action:"",is_active:!0}]}]},{icon:"$check",text:"Settings",action:"",is_active:!1},{icon:"fas fa-plus",text:"Others",action:"",is_active:!1}]}}},impersonation:{type:Object,default(){return{}}},authorization:{type:Object,default(){return{}}}},setup(e,a){const o=useStore(),{shouldUseInertia:n}=useConfig();return{shouldUseInertia:n,loginFormSubmitted:r=>{r.variant==="success"&&(o.commit(ALERT$1.SET_ALERT,{...r}),r.timeout?setTimeout(()=>{n.value,window.location.reload()},r.timeout):(n.value,window.location.reload()))}}},data(){return{loader:null,loading:!1,langs:["tr","en"],footerDisplay:!1,sidebarItem:[{icon:"$package",text:"Packages",action:""},{icon:"$creditCards",text:"Payments",action:""},{icon:"$product",text:"Customers",action:""},{icon:"$users",text:"Users",items:[{icon:"$users",text:"Show Users",action:""},{icon:"$userAdd",text:"Add User",action:""}]},{icon:"$check",text:"Settings",action:""},{icon:"fas fa-plus",text:"Others",action:""}],sidebarItems:this.navigation&&this.navigation.sidebar?this.navigation.sidebar:[],breadcrumbs:this.navigation.breadcrumbs??[],profileMenu:this.navigation.profileMenu??[],sidebarBottom:this.navigation.sidebarBottom??[],footerLinks:[{icon:"mdi-facebook",url:"facebook.com"},{icon:"mdi-twitter",url:"twitter.com"},{icon:"mdi-linkedin",url:"linkedin.com"},{icon:"mdi-instagram",url:"instagram.com"}],showDeleteWarning:!1,showImpersonateToolbar:!1}},computed:{alertDialog:{get(){return this.$store.state.alert.dialog},set(e){this.$store.commit(ALERT$1.SET_DIALOG_SHOW,e)}},alertDialogMessage(){return this.$store.state.alert.dialogMessage}},created(){this.$vuetify.display.mdAndDown&&this.$store.commit(CONFIG.SET_SIDEBAR,!1),this.$store.commit(MEDIA_LIBRARY.SET_ACCESSIBLE,this.authorization&&!this.$lodash.isEmpty(this.authorization)&&!this.authorization.isClient)},mounted(){},methods:{addSidebarItem:function(e){this.$refs.sidebar.addItem({icon:"fa-regular fa-circle-question",text:"New"})},closeAlertDialog(){this.$store.commit(ALERT$1.CLEAR_DIALOG)},profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})}}},_hoisted_1$v={class:"d-flex justify-end mr-4"},_hoisted_2$p={class:"d-flex align-center"},_hoisted_3$p=["value"],_hoisted_4$k={key:0},_hoisted_5$h={class:"d-flex flex-column align-center justify-center"},_hoisted_6$h={class:"modal--tiny-title"},_hoisted_7$e=["innerHTML"],_hoisted_8$d={class:"d-flex align-center"},_hoisted_9$c={class:"d-flex"},_hoisted_10$a={class:"my-3 flex-grow-0"},_hoisted_11$7=["innerHTML"],_hoisted_12$4={class:"text-grey-darken-2 text-caption"};function _sfc_render$A(e,a,o,n,l,r){const i=resolveComponent("ue-navigation-group"),c=resolveComponent("ue-impersonate-toolbar"),u=resolveComponent("ue-sidebar"),s=resolveComponent("ue-modal-media"),f=resolveComponent("ue-modal"),p=resolveComponent("ue-title"),m=resolveComponent("ue-form"),y=resolveComponent("ue-alert"),v=resolveComponent("ue-dynamic-modal"),g=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VApp,{id:"inspire"},{default:withCtx(()=>[e.$store.getters.isHot?(openBlock(),createBlock(VChip,{key:0,color:"green",class:"position-absolute",style:{top:"4px",right:"0","z-index":"10000"},onClick:a[0]||(a[0]=C=>e.$store.state.ambient.isHot=!1)},{default:withCtx(()=>a[11]||(a[11]=[createTextVNode(" Development Mode ")])),_:1})):createCommentVNode("",!0),e.$vuetify.display.mdAndDown||o.fixedAppBar?(openBlock(),createBlock(VAppBar,{key:1,app:"",order:o.appBarOrder},{default:withCtx(()=>[renderSlot(e.$slots,"app-bar",{},()=>[!e.$vuetify.display.lgAndUp&&!o.hideDefaultSidebar?(openBlock(),createBlock(VAppBarNavIcon,{key:0,icon:e.$store.getters.sidebarStatus?"$close":"$menu",onClick:a[1]||(a[1]=C=>e.$toggleSidebar())},null,8,["icon"])):createCommentVNode("",!0),createVNode(VToolbarTitle,{class:"flex-1-1-100 ml-0 text-center"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.headerTitle),1)]),_:1}),createVNode(VSpacer),createBaseVNode("div",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$p,[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])])]),createCommentVNode("",!0)])]),_:3},8,["order"])):createCommentVNode("",!0),o.hideDefaultSidebar?createCommentVNode("",!0):(openBlock(),createBlock(u,{key:2,ref:"sidebar",items:l.sidebarItems,profileMenu:l.profileMenu},{bottom:withCtx(()=>[l.sidebarBottom.length>0?(openBlock(),createBlock(i,{key:0,items:l.sidebarBottom},null,8,["items"])):createCommentVNode("",!0),o.impersonation.active?(openBlock(),createBlock(c,mergeProps({key:1,modelValue:l.showImpersonateToolbar,"onUpdate:modelValue":a[3]||(a[3]=C=>l.showImpersonateToolbar=C)},o.impersonation),null,16,["modelValue"])):createCommentVNode("",!0)]),_:1},8,["items","profileMenu"])),createVNode(VMain,null,{default:withCtx(()=>[renderSlot(e.$slots,"top"),createCommentVNode("",!0),renderSlot(e.$slots,"default"),renderSlot(e.$slots,"bottom")]),_:3}),e.$store.getters.mediaLibraryAccessible?(openBlock(),createBlock(s,{key:3,modelValue:e.$store.state.mediaLibrary.showModal,"onUpdate:modelValue":a[4]||(a[4]=C=>e.$store.state.mediaLibrary.showModal=C)},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(f,{ref:"deleteWarningMediaModal",modelValue:l.showDeleteWarning,"onUpdate:modelValue":a[5]||(a[5]=C=>l.showDeleteWarning=C),transition:"dialog-bottom-transition","width-type":"sm","confirm-text":e.$t("media-library.dialogs.delete.delete-media-confirm"),"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_5$h,[createBaseVNode("p",_hoisted_6$h,[createBaseVNode("strong",null,toDisplayString(e.$t("media-library.dialogs.delete.delete-media-title")),1)]),createBaseVNode("p",{innerHTML:e.$t("media-library.dialogs.delete.delete-media-desc")},null,8,_hoisted_7$e)])]),_:1},8,["modelValue","confirm-text"]),createVNode(f,{ref:"profileDialog",modelValue:e.$store.state.user.profileDialog,"onUpdate:modelValue":a[7]||(a[7]=C=>e.$store.state.user.profileDialog=C),Xwidth:"500",scrollable:""},{body:withCtx(({isActive:C,toggleFullscreen:k,close:b,isFullActive:w})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(p,{padding:"y-3",text:e.$t("Upload Profile Image"),color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_8$d,[createVNode(VIcon,{icon:w?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"default",onClick:S=>k()},null,8,["icon","onClick"]),createVNode(VIcon,{icon:"$close",variant:"plain",color:"grey-darken-5",size:"default",onClick:S=>b()},null,8,["onClick"])])]),_:2},1032,["text"]),createVNode(VDivider)]),_:2},1024),createVNode(VCardText,{Xstyle:"height: 30vh;"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$c,[createBaseVNode("div",_hoisted_10$a,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"100"},null,8,["image"])]),createVNode(m,{class:"flex-grow-1 pl-6",schema:e.$store.state.user.profileShortcutSchema,modelValue:e.$store.state.user.profileShortcutModel,"onUpdate:modelValue":a[6]||(a[6]=S=>e.$store.state.user.profileShortcutModel=S),"action-url":e.$store.state.user.profileRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"","is-editing":"",buttonText:"fields.save",onSubmitted:r.profileFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),createVNode(y,{ref:"alert"},null,512),createVNode(v),createVNode(f,{ref:"dialog",modelValue:r.alertDialog,"onUpdate:modelValue":a[8]||(a[8]=C=>r.alertDialog=C),scrollable:"",transition:"dialog-bottom-transition","width-type":"lg",persistent:""},{body:withCtx(C=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,{class:"text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:r.alertDialogMessage},null,8,_hoisted_11$7)]),_:1}),createVNode(VDivider),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(g,{onClick:r.closeAlertDialog},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(f,{ref:"loginModal",modelValue:e.$store.state.user.showLoginModal,"onUpdate:modelValue":a[10]||(a[10]=C=>e.$store.state.user.showLoginModal=C),scrollable:"",transition:"dialog-bottom-transition","width-type":"sm",persistent:""},{body:withCtx(({isActive:C,toggleFullscreen:k,close:b,isFullActive:w})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(p,{padding:"y-3",color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{default:withCtx(()=>[createBaseVNode("div",null,[createTextVNode(toDisplayString(e.$t("Login"))+" ",1),a[13]||(a[13]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",_hoisted_12$4,toDisplayString(e.$t("Your session has expired, please login again.")),1)])]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(m,{class:"flex-grow-1",schema:e.$store.state.user.loginShortcutSchema,modelValue:e.$store.state.user.loginShortcutModel,"onUpdate:modelValue":a[9]||(a[9]=S=>e.$store.state.user.loginShortcutModel=S),"action-url":e.$store.state.user.loginRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"",buttonText:"fields.login",onSubmitted:n.loginFormSubmitted,titleJustify:"center"},null,8,["schema","modelValue","action-url","onSubmitted"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3})}const Main=_export_sfc(_sfc_main$I,[["render",_sfc_render$A]]),__vite_glob_2_2=Object.freeze(Object.defineProperty({__proto__:null,default:Main},Symbol.toStringTag,{value:"Module"})),_hoisted_1$u={class:"w-100"},_hoisted_2$o={class:"d-flex flex-wrap gc-4"},_hoisted_3$o=["innerHTML"],_hoisted_4$j=["innerHTML"],_hoisted_5$g=["innerHTML"],_hoisted_6$g=["innerHTML"],_hoisted_7$d=["innerHTML"],_hoisted_8$c=["innerHTML"],_hoisted_9$b={class:"d-flex justify-space-between gc-4"},_hoisted_10$9={class:"d-flex justify-space-between gc-4 mt-2"},_hoisted_11$6={class:"d-flex justify-end gc-4"},_sfc_main$H={__name:"Assignment",props:{...makeInputProps(),variant:{type:String,default:"outlined"},density:{type:String,default:"default"},items:{type:Array,default:()=>[]},fetchEndpoint:{type:String,default:null},saveEndpoint:{type:String,default:null},assignableType:{type:String,default:null},assigneeType:{type:String,default:null},authorizedRoles:{type:Array,default:()=>["superadmin","admin"]},minDueDays:{type:Number,default:0},filepond:{type:Object,default:null}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,n=a,{input:l,id:r,boundProps:i}=useInput(o,{emit:n}),{requiredRule:c,minRule:u,futureDateRule:s,dateRule:f,invokeRule:p}=useValidation(o),{t:m,d:y}=useI18n(),v=useDynamicModal(),g=useAuthorization(),C=useAlert(),k=ref(!1),b=ref(!1);ref(o.modelValue),ref([]),ref([]);const w=ref([]),S=ref(!1),T=ref(null),V=ref(!1),A=ref({assignee_id:null,due_at:null,description:null});ref(!1);const I=ref([]),D=ref(!1),M=computed(()=>g.hasRoles(o.authorizedRoles)),N=computed(()=>w.value.length>0?w.value[0]:null),x=computed(()=>w.value.length>0),E=computed(()=>N.value&&g.isYou(N.value.assignee_id));computed(()=>M.value&&E.value);const z=computed(()=>{let $=[];return w.value.reduce((j,q,X)=>{let J=q.assignee_avatar??"",R=g.isYou(q.assigner_id)?m("You"):q.assigner_name,F=g.isYou(q.assignee_id)?m("You"):q.assignee_name,H=`to <span class="text-blue-darken-1">${F}</span> &mdash; by <span class="text-success">${R}</span>`;`${m("Until")}${y(new Date(q.due_at),"medium")}`;let W=`${m("From")}: <span class="">${y(q.created_at?new Date(q.created_at):new Date,"medium")}</span>`,K=`${q.description} </br> </br>`,Y="",Q=null;return Y=`${q.status_interval_description}`,Q=q.status_vuetify_icon,Y+=` ${W}`,K+=Y,j.push({prependAvatar:J,assignerName:R,assigneeName:F,title:H,subtitle:K,subDescription:Y,appendInnerIcon:Q,attachments:q.attachments??[]}),X!==w.value.length-1&&j.push({type:"divider",inset:!0}),j},$)}),B=computed(()=>z.value.length>0?z.value[0]:null);watch$1(()=>w.value,$=>{$&&$.length>0&&(I.value=$[0].attachments??[])});const O=async($,j=null,q=null,X=null)=>{const J=o.saveEndpoint.replace(":id",l.value);return axios$1.post(J,$).then(R=>{j&&j(R)}).catch(R=>{q&&q(R)}).finally(()=>{X&&X()}),!1},U=async()=>{if(l.value){const $=o.fetchEndpoint.replace(":id",l.value);k.value=!0,axios$1.get($).then(j=>{j.status===200&&(w.value=j.data)}).finally(()=>{k.value=!1})}},P=async()=>{if(l.value){const $=await T.value.validate();if(!$||!$.valid)return;const j={...A.value,assignee_type:o.assigneeType,assignable_id:l.value,assignable_type:o.assignableType};b.value=!0,O(j,q=>{q.status===200&&(C.openAlert({message:"You have successfully assigned a task!",location:"top",variant:"success",...q.data}),w.value.unshift(q.data),V.value=!1,nextTick(()=>{A.value={assignee_id:null,due_at:null,description:null}}))},q=>{__log(q)},()=>{b.value=!1})}},L=async $=>l.value!==null?(b.value=!0,await O($,q=>{q.status===200&&(C.openAlert({message:"Assignment updated successfully",...q.data}),q.data.assignments?w.value=q.data.assignments:U(),v.close())},q=>{__log(q)},()=>{b.value=!1})):!1,G=()=>{v.open(null,{modalProps:{widthType:"md",description:m("Are you sure you want to complete this task?"),title:m("Complete Task"),confirmText:m("Yes"),cancelText:m("No"),confirmLoading:b,rejectLoading:b,confirmCallback:async()=>{await L({status:"completed"})}}})};return onMounted(()=>{U()}),($,j)=>{const q=resolveComponent("ue-filepond-preview"),X=resolveComponent("v-input-filepond"),J=resolveComponent("ue-dynamic-component-renderer"),R=resolveComponent("ue-modal"),F=resolveComponent("v-input-date"),H=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VInput,{modelValue:unref(l),"onUpdate:modelValue":j[12]||(j[12]=W=>isRef(l)?l.value=W:null),variant:unref(i).variant,"hide-details":"",class:"v-input-assignment"},{default:withCtx(W=>[createBaseVNode("div",_hoisted_1$u,[k.value?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"list-item-two-line"})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_2$o,[x.value?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"end","Xopen-on-hover":""},{activator:withCtx(({props:K})=>[(E.value||M.value)&&B.value?(openBlock(),createBlock(VList,mergeProps({key:0,id:"assigneeList",items:[{title:$.$t("Assignee"),prependAvatar:B.value.prependAvatar??"",subtitle:B.value.assigneeName}],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee flex-grow-1 flex-shrink-0",color:"primary"},K,{variant:"plain"}),{title:withCtx(({title:Y})=>[createBaseVNode("div",{class:"text-primary font-weight-bold",innerHTML:Y},null,8,_hoisted_3$o)]),subtitle:withCtx(({subtitle:Y})=>[createBaseVNode("div",{class:"font-weight-medium",innerHTML:Y},null,8,_hoisted_4$j)]),_:2},1040,["items"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300","max-width":"500"},{default:withCtx(()=>[createVNode(VList,{id:"assigneeList",items:[B.value],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee"},{title:withCtx(({title:K})=>[createBaseVNode("div",{innerHTML:K},null,8,_hoisted_5$g)]),subtitle:withCtx(K=>[createBaseVNode("div",{innerHTML:B.value.subDescription},null,8,_hoisted_6$g)]),_:1},8,["items"]),createVNode(VDivider),createVNode(VList,{lines:"10"},{default:withCtx(()=>[createVNode(VListItem,{title:$.$t("Description"),subtitle:N.value.description,class:""},{prepend:withCtx(({isSelected:K,select:Y})=>[createVNode(VIcon,{icon:"mdi-information-outline"})]),_:1},8,["title","subtitle"]),M.value&&!E.value&&N.value.attachments&&N.value.attachments.length>0?(openBlock(),createBlock(VListItem,{key:0,title:$.$t("Files"),subtitle:"Files subtitle"},{prepend:withCtx(({isSelected:K,select:Y})=>[createVNode(VIcon,{icon:"mdi-file-outline"})]),subtitle:withCtx(({subtitle:K})=>[createVNode(q,{source:N.value.attachments??[],"show-inline-file-name":"","image-size":"24"},null,8,["source"])]),_:1},8,["title"])):createCommentVNode("",!0)]),_:1}),E.value?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[e.filepond?(openBlock(),createBlock(X,mergeProps({key:0,label:"Files",ref:"inputFilepond"},unref(p)($.$lodash.omit(e.filepond,["type"])),{modelValue:I.value,"onUpdate:modelValue":j[0]||(j[0]=K=>I.value=K),xmodelValue:I.value,"onXupdate:modelValue":j[1]||(j[1]=K=>$.$log("update:modelValue",K)),onLoadingFile:j[2]||(j[2]=K=>D.value=!0),onLoadedFile:j[3]||(j[3]=K=>D.value=!1)}),null,16,["modelValue","xmodelValue"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),createVNode(VDivider),E.value?(openBlock(),createBlock(VCardActions,{key:1},{default:withCtx(()=>[createVNode(VBtn,{variant:"tonal",color:"success",onClick:G},{default:withCtx(()=>j[13]||(j[13]=[createTextVNode(" Complete ")])),_:1}),createVNode(VSpacer),createVNode(VBtn,{color:"primary",variant:"tonal",onClick:j[4]||(j[4]=K=>I.value.length>0&&L({attachments:I.value})),loading:D.value||b.value,disabled:I.value.length<1},{default:withCtx(()=>j[14]||(j[14]=[createTextVNode(" Save ")])),_:1},8,["loading","disabled"])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0),M.value?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VTooltip,{location:"top"},{activator:withCtx(({props:K})=>[createVNode(VBtn,mergeProps({id:"createAssignmentBtn",icon:"mdi-account-reactivate",size:"default",rounded:"",color:"success",density:"compact",class:"flex-grow-0 flex-shrink-1"},K,{disabled:!unref(l)||b.value,loading:b.value,onClick:j[5]||(j[5]=Y=>V.value=!0)}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString($.$t("Assign")),1)]),_:1}),x.value?(openBlock(),createBlock(R,{key:0,modelValue:S.value,"onUpdate:modelValue":j[6]||(j[6]=K=>S.value=K),widthType:"md",transition:"scroll-y-reverse-transition",scrollable:"",height:"450",title:$.$t("Task History"),"has-close-button":"","has-title-divider":"","no-default-body-padding":"","no-actions":""},{activator:withCtx(K=>[createVNode(VTooltip,{location:"top"},{activator:withCtx(Y=>[createVNode(VBtn,mergeProps({id:"showHistoryBtn",icon:"mdi-clipboard-list-outline",size:"default",rounded:"",color:"info",density:"compact",class:"flex-grow-0 flex-shrink-1",disabled:!unref(l)||b.value,loading:b.value},{...K.props,...Y.props}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString($.$t("Show History")),1)]),_:2},1024)]),"body.description":withCtx(()=>[createBaseVNode("div",null,[createVNode(VList,{class:"pb-4 flex-1-0",items:z.value,lines:"ten","item-props":""},{title:withCtx(({title:K})=>[createBaseVNode("div",{innerHTML:K},null,8,_hoisted_7$d)]),subtitle:withCtx(({item:K,subtitle:Y})=>[createBaseVNode("div",{class:"w-100",style:{"word-break":"break-word","white-space":"pre-wrap"},innerHTML:Y},null,8,_hoisted_8$c),K.attachments&&K.attachments.length>0?(openBlock(),createBlock(q,{key:0,class:"my-2",source:K.attachments,"show-inline-file-name":"","image-size":"24"},null,8,["source"])):createCommentVNode("",!0)]),append:withCtx(K=>[createVNode(J,{subject:K.item.appendInnerIcon},null,8,["subject"])]),_:1},8,["items"])])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createVNode(R,{ref:"createFormModal",modelValue:V.value,"onUpdate:modelValue":j[11]||(j[11]=K=>V.value=K),widthType:"md",persistent:"",transition:"scale-transition","validate-on":"submit lazy"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VForm,{id:"createAssignmentForm",ref_key:"createForm",ref:T,class:"d-flex flex-column",onSubmit:withModifiers(P,["prevent"])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$b,[createVNode(VSelect,{modelValue:A.value.assignee_id,"onUpdate:modelValue":j[7]||(j[7]=K=>A.value.assignee_id=K),items:e.items,label:$.label,variant:e.variant,density:"compact","item-title":"name","item-value":"id","return-object":!1,"validate-on":"submit blur",class:"w-50",rules:[unref(c)("classic",1,void 0,"Assignee is required")],required:"","auto-select-first":"exact"},null,8,["modelValue","items","label","variant","rules"]),createVNode(F,{modelValue:A.value.due_at,"onUpdate:modelValue":j[8]||(j[8]=K=>A.value.due_at=K),variant:e.variant,label:$.$t("Due Date"),rules:[unref(c)("classic",1,1,"Pick a due date"),unref(f)(),unref(s)(e.minDueDays,"days")],"validate-on":"submit blur",class:"w-50",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"","show-week":"",required:"",Xmultiple:"4",Ymultiple:"range"},null,8,["modelValue","variant","label","rules"])]),createBaseVNode("div",_hoisted_10$9,[createVNode(VTextarea,{modelValue:A.value.description,"onUpdate:modelValue":j[9]||(j[9]=K=>A.value.description=K),variant:e.variant,label:$.$t("Description"),density:"compact",class:"flex-grow-1",rules:[unref(c)("classic",1,1,"Description is required"),unref(u)(10,"Description must be at least 10 characters")],"validate-on":"input lazy"},null,8,["modelValue","variant","label","rules"])]),createVNode(VDivider),createBaseVNode("div",_hoisted_11$6,[createVNode(H,{class:"mt-4",density:"comfortable",variant:"plain",loading:b.value,onClick:j[10]||(j[10]=K=>V.value=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString($.$t("Cancel")),1)]),_:1},8,["loading"]),createVNode(VBtn,{class:"mt-4",density:"comfortable",type:"submit",loading:b.value,disabled:!unref(l)||b.value},{default:withCtx(()=>[createTextVNode(toDisplayString($.$t("Assign")),1)]),_:1},8,["loading","disabled"])])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))])]),_:1},8,["modelValue","variant"])}}},__vite_glob_3_0=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$H},Symbol.toStringTag,{value:"Module"})),_hoisted_1$t={style:{height:"500px !important"}},_hoisted_2$n={class:"overflow-y-auto",style:{height:"360px"}},_hoisted_3$n={key:2,class:"text-center pa-4"},_hoisted_4$i={class:"d-flex justify-center pa-2"},_sfc_main$G=Object.assign({name:"v-input-browser"},{__name:"Browser",props:{...makeInputProps(),...makeSelectProps(),...makePaginationProps(),rules:{type:[String,Array],default:()=>[]},useFullUrl:{type:Boolean,default:!1},preserveInitialValues:{type:Boolean,default:!0}},emits:[...makeInputEmits,"search"],setup(e,{emit:a}){const o=a,n=e,l=ref(!1),r=ref([]),{rawUrl:i,defaultQueryParameters:c,searchFilterObject:u,searchFieldsFilter:s,queryParameters:f,fullUrl:p,searchModel:m,search:y,itemsLoading:v,elements:g,activePage:C,nextPage:k,activeLastPage:b,setActiveLastPage:w,setItemsLoading:S,setElements:T,appendElements:V,setActivePage:A}=usePagination(n),{VInput:I,id:D,boundProps:M,initialValue:N,input:x}=useInput(n,{emit:o}),E=ref([]),z=ref(null),B=ref(x.value),O=async()=>{if(x.value){let F=n.multiple?N.value:[N.value];n.returnObject&&(F=F.map(H=>H[n.objectIdDefiner??n.itemValue])),E.value=F;try{const H=await axios$1.get(i.value,{params:{...c.value,ids:F}}),W=H.data;n.returnObject?(n.multiple?N.value=W.map(K=>{const Y=N.value.find(Q=>Q[n.objectIdDefiner??n.itemValue]===K[n.itemValue]);return{...Y,...K,[n.itemValue]:Y[n.itemValue]}}):N.value={...x.value,...H.data[0],[n.itemValue]:x.value[n.itemValue]},r.value=N.value,n.preserveInitialValues&&(N.value=cloneDeep(N.value))):(r.value=W,z.value=W.length>0?W[0]:null),T(H.data||[])}catch(H){console.error("Error fetching initial items:",H)}}},U=computed(()=>n.useFullUrl?p.value:i.value),P=computed(()=>n.max?r.value.length<n.max:!0),L=async()=>{if(m.value.trim()){S(!0);try{const F=cloneDeep(E.value);r.value.forEach(Z=>{const ee=n.returnObject?Z[n.objectIdDefiner??n.itemValue]:Z;F.includes(ee)||F.push(ee)});const H={exceptIds:F,...u.value,...C.value>1?{[n.paginationPageKey]:C.value}:{}};n.with||(H.eager=Array.isArray(n.with)?n.with.join(","):n.with),isEmpty(n.appends)||(H.appends=Array.isArray(n.appends)?n.appends.join(","):n.appends);let W=new URLSearchParams(H).toString();const K=await axios$1.get(U.value+"?"+W);w(K.data.resource.last_page||-1);const Q=[...K.data.resource.data||[]],ae=n.objectIdDefiner??n.itemValue;if(n.multiple)N.value.forEach(Z=>{const ee=Q.findIndex(oe=>n.returnObject?oe[n.itemValue]===Z[ae]:oe[n.itemValue]===Z);if(ee===-1)Q.unshift({...n.returnObject?Z:{},[n.itemValue]:n.returnObject?Z[ae]:Z});else{let oe=Q[ee];Q[ee]={...oe,...n.returnObject?Z:{},[n.itemValue]:oe[n.itemValue]}}}),r.value.forEach(Z=>{if(console.log("selectedItem",Z,E.value),n.returnObject&&E.value.includes(Z[ae]))return;if(E.value.includes(Z))return;const ee=Q.findIndex(oe=>n.returnObject?oe[n.itemValue]===Z[ae]:oe[n.itemValue]===Z);if(console.log("foundIndex",ee,Z),ee===-1)Q.unshift({...n.returnObject?Z:{},[n.itemValue]:n.returnObject?Z[ae]:Z});else{let oe=Q[ee];Q[ee]={...oe,...n.returnObject?Z:{},[n.itemValue]:oe[n.itemValue]}}});else{const Z=Q.findIndex(ee=>n.returnObject?ee[n.itemValue]===N.value[ae]:ee[n.itemValue]===N.value);if(Z===-1)Q.unshift({...n.returnObject?N.value:z.value,[n.itemValue]:n.returnObject?N.value[ae]:N.value});else{let ee=Q[Z];Q[Z]={...ee,...n.returnObject?N.value:z.value,[n.itemValue]:ee[n.itemValue]}}}T(Q)}catch(F){console.error("Search error:",F)}finally{S(!1)}}},G=()=>{l.value=!0,g.value.length||O()},$=F=>n.multiple?n.returnObject?r.value.some(H=>H[n.objectIdDefiner??n.itemValue]===F[n.itemValue]):r.value.includes(F[n.itemValue]):n.returnObject?B.value[n.objectIdDefiner??n.itemValue]===F[n.itemValue]:B.value===F[n.itemValue],j=F=>E.value.includes(F[n.itemValue]),q=F=>n.multiple?r.value.some(H=>H[n.objectIdDefiner??n.itemValue]===F[n.itemValue])&&!j(F):r.value===F[n.itemValue]&&!j(F),X=F=>P.value||$(F),J=computed(()=>n.max?`(Max. ${n.max} items)`:""),R=F=>{const H=n.objectIdDefiner??n.itemValue;if(n.multiple){const W=r.value.findIndex(Y=>n.returnObject?Y[H]===F[n.itemValue]:Y===F[n.itemValue]);let K=cloneDeep(r.value);if(W>-1)K.splice(W,1);else{let Y={};n.returnObject&&j(F)&&(Y=N.value.find(Q=>Q[H]===F[n.itemValue])),K.push(n.returnObject?{...omit(F,n.itemValue),...pick(Y,n.objectModelValues),[H]:F[n.itemValue]}:F[n.itemValue])}r.value=K}else r.value.findIndex(K=>K[n.itemValue]===F[n.itemValue])>-1?r.value=[]:r.value=[F]};return watch$1(r,F=>{n.multiple?(x.value=F.map(H=>n.returnObject?n.objectModelValues.includes("*")?H:pick(H,n.objectModelValues):H).sort((H,W)=>H.id?H.id-W.id:0),B.value=F):(x.value=n.returnObject?n.objectModelValues.includes("*")?F[0]:pick(F[0],n.objectModelValues):F.length>0?F[0][n.itemValue]:null,B.value=F.length>0?F[0][n.itemValue]:null)}),watch$1(C,(F,H)=>{F!==H&&L()}),onMounted(()=>{O()}),(F,H)=>{const W=resolveComponent("ue-modal");return openBlock(),createBlock(VInput,{ref:unref(I),modelValue:unref(x),"onUpdate:modelValue":H[4]||(H[4]=K=>isRef(x)?x.value=K:null),class:normalizeClass(["v-input-browser"])},{default:withCtx(K=>[createVNode(VCombobox,mergeProps({modelValue:B.value,"onUpdate:modelValue":H[0]||(H[0]=Y=>B.value=Y)},F.$lodash.pick(unref(M),["variant","density","color","disabled","error","errorMessages","prependIcon","appendIcon","prependInnerIcon","appendInnerIcon","itemTitle","itemValue"]),{"return-object":F.returnObject,clearable:!1,label:F.label,items:unref(g),"append-inner-icon":"mdi-magnify",readonly:"",chips:"","onClick:appendInner":L,onClick:G,onKeyup:withKeys(L,["enter"])}),{selection:withCtx(({item:Y,index:Q})=>[createTextVNode(toDisplayString(F.$log(Y,unref(N),F.modelValue,unref(x)))+" ",1),Y===Object(Y)?(openBlock(),createBlock(VChip,{key:0,color:j(Y)?"green-lighten-3":"blue-lighten-3",text:Y.title,size:"small",variant:"flat",label:""},null,8,["color","text"])):createCommentVNode("",!0)]),_:1},16,["modelValue","return-object","label","items"]),createVNode(W,{modelValue:l.value,"onUpdate:modelValue":H[3]||(H[3]=Y=>l.value=Y),"max-width":"600px",title:`Browse ${J.value}`,descriptionBodyClass:"flex-column",cancelText:F.$t("Cancel"),confirmText:F.$t("Select"),"has-close-button":"","no-actions":""},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_1$t,[createVNode(VTextField,mergeProps({modelValue:unref(m),"onUpdate:modelValue":H[1]||(H[1]=Y=>isRef(m)?m.value=Y:null)},F.$lodash.pick(unref(M),["variant","density","color"]),{onKeyup:withKeys(L,["enter"]),"onClick:appendInner":L,"append-inner-icon":"mdi-magnify"}),null,16,["modelValue"]),createBaseVNode("div",_hoisted_2$n,[unref(v)?(openBlock(),createBlock(VProgressLinear,{key:0,indeterminate:"",color:"primary"})):createCommentVNode("",!0),unref(v)?createCommentVNode("",!0):(openBlock(),createBlock(VList,{key:1,multiple:F.multiple,"select-strategy":"classic"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),Y=>(openBlock(),createBlock(VListItem,{key:`${Y[n.itemValue]}-${X(Y)}`,onClick:Q=>R(Y),disabled:!X(Y)},{prepend:withCtx(()=>[createVNode(VCheckboxBtn,{"model-value":$(Y),onClick:withModifiers(Q=>R(Y),["stop"]),disabled:!X(Y),color:j(Y)?"red-lighten-3":"green-lighten-3"},null,8,["model-value","onClick","disabled","color"])]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(Y[n.itemTitle])+" ",1),j(Y)?(openBlock(),createBlock(VChip,{key:0,color:"red-lighten-3",size:"x-small",class:"ml-2"},{default:withCtx(()=>H[5]||(H[5]=[createTextVNode(" Initial ")])),_:1})):createCommentVNode("",!0),q(Y)?(openBlock(),createBlock(VChip,{key:1,color:"green-lighten-3",size:"x-small",class:"ml-2"},{default:withCtx(()=>H[6]||(H[6]=[createTextVNode(" New ")])),_:1})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["onClick","disabled"]))),128))]),_:1},8,["multiple"])),!unref(v)&&unref(g).length===0?(openBlock(),createElementBlock("div",_hoisted_3$n," No items found ")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$i,[createVNode(VPagination,{modelValue:unref(C),"onUpdate:modelValue":H[2]||(H[2]=Y=>isRef(C)?C.value=Y:null),length:unref(b)},null,8,["modelValue","length"])])])]),_:1},8,["modelValue","title","cancelText","confirmText"])]),_:1},8,["modelValue"])}}}),Browser=_export_sfc(_sfc_main$G,[["__scopeId","data-v-dd353153"]]),__vite_glob_3_1=Object.freeze(Object.defineProperty({__proto__:null,default:Browser},Symbol.toStringTag,{value:"Module"})),_sfc_main$F={props:{modelValue:{type:Object,required:!0},avatarSize:{type:Number,default:50},mobileAvatarSize:{type:Number,default:25},reverse:{type:Boolean,default:!1},updateEndpoint:{type:String,required:!0},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1},contentTruncateLength:{type:Number,default:50}},data(){return{readingTimer:null,isExpanded:!1}},computed:{input:{get(){return this.modelValue},set(e){this.message=e,this.$emit("update:modelValue",e)}},message(){return this.modelValue},isUnread(){return!this.message.is_read&&!this.reverse},truncatedContent(){var e;return this.message.content&&this.message.content.length>this.contentTruncateLength?this.message.content.substring(0,this.contentTruncateLength):((e=this.message)==null?void 0:e.content)??""},formattedContent(){return this.message.content?this.message.content.replace(/\n/g,"<br>"):""},formattedTruncatedContent(){var e,a;return this.message.content.length>this.contentTruncateLength?this.message.content.substring(0,this.contentTruncateLength).replace(/\n/g,"<br>"):((a=(e=this.message)==null?void 0:e.content)==null?void 0:a.replace(/\n/g,"<br>"))??""}},methods:{formatDate(e){let a=window.$moment().fromNow();if(e.created_at){let o=new Date(e.created_at);Date.now()-o.getTime()<48*60*60*1e3?a=window.$moment(o).fromNow():a=this.$d(new Date(e.created_at),"numeric-full")}return a},updateMessage(e,a){let o=this.updateEndpoint.replace(":id",this.input.id),n=this;axios.put(o,{[e]:a}).then(l=>{n.input={...n.input,[e]:a}})},startReading(){this.isUnread&&(this.readingTimer=setTimeout(()=>{this.markAsRead()},1e3))},markAsRead(){this.updateMessage("is_read",!0)},toggleExpand(){this.isExpanded=!this.isExpanded}},beforeUnmount(){this.readingTimer&&clearTimeout(this.readingTimer)}},_hoisted_1$s=["stylex"],_hoisted_2$m={key:0,style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},_hoisted_3$m={class:"d-flex justify-end"},_hoisted_4$h={class:"w-100",style:{color:"#32454A","font-weight":"400","font-size":"12px"}},_hoisted_5$f=["innerHTML"],_hoisted_6$f={key:1},_hoisted_7$c=["innerHTML"],_hoisted_8$b={key:0,class:"mt-1"},_hoisted_9$a=["innerHTML"],_hoisted_10$8={key:0,class:"mt-2 py-1 rounded"};function _sfc_render$z(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex mb-4 w-100",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{style:normalizeStyle([e.$vuetify.display.smAndUp?"max-width: 60%; min-width: 30%;":"max-width: 100%; min-width: 100%;"]),class:normalizeClass(["d-flex bg-grey-lighten-6 elevation-2 px-4 py-3 rounded position-relative",o.reverse?"flex-row-reverse":"flex-row",r.isUnread?"v-input-chat__message--unread":""]),onMouseenter:a[2]||(a[2]=(...u)=>r.startReading&&r.startReading(...u))},[createVNode(VTooltip,{text:r.formatDate(r.message),location:"top"},{activator:withCtx(({props:u})=>[createVNode(VAvatar,mergeProps({size:e.$vuetify.display.smAndUp?o.avatarSize:o.mobileAvatarSize,class:[o.reverse?"ml-3":"mr-3"],image:r.message.user_profile.avatar_url},u),null,16,["size","class","image"])]),_:1},8,["text"]),createBaseVNode("div",{stylex:{width:`calc(50% - ${o.avatarSize}px)`},class:"w-100"},[createBaseVNode("div",{class:normalizeClass(["text-grey text-caption w-100 d-flex justify-space-between",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{class:normalizeClass([e.$vuetify.display.smAndUp?"w-50":"w-75",o.reverse?"text-end":"text-start"])},[e.$vuetify.display.smAndDown?(openBlock(),createElementBlock("div",_hoisted_2$m,toDisplayString(r.formatDate(r.message)),1)):createCommentVNode("",!0),createBaseVNode("div",null,toDisplayString(r.message.user_profile.name),1)],2),createBaseVNode("div",_hoisted_3$m,[o.noStarring?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:r.message.is_starred?"mdi-star":"mdi-star-outline",color:r.message.is_starred?"secondary":"grey",onClick:a[0]||(a[0]=u=>r.updateMessage("is_starred",!r.message.is_starred))},null,8,["icon","color"])),o.noPinning?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:1,icon:r.message.is_pinned?"mdi-pin":"mdi-pin-outline",color:r.message.is_pinned?"primary":"grey",onClick:a[1]||(a[1]=u=>r.updateMessage("is_pinned",!r.message.is_pinned))},null,8,["icon","color"]))])],2),createBaseVNode("div",{class:normalizeClass(["message-content",r.isUnread?"message-content--unread":""])},[createBaseVNode("div",{class:normalizeClass(["d-flex mt-2 text-break",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",_hoisted_4$h,[r.message.content&&r.message.content.length>o.contentTruncateLength?(openBlock(),createElementBlock(Fragment,{key:0},[l.isExpanded?(openBlock(),createElementBlock("div",{key:0,innerHTML:r.formattedContent},null,8,_hoisted_5$f)):(openBlock(),createElementBlock("div",_hoisted_6$f,[createBaseVNode("span",{innerHTML:r.formattedTruncatedContent},null,8,_hoisted_7$c),a[3]||(a[3]=createBaseVNode("span",{class:"text-grey-darken-1"},"...",-1))])),createVNode(VExpandTransition,null,{default:withCtx(()=>[r.message.content&&r.message.content.length>o.contentTruncateLength?(openBlock(),createElementBlock("div",_hoisted_8$b,[createVNode(VBtn,{text:l.isExpanded?e.$t("Show less"):e.$t("Show more"),variant:"plain",size:"small",color:"primary",onClick:r.toggleExpand},null,8,["text","onClick"])])):createCommentVNode("",!0)]),_:1})],64)):(openBlock(),createElementBlock("div",{key:1,innerHTML:r.formattedContent},null,8,_hoisted_9$a))])],2),r.message.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_10$8,[createVNode(i,{text:e.$t("Attachments"),padding:"b-2",type:"caption",color:"none",transform:"none"},null,8,["text"]),createVNode(c,{source:r.message.attachments,"image-size":"24","show-file-name":"","no-overlay":"","show-datex":""},null,8,["source"])])):createCommentVNode("",!0)],2)],8,_hoisted_1$s)],38)],2)}const ChatMessage=_export_sfc(_sfc_main$F,[["render",_sfc_render$z]]),_sfc_main$E={name:"v-input-emojis",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","emoji-selected"],data(){return{emojiList:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","💌","💘","💝","💖","💗","💓","💞","💕","💟","❣️","💔","❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💯","💢","💥","💫","💦","💨","🕳️","💬","🗨️","🗯️","💭","💤","👋","🤚","🖐️","✋","🖖","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🤝","🙏","✍️","💪","🦾","🦿","🦵","🦶","👂","🦻","👃","🧠","🫀","🫁","🦷","🦴","👀","👁️","👅","👄","💋","🩸"]}},computed:{showEmojiPicker:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{openEmojiPicker(){this.showEmojiPicker=!0},closeEmojiPicker(){this.showEmojiPicker=!1},selectEmoji(e){this.$emit("emoji-selected",e),this.closeEmojiPicker()}}},_hoisted_1$r={class:"emoji-grid"};function _sfc_render$y(e,a,o,n,l,r){return openBlock(),createElementBlock("div",null,[createVNode(VDialog,{modelValue:r.showEmojiPicker,"onUpdate:modelValue":a[0]||(a[0]=i=>r.showEmojiPicker=i),width:"400","max-width":"90vw"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex justify-space-between align-center"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select Emoji"))+" ",1),createVNode(VBtn,{icon:"mdi-close",variant:"text",size:"small",onClick:r.closeEmojiPicker},null,8,["onClick"])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.emojiList,i=>(openBlock(),createBlock(VBtn,{key:i,variant:"text",size:"small",class:"emoji-btn",onClick:c=>r.selectEmoji(i)},{default:withCtx(()=>[createTextVNode(toDisplayString(i),1)]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Emojis=_export_sfc(_sfc_main$E,[["render",_sfc_render$y]]),__vite_glob_3_10=Object.freeze(Object.defineProperty({__proto__:null,default:Emojis},Symbol.toStringTag,{value:"Module"})),_sfc_main$D={name:"v-input-chat",emits:[...makeInputEmits],components:{ChatMessage,Emojis},props:{...makeInputProps(),subtitle:{type:String,default:null},color:{type:String},disabled:{type:Boolean,default:!1},height:{type:String,default:"50vh"},background:{type:String},elevation:{type:Number,default:2},density:{type:String,default:"comfortable"},variant:{type:String,default:"plain"},endpoints:{type:Object,default:()=>({})},perPage:{type:Number,default:-1},initialPage:{type:Number,default:1},filepond:{type:Object,default:null},noSendAction:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},dialogHeight:{type:String,default:"80vh"},bodyHeight:{type:String,default:null},loadMoreText:{type:String,default:null},refreshTime:{type:Number,default:1e4},inputVariant:{type:String,default:"outlined"},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1},contentTruncateLength:{type:Number,default:50},noDivider:{type:Boolean,default:!1},noTab:{type:Boolean,default:!1},noEmoji:{type:Boolean,default:!1},maxMessageboxRows:{type:Number,default:5}},setup(e,a){const{invokeRule:o}=useValidation();return{...useInput(e,a),invokeRule:o}},data:function(){return{message:"",messages:[],loading:!0,loadingAttachment:!1,page:this.initialPage,lastPage:1,dialogOpen:!1,textareaRows:1,attachments:[],uploadedAttachments:[],uploadedAttachmentsDialog:!1,refreshInterval:null,pinnedMessage:null,showEmojiPicker:!1,pinnedMessageExpanded:!1}},computed:{currentUser(){return this.$store.getters.userProfile},formattedMessages(){return this.formatMessages(this.messages)},noRemainingItems(){return!this.loading&&this.perPage>-1&&this.page===this.lastPage},showLoadMoreButton(){return!this.noRemainingItems&&this.perPage>-1},isInfiniteScrollable(){return this.perPage>-1},isMessageEmpty(){return!this.message||!this.message.trim()},isSendButtonDisabled(){const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();return this.loading||this.loadingAttachment||!e&&!a},sendButtonIcon(){if(this.isSendButtonDisabled)return"mdi-send-lock";const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();return e||a?"mdi-send-check":"mdi-send"},calculatedBodyHeight(){let e=0,a="";if(this.pinnedMessage&&(e+=this.$jquery("#PinnedMessage").outerHeight(!0)),this.textareaRows>0){const o=this.$jquery("#messageBox").height();console.log(o),e+=this.textareaRows*20}return e>0&&(a=` - ${e}px`),this.bodyHeight?`calc(${this.bodyHeight}${a})`:`calc(${this.height}*0.65${a})`}},watch:{messages:{handler(e){this.pinnedMessage=e.find(a=>a.is_pinned),this.pinnedMessage||this.fetchPinnedMessage()},deep:!0},attachments:{handler(e){e&&e.length>0&&e.every(o=>{const n=o.serverId,l=o.preview||o.dataURL,r=o.source,i=o.status==="success"||o.status==="complete";return n||l||r||i})&&this.loadingAttachment&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},deep:!0},message:{handler(e){if(e.includes(`
`)){const a=(e.match(/\n/g)||[]).length;this.textareaRows=a>this.maxMessageboxRows?this.maxMessageboxRows:a}else this.textareaRows=1}}},methods:{togglePinnedMessageExpand(){this.pinnedMessageExpanded=!this.pinnedMessageExpanded},scrollEndInfiniteScroll(){this.$nextTick(()=>{const e=this.$refs.infiniteScroll.$el;e.scrollTop=e.scrollHeight})},formatMessage(e){return e={user_profile:this.$lodash.cloneDeep(this.currentUser),attachments:[],reverse:!1,loading:!1,...e},e.user_profile.id===this.currentUser.id&&(e.reverse=!0,e.is_read=!0,e.user_profile.name=this.$t("You")),e},formatMessages(e){return e.sort((a,o)=>new Date(a.created_at)-new Date(o.created_at)).map(a=>this.formatMessage(a))},loadMessages(e){const a=this.endpoints.index.replace(":id",this.input);let o={};this.perPage!==-1&&(o.page=this.page,o.perPage=this.perPage),this.loading=!0,axios.get(a,{params:o}).then(n=>{if(n.status===200)if(this.perPage>-1){const l=n.data.total;this.lastPage=n.data.last_page,this.page=n.data.current_page,this.messages=[...n.data.data,...this.messages],l!==0?e&&(this.page===this.lastPage?e("empty"):e("ok")):e&&e("empty")}else this.messages=this.formatMessages(n.data),e("empty")}).finally(()=>{this.loading=!1,(!this.isInfiniteScrollable||this.page===1)&&this.scrollEndInfiniteScroll()})},loadMoreMessages({done:e}){this.page++,this.loadMessages(e)},addMessage(e){return this.messages.push(e)-1},unpinMessage(e){let a=this.endpoints.update.replace(":id",e.id),o=this,n=this.messages.findIndex(l=>l.id===e.id);axios.put(a,{is_pinned:!1}).then(l=>{o.messages[n]={...o.messages[n],is_pinned:!1}})},findMessageByTempId(e){return this.messages.findIndex(a=>a.tempId===e)},updateMessageByTempId(e,a){this.messages=this.messages.filter(n=>n.id!==a.id);const o=this.findMessageByTempId(e);o!==-1&&(this.messages[o]={...this.messages[o],...a})},sendMessage(){const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();if(!e&&!a)return;const o=this.endpoints.store.replace(":id",this.input),n={loading:!0,content:this.message,tempId:Date.now(),attachments:[...this.attachments]};let l=n.tempId;this.addMessage(n),this.loading=!0;const r={content:this.message,attachments:this.attachments};axios.post(o,r).then(i=>{if(i.status===200){let c=i.data;c.loading=!1,this.updateMessageByTempId(l,c),this.message="",this.attachments=[]}}).catch(i=>{var c,u;console.error("Error sending message:",i),console.error("Request payload was:",r),console.error("Response data:",(c=i.response)==null?void 0:c.data),this.updateMessageByTempId(l,{loading:!1,error:!0}),((u=i.response)==null?void 0:u.status)===500&&console.error("Server error - this might be a backend validation issue")}).finally(()=>{this.loading=!1,this.scrollEndInfiniteScroll(),this.$nextTick(()=>{this.$refs.messageBox&&this.$refs.messageBox.focus()})})},getAttachments(){const e=this.endpoints.attachments.replace(":id",this.input);axios.get(e).then(a=>{this.uploadedAttachments=a.data})},fetchPinnedMessage(){const e=this.endpoints.pinnedMessage.replace(":id",this.input);axios.get(e).then(a=>{a.status===200&&a.data&&Object.keys(a.data).length>0&&(this.pinnedMessage=a.data)})},refreshMessages(){const e=this.endpoints.index.replace(":id",this.input);let a=new Date().toISOString();if(this.messages.length){let o=this.messages.filter(n=>!!n.created_at).sort((n,l)=>new Date(l.created_at)-new Date(n.created_at))[0];o&&o.created_at&&(a=o.created_at)}axios.get(e,{params:{from:a,user_id:this.currentUser.id}}).then(o=>{o.status===200&&o.data.length>0&&(this.messages=[...this.messages,...o.data],this.getAttachments()),o.status===401&&(clearInterval(this.refreshInterval),this.refreshInterval=null)})},handleEnterKey(e){e.shiftKey||(e.preventDefault(),this.sendMessage())},handleTabKey(e){if(this.noTab)return;e.preventDefault();const a=e.target,o=a.selectionStart,n=a.selectionEnd,l=this.message.substring(0,o)+"	"+this.message.substring(n);this.message=l,this.$nextTick(()=>{a.selectionStart=a.selectionEnd=o+1})},updatedMessage(e){let a=[...this.messages],o=a.findIndex(l=>l.id===e.id);if(this.messages[o].is_pinned!==e.is_pinned)if(e.is_pinned){let l=this.pinnedMessage;if(this.pinnedMessage=e,l){let r=a.findIndex(i=>i.id===l.id);r!==-1&&(a[r]={...a[r],is_pinned:!1})}}else this.pinnedMessage=null;o!==-1&&(a[o]={...a[o],...e}),this.messages=a},insertEmoji(e){const a=this.$refs.messageBox;if(a){const o=a.selectionStart,n=a.selectionEnd,l=this.message.substring(0,o)+e+this.message.substring(n);this.message=l,this.$nextTick(()=>{a.selectionStart=a.selectionEnd=o+e.length,a.focus()})}this.showEmojiPicker=!1},openEmojiPicker(){this.showEmojiPicker=!0},removeAttachment(e){this.attachments.splice(e,1)},handleLoadingFile(e){this.loadingAttachment=!0,setTimeout(()=>{this.loadingAttachment&&(this.loadingAttachment=!1)},5e3)},handleFileSelected(){this.loadingAttachment=!0},handleAttachmentClick(){this.$refs.inputFilepond.browse(),this.detectFilePickerCancellation()},detectFilePickerCancellation(){setTimeout(()=>{this.attachments.length===0&&this.loadingAttachment&&(this.loadingAttachment=!1)},1e3)},handleModelValueUpdate(e){e&&e.length>0&&this.attachments.length<e.length&&(this.loadingAttachment=!0),this.$log("update:modelValue",e)},handleFileLoaded(e){(e.serverId||e.status==="success")&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},handleFileProcessing(e){this.loadingAttachment=!0},handleFileProcessed(e){(e.serverId||e.status==="success")&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},handleFileError(e){this.loadingAttachment=!1},handleAddFile(e){this.loadingAttachment=!0},handleRemoveFile(e){this.attachments.length===0&&(this.loadingAttachment=!1)},handleFileRevert(e){console.log("File reverted:",e)},handleFieldFocus(){if(this.message.includes(`
`)){let e=(this.message.match(/\n/g)||[]).length;this.textareaRows=e>this.maxMessageboxRows?this.maxMessageboxRows:e}else this.textareaRows=1},handleFieldBlur(){setTimeout(()=>{var a,o;const e=(o=(a=this.$refs.messageBox)==null?void 0:a.$el)==null?void 0:o.closest(".v-input");e&&(e.querySelector(":focus")||(this.textareaRows=1))},100)},focusOnTextarea(){this.$refs.messageBox&&this.$refs.messageBox.focus()}},mounted(){this.input&&this.input>-1&&(this.loadMessages(),this.getAttachments(),this.refreshInterval=setInterval(()=>{this.refreshMessages()},this.refreshTime))},beforeUnmount(){clearInterval(this.refreshInterval),this.refreshInterval=null,this.input&&this.input>-1}},_hoisted_1$q={class:"w-100 d-flex justify-end"},_hoisted_2$l={class:"d-flex w-100 justify-end"},_hoisted_3$l={key:0},_hoisted_4$g=["innerHTML"],_hoisted_5$e={key:1},_hoisted_6$e=["innerHTML"],_hoisted_7$b={class:"flex-grow-0"},_hoisted_8$a={key:0,class:"d-flex align-center mr-2"},_hoisted_9$9={class:"text-h5 mb-3 text-primary font-weight-medium"},_hoisted_10$7={class:"text-body-1 text-medium-emphasis mb-4"};function _sfc_render$x(e,a,o,n,l,r){const i=resolveComponent("v-input-chat"),c=resolveComponent("ue-title"),u=resolveComponent("ue-filepond-preview"),s=resolveComponent("ChatMessage"),f=resolveComponent("v-input-filepond"),p=resolveComponent("Emojis");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[9]||(a[9]=m=>e.input=m),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-chat"},{default:withCtx(m=>[createVNode(VCard,{class:normalizeClass(["w-100",[!o.noBackground&&o.background?`bg-${o.background}`:"",o.disabled?"bg-grey-lighten-4":""]]),variant:o.variant,elevation:o.elevation,color:o.color,heightx:o.height,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardTitle,{class:"w-100 py-4 text-wrap"},{default:withCtx(()=>[createVNode(c,{text:e.label,align:"center",padding:"a-0",transform:"none",class:"w-100",type:"body-1",color:"grey-darken-4",weight:"medium"},{rightX:withCtx(()=>[createBaseVNode("div",_hoisted_1$q,[renderSlot(e.$slots,"actions",{},()=>[o.perPage!==-1?(openBlock(),createBlock(VDialog,{key:0,width:"70%",height:o.dialogHeight,modelValue:e.dialogOpen,"onUpdate:modelValue":a[1]||(a[1]=y=>e.dialogOpen=y)},{activator:withCtx(({props:y})=>[createVNode(VBtn,mergeProps({variant:"elevated",density:"comfortable"},y,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{text:withCtx(()=>[createVNode(i,{label:e.$t("All Messages"),background:o.background,modelValue:e.input,endpoints:o.endpoints,perPage:10,density:o.density,noSendAction:!1,elevation:0,"body-height":`calc(${o.dialogHeight} * 0.60)`,height:`calc(${o.dialogHeight} * 0.80)`,noStarring:o.noStarring,noPinning:o.noPinning},{actions:withCtx(()=>[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[0]||(a[0]=y=>e.dialogOpen=!1)})]),_:1},8,["label","background","modelValue","endpoints","density","body-height","height","noStarring","noPinning"])]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),e.uploadedAttachments.length>0?(openBlock(),createBlock(VDialog,{key:1,width:"70%",height:o.dialogHeight,modelValue:e.uploadedAttachmentsDialog,"onUpdate:modelValue":a[3]||(a[3]=y=>e.uploadedAttachmentsDialog=y)},{activator:withCtx(({props:y})=>[createVNode(VBtn,mergeProps({variant:"outlined",density:"comfortable"},y,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All Attachments")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{default:withCtx(()=>[createVNode(c,{text:e.$t("Attachments"),align:"center",transform:"none",padding:"x-4",class:"w-100 pt-2",color:"grey-darken-5"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$l,[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[2]||(a[2]=y=>e.uploadedAttachmentsDialog=!1)})])]),_:1},8,["text"]),createVNode(VDivider,{class:"mx-4"}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VInfiniteScroll,{height:`calc(${o.dialogHeight} * 0.75)`},{loading:withCtx(()=>a[10]||(a[10]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.uploadedAttachments,y=>(openBlock(),createBlock(u,{class:"my-2",source:y,"image-size":"24","show-file-name":"","max-file-name-length":"70","no-overlay":"","show-date":""},null,8,["source"]))),256))]),_:1},8,["height"])]),_:1})]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),createVNode(VBtn,{variant:"elevated",density:"comfortable",onClick:r.sendMessage},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Confirm")),1)]),_:1},8,["onClick"])])])]),_:3},8,["text"]),o.subtitle?(openBlock(),createBlock(c,{key:0,text:e.$t(o.subtitle),align:"center",transform:"none",padding:"a-0",type:"caption",weight:"regular",color:"grey-darken-4",l:""},null,8,["text"])):createCommentVNode("",!0),o.noDivider?createCommentVNode("",!0):(openBlock(),createBlock(VDivider,{key:1,class:"mt-2"})),e.pinnedMessage?(openBlock(),createBlock(VList,{key:2,id:"PinnedMessage",elevation:"3",class:"bg-grey-lighten-4 mx-n4",style:{"z-index":"1000",height:"92px"},items:[{title:e.pinnedMessage.content,subtitle:e.pinnedMessage.created_at?e.$d(new Date(e.pinnedMessage.created_at),"short"):"",prepend:e.pinnedMessage.user_profile.avatar_url}],lines:"two",prependIcon:"mdi-pin","item-props":""},{title:withCtx(({title:y})=>[e.pinnedMessageExpanded||y.length<20?(openBlock(),createElementBlock("div",_hoisted_3$l,[createBaseVNode("span",{class:"text-wrap",innerHTML:y},null,8,_hoisted_4$g),y.length>=20?(openBlock(),createBlock(VBtn,{key:0,density:"compact",variant:"plain",size:"x-small",onClick:r.togglePinnedMessageExpand},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show less")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_5$e,[createBaseVNode("span",{class:"text-wrap",innerHTML:y.slice(0,20)},null,8,_hoisted_6$e),a[11]||(a[11]=createBaseVNode("span",{class:"text-grey-darken-1"},"...",-1)),createVNode(VBtn,{variant:"plain",size:"small",onClick:r.togglePinnedMessageExpand},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show more")),1)]),_:1},8,["onClick"])]))]),prepend:withCtx(y=>[createVNode(VIcon,{size:"small",color:"primary",class:"mr-2",style:{transform:"rotate(325deg)"},onClick:a[4]||(a[4]=v=>r.unpinMessage(e.pinnedMessage))},{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("mdi-pin")])),_:1}),createVNode(VTooltip,{text:e.pinnedMessage.user_profile.name,location:"top"},{activator:withCtx(({props:v})=>[createVNode(VAvatar,mergeProps({image:y.item.prepend,size:"24"},v),null,16,["image"])]),_:2},1032,["text"])]),_:1},8,["items"])):createCommentVNode("",!0)]),_:3}),createVNode(VCardText,{class:"mr-n2 mb-n4 mt-n4 pb-0"},{default:withCtx(()=>[createVNode(VInfiniteScroll,{ref:"infiniteScroll",height:r.calculatedBodyHeight,mode:"manual",side:"start",onLoad:r.loadMoreMessages,"load-more-text":o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")},{"load-more":withCtx(({props:y})=>[r.showLoadMoreButton?(openBlock(),createBlock(VBtn,mergeProps({key:0,variant:"outlined"},y),{default:withCtx(()=>[createTextVNode(toDisplayString(o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")),1)]),_:2},1040)):createCommentVNode("",!0)]),empty:withCtx(({props:y})=>a[13]||(a[13]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.formattedMessages,(y,v)=>(openBlock(),createElementBlock("div",{key:v,class:"v-input-chat__messages"},[renderSlot(e.$slots,"message",{message:y,index:v},()=>[createVNode(s,{class:normalizeClass(["v-input-chat__message",y.loading?"v-input-chat__message--loading":""]),modelValue:y,"onUpdate:modelValue":g=>r.updatedMessage(g,v),reverse:y.reverse,updateEndpoint:o.endpoints.update,noStarring:o.noStarring,noPinning:o.noPinning,contentTruncateLength:o.contentTruncateLength},null,8,["class","modelValue","onUpdate:modelValue","reverse","updateEndpoint","noStarring","noPinning","contentTruncateLength"])])]))),128))]),_:3},8,["height","onLoad","load-more-text"])]),_:3}),o.filepond?(openBlock(),createBlock(f,mergeProps({key:0,ref:"inputFilepond",class:"d-none"},n.invokeRule(e.$lodash.omit(o.filepond,["type","rules","rawRules"])),{modelValue:e.attachments,"onUpdate:modelValue":a[5]||(a[5]=y=>e.attachments=y),xmodelValue:e.attachments,"onXupdate:modelValue":r.handleModelValueUpdate,onLoadingFile:r.handleLoadingFile,onLoaded:r.handleFileLoaded,onProcessing:r.handleFileProcessing,onProcessed:r.handleFileProcessed,onError:r.handleFileError,onRevert:r.handleFileRevert,onAddfile:r.handleAddFile,onRemovefile:r.handleRemoveFile}),{activator:withCtx(y=>a[14]||(a[14]=[])),_:1},16,["modelValue","xmodelValue","onXupdate:modelValue","onLoadingFile","onLoaded","onProcessing","onProcessed","onError","onRevert","onAddfile","onRemovefile"])):createCommentVNode("",!0),o.noSendAction?createCommentVNode("",!0):(openBlock(),createBlock(VCardActions,{key:1,class:"bg-surface",id:"messageBox"},{default:withCtx(()=>[renderSlot(e.$slots,"sending",{},()=>[createVNode(VTextarea,{_class:"position-absolute bg-surface px-4 pb-4",style:{bottom:"0",left:"0",right:"0","z-index":"1000"},ref:"messageBox",modelValue:e.message,"onUpdate:modelValue":a[6]||(a[6]=y=>e.message=y),variant:o.inputVariant,disabled:e.loading,"hide-details":"",placeholder:"Type here...",density:"compact","onClick:append":r.sendMessage,onKeydown:[withKeys(r.handleEnterKey,["enter"]),withKeys(r.handleTabKey,["tab"])],onFocus:r.handleFieldFocus,onBlur:r.handleFieldBlur,rows:e.textareaRows},createSlots({"append-inner":withCtx(()=>[e.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_8$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.attachments,(y,v)=>(openBlock(),createElementBlock("div",{key:y.id||v,class:"attachment-preview-wrapper position-relative mr-1"},[createVNode(VBtn,{icon:"mdi-close",size:"x-small",variant:"text",color:"error",class:"attachment-delete-btn",onClick:g=>r.removeAttachment(v)},null,8,["onClick"]),createVNode(u,{source:[y],"image-size":"32"},null,8,["source"])]))),128))])):createCommentVNode("",!0),o.noEmoji?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,disabled:e.loadingAttachment,color:o.color,size:e.$vuetify.display.smAndUp?"default":"small",icon:"mdi-emoticon-outline",density:"compact",onClick:r.openEmojiPicker,onFocus:r.handleFieldFocus,onBlur:r.handleFieldBlur},null,8,["disabled","color","size","onClick","onFocus","onBlur"])),createVNode(VBtn,{color:o.color,size:e.$vuetify.display.smAndUp?"default":"small",icon:"mdi-paperclip",density:"compact",onClick:r.handleAttachmentClick,onFocus:r.handleFieldFocus,onBlur:r.handleFieldBlur},null,8,["color","size","onClick","onFocus","onBlur"]),createVNode(VBtn,{variant:"elevated",density:"compact",icon:r.sendButtonIcon,size:e.$vuetify.display.smAndUp?"small":"x-small",disabled:r.isSendButtonDisabled,onClick:r.sendMessage,onFocus:r.handleFieldFocus,onBlur:r.handleFieldBlur},null,8,["icon","size","disabled","onClick","onFocus","onBlur"])]),_:2},[e.$vuetify.display.smAndUp?{name:"prepend",fn:withCtx(()=>[createBaseVNode("div",_hoisted_7$b,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"40"},null,8,["image"])])]),key:"0"}:void 0]),1032,["modelValue","variant","disabled","onClick:append","onKeydown","onFocus","onBlur","rows"])])]),_:3}))]),_:3},8,["variant","elevation","class","color","heightx","disabled"]),o.noEmoji?createCommentVNode("",!0):(openBlock(),createBlock(p,{key:0,modelValue:e.showEmojiPicker,"onUpdate:modelValue":a[7]||(a[7]=y=>e.showEmojiPicker=y),disabled:e.loadingAttachment,onEmojiSelected:r.insertEmoji},null,8,["modelValue","disabled","onEmojiSelected"])),createVNode(VDialog,{modelValue:e.loadingAttachment,"onUpdate:modelValue":a[8]||(a[8]=y=>e.loadingAttachment=y),persistent:"",width:"400","max-width":"90vw",transition:"dialog-bottom-transition","retain-focus":!1},{default:withCtx(()=>[createVNode(VCard,{class:"upload-modal-card"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center pa-8"},{default:withCtx(()=>[createVNode(VProgressCircular,{size:64,width:6,color:"primary",indeterminate:"",class:"mb-6"}),createBaseVNode("div",_hoisted_9$9,toDisplayString(e.$t("Uploading Attachment")),1),createBaseVNode("div",_hoisted_10$7,toDisplayString(e.$t("Please wait while your file is being processed...")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3},8,["modelValue","variant"])}const Chat=_export_sfc(_sfc_main$D,[["render",_sfc_render$x]]),__vite_glob_3_2=Object.freeze(Object.defineProperty({__proto__:null,default:Chat},Symbol.toStringTag,{value:"Module"})),_sfc_main$C={name:"v-input-checkbox-card",emits:[...makeInputEmits],props:{...makeInputProps(),title:{type:String,required:!0},description:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},value:{type:[Number,String],default:null},activeColor:{type:String,default:null},activeTitleColor:{type:String,default:null},checkboxColor:{type:String,default:"primary"},stats:{type:Array,default:null,validator:e=>e===null||e.every(a=>"label"in a&&"value"in a&&(!("color"in a)||typeof a.color=="string"))},checkboxOnRight:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data(){return{input_:!1}},methods:{toggleSelection(){!this.disabled&&!this.readonly&&(this.input.includes(this.value)?this.input=this.input.filter(e=>e!==this.value):this.input=[...this.input,this.value])}}};function _sfc_render$w(e,a,o,n,l,r){return openBlock(),createBlock(VInput,{modelValue:e.input[o.value],"onUpdate:modelValue":a[2]||(a[2]=i=>e.input[o.value]=i),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-checkbox-card",readonly:o.readonly},{default:withCtx(i=>[createVNode(VCard,{class:normalizeClass(["v-input-checkbox-card__item border border-sm border-opacity-75",e.input.includes(o.value)?"border-primary":"border-grey-lighten-4",o.disabled?"v-input-checkbox-card__item--disabled":""]),variant:e.input.includes(o.value)?"elevated":"outlined",onClick:r.toggleSelection,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardItem,null,createSlots({append:withCtx(()=>[o.checkboxOnRight?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=c=>e.input=c),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(["v-input-checkbox-card__title",e.input.includes(o.value)?`border-primary ${o.activeTitleColor?`text-${o.activeTitleColor}`:""}`:"",e.input.includes(o.value)?`v-input-checkbox-card__title--selected ${o.activeTitleColor?`text-${o.activeTitleColor}`:""}`:""])},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"])]),_:2},[o.checkboxOnRight?void 0:{name:"prepend",fn:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=c=>e.input=c),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])]),key:"0"}]),1024),o.description?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(o.description),1)]),_:1})):createCommentVNode("",!0),o.stats?(openBlock(),createBlock(VCardText,{key:1},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.stats,(c,u)=>(openBlock(),createBlock(VCol,{key:u,cols:12/o.stats.length,class:"text-center"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["text-h4 font-weight-bold",`text-${c.color||"primary"}`])},toDisplayString(c.value),3),createBaseVNode("div",{class:normalizeClass(`text-body-2 text-${c.color||"primary"}`)},toDisplayString(c.label),3)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1},8,["class","variant","onClick","disabled"])]),_:1},8,["modelValue","variant","readonly"])}const CheckboxCard=_export_sfc(_sfc_main$C,[["render",_sfc_render$w]]),__vite_glob_3_3=Object.freeze(Object.defineProperty({__proto__:null,default:CheckboxCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$B={name:"v-input-checklist",emits:[...makeInputEmits],props:{...makeInputProps(),color:{type:String,default:null},labelColor:{type:String,default:"grey-darken-1"},labelFontSize:{type:String,default:"0.825rem"},subtitleColor:{type:String,default:"grey-darken-1"},activeTextColor:{type:String,default:null},checkboxColor:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},subtitle:{type:String,default:null},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},items:{type:Array,default:()=>[]},orderBy:{type:String,default:null},orderByDirection:{type:String,default:"asc"},isTreeview:{type:Boolean,default:!1},chunkCharacter:{type:String,default:"_"},chunkTitleKey:{type:String,default:"name"},chunkField:{type:String,default:null},truncateItemLabel:{type:Boolean,default:!1},flexColumn:{type:Boolean,default:!0},checkboxHighlighted:{type:Boolean,default:!1},checkboxHighlightedColor:{type:String,default:"grey-lighten-5"},checkboxPosition:{type:String,default:"right"},checkboxCol:{type:Object,default:()=>({cols:3,sm:6,md:4,lg:3})},noGroupAllSelectable:{type:Boolean,default:!1},hasGroupBottomDivider:{type:Boolean,default:!0},openAllGroups:{type:Boolean,default:!1},closeAllGroups:{type:Boolean,default:!1},rawRules:{type:[String,Array],default:null},max:{type:[Number,String],default:null},mandatory:{type:String,default:null},isCard:{type:Boolean,default:!1},cardStats:{type:Array,default:()=>[]},groupExpandTitleProps:{type:Object,default:()=>({})},groupExpandGap:{type:String,default:"4"}},setup(e,a){const o=computed(()=>{var s;let u=e.max;return window.__isString(u)?u=parseInt(u):!u&&window.__isString(e.rawRules)&&(u=(s=e.rawRules.match(/max:\d+/))==null?void 0:s[0].split(":")[1]),u??999}),n=ref(e.protectInitialValue?e.modelValue:[]),l=u=>n.value.includes(u),r=u=>{let s=!1,f=null;if(e.mandatory){if(f=e.items.filter(p=>__data_get(p,e.mandatory,!1)),e.max){let p=parseInt(e.max);f.length>p&&(f=f.slice(0,p))}if(f.length>0){const p=cloneDeep(u),m=Array.isArray(p)?p:[],y=f.map(g=>g[e.itemValue]),v=y.filter(g=>!m.includes(g));u=[...new Set([...Array.isArray(u)?u:[],...y])],v.length>0&&(s=!0)}}if(o.value>1&&u.length>o.value){if(f&&f.length>0){const p=f.map(C=>C[e.itemValue]),m=u.filter(C=>p.includes(C)),y=u.filter(C=>!p.includes(C)),v=o.value-m.length,g=v>0?y.slice(0,v):[];u=[...m,...g]}else u=u.sort((p,m)=>p-m).slice(0,o.value);s=!0}return s&&a.emit("update:modelValue",u),u},i=ref([]),c=computed(()=>{let u=e.items;return e.orderBy&&u.sort((s,f)=>e.orderByDirection==="asc"?s[e.orderBy].localeCompare(f[e.orderBy]):f[e.orderBy].localeCompare(s[e.orderBy])),u});return{...useInput(e,{...a,initializeInput:r}),openedGroups:toRef(i),maxSelectable:o,isProtected:l,flattenedItems:c}},methods:{isAllSelected(e){return e.items.map(o=>o.id).every(o=>this.input.includes(o))},isIndeterminateGroup(e){const a=e.items.map(o=>o.id);return!a.every(o=>this.input.includes(o))&&a.some(o=>this.input.includes(o))},updatedParent(e,a){const o=a.items.map(n=>n.id);if(!e)this.input=this.input.filter(function(n){return!o.includes(n)});else{if(this.maxSelectable){const n=o.filter(l=>!this.input.includes(l)).length;if(this.input.length+n>this.maxSelectable)return}o.forEach(n=>{this.input.includes(n)||this.input.push(n)})}},getRowStyles(){const e="flex: 1 1;";return this.flexColumn&&this.$vuetify.display.mdAndUp?`${e} flex: 1 1 60%;`:e},getCheckboxContainerClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["d-flex align-center rounded-sm",this.checkboxOnRight?"pl-2":"",this.checkboxOnRight&&a?"checked":"",this.checkboxHighlighted&&a?`bg-${this.checkboxHighlightedColor}`:""]},isSelectedItem(e){return Array.isArray(this.input)&&this.input.includes(e[this.itemValue])},getCheckboxClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["flex-shrink-0 flex-grow-0",this.isSelectedItem(e)?`v-input-checklist__checkbox--selected ${this.activeTextColor?`text-${this.activeTextColor}`:""}`:"",this.truncateItemLabel?"v-input-checklist__checkbox--truncate":"",this.checkboxOnLeft?"rounded-sm":"v-input-checklist__checkbox--right",this.checkboxOnLeft&&a?"checked":""]},canSelectMore(){return!this.disabled&&(!this.maxSelectable||Array.isArray(this.input)&&this.input.length<this.maxSelectable)},isMandatoryItem(e){return!!__data_get(e,this.mandatory,!1)},isGroupOpen(e){return this.openAllGroups?!0:this.closeAllGroups?!1:e===0},getCardStats(e){return this.cardStats.map(a=>({...a,value:e[a.key]}))}},computed:{checkboxOnRight(){return this.checkboxPosition==="right"},checkboxOnLeft(){return this.checkboxPosition==="left"},groupedItems(){const e={};for(const o in this.items)if(this.chunkField){const n=this.items[o][this.chunkField],l=this.items[o][this.chunkTitleKey],r=this.items[o];Object.prototype.hasOwnProperty.call(e,n)?e[n].items.unshift({id:r.id,name:l}):e[n]={name:this.$lodash.startCase(this.$lodash.camelCase(n)),items:[{id:r.id,name:l}]}}else{const n=this.items[o][this.chunkTitleKey].split(this.chunkCharacter);if(n.length>1){const l=n[0],r=n[1];Object.prototype.hasOwnProperty.call(e,l)?(__isset(e[l].id)&&delete e[l].id,e[l].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(r))})):e[l]={name:this.$lodash.startCase(this.$lodash.camelCase(l)),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(r))}]}}else{const l="alpha";Object.prototype.hasOwnProperty.call(e,l)?(__isset(e[l].id)&&delete e[l].id,e[l].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))})):e[l]={name:this.$t("General"),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))}]}}}const a=Object.values(e);if(a.sort(function(o,n){return o.hasOwnProperty("items")?1:n.hasOwnProperty("items")?-1:0}),this.closeAllGroups?this.openedGroups=[]:this.openedGroups=this.openAllGroups?a.map(o=>o.name):[a[0].name],this.orderBy)for(const o in a)a[o].items.sort((n,l)=>this.orderByDirection==="asc"?n[this.orderBy].localeCompare(l[this.orderBy]):l[this.orderBy].localeCompare(n[this.orderBy]));return a},disabledCheckbox(){return this.$attrs.disabled||!this.canSelectMore()&&!Array.isArray(this.input)},hasMandatoryItems(){return this.items.some(e=>__data_get(e,this.mandatory,!1))},treeviewCols(){return this.chunkField?{cols:12}:{lg:6,md:8,sm:12}}},created(){}},_hoisted_1$p={class:normalizeClass(["w-100 d-flex flex-wrap"]),style:{"max-width":"100%"}},_hoisted_2$k=["innerHTML"],_hoisted_3$k=["innerHTML"],_hoisted_4$f={class:"d-flex align-center"};function _sfc_render$v(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("v-input-checkbox-card");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[6]||(a[6]=u=>e.input=u),hideDetails:"auto",disabled:o.disabled,class:"v-input-checklist"},{default:withCtx(u=>[createBaseVNode("div",_hoisted_1$p,[e.label?(openBlock(),createElementBlock("div",{key:0,class:"d-flex flex-column mb-2 mr-md-3",style:normalizeStyle(["max-width: 100%;",o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 0 1 auto;":"flex: 1 0 100%;"])},[e.label?(openBlock(),createBlock(i,{key:0,padding:"","data-test":"title",color:o.labelColor,transform:"none"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:e.label},null,8,_hoisted_2$k)]),_:1},8,["color"])):createCommentVNode("",!0),o.subtitle?(openBlock(),createBlock(i,{key:1,padding:"",type:"caption",weight:"medium",transform:"none",color:o.subtitleColor,"data-test":"title"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:o.subtitle},null,8,_hoisted_3$k)]),_:1},8,["color"])):createCommentVNode("",!0)],4)):createCommentVNode("",!0),o.flexColumn&&e.$vuetify.display.mdAndUp&&(e.label||o.subtitle)?(openBlock(),createBlock(VDivider,{key:1,vertical:"",class:"mr-3 border-current"})):createCommentVNode("",!0),o.isTreeview?(openBlock(),createBlock(VRow,{key:2,style:normalizeStyle([o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 1 0 70%;":"flex: 1 1;"])},{default:withCtx(()=>[createVNode(VCol,normalizeProps(guardReactiveProps({...r.treeviewCols})),{default:withCtx(()=>[createVNode(VList,{opened:n.openedGroups,"onUpdate:opened":a[3]||(a[3]=s=>n.openedGroups=s),class:normalizeClass(["d-flex flex-column",`ga-${o.groupExpandGap}`])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.groupedItems,(s,f)=>(openBlock(),createElementBlock(Fragment,{key:`checkbox-${f}`},[e.$isset(s.items)&&s.items.length>0?(openBlock(),createBlock(VListGroup,{key:0,class:"pl-0","collapse-icon":"","expand-icon":"",value:s.name},{activator:withCtx(({props:p,isOpen:m})=>[o.noGroupAllSelectable?(openBlock(),createBlock(i,mergeProps({key:1,text:s[`${o.itemTitle}`],type:"body-1",color:"grey-darken-5",weight:"bold",justify:"space-between",ref_for:!0},{...o.groupExpandTitleProps,...p}),{right:withCtx(()=>[createBaseVNode("div",_hoisted_4$f,[createVNode(VIcon,{icon:m?"$collapse":"$expand"},null,8,["icon"])])]),_:2},1040,["text"])):(openBlock(),createBlock(VCheckbox,mergeProps({key:0,class:"ue-checklist-checkbox",label:s[`${o.itemTitle}`],color:"success","hide-details":"",indeterminate:r.isIndeterminateGroup(s),density:"compact",modelValue:r.isAllSelected(s),"onUpdate:modelValue":y=>r.updatedParent(y,s),readonly:r.isMandatoryItem(s)||o.readonly,ref_for:!0},p),createSlots({label:withCtx(y=>[createBaseVNode("label",mergeProps({ref_for:!0},p),toDisplayString(y.label),17)]),_:2},[o.chunkField?void 0:{name:"prepend",fn:withCtx(()=>[createVNode(VIcon,mergeProps({ref_for:!0},p,{icon:m?"$collapse":"$expand"}),null,16,["icon"])]),key:"0"}]),1040,["label","indeterminate","modelValue","onUpdate:modelValue","readonly"])),o.hasGroupBottomDivider?(openBlock(),createBlock(VDivider,{key:2,class:"mt-0"})):createCommentVNode("",!0)]),default:withCtx(()=>[o.chunkField?(openBlock(),createBlock(VListItem,{key:0,style:{"padding-inline-start":"0px !important"}},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",style:normalizeStyle([o.flexColumn?"":"flex: 1 0 60%;"])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.items,(p,m)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${m}`,ref_for:!0},o.checkboxCol,{class:"pb-0 pr-0"}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(r.getCheckboxContainerClasses(p))},[createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=y=>e.input=y),disabled:(e.$attrs.disabled??!1)||!r.canSelectMore()&&!e.input.includes(p[o.itemValue]),value:p[o.itemValue],color:o.checkboxColor??o.color??"primary","hide-details":"",label:p[o.itemTitle],class:normalizeClass(r.getCheckboxClasses(p)),readonly:r.isMandatoryItem(p)||n.isProtected(p[o.itemValue])||o.readonly},{label:withCtx(y=>[createBaseVNode("span",mergeProps({style:{fontSize:o.labelFontSize},ref_for:!0},y.props),toDisplayString(y.label),17)]),_:2},1032,["modelValue","disabled","value","color","label","class","readonly"])],2)]),_:2},1040))),128))]),_:2},1032,["style"])]),_:2},1024)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(s.items,(p,m)=>(openBlock(),createBlock(VListItem,{key:`checkbox-${m}`,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{class:"ue-checklist-checkbox",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=y=>e.input=y),label:p[`${o.itemTitle}`],value:p[`${o.itemValue}`],disabled:!r.canSelectMore()&&!e.input.includes(p[o.itemValue]),color:"success","hide-details":"",density:"compact",readonly:r.isMandatoryItem(p)||o.readonly},{label:withCtx(y=>[createBaseVNode("span",mergeProps({style:{fontSize:o.labelFontSize},ref_for:!0},y.props),toDisplayString(y.label),17)]),_:2},1032,["modelValue","label","value","disabled","readonly"])]),_:2},1024))),128))]),_:2},1032,["value"])):(openBlock(),createBlock(VListItem,{key:1,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[2]||(a[2]=p=>e.input=p),label:s[`${o.itemTitle}`],value:s[`${o.itemValue}`],disabled:!r.canSelectMore()&&!e.input.includes(s[o.itemValue]),readonly:r.isMandatoryItem(s)||n.isProtected(s[o.itemValue])||o.readonly,color:"success","hide-details":"",density:"compact"},{label:withCtx(p=>[createBaseVNode("span",mergeProps({style:{fontSize:o.labelFontSize},ref_for:!0},p.props),toDisplayString(p.label),17)]),_:2},1032,["modelValue","label","value","disabled","readonly"])]),_:2},1024))],64))),128))]),_:1},8,["opened","class"])]),_:1},16)]),_:1},8,["style"])):(openBlock(),createBlock(VRow,{key:3,style:normalizeStyle(r.getRowStyles()),"no-gutters":e.$vuetify.display.xs,class:"align-stretch"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.flattenedItems,(s,f)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${f}`,cols:"12",sm:"6",md:"4",lg:"3",ref_for:!0},o.checkboxCol,{class:""}),{default:withCtx(()=>[o.isCard?(openBlock(),createBlock(c,{key:0,modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=p=>e.input=p),value:s[o.itemValue],class:normalizeClass([r.getCheckboxClasses(s),"h-100"]),color:o.checkboxColor??o.color??"primary",title:s[o.itemTitle],description:s.description,disabled:(e.$attrs.disabled??!1)||!r.canSelectMore()&&!e.input.includes(s[o.itemValue]),readonly:r.isMandatoryItem(s)||n.isProtected(s[o.itemValue])||o.readonly,checkboxOnRight:r.checkboxOnRight,stats:r.getCardStats(s),activeTitleColor:o.activeTextColor},null,8,["modelValue","value","class","color","title","description","disabled","readonly","checkboxOnRight","stats","activeTitleColor"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(r.getCheckboxContainerClasses(s))},[createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=p=>e.input=p),value:s[o.itemValue],disabled:(e.$attrs.disabled??!1)||!r.canSelectMore()&&!e.input.includes(s[o.itemValue]),color:o.checkboxColor??o.color??"primary","hide-details":"",label:s[o.itemTitle],class:normalizeClass(r.getCheckboxClasses(s)),readonly:r.isMandatoryItem(s)||n.isProtected(s[o.itemValue])||o.readonly},{label:withCtx(p=>[createBaseVNode("span",mergeProps({style:{fontSize:o.labelFontSize},ref_for:!0},p.props),toDisplayString(p.label),17)]),_:2},1032,["modelValue","value","disabled","color","label","class","readonly"])],2))]),_:2},1040))),128))]),_:1},8,["style","no-gutters"]))])]),_:1},8,["modelValue","disabled"])}const Checklist=_export_sfc(_sfc_main$B,[["render",_sfc_render$v]]),__vite_glob_3_4=Object.freeze(Object.defineProperty({__proto__:null,default:Checklist},Symbol.toStringTag,{value:"Module"})),_sfc_main$A={name:"v-input-checklist-group",emits:[...makeInputEmits],components:{Checklist},props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},setup(e,a){return{...useInput(e,a)}},data:function(){return{selectedGroup:Object.keys(this.schema)[0]??1,selectedItems:[]}},computed:{},watch:{selectedGroup:{handler(e,a){this.selectedItems=[]}},selectedItems:{handler(e,a){this.$emit("update:modelValue",{group:this.selectedGroup,items:this.selectedItems})}}},methods:{},created(){}};function _sfc_render$u(e,a,o,n,l,r){const i=resolveComponent("Checklist");return openBlock(),createBlock(VInput,{modelValue:e.selectedItems,"onUpdate:modelValue":a[2]||(a[2]=c=>e.selectedItems=c),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-checklist-group"},{default:withCtx(c=>{var u;return[createVNode(VRadioGroup,{modelValue:e.selectedGroup,"onUpdate:modelValue":a[0]||(a[0]=s=>e.selectedGroup=s),direction:"horizontal"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.schema,(s,f)=>(openBlock(),createBlock(VCol,{key:f},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-checklist-group__btn",variant:e.selectedGroup==f?"elevated":"outlined",onClick:p=>e.selectedGroup=f},{prepend:withCtx(()=>[createVNode(VRadio,{value:f},null,8,["value"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(s.label.toUpperCase()),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),createBaseVNode("div",null,[createVNode(i,{modelValue:e.selectedItems,"onUpdate:modelValue":a[1]||(a[1]=s=>e.selectedItems=s),items:((u=o.schema[e.selectedGroup??0])==null?void 0:u.items)??[]},null,8,["modelValue","items"])])]}),_:1},8,["modelValue","variant"])}const ChecklistGroup=_export_sfc(_sfc_main$A,[["render",_sfc_render$u]]),__vite_glob_3_5=Object.freeze(Object.defineProperty({__proto__:null,default:ChecklistGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$z={name:"v-input-comparison-table",emits:[...makeInputEmits],components:{Table},props:{...makeInputProps(),schema:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},comparatorField:{type:String,default:"name"},comparatorValue:{type:String,default:"value"},comparators:{type:Object,default:()=>{}},selectable:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!0},itemsPerPage:{type:Number,default:50},comparatorWidth:{type:Number,default:400},minComparatorWidth:{type:Number,default:250},itemWidth:{type:Number,default:80},maxItemWidth:{type:Number,default:100},maxHeight:{type:[String,Number],default:null},height:{type:[String,Number],default:null},noFixedHeader:{type:Boolean,default:!1},noFixedComparator:{type:Boolean,default:!1},noFixedSelectable:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data:function(){return{model:null}},computed:{headers(){return[{title:this.label,key:"comparator_name",width:this.comparatorWidth,fixed:!this.noFixedComparator,cellProps:{class:"py-2",style:{minWidth:`${this.minComparatorWidth}px`}}}].concat(this.items.map(e=>({title:e.name,key:e.name,align:"center",id:e.id,width:this.itemWidth,cellProps:{style:{...this.$vuetify.display.mobile?{}:{maxWidth:`${this.maxItemWidth}px`}}}})))},inputAndTableStyle(){let e=/(\d+)(vh|px|rem|em|%)/,a=this.maxHeight,o={};if(!this.$vuetify.display.smAndDown){if(a){if(isNumber(a)&&(a=`${a}px`),isString(a)){let n=a.match(e);n||!isNaN$1(parseInt(n[1]))&&(a=`${parseInt(n[1])}px`)}o.maxHeight=a}if(this.height){let n=this.height;if(isNumber(n)&&(n=`${n}vh`),isString(n)){let l=n.match(e);l||!isNaN$1(parseInt(l[1]))&&(n=`${parseInt(l[1])}vh`)}o.height=n}}return o},comparisonItems(){let e=Object.keys(this.comparators).reduce((o,n)=>{const l=this.comparators[n];let r=(l==null?void 0:l.key)??n;return this.items.forEach(i=>{if(Array.isArray(i[r]))i[r].forEach(function(c){find(o,["id",c.id])||o.push({...c,_comparatorField:(l==null?void 0:l.field)??"name",...l!=null&&l.itemClasses?{_comparatorItemClasses:l.itemClasses}:{}})});else{let c=__isset(i[`${r}_show`])?`${r}_show`:r;o.includes(c)||o.push(c)}}),o},[]),a=[];if(this.selectable){let o={comparator_name:""};this.items.forEach(n=>{o[n.name]="__input"}),a.push(o)}return e.map(o=>{let n={},l=null;if(__isObject(o))l=o[o._comparatorField],__isset(o._comparatorItemClasses)&&(l=`<span class="${o._comparatorItemClasses}">${l}</span>`);else{let r=null;if((r=find(this.comparators,["key",o]))&&__isset(r.title))l=r.title;else{let i=o.match(/(\w+)?(_show)/);i?l=this.$headline(i[1]):l=this.$headline(o)}__isset(r.itemClasses)&&(l=`<span class="${r.itemClasses}"> ${l} </span>`)}return n.comparator_name=l,this.items.forEach(r=>{if(__isObject(o)){let i=find(r[this.comparatorField],["id",o.id]);if(i){let c=get(i,this.comparatorValue,"unknown");c==="unknown"&&(console.error(`${this.comparatorField} not found for ${this.comparatorValue}`),c=""),n[r.name]=c}else n[r.name]=""}else{let i=r[o];n[r.name]=i;let c=null;(c=find(this.comparators,["key",o]))&&__isset(c.itemClasses)&&(n[r.name]=`<span class="${c.itemClasses}"> ${i} </span>`)}}),n}).concat(a)}},watch:{input(e,a){},modelValue(e,a){}}},_hoisted_1$o={key:0,class:"v-input-comparison-table__header--selected"},_hoisted_2$j=["innerHTML"],_hoisted_3$j=["innerHTML"];function _sfc_render$t(e,a,o,n,l,r){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=i=>e.input=i),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:normalizeClass(["v-input-comparison-table",{"v-input-comparison-table--striped":o.striped,"v-input-comparison-table--highlighted":o.highlighted}]),rules:e.$attrs.rules,style:normalizeStyle(r.inputAndTableStyle)},{default:withCtx(i=>[createVNode(VDataTable,{class:normalizeClass(["h-100",o.selectable&&!o.noFixedSelectable?"v-data-table--fixed-selectable":""]),style:normalizeStyle(r.inputAndTableStyle),headers:r.headers,items:r.comparisonItems,itemsLength:"0","disable-sort":"","hide-default-footer":"","items-per-page":o.itemsPerPage,"mobile-breakpoint":"sm","fixed-header":!o.noFixedHeader},createSlots({_:2},[renderList(r.headers,(c,u)=>({name:`header.${c.key}`,fn:withCtx(s=>[e.$isset(c.id)&&e.input==c.id?(openBlock(),createElementBlock("span",_hoisted_1$o,toDisplayString(c.title),1)):(openBlock(),createElementBlock("span",{key:1,innerHTML:c.title},null,8,_hoisted_2$j))])})),renderList(r.headers,(c,u)=>({name:`item.${c.key}`,fn:withCtx(({item:s})=>[s[c.key]=="__input"?(openBlock(),createBlock(VBtn,{key:0,class:"my-2",onClick:f=>e.input=c.id,variant:e.input==c.id?"elevated":"outlined",readonly:e.protectInitialValue},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select")),1)]),_:2},1032,["onClick","variant","readonly"])):(openBlock(),createElementBlock("span",{key:1,innerHTML:s[c.key]},null,8,_hoisted_3$j))])}))]),1032,["class","style","headers","items","items-per-page","fixed-header"])]),_:1},8,["modelValue","variant","class","rules","style"])}const ComparisonTable=_export_sfc(_sfc_main$z,[["render",_sfc_render$t]]),__vite_glob_3_6=Object.freeze(Object.defineProperty({__proto__:null,default:ComparisonTable},Symbol.toStringTag,{value:"Module"})),_sfc_main$y={__name:"Date",props:{...makeInputProps(),name:{type:String,default:"date"},variant:{type:String,default:"outlined"},density:{type:String,default:"default"},useTimezone:{type:Boolean,default:!1}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,n=a,l=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,r=f=>{if(!f||f==="null"||f==="")return null;l();const p=new Date(f);if(isNaN(p.getTime()))return null;const m=p.getTimezoneOffset();return new Date(p.getTime()-m*6e4)},i=f=>{if(!f||f==="null"||f==="")return null;l();const p=new Date(f);if(isNaN(p.getTime()))return null;const m=p.getTimezoneOffset();return new Date(p.getTime()+m*6e4)},{input:c,id:u,boundProps:s}=useInput(o,{emit:n,initializeInput:f=>f?o.useTimezone?f:i(f):null,updateModelValue:(f,p)=>{if(!f){n("update:modelValue",null);return}if(o.useTimezone)n("update:modelValue",f);else{const m=r(f);n("update:modelValue",m)}}});return useValidation(o),useI18n(),useDynamicModal(),useAuthorization(),useAlert(),(f,p)=>{const m=resolveComponent("v-date-input");return openBlock(),createBlock(VInput,{modelValue:unref(c),"onUpdate:modelValue":p[1]||(p[1]=y=>isRef(c)?c.value=y:null),"hide-details":"",class:"v-input-date"},{default:withCtx(y=>[createVNode(m,mergeProps({modelValue:unref(c),"onUpdate:modelValue":p[0]||(p[0]=v=>isRef(c)?c.value=v:null),density:e.density,label:f.label,variant:e.variant},f.$attrs),null,16,["modelValue","density","label","variant"])]),_:1},8,["modelValue"])}}},__vite_glob_3_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$y},Symbol.toStringTag,{value:"Module"})),LocaleMixin={props:{locale:{default:null}},data(){return{_locale:this.locale}},computed:{hasLocale:function(){return this._locale!=null},hasCurrentLocale:function(){return this.currentLocale!=null},isLocaleRTL:function(){const e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return this.hasLocale?e.includes(this.locale.shortlabel.toLowerCase()):!1},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return this.currentLocale.shortlabel},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all})},methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}},mounted(){}},_EXTENSIONS={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},_sfc_main$x={name:"UeFileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){const e=this.currentItem.extension;if(_EXTENSIONS.hasOwnProperty(e))return _EXTENSIONS[e].icon;for(const a in _EXTENSIONS)if(_EXTENSIONS[a].FileExtensions.findIndex(n=>n===e)>-1)return _EXTENSIONS[a].icon;return"gen"}}},_hoisted_1$n={class:"fileItem"},_hoisted_2$i={key:0,class:"fileItem__cell fileItem__cell--drag"},_hoisted_3$i={key:1,class:"fileItem__cell fileItem__cell--extension"},_hoisted_4$e={href:"#",target:"_blank"},_hoisted_5$d=["symbol"],_hoisted_6$d={class:"fileItem__cell fileItem__cell--name"},_hoisted_7$a={key:0},_hoisted_8$9=["src"],_hoisted_9$8=["href"],_hoisted_10$6={class:"f--link-underlined--o"},_hoisted_11$5=["name","value"],_hoisted_12$3={key:2,class:"fileItem__cell fileItem__cell--size"},_hoisted_13$3={class:"fileItem__cell"};function _sfc_render$s(e,a,o,n,l,r){const i=resolveDirective("svg");return openBlock(),createElementBlock("tr",_hoisted_1$n,[o.draggable?(openBlock(),createElementBlock("td",_hoisted_2$i,a[0]||(a[0]=[createBaseVNode("div",{class:"drag__handle--drag"},null,-1)]))):createCommentVNode("",!0),r.currentItem.hasOwnProperty("extension")?(openBlock(),createElementBlock("td",_hoisted_3$i,[createBaseVNode("a",_hoisted_4$e,[withDirectives(createBaseVNode("span",{symbol:r.getSvgIconName()},null,8,_hoisted_5$d),[[i]])])])):createCommentVNode("",!0),createBaseVNode("td",_hoisted_6$d,[r.currentItem.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("span",_hoisted_7$a,[createBaseVNode("img",{src:r.currentItem.thumbnail},null,8,_hoisted_8$9)])):createCommentVNode("",!0),createBaseVNode("a",{href:r.currentItem.hasOwnProperty("original")?r.currentItem.original:"#",download:""},[createBaseVNode("span",_hoisted_10$6,toDisplayString(r.currentItem.name),1)],8,_hoisted_9$8),createBaseVNode("input",{type:"hidden",name:o.name,value:r.currentItem.id},null,8,_hoisted_11$5)]),r.currentItem.hasOwnProperty("size")?(openBlock(),createElementBlock("td",_hoisted_12$3,toDisplayString(r.currentItem.size),1)):createCommentVNode("",!0),createBaseVNode("td",_hoisted_13$3,[createVNode(VBtn,{icon:"$close",onClick:r.deleteItem},null,8,["onClick"])])])}const FileItem=_export_sfc(_sfc_main$x,[["render",_sfc_render$s],["__scopeId","data-v-4430099c"]]),_sfc_main$w={name:"v-input-file",emits:[...makeInputEmits],components:{FileItem,draggable:Draggable},mixins:[LocaleMixin],props:{...makeFileProps()},setup(e,a){return{...useFile(e,a)}},created(){},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))}}},_hoisted_1$m={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$h={class:"v-field__field","data-no-activator":""},_hoisted_3$h={class:"fileField"},_hoisted_4$d={key:0,class:"fileField__trigger"},_hoisted_5$c=["name","value"],_hoisted_6$c={class:"fileField__note f--small"},_hoisted_7$9={key:1,class:"fileField__list"},_hoisted_8$8={key:2,class:"fileField__trigger"},_hoisted_9$7=["name","value"],_hoisted_10$5={class:"fileField__note f--small"},_hoisted_11$4={class:"v-field__outline"},_hoisted_12$2={class:"v-field__outline__notch"},_hoisted_13$2={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$r(e,a,o,n,l,r){const i=resolveComponent("FileItem"),c=resolveComponent("draggable");return openBlock(),createBlock(VInput,{hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-file"},{default:withCtx(u=>[createBaseVNode("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$h,[e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_4$d,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_5$c),createVNode(VBtn,{type:"button",onClick:a[0]||(a[0]=s=>r.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_6$c,toDisplayString(e.note),1)])):createCommentVNode("",!0),e.input.length?(openBlock(),createElementBlock("table",_hoisted_7$9,[createVNode(c,{tag:"tbody",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),itemKey:"id"},{item:withCtx(s=>[createVNode(i,{class:"item__content",name:`${e.name}_${s.index}`,"item-label":e.$t("form-labels.File"),item:e.input[`${s.index}`],onDelete:f=>e.deleteItem(s.index)},null,8,["name","item-label","item","onDelete"])]),_:1},8,["modelValue"])])):createCommentVNode("",!0),!e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_8$8,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_9$7),createVNode(VBtn,{type:"button",onClick:a[2]||(a[2]=s=>r.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_10$5,toDisplayString(e.note),1)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$4,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("label",_hoisted_13$2,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:1},8,["variant"])}const File$1=_export_sfc(_sfc_main$w,[["render",_sfc_render$r],["__scopeId","data-v-2057ba1c"]]),__vite_glob_3_11=Object.freeze(Object.defineProperty({__proto__:null,default:File$1},Symbol.toStringTag,{value:"Module"})),Component="Filepond",FilePond=vueFilePond(plugin$2,plugin$1,plugin),_sfc_main$v={name:"v-input-filepond",components:{FilePond},emits:[...makeInputEmits,"loading","loaded","loadedFile"],props:{...makeInputProps(),...makeFilepondProps()},setup(e,a){const{requiredRule:o}=useValidation(e);return{...useInput(e,a),...useFilepond(e),requiredRule:o}},data(){return{fileFieldClasses:["v-input-filepond__file-field",this.$slots.activator||this.$slots.body?"d-none":""],errorMessages:[],onStart:!0,files:isArray(this.modelValue)?this.modelValue.map(function(e){return{source:e.source??`${this.endPoints.load}${e.uuid}`,options:{type:`${e.type??"local"}`,metadata:{date:e.created_at},file:e.file}}}):[],slotBindings:{browse:this.browse,addFile:this.addFile,removeFile:this.removeFile,removeFiles:this.removeFiles,getFiles:this.getFiles,getFile:this.getFile,files:this.files}}},methods:{postProcessFilepond:function(e,a){e?__log("postProcess error",e):this.input=this.input.concat({uuid:a.serverId,file_name:a.filename,source:`${this.endPoints.load}${a.serverId}`})},removeFilepond:function(e,a){var l;const o=a.filename??((l=a.serverId)==null?void 0:l.replace(`/${a.filename}`,""))??a.uuid;let n=this.input.findIndex(r=>r.uuid==o);if(n==-1){const r=a.source;n=this.input.findIndex(i=>i.source==r)}if(n!=-1){const r=this.input.slice(0,n).concat(this.input.slice(n+1));this.input=r}else console.error("removeFilepond error not found",a,this.input)},init(){setOptions({server_:{process_:this.endPoints.process,revert_:this.endPoints.revert,load_:this.endPoints.load}})},addFile(...e){return this.$refs.pond.addFile(...e)},browse(...e){return this.$refs.pond._pond.browse()},removeFile(...e){return this.$refs.pond.removeFile(...e)},removeFiles(...e){return this.$refs.pond.removeFiles(...e)},getFiles(...e){return this.$refs.pond.getFiles(...e)},getFile(...e){return this.$refs.pond.getFile(...e)},warning(e){this.$store.commit(ALERT$1.SET_ALERT,{message:e.body,variant:"warning"})},error(e){__log("error",e)}},computed:{classes(){return["v-input-filepond",this.class??""]},server(){return{revert:(e,a,o)=>{let n="revert-"+e;axios.delete(this.endPoints.revert,{requestId:n,data:e}).then(l=>{this.input=this.input.filter(r=>r.uuid!=e),a()}).catch(l=>{console.error("server revert error",l)})},process:(e,a,o,n,l,r,i,c,u)=>{const s=new FormData;if(e.match(/(\w)+.(\w)+/)){let p=e.split(".");e="";for(const m in p)m==0?e+=p[m]:e+=`[${p[m]}]`}s.append(e,a,a.name);let f="process-"+e;return axios.post(this.endPoints.process,s,{requestId:f,onUploadProgress:p=>{r(p.lengthComputable,p.loaded,p.total)}}).then(function(p){n(p.data)}).catch(function(p){p.status==500&&p.response.match(/^\<script\> Sfdump/)?(globalError$1(Component,{message:"Filepond process error.",value:request}),l("Dump error on processing")):l("Processing Error")}),{abort:()=>{__log("aborted"),axios.abort(f),i()}}},load:(e,a,o,n,l,r)=>(axios.get(e,{responseType:"blob",validateStatus:i=>i>=200&&i<300||i===422}).then(i=>{if(i.status==200)a(i.data);else throw i.status==500?new Error("Answer not found"):new Error("Some other status code")}).catch(function(i){console.error(i)}),{abort:()=>{l()}}),headers:{"X-Csrf-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},input:{get(){return this.modelValue??[]},set(e){__log("input set",e),this.updateModelValue(e)}},key:{get(){return`filepond-${Date.now()}`}},name(){let e=this.$attrs.name;return this.obj&&this.obj.schema&&this.obj.schema.parentName&&(e=`${this.obj.schema.parentName}.${e}`),e}},watch:{modelValue:{handler(e){}},disabled:{handler(e){}}},created(){},mounted(){this.$refs.VInput&&this.$watch(()=>this.$refs.VInput.errorMessages,e=>{this.onStart||(this.errorMessages=e),this.onStart=!1},{deep:!0})}},_hoisted_1$l={class:normalizeClass(["w-100"])},_hoisted_2$g=["innerHTML"],_hoisted_3$g={key:2,class:"v-input__details",role:"alert","aria-live":"polite"},_hoisted_4$c={key:0,class:"v-messages"},_hoisted_5$b={class:"v-messages__message"},_hoisted_6$b=["innerHTML"];function _sfc_render$q(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("FilePond");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:r.input,"onUpdate:modelValue":a[4]||(a[4]=u=>r.input=u),"hide-details":"",class:normalizeClass(r.classes),rules:e.noRules?[]:e.filepondRules},{default:withCtx(u=>[renderSlot(e.$slots,"activator",normalizeProps(guardReactiveProps({...l.slotBindings})),void 0,!0),createBaseVNode("div",_hoisted_1$l,[e.label?(openBlock(),createBlock(i,{key:0,transform:"none",padding:"a-0",weight:e.labelWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,ref:e.$refs.VInput})),()=>[createTextVNode(toDisplayString(e.label),1)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),e.subtitle?(openBlock(),createBlock(i,{key:1,type:"caption",transform:"none",padding:"a-0",weight:e.subtitleWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"subtitle",normalizeProps(guardReactiveProps({subtitle:e.subtitle,ref:e.$refs.VInput})),()=>[createBaseVNode("span",{innerHTML:e.subtitle},null,8,_hoisted_2$g)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(l.fileFieldClasses)},[(openBlock(),createBlock(c,mergeProps({ref:"pond",key:r.key,id:r.key},e.$lodash.omit(e.$bindAttributes(),["rules"]),{name:r.name,"allow-image-preview":e.allowImagePreview,"allow-multiple":e.allowMultiple,"allow-process":e.allowProcess,"allow-remove":e.allowRemove,"allow-reorder":e.allowReorder,"allow-replace":e.allowReplace,"drop-on-page":e.dropOnPage,"drop-on-element":e.dropOnElement,"drop-validation":e.dropValidation,"allow-file-type-validation":!0,"accepted-file-types":e.acceptedFileTypes,"max-files":e.max,disabled:e.disabled,"allow-drop":!e.disabled,"allow-browse":!e.disabled,"allow-file-size-validation":e.allowFileSizeValidation,"max-file-size":e.maxFileSize,"min-file-size":e.minFileSize,"max-total-file-size":e.maxTotalFileSize,"label-max-file-size":e.labelMaxFileSize,"label-max-file-size-exceeded":e.labelMaxFileSizeExceeded,files:l.files,server:r.server,onProcessfile:r.postProcessFilepond,onRemovefile:r.removeFilepond,onAddfilestart:a[0]||(a[0]=s=>e.$emit("loadingFile",s)),onAddfileprogress:a[1]||(a[1]=s=>e.$emit("loadingFileProgress",s)),onAddfile:a[2]||(a[2]=s=>e.$emit("loadedFile",s)),onInit:r.init,onWarning:r.warning,onError:r.error}),null,16,["id","name","allow-image-preview","allow-multiple","allow-process","allow-remove","allow-reorder","allow-replace","drop-on-page","drop-on-element","drop-validation","accepted-file-types","max-files","disabled","allow-drop","allow-browse","allow-file-size-validation","max-file-size","min-file-size","max-total-file-size","label-max-file-size","label-max-file-size-exceeded","files","server","onProcessfile","onRemovefile","onInit","onWarning","onError"]))],2),renderSlot(e.$slots,"body",mergeProps({...l.slotBindings},{onClick:a[3]||(a[3]=(...s)=>r.browse&&r.browse(...s))}),void 0,!0),e.hideDetails?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$g,[l.errorMessages.length>0?(openBlock(),createElementBlock("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$b,toDisplayString(l.errorMessages.join(", ")),1)])):e.hint?(openBlock(),createBlock(i,{key:1,class:"v-messages",type:"caption",transform:"none",padding:"a-0",weight:e.hintWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"hint",normalizeProps(guardReactiveProps({hint:e.hint})),()=>[createBaseVNode("span",{innerHTML:e.hint},null,8,_hoisted_6$b)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0)]))])]),_:3},8,["modelValue","class","rules"])}const Filepond=_export_sfc(_sfc_main$v,[["render",_sfc_render$q],["__scopeId","data-v-ea0a0858"]]),__vite_glob_3_12=Object.freeze(Object.defineProperty({__proto__:null,default:Filepond},Symbol.toStringTag,{value:"Module"})),_sfc_main$u={__name:"FilepondAvatar",props:{disabled:{type:Boolean,default:!1},...makeInputProps(),...makeFilepondProps()},emits:makeInputEmits,setup(e,{emit:a}){const o=e,n=a;ref(null);const l=useInput(o,{emit:n,updateModelValue:(f,p)=>{f.length>1?l.input.value=[f[1]]:n("update:modelValue",f)}}),r=ref(!1),i=ref(null),c=()=>{r.value||o.disabled||i.value.browse()},u=()=>{r.value=!0},s=()=>{r.value=!1};return(f,p)=>{const m=resolveComponent("v-input-filepond");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:"v-input-filepond__avatar-wrapper",onClick:c},[createVNode(VAvatar,{size:"90",class:normalizeClass(e.disabled?"":"cursor-pointer")},{default:withCtx(()=>[unref(l).input.value.length>0?(openBlock(),createBlock(VImg,{key:0,alt:"Avatar",src:unref(l).input.value[0].source},null,8,["src"])):(openBlock(),createBlock(VIcon,{key:1,icon:"mdi-account"}))]),_:1},8,["class"]),createBaseVNode("div",{class:normalizeClass(["v-input-filepond__edit-icon",r.value?"bg-surface":"bg-primary-lighten-3"])},[r.value?(openBlock(),createBlock(VProgressCircular,{key:0,size:25,color:"success",indeterminate:""})):createCommentVNode("",!0),createVNode(VIcon,{disabled:e.disabled,size:"default"},{default:withCtx(()=>p[1]||(p[1]=[createTextVNode("mdi-account-edit-outline")])),_:1},8,["disabled"])],2)]),createVNode(m,{ref_key:"FilepondRef",ref:i,modelValue:unref(l).input.value,"onUpdate:modelValue":p[0]||(p[0]=y=>unref(l).input.value=y),class:"v-input-filepond-avatar","hide-details":f.hideDetails,hint:f.hint,min:f.min,"max-files":f.maxFiles,rules:f.rules,"hint-weight":f.hintWeight,"end-points":f.endPoints,"label-weight":f.labelWeight,subtitle:f.subtitle,"subtitle-weight":f.subtitleWeight,"accepted-file-types":f.acceptedFileTypes,"allow-multiple":!1,"allow-replace":!0,onLoadingFile:u,onLoadedFile:s},{activator:withCtx(y=>p[2]||(p[2]=[])),_:1},8,["modelValue","hide-details","hint","min","max-files","rules","hint-weight","end-points","label-weight","subtitle","subtitle-weight","accepted-file-types"])],64)}}},FilepondAvatar=_export_sfc(_sfc_main$u,[["__scopeId","data-v-c017f40d"]]),__vite_glob_3_13=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondAvatar},Symbol.toStringTag,{value:"Module"})),_sfc_main$t={name:"v-input-form-tabs",emits:[...makeInputEmits],inject:[...makeInputInjects],props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}},tabFields:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},triggers:{type:Object,default:()=>[]},protectDefiner:{type:String},protectedInputs:{type:Array,default:()=>["*"]},noSchemaUpdatingProgressBar:{type:Boolean,default:!1}},setup(e,{emit:a}){const o=useInputHandlers(),n=useValidation(e);useI18n();const l=useInput(e,{emit:a}),{matchStandardAttribute:r,castStandardAttribute:i,castEvalAttribute:c,castAttribute:u,castObjectAttribute:s}=useCastAttributes(),f=ref(e.items),p=ref(!0),m=reactive(new Map),y=(V,A)=>{A?m.set(V,A):m.delete(V)},v=V=>m.get(V),g=ref(f.value.reduce((V,A)=>{var I;return __isset(V[A.id])||(V[A.id]={...getModel(e.schema,{}),...((I=l.input.value)==null?void 0:I[A.id])??{}}),V},{})),C=(V,A,I)=>{let D=!1;return Object.keys(V).forEach(N=>{const x=filter(e.triggers,O=>O.trigger===N);if(x.length<1)return;const E=V[N],z=cloneDeep(I[A][N]);let B=null;z.items&&Array.isArray(z.items)&&(B=z.items.find(O=>O.id==E)),x.forEach(O=>{let U=cloneDeep(I[A][O.target]),P=!1;forEach(O.actions,(L,G)=>{if(Array.isArray(L)){if(G==="class"){let $=(U==null?void 0:U.class)??"";if($){let j=$.split(" "),[q,...X]=L;q==="remove"?j=j.filter(J=>!X.includes(J)):q==="add"&&(j=[...j,...X]),U.class=j.join(" "),D=!0}}}else D=!0,G==="rules"&&(P=!0,G="raw"+startCase(G)),G==="disabled"&&(U._originalDisabled=L),G==="items"?U[G]=__data_get(B,L,[]):B&&(U[G]=r(L)?i(L,B):L)}),I[A][O.target]=U,P&&(I[A]=n.invokeRuleGenerator(I[A]))})}),{schemas:I,schemasChanged:D}},k=V=>{var D;const A=cloneDeep(e.schema);let I=e.protectInitialValue&&e.protectDefiner&&__isset(e.modelValue[V.id])&&__isset(e.modelValue[V.id][e.protectDefiner])&&e.modelValue[V.id][e.protectDefiner]!==null&&e.modelValue[V.id][e.protectDefiner]!==void 0;for(const M in e.tabFields)I&&Array.isArray(e.protectedInputs)&&e.protectedInputs.length>0&&(e.protectedInputs[0]==="*"||e.protectedInputs.includes(M))&&(A[M].protectInitialValue=!0),__isset(A[M])&&(A[M].items=V[e.tabFields[M]]),forEach(A[M],(N,x)=>{isString(N)?A[M][x]=r(N)?i(N,V):N:A[M][x]=N});return getSchema(A,((D=g.value)==null?void 0:D[V.id])??{})},b=ref(f.value.reduce((V,A,I)=>{if(!__isset(V[A.id])){V[A.id]=k(A);const{schemas:D}=C(g.value[A.id],A.id,V);V=D}return V},{})),w=ref(f.value.reduce((V,A,I)=>(V[I]=null,V),{}));f.value.length>0&&(p.value=!1);const S=reactive({loading:p,elements:f,formRefs:m,activeTab:1,models:g,schemas:b,valids:w});watch$1(()=>e.items,V=>{p.value=!0;let A=V.filter(D=>!f.value.find(M=>M.id==D.id)),I=f.value.filter(D=>!V.find(M=>M.id==D.id));A.length>0&&A.forEach(D=>{var M;if(__isset(g.value[D.id])||(g.value[D.id]={...getModel(e.schema,{}),...((M=l.input.value)==null?void 0:M[D.id])??{}}),!__isset(b.value[D.id])){b.value[D.id]=k(D);const{schemas:N}=C(g.value[D.id],D.id,b.value);b.value=N}w.value[D.id]=null}),I.length>0&&I.forEach(D=>{delete g.value[D.id],delete b.value[D.id],delete w.value[D.id],y(D.id,null)}),f.value=V}),watch$1(()=>f.value,V=>{setTimeout(()=>{V.length>0&&(p.value=!1)},1e3)});const T=(V,A)=>{let I=cloneDeep(g.value);I[A];let D=cloneDeep(b.value);const{schemas:M,schemasChanged:N}=C(V,A,D);N&&(b.value=cloneDeep(M)),I[A]=V,g.value=cloneDeep(I),a("update:modelValue",g.value)};return{...l,...o,...n,...toRefs(S),setFormRef:y,getFormRef:v,updateModel:T,schemas:b}},data(){return{formTabsRules:[e=>{var o;let a=!0;e:for(const n in e){let l=e[n];for(const r in this.schema){let i=l[r],c=this.schema[r];if(a=this.validateInput(c,i),a!==!0&&this.manualValidation){this.activeTab=parseInt(n);let u=this.getFormRef(this.activeTab);if(u){u.validate();break e}else console.info("FormTabs validateInput",{id:n,formRef:u,formRefValue:(o=this.getFormRef(n))==null?void 0:o.value,activeTab:this.activeTab,formRefs:this.formRefs})}if(a!==!0)break e}}return a}]}},computed:{},watch:{models:{handler(e,a){this.validate()},deep:!0}},methods:{async validate(){this.VInput&&await this.VInput.validate()},async validateForm(e){return await this.getFormRef(e).value[0].validate()},init(){}},created(){}};function _sfc_render$p(e,a,o,n,l,r){const i=resolveComponent("ue-form"),c=resolveComponent("ue-tabs");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:e.models,"onUpdate:modelValue":a[2]||(a[2]=u=>e.models=u),"hide-details":"",multiple:"",rules:l.formTabsRules,class:"v-input-form-tabs"},{default:withCtx(u=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-row-divider, table-row@4",height:"400px",width:"100%"})):(openBlock(),createBlock(c,{key:1,modelValue:e.activeTab,"onUpdate:modelValue":a[1]||(a[1]=s=>e.activeTab=s),items:e.elements,"tab-value":"id","tab-title":"name"},createSlots({windows:withCtx(({active:s})=>[createVNode(VWindow,{modelValue:e.activeTab,"onUpdate:modelValue":a[0]||(a[0]=f=>e.activeTab=f)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.elements,(f,p)=>(openBlock(),createBlock(VWindowItem,{key:f.id,value:f.id},{default:withCtx(()=>[(openBlock(),createBlock(i,{ref_for:!0,ref:m=>n.setFormRef(f.id,m),key:`form-${f.id}-${JSON.stringify(n.schemas[f.id])}`,"vvvvv-model":"models[item.id]",modelValue:e.models[f.id],"onUpdate:modelValue":m=>n.updateModel(m,f.id),"onXupdate:modelValue":m=>e.$log("update:modelValue",m,f.id),schema:n.schemas[f.id],noSchemaUpdatingProgressBar:o.noSchemaUpdatingProgressBar,valid:e.valids[p],"onUpdate:valid":m=>e.valids[p]=m,noDefaultFormPadding:"",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","onXupdate:modelValue","schema","noSchemaUpdatingProgressBar","valid","onUpdate:valid"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:2},[renderList(e.elements,(s,f)=>({name:`tab.${s.id}`,fn:withCtx(()=>[createVNode(VTab,{value:s.id,color:!this.valids[f]&&e.window.__isBoolean(this.valids[f])?"error":"primary",class:normalizeClass([e.window.__isBoolean(this.valids[f])&&!this.valids[f]?"bg-red-lighten-5":""])},{append:withCtx(()=>[e.window.__isBoolean(e.valids[f])?(openBlock(),createBlock(VIcon,{key:0,icon:e.valids[f]?"$check":"$close"},null,8,["icon"])):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["value","color","class"])])}))]),1032,["modelValue","items"]))]),_:1},8,["modelValue","rules"])}const FormTabs=_export_sfc(_sfc_main$t,[["render",_sfc_render$p]]),__vite_glob_3_14=Object.freeze(Object.defineProperty({__proto__:null,default:FormTabs},Symbol.toStringTag,{value:"Module"})),mediaLibrayMixin={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}},mediaFieldMixin={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!0},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default(){return[]}}}},cropConversion=(e,a,o)=>({x:Math.round(e.x*a.width/o.width),y:Math.round(e.y*a.height/o.height),width:Math.round(e.width*a.width/o.width),height:Math.round(e.height*a.height/o.height)}),IS_SAFARI$1=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$s={name:"v-input-image",emits:[...makeInputEmits],components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps(),imageCol:{type:Object,default:()=>({cols:12,md:6,lg:4})}},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$t("fields.medias.edit-close"))??"",active:!1},totalElementCount:range(0,this.max)}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),n=o.width,l=o.height;this.canvas.width=n,this.canvas.height=l,this.ctx.drawImage(this.img,o.x,o.y,n,l,0,0,n,l),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const n=this.allCrops[this.cropContext][o][0].ratio,l=this.media.width,r=this.media.height,i={x:l/2,y:r/2};let c=l,u=r;n>0&&n<1?(c=Math.floor(Math.min(r*n,l)),u=Math.floor(c/n)):n>=1&&(u=Math.floor(Math.min(l/n,r)),c=Math.floor(u*n));let s={x:0,y:0,width:c,height:u};s=cropConversion(s,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:s.width,height:s.height,minScale:1}));const f=Math.floor(i.x-c/2),p=Math.floor(i.y-u/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=f,e[o].y=p,e[o].width=c,e[o].height=u}Promise.all(a).then(o=>{let n=0;o.forEach(l=>{const r={x:l.topCrop.x,y:l.topCrop.y,width:l.topCrop.width,height:l.topCrop.height},i=e[Object.keys(e)[n]],c=cropConversion(r,this.originalDim,this.naturalDim);i.x=c.x,i.y=c.y,i.width=c.width,i.height=c.height,n++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",n=>{console.error(n),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI$1||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",n=>{a(n)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$k={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$f={class:"v-field__field","data-no-activator":""},_hoisted_3$f={class:"_media__field"},_hoisted_4$b={class:"media__img px-2 py-2"},_hoisted_5$a={key:0,class:"media__note f--small"},_hoisted_6$a=["name","value"],_hoisted_7$8={class:"v-field__outline"},_hoisted_8$7={class:"v-field__outline__notch"},_hoisted_9$6={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$o(e,a,o,n,l,r){const i=resolveDirective("fit-grid");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=c=>e.input=c),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-image"},{default:withCtx(c=>[createBaseVNode("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$f,[createVNode(VHover,null,{default:withCtx(({isHovering:u,props:s})=>[createBaseVNode("div",mergeProps({class:["media w-100",{"media--slide":e.isSlide}]},s),[createBaseVNode("div",_hoisted_3$f,[createVNode(VRow,{dense:"",class:"","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.totalElementCount,f=>withDirectives((openBlock(),createBlock(VCol,mergeProps({key:f,ref_for:!0},o.imageCol),{default:withCtx(()=>[createVNode(VCard,{color:"",class:"w-100 d-flex flex-column justify-end",style:{"box-shadow":"unset"}},createSlots({default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:p,props:m})=>[e.input[f]!==void 0?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"d-flex flex-no-wrap",ref_for:!0},m,{"data-test":"imageCard"}),[createBaseVNode("div",_hoisted_4$b,[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:v})=>[createBaseVNode("div",mergeProps({class:"media__imgFrame",ref_for:!0},v),[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(r.cropThumbnailStyle)},[e.showImg?(openBlock(),createBlock(VImg,{key:0,src:e.input[f].thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass([r.cropThumbnailClass]),"max-width":"240"},null,8,["src","class"])):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createBlock(VOverlay,{key:0,"model-value":y,class:"align-end justify-end",contained:"",onClick:g=>r.openMediaLibrary(1,r.mediaKey,f),elevation:y?12:2},{default:withCtx(()=>[createVNode(VBtn,{icon:"$edit",size:"small",class:"mb-2 mr-2",color:"blue-lighten-5"})]),_:2},1032,["model-value","onClick","elevation"]))],16)]),_:2},1024)]),createVNode(VList,{lines:"one",class:normalizeClass([[!e.hover||p?"opacity-100":"opacity-70","w-50"],"w-50"]),style:{"min-width":"50px",transition:"opacity 250ms ease-in"}},{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:v})=>[createVNode(VListItem,mergeProps({ref_for:!0},v,{class:{"text-blue":y},title:e.input[f].name,onClick:g=>r.openMediaLibrary(1,r.mediaKey,f)}),null,16,["class","title","onClick"])]),_:2},1024),e.input[f].size?(openBlock(),createBlock(VListItem,{key:0,subtitle:"File size: {{ input[index].size }}"})):createCommentVNode("",!0),e.input[f].width+e.input[f].height?(openBlock(),createBlock(VListItem,{key:1,subtitle:`${e.$t("fields.medias.original-dimensions")}: ${e.input[f].width} × ${e.input[f].height}`},null,8,["subtitle"])):createCommentVNode("",!0)]),_:2},1032,["class"]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,style:{"min-width":"50px",transition:"opacity 250ms ease-in"},class:normalizeClass([!e.hover||p?"opacity-100":"opacity-10","d-flex justify-end ma-2"])},[createVNode(VBtn,{"data-test":"downloadButton",icon:"$download",color:"blue-lighten-5",rounded:"0",size:"small",href:e.input[f].original,download:""},null,8,["href"]),createVNode(VBtn,{"data-test":"cropButton",icon:"mdi-crop",color:"blue-lighten-5",rounded:"0",size:"small"}),createVNode(VBtn,{"data-test":"deleteButton",icon:"$delete",color:"blue-lighten-5",rounded:"0",size:"small",onClick:y=>r.deleteMediaClick(f,c.validate)},null,8,["onClick"])],2))],16)):createCommentVNode("",!0)]),_:2},1024)]),_:2},[e.input[f]===void 0?{name:"actions",fn:withCtx(()=>[createVNode(VBtn,{"data-test":"addButton","append-icon":"$add",variant:"outlined",block:"",onClick:a[0]||(a[0]=p=>r.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1040)),[[i]])),128))]),_:2},1024),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_5$a,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(r.media),type:"hidden"},null,8,_hoisted_6$a)],16)]),_:2},1024)]),createBaseVNode("div",_hoisted_7$8,[a[2]||(a[2]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_8$7,[createBaseVNode("label",_hoisted_9$6,[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label})),()=>[createTextVNode(toDisplayString(e.boundProps.label),1)],!0)])]),a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const Image$1=_export_sfc(_sfc_main$s,[["render",_sfc_render$o],["__scopeId","data-v-d7ac9ab5"]]),__vite_glob_3_15=Object.freeze(Object.defineProperty({__proto__:null,default:Image$1},Symbol.toStringTag,{value:"Module"})),IS_SAFARI=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$r={name:"v-input-image",components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps()},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$trans("fields.medias.edit-close"))??"",active:!1}}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),n=o.width,l=o.height;this.canvas.width=n,this.canvas.height=l,this.ctx.drawImage(this.img,o.x,o.y,n,l,0,0,n,l),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const n=this.allCrops[this.cropContext][o][0].ratio,l=this.media.width,r=this.media.height,i={x:l/2,y:r/2};let c=l,u=r;n>0&&n<1?(c=Math.floor(Math.min(r*n,l)),u=Math.floor(c/n)):n>=1&&(u=Math.floor(Math.min(l/n,r)),c=Math.floor(u*n));let s={x:0,y:0,width:c,height:u};s=cropConversion(s,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:s.width,height:s.height,minScale:1}));const f=Math.floor(i.x-c/2),p=Math.floor(i.y-u/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=f,e[o].y=p,e[o].width=c,e[o].height=u}Promise.all(a).then(o=>{let n=0;o.forEach(l=>{const r={x:l.topCrop.x,y:l.topCrop.y,width:l.topCrop.width,height:l.topCrop.height},i=e[Object.keys(e)[n]],c=cropConversion(r,this.originalDim,this.naturalDim);i.x=c.x,i.y=c.y,i.width=c.width,i.height=c.height,n++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",n=>{console.error(n),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",n=>{a(n)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a,__log(e,this.input,this.boundProps)},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$j={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$e={class:"v-field__field","data-no-activator":""},_hoisted_3$e={class:"media__field"},_hoisted_4$a={key:0,class:"media__info"},_hoisted_5$9={class:"media__img"},_hoisted_6$9={class:"media__imgFrame"},_hoisted_7$7=["src"],_hoisted_8$6=["onClick"],_hoisted_9$5={class:"media__edit--button"},_hoisted_10$4={symbol:"edit"},_hoisted_11$3=["onClick"],_hoisted_12$1={class:"media__delete--button"},_hoisted_13$1={key:0,class:"media__metadatas"},_hoisted_14$1=["onClick"],_hoisted_15$1=["title"],_hoisted_16={key:0,class:"f--small"},_hoisted_17={key:1,class:"f--small"},_hoisted_18={key:2,class:"media__note f--small"},_hoisted_19=["name","value"],_hoisted_20={class:"v-field__outline"},_hoisted_21={class:"v-field__outline__notch"},_hoisted_22={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$n(e,a,o,n,l,r){const i=resolveDirective("svg");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=c=>e.input=c),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(c=>[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",{class:normalizeClass(["media",{"media--hoverable":e.hover,"media--slide":e.isSlide}])},[createBaseVNode("div",_hoisted_3$e,[r.hasMedia?(openBlock(),createElementBlock("div",_hoisted_4$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.input,(u,s)=>(openBlock(),createElementBlock(Fragment,{key:s},[createBaseVNode("div",_hoisted_5$9,[createBaseVNode("div",_hoisted_6$9,[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(r.cropThumbnailStyle)},[e.showImg?(openBlock(),createElementBlock("img",{key:0,src:u.thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass(r.cropThumbnailClass)},null,10,_hoisted_7$7)):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"media__edit",onClick:f=>r.openMediaLibrary(1,r.mediaKey,s)},[createBaseVNode("span",_hoisted_9$5,[withDirectives((openBlock(),createElementBlock("span",_hoisted_10$4,[createVNode(VIcon,{icon:"$edit"})])),[[i]])])],8,_hoisted_8$6)),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:"media__delete",onClick:f=>r.deleteMediaClick(s,c.validate)},[createBaseVNode("span",_hoisted_12$1,[createVNode(VIcon,{icon:"$delete"})])],8,_hoisted_11$3))])]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("ul",_hoisted_13$1,[createBaseVNode("li",{class:"media__name",onClick:f=>r.openMediaLibrary(1,r.mediaKey,s)},[createBaseVNode("strong",{title:u.name},toDisplayString(u.name),9,_hoisted_15$1)],8,_hoisted_14$1),u.size?(openBlock(),createElementBlock("li",_hoisted_16,"File size: "+toDisplayString(u.size),1)):createCommentVNode("",!0),u.width+u.height?(openBlock(),createElementBlock("li",_hoisted_17,toDisplayString(e.$trans("fields.medias.original-dimensions"))+": "+toDisplayString(u.width)+" × "+toDisplayString(u.height),1)):createCommentVNode("",!0)])),a[2]||(a[2]=createBaseVNode("div",{class:"media__actions-dropDown"},null,-1))],64))),128))])):createCommentVNode("",!0),e.remainingItems?(openBlock(),createBlock(VBtn,{key:1,type:"button",onClick:a[0]||(a[0]=u=>r.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})):createCommentVNode("",!0),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_18,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(r.media),type:"hidden"},null,8,_hoisted_19)],2)]),createBaseVNode("div",_hoisted_20,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_21,[createBaseVNode("label",_hoisted_22,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const ImageOld=_export_sfc(_sfc_main$r,[["render",_sfc_render$n],["__scopeId","data-v-8cc5a462"]]),__vite_glob_3_16=Object.freeze(Object.defineProperty({__proto__:null,default:ImageOld},Symbol.toStringTag,{value:"Module"})),makeModalProps=propsFactory({modelValue:{type:Boolean,default:!1}}),ModalMixin={emits:["update:modelValue","confirm","cancel"],props:{cancelText:{type:String,default:""},confirmText:{type:String,default:""},...makeModalProps()},data(){return{id:Math.ceil(Math.random()*1e6)+"-modal"}},computed:{show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},methods:{setValue(e){this[e.target.name]=e.target.value},openModal(){this.show=!0},closeModal(){this.show=!1},cancelModal(e=null){typeof this.cancelCallback>"u"?this.closeModal():this.cancelCallback(),e&&e(),this.$emit("cancel")},confirmModal(e=null){typeof this.confirmCallback>"u"?e?e():this.closeModal():this.confirmCallback(),this.$emit("confirm")}},created(){}},_sfc_main$q={name:"v-input-locale",emits:[...makeInputEmits],mixins:[LocaleMixin],setup(e,a){return{...useInput(e,a)}},props:{...makeInputProps(),type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}}},watch:{modelValue(e){if(__isObject(e))for(const a in e)this.input[a]=e[a]},attributes:{handler(e,a){},deep:!0}},computed:{input:{get(){return this.modelValue},set(e,a){this.inputOnSet(e,a),this.updateModelValue(e)}},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all}),attributesPerLang:function(){const e={},a=this.attributes.errorMessages;return this.languages.forEach(o=>{const n=cloneDeep(omit(this.attributes,["errorMessages"]));n.required=!!o.published&&this.isRequired,n.name=`${n.name}[${o.value}]`,__isset(a[o.value])&&(n.errorMessages=a[o.value],n.error=!1),this.input?n.modelValue=this.input[o.value]:n.default,e[o.value]=n}),e}},data(){return{isCustomForm:!1,isRequired:this.attributes.required,inputObject:this.modelValue}},mounted(){this.isCustomForm=this.$root.$refs.customForm!==void 0,this.isRequired=this.attributes.required??!1},created(){},methods:{attributesPerLang_:function(e){const a=this.languages.find(n=>n.value===e),o=cloneDeep(this.attributes);return o.required=!!a.published&&this.isRequired,o.name=`${o.name}[${e}]`,this.input&&(o.modelValue=this.input[e]),o},attributesNoLang:function(){const e=cloneDeep(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(LANGUAGE.SWITCH_LANG,{oldValue:e}),this.$nextTick(function(){})},updateValue:function(e,a){},modelUpdated(e,a){try{this.input&&__isset(this.input[a])?(this.input[a]=e,this.updateModelValue(this.input)):this.input&&!__isset(this.input[a])&&e?(this.input={},this.input[a]=e,this.updateModelValue(this.input)):!this.input&&e&&(this.input={})}catch{__log("catch",this.input,a,e)}}}},_hoisted_1$i={class:"locale"};function _sfc_render$m(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$i,[e.languages&&e.languages.length&&e.languages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.languages,i=>(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:i.value,ref_for:!0},r.attributesPerLang[`${i.value}`],{class:[i.value===e.currentLocale.value||l.isCustomForm?"":"d-none"],"onUpdate:modelValue":c=>r.modelUpdated(c,i.value)}),{appendx:withCtx(()=>[e.languages.length>1?(openBlock(),createBlock(VChip,{key:0,onClick:a[0]||(a[0]=c=>r.updateLocale(e.currentLocale))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale)+" ",1),createVNode(VTooltip,{activator:"parent",location:"top"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.switch-language")),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),label:withCtx(c=>[createTextVNode(toDisplayString(c.label)+" ",1),c.label&&c.isActive&&(c.isActive.value||c.isFocused.value)?(openBlock(),createBlock(VChip,{key:0,style:{"font-size":"var(--v-field-label-scale)",height:"calc(var(--v-field-label-scale) * 1.5)"},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):c.label&&!e.$isset(c.isActive)?(openBlock(),createBlock(VChip,{key:1,style:{},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:2},1040,["class","onUpdate:modelValue"]))),128)):(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:1,name:o.attributes.name},r.attributesNoLang(),{onChange:a[1]||(a[1]=i=>r.updateValue(!1,...arguments)),onBlur:a[2]||(a[2]=i=>e.$emit("blur")),onFocus:a[3]||(a[3]=i=>e.$emit("focus"))}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:3},16,["name"]))])}const Locale=_export_sfc(_sfc_main$q,[["render",_sfc_render$m],["__scopeId","data-v-38020bfc"]]),__vite_glob_3_17=Object.freeze(Object.defineProperty({__proto__:null,default:Locale},Symbol.toStringTag,{value:"Module"}));function getCountry(){return fetch("https://ip2c.org/s").then(e=>e.text()).then(e=>{const a=(e||"").toString();if(!a||a[0]!=="1")throw new Error("unable to fetch the country");return a.substr(2,2)})}function setCaretPosition(e,a){if(e.setSelectionRange)e.focus(),e.setSelectionRange(a,a);else if(e.createTextRange){const o=e.createTextRange();o.collapse(!0),o.moveEnd("character",a),o.moveStart("character",a),o.select()}}const allCountries=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]].map(e=>({name:e[0],iso2:e[1].toUpperCase(),dialCode:e[2],priority:e[3]||0,areaCodes:e[4]||null})),defaultOptions={placeholder:"Enter a phone number",label:"Enter a Phone Number",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,mode:"international",invalidMsg:"",required:!1,allCountries,defaultCountry:"tr",enabledCountryCode:!1,enabledFlags:!0,preferredCountries:[],onlyCountries:[],ignoredCountries:[],autofocus:!1,autocomplete:"on",name:"telephone",wrapperClasses:"",inputClasses:"",inputId:"",dropdownOptions:{},inputOptions:{},maxLen:25,dynamicPlaceholder:!1},Phone$1={options:{...defaultOptions}};function getDefault(e){return Phone$1.options[e]}function getParents(e,a){const o=a||[],{parentNode:n}=e;return n?getParents(n,o.concat(n)):o}const _sfc_main$p={emits:[...makeInputEmits,"country-changed","validate","onValidate","keydown","mousedown","mouseup","input","change","focus","blur","click","space","onInput","onSpace","onBlur","onMouseup","onMousedown"],directives:{"click-outside":{bind(e,a,o){if(typeof a.value!="function"){const r=o.context.name;let i=`[Vue-click-outside:] provided expression ${a.expression} is not a function, but has to be`;r&&(i+=`Found in component ${r}`),console.warn(i)}const{bubble:n}=a.modifiers,l=r=>{const i=r.path||(r.composedPath?r.composedPath():!1)||getParents(r.target);(n||i.length&&!e.contains(i[0])&&e!==i[0])&&a.value(r)};e.__vueClickOutside__=l,document.addEventListener("click",l)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},props:{...makeInputProps(),invalidMsg:{type:String,default:()=>getDefault("invalidMsg")},mode:{type:String,default:()=>getDefault("mode")},disabled:{type:Boolean,default:!1},disabledFetchingCountry:{type:Boolean,default:()=>getDefault("disabledFetchingCountry")},allCountries:{type:Array,default:()=>getDefault("allCountries")},defaultCountry:{type:String,default:()=>getDefault("defaultCountry")},preferredCountries:{type:Array,default:()=>getDefault("preferredCountries")},onlyCountries:{type:Array,default:()=>getDefault("onlyCountries")},ignoredCountries:{type:Array,default:()=>getDefault("ignoredCountries")}},setup(e,a){return{...useInput(e,a)}},data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:{handler(e){e&&e!==this.activeCountry&&this.choose(e,!0)},deep:!0},lastValidCountry:null,data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:null,phoneRule:e=>e?PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON().valid||"Geçersiz telefon numarası":"Telefon Numarası gerekli"}}}},computed:{parsedMode(){if(this.mode)if(!["international","national"].includes(this.mode))console.error('Invalid value of prop "mode"');else return this.mode;return!this.phone||this.phone[0]!=="+"?"national":"international"},filteredCountries(){return this.onlyCountries.length?this.getCountries(this.onlyCountries):this.ignoredCountries.length?this.allCountries.filter(({iso2:e})=>!this.ignoredCountries.includes(e.toUpperCase())&&!this.ignoredCountries.includes(e.toLowerCase())):this.allCountries},sortedCountries(){return[...this.getCountries(this.preferredCountries).map(a=>({...a,preferred:!0})),...this.filteredCountries]},phoneObject(){const e=PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON();return Object.assign(e,{isValid:e.valid,country:this.activeCountry}),this.phone?e:{...e,number:{_phone:""}}},phoneText(){let e="_phone";return this.phoneObject.isValid?e=this.parsedMode:this.boundProps.validate=!1,this.phoneObject.number[e]||""}},watch:{"phoneObject.valid":function(e){e&&(this.phone=this.phoneText,this.lastValidCountry={...this.activeCountry}),this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)},modelValue(e,a){__isString(e)&&(this.phone=this.modelValue)},open(e){e?this.$emit("open"):this.$emit("close")},phone:{handler(e,a){if(e){if(e[0]==="+"){const o=PhoneNumber(e).getRegionCode();if(o){const n=this.findCountry(o);n&&(this.activeCountry=n,this.countryCode=n)}}else for(const o of this.sortedCountries)if(PhoneNumber(e,o.iso2).valid){this.activeCountry=o,this.countryCode=o;break}}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},immediate:!0},activeCountry(e){e&&e.iso2&&(this.boundProps.placeholder=awesomePhonenumberExports.getExample(e.iso2).toJSON().number.national,this.boundProps.persistentPlaceholder=!0,this.$emit("country-changed",e))},countryCode(e,a){this.choose(e,!0)}},mounted(){this.$watch(`$refs.${this.getReference("countryInput")}.isResetting`,e=>e&&this.reset()),(!this.activeCountry||!this.activeCountry.iso2)&&this.reset()},created(){if(this.modelValue&&(this.phone=this.modelValue.trim(),this.phone[0]==="+")){const e=PhoneNumber(this.phone).getRegionCode();if(e){const a=this.findCountry(e);a&&(this.activeCountry=a,this.countryCode=a)}}__isset(this.boundProps.rules)||(this.boundProps.rules=[]),this.boundProps.rules.push(this.phoneRule)},methods:{inputOnSet(e,a){if((e||__isString(e))&&e[0]==="+"){const o=PhoneNumber(e).getRegionCode();o&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},initializeCountry(){return new Promise(e=>{if(this.phone&&this.phone[0]==="+"){const o=PhoneNumber(this.input).getRegionCode();if(o){this.choose(o),e();return}}if(this.defaultCountry){const o=this.findCountry(this.defaultCountry);if(o){this.choose(o),e();return}}const a=this.findCountry(this.preferredCountries[0])||this.filteredCountries[0];this.disabledFetchingCountry?(this.choose(a),e()):getCountry().then(o=>{this.phone===""&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}).catch(o=>{console.warn(o),this.choose(a)}).finally(()=>{e()})})},getCountries(e=[]){return e.map(a=>this.findCountry(a)).filter(Boolean)},findCountry(e=""){return this.allCountries.find(a=>a.iso2===e.toUpperCase())},getItemClass(e,a){const o=this.selectedIndex===e,n=e===this.preferredCountries.length-1,l=this.preferredCountries.some(r=>r.toUpperCase()===a);return{highlighted:o,"last-preferred":n,preferred:l}},choose(e,a=!1){if(this.activeCountry=e||this.activeCountry||{},this.phone&&this.phone[0]==="+"&&this.activeCountry.iso2&&this.phoneObject.number.significant){const o=PhoneNumber(this.phoneObject.number.significant,this.activeCountry.iso2);o.valid&&(this.phone=o.getNumber("international"))}else this.inputOptions&&this.inputOptions.showDialCode&&e&&e.dialCode&&(this.phone=`+${e.dialCode}`);this.countryCode=this.activeCountry,a&&(this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject))},reset(){this.activeCountry&&this.activeCountry.iso2&&(this.countryCode=this.activeCountry),this.initializeCountry().then(()=>{!this.phone&&this.inputOptions&&this.inputOptions.showDialCode&&this.activeCountry.dialCode&&(this.phone=`+${this.activeCountry.dialCode}`),this.countryCode=this.activeCountry,this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)}).catch(console.error).finally(()=>{this.finishMounted=!0}),this.open=!1},onInput(e){e&&e.target&&(this.cursorPosition=e.target.selectionStart)},onBlur(){this.$emit("blur"),this.$emit("onBlur")},onFocus(e){this.$emit("focus",e)},onClick(e){this.$emit("click",e)},onChange(e){this.$emit("change",e)},onMouseUp(e){this.$emit("mouseup",e)},onMouseDown(e){this.$emit("mousedown",e)},onKeyDown(e){this.$emit("keydown",e)},onEnter(){this.$emit("enter"),this.$emit("onEnter")},onSpace(){this.$emit("space"),this.$emit("onSpace")},focus(){this.$refs[this.getReference("phoneInput")].focus()},toggleDropdown(){this.disabled||(this.open=!this.open)},clickedOutside(){this.open=!1},keyboardNav(e){if(e.keyCode===40){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=0:this.selectedIndex=Math.min(this.sortedCountries.length-1,this.selectedIndex+1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop+a.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight&&(this.$refs.list.scrollTop=a.offsetTop-this.$refs.list.clientHeight+a.clientHeight)}else if(e.keyCode===38){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=this.sortedCountries.length-1:this.selectedIndex=Math.max(0,this.selectedIndex-1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop<this.$refs.list.scrollTop&&(this.$refs.list.scrollTop=a.offsetTop)}else if(e.keyCode===13)this.selectedIndex!==null&&this.choose(this.sortedCountries[this.selectedIndex]),this.open=!this.open;else{this.typeToFindInput+=e.key,clearTimeout(this.typeToFindTimer),this.typeToFindTimer=setTimeout(()=>{this.typeToFindInput=""},700);const a=this.sortedCountries.slice(this.preferredCountries.length).findIndex(o=>o.name.toLowerCase().startsWith(this.typeToFindInput));if(a>=0){this.selectedIndex=this.preferredCountries.length+a;const o=this.$refs.list.children[this.selectedIndex],n=o.offsetTop<this.$refs.list.scrollTop,l=o.offsetTop+o.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight;(n||l)&&(this.$refs.list.scrollTop=o.offsetTop-this.$refs.list.clientHeight/2)}}}}};function _sfc_render$l(e,a,o,n,l,r){return openBlock(),createBlock(VRow,{"no-gutters":"",class:normalizeClass(["vue-tel-input-vuetify flex-nowrap",e.$lodash.pick(e.boundProps,["wrapperClasses"])??e.getDefault("wrapperClasses")])},{default:withCtx(()=>[createVNode(VAutocomplete,mergeProps({class:"flex-grow-0 flex-shrink-1",ref:e.makeReference("countryInput"),modelValue:l.countryCode,"onUpdate:modelValue":a[0]||(a[0]=i=>l.countryCode=i)},e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{items:r.sortedCountries,"item-title":"name","item-value":"iso2","menu-props":{maxHeight:200},autocomplete:"off","return-object":"","onUpdate:modelValue":r.choose,disabled:o.disabled}),{selection:withCtx(()=>[l.activeCountry&&l.activeCountry.iso2?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([l.activeCountry.iso2.toLowerCase(),"vti__flag"])},null,2)):createCommentVNode("",!0)]),item:withCtx(({item:i,props:c})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(c)),{prepend:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([i.raw.iso2.toLowerCase(),"vti__flag"])},null,2)]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(" +"+toDisplayString(i.raw.dialCode),1)]),_:2},1024)]),_:2},1040)]),_:1},16,["modelValue","items","onUpdate:modelValue","disabled"]),createVNode(VTextField,mergeProps({ref:e.makeReference("phoneInput"),type:"tel",class:"flex-grow-1 flex-shrink-0",modelValue:l.phone,"onUpdate:modelValue":a[1]||(a[1]=i=>l.phone=i)},e.boundProps,{onInput:r.onInput,onBlur:r.onBlur,onFocus:r.onFocus,onClick:r.onClick,onChange:r.onChange,onMousedown:r.onMouseDown,onMouseup:r.onMouseUp,onKeydown:r.onKeyDown,onKeyup:[withKeys(r.onEnter,["enter"]),withKeys(r.onSpace,["space"])],disabled:o.disabled}),null,16,["modelValue","onInput","onBlur","onFocus","onClick","onChange","onMousedown","onMouseup","onKeydown","onKeyup","disabled"])]),_:1},8,["class"])}const Phone=_export_sfc(_sfc_main$p,[["render",_sfc_render$l]]),__vite_glob_3_19=Object.freeze(Object.defineProperty({__proto__:null,default:Phone},Symbol.toStringTag,{value:"Module"})),_sfc_main$o={name:"ue-currency-number",props:{modelValue:Number,errorMessages:{type:Array,default:()=>[]}},setup(e,a){return{...useCurrencyNumber(e)}},created(){}};function _sfc_render$k(e,a,o,n,l,r){return openBlock(),createBlock(VTextField,mergeProps({ref:"inputRef",modelValue:e.formattedValue,"onUpdate:modelValue":a[0]||(a[0]=i=>e.formattedValue=i)},{...e.$bindAttributes(e.$lodash.pick(e.$attrs,["label","error"]))},{errorMessages:o.errorMessages}),createSlots({_:2},[renderList(e.$slots,(i,c)=>({name:c,fn:withCtx(u=>[renderSlot(e.$slots,c,normalizeProps(guardReactiveProps(u)))])}))]),1040,["modelValue","errorMessages"])}const CurrencyNumber=_export_sfc(_sfc_main$o,[["render",_sfc_render$k]]),_sfc_main$n={name:"v-input-price",emits:[...makeInputEmits],components:{CurrencyNumber},props:{...makeInputProps(),modelValue:{type:[Array,Object],default(){return[{[this.priceInputName]:1,currency_id:1,vat_rate_id:1,price_type_id:1,raw_amount:1,discount_percentage:0}]}},priceInputName:{type:String},currencyInputName:{type:String,default:"currency_id"},numberMultiplier:{type:Number,default:100},items:{type:Array},vatRates:{type:Array,default:()=>[]},rules:{type:Array,default:()=>[]},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasDiscount:{type:Boolean,default:!1}},setup(e,a){const o=useInput(e,a),n=ref(Array.isArray(e.modelValue)?e.modelValue.map(u=>u):[e.modelValue]),l=ref(n.value.map(u=>[])),r=reactive(new Map);return{...o,deepModel:n,inputRefs:r,setInputRef:(u,s)=>{s?r.set(u,s):r.delete(u)},getInputRef:u=>r.get(u),errorMessages:l}},data(){return{}},methods:{changeCurrency(e,a){if(this.readonly)return;const o=this.currencies.findIndex(n=>n.id===this.modelValue[a][this.currencyInputName]);this.deepModel[a][this.currencyInputName]=o===this.totalCurrencies-1?this.currencies[0].id:this.currencies[o+1].id},updateNumberInput(e,a){this.deepModel[a][this.priceInputName]=e,this.$nextTick(()=>{try{let o=this.inputRefs.get(a);this.errorMessages[a]=o.errorMessages}catch(o){console.error(o)}})},updateVatRate(e,a){this.deepModel[a].vat_rate_id=e},updateModelValue(){this.$emit("update:modelValue",this.deepModel.map(e=>e))},displayFormattedPrice(e,a){var i;const o=((i=this.$lodash.find(this.vatRates,["value",a.vat_rate_id]))==null?void 0:i.rate)/100,n=(a.discount_percentage||0)/100,l=a[this.priceInputName],r=(Math.round(l*(1-n))*(1+o)).toFixed(2);try{return Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(r)}catch(c){console.log(c)}return e+" "+r}},watch:{modelValue:{deep:!0,handler(e,a){e?this.deepModel=Array.isArray(e)?e.map(o=>o):[e]:this.deepModel=[{[this.priceInputName]:1,currency_id:1}]}},deepModel:{deep:!0,handler(e){}}},computed:{currencies(){return this.items},displayedCurrency(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).name)},displayedCurrencyISO4217(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).iso)},totalCurrencies(){return this.currencies.length}},created(){}},_hoisted_1$h={class:"d-flex w-100 ga-2"},_hoisted_2$d={key:0,class:"w-100 d-flex justify-center"},_hoisted_3$d={class:"text-h2 text-white font-weight-bold"};function _sfc_render$j(e,a,o,n,l,r){const i=resolveComponent("CurrencyNumber");return openBlock(!0),createElementBlock(Fragment,null,renderList(n.deepModel,(c,u)=>(openBlock(),createElementBlock(Fragment,{key:`price-${u}`},[createBaseVNode("div",_hoisted_1$h,[createVNode(VInput,mergeProps({ref_for:!0,ref:s=>n.setInputRef(u,s),modelValue:n.deepModel[u][o.priceInputName],"onUpdate:modelValue":s=>n.deepModel[u][o.priceInputName]=s,class:"v-input-price"},{...e.$lodash.pick(e.$attrs,["error","errorMessages"])},{rules:o.rules,"hide-details":""}),{default:withCtx(s=>[createVNode(i,mergeProps({class:"flex-grow-1",ref_for:!0},{label:e.label,...e.$attrs},{name:`${e.$attrs.name}-${u}`,modelValue:n.deepModel[u][o.priceInputName],"onUpdate:modelValue":f=>r.updateNumberInput(f,u),readonly:o.readonly,errorMessages:n.errorMessages[u]}),{"append-inner":withCtx(({isActive:f,isFocused:p,controlRef:m,focus:y,blur:v})=>[createVNode(VChip,{onClick:g=>r.changeCurrency(g,u)},{default:withCtx(()=>[createTextVNode(toDisplayString(r.displayedCurrency[u]),1)]),_:2},1032,["onClick"])]),_:2},1040,["name","modelValue","onUpdate:modelValue","readonly","errorMessages"])]),details:withCtx(()=>[createTextVNode(toDisplayString(n.errorMessages[u]),1)]),_:2},1040,["modelValue","onUpdate:modelValue","rules"]),withDirectives(createVNode(VSelect,mergeProps({ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("VAT Rate"),items:o.vatRates,class:"flex-grow-0",modelValue:n.deepModel[u].vat_rate_id,"onUpdate:modelValue":s=>n.deepModel[u].vat_rate_id=s}),null,16,["label","items","modelValue","onUpdate:modelValue"]),[[vShow,o.vatRates.length>0]]),o.hasDiscount?(openBlock(),createBlock(VNumberInput,mergeProps({key:0,modelValue:n.deepModel[u].discount_percentage,"onUpdate:modelValue":s=>n.deepModel[u].discount_percentage=s,ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("Discount %"),"control-variant":"stacked",min:0,max:100,rules:[]}),null,16,["modelValue","onUpdate:modelValue","label"])):createCommentVNode("",!0)]),o.vatRates.length>0?(openBlock(),createElementBlock("div",_hoisted_2$d,[createVNode(VCard,{class:"w-75",color:"success",rounded:"lg",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center py-6"},{default:withCtx(()=>[a[0]||(a[0]=createBaseVNode("div",{class:"text-h6 text-white mb-2"},"Total Pay",-1)),createBaseVNode("div",_hoisted_3$d,toDisplayString(r.displayFormattedPrice(r.displayedCurrencyISO4217[u],n.deepModel[u])),1)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)],64))),128)}const Price=_export_sfc(_sfc_main$n,[["render",_sfc_render$j]]),__vite_glob_3_20=Object.freeze(Object.defineProperty({__proto__:null,default:Price},Symbol.toStringTag,{value:"Module"})),_sfc_main$m={name:"v-input-process",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),color:{type:String,default:"primary"},cardVariant:{type:String,default:"outlined"},process:{type:Object},processableTitle:{type:String,default:"name"},processableDetails:{type:Array,default:()=>[]},schema:{type:Object},formatters:{type:Object,default:()=>{}},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},processableEditableRoles:{type:[Array,Object],default:()=>["superadmin"]},processEditableRoles:{type:Array,default:()=>["superadmin"]},processableShowStatuses:{type:[Array,Object],default:()=>["*"]},actionRoles:{type:Object,default:()=>{}},displayColRatio:{type:Array,default:()=>[5,7]},historyColRatio:{type:Array,default:null},statusConfiguration:{type:Object,default:()=>{},value:()=>({preparing:{title:"Preparing",icon:"mdi-progress-clock",color:"secondary",card_color:"grey",card_variant:"outlined",next_action_label:"Preparing",next_action_color:"secondary",dialog_title:"Preparing",dialog_message:"The contents are being prepared or updated. Please check back later.",dialog_confirm_text:"Preparing",dialog_cancel_text:"The contents are being prepared or updated. Please check back later.",response_message:"The contents are being prepared or updated. Please check back later."}})},responseLocation:{type:String,default:"top"}},setup(e,a){var G;const{t:o}=useI18n(),n=useStore(),{hasRoles:l}=useAuthorization(),r=useDynamicModal(),u=useInput(e,{...a,initializeInput:$=>$,updateModelValue:$=>{a.emit("update:modelValue",$)}}),s=ref(e.process),f=ref(((G=e.process)==null?void 0:G.processable)??null),p=ref(!1),m=ref(!1),y=()=>{let $={},j=lodash.get(s.value,"processable",{});if(e.schema&&__isObject(e.schema)&&($=e.schema,e.formatters&&__isObject(e.formatters))){for(const[q,X]of Object.entries(e.formatters))if($[q])for(const[J,R]of Object.entries(X)){let F=R;__isString(R)&&(F=R.split(","));let[H,W]=F;if(__isset(j[H])){let K=j[H];__isset(K[W])&&($[q][J]=K[W])}}}return $},v=ref(!e.process),g=ref(!1),C=ref(null),k=ref(!1),b=ref(e.process?y():null),w=computed(()=>{var $;return(($=C.value)==null?void 0:$.validModel)??null}),S=()=>{b.value=y()},T=ref(""),V=ref(!1),A=($,j)=>{var F,H;let q=o("Are you sure you want to update the process?"),X=o("This action cannot be undone.");e.statusConfiguration&&e.statusConfiguration[$]&&e.statusConfiguration[$].dialog_title?q=e.statusConfiguration[$].dialog_title:(F=s.value)!=null&&F.status_dialog_titles&&s.value.status_dialog_titles[$]&&(q=s.value.status_dialog_titles[$]),e.statusConfiguration&&e.statusConfiguration[$]&&e.statusConfiguration[$].dialog_message?X=e.statusConfiguration[$].dialog_message:(H=s.value)!=null&&H.status_dialog_messages&&s.value.status_dialog_messages[$]&&(X=s.value.status_dialog_messages[$]);let J=M($,"dialog_confirm_text",o("Yes")),R=M($,"dialog_cancel_text",o("No"));r.open(null,{modalProps:{widthType:"md",title:q,description:X,confirmText:J,cancelText:R,titleJustify:"center",confirmCallback:async()=>{await j()}}})},I=()=>{if(u.input.value>0&&!e.process){const $=e.fetchEndpoint.replace(":id",u.input.value);v.value=!0,axios.get($).then(j=>{var q;v.value=!1,j.status===200&&(s.value=j.data,f.value=((q=s.value)==null?void 0:q.processable)??{},S(),nextTick().then(async()=>{C.value&&(await C.value.validate(),await C.value.VForm.resetValidation(),m.value=C.value.validModel)}))}).catch(j=>{}).finally(()=>{v.value=!1})}},D=async $=>{if(u.input.value){if(z.value&&(await C.value.validate(),!C.value.validModel)){n.commit(ALERT$1.SET_ALERT,{message:o("Please fill all the required fields"),variant:"error",location:"top",timeout:2e3});return}g.value=!0;const j=e.updateEndpoint.replace(":id",u.input.value),q={status:$,reason:T.value};axios.put(j,q).then(X=>{var J,R;if(X.status===200){V.value=!1,T.value="";let F=X.data.process_status,H=((R=(J=e.statusConfiguration)==null?void 0:J[F])==null?void 0:R.response_message)??X.data.message;n.commit(ALERT$1.SET_ALERT,{message:H,variant:X.data.variant,location:e.responseLocation}),I()}}).finally(()=>{g.value=!1})}},M=($,j,q=null)=>e.statusConfiguration&&e.statusConfiguration[$]&&e.statusConfiguration[$][j]?e.statusConfiguration[$][j]:q,N=async $=>{A($,()=>D($))},x=$=>!e.actionRoles[$]||l(e.actionRoles[$]),E=()=>{var j;let $=e.processableEditableRoles;return __isString($)&&$==="*"?["*"]:Array.isArray($)&&$.includes("*")?["*"]:Array.isArray($)?$:__isObject($)?$[(j=s.value)==null?void 0:j.status]??[]:[]},z=computed(()=>{let $=E();return Array.isArray($)&&$.includes("*")?!0:l($)}),B=$=>{let j=e.processableShowStatuses;if(__isString(j)&&j==="*"||Array.isArray(j)&&j.includes("*"))return!0;if(!($!=null&&$.status))return!1;const q=$.status;if(__isObject(j)){for(const[X,J]of Object.entries(j))if(q===X&&(__isString(J)&&J==="*"||Array.isArray(J)&&J.includes("*")||l(J)))return!0}else if(Array.isArray(j)&&j.includes($==null?void 0:$.status))return!0;return!1},O=computed(()=>B(s.value)),U=computed(()=>{var $;return($=s.value)!=null&&$.status?s.value.status_informational_message:o("The contents are being prepared or updated. Please check back later.")}),P=reactive({loading:v,updating:g,UeForm:C,formActive:k,formIsValid:w,processableModel:f,processValid:p,processableValid:m,hasProcessableEditing:z,showProcessableDetails:O,informationalMessage:U,reason:T,promptModalActive:V,title:computed(()=>{var $;return($=s.value)!=null&&$.processable?lodash.get(s.value.processable,e.processableTitle,""):null}),flattenedProcessableDetails:computed(()=>{var q;const $=((q=s.value)==null?void 0:q.processable)??{};let j=[];for(const X of e.processableDetails)__isset(X.field)&&__isset(X.title)&&j.push({title:o(X.title),value:lodash.get($,X.field,"")});return j}),bothFormAndProcessableValid:computed(()=>m.value&&w.value),onlyOneValid:computed(()=>m.value&&!w.value||!m.value&&w.value),status:computed(()=>{var q,X,J,R,F,H,W,K,Y,Q,ae,Z,ee,oe,ne,re,le,ie,se,de;const $={label:"",icon:"",color:"",card_color:"",card_variant:"outlined",next_action_label:"",next_action_color:"",dialog_title:"",dialog_message:"",response_message:null};if(!s.value)return $;let j=s.value;return $.label=((X=(q=e.statusConfiguration)==null?void 0:q[j.status])==null?void 0:X.title)??j.status_label,$.icon=((R=(J=e.statusConfiguration)==null?void 0:J[j.status])==null?void 0:R.icon)??j.status_icon,$.color=((H=(F=e.statusConfiguration)==null?void 0:F[j.status])==null?void 0:H.color)??j.status_color,$.card_color=((K=(W=e.statusConfiguration)==null?void 0:W[j.status])==null?void 0:K.card_color)??j.status_card_color??e.color,$.card_variant=((Q=(Y=e.statusConfiguration)==null?void 0:Y[j.status])==null?void 0:Q.card_variant)??j.status_card_variant??e.cardVariant,$.next_action_label=((Z=(ae=e.statusConfiguration)==null?void 0:ae[j.status])==null?void 0:Z.next_action_label)??j.next_action_label,$.next_action_color=((oe=(ee=e.statusConfiguration)==null?void 0:ee[j.status])==null?void 0:oe.next_action_color)??j.next_action_color,$.dialog_title=((re=(ne=e.statusConfiguration)==null?void 0:ne[j.status])==null?void 0:re.dialog_title)??j.status_dialog_title,$.dialog_message=((ie=(le=e.statusConfiguration)==null?void 0:le[j.status])==null?void 0:ie.dialog_message)??j.status_dialog_message,$.response_message=(de=(se=e.statusConfiguration)==null?void 0:se[j.status])==null?void 0:de.response_message,$}),nextActionStatus:computed(()=>{var $;switch(($=s.value)==null?void 0:$.status){case"preparing":return"waiting_for_confirmation";case"confirmed":return"preparing";default:return"waiting_for_reaction"}})}),L=reactive({setSchema:S,canAction:x,fetchProcess:I,updateProcess:D,confirmUpdateProcess:N,getStatusConfigurationValue:M});return onMounted(()=>{I()}),{...u,...toRefs(P),formSchema:b,processModel:s,...toRefs(L)}},watch:{input:{handler(e,a){},immediate:!0},processableModel:{handler(e){e&&this.$nextTick(()=>{})},immediate:!0}},methods:{async updateProcessable(){if(this.input){let e={...this.$lodash.omit(this.UeForm.model,["id"])};const a=this.updateEndpoint.replace(":id",this.input),o=this;axios.put(a,e).then(n=>{n.data.variant==="success"&&(o.$store.commit(ALERT$1.SET_ALERT,{message:n.data.message,variant:n.data.variant}),o.$refs.formModal&&typeof o.$refs.formModal.close=="function"&&o.$refs.formModal.close(),o.fetchProcess())})}}}},_hoisted_1$g={key:0,class:"text-subtitle-1 mb-4"};function _sfc_render$i(e,a,o,n,l,r){const i=resolveComponent("ue-form"),c=resolveComponent("v-btn-secondary"),u=resolveComponent("v-btn-primary"),s=resolveComponent("ue-modal"),f=resolveComponent("ue-list-section"),p=resolveComponent("ue-filepond-preview"),m=resolveComponent("ue-title");return openBlock(),createElementBlock("div",null,[n.formSchema&&e.processableModel?(openBlock(),createBlock(s,{key:0,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[3]||(a[3]=y=>e.formActive=y),scrollablex:"",transition:"dialog-bottom-transition","width-type":"md",full:"",eager:""},{body:withCtx(y=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(i,{ref:"UeForm",modelValue:e.processableModel,"onUpdate:modelValue":a[0]||(a[0]=v=>e.processableModel=v),schema:n.formSchema,title:e.title,style:normalizeStyle(y.isFullActive?"height: 90vh !important;":"height: 70vh !important;"),"is-editing":"","fill-height":"",scrollable:"","has-divider":""},null,8,["modelValue","schema","title","style"]),createVNode(VDivider,{class:"mx-6 mt-4"}),createVNode(VCardActions,{class:"px-6 flex-grow-0"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(c,{slim:!1,variant:"outlined",onClick:a[1]||(a[1]=v=>e.$refs.formModal.close())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1}),e.$store.getters.isSuperAdmin?(openBlock(),createBlock(c,{key:0,slim:!1,variant:"outlined",onClick:a[2]||(a[2]=v=>e.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Validate")),1)]),_:1})):createCommentVNode("",!0),createVNode(u,{slim:!1,variant:"elevated",onClick:r.updateProcessable,disabled:!e.formIsValid},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.save")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"])):createCommentVNode("",!0),createVNode(VCard,{color:e.status.card_color,variant:e.status.card_variant,class:"mb-4 w-100 h-100 d-flex flex-column"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-heading, list-item-three-line",class:"mb-4 w-100 h-100",style:{"min-height":"300px"}})):n.processModel?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VCardText,{class:"d-flex flex-column"},{default:withCtx(()=>{var y;return[createVNode(VRow,{"no-gutters":"",class:"pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"7",xl:"8",class:"text-h5 font-weight-medium text-wrap"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"5",xl:"4",class:"d-flex justify-sm-end"},{default:withCtx(()=>[createVNode(VChip,{"prepend-icon":e.status.icon,color:e.status.color,class:"text-subtitle-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.status.label),1)]),_:1},8,["prepend-icon","color"])]),_:1})]),_:1}),createVNode(VSpacer,{class:"flex-grow-0"}),e.hasProcessableEditing?(openBlock(),createBlock(VRow,{key:0},{default:withCtx(()=>[n.formSchema&&e.processableModel?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VBtn,{ref:"editButton",colorx:"primary",density:"compact",variant:e.bothFormAndProcessableValid?"outlined":"elevated",elevation:e.bothFormAndProcessableValid?null:10,color:e.bothFormAndProcessableValid?"success":e.onlyOneValid?"warning":"secondary","prepend-icon":e.bothFormAndProcessableValid?"mdi-check-circle-outline":e.onlyOneValid?"mdi-progress-question":"mdi-gesture-tap",onClick:a[4]||(a[4]=v=>e.$refs.formModal.open()),class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.bothFormAndProcessableValid?e.$t("Edit"):e.onlyOneValid?e.$t("Complete"):e.$t("Fill")),1)]),_:1},8,["variant","elevation","color","prepend-icon"])]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.flattenedProcessableDetails.length>0?(openBlock(),createBlock(f,{key:1,items:e.flattenedProcessableDetails,"item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"col-ratios":[5,7]},null,8,["items"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(n.formSchema,v=>{var g;return openBlock(),createBlock(f,{key:v.name,items:[{title:v.label??e.$t("Unknown"),value:(g=e.processableModel)==null?void 0:g[v.name]}],"col-element":"div","item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"item-classes":"text-body-2","col-ratios":o.displayColRatio,"vertical-align-top":""},{"field.1":withCtx(C=>[v.type==="input-filepond"?(openBlock(),createBlock(p,{key:0,source:C.value,"show-inline-file-name":"","image-size":"24",style:{width:"155px"}},null,8,["source"])):v.type==="text"&&v.ext==="date"||["input-date","date-input"].includes(v.type)?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(C.value?e.$d(C.value,v.displayDateFormat??"numeric"):""),1)],64)):(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(C.value),1)],64))]),_:2},1032,["items","col-ratios"])}),128)):createCommentVNode("",!0),n.processModel.last_history&&n.processModel.last_history.reason?(openBlock(),createBlock(f,{key:3,items:[{title:n.processModel.status_reason_label,value:n.processModel.last_history.reason}],"item-fields":["title","value"],"col-classes":["font-weight-bold text-wrap","d-flex justify-start"],"col-ratios":o.historyColRatio??o.displayColRatio},null,8,["items","col-ratios"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?createCommentVNode("",!0):(openBlock(),createBlock(VAlert,{key:4,type:"info",variant:"tonal",color:((y=n.processModel)==null?void 0:y.status_card_color)??o.color,class:"my-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.informationalMessage),1)]),_:1},8,["color"]))]}),_:1}),createVNode(VSpacer),e.$hasRoles(o.processEditableRoles)?(openBlock(),createBlock(VCardActions,{key:0,class:"px-4"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[n.processModel&&n.processModel.status?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[n.processModel.status.match(/waiting_for_confirmation|waiting_for_reaction/)&&e.canAction(n.processModel.status)?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(s,{ref:"promptModal",modelValue:e.promptModalActive,"onUpdate:modelValue":a[8]||(a[8]=y=>e.promptModalActive=y),"width-type":"sm",transition:"dialog-bottom-transition"},{activator:withCtx(({props:y})=>[createVNode(VBtn,mergeProps({color:"error",variant:"outlined",class:"mr-2"},y),{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[11]||(a[11]=[createTextVNode("mdi-close")])),_:1})]),_:2},1040)]),body:withCtx(y=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(m,{padding:"b-6",justify:"center"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.getStatusConfigurationValue("rejected","dialog_title",e.$t("Confirm Rejection"))),1)]),_:1}),e.getStatusConfigurationValue("rejected","dialog_message")?(openBlock(),createElementBlock("p",_hoisted_1$g,toDisplayString(e.getStatusConfigurationValue("rejected","dialog_message")),1)):createCommentVNode("",!0),createVNode(VTextarea,{modelValue:e.reason,"onUpdate:modelValue":a[5]||(a[5]=v=>e.reason=v),variant:"outlined",label:"Reason"},null,8,["modelValue"])]),_:1}),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(VBtn,{slim:!1,color:"grey",variant:"outlined",disabled:e.updating,onClick:a[6]||(a[6]=v=>e.promptModalActive=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(e.getStatusConfigurationValue("rejected","dialog_cancel_text",e.$t("Close"))),1)]),_:1},8,["disabled"]),createVNode(VBtn,{color:"error",slim:!1,variant:"elevated",disabled:!e.reason,loading:e.updating,onClick:a[7]||(a[7]=v=>e.updateProcess("rejected"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.getStatusConfigurationValue("rejected","dialog_confirm_text",e.$t("Reject"))),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VBtn,{color:"success",variant:"elevated",loading:e.updating,onClick:a[9]||(a[9]=y=>e.confirmUpdateProcess("confirmed"))},{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("mdi-check")])),_:1})]),_:1},8,["loading"])],64)):e.canAction(n.processModel.status)?(openBlock(),createBlock(VBtn,{key:1,color:e.status.next_action_color,variant:"elevated",loading:e.updating,disabled:n.processModel.status==="preparing"&&!e.bothFormAndProcessableValid,onClick:a[10]||(a[10]=y=>e.confirmUpdateProcess(e.nextActionStatus))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.status.next_action_label),1)]),_:1},8,["color","loading","disabled"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),_:1},8,["color","variant"])])}const Process=_export_sfc(_sfc_main$m,[["render",_sfc_render$i]]),__vite_glob_3_21=Object.freeze(Object.defineProperty({__proto__:null,default:Process},Symbol.toStringTag,{value:"Module"})),_hoisted_1$f=["innerHTML"],_sfc_main$l={__name:"RadioGroup",props:{...makeInputProps(),items:{type:Object,default:()=>[]},itemTitle:{type:String,default:"name"},itemValue:{type:String,default:"id"},descriptionTitle:{type:String,default:"description"},color:{type:String,default:"primary"},maxWidth:{type:[String,Number],default:null},minWidth:{type:[String,Number],default:null},isCentered:{type:Boolean,default:!1}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,n=a,l=i=>i,{input:r}=useInput(o,{emit:n,initializeInput:l});return(i,c)=>{const u=resolveComponent("ue-title");return openBlock(),createBlock(VRadioGroup,{modelValue:unref(r),"onUpdate:modelValue":c[0]||(c[0]=s=>isRef(r)?r.value=s:null),direction:"horizontal",class:"v-input-radio-group","hide-details":""},{default:withCtx(()=>[i.label?(openBlock(),createBlock(u,{key:0,text:i.label,color:"grey-darken-5",padding:"b-4",margin:"b-0",transform:"none"},null,8,["text"])):createCommentVNode("",!0),createVNode(VRow,{class:normalizeClass([i.$vuetify.display.mdAndUp&&e.isCentered?"me-auto ms-auto":""]),style:normalizeStyle({...i.$vuetify.display.mobile?{}:{maxWidth:e.maxWidth,minWidth:e.minWidth}})},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(s,f)=>(openBlock(),createBlock(VCol,{key:`col-${s[e.itemValue]}`,cols:12,md:6},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-radio-group__btn",color:e.color,variant:unref(r)==s[e.itemValue]?"elevated":"outlined",disabled:i.$attrs.disabled??!1,readonly:i.protectInitialValue,onClick:p=>r.value=s[e.itemValue]},{prepend:withCtx(()=>[createVNode(VRadio,{value:s[e.itemValue],disabled:i.$attrs.disabled??!1},null,8,["value","disabled"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(s[e.itemTitle].toUpperCase()),1)]),_:2},1032,["color","variant","disabled","readonly","onClick"]),s[e.descriptionTitle]?(openBlock(),createElementBlock("div",{key:0,class:"text-caption pa-2",innerHTML:s[e.descriptionTitle]},null,8,_hoisted_1$f)):createCommentVNode("",!0)]),_:2},1024))),128))]),_:1},8,["class","style"])]),_:1},8,["modelValue"])}}},__vite_glob_3_22=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$l},Symbol.toStringTag,{value:"Module"})),_sfc_main$k={name:"v-input-repeater",emits:[...makeInputEmits],components:{Draggable},props:{...makeDraggableProps(),...makeRepeaterProps(),noToolbar:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1}},setup(e,a){return{...useDraggable(e),...useRepeater(e,a)}},data(){return{isOpen:!0}},computed:{},methods:{},watch:{},created(){}},_hoisted_1$e={class:"w-100"},_hoisted_2$c={key:0,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_3$c={key:0,class:"d-flex"},_hoisted_4$9={class:"d-flex flex-column"},_hoisted_5$8={class:"mt-4"},_hoisted_6$8={key:1,class:normalizeClass(["v-input-repeater__block v-input-repeater__block--draggable"])},_hoisted_7$6={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_8$5={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_9$4={key:3,class:"v-input-repeater__bottom mb-12"},_hoisted_10$3={class:"d-flex"},_hoisted_11$2={class:"ml-auto"};function _sfc_render$h(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-recursive-stuff"),u=resolveComponent("v-custom-form-base"),s=resolveComponent("Draggable"),f=resolveComponent("ue-collapsible");return openBlock(),createBlock(VInput,{class:normalizeClass(["v-input-repeater",e.totalRepeats===0&&e.hideIfEmpty?"d-none":""])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_2$c,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:50,width:6})])):createCommentVNode("",!0),createVNode(f,{modelValue:l.isOpen,"onUpdate:modelValue":a[3]||(a[3]=p=>l.isOpen=p),"no-collapse":!o.collapsible,"no-header-background":"","horizontal-padding":0,"vertical-padding":0,class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":"")},createSlots({default:withCtx(()=>[createBaseVNode("div",_hoisted_5$8,[!e.noHeaders&&e.hasRepeaterModels?(openBlock(),createBlock(VRow,{key:0,class:"mb-4","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headers,p=>(openBlock(),createBlock(VCol,mergeProps({key:p.title,ref_for:!0},p.col),{default:withCtx(()=>[createTextVNode(toDisplayString(p.title),1)]),_:2},1040))),128))]),_:1})):createCommentVNode("",!0),e.draggable?(openBlock(),createElementBlock("div",_hoisted_6$8,[createVNode(s,mergeProps({class:"v-input-repeater__content",modelValue:e.repeaterModels,"onUpdate:modelValue":a[1]||(a[1]=p=>e.repeaterModels=p),"item-key":"id"},e.dragOptions),{item:withCtx(p=>[createBaseVNode("div",null,[createVNode(VHover,null,{default:withCtx(({isHovering:m,props:y})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",m?"active":"",e.draggable?"draggable":""]},y),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$6,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[0]||(a[0]=v=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:v=>e.duplicateRepeaterBlock(p.index),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:v=>e.deleteRepeaterBlock(p.index),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(u,{id:`ue-repeater-form-${p.index}`,modelValue:p.element,schema:e.repeaterSchemas[p.index],row:e.formRowAttribute,"onUpdate:schema":v=>e.onUpdateRepeaterSchema(v,p.index),"onUpdate:modelValue":v=>e.onUpdateRepeaterModel(v,p.index)},createSlots({_:2},[renderList(e.selectFieldSlots[p.index],(v,g)=>({name:`slot-inject-${v.name}-key-ue-repeater-form-${p.index}-${v.inputName}`,fn:withCtx(C=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.context.elements,(k,b)=>(openBlock(),createBlock(c,{key:b,configuration:k,bindData:C},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:schema","onUpdate:modelValue"])],2)],16)]),_:2},1024)])]),_:1},16,["modelValue"])])):(openBlock(),createBlock(VRow,mergeProps({key:2,class:"v-input-repeater__block"},e.rowAttribute),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.repeaterModels,(p,m)=>(openBlock(),createBlock(VCol,mergeProps({key:p.id,ref_for:!0},e.$lodash.pick(e.formCol,["cols","xs","sm","md","lg","xl"])),{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:v})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",y?"active":"",e.draggable?"draggable":""],ref_for:!0},v),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_8$5,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[2]||(a[2]=g=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:g=>e.duplicateRepeaterBlock(m),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:g=>e.deleteRepeaterBlock(m),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(u,{id:`ue-repeater-form-${m}`,class:"w-100 h-100",modelValue:p,schema:e.repeaterSchemas[m],row:e.formRowAttribute,"onUpdate:modelValue":g=>e.onUpdateRepeaterModel(g,m),"onUpdate:schema":g=>e.onUpdateRepeaterSchema(g,m)},createSlots({_:2},[renderList(e.selectFieldSlots[m],(g,C)=>({name:`slot-inject-${g.name}-key-ue-repeater-form-${m}-${g.inputName}`,fn:withCtx(k=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.context.elements,(b,w)=>(openBlock(),createBlock(c,{key:w,configuration:b,bindData:k},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:modelValue","onUpdate:schema"])],2)],16)]),_:2},1024)]),_:2},1040))),128))]),_:1},16)),!e.noAddButton||e.$slots.addButton||e.$slots.addButtonRight?(openBlock(),createElementBlock("div",_hoisted_9$4,[createBaseVNode("div",_hoisted_10$3,[renderSlot(e.$slots,"addButton",normalizeProps(guardReactiveProps({text:e.addButtonContent,addRepeaterBlock:e.addRepeaterBlock,isActive:e.addButtonIsActive})),()=>[!e.noAddButton&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"",disabled:!e.addButtonIsActive,onClick:e.addRepeaterBlock,appendIcon:"$add"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addButtonContent),1)]),_:1},8,["disabled","onClick"])):createCommentVNode("",!0)],!0),createBaseVNode("div",_hoisted_11$2,[renderSlot(e.$slots,"addButtonRight",normalizeProps(guardReactiveProps({})),void 0,!0)])])])):createCommentVNode("",!0)])]),_:2},[(e.label||e.subtitle||e.$slots.title||e.$slots.append)&&!(!e.noHeaders&&e.hasRepeaterModels)?{name:"title",fn:withCtx(()=>[(e.label||e.subtitle)&&(e.schema.length||Object.keys(e.schema).length)||e.$slots.append?(openBlock(),createElementBlock("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$9,[e.label&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(i,{key:0,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label),1)]),_:1})):createCommentVNode("",!0),e.subtitle&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(i,{key:1,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.subtitle),1)]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"append",{},void 0,!0)])):createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["modelValue","no-collapse","class"])])]),_:3},8,["class"])}const Repeater=_export_sfc(_sfc_main$k,[["render",_sfc_render$h],["__scopeId","data-v-566f0edc"]]),__vite_glob_3_23=Object.freeze(Object.defineProperty({__proto__:null,default:Repeater},Symbol.toStringTag,{value:"Module"})),_sfc_main$j={name:"v-input-select-scroll",emits:[...makeInputEmits],props:{...makeInputProps(),...makeInputFetchProps(),rules:{type:Array,default:()=>[]},componentType:{type:String,default:"v-autocomplete"}},setup(e,a){const o=useInput(e,a),n=useInputFetch(e,{...a,input:o.input});return{...o,...n}},data(){return{noFilter:this.activeLastPage>0&&this.activeLastPage>=this.nextPage}},methods:{handleIntersect(e,a,o){e&&this.getItemsFromApi()},makeReference(e){return`${e}-${states.id}`}},computed:{},created(){this.getItemsFromApi()},watch:{}},_hoisted_1$d={key:0};function _sfc_render$g(e,a,o,n,l,r){return openBlock(),createBlock(resolveDynamicComponent(o.componentType),mergeProps(e.$bindAttributes(),{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=i=>e.input=i),class:["v-input-select-scroll"],items:e.elements,label:e.label,"onUpdate:search":e.searched,onInput:e.getItemsFromApi,multiple:e.multiple,"return-object":e.$attrs.returnObject??e.returnObject??!1,"item-value":e.itemValue,"item-title":e.itemTitle,loading:e.itemsLoading,readonly:e.$attrs.readonly||e.readonly||e.elements.length===0,"hide-no-data":e.itemsLoading,"no-filter":l.noFilter,rules:o.rules}),createSlots({"append-item":withCtx(()=>[e.activeLastPage>0&&e.activeLastPage>=e.nextPage?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$d,null,512)),[[Intersect,r.handleIntersect]]):createCommentVNode("",!0)]),_:2},[renderList(e.$slots,(i,c)=>({name:c,fn:withCtx(u=>[renderSlot(e.$slots,c,normalizeProps(guardReactiveProps(u)))])}))]),1040,["modelValue","items","label","onUpdate:search","onInput","multiple","return-object","item-value","item-title","loading","readonly","hide-no-data","no-filter","rules"])}const SelectScroll=_export_sfc(_sfc_main$j,[["render",_sfc_render$g]]),__vite_glob_3_24=Object.freeze(Object.defineProperty({__proto__:null,default:SelectScroll},Symbol.toStringTag,{value:"Module"})),_sfc_main$i={name:"v-select-tag",emits:[...makeInputEmits],props:{...makeInputProps(),endpoint:{type:String},selected:{type:Array}},setup(e,a){return{...useInput(e,a)}},data(){return{value:this.selected,elements:[],page:1,lastPage:-1,customElement:null,selectedItems:[]}},methods:{getItemsFromApi(e){return new Promise(()=>{this.$axios.get(this.fullUrl).then(a=>{if(this.lastPage<0&&(this.lastPage=a.data.resource.last_page),this.search==""?this.elements=this.elements.concat(a.data.resource.data??[]):this.elements=a.data.resource.data??[],this.page++,this.input){let o=!1,n=this;this.input&&this.input.length>0&&!n.elements.find(l=>l.id==this.input)&&(o=!0),o&&this.getItemsFromApi()}})})},makeReference(e){return`${e}-${states.id}`},handleUpdateModelValue(e){this.value=e,this.updateModelValue(e.toString()),document.getElementById("tags-form-input").value=e.toString(),this.$emit("change",e.toString())},handleSearch(e){if(!e)return;if(!e.trim()){if(this.customElement!==null&&!this.selectedItems.includes(this.customElement)){const l=this.elements.indexOf(this.customElement);l!==-1&&this.elements.splice(l,1),this.customElement=null}return}const a=Array.isArray(this.elements)?this.elements:Array.from(this.elements),o=e.toLowerCase();if(!a.some(l=>typeof l=="string"&&l.toLowerCase()===o)){if(this.customElement!==null){const l=this.elements.indexOf(this.customElement);l!==-1&&this.elements.splice(l,1,e)}else this.elements.push(e);this.customElement=e}}},computed:{input:{get(){return Array.isArray(this.value)&&this.value.length>0?typeof this.value[0]=="object"?this.value.map(e=>e.value):this.value:[]},set(e){this.handleUpdateModelValue(e)}},filteredElements(){return this.elements.filter(e=>!this.input.includes(e.id))},queryParameters(){return new URLSearchParams({page:this.page}).toString()},fullUrl(){return`${this.endpoint}?${this.queryParameters}`}},created(){this.getItemsFromApi()},watch:{selected:{handler(e){this.value=e||[]},immediate:!0}}};function _sfc_render$f(e,a,o,n,l,r){return openBlock(),createElementBlock("div",null,[createVNode(VAutocomplete,mergeProps(e.$bindAttributes(),{modelValue:r.input,"onUpdate:modelValue":[a[0]||(a[0]=i=>r.input=i),r.handleUpdateModelValue],variant:"outlined",clearable:"","closable-chips":"",chips:"","clear-on-select":"",label:e.label,items:r.filteredElements,multiple:"","onUpdate:search":r.handleSearch,onChange:r.input}),null,16,["modelValue","label","items","onUpdate:modelValue","onUpdate:search","onChange"]),createVNode(VTextField,{type:"hidden",hidden:"",name:"tags",id:"tags-form-input"})])}const SelectTag=_export_sfc(_sfc_main$i,[["render",_sfc_render$f]]),__vite_glob_3_25=Object.freeze(Object.defineProperty({__proto__:null,default:SelectTag},Symbol.toStringTag,{value:"Module"})),_hoisted_1$c={class:"meta-editor"},_hoisted_2$b=["height"],_hoisted_3$b={class:"px-2"},_hoisted_4$8={class:"px-2"},_hoisted_5$7={class:"px-2"},_hoisted_6$7={class:"px-2"},_sfc_main$h={__name:"Spread",props:{...makeInputProps(),reservedKeys:{type:[Object,Array,Proxy],default:()=>({})},scrollable:{type:Boolean,default:!1},height:{type:String,default:"300px"}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,l=useInput(o,{emit:a}),r=computed({get:()=>l.input.value,set:M=>{l.updateModelValue.value(M)}}),i=["string","number","boolean"],c=ref([]),u=ref({}),s=ref(!1),f=computed(()=>c.value.some(M=>M.keyError)),p=(M,N)=>{const x=c.value[N];return(Array.isArray(o.reservedKeys)?o.reservedKeys.includes(M):M in o.reservedKeys)?(x.keyError=!0,x.keyErrorMessage="This key is reserved",!1):(x.keyError=!1,x.keyErrorMessage="",!0)};onMounted(()=>{o.modelValue&&(u.value=lodash.cloneDeep(o.modelValue),y(o.modelValue))}),watch$1(()=>o.modelValue,M=>{(!u.value||Object.keys(u.value).length===0)&&(u.value=lodash.cloneDeep(M||{}),y(M||{}))},{deep:!0});const m=()=>{c.value=c.value.filter(M=>Array.isArray(o.reservedKeys)?!o.reservedKeys.includes(M.key):!(M.key in o.reservedKeys)),r.value=A(),V()},y=M=>{c.value=Object.entries(M||{}).map(([N,x])=>({key:N,tempKey:N,currentValue:x,initialValue:x,originalValue:x,currentType:v(x),initialType:v(x),originalType:v(x),saved:!0,valueBeforeTypeChange:x,keyError:!1,keyErrorMessage:""})),m(),V()},v=M=>typeof M=="boolean"?"boolean":typeof M=="number"?"number":"string",g=M=>{const N=c.value[M];N.saved=!1,V()},C=M=>{const N=c.value[M];N.tempKey!==N.key&&(N.key=N.tempKey,p(N.key,M),r.value=A())},k=M=>{const N=c.value[M];N.saved=!1,N.currentType==="number"?N.currentValue=Number(N.currentValue)||0:N.currentType==="boolean"&&typeof N.currentValue=="string"&&(N.currentValue=N.currentValue.toLowerCase()==="true"||N.currentValue==="1"),N.savedValues?N.savedValues[N.currentType]=N.currentValue:N.savedValues={[N.currentType]:N.currentValue};const x=A();r.value=x,V()},b=M=>{const N=c.value[M],E=(i.indexOf(N.currentType)+1)%i.length,z=i[E];N.currentType===N.originalType&&!N.valueBeforeTypeChange&&(N.valueBeforeTypeChange=N.currentValue),z===N.originalType?(N.currentType=N.originalType,N.currentValue=N.originalValue):(N.currentType=z,N.currentValue=w(N.originalValue,z,N.originalType,N.originalValue)),N.saved=!1,V(),r.value=A()},w=(M,N,x=null,E=null)=>{if(x&&N===x&&E!==null)return E;switch(N){case"number":return Number(M)||0;case"boolean":return typeof M=="string"?M.toLowerCase()==="true"||M==="1":typeof M=="number"?M!==0:!!M;case"string":return typeof M=="boolean"?M?"true":"false":String(M);default:return String(M)}},S=M=>{c.value.splice(M,1),V(),r.value=A()},T=()=>{const M=`key_${c.value.length+1}`;c.value.push({key:M,tempKey:M,currentValue:"",initialValue:"",currentType:"string",initialType:"string",originalType:"string",saved:!1,valueBeforeTypeChange:"",keyError:!1,keyErrorMessage:""}),V(),r.value=A()},V=()=>{const M=A();s.value=!lodash.isEqual(M,u.value)},A=()=>{const M={};return c.value.forEach(N=>{if(N.key&&N.currentValue!==void 0){let x=N.currentValue;switch(N.currentType){case"number":x=Number(N.currentValue)||0;break;case"boolean":typeof N.currentValue=="string"?x=N.currentValue.toLowerCase()==="true"||N.currentValue==="1":typeof N.currentValue=="number"?x=N.currentValue!==0:x=!!N.currentValue;break;case"string":x=String(N.currentValue);break}M[N.key]=x}}),M},I=()=>{const M=A();u.value=lodash.cloneDeep(M),c.value.forEach(N=>{N.initialValue=N.currentValue,N.initialType=N.currentType,N.valueBeforeTypeChange=N.currentValue,N.saved=!0}),r.value=M,s.value=!1},D=M=>{switch(M){case"number":return"primary";case"boolean":return"success";default:return"default"}};return(M,N)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createVNode(VRow,{"no-gutters":"",class:"header-row py-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>N[0]||(N[0]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Key",-1)])),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>N[1]||(N[1]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Value",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>N[2]||(N[2]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Type",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>N[3]||(N[3]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Actions",-1)])),_:1})]),_:1}),createBaseVNode("div",{class:normalizeClass(["data-rows",["data-rows",{scrollable:e.scrollable}]]),height:e.height},[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(x,E)=>(openBlock(),createBlock(VRow,{key:x.key+E,"no-gutters":"",class:"data-row py-1"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$b,[createVNode(VTextField,{modelValue:x.tempKey,"onUpdate:modelValue":z=>x.tempKey=z,onInput:z=>g(E),onBlur:z=>C(E),variant:"outlined",density:"compact","bg-color":"surface",error:x.keyError,"error-messages":x.keyErrorMessage,"hide-details":"auto",class:"meta-field"},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur","error","error-messages"])])]),_:2},1024),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$8,[x.currentType==="boolean"?(openBlock(),createBlock(VSelect,{key:0,modelValue:x.currentValue,"onUpdate:modelValue":z=>x.currentValue=z,items:[{text:"true",value:!0},{text:"false",value:!1}],"item-title":"text","item-value":"value",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:z=>k(E)},null,8,["modelValue","onUpdate:modelValue","onInput"])):(openBlock(),createBlock(VTextField,{key:1,modelValue:x.currentValue,"onUpdate:modelValue":z=>x.currentValue=z,type:x.currentType==="number"?"number":"text",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:z=>k(E)},null,8,["modelValue","onUpdate:modelValue","type","onInput"]))])]),_:2},1024),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$7,[createVNode(VBtn,{class:"type-toggle-btn",variant:"outlined",onClick:z=>b(E),color:D(x.currentType),density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(x.currentType.toUpperCase()),1)]),_:2},1032,["onClick","color"])])]),_:2},1024),createVNode(VCol,{cols:"2",class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$7,[createVNode(VBtn,{color:"error",variant:"text",onClick:z=>S(E),density:"compact",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>N[4]||(N[4]=[createTextVNode("mdi-trash-can-outline")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))],10,_hoisted_2$b),createVNode(VRow,{"no-gutters":"",class:"mt-4 px-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"auto",class:"mr-2"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:T},{default:withCtx(()=>N[5]||(N[5]=[createTextVNode(" Add row ")])),_:1})]),_:1}),createVNode(VCol,{cols:"auto"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",disabled:!s.value||f.value,onClick:I,"prepend-icon":"mdi-content-save"},{default:withCtx(()=>N[6]||(N[6]=[createTextVNode(" Save All ")])),_:1},8,["disabled"])]),_:1})]),_:1})]))}},__vite_glob_3_26=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$h},Symbol.toStringTag,{value:"Module"})),_sfc_main$g={name:"v-input-tag",emits:[...makeInputEmits],props:{...makeInputProps(),taggable:{type:String,default:null},items:{type:Array,default:[]},multiple:{type:Boolean,default:!1},endpoint:{type:String,required:null},updateEndpoint:{type:String,required:null},itemValue:{type:String,default:"value"},itemTitle:{type:String,default:"label"}},setup(e,a){const o=useStore(),n=useCache(),l=`taggable_items_${e.taggable}`,r=ref(!1);o.getters[CACHE.HAS_CACHE](l)||n.put(l,e.items??[]);const i=computed(()=>n.states[l]??[]);return{...useInput(e,a),loading:r,items:i}},methods:{async handleEnter(){const e=this.input;if(!Array.isArray(e)&&!(!e||this.items.includes(e))&&!(!e||this.items.find(a=>a[this.itemValue]===e||a[this.itemTitle]===e)))try{this.loading=!0;let a=this;api$1.put(this.updateEndpoint,{value:e,taggable:this.taggable},function(o){o.status===200&&a.$store.commit(FORM.ADD_TAGGABLE_ITEM,{taggable_type:a.taggable,item:{[a.itemValue]:o.data.id,[a.itemTitle]:e}})});return}catch(a){console.error("Error creating new item:",a)}finally{this.loading=!1}}}};function _sfc_render$e(e,a,o,n,l,r){return openBlock(),createBlock(VCombobox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=i=>e.input=i),items:n.items,loading:n.loading,"item-value":o.itemValue,"item-title":o.itemTitle,multiple:o.multiple,"onUpdatex:search":e.handleSearch,onKeydown:withKeys(r.handleEnter,["enter"]),class:"v-input-tag"},null,8,["modelValue","items","loading","item-value","item-title","multiple","onUpdatex:search","onKeydown"])}const Tag=_export_sfc(_sfc_main$g,[["render",_sfc_render$e]]),__vite_glob_3_27=Object.freeze(Object.defineProperty({__proto__:null,default:Tag},Symbol.toStringTag,{value:"Module"})),_sfc_main$f={name:"v-input-tagger",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),items:{type:Array},multiple:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},colors:{type:Array,default:()=>["green","purple","indigo","cyan","teal","orange"]},returnItemValue:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data:function(){return{editingItem:null,nonce:1,search:null,model:[]}},computed:{handleKey(){return this.returnItemValue?this.itemValue:this.itemTitle}},watch:{model(e,a){if(e.length===a.length)return;this.model=e.map(n=>(typeof n=="string"&&(n={[this.itemTitle]:n,[this.itemValue]:n,color:this.colors[this.nonce%this.colors.length]},this.items.push(n),this.nonce++),n));let o=this.model.map(n=>n[this.handleKey]);o!==this.input&&(this.input=o)}},methods:{edit(e){this.editingItem?this.editingItem=null:this.editingItem=e},filter(e,a,o){const n=u=>String(u??"").toLowerCase(),l=n(a),i=this.items.filter(u=>!this.model.includes(u)).some(u=>!u.header&&n(u[this.itemTitle]).includes(l));return o.raw.header?!i:n(o.raw[this.itemTitle]).includes(l)},removeSelection(e){this.model=[...this.model.slice(0,e),...this.model.slice(e+1)]}},mounted(){this.model=this.items.reduce((e,a)=>(a.header||this.input.includes(a[this.handleKey])&&e.push(a),e),[])},created(){}};function _sfc_render$d(e,a,o,n,l,r){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=i=>e.input=i),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-tagger"},{default:withCtx(i=>[createVNode(VCombobox,mergeProps(e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{label:e.label,"hide-selected":"",items:o.items,loading:o.loading,multiple:o.multiple,itemValue:o.itemValue,itemTitle:o.itemTitle,modelValue:e.model,"onUpdate:modelValue":a[3]||(a[3]=c=>e.model=c),search:e.search,"onUpdate:search":a[4]||(a[4]=c=>e.search=c),"custom-filter":r.filter}),{selection:withCtx(({item:c,index:u})=>[c===Object(c)?(openBlock(),createBlock(VChip,{key:0,color:`${c.raw.color}-lighten-3`,text:c.title,size:"small",variant:"flat",closable:"",label:"","onClick:close":s=>r.removeSelection(u)},null,8,["color","text","onClick:close"])):createCommentVNode("",!0)]),item:withCtx(({props:c,item:u})=>[u.raw.header&&e.search?(openBlock(),createBlock(VListItem,{key:0},{default:withCtx(()=>[a[6]||(a[6]=createBaseVNode("span",{class:"mr-3"},"Create",-1)),createVNode(VChip,{color:`${o.colors[e.nonce-1]}-lighten-3`,size:"small",variant:"flat",label:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.search),1)]),_:1},8,["color"])]),_:1})):u.raw.header?(openBlock(),createBlock(VListSubheader,{key:1,title:c.title},null,8,["title"])):(openBlock(),createBlock(VListItem,{key:2,onClick:c.onClick},{append:withCtx(()=>[createVNode(VBtn,{color:e.editingItem!==u.raw?"primary":"success",icon:e.editingItem!==u.raw?"mdi-pencil":"mdi-check",size:"small",variant:"text",onClick:withModifiers(s=>r.edit(u.raw),["stop","prevent"])},null,8,["color","icon","onClick"])]),default:withCtx(()=>[e.editingItem===u.raw?(openBlock(),createBlock(VTextField,{key:0,modelValue:e.editingItem[o.itemTitle],"onUpdate:modelValue":a[0]||(a[0]=s=>e.editingItem[o.itemTitle]=s),"bg-color":"transparent",class:"mr-3",density:"compact",variant:"plain",autofocus:"","hide-details":"",onClick:a[1]||(a[1]=withModifiers(()=>{},["stop"])),onKeydown:a[2]||(a[2]=withModifiers(()=>{},["stop"])),onKeyup:withKeys(s=>r.edit(u.raw),["enter"])},null,8,["modelValue","onKeyup"])):(openBlock(),createBlock(VChip,{key:1,color:`${u.raw.color}-lighten-3`,text:c.title,variant:"flat",label:""},null,8,["color","text"]))]),_:2},1032,["onClick"]))]),_:1},16,["label","items","loading","multiple","itemValue","itemTitle","modelValue","search","custom-filter"])]),_:1},8,["modelValue","variant"])}const Tagger=_export_sfc(_sfc_main$f,[["render",_sfc_render$d]]),__vite_glob_3_28=Object.freeze(Object.defineProperty({__proto__:null,default:Tagger},Symbol.toStringTag,{value:"Module"})),_sfc_main$e={name:"v-input-terms-checkbox",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),label:{type:String,default:"I agree to the terms and conditions"},terms:{type:String,default(){const{t:e}=useI18n();return e("authentication.terms-policy")}},conditions:{type:String,default(){const{t:e}=useI18n();return e("authentication.conditions-policy")}},trueValue:{type:[Boolean,String,Number],default:1},falseValue:{type:[Boolean,String,Number],default:0},noCheckbox:{type:Boolean,default:!1},noHandleClick:{type:Boolean,default:!1}},setup(e,a){const o=ref(!1);return{...useInput(e,{...a,initializeInput:n=>n===e.trueValue?e.trueValue:e.falseValue}),showDialog:o}},data:function(){return{showDialog:!1,isRead:!1,readType:null,count:0}},computed:{checkboxRules(){return[e=>this.count<2||!!e||"You must agree to continue!"]},modalContent(){return this.readType==="terms"?this.terms:this.conditions}},methods:{agreeAndClose(){this.isRead=!0,this.showDialog=!1,this.input=this.trueValue},handleReadTerms(e){this.isRead=!0,this.showDialog=!0,this.readType=e},handleCheckboxClick(){this.noHandleClick||(this.isRead?this.showDialog||(this.count++,this.input=this.input===this.trueValue?this.falseValue:this.trueValue):(this.readType??(this.readType="terms"),this.showDialog=!0,this.isRead=!0))}}},_hoisted_1$b={class:"text-grey-lighten-2"},_hoisted_2$a={class:"d-flex flex-column align-center justify-center"},_hoisted_3$a=["innerHTML"];function _sfc_render$c(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-modal");return openBlock(),createBlock(VCheckbox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=u=>e.input=u),hideDetails:"auto",variant:e.boundProps.variant,rules:r.checkboxRules,label:o.label,class:normalizeClass(["v-input-terms-checkbox",o.noCheckbox?"v-input-terms-checkbox-no-checkbox":""]),onClick:withModifiers(r.handleCheckboxClick,["prevent"]),"true-value":o.trueValue,"false-value":o.falseValue},{label:withCtx(u=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps(u)),()=>[createBaseVNode("span",_hoisted_1$b,[createTextVNode(toDisplayString(e.$t("I agree with"))+" ",1),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:s})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},s,{onClick:a[0]||(a[0]=f=>r.handleReadTerms("terms"))}),toDisplayString(e.$t("Terms")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Terms")),1)]),_:1}),a[5]||(a[5]=createTextVNode(" "+toDisplayString(" and ")+" ")),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:s})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},s,{onClick:a[1]||(a[1]=f=>r.handleReadTerms("conditions"))}),toDisplayString(e.$t("Conditions")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Conditions")),1)]),_:1})])])]),append:withCtx(()=>[createVNode(c,{modelValue:n.showDialog,"onUpdate:modelValue":a[3]||(a[3]=u=>n.showDialog=u),Xtitle:"Terms and Conditions","max-width":"600px","no-cancel-button":"","confirm-callback":r.agreeAndClose,"confirm-text":"I agree"},{activator:withCtx(({props:u})=>[(e.isRead,createCommentVNode("",!0))]),"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_2$a,[createVNode(i,{justify:"center",text:e.$t(`${e.readType}`),class:"mb-4"},null,8,["text"]),createVNode(VSheet,{class:"pa-4 overflow-y-auto","max-height":"400px"},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:r.modalContent},null,8,_hoisted_3$a)]),_:1})])]),_:1},8,["modelValue","confirm-callback"])]),_:3},8,["modelValue","variant","rules","label","class","onClick","true-value","false-value"])}const TermsCheckbox=_export_sfc(_sfc_main$e,[["render",_sfc_render$c]]),__vite_glob_3_29=Object.freeze(Object.defineProperty({__proto__:null,default:TermsCheckbox},Symbol.toStringTag,{value:"Module"})),_sfc_main$d={components:{RowFormat},props:{bgColor:{type:String,default:"white"},color:{type:String,default:"success"},textColor:{type:String,default:""},title:{type:String,default:""},value:{type:String,default:""}},data(){return{}},computed:{_textColor(){return this.textColor!==""?this.textColor:this.color}}};function _sfc_render$b(e,a,o,n,l,r){const i=resolveComponent("RowFormat");return openBlock(),createBlock(VSheet,{class:"rounded-0"},{default:withCtx(()=>[createVNode(VAlert,{class:"rounded-0 v-callout",border:"start",color:o.bgColor,"border-color":o.color,elevation:"2"},{default:withCtx(()=>[createVNode(i,{elements:[{text:o.title,col:{cols:8,class:"d-flex align-center"}},{text:o.value,col:{cols:4},style:{"font-size":"1.5rem"}}],color:r._textColor},null,8,["elements","color"])]),_:1},8,["color","border-color"])]),_:1})}const Callout=_export_sfc(_sfc_main$d,[["render",_sfc_render$b]]),_sfc_main$c={components:{Callout},props:{title:{type:String}},data(){return{statuses:[["Pending Approval","999","warning"],["Unapproved","3","error"],["Approved","0","info"],["Published","5","success"]],details:[["Account Type","Pre-paid"],["Packages","10"],["Credits","$210"]]}}},_hoisted_1$a={class:"mt-1 mb-5 pb-6"},_hoisted_2$9={class:"font-weight-bold text-primary"},_hoisted_3$9={class:"text-grey"},_hoisted_4$7={class:"d-flex flex-lg-column flex-sm-column align-start align-lg-end justify-lg-center pl-10 pl-lg-0 pr-lg-10"};function _sfc_render$a(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("Callout"),u=resolveComponent("v-btn-tertiary"),s=resolveDirective("fit-grid");return openBlock(),createBlock(VRow,{class:"ue-board-information","no-gutters":""},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"9",lg:"8"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"12",class:""},{default:withCtx(()=>[createVNode(i,{"padding-reset":"",classes:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1})]),_:1}),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"7",lg:"6",md:"8",sm:"8",class:""},{default:withCtx(()=>[createVNode(VList,{class:"v-callout-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.statuses,([f,p,m],y)=>(openBlock(),createBlock(VListItem,{key:y},{default:withCtx(()=>[createVNode(c,{title:f,value:p,color:m},null,8,["title","value","color"])]),_:2},1024))),128))]),_:1})]),_:1})),[[s]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"5",lg:"6",md:"4",sm:"4"},{default:withCtx(()=>[createVNode(VList,{class:"v-details-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.details,([f,p],m)=>(openBlock(),createBlock(VListItem,{key:m,class:"pl-4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$a,[createBaseVNode("span",_hoisted_2$9,toDisplayString(f),1),a[0]||(a[0]=createBaseVNode("span",{class:"font-weight-bold text-primary"}," : ",-1)),createBaseVNode("span",_hoisted_3$9,toDisplayString(p),1)])]),_:2},1024))),128))]),_:1})]),_:1})),[[s]])]),_:1})]),_:1})),[[s]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"3",lg:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$7,[createVNode(u,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Package")),1)]),_:1}),createVNode(u,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Credit")),1)]),_:1})])]),_:1})),[[s]])]),_:1})}const BoardInformation=_export_sfc(_sfc_main$c,[["render",_sfc_render$a],["__scopeId","data-v-396c0094"]]),__vite_glob_0_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformation},Symbol.toStringTag,{value:"Module"})),_hoisted_1$9={class:"px-3"},_sfc_main$b={__name:"MainTopSlot",setup(e){const{t:a}=useI18n();return(o,n)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode(VAlert,{class:"d-sm-none mx-3 mt-3",closable:"",text:unref(a)("For a better user experience, please switch to desktop.")},null,8,["text"])]))}},__vite_glob_0_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$b},Symbol.toStringTag,{value:"Module"})),_sfc_main$a={name:"ue-custom-package-selector",props:{modelValue:{type:Object,default:()=>({})},title:{type:String,required:!0},submitButtonText:{type:String,default:"Complete"},subtitle:{type:String,required:!0},summaryDescription:{type:String},filterTitle:{type:String,required:!0},schema:{type:Object,required:!0},filterSchema:{type:Object,required:!0},actionUrl:{type:String},redirectUrl:{type:String},calculatorUrl:{type:String},emptyWrapperAttributes:{type:Object,default:()=>({})},emptyImageUrl:{type:String},emptyImageAttributes:{type:Object,default:()=>({})}},data(){return{loading:!1,modalActive:!1,modalMessage:"",isCompleted:!1,model:{...getModel(this.schema,this.modelValue),...getModel(this.filterSchema,this.modelValue),...this.modelValue},dynamicSchema:this.schema,dynamicFilterSchema:this.filterSchema,mainModel:getModel(this.schema,this.modelValue),filterModel:getModel(this.filterSchema,this.modelValue),mainValid:!1,filterValid:!1}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},sendRequest(){if(!this.filterValid){this.$refs.filterForm.manualValidation=!0,this.$refs.filterForm.validate(),this.$refs.filterForm.manualValidation=!1;return}if(!this.mainValid){this.$refs.mainForm.manualValidation=!0,this.$refs.mainForm.validate(),this.$refs.mainForm.manualValidation=!1;return}let e={...this.filterModel,...this.mainModel};const a=e!=null&&e.id?"put":"post",o=this;api$1[a](this.actionUrl,e,function(n){o.loading=!1,n.data.variant==="success"&&(n.data.cached?o.$store.commit(ALERT$1.SET_ALERT,pick(n.data,["variant","message","location","timeout"])):o.modalActive=!0)},function(n){o.loading=!1,__log(n)})},async updateModelValue(e,a=null){if(a==="filter"){if(isEqual(this.filterModel,e))return;const o=Object.keys(e).reduce((l,r)=>(isEqual(this.filterModel[r],e[r])||(l[r]={old:this.filterModel[r],new:e[r]}),l),{}),n=this;await forEach(o,async(l,r)=>{var i,c;if(r==="location")this.dynamicSchema.pressReleasePackages.items=[];else if(r==="packageables"){let u=l.old,s=l.new,f=s.filter(w=>!u.includes(w)),p=u.filter(w=>!s.includes(w)),m=[],y=(i=this.dynamicFilterSchema.location.items.find(w=>w.id===this.filterModel.location))==null?void 0:i.filterEndpoint,v=this.dynamicSchema.pressReleasePackages.eagers??[],g=this.dynamicSchema.pressReleasePackages.lazy??[];n.loading=!0,m=await Promise.all(map(f,async w=>(await axios.get(y.replace(":id",w),{params:{eagers:v,lazy:g}})).data));let C=(((c=this.dynamicSchema.pressReleasePackages)==null?void 0:c.items)??[]).filter(w=>p.includes(w.id)),k=cloneDeep(this.dynamicSchema.pressReleasePackages.items??[]),b=!1;m.length>0&&(m.forEach(w=>{k.find(S=>S.id===w.id)||k.push(w)}),b=!0),C.length>0&&(C.forEach(w=>{k.find(S=>S.id===w.id)&&(k=k.filter(S=>S.id!==w.id))}),b=!0),b&&(this.dynamicSchema.pressReleasePackages.items=orderBy(k,["id"],["asc"])),n.loading=!1}this.filterModel[r]=l.new})}else{if(isEqual(this.mainModel,e))return;let o={};const n=Object.keys(e).reduce((l,r)=>(isEqual(this.mainModel[r],e[r])||(l[r]={old:this.mainModel[r],new:e[r]},r==="pressReleasePackages"&&Object.keys(e[r]).forEach(i=>{e[r][i].packageLanguages.forEach(u=>{o[`${u}_content`]=[]})})),l),{});forEach(n,(l,r)=>{this.mainModel[r]=l.new}),Object.keys(o).forEach(l=>{__isset(this.mainModel.content[l])||(this.mainModel.content[l]=o[l])}),Object.keys(this.mainModel.content).forEach(l=>{l.match(/^(\d+)_content$/)&&(Object.keys(o).includes(l)||delete this.mainModel.content[l])})}},updateSchema(e,a=null){if(__log("updateSchema"),a==="filter"){if(isEqual(this.dynamicFilterSchema,e))return}else{if(isEqual(this.dynamicSchema,e))return;__log("updateSchema",{old:this.dynamicSchema,new:e})}},handleInput(e){}},computed:{payload(){return{...this.filterModel,...this.mainModel}},isValid(){return this.filterValid&&this.mainValid}},watch:{filterModel:{handler(e){},deep:!0},dynamicSchema:{handler(e){},deep:!0},dynamicFilterSchema:{handler(e){},deep:!0}},created(){}},_hoisted_1$8={class:"py-0"},_hoisted_2$8={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$8={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$6={class:"text-caption text-grey-lighten-1 mb-6"},_hoisted_5$6={class:"d-flex flex-column align-center justify-center"},_hoisted_6$6={class:"text-h4 mb-4 text-success"},_hoisted_7$5={class:"text-subtitle-1 grey--text"},_hoisted_8$4={class:"d-flex justify-center w-100"};function _sfc_render$9(e,a,o,n,l,r){const i=resolveComponent("ue-title"),c=resolveComponent("ue-form"),u=resolveComponent("v-sheet-rounded"),s=resolveComponent("ue-print-request"),f=resolveComponent("v-btn-secondary"),p=resolveComponent("ue-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VRow,{class:"h-100 pa-3"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",lg:"8",md:"8",class:"d-flex","order-md":"1",order:"2"},{default:withCtx(()=>[createVNode(u,{class:"h-100 w-100 pa-6",elevation:"2"},{default:withCtx(()=>[o.title?(openBlock(),createBlock(i,{key:0,text:o.title,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),o.subtitle?(openBlock(),createBlock(i,{key:1,text:o.subtitle,padding:"",class:"pt-1",transform:"none",weight:"regular",type:"caption"},null,8,["text"])):createCommentVNode("",!0),e.$isset(l.filterModel)&&e.$isset(l.filterModel.packageables)&&l.filterModel.packageables.length>0?(openBlock(),createBlock(c,{key:2,ref:"mainForm",schema:l.dynamicSchema,modelValue:l.mainModel,"onUpdate:modelValue":a[0]||(a[0]=m=>r.updateModelValue(m)),valid:l.mainValid,"onUpdate:valid":a[1]||(a[1]=m=>l.mainValid=m),"onUpdate:schema":a[2]||(a[2]=m=>r.updateSchema(m)),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["schema","modelValue","valid"])):(openBlock(),createElementBlock("div",mergeProps({key:3,style:{"min-height":"85vh"}},o.emptyWrapperAttributes),[createVNode(VImg,mergeProps({src:o.emptyImageUrl},o.emptyImageAttributes,{alt:"Package Selector Empty"}),null,16,["src"])],16))]),_:1})]),_:1}),createVNode(VCol,{cols:"12",lg:"4",md:"4",class:"d-flex","order-md":"2",order:"1"},{default:withCtx(()=>[createVNode(u,{class:"bg-primary-darken-2 h-100 w-100 d-flex flex-column fill-height pa-6",elevation:"2"},{default:withCtx(()=>[o.filterTitle?(openBlock(),createBlock(i,{key:0,text:o.filterTitle,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),createVNode(VDivider,{class:"my-3",style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),createVNode(c,{ref:"filterForm",modelValue:l.filterModel,"onUpdate:modelValue":a[3]||(a[3]=m=>r.updateModelValue(m,"filter")),schema:l.dynamicFilterSchema,"onUpdate:schema":a[4]||(a[4]=m=>r.updateSchema(m,"filter")),valid:l.filterValid,"onUpdate:valid":a[5]||(a[5]=m=>l.filterValid=m),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["modelValue","schema","valid"]),createVNode(VSpacer),createVNode(VDivider,{class:"my-3"}),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$8,[createBaseVNode("td",_hoisted_2$8,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$8,[renderSlot(e.$slots,"summary.final.total",{},()=>[o.calculatorUrl?(openBlock(),createBlock(s,{key:0,payload:r.payload,endpoint:o.calculatorUrl,"print-keys":{text:"total",subText:"vatText"},"loading-text":e.$t("Calculating...")},null,8,["payload","endpoint","loading-text"])):createCommentVNode("",!0)])])])])]),_:3}),createBaseVNode("div",_hoisted_4$6,[renderSlot(e.$slots,"summary.final.description",{},()=>[o.summaryDescription?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(o.summaryDescription),1)],64)):createCommentVNode("",!0)])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(f,{class:"v-stepper-form__nextButton",block:"",disabled:l.loading,loading:l.loading,onClick:r.sendRequest},{default:withCtx(()=>[createTextVNode(toDisplayString(o.submitButtonText),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:3})]),_:3})]),_:3}),createVNode(p,{ref:"modal",modelValue:l.modalActive,"onUpdate:modelValue":a[6]||(a[6]=m=>l.modalActive=m),"width-type":"md",description:l.modalMessage,persistent:""},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_5$6,[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>a[7]||(a[7]=[createTextVNode("mdi-check-circle-outline")])),_:1}),createBaseVNode("h2",_hoisted_6$6,toDisplayString(e.$t("Request Complete")),1),createBaseVNode("p",_hoisted_7$5,toDisplayString(e.$t("Congratulations! Your PR request is complete.")),1)])]),"body.options":withCtx(()=>[createBaseVNode("div",_hoisted_8$4,[createVNode(VBtn,{variant:"flat",color:"success",onClick:r.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Go Back")),1)]),_:1},8,["onClick"])])]),_:1},8,["modelValue","description"])],64)}const PackageSelector=_export_sfc(_sfc_main$a,[["render",_sfc_render$9]]),__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:PackageSelector},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters}=makeFormatterProps(),_sfc_main$9={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters},setup(e,a){return{...useTableIterator(e,a)}},computed:{languageFiles(){let e=/content\.(\d+)_content/;return this.item.fileponds.filter(a=>a.role.match(e))},languageFileNames(){return this.languageFiles.map(e=>this.getFileName(e)).join(", ")},mediaFiles(){return this.item.fileponds.filter(e=>e.role.match(/press_release_image/))},mediaFileNames(){return this.mediaFiles.map(e=>this.getFileName(e)).join(", ")}},methods:{getFileName(e){const a=e.file_name.split("."),o=a.slice(0,a.length-1).join("."),n=a[a.length-1];return __shorten(o,10)+"."+n}},created(){}},_hoisted_1$7={class:"d-flex flex-column w-100",style:{"max-width":"300px"}},_hoisted_2$7={class:"text-body-1 text-primary text-uppercase font-weight-bold text-truncate px-2"},_hoisted_3$7={class:"h-100 d-flex flex-column justify-center align-center"},_hoisted_4$5={class:"w-50"},_hoisted_5$5={class:"w-50"},_hoisted_6$5={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_7$4={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_8$3={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_9$3={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"};function _sfc_render$8(e,a,o,n,l,r){var s,f;const i=resolveComponent("ue-title"),c=resolveComponent("ue-dynamic-component-renderer"),u=resolveComponent("ue-configurable-card");return openBlock(),createElementBlock(Fragment,null,[createVNode(i,{type:"caption",text:e.item.id,weight:"regular",color:"grey-lighten-1",padding:"x-2",margin:"t-2"},null,8,["text"]),createBaseVNode("div",_hoisted_1$7,[createBaseVNode("span",_hoisted_2$7,toDisplayString(((f=(s=e.item)==null?void 0:s.content)==null?void 0:f.headline)||e.$t("Please update the headline")),1)]),createVNode(u,{title:e.item.name,style:{"background-color":"transparent"},elevation:"0","hide-separator":"","align-center-columns":"","Xno-actions":e.$vuetify.display.mdAndDown,"col-ratios":e.$vuetify.display.mdAndUp?[2,1,1,1]:[3,1,1,1],"mobile-breakpoint":"sm",items:[Object.entries(e.item.press_release_packages??e.item.pressReleasePackages??{}).reduce((p,[m,y])=>(p.push(y),p),[]),e.item.content.date||(e.item.content.estimated_scheduled_at?e.$d(e.item.content.estimated_scheduled_at,"numeric"):"N/A"),[e.item._price??"N/A"],[e.item._status??"Draft"]],actions:[{name:"edit",icon:"mdi-pencil",color:"primary"}]},{"segment.1":withCtx(p=>[createBaseVNode("div",_hoisted_3$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.data,m=>(openBlock(),createElementBlock("div",{key:`package-${m.id}`,class:"w-100 d-flex"},[createBaseVNode("div",_hoisted_4$5,toDisplayString(m.packageable.name),1),createBaseVNode("div",_hoisted_5$5,toDisplayString(m.name),1)]))),128))])]),"segment.2":withCtx(p=>[createBaseVNode("div",_hoisted_6$5,toDisplayString(p.data),1)]),"segment.3":withCtx(p=>[createBaseVNode("div",_hoisted_7$4,[createVNode(c,{subject:e.item.state_formatted},null,8,["subject"])])]),"segment.4":withCtx(p=>{var m,y;return[createBaseVNode("div",_hoisted_8$3,[["in-review","draft","cancelled","rejected"].includes((y=(m=e.item)==null?void 0:m.state)==null?void 0:y.code)?createCommentVNode("",!0):(openBlock(),createBlock(c,{key:0,subject:e.item.payment_status_formatted},null,8,["subject"]))])]}),"segment.actions":withCtx(p=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_9$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(m,y)=>(openBlock(),createElementBlock(Fragment,{key:y},[e.itemHasAction(e.item,m)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(m.label??e.$headline(m.name)),location:"top",disabled:m.forceLabel??!1},{activator:withCtx(({props:v})=>[createVNode(VBtn,mergeProps({text:m.forceLabel?e.$t(m.label??e.$headline(m.name)):null,variant:m.variant??"elevated",density:m.density??(m.forceLabel?"comfortable":"compact"),size:m.size??(m.forceLabel,"default"),icon:m.forceLabel?null:m.icon?m.icon:"$"+m.name,color:m.color??"primary",rounded:m.forceLabel?null:!0,class:m.class??"",ref_for:!0},{...v,...m.componentProps},{onClick:g=>e.itemAction(e.item,m)}),null,16,["text","variant","density","size","icon","color","rounded","class","onClick"])]),_:2},1032,["text","disabled"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1032,["title","Xno-actions","col-ratios","items"])],64)}const PressReleaseCardIterator=_export_sfc(_sfc_main$9,[["render",_sfc_render$8]]),__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:PressReleaseCardIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$8={};function _sfc_render$7(e,a){return" How To Install Vue 3 in Laravel 10 with Vite - TechvBlogs "}const TestApp=_export_sfc(_sfc_main$8,[["render",_sfc_render$7]]),__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:TestApp},Symbol.toStringTag,{value:"Module"}));function assignBOMHElpers(){window.__log=console.log,window.__isString=e=>Object.prototype.toString.call(e)==="[object String]",window.__isBoolean=e=>typeof e=="boolean",window.__isNumber=e=>!isNaN(e),window.__isObject=e=>Object.prototype.toString.call(e)==="[object Object]",window.__isArray=e=>Array.isArray(e),window.__isset=(...e)=>{const a=e,o=a.length;let n=0,l;if(o===0)throw new Error("Empty isset");for(;n!==o;){if(a[n]===l||a[n]===null)return!1;n++}return!0},window.__issetReturn=(e,a)=>__isset(e)?e:a,window.__getMethods=e=>Object.getOwnPropertyNames(e).filter(a=>typeof e[a]=="function"),window.__globalizeMethods=e=>{Array.isArray(e)?e.forEach(function(a){__getMethods(a).forEach(function(o){window[o]=a[o]})}):__isObject(e)&&__getMethods(obj).forEach(function(a){window[a]=obj[a]})},window.__responseHandler=e=>__isset(e.data.errors)?{status:!1,text:errorHandler(e.data.errors)}:{status:!0,data:e.data.data},window.__errorHandler=e=>{let a="";return Object.keys(e).forEach((n,l)=>{a+=`
              <tr>
                  <td> <strong> ${capitalCase(n)} </strong> </td>
                  <td>
                      ${e[n].join("</br>")}
                  </td>
              </tr>
          `}),`
      <table>          <tbody>           ${a}          </tbody>       </table>`},window.__functionDefinition=e=>Function.prototype.toString.call(e),window.__convertArrayOrObject=(e,a=null)=>{if(__isObject(e)){const o={};return Object.keys(e).forEach(n=>{o[n]=__convertArrayOrObject(e[n],n)}),o}else if(Array.isArray(e)){const o=[];return e.forEach(n=>{o.push(__convertArrayOrObject(n))}),o}else if(typeof e=="function"){let o=__functionDefinition(e);return a&&(o=o.replace(a+"(","function (")),o}else return e instanceof RegExp?e.toString():e},window.__printDefinition=e=>JSON.stringify(__convertArrayOrObject(e)),window.__shorten=(e,a=40)=>e.length>a?e.substring(0,a)+"...":e,window.__preg_quote=(e,a="")=>(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&"),window.__extract=e=>{for(var a in e)window[a]=e[a]},window.__dot=(e,a="")=>Object.keys(e).reduce((o,n)=>{const l=a?`${a}.${n}`:n;return typeof e[n]=="object"&&e[n]!==null&&!Array.isArray(e[n])?Object.assign(o,__dot(e[n],l)):o[l]=e[n],o},{}),window.__reverseDot=e=>{const a={};for(const[o,n]of Object.entries(e)){const l=o.split(".");let r=a;for(let i=0;i<l.length;i++){const c=l[i];i===l.length-1?r[c]=n:(r[c]=r[c]||{},r=r[c])}}return a},window.__wildcard_change=(e,a,o="id")=>{let n=Array.isArray(a)?a.join(","):a;return e.replace(/^([\w\.]+)?(\*)([\w_\-\.\*]+)$/,`$1*${o}=${n}$3`)},window.__data_get=(e,a,o)=>{if(!e||typeof a!="string")return o;const n=tokenizePath(a);let l=e;for(const r in n){let i=n[r];if(l==null)return o;if(typeof l=="object"){let c,u=i?i.match(/^\*(.*)/):!1;if(u){let s;if(u[1]&&(s=u[1].match(/^(\w+)\=([\w\d\,]+)/))){let f=s[1],p=s[2].split(",");l=lodash.filter(l,m=>p.includes(lodash.isNumber(m[f])?m[f].toString():m[f]))}if(Array.isArray(l)){let f=parseInt(r);return l.map(p=>__data_get(p,n.slice(f+1).join("."),o))}else return Object.assign({},l)}else if(i.indexOf("[")!==-1){const s=extractKeyFromBracket(i);if(s!==void 0)l=l[s];else return o}else c=l[i];if(c)l=c;else if(l=lodash.get(l,n.slice(r).join(".")),l)break}else return o}return l},window.__snakeToHeadline=e=>e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "),window.__headline=e=>(e=snakeCase(e),e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")),window.__extractForeignKey=e=>{if(typeof e!="string")throw new TypeError("modelName must be a string");let a=lodash.snakeCase(e);return`${pluralize.isPlural(a)?pluralize.singular(a):a}_id`},window.__snakeNameFromForeignKey=e=>{let a=e.match(/(.*)(_id)/);return a?snakeCase(a[1]):!1},window.__nameFromForeignKey=e=>(e=__snakeNameFromForeignKey(e),e||__snakeToHeadline(e)),window.__moduleName=e=>{let a=e.match("/(.*)(_id)/");return a?__snakeNameFromForeignKey(a[1]):snakeCase(e)},window.__moduleTranslationName=e=>{const{t:a,te:o}=useI18n({useScope:"global"});let n=!1,l=e,r=__snakeNameFromForeignKey(l);return r&&(l=r,e=r),pluralize.isPlural(l)&&(n=!0,l=pluralize.singular(l)),l=snakeCase(l),e=snakeCase(e),o(`modules.${l}`)?a(`modules.${l}`,n?1:0):__snakeToHeadline(e)},window.__removeQueryParams=e=>{const a=new URL(window.location.href);let o={};for(const[r,i]of a.searchParams.entries())o[r]=i;e.forEach(r=>{delete o[r]}),Object.keys(o).forEach(r=>(o[r]===void 0||o[r]===null)&&delete o[r]);const n=new URLSearchParams;Object.keys(o).forEach(r=>{n.append(r,o[r])});const l=a.origin+a.pathname+(n.toString()?"?"+n.toString():"");window.history.replaceState({},"",l)},window.__pluralize=e=>pluralize.plural(e),window.__pushQueryParams=e=>{const a=new URL(window.location),o=a.searchParams;Object.entries(e).forEach(([n,l])=>{o.set(n,l)}),window.history.pushState({},"",a)},window.__formatCurrencyPrice=(e,a,o="en")=>{if(typeof e!="number"||isNaN(e))throw new Error("Amount must be a valid number");const n=new Intl.NumberFormat(o,{minimumFractionDigits:2,maximumFractionDigits:2});return`${a}${n.format(e)}`},window.__addParametersToUrl=(e,a)=>{const o=new URL(e),n=o.searchParams;return Object.entries(a).forEach(([l,r])=>{n.set(l,r)}),o.toString()},window.__removeParametersFromUrl=(e,a)=>{const o=new URL(e),n=o.searchParams;return Object.entries(a).forEach(([l,r])=>{n.delete(l)}),o.toString()}}function tokenizePath(e){const a=[];let o="",n=!1,l=!1;for(let r=0;r<e.length;r++){const i=e[r];if(l)o+=i,l=!1;else if(i==="\\")l=!0;else if(i==="[")o&&(a.push(o),o=""),n=!0,o+=i;else if(i==="]"){if(!n)throw new Error("Mismatched brackets in path");o+=i,a.push(extractBracketContent(o)),o="",n=!1}else i==="."&&!n?o&&(a.push(o),o=""):o+=i}return o&&a.push(o),a}function extractBracketContent(e){const a=e.slice(1,-1).trim();return/^\d+$/.test(a),a}function extractKeyFromBracket(e){const a=e.match(/\[([^\]]*)\]/);return a?a[1]:void 0}function assignObjectHelpers(){Object.equals||(Object.equals=function(e,a){for(const o in e){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1}for(const o in a){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1;if(e.hasOwnProperty(o)){if(e[o]instanceof Array&&a[o]instanceof Array){if(!Array.equals(e[o],a[o]))return!1}else if(e[o]instanceof Object&&a[o]instanceof Object){if(!Object.equals(e[o],a[o]))return!1}else if(e[o]!=a[o])return!1}}return!0})}function assignArrayHelpers(){Array.equals||(Array.equals=function(e,a){if(!a||e.length!=a.length)return!1;for(let o=0,n=e.length;o<n;o++)if(e[o]instanceof Array&&a[o]instanceof Array){if(!e[o].equals(a[o]))return!1}else if(e[o]!=a[o])return!1;return!0})}function init(){assignBOMHElpers(),assignObjectHelpers(),assignArrayHelpers(),window.axios=axios$1,window.$=jquery,window._=lodash,window.$moment=hooks;const e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};window.axios.defaults.headers.common=e,axios$1.defaults.headers.common=e,window.axios.defaults.headers.post={"Content-Type":"application/json"};const a=o=>o>=200&&o<300||o===422||o===401||o===419;axios$1.defaults.validateStatus=a,window.axios.defaults.validateStatus=a,axios$1.interceptors.request.use(function(o){return store.commit(CONFIG.INCREASE_AXIOS_REQUEST),o},function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),Promise.reject(o)}),axios$1.interceptors.response.use(function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),o.status===401&&o.data.message==="Unauthenticated."&&store.commit(USER.OPEN_LOGIN_MODAL),o.status===419||o.data.message,handleSuccessResponse(o),o},function(o){var n;return handleErrorResponse(o),store.commit(CONFIG.DECREASE_AXIOS_REQUEST),((n=o.response)==null?void 0:n.status)===401&&store.commit(USER.OPEN_LOGIN_MODAL),Promise.reject(o)})}function setup(){init(),window.__globalizeMethods([changeCase])}const UECompose=function(){setup()},typeToComponent={text:"v-text-field",password:"v-text-field",email:"v-text-field",tel:"v-text-field",url:"v-text-field",search:"v-text-field",number:"v-text-field",date:"v-date-picker",time:"v-time-picker",color:"v-color-picker",img:"v-img",textarea:"v-textarea",range:"v-slider",file:"v-file-input",switch:"v-switch",checkbox:"v-checkbox",card:"v-card",hidden:"input"},orderDirection="ASC",pathDelimiter=".",classKeyDelimiter="-",defaultID="form-base",isPicker="date|time|color",mouse="mouseenter|mouseleave",change="input|click",watch="focus|input|click|blur",display="resize|swipe|intersect",topAppendix="top",bottomAppendix="bottom",slotAppendix="slot",tooltipAppendix="tooltip",injectAppendix="inject",itemClassAppendix="item",typeClassAppendix="type",keyClassAppendix="key",arrayClassAppendix="array",propertyClassAppendix="prop",injectSlotAppendix=`${slotAppendix}-${injectAppendix}`,topSlotAppendix=`${slotAppendix}-${topAppendix}`,itemSlotAppendix=`${slotAppendix}-${itemClassAppendix}`,bottomSlotAppendix=`${slotAppendix}-${bottomAppendix}`,tooltipSlotAppendix=`${slotAppendix}-${tooltipAppendix}`,clear="clear",button="button",treeview="treeview",list="list",focus="focus",blur="blur",append="append",appendInner="append-inner",prepend="prepend",prependInner="prepend-inner",hour="hour",minute="minute",second="second",dropEffect="move",rowDefault={noGutters:!1},rowGroupDefault={noGutters:!1,class:"my-2"},colDefault={cols:"auto"},defaultSchemaIfValueIsNullOrUndefined=e=>({type:"text",label:e}),defaultSchemaIfValueIsString=e=>({type:"text",label:e}),defaultSchemaIfValueIsNumber=e=>({type:"number",label:e}),defaultSchemaIfValueIsBoolean=e=>({type:"checkbox",label:e}),defaultPickerSchemaText={type:"text",readonly:!0},defaultPickerSchemaMenu={closeOnContentClick:!1,transition:"scale-transition",nudgeRight:32,maxWidth:"290px",minWidth:"290px"},defaultInternGroupType="v-card",emits=["update:modelValue","update:schema","input","update","resize","blur","click"],_sfc_main$7={setup(){return{vueInstance:getCurrentInstance().appContext}},name:"VFormBase",emits,props:{id:{type:String,default:defaultID},rootId:{type:String,default:defaultID},row:{type:[Object]},rowGroup:{type:[Object]},col:{type:[Object,Number,String]},colGroup:{type:[Object,Number,String]},flex:{type:[Object,Number,String]},modelValue:{type:[Object,Array],default:()=>null},model:{type:[Object,Array]},schema:{type:[Object,Array],default:()=>({})},formItem:{type:Object,default:()=>({})},noAutoGenerateSchema:{type:Boolean,default:!1}},data(){return{flatCombinedArray:[],clear,button,treeview,list,focus,blur,append,appendInner,prepend,prependInner,hour,minute,second}},computed:{valueIntern(){const e=this.model||this.modelValue;return this.updateArrayFromState(e,this.formSchema),e},parent(){let e=this;if(e.$parent&&e.$parent.$parent)for(;e.id.startsWith(e.$parent.$parent.id+"-");)e=e.$parent.$parent;return e},index(){const e=this.id&&this.id.match(/\d+/g);return e?e.map(Number):null},getRow(){return this.row||rowDefault},flatCombinedArraySorted(){return orderBy(this.flatCombinedArray,["schema.sort"],[orderDirection])},storeStateData(){return this.updateArrayFromState(this.valueIntern,this.formSchema),this.valueIntern},storeStateSchema(){return this.updateArrayFromState(this.valueIntern,this.formSchema),formEvents.setSchemaInputField(this.formSchema,this.valueIntern),this.formSchema},formSchema:{get(){return this.schema},set(e){this.$emit("update:schema",e),this.schema.value=e}}},watch:{schema:{handler(e,a){},deep:!0},modelValue:{handler(e,a){JSON.stringify(Object.keys(__dot(e)))!==JSON.stringify(Object.keys(__dot(a)))&&this.rebuildArrays(this.valueIntern,this.formSchema)},deep:!0}},methods:{mapTypeToComponent(e){const a={...typeToComponent,...this.vueInstance.components};return a[e]?a[e]:`v-${e}`},isDateTimeColorTypeAndExtensionText(e){return isPicker.includes(e.schema.type)&&e.schema.ext==="text"},isDateTimeColorExtension(e){return isPicker.includes(e.schema.ext)},bindOptions(e){return isString(e)?{value:e,label:e}:e},bindSchemaText(e){return{...defaultPickerSchemaText,...e.schema.text}},bindSchemaMenu(e){return{...defaultPickerSchemaMenu,...e.schema.menu}},bindSchema(e){return Object.prototype.hasOwnProperty.call(e.schema,"falseValue")&&e.schema.falseValue==0&&(e.schema.falseValue="0"),omit(e.schema,["type","col","order","offset","ext","event"])},suspendClickAppend(e){return/(select|combobox|autocomplete)/.test(e.schema.type)?"":"click:append"},searchInputSync(e){return typeof e.schema.searchInput<"u"?"search-input":""},checkExtensionType(e){let a;return["number","range","date","time","color"].includes(e.schema.ext)&&(a=e.schema.ext),a||e.schema.type},checkInternType(e){return e.schema.typeInt||e.schema.type},checkInternGroupType(e){const a=e.schema.typeInt||defaultInternGroupType;return a.startsWith("v-")||a.startsWith("ue-")?a:`v-${a}`},getKeyForArray(e,a,o,n){const l=a.schema.key;return l?Array.isArray(l)?l.map(r=>o[r]).join("_"):o[l]:isNaN(n)?n:`${e}-${a.key}-${n}`},getImageSource(e){return e.schema.src?e.schema.src:`${e.schema.base}${e.value}${e.schema.tail}`},getIconValue(e){return e.schema.label?e.schema.label:this.setValue(e)},getShorthandTooltip(e){return isString(e)?{location:"top",text:e}:e},getShorthandTooltipLabel(e){return isString(e)?e:e&&e.label},getFormTopSlot(){return`${topSlotAppendix}-${this.id}`},getFormBottomSlot(){return`${bottomSlotAppendix}-${this.id}`},getKeyInjectSlot(e,a){return this.getKeyClassNameWithAppendix(e,`${injectSlotAppendix}-${a}-${keyClassAppendix}`)},getKeyTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${keyClassAppendix}`)},getKeyItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${keyClassAppendix}`)},getKeyBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${keyClassAppendix}`)},getKeyTooltipSlot(e){return this.getKeyClassNameWithAppendix(e,`${tooltipSlotAppendix}-${keyClassAppendix}`)},getTooltipSlot(e){return`${tooltipSlotAppendix}`},getArrayTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${arrayClassAppendix}`)},getArrayItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${arrayClassAppendix}`)},getArrayBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${arrayClassAppendix}`)},getTypeTopSlot(e){return this.getTypeClassNameWithAppendix(e,`${topSlotAppendix}-${typeClassAppendix}`)},getTypeItemSlot(e){return this.getTypeClassNameWithAppendix(e,`${itemSlotAppendix}-${typeClassAppendix}`)},getTypeBottomSlot(e){return this.getTypeClassNameWithAppendix(e,`${bottomSlotAppendix}-${typeClassAppendix}`)},getPropertyClassNameWithAppendix(e,a){return e.key?e.key.split(pathDelimiter).map(o=>`${a?a+classKeyDelimiter:""}${o}`).join(" "):""},getPropertyClassName(e){return this.getPropertyClassNameWithAppendix(e,propertyClassAppendix)},getKeyClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.key.replace(/\./g,"-")}`},getKeyClassName(e){return this.getKeyClassNameWithAppendix(e,keyClassAppendix)},getTypeClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.schema.type}`},getTypeClassName(e){return this.getTypeClassNameWithAppendix(e,typeClassAppendix)},getClassName(e){return`${itemClassAppendix} ${this.getTypeClassName(e)} ${this.getKeyClassName(e)} ${this.getPropertyClassName(e)}`},gridMapper(e,a){e&&["sm","md","lg","xl"].map(o=>{e[o]&&(e[a+o]=e[o],delete e[o])})},gridReplaceXS(e,a){e&&e.xs&&(e[a]=e.xs,delete e.xs)},getGridAttributes(e){const a=e.schema.col||e.schema.flex,o=this.col||this.flex||colDefault,n=a?isPlainObject(a)?a:isNumber(a)||isString(a)?{cols:a}:{cols:"auto"}:o?isPlainObject(o)?o:isNumber(o)||isString(o)?{cols:o}:{cols:"auto"}:{cols:"auto"};this.gridReplaceXS(n,"cols");const l=e.schema.offset,r=l&&(isPlainObject(l)?l:{offset:l});this.gridMapper(r,"offset-"),this.gridReplaceXS(r,"offset");const i=e.schema.order,c=i&&(isPlainObject(i)?i:{order:i});return this.gridMapper(c,"order-"),this.gridReplaceXS(c,"order"),{...n,...r,...c}},getRowGroupOrArray(e){return e.schema.rowGroup||this.rowGroup||rowGroupDefault},getColGroupOrArray(e){return e.schema.col||this.col||colDefault},getInjectedScopedSlots(e,a){const o=new RegExp(`${injectSlotAppendix}-(.*?)-${keyClassAppendix}`);return Object.keys(this.$slots).filter(n=>n.includes(`${e}${classKeyDelimiter}${a.key.replace(/\./g,"-")}`)&&n.includes(injectSlotAppendix)).map(n=>n.match(o)[1])},toCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.toCtrl)?e.obj.schema.toCtrl(e):e.value},fromCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.fromCtrl)?e.obj.schema.fromCtrl(e):e.value},dropCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.drop)?e.obj.schema.drop(e):e.value},dragstart(e,a){if(!a.schema.drag)return;e.dataTransfer.dropEffect=dropEffect,e.dataTransfer.effectAllowed=dropEffect;const o=this.onEvent(e,a);e.dataTransfer.setData("text",JSON.stringify(o))},dragover(e,a){return a.schema.drop?e.preventDefault():null},drop(e,a){if(!a.schema.drop||(a.dragEvent=JSON.parse(e.dataTransfer.getData("text")),a.key===a.dragEvent.obj.key&&a.id===a.dragEvent.id))return e.preventDefault();isFunction(a.schema.drop)&&(a.value=this.dropValue(a,e)),this.onEvent(e,a),e.preventDefault()},dropValue(e,a){return this.dropCtrl({value:e.dragEvent.value,obj:e,event:a,data:this.storeStateData,schema:this.storeStateSchema})},setValue(e,a){return e.schema.type==="wrap"?this.toCtrl({value:this.storeStateData,obj:e,data:this.storeStateData,schema:this.storeStateSchema}):this.toCtrl({value:e.value,obj:e,data:this.storeStateData,schema:this.storeStateSchema})},onInput(e,a,o="input"){e=this.fromCtrl({value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema}),e=!e||e===""?null:e,e=a.schema.type==="number"?Number(e):e,this.setObjectByPath(this.storeStateData,a.key,e),a.value=a.value!==e?e:a.value;let n=a.key;formEvents.onInputEventFormData(a,this.formSchema,this.storeStateData,this.flatCombinedArraySorted,this.valueIntern);const l={on:o,id:this.id,index:this.index,params:{index:this.index,lastValue:a.value},key:n,value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema,parent:this.parent};return this.emitValue(o,l),l},onInputWrapper(e,a){a.schema.type=="wrap"&&`${a.key}${e.key}`,this.emitValue("input",e)},onEvent(e={},a,o){const n=e&&e.srcElement&&e.srcElement.innerText,l=a.schema.model,r=a.schema.open,i=this.index,c=e.type!=="dragstart"?this.parent:void 0,u={on:e.type,id:this.id,index:i,params:{text:n,tag:o,model:l,open:r,index:i},key:a.key,value:a.value,obj:a,event:e,data:this.storeStateData,schema:this.storeStateSchema,parent:c};return delay(()=>{this.emitValue(e.type,u)}),u},onClickOutside(e,a){if(!(!a.schema||!a.schema.clickOutside)){if(isFunction(a.schema.clickOutside))return a.schema.clickOutside(a,e);this.emitValue("clickOutside",{on:"clickOutside",id:this.id,key:a.key,value:a.value,obj:a,params:{x:e.clientX,y:e.clientY},event:e,data:this.storeStateData,schema:this.storeStateSchema})}},onIntersect(e,a,o,n){const l=this.index;this.emitValue("intersect",{on:"intersect",id:this.id,index:l,key:n.key,value:n.value,obj:n,params:{isIntersecting:e,entries:a,observer:o},data:this.storeStateData,schema:this.storeStateSchema})},onSwipe(e,a){this.emitValue("swipe",{on:"swipe",id:this.id,key:a.key,value:a.value,obj:a,params:{tag:e},data:this.storeStateData,schema:this.storeStateSchema})},onResize(e){this.emitValue("resize",{on:"resize",id:this.id,params:{x:window.innerWidth,y:window.innerHeight},event:e,data:this.storeStateData,schema:this.storeStateSchema})},emitValue(e,a){const o=change.includes(e)?"onChange":watch.includes(e)?"onWatch":mouse.includes(e)?"onMouse":display.includes(e)?"onDisplay":e;(e==="onInput"||o==="onChange")&&this.$emit("update:modelValue",this.storeStateData),emits.includes(e)&&this.$emit(`${e}`,a)},deprecateEventCustomID(e){console.warn(`--- DEPRECATION ${e}:${this.id}: ----------------------------------------------------------------------------`),console.warn(`<v-form-base  @${e}:${this.id}="handler" /> is deprecated use simplified version <v-form-base  @${e}="handler" />`),console.warn("---------------------------------------------------------------------------------------------")},deprecateCombinedEvents(e,a){e!==a&&(console.warn("--- DEPRECATION Combined Listener:  --------------------------------------------------------------------------"),console.warn(`Combined Event-Listener '${e}' have been removed for better comprehensibility and simplification`),console.warn('Please use separate listener for each event like <v-form-base  @focus="handler" @input="handler" @blur="handler"/>'),console.warn("---------------------------------------------------------------------------------------------"))},setObjectByPath(e,a,o){const n=a.split(pathDelimiter);n.forEach((l,r)=>{r===n.length-1&&(e[l]=o),e=e[l]})},updateArrayFromState(e,a){this.flatCombinedArray.forEach(o=>{o.value=get(a,[o.key,"type"])==="select"?get(e,o.key,null)||get(a,[o.key,"default"],null):get(e,o.key,null),o.schema=get(a,o.key,null)})},sanitizeShorthandType(e,a){return isString(a)?{type:a,label:e}:a},flattenObjects(e={},a){const o={},n={};return Object.keys(a).forEach(l=>{a[l]=this.sanitizeShorthandType(l,a[l]);const r=Array.isArray(e[l])&&Array.isArray(a[l]),i=isPlainObject(e[l])&&!a[l].type,c=e[l]&&e[l].type&&a[l]&&a[l].type,u=!(e[l]instanceof File);if(r||i||c&&u){const{data:s,schema:f}=this.flattenObjects(e[l],a[l]);Object.keys(s).forEach(p=>{o[l+pathDelimiter+p]=s[p],n[l+pathDelimiter+p]=f[p]})}else o[l]=e[l],n[l]=a[l]}),{data:o,schema:n}},combineObjectsToArray({data:e,schema:a}){const o=[];return Object.keys(a).forEach(n=>{if(!isPlainObject(a[n])){console.warn(`Schema '${JSON.stringify(a)}' of Prop '${n}' must be a string with value of type key:'text' or a plainobject with at least key:{ type:'text'} definition.  Prop '${n}' will be ignored!`);return}o.push({key:n,value:e[n],schema:a[n]})}),o},flattenAndCombineToArray(e,a){const o=this.flattenObjects(e,a);return this.combineObjectsToArray(o)},autogenerateSchema(e){let a=JSON.stringify(e,(o,n)=>n===void 0?null:n);a=JSON.parse(a,(o,n)=>n==null?defaultSchemaIfValueIsNullOrUndefined(o):typeof n=="string"?defaultSchemaIfValueIsString(o):typeof n=="number"?defaultSchemaIfValueIsNumber(o):typeof n=="boolean"?defaultSchemaIfValueIsBoolean(o):n),Object.keys(a).forEach(o=>this.formSchema[o]=a[o])},tryAutogenerateModelStructure(e,a){Object.keys(a).forEach(o=>{if(!isEmpty(e[o]))return;const n=a[o];n.type==="group"?(e[o]={},this.tryAutogenerateModelStructure(e[o],n.schema)):n.type==="array"?(e[o]={},this.tryAutogenerateModelStructure(e[o],n.schema)):n.type==="list"?e[o]={}:isPlainObject(n)&&!n.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],n)),Array.isArray(n)&&!n.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],n))})},rebuildArrays(e,a){if(!e)throw`Property 'model' is null or undefined. Use '<v-form-base :model="myModel" :schema="mySchema" />'. myModel must be at least an empty Object.`;isEmpty(a)&&isEmpty(e)&&console.warn("At least one of the properties 'model' or 'schema' in <v-form-base /> must be at least an empty Object. Ignore this Warning on async loading 'model' or 'schema' "),this.tryAutogenerateModelStructure(e,a),isEmpty(a)&&!this.noAutoGenerateSchema&&this.autogenerateSchema(e),this.flatCombinedArray=this.flattenAndCombineToArray(this.storeStateData,this.storeStateSchema)},setCascadeSelect(e){var a;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const o=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,n=e.schema.cascadeKey??"items",l=e.schema.itemValue??"id";this.formSchema[o][n]=((a=find(e.schema[n],[l,this.valueIntern[e.key]]))==null?void 0:a.schema)??[];const r=findIndex(this.flatCombinedArraySorted,["key",o]);this.storeStateData[o]=this.formSchema[o][n].length>0?this.formSchema[o][n][0].value:[],this.flatCombinedArraySorted[r].value=this.valueIntern[o],this.setCascadeSelect(this.flatCombinedArraySorted[r])}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")&&e.schema.autofill.forEach(o=>{var n;this.formSchema[o].autofillable&&(this.storeStateData[o]=((n=find(e.schema.items,["id",this.valueIntern[e.key]]))==null?void 0:n[o])??"")})},updateInput(e,a){var o;if(Array.isArray(e)){const n=cloneDeep(this.formSchema);let l=!1;e.forEach(r=>{var i;r.key&&(r.value!==null||r.value!==void 0)&&((i=this.formSchema)!=null&&i[a.key])&&(n[a.key][r.key]=r.value,l=!0)}),l&&(this.formSchema=n)}else if(e.key&&e.value&&((o=this.formSchema)!=null&&o[a.key])){const n=cloneDeep(this.formSchema);n[a.key][e.key]=e.value,this.formSchema=n}}},created(){this.rebuildArrays(this.valueIntern,this.formSchema)}},_hoisted_1$6=["modelValue"],_hoisted_2$6={key:0,class:"mb-3"},_hoisted_3$6=["innerHTML"];function _sfc_render$6(e,a,o,n,l,r){const i=resolveComponent("ue-recursive-stuff"),c=resolveComponent("ue-dynamic-component-renderer"),u=resolveComponent("ue-title"),s=resolveComponent("v-custom-form-base"),f=resolveComponent("v-input-locale"),p=resolveDirective("mask");return withDirectives((openBlock(),createBlock(VRow,mergeProps({id:o.id},r.getRow),{default:withCtx(()=>[renderSlot(e.$slots,r.getFormTopSlot(),{id:o.id}),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.flatCombinedArraySorted,(m,y)=>(openBlock(),createBlock(VTooltip,mergeProps({key:y,disabled:!m.schema.tooltip,ref_for:!0},r.getShorthandTooltip(m.schema.tooltip)),{activator:withCtx(({props:v})=>[withDirectives((openBlock(),createBlock(VCol,mergeProps({key:y,ref_for:!0},{...r.getGridAttributes(m),...v},{class:r.getClassName(m),draggable:m.schema.drag,onMouseenter:g=>r.onEvent(g,m),onMouseleave:g=>r.onEvent(g,m),onDragstart:g=>r.dragstart(g,m),onDragover:g=>r.dragover(g,m),onDrop:g=>r.drop(g,m)}),{default:withCtx(()=>[renderSlot(e.$slots,r.getTypeTopSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id})),renderSlot(e.$slots,r.getKeyTopSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id})),renderSlot(e.$slots,r.getTypeItemSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}),()=>[renderSlot(e.$slots,r.getKeyItemSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}),()=>[m.schema.type==="preview"&&m.schema.configuration?(openBlock(),createBlock(i,{key:0,configuration:m.schema.configuration,"bind-data":{...r.valueIntern,...o.formItem}},null,8,["configuration","bind-data"])):m.schema.type==="dynamic-component"?(openBlock(),createBlock(c,{key:1,subject:m.schema.subject},null,8,["subject"])):m.schema.type==="title"?(openBlock(),createBlock(u,mergeProps({key:2,text:m.schema.title??m.schema.text??m.schema.label??m.schema.name,ref_for:!0},r.bindSchema(m)),null,16,["text"])):m.schema.type==="radio"?(openBlock(),createBlock(VRadioGroup,mergeProps({key:3,ref_for:!0},r.bindSchema(m),{modelValue:r.setValue(m),onChange:g=>r.onInput(g,m)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.schema.options,(g,C)=>(openBlock(),createBlock(VRadio,mergeProps({key:C,ref_for:!0},r.bindOptions(g)),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),k=>({name:k,fn:withCtx(()=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,k),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,idx:C,option:g}))])}))]),1040))),128))]),_:2},1040,["modelValue","onChange"])):r.isDateTimeColorTypeAndExtensionText(m)?(openBlock(),createBlock(VMenu,mergeProps({key:4,ref_for:!0},r.bindSchemaMenu(m)),{activator:withCtx(({props:g})=>[createVNode(VTextField,mergeProps({ref_for:!0},{...r.bindSchemaText(m),...g},{modelValue:r.setValue(m)},{[toHandlerKey(r.suspendClickAppend(m))]:C=>r.onEvent(C,m,l.append)},{"onClick:appendInner":C=>r.onEvent(C,m,l.appendInner),"onClick:prepend":C=>r.onEvent(C,m,l.prepend),"onClick:prependInner":C=>r.onEvent(C,m,l.prependInner)}),null,16,["modelValue","onClick:appendInner","onClick:prepend","onClick:prependInner"])]),default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.mapTypeToComponent(m.schema.type)),mergeProps({ref_for:!0},r.bindSchema(m),{type:r.checkInternType(m),modelValue:r.setValue(m),"onUpdate:modelValue":g=>r.onInput(g,m),"onClick:hour":g=>r.onEvent({type:"click"},m,l.hour),"onClick:minute":g=>r.onEvent({type:"click"},m,l.minute),"onClick:second":g=>r.onEvent({type:"click"},m,l.second)}),null,16,["type","modelValue","onUpdate:modelValue","onClick:hour","onClick:minute","onClick:second"]))]),_:2},1040)):m.schema.type==="array"?(openBlock(!0),createElementBlock(Fragment,{key:5},renderList(r.setValue(m),(g,C)=>(openBlock(),createElementBlock("div",mergeProps({key:r.getKeyForArray(o.id,m,g,C),ref_for:!0},r.bindSchema(m),{modelValue:r.setValue(m)}),[renderSlot(e.$slots,r.getArrayTopSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:C,item:g})),renderSlot(e.$slots,r.getArrayItemSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:C,item:g}),()=>[createVNode(s,{id:`${o.id}-${m.key}-${C}`,modelValue:g,"onUpdate:modelValue":k=>g=k,schema:m.schema.schema,"onUpdate:schema":k=>m.schema.schema=k,row:r.getRowGroupOrArray(m),col:r.getColGroupOrArray(m),class:normalizeClass(`${o.id}-${m.key}`)},createSlots({_:2},[renderList(e.$slots,(k,b)=>({name:b,fn:withCtx(w=>[renderSlot(e.$slots,b,mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,idx:C,item:g,...w}))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row","col","class"])]),renderSlot(e.$slots,r.getArrayBottomSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:C,item:g}))],16,_hoisted_1$6))),128)):/^(wrap|group)$/.test(m.schema.type)?(openBlock(),createElementBlock(Fragment,{key:6},[m.schema&&m.schema.schema?(openBlock(),createBlock(resolveDynamicComponent(r.checkInternGroupType(m)),mergeProps({key:0,ref_for:!0},r.bindSchema(m),{title:m.schema.typeIntTitle??null,modelValue:m.schema.typeIntModelValue||!1,onClick:g=>r.onEvent(g,m)}),{default:withCtx(()=>[m.schema.noLabel!==!0&&(m.schema.title||m.schema.subtitle)?(openBlock(),createElementBlock("div",_hoisted_2$6,[m.schema.title?(openBlock(),createBlock(u,{key:0,padding:"a-0",margin:"b-0",transform:"none",weight:"bold",class:"text-body-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.title),1)]),_:2},1024)):createCommentVNode("",!0),m.schema.subtitle?(openBlock(),createBlock(u,{key:1,padding:"a-0",margin:"b-4",transform:"none",weight:"regular",class:"text-caption"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:m.schema.subtitle},null,8,_hoisted_3$6)]),_:2},1024)):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(s,{id:`${o.id}-${m.key}`,modelValue:r.setValue(m),schema:m.schema.schema,"onUpdate:schema":g=>m.schema.schema=g,row:r.getRowGroupOrArray(m),col:r.getColGroupOrArray(m),class:normalizeClass(`${o.id}-${m.key}`),onInput:g=>r.onInputWrapper(g,m)},createSlots({_:2},[renderList(e.$slots,(g,C)=>({name:C,fn:withCtx(k=>[renderSlot(e.$slots,C,mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...k}))])}))]),1032,["id","modelValue","schema","onUpdate:schema","row","col","class","onInput"])]),_:2},1040,["title","modelValue","onClick"])):createCommentVNode("",!0)],64)):m.schema.type===l.treeview?(openBlock(),createBlock(resolveDynamicComponent(e.v-l.treeview),mergeProps({key:7,open:m.schema.open,"onUpdate:open":g=>m.schema.open=g,ref_for:!0},r.bindSchema(m),{"onUpdate:open":g=>r.onEvent({type:"click"},m,"open"),"onUpdate:active":g=>r.onEvent({type:"click"},m,"selected"),items:m.schema.items,modelValue:r.setValue(m),"onUpdate:modelValue":g=>r.onInput(g,m)}),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(C=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...C}))])}))]),1040,["open","onUpdate:open","onUpdate:active","items","modelValue","onUpdate:modelValue"])):m.schema.type===l.list?(openBlock(),createBlock(VList,{key:8},{default:withCtx(()=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,"label"),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}),()=>[m.schema.label?(openBlock(),createBlock(VToolbar,mergeProps({key:0,ref_for:!0},r.bindSchema(m),{dark:""}),{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.label),1)]),_:2},1024)]),_:2},1040)):createCommentVNode("",!0)]),createVNode(VList,mergeProps({modelValue:m.schema.model,"onUpdate:modelValue":g=>m.schema.model=g,ref_for:!0},r.bindSchema(m),{light:""}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.setValue(m),(g,C)=>(openBlock(),createBlock(VListItem,{key:C,onClick:k=>r.onEvent(k,m,l.list)},{default:withCtx(()=>[renderSlot(e.$slots,r.getArrayItemSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:C,item:g}),()=>[createVNode(VListItem,{icon:m.schema.icon,title:m.schema.item?g[m.schema.item]:g},null,8,["icon","title"])])]),_:2},1032,["onClick"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])]),_:2},1024)):/(switch|checkbox)/.test(m.schema.type)?(openBlock(),createBlock(resolveDynamicComponent(r.mapTypeToComponent(m.schema.type)),mergeProps({key:9,modelValue:r.setValue(m),"onUpdate:modelValue":g=>r.onInput(g,m),ref_for:!0},r.bindSchema(m)),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}))])}))]),1040,["modelValue","onUpdate:modelValue"])):m.schema.type==="file"?(openBlock(),createBlock(VFileInput,mergeProps({key:10,ref_for:!0},r.bindSchema(m),{modelValue:r.setValue(m),onFocus:g=>r.onEvent(g,m),onBlur:g=>r.onEvent(g,m),onChange:g=>r.onInput(g,m)}),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(C=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...C}))])}))]),1040,["modelValue","onFocus","onBlur","onChange"])):m.schema.type==="icon"?(openBlock(),createBlock(VIcon,mergeProps({key:11,ref_for:!0},r.bindSchema(m),{textContent:toDisplayString(r.getIconValue(m)),onClick:g=>r.onEvent(g,m)}),null,16,["textContent","onClick"])):m.schema.type==="slider"?(openBlock(),createBlock(VSlider,mergeProps({key:12,ref_for:!0},r.bindSchema(m),{"onUpdate:modelValue":g=>r.onInput(g,m)}),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}))])}))]),1040,["onUpdate:modelValue"])):m.schema.type==="img"?(openBlock(),createBlock(VImg,mergeProps({key:13,src:r.getImageSource(m),ref_for:!0},r.bindSchema(m),{onClick:g=>r.onEvent(g,m)}),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}))])}))]),1040,["src","onClick"])):m.schema.type==="btn-toggle"?(openBlock(),createBlock(VBtnToggle,mergeProps({key:14,ref_for:!0},r.bindSchema(m),{modelValue:r.setValue(m),onChange:g=>r.onInput(g,m)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.schema.options,(g,C)=>(openBlock(),createBlock(VBtn,mergeProps({key:C,ref_for:!0},r.bindOptions(g),{icon:!!g.icon}),{default:withCtx(()=>[createVNode(VIcon,{dark:m.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(r.bindOptions(g).icon),1)]),_:2},1032,["dark"]),createTextVNode(" "+toDisplayString(r.bindOptions(g).label),1)]),_:2},1040,["icon"]))),128))]),_:2},1040,["modelValue","onChange"])):m.schema.type==="btn"?(openBlock(),createBlock(VBtn,mergeProps({key:15,ref_for:!0},r.bindSchema(m),{onClick:g=>r.onEvent(g,m,l.button),type:"button"}),{default:withCtx(()=>[createTextVNode(toDisplayString(r.setValue(m))+" ",1),m.schema.iconCenter?(openBlock(),createBlock(VIcon,{key:0,dark:m.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.iconCenter),1)]),_:2},1032,["dark"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(m.schema.label),1)]),_:2},1040,["onClick"])):m.schema.translated?(openBlock(),createBlock(f,{key:16,type:r.mapTypeToComponent(m.schema.type),attributes:m.schema,modelValue:r.setValue(m),"onUpdate:modelValue":g=>r.onInput(g,m)},null,8,["type","attributes","modelValue","onUpdate:modelValue"])):m.schema.mask?withDirectives((openBlock(),createBlock(resolveDynamicComponent(r.mapTypeToComponent(m.schema.type)),mergeProps({key:17,ref_for:!0},r.bindSchema(m),{type:r.checkExtensionType(m),modelValue:r.setValue(m),obj:m,[r.searchInputSync(m)]:m.schema.searchInput,["onUpdate:"+r.searchInputSync(m)]:g=>m.schema.searchInput=g,onFocus:g=>r.onEvent(g,m),onBlur:g=>r.onEvent(g,m)},{[toHandlerKey(r.suspendClickAppend(m))]:g=>r.onEvent(g,m,l.append)},{"onClick:appendInner":g=>r.onEvent(g,m,l.appendInner),"onClick:prepend":g=>r.onEvent(g,m,l.prepend),"onClick:prependInner":g=>r.onEvent(g,m,l.prependInner),"onClick:clear":g=>r.onEvent(g,m,l.clear),"onClick:hour":g=>r.onEvent({type:"click"},m,l.hour),"onClick:minute":g=>r.onEvent({type:"click"},m,l.minute),"onClick:second":g=>r.onEvent({type:"click"},m,l.second),"onUpdate:modelValue":g=>r.onInput(g,m),"onUpdate:input":g=>r.updateInput(g,m)}),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,model:r.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"])),[[p,m.schema.mask]]):(openBlock(),createBlock(resolveDynamicComponent(r.mapTypeToComponent(m.schema.type)),mergeProps({key:18,ref_for:!0},r.bindSchema(m),{type:r.checkExtensionType(m),modelValue:r.setValue(m),obj:m,[r.searchInputSync(m)]:m.schema.searchInput,["onUpdate:"+r.searchInputSync(m)]:g=>m.schema.searchInput=g,onFocus:g=>r.onEvent(g,m),onBlur:g=>r.onEvent(g,m)},{[toHandlerKey(r.suspendClickAppend(m))]:g=>r.onEvent(g,m,l.append)},{"onClick:appendInner":g=>r.onEvent(g,m,l.appendInner),"onClick:prepend":g=>r.onEvent(g,m,l.prepend),"onClick:prependInner":g=>r.onEvent(g,m,l.prependInner),"onClick:clear":g=>r.onEvent(g,m,l.clear),"onClick:hour":g=>r.onEvent({type:"click"},m,l.hour),"onClick:minute":g=>r.onEvent({type:"click"},m,l.minute),"onClick:second":g=>r.onEvent({type:"click"},m,l.second),"onUpdate:modelValue":g=>r.onInput(g,m),"onUpdate:input":g=>r.updateInput(g,m)}),createSlots({_:2},[renderList(r.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(C=>[renderSlot(e.$slots,r.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...C,model:r.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"]))])]),renderSlot(e.$slots,r.getTypeBottomSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id})),renderSlot(e.$slots,r.getKeyBottomSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}))]),_:2},1040,["class","draggable","onMouseenter","onMouseleave","onDragstart","onDragover","onDrop"])),[[vShow,!m.schema.hidden],[Intersect,(g,C,k)=>r.onIntersect(g,C,k,m)],[Touch,{left:()=>r.onSwipe("left",m),right:()=>r.onSwipe("right",m),up:()=>r.onSwipe("up",m),down:()=>r.onSwipe("down",m)}],[ClickOutside,g=>r.onClickOutside(g,m)]]),m.schema.spacer?(openBlock(),createBlock(VSpacer,{key:`s-${y}`})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,r.getTooltipSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}),()=>[createBaseVNode("span",null,toDisplayString(r.getShorthandTooltipLabel(m.schema.tooltip)),1)]),renderSlot(e.$slots,r.getKeyTooltipSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}))]),_:2},1040,["disabled"]))),128)),renderSlot(e.$slots,r.getFormBottomSlot(),{id:o.id})]),_:3},16,["id"])),[[Resize,r.onResize,void 0,{quiet:!0}]])}const VCustomFormBase=_export_sfc(_sfc_main$7,[["render",_sfc_render$6]]),_sfc_main$6={emits:["update:modelValue","opened","confirm","cancel"],props:{...makeModalProps$1()},setup(e,a){return{...useModal(e,a)}},computed:{textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},watch:{dialog(e){e&&this.emitOpened()}},methods:{toggle(){return this.toggleModal()},close(e=null){return e&&e(),this.closeModal()},open(e=null,a=null){if(e&&e(),this.openModal(),a){const o=this;this.$nextTick().then(()=>{o.$refs.modalConfirm&&o.$refs.modalConfirm.$el.addEventListener("click",n=>{a(),o.close()}),o.$refs.modalCancel&&o.$refs.modalCancel.$el.addEventListener("click",n=>{o.close()})})}return!0},async confirm(e=null){let a=!0;if(e)a=!!await e(),a&&(this.closeModal(),this.$emit("confirm"));else if(this.confirmCallback&&typeof this.confirmCallback=="function"){let o=await this.confirmCallback();a=typeof o=="boolean"?o:!0,a&&this.confirmClosing&&this.closeModal(),this.$emit("confirm")}else this.closeModal(),this.$emit("confirm");return a},async cancel(e=null){if(e&&e(),this.rejectCallback&&typeof this.rejectCallback=="function"){let a=await this.rejectCallback();shouldClose=typeof a=="boolean"?a:!0,shouldClose&&this.rejectClosing&&this.closeModal()}else this.closeModal()},toggleFullscreen(){this.full=!this.full},screenListener(e){this.full=e.target.fullScreen}}},_hoisted_1$5={key:0,class:"text-h5 text-center",style:{"word-break":"break-word"}},_hoisted_2$5={class:"d-flex align-center"},_hoisted_3$5=["innerHTML"];function _sfc_render$5(e,a,o,n,l,r){const i=resolveComponent("ue-title");return openBlock(),createBlock(VDialog,mergeProps({modelValue:e.dialog,"onUpdate:modelValue":a[5]||(a[5]=c=>e.dialog=c)},e.$bindAttributes(),{transition:e.transition,fullscreen:e.full,width:e.modalWidth}),createSlots({default:withCtx(c=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({...c,isFullActive:this.full,toggleFullscreen:()=>this.toggleFullscreen(),close:()=>this.close(),confirm:()=>this.confirm(),open:()=>this.open()})),()=>[renderSlot(e.$slots,"systembar",{},()=>[e.hasSystembar?(openBlock(),createBlock(VLayout,{key:0,style:{height:"40px"}},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VSystemBar,{dark:""},{default:withCtx(()=>[createVNode(VIcon,{onClick:a[0]||(a[0]=u=>r.toggleFullscreen()),"x-small":e.full},{default:withCtx(()=>a[6]||(a[6]=[createTextVNode(" mdi-checkbox-blank-outline ")])),_:1},8,["x-small"]),createVNode(VIcon,{onClick:a[1]||(a[1]=u=>r.close())},{default:withCtx(()=>a[7]||(a[7]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"body",mergeProps({textCancel:this.textCancel,textConfirm:this.textConfirm,textDescription:this.description,isFullActive:this.full,open:()=>this.open(),close:()=>this.close(),confirm:()=>this.confirm(),toggleFullscreen:()=>this.toggleFullscreen()},{closeDialog:r.close}),()=>[createVNode(VCard,null,{default:withCtx(()=>[e.title?(openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(i,{justify:e.titleJustify,padding:e.titlePadding,class:normalizeClass(e.titleClass)},{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$5,[e.hasFullscreenButton?(openBlock(),createBlock(VBtn,{key:0,icon:e.full?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:r.toggleFullscreen},null,8,["icon","onClick"])):createCommentVNode("",!0),e.hasCloseButton?(openBlock(),createBlock(VBtn,{key:1,icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=u=>r.close())})):createCommentVNode("",!0)])]),default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:1},8,["justify","padding","class"]),e.hasTitleDivider?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)])):createCommentVNode("",!0),e.description||e.$slots["body.description"]?(openBlock(),createBlock(VCardText,{key:1,class:normalizeClass([e.descriptionBodyClass,{"pa-0":e.noDefaultBodyPadding}]),style:{"word-break":"break-word"}},{default:withCtx(()=>[renderSlot(e.$slots,"body.description",normalizeProps(guardReactiveProps({description:e.description})),()=>[createBaseVNode("div",{innerHTML:e.description},null,8,_hoisted_3$5)])]),_:3},8,["class"])):createCommentVNode("",!0),e.noActions?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:2},[createVNode(VDivider,{class:"my-2"}),createVNode(VCardActions,null,{default:withCtx(()=>[renderSlot(e.$slots,"body.options",normalizeProps(guardReactiveProps({description:e.description})),()=>[createVNode(VSpacer),e.noCancelButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:0,ref:"modalCancel"},e.rejectButtonAttributes,{class:"modal-cancel",onClick:a[3]||(a[3]=u=>r.cancel()),loading:e.rejectLoading,disabled:e.rejectLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(r.textCancel),1)]),_:1},16,["loading","disabled"])),e.noConfirmButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref:"modalConfirm"},e.confirmButtonAttributes,{class:"modal-confirm",onClick:a[4]||(a[4]=u=>r.confirm()),loading:e.confirmLoading,disabled:e.confirmLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(r.textConfirm),1)]),_:1},16,["loading","disabled"]))]),createVNode(VSpacer)]),_:3})],64))]),_:3})])])]),_:2},[renderList(e.$slots,(c,u)=>({name:u,fn:withCtx(s=>[renderSlot(e.$slots,u,normalizeProps(guardReactiveProps(s||{})))])}))]),1040,["modelValue","transition","fullscreen","width"])}const UEModal=_export_sfc(_sfc_main$6,[["render",_sfc_render$5]]),component="MEDIA-LIBRARY",api={get(e,a,o,n){axios$1.get(e,{params:a}).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component,{message:"Media library get error.",value:l}),n&&typeof n=="function"&&n(l)})},update(e,a,o,n){axios$1.put(e,a).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component,{message:"Media library update error.",value:l}),n&&typeof n=="function"&&n(l)})},delete(e,a,o){axios$1.delete(e).then(function(n){a&&typeof a=="function"&&a(n)},function(n){globalError$1(component,{message:"Media library delete error.",value:n}),o&&typeof o=="function"&&o(n)})},bulkDelete(e,a,o,n){axios$1.put(e,a).then(function(l){o&&typeof o=="function"&&o(l)},function(l){globalError$1(component,{message:"Media library bulk delete error.",value:l}),n&&typeof n=="function"&&n(l)})}},scrollToY=function(e){const a={el:document,offset:0,duration:250,easing:"linear"},o=Date.now();let n=0,l=!1;const r={linear:function(m){return m},easeIn:function(m){return m*m*m},easeOut:function(m){return--m*m*m+1},easeInOut:function(m){return m<.5?4*m*m*m:(m-1)*(2*m-2)*(2*m-2)+1}},i=window.requestAnimationFrame;let c;for(const m in e)typeof e[m]<"u"&&(a[m]=e[m]);if(a.el===document&&(l=!0,a.el=document.documentElement.scrollTop?document.documentElement:document.body),n=a.el.scrollTop,n===a.offset)return;function u(m,y){return m<y?m:y}function s(){if(i)try{cancelAnimationFrame(c)}catch{}else clearTimeout(c)}function f(){if(l&&n===0)document.documentElement.scrollTop=1,document.body.scrollTop=1,n=1,a.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(f);else{const m=Date.now(),y=u(1,(m-o)/a.duration),v=r[a.easing](y);a.el.scrollTop=v*(a.offset-n)+n,y<1?p():(s(),(typeof a.onComplete).toLowerCase()==="function"&&a.onComplete.call(this))}}function p(){i?c=requestAnimationFrame(f):c=setTimeout(function(){f()},1e3/60)}p()},mediaItemsMixin={props:{items:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},usedItems:{type:Array,default:()=>[]}},computed:{...mapState({itemsLoading:e=>e.mediaLibrary.loading}),replacingMediaIds:function(){return this.itemsLoading.reduce((e,a)=>(a.isReplacement&&(e[a.replacementId]=a.id),e),{})}},methods:{isSelected:function(e,a=["id"]){return!!this.selectedItems.find(o=>a.every(n=>o[n]===e[n]))},isUsed:function(e,a=["id"]){return!!this.usedItems.find(o=>a.every(n=>o[n]===e[n]))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}},_sfc_main$5={name:"A17Mediagrid",mixins:[mediaItemsMixin],computed:{...mapState({showFileName:e=>e.mediaLibrary.showFileName})},methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},_hoisted_1$4={class:"mediagrid"},_hoisted_2$4={class:"mediagrid__button s--loading"},_hoisted_3$4={key:0,class:"mediagrid__progress"},_hoisted_4$4={key:1,class:"mediagrid__progressError"},_hoisted_5$4=["onClick"],_hoisted_6$4=["src"],_hoisted_7$3=["title"];function _sfc_render$4(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(i,c)=>withDirectives((openBlock(),createElementBlock("div",{class:"mediagrid__item",key:"mediaLoading_"+i.id},[createBaseVNode("span",_hoisted_2$4,[i.error?(openBlock(),createElementBlock("span",_hoisted_4$4,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_3$4,[createBaseVNode("span",{class:"mediagrid__progressBar",style:normalizeStyle(r.loadingProgress(c))},null,4)]))])])),[[vShow,!i.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,i=>(openBlock(),createElementBlock("div",{class:normalizeClass(["mediagrid__item",{"s--hasFilename":e.showFileName}]),key:i.id},[createBaseVNode("span",{class:normalizeClass(["mediagrid__button",{"s--picked":e.isSelected(i),"s--used":e.isUsed(i)||!!e.replacingMediaIds[i.id],"s--disabled":i.disabled}]),onClick:[withModifiers(c=>e.toggleSelection(i),["exact"]),withModifiers(c=>e.shiftToggleSelection(i),["shift","exact"])]},[createBaseVNode("img",{src:i.thumbnail,class:"mediagrid__img"},null,8,_hoisted_6$4)],10,_hoisted_5$4),e.showFileName?(openBlock(),createElementBlock("p",{key:0,title:i.name,class:"mediagrid__name"},toDisplayString(i.name),9,_hoisted_7$3)):createCommentVNode("",!0)],2))),128))])}const MediaGrid=_export_sfc(_sfc_main$5,[["render",_sfc_render$4],["__scopeId","data-v-a5c29ae6"]]),_sfc_main$4={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:()=>["id"]}},mixins:[mediaItemsMixin],filters,computed:{allItems:function(){return this.items.map(e=>{if(this.replacingMediaIds[e.id]){const a=this.itemsLoading.find(o=>o.replacementId===e.id);return a||e}else return e})},columnsNumber:function(){if(!this.items.length)return 0;let e=this.extraColumns.length;const a=this.items[0];return a.hasOwnProperty("id")&&e++,a.hasOwnProperty("name")&&e++,a.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];const e=this.items[0];return Object.keys(e).filter(a=>!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(a)&&typeof e[a]=="string")},checkedItems:function(){const e=[];return this.selectedItems.length&&this.selectedItems.forEach(function(a){e.push(a.endpointType+"_"+a.id)}),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,a){const o=a?this[a]:this.itemsLoading;return{width:o[e].progress?o[e].progress+"%":"0%"}}}},_hoisted_1$3={class:"itemlist"},_hoisted_2$3={class:"itemlist__table"},_hoisted_3$3=["colspan"],_hoisted_4$3={key:0,class:"itemlist__progress"},_hoisted_5$3={key:1,class:"itemlist__progressError"},_hoisted_6$3=["onClick"],_hoisted_7$2={key:0,class:"itemlist__cell itemlist__cell--btn"},_hoisted_8$2={key:1,class:"itemlist__cell itemlist__cell--thumb"},_hoisted_9$2=["src"],_hoisted_10$2={key:2,class:"itemlist__cell itemlist__cell--name"},_hoisted_11$1=["innerHTML"],_hoisted_12={key:1},_hoisted_13=["colspan"],_hoisted_14={key:0,class:"itemlist__progress"},_hoisted_15={key:1,class:"itemlist__progressError"};function _sfc_render$3(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("table",_hoisted_2$3,[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(i,c)=>withDirectives((openBlock(),createElementBlock("tr",{class:"itemlist__row",key:i.id},[createBaseVNode("td",{class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":i.error}]),colspan:r.columnsNumber},[i.error?(openBlock(),createElementBlock("span",_hoisted_5$3,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_4$3,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(r.loadingProgress(c))},null,4)]))],10,_hoisted_3$3)])),[[vShow,!i.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.allItems,(i,c)=>(openBlock(),createElementBlock("tr",{class:normalizeClass(["itemlist__row",{"s--picked":e.isSelected(i,o.keysToCheck),"s--disabled":i.disabled||!!e.replacingMediaIds[i.id]}]),key:`${i.endpointType}_${i.id}`,onClick:[withModifiers(u=>e.toggleSelection(i),["exact","prevent"]),withModifiers(u=>e.shiftToggleSelection(i),["shift","exact","prevent"])]},[i.isReplacement?i.isReplacement?(openBlock(),createElementBlock("td",{key:1,class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":i.error}]),colspan:r.columnsNumber},[i.error?(openBlock(),createElementBlock("span",_hoisted_15,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_14,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(r.loadingProgress(c,"allItems"))},null,4)]))],10,_hoisted_13)):createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[i.hasOwnProperty("id")?(openBlock(),createElementBlock("td",_hoisted_7$2)):createCommentVNode("",!0),i.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("td",_hoisted_8$2,[createBaseVNode("img",{src:i.thumbnail},null,8,_hoisted_9$2)])):createCommentVNode("",!0),i.hasOwnProperty("name")?(openBlock(),createElementBlock("td",_hoisted_10$2,[i.hasOwnProperty("renderHtml")?(openBlock(),createElementBlock("div",{key:0,innerHTML:i.name},null,8,_hoisted_11$1)):(openBlock(),createElementBlock("div",_hoisted_12,toDisplayString(i.name),1))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.extraColumns,(u,s)=>(openBlock(),createElementBlock("td",{class:normalizeClass(["itemlist__cell",r.rowClass(u)]),key:s},[u==="size"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(i[u].toUpperCase()),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(i[u]),1)],64))],2))),128))],64))],10,_hoisted_6$3))),128))])])])}const ItemList=_export_sfc(_sfc_main$4,[["render",_sfc_render$3],["__scopeId","data-v-c7fcfc1f"]]),_sfc_main$3={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:{loadingProgress:function(){return{transform:"translateX("+(-100+this.uploadProgress)+"%)"}},...mapState({mediasLoading:e=>e.mediaLibrary.loading,uploadProgress:e=>e.mediaLibrary.uploadProgress})},methods:{cancelUpload:function(e){this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)}}},_hoisted_1$2={class:"mediasidebar__inner mediasidebar__inner--single"},_hoisted_2$2={class:"f--note"},_hoisted_3$2={class:"mediasidebar__progress"},_hoisted_4$2={class:"mediasidebar__loading"},_hoisted_5$2={key:0,class:"mediasidebar__errorMessage"},_hoisted_6$2=["onClick"];function _sfc_render$2(e,a,o,n,l,r){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("p",_hoisted_2$2,"Uploading "+toDisplayString(e.mediasLoading.length)+" file"+toDisplayString(e.mediasLoading.length>1?"s":""),1),createBaseVNode("div",_hoisted_3$2,[createBaseVNode("span",{class:"mediasidebar__progressBar",style:normalizeStyle(r.loadingProgress)},null,4)]),createBaseVNode("div",_hoisted_4$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mediasLoading,i=>(openBlock(),createElementBlock("p",{class:normalizeClass(["f--small",{"s--error":i.error}]),key:i.id},[i.error?(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString(i.errorMessage),1)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(i.name),1),a[0]||(a[0]=createTextVNode()),i.error?(openBlock(),createElementBlock("a",{key:1,href:"#",onClick:withModifiers(c=>r.cancelUpload(i),["prevent"])},"Cancel",8,_hoisted_6$2)):createCommentVNode("",!0)],2))),128))])])}const UeMediaSidebarUpload=_export_sfc(_sfc_main$3,[["render",_sfc_render$2],["__scopeId","data-v-2c5af2a8"]]),_sfc_main$2={name:"A17MediaSidebar",components:{"ue-mediasidebar-upload":UeMediaSidebarUpload,SelectTag},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[],deleteModalActive:!1}},filters,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:{firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return this.medias.length===1},hasMedia:function(){return this.medias.length>0},isImage:function(){return this.type.value==="image"},sharedTags:function(){return this.medias.map(e=>e.tags).reduce((e,a)=>e.filter(o=>a.includes(o)))},sharedMetadata(){return(e,a)=>this.hasMultipleMedias?this.medias.map(o=>o.metadatas.default[e]).every((o,n,l)=>Array.isArray(o)?o[0]==l[0]:o==l[0])?this.firstMedia.metadatas.default[e]:a==="object"?{}:a==="boolean"?!1:"":typeof this.firstMedia.metadatas.default[e]=="object"||a==="boolean"?this.firstMedia.metadatas.default[e]:{}},captionValues(){return typeof this.firstMedia.metadatas.default.caption=="object"?this.firstMedia.metadatas.default.caption:{}},altValues(){return typeof this.firstMedia.metadatas.default.altText=="object"?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map(function(e){return e.id}).join(",")},mediasIdsToDelete:function(){return this.medias.filter(e=>e.deleteUrl).map(e=>e.id)},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every(e=>e.deleteUrl)||this.hasMultipleMedias&&!this.medias.every(e=>!e.deleteUrl)},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){return this.extraMetadatas.filter(e=>e.multiple&&!this.translatableMetadatas.includes(e.name))},singleOnlyMetadatas:function(){return this.extraMetadatas.filter(e=>!e.multiple||e.multiple&&this.translatableMetadatas.includes(e.name))},...mapState({mediasLoading:e=>e.mediaLibrary.loading,useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions})},methods:{replaceMedia:function(){this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open(()=>{this.triggerMediaReplace()}):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){if(this.loading)return!1;if(this.mediasIdsToDelete.length!==this.medias.length){this.$refs.warningDelete.open();return}this.$main().$refs.deleteWarningMediaModal?this.$main().$refs.deleteWarningMediaModal.open(null,()=>{this.deleteSelectedMedias()}):this.deleteSelectedMedias()},deleteSelectedMedias:function(){if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?api.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{}):api.delete(this.firstMedia.deleteUrl,e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{})},clear:function(){this.$emit("clear")},getFormData:function(e){return FormDataAsObj(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){this.focused=!1,this.save();const e=this.$refs.form,a=this.getFormData(e);this.hasSingleMedia?(a.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=a.alt_text:this.firstMedia.metadatas.default.altText="",a.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=a.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach(o=>{a.hasOwnProperty(o.name)?this.firstMedia.metadatas.default[o.name]=a[o.name]:this.firstMedia.metadatas.default[o.name]=""})):this.singleAndMultipleMetadatas.forEach(o=>{a.hasOwnProperty(o.name)&&this.medias.forEach(n=>{n.metadatas.default[o.name]=a[o.name]})})},save:function(){const e=this.$refs.form;if(!e)return;const a=this.getFormData(e);!isEqual(a,this.previousSavedData)&&!this.loading&&(this.previousSavedData=a,this.update(e))},submit:function(e){e.preventDefault(),this.save()},update:function(e){if(this.loading)return;this.loading=!0;const a=this.getFormData(e);a.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;const o=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;api.update(o,a,n=>{this.loading=!1,n.data.tags&&this.$emit("tagUpdated",n.data.tags),this.hasMultipleMedias&&n.data.items&&this.medias.forEach(function(l){n.data.items.some(function(r){return r.id===l.id&&(l.tags=r.tags),r.id===l.id})})},n=>{this.loading=!1,n.data.message})}}},_hoisted_1$1={class:"mediasidebar"},_hoisted_2$1={key:0,class:"f--note"},_hoisted_3$1={key:1,class:"mediasidebar__info"},_hoisted_4$1=["src","alt"],_hoisted_5$1={class:"mediasidebar__name"},_hoisted_6$1={key:0,class:"mediasidebar__loader"},_hoisted_7$1=["value"],_hoisted_8$1=["value"],_hoisted_9$1={class:"d-flex flex-column align-center justify-center"},_hoisted_10$1={class:"modal--tiny-title"};function _sfc_render$1(e,a,o,n,l,r){const i=resolveComponent("ue-mediasidebar-upload"),c=resolveComponent("SelectTag"),u=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",_hoisted_1$1,[e.mediasLoading.length?(openBlock(),createBlock(i,{key:0})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:normalizeClass(["mediasidebar__inner",r.containerClasses])},[r.hasMedia?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_2$1,toDisplayString(e.$trans("media-library.sidebar.empty-text","No file selected")),1)),r.hasMultipleMedias?(openBlock(),createElementBlock("p",_hoisted_3$1,[createTextVNode(toDisplayString(o.medias.length)+" "+toDisplayString(e.$trans("media-library.sidebar.files-selected","files selected"))+" ",1),createBaseVNode("a",{href:"#",onClick:a[0]||(a[0]=withModifiers((...s)=>r.clear&&r.clear(...s),["prevent"]))},toDisplayString(e.$trans("media-library.sidebar.clear","Clear")),1)])):createCommentVNode("",!0),r.hasSingleMedia?(openBlock(),createElementBlock(Fragment,{key:2},[r.isImage?(openBlock(),createElementBlock("img",{key:0,src:r.firstMedia.thumbnail,class:"mediasidebar__img",alt:r.firstMedia.original},null,8,_hoisted_4$1)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_5$1,toDisplayString(r.firstMedia.name),1),createVNode(VList,{density:"compact",class:"bg-transparent"},{default:withCtx(()=>[r.firstMedia.size?(openBlock(),createBlock(VListItem,{key:0,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode("File size: "+toDisplayString(r.firstMedia.size.toUpperCase()),1)]),_:1})]),_:1})):createCommentVNode("",!0),r.isImage&&r.firstMedia.width+r.firstMedia.height?(openBlock(),createBlock(VListItem,{key:1,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("media-library.sidebar.dimensions","Dimensions"))+": "+toDisplayString(r.firstMedia.width)+" × "+toDisplayString(r.firstMedia.height),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})],64)):createCommentVNode("",!0),r.hasMedia?(openBlock(),createBlock(VRow,{key:3,align:"center",justify:"space-around",class:"mt-12"},{default:withCtx(()=>[r.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:0,href:r.firstMedia.original,download:"",icon:"mdi-download",size:"small"},null,8,["href"])):createCommentVNode("",!0),r.allowDelete&&o.authorized?(openBlock(),createBlock(VBtn,{key:1,icon:"$trash",size:"small",type:"button",onClick:r.deleteSelectedMediasValidation},null,8,["onClick"])):(openBlock(),createBlock(VBtn,{key:2,icon:"$trash",disabled:"",size:"small",type:"button"})),r.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:3,icon:"mdi-recycle",size:"small",type:"button",onClick:r.replaceMedia},null,8,["onClick"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)],2),r.hasMedia?(openBlock(),createElementBlock("form",{key:0,ref:"form",class:"mediasidebar__inner mediasidebar__form",onSubmit:a[4]||(a[4]=(...s)=>r.submit&&r.submit(...s))},[e.loading?(openBlock(),createElementBlock("span",_hoisted_6$1,a[6]||(a[6]=[createBaseVNode("span",{class:"loader loader--small"},[createBaseVNode("span")],-1)]))):createCommentVNode("",!0),r.hasMultipleMedias?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(c,{label:e.$trans("media-library.sidebar.tags"),key:r.firstMedia.id+"-"+o.medias.length,name:"","v-model":r.hasMultipleMedias?r.sharedTags:r.firstMedia.tags,options:e.tags,selected:r.hasMultipleMedias?r.sharedTags:r.firstMedia.tags,searchable:!0,multiple:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:o.type.tagsEndpoint,onChange:r.save},null,8,["label","v-model","options","selected","emptyText","endpoint","onChange"])),r.isImage?(openBlock(),createBlock(VTextField,{key:0,label:e.$trans("media-library.sidebar.alt-text"),variant:"outlined",name:"alt_text",onBlur:r.blur,modelValue:r.firstMedia.metadatas.default.altText,"onUpdate:modelValue":a[1]||(a[1]=s=>r.firstMedia.metadatas.default.altText=s)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0),r.isImage?(openBlock(),createBlock(VTextarea,{key:1,label:e.$trans("media-library.sidebar.caption"),variant:"outlined",name:"caption",onBlur:r.blur,modelValue:r.firstMedia.metadatas.default.caption,"onUpdate:modelValue":a[2]||(a[2]=s=>r.firstMedia.metadatas.default.caption=s)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0)],64)),o.extraMetadatas.length&&r.isImage&&r.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?(openBlock(),createBlock(VTooltip,{key:2,text:"Remove this field if you do not want to update it on all selected medias",location:"top"},{activator:withCtx(({props:s})=>[createBaseVNode("span",mergeProps(s,{class:"f--tiny f--note f--underlined",onClick:a[3]||(a[3]=f=>r.removeFieldFromBulkEditing("tags"))})," Remove from bulk edit ",16)]),_:1})):createCommentVNode("",!0),r.hasMultipleMedias?(openBlock(),createElementBlock("input",{key:3,type:"hidden",name:"ids",value:r.mediasIds},null,8,_hoisted_7$1)):(openBlock(),createElementBlock("input",{key:4,type:"hidden",name:"id",value:r.firstMedia.id},null,8,_hoisted_8$1))],544)):createCommentVNode("",!0)],64)),createVNode(u,{ref:"warningDelete",transition:"dialog-bottom-transition",modelValue:e.deleteModalActive,"onUpdate:modelValue":a[5]||(a[5]=s=>e.deleteModalActive=s),"width-type":"sm","confirm-text":`Delete ( ${r.mediasIdsToDelete.length} )`,"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("p",_hoisted_10$1,[createBaseVNode("strong",null,toDisplayString(e.$trans("media-library.dialogs.delete.title","Are you sure ?")),1)]),createBaseVNode("p",null,toDisplayString(r.warningDeleteMessage),1)])]),_:1},8,["modelValue","confirm-text"])])}const MediaSidebar=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-d0eb8a4b"]]),_sfc_main$1={mixins:[ModalMixin],components:{MediaGrid,ItemList,MediaSidebar},setup(e,{attrs:a,slots:o,emit:n}){const{isGuest:l}=useUser();return{isGuest:l}},props:{...makeModalMediaProps(),initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!0},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1,full:!0,sharedFilterState:{search:"",tag:null,type:this.type??"image",page:this.page??this.initialPage}}},computed:{renderedMediaItems:function(){return this.mediaItems.map(e=>(e.disabled=this.filesizeMax>0&&e.filesizeInMb>this.filesizeMax||this.widthMin>0&&e.width<this.widthMin||this.heightMin>0&&e.height<this.heightMin,e))},currentTypeObject:function(){return this.types.find(e=>e.value===this.type)},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+" – "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+" – "+this.btnLabelMulti:this.modalTitlePrefix+" – "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){let e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){const e=this;return e.types.filter(function(o){return o.value===e.type})[0]},canInsert:function(){return!this.selectedMedias.some(e=>!!this.usedMedias.find(a=>a.id===e.id))},...mapState({connector:e=>e.mediaLibrary.connector,max:e=>e.mediaLibrary.max,filesizeMax:e=>e.mediaLibrary.filesizeMax,widthMin:e=>e.mediaLibrary.widthMin,heightMin:e=>e.mediaLibrary.heightMin,type:e=>e.mediaLibrary.type,types:e=>e.mediaLibrary.types,strict:e=>e.mediaLibrary.strict,selected:e=>e.mediaLibrary.selected,indexToReplace:e=>e.mediaLibrary.indexToReplace}),filterSchema:function(){return{tag:{type:"select",name:"tag",label:"Filter by tags",items:this.tags,variant:"outlined",clearable:"true",chips:"true",col:"12"}}}},watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1,this.sharedFilterState.type=this.type},page:function(e){this.sharedFilterState.page=e}},methods:{deleteSelectedMedias:function(e){let a=[];e&&e.length!==this.selectedMedias.length&&(a=this.selectedMedias.filter(o=>!o.deleteUrl)),e.forEach(()=>{this.$store.commit(MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL,this.type)}),this.mediaItems=this.mediaItems.filter(o=>!this.selectedMedias.includes(o)||a.includes(o)),this.selectedMedias=a,this.mediaItems.length<=40&&this.reloadGrid()},replaceMedia:function({id:e}){this.$refs.uploader.replaceMedia(e)},addMedia:function(e){const a=this.mediaItems.findIndex(function(o){return o.id===e.id});if(a>-1){for(const o in this.selected)this.selected[o].forEach((n,l)=>{if(e.id===n.id){const r=[];for(const i in n.crops)r[i]={height:e.height===n.height?n.crops[i].height:e.height,name:i,width:e.width===n.width?n.crops[i].width:e.width,x:e.width===n.width?n.crops[i].x:0,y:e.height===n.height?n.crops[i].y:0};this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIAS,{index:l,media:{...e,width:e.width===n.width?n.width:e.width,height:e.height===n.height?n.height:e.height,crops:r},mediaRole:o})}});this.$set(this.mediaItems,a,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},open:function(){this.$refs.modal.open()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateSelectedMedias:function(e,a=!1){const o=e.id;if(this.selectedMedias.filter(function(l){return l.id===o}).length===0){if(this.max===1&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(a&&this.selectedMedias.length>0){const l=this.selectedMedias[this.selectedMedias.length-1],r=this.mediaItems.findIndex(f=>f.id===l.id),i=this.mediaItems.findIndex(f=>f.id===o);if(i===-1&&r===-1)return;let c=null,u=null;r<i?(c=r+1,u=i+1):(c=i,u=r),this.mediaItems.slice(c,u).forEach(f=>{if(this.selectedMedias.length>=this.max&&this.max>0)return;this.selectedMedias.findIndex(m=>m.id===f.id)===-1&&this.selectedMedias.push(f)})}else{const l=this.mediaItems.filter(function(r){return r.id===o});l.length&&this.selectedMedias.push(l[0])}}else this.selectedMedias=this.selectedMedias.filter(function(l){return l.id!==o})},clearSelectedMedias:function(){this.selectedMedias.splice(0)},clearFilters:function(){const e=this;if(this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){const a=this.$refs.unused.$el.querySelector("input");a&&a.checked&&a.click()}this.$nextTick(function(){e.submitFilter()})},clearDropdownFilters:function(){const e=this;this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$nextTick(function(){e.submitFilter()})},submitFilter:function(e){const a=this,o=this.$refs.list;if(this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),o.scrollTop===0){a.reloadGrid();return}scrollToY({el:o,offset:0,easing:"easeOut",onComplete:function(){a.reloadGrid()}})},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){if(this.isGuest)return;const e=this;this.loading=!0,this.$refs.form;const a=e.cleanEmptyFilters(this.sharedFilterState);api.get(this.endpoint,a,o=>{o.data.items.forEach(l=>{this.mediaItems.find(r=>r.id===l.id)||this.mediaItems.push(l)}),this.maxPage=o.data.maxPage||1;let n=o.data.tags.map(({label:l,...r})=>({title:l,...r}));this.tags=n||[],this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL,{type:this.type,total:o.data.total}),this.loading=!1,this.gridLoaded=!0},o=>{})},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,e),this.submitFilter())},getFormData:function(e){let a=FormDataAsObj(e);return a?a.page=this.page:a={page:this.page},a.type=this.type,Array.isArray(a.unused)&&a.unused.length&&(a.unused=a.unused[0]),a},listenScrollPosition:function(){this.$nextTick(function(){if(!this.gridLoaded)return;const e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)})},scrollToPaginate:function(){if(!this.gridLoaded)return;const e=this.$refs.list;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop},saveAndClose:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!0),this.$store.commit(MEDIA_LIBRARY.SAVE_MEDIAS,this.selectedMedias),this.$nextTick(()=>{this.closeModal()})},reloadTags:function(e=[]){this.tags=e},cleanEmptyFilters:function(e){return Object.entries(e).reduce((a,[o,n])=>(n!=null&&n!==""&&(typeof n=="object"&&!Array.isArray(n)?a[o]=this.cleanEmptyFilters(n):a[o]=n),a),{})}},created(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}}},_hoisted_1={class:"medialibrary"},_hoisted_2={class:"medialibrary__frame"},_hoisted_3={class:"medialibrary__header",ref:"form"},_hoisted_4={key:0,class:"secondarynav secondarynav--desktop py",slot:"navigation"},_hoisted_5={key:0,class:"secondarynav__number"},_hoisted_6={class:"medialibrary__inner"},_hoisted_7={class:"medialibrary__grid"},_hoisted_8={class:"medialibrary__sidebar"},_hoisted_9={key:0,class:"medialibrary__footer"},_hoisted_10={class:"medialibrary__list",ref:"list"},_hoisted_11={class:"medialibrary__list-items"};function _sfc_render(e,a,o,n,l,r){const i=resolveComponent("ue-filter"),c=resolveComponent("ue-dropdown-filter"),u=resolveComponent("MediaSidebar"),s=resolveComponent("ue-uploader"),f=resolveComponent("ItemList"),p=resolveComponent("MediaGrid"),m=resolveComponent("ue-modal");return openBlock(),createBlock(m,{ref:"modalMedia",id:"modalMedia",modelValue:e.show,"onUpdate:modelValue":a[2]||(a[2]=y=>e.show=y),fullscreen:"","content-class":"",width:"",onOpened:r.opened,eager:""},{activator:withCtx(({props:y})=>[renderSlot(e.$slots,"activator",{props:{...y}},void 0,!0)]),body:withCtx(({props:y})=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(r.modalTitle),1)]),_:1}),createVNode(VSpacer),createVNode(VToolbarItems,null,{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:e.closeModal},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[3]||(a[3]=[createTextVNode("mdi-close")])),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_3,[createVNode(i,{onSubmit:r.submitFilter,clearOption:!0,onClear:r.clearFilters,filterState:e.sharedFilterState,"onUpdate:filterState":a[0]||(a[0]=v=>e.sharedFilterState=v)},{default:withCtx(()=>[e.types.length?(openBlock(),createElementBlock("ul",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.types,v=>(openBlock(),createBlock(VChip,{key:v.value,class:"ma-2",onClick:withModifiers(g=>r.updateType(v.value),["prevent"])},{default:withCtx(()=>[createTextVNode(toDisplayString(v.text)+" ",1),v.total>0?(openBlock(),createElementBlock("span",_hoisted_5," ("+toDisplayString(v.total)+") ",1)):createCommentVNode("",!0)]),_:2},1032,["onClick"]))),128))])):createCommentVNode("",!0),a[4]||(a[4]=createBaseVNode("div",{slot:"hidden-filters"},null,-1))]),_:1},8,["onSubmit","onClear","filterState"]),createVNode(c,{onSubmit:r.submitFilter,onClear:r.clearDropdownFilters,loading:e.loading,"filter-ref":e.$refs.filter,filterState:e.sharedFilterState,"onUpdate:filterState":a[1]||(a[1]=v=>e.sharedFilterState=v),schema:r.filterSchema},null,8,["onSubmit","onClear","loading","filter-ref","filterState","schema"])],512),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("aside",_hoisted_8,[createVNode(u,{medias:e.selectedMedias,authorized:o.authorized,extraMetadatas:o.extraMetadatas,onClear:r.clearSelectedMedias,onDelete:r.deleteSelectedMedias,onTagUpdated:r.reloadTags,type:r.currentTypeObject,translatableMetadatas:o.translatableMetadatas,onTriggerMediaReplace:r.replaceMedia},null,8,["medias","authorized","extraMetadatas","onClear","onDelete","onTagUpdated","type","translatableMetadatas","onTriggerMediaReplace"])]),e.selectedMedias.length&&o.showInsert&&e.connector?(openBlock(),createElementBlock("footer",_hoisted_9,[r.canInsert?(openBlock(),createBlock(VBtn,{key:0,onClick:r.saveAndClose},{default:withCtx(()=>[createTextVNode(toDisplayString(r.btnLabel),1)]),_:1},8,["onClick"])):(openBlock(),createBlock(VBtn,{key:1,disabled:!0},{default:withCtx(()=>[createTextVNode(toDisplayString(r.btnLabel),1)]),_:1}))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10,[o.authorized?(openBlock(),createBlock(s,{key:0,ref:"uploader",onLoaded:r.addMedia,onClear:r.clearSelectedMedias,type:r.currentTypeObject},null,8,["onLoaded","onClear","type"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11,[e.type==="file"?(openBlock(),createBlock(f,{key:0,items:r.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":r.usedMedias,onChange:r.updateSelectedMedias,onShiftChange:r.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"])):(openBlock(),createBlock(p,{key:1,items:r.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":r.usedMedias,onChange:r.updateSelectedMedias,onShiftChange:r.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"]))])],512)])])])])]),_:3},8,["modelValue","onOpened"])}const UEModalMedia=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-71ccb1da"]]),_sfc_main={__name:"DynamicModal",setup(e){const a=inject("modalService");if(!a)throw new Error("[DynamicModal] modalService not found");const o=a.state,n=computed(()=>{const l={};return Object.entries(o.emits).forEach(([r,i])=>{l[r]=c=>i(c)}),l});return provide("modalRef",{close:a.close.bind(a),data:o.data}),(l,r)=>{const i=resolveComponent("ue-recursive-stuff"),c=resolveComponent("ue-modal");return openBlock(),createBlock(c,mergeProps({modelValue:unref(o).visible,"onUpdate:modelValue":r[0]||(r[0]=u=>unref(o).visible=u),persistent:"",widthType:"md"},unref(o).modalProps),createSlots({_:2},[unref(o).component?{name:"body.description",fn:withCtx(()=>[unref(o).component?(openBlock(),createBlock(resolveDynamicComponent(unref(o).component),mergeProps({key:0},unref(o).props,toHandlers(n.value)),null,16)):createCommentVNode("",!0)]),key:"0"}:void 0,renderList(Object.keys(unref(o).slots),u=>({name:u,fn:withCtx(s=>[createVNode(i,{configuration:unref(o).slots[u],bindData:s},null,8,["configuration","bindData"])])}))]),1040,["modelValue"])}}},customMdiIcons={accountSettings:"mdi mdi-account-cog",add:"mdi-plus",alert:"mdi-alert-outline",arrowLeft:"mdi-arrow-left-thin",arrowRight:"mdi-arrow-right-thin",check:"mdi-check",close:"mdi-close",company:"mdi-office-building-cog",creditCards:"mdi-credit-card-search",dashboard:"mdi-view-dashboard-outline",delete:"mdi-trash-can-outline",download:"mdi-download",duplicate:"mdi-content-copy",edit:"mdi-pencil-box-outline",error:"mdi-close-circle-outline",filter_list:"mdi-filter",header:"mdi-text-short",info:"mdi-information",list:"mdi-dots-vertical-circle-outline",media:"mdi-image-album",modules:"mdi-view-module","non-visibility":"mdi-eye-off",package:"mdi-package",permission:"mdi-account-arrow-right",product:"mdi-dropbox",restore:"mdi-file-restore",role:"mdi-account-key",submodule:"mdi-file-tree",success:"mdi-check-circle-outline",support:"mdi-lifebuoy",trash:"mdi-delete",userAdd:"mdi-account-edit",users:"mdi:mdi-account-multiple",visibility:"mdi-eye",warning:"mdi-alert-circle-outline"},unusualify={dark:!1,colors:{background:"#F5F5F5",red:"#DE3730","red-lighten-1":"#FFEDEA","red-darken-1":"#93000A",error:"#DE3730",blue:"#2196F3","blue-lighten-1":"#D3EAFD","blue-darken-1":"#077BD8","blue-accent-1":"#176FC7","blue-accent-2":"#63ADED",info:"#2196F3",green:"#54AF4C","green-lighten-1":"#E4F4D8","green-darken-1":"#1C7F20",success:"#54AF4C",warning:"#FDB022",primary:"#27A0B4","primary-lighten-1":"#4DBBC6","primary-lighten-2":"#74CED7","primary-lighten-3":"#AFE2E7","primary-lighten-4":"#F5FAFC","primary-darken-1":"#00758D","primary-darken-2":"#00566A","primary-darken-3":"#01404F","primary-accent":"#DEF5FA","on-primary":"#FFFFFF",secondary:"#E16437","secondary-lighten-1":"#EC9F83","secondary-lighten-2":"#F2BAA6","secondary-lighten-3":"#F7D6CA","secondary-lighten-4":"#FCF1ED","secondary-lighten-5":"#F7D6CA","secondary-lighten-6":"#F2BAA6","secondary-darken-1":"#D55020","secondary-darken-2":"#C3491D","secondary-darken-3":"#B1431B","secondary-darken-4":"#A03C18","secondary-darken-5":"#8E3515","secondary-darken-6":"#7C2F13","on-secondary":"#FFFFFF","on-secondary-lighten-1":"#FFFFFF","on-secondary-lighten-2":"#FFFFFF","on-secondary-darken-1":"#FFFFFF","on-secondary-darken-2":"#FFFFFF","on-secondary-darken-3":"#FFFFFF","on-secondary-darken-4":"#FFFFFF","on-secondary-darken-5":"#FFFFFF",grey:"#768184","grey-lighten-1":"#879092","grey-lighten-2":"#999FA1","grey-lighten-3":"#AAEAEF","grey-lighten-6":"#F2F1F1","grey-lighten-4":"#CACBCB","grey-lighten-5":"#E4E4E4","grey-lighten-6":"#F2F1F1","grey-darken-1":"#657275","grey-darken-2":"#546367","grey-darken-3":"#435458","grey-darken-4":"#32454A","grey-darken-5":"#20363B","grey-accent-1":"#EEF1F2","grey-accent-2":"#DEE3E5","grey-accent-3":"#BFC8CB","grey-accent-4":"#8CA0A7","grey-accent-5":"#6F797B","grey-accent-6":"#3F484A","grey-accent-7":"#171D1E","on-green-lighten-1":"#FFFFFF","on-green-lighten-2":"#FFFFFF","on-green-lighten-3":"#FFFFFF","on-green-lighten-4":"#FFFFFF","on-green-lighten-5":"#FFFFFF","on-green-lighten-6":"#FFFFFF"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},themes=Object.freeze(Object.defineProperty({__proto__:null,unusualify},Symbol.toStringTag,{value:"Module"})),APP_THEME="unusualify",opts={aliases:{VBtnPrimary:VBtn,VBtnSecondary:VBtn,VBtnSuccess:VBtn,VImgIcon:VImg,VSheetRounded:VSheet,VRowSecondary:VRow,VRowTertiary:VRow},defaults:{global:{ripple:!1},VSheet:{},VSheetRounded:{class:"rounded"},VBtn:{color:"primary",density:"comfortable",variant:"elevated"},VBtnPrimary:{color:"primary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSecondary:{color:"secondary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSuccess:{color:"success",variant:"elevated"},VImgIcon:{height:"2.5rem"},VRowSecondary:{class:"v-row-secondary"},VRowTertiary:{class:"v-row-tertiary"}},theme:{defaultTheme:APP_THEME,themes},icons:{defaultSet:"mdi",aliases:{...aliases,...customMdiIcons},sets:{mdi,fa}},directives,components:{...components,VDateInput}},vuetify=createVuetify(opts),broadcasting={install:(e,a)=>{window.Pusher=Pusher}};class ModalService{constructor(){this.state=reactive({visible:!1,component:null,props:{},emits:{},slots:{},data:void 0,onClose:void 0,modalProps:{}})}open(a,o={}){this.state.component=a,this.state.props=o.props||{},this.state.emits=o.emits||{},this.state.data=o.data,this.state.onClose=o.onClose,this.state.visible=!0,this.state.modalProps=o.modalProps||{},this.state.slots=o.slots||{}}close(a){this.state.visible=!1;const o=this.state.onClose;this.state.component=null,this.state.props={},this.state.emits={},this.state.data=void 0,this.state.onClose=void 0,this.state.modalProps={},this.state.slots={},o&&o(a)}getModalServiceData(a){return a.modalService?a.modalService:null}getModalServiceKey(a){return a.modalServiceKey?a.modalServiceKey:null}async handleObject(a){var r;const o=this.getModalServiceKey(a),n=this.getModalServiceData(a);let l=null;if(o)try{const i=await fetch(`/api/modal-service/${o}`,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""}});if(i.ok)l=(await i.json()).modalService;else{console.error("Failed to fetch modal service data from session");return}removeParameterFromHistory("modalServiceKey")}catch(i){console.error("Failed to fetch modal service data:",i);return}if(!l&&n)try{l=JSON.parse(n)}catch(i){console.error("Failed to parse modalService parameter:",i);return}if(isObject(l))try{this.open(l.component??null,omit(l,["component"])),removeParameterFromHistory("modalService")}catch(i){console.error("Failed to open modal from URL parameters:",i)}return null}async handleUrlQueryParameters(a=null){const o=getParameters(a??window.location);await this.handleObject(o)}}const ModalService$1={install(e){const a=new ModalService;e.provide("modalService",a),e.config.globalProperties.$modalService=a,window.$modalService=a,setTimeout(async()=>{await a.handleUrlQueryParameters()},0)}},CVV$1="CVV",MM$1="MM",Month$1="Month",PAY$1="PAY",Year$1="Year",YY$1="YY",en={"ADD NEW":"ADD NEW","Are you sure logout?":"Are you sure logout?","AT A GLANCE":"AT A GLANCE","Card Holder":"Card Holder","Card Number":"Card Number","Company Information":"Company Information",CVV:CVV$1,"Expire Date":"Expire Date","Loading... Please wait":"Loading... Please wait",MM:MM$1,Month:Month$1,PAY:PAY$1,"Personal Information":"Personal Information","Update Password":"Update Password",Year:Year$1,YY:YY$1},__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,CVV:CVV$1,MM:MM$1,Month:Month$1,PAY:PAY$1,YY:YY$1,Year:Year$1,default:en},Symbol.toStringTag,{value:"Module"})),All="Hepsi",CVV="CVV",Month="Ay",MM="AA",No="Hayır",PAY="ÖDE",Regards="Saygılar",VAT="KDV",YY="YY",Yes="Evet",Year="Yıl",Total="Toplam",tr={"ADD NEW":"EKLE","Are you sure logout?":"Çıkış yapmak istediğinize emin misiniz?","AT A GLANCE":"GENEL BAKIŞ",All,"Card Holder":"Kart Üstündeki İsim","Card Number":"Kart No","Company Information":"Şirket Bilgileri",CVV,"Expire Date":"Son Kullanma Tarihi","Frequently Asked Questions":"Sıkça Sorulan Sorular","If you did not request a password reset, no further action is required.":"Şifre sıfırlama talebinde bulunmadıysanız, herhangi bir işlem yapmanız gerekli değildir","Loading... Please wait":"Yükleniyor, lütfen bekleyin...",Month,MM,No,PAY,"Personal Information":"Kişisel Bilgiler",Regards,"Reset Password":"Yeni Şifre Oluştur","Reset Password Notification":"Yeni Şifre Oluşturma Bildirimi","This password reset link will expire in :count minutes.":"Bu şifre oluşturma linki :count dakika içerisinde sonlanacak.","Total Amount":"Genel Toplam","Update Password":"Şifreyi Güncelle",VAT,YY,"You are receiving this email because we received a password reset request for your account.":"Hesabınızın şifresini sıfırlamak için bu maili alıyorsunuz",Yes,Year,Total},__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,All,CVV,MM,Month,No,PAY,Regards,Total,VAT,YY,Year,Yes,default:tr},Symbol.toStringTag,{value:"Module"}));function loadStaticMessages(){const e=Object.assign({"../../../../lang/en.json":__vite_glob_0_0,"../../../../lang/tr.json":__vite_glob_0_1}),a={};return Object.keys(e).forEach(o=>{const r=o.split("/").pop().match(/([A-Za-z0-9-_]+)\.json/i)[1].match(/([A-Za-z0-9-_]+)/i);if(r&&r.length>1){const i=r[1];a[i]=e[o]}}),a}const datetimeFormats={en:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}},tr:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}}},numberFormats={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}},en:{currency:{style:"currency",currency:"EUR"}},tr:{currency:{style:"currency",currency:"TRY"}}},setupOptions={locale:"tr",fallbackLocale:"en",legacy:!1,missingWarn:!1,fallbackWarn:!1,messages:loadStaticMessages(),datetimeFormats,numberFormats},i18n=setupI18n(setupOptions);function setupI18n(e={locale:"en"}){const a=createI18n(e);return setI18nLocale(a,e.locale),a}function setI18nLocale(e,a){e.mode==="legacy"?e.global.locale=a:e.global.locale.value=a,document.querySelector("html").setAttribute("lang",a)}async function loadLocaleMessages(e,a){if(typeof TRANSLATIONS<"u"&&TRANSLATIONS)for(const o in TRANSLATIONS)loadLocaleMessage(e,o,TRANSLATIONS[o])}function loadLocaleMessage(e,a,o){return e.global.setLocaleMessage(a,o),nextTick()}function addSvg(e,a,o){const n=["icon"],l=a.expression||o.props.symbol;let r=e;o.type==="span"&&(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(r)),n.push(`icon--${l}`),n.forEach(function(s){e.classList.add(s)});const i=document.createElementNS("http://www.w3.org/2000/svg","title");i.textContent=l,r.appendChild(i);const c=`#icon--${l}`,u=document.createElementNS("http://www.w3.org/2000/svg","use");u.setAttributeNS("http://www.w3.org/1999/xlink","href",c),r.appendChild(u)}function removeSvg(e){const a=e.querySelector("svg");a&&a.parentNode.removeChild(a),e.className.split(" ").filter(function(n){return n.indexOf("icon")===0}).forEach(function(n){e.classList.remove(n)})}const SvgSprite={install(e,a={}){const o={beforeMount(n,l,r){addSvg(n,l,r)},updated:function(n,l,r,i){removeSvg(n),addSvg(n,l,r)},mounted:function(n,l,r){},unmounted:function(n,l,r){}};e.directive("svg",o)}},Column={install(e,a={}){const o={cols:12},n={created(l,r,i,c){r.value,r.instance},beforeMount(l,r,i,c){const u=r.value;u?__isObject(u)&&Object.entries(u).forEach(([s,f])=>{l.classList.add(`v-col-${s==="cols"?f:s+"-"+f}`)}):Object.entries(o).forEach(([s,f])=>{l.classList.add(`v-col-${s==="cols"?f:s+"-"+f}`)})},mounted(l,r,i,c){},beforeUpdate(l,r,i,c){},updated(l,r,i,c){},beforeUnmount(l,r,i,c){},unmounted(l,r,i,c){}};e.directive("column",n)}},FitGrid={install(e,a={}){const o={created(n,l,r,i){},beforeMount(n,l,r,i){n.classList.add("d-flex"),n.firstElementChild.classList.add("h-100","w-100")},mounted(n,l,r,i){},beforeUpdate(n,l,r,i){},updated(n,l,r,i){},beforeUnmount(n,l,r,i){},unmounted(n,l,r,i){}};e.directive("fit-grid",o)}},Scrollable={install(e,a={}){const o={created(n,l,r,i){},beforeMount(n,l,r,i){if(n.classList.add("ue-scrollable"),l.modifiers.height){const c=l.value;typeof c=="number"||typeof c=="string"&&c.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/)?(n.style.height=typeof c=="number"?`${c}px`:c,n.style.overflowY="auto"):console.warn("v-scrollable: Invalid height value. Please provide a number (for px) or a valid CSS height value.")}},mounted(n,l,r,i){},updated(n,l,r,i){if(l.modifiers.height&&l.value!==l.oldValue){const c=l.value;(typeof c=="number"||typeof c=="string"&&c.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/))&&(n.style.height=typeof c=="number"?`${c}px`:c)}},beforeUpdate(n,l,r,i){},beforeUnmount(n,l,r,i){},unmounted(n,l,r,i){}};e.directive("scrollable",o)}},Transition={install(e,a={}){const o={beforeMount(n,l){var i;const r=l.arg||"scale";(i=l.modifiers)!=null&&i.slow,n.classList.add(`${r}-transition`)},mounted(n,l){const r=l.arg||"scale";n.classList.contains("d-none")||n.classList.add(`${r}-1`);const i=new MutationObserver(c=>{c.forEach(u=>{u.type==="attributes"&&u.attributeName==="class"&&(n.classList.contains("d-none")?n.classList.remove(`${r}-1`):setTimeout(()=>{n.classList.add(`${r}-1`)},50))})});n._transitionObserver=i,i.observe(n,{attributes:!0,attributeFilter:["class"]})},updated(n,l){},unmounted(n){n._transitionObserver&&(n._transitionObserver.disconnect(),delete n._transitionObserver)}};e.directive("transition",o)}},commonMethods={$csrf:function(){return document.querySelector('meta[name="csrf-token"]').getAttribute("content")},$log:function(...e){return window.__log(...e)},$isset:function(...e){return window.__isset(...e)},$bindAttributes:function(e=null){const a={};if(e)Object.keys(e).forEach((o,n)=>{parseInt(o)>-1?a[e[o]]=!0:a[o]=e[o]});else if(e==null)return{...this.$attrs};return a},$main:function(){return this.$app._instance.refs.main},$shouldUseInertia:function(){const{shouldUseInertia:e}=useConfig();return e.value},$profileDialog:function(){return this.$root.$refs.sidebar.$refs.profileDialog},$openProfileDialog:function(){if(!this.$store.getters.isGuest)return this.$store.state.user.profileDialog=!0},$closeProfileDialog:function(){return this.$store.state.user.profileDialog=!1},$can:function(e,a=null){const{can:o}=useAuthorization();return o(e,a)},$hasRoles:function(e){const{hasRoles:a}=useAuthorization();return a(e)},$isYou:function(e){const{isYou:a}=useAuthorization();return a(e)},$isSuperAdmin:function(){return this.$store.getters.isSuperAdmin},$toggleSidebar:function(){this.$store.commit(CONFIG.SIDEBAR_TOGGLE)},$castValueMatch:function(e,a){const{castStandardAttribute:o}=useCastAttributes();return o(e,a)},$notif:function(e){this.$store.commit(ALERT$1.SET_ALERT,e)},$dialog:function(e){this.$store.commit(ALERT$1.SET_DIALOG,e)},$hasRequestInProgress:function(){const{isRequestInProgress:e}=useConfig();return e.value},$trans:function(e,a){var o;return this.$lodash.get((o=window.MODULARITY)==null?void 0:o.modularityLocalization.lang,e,a)},$changeLocale:function(e){this.$i18n.locale.value=e},$localization:function(e){if(e.indexOf(" ")>-1)return this.$t(e);let o=lodash.split(e,".");if(o.length>1)return this.$te(e)?this.$t(e):lodash.join(o," ");let n=!1,l=e;pluralize.isPlural(l)&&(n=!0,l=pluralize.singular(l));let r=lodash.kebabCase(l),i=lodash.snakeCase(l);return this.$translation(`modules.${i}`,n?1:0)||this.$translation(`fields.${r}`)||this.$translation(`fields.${i}`)||window.__snakeToHeadline(e)},$moduleTranslationName:function(e){let a=!1,o=e,n=window.__snakeNameFromForeignKey(o);return n&&(o=n,e=n),pluralize.isPlural(o)&&(a=!0,o=pluralize.singular(o)),o=lodash.snakeCase(o),e=lodash.snakeCase(e),this.$te(`modules.${o}`)?this.$t(`modules.${o}`,a?1:0):window.__snakeToHeadline(e)},$translation:function(e,...a){return this.$te(e)?this.$t(e,...a):!1},$headline:function(e){return window.__headline(e)},$getDisplayData:function(e,a){let o={};for(const n in e){const l=e[n],r=a[n];let i=l.displayLabel||l.label||l.name||n;if(i=this.$localization(i),!(!l.type||l.type=="hidden")&&!(!r&&r!==0&&r!==!1&&i!==null&&l.type!=="wrap"))switch(o[n]={_title:i,_type:l.type},l.type){default:if(__isObject(r))o[n]._value=r;else if(Array.isArray(r)&&l.items)o[n]._value=r.map(s=>{const f=l.items.find(p=>p[l.itemValue]===s);return f?f[l.itemTitle]:s});else if(l.items){const s=l.items.find(f=>f[l.itemValue]===r);o[n]._value=s?s[l.itemTitle]:r}else o[n]._value=r;case"wrap":l.schema&&(delete o[n],o=Object.assign(o,this.$getDisplayData(l.schema,a)));break;case"group":l.schema&&typeof r=="object"&&(o[n]={...o[n],...this.$getDisplayData(l.schema,r)});break;case"input-repeater":Array.isArray(r)&&l.schema?o[n]._value=r.map(s=>this.$getDisplayData(l.schema,s)):o[n]._value=r;break;case"input-filepond":Array.isArray(r)?o[n]._value=r.map(s=>s.file_name):o[n]._value=r.file_name;break;case"input-form-tabs":o[n]._value=lodash.reduce(r,(s,f,p)=>{p=__isString(p)?parseInt(p):p;const m=l.items.find(g=>g.id==p);if(!m)return s;let v={_title:m.title||m.name,_model:m.id??null,_value:{}};return lodash.each(l.tabFields,(g,C)=>{let k=l.schema[C],w={_title:this.$localization(k.displayLabel||k.label||k.name||C),_type:l.type,_value:null},S=f[C],T=m[g];if(Array.isArray(S)&&T)w._value=S.map(V=>{let A=T.find(I=>I.id==V);return A?A.title||A.name:"N/A"});else if(T){let V=T.find(I=>I.id==S);S=V?V.title||V.name:S,w._value=S;let A=this.$getDisplayKeys(V);for(const I in A)w[I]||(w[A[I]]=V[I])}v[C]=w}),s.push(v),s},[]);break;case"input-price":const c=this.$numberFormats[this.$getLocale].currency,u=l.items.find(s=>s.iso===c.currency);o[n]._value=this.$n(r.find(s=>s.currency_id===u.id).raw_amount,{style:"currency",currency:c.currency});break;case"date-input":case"input-date":case"text":if(!(l.type=="text"&&l.ext!=="date"))try{o[n]._value=this.$d(r,l.displayDateFormat??"numeric")}catch(s){console.log(s),o[n]._value=r}break}}return o},$getDisplayKeys:function(e){return lodash.reduce(Object.keys(e??{}),(a,o)=>{let n=o.match(/^([a-zA-Z0-9]+)(_(show|formatted))$/);return n&&(a[o]=n[1]),a},{})},$d:function(e,a="long"){const{d:o}=useI18n({useScope:"global"});return o(new Date(e),a)},$copy:function(e){window.navigator.clipboard.writeText(e)},$openLoginModal:function(){this.$store.commit(USER.OPEN_LOGIN_MODAL)},$closeLoginModal:function(){this.$store.commit(USER.CLOSE_LOGIN_MODAL)},$cacheGet:function(e,a=null){const{get:o}=useCache$1();return o(e,a)},$cachePut:function(e,a){const{put:o}=useCache$1();o(e,a)},$cachePush:function(e,a){const{push:o}=useCache$1();o(e,a)},$cacheLast:function(e,a=null){const{last:o}=useCache$1();return o(e,a)},$cacheForget:function(e){const{forget:a}=useCache$1();a(e)}};var define_import_meta_env_default={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_NAME:"${APP_NAME}",VITE_PUSHER_APP_CLUSTER:"${PUSHER_APP_CLUSTER}",VITE_PUSHER_APP_KEY:"${PUSHER_APP_KEY}",VITE_PUSHER_HOST:"${PUSHER_HOST}",VITE_PUSHER_PORT:"${PUSHER_PORT}",VITE_PUSHER_SCHEME:"${PUSHER_SCHEME}",VITE_REVERB_APP_KEY:"${REVERB_APP_KEY}",VITE_REVERB_HOST:"app.b2press.test",VITE_REVERB_PORT:"${REVERB_PORT}",VITE_REVERB_SCHEME:"${REVERB_SCHEME}",VUE_APP_FALLBACK_LOCALE:"en",VUE_APP_LOCALE:"tr",VUE_APP_NAME:"MODULARITY",VUE_APP_THEME:"unusualify",VUE_DEV_HOST:"localhost",VUE_DEV_PORT:"5173",VUE_DEV_PROXY:""};const includeGlobalComponents=Object.assign({"/src/js/components/Alert.vue":__vite_glob_0_0$2,"/src/js/components/Auth.vue":__vite_glob_0_1$2,"/src/js/components/Blocks.vue":__vite_glob_0_2$1,"/src/js/components/BoardInformationPlus.vue":__vite_glob_0_3$1,"/src/js/components/Btn.vue":__vite_glob_0_4$1,"/src/js/components/Collapsible.vue":__vite_glob_0_5,"/src/js/components/ConfigurableCard.vue":__vite_glob_0_6,"/src/js/components/CopyText.vue":__vite_glob_0_7,"/src/js/components/DropdownFilter.vue":__vite_glob_0_8,"/src/js/components/DynamicComponentRenderer.vue":__vite_glob_0_9,"/src/js/components/ErrorCard.vue":__vite_glob_0_10,"/src/js/components/Expansion.vue":__vite_glob_0_11,"/src/js/components/FilepondPreview.vue":__vite_glob_0_12,"/src/js/components/Filter.vue":__vite_glob_0_13,"/src/js/components/Form.vue":__vite_glob_0_14,"/src/js/components/FormSummaryItem.vue":__vite_glob_0_15,"/src/js/components/ImpersonateToolbar.vue":__vite_glob_0_16,"/src/js/components/ListElement.vue":__vite_glob_0_17,"/src/js/components/ListSection.vue":__vite_glob_0_18,"/src/js/components/LogoutModal.vue":__vite_glob_0_19,"/src/js/components/MarkdownRender.vue":__vite_glob_0_20,"/src/js/components/MediaMetadata.vue":__vite_glob_0_21,"/src/js/components/Metric.vue":__vite_glob_0_22,"/src/js/components/MetricGroups.vue":__vite_glob_0_23,"/src/js/components/Metrics.vue":__vite_glob_0_24,"/src/js/components/NavigationGroup.vue":__vite_glob_0_25,"/src/js/components/PrintRequest.vue":__vite_glob_0_26,"/src/js/components/PropertyList.vue":__vite_glob_0_27,"/src/js/components/RecursiveDataViewer.vue":__vite_glob_0_28,"/src/js/components/RecursiveStuff.vue":__vite_glob_0_29,"/src/js/components/RevolutCheckout.vue":__vite_glob_0_30,"/src/js/components/RevolutCheckoutModal.vue":__vite_glob_0_31,"/src/js/components/StepperForm.vue":__vite_glob_0_32,"/src/js/components/Success.vue":__vite_glob_0_33,"/src/js/components/SvgIcon.vue":__vite_glob_0_34,"/src/js/components/TabGroups.vue":__vite_glob_0_35,"/src/js/components/TabGroupsPrevious.vue":__vite_glob_0_36,"/src/js/components/Table.vue":__vite_glob_0_37,"/src/js/components/TableBinder.vue":__vite_glob_0_38,"/src/js/components/Tabs.vue":__vite_glob_0_39,"/src/js/components/TabsPrevious.vue":__vite_glob_0_40,"/src/js/components/TextDisplay.vue":__vite_glob_0_41,"/src/js/components/Title.vue":__vite_glob_0_42,"/src/js/components/Uploader.vue":__vite_glob_0_43}),includeIteratorComponents=Object.assign({"/src/js/components/data_iterators/ExpandableIterator.vue":__vite_glob_1_0,"/src/js/components/data_iterators/RichCardIterator.vue":__vite_glob_1_1,"/src/js/components/data_iterators/RichRowIterator.vue":__vite_glob_1_2}),includeLayouts=Object.assign({"/src/js/components/layouts/Footer.vue":__vite_glob_2_0,"/src/js/components/layouts/Home.vue":__vite_glob_2_1,"/src/js/components/layouts/Main.vue":__vite_glob_2_2,"/src/js/components/layouts/Sidebar.vue":__vite_glob_2_3}),includeFormInputs=Object.assign({"/src/js/components/inputs/Assignment.vue":__vite_glob_3_0,"/src/js/components/inputs/Browser.vue":__vite_glob_3_1,"/src/js/components/inputs/Chat.vue":__vite_glob_3_2,"/src/js/components/inputs/CheckboxCard.vue":__vite_glob_3_3,"/src/js/components/inputs/Checklist.vue":__vite_glob_3_4,"/src/js/components/inputs/ChecklistGroup.vue":__vite_glob_3_5,"/src/js/components/inputs/ComparisonTable.vue":__vite_glob_3_6,"/src/js/components/inputs/CreditCard.vue":__vite_glob_3_7,"/src/js/components/inputs/CreditCardForm.vue":__vite_glob_3_8,"/src/js/components/inputs/Date.vue":__vite_glob_3_9,"/src/js/components/inputs/Emojis.vue":__vite_glob_3_10,"/src/js/components/inputs/File.vue":__vite_glob_3_11,"/src/js/components/inputs/Filepond.vue":__vite_glob_3_12,"/src/js/components/inputs/FilepondAvatar.vue":__vite_glob_3_13,"/src/js/components/inputs/FormTabs.vue":__vite_glob_3_14,"/src/js/components/inputs/Image.vue":__vite_glob_3_15,"/src/js/components/inputs/ImageOld.vue":__vite_glob_3_16,"/src/js/components/inputs/Locale.vue":__vite_glob_3_17,"/src/js/components/inputs/PaymentService.vue":__vite_glob_3_18,"/src/js/components/inputs/Phone.vue":__vite_glob_3_19,"/src/js/components/inputs/Price.vue":__vite_glob_3_20,"/src/js/components/inputs/Process.vue":__vite_glob_3_21,"/src/js/components/inputs/RadioGroup.vue":__vite_glob_3_22,"/src/js/components/inputs/Repeater.vue":__vite_glob_3_23,"/src/js/components/inputs/SelectScroll.vue":__vite_glob_3_24,"/src/js/components/inputs/SelectTag.vue":__vite_glob_3_25,"/src/js/components/inputs/Spread.vue":__vite_glob_3_26,"/src/js/components/inputs/Tag.vue":__vite_glob_3_27,"/src/js/components/inputs/Tagger.vue":__vite_glob_3_28,"/src/js/components/inputs/TermsCheckbox.vue":__vite_glob_3_29}),includeCustomComponents=Object.assign({"/src/js/components/customs/BoardInformation.vue":__vite_glob_0_0$1,"/src/js/components/customs/MainTopSlot.vue":__vite_glob_0_1$1,"/src/js/components/customs/PackageSelector.vue":__vite_glob_0_2,"/src/js/components/customs/PressReleaseCardIterator.vue":__vite_glob_0_3,"/src/js/components/customs/TestApp.vue":__vite_glob_0_4});UECompose();const UEConfig={install:(e,a)=>{var o;window.vm=e,e.use(vuetify),e.use(store),e.use(i18n),e.use(broadcasting),e.config.globalProperties.$jquery=window.$,e.config.globalProperties.$axios=window.axios,e.config.globalProperties.$lodash=window._,e.config.globalProperties.window=window,e.config.globalProperties.$app=e,setI18nLocale(i18n,store.state.user.locale),loadLocaleMessages(i18n,((o=window.MODULARITY)==null?void 0:o.ENDPOINTS.languages)??""),e.config.globalProperties.$getLocale=i18n.global.locale.value,e.config.globalProperties.$numberFormats=i18n.global.numberFormats.value,e.config.globalProperties.$te=function(n,l){const r=i18n.global.te;return r(n,l)??!1},e.config.globalProperties.$tc=function(n,l){const r=i18n.global.tc;return r(n,l)??!1},e.config.globalProperties.$plural=function(n){return pluralize.plural(n)},e.config.globalProperties.registerComponentsV1=function(n,l="",r="ue"){l=l!==""?l+"/":"",n.keys().forEach(i=>{const c=i.split("/").pop().split(".")[0],u=r+c.replace(/[A-Z]/g,s=>"-"+s.toLowerCase());e.component(u,require(`__components/${l}${c}.vue`).default)})},e.config.globalProperties.registerComponents=function(n,l="",r="Ue"){l=l!==""?l+"/":"",Object.keys(n).forEach(i=>{i.split("/").pop();const c=i.split("/").pop().split(".")[0],u=n[i],s=r+upperFirst(c);e.component(s,u.default)})},e.config.globalProperties.$call=function(n,...l){return this[n](...l)},e.config.globalProperties.$componentExists=function(n){return Object.keys(e._context.components).includes(n)},Object.keys(commonMethods).forEach(n=>{e.config.globalProperties[n]=commonMethods[n].bind(e.config.globalProperties)}),e.mixin({methods:{notif:function(n){this.$store.commit(ALERT$1.SET_ALERT,n)},openFreeMediaLibrary:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(MEDIA_LIBRARY.RESET_MEDIA_TYPE),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,-1),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!1),this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL)}}}),e.component("VCustomFormBase",VCustomFormBase),e.component("UeDynamicModal",_sfc_main),e.component("UeModal",UEModal),e.component("UeModalMedia",UEModalMedia),e.config.globalProperties.registerComponents(includeGlobalComponents),e.config.globalProperties.registerComponents(includeIteratorComponents),e.config.globalProperties.registerComponents(includeLayouts,"layouts"),e.config.globalProperties.registerComponents(includeFormInputs,"inputs","VInput"),define_import_meta_env_default.VUE_IS_CUSTOM_BUILD&&e.config.globalProperties.registerComponents(includeCustomComponents,"customs","UeCustom"),e.directive("mask",directive),e.use(SvgSprite),e.use(Column),e.use(FitGrid),e.use(Scrollable),e.use(Transition),e.use(ModalService$1),e.provide("$app",e)}};export{ALERT$1 as A,CONFIG as C,USER as U,_export_sfc as _,UEConfig as a,__vite_glob_0_0$1 as b,__vite_glob_0_1$1 as c,__vite_glob_0_2 as d,__vite_glob_0_3 as e,__vite_glob_0_4 as f,store as s,useUser as u};
//# sourceMappingURL=UEConfig.B4qKqKZG.js.map
