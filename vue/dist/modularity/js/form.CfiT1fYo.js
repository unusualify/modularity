import{$ as mapState,ae as mapGetters$1,a0 as openBlock,a1 as createBlock,a2 as withCtx,l as createVNode,a4 as createBaseVNode,c as computed,Y as resolveComponent,M as resolveDirective,A as mergeProps,H as withDirectives,a9 as createElementBlock,ac as createCommentVNode,a6 as renderSlot,ab as normalizeStyle,a7 as normalizeProps,a8 as guardReactiveProps,S as createTextVNode,I as toDisplayString,F as Fragment,a5 as renderList,af as normalizeClass,L as vShow,b as ref,k as watch$1,E as resolveDynamicComponent,a3 as createSlots,W as withModifiers,g as getCurrentInstance,ag as debounce,D as Transition$1,ah as useI18n,r as reactive,t as toRefs,ai as lodash,aj as omit,ak as axios$1,al as reduce,am as cloneDeep,an as createStore,ao as map,ap as useStore,G as nextTick,y as onMounted,aq as lodashExports,ad as isEmpty,ar as filter,as as transform,at as find,au as useCurrencyInput,av as isObject,aw as get,ax as set,ay as isEqual,d as inject,az as isString,aA as isArray,aB as isNumber,aC as snakeCase$1,aD as d,aE as includes,aF as isBoolean,aG as forEach,e as defineComponent,aH as withKeys,aI as useAttrs,aJ as useSlots,u as unref,J as TransitionGroup,aK as Draggable,aL as truncate,aM as _default,aN as _default$1,aO as _default$2,aa as vModelSelect,j as isRef,m as toRef,aP as isNaN$1,aQ as vueFilePond,aR as plugin,aS as plugin$1,aT as plugin$2,aU as setOptions,aV as startCase,aW as range,aX as jquery,aY as hooks,aZ as pluralize,a_ as changeCase,a$ as orderBy,b0 as isPlainObject,b1 as isFunction,b2 as delay,b3 as findIndex,b4 as toHandlerKey,p as provide,b5 as toHandlers,b6 as Pusher,b7 as createI18n,b8 as upperFirst,b9 as directive}from"./vendor.DPO5kOd2.js";import{V as VBtn,h as VIcon,s as VSnackbar,u as useDisplay,r as VLayout,t as VMain,v as VRow,w as VCol,x as VSheet,d as VDivider,y as VImg,z as VApp,m as VCardTitle,A as VCardItem,l as VCard,B as VExpandTransition,p as VTooltip,n as VCardText,f as VMenu,C as VAlert,D as VExpansionPanel,E as VExpansionPanelTitle,F as VExpansionPanelText,G as VExpansionPanels,H as VHover,b as VToolbar,c as VToolbarTitle,g as VSpacer,I as VProgressCircular,J as VDialog,e as VTextField,K as propsFactory,L as useProxiedModel,a as VSwitch,M as VBadge,j as VListItem,k as VListItemTitle,i as VList,N as VChipGroup,O as VChip,P as VProgressLinear,Q as VForm,S as VAvatar,T as VSelect,U as VBottomSheet,W as VListGroup,o as VCardActions,X as VContainer,Y as VTable,Z as VStepperItem,_ as VStepperHeader,$ as VStepperWindow,a0 as VStepperWindowItem,a1 as useGoTo,a2 as VStepperActions,a3 as VStepper,a4 as VItemGroup,a5 as VItem,a6 as VRadioGroup,a7 as VRadio,a8 as VInput,a9 as VDataTableRow,R as Resize,q as VDataTableServer,aa as VPagination,ab as VSlideXTransition,ac as Tooltip,ad as VCheckbox,ae as Intersect,af as VDataTableHeaders,ag as VTab,ah as VTabs,ai as VTabsWindowItem,aj as VTabsWindow,ak as VCardSubtitle,al as VFooter,am as VNavigationDrawer,an as VAppBar,ao as VAppBarNavIcon,ap as VBreadcrumbs,aq as VSkeletonLoader,ar as VTextarea,as as VInfiniteScroll,at as VDataTable,au as VWindow,av as VWindowItem,aw as VOverlay,ax as VAutocomplete,ay as VNumberInput,az as VCombobox,aA as VListSubheader,aB as Touch,aC as ClickOutside,aD as VFileInput,aE as VSlider,aF as VBtnToggle,aG as VSystemBar,aH as VToolbarItems,aI as createVuetify,aJ as aliases,aK as mdi,aL as fa,aM as directives,aN as components,aO as VDateInput}from"./vuetify.B1voXSYe.js";import{q as qq}from"./fine-uploader.C8t-Jhyu.js";import{P as PhoneNumber,b as awesomePhonenumberExports}from"./awesome-phonenumber.CPpBdrPW.js";const PREVENT_SUBMIT="preventSubmit",ALLOW_SUBMIT="allowSubmit",UPDATE_FORM_PERMALINK="updateFormPermalink",UPDATE_FORM_FIELD="updateFormField",REMOVE_FORM_FIELD="removeFormField",ADD_FORM_BLOCK="addFormBlock",DELETE_FORM_BLOCK="deleteFormBlock",DUPLICATE_FORM_BLOCK="duplicateFormBlock",DUPLICATE_BLOCK_FORM_FIELDS="duplicateBlockFormFields",ADD_REPEATERS="duplicateBlockRepeaters",REORDER_FORM_BLOCKS="reorderFormBlocks",UPDATE_FORM_LOADING="updateFormLoading",SET_FORM_ERRORS="setFormErrors",SET_SERVER_VALID="setServerValid",CLEAR_FORM_ERRORS="clearFormErrors",UPDATE_FORM_SAVE_TYPE="updateFormSaveType",REPLACE_FORM_FIELDS="replaceFormField",ADD_FORM_FIELDS="addFormField",EMPTY_FORM_FIELDS="emptyFormField",SET_EDITED_ITEM="setEditedItem",RESET_EDITED_ITEM="resetEditedItem",EMPTY_MODAL_FIELDS="emptyModalField",UPDATE_MODAL_FIELD="updateModalField",REMOVE_MODAL_FIELD="removeModalField",REPLACE_MODAL_FIELDS="replaceModalField",SET_TAGGABLE_ITEMS="setTaggableItems",ADD_TAGGABLE_ITEM="addTaggableItem",FORM={SET_EDITED_ITEM,RESET_EDITED_ITEM,SET_SERVER_VALID,PREVENT_SUBMIT,ALLOW_SUBMIT,UPDATE_FORM_PERMALINK,UPDATE_FORM_FIELD,REMOVE_FORM_FIELD,ADD_FORM_BLOCK,DELETE_FORM_BLOCK,DUPLICATE_FORM_BLOCK,DUPLICATE_BLOCK_FORM_FIELDS,ADD_REPEATERS,REORDER_FORM_BLOCKS,UPDATE_FORM_LOADING,SET_FORM_ERRORS,CLEAR_FORM_ERRORS,UPDATE_FORM_SAVE_TYPE,REPLACE_FORM_FIELDS,ADD_FORM_FIELDS,EMPTY_FORM_FIELDS,EMPTY_MODAL_FIELDS,UPDATE_MODAL_FIELD,REMOVE_MODAL_FIELD,REPLACE_MODAL_FIELDS,SET_TAGGABLE_ITEMS,ADD_TAGGABLE_ITEM},SET_ALERT="__setAlert",SET_ALERT_SHOW="__setAlertShow",CLEAR_ALERT="__clearAlert",SET_DIALOG="__setDialog",SET_DIALOG_SHOW="__setDialogShow",CLEAR_DIALOG="__clearDialog",ALERT$1={SET_ALERT,SET_ALERT_SHOW,CLEAR_ALERT,SET_DIALOG,SET_DIALOG_SHOW,CLEAR_DIALOG},SET_ACCESSIBLE="setMediaLibraryAccessible",SET_SHOW_MODAL="setMediaLibraryShowModal",OPEN_MODAL="openMediaLibraryModal",CLOSE_MODAL="closeMediaLibraryModal",UPDATE_MEDIA_TYPE_TOTAL="updateMediaTypeTotal",INCREMENT_MEDIA_TYPE_TOTAL="incrementMediaTypeTotal",DECREMENT_MEDIA_TYPE_TOTAL="decrementMediaTypeTotal",SAVE_MEDIAS="saveSelectedMedias",UPDATE_MEDIAS="updateMedias",DESTROY_MEDIAS="destroySelectedMedias",REORDER_MEDIAS="reorderSelectedMedias",PROGRESS_UPLOAD="progressUpload",PROGRESS_UPLOAD_MEDIA="progressUploadMedia",DONE_UPLOAD_MEDIA="doneUploadMedia",ERROR_UPLOAD_MEDIA="errorUploadMedia",DESTROY_SPECIFIC_MEDIA="destroyMediasInSelected",UPDATE_MEDIA_MAX="updateMediaMax",UPDATE_MEDIA_FILESIZE_MAX="updateMediaFilesizeMax",UPDATE_MEDIA_WIDTH_MIN="updateMediaWidthMin",UPDATE_MEDIA_HEIGHT_MIN="updateMediaHeightMin",UPDATE_MEDIA_TYPE="updateMediaType",RESET_MEDIA_TYPE="resetMediaType",SET_MEDIA_CROP="setMediaCrop",SET_MEDIA_METADATAS="setMediaMetadatas",UPDATE_MEDIA_CONNECTOR="updateMediaConnector",UPDATE_MEDIA_MODE="updateMediaMode",DESTROY_MEDIA_CONNECTOR="destroyMediaConnector",UPDATE_REPLACE_INDEX="updateReplaceIndex",ADD_MEDIAS="addMedias",UPDATE_IS_INSERTED="updateIsInserted",MEDIA_LIBRARY={SET_ACCESSIBLE,SET_SHOW_MODAL,OPEN_MODAL,CLOSE_MODAL,UPDATE_MEDIA_TYPE_TOTAL,INCREMENT_MEDIA_TYPE_TOTAL,DECREMENT_MEDIA_TYPE_TOTAL,SAVE_MEDIAS,DESTROY_MEDIAS,REORDER_MEDIAS,PROGRESS_UPLOAD,PROGRESS_UPLOAD_MEDIA,DONE_UPLOAD_MEDIA,ERROR_UPLOAD_MEDIA,DESTROY_SPECIFIC_MEDIA,UPDATE_MEDIA_MAX,UPDATE_MEDIA_FILESIZE_MAX,UPDATE_MEDIA_WIDTH_MIN,UPDATE_MEDIA_HEIGHT_MIN,UPDATE_MEDIA_TYPE,RESET_MEDIA_TYPE,SET_MEDIA_CROP,SET_MEDIA_METADATAS,UPDATE_MEDIA_CONNECTOR,UPDATE_MEDIA_MODE,DESTROY_MEDIA_CONNECTOR,UPDATE_REPLACE_INDEX,UPDATE_MEDIAS,ADD_MEDIAS,UPDATE_IS_INSERTED},SWITCH_LANG="switchLanguage",UPDATE_LANG="updateLanguage",PUBLISH_LANG="updatePublishedLanguage",PUBLISH_SINGLE_LANG="publishLanguage",REPLACE_LANGUAGES="replaceLanguages",RESET_LANGUAGES="resetLanguages",LANGUAGE={SWITCH_LANG,UPDATE_LANG,PUBLISH_LANG,PUBLISH_SINGLE_LANG,REPLACE_LANGUAGES,RESET_LANGUAGES},SAVE_ITEMS="saveSelectedItems",DESTROY_ITEMS="destroyAllItems",DESTROY_ITEM$1="destroySelectedItem",REORDER_ITEMS="reorderSelectedItems",UPDATE_BROWSER_MAX="updateBrowserMax",UPDATE_BROWSER_TITLE="updateBrowserTitle",UPDATE_BROWSER_NOTE="updateBrowserNote",UPDATE_BROWSER_CONNECTOR="updateBrowserConnector",DESTROY_BROWSER_CONNECTOR="destroyBrowserConnector",UPDATE_BROWSER_ENDPOINT="updateBrowserEndpoint",UPDATE_BROWSER_ENDPOINTS="updateBrowserEndpoints",DESTROY_BROWSER_ENDPOINT="destroyBrowserEndpoint",DESTROY_BROWSER_ENDPOINTS="destroyBrowserEndpoints",ADD_BROWSERS="addBrowsers",BROWSER={SAVE_ITEMS,DESTROY_ITEMS,DESTROY_ITEM:DESTROY_ITEM$1,REORDER_ITEMS,UPDATE_BROWSER_MAX,UPDATE_BROWSER_TITLE,UPDATE_BROWSER_NOTE,UPDATE_BROWSER_CONNECTOR,DESTROY_BROWSER_CONNECTOR,UPDATE_BROWSER_ENDPOINT,DESTROY_BROWSER_ENDPOINT,UPDATE_BROWSER_ENDPOINTS,DESTROY_BROWSER_ENDPOINTS,ADD_BROWSERS},SIDEBAR_TOGGLE="__sidebarToggle",SET_SIDEBAR="__setSidebar",SET_REQUEST_IN_PROGRESS="__setRequestInProgress",INCREASE_AXIOS_REQUEST="__increaseAxiosRequest",DECREASE_AXIOS_REQUEST="__decreaseAxiosRequest",CONFIG={SIDEBAR_TOGGLE,SET_SIDEBAR,SET_REQUEST_IN_PROGRESS,INCREASE_AXIOS_REQUEST,DECREASE_AXIOS_REQUEST},SET_PROFILE_DATA="__setProfileData",OPEN_LOGIN_MODAL="__openLoginModal",CLOSE_LOGIN_MODAL="__closeLoginModal",USER={SET_PROFILE_DATA,OPEN_LOGIN_MODAL,CLOSE_LOGIN_MODAL},GET_CACHE="getCache",PUT_CACHE="putCache",PUSH_CACHE="pushCache",GET_LAST_CACHE="getLastCache",FORGET_CACHE="forgetCache",CACHE={GET_CACHE,PUT_CACHE,GET_LAST_CACHE,PUSH_CACHE,FORGET_CACHE},_export_sfc=(e,a)=>{const o=e.__vccOpts||e;for(const[r,i]of a)o[r]=i;return o},_sfc_main$1y={data:()=>({timeout:3e3}),computed:{closeButtonColor(){switch(this.type){case"success":case"warning":case"info":case"error":return"white";default:return"white"}},text(){return this.message||this.defaultMessage},defaultMessage(){return this.$t("messages."+this.type)},show:{get(){return this.$store.state.alert.show},set(e){this.$store.commit(ALERT$1.SET_ALERT_SHOW,e)}},...mapState({type:e=>e.alert.type,message:e=>e.alert.message,location:e=>e.alert.location}),...mapGetters$1([])},methods:{info(e=null,a=3e3){this.open("info",e,a)},success(e=null,a=3e3){this.open("success",e,a)},warning(e=null,a=3e3){this.open("warning",e,a)},error(e=null,a=3e3){this.open("error",e,a)},activate(){this.show=!0},deactivate(){this.show=!0},open(e="info",a=null,o=3e3){this.type=e,this.message=a??this.message,this.timeout=o,this.activate()},close(){this.deactivate(),this.$nextTick(()=>{this.type="info",this.message=null,this.timeout=3e3})}}},_hoisted_1$10=["innerHTML"];function _sfc_render$1i(e,a,o,r,i,n){return openBlock(),createBlock(VSnackbar,{modelValue:n.show,"onUpdate:modelValue":a[1]||(a[1]=l=>n.show=l),timeout:e.timeout,color:e.type,location:e.location},{actions:withCtx(()=>[createVNode(VBtn,{color:n.closeButtonColor,variant:"plain",density:"compact",onClick:a[0]||(a[0]=l=>n.show=!1)},{default:withCtx(()=>[createVNode(VIcon,{color:n.closeButtonColor,icon:"$close"},null,8,["color"])]),_:1},8,["color"])]),default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.text},null,8,_hoisted_1$10)]),_:1},8,["modelValue","timeout","color","location"])}const Alert=_export_sfc(_sfc_main$1y,[["render",_sfc_render$1i]]),__vite_glob_0_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:Alert},Symbol.toStringTag,{value:"Module"})),_sfc_main$1x={props:{slots:{type:Object,default(){return{}}},title:{type:String},bannerDescription:{type:String,default:""},bannerSubDescription:{type:String,default:""},adImg:{type:String,default:""},redirectUrl:{type:String,default:null},redirectButtonText:{type:String,default:""},noDivider:{type:[Boolean,Number],default:!1},noSecondSection:{type:[Boolean,Number],default:!1}},data:()=>({schema:{email:{type:"text",label:"E-mail",col:{cols:12},variant:"outlined",rules:[["email"]]},password:{type:"password",label:"Password",col:{cols:12},variant:"outlined",rules:[]}},model:{email:"",password:""}}),setup(e){const{name:a}=useDisplay(),o=computed(()=>{switch(a.value){case"xs":return"85vw";case"sm":return"450px";case"md":return"450px";case"lg":return"500px";case"xl":return"600px";case"xxl":return 700;default:return 300}}),r=computed(()=>{if(e.title)return e.title}),i=computed(()=>{if(e.description)return e.description}),n=computed(()=>{if(e.ad)return e.ad}),l=computed(()=>{if(e.rightBtnText)return e.rightBtnText});return{width:o,title:r,description:i,ad:n,rightBtnText:l}},methods:{}},_hoisted_1$$={key:0,symbol:"main-logo-full-light"},_hoisted_2$P={key:1,class:"d-flex w-100 align-center justify-center"},_hoisted_3$K={class:"mw-420"},_hoisted_4$A={class:"text-white mt-5 text-h4 custom-mb-8rem fs-2rem"},_hoisted_5$w={class:"text-white"};function _sfc_render$1h(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-svg-icon"),c=resolveComponent("ue-alert"),u=resolveDirective("svg");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VLayout,{class:"rounded rounded-md bg-tertiary h-100"},{default:withCtx(()=>[createVNode(VMain,{class:"d-flex align-center justify-center"},{default:withCtx(()=>[createVNode(VRow,{class:"h-100 mw-100"},{default:withCtx(()=>[createVNode(VCol,mergeProps({cols:"12",...o.noSecondSection?{}:{md:"6",lg:"6"}},{class:"py-12 d-flex flex-column align-center justify-center bg-white"}),{default:withCtx(()=>[createVNode(VRow,{width:"85%",class:"d-flex flex-column justify-center align-center"},{default:withCtx(()=>[a[1]||(a[1]=createBaseVNode("div",{class:"bg-primary darken-3"},null,-1)),o.noSecondSection?withDirectives((openBlock(),createElementBlock("span",_hoisted_1$$,null,512)),[[u]]):createCommentVNode("",!0),renderSlot(e.$slots,"cardTop"),createVNode(VSheet,{class:"",style:normalizeStyle({width:r.width})},{default:withCtx(()=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({})),()=>[createVNode(l,{model:e.model,schema:e.schema,"action-url":"/login",async:!0,hasSubmit:!0,buttonText:"auth.login",class:"auth-form"},{submit:withCtx(f=>[createVNode(VBtn,{block:"",dense:"",type:"submit",disabled:!f.validForm,loading:f.loading},{default:withCtx(()=>[createTextVNode(toDisplayString(f.buttonDefaultText.toUpperCase()),1)]),_:2},1032,["disabled","loading"])]),_:1},8,["model","schema"])])]),_:3},8,["style"]),!o.noDivider&&e.$isset(e.$slots.bottom)?(openBlock(),createElementBlock("div",_hoisted_2$P,[createVNode(VDivider),a[0]||(a[0]=createBaseVNode("div",{class:"text-no-wrap px-3"},"or",-1)),createVNode(VDivider)])):createCommentVNode("",!0),renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))]),_:3})]),_:3},16),o.noSecondSection?createCommentVNode("",!0):(openBlock(),createBlock(VCol,{key:0,cols:"12",md:"6",lg:"6",class:"px-xs-12 py-xs-3 px-sm-12 py-sm-3 pa-12 pa-md-0 d-flex flex-column align-center justify-center col-right bg-primary"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$K,[createVNode(s,{symbol:"main-logo",class:"mx-0"}),renderSlot(e.$slots,"description",{},()=>[createBaseVNode("h2",_hoisted_4$A,toDisplayString(o.bannerDescription),1)]),createBaseVNode("span",_hoisted_5$w,[createVNode(VImg,{href:o.adImg},null,8,["href"]),createTextVNode(" "+toDisplayString(o.bannerSubDescription),1)]),o.redirectUrl?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"text-white custom-right-auth-button my-5",density:"default",href:o.redirectUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(o.redirectButtonText),1)]),_:1},8,["href"])):createCommentVNode("",!0)])]),_:3}))]),_:3})]),_:3})]),_:3}),createVNode(c,{ref:"alert"},null,512)]),_:3})}const Auth=_export_sfc(_sfc_main$1x,[["render",_sfc_render$1h]]),__vite_glob_0_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:Auth},Symbol.toStringTag,{value:"Module"})),_sfc_main$1w={props:{cards:{type:Array,default:[{title:"Active Webinar",data:"12",flex:6},{title:"Speaker Moderators",data:"3",flex:6},{title:"Company",data:"5",flex:6},{title:"Published Webinars",data:"7",flex:6}]},container:{type:Object,default:{color:"#F8F8FF",elevation:10,class:"px-6 py-5"}},cardAttribute:{type:Object,default:{variant:"outlined",borderRadius:14,class:"px-5",border:"sm",titleClass:"pt-3 pb-3 text-subtitle-2",titleColor:"grey",infoClass:"text-h4 pa-0",infoColor:"#000000",infoLineHeight:"1",infoFontWeight:"700"}}},data:()=>({})},_hoisted_1$_={class:"d-flex"},_hoisted_2$O={class:"d-flex flex-column justify-center align-center pr-3"},_hoisted_3$J={class:"d-flex flex-column"};function _sfc_render$1g(e,a,o,r,i,n){return openBlock(),createBlock(VCard,{color:o.container.color,density:"comfortable",elevation:o.container.elevation,class:normalizeClass(o.container.class)},{default:withCtx(()=>[createVNode(VCardTitle,{style:{"font-weight":"bolder"},class:"py-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1}),createVNode(VCardItem,{class:"pt-0 pb-4"},{default:withCtx(()=>[createVNode(VRow,{class:"",densex:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.cards,(l,s)=>(openBlock(),createBlock(VCol,{key:s,cols:l.flex,class:""},{default:withCtx(()=>[createVNode(VCard,{variant:o.cardAttribute.variant,border:o.cardAttribute.border,class:normalizeClass(o.cardAttribute.class),style:normalizeStyle({"border-radius":o.cardAttribute.borderRadius,"border-color":`${o.cardAttribute.borderColor} !important`})},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$_,[createBaseVNode("div",_hoisted_2$O,[createBaseVNode("div",{class:"glance-icon-container",style:normalizeStyle(`background-color: ${l.iconBackground};`)},[createVNode(VIcon,{icon:l.icon,color:l.iconColor,size:l.iconSize},null,8,["icon","color","size"])],4)]),createBaseVNode("div",_hoisted_3$J,[createVNode(VCardItem,{align:"left",class:normalizeClass(o.cardAttribute.infoClass),style:normalizeStyle({"line-height":o.cardAttribute.infoLineHeight,"font-weight":o.cardAttribute.infoFontWeight,color:l.infoColor})},{default:withCtx(()=>[createTextVNode(toDisplayString(l.data.items),1)]),_:2},1032,["class","style"]),createVNode(VCardTitle,{align:"center",class:normalizeClass(o.cardAttribute.titleClass),style:normalizeStyle({color:o.cardAttribute.titleColor,"line-height":o.cardAttribute.infoLineHeight})},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t(l.title)),1)]),_:2},1032,["class","style"])])])]),_:2},1032,["variant","border","class","style"])]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})]),_:1},8,["color","elevation","class"])}const BoardInformationPlus=_export_sfc(_sfc_main$1w,[["render",_sfc_render$1g]]),__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformationPlus},Symbol.toStringTag,{value:"Module"})),_sfc_main$1v={name:"ue-btn",props:{revealed:{type:Boolean,default:!1}},data(){return{}},methods:{clickSound(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()},click(e){this.disabled=!0,setTimeout(()=>{this.disabled=!1},5e3),this.$emit("click",e)}}};function _sfc_render$1f(e,a,o,r,i,n){return openBlock(),createBlock(VBtn,mergeProps(e.$bindAttributes(),{onClick:n.click}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},()=>[a[0]||(a[0]=createTextVNode(" Button "))])]),_:3},16,["onClick"])}const Btn=_export_sfc(_sfc_main$1v,[["render",_sfc_render$1f]]),__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:Btn},Symbol.toStringTag,{value:"Module"})),_sfc_main$1u={name:"ue-collapsible",components:{VExpandTransition},props:{title:{type:String,default:""},modelValue:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:4},verticalPadding:{type:Number,default:3},color:{type:String,default:"primary"},dense:{type:Boolean,default:!1},noHeaderBackground:{type:Boolean,default:!1},noCollapse:{type:Boolean,default:!1}},data(){return{isOpen:this.noCollapse||this.modelValue}},watch:{modelValue(e){this.noCollapse?this.isOpen=!0:this.isOpen=e}},methods:{toggle(){this.noCollapse||(this.isOpen=!this.isOpen,this.$emit("update:modelValue",this.isOpen),this.$emit(this.isOpen?"open":"close"))}},created(){},mounted(){this.isOpen&&this.$el&&this.$el.querySelector(".ue-collapsible__content")}},_hoisted_1$Z={class:"ue-collapsible__title"},_hoisted_2$N={class:"ue-collapsible__content"};function _sfc_render$1e(e,a,o,r,i,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-collapsible",{"ue-collapsible--bordered":o.bordered,"ue-collapsible--elevated":o.elevated,"ue-collapsible--dense":o.dense}])},[o.title||e.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-collapsible__header",i.isOpen?"ue-collapsible__header--active":"",`px-${o.horizontalPadding} py-${o.verticalPadding}`,o.noHeaderBackground?"":"ue-collapsible__header--background"]),onClick:a[0]||(a[0]=(...l)=>n.toggle&&n.toggle(...l))},[createBaseVNode("div",_hoisted_1$Z,[renderSlot(e.$slots,"title",{},()=>[createTextVNode(toDisplayString(o.title),1)])]),o.noCollapse?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:i.isOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ue-collapsible__icon"},null,8,["icon"]))],2)):createCommentVNode("",!0),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$N,[createBaseVNode("div",{class:normalizeClass(["ue-collapsible__content-inner",`px-${o.horizontalPadding} py-${o.verticalPadding}`])},[renderSlot(e.$slots,"default")],2)],512),[[vShow,i.isOpen]])]),_:3})],2)}const Collapsible=_export_sfc(_sfc_main$1u,[["render",_sfc_render$1e]]),__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:Collapsible},Symbol.toStringTag,{value:"Module"})),_sfc_main$1t={name:"ue-configurable-card",props:{title:{type:String,default:""},titleColor:{type:String},titlePaddingX:{type:[Number,String]},titlePaddingY:{type:[Number,String]},items:{type:[Object,Array],required:!0},actions:{type:Array,default:()=>[]},hideSeparator:{type:Boolean,default:!1},maxSegments:{type:Number,default:null,validator:e=>e===null||e>0&&e<=12},actionIconSize:{type:String,default:"medium"},actionIconMinWidth:{type:Number,default:44},actionIconMinHeight:{type:Number,default:44},alignCenterColumns:{type:Boolean,default:!1},justifyCenterColumns:{type:Boolean,default:!1},rowMarginY:{type:[Number,String],default:4},rowMarginX:{type:[Number,String]},colPaddingX:{type:[Number,String],default:2},colPaddingY:{type:[Number,String]},columnStyles:{type:Object,default:()=>({})},columnClasses:{type:Object,default:()=>({})},colRatios:{type:Array,default:()=>[]},rowMinHeight:{type:String,default:null},noActions:{type:Boolean,default:!1},mobileBreakpoint:{type:String,default:"md"},mobileRowGap:{type:[Number,String],default:4},mobileColPaddingX:{type:[Number,String],default:0},mobileColPaddingY:{type:[Number,String],default:0}},computed:{titlePXNumber(){if(this.titlePaddingX)return parseInt(this.titlePaddingX);let e=0;return this.rowMarginX&&(e+=parseInt(this.rowMarginX)),this.colPaddingX&&(e+=parseInt(this.colPaddingX)),e},titlePYNumber(){return this.titlePaddingY?parseInt(this.titlePaddingY):4},cardClass(){return`ue-configurable-card--${this.effectiveSegmentCount}-columns`},itemsWithActions(){const e={...this.items};return this.actions.length&&!this.noActions&&(e._actions=this.actions),e},effectiveSegmentCount(){const e=this.isArray(this.itemsWithActions)?this.itemsWithActions.length:Object.keys(this.itemsWithActions).length;return this.maxSegments===null?e:Math.min(this.maxSegments,e)},rowStyle(){return{...this.rowMinHeight?{minHeight:this.rowMinHeight}:{}}},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.effectiveSegmentCount:this.colRatios.reduce((e,a,o)=>e+(a||1),0)},isMobile(){let e="smAndDown";return["sm","md","lg","xl"].includes(this.mobileBreakpoint)&&(e=this.mobileBreakpoint+"AndDown"),this.$vuetify.display[e]}},methods:{isObject(e){return __isObject(e)},isArray(e){return __isArray(e)},getColumnStyleFromRatio(e){if(!this.colRatios||this.colRatios.length===0)return null;const a=e==="_actions"?this.effectiveSegmentCount-1:parseInt(e),o=this.colRatios[a]||1,r=o/this.totalRatio*100;return{flex:`${o} 0 0`,maxWidth:`${r}%`}},getEffectiveColumnStyle(e){const a=this.columnStyles[e],o=this.getColumnStyleFromRatio(e);return a||(o?Object.entries(o).map(([r,i])=>`${r.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${i}`).join("; "):"")}}},_hoisted_1$Y={key:0,class:"d-flex fill-height flex-wrap justify-space-evenly align-center"},_hoisted_2$M={key:1,class:"d-flex fill-height"},_hoisted_3$I={key:2,class:"d-flex fill-height"},_hoisted_4$z={key:3,class:"d-flex fill-height"};function _sfc_render$1d(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-property-list"),c=resolveComponent("ue-dynamic-component-renderer");return openBlock(),createBlock(VCard,{class:normalizeClass(["ue-configurable-card",[e.$bindAttributes().class,n.cardClass]])},{default:withCtx(()=>[renderSlot(e.$slots,"title",{},()=>[o.title?(openBlock(),createBlock(l,{key:0,text:o.title,color:o.titleColor,padding:`x-${n.titlePXNumber}`,class:"pt-4"},null,8,["text","color","padding"])):createCommentVNode("",!0)],!0),createBaseVNode("div",{"no-gutters":"",class:normalizeClass(["ue-configurable-card__row",[n.isMobile?`ga-${o.mobileRowGap}`:"",o.rowMarginY?`my-${o.rowMarginY}`:"",o.rowMarginX?`mx-${o.rowMarginX}`:""]]),style:normalizeStyle(n.rowStyle)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.itemsWithActions,(u,f)=>(openBlock(),createElementBlock("div",{key:f,class:normalizeClass(["ue-configurable-card__col",o.hideSeparator?"":"ue-configurable-card__col--seperator",o.justifyCenterColumns?"ue-configurable-card__col--justify-center":"",o.alignCenterColumns?"ue-configurable-card__col--align-center":"",e.$isset(o.columnStyles[f])||o.colRatios.length>0?"ue-configurable-card__col--unset-flex-basis":"",o.columnClasses[f]??"",n.isMobile?`px-${o.mobileColPaddingX} py-${o.mobileColPaddingY}`:"",o.colPaddingX?`px-${o.colPaddingX}`:"",o.colPaddingY?`py-${o.colPaddingY}`:""]),style:normalizeStyle(n.getEffectiveColumnStyle(f))},[renderSlot(e.$slots,`segment.${f==="_actions"?"actions":parseInt(f)+1}`,mergeProps({ref_for:!0},{data:u,actions:o.actions,actionProps:{actionIconMinHeight:o.actionIconMinHeight,actionIconSize:o.actionIconSize}}),()=>[o.actions.length&&f==="_actions"?(openBlock(),createElementBlock("div",_hoisted_1$Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.actions,(p,m)=>(openBlock(),createBlock(VBtn,mergeProps({key:m,class:"mx-1 rounded","min-width":o.actionIconMinHeight,"min-height":o.actionIconMinHeight,size:o.actionIconSize,ref_for:!0},p),null,16,["min-width","min-height","size"]))),128))])):n.isObject(u)?(openBlock(),createElementBlock("div",_hoisted_2$M,[createVNode(s,{data:u,class:"",noPadding:""},null,8,["data"])])):n.isArray(u)?(openBlock(),createElementBlock("div",_hoisted_3$I,[createVNode(s,{data:u.map(p=>[p]),class:"",noPadding:""},null,8,["data"])])):(openBlock(),createElementBlock("div",_hoisted_4$z,[createVNode(c,{subject:u},null,8,["subject"])]))],!0)],6))),128))],6)]),_:3},8,["class"])}const ConfigurableCard=_export_sfc(_sfc_main$1t,[["render",_sfc_render$1d],["__scopeId","data-v-bcac18e9"]]),__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:ConfigurableCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1s={name:"CopyText",props:{text:{type:[String,Number],required:!0},icon:{type:String,default:"mdi-content-copy"},color:{type:String,default:"primary"},size:{type:String,default:"small"}},data(){return{showTooltip:!1}},methods:{handleCopy(){this.$copy(this.text),this.showTooltip=!0,setTimeout(()=>{this.showTooltip=!1},2e3)}}},_hoisted_1$X={class:"d-inline-block"};function _sfc_render$1c(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$X,[createVNode(VTooltip,{"model-value":i.showTooltip,text:"Copied!",location:"top","open-on-hover":!1,"open-on-focus":!1},{activator:withCtx(({props:l})=>[createVNode(VIcon,mergeProps({...l,onClick:n.handleCopy},{icon:o.icon,color:o.color,size:o.size,class:{"cursor-pointer":!0}}),null,16,["icon","color","size"])]),_:1},8,["model-value"])])}const CopyText=_export_sfc(_sfc_main$1s,[["render",_sfc_render$1c]]),__vite_glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:CopyText},Symbol.toStringTag,{value:"Module"})),_sfc_main$1r={props:{blocks:{type:Object,default(){return{}}}},components:{},setup(e,a){},data(){return{}},created(){}};function _sfc_render$1b(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VRow,{class:"h-100"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.blocks,(s,c)=>(openBlock(),createBlock(l,{key:`tag-0-${c}`,configuration:s},null,8,["configuration"]))),128))]),_:1})}const Dashboard=_export_sfc(_sfc_main$1r,[["render",_sfc_render$1b]]),__vite_glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:Dashboard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1q={name:"UEDropdownFilter",props:{buttonText:{type:String,default:"Filter"},loading:{type:Boolean,default:!1},page:{type:Number,required:!0},type:{type:String,required:!0},tags:{type:Array,default:()=>[]},filterState:{type:Object,required:!0},filterModel:{type:Object,required:!0},schema:{type:Object||Array,required:!0}},emits:["update:filterState","submit","clear"],setup(e,{emit:a}){const o=ref({...e.filterState}),r=ref(!1);return watch$1(()=>e.filterState,l=>{o.value={...l}}),{localFilterState:o,menu:r,submitFilter:()=>{a("update:filterState",{...o.value}),a("submit"),r.value=!1},handleClear:()=>{a("clear"),r.value=!1}}}};function _sfc_render$1a(e,a,o,r,i,n){const l=resolveComponent("ue-form");return openBlock(),createElementBlock("div",null,[createVNode(VMenu,{modelValue:r.menu,"onUpdate:modelValue":a[1]||(a[1]=s=>r.menu=s),"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:s})=>[createVNode(VBtn,mergeProps({color:"primary"},s),{default:withCtx(()=>[createTextVNode(toDisplayString(o.buttonText),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(l,{ref:"form",schema:o.schema,"has-submit":"",modelValue:r.localFilterState,"onUpdate:modelValue":a[0]||(a[0]=s=>r.localFilterState=s),onSubmit:r.submitFilter},{submit:withCtx(()=>[createVNode(VBtn,{color:"primary",class:"mt-4 mr-2",type:"button",loading:o.loading,onClick:r.submitFilter},{default:withCtx(()=>a[2]||(a[2]=[createTextVNode(" Apply Filters ")])),_:1},8,["loading","onClick"]),createVNode(VBtn,{color:"secondary",class:"mt-4 ml-2",type:"button",loading:o.loading,onClick:r.handleClear},{default:withCtx(()=>a[3]||(a[3]=[createTextVNode(" Clear Filters ")])),_:1},8,["loading","onClick"])]),_:1},8,["schema","modelValue","onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const DropdownFilter=_export_sfc(_sfc_main$1q,[["render",_sfc_render$1a]]),__vite_glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:DropdownFilter},Symbol.toStringTag,{value:"Module"})),_sfc_main$1p={__name:"DynamicComponentRenderer",props:{subject:{type:String,default:""}},setup(e){const a=e,o=n=>{const c=new DOMParser().parseFromString(n,"text/html").body.firstChild,u=c.tagName.toLowerCase();let f={};const p=c.textContent;for(let m=0;m<c.attributes.length;m++){const g=c.attributes[m];f[g.name]=g.value}return f={...f},{name:u,props:f,content:p}},r=computed(()=>(a.subject.startsWith("<v-")||a.subject.startsWith("<ue-"))&&a.subject.endsWith(">")),i=computed(()=>r.value?o(a.subject):null);return(n,l)=>e.subject&&r.value?(openBlock(),createBlock(resolveDynamicComponent(i.value.name),normalizeProps(mergeProps({key:0},{...i.value.props,...n.$bindAttributes()})),{default:withCtx(()=>[createTextVNode(toDisplayString(i.value.content),1)]),_:1},16)):e.subject?(openBlock(),createElementBlock(Fragment,{key:1},[],64)):createCommentVNode("",!0)}},__vite_glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1p},Symbol.toStringTag,{value:"Module"})),_hoisted_1$W={class:"text-h1 font-weight-bold text-{{ alert }} mb-4"},_hoisted_2$L={class:"text-h4 font-weight-medium mb-6"},_hoisted_3$H={class:"text-h6 text-medium-emphasis mb-4"},_sfc_main$1o={__name:"ErrorCard",props:{elevation:{type:Number,default:8},rounded:{type:String,default:"lg"},icon:{type:String,default:"mdi-lock-outline"},iconSize:{type:Number,default:120},statusCode:{type:Number,default:403},statusText:{type:String,default:"Access Forbidden"},description:{type:String,default:"You don't have permission to access this resource."},alertText:{type:String,default:"This action is restricted for modularity authenticated users."},alert:{type:String,default:"warning"},homeUrl:{type:String,default:"/"},homeText:{type:String,default:"Home"}},setup(e){return(a,o)=>(openBlock(),createBlock(VCard,{elevation:e.elevation,rounded:e.rounded,class:"mx-auto text-center"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-8"},{default:withCtx(()=>[createVNode(VIcon,{color:e.alert,size:e.iconSize,class:"mb-6"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.icon),1)]),_:1},8,["color","size"]),createBaseVNode("h1",_hoisted_1$W,toDisplayString(e.statusCode),1),createBaseVNode("h2",_hoisted_2$L,toDisplayString(e.statusText),1),createBaseVNode("p",_hoisted_3$H,toDisplayString(e.description),1),createVNode(VAlert,{type:e.alert,variant:"tonal",class:"mb-6"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.alertText),1)]),_:1},8,["type"]),createVNode(VBtn,{color:"primary",size:"large",variant:"elevated","prepend-icon":"mdi-arrow-left",onClick:o[0]||(o[0]=r=>a.window.history.back()),class:"me-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.$t("Go Back")),1)]),_:1}),createVNode(VBtn,{color:"secondary",size:"large",variant:"outlined","prepend-icon":"mdi-home",href:e.homeUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(a.$t(e.homeText)),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["elevation","rounded"]))}},__vite_glob_0_10=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1o},Symbol.toStringTag,{value:"Module"})),_sfc_main$1n={__name:"Expansion",props:{modelValue:{type:Boolean,default:!0},title:{type:String,default:""},multiple:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasActions:{type:Boolean,default:!1},expandedIcon:{type:String,default:"mdi-chevron-down"},collapsedIcon:{type:String,default:"mdi-chevron-up"}},setup(e){const o=ref(e.modelValue?["one"]:[]);return(r,i)=>(openBlock(),createBlock(VExpansionPanels,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=n=>o.value=n),multiple:e.multiple,readonly:e.readonly},{default:withCtx(()=>[createVNode(VExpansionPanel,{value:"one"},{default:withCtx(()=>[e.title?(openBlock(),createBlock(VExpansionPanelTitle,{key:0},createSlots({default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:2},[e.hasActions?{name:"actions",fn:withCtx(({expanded:n})=>[createVNode(VIcon,{color:n?"":"teal",icon:n?e.expandedIcon:e.collapsedIcon},null,8,["color","icon"])]),key:"0"}:void 0]),1024)):createCommentVNode("",!0),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3})]),_:3})]),_:3},8,["modelValue","multiple","readonly"]))}},__vite_glob_0_11=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1n},Symbol.toStringTag,{value:"Module"})),_sfc_main$1m={data(){return{fileUrls:[],thumbnailUrls:[],isImageArray:[],loadingStates:[],downloadingStates:[],previewDialogs:[]}},props:{source:{type:[Object,Array],required:!0},imageSize:{type:[Number,String],default:64},showFileName:{type:Boolean,default:!1},showInlineFileName:{type:Boolean,default:!1},maxFileNameLength:{type:Number,default:10},noOverlay:{type:Boolean,default:!1},showDate:{type:Boolean,default:!1}},computed:{normalizedSource(){return this.source?Array.isArray(this.source)?this.source:window.__isObject(this.source)?[this.source]:[]:[]}},methods:{processSource(){const e=this.normalizedSource.length;this.loadingStates=new Array(e).fill(!1),this.downloadingStates=new Array(e).fill(!1),this.previewDialogs=new Array(e).fill(!1),this.fileUrls=new Array(e).fill(null),this.thumbnailUrls=new Array(e).fill(null),this.isImageArray=new Array(e).fill(!1),this.normalizedSource.forEach((a,o)=>{this.isImageFile(a.file_name)&&this.generateThumbnail(a.uuid,o)})},isImageFile(e){const a=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(a)},async generateThumbnail(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Failed to fetch thumbnail");const r=await o.blob();r.type.startsWith("image/")&&(this.thumbnailUrls[a]=URL.createObjectURL(r))}catch(o){console.error("Error generating thumbnail:",o)}},getFileIcon(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"mdi-file-pdf-box";case"doc":case"docx":return"mdi-file-word";case"xls":case"xlsx":return"mdi-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"mdi-file-image";default:return"mdi-file-document-outline"}},getFileIconColor(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"red";case"doc":case"docx":return"blue";case"xls":case"xlsx":return"green";case"jpg":case"jpeg":case"png":case"gif":return"purple";default:return"grey"}},async previewFile(e){this.previewDialogs[e]=!0,this.fileUrls[e]||(this.loadingStates[e]=!0,await this.fetchFile(this.normalizedSource[e].uuid,e))},async downloadFile(e){const a=this.normalizedSource.findIndex(o=>o.uuid===e);this.downloadingStates[a]=!0;try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Download failed");const r=await o.blob(),i=window.URL.createObjectURL(r),n=document.createElement("a");n.href=i,n.download=this.normalizedSource[a].file_name,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(i),n.remove()}catch(o){console.error("Error downloading file:",o)}finally{this.downloadingStates[a]=!1}},async fetchFile(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Network response was not ok");const r=await o.blob();this.isImageArray[a]=r.type.startsWith("image/"),this.fileUrls[a]=URL.createObjectURL(r)}catch(o){console.error("Error fetching file:",o)}finally{this.loadingStates[a]=!1}},shortenFileName(e){if(e.length<=this.maxFileNameLength)return e;const a=e.split(".").pop();return`${e.slice(0,e.lastIndexOf(".")).slice(0,this.maxFileNameLength)}...${a}`}},mounted(){this.processSource()}},_hoisted_1$V={key:0,class:"d-flex align-center px-4"},_hoisted_2$K={class:"text-body-2 text-truncate"},_hoisted_3$G={key:1,class:"ml-auto mr-1"},_hoisted_4$y={class:"text-caption text-truncate"},_hoisted_5$v={key:2,class:"overlay-content d-flex align-center justify-center"},_hoisted_6$t={class:"d-flex justify-center align-center",style:{height:"calc(100vh - 64px)"}},_hoisted_7$l=["src"];function _sfc_render$19(e,a,o,r,i,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex ga-2",o.showInlineFileName||o.showFileName?"flex-wrap":""])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.normalizedSource,(l,s)=>(openBlock(),createElementBlock("div",{key:l.uuid,class:"file-preview-item",style:normalizeStyle({width:o.showInlineFileName||o.showFileName?"100%":"aut"})},[createVNode(VHover,null,{default:withCtx(({isHovering:c,props:u})=>[createVNode(VCard,mergeProps({ref_for:!0},u,{class:"rounded position-relative d-flex bg-transparent",width:o.showInlineFileName||o.showFileName?"100%":`${o.imageSize}`,height:o.imageSize,elevation:c?4:0,onClick:f=>n.previewFile(s)}),{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle({width:`${o.imageSize}px`,height:`${o.imageSize}px`}),class:"position-relative flex-grow-0"},[i.thumbnailUrls[s]?(openBlock(),createBlock(VImg,{key:0,src:i.thumbnailUrls[s],height:"100%",width:"100%",cover:""},{placeholder:withCtx(()=>[createVNode(VIcon,{color:n.getFileIconColor(l.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.getFileIcon(l.file_name)),1)]),_:2},1032,["color"])]),_:2},1032,["src"])):(openBlock(),createBlock(VCardText,{key:1,class:"pa-0 d-flex justify-center align-center",style:{height:"100%"}},{default:withCtx(()=>[createVNode(VIcon,{color:n.getFileIconColor(l.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.getFileIcon(l.file_name)),1)]),_:2},1032,["color"])]),_:2},1024))],4),o.showInlineFileName||o.showFileName?(openBlock(),createElementBlock("div",_hoisted_1$V,[createBaseVNode("span",_hoisted_2$K,toDisplayString(n.shortenFileName(l.file_name)),1)])):createCommentVNode("",!0),o.showDate?(openBlock(),createElementBlock("div",_hoisted_3$G,[createBaseVNode("span",_hoisted_4$y,toDisplayString(e.$d(new Date(l.created_at),"numeric-full")),1)])):createCommentVNode("",!0),c&&!o.noOverlay?(openBlock(),createElementBlock("div",_hoisted_5$v,[createVNode(VBtn,{icon:"mdi-download",size:"x-small",color:"white",variant:"text",onClick:withModifiers(f=>n.downloadFile(l.uuid),["stop"]),loading:i.downloadingStates[s]},null,8,["onClick","loading"]),createVNode(VBtn,{icon:"mdi-eye",size:"x-small",color:"white",variant:"text",onClick:withModifiers(f=>n.previewFile(s),["stop"]),loading:i.downloadingStates[s]},null,8,["onClick","loading"])])):createCommentVNode("",!0)]),_:2},1040,["width","height","elevation","onClick"])]),_:2},1024),createVNode(VDialog,{modelValue:i.previewDialogs[s],"onUpdate:modelValue":c=>i.previewDialogs[s]=c,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:c=>i.previewDialogs[s]=!1},{default:withCtx(()=>[createVNode(VIcon,{color:"white",icon:"$close"})]),_:2},1032,["onClick"]),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(l.file_name),1)]),_:2},1024),createVNode(VSpacer)]),_:2},1024),createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$t,[i.loadingStates[s]?(openBlock(),createBlock(VProgressCircular,{key:0,indeterminate:"",color:"primary"})):createCommentVNode("",!0),!i.loadingStates[s]&&i.isImageArray[s]?(openBlock(),createBlock(VImg,{key:1,src:i.fileUrls[s],contain:"","max-height":"90vh"},null,8,["src"])):!i.loadingStates[s]&&i.fileUrls[s]?(openBlock(),createElementBlock("iframe",{key:2,src:i.fileUrls[s],width:"100%",height:"100%",frameborder:"0"},null,8,_hoisted_7$l)):createCommentVNode("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])],4))),128))],2)}const FilepondPreview=_export_sfc(_sfc_main$1m,[["render",_sfc_render$19],["__scopeId","data-v-63236061"]]),__vite_glob_0_12=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondPreview},Symbol.toStringTag,{value:"Module"}));function FormDataAsObj(e){let a=null;const o=!1;let r=/[^\[\]]+|\[\]/g,i=null,n=[];function l(E){return!!(E&&typeof E=="object"&&"nodeType"in E&&E.nodeType===1)}function s(E){if(!(!E||typeof E!="object"))return Object.keys(E).filter(function(V){return!isNaN(parseInt(V,10))}).splice(-1)[0]}function c(E){const V=s(E);return typeof V=="string"?parseInt(V,10):0}function u(E){const V=s(E);return typeof V=="string"?parseInt(V,10)+1:0}function f(E){if(typeof E!="object"||E===null)return 0;let V=0,A;if(typeof Object.keys=="function")V=Object.keys(E).length;else for(A in E)E.hasOwnProperty(A)&&V++;return V}function p(E,V){if([].forEach)return[].forEach.call(E,V);let A;for(A=0;A<E.length;A++)V.call(E,E[A],A)}function m(E){return!E||(a=E,!g())||!h()?!1:P()}function g(){switch(typeof a){case"string":i=document.getElementById(a);break;case"object":l(a)&&(i=a);break}return i}function y(){return!!(i.enctype&&i.enctype==="multipart/form-data")}function h(){return n=i.querySelectorAll("input, textarea, select"),n.length}function v(E){return E.nodeName==="INPUT"&&E.type==="radio"}function C(E){return E.nodeName==="INPUT"&&E.type==="checkbox"}function b(E){return E.nodeName==="INPUT"&&E.type==="file"}function S(E){return E.nodeName==="TEXTAREA"}function k(E){return E.nodeName==="SELECT"&&E.type==="select-one"}function B(E){return E.nodeName==="SELECT"&&E.type==="select-multiple"}function w(E){return E.nodeName==="BUTTON"&&E.type==="submit"}function N(E){return E.checked}function I(E){return window.FileList&&E.files instanceof window.FileList}function F(E){if(v(E)||C(E))return N(E)?E.value:!1;if(b(E))return y()?I(E)&&E.files.length>0?E.files:E.value&&E.value!==""?E.value:!1:!1;if(S(E))return E.value&&E.value!==""?E.value:!1;if(k(E))return E.value&&E.value!==""?E.value:E.options&&E.options.length&&E.options[0].value!==""?E.options[0].value:!1;if(B(E))if(E.options&&E.options.length>0){const V=[];return p(E.options,function(A){A.selected&&V.push(A.value)}),V.length?V:!1}else return!1;return w(E)?E.value&&E.value!==""?E.value:E.innerText&&E.innerText!==""?E.innerText:!1:typeof E.value<"u"&&E.value!==""?E.value:!1}function D(E,V,A,$){const z=V[0];if(v(E))return A!==!1?($[z]=A,A):void 0;if(C(E))return A!==!1?($[z]||($[z]=[]),$[z].push(A)):void 0;if(B(E))if(A!==!1)$[z]=A;else return;return $[z]=A,A}function M(E,V,A,$){const z=V[0];if(V.length>1)return z==="[]"?($[u($)]={},M(E,V.splice(1,V.length),A,$[c($)])):($[z]&&f($[z])>0||($[z]={}),M(E,V.splice(1,V.length),A,$[z]));if(V.length===1)return z==="[]"?($[u($)]=A,$):(D(E,V,A,$),$)}function P(){let E=0,V,A,$;const z={};for(E=0;E<n.length;E++)A=n[E],!(!A.name||A.name===""||A.disabled||v(A)&&!N(A))&&($=F(A),!($===!1&&!o)&&(V=A.name.match(r),V.length===1&&D(A,V,$||"",z),V.length>1&&M(A,V,$||"",z)));return f(z)>0?z:!1}return m(e)}const _sfc_main$1l={name:"UEFilter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default(){return getCurrentInstance().appContext.config.globalProperties.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},filterState:{type:Object,required:!0}},emits:["update:filterState","submit","clear"],data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,a){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{e.style.overflow="visible"},275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,a){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){const e=FormDataAsObj(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:debounce(function(){this.resetHeight()},50),updateSearch(e){this.$emit("update:filterState",{...this.filterState,search:e})}},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},_hoisted_1$U={class:"filter__inner"},_hoisted_2$J={class:"filter__navigation"},_hoisted_3$F={class:"filter__search"},_hoisted_4$x={class:"float-right",symbol:"dropdown_module"},_hoisted_5$u=["aria-hidden"],_hoisted_6$s={class:"filter__moreInner",ref:"moreInner"};function _sfc_render$18(e,a,o,r,i,n){const l=resolveComponent("ue-btn"),s=resolveDirective("svg");return openBlock(),createElementBlock("div",null,[createBaseVNode("form",{class:normalizeClass(["filter",{"filter--opened":n.opened,"filter--single":!e.withNavigation,"filter--withHiddenFilters":e.withHiddenFilters}]),onSubmit:a[0]||(a[0]=withModifiers((...c)=>n.submitFilter&&n.submitFilter(...c),["prevent"])),ref:"form"},[createBaseVNode("div",_hoisted_1$U,[createBaseVNode("div",_hoisted_2$J,[renderSlot(e.$slots,"navigation",{},void 0,!0)]),createBaseVNode("div",_hoisted_3$F,[createVNode(VTextField,{type:"search",class:"form__input form__input--small v-filter__search__input",name:"search",modelValue:o.filterState.search,"onUpdate:modelValue":n.updateSearch,placeholder:o.placeholder,variant:"outlined","hide-details":"true"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.withHiddenFilters?(openBlock(),createBlock(l,{key:0,class:"filter__toggle",variant:"outlined",onClick:n.toggleFilter,"aria-expanded":n.opened?"true":"false",fab:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.toggle-label","Filter"))+" ",1),withDirectives(createBaseVNode("span",_hoisted_4$x,null,512),[[s]])]),_:1},8,["onClick","aria-expanded"])):createCommentVNode("",!0),renderSlot(e.$slots,"additional-actions",{},void 0,!0)])]),createVNode(Transition$1,{css:!1,duration:275,onBeforeEnter:n.beforeEnter,onEnter:n.enter,onBeforeLeave:n.beforeLeave,onLeave:n.leave},{default:withCtx(()=>[e.withHiddenFilters?withDirectives((openBlock(),createElementBlock("div",{key:0,class:"filter__more","aria-hidden":n.opened?null:!0,ref:"more"},[createBaseVNode("div",_hoisted_6$s,[renderSlot(e.$slots,"hidden-filters",{},void 0,!0),createVNode(l,{variant:"outlined",type:"submit"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.apply-btn","Apply")),1)]),_:1}),o.clearOption?(openBlock(),createBlock(l,{key:0,variant:"elavated",type:"button",onClick:n.clear},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.clear-btn","Clear")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)],512)],8,_hoisted_5$u)),[[vShow,n.opened]]):createCommentVNode("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],34),renderSlot(e.$slots,"default",{},void 0,!0)])}const Filter=_export_sfc(_sfc_main$1l,[["render",_sfc_render$18],["__scopeId","data-v-e1692dd5"]]),__vite_glob_0_13=Object.freeze(Object.defineProperty({__proto__:null,default:Filter},Symbol.toStringTag,{value:"Module"})),makeFormatterProps=propsFactory({ignoreFormatters:{type:[Array],default:[]}});function useFormatter(e,a,o=null){const{d:r,te:i,t:n}=useI18n({useScope:"global"}),l=computed(()=>((o==null?void 0:o.value)??[]).filter(u=>Object.prototype.hasOwnProperty.call(u,"formatter")&&u.formatter.length>0&&(!Object.prototype.hasOwnProperty.call(e,"ignoreFormatters")||!e.ignoreFormatters.includes(u.formatter[0])))),s=reactive({dateFormatter:function(u,f="long"){return{configuration:s.makeText(r(new Date(u),f))}},chipFormatter:function(u,f={}){return{configuration:s.makeChip(u,f)}},badgeFormatter:function(u,f={}){return{configuration:s.makeBadge(u,f)}},editFormatter:function(u){return{configuration:{elements:`${u}`,tag:"span",attributes:{onClick:"editItem"}}}},pascalFormatter:function(u){return lodash.startCase(lodash.camelCase(u)).replace(/ /g,"")},priceFormatter:(u,f="",p=null)=>({configuration:{elements:[{tag:"p",attributes:{class:"featured"},elements:`${f}${u}`},{tag:"p",attributes:{class:"value"},elements:`${p?`+${p}`:""}`}]}}),statusFormatter:(u,f=null,p=null)=>{const m=u===!0||u==="true"||u===1||u==="1";return{configuration:{tag:"v-icon",attributes:{size:"small",style:{color:m?"green":"red"},icon:m?"mdi-check":"mdi-close"}}}},shortenFormatter:function(u,f=10){return{configuration:{elements:window.__shorten(u,f)}}},makeChip:function(u,f={}){return{tag:"v-chip",attributes:{...f},elements:u}},makeBadge:function(u,f={}){return{tag:"v-badge",attributes:{...f,content:u}}},makeText:function(u){return{elements:u}},castMatch:function(u,f){let p=/\$([\w\d\.\*\_]+)/,m,g=u;if(window.__isString(u)&&(m=u.match(p))){let y=m[1],h=window.__preg_quote(m[0]),v=y.split("."),C=[];for(const S in v){let k=v[S];k==="*"?f.id:C.push(k)}y=C.join(".");let b=window.__data_get(f,y);if(b!=null){let S;if(Array.isArray(b)&&b.length>0)S=b.join(",");else if(window.__isString(b)){S=b;let k=lodash.snakeCase(S);i(`modules.${k}`)&&(S=n(`modules.${k}`))}else window.__isNumber(b)&&(S=b.toString());if(S!==void 0){let k="\\w\\s"+window.__preg_quote(".,;?|:_"),B=new RegExp(String.raw`^([${k}]+)?(${h})([${k}]+)?$`);u.match(B)?g=u.replace(B,"$1"+S+"$3"):__log("Not matched sentence",B,u,u.match(B))}}}return g}});function c(u,f){let p=lodash.cloneDeep(u);const g=`${p.shift()}Formatter`;try{return f==null||f===""?{configuration:{elements:""}}:s[g](f,...lodash(p))}catch(y){console.error(`${y}: ${g}`)}}return{formatterColumns:l,handleFormatter:c,...toRefs(s)}}const makeInputProps=propsFactory({modelValue:{type:[Array,Object,String,Number,Boolean],default:null},obj:{type:Object,default(){return{}}},label:{type:String,default:""},hideIfEmpty:{type:Boolean,default:!1},default:{type:[Array,Object,String,Number,Boolean],default:null},protectInitialValue:{type:Boolean,default:!1},isEditing:{type:Boolean,default:!1},editable:{type:[Boolean,String],default:!0},creatable:{type:[Boolean,String],default:!0}}),makeInputEmits=["update:modelValue","change","update:preview","focus","blur","click:append","click:appendInner","click:prepend","click:prependInner","click:clear","click:hour","click:minute","click:second","update:input"],makeInputInjects=["manualValidation"];function useInput(e,a){const{modelValue:o,obj:r}=toRefs(e),i=ref(null),n=reactive({VInput:i,id:Math.ceil(Math.random()*1e6)+"-input",boundProps:omit(r.value.schema??{},["offset","order","col"]),input:computed({get:()=>{var c,u;let s=o.value??(e==null?void 0:e.default)??((u=(c=e==null?void 0:e.obj)==null?void 0:c.schema)==null?void 0:u.default)??[];return Array.isArray(s)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&!e.multiple&&s.length===0&&(s=Array.isArray(o.value)?null:o.value),!Array.isArray(s)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&e.multiple&&(s=[]),a.initializeInput?a.initializeInput(s):s},set:(s,c)=>{a.updateModelValue?a.updateModelValue(s,c):l.emitModelValue(s,c)}})}),l=reactive({async validate(){this.$refs.VInput&&await this.$refs.VInput.validate()},updateModelValue:function(s,c){a.emit("update:modelValue",s,c)},emitModelValue:function(s,c){a.emit("update:modelValue",s,c)},makeReference(s){return`${s}-${n.id}`},getReference(s){return l.makeReference(s)}});return{...toRefs(l),...toRefs(n)}}function useInputHandlers(){const e=reactive({passwordHandler:function(o,r){o.schema[`${r}Icon`]=o.schema.type==="password"?"$visibility":"$non-visibility",o.schema.type=o.schema.type==="password"?"text":"password"}});function a(o,r){const i=lodash.camelCase(r);if(Object.prototype.hasOwnProperty.call(o.schema,"slotHandlers")&&Object.prototype.hasOwnProperty.call(o.schema.slotHandlers,i)){const l=`${lodash.camelCase(o.schema.slotHandlers[i])}Handler`;return e[l](o,i)}}return{invokeInputClickHandler:a,...toRefs(e)}}const inBrowser=typeof window<"u";inBrowser&&function(){const e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}();const Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;let _key=genKey();function genKey(){return Time.now().toFixed(3)}function pushState(e,a){const o=window.history;try{a&&o.replaceState({key:_key},"",e)}catch{window.location.replace(e)}}function replaceState(e){pushState(e,!0)}function getURLWithoutQuery(e=null){return e?getOrigin(e)+getPath(e):location.protocol+"//"+location.host+location.pathname}function getParameters(e=window.location){let a={};return new URL(e).searchParams.forEach(function(o,r){a[r]!==void 0?(Array.isArray(a[r])||(a[r]=[a[r]]),a[r].push(o)):a[r]=o}),a}function serializeParameters(e,a){const o=Object.keys(e).map(r=>{const i=e[r];return e.constructor===Array?r=`${a}[]`:e.constructor===Object&&(r=a?`${a}[${r}]`:r),typeof i=="object"?serializeParameters(i,r):`${r}=${encodeURIComponent(i)}`});return[].concat.apply([],o).join("&")}function addParametersToUrl(e,a,o){let r="";return __isString(a)?r=a:r=serializeParameters(a,o),r.length>0&&(r="?"+r),e+r}function removeQueryKeys(e=[]){const a=new URL(window.location.href);e.forEach(r=>a.searchParams.delete(r));const o=a.pathname+(a.searchParams.toString()?"?"+a.searchParams.toString():"");window.history.pushState({},"",o)}function getOrigin(e){return new URL(e).origin}function getPath(e){return new URL(e).pathname}function removeParameterFromUrl(e,a){const o=new URL(e);return o.searchParams.delete(a),o.toString()}function removeParameterFromHistory(e){window.history.replaceState({},"",removeParameterFromUrl(window.location.href,e))}var define_import_meta_env_default$e={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function globalError$1(e=null,a={message:"",value:null}){var n,l,s,c,u;let o="";e&&typeof e=="string"&&(o=`${define_import_meta_env_default$e.VUE_APP_NAME} - [${e}]: `);const r=o+a.message,i=((l=(n=a==null?void 0:a.value)==null?void 0:n.response)==null?void 0:l.status)??((s=a==null?void 0:a.response)==null?void 0:s.status)??null;console.error(r),a!=null&&a.value&&((c=a.value)!=null&&c.response)&&((u=a.value.response)!=null&&u.data)&&console.error(a.value.response.data),i===401||i===419?window.vm.config.globalProperties.$dialog({message:'Your session has expired, please <a class="v-btn v-btn--slim text-primary v-btn--density-default v-btn--size-default mr-12" href="'+document.location+'" target="_blank">login in another tab</a>'}):window.vm.config.globalProperties.$notif({message:a.message,variant:"error"})}var define_import_meta_env_default$d={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const component$2="DATATABLE",api$2={get(e,a,o,r=null){axios$1.get(e,{params:a}).then(function(i){if(i.data.replaceUrl){const n=i.request.responseURL;replaceState(n)}o&&typeof o=="function"&&o(i.data,i)},function(i){r&&typeof r=="function"&&r({message:"Get request error.",value:i})})},delete(e,a,o,r){e=e.replace(":id",a),axios$1.delete(e).then(function(i){o&&typeof o=="function"&&o(i)},function(i){const n={message:"Delete request error.",value:i};globalError$1(component$2,n),r&&typeof r=="function"&&r(n)})},forceDelete(e,a,o,r){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(i){o&&typeof o=="function"&&o(i)},function(i){const n={message:"Force Delete request error.",value:i};globalError$1(component$2,n),r&&typeof r=="function"&&r(n)})},restore(e,a,o){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Restore request error.",value:r})})},duplicate(e,a,o){e=e.replace(":id",a),axios$1.put(e).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Duplicate request error.",value:r})})},reorder(e=null,a,o){const r=e??window[define_import_meta_env_default$d.VUE_APP_NAME].ENDPOINTS.reorder;axios$1.post(r,{ids:a}).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component$2,{message:"Reorder request error.",value:i})})},bulkPublish(e,a,o){axios$1.post(e,{ids:a.ids,publish:a.toPublish}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk publish request error.",value:r})})},bulkFeature(e,a,o){axios$1.post(e,{ids:a.ids,feature:a.toFeature}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk feature request error.",value:r})})},bulkDelete(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk delete request error.",value:r})})},bulkRestore(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk restore request error.",value:r})})},bulkDestroy(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk destroy request error.",value:r})})}},MOVE_BLOCK_TO_EDITOR="moveBlockToEditor",DUPLICATE_BLOCK="duplicateBlock",GET_BUCKETS="getBucketsData",SAVE_BUCKETS="saveBuckets",GET_DATATABLE="getDatatableDatas",SET_DATATABLE_NESTED="setDatatableNestedDatas",SET_DATATABLE="setDatatableDatas",TOGGLE_PUBLISH="togglePublishedData",DELETE_ITEM="deleteData",DUPLICATE_ITEM="duplicateData",RESTORE_ITEM="restoreData",DESTROY_ITEM="destroyData",TOGGLE_FEATURE="toggleFeaturedData",BULK_PUBLISH="bulkPublishData",BULK_FEATURE="bulkFeatureData",BULK_EXPORT="bulkExportData",BULK_DELETE="bulkDeleteData",BULK_RESTORE="bulkRestoreData",BULK_DESTROY="bulkDestroyData",REPLACE_FORM="replaceFormData",SAVE_FORM="saveFormData",UPDATE_FORM_IN_LISTING="updateFormInListing",CREATE_FORM_IN_MODAL="createFormInModal",SHOW_ALERT="showAlert",GET_ALL_PREVIEWS="getAllPreviews",GET_PREVIEW="getPreview",GET_REVISION="getRevisionContent",GET_CURRENT="getCurrentContent",HANDLE_ERRORS="handleErrors",ACTIONS={HANDLE_ERRORS,GET_BUCKETS,SAVE_BUCKETS,GET_DATATABLE,SET_DATATABLE_NESTED,SET_DATATABLE,TOGGLE_PUBLISH,DELETE_ITEM,DUPLICATE_ITEM,RESTORE_ITEM,DESTROY_ITEM,TOGGLE_FEATURE,BULK_PUBLISH,BULK_FEATURE,BULK_EXPORT,BULK_DELETE,BULK_RESTORE,BULK_DESTROY,REPLACE_FORM,SAVE_FORM,UPDATE_FORM_IN_LISTING,CREATE_FORM_IN_MODAL,GET_ALL_PREVIEWS,GET_PREVIEW,GET_REVISION,GET_CURRENT,MOVE_BLOCK_TO_EDITOR,DUPLICATE_BLOCK,SHOW_ALERT};var define_import_meta_env_default$c={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},se,de,ce,ue;const state$9={test:((se=window[define_import_meta_env_default$c.VUE_APP_NAME])==null?void 0:se.STORE.config.test)??!1,profileMenu:((de=window[define_import_meta_env_default$c.VUE_APP_NAME])==null?void 0:de.STORE.config.profileMenu)??[],sidebarStatus:!0,sidebarOptions:((ce=window[define_import_meta_env_default$c.VUE_APP_NAME])==null?void 0:ce.STORE.config.sidebarOptions)??!1,secondarySidebarOptions:((ue=window[define_import_meta_env_default$c.VUE_APP_NAME])==null?void 0:ue.STORE.config.secondarySidebarOptions)??!1,isRequestInProgress:!1,ongoingAxiosRequests:0},getters$8={sidebarStatus:e=>e.sidebarStatus,sidebarOptions:e=>e.sidebarOptions,secondarySidebarOptions:e=>e.secondarySidebarOptions,isRequestInProgress:e=>e.isRequestInProgress,ongoingAxiosRequests:e=>e.ongoingAxiosRequests},mutations$8={[CONFIG.SIDEBAR_TOGGLE](e){e.sidebarStatus=!e.sidebarStatus},[CONFIG.SET_SIDEBAR](e,a=!0){e.sidebarStatus=a},[CONFIG.SET_REQUEST_IN_PROGRESS](e,a=!0){e.isRequestInProgress=a},[CONFIG.INCREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests+=1,e.isRequestInProgress=e.ongoingAxiosRequests>0},[CONFIG.DECREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests-=1,e.isRequestInProgress=e.ongoingAxiosRequests>0}},config={state:state$9,getters:getters$8,mutations:mutations$8},filters={slugify:function(e){let a="";newValue.value&&typeof newValue.value=="string"?a=newValue.value:typeof newValue=="string"&&(a=newValue);const o={",":"-","/":"-",":":"-",";":"-",_:"-","":"(c)","":"-",:"ss",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"th",:"y",:"a",:"a",:"a",:"c",:"c",:"d",:"e",:"e",:"e",:"g",:"g",:"i",:"i",:"k",:"l",:"l",:"n",:"n",:"n",:"o",:"oe",:"r",:"r",:"s",:"s",:"s",:"t",:"u",:"u",:"u",:"z",:"z",:"z",:"u",:"g",:"n",:"s",:"t",:"i",:"a",:"e",:"h",:"i",:"y",:"a",:"b",:"g",:"d",:"e",:"z",:"h",:"8",:"i",:"k",:"l",:"m",:"n",:"3",:"o",:"p",:"r",:"s",:"s",:"t",:"y",:"f",:"x",:"ps",:"w",:"i",:"y",:"o",:"y",:"w",:"a",:"b",:"v",:"g",:"d",:"e",:"zh",:"z",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"yo",:"ye",:"i",:"yi",:"g",:"h",:"m",:"p",:"w",:"x",:"a",:"g",:"q",:"n",:"o",:"u"},r=new RegExp(Object.keys(o).join("|"),"g");return a.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(r,i=>o[i]).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||e===0?e.toString().toUpperCase():""},lowercase:function(e){return e||e===0?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},isViewOnlyInput=e=>Object.prototype.hasOwnProperty.call(e,"viewOnlyComponent"),isFormEventInput=e=>Object.prototype.hasOwnProperty.call(e,"isEvent")&&e.isEvent&&(["select","autocomplete","combobox","switch"].includes(e.type)||__isset(e.viewOnlyComponent)||e.noSubmit),getTranslationInputsCount=e=>getTranslationInputs(e).length,getTranslationInputs=(e,a=[])=>_.reduce(e,(o,r)=>(__isset(r)&&__isset(r.schema)&&["wrap","group","repeater","input-repeater"].includes(r.type)?o=getTranslationInputs(r.schema,o):Object.prototype.hasOwnProperty.call(r,"translated")&&r.translated&&o.push(r),o),a),flattenGroupSchema=(e,a)=>reduce(e,(o,r,i)=>{const n=i.split(".").filter(l=>l!==a).join(".");return o[n]=r,o},{}),processInputs=e=>reduce(e,(a,o,r)=>(o.type==="wrap"&&o.schema?Object.assign(a,processInputs(o.schema)):o.type==="groupz"&&o.schema||(o.slotable,a[r]=o),a),{});var define_import_meta_env_default$b={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},me,fe,pe,he,ge,_e,ye,ve,be,Ce,ke,Ve;const state$8={showModal:!1,accessible:!1,crops:((fe=(me=window[define_import_meta_env_default$b.VUE_APP_NAME])==null?void 0:me.STORE)==null?void 0:fe.medias.crops)||{},showFileName:((he=(pe=window[define_import_meta_env_default$b.VUE_APP_NAME])==null?void 0:pe.STORE)==null?void 0:he.medias.showFileName)||!1,types:((_e=(ge=window[define_import_meta_env_default$b.VUE_APP_NAME])==null?void 0:ge.STORE)==null?void 0:_e.medias.types)||[],type:"image",connector:null,isInserted:!1,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:((ve=(ye=window[define_import_meta_env_default$b.VUE_APP_NAME])==null?void 0:ye.STORE)==null?void 0:ve.medias.selected)||{},config:((Ce=(be=window[define_import_meta_env_default$b.VUE_APP_NAME])==null?void 0:be.STORE)==null?void 0:Ce.medias.config)||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1,showModal:((Ve=(ke=window[define_import_meta_env_default$b.VUE_APP_NAME])==null?void 0:ke.STORE)==null?void 0:Ve.medias.openModal)||!1},getters$7={mediaLibraryAccessible:e=>e.accessible,mediasByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(i=>i.startsWith(`blocks[${a}]`)),r={};return o.forEach(i=>r[i]=e.selected[i]),r}},mutations$7={[MEDIA_LIBRARY.SET_ACCESSIBLE](e,a){e.accessible=a},[MEDIA_LIBRARY.SET_SHOW_MODAL](e,a){e.showModal=a},[MEDIA_LIBRARY.OPEN_MODAL](e){e.showModal=!0},[MEDIA_LIBRARY.CLOSE_MODAL](e){e.showModal=!1},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a.type&&(o.total=a.total),o))},[MEDIA_LIBRARY.UPDATE_REPLACE_INDEX](e,a){e.indexToReplace=a},[MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total+1),o))},[MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total-1),o))},[MEDIA_LIBRARY.UPDATE_MEDIAS](e,{mediaRole:a,index:o,media:r}){e.selected[a][o]=r},[MEDIA_LIBRARY.SAVE_MEDIAS](e,a){if(e.connector){const o=e.connector,r=e.selected[o]&&e.selected[o].length;if(r&&e.indexToReplace>-1)e.selected[o].splice(e.indexToReplace,1,cloneDeep(a[0]));else if(r)a.forEach(function(i){e.selected[o].push(cloneDeep(i))});else{const i={};i[o]=a,e.selected=Object.assign({},e.selected,i)}e.indexToReplace=-1}},[MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA](e,a){},[MEDIA_LIBRARY.DESTROY_MEDIAS](e,a){e.selected[a]&&delete e.selected[a],e.connector=null},[MEDIA_LIBRARY.REORDER_MEDIAS](e,a){const o={};o[a.name]=a.medias,e.selected=Object.assign({},e.selected,o)},[MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA](e,a){const o=e.loading.filter(r=>r.id===a.id);o.length?(o[0].error=!1,o[0].progress=a.progress):e.loading.unshift({id:a.id,name:a.name,progress:a.progress,replacementId:a.replacementId,isReplacement:a.isReplacement})},[MEDIA_LIBRARY.PROGRESS_UPLOAD](e,a){e.uploadProgress=a},[MEDIA_LIBRARY.DONE_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,r){o.id===a.id&&e.loading.splice(r,1)})},[MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,r){o.id===a.id&&(e.loading[r].progress=0,e.loading[r].error=!0,e.loading[r].errorMessage=a.errorMessage)})},[MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR](e,a){a&&a!==""?e.connector=a:e.connector=null},[MEDIA_LIBRARY.UPDATE_IS_INSERTED](e,a){e.isInserted=a},[MEDIA_LIBRARY.UPDATE_MEDIA_MODE](e,a){e.strict=a},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE](e,a){a&&a!==""&&(e.type=a)},[MEDIA_LIBRARY.RESET_MEDIA_TYPE](e){e.type=e.types[0].value},[MEDIA_LIBRARY.UPDATE_MEDIA_MAX](e,a){e.max=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX](e,a){e.filesizeMax=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN](e,a){e.widthMin=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN](e,a){e.heightMin=Math.max(0,a)},[MEDIA_LIBRARY.SET_MEDIA_METADATAS](e,a){const o=a.media.context,r=e.selected[o],i=a.value;function n(l){return i.locale?(l.metadatas.custom[i.id]||(l.metadatas.custom[i.id]={}),l.metadatas.custom[i.id][i.locale]=i.value):l.metadatas.custom[i.id]=i.value,l}if(a.media.hasOwnProperty("index")){const l=n(cloneDeep(r[a.media.index]));r[a.media.index]=l}},[MEDIA_LIBRARY.DESTROY_MEDIA_CONNECTOR](e){e.connector=null},[MEDIA_LIBRARY.SET_MEDIA_CROP](e,a){const o=a.key,r=a.index,i=e.selected[o][r];function n(s){s.crops||(s.crops={});for(const c in a.values){const u={};u.name=a.values[c].name||c,u.x=a.values[c].x,u.y=a.values[c].y,u.width=a.values[c].width,u.height=a.values[c].height,s.crops[c]=u}return s}const l=n(cloneDeep(i));e.selected[o][r]=l},[MEDIA_LIBRARY.ADD_MEDIAS](e,{medias:a}){e.selected=Object.assign({},e.selected,a)}},actions$4={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:r}){const i={...a.mediasByBlockId(o.id)},n=Object.keys(i),l={};n.forEach(s=>l[s.replace(o.id,r)]=[...i[s]]),e(MEDIA_LIBRARY.ADD_MEDIAS,{medias:l})}},mediaLibrary={state:state$8,getters:getters$7,mutations:mutations$7,actions:actions$4},state$7={success:null,info:null,warning:null,error:null,show:!1,type:"info",message:null,location:"bottom",dialog:!1,dialogMessage:null},getters$6={notifByVariant:e=>a=>e[a],notified:e=>Object.keys(e).filter(a=>e[a]!==null).length===0},mutations$6={[ALERT$1.SET_ALERT_SHOW](e,a){e.show=a},[ALERT$1.SET_ALERT](e,a){e.type=a.variant??e.type,e.location=a.location??e.location,e.message=a.message??null,e.show=!0},[ALERT$1.CLEAR_ALERT](e,a){e.show=!1,e.type="info",e.message=null},[ALERT$1.SET_DIALOG_SHOW](e,a){e.dialog=a},[ALERT$1.SET_DIALOG](e,a){e.dialogMessage=a.message??null,e.dialog=!0},[ALERT$1.CLEAR_DIALOG](e){e.dialog=!1,e.dialogMessage=null}},actions$3={[ACTIONS.SHOW_ALERT]({commit:e},a){e(ALERT$1.SET_ALERT,a)}},alert$1={state:state$7,getters:getters$6,mutations:mutations$6,actions:actions$3};var define_import_meta_env_default$a={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},we,Se,Be,Ee,Ae,Ne,Te,Ie,Me,De,$e,Pe,Fe,xe,Re,Oe,Le,Ue,je,ze,He,Ge,Ke,qe,We,Ye,Xe;const state$6={locale:((we=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:we.LOCALE)??"en",timezone:((Se=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:Se.TIMEZONE)??"Europe/London",authorization:((Be=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:Be.AUTHORIZATION)??{},isGuest:((Ne=(Ae=(Ee=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:Ee.STORE)==null?void 0:Ae.user)==null?void 0:Ne.isGuest)??!1,profileDialog:!1,profile:((Me=(Ie=(Te=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:Te.STORE)==null?void 0:Ie.user)==null?void 0:Me.profile)??{},profileRoute:((Pe=($e=(De=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:De.STORE)==null?void 0:$e.user)==null?void 0:Pe.profileRoute)??"",profileShortcutModel:((Re=(xe=(Fe=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:Fe.STORE)==null?void 0:xe.user)==null?void 0:Re.profileShortcutModel)??{},profileShortcutSchema:((Ue=(Le=(Oe=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:Oe.STORE)==null?void 0:Le.user)==null?void 0:Ue.profileShortcutSchema)??{},showLoginModal:!1,loginShortcutModel:((He=(ze=(je=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:je.STORE)==null?void 0:ze.user)==null?void 0:He.loginShortcutModel)??{},loginShortcutSchema:((qe=(Ke=(Ge=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:Ge.STORE)==null?void 0:Ke.user)==null?void 0:qe.loginShortcutSchema)??{},loginRoute:((Xe=(Ye=(We=window[define_import_meta_env_default$a.VUE_APP_NAME])==null?void 0:We.STORE)==null?void 0:Ye.user)==null?void 0:Xe.loginRoute)??""},getters$5={userProfile:e=>e.profile,isGuest:e=>e.isGuest,isSuperAdmin:e=>e.authorization.isSuperAdmin??!1,isClient:e=>e.authorization.isClient??!1,userLocale:e=>e.locale,hasRestorable:e=>e.authorization.hasRestorable??!1,hasBulkable:e=>e.authorization.hasBulkable??!1,userPermissions:e=>e.authorization.permissions??[],userRoles:e=>e.authorization.roles??[]},actions$2={},mutations$5={[USER.SET_PROFILE_DATA](e,a){e.profile=a},[USER.OPEN_LOGIN_MODAL](e){e.showLoginModal=!0},[USER.CLOSE_LOGIN_MODAL](e){e.showLoginModal=!1}},user={state:state$6,getters:getters$5,actions:actions$2,mutations:mutations$5};var define_import_meta_env_default$9={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Qe,Ze,Je,et;const state$5={all:((Qe=window[define_import_meta_env_default$9.VUE_APP_NAME])==null?void 0:Qe.STORE.languages.all)||[],initialAll:((Ze=window[define_import_meta_env_default$9.VUE_APP_NAME])==null?void 0:Ze.STORE.languages.all)||[],active:((Je=window[define_import_meta_env_default$9.VUE_APP_NAME])==null?void 0:Je.STORE.languages.active)||((et=window[define_import_meta_env_default$9.VUE_APP_NAME])==null?void 0:et.STORE.languages.all[0])||{}},getters$4={publishedLanguages:e=>e.all.filter(a=>a.published)},mutations$4={[LANGUAGE.SWITCH_LANG](e,{oldValue:a}){function o(n){return n.value===a.value}const r=e.all.findIndex(o),i=r<e.all.length-1?r+1:0;e.active=e.all[i]},[LANGUAGE.UPDATE_LANG](e,a){function o(i){return i.value===a}const r=e.all.findIndex(o);e.active=e.all[r]},[LANGUAGE.PUBLISH_LANG](e,a){e.all.forEach(function(o){o.published=!!a.includes(o.value)})},[LANGUAGE.PUBLISH_SINGLE_LANG](e,a){function o(i){return i.value===a}const r=e.all.findIndex(o);e.all[r].published=!e.all[r].published},[LANGUAGE.REPLACE_LANGUAGES](e,a){e.all=a},[LANGUAGE.RESET_LANGUAGES](e){e.all=e.initialAll}},language={state:state$5,getters:getters$4,mutations:mutations$4};var define_import_meta_env_default$8={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},tt;const state$4={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:((tt=window[define_import_meta_env_default$8.VUE_APP_NAME])==null?void 0:tt.STORE.browser.selected)||{}},getters$3={selectedItemsByIds:e=>{const a=[];for(const o in e.selected)a[o]=e.selected[o].map(r=>`${r.endpointType}_${r.id}`);return a},browsersByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(i=>i.startsWith(`blocks[${a}]`)),r={};return o.forEach(i=>r[i]=e.selected[i]),r}},mutations$3={[BROWSER.SAVE_ITEMS](e,a){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=a;else{const o={};o[e.connector]=a,e.selected=Object.assign({},e.selected,o)}},[BROWSER.DESTROY_ITEMS](e,a){e.selected[a.name]},[BROWSER.DESTROY_ITEM](e,a){e.selected[a.name]&&(e.selected[a.name].splice(a.index,1),e.connector=null)},[BROWSER.REORDER_ITEMS](e,a){const o={};o[a.name]=a.items,e.selected=Object.assign({},e.selected,o)},[BROWSER.UPDATE_BROWSER_MAX](e,a){e.max=Math.max(0,a)},[BROWSER.UPDATE_BROWSER_CONNECTOR](e,a){a&&a!==""&&(e.connector=a)},[BROWSER.UPDATE_BROWSER_TITLE](e,a){a&&a!==""&&(e.title=a)},[BROWSER.UPDATE_BROWSER_NOTE](e,a){e.note=a},[BROWSER.DESTROY_BROWSER_CONNECTOR](e){e.connector=null},[BROWSER.UPDATE_BROWSER_ENDPOINT](e,a){a&&a!==""&&(e.endpoint=a.value,e.endpointName=a.label||"")},[BROWSER.DESTROY_BROWSER_ENDPOINT](e){e.endpoint="",e.endpointName=""},[BROWSER.UPDATE_BROWSER_ENDPOINTS](e,a){!a&&!a.length>0||(e.endpoints=a,e.endpoint=a[0].value,e.endpointName=a[0].label)},[BROWSER.DESTROY_BROWSER_ENDPOINTS](e){e.endpoints=[]},[BROWSER.ADD_BROWSERS](e,{browsers:a}){e.selected=Object.assign({},e.selected,a)}},actions$1={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:r}){const i={...a.browsersByBlockId(o.id)},n=Object.keys(i),l={};n.forEach(s=>l[s.replace(o.id,r)]=[...i[s]]),e(BROWSER.ADD_BROWSERS,{browsers:l})}},browser={state:state$4,getters:getters$3,mutations:mutations$3,actions:actions$1};var define_import_meta_env_default$7={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},at,ot,nt,rt,it,lt,st;const state$3={isHot:((at=window[define_import_meta_env_default$7.VUE_APP_NAME])==null?void 0:at.STORE.ambient.isHot)??!1,appEnv:((ot=window[define_import_meta_env_default$7.VUE_APP_NAME])==null?void 0:ot.STORE.ambient.appEnv)??"",appName:((nt=window[define_import_meta_env_default$7.VUE_APP_NAME])==null?void 0:nt.STORE.ambient.appName)??"",appEmail:((rt=window[define_import_meta_env_default$7.VUE_APP_NAME])==null?void 0:rt.STORE.ambient.appEmail)??"",appDebug:((it=window[define_import_meta_env_default$7.VUE_APP_NAME])==null?void 0:it.STORE.ambient.appDebug)??!1,test:((lt=window[define_import_meta_env_default$7.VUE_APP_NAME])==null?void 0:lt.STORE.ambient.test)??!1,systemPackageVersions:((st=window[define_import_meta_env_default$7.VUE_APP_NAME])==null?void 0:st.STORE.ambient.systemPackageVersions)??{}},getters$2={isHot:e=>e.isHot,appName:e=>e.appName,appEmail:e=>e.appEmail,appEnv:e=>e.appEnv,appDebug:e=>e.appDebug,versions:e=>e.systemPackageVersions},mutations$2={},ambient={state:state$3,getters:getters$2,mutations:mutations$2},state$2={},getters$1={[CACHE.GET_CACHE]:e=>a=>e[a]??null,[CACHE.GET_LAST_CACHE]:e=>a=>e[a]?Array.isArray(e[a])?lodash.last(e[a]):e[a]:null},mutations$1={[CACHE.PUT_CACHE](e,a){const{key:o,value:r}=a;e[o]=r},[CACHE.PUSH_CACHE](e,a){const{key:o,value:r}=a;e[o]?Array.isArray(e[o])||(e[o]=[e[o]]):e[o]=[],e[o]=[...e[o],r]},[CACHE.FORGET_CACHE](e,a){delete e[a]}},cache={state:state$2,getters:getters$1,mutations:mutations$1},store=createStore({modules:{ambient,user,alert:alert$1,config,language,mediaLibrary,browser,cache}});var define_import_meta_env_default$6={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const getTranslationLanguages=e=>map(window[define_import_meta_env_default$6.VUE_APP_NAME].STORE.languages.all,"value"),formatHelpers={handlers:(e,a,o=null)=>{const r=e.name,i=e.name,n=e.key??e.name,l=e;let s=__data_get(a,isNaN(parseInt(o))?i:`${o}.${i}`);return!s&&__isset(l.parentName)&&(s=__data_get(a,isNaN(o)?`${l.parentName}.${i}`:`${o}.${l.parentName}.${i}`)),{handlerName:r,handlerModelName:i,handlerSchemaName:n,handlerSchema:l,handlerValue:s}},getInputToFormat:(e,a,o,r,i)=>{let n=e.shift(),l=[],s=n.split("."),c=parseInt(s[0]);if(isNaN(c))c=i;else if(!Array.isArray(a))return!1;return Array.isArray(a)&&(isNaN(c)||(c-=1,s.shift()),l.push(`[${c}]`)),n=s.join("."),l.push(n),l.join(".")},getNewValue:(e,a,o)=>{let r;if(a){let i=[],n=__wildcard_change(e,a);i=__data_get(o,n,null),Array.isArray(i)&&i.length>0?r=i.shift():i!=null&&(r=i)}return r}};async function formatClearModel(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;formatHelpers.handlers(r,a,i);let s=lodash.get(o,l),c=(s==null?void 0:s.default)??[];lodash.set(a,l,c),lodash.get(n,l)&&lodash.unset(n,l)}async function formatFilter(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;let{handlerName:s,handlerModelName:c,handlerSchema:u,handlerValue:f}=formatHelpers.handlers(r,a,i);const p=e.shift(),m=e.shift();let g,y,h;f[m]?(h=f[m],g=r.filterEndpoint[h],y=f[p]):(h=c,g=r.filterEndpoint,y=f);let v=`${l}.${p}`,C=lodash.get(o,`${l}.eagers`)??[],b=lodash.get(o,`${l}.lazy`)??[];lodash.get(o,v)||lodash.set(o,v,[]);let S=lodash.cloneDeep(lodash.get(o,v));for(const k in S)y.includes(S[k].id)||S.splice(k,1);for(const k in y){const B=y[k];if(!S.find(w=>w.id==B))try{let w={};b.length>0&&(w.lazy=b),C.length>0&&(w.eagers=C);let N=await axios.get(g.replace(`{${lodash.snakeCase(h)}}`,B),{params:w});S.push(N.data)}catch(w){console.error("An error occurred:",w),w.response?globalError("",{message:"formatFilter error",value:w}):w.request?console.error("No response received:",w.request):console.error("Error message:",w.message)}}lodash.set(o,v,lodash.orderBy(S,["id"],["asc"]))}async function formatLock(e,a,o,r,i=null,n=[]){var p;const l=r.name,s=o[l],c=a[l];Array.isArray(c)&&c.length>0||Array.isArray(c);const u=e.shift(),f=e.shift();if(["select","combobox"].includes(s.type)&&c){const m=(p=s.items.find(g=>g[s.itemValue]===c))==null?void 0:p[f];o[u].disabled=!!m,o[u].focused=!!m,o[u].placeHolder=m}else if(["text"].includes(s.type)&&_field){const m=_field,[g,y]=u.split(".");o[g].schema[y].disabled=!!m,o[g].schema[y].focused=!!m,o[g].schema[y].placeHolder=m}}async function formatPermalink(e,a,o,r,i=null,n=[]){const l=r.name;o[l];const s=a[l],c=Array.isArray(s)&&s.length>0||!Array.isArray(s)&&!!s,u=e.shift();c&&(a[u]=filters.slugify(s))}async function formatPermalinkPrefix(e,a,o,r,i=null,n=[]){const l=r.name,s=o[l],c=a[l],u=Array.isArray(c)&&c.length>0||!Array.isArray(c)&&!!c,f=e.shift(),p=e.shift();if(["select","combobox"].includes(s.type)&&c&&u){const m=filters.slugify(s.items.find(g=>g[s.itemValue]===c)[s.itemTitle]);o[f??"slug"].prefix=o[f??"slug"].prefixFormat.replace(":"+p,m)}else if(["text"].includes(s.type)&&u){const m=filters.slugify(value),[g,y]=f.split(".");o[g].schema[y??"slug"].prefix=o[g].schema[y??"slug"].prefixFormat.replace(":"+p,m)}}const variablePattern=/\${([^}]+)}\$/g,searchInData=(e,a)=>{const o=[];if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a!="string"||a.startsWith("regex:"))return o;const r=a.split("."),i=(n,l,s=[],c=0,u=null)=>{if(Array.isArray(n))n.forEach((f,p)=>{i(f,l,[...s,p],c,u)});else if(typeof n=="object"&&n!==null){const f=n._title||null;for(const[p,m]of Object.entries(n)){const g=[...s,p];p==="_value"?i(m,l,g,c,f):p===r[c]&&(c===r.length-1?o.push(formatResult(l,g,m,f,u)):i(m,l,g,c+1,f))}}};return e.forEach((n,l)=>i(n,l)),o},formatResult=(e,a,o,r,i)=>{const n=[e,...a].join("."),l={dataIndex:e,notation:n,value:o};return r!==null&&(l.title=r),i!==null&&(l.parentTitle=i),l},findMatchingNotations=(e,a)=>{if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a=="string"&&a.startsWith("regex:")){const o=a.replace("regex:","").replace("content.",""),r=new RegExp(o),i=[];for(const n of e)n.content&&Object.entries(n.content).forEach(([l,s])=>{r.test(l)&&i.push({key:l,value:s})});return i}return searchInData(e,a)},formattedPreview=(e,a)=>{const o=[],r=(u,f={})=>{const{titleKey:p="_title",valueKey:m="_value",pickKeys:g=[],mapArrayItems:y=!0,nested:h=!1,includeTitle:v=!0,col:C=6}=f;if(!u)return null;if(Array.isArray(u[m]))return y?[v?u[p]:null,u[m].map(b=>b[p]),C].filter(Boolean):[u[p],u[m],C];if(g.length>0){const b=g.map(S=>u[S]).filter(Boolean);return b.length?[u[p],...b,C]:null}return[v?u[p]:null,u[m],C].filter(Boolean)},i=(u,f)=>{typeof f=="object"&&f.pattern&&(f=f.pattern);const p=c(f);if(!p.length)return"";if(p[0].startsWith("regex:")){const m=[];for(const g of u)for(const[y,h]of Object.entries(g))typeof h=="object"&&h!==null&&Object.keys(h).some(C=>s(p[0],C))&&m.push(y);return m.length?m:""}for(const m of u)for(const[g,y]of Object.entries(m))if(typeof y=="object"&&y!==null&&p[0]in y)return g;return""},n=(u,f=6)=>(u.col||(u.col=f),u),l=(u=0)=>`section_${u+1}`,s=(u,f)=>{if(typeof u!="string")return!1;if(u.startsWith("regex:")){const p=u.replace("regex:","");return new RegExp(p).test(f)}return u===f},c=u=>(typeof u=="object"&&u.pattern&&(u=u.pattern),typeof u!="string"?[]:u.startsWith("regex:")?["content",u.includes("content.")?u.replace("regex:content.","regex:"):u]:u.split("."));for(const u of a)if(typeof u=="string"||typeof u=="object"&&u.pattern){const f=typeof u=="string"?u:u.pattern,p={col:6,...typeof u=="object"?u:{}},m=f.endsWith(".*"),g=findMatchingNotations(e,m?f.slice(0,-2):f);if(g.length>0)if(m&&g[0].value._value)if(!p.includeOverview)g[0].value._value.forEach((y,h)=>{const v=Object.entries(y).filter(([C])=>!C.startsWith("_")).map(([C,b])=>Array.isArray(b._value)&&p.mapArrayItems===!1?[b._title,b._value]:r(b,p)).filter(Boolean);if(v.length>0)if(p.outputFormat==="object"){const C={};v.forEach(([b,S])=>{C[b]=S}),o.push(n({title:y._title,items:p.nested?{[l(h)]:C}:C},p.col))}else o.push(n({title:y._title,items:p.nested?[v]:v},p.col))});else{const y=r(g[0].value,{...p,mapArrayItems:!0});y&&o.push(n({title:y[0],items:[y[1]]},p.col))}else{const y=g.map(h=>r(h.value,p)).filter(Boolean);y.length>0&&o.push(n({items:y},p.col))}}else if(Array.isArray(u)){const f=[],p={col:6};for(const m of u)findMatchingNotations(e,m).forEach(y=>{if(y.value._value){const h=r(y.value,p);f.push([h[0],h[1]])}});f.length>0&&o.push(n({items:f},p.col))}else if(typeof u=="object"&&u.items){const f={title:u.title,items:u.outputFormat==="object"?{}:[],col:u.col||6};u.col&&(f.col=u.col),u.items.forEach((p,m)=>{if(typeof p=="object")if(Array.isArray(p)){const g={};for(const y of p){const h=i(e,y),v=h?`${h}.${y}`:y;findMatchingNotations(e,v).forEach(b=>{if(b.value){const S=b.value._title,k=b.value._value;k&&(g[S]=k)}})}Object.keys(g).length>0&&(u.nested?f.items[l(m)]=g:Object.assign(f.items,g))}else{const g=p.pattern;if(g.startsWith("regex:")){const y=findMatchingNotations(e,g),h={};y.forEach(v=>{v.value&&v.value._value&&(p.simpleValue?h[v.key]=v.value._value:h[v.value._title]=v.value._value)}),Object.keys(h).length>0&&(u.nested?f.items[l(m)]=h:Object.assign(f.items,h))}else{const y=i(e,g);if(Array.isArray(y))y.forEach((h,v)=>{findMatchingNotations(e,g).forEach(b=>{var k;const S=(k=e.find(B=>B.content))==null?void 0:k[b.key];if(S&&S._value)if(p.simpleValue)u.nested?f.items[l(v)]=S._value:f.items[`content_${v+1}`]=S._value;else{const B={[S._title]:S._value};u.nested?f.items[l(v)]=B:Object.assign(f.items,B)}})});else{const h=p.pattern,v=i(e,h),C=v?`${v}.${h}`:h;findMatchingNotations(e,C).forEach(S=>{if(S.value&&S.value._value)if(p.simpleValue)u.nested?f.items[l(m)]=S.value._value:f.items=S.value._value;else{const k={[S.value._title]:S.value._value};u.nested?f.items[l(m)]=k:Object.assign(f.items,k)}})}}}else{const g=i(e,p),y=g?`${g}.${p}`:p,h=findMatchingNotations(e,y);u.outputFormat==="object"?h.forEach(v=>{if(v.value._value){const C=v.value._value;u.nested?f.items[l(m)]={[v.value._title]:C}:f.items[v.value._title]=C}}):h.forEach(v=>{v.value._value&&f.items.push([v.value._value])})}}),(Array.isArray(f.items)&&f.items.length>0||!Array.isArray(f.items)&&Object.keys(f.items).length>0)&&o.push(n(f,u.col))}return o},formattedSummary=(e,a)=>{let o={};for(const r in a){const i=a[r],n=findMatchingNotations(e,r);o[r]=Object.assign({},i,{values:n})}return o},test=()=>{};function replacePatternInObject(e,a,o){return!e||typeof e!="object"?e:Object.keys(e).reduce((r,i)=>{const n=e[i];return typeof n=="string"?r[i]=n.replace(a,o):Array.isArray(n)?r[i]=n.map(l=>replacePatternInObject(l,a,o)):typeof n=="object"?r[i]=replacePatternInObject(n,a,o):r[i]=n,r},{})}function isMatchingPattern(e){return variablePattern.test(e)}function replaceCallback(e,a,o){let r=o.split("??"),i=r[0].split("|"),n=r[1]??"";for(const l of i){let s=__data_get(e,l,!1);if(s)return s}return n}function replacePattern(e,a){const o=e.match(/^\${([^}]+)}\$$/);if(o){const r=o[1];return replaceCallback(a,o[0],r)}return e.replace(variablePattern,(r,i)=>{const n=replaceCallback(a,r,i);return Array.isArray(n)?n.join(", "):typeof n=="object"&&n!==null?JSON.stringify(n):n})}function replaceVariablesFromHaystack(e,a){return!e||typeof e!="object"?e:Object.keys(e).reduce((o,r)=>{const i=e[r];return typeof i=="string"?o[r]=i.replace(variablePattern,replaceCallback.bind(null,a)):Array.isArray(i)?o[r]=i.map(n=>replaceVariablesFromHaystack(n,a)):typeof i=="object"?o[r]=replaceVariablesFromHaystack(i,a):o[r]=i,o},{})}const NotationUtil={findMatchingNotations,formattedPreview,formattedSummary,test,replacePatternInObject,replaceVariablesFromHaystack};async function formatPrependSchema(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;const s=e.shift(),c=e.shift(),u=e.shift()=="true";let{handlerName:f,handlerSchema:p,handlerValue:m}=formatHelpers.handlers(r,a,i);if(__isObject(m)&&(m=Object.values(m)),!(Array.isArray(m)&&m.length<1)&&m){s&&(m=__data_get(m,s),s.match(/^\*(.*)/)&&(m=lodash.reduce(m,function(v,C){return v=[...C??[],...v],[...new Set(v)]},[])));let g=lodash.get(o,l);if(!g||!g.schema)return;let y=lodash.cloneDeep(g.schema),h=__data_get(p,c);if(h&&__isset(h.schema)){let v=[],C;if(Array.isArray(m)){if(!h.items)return;v=lodash.reduce(m,(I,F)=>(I[F]=lodash.find(h.items,D=>D.id==F),I),{}),m=lodash.reduce(m,(I,F)=>{var D;return I[F]={label_prefix:(D=__data_get(h.items,`*id=${F}.${h.itemTitle}`))==null?void 0:D.shift()},I},{})}let b=lodash.cloneDeep({}),S=lodash.get(o,l+"._prependedKeys",[]),k=[];for(const I in h.schema){__preg_quote(I);for(const F in m){let D=lodash.cloneDeep(h.schema[I]);C=v[F];let M=/(\${[\w]+}\$)/,P=I.replace(M,F);k.push(P),y[P]||(b[P]={...D,name:P},b[P]=replaceVariablesFromHaystack(b[P],C))}}let B=S.filter(I=>!k.includes(I));B.forEach(I=>{delete y[I]});let w=k.filter(I=>!B.includes(I));u&&(w=w.sort((I,F)=>{const D=parseInt(I.match(/^(\d+)/)[1]),M=parseInt(F.match(/^(\d+)/)[1]);return D-M}),b=w.reduce((I,F)=>(I[F]=b[F],I),{}));let N=Object.assign(b,y);JSON.stringify(g.schema)!==JSON.stringify(N)&&(lodash.set(o,l+".schema",N),lodash.set(o,l+"._prependedKeys",w))}}}async function formatPreview(e,a,o,r,i=null,n=[]){if(Array.isArray(a)){let{handlerName:l,handlerSchema:s,handlerValue:c}=formatHelpers.handlers(r,a,i),u=e.shift().split(","),f=(e.shift()??"").split(","),p={},m=[],g=u.length>1,y=!1;for(const h in u){let v=u[h],C=f[h]??null,b=v.split(".");b=lodash.map(b,function(B,w){let N,I=B;return(N=B.match(/\$(\w+)/))&&__isset(c[N[1]])&&(I=c[N[1]]),I}),v=b.join(".");let S,k=C.match(/\*\.?(\w+)/);if(C=="*key")S=Object.keys(c).map(function(B){return parseInt(B)});else if(k){let w=C.match(/\*\.?(\w+)/)[1];S=lodash.map(c,function(N,I){return N[w]})}else S=C?c[C]:c;if(Array.isArray(S))if(h==0){y=S.length<1;let B=v.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,"$1*");p[B]=lodash.map(S,N=>v.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,`$1*id=${N}`));let w=__data_get(s,__wildcard_change(v,S));lodash.each(w,(N,I)=>y?lodash.unset(m,g?`[${I}][${h}]`:`[${I}]`):lodash.set(m,g?`[${I}][${h}]`:`[${I}]`,N))}else{let B;Object.keys(p).forEach(w=>{let N=__preg_quote(w),I=new RegExp(String.raw`^(${N}).([\w\$\.\*]+)`),F=v.match(I);if(F)return B=p[w],v=F[2],!1}),lodash.each(S,(w,N)=>{if(w){if(Array.isArray(w)&&lodash.isEmpty(w))return;let I=B[N];Array.isArray(w)&&w.join(",");let F=[I,__wildcard_change(v,w)].join("."),D=__data_get(s,F).shift();if(!D){console.warn("formatPreview error",{getter:F,inputToFormat:v,data:D,handlerSchema:s});return}let M=D[0]??"";h>1&&Array.isArray(D)&&(M=`(${D.join(", ")})`),lodash.set(m,g?`[${N}][${h}]`:`[${h}]`,M)}})}}n[i]||(n[i]={}),y?lodash.unset(n[i],l):n[i][l]=m;return}}async function formatRemoveValue(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;let{handlerName:s,handlerSchema:c,handlerValue:u}=formatHelpers.handlers(r,a,i);__isObject(u)&&(u=Object.values(u));let f=lodash.get(a,l);if(Array.isArray(f)&&f.length>0)f=f.filter(p=>p.id!==u),lodash.set(a,l,f);else if(window.__isObject(f)&&Object.keys(f).length>0){let p=Object.keys(f);p=p.map(g=>window.__isString(g)&&parseInt(g)>0?parseInt(g):g);let m=p.filter(g=>!u.includes(g));m.forEach(g=>{delete f[g]}),m.length>0&&lodash.set(a,l,f)}}async function formatResetItems(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;formatHelpers.handlers(r,a,i),lodash.get(o,l);let s=[];lodash.set(o,l+".items",s)}async function formatSet(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i),s=getTranslationLanguages();if(!l)return;const c=l,u=e.shift(),f=`${l}.${u}`,p=e.shift();let{handlerName:m,handlerSchema:g,handlerValue:y}=formatHelpers.handlers(r,a,i);if(!(Array.isArray(y)&&y.length<1)&&y){let h=formatHelpers.getNewValue(p,y,g);if(h!=null)if(u.match(/^(modelValue|model)$/g)){let C=lodash.get(o,c);if(C==null||C==null)return;let b=C.name,S=__extractForeignKey(b),k=C.schema??null,B=C.type=="input-repeater",w=Array.isArray(h);if(__isset(C.translated)&&C.translated){let N=notation.split("."),I=N.pop(),F=N.join(".")+".translations";notation.split(".").pop();let D=__data_get(g,F).shift();D&&(h=lodash.reduce(s,(M,P)=>{let E=lodash.find(D,V=>V.locale==P)??D[0];return E[I],M[P]=E[I]??null,M},{}))}if(w&&h.length>0){let N=h.map(I=>{if(k)return lodash.reduce(k,(F,D,M)=>(B&&M==S?F[S]=I.id??null:F[M]=I[M]??null,F),{})});lodash.set(a,c,N)}else if(!w)try{lodash.set(a,b,h)}catch(N){console.error(N)}}else{let C=lodash.get(o,f),b=store.getters[CACHE.GET_LAST_CACHE](f)??C;lodash.isString(h)&&h=="#"?h=b:h!==C&&store.commit(CACHE.PUSH_CACHE,{key:f,value:C}),lodash.set(o,f,h),u.match(/schema/)&&lodash.set(o,`${l}.default`,getModel(h))}}}async function formatToggleInput(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;const s=e.shift()??"items.*.toggleValue";let c=e.shift()??"-1";c=parseInt(c)??-1;let{handlerName:u,handlerSchema:f,handlerValue:p}=formatHelpers.handlers(r,a,i);if(p==null)return;let m=formatHelpers.getNewValue(s,p,f);if(m!=null&&lodash.isBoolean(m)){let g=m;const y=__data_get(o,l);let h=`formatToggleInput:${l}`;handleToggleInput(g,l,y,o,h,c)}}const toggleActivateOperations={class:"d-none",rawRules:"#"},toggleDeactivateOperations={class:"d-none",rawRules:""},handleToggleInput=(e,a,o,r,i,n=-1,l=0)=>{l+=1,e?lodash.each(toggleActivateOperations,(s,c)=>{let u=a+"."+c,f=a+"._cached-"+c,p=i?`${i}:${c}`:`${c}`,m=lodash.get(r,u),g=store.getters[CACHE.GET_LAST_CACHE](p)||lodash.get(r,f)||null,y=m,h=!1;if(s==="#")g&&(y=g,h=!0);else switch(c){case"class":let v=m?m.split(" "):[];v=v.filter(C=>C!==s),y=v.join(" "),h=!0;break;case"rawRules":y=s,h=!0;break}h&&(g==null&&store.commit(CACHE.PUSH_CACHE,{key:p,value:m}),lodash.set(r,u,y))}):lodash.each(toggleDeactivateOperations,(s,c)=>{let u=a+"."+c,f=a+"._cached-"+c,p=i?`${i}:${c}`:`${c}`,m=lodash.get(r,u),g=store.getters[CACHE.GET_LAST_CACHE](p)||lodash.get(r,f)||null,y=m,h=!1;if(s==="#")g&&(y=g,h=!0);else switch(c){case"class":let v=m?m.split(" "):[];v.push(s),v=lodash.uniq(v),y=v.join(" "),h=!0;break;case"rawRules":y=s,h=!0;break}h&&(g==null&&store.commit(CACHE.PUSH_CACHE,{key:p,value:m}),lodash.set(r,u,y))}),!(n>-1&&n<=l)&&o.schema&&lodash.isObject(o.schema)&&lodash.each(o.schema,(s,c)=>{handleToggleInput(e,`${a}.schema.${c}`,s,r,i,n,l)})},FormEventFormatters={formatClearModel,formatFilter,formatLock,formatPermalink,formatPermalinkPrefix,formatPrependSchema,formatPreview,formatRemoveValue,formatResetItems,formatSet,formatToggleInput},nonRunEventsOnCreate=["formatClearModel"],setSchemaInputField=(e,a)=>{var o;for(const r in e){const i=e[r],n=i.cascadeKey??"items";if(i.type==="select"&&Object.prototype.hasOwnProperty.call(i,"cascade")){if(r.includes("repeater"))break;__isset(e[i.cascade])&&(e[i.cascade][n]=((o=lodash.find(i[n],[i.itemValue,a[i.name]]))==null?void 0:o[n])??[])}}},onInputEventFormData=(e,a,o,r,i)=>{var n;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const l=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,s=e.schema.cascadeKey??"items",c=e.schema.itemValue??"id";a[l][s]=((n=lodash.find(e.schema[s],[c,i[e.key]]))==null?void 0:n.schema)??[];const u=lodash.findIndex(r,["key",l]);o[l]=a[l][s].length>0?a[l][s][0].value:[],r[u].value=i[l],onInputEventFormData(r[u],a,o,r,i)}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")},handleInputEvents=(e=null,a,o,r=null)=>{const i=a,n=a[r],l=o[r],s=Array.isArray(n)&&n.length>0||!Array.isArray(n)&&!!n;return e&&e.split("|").forEach(u=>{var g;const[f,p,m]=u.split(":");switch(f){case"formatPermalink":s&&(i[p]=filters.slugify(n));break;case"formatPermalinkPrefix":if(["select","combobox"].includes(l.type)&&n&&s){const y=filters.slugify(l.items.find(h=>h[l.itemValue]===n)[l.itemTitle]);o[p??"slug"].prefix=o[p??"slug"].prefixFormat.replace(":"+m,y)}else if(["text"].includes(l.type)&&s){const y=filters.slugify(n),[h,v]=p.split(".");o[h].schema[v??"slug"].prefix=o[h].schema[v??"slug"].prefixFormat.replace(":"+m,y)}break;case"formatLock":if(["select","combobox"].includes(l.type)&&n){const y=(g=l.items.find(h=>h[l.itemValue]===n))==null?void 0:g[m];o[p].disabled=!!y,o[p].focused=!!y,o[p].placeHolder=y}else if(["text"].includes(l.type)&&n){const y=n,[h,v]=p.split(".");o[h].schema[v].disabled=!!y,o[h].schema[v].focused=!!y,o[h].schema[v].placeHolder=y}break}}),{_fields:i,moduleSchema:o}},handleEvents=(e,a,o,r=!1)=>{const i=o.name;a[i];const n=e[i];Array.isArray(n)&&n.length>0||Array.isArray(n),o.event&&lodash.uniq(o.event.split("|")).forEach(s=>{let c=s.split(":"),u=c.shift(),f=!0;nonRunEventsOnCreate.includes(u)&&!r&&(f=!1),f&&typeof FormEventFormatters[u]<"u"&&(FormEventFormatters==null||FormEventFormatters[u](c,e,a,o))})},handleMultiFormEvents=(e,a,o,r,i=[])=>{const n=o.name;a[r][n]??lodash.get(a,`[${r}].${n}`);const l=e[r][n]??lodash.get(e,`[${r}].${n}`);Array.isArray(l)&&l.length>0||Array.isArray(l),o.event&&lodash.uniq(o.event.split("|")).forEach(c=>{let u=c.split(":"),f=u.shift();typeof FormEventFormatters[f]<"u"&&(FormEventFormatters==null||FormEventFormatters[f](u,e,a,o,r,i))})},formEvents={setSchemaInputField,onInputEventFormData,handleInputEvents,handleEvents,handleMultiFormEvents},getNestedValue=(e,a)=>a.split(".").reduce((o,r)=>o&&o[r]!==void 0?o[r]:void 0,e),checkItemConditions=(e,a)=>!a||!window.__isObject(a)||!e||!Array.isArray(e)||e.length===0?!0:e.every(o=>{const[r,i,n]=o;let l=getNestedValue(a,r);switch([">","<",">=","<=","=","=="].includes(i)&&Array.isArray(l)&&(l=l.length),i){case"=":case"==":return l===n;case"!=":return l!==n;case">":return l>n;case"<":return l<n;case">=":return l>=n;case"<=":return l<=n;case"in":return Array.isArray(n)&&n.includes(l);case"not in":return Array.isArray(n)&&!n.includes(l);case"exists":return l!=null;case"not exists":return l==null;default:return console.warn(`Unknown operator: ${i}`),!1}});var define_import_meta_env_default$5={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const isArrayable="input-treeview|treeview|input-checklist|input-repeater|input-file|input-image",getSchema=(e,a=null,o=!1)=>{let r=lodash.omitBy(e,(i,n)=>!checkItemConditions(i.conditions,a)||Object.prototype.hasOwnProperty.call(i,"slotable")||isFormEventInput(i)||isViewOnlyInput(i));return r=lodash.reduce(r,(i,n,l)=>{var p,m;let s=parseInt(l);!lodash.isNaN(s)&&n.name&&(l=n.name),n.col.class=n._originalClass||((p=n.col)==null?void 0:p.class)||[],n._originalClass=n.col.class||[],n.disabled=__isset(n._originalDisabled)?n._originalDisabled:__isset(n.disabled)?n.disabled:!1,n._originalDisabled=n.disabled;let c=((m=n.col)==null?void 0:m.class)||[];__isString(c)&&(c=c.split(" "));let u=n.creatable??!0,f=n.editable??!0;return(u===!1||u==="hidden")&&!o&&(u==="hidden"?(c=lodash.union(c,["d-none"]),n.col.class=c.join(" ")):n.disabled=!0),(f===!1||f==="hidden")&&o&&(f==="hidden"?(c=lodash.union(c,["d-none"]),n.col.class=c.join(" ")):n.disabled=!0),__isset(n)&&__isset(n.schema)&&["wrap","group","repeater","input-repeater"].includes(n.type)&&(n.schema=getSchema(n.schema,n.type==="wrap"?a:a[l],o)),n.creatable=u,n.editable=f,n.isEditing=o,i[l]=n,i},{}),lodash.map(r,(i,n)=>(__isset(i.type)&&i.type=="group"&&(i.schema=flattenGroupSchema(i.schema,i.name)),handleInputEvents(i.event,a,e,n),i)),r},getModel=(e,a=null,o=null)=>{const r=getTranslationLanguages(),i=__isset(a);e=processInputs(e);const n=Object.keys(e).reduce((l,s)=>{const c=e[s],u=c.name,f=Object.prototype.hasOwnProperty.call(c,"translated")&&c.translated;let p="";isArrayable.includes(c.type)&&(p=[]),p=Object.prototype.hasOwnProperty.call(c,"default")?c.default:p,c.type=="group"&&(p=getModel(c.schema,a??c.default)),f&&(p=lodash.reduce(r,function(y,h,v){return y[h]=p,y},{}));let m=u.replace(/->/g,"."),g=i?__isset(l[u])?l[u]:__data_get(a,m,p)??p:p;if(i){if(c.type=="group"&&__isset(a[u])){let y=Object.keys(lodash.omit(__dot(p),["id"]));JSON.stringify(y)!==JSON.stringify(Object.keys(lodash.omit(__dot(a[u]),["id"])))&&(g={...p,...lodash.pick(a[u],y)})}Object.prototype.hasOwnProperty.call(c,"connectedRelationship")&&lodash.isString(c.connectedRelationship)&&a&&__isset(a[c.connectedRelationship])&&(g=a[c.connectedRelationship])}if(__isObject(c))if(f)i?Object.prototype.hasOwnProperty.call(a,"translations")&&a.translations[u]?l[u]=r.reduce(function(h,v){return h[v]=lodash.find(a.translations,{locale:v})?lodash.find(a.translations,{locale:v})[u]:a.translations[u][v],h},{}):l[u]=g:l[u]=getTranslationLanguages().reduce(function(y,h){return y[h]=__isset(g[h])?g[h]:"",y},{});else if(!g&&i&&Object.prototype.hasOwnProperty.call(a,"translations")&&Object.prototype.hasOwnProperty.call(a.translations,u)){const y=Object.keys(a.translations[u])[0];l[u]=a.translations[u][y]}else l[u]=g;return c.type=="preview"&&__isset(c.previewKey)&&a&&__isset(a[c.previewKey])&&(l[u]=a[c.previewKey]),handleEvents(l,e,c),l},{});return i&&(n.id=a.id),n},getFormEventSchema=(e,a=null,o=!1)=>lodash.filter(e,r=>o&&__isset(r.editable)&&(r.editable===!1||r.editable==="hidden")||!o&&__isset(r.creatable)&&(r.creatable===!1||r.creatable==="hidden")?!1:isFormEventInput(r)&&(r.conditions?checkItemConditions(r.conditions,a):!0)),getSubmitFormData=(e,a=null,o=null)=>{e=processInputs(e);const r="input-treeview|treeview|input-checklist",i=Object.keys(e).reduce((n,l)=>{if(window.__isset(e[l].noSubmit)&&e[l].noSubmit)return n;const s=e[l],c=s.name,u=__data_get(a,c,void 0);if(!__isset(u)){let f=s.default??"";return r.includes(s.type)&&(f=[]),n[c]=f,n}return __isObject(s)&&(Object.prototype.hasOwnProperty.call(s,"translated")&&s.translated?n[c]=window[define_import_meta_env_default$5.VUE_APP_NAME].STORE.languages.all.reduce(function(f,p){return __isObject(u)?f[p.value]=__isset(u[p.value])?u[p.value]:"":f[p.value]=u,f},{}):n[c]=a[c]),n},{});return a.id&&(i.id=a.id),i};function useTableItem(e,a){const o=useStore(),r=computed(()=>o.state.form.editedItem??{}),i=computed(()=>c(r.value)),n=computed(()=>u(r.value)),l=f=>{o.commit(FORM.SET_EDITED_ITEM,f)},s=()=>{nextTick(()=>{o.commit(FORM.RESET_EDITED_ITEM)})},c=f=>!!(__isset(f.deleted_at)&&f.deleted_at),u=f=>!!(__isset(f.deleted_at)&&f.deleted_at);return{editedItem:r,isSoftDeletableItem:i,itemIsDeleted:n,setEditedItem:l,resetEditedItem:s,isSoftDeletable:c,isDeleted:u}}const makeTableNamesProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},subtitle:{type:String,default:""},formTitle:{type:String},formCreateTitleTranslationKey:{type:String,default:"fields.new-item"},formEditTitleTranslationKey:{type:String,default:"fields.edit-item"},formCreateTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},formEditTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},createFormTitle:{type:String},editFormTitle:{type:String},formSubtitle:{type:String},formCreateSubtitle:{type:String},formEditSubtitle:{type:String}});function useTableNames(e,a){const o=useStore(),{t:r,te:i}=useI18n({useScope:"global"}),{editedItem:n,isSoftDeletableItem:l}=useTableItem(),s=useModule(e),c=computed(()=>r(`modules.${s.snakeName.value}`,o.getters.totalElements)),u=computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:s.transNamePlural.value)),f=computed(()=>__isset(e.subtitle)?r(e.subtitle):""),p=computed(()=>{let y=a.editedIndex.value!==-1,h=e.formCreateTitleTranslationKey;y&&(h=e.formEditTitleTranslationKey),__isset(e.createFormTitle)&&(h=e.createFormTitle),__isset(e.editFormTitle)&&(h=e.editFormTitle);let v=y?e.formEditTitleInterpolations:e.formCreateTitleInterpolations;for(let C in v){let b=v[C];v[C]=__isset(s[v[C]])?s[v[C]].value:__isset(n.value[v[C]])?n.value[v[C]]:b}return i(h)?r(h,v):h}),m=computed(()=>{let y=e.formSubtitle,h=a.editedIndex.value!==-1;return __isset(e.formCreateSubtitle)&&!h&&(y=e.formCreateSubtitle),__isset(e.formEditSubtitle)&&h&&(y=e.editFormSubtitle),i(y)?r(y):y}),g=computed(()=>{const y=l.value?"fields.confirm-soft-deletion":"fields.confirm-deletion",h=n.value[e.titleKey]?lodash.isObject(n.value[e.titleKey])?n.value[e.titleKey][o.state.user.locale]:n.value[e.titleKey]:"";return r(y,{route:s.transNameSingular.value,name:h.toLocaleUpperCase()})});return{snakeName:s.snakeName,permissionName:s.permissionName,transNameSingular:s.transNameSingular,transNamePlural:s.transNamePlural,transNameCountable:c,tableTitle:u,tableSubtitle:f,deleteQuestion:g,formTitle:p,formSubtitle:m}}const makeTableFiltersProps=propsFactory({hideSearchField:{type:Boolean,default:!1},navActive:{type:String,default:"all"},filterBtnOptions:{type:Object,default:{}},searchInitialValue:{type:String,default:""},filterList:{type:Array,default:[]},filterListAdvanced:{type:Object,default:{}},hideFilters:{type:Boolean,default:!1},hideAdvancedFilters:{type:Boolean,default:!1},showMobileHeaders:{type:Boolean,default:!1}});function useTableFilters(e){var C;const{lastParameters:a,queryParameters:o}=useTableState(),r=ref(a.search??e.searchInitialValue??""),i=ref(r.value),n=ref(e.filterList??[]);let l=((C=a.filter)==null?void 0:C.status)??e.navActive??"all";n.value.length>0&&!lodash.find(n.value,{slug:l})&&(l="all");const s=ref(l),c=computed(()=>lodash.find(n.value,{slug:s.value})),u=computed(()=>{var b,S;return{text:`${(b=c.value)==null?void 0:b.name} (${(S=c.value)==null?void 0:S.number})`}}),f=b=>{let S=b??i.value;return r.value!==S?(r.value=S,!0):!1},p=b=>s.value!==b?(s.value=b,!0):!1,m=b=>{n.value=b},g=b=>{lodash.isEqual(y.value,b)||(y.value=b)},y=ref(e.filterListAdvanced??{}),h=computed(()=>Object.keys(y.value).reduce((b,S,k)=>(y.value[S].reduce((B,w)=>{var N;return((N=w.selecteds)==null?void 0:N.length)>0&&(B[S]||(B[S]={}),B[S][w.slug]=w.selecteds),B},b),b),{}));return{activeFilterSlug:s,activeFilter:c,mainFilters:n,search:r,searchModel:i,activeAdvancedFilters:h,advancedFilters:y,filterBtnTitle:u,setSearchValue:f,setFilterSlug:p,setMainFilters:m,setAdvancedFilters:g,clearAdvancedFilter:()=>{y.value=Object.fromEntries(Object.entries(y.value).map(([b,S])=>(y.value[b]=[],S.map(k=>k.selecteds=[]),[b,S])))}}}const makeTableHeadersProps=propsFactory({columns:{type:Array,default:()=>[]},hideHeaders:{type:Boolean,default:!1},headerOptions:{type:[Array,Object],default:{}},cellOptions:{type:[Array,Object],default:{}},customRow:{type:Object,default:{}}});function useTableHeaders(e){const a=()=>`table_unvisible_columns_${window.location.pathname}`,o=()=>{const y=localStorage.getItem(a());return y?y.split(","):[]},r=y=>{const h=s.value.findIndex(C=>C.key===y);s.value[h].visible=!1;const v=s.value.filter((C,b)=>!C.visible).map(C=>C.key);localStorage.setItem(a(),v.join(",")),l.value=lodash.cloneDeep(s.value.filter(C=>C.visible))};let i=o();const n=e.columns??[],l=ref(n.filter(y=>!i.includes(y.key))),s=ref(lodash.cloneDeep(n.map(y=>({...y,visible:!i.includes(y.key)})))),c=ref(!!lodash.find(l.value,y=>window.__isset(y.searchable)&&y.searchable===!0)),u=computed(()=>l.value.filter(y=>!!y.visible&&y.visible===!0)),f=computed(()=>Object.keys(e.customRow||{}).length>0),p=computed(()=>e.hideHeaders||f.value),m=computed(()=>n.filter(y=>y.hasOwnProperty("columnEditable")&&y.columnEditable===!0||y.hasOwnProperty("removable")&&y.removable===!0||y.hasOwnProperty("searchable")&&y.searchable===!0));return{headers:l,headersModel:s,hasSearchableHeader:c,selectedHeaders:u,hideHeaders:p,hasCustomRow:f,formattableHeaders:m,removeHeader:r,applyHeaders:()=>{l.value=lodash.cloneDeep(s.value);const y=s.value.filter((h,v)=>!h.visible);localStorage.setItem(a(),y.map(h=>h.key).join(","))}}}const makeTableFormsProps=propsFactory({inputFields:{type:Array,default:()=>[]},formWidth:{type:[String,Number],default:"60%"},createOnModal:{type:Boolean,default:!0},editOnModal:{type:Boolean,default:!0},embeddedForm:{type:Boolean,default:!1},addBtnOptions:{type:Object,default:()=>({})},noForm:{type:Boolean,default:!1},formActions:{type:[Array,Object],default:[]}});function useTableForms(e,a){const o=useStore(),{t:r}=useI18n({useScope:"global"}),{setEditedItem:i,resetEditedItem:n,editedItem:l}=useTableItem(),s=ref(null),c=ref(!1),u=ref(!1),f=ref({}),p=ref({}),m=ref({}),g=reactive({UeForm:s,formActive:c,customFormModalActive:u,customFormAttributes:f,customFormSchema:p,customFormModel:m}),y=computed(()=>e.inputFields??o.state.datatable.inputs??[]),h=computed(()=>state.id+"-form"),v=computed(()=>({width:e.formWidth})),C=computed(()=>o.state.form.loading??!1),b=computed(()=>o.state.form.errors??{}),S=computed(()=>{var F;return((F=s.value)==null?void 0:F.validModel)??null}),k=computed(()=>e.createOnModal||e.editOnModal?e.addBtnOptions.text?r(e.addBtnOptions.text):r("fields.add-item",{item:a.transNameSingular.value}):e.addBtnOptions.text??r("ADD NEW")),B=()=>{c.value=!0},w=()=>{c.value=!1},N=()=>{n(),B()},I=F=>{Object.prototype.hasOwnProperty.call(F,"variant")&&F.variant.toLowerCase()==="success"&&(w(),a.loadItems())};return watch$1(()=>c.value,F=>{F||n()}),{...toRefs(g),inputs:y,formRef:h,formStyles:v,formLoading:C,formErrors:b,formIsValid:S,addBtnTitle:k,openForm:B,closeForm:w,createForm:N,handleFormSubmission:I}}const component$1="FORM",api$1={get(e,a,o){axios$1.get(e).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component$1,{message:"Get request error.",value:r}),o&&typeof o=="function"&&o(r)})},post(e,a,o,r){axios$1.post(e,a,{validateStatus:i=>i>=200&&i<300||i===422}).then(function(i){o&&typeof o=="function"&&o(i)}).catch(function(i){globalError$1(component$1,{message:"Post request error.",value:i}),r&&typeof r=="function"&&r(i.response)})},put(e,a,o,r){axios$1.put(e,a,{validateStatus:i=>i>=200&&i<300||i===422}).then(function(i){o&&typeof o=="function"&&o(i)}).catch(function(i){globalError$1(component$1,{message:"Put request error.",value:i}),r&&typeof r=="function"&&r(i.response)})}};function useGenerate(e,a){const{smAndUp:o}=useDisplay(),r=computed(()=>{if(!e)return{};const n=i(e),l=n.icon||n.prependIcon||n.appendIcon||e.icon||e.prependIcon||e.appendIcon;return{...n,icon:l&&!o.value?l:n.icon,density:l&&!o.value?"compact":e.density??"comfortable",rounded:o.value?n.rounded:!0}}),i=n=>{var s;let l={};return n.href&&(l.onClick=c=>{c.preventDefault(),window.open(n.href,n.target??"_blank")}),{...n.componentProps??{},...l,icon:n.forceLabel?null:n.icon,text:n.forceLabel?n.label:null,color:n.color,variant:n.variant,density:n.density??"comfortable",size:n.size??"default",disabled:n.disabled??((s=n.componentProps)==null?void 0:s.disabled)??!1,rounded:n.forceLabel?null:!0}};return{generateButtonProps:i,generatedButtonProps:r}}const makeTableItemActionsProps=propsFactory({isRowEditing:Boolean,hideMobileActions:{type:Boolean,default:!1},rowActionsIcon:{type:String,default:"mdi-cog-outline"},rowActions:{type:[Array,Object],default:()=>[]},rowActionsType:{type:String,default:"inline"},iteratorType:{type:String,default:""}});function useTableItemActions(e,{tableForms:a,loadItems:o}){const r=useTableItem(),i=useTableNames(e),{can:n}=useAuthorization(),l=useDynamicModal(),{castObjectAttributes:s}=useCastAttributes();useGenerate();const{xs:c,smAndDown:u,mdAndDown:f,lgAndDown:p,xlAndDown:m}=useDisplay(),g=reactive({event:null,payload:null,reset:()=>{g.event=null,g.payload=null}}),y=(V,A)=>{let $=!0;switch(A.name){case"edit":case"delete":case"switch":case"duplicate":case"activate":$=!r.isDeleted(V)&&n(A.name,i.permissionName.value);break;case"forceDelete":case"restore":$=r.isDeleted(V)&&n(A.name,i.permissionName.value);break}return $&&checkItemConditions(A.conditions,V)},h=async(V,A)=>{let $=A.url??A.endpoint??A.href;if($)if($.includes(":id")&&($=$.replace(":id",V.id)),A.hasDialog){const z=async(U,O)=>{window.open($,A.target??"_self")};g.event="dialog",g.payload={description:A.dialogQuestion??null,callback:z}}else window.open($,A.target??"_self");A.modalService&&lodash.isObject(A.modalService)&&l.open(A.modalService.component??null,lodash.omit(s(A.modalService,V),["component"]))},v=V=>{if(e.editOnModal||e.embeddedForm)r.setEditedItem(V),a.openForm();else if(lodash.isObject(e.endpoints)&&e.endpoints.edit){const A=e.endpoints.edit.replace(":id",V.id);window.open(A)}else console.error("No edit endpoint found in endpoints of props")},C=V=>{r.setEditedItem(V);const A="restore",$=async(z,U)=>await api$2[A](e.endpoints[A],V.id,z,U);g.event="process",g.payload={type:A,item:V,callback:$}},b=V=>{r.setEditedItem(lodash.omit(V,"id")),a.openForm()},S=(V,A,$)=>{const z="publish",U=async(O,x)=>{let R={id:V.id,[$]:A};return await api$1.put(e.endpoints.update.replace(":id",V.id),R,O,x)};V[$]=A,g.event="process",g.payload={type:z,item:V,callback:U}},k=V=>{r.setEditedItem(V);let A=r.editedItem.value.id,$=r.isSoftDeletableItem.value?"forceDelete":"delete";const z=async(U,O)=>$==="forceDelete"?await api$2.forceDelete(e.endpoints.forceDelete,A,U,O):await api$2.delete(e.endpoints.destroy,A,U,O);g.event="dialog",g.payload={type:$,id:A,callback:z}},B=V=>{const A=V.name,$=async(z,U,O)=>{let x=lodash.camelCase(A);if(api$2[x])return await api$2[x](e.endpoints[x],z,U,O)};g.event="dialog",g.payload={type:A,callback:$}},w=(V,A)=>{if(a.customFormSchema.value=lodash.cloneDeep(V.form.attributes.schema),a.customFormAttributes.value=lodash.cloneDeep(V.form.attributes),V.form.hasOwnProperty("model_formatter"))for(let $ in V.form.model_formatter){let z=lodash.get(A,V.form.model_formatter[$],"");lodash.set(a.customFormModel.value,$,z)}if(V.form.hasOwnProperty("schema_formatter"))for(let $ in V.form.schema_formatter){let z=lodash.get(A,V.form.schema_formatter[$],"");lodash.set(a.customFormAttributes.value.schema,$,z)}a.customFormModalActive.value=!0,g.event="showCustomForm",g.payload={action:V,item:A}},N=(V,A=null)=>{if(!A)return V;if(Array.isArray(V))V=V.map($=>N($,A));else if(__isObject(V)){if(Array.isArray(A))A.forEach($=>{__data_get(V,$,null)});else if(__isObject(A)){let $={};Object.keys(A).forEach(z=>{let U=A[z],O=__data_get(V,z,null);$[U]=O}),V=lodash.cloneDeep($)}}return V},I=(V,A=null)=>{if(!A)return V;if(Array.isArray(V))V=V.map($=>I($,A));else if(__isObject(V)&&Array.isArray(A)){let $=lodash.cloneDeep(V);A.forEach(z=>{__data_get(V,z,null),delete $[z]}),V=lodash.cloneDeep($)}return V},F=(V,A)=>{let $=null;V.show===!0?$=A:$=__data_get(A,V.show,null),$&&(V.only?$=N($,V==null?void 0:V.only):V.except&&($=I($,V==null?void 0:V.except)),g.event="showData",g.payload={action:V,data:$})},D=(V,A)=>{let $=null,z=null,U=null;if(lodash.isArray(V)?($=V[0],z=V[1]):lodash.isObject(V)&&($=V.type,z=V.payload,U=V.conditions),!!checkItemConditions(U,A)){if($==="post")e.endpoints.store;else if($==="put"&&e.endpoints.update&&A&&A.id)return api$1.put(e.endpoints.update.replace(":id",A.id),s(z,A),function(O){O.status===200&&O.data.variant==="success"&&o()},function(O){console.error(O)})}},M=(V,A)=>{V.preProcesses&&V.preProcesses.forEach($=>{D($,A)})},P=(V=null,A=null,...$)=>{const z=__isString(A)?{name:A}:A;switch(M(z,V),z.name){case"edit":v(V);break;case"delete":case"forceDelete":k(V);break;case"restore":C(V);break;case"duplicate":b(V);break;case"link":let U=V.target??z.target??"_blank";["_self","_blank","_parent","_top"].includes(U)||(U="_blank");let O=V.href??(z.url?z.url.replace(":id",V.id):e.endpoints.show?e.endpoints.show.replace(":id",V.id):null);if(!O){console.error("No link found in item or action",V,z);return}window.open(O,U);break;case"switch":S(V,$[0],$[1]);break;case"activate":state.activeTableItem=lodash.find(state.elements,{id:V.id});break;case"bulkDelete":case"bulkForceDelete":case"bulkRestore":case"bulkPublish":B(z);break;default:h(V,z);break}z.form&&w(z,V),z.show&&F(z,V)},E=reactive({actionShowingType:computed(()=>{const V=$=>$>6?m.value:$>5?p.value:$>4?f.value:$>3?u.value:$>2?c.value:!1;let A=0;return lodash.isArray(e.rowActions)?A=e.rowActions.length:lodash.isObject(e.rowActions)&&(A=Object.keys(e.rowActions).length),e.rowActionsType==="dropdown"||V(A)?"dropdown":"inline"}),visibleRowActions:computed(()=>{let V=e.rowActions;return lodash.isObject(e.rowActions)&&!lodash.isArray(e.rowActions)&&(V=Object.values(e.rowActions)),V.reduce((A,$)=>{if(Object.prototype.hasOwnProperty.call($,"href"))return console.error("href is not supported in row actions",$),A;let z="v-icon",U={},O=!0,x=$.icon?$.icon:"$"+$.name,R=$.iconColor??$.color??"primary";return __isset($.is)&&$.is==="v-btn"?(z="v-btn",O=!1,U={variant:"plain",class:"pa-0 ma-2",...$.componentProps??{},color:$.color},$.icon&&(U.prependIcon=$.icon)):U={small:!0,class:"mr-2",...$.componentProps??{},color:$.color??"grey-darken-2"},$.componentProps=U,$.label=$.label??window.__headline($.name),A.push({...$,is:z,icon:x,iconColor:R,hasTooltip:O}),A},[])})});return{...toRefs(E),itemAction:P,itemHasAction:y,actionEvents:g}}const makeTableModalsProps=propsFactory({openCustomModal:{type:Boolean,default:!1}});function useTableModals(e,a){const o=useStore(),{t:r}=useI18n({useScope:"global"}),i=useTableItem(),n=useTableNames(e),l=ref(!1),s=ref(e.openCustomModal),c=ref(!1),u=ref("custom"),f=ref(null),p=ref(null),m=computed(()=>k.value[u.value]),g=()=>{s.value=!0},y=()=>{s.value=!1},h=()=>{o._state.data.datatable.customModal&&__removeQueryParams(["customModal[description]","customModal[color]","customModal[icon]","customModal[hideModalCancel]"])},v=B=>{u.value=B},C=()=>{k.custom.confirmText="",k.custom.cancelText="",k.custom.img="",k.custom.icon="",k.custom.iconSize=null,k.custom.title="",k.custom.color=""},b=async B=>{const w=lodash.camelCase(B.name);api$2[w]&&api$2[w](e.endpoints[w],i.editedItem.value.id,()=>{})},S=computed(()=>{var B;return r("confirm-action",{route:n.transNameSingular.value,action:r(((B=f.value)==null?void 0:B.name)??"")})}),k=ref({dialog:{ref:ref(null),active:!1,modalAttributes:{title:null,description:null,transition:"dialog-bottom-transition",widthType:"md",fullscreen:!1,persistent:!1,confirmText:r("Confirm"),cancelText:r("Cancel"),confirmClosing:!1,rejectClosing:!0,confirmCallback:null,rejectCallback:null},_oldModalAttributes:{},toggle(B=null){this.active=B??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},setConfirmCallback(B){B&&typeof B=="function"&&(this._oldModalAttributes.confirmCallback=this.modalAttributes.confirmCallback,this.modalAttributes.confirmCallback=B)},setRejectCallback(B){B&&typeof B=="function"&&(this._oldModalAttributes.rejectCallback=this.modalAttributes.rejectCallback,this.modalAttributes.rejectCallback=B)},setQuestion(B){this._oldModalAttributes.description=this.modalAttributes.description,this.modalAttributes.description=B},setTitle(B){this._oldModalAttributes.title=this.modalAttributes.title,this.modalAttributes.title=B},set(B){let w=Object.keys(B).reduce((I,F)=>(I[F]=B[F],I),{}),N=lodash.reduce(w,(I,F,D)=>{var M;return I[D]=F,(M=this._oldModalAttributes)[D]??(M[D]=lodash.cloneDeep(this.modalAttributes[D])),I},{});Object.assign(this.modalAttributes,N)},reset(){const B=this;lodash.each(this._oldModalAttributes,(w,N)=>{B.modalAttributes[N]=w}),this._oldModalAttributes={}}},custom:{content:computed(()=>o._state.data.datatable.customModal.description),confirmText:"Done",cancelText:" ",img:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-1024.png",icon:computed(()=>o._state.data.datatable.customModal.icon),iconSize:72,title:"Payment Complete",color:"success",closeAction(){y(),C()},confirmAction(){y(),C()}},show:{ref:ref(null),active:!1,data:null,transition:"dialog-bottom-transition",widthType:"lg",fullscreen:!1,persistent:!1,title:r("Display Details"),confirmText:r("Confirm"),cancelText:r("Cancel"),_old:{},toggle(B=null){this.active=B??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},set(B){let w=Object.keys(B).reduce((I,F)=>(this[F]!==void 0&&!["active","ref","data","_old"].includes(F)&&(I[F]=B[F]),I),{}),N=lodash.reduce(w,(I,F,D)=>(I[D]=F,this._old[D]=lodash.cloneDeep(this[D]),I),{});Object.assign(this,N)},loadData(B){this.data=B},resetData(){this.data=null},cancel(){this.toggle(!1),this.reset()},confirm(){},reset(){this.resetData(),lodash.each(this._old,(B,w)=>{this[w]=B}),this._old={}}}});return watch$1(()=>k.value.show.active,B=>{B||k.value.show.reset()}),onMounted(()=>{h()}),{deleteModalActive:l,customModalActive:s,actionModalActive:c,selectedAction:f,deleteModal:p,activeModal:m,modals:k,actionDialogQuestion:S,openCustomModal:g,closeCustomModal:y,cleanupModals:h,setModalType:v,bulkAction:b}}const makeTableIteratorProps=propsFactory({name:{type:String,default:""},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},item:{type:Object,default:{}},headers:{type:Object,default:{}},iteratorOptions:{type:Object,default:{}},rowActions:{type:Array,default:[]}}),tableIterableEmits=["click-action","edit-item"];function useTableIterator(e,a){const{itemHasAction:o}=useTableItemActions(e,a),r=reactive({id:Math.ceil(Math.random()*1e6)+" -iterator",headersWithKeys:computed(()=>{let l={};return Object.values(e.headers).forEach((s,c)=>{l[s.key]=s}),l})}),i=useFormatter(e,a,e.headers),n=reactive({canItemAction:function(l){return __isset(l.can)&&l.can,!0},isSoftDeletable(l){return!!(__isset(l.deleted_at)&&l.deleted_at)},itemAction:(l,s)=>a.emit("click-action",l,s),editItem:l=>{a.emit("edit-item",l)}});return{...toRefs(n),...toRefs(r),...i,itemHasAction:o}}const makeTableActionsProps=propsFactory({actionsPosition:{type:String,default:"top"},actions:{type:Array,default:()=>[]}});function useTableActions(e,a){return{}}function useTableState(e,a){const r=`table_filters_${window.location.pathname}`,i=["id","page","itemsPerPage","sortBy","groupBy","filter","replaceUrl"],n=["page","itemsPerPage","sortBy","groupBy","filter"],l=()=>{const f=new URL(window.location.href),p=Object.fromEntries(f.searchParams.entries());return Object.keys(p).forEach(m=>{const g=p[m];try{p[m]=JSON.parse(g)}catch{p[m]=g}}),p},s=()=>{const f=localStorage.getItem(r),p=l();return{...f?JSON.parse(f):{},...p}},c=f=>{const p=new URL(window.location.href),m=Object.fromEntries(p.searchParams.entries());let g=[];Object.keys(f).forEach(y=>{Object.prototype.hasOwnProperty.call(m,y)&&i.includes(y)&&g.push(y)}),g.length>0&&removeQueryKeys(g),localStorage.setItem(r,JSON.stringify(lodashExports.pick(f,n)))},u=reactive({lastParameters:s(),queryParameters:l()});return{getQueryParameters:l,getLastParameters:s,setLastParameters:c,...u}}const makeTableProps=propsFactory({elevation:{type:[Number,String]},rounded:{type:[Boolean,String]},tableElevation:{type:[Number,String]},tableRounded:{type:[Boolean,String]},fillHeight:{type:Boolean,default:!1},items:{type:Array},total:{type:Number,default:null},hideFooter:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!1},defaultTableOptions:{type:Object,default:()=>({itemsPerPage:10,page:1,search:"",sortBy:[],groupBy:[]})},itemsPerPageOptions:{type:Array,default:()=>[{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"50",value:50},{title:"100",value:100}]},tableOptions:{type:Object},tableClasses:{type:[String,Array],default:""},iteratorType:{type:String,default:""},slots:{type:Object,default(){return{}}},nestedData:{type:Object,default(){return{}}},striped:Boolean,hideBorderRow:Boolean,roundedRows:Boolean,fullWidthWrapper:{type:Boolean,default:!1},noFullScreen:{type:Boolean,default:!1},tableDensity:{type:String,default:"comfortable"},toolbarOptions:{type:Object,default:{}},bulkActions:{type:[Array,Object],default:[]},paginationOptions:{type:[Array,Object],default:{}},formAttributes:{type:Object,default:{}},formModalAttributes:{type:Object,default:{}},showSelect:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},controlsPosition:{type:String,default:"top"},disableSort:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!0},multiSort:{type:Boolean,default:!1},isModuleTable:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},noFetch:{type:Boolean,default:!1},isClickableRows:{type:Boolean,default:!1},clickableItemAttribute:{type:String,default:"href"},mobileBreakpoint:{type:[String,Number],default:"sm"}});function useTable(e,a){const o=useStore(),{smAndDown:r}=useDisplay(),{t:i,te:n,tm:l}=useI18n({useScope:"global"}),s=ref(-1);let c=ref(e.items??[]);const u=computed(()=>e.endpoints.index.replace(/\/$/,"").split("?")[0]===window.location.href.replace(/\/$/,"").split("?")[0]),{setLastParameters:f,lastParameters:p,getQueryParameters:m}=useTableState(),g=ref(null),y=ref(!1),h=ref(lodash.pick({...e.defaultTableOptions??{},...e.tableOptions??{},...u.value?p:{}},["itemsPerPage","page","sortBy","groupBy","search"]));watch$1(()=>r.value,(U,O)=>{U&&(h.value.itemsPerPage=Math.min(...e.itemsPerPageOptions.map(x=>x.value)))});const v=ref(e.total??-1),C=computed(()=>Math.ceil(v.value/(h.value.itemsPerPage??10))),b=U=>{c.value=U},S=U=>{c.value=c.value.push(U)},k=ref(!1),B=(U,O={})=>{v.value=U.resource.total,F.setMainFilters(U.mainFilters),A.options.page!==U.resource.current_page&&(k.value=!0,A.options.page=U.resource.current_page),A.enableInfiniteScroll?S(U.resource.data):b(U.resource.data),O.id&&V(O.id)},w=async(U=null)=>{if(e.noFetch)return;A.loading=!0;const O={...h.value,...U??{},replaceUrl:!1};if(F.search.value!==""&&(O.search=F.search.value),F.activeFilterSlug.value!=="all"&&(O.filter={...O.filter??{},status:F.activeFilterSlug.value}),lodash.isEmpty(F.activeAdvancedFilters.value)||(O.filter={...O.filter??{},...F.activeAdvancedFilters.value}),lodash.isObject(e.endpoints)&&e.endpoints.index){const x=m();await api$2.get(e.endpoints.index,O,function(R){u.value&&f(O),B(R,x),A.loading=!1},function(R){A.loading=!1,console.error(R)})}else console.error("No index endpoint found in endpoints of props")},N=useTableItem(),I=useTableNames(e,{editedIndex:s}),F=useTableFilters(e),D=useTableHeaders(e),M=useTableForms(e,{...a,...I,loadItems:w}),P=useTableModals(e),E=useTableItemActions(e,{...a,tableForms:M,loadItems:w}),V=U=>{const O=A.elements.find(x=>x.id==U);O&&E.itemAction(O,"edit")},A=reactive({id:Math.ceil(Math.random()*1e6)+"-table",isStoreTable:u,hideTable:!1,searchPlaceholder:i("Type to Search"),fillHeight:computed(()=>e.fillHeight),enableCustomFooter:computed(()=>e.paginationOptions.footerComponent==="vuePagination"),footerProps:computed(()=>{const U=e.paginationOptions.footerProps;return A.enableInfiniteScroll?{"hide-default-footer":!0}:U}),defaultPaginationButtonProps:{elevation:1,color:"grey-darken-5",class:"bg-surface",variant:"text",density:"compact",size:"small"},windowSize:{x:0,y:0},mobileTableLayout:computed(()=>r.value),loading:y,totalNumberOfElements:v,totalNumberOfPages:C,availablePages:computed(()=>Array.from({length:C.value},(U,O)=>O+1)),options:h,elements:c,editedIndex:s,selectedItems:[],activeTableItem:null,activeItemConfiguration:null,enableInfiniteScroll:computed(()=>e.paginationOptions.footerComponent==="infiniteScroll"&&v.value>c.value.length),draggableItems:computed(()=>A.elements.reduce((O,x,R)=>{const j={type:"item",key:R+1,value:x.id,index:R,selectable:e.showSelect,columns:D.headers.value.reduce((T,L)=>(T[L.key]=x[L.key],T),{})};return O[R]=j,O},[]))}),$=reactive({onResize(){e.noFullScreen||(A.windowSize={x:window.innerWidth,y:window.innerHeight})},onIntersect(U,O,x){U&&O[0].intersectionRatio===1&&$.goNextPage()},initialize:function(){const U=m(),O=lodash.pick(U,["id"]);e.noFetch||w(O)},goNextPage(){A.options.page<numberOfPages.value&&(A.options.page+=1)},goPreviousPage(){A.options.page>1&&(A.options.page-=1)},changeOptions(U){lodash.isEqual(U,A.options)||(A.options=U)},setEditedItem:N.setEditedItem,resetEditedItem:N.resetEditedItem,sortElements(U){lodash.isObject(e.endpoints)&&e.endpoints.reorder?api$2.reorder(e.endpoints.reorder,U.map(O=>O.id),function(O){O.status===200&&(U.forEach((x,R)=>x.position=R+1),A.elements=U)}):console.error("No reorder endpoint found in endpoints of props")},hydrateNestedData:function(U,O){const x=/\$([A-Za-z]+)/;for(const R in O)if(__isString(O[R])){const j=O[R].match(x);if(j){const T=j[1];A.snakeName===T?(O[R]=getSubmitFormData(O.schema,U,o.state),O.actionUrl&&(O.actionUrl=O.actionUrl.replace(`:${T}`,O[R].id))):U[T]&&(O[R]=getSubmitFormData(O.schema,U[T],o.state),O.actionUrl&&(O.actionUrl=O.actionUrl.replace(`:${T}`,O[R].id)))}}else(Array.isArray(O[R])||lodash.isObject(O[R]))&&(O[R]=$.hydrateNestedData(U,O[R]));return O},searchItems(U){F.setSearchValue()&&w()},changeFilter(U){F.setFilterSlug(U)&&(h.value.page=1,w())},changeAdvancedFilter(U){h.value.page=1,w()},resetAdvancedFilter(){F.clearAdvancedFilter(),h.value.page=1,w()},handleFormActionComplete(U){const O=U.action;U.response,O.type==="request"&&w(),O.type==="modal"&&w()}});watch$1(()=>N.editedItem.value,(U,O)=>{A.editedIndex=A.elements.findIndex(x=>x.id===U.id)}),watch$1(()=>A.activeTableItem,(U,O)=>{U&&(A.activeItemConfiguration=$.hydrateNestedData(U,JSON.parse(JSON.stringify(e.nestedData))))},{deep:!0}),watch$1(()=>A.options,(U,O)=>{k.value?k.value=!1:w()},{deep:!0}),watch$1(()=>A.elements,(U,O)=>{if(A.editedIndex>-1){let x=U[A.editedIndex];N.setEditedItem(x)}},{deep:!0}),watch$1(()=>E.actionEvents.event,U=>{if(U){const O=E.actionEvents.payload;let x=[],R=!1,j=!1,T=!1,L=!0;switch(U){case"dialog":if(O.callback&&typeof O.callback=="function"){R=P.modals.value.dialog;const K={confirmClosing:!1};switch(O.type){case"delete":case"forceDelete":K.description=I.deleteQuestion.value;break;case"bulkPublish":case"bulkDelete":case"bulkRestore":case"bulkDestroy":x.push(A.selectedItems);const W=`fields.confirm-${lodash.kebabCase(O.type)}`;K.description=i(W,{count:A.selectedItems.length,route:I.transNamePlural.value});break;default:K.description=O.description??i("Are you sure you want to perform this action?");break}P.modals.value.dialog.set(K)}break;case"process":O.callback&&typeof O.callback=="function"&&(j=!0),O.type==="publish"&&(L=!1,T=!0);break;case"showCustomForm":M.customFormModalActive.value=!0;break;case"showData":P.modals.value.show.loadData(O.data),P.modals.value.show.set(O.action),P.modals.value.show.open();break}let G=K=>{if(K.status===200){if(K.data.variant&&K.data.message&&o.dispatch(ACTIONS.SHOW_ALERT,K.data),w(),R)try{R.close(),R.reset()}catch{}L&&(N.resetEditedItem(),A.selectedItems=[]),T&&O.item&&N.setEditedItem(O.item)}};j&&(x.push(G),O.callback(...x)),R&&(x.push(G),R.setConfirmCallback(()=>O.callback(...x)),R.open()),E.actionEvents.reset()}},{immediate:!0});const z=useFormatter(e,a,D.selectedHeaders);return{form:g,...useTableActions(),...toRefs(A),...toRefs($),...I,...F,...D,...M,...E,...P,...z}}const makeModelValueProps=propsFactory({modelValue:[String,Number,Object,Boolean]}),makeActiveTableItemProps=propsFactory({...makeModelValueProps(),tableHeaders:{type:Array,default:[]},itemData:{type:Object,default(){return{}}}});function useActiveTableItem(e,a){const o=useProxiedModel(e,"modelValue"),r=computed({get:()=>o.value,set:l=>{o.value=l}}),i=reactive({modalOpened:!1,modalActive:!1,modalStatus:computed(()=>i.modalOpened&&!!r.value),activeKey:null,activeBlock:computed(()=>i.activeKey?e.itemData[i.activeKey]:null),items:computed(()=>r.value?[r.value]:[])}),n=reactive({selectNested:function(l){i.activeKey=l,a.emit("toggle",!0)},clickOutside:function(l){r.value=null,i.activeKey=null},closeItemDetails:function(l=""){i.modalActive=!0,i.activeKey=null,a.emit("toggle",!1)}});return watch$1(()=>r.value,(l,s)=>{i.modalActive=!!l&&l!==s}),watch$1(()=>i.activeKey,(l,s)=>{l&&(i.modalActive=!1)}),watch$1(()=>e.itemData,(l,s)=>{}),{item:r,...toRefs(i),...toRefs(n)}}function useValidation(e){const{valid:a}=toRefs(e),o=reactive({validModel:(a==null?void 0:a.value)??null}),r=reactive({minRule:(c,u)=>f=>!!f&&f.length>=c||u||`min. ${c} ${Array.isArray(f)?"Selections":"Characters"}`,maxRule:(c,u)=>f=>!f||f.length<=c||u||`max. ${c} ${Array.isArray(f)?"Selections":"Characters"}`,emailRule:(c={},u)=>f=>{if(!f)return!0;const{allowedDomains:p=[],blockedDomains:m=[],allowSubdomains:g=!0,minLength:y=3,maxLength:h=254,strict:v=!1}=c;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f))return u||"Invalid email format";if(v&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(f))return u||"Email contains invalid characters";const[b,S]=f.split("@");if(b.length<y)return u||`Email username must be at least ${y} characters`;if(f.length>h)return u||`Email cannot exceed ${h} characters`;if(p.length>0){const w=S.toLowerCase();if(!p.some(I=>g?w.endsWith(I.toLowerCase()):w===I.toLowerCase()))return u||`Email domain must be one of: ${p.join(", ")}`}if(m.length>0){const w=S.toLowerCase();if(m.some(I=>g?w.endsWith(I.toLowerCase()):w===I.toLowerCase()))return u||"Email domain not allowed"}const k={gmial:"gmail",gmal:"gmail",gamil:"gmail",yaho:"yahoo",ymail:"yahoo",hotmal:"hotmail",hotnail:"hotmail",outloo:"outlook"},B=S.split(".")[0].toLowerCase();return k[B]?u||`Did you mean ${k[B]}?`:!0},requiredRule:(c="classic",u=1,f,p)=>m=>{switch(c){case"classic":return!!m||p||"Required";case"array":case"object":f=f??-1;let g=u==f||f<0?`Requires exactly ${u} items`:`Requires at least ${u}${f!=1/0&&f!=null?", and maximum of:"+f:""}) elements`;return Array.isArray(m)?m.length>=u&&(f<0||m.length<=f)||p||g:__isObject(m)?Object.keys(m).length>=u&&(f<0||Object.keys(m).length<=f)||p||g:m==null?p||"Must select at least one item":"dev error: nsupported value type";default:return"dev error: unknown rule type"}},arrayRule:c=>u=>Array.isArray(u)||c||"Value must be array",numberRule:c=>u=>!isNaN(parseFloat(u))&&isFinite(u)||c||"Must be a valid number",integerRule:c=>u=>Number.isInteger(Number(u))||c||"Must be an integer",minValueRule:(c,u)=>f=>f==null||Number(f)>=c||u||`Must be at least ${c}`,maxValueRule:(c,u)=>f=>!f||Number(f)<=c||u||`Must not exceed ${c}`,phoneRule:c=>u=>!u||/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(u)||c||"Invalid phone number",urlRule:c=>u=>!u||/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(u)||c||"Invalid URL",alphaRule:c=>u=>!u||/^[A-Za-z]+$/.test(u)||c||"Only letters allowed",alphaNumRule:c=>u=>!u||/^[A-Za-z0-9]+$/.test(u)||c||"Only letters and numbers allowed",passwordRule:(c=8,u)=>f=>!f||/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{${minLength},}$/.test(f)||u||`Password must be at least ${c} characters, contain at least one letter and one number`,strongPasswordRule:(c=8,u)=>f=>!f||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{${minLength},}$/.test(f)||u||`Password must be at least ${c} characters, contain uppercase, lowercase, number and special character`,dateRule:c=>u=>!u||!isNaN(Date.parse(u))||c||"Invalid date format",futureDateRule:(c=0,u="days",f)=>p=>{if(!p)return!0;let m=new Date;m.setHours(0,0,0,0);const g=new Date(m);switch(lodash.isString(c)&&(c=parseInt(c)),u.toLowerCase()){case"minutes":g.setMinutes(m.getMinutes()+c);break;case"hours":g.setHours(m.getHours()+c);break;case"days":g.setDate(m.getDate()+c);break;case"months":g.setMonth(m.getMonth()+c);break;case"years":g.setFullYear(m.getFullYear()+c);break;default:g.setDate(m.getDate()+c)}return new Date(p)>=g||f||`Date must be at least ${c} ${u} in the future`},pastDateRule:(c=0,u="days",f)=>p=>{if(!p)return!0;const m=new Date,g=new Date(m);switch(u.toLowerCase()){case"minutes":g.setMinutes(m.getMinutes()-c);break;case"hours":g.setHours(m.getHours()-c);break;case"days":g.setDate(m.getDate()-c);break;case"months":g.setMonth(m.getMonth()-c);break;case"years":g.setFullYear(m.getFullYear()-c);break;default:g.setDate(m.getDate()-c)}return new Date(p)<=g||f||`Date must be at least ${c} ${u} in the past`},zipCodeRule:c=>u=>!u||/^\d{5}(-\d{4})?$/.test(u)||c||"Invalid ZIP code",ipAddressRule:c=>u=>!u||/^(\d{1,3}\.){3}\d{1,3}$/.test(u)||c||"Invalid IP address",fileTypeRule:(c,u)=>f=>{if(!f||!f.type)return!0;const p=Array.isArray(c)?c:[c];return p.includes(f.type)||u||`File type must be: ${p.join(", ")}`},fileSizeRule:(c,u)=>f=>!f||!f.size?!0:f.size<=c||u||`File size must not exceed ${c/1024/1024}MB`,equalsRule:(c,u)=>f=>f===c||u||`Must equal ${c}`,notEqualsRule:(c,u)=>f=>f!==c||u||`Must not equal ${c}`,matchesRule:(c,u)=>(f,p)=>f===p[c]||u||`Must match ${c}`,betweenRule:(c,u,f)=>p=>{if(!p)return!0;const m=Number(p);return m>=c&&m<=u||f||`Must be between ${c} and ${u}`},notBetweenRule:(c,u,f)=>p=>{if(!p)return!0;const m=Number(p);return m<c||m>u||f||`Must not be between ${c} and ${u}`},containsRule:(c,u)=>f=>!f||f.includes(c)||u||`Must contain "${c}"`,notContainsRule:(c,u)=>f=>!f||!f.includes(c)||u||`Must not contain "${c}"`,startsWithRule:(c,u)=>f=>!f||f.startsWith(c)||u||`Must start with "${c}"`,endsWithRule:(c,u)=>f=>!f||f.endsWith(c)||u||`Must end with "${c}"`,patternRule:(c,u)=>f=>!f||c.test(f)||u||"Invalid format",customFormatRule:(c,u)=>f=>{if(!f)return!0;const p={creditCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13})$/,ssn:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,rgb:/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,isbn:/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/},m=Array.isArray(c)?c:[c];return m.every(g=>p[g].test(f))||u||`Invalid ${m.join(" and ")} format`},uniqueRule:c=>u=>Array.isArray(u)?u.length===new Set(u).size||c||"Must contain unique values":!0,includesAnyRule:(c,u)=>f=>Array.isArray(f)?c.some(p=>f.includes(p))||u||`Must include at least one of: ${c.join(", ")}`:!0,includesAllRule:(c,u)=>f=>Array.isArray(f)?c.every(p=>f.includes(p))||u||`Must include all of: ${c.join(", ")}`:!0,whenRule:(c,u,f=[])=>(p,m)=>((typeof c=="function"?c(m):c)?u:f).every(y=>y(p,m)===!0)||"Conditional validation failed",dependentRule:(c,u,f)=>(p,m)=>m[c]?u.every(g=>g(p,m)===!0)||f||`Invalid based on ${c}`:!0,generateInputRules:i,validateInput:n});function i(c){let u=[];if(Object.prototype.hasOwnProperty.call(c,"rules")){let f=c.rawRules??c.rules,p;window.__isString(f)?p=f.split("|"):p=f,p.forEach((m,g)=>{window.__isString(m)&&(m=m.split(":"));const y=m[0]+"Rule";Object.prototype.hasOwnProperty.call(r,y)&&u.push(r[y](...m.slice(1)))})}return u}function n(c,u){let f=i(c),p=!0;for(const m in f){let g=f[m](u);if(g!==!0){p=g;break}}return p}function l(c){let u=cloneDeep(c),f=cloneDeep(c);return Object.prototype.hasOwnProperty.call(f,"rules")&&(u.rawRules=__isset(u.rawRules)?u.rawRules:f.rules,window.__isString(u.rawRules)?f.rules=u.rawRules.split("|"):f.rules=u.rawRules,u.rules=[],f.rules.forEach((p,m)=>{window.__isString(p)&&(p=p.split(":"));const g=p[0]+"Rule";Object.prototype.hasOwnProperty.call(r,g)&&u.rules.push(r[g](...p.slice(1)))})),__isset(u.schema)&&(u.schema=s(u.schema)),__isset(c.rawRules)||(u.rules=[],u.rawRules=""),u}function s(c){const u=cloneDeep(c);return __isObject(u)&&Object.keys(u).forEach(f=>{Object.prototype.hasOwnProperty.call(u[f],"rules")&&(c[f].rawRules=__isset(c[f].rawRules)?c[f].rawRules:u[f].rules,window.__isString(c[f].rawRules)?u[f].rules=c[f].rawRules.split("|"):u[f].rules=c[f].rawRules,c[f].rules=[],u[f].rules.forEach((p,m)=>{window.__isString(p)&&(p=p.split(":"));const g=p[0]+"Rule";Object.prototype.hasOwnProperty.call(r,g)&&c[f].rules.push(r[g](...p.slice(1)))})),__isset(c[f].schema)&&(c[f].schema=s(c[f].schema))}),c}return watch$1(()=>o.valid,(c,u)=>{}),{invokeRule:l,invokeRuleGenerator:s,...toRefs(r),...toRefs(o)}}const htmlClasses={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"},defaultWidths={xs:"320px",sm:"480px",md:"720px",lg:"1080px",xl:"1600px"},makeModalProps$1=propsFactory({modelValue:{type:Boolean},useModelValue:{type:Boolean,default:!0},title:{type:String,default:null},hasCloseButton:{type:Boolean,default:!1},hasFullscreenButton:{type:Boolean,default:!1},hasTitleDivider:{type:Boolean,default:!1},noDefaultBodyPadding:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},noCancelButton:{type:Boolean,default:!1},noConfirmButton:{type:Boolean,default:!1},description:{type:String,default:null},transition:{type:String,default:"bottom",values:["dialog-transition","dialog-bottom-transition","dialog-top-transition","fade-transition","scale-transition","slide-x-transition","slide-y-transition","slide-x-reverse-transition","slide-y-reverse-transition","scroll-x-transition","scroll-y-transition"]},widthType:{type:String,default:"md",validator:e=>Object.prototype.hasOwnProperty.call(defaultWidths,e)},hasSystembar:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},confirmCallback:{type:Function},rejectCallback:{type:Function},rejectLoading:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},rejectButtonAttributes:{type:Object,default:()=>({color:"error",variant:"outlined"})},confirmButtonAttributes:{type:Object,default:()=>({color:"success",variant:"elevated"})},confirmClosing:{type:Boolean,default:!0},rejectClosing:{type:Boolean,default:!0}}),makeModalMediaProps=propsFactory({modalTitlePrefix:{type:String,default:function(e){return useI18n().t("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return useI18n().t("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}}});function useModal(e,a){const{modelValue:o}=toRefs(e),r=ref(e.fullscreen),i=ref(!1),n=reactive({modalClass:htmlClasses.modal,width:e.widthType,full:r,dialog:computed({get:()=>e.useModelValue?o.value??!1:i.value,set:s=>{e.useModelValue?l.emitModelValue(s):i.value=s}}),togglePersistent:computed(()=>e.persistent),toggleScrollable:computed(()=>e.scrollable),modalWidth:computed(()=>e.widthType&&!r.value?defaultWidths[e.widthType]:null)}),l=reactive({emitModelValue:function(s){a.emit("update:modelValue",s)},emitOpened:function(){a.emit("opened",n.dialog)},clickOutside:function(s){a.emit("click:outside",s)},openModal:function(){return n.dialog=!0,n.dialog},closeModal:function(){return n.dialog=!1,n.dialog},toggleModal:function(){return n.dialog=!n.dialog,n.dialog}});return{...toRefs(l),...toRefs(n)}}const makeDraggableProps=propsFactory({draggable:{type:Boolean,default:!1},orderKey:{type:String,default:"position"}});function useDraggable(e,a){const o=reactive({animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30,dragOptions:computed(()=>({disabled:!e.draggable,animation:o.animation}))}),r=reactive({});return{...toRefs(r),...toRefs(o)}}const makeRepeaterProps=propsFactory({...makeInputProps(),modelValue:{type:Array,default:[]},max:{type:Number,default:-1},min:{type:Number,default:-1},label:{type:String,default:""},subtitle:{type:String},singularLabel:{type:String},schema:{type:Object,default:()=>{}},rowAttribute:{type:Object,default(){return{noGutters:!1}}},formRowAttribute:{type:Object,default(){return{noGutters:!1,class:"ml-12"}}},noAddButton:{type:Boolean,default:!1},addButtonText:{type:String,default(){return useI18n().t("ADD NEW")}},hasButtonLabel:{type:Boolean,default:!1},withGutter:{type:Boolean,default:!1},autoIdGenerator:{type:Boolean,default:!0},noHeaders:{type:Boolean,default:!1},isUnique:{type:Boolean,default:!1},uniqueValue:{type:String,default:"id"},uniqueField:{type:String,default:null},disableAddButton:{type:Boolean,default:!0},formCol:{type:Object,default:()=>({cols:12})},idResetter:{type:String,default:null},noWaitSourceLoading:{type:Boolean,default:!1}});function useRepeater(e,a){const o=useStore(),{invokeRuleGenerator:r}=useValidation(e),i=useInput(e,a),n=ref(e.schema),l=computed(()=>e.noHeaders?cloneDeep(n.value??{}):reduce(cloneDeep(n.value??{}),(w,N,I)=>(w[I]=omit(N,["label"]),w),{})),{modelValue:s}=toRefs(e),c=e.isUnique,u=e.uniqueValue,f=ref([]),p=computed(()=>c&&window.__isset(n.value)&&Object.keys(n.value).length>0?e.uniqueField??Object.values(n.value)[0].name:null),m=computed(()=>c&&window.__isset(n.value)&&Object.keys(n.value).length>0?n.value[p.value]:null);function g(w,N){const I=`repeater${i.id.value}`;return new RegExp(`^${I}\\[${w}\\]`).test(N)?N:`${I}[${w}][${N}]`}function y(w,N){const I=getModel(l.value,w),F={};return e.draggable&&!I[e.orderKey]&&(F[e.orderKey]=N+1),{...e.autoIdGenerator?{id:N}:{},...transform(omit(I,[]),(D,M,P)=>{D[g(N,P)]=M}),...F}}function h(w){return w.map((N,I)=>y(N,I))}function v(w){const N=[];return w.forEach((I,F)=>{const D=cloneDeep(l.value);if(c&&D[p.value]){const E=C(w[F])[p.value];D[p.value].items=m.value.items.filter(V=>!(f.value.includes(V[u])&&E!==V[u]))}const M=r(D);N[F]=transform(M,(P,E,V)=>{const A=cloneDeep(E),$=g(F,E.name);A.name=$,P[$]=A}),Object.keys(N[F]).forEach(P=>{var V;const E=N[F][P];if(Object.prototype.hasOwnProperty.call(E,"cascade")){const A=g(F,E.cascade);N[F][A][E.cascadeKey]=((V=find(E.items,[E.itemValue,I[P]]))==null?void 0:V.schema)??[]}})}),N}function C(w,N){const I=/\[(.*?)\]/gi,F={};return e.draggable&&(F[e.orderKey]=N+1),{...transform(w,(D,M,P)=>{const E=P.match(I);if(E){const V=E.map(A=>A.replace(I,"$1"));D[V.pop()]=M}}),...F}}function b(w){return w.map((N,I)=>C(N,I))}const S=computed({get:()=>{if(isEmpty(n.value))return[];const w=Array.isArray(s.value)?s.value:[],N=h(w);if(e.min>0&&w.length<e.min){const I=r(n.value);N.push(y(getModel(I),1))}if(N.length>0){const I=b(N).map(F=>{const D=e.autoIdGenerator?["id"]:[];return omit(F,D)});JSON.stringify(s.value)!==JSON.stringify(I)&&I.forEach((F,D)=>{s.value[D]=F})}return c&&(f.value=reduce(cloneDeep(N),(I,F)=>{const D=C(F);return p.value&&D[p.value]&&I.push(D[p.value]),I},[])),N},set:(w,N)=>{i.updateModelValue.value(b(w))}}),k=reactive({repeaterModels:S,repeaterSchemas:computed(()=>v(S.value)),totalRepeats:computed(()=>k.repeaterModels.length),hasRepeaterModels:computed(()=>k.repeaterModels.length>0),isRemainingAddible:computed(()=>!c||k.totalRepeats<m.value.items.length&&k.totalRepeats<m.value.items.filter(w=>w[u]>0).length),isAddible:computed(()=>(e.max<1||k.totalRepeats<e.max)&&k.isRemainingAddible),isDeletable:computed(()=>e.min<1||k.totalRepeats>e.min),addButtonIsActive:computed(()=>!e.disableAddButton||k.isAddible),selectFieldSlots:computed(()=>{const w=[];return filter(n.value,function(N,I){return Object.prototype.hasOwnProperty.call(N,"slots")&&Object.keys(N.slots).length>0}).forEach((N,I)=>{const F=cloneDeep(N);k.repeaterModels.forEach((D,M)=>{const P=[];for(const E in F.slots)P.push({inputName:g(M,F.name),name:E,context:F.slots[E]});w.push(P)})}),w}),headers:reduce(n.value??[],(w,N)=>(["hidden"].includes(N.type)||w.push({title:N.label||__headline(N.name),col:N.col}),w),[]),addButtonContent:computed(()=>e.addButtonText+(e.hasButtonLabel&&__isset(e.singularLabel)?` ${e.singularLabel}`:"")),hasSchemaInputSourceLoading:computed(()=>Object.values(n.value).some(w=>Object.prototype.hasOwnProperty.call(w,"sourceLoading")&&w.sourceLoading===!0))}),B=reactive({onUpdateRepeaterModel(w,N){const I=C(w,N);s.value[N]&&JSON.stringify(s.value[N])!==JSON.stringify(I)&&e.idResetter&&s.value[N][e.idResetter]&&s.value[N][e.idResetter]!==I[e.idResetter]&&delete I.id,s.value[N]=I},onUpdateRepeaterSchema(w,N){const I=C(w,N);Object.keys(n.value).forEach(D=>{n.value[D]=Object.assign({},n.value[D],omit(I[D],["name"]))})},onHoverContent(w){},addRepeaterBlock:function(){if(k.isAddible){const w=r(cloneDeep(n.value));s.value.push(y(getModel(w),k.totalRepeats))}else{let w=`You cannot add new item, because the number of elements should be at much ${e.max}`;k.isRemainingAddible||(w="You cannot add new item, because there are no more items to add"),o.commit(ALERT$1.SET_ALERT,{message:w,variant:"warning",location:"top"})}},deleteRepeaterBlock:function(w){if(k.isDeletable){const N=b(k.repeaterModels);N.splice(w,1),k.repeaterModels=h(N)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot delete, because the number of elements should be at least ${e.min}`,variant:"warning",location:"top"})},duplicateRepeaterBlock:function(w){if(k.isAddible){const N=b(k.repeaterModels);N.push(N[w]),k.repeaterModels=h(N)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot add new item, because the number of elements should be at much ${e.max}`,variant:"warning",location:"top"})}});return{...toRefs(B),...toRefs(k),invokeRuleGenerator:r,...i}}const mapGetters=()=>{const e=useStore();return Object.fromEntries(Object.keys(e.getters).map(a=>[a,computed(()=>e.getters[a])]))},makeFileProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default(){return useI18n().t("File")}},endpoint:{type:String,default:""},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useFile(e,a){const o=useStore(),r=useInput(e,a),{modelValue:i,obj:n}=toRefs(e),l=mapGetters(),{t:s}=useI18n({useScope:"global"}),c=reactive({mediableActive:!1,handle:".item__handle",addLabel:computed(()=>s("ADD")+" "+e.itemLabel),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(f,p)=>{}}),input_:computed({get:()=>i.value??[],set:(f,p)=>{r.updateModelValue.value(f)}}),input:i.value??[],isDraggable:computed(()=>e.draggable&&c.input.length>1),remainingItems:computed(()=>e.max-c.input.length),itemsIds:computed(()=>l.selectedItemsByIds.value[e.name]?l.selectedItemsByIds.value[e.name].join():"")}),u=reactive({deleteAll:function(f){c.input=[]},deleteItem:function(f){c.input.splice(f,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(f,p)=>{o.state.mediaLibrary.isInserted&&c.mediableActive&&(c.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),c.input=f)},{deep:!0}),watch$1(()=>c.input,(f,p)=>{r.updateModelValue.value(f)},{deep:!0}),watch$1(()=>i.value,(f,p)=>{c.input=f},{deep:!0}),{...r,...toRefs(u),...toRefs(c)}}const makeImageProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"image"},itemLabel:{type:String,default(){return useI18n().t("Image")}},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default(){return useI18n().t("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useImage(e,a){const o=useStore(),r=useInput(e,a),{modelValue:i,obj:n}=toRefs(e),l=mapGetters(),{t:s}=useI18n({useScope:"global"}),c=reactive({mediableActive:!0,handle:".item__handle",addLabel:computed(()=>s("ADD",{item:e.itemLabel})),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(f,p)=>{}}),input_:computed({get:()=>i.value??[],set:(f,p)=>{r.updateModelValue.value(f)}}),input:i.value??[],isDraggable:computed(()=>e.draggable&&c.input.length>1),remainingItems:computed(()=>e.max-c.input.length),itemsIds:computed(()=>l.selectedItemsByIds.value[e.name]?l.selectedItemsByIds.value[e.name].join():"")}),u=reactive({deleteAll:function(f){c.input=[]},deleteItem:function(f){c.input.splice(f,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(f,p)=>{window.__isset(o.state.mediaLibrary.selected[e.name])&&o.state.mediaLibrary.isInserted&&c.mediableActive&&(c.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),c.input=f)},{deep:!0}),watch$1(()=>c.input,(f,p)=>{r.updateModelValue.value(f)},{deep:!0}),watch$1(()=>i.value,(f,p)=>{c.input=f},{deep:!0}),watch$1(()=>c.error,(f,p)=>{}),{...r,...toRefs(u),...toRefs(c)}}function useSidebar(){const{lgAndUp:e,xlAndUp:a}=useDisplay();ref(!1);const o=ref("#profile"),r=useStore(),i=ref(null),n=reactive({navigationDrawer:i,open:[],activeMenu:computed({get(){return o.value},set(s){o.value=s}}),status:computed({get(){return r.state.config.sidebarStatus},set(s){r.commit(CONFIG.SET_SIDEBAR,s)}}),options:r.state.config.sidebarOptions,width:computed(()=>a.value?320:n.options.width||264),hideIcons:computed(()=>!n.rail&&n.options.hideIcons),railManual:!1,rail:computed(()=>(n.options.rail||n.railManual)&&e.value),hasRail:computed(()=>n.options.rail),isHoverable:computed(()=>(e.value||n.rail)&&n.options.expandOnHover),secondaryOptions:r.state.config.secondarySidebarOptions,profileMenu:r.state.config.profileMenu,socialMediaLinks:[["mdi-twitter",""],["mdi-linkedin",""],["mdi-facebook",""],["mdi-instagram",""]]}),l=reactive({handleProfile(s){s.type==="mouseenter"&&n.profileMenu.expandOnHover&&n.open.push("User")},handleMenu(s){n.activeMenu=`#${s}`}});return watch$1(e,()=>{}),onMounted(()=>{}),{...toRefs(n),...toRefs(l)}}function useCurrencyNumber(e,a){const o=useStore(),{inputRef:r,formattedValue:i,numberValue:n,setValue:l}=useCurrencyInput({currency:"EUR",locale:o.state.language.active.value,autoDecimalDigits:!0,precision:2,currencyDisplay:"hidden",hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,valueRange:{min:0}}),s=reactive({inputRef:r,formattedValue:i,numberValue:n});return watch$1(()=>e.modelValue,c=>{l(c)}),{...toRefs(s)}}const makeModuleProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},fillHeight:{type:Boolean,default:!1},slots:{type:Object,default(){return{}}},noFullScreen:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},items:{type:Array,default:[]}});function useModule(e,a){const{t:o,te:r}=useI18n({useScope:"global"});ref(!1),onMounted(()=>{});const i=reactive({snakeName:lodash.snakeCase(e.name),permissionName:lodash.kebabCase(e.name),transNameSingular:computed(()=>r("modules."+i.snakeName,0)?o("modules."+i.snakeName,0):e.name),transNamePlural:computed(()=>o("modules."+i.snakeName,1)),moduleTitle:computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:i.transNamePlural)),windowSize:{x:0,y:0},elements:e.items,searchPlaceholder:o("Type to Search"),searchModel:""}),n=reactive({onResize(){i.windowSize={x:window.innerWidth,y:window.innerHeight}}});return{...toRefs(i),...toRefs(n)}}function useLocale(){const e=useStore(),a=reactive({currentLocale:computed(()=>e.state.language.active),languages:computed(()=>e.state.language.all),locales:computed(()=>e.state.language.all),displayedLocale:computed(()=>e.state.language.active.shortlabel)}),o=reactive({updateLocale:function(r){e.commit(LANGUAGE.UPDATE_LANG,r)}});return{...toRefs(a),...toRefs(o)}}function useItemActions(e,a){const o=useStore(),{castMatch:r}=useFormatter(e),{castObjectAttributes:i}=useCastAttributes(),n=lodash.cloneDeep(e.actions),l=a.actionItem||a.item||a.editedItem||e.item||e.editedItem,s=k=>{if(!k.source||!k.find||!k.return)return k;const B=l[k.source];if(!Array.isArray(B))return;const[w,N]=k.find,I=B.find(F=>F[w]===N);return I?I[k.return]:void 0},c=(k,B)=>{var I;if(!B){console.error("Endpoint not specified for request action");return}const w=((I=k.method)==null?void 0:I.toLowerCase())||"post";if(!api$1[w]){console.error("Invalid request method:",w);return}const N={};for(const[F,D]of Object.entries(k.params))if(typeof D=="object"&&D!==null){const M=s(D);if(M===void 0){console.error(`Could not resolve parameter value for ${F}`);return}N[F]=M}else N[F]=D;api$1[w](B,N,F=>{F.data.message&&o.commit(ALERT$1.SET_ALERT,{message:F.data.message,variant:F.data.variant}),a.emit("actionComplete",{action:k,response:F})},F=>{var D;o.commit(ALERT$1.SET_ALERT,{message:((D=F.data)==null?void 0:D.message)||"Action failed",variant:"error"})})},u=(k,B)=>{o.commit("SET_MODAL",{show:!0,title:k.label,component:"ue-form",props:{schema:k.schema,actionUrl:B,async:!0},on:{success:w=>{o.commit(ALERT$1.SET_ALERT,{message:w.message||"Action completed successfully",variant:"success"}),a.emit("action-complete",{action:k,response:w})}}})},f=k=>{if(!k){console.error("Endpoint not specified for blank action");return}window.open(k,"_blank")},p=k=>{if(!k){console.error("Endpoint not specified for download action");return}const B=document.createElement("a");B.href=k,B.target="_blank",document.body.appendChild(B),B.click(),document.body.removeChild(B)},m=k=>{if(!l)return!0;const B=e.isEditing?k.editable:k.creatable;return!k.conditions||!B?B:B&&checkItemConditions(k.conditions,l)},g=k=>k.map(B=>(l&&Object.keys(B).forEach(w=>{w==="badge"&&(B[w]=r.value(B[w],l))}),e.isEditing&&l&&(B=i(B,l)),m(B)||(B.disabled=!0),B)),y=ref(window.__isObject(n)?Object.values(n):n),h=computed(()=>y.value.filter(k=>!(!m(k)&&k.hideOnCondition))),v=computed(()=>g(h.value)),C=computed(()=>v.value.filter(k=>!(window.__isset(k.disabled)&&k.disabled))),b=reactive({hasActions:computed(()=>v.value.length>0),hasVisibleActions:computed(()=>C.value.length>0),allActions:v,visibleActions:C}),S=reactive({shouldShowAction:m,handleAction(k){var w;if(!k.type){console.warn("Action type not specified:",k);return}const B=(w=k.endpoint)==null?void 0:w.replace(":id",l.id);switch(k.type){case"request":c(k,B);break;case"modal":u(k,B);break;case"download":p(B);break;case"blank":f(B);break;default:console.warn("Unknown action type:",k.type)}}});return{...toRefs(b),...toRefs(S)}}function useCurrency(e){const{locale:a}=useI18n({useScope:"global"}),o=reactive({formatPrice(r,i){return window.__formatCurrencyPrice(r,i,a.value??a)}});return{...toRefs(o)}}const redirector=(e,a=1e3)=>{Object.prototype.hasOwnProperty.call(e,"redirector")&&(a=Object.prototype.hasOwnProperty.call(e,"timeout")?e.timeout:a,setTimeout(function(o){window.open(o.redirector,Object.prototype.hasOwnProperty.call(o,"target")?o.target:"_self")},a,e))},handleSuccessResponse=e=>{e.status===200&&e.data.modalService&&isObject(e.data.modalService)&&window.$modalService.open(e.data.modalService.component??null,omit(e.data.modalService,["component"]))},handleErrorResponse=e=>{__log(e)},makeFormProps=propsFactory({modelValue:{type:Object},formClass:{type:[Array,String],default:""},actionUrl:{type:String},title:{type:[String,Object]},noTitle:{type:Boolean,default:!1},subtitle:{type:String},schema:{type:Object},async:{type:Boolean,default:!0},buttonText:{type:String},hasSubmit:{type:Boolean,default:!1},stickyFrame:{type:Boolean,default:!1},stickyButton:{type:Boolean,default:!1},rowAttribute:{type:Object,default(){return{noGutters:!1,class:"py-4"}}},slots:{type:Object,default(){return{}}},valid:{type:Boolean,default:null},isEditing:{type:Boolean,default:!1},hasDivider:{type:Boolean,default:!1},fillHeight:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},noDefaultFormPadding:{type:Boolean,default:!1},noDefaultSurface:{type:Boolean,default:!1},actions:{type:[Array,Object],default:[]},actionsPosition:{type:String,default:"top",validator(e){return["title-right","title-center","top","middle","bottom","right-top","right-middle","right-bottom"].includes(e)}},rightSlotGap:{type:Number,default:12},pushButtonToBottom:{type:Boolean,default:!1},rightSlotWidth:{type:[Number,String],default:null},rightSlotMinWidth:{type:[Number,String],default:300},rightSlotMaxWidth:{type:[Number,String],default:600},additionalSectionDialogTitle:{type:String,default:"Additional Options"},clearOnSaved:{type:Boolean,default:!1},refreshOnSaved:{type:Boolean,default:!1},noWaitSourceLoading:{type:Boolean,default:!1}});function useForm(e,a){const o=useStore(),{t:r,te:i}=useI18n({useScope:"global"}),n=useInputHandlers(),l=useValidation(e),s=useLocale(),{hasRoles:c}=useAuthorization(),u=ref(null),f=Math.ceil(Math.random()*1e6)+"-form",p=f+"-base",m=ref(!!e.modelValue),g=ref(!!e.schema),y=ref(!1),h=ref({}),v=ref(g.value?e.schema:o.state.form.inputs),C=computed(()=>processInputs(v.value)),b=ref(g.value?getModel(v.value):o.getters.defaultItem),S=computed(()=>o.state.form.editedItem),k=ref(getModel(v.value,m.value?e.modelValue:S.value,o.state)),B=computed(()=>m.value?e.modelValue:S.value),w=ref(l.invokeRuleGenerator(getSchema(v.value,{...k.value,...B.value},e.isEditing))),N=ref(getFormEventSchema(v.value,{...k.value,...B.value},e.isEditing)),I=ref(e.actions.length?e.actions.map(()=>!0):[]),F=T=>{let L=!1;return Object.prototype.hasOwnProperty.call(T,"noSubmit")&&T.noSubmit||(L=!0),L===!0&&(__isset(T.editable)&&(T.editable===!1||T.editable==="hidden")&&e.isEditing||__isset(T.creatable)&&(T.creatable===!1||T.creatable==="hidden")&&!e.isEditing?L=!1:Object.prototype.hasOwnProperty.call(T,"allowedRoles")&&Array.isArray(T.allowedRoles)&&(c(T.allowedRoles)||(L=!1))),L},D=computed(()=>!!(find(w.value,T=>{let L=!1;return["wrap","group"].includes(T.type)?L=find(T.schema,F):L=F(T),L})||find(N.value,F))),M=computed(()=>a.slots.right||a.slots["right.top"]||a.slots["right.bottom"]||a.slots["right.middle"]||["right-top","right-middle","right-bottom"].includes(e.actionsPosition)),P=reactive({id:f,formBaseId:p,VForm:u,issetModel:m,issetSchema:g,model:k,formItem:B,chunkedRawSchema:C,inputSchema:w,formEventSchema:N,isSubmittable:D,extraValids:I,hasStickyFrame:e.stickyFrame||e.stickyButton,manualValidation:!1,buttonDefaultText:computed(()=>e.buttonText?i(e.buttonText)?r(e.buttonText):e.buttonText:r("submit")),serverValid:computed(()=>o.state.form.serverValid??!0),loading:computed(()=>e.actionUrl?y.value:o.state.form.loading),errors:computed(()=>e.actionUrl?h.value:o.state.form.errors),reference:computed(()=>"ref-"+P.id),hasTraslationInputs:computed(()=>getTranslationInputsCount(w.value)>0),hasAdditionalSection:M,showAdditionalSectionDialog:!1,hasSchemaInputSourceLoading:computed(()=>Object.values(v.value).some(T=>Object.prototype.hasOwnProperty.call(T,"sourceLoading")&&T.sourceLoading===!0||Object.prototype.hasOwnProperty.call(T,"type")&&(T.type==="wrap"||T.type==="group")&&Object.values(T.schema).some(L=>Object.prototype.hasOwnProperty.call(L,"sourceLoading")&&L.sourceLoading===!0)))}),E=(T=null,L=null)=>{if(e.actionUrl){h.value={},y.value=!0;const G=getSubmitFormData(v.value,P.model,o._state.data),K=Object.prototype.hasOwnProperty.call(G,"id")?"put":"post";api$1[K](e.actionUrl,G,H=>{y.value=!1,Object.prototype.hasOwnProperty.call(H.data,"errors")?(o.commit(FORM.SET_SERVER_VALID,!1),h.value=H.data.errors):Object.prototype.hasOwnProperty.call(H.data,"variant")&&(o.commit(FORM.SET_SERVER_VALID,!1),o.commit(ALERT$1.SET_ALERT,{message:H.data.message,variant:H.data.variant})),e.clearOnSaved&&(P.model=getModel(v.value),z(),u.value&&u.value.reset()),a.emit("submitted",H.data);let W=T;if(!e.refreshOnSaved||Object.prototype.hasOwnProperty.call(H.data,"forceRedirect")&&H.data.forceRedirect)redirector(H.data);else{let Y=()=>{window.location.reload(!0)};W=q=>{T&&typeof T=="function"&&T(q),Y()}}W&&typeof W=="function"&&W(H.data)},H=>{y.value=!1,Object.prototype.hasOwnProperty.call(H.data,"exception")?o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(o.dispatch(ACTIONS.HANDLE_ERRORS,H.response.data),o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),L&&typeof L=="function"&&L(H.data)})}else nextTick(()=>{let G=()=>{window.location.reload(!0)},K=T;e.refreshOnSaved?K=H=>{a.emit("submitted",H),T&&typeof T=="function"&&T(H),Object.prototype.hasOwnProperty.call(H,"forceRedirect")&&H.forceRedirect?redirector(H):G()}:K=H=>{a.emit("submitted",H),redirector(H),T&&typeof T=="function"&&T(H)},o.dispatch(ACTIONS.SAVE_FORM,{item:null,callback:K,errorCallback:L})})},V=T=>{T&&T.preventDefault();const L=document.createElement("form");L.method="POST",L.action=e.actionUrl,L.enctype="multipart/form-data";let G=$(P.model);for(const[H,W]of G.entries()){const Y=document.createElement("input");Y.type="hidden",Y.name=H,Y.value=W,L.appendChild(Y)}const K=document.createElement("input");if(K.type="hidden",K.name="_token",K.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),L.appendChild(K),e.isEditing){const H=document.createElement("input");H.type="hidden",H.name="_method",H.value="PUT",L.appendChild(H)}document.body.appendChild(L),L.submit()},A=T=>{handleEvents(k.value,w.value,T.schema,!0)},$=(T,L="")=>{const G=new FormData;for(const[K,H]of Object.entries(T)){const W=L?`${L}[${K}]`:K;if(H!=null)if(typeof H=="object")if(Array.isArray(H))H.forEach((Y,q)=>{if(typeof Y=="object"&&Y!==null){const X=$(Y,`${W}[${q}]`);for(const[Q,Z]of X.entries())G.append(Q,Z)}else G.append(`${W}[${q}]`,Y)});else{const Y=$(H,W);for(const[q,X]of Y.entries())G.append(q,X)}else G.append(W,H)}return G},z=()=>{u.value.resetValidation()},U=T=>{const L={};for(const G in T){const K=/(\w+)\.(\w+)/,H=G.match(K);if(H){const W=H[1],Y=H[2];__isset(L[W])||(L[W]=[]),L[W][Y]=T[G]}else L[G]=T[G]}for(const G in L)w.value[G]?w.value[G].errorMessages=L[G]:find(C.value,K=>K.name===G)&&reduce(w.value,(H,W,Y)=>(W.type==="wrap"&&H.push(Y),H),[]).forEach(H=>{w.value[H].schema[G]&&(w.value[H].schema[G].errorMessages=L[G])})},O=T=>{if(get(w.value,`${T}`))set(w.value,`${T}.errorMessages`,[]),set(w.value,`${T}.error`,!1);else for(const L in w.value)if(w.value[L].schema)for(const G in w.value[L].schema)G===T&&(set(w.value,`${L}.schema.${G}.errorMessages`,[]),set(w.value,`${L}.schema.${G}.error`,!1))},x=()=>{for(const T in w.value)if(O(T),w.value[T].schema)for(const L in w.value[T].schema)w.value[T].schema[L]&&O(`${T}.schema.${L}`)},R=()=>{x()},j=reactive({async validate(){return await P.VForm.validate()},createModel:T=>getModel(T,P.model.value,o.state),handleInput:T=>{const{on:L,key:G,obj:K}=T;L==="input"&&G&&(P.serverValid||O(G),A(K)),a.emit("input",T)},handleClick:T=>{const{on:L,obj:G,params:K}=T;L==="click"&&K&&K.tag&&n.invokeInputClickHandler(G,K.tag)},handleUpdate:T=>{},handleResize:T=>{},handleBlur:T=>{},saveForm:E,submit:(T,L=null,G=null)=>{l.validModel.value?e.async?(T&&T.preventDefault(),e.actionUrl?E(L,G):(o.commit(FORM.SET_EDITED_ITEM,P.model),nextTick(()=>{E(L,G)}))):V(T):T&&T.preventDefault()},updatedSlotModel:(T,L)=>{},regenerateInputSchema:T=>{},updatedCustomFormBaseModelValue:T=>{k.value=T}});return watch$1(()=>e.modelValue,(T,L)=>{if(L!==void 0&&m.value){if(isEqual(T,L)&&isEqual(T,k.value))return;k.value=getModel(v.value,T,o.state)}}),watch$1(()=>S.value,(T,L)=>{m.value}),watch$1(()=>k.value,(T,L)=>{if(m.value){if(isEqual(T,L)&&isEqual(T,e.modelValue))return;a.emit("update:modelValue",T)}},{deep:!0}),watch$1(()=>P.errors,T=>{U(T)}),watch$1(()=>l.validModel.value,T=>{a.emit("update:valid",T)}),watch$1(()=>e.schema,(T,L)=>{!isEqual(T,L)&&g.value&&!isEqual(T,w.value)&&(v.value=T,b.value=getModel(v.value),w.value=l.invokeRuleGenerator(getSchema(v.value,k.value,e.isEditing)),N.value=getFormEventSchema(v.value,B.value,e.isEditing),R())},{deep:!0}),watch$1(()=>w.value,(T,L)=>{},{deep:!0}),watch$1(()=>v.value,(T,L)=>{if(L!==void 0&&!isEqual(T,L)){const G=cloneDeep(k.value),K=getModel(T,k.value,o.state);isEqual(K,G)||(k.value=K,w.value=l.invokeRuleGenerator(getSchema(T,k.value,e.isEditing)))}},{deep:!0}),R(),{...toRefs(P),...toRefs(j),...n,...l,...s}}function useAuthorization(){const e=useStore();return{can:(i,n=null)=>{const l=n?n+"_"+i:i;return e.getters.isSuperAdmin||e.getters.userPermissions[l]},hasRoles:i=>(window.__isString(i)&&(i=i.split(",").map(n=>n.trim())),e.getters.userRoles.some(n=>i.includes(n))),isYou:i=>{var n,l;return(((l=(n=e==null?void 0:e.getters)==null?void 0:n.userProfile)==null?void 0:l.id)??-1)==i}}}function useCache(){return{get:(n,l=null)=>store.getters[CACHE.GET_CACHE](n)??l,put:(n,l)=>{store.commit(CACHE.PUT_CACHE,{key:n,value:l})},push:(n,l)=>{store.commit(CACHE.PUSH_CACHE,{key:n,value:l})},last:(n,l=null)=>store.getters[CACHE.GET_LAST_CACHE](n)??l,forget:n=>{store.commit(CACHE.FORGET_CACHE,n)}}}function useDynamicModal(){const e=inject("modalService");if(!e)throw new Error("[ModalService] not installed. Did you forget `app.use(ModalService)`?");return e}const makeFilepondProps=propsFactory({hint:{type:String,default:null},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number},rules:{type:Array,default:()=>[]},noRules:{type:Boolean,default:!1},hintWeight:{type:String,default:"thin"},maxFiles:{type:Number,default:2},endPoints:{type:Object,default:()=>({})},class:{type:String,default:""},labelWeight:{type:String,default:"regular"},subtitle:{type:String,default:null},subtitleWeight:{type:String,default:"thin"},acceptedFileTypes:{type:String,default:""},allowImagePreview:{type:Boolean,default:!1},allowMultiple:{type:Boolean,default:!1},allowProcess:{type:Boolean,default:!0},allowRemove:{type:Boolean,default:!0},allowDrop:{type:Boolean,default:!0},allowReorder:{type:Boolean,default:!1},allowReplace:{type:Boolean,default:!1},dropOnPage:{type:Boolean,default:!1},dropOnElement:{type:Boolean,default:!0},dropValidation:{type:Boolean,default:!1},allowFileSizeValidation:{type:Boolean,default:!0},maxFileSize:{type:String,default:"5MB"},minFileSize:{type:String,default:"1KB"},maxTotalFileSize:{type:String,default:null},labelMaxFileSize:{type:String,default:"Maximum file size is {filesize}"},labelMaxFileSizeExceeded:{type:String,default:"File is too large"}});function useFilepond(e,a){const{requiredRule:o}=useValidation(e),r=window.__data_get(e.obj,"schema.rawRules","")||"",i=ref(e.rules??[]),n=ref(e.maxFiles),l=ref(e.min);return(e.isEditing?e.editable===!0:e.creatable===!0)&&!e.noRules&&e.min&&e.min>0&&!r.match(/required:array:\d+/)&&i.value.push(o.value("array",e.min)),l.value&&n.value<l.value&&(n.value=l.value),n.value<1&&(n.value=5),watch$1(()=>e.rules,s=>{i.value=s}),{filepondRules:i,max:n}}const makeInputFetchProps=propsFactory({itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},multiple:{type:Boolean,default:!1},page:{type:Number,default:1},lastPage:{type:Number,default:-1},itemsPerPage:{type:Number,default:20},endpoint:{type:String},items:{type:Array,default:()=>[]},sourceLoading:{type:Boolean,default:!1}});function useInputFetch(e,a){const o=ref(!1),r=ref(getURLWithoutQuery(e.endpoint)),i=ref(e.page||1),n=ref(e.lastPage||-1),l=ref(n.value>0?n.value+1:e.page||1),s=ref(""),c=ref(e.items||[]),u=ref(getParameters(e.endpoint)),f=computed(()=>new URLSearchParams({...u.value,...l.value?{page:l.value}:{},itemsPerPage:e.itemsPerPage,...s.value?{search:s.value}:{}}).toString()),p=computed(()=>getURLWithoutQuery(r.value)+"?"+f.value),m=async()=>{if(!(l.value>n.value)||n.value<0)return o.value=!0,a.emit("update:input",[{key:"sourceLoading",value:!0}]),new Promise(()=>{axios.get(p.value).then(y=>{if(y.status==200)if(n.value<0&&(n.value=y.data.resource.last_page),s.value==""?c.value=c.value.concat(y.data.resource.data??[]):c.value=y.data.resource.data??[],i.value=y.data.resource.current_page,l.value=y.data.resource.current_page+1,a.input.value){let h=!1;a.input.value&&(e.multiple?a.input.value.forEach(function(v){if(!c.value.find(C=>C[e.itemValue]==v))return h=!0,!1}):h=!c.value.find(v=>v[e.itemValue]==a.input.value)),h?m():(o.value=!1,a.emit("update:input",[{key:"sourceLoading",value:!1},{key:"items",value:c.value},{key:"lastPage",value:n.value},{key:"page",value:i.value}]))}else o.value=!1,a.emit("update:input",[{key:"sourceLoading",value:!1}])})})};return{loading:o,elements:c,getItemsFromApi:m,activePage:i,activeLastPage:n,nextPage:l,searchOnInputFetch:y=>{if(a.input){y==""?(c.value=[],m()):s.value=y;return}s.value=y,i.value=1,l.value=1,lastPage.value=-1,s.value==""&&(c.value=[]),m()}}}function useAlert(){const e=useStore();return{openAlert:o=>{e.commit(ALERT$1.SET_ALERT,o)}}}function useCastAttributes(){const{t,te}=useI18n(),AttributePattern=/\$([\w\d\.\*\_]+)/,EvalPattern=/^\$\((.*)\)\$/,castObjectAttribute=(value,ownerItem)=>{if(!isString(value))return value;let returnValue=value;if(isMatchingPattern(value))returnValue=replacePattern(value,ownerItem);else if(EvalPattern.test(value)){let matches=value.match(EvalPattern),evalText=matches[1],evalParts=evalText.split(" ").map(e=>{if(AttributePattern.test(e)){let o=e.match(AttributePattern)[1],r=__data_get(ownerItem,o,void 0);if(r!==void 0)return r}return e});try{return eval(evalParts.join(" "))}catch(e){console.error("Error in eval",e)}}else if(AttributePattern.test(value)){let e=value.match(AttributePattern),a=e[1],o=__preg_quote(e[0]),r=a.split("."),i=[];for(const l in r){let s=r[l];if(s==="*"){let c=ownerItem.id;i.push(`*id=${c}`)}else i.push(s)}a=i.join(".");let n=__data_get(ownerItem,a);if(n){let l;if(isArray(n)&&n.length>0)l=n,n.every(s=>isString(s)||isNumber(s))&&(l=n.join(","));else if(isString(n)){l=n;let s=snakeCase$1(l);te(`modules.${s}`)&&(l=t(`modules.${s}`))}else isNumber(n)&&(l=n.toString());if(l&&isString(l)){let s="\\w\\s"+__preg_quote(".,;?|:_"),c=new RegExp(String.raw`^([${s}]+)?(${o})([${s}]+)?$`);value.match(c)?returnValue=value.replace(c,"$1"+l+"$3"):__log("Not matched sentence",c,value,value.match(c))}else isArray(l)&&(returnValue=l)}}return returnValue},castObjectAttributes=(e,a)=>isString(e)?castObjectAttribute(e,a):isArray(e)?e.map(o=>castObjectAttributes(o,a)):isObject(e)?Object.keys(e).reduce((o,r)=>(o[r]=castObjectAttributes(e[r],a),o),{}):e;return{castObjectAttribute,castObjectAttributes}}function useBadge(e,a){return{isBadge:i=>{if(!window.__isset(i.badge))return!1;let n=i.badge;return window.__isString(n)&&(n=parseInt(n)),n>0},badgeProps:i=>({...i.componentProps??{},content:i.badgeContent??i.badge,color:i.badgeColor??"warning",textColor:i.badgeTextColor??"white"})}}const _sfc_main$1k={name:"FormActions",emits:["actionComplete"],props:{modelValue:{type:Object,required:!0},isEditing:{type:Boolean,required:!1},actions:{type:Object,required:!0}},setup(e,a){const{handleAction:o,allActions:r,hasActions:i}=useItemActions(e,{...a,actionItem:e.modelValue}),{generateButtonProps:n}=useGenerate(),{isBadge:l,badgeProps:s}=useBadge(),c=computed(()=>r.value.map(f=>!0));return{hasActions:i,allActions:r,handleAction:o,valids:c,createModel:(f,p)=>{const m=getModel(f,e.modelValue);return p.isEditing===!1&&delete m.id,m},generateButtonProps:n,isBadge:l,badgeProps:s}}};function _sfc_render$17(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([r.hasActions?"d-flex flex-wrap ga-4 py-4":""])},[renderSlot(e.$slots,"prepend",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing}))),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.allActions,(c,u)=>(openBlock(),createElementBlock(Fragment,null,[c.type!=="modalx"?(openBlock(),createBlock(VTooltip,{key:0,disabled:!c.icon||c.forceLabel,location:c.tooltipLocation??"top"},{activator:withCtx(f=>[c.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:e.editedItem[c.key??"published"]??c.default??!1,ref_for:!0},{...c.componentProps,...f.props},{disabled:c.disabled??!1,"onUpdate:modelValue":p=>r.handleAction(c)}),null,16,["modelValue","disabled","onUpdate:modelValue"])):c.type==="modal"&&c.endpoint&&c.schema?(openBlock(),createBlock(s,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},c.modalAttributes??{}),{activator:withCtx(p=>[r.isBadge(c)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},r.badgeProps(c)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...r.generateButtonProps(c),...p.props,...f.props}),null,16)]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...r.generateButtonProps(c),...p.props,...f.props}),null,16))]),body:withCtx(p=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(l,mergeProps({ref_for:!0,ref:`extra-form-${u}`,modelValue:r.createModel(c.schema,c),title:c.formTitle??null,schema:c.schema,"action-url":c.endpoint.replace(":id",o.modelValue.id),valid:r.valids[u],"is-editing":c.isEditing??o.isEditing,style:p.isFullActive?"height: 90vh !important;":"height: 70vh !important;","fill-height":"",scrollable:"","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:m=>e.$emit("actionComplete",{action:c}),"onUpdate:valid":m=>r.valids[u]=m,"onUpdatex:modelValue":a[0]||(a[0]=m=>e.$log(m))},c.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1024)]),_:2},1040)):c.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[r.isBadge(c)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},r.badgeProps(c)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...r.generateButtonProps(c),...f.props},{onClick:p=>r.handleAction(c)}),null,16,["onClick"])]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...r.generateButtonProps(c),...f.props},{onClick:p=>r.handleAction(c)}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(c.tooltip??c.label),1)]),_:2},1032,["disabled","location"])):createCommentVNode("",!0)],64))),256)),renderSlot(e.$slots,"append",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing})))],2)}const FormActions=_export_sfc(_sfc_main$1k,[["render",_sfc_render$17]]),_sfc_main$1j={name:"FormEvents",emits:["update:modelValue"],props:{events:{type:Array,required:!0},modelValue:{type:Object,required:!0},formItem:{type:Object,default:()=>({})}},computed:{input:{get(){return this.modelValue??{}},set(e){this.$emit("update:modelValue",e)}}},methods:{updateValue(e,a){this.input={...this.modelValue,[e]:a}},getEventActiveLabel(e){const a=e.items.find(o=>o[e.itemValue]===(window.__isset(this.input[e.name])?this.input[e.name]:-1));return a?a[e.itemTitle]:e.label},getEventProps(e){return this.$lodash.omit(e,["type","name","tooltip","conditions","scopeRole","allowedRoles","tooltipLocation"])}}};function _sfc_render$16(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(!0),createElementBlock(Fragment,null,renderList(o.events,s=>(openBlock(),createBlock(VTooltip,{key:s.name,disabled:e.$isset(s.tooltip)||s.tooltip===!1,location:s.tooltipLocation??"top"},{activator:withCtx(c=>[s.type==="switch"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,ref_for:!0},{...e.$lodash.omit(s,"label"),...e.props},{"hide-details":"",modelValue:n.input[s.name]??s.default??!1,"onUpdate:modelValue":u=>n.updateValue(s.name,u)}),null,16,["modelValue","onUpdate:modelValue"])):s.viewOnlyComponent?(openBlock(),createBlock(l,mergeProps({key:1,configuration:s.viewOnlyComponent,"bind-data":{...n.input,...o.formItem},ref_for:!0},c.props),null,16,["configuration","bind-data"])):s.component?(openBlock(),createBlock(resolveDynamicComponent(s.component),mergeProps({key:2,ref_for:!0},{...c.props,...n.getEventProps(s)},{modelValue:n.input[s.name]??s.default??!1,"onUpdate:modelValue":u=>n.updateValue(s.name,u)}),null,16,["modelValue","onUpdate:modelValue"])):s.items&&Array.isArray(s.items)&&s.items.length?(openBlock(),createBlock(VMenu,{key:3,"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:withCtx(u=>[createVNode(VBtn,mergeProps({variant:"outlined","append-icon":"mdi-chevron-down",ref_for:!0},u.props),{default:withCtx(()=>[createTextVNode(toDisplayString(n.getEventActiveLabel(s)),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.items,(u,f)=>(openBlock(),createBlock(VListItem,{key:u.id,onClick:p=>n.updateValue(s.name,u[s.itemValue])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(u.name)+" ",1),e.$isset(o.modelValue[s.name])&&u[s.itemValue]===o.modelValue[s.name]?(openBlock(),createBlock(VIcon,{key:0,size:"small",icon:"$check",color:"primary"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.tooltip??s.label),1)]),_:2},1032,["disabled","location"]))),128)}const FormEvents=_export_sfc(_sfc_main$1j,[["render",_sfc_render$16]]),AdditionalSectionContent={props:{actionsPosition:String,isEditing:Boolean,formItem:Object,actions:[Array,Object]},emits:["action-complete"],template:`
    <div class="mb-2">
      <!-- Right Top Form Actions -->
      <FormActions v-if="actionsPosition == 'right-top' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-top"></slot>

      <!-- Right Middle Form Actions -->
      <FormActions v-if="actionsPosition == 'right-middle' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-middle"></slot>

      <!-- Right Bottom Form Actions -->
      <FormActions v-if="actionsPosition == 'right-bottom' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-bottom"></slot>
    </div>
  `,components:{FormActions}},_sfc_main$1i={name:"ue-form",components:{FormActions,FormEvents,AdditionalSectionContent},emits:["update:valid","update:modelValue","update:schema","input","actionComplete","submitted"],props:{...makeFormProps()},provide(){return{manualValidation:computed(()=>this.manualValidation),submitForm:computed(()=>this.submit)}},setup(e,a){useStore();const o=useForm(e,a),{t:r,te:i,locale:n}=useI18n({useScope:"global"}),l=computed(()=>[e.noDefaultFormPadding?"":"pa-4",e.noDefaultSurface?"":"bg-surface",e.fillHeight?"d-flex flex-column h-100":"",e.formClass]),s=computed(()=>{const f=[];function p(m,g,y,h=""){let v=h!=""?`${h}-${g}`:g;Object.prototype.hasOwnProperty.call(m,"slots")&&Object.keys(m.slots).length>0?Object.keys(m.slots).forEach(C=>{y.push({type:"recursive-stuff",name:C,inputName:g,slotPath:v,context:m.slots[C]})}):Object.prototype.hasOwnProperty.call(m,"slotable")&&y.push({type:"form",name:m.slotable.name,inputName:m.slotable.slotTo,selfName:g,slotPath:v,schema:cloneDeep(o.invokeRuleGenerator({[g]:omit(m,["slotable"])}))}),m.schema&&isObject(m.schema)&&Object.keys(m.schema).forEach(C=>{let b=m.schema[C];p(b,C,y,v)})}return Object.keys(o.inputSchema.value).forEach(m=>{let g=o.inputSchema.value[m];p(g,m,f)}),f}),c=computed(()=>{let f={};return __isObject(e.title)?f={tag:e.title.tag||"div",type:e.title.type||"body-1",weight:e.title.weight||"regular",transform:e.title.transform||"none",color:e.title.color,padding:e.title.padding||"a-0",margin:e.title.margin||"a-0",align:e.title.align||"left",justify:e.title.justify||"start",...e.title.class?{class:e.title.class}:{class:"flex-md-row flex-column justify-md-space-between"}}:f={class:"flex-md-row flex-column justify-md-space-between"},f}),u=computed(()=>{let f=e.title;return __isObject(e.title)&&(f=e.title.text),i(f)?r(f):f});return computed(()=>e.hasStickyFrame?{cols:"12",sm:"12",md:"12",lg:"8",xl:"6","order-lg":"0","order-xl":"0"}:{cols:"12"}),computed(()=>({cols:"12",sm:"12",md:"12",lg:"4",xl:"6","order-lg":"1","order-xl":"1"})),onMounted(()=>{document.getElementById("timezone_session")&&o.model.value&&o.model.value._timezone&&(o.model.value._timezone=Intl.DateTimeFormat().resolvedOptions().timeZone)}),{...o,formClasses:l,formSlots:s,titleOptions:c,titleSerialized:u}}},_hoisted_1$T=["value"],_hoisted_2$I={class:"d-flex mt-2 mt-md-0 gc-2"},_hoisted_3$E={class:"flex-grow-1 px-1"},_hoisted_4$w={key:2,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_5$t={key:1,class:"d-flex flex-wrap justify-center justify-md-start pt-6 w-100 ga-4 flex-md-row"},_hoisted_6$r={class:"d-flex justify-center justify-md-start flex-wrap flex-1-1-100 flex-md-1-1-0"},_hoisted_7$k={key:2},_hoisted_8$i={class:"ue-form__bottom"};function _sfc_render$15(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("FormActions"),c=resolveComponent("FormEvents"),u=resolveComponent("v-custom-form-base"),f=resolveComponent("ue-recursive-stuff"),p=resolveComponent("AdditionalSectionContent");return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-form"]),style:normalizeStyle({height:e.fillHeight?e.$vuetify.display.mdAndDown?"calc(97vh - 64px)":"calc(97vh)":""})},[createVNode(VForm,{id:e.id,ref:"VForm",action:e.actionUrl,method:"POST",modelValue:e.validModel,"onUpdate:modelValue":a[14]||(a[14]=m=>e.validModel=m),onSubmit:e.submit,class:normalizeClass(r.formClasses)},{default:withCtx(()=>[e.async?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:0,type:"hidden",name:"_token",value:e.$csrf},null,8,_hoisted_1$T)),createBaseVNode("div",{class:normalizeClass([e.hasDivider||e.title?"px-1":"",e.scrollable?"flex-grow-0":"","d-flex flex-row pb-2"])},[!e.noTitle&&e.title?(openBlock(),createBlock(l,mergeProps({key:0,padding:"a-0",align:"start",justify:"start",class:"flex-1-1-100"},r.titleOptions),{default:withCtx(()=>[renderSlot(e.$slots,"header.left",normalizeProps(guardReactiveProps({title:r.titleSerialized,subtitle:e.subtitle??null,model:e.model,schema:e.inputSchema,formItem:e.formItem})),()=>[createBaseVNode("span",null,[createTextVNode(toDisplayString(r.titleSerialized)+" ",1),e.subtitle?(openBlock(),createBlock(l,{key:0,text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},null,8,["text"])):createCommentVNode("",!0)])])]),right:withCtx(()=>[createBaseVNode("div",_hoisted_2$I,[e.actionsPosition=="title-center"&&e.isEditing?(openBlock(),createBlock(s,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[0]||(a[0]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(()=>[renderSlot(e.$slots,"actions.prepend")]),append:withCtx(()=>[renderSlot(e.$slots,"actions.append")]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"headerCenter"),e.actionsPosition=="title-right"&&e.isEditing?(openBlock(),createBlock(s,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[1]||(a[1]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.formEventSchema&&e.formEventSchema.length&&e.model?(openBlock(),createBlock(c,{key:2,events:e.formEventSchema,modelValue:e.model,"onUpdate:modelValue":a[2]||(a[2]=m=>e.model=m),"form-item":e.formItem},null,8,["events","modelValue","form-item"])):createCommentVNode("",!0)])]),_:3},16)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["flex-1-0 d-flex",e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1||e.hasAdditionalSection&&e.$vuetify.display.mdAndDown||e.$slots["header.right"]?"pl-2":""])},[e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1?(openBlock(),createBlock(VChipGroup,{key:0,modelValue:e.currentLocale.value,"onUpdate:modelValue":a[3]||(a[3]=m=>e.updateLocale(m)),"selected-class":"bg-primary",mandatory:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.languages,m=>(openBlock(),createBlock(VChip,{key:m.value,text:m.shortlabel,value:m.value,variant:"outlined"},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])):createCommentVNode("",!0),e.hasAdditionalSection&&e.$vuetify.display.mdAndDown?(openBlock(),createBlock(VBtn,{key:1,density:"compact",rounded:!0,size:"default",icon:"mdi-book-information-variant",class:"",onClick:a[4]||(a[4]=m=>e.showAdditionalSectionDialog=!0)})):createCommentVNode("",!0),renderSlot(e.$slots,"header.right")],2)],2),e.hasDivider?(openBlock(),createBlock(VDivider,{key:1,class:"pb-2"})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["d-flex",e.scrollable?"flex-grow-1 overflow-hidden mr-n4":""])},[createBaseVNode("div",{class:normalizeClass(["w-100 d-flex",e.scrollable?"overflow-y-auto pr-3":""])},[createBaseVNode("div",_hoisted_3$E,[e.actionsPosition=="top"&&e.isEditing?(openBlock(),createBlock(s,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[5]||(a[5]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"top",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.schema}))),e.actionsPosition=="middle"&&e.isEditing?(openBlock(),createBlock(s,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[6]||(a[6]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_4$w,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:60,width:6})])):createCommentVNode("",!0),createVNode(u,{class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":""),id:e.formBaseId,modelValue:e.model,"onUpdate:modelValue":a[8]||(a[8]=m=>e.model=m),schema:e.inputSchema,row:e.rowAttribute,"form-item":e.formItem,"no-auto-generate-schema":"",onUpdate:e.handleUpdate,onInput:e.handleInput,onResize:e.handleResize,onBlur:e.handleBlur,onClick:e.handleClick},createSlots({_:2},[renderList(r.formSlots,(m,g)=>({name:`slot-inject-${m.name}-key-${e.formBaseId}-${m.slotPath}`,fn:withCtx(y=>[m.type=="form"?(openBlock(),createBlock(u,{key:0,id:`${e.formBaseId}-${m.name}`,modelValue:e.model,"onUpdate:modelValue":a[7]||(a[7]=h=>e.model=h),schema:m.schema,"onUpdate:schema":h=>m.schema=h,row:e.rowAttribute},null,8,["id","modelValue","schema","onUpdate:schema","row"])):m.type=="recursive-stuff"?(openBlock(),createBlock(f,{key:1,configuration:m.context,bindData:y},null,8,["configuration","bindData"])):createCommentVNode("",!0)])}))]),1032,["class","id","modelValue","schema","row","form-item","onUpdate","onInput","onResize","onBlur","onClick"]),e.actionsPosition=="bottom"&&e.isEditing?(openBlock(),createBlock(s,{key:3,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[9]||(a[9]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0)]),e.hasAdditionalSection&&e.$vuetify.display.lgAndUp?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([`flex-grow-0 ml-${e.rightSlotGap}`])},[createBaseVNode("div",{class:normalizeClass(["pt-2 gr-4",e.$vuetify.display.smAndDown?"d-none":"d-flex flex-column"]),style:normalizeStyle({...e.rightSlotWidth?{width:`${e.rightSlotWidth}px`}:{},...e.rightSlotMinWidth?{minWidth:`${e.rightSlotMinWidth}px`}:{},...e.rightSlotMaxWidth?{maxWidth:`${e.rightSlotMaxWidth}px`}:{}})},[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(p,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:a[10]||(a[10]=m=>e.$emit("actionComplete",m))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])],6)],2)):createCommentVNode("",!0),e.hasAdditionalSection?(openBlock(),createBlock(VDialog,{key:1,modelValue:e.showAdditionalSectionDialog,"onUpdate:modelValue":a[13]||(a[13]=m=>e.showAdditionalSectionDialog=m),"max-width":"500px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(e.additionalSectionDialogTitle||"Additional Options"),1),createVNode(VSpacer),createVNode(VBtn,{variant:"text",size:"default",icon:"",onClick:a[11]||(a[11]=m=>e.showAdditionalSectionDialog=!1)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[15]||(a[15]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(p,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:a[12]||(a[12]=m=>e.$emit("actionComplete",m))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])):createCommentVNode("",!0)],2)],2),e.pushButtonToBottom?(openBlock(),createBlock(VSpacer,{key:2})):createCommentVNode("",!0),e.hasSubmit&&e.isSubmittable||e.$slots.submit||e.$slots.options||e.$slots.bottom?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(["px-1",e.scrollable?"flex-grow-0":""])},[e.hasSubmit&&!e.stickyButton&&e.hasDivider?(openBlock(),createBlock(VDivider,{key:0,class:""})):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_5$t,[renderSlot(e.$slots,"submit",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,saveForm:e.saveForm,buttonDefaultText:e.buttonDefaultText,loading:e.loading})),()=>[createBaseVNode("div",_hoisted_6$r,[renderSlot(e.$slots,"options",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,loading:e.loading})))]),e.isSubmittable?(openBlock(),createBlock(VBtn,{key:0,type:"submit",disabled:!(e.validModel||!e.serverValid)||e.loading||!e.isSubmittable,class:"ml-auto flex-1-1-100 flex-md-1-1-0 flex-lg-0-1-0 order-md-last order-first",block:e.$vuetify.display.smAndDown,loading:e.loading,color:e.isSubmittable?"primary":"warning"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.isSubmittable?e.buttonDefaultText:"No Operation To Perform"),1)]),_:1},8,["disabled","block","loading","color"])):createCommentVNode("",!0)])])):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_7$k,[e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,indeterminate:"",color:"green"})):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$i,[renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))])],2)):createCommentVNode("",!0)]),_:3},8,["id","action","modelValue","onSubmit","class"])],4)}const Form=_export_sfc(_sfc_main$1i,[["render",_sfc_render$15]]),__vite_glob_0_14=Object.freeze(Object.defineProperty({__proto__:null,default:Form},Symbol.toStringTag,{value:"Module"})),_sfc_main$1h={name:"FormSummaryItem",props:{index:{type:Number,required:!0},title:{type:String,required:!0},model:{type:Object,required:!0}},created(){}},_hoisted_1$S={class:"mb-6"},_hoisted_2$H={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_3$D={class:"font-weight-bold text-primary"},_hoisted_4$v={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_5$s={key:0,class:""},_hoisted_6$q={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}};function _sfc_render$14(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$S,[createBaseVNode("div",_hoisted_2$H,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(o.index+1),1)]),_:1}),createBaseVNode("span",_hoisted_3$D,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(o.index+1),1)]),createBaseVNode("div",_hoisted_4$v,toDisplayString(o.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model,(l,s)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model[s],(c,u)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}-${o.index}`},[Array.isArray(c)?(openBlock(),createElementBlock("div",_hoisted_5$s,[createBaseVNode("span",_hoisted_6$q,toDisplayString(e.window.__isObject(o.model[s])?u:c[0])+": ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(o.model[s])?c:c.slice(1),f=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${s}-${o.index}-${s}-${u}`,style:{"margin-inline-end":"8px"}},toDisplayString(f),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px","margin-block-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(c),1)]),_:2},1024))],64))),128))],64))),128))])}const FormSummaryItem=_export_sfc(_sfc_main$1h,[["render",_sfc_render$14],["__scopeId","data-v-332f12e2"]]),__vite_glob_0_15=Object.freeze(Object.defineProperty({__proto__:null,default:FormSummaryItem},Symbol.toStringTag,{value:"Module"})),_hoisted_1$R={class:"pa-3 bg-primary"},__default__={data(){return{}},created(){}},_sfc_main$1g=Object.assign(__default__,{__name:"ImpersonateToolbar",props:{modelValue:{type:Boolean,default:!1},active:{type:Boolean,default:!1},users:{type:Array,default(){return[]}},impersonated:{type:Boolean,default:!1},route:{type:String,default:"/users/impersonate/:id"},stopRoute:{type:String,default:"/users/impersonate/stop"}},emits:["update:modelValue"],setup(e,{emit:a}){const o=e,r=a,i=ref(null),n=computed({get(){return o.modelValue},set(s){r("update:modelValue",s)}});watch$1(i,function(s,c){});const l=computed(()=>o.route.replace(":id",i.value));return(s,c)=>(openBlock(),createBlock(VBottomSheet,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=u=>n.value=u)},{activator:withCtx(({props:u})=>[createVNode(VListItem,mergeProps(u,{class:"font-weight-bold mt-2",ripple:!1,append:!1,"prepend-icon":"mdi-account-switch",title:"Impersonate Manager"}),null,16)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$R,[e.impersonated?(openBlock(),createBlock(VBtn,{key:0,color:"red",href:e.stopRoute},{default:withCtx(()=>c[2]||(c[2]=[createTextVNode(" Stop Impersonating ")])),_:1},8,["href"])):createCommentVNode("",!0),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VSelect,{key:1,class:"mt-5",modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),items:e.users,variant:"outlined",density:"compact","item-title":"name","item-value":"id",clearable:""},{item:withCtx(({props:u,item:f})=>[createVNode(VListItem,mergeProps(u,{title:`${f.raw.name} (${f.raw.company_name})`,subtitle:f.raw.email}),null,16,["title","subtitle"])]),_:1},8,["modelValue","items"])),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:2,href:l.value,disabled:!i.value},{default:withCtx(()=>c[3]||(c[3]=[createTextVNode("Impersonate")])),_:1},8,["href","disabled"]))])]),_:1},8,["modelValue"]))}}),__vite_glob_0_16=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1g},Symbol.toStringTag,{value:"Module"})),_sfc_main$1f={name:"ue-list-element",props:{item:{type:Object,required:!0},selectItem:{type:Number,default:0},selectedSubItem:{type:Number,default:0}},data:()=>({open:["Users"],admins:[["Management","mdi-account-multiple-outline"],["Settings","mdi-cog-outline"]],cruds:[["Create","mdi-plus-outline"],["Read","mdi-file-outline"],["Update","mdi-update"],["Delete","mdi-delete"]]})};function _sfc_render$13(e,a,o,r,i,n){return openBlock(),createBlock(VList,{opened:e.open,"onUpdate:opened":a[0]||(a[0]=l=>e.open=l)},{default:withCtx(()=>[createVNode(VListItem,{"prepend-icon":"mdi-home",title:"Home"}),createVNode(VListGroup,{value:"Users"},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps(l,{"prepend-icon":"mdi-account-circle",title:"Users"}),null,16)]),default:withCtx(()=>[createVNode(VListGroup,{value:"Admin"},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps(l,{title:"Admin"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.admins,([l,s],c)=>(openBlock(),createBlock(VListItem,{key:c,title:l,"prepend-icon":s,value:l},null,8,["title","prepend-icon","value"]))),128))]),_:1}),createVNode(VListGroup,{value:"Actions"},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps(l,{title:"Actions"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.cruds,([l,s],c)=>(openBlock(),createBlock(VListItem,{key:c,value:l,title:l,"prepend-icon":s},null,8,["value","title","prepend-icon"]))),128))]),_:1})]),_:1})]),_:1},8,["opened"])}const ListElement=_export_sfc(_sfc_main$1f,[["render",_sfc_render$13]]),__vite_glob_0_17=Object.freeze(Object.defineProperty({__proto__:null,default:ListElement},Symbol.toStringTag,{value:"Module"})),_sfc_main$1e={name:"ue-list-section",props:{title:{type:String},titleTag:{type:String,default:"h3"},titleClasses:{type:String,default:"text-body-1 font-weight-medium"},itemClasses:{type:String,default:"text-body-2"},headerClasses:{type:String,default:"text-body-2 font-weight-bold"},items:{type:Array,required:!0},itemFields:{type:Array,default:()=>["name"]},headers:{type:Array,default:null},showHeader:{type:Boolean,default:!1},colClasses:{type:Array,default:()=>[]},colWidths:{type:Array,default:()=>[]},colRatios:{type:Array,default:()=>[]},rowClassFn:{type:Function,default:null},emptyMessage:{type:String,default:"No items to display"},striped:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},hasRowBottomBorder:{type:Boolean,default:!1},actionsHeader:{type:String,default:""},verticalAlignTop:{type:Boolean,default:!1}},computed:{effectiveHeaders(){return this.headers||this.itemFields.map(e=>e.replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase()))},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.itemFields.length:this.colRatios.reduce((e,a,o)=>e+(a||1),0)}},methods:{getColumnStyle(e){if(this.colWidths&&this.colWidths[e])return{width:this.colWidths[e],flexBasis:this.colWidths[e]};if(this.colRatios&&this.colRatios.length>0){const i=this.colRatios[e]||1,n=i/this.totalRatio*100;return{flex:`${i} 0 0`,maxWidth:`${n}%`}}const a=this.itemFields.length,o=this.$slots["row-actions"]?1:0;return{flex:"1 1 0",maxWidth:`${100/(a+o)}%`}},getRowClass(e,a){let o=[this.itemClasses];if(this.striped&&a%2===1&&o.push("bg-grey-lighten-5"),this.hoverable&&o.push("ue-list-section__row--hoverable"),this.rowClassFn){const r=this.rowClassFn(e,a);r&&o.push(r)}return o.join(" ")}}},_hoisted_1$Q={class:"ue-list-section"},_hoisted_2$G={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_3$C={key:1,class:"ue-list-section__row ue-list-section__row--title"},_hoisted_4$u={class:"ue-list-section__cell"},_hoisted_5$r={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_6$p={key:2,class:"ue-list-section__row ue-list-section__row--empty"},_hoisted_7$j={class:"ue-list-section__row--empty .ue-list-section__cell"};function _sfc_render$12(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$Q,[createBaseVNode("div",{class:normalizeClass(["ue-list-section__container",{"align-top":o.verticalAlignTop}])},[o.showHeader?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-list-section__row ue-list-section__row--header",o.headerClasses])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.effectiveHeaders,(l,s)=>(openBlock(),createElementBlock("div",{key:`header-${s}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[s]??""]]),style:normalizeStyle(n.getColumnStyle(s))},[renderSlot(e.$slots,`header.${s}`,mergeProps({ref_for:!0},{header:l}),()=>[createTextVNode(toDisplayString(l),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_2$G,[renderSlot(e.$slots,"actions-header",{},()=>[createTextVNode(toDisplayString(o.actionsHeader),1)],!0)])):createCommentVNode("",!0)],2)):createCommentVNode("",!0),o.title?(openBlock(),createElementBlock("div",_hoisted_3$C,[createBaseVNode("div",_hoisted_4$u,[(openBlock(),createBlock(resolveDynamicComponent(o.titleTag),{class:normalizeClass(o.titleClasses)},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"]))])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(l,s)=>(openBlock(),createElementBlock("div",{key:`item-${s}`,class:normalizeClass(["ue-list-section__row ue-list-section__row--data",[n.getRowClass(l,s),{"has-bottom-border":o.hasRowBottomBorder}]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.itemFields,(c,u)=>(openBlock(),createElementBlock("div",{key:`item-field-${u}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[u]??""]]),style:normalizeStyle(n.getColumnStyle(u))},[renderSlot(e.$slots,`field.${u}`,mergeProps({ref_for:!0},{value:e.$lodash.get(l,c),item:l,index:s}),()=>[createTextVNode(toDisplayString(e.$lodash.get(l,c,"")),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_5$r,[renderSlot(e.$slots,"row-actions",mergeProps({ref_for:!0},{item:l,index:s}),void 0,!0)])):createCommentVNode("",!0)],2))),128)),o.items.length===0&&o.emptyMessage?(openBlock(),createElementBlock("div",_hoisted_6$p,[createBaseVNode("div",_hoisted_7$j,toDisplayString(o.emptyMessage),1)])):createCommentVNode("",!0)],2)])}const ListSection=_export_sfc(_sfc_main$1e,[["render",_sfc_render$12],["__scopeId","data-v-e89d1f35"]]),__vite_glob_0_18=Object.freeze(Object.defineProperty({__proto__:null,default:ListSection},Symbol.toStringTag,{value:"Module"})),_sfc_main$1d={emits:["update:modelValue"],props:{csrf:{type:String}},data(){return{dialog:!1}}},_hoisted_1$P=["value"];function _sfc_render$11(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:i.dialog,"onUpdate:modelValue":a[1]||(a[1]=c=>i.dialog=c)},e.$bindAttributes(),{"width-type":"md"}),{activator:withCtx(({props:c})=>[renderSlot(e.$slots,"activator",{props:c},()=>[createVNode(VBtn,mergeProps({class:"w-66 m-auto",color:"red lighten-2",dark:""},c),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040)])]),body:withCtx(c=>[createVNode(VCard,{class:"text-center"},{default:withCtx(()=>[createVNode(VCardTitle,{class:""},{default:withCtx(()=>[createVNode(l,{type:"h5",weight:"medium",justify:"center",color:"primary",padding:"t-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Log Out")),1)]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Are you sure you want to logout?")),1)]),_:1}),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(VBtn,{class:"",variant:"outlined",onClick:a[0]||(a[0]=u=>i.dialog=!1),density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Cancel")),1)]),_:1}),createVNode(VForm,{method:"post",action:"/logout"},{default:withCtx(()=>[createBaseVNode("input",{type:"hidden",name:"_token",value:e.$csrf()},null,8,_hoisted_1$P),createVNode(VBtn,{variant:"elevated",type:"submit",density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Log Out")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:3},16,["modelValue"])}const LogoutModal=_export_sfc(_sfc_main$1d,[["render",_sfc_render$11]]),__vite_glob_0_19=Object.freeze(Object.defineProperty({__proto__:null,default:LogoutModal},Symbol.toStringTag,{value:"Module"})),_hoisted_1$O=["innerHTML"],_sfc_main$1c={__name:"MarkdownRender",props:{markdown:{type:String,required:!0}},setup(e){const a=e,o=ref(""),r=ref([]),i=()=>{const n=new Map;return l=>{let s=l.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(n.has(s)){const c=n.get(s)+1;n.set(s,c),s=`${s}-${c}`}else n.set(s,1);return s}};return watch$1(()=>a.markdown,n=>{if(!n){o.value="",r.value=[];return}const l=new d.Renderer,s=i(),c=[];l.heading=u=>{const f=u.depth,p=u.text,m=s(p);return f<=3&&c.push({level:f,id:m,text:p}),`<h${f} id="${m}">${p}</h${f}>`},o.value=d(n,{renderer:l}),r.value=c},{immediate:!0}),(n,l)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{md:r.value.length?9:12,cols:"12",class:"pr-4"},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:o.value,class:"markdown-body"},null,8,_hoisted_1$O)]),_:1},8,["md"]),r.value.length?(openBlock(),createBlock(VCol,{key:0,md:"3",class:"d-none d-md-block"},{default:withCtx(()=>[createVNode(VCard,{class:"sticky-top",flat:""},{default:withCtx(()=>[createVNode(VCardTitle,{class:"text-subtitle-1 py-2 px-3 font-weight-medium"},{default:withCtx(()=>l[0]||(l[0]=[createTextVNode("On this page")])),_:1}),createVNode(VList,{density:"compact",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,s=>(openBlock(),createBlock(VListItem,{class:normalizeClass(["text-body-2 py-1",`heading-level-${s.level}`]),key:s.id,href:`#${s.id}`,title:s.text,style:normalizeStyle({"padding-left":(s.level-1)*16+"px"}),link:""},null,8,["class","href","title","style"]))),128))]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1}))}},MarkdownRender=_export_sfc(_sfc_main$1c,[["__scopeId","data-v-2ee0aec6"]]),__vite_glob_0_20=Object.freeze(Object.defineProperty({__proto__:null,default:MarkdownRender},Symbol.toStringTag,{value:"Module"})),_sfc_main$1b={name:"A17MediaMetadata",props:{media:{type:Object,default:()=>{}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:{fieldName:function(){return`${this.name}[${this.id}]`},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?typeof this.defaultMetadatas=="object"?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":this.defaultMetadatas!==null?this.defaultMetadatas:"":""},...mapState({languages:e=>e.language.all,currentLocale:e=>e.language.active.value})},methods:{saveMetadata:function(e){e.locale||(e={value:e}),e.id=this.id,this.$emit("change",e)}},mounted:function(){const e={};let a="",o=0;this.languages.forEach(r=>{const i=r.value;if(this.customMetadatas){this.customMetadatas[i]?e[i]=this.customMetadatas[i]:(this.customMetadatas===!0||typeof this.customMetadatas=="string")&&o===0?(e[i]=this.customMetadatas,a=this.customMetadatas):e[i]="";const n={};n.name=this.fieldName,n.value=e[i],this.languages.length>1&&(n.locale=i),this.$store.commit(FORM.UPDATE_FORM_FIELD,n)}o++}),this.initialValues=e,this.initialValue=a}},_hoisted_1$N={key:1},_hoisted_2$F=["innerHTML"],_hoisted_3$B={key:3,class:"mediaMetadata__checkbox"};function _sfc_render$10(e,a,o,r,i,n){const l=resolveComponent("a17-locale"),s=resolveComponent("a17-wysiwyg"),c=resolveComponent("a17-textfield"),u=resolveComponent("a17-checkbox");return e.languages.length>1&&n.fieldType==="text"?(openBlock(),createBlock(l,{key:0,type:o.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:n.attributes,onChange:n.saveMetadata},null,8,["type","initialValues","attributes","onChange"])):n.fieldType==="text"&&o.wysiwyg?(openBlock(),createElementBlock("div",_hoisted_1$N,[createVNode(s,{options:o.wysiwygOptions,label:o.label,name:n.fieldName,type:n.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:n.saveMetadata},null,8,["options","label","name","type","initialValue","maxlength","onChange"]),createBaseVNode("p",{class:"f--note f--small",innerHTML:n.placeholder},null,8,_hoisted_2$F)])):n.fieldType==="text"?(openBlock(),createBlock(c,{key:2,label:o.label,name:n.fieldName,type:"text",placeholder:n.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:n.saveMetadata},null,8,["label","name","placeholder","initialValue","maxlength","onChange"])):n.fieldType==="checkbox"?(openBlock(),createElementBlock("div",_hoisted_3$B,[createVNode(u,{label:o.label,name:n.fieldName,initialValue:e.initialValue,value:1,onChange:n.saveMetadata,inStore:"value"},null,8,["label","name","initialValue","onChange"])])):createCommentVNode("",!0)}const MediaMetadata=_export_sfc(_sfc_main$1b,[["render",_sfc_render$10],["__scopeId","data-v-b8b069a3"]]),__vite_glob_0_21=Object.freeze(Object.defineProperty({__proto__:null,default:MediaMetadata},Symbol.toStringTag,{value:"Module"})),_hoisted_1$M={class:"d-flex"},_hoisted_2$E={key:0,class:"d-flex align-center justify-center me-2"},_sfc_main$1a={__name:"Metric",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},color:{type:String,default:null},cardColor:{type:String,default:null},labelColor:{type:String,default:null},valueClass:{type:String,default:""},labelClass:{type:String,default:""},dense:{type:Boolean,default:!1},noInline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},icon:{type:String,default:null},appendIcon:{type:String,default:null},appendIconAttributes:{type:Object,default:()=>({})}},setup(e){const a=e,o=computed(()=>({"d-inline-block":!a.noInline,"ue-metric":!0,"text-center":a.center,"py-1 px-1":!a.dense})),r=computed(()=>["font-weight-bold",a.dense?"text-h4":"text-h3",a.color?`text-${a.color}`:"",a.valueClass]),i=computed(()=>[a.color?`text-${a.color}`:"",a.labelColor?`text-${a.labelColor}`:"",a.dense?"text-caption":"text-subtitle",a.labelClass]);return(n,l)=>(openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value)},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-3 pr-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$M,[e.appendIcon?(openBlock(),createElementBlock("div",_hoisted_2$E,[createVNode(VIcon,mergeProps(e.appendIconAttributes,{icon:e.appendIcon}),null,16,["icon"])])):createCommentVNode("",!0),createBaseVNode("div",null,[renderSlot(n.$slots,"value",normalizeProps(guardReactiveProps({value:e.value,classes:r.value})),()=>[createBaseVNode("div",{class:normalizeClass(r.value)},toDisplayString(e.value),3)],!0),renderSlot(n.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,classes:i.value,icon:e.icon})),()=>[createBaseVNode("div",{class:normalizeClass(i.value)},[e.icon?(openBlock(),createBlock(VIcon,{key:0,icon:e.icon},null,8,["icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.label),1)],2)],!0)])])]),_:3})]),_:3},8,["color","class"]))}},Metric=_export_sfc(_sfc_main$1a,[["__scopeId","data-v-57735a08"]]),__vite_glob_0_22=Object.freeze(Object.defineProperty({__proto__:null,default:Metric},Symbol.toStringTag,{value:"Module"})),_sfc_main$19={__name:"MetricGroups",props:{title:{type:String,default:""},items:{type:Array,required:!0},defaultCol:{type:Object,default:()=>({cols:12})},metricsBgHeaderColor:{type:String,default:null},metricsNoInline:{type:Boolean,default:null},metricColor:{type:String,default:null},metricCardColor:{type:String,default:null},metricLabelColor:{type:String,default:null},metricValueClass:{type:String,default:null},metricLabelClass:{type:String,default:null},metricNoInline:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>({...a.metricColor?{metricColor:a.metricColor}:{},...a.metricCardColor?{metricCardColor:a.metricCardColor}:{},...a.metricLabelColor?{metricLabelColor:a.metricLabelColor}:{},...a.metricValueClass?{metricValueClass:a.metricValueClass}:{},...a.metricLabelClass?{metricLabelClass:a.metricLabelClass}:{},...a.metricNoInline?{metricNoInline:a.metricNoInline}:{}})),r=computed(()=>a.items.map(i=>({...a.metricsBgHeaderColor?{bgHeaderColor:a.metricsBgHeaderColor}:{},...a.metricsNoInline?{noInline:a.metricsNoInline}:{},...o.value,...i})));return(i,n)=>{const l=resolveComponent("ue-metrics");return openBlock(),createBlock(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(s,c)=>(openBlock(),createBlock(VCol,mergeProps({key:c,ref_for:!0},{...e.defaultCol,...s.col??{}}),{default:withCtx(()=>[createVNode(l,mergeProps({ref_for:!0},{...i.$lodash.omit(s,"col")}),null,16)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})}}},__vite_glob_0_23=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$19},Symbol.toStringTag,{value:"Module"})),_hoisted_1$L={class:"py-2"},_sfc_main$18={__name:"Metrics",props:{title:{type:String,required:!0},subtitle:{type:String,default:null},items:{type:Array,default:()=>[]},color:{type:String,default:null},cardColor:{type:String,default:null},filterColor:{type:String,default:null},bgHeaderColor:{type:String,default:null},hasGutter:{type:Boolean,default:!1},gutterStep:{type:Number,default:1},rowClass:{type:String,default:null},noInline:{type:Boolean,default:!1},dateLabel:{type:String,default:"Today"},date:{type:String,default:null},metricWidth:{type:[String,Number],default:null},minMetricWidth:{type:[String,Number],default:130},metricAttributes:{type:Object,default:()=>({})},endpoint:{type:String,default:null}},setup(e){const a=e,o=computed(()=>[a.noInline?"":"d-inline-block"]),r=computed(()=>[a.bgHeaderColor?`bg-${a.bgHeaderColor}`:"","d-flex justify-space-between align-center pa-4"]),i=computed(()=>[a.color?`text-${a.color}`:"","font-weight-medium text-body-1 text-wrap"]),n=computed(()=>[a.filterColor?`text-${a.filterColor}`:"","d-flex align-center"]),l=computed(()=>["d-flex flex-wrap ga-4",a.rowClass?a.rowClass:"",a.hasGutter?`mx-n${a.gutterStep}`:""]),s=computed(()=>({...a.metricAttributes??{}})),c=ref(a.items),u=computed(()=>c.value.filter(y=>y.connectorFilter&&isObject(y.connectorFilter)&&y.connectorFilter.name&&y.connectorFilter.args)),f=computed(()=>u.value.length>0),p=ref(null),m=ref(!1),g=()=>{m.value=!0,axios.post(a.endpoint,{date_range:p.value,items:c.value}).then(y=>{y.data.variant==="success"&&(c.value=y.data.data)}).catch(y=>{console.log(y)}).finally(()=>{m.value=!1})};return watch$1(p,(y,h)=>{(Array.isArray(y)&&y.length>1||!y&&h&&h.length>1)&&g()}),(y,h)=>{const v=resolveComponent("ue-title"),C=resolveComponent("v-date-input"),b=resolveComponent("ue-metric");return openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value),elevation:"0"},{default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(r.value)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$L,[createVNode(v,{padding:"a-0",text:e.title,class:normalizeClass(i.value)},null,8,["text","class"]),createVNode(v,{padding:"a-0",text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none"},null,8,["text"])]),f.value&&e.endpoint?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.value),style:{width:"280px"}},[createVNode(C,{modelValue:p.value,"onUpdate:modelValue":h[0]||(h[0]=S=>p.value=S),Xlabel:y.$t(""),"validate-on":"submit blur",variant:"outlined",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"",required:"","hide-details":"",multiple:"range",clearable:"",disabled:m.value,class:"w-100"},null,8,["modelValue","Xlabel","disabled"])],2)):createCommentVNode("",!0)]),_:1},8,["class"]),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(l.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(S,k)=>(openBlock(),createBlock(b,mergeProps({key:k,style:[e.metricWidth?`width: ${e.metricWidth}`:"",e.minMetricWidth?`min-width: ${e.minMetricWidth}px`:""],dense:"","no-inline":"",ref_for:!0},{...s.value,...S}),createSlots({_:2},[S.filtered?{name:"value",fn:withCtx(B=>[createVNode(VBadge,{color:"grey-lighten-4",class:"text-white",icon:"mdi-filter-check",inline:"",Xdot:"","X-floating":""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(B.classes)},toDisplayString(B.value),3)]),_:2},1024)]),key:"0"}:void 0]),1040,["style"]))),128))],2)]),_:1})]),_:1},8,["color","class"])}}},__vite_glob_0_24=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$18},Symbol.toStringTag,{value:"Module"})),_sfc_main$17={name:"ue-navigation-group",inject:["activeMenu"],props:{items:{type:Array,required:!0},level:{type:Number,default:0},hideIcons:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1},profileMenu:{type:Boolean,default:!1}},setup(e,a){const o=(r,i)=>(Array.isArray(i)&&i.forEach(function(n){__isset(n.is_active)&&n.is_active&&__isset(n.items)&&(r.push(n.name),o(r,n.items))}),r);return{getListGroupOpens:o}},data:()=>({opened:[]}),computed:{activeIndex:{get(){try{return this.items.findIndex(e=>e.is_active==1)}catch{return 0}},set(e){}},style(){return{marginLeft:"0rem"}}},created(){this.opened=this.getListGroupOpens([],this.items)},watch:{},methods:{getComponentType(e){return this.isSubgroup(e)?"v-list-group":this.isMenu(e)?"v-menu-wrapper":"v-list-item"},getComponentProps(e,a){const o={index:a};return this.isSubgroup(e)?{...e.props??{},"prepend-icon":e.icon,value:e.name,items:e.items,level:this.level+1,...o}:this.isMenu(e)?{item:e,...e.props??{},hideIcons:this.hideIcons,...o}:{...o,...this.getListItemProps(e,a)}},getListItemProps(e,a){const o={nav:!0,active:this.activeIndex===a,ripple:!1,append:!1,title:e.name,"prepend-icon":this.hideIcons?null:e.icon};return this.isRoute(e)?(o.href=e.route||e.href,Object.assign(o,this.$bindAttributes(e))):this.isEvent(e)?o.onClick=()=>this.$call(e.event):this.isMenuRoute(e)?(o.density="compact",o.href=e.route||e.href,o.slim=!0,o.class={"px-4":!this.hideIcons,"ml-2":!0},Object.assign(o,this.$bindAttributes(e))):this.isHeader(e)&&(o.inactive=!0,o.disabled=!0),o},getListGroupOpens(e,a){return Array.isArray(a)&&a.forEach(o=>{o.is_active&&o.items&&(e.push(o.name),this.getListGroupOpens(e,o.items))}),e},isSubgroup:e=>!!e.items,isRoute(e){return!e.items&&(!!e.route||!!e.href)&&!this.profileMenu},isEvent:e=>!!e.attr,isHeader:e=>!e.href&&!e.route&&!e.items&&!!e.name,isMenu:e=>!!e.menuItems,isMenuRoute(e){return!e.menuItems&&this.profileMenu&&(!!e.route||!!e.href)},formatBadgeContent(e){let a=parseInt(e);return a>9?"9+":a}}};function _sfc_render$$(e,a,o,r,i,n){const l=resolveComponent("ue-navigation-group");return openBlock(),createBlock(VList,{modelValue:n.activeIndex,"onUpdate:modelValue":a[0]||(a[0]=s=>n.activeIndex=s),opened:e.opened,"onUpdate:opened":a[1]||(a[1]=s=>e.opened=s),style:normalizeStyle(n.style),"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,class:"mb-2 pl-0",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(s,c)=>(openBlock(),createElementBlock(Fragment,{key:c},[n.isSubgroup(s)?(openBlock(),createBlock(VListGroup,{key:c+"subgroup",index:c,ripple:!0,"prepend-icon":s.icon,"sub-group":!1,"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,value:s.name},{activator:withCtx(({props:u})=>[createVNode(VTooltip,{bottom:"",disabled:!o.showTooltip},{activator:withCtx(f=>[createBaseVNode("div",mergeProps({ref_for:!0},f.props),[createVNode(VListItem,mergeProps({ref_for:!0},u,{title:s.name,"prepend-icon":o.hideIcons?null:s.icon,nav:""}),createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(p=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:s.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040,["title","prepend-icon"])],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"])]),default:withCtx(()=>[createVNode(l,{items:s.items,level:o.level+1,hideIcons:o.hideIcons,"show-tooltip":o.showTooltip},null,8,["items","level","hideIcons","show-tooltip"])]),_:2},1032,["index","prepend-icon","active-class","value"])):n.isMenu(s)?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VListItem,{nav:"",title:s.name,"prepend-icon":s.icon,"append-icon":"mdi-menu-right",density:"compact",id:s.menuActivator,slim:!0,onClick:u=>e.$emit("activateMenu",s.menuActivator)},createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(u=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:s.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1032,["title","prepend-icon","id","onClick"]),n.activeMenu===`#${s.menuActivator}`?(openBlock(),createBlock(VMenu,{key:0,location:"end",activator:n.activeMenu},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(l,{items:Object.values(s.menuItems),"show-tooltip":o.showTooltip},null,8,["items","show-tooltip"])]),_:2},1024)]),_:2},1032,["activator"])):createCommentVNode("",!0)],64)):(openBlock(),createBlock(VTooltip,{key:2,bottom:"",disabled:!o.showTooltip},{activator:withCtx(({props:u})=>[createBaseVNode("div",mergeProps({ref_for:!0},u),[(openBlock(),createBlock(resolveDynamicComponent(n.getComponentType(s)),mergeProps({ref_for:!0},n.getComponentProps(s,c)),createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(f=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,mergeProps({ref_for:!0},s.iconProps??{},{icon:s.icon}),null,16,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040))],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"]))],64))),128))]),_:1},8,["modelValue","opened","style","active-class"])}const NavigationGroup=_export_sfc(_sfc_main$17,[["render",_sfc_render$$]]),__vite_glob_0_25=Object.freeze(Object.defineProperty({__proto__:null,default:NavigationGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$16={props:{payload:{type:Object,required:!0},endpoint:{type:String,required:!0},printKeys:{type:[Array,Object],required:!0},loadingText:{type:String,default:"Loading..."}},data(){return{values:{},loading:!0}},methods:{getDisplayText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||0]=="string")return e[this.printKeys[a||0]];const o=this.printKeys[a||0];return e[o==null?void 0:o.text]}return e[this.printKeys.text]??""},getSubText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||1]=="string")return e[this.printKeys[a||1]];const o=this.printKeys[a||0];return e[o==null?void 0:o.subText]}return e[this.printKeys.subText]??""},async sendRequest(){this.loading=!0;try{const e=await axios$1.post(this.endpoint,this.payload);e.status===200&&(this.values=e.data)}catch(e){console.error("Error calculating price:",e)}finally{this.loading=!1}}},mounted(){this.sendRequest()},watch:{payload:{handler(){this.sendRequest()},deep:!0}}},_hoisted_1$K={key:0,class:"d-flex flex-column align-center"},_hoisted_2$D={class:"mt-2"};function _sfc_render$_(e,a,o,r,i,n){const l=resolveComponent("ue-text-display");return openBlock(),createElementBlock("div",null,[i.loading?(openBlock(),createElementBlock("div",_hoisted_1$K,[createVNode(VProgressCircular,{indeterminate:"",color:"primary"}),createBaseVNode("span",_hoisted_2$D,toDisplayString(o.loadingText),1)])):(openBlock(),createElementBlock(Fragment,{key:1},[Array.isArray(i.values)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(i.values,(s,c)=>(openBlock(),createElementBlock("div",{key:c},[createVNode(l,{class:"text-h5",text:n.getDisplayText(s,c),"sub-text":n.getSubText(s,c)},null,8,["text","sub-text"])]))),128)):(openBlock(),createBlock(l,{key:1,class:"text-h5",text:n.getDisplayText(i.values),"sub-text":n.getSubText(i.values)},null,8,["text","sub-text"]))],64))])}const PrintRequest=_export_sfc(_sfc_main$16,[["render",_sfc_render$_]]),__vite_glob_0_26=Object.freeze(Object.defineProperty({__proto__:null,default:PrintRequest},Symbol.toStringTag,{value:"Module"})),_hoisted_1$J={key:0},_hoisted_2$C=["innerHTML"],_hoisted_3$A=["innerHTML"],_sfc_main$15={__name:"PropertyList",props:{data:{type:[Array,Object],default:()=>[]},noPadding:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>Array.isArray(a.data)?a.data:typeof a.data=="object"&&a.data!==null?Object.entries(a.data).map(([i,n])=>[i,n]):[]),r=i=>!i||i.length===0?null:i.map(l=>Array.isArray(l)?l.join(", "):l).join(", ");return(i,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["ue-property-list",e.noPadding?"":"ue-property-list--padding"])},[!o.value||o.value.length===0?(openBlock(),createElementBlock("div",_hoisted_1$J,"No data available")):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(o.value,(l,s)=>(openBlock(),createElementBlock("div",{key:s,class:"ue-property-list__item d-flex flex-wrap"},[createBaseVNode("span",{class:"text-caption font-weight-bold pr-1",innerHTML:l[0].trim()+(l.slice(1).length>0?":":"")},null,8,_hoisted_2$C),createBaseVNode("span",{class:"text-caption",innerHTML:r(l.slice(1))},null,8,_hoisted_3$A)]))),128))],2))}},PropertyList=_export_sfc(_sfc_main$15,[["__scopeId","data-v-b43b9e9f"]]),__vite_glob_0_27=Object.freeze(Object.defineProperty({__proto__:null,default:PropertyList},Symbol.toStringTag,{value:"Module"})),_sfc_main$14={name:"ue-recursive-data-viewer",props:{data:{type:[Array,Object,String,Number,Boolean],required:!0},allArrayItemsClosed:{type:Boolean,default:!1},allArrayItemsOpen:{type:Boolean,default:!1},arrayIndex:{type:Number,default:null},objectDepth:{type:Number,default:0},allObjectsClosed:{type:Boolean,default:!1},allObjectsOpen:{type:Boolean,default:!1},objectTitle:{type:String,default:null}},data(){return{isExpanded:this.determineInitialExpanded(),expandedItems:new Set(this.determineInitialExpandedItems())}},methods:{determineInitialExpanded(){return Array.isArray(this.data)?this.allArrayItemsClosed?!1:this.allArrayItemsOpen?!0:this.arrayIndex===0:typeof this.data=="object"&&this.data!==null?this.allObjectsClosed?!1:this.allObjectsOpen?!0:this.objectDepth===0:!0},determineInitialExpandedItems(){return this.allArrayItemsClosed?[]:this.allArrayItemsOpen?Array.from({length:this.data.length},(e,a)=>a):[0]},toggleItem(e){this.expandedItems.has(e)?this.expandedItems.delete(e):this.expandedItems.add(e)},isItemExpanded(e){return this.expandedItems.has(e)},getPreview(e){return Array.isArray(e)?`Array(${e.length})`:typeof e=="object"&&e!==null?"Object":typeof e=="string"?`"${e.substring(0,30)}${e.length>30?"...":""}"`:String(e)}}},_hoisted_1$I={class:"text-body-2"},_hoisted_2$B={class:"array-items"},_hoisted_3$z={class:""},_hoisted_4$t={class:"json-key"},_hoisted_5$q={class:"json-value"},_hoisted_6$o={key:2};function _sfc_render$Z(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-data-viewer");return Array.isArray(o.data)?(openBlock(),createBlock(VCard,{key:0,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"py-2 px-4"},{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-code-brackets",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_1$I,"Array ("+toDisplayString(o.data.length)+" items)",1)]),_:1}),createBaseVNode("div",_hoisted_2$B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(s,c)=>(openBlock(),createElementBlock("div",{key:c,class:"array-item"},[createVNode(VCard,{variant:"flat",class:"mb-1"},{default:withCtx(()=>[createVNode(l,{data:s,"array-index":0,"object-depth":c===0?o.objectDepth:o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open"])]),_:2},1024)]))),128))])]),_:1})):typeof o.data=="object"&&o.data!==null?(openBlock(),createBlock(VCard,{key:1,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center py-2 px-4 collapsible-header text-body-2",onClick:a[0]||(a[0]=s=>i.isExpanded=!i.isExpanded)},{default:withCtx(()=>[createVNode(VIcon,{icon:i.isExpanded?"mdi-chevron-down":"mdi-chevron-right",class:"mr-2",size:"small"},null,8,["icon"]),createVNode(VIcon,{icon:"mdi-code-braces",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_3$z," Object ("+toDisplayString(Object.keys(o.data).length)+" properties) ",1)]),_:1}),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",null,[createVNode(VTable,{density:"compact",class:"json-table"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(s,c)=>(openBlock(),createElementBlock("tr",{key:c,class:"json-row"},[createBaseVNode("td",_hoisted_4$t,toDisplayString(c),1),createBaseVNode("td",_hoisted_5$q,[createVNode(l,{data:s,"array-index":0,"object-depth":o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen,"object-titlex":e.window.__isObject(s)?c:null},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open","object-titlex"])])]))),128))])]),_:1})],512),[[vShow,i.isExpanded]])]),_:1})]),_:1})):(openBlock(),createElementBlock("span",_hoisted_6$o,toDisplayString(o.data),1))}const RecursiveDataViewer=_export_sfc(_sfc_main$14,[["render",_sfc_render$Z],["__scopeId","data-v-c5013ed3"]]),__vite_glob_0_28=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveDataViewer},Symbol.toStringTag,{value:"Module"})),_sfc_main$13={props:{configuration:{type:[Object,Array,String],default(){return{}}},level:{type:Number,default:0},bindData:{type:Object,default(){return{}}}},setup(props,context){const{castObjectAttributes}=useCastAttributes(),FuncPattern=/^\{(.*)\}$/,CastPattern=/\$([\w|.|\_|\-]+)/,slots=computed(()=>props.configuration.hasOwnProperty("slots")?props.configuration.slots:{});function isTextable(e){return isString(e)||isNumber(e)}function hasSlot(e){return e.hasOwnProperty("slots")}function isObject(e){return __isObject(e)}function applyCasting(value,funcs=[]){if(!window.__isString(value))return value;if(FuncPattern.test(value)){const matches=value.match(FuncPattern),evalText=matches[1];let evalParts=evalText.split(" ").map(e=>{if(CastPattern.test(e)){let o=e.match(CastPattern)[1],r=__data_get(props.bindData,o,void 0);if(r!==void 0)return r}return e});try{return eval(evalParts.join(" "))}catch(e){console.error(e)}}if(CastPattern.test(value)){const e=value.match(CastPattern);if(e){let a=get(props.bindData,e[1]);if(a!==void 0)try{funcs.forEach(o=>{window[o]&&typeof window[o]=="function"&&(a=window[o](a))})}catch(o){console.error(o)}return a}}return value}const filteredAttributes=cloneDeep(props.configuration.attributes),castedAttributes=computed(()=>{const e=props.configuration.attributes??{},a=cloneDeep(e);return castObjectAttributes(a,props.bindData)}),bindAttributes=computed(()=>{const e=props.bindData;let a={};if(e&&isObject(e)){let o=props.configuration.bind;o&&(isString(o)&&(o=[o]),isArray(o)&&e&&o.forEach(r=>{let i=r,n=r.match(CastPattern);n&&(i=n[1]);let l;Object.prototype.hasOwnProperty.call(e,i)?l=__data_get(e,i,void 0):Object.prototype.hasOwnProperty.call(e,r)&&(l=__data_get(e,r,void 0)),l!==void 0&&(a={...a,...l})}))}return a}),castedElements=computed(()=>{let e=props.configuration.elements??"";return e&&castObjectAttributes(e,props.bindData)});return{isTextable,isArray,isObject,applyCasting,castObjectAttributes,hasSlot,filteredAttributes,castedAttributes,castedElements,bindAttributes,slots}},data(){return{}},created(){}};function _sfc_render$Y(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return!o.configuration.tag&&r.isTextable(r.castedElements)?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(r.applyCasting(r.castedElements)),1)],64)):!o.configuration.tag&&r.isArray(r.castedElements)?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(r.castedElements,(s,c)=>(openBlock(),createBlock(resolveDynamicComponent(s.tag),mergeProps({key:`tag-${o.level}-${c}`,ref_for:!0},s.attributes),{default:withCtx(()=>[createTextVNode(toDisplayString(r.castObjectAttributes(s.elements,o.bindData)),1)]),_:2},1040))),128)):o.configuration.tag?(openBlock(),createBlock(resolveDynamicComponent(o.configuration.tag),normalizeProps(mergeProps({key:2},{...r.filteredAttributes,...r.bindAttributes,...r.castedAttributes})),createSlots({default:withCtx(()=>[r.isArray(r.castedElements)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(r.castedElements,(s,c)=>(openBlock(),createBlock(l,{key:`tag-${o.level}-${c}`,level:o.level+1,configuration:s,"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"]))),128)):createCommentVNode("",!0),r.isObject(r.castedElements)?(openBlock(),createBlock(l,{key:`tag-${o.level}-${e.i}`,level:o.level+1,configuration:r.castObjectAttributes(o.configuration.elements,o.bindData),"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"])):r.isTextable(r.castedElements)?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(r.applyCasting(r.castedElements)),1)],64)):createCommentVNode("",!0)]),_:2},[renderList(r.slots,(s,c)=>({name:`${c}`,fn:withCtx(u=>[createVNode(l,{level:o.level+1,configuration:s,"bind-data":{...o.bindData,...u}},null,8,["level","configuration","bind-data"])])}))]),1040)):createCommentVNode("",!0)}const RecursiveStuff=_export_sfc(_sfc_main$13,[["render",_sfc_render$Y]]),__vite_glob_0_29=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveStuff},Symbol.toStringTag,{value:"Module"})),_sfc_main$12={name:"StepperHeader",props:{forms:{type:Array,required:!0},activeStep:{type:Number,required:!0}},emits:["step-click"]},_hoisted_1$H=["onClick"];function _sfc_render$X(e,a,o,r,i,n){return openBlock(),createBlock(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(l,s)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${s}`,complete:o.activeStep>s+1,title:l.title,value:s+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{icon:withCtx(c=>[c.hasCompleted?(openBlock(),createBlock(VIcon,{key:0,icon:"$check",color:"white",onClick:u=>e.$emit("step-click",c.step)},null,8,["onClick"])):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(c.step),1)],64))]),title:withCtx(c=>[createBaseVNode("div",{onClick:u=>e.$emit("step-click",s+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([c.hasCompleted||c.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(c.title),3)],8,_hoisted_1$H)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:o.activeStep>o.forms.length,title:"Preview & Summary",value:o.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(l=>[createBaseVNode("span",{class:normalizeClass([l.hasCompleted||l.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(l.title),3)]),_:1},8,["complete","value"])]),_:1})}const StepperHeader=_export_sfc(_sfc_main$12,[["render",_sfc_render$X]]),_sfc_main$11={name:"StepperContent",props:{modelValue:{type:Array,required:!0},forms:{type:Array,required:!0},schemas:{type:Array,required:!0,default:()=>[]},activeStep:{type:Number,required:!0},formRefs:{type:Array,required:!0},isEditing:{type:Boolean,default:!1},maxHeight:{type:String,default:"84vh"},coverHeight:{type:Number,default:0}},emits:["form-input","form-valid","update:modelValue","update:schemas"],data(){return{models:cloneDeep(this.modelValue),localSchemas:cloneDeep(this.schemas)}},computed:{inputModels:{get(){return this.modelValue},set(e,a){}},inputSchemas:{get(){return this.schemas},set(e,a){isEqual(e,a)}}},methods:{updateFormModel(e,a){this.models.splice(a,1,e)},updateFormSchema(e,a){this.localSchemas.splice(a,1,cloneDeep(e))}},watch:{modelValue:{handler(e){isEqual(e,this.models)||(this.models=cloneDeep(e))},deep:!0},schemas:{handler(e){isEqual(e,this.localSchemas)||(this.localSchemas=cloneDeep(e))},deep:!0},models:{handler(e){isEqual(e,this.modelValue)||this.$emit("update:modelValue",cloneDeep(e))},deep:!0},localSchemas:{handler(e){isEqual(e,this.schemas)||this.$emit("update:schemas",cloneDeep(e))},deep:!0}}};function _sfc_render$W(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(s,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{id:"ue-stepper-content-window",class:"fill-height overflow-y-auto px-4",style:normalizeStyle(`max-height: calc(${o.maxHeight} - ${o.coverHeight}px)`)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(c,u)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${u}`,value:u+1},{default:withCtx(()=>[o.activeStep>u?(openBlock(),createBlock(l,{key:0,ref_for:!0,ref:o.formRefs[u],id:`stepper-form-${u+1}`,isEditing:o.isEditing,modelValue:i.models[u],"onUpdate:modelValue":[f=>i.models[u]=f,f=>n.updateFormModel(f,u)],XmodelValue:n.inputModels[u],"onXupdate:modelValue":f=>n.updateFormModel(f,u),schema:i.localSchemas[u],"onUpdate:schema":f=>n.updateFormSchema(f,u),Xschema:n.inputSchemas[u],"onXupdate:schema":f=>n.updateFormSchema(f,u),onInput_:a[0]||(a[0]=f=>e.$log("input emitted from form on steppercontent",f)),onInput:f=>e.$emit("form-input",{event:f,index:u}),"onUpdate:valid":f=>e.$emit("form-valid",{event:f,index:u}),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","XmodelValue","onXupdate:modelValue","schema","onUpdate:schema","Xschema","onXupdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:o.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview")]),_:3},8,["value"])]),_:3},8,["style"])]),_:3})}const StepperContent=_export_sfc(_sfc_main$11,[["render",_sfc_render$W]]),_sfc_main$10={name:"StepperSummary",props:{isLastStep:Boolean,forms:Array,activeStep:Number,models:Array,schemas:Array,previewModel:Array,previewTitles:Array,isPreviewModelFilled:Function},emits:["next-form","complete-form"]};function _sfc_render$V(e,a,o,r,i,n){const l=resolveComponent("ue-form-summary-item"),s=resolveComponent("v-btn-secondary"),c=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(c,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[o.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(o.isLastStep,"")])},{default:withCtx(()=>[o.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:o.models,schema:o.schemas,previewModel:o.previewModel,onComplete:()=>e.$emit("complete-form")}))):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(u,f)=>renderSlot(e.$slots,`summary-form-${f+1}`,mergeProps({key:`stepper-summary-item-${f}`,ref_for:!0},{index:f,order:f+1,title:o.previewTitles[f],isPreviewModelFilled:o.isPreviewModelFilled,model:o.models[f],schema:o.schemas[f],previewModel:o.previewModel[f]??{},length:o.forms.length}),()=>[o.isPreviewModelFilled(f)&&f!==0&&f<o.forms.length-1?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),o.isPreviewModelFilled(f)?(openBlock(),createBlock(l,{key:1,index:f,title:o.previewTitles[f],model:o.previewModel[f]},null,8,["index","title","model"])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(s,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:a[0]||(a[0]=u=>e.$emit("next-form",o.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])}const StepperSummary=_export_sfc(_sfc_main$10,[["render",_sfc_render$V]]),_sfc_main$$={name:"StepperPreview",emits:["final-form-action"],props:{formattedPreview:{type:Array,default:()=>[]},previewFormData:{type:Array,default:()=>[]},lastStepModel:{type:Object,required:!0},finalFormTitle:{type:String,required:!0},finalFormSubtitle:{type:String,default:null},protectedLastStepModel:{type:Object,default:()=>{}}},methods:{fieldSelected(e){const a=e.fieldName,o=this.lastStepModel[a]??[],r=e._fieldFormat??"id",i=e._fieldFormatUniqueKey??"id",n=e._fieldFormatSourceKey??"id";let l=!1;if(isString(r))result=includes(o,e[r]);else if(isObject(r)){let s=o.find(c=>c[i]===e[n]);l=s!=null}return l},getFieldIcon(e){return this.fieldSelected(e)?"mdi-minus":"mdi-plus"},getFieldColor(e){return this.fieldSelected(e)?"grey":"primary"},isReadOnly(e){const a=e.fieldName,o=this.protectedLastStepModel[a]??[],r=e._fieldFormat??"id",i=e._fieldFormatUniqueKey??"id",n=e._fieldFormatSourceKey??"id";let l=!1;if(isString(r))l=includes(o,e[r]);else if(isObject(r)){let s=o.find(c=>__isset(e[n])&&__isset(c[i])&&c[i]===e[n]);l=s!=null}return l}},created(){}},_hoisted_1$G={class:"d-flex flex-column ga-2 my-4"},_hoisted_2$A={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$y=["innerHTML"],_hoisted_4$s={key:0,class:"text-caption mt-4 d-flex ga-4 flex-wrap"},_hoisted_5$p={class:"text-h4 font-weight-medium py-auto justify-center w-100"},_hoisted_6$n={class:"d-flex fill-height align-content-md-center"};function _sfc_render$U(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-configurable-card"),c=resolveDirective("fit-grid");return openBlock(),createBlock(VSheet,null,{default:withCtx(()=>[createVNode(l,{type:"body-1",weight:"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.formattedPreview,(u,f)=>(openBlock(),createBlock(VCol,{key:`summary-${f}`,cols:"12",md:u.col||6,class:"d-flex"},{default:withCtx(()=>[createVNode(s,mergeProps({ref_for:!0},u,{elevation:"2","title-color":"primary",class:"my-2 w-100 h-100","col-padding-x":"4"}),null,16)]),_:2},1032,["md"]))),128)),o.previewFormData.length>0?withDirectives((openBlock(),createBlock(VCol,{key:0,cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$G,[createVNode(l,{type:"body-1","font-weight":"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormTitle),1)]),_:1}),o.finalFormSubtitle?(openBlock(),createBlock(l,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormSubtitle),1)]),_:1})):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.previewFormData,(u,f)=>(openBlock(),createBlock(s,{key:`final-form-data-${f}`,"row-min-height":"120px",style:{"background-color":"transparent","min-height":"150px"},class:normalizeClass([[n.fieldSelected(u)?"bg-primary":"bg-grey-lighten-5","w-100"],"mb-4 py-4"]),elevation:"2","col-padding-x":"4",items:u.form_card_items||[[u.name||"N/A ",u.description||"N/A",u.tags||[]],u.base_price_without_vat_formatted||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{0:"",1:"",_actions:""},"column-classes":{0:"flex-1-1-0",1:"flex-0-1 d-flex align-center",_actions:"flex-0-1"}},{"segment.1":withCtx(p=>[createBaseVNode("div",_hoisted_2$A,toDisplayString(p.data[0]),1),createBaseVNode("p",{class:"text-caption",style:{"white-space":"pre-wrap","word-wrap":"break-word"},innerHTML:p.data[1]},null,8,_hoisted_3$y),Array.isArray(p.data[2])&&p.data[2].length>0?(openBlock(),createElementBlock("div",_hoisted_4$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.data[2],m=>(openBlock(),createBlock(VChip,{key:m,variant:"outlined",size:"small",class:""},{default:withCtx(()=>[createTextVNode(toDisplayString(m.name??m.slug),1)]),_:2},1024))),128))])):createCommentVNode("",!0)]),"segment.2":withCtx(p=>[createBaseVNode("div",_hoisted_5$p,toDisplayString(p.data),1)]),"segment.actions":withCtx(p=>[createBaseVNode("div",_hoisted_6$n,[createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":p.actionProps.actionIconMinHeight,"min-height":p.actionProps.actionIconMinHeight,size:p.actionProps.actionIconSize,icon:n.getFieldIcon(u),color:n.getFieldColor(u),onClick:m=>e.$emit("final-form-action",{index:f,event:!n.fieldSelected(u)}),readonly:n.isReadOnly(u)},null,8,["min-width","min-height","size","icon","color","onClick","readonly"])])]),_:2},1032,["class","items"]))),128))]),_:1})]),_:1})),[[c]]):createCommentVNode("",!0)]),_:1})]),_:1})}const StepperPreview=_export_sfc(_sfc_main$$,[["render",_sfc_render$U],["__scopeId","data-v-e813b9cb"]]),_sfc_main$_={name:"StepperFinalSummary",props:{loading:{type:Boolean,default:!1},isCompleted:{type:Boolean,default:!1}},emits:["complete"]},_hoisted_1$F={class:"py-0"},_hoisted_2$z={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$x={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$r={class:"text-caption text-grey-lighten-1 mb-6"};function _sfc_render$T(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-text-display"),c=resolveComponent("v-btn-secondary");return openBlock(),createElementBlock(Fragment,null,[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(l,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider,{style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),renderSlot(e.$slots,"body",{},void 0,!0)]),_:3}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$F,[createBaseVNode("td",_hoisted_2$z,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$x,[renderSlot(e.$slots,"total",{},()=>[createVNode(s,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})],!0)])])])]),_:3}),createBaseVNode("div",_hoisted_4$r,[renderSlot(e.$slots,"description",{},()=>[a[1]||(a[1]=createTextVNode(" At "))],!0)]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(c,{class:"v-stepper-form__nextButton",block:"",disabled:o.loading||o.isCompleted,loading:o.loading,onClick:a[0]||(a[0]=u=>e.$emit("complete"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete Request").toUpperCase()),1)]),_:1},8,["disabled","loading"])]),_:1})],64)}const StepperFinalSummary=_export_sfc(_sfc_main$_,[["render",_sfc_render$T],["__scopeId","data-v-eaf07dc3"]]),_sfc_main$Z={name:"StepperForm",components:{StepperHeader,StepperContent,StepperSummary,StepperPreview,StepperFinalSummary},props:{flexBreakpoint:{type:String,default:null,validator:e=>["sm","md","lg","xl","xxl"].includes(e)},forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:[Array,Object],default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormSubtitle:{type:String,default:null},finalFormFields:{type:Array,default:()=>[]},validationScrollingDuration:{type:Number,default:1e3},validationScrollingEasing:{type:String,default:"easeInOutCubic"},validationScrollingOffset:{type:Number,default:0},protectInitialValue:{type:Boolean,default:!1},responseModalIcon:{type:String,default:"mdi-check-circle-outline"},responseModalTitle:{type:String,default:"Request Complete"},responseModalMessage:{type:String,default:"Congratulations! Your request was completed successfully."},responseModalButtonText:{type:String,default:"Ok"},responseModalOptions:{type:Object,default:()=>({})}},setup(e,a){const o=useInputHandlers(),r=useValidation(e),i=useGoTo(),n=ref(null),l=ref(!1),s=reactive({stepperActionRef:n,loading:l}),c=computed(()=>map(e.forms,(u,f)=>ref(null)));return{...o,...r,...toRefs(s),formRefs:c,goTo:i}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,lastFormPreviewLoading:!1,schemas:[],models:[],valids:[],lastFormPreview:[],lastStepModel:{},protectedLastStepModel:{},previewModel:[],pendingHandleFunctions:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var o;const e=(o=this.payload)!=null&&o.id?"put":"post",a=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(r){r.status===200&&r.data.variant==="success"?(a.loading=!1,a.isCompleted=!0,a.modalMessage=r.data.message,a.modalActive=!0):(a.loading=!1,this.$store.commit(ALERT.SET_ALERT,r.data))},function(r){a.loading=!1,__log(r)})},isPreviewModelFilled(e){const a=this.previewModel[e]??{};let o=!1;for(const r in a)if(a){o=!0;break}return o},handleInput(e){const{event:a,index:o}=e,{on:r,key:i,obj:n,value:l}=a;if(r==="input"&&i){let s=get(this.models[o],i);JSON.stringify(s)!==JSON.stringify(l)?this.pendingHandleFunctions.push((c,u,f)=>{handleMultiFormEvents(c,u,n.schema,o,f)}):handleMultiFormEvents(this.models,this.schemas,n.schema,o,this.previewModel)}},updateFormValid(e){const{event:a,index:o}=e;this.valids[o]=a},goStep(e){if(e<this.activeStep){this.activeStep=e;return}this.valids.slice(0,e-1).every(a=>a===!0)&&(this.activeStep=e)},async nextForm(e){await this.validateForm(e),this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const o=this.formRefs[e].value[0];o.manualValidation=!0;const r=await o.validate();return o.manualValidation=!1,isBoolean(r.valid)&&r.valid===!1&&this.$nextTick(()=>{const i=this.$el.querySelector(".v-input--error .v-input__details[role='alert'] .v-messages");i&&this.goTo(i,{container:"#ue-stepper-content-window",duration:this.validationScrollingDuration,offset:this.validationScrollingOffset,easing:this.validationScrollingEasing})}),r},handleFinalFormAction({index:e,event:a}){const o=this.lastFormPreview[e],r=o.fieldName,i=o._fieldFormat??"id",n=cloneDeep(this.lastStepModel);let l=this.lastStepModel[r]??[];if(isString(i))n[r]=l.includes(o[i])?l.filter(s=>s!==o[i]):[...l,o[i]];else if(isObject(i)){const s=o._fieldFormatUniqueKey??"id",c=o._fieldFormatSourceKey??"id";if(a===!1)for(const u in l){let f=l[u];if(isObject(f)&&a===!1&&f[s]===o[c]){l.splice(u,1);break}}else if(a===!0){let u={};for(const f in i){const p=i[f];u[f]=get(o,p)}l.push(u)}n[r]=l}this.lastStepModel=n},async handlePreviewFormField(e){if(!e.modelNotation)return;let a=e.modelNotation,o=`preview-form-field-${a}`,r=`preview-form-field-values-${a}`;this.lastFormPreviewLoading=!0;let i=this.$cacheGet(o,{}),n=reduce(i,(c,u,f)=>(c.push(parseInt(f)),c),[]),l=this.$cacheGet(r,[]),s=get(this.models,a);if(s&&e.endpoint){this.lastFormPreview=[];let c=Array.isArray(s)?s:[s],u=c.filter(p=>!n.includes(p)),f=c.filter(p=>n.includes(p));if(f.length>0&&f.forEach(p=>{l.filter(g=>g.form_field_id===p&&g.form_field_notation===a).forEach(g=>{this.lastFormPreview.push(g)}),i[p]=!0}),u.length>0){if(!e.endpoint)return;let p=window.__addParametersToUrl(e.endpoint,{ids:u}),m=await axios.get(p);if(m.status===200){let g=m.data;g.forEach(h=>{i[h.id]=!0}),e.notation?g=g.map(h=>{let v=get(h,e.notation,[]),C=e.cardFields??["name"],b=e.fieldName||a.split(".").pop();return Array.isArray(v)?v=v.map(S=>({...S,isSelected:!1,fieldName:b,form_field_notation:a,form_field_id:h.id,form_card_items:C.map(k=>Array.isArray(k)?k.map(B=>S[B]??"N/A"):S[k]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"})):v={...v,isSelected:!1,fieldName:b,form_field_notation:a,form_field_id:h.id,form_card_items:C.map(S=>Array.isArray(S)?S.map(k=>v[k]??"N/A"):v[S]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"},v}):g=g.map(h=>({...h,form_field_notation:e.notation,form_field_id:h.id})),reduce(g,(h,v)=>Array.isArray(v)?[...h,...v]:[...h,v],[]).forEach(h=>{this.$cachePush(r,h),this.lastFormPreview.push(h)})}}this.$cachePut(o,i)}this.lastFormPreviewLoading=!1}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,a)=>{let o=this.forms[a],r=__isset(o.previewTitle)?o.previewTitle:o.title;return this.$castValueMatch(r,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const a in this.schemas)e[a]=this.$getDisplayData(this.schemas[a],this.models[a]);return e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},payload(){let e=reduce(this.models,function(r,i,n){return{...r,...i}},{}),a=this.lastFormPreview,o=reduce(this.lastStepModel,function(r,i,n){return Array.isArray(i)&&(i=i.reduce((l,s)=>((isObject(s)?a.find(u=>u[u._fieldFormatSourceKey??"id"]===s[u._fieldFormatUniqueKey??"id"]&&u.fieldName===n):a.find(u=>u.id===s&&u.fieldName===n))&&l.push(s),l),[])),r[n]=i,r},{});return{...e,...o}},summaryFormScopes(){return reduce(this.$slots,(e,a,o)=>(o.match(/summary-form-\d+/)&&(e[o]=a),e),{})},activeStepIsFullWidth(){var e;return this.forms[this.activeStep-1]?((e=this.forms[this.activeStep-1])==null?void 0:e.fullWidth)===!0:!1},formCol(){let e={cols:12,lg:8,md:8};return this.activeStepIsFullWidth?{cols:12,lg:12,md:12}:e},summaryCol(){let e={cols:12,lg:4,md:4};return this.activeStepIsFullWidth?{class:"d-none"}:e},calculateHeights(){let e=0,a=76,o=64;return this.activeStepIsFullWidth&&(e+=a),this.$vuetify.display.mobile&&(e+=o),e}},watch:{schemas:{handler(e,a){isEqual(e,this.schemas)||(this.schemas=e)},deep:!0},models:{handler(e,a){this.pendingHandleFunctions.length>0&&(this.pendingHandleFunctions.forEach(o=>{typeof o=="function"&&o(this.models,this.schemas,this.previewModel)}),this.pendingHandleFunctions=[]),this.models.forEach((o,r)=>{this.previewModel[r]&&Object.keys(this.previewModel[r]).forEach(i=>{this.models[r][i]||delete this.previewModel[r][i]})})},deep:!0},activeStep:{handler(e,a){this.finalFormFields.forEach(o=>{o.afterStep&&o.afterStep===a&&this.handlePreviewFormField(o)})},deep:!0}},created(){let e=this;this.forms.forEach((a,o)=>{let r=a.schema,i=getModel(r,this.modelValue);e.models.push(i),e.schemas.push(e.invokeRuleGenerator(r,i)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormFields,(a,o,r)=>{let i=null;return __isObject(o)?i=o.inputName||o.fieldName||o.modelNotation.split(".").pop():i=o.split(".").pop(),__isset(a[i])||(a[i]=[]),a},{}),this.lastStepModel=this.$lodash.mapValues(this.lastStepModel,(a,o)=>this.modelValue[o]?this.modelValue[o]:a),this.protectInitialValue&&(this.protectedLastStepModel=cloneDeep(this.lastStepModel))}},_hoisted_1$E={key:1,class:"d-flex align-center justify-center",style:{height:"70vh"}},_hoisted_2$y={class:"d-flex flex-column align-center justify-center"},_hoisted_3$w={class:"text-h4 mb-4 text-success"},_hoisted_4$q={class:"text-subtitle-1 grey--text"},_hoisted_5$o={class:"d-flex justify-center w-100"};function _sfc_render$S(e,a,o,r,i,n){const l=resolveComponent("StepperHeader"),s=resolveComponent("StepperPreview"),c=resolveComponent("StepperContent"),u=resolveComponent("ue-text-display"),f=resolveComponent("StepperFinalSummary"),p=resolveComponent("StepperSummary"),m=resolveComponent("v-sheet-rounded"),g=resolveComponent("ue-modal"),y=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:i.activeStep,"onUpdate:modelValue":a[7]||(a[7]=h=>i.activeStep=h),color:"prima",class:normalizeClass(["ue-stepper-form ue-stepper--no-background fill-height flex-column",o.flexBreakpoint?`d-${o.flexBreakpoint}-flex`:"d-flex"]),"mobile-breakpoint":"md"},{default:withCtx(({prev:h,next:v})=>[createVNode(l,{forms:o.forms,"active-step":i.activeStep,onStepClick:n.goStep},null,8,["forms","active-step","onStepClick"]),createVNode(VRow,{class:"mt-2 flex-fil"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,mergeProps(n.formCol,{"order-md":"1",order:"2"}),{default:withCtx(()=>[createVNode(c,{modelValue:i.models,"onUpdate:modelValue":a[0]||(a[0]=C=>i.models=C),schemas:i.schemas,"onUpdate:schemas":a[1]||(a[1]=C=>i.schemas=C),forms:o.forms,"active-step":i.activeStep,"form-refs":r.formRefs,"is-editing":o.isEditing,onFormInput:a[2]||(a[2]=C=>n.handleInput(C)),onFormValid:a[3]||(a[3]=C=>n.updateFormValid(C)),"cover-height":n.calculateHeights},{preview:withCtx(()=>[!i.lastFormPreviewLoading&&n.isLastStep?(openBlock(),createBlock(s,{key:0,"formatted-preview":n.formattedPreview,"preview-form-data":i.lastFormPreview,"last-step-model":i.lastStepModel,"protected-last-step-model":i.protectedLastStepModel,"final-form-title":o.finalFormTitle,"final-form-subtitle":o.finalFormSubtitle,onFinalFormAction:n.handleFinalFormAction},null,8,["formatted-preview","preview-form-data","last-step-model","protected-last-step-model","final-form-title","final-form-subtitle","onFinalFormAction"])):i.lastFormPreviewLoading&&n.isLastStep?(openBlock(),createElementBlock("div",_hoisted_1$E,[createVNode(VProgressCircular,{"model-value":"20",indeterminate:""})])):createCommentVNode("",!0)]),_:1},8,["modelValue","schemas","forms","active-step","form-refs","is-editing","cover-height"])]),_:1},16)),[[y]]),createVNode(VCol,mergeProps(n.summaryCol,{"order-md":"2",order:"1"}),{default:withCtx(()=>[createVNode(p,{"is-last-step":n.isLastStep,forms:o.forms,"active-step":i.activeStep,models:i.models,schemas:i.schemas,"preview-model":i.previewModel,"preview-titles":n.previewTitles,"is-preview-model-filled":n.isPreviewModelFilled,onNextForm:n.nextForm,onCompleteForm:n.completeForm},createSlots({"summary.final":withCtx(({onComplete:C})=>[renderSlot(e.$slots,"summary.final",normalizeProps(guardReactiveProps({model:i.models,schema:i.schemas,previewModel:i.previewModel,completeForm:n.completeForm})),()=>[createVNode(f,{loading:e.loading,"is-completed":i.isCompleted,onComplete:C},createSlots({total:withCtx(()=>[renderSlot(e.$slots,"summary.final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(u,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})])]),description:withCtx(()=>[renderSlot(e.$slots,"summary.final.description",{},()=>[a[8]||(a[8]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),_:2},[e.$slots["summary.final.body"]?{name:"body",fn:withCtx(()=>[renderSlot(e.$slots,"summary.final.body",normalizeProps(guardReactiveProps({models:i.models,schemas:i.schemas,lastStepModel:i.lastStepModel,finalFormFields:o.finalFormFields,lastFormPreview:i.lastFormPreview})))]),key:"0"}:void 0]),1032,["loading","is-completed","onComplete"])])]),_:2},[renderList(n.summaryFormScopes,(C,b)=>({name:`${b}`,fn:withCtx(S=>[renderSlot(e.$slots,b,normalizeProps(guardReactiveProps(S)))])}))]),1032,["is-last-step","forms","active-step","models","schemas","preview-model","preview-titles","is-preview-model-filled","onNextForm","onCompleteForm"])]),_:3},16)]),_:3}),n.activeStepIsFullWidth?(openBlock(),createBlock(m,{key:0,class:"mt-4 elevation-2 pt-4"},{default:withCtx(()=>[createVNode(VStepperActions,{"click:prev":"","onClick:prev":a[5]||(a[5]=C=>n.goStep(i.activeStep-1))},{next:withCtx(()=>[createVNode(VBtn,{variant:"elevated",color:"secondary",onClick:a[4]||(a[4]=C=>n.nextForm(i.activeStep-1)),disabled:e.$hasRequestInProgress()},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(g,mergeProps({ref:"modal",modelValue:i.modalActive,"onUpdate:modelValue":a[6]||(a[6]=C=>i.modalActive=C),"width-type":"md",description:i.modalMessage,persistent:""},o.responseModalOptions),{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_2$y,[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalIcon),1)]),_:1}),createBaseVNode("h2",_hoisted_3$w,toDisplayString(o.responseModalTitle),1),createBaseVNode("p",_hoisted_4$q,toDisplayString(o.responseModalMessage),1)])]),"body.options":withCtx(()=>[createBaseVNode("div",_hoisted_5$o,[createVNode(VBtn,{variant:"flat",color:"success",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalButtonText),1)]),_:1},8,["onClick"])])]),_:1},16,["modelValue","description"])]),_:3},8,["modelValue","class"])}const StepperForm=_export_sfc(_sfc_main$Z,[["render",_sfc_render$S]]),__vite_glob_0_30=Object.freeze(Object.defineProperty({__proto__:null,default:StepperForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$Y={props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:Array,default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormNotations:{type:Object,default:()=>({"0.PackageCountry":{pattern:"0.wrap_location.schema.PackageCountry.items.*.package_addons",inputName:"pressReleasePackageAddons"},"0.PackageRegion":{pattern:"0.wrap_location.schema.PackageRegion.items.*.package_addons",inputName:"pressReleasePackageAddons"}})},finalCardShowFields:{type:Array,default:()=>[["name","description"],["basePrice_show"]]}},setup(e,a){const o=useInputHandlers(),r=useValidation(e),i=ref(null),n=ref(!1),l=reactive({stepperActionRef:i,loading:n}),s=computed(()=>map(e.forms,(c,u)=>ref(null)));return{...o,...r,...toRefs(l),formRefs:s}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,schemas:[],models:[],valids:[],lastStepModel:{},previewModel:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var o;const e=(o=this.payload)!=null&&o.id?"put":"post",a=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(r){a.loading=!1,a.isCompleted=!0,a.modalMessage=r.data.message,a.modalActive=!0},function(r){a.loading=!1,__log(r)})},isPreviewModelFilled(e){const a=this.previewModel[e]??{};let o=!1;for(const r in a)if(a){o=!0;break}return o},handleInput(e,a){const{on:o,key:r,obj:i}=e;o==="input"&&r&&handleMultiFormEvents(this.models,this.schemas,i.schema,a,this.previewModel)},updateFormValid(e,a){this.valids[a]=e},goStep(e){this.valids.slice(0,e-1).every(a=>a===!0)&&(this.activeStep=e)},async goNextForm(e,a){this.formRefs[a].value[0].validModel===!0?e():await this.validateForm(a)},async nextForm(e){this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const a=this.formRefs[e];a.value[0].manualValidation=!0;const o=await a.value[0].validate();return a.value[0].manualValidation=!1,o},handleFinalFormAction(e){const a=this.previewFormData[e],o=this.lastStepModel[a.fieldName];this.lastStepModel[a.fieldName]=o.includes(a.id)?o.filter(r=>r!==a.id):[...o,a.id],this.lastStepModel={...this.lastStepModel}}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,a)=>{let o=this.forms[a],r=__isset(o.previewTitle)?o.previewTitle:o.title;return this.$castValueMatch(r,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const a in this.schemas)e[a]=this.$getDisplayData(this.schemas[a],this.models[a]);return e},formattedSummary(){let e=NotationUtil.formattedSummary(this.displayInfo,this.summaryNotations),a=this.previewFormData,o=this.lastStepModel;const r=reduce(o,function(i,n,l){let s=Array.isArray(n)?n:[n];return forEach(s,c=>{const u=find(a,f=>f.id===c&&f.fieldName===l);u&&i.push(u)}),i},[]);return r.length>0&&(e.lastStepSelections={title:this.finalFormTitle,values:map(r,i=>({title:i.name||i.title||"N/A",value:i.basePrice_show||"N/A"}))}),e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},previewFormData(){let e=[];for(const a in this.finalFormNotations){let o=__data_get(this.models,a);if(!o)continue;let r=this.finalFormNotations[a],i=null,n=null;if(__isObject(r)?(n=r.pattern,i=r.inputName||r.fieldName||n.split(".").pop()):(n=r,i=n.split(".").pop()),__log(r,n,i),n){n=__wildcard_change(n,o);let l=__data_get(this.schemas,n,null);if(l){const s=(c,u)=>{if(Array.isArray(c))for(const f of c)s(f,u);else typeof c=="object"&&c!==null&&e.push({...c,fieldName:u,isSelected:!1})};s(l,i)}}}return e},payload(){return{...reduce(this.models,function(a,o,r){return{...a,...o}},{}),...this.lastStepModel}}},watch:{schemas:{handler(e,a){},deep:!0},models:{handler(e,a){this.models.forEach((o,r)=>{this.previewModel[r]&&Object.keys(this.previewModel[r]).forEach(i=>{this.models[r][i]||delete this.previewModel[r][i]})})},deep:!0}},created(){let e=this;this.forms.forEach((a,o)=>{let r=a.schema,i=getModel(r,this.modelValue);e.models.push(i),e.schemas.push(e.invokeRuleGenerator(r,i)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormNotations,(a,o,r)=>{let i=null;return __isObject(o)?i=o.inputName||o.fieldName||o.pattern.split(".").pop():i=o.split(".").pop(),__isset(a[i])||(a[i]=[]),a},{})}},_hoisted_1$D=["onClick"],_hoisted_2$x={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$v={class:"text-caption"},_hoisted_4$p={class:"text-body-2 font-weight-medium py-auto"},_hoisted_5$n={class:"d-flex fill-height justify-space-evenly align-content-md-center"},_hoisted_6$m={class:"text-h6 mb-2"},_hoisted_7$i={class:"text-body-2 text-grey-darken-1"},_hoisted_8$h={key:1,class:"mb-6"},_hoisted_9$f={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_10$d={class:"font-weight-bold text-primary"},_hoisted_11$a={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_12$7={key:0,class:""},_hoisted_13$6={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}},_hoisted_14$4={class:"py-0"},_hoisted_15$3={class:"border-0 h-auto py-1 pl-0 text-body-1"},_hoisted_16$2={class:"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1"},_hoisted_17$2={class:"py-0"},_hoisted_18$2={class:"border-0 h-auto py-1 pl-0 text-h5"},_hoisted_19$2={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_20$2={class:"text-caption text-grey mb-6"};function _sfc_render$R(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-title"),c=resolveComponent("ue-configurable-card"),u=resolveComponent("v-sheet-rounded"),f=resolveComponent("v-btn-secondary"),p=resolveComponent("ue-text-display"),m=resolveComponent("ue-modal"),g=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:i.activeStep,"onUpdate:modelValue":a[3]||(a[3]=y=>i.activeStep=y),color:"prima",class:normalizeClass(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"])},{default:withCtx(({prev:y,next:h})=>[createVNode(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(v,C)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${C}`,complete:i.activeStep>C+1,title:v.title,value:C+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(b=>[createBaseVNode("div",{onClick:S=>n.goStep(C+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([b.hasCompleted||b.step==i.activeStep?"text-primary font-weight-bold":""])},toDisplayString(b.title),3)],8,_hoisted_1$D)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:i.activeStep>o.forms.length,title:"Preview & Summary",value:o.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(v=>[createBaseVNode("span",{class:normalizeClass([v.hasCompleted||v.step==i.activeStep?"text-primary font-weight-bold":""])},toDisplayString(v.title),3)]),_:1},8,["complete","value"])]),_:1}),createVNode(VRow,{class:"mt-4 flex-fill"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",lg:"8"},{default:withCtx(()=>[createVNode(u,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(v,C)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${C}`,value:C+1,class:""},{default:withCtx(()=>[i.activeStep>C?(openBlock(),createBlock(l,{key:0,ref_for:!0,ref:r.formRefs[C],id:`stepper-form-${C+1}`,isEditing:o.isEditing,modelValue:i.models[C],"onUpdate:modelValue":b=>i.models[C]=b,schema:i.schemas[C],"onUpdate:schema":b=>i.schemas[C]=b,onInput:b=>n.handleInput(b,C),"onUpdate:valid":b=>n.updateFormValid(b,C),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","schema","onUpdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:o.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview",{},()=>[createVNode(VSheet,{class:""},{default:withCtx(()=>[createVNode(s,{weight:"medium",color:"black",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedPreview,(v,C)=>withDirectives((openBlock(),createBlock(VCol,{key:`summary-${C}`,cols:"12",md:v.col||6},{default:withCtx(()=>[createVNode(c,mergeProps({ref_for:!0},v,{elevation:"2",class:"my-2"}),null,16)]),_:2},1032,["md"])),[[g]])),128)),createVNode(VCol,{cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-4"},{default:withCtx(()=>[createVNode(s,{type:"body-1",color:"primary","font-weight":"bold",padding:"a-0",margin:"y-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormTitle),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.previewFormData,(v,C)=>(openBlock(),createBlock(c,{key:`final-form-data-${C}`,style:{"background-color":"transparent"},class:normalizeClass([[i.lastStepModel[v.fieldName].includes(v.id)?"bg-primary":"bg-grey-lighten-5"],"mx-n4 mb-4 py-4"]),elevation:"2",items:[[v.name||"N/A ",v.description||"N/A"],v.basePrice_show||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{1:"flex-basis: 50%;",2:"flex-grow: 1; display: flex; justify-content: center; align-items: center;",3:"flex-grow: 1; display: flex; align-items: end;"}},{"segment.1":withCtx(b=>[createBaseVNode("div",_hoisted_2$x,toDisplayString(b.data[0]),1),createBaseVNode("div",_hoisted_3$v,toDisplayString(b.data[1]),1)]),"segment.2":withCtx(b=>[createBaseVNode("div",_hoisted_4$p,toDisplayString(b.data),1)]),"segment.actions":withCtx(b=>[createBaseVNode("div",_hoisted_5$n,[e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VDivider,{key:0,vertical:""})):createCommentVNode("",!0),createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":b.actionProps.actionIconMinHeight,"min-height":b.actionProps.actionIconMinHeight,size:b.actionProps.actionIconSize,icon:i.lastStepModel[v.fieldName].includes(v.id)?"mdi-minus":"mdi-plus",color:i.lastStepModel[v.fieldName].includes(v.id)?"grey":"primary",onClick:S=>n.handleFinalFormAction(C)},null,8,["min-width","min-height","size","icon","color","onClick"])])]),_:2},1032,["class","items"]))),128)),(openBlock(),createElementBlock(Fragment,null,renderList([{id:1,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50},{id:2,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50}],(v,C)=>(openBlock(),createElementBlock(Fragment,{key:v.id},[createCommentVNode("",!0)],64))),64))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:3},8,["value"])]),_:3}),createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)),[[g]]),createVNode(VCol,{cols:"12",lg:"4"},{default:withCtx(()=>[renderSlot(e.$slots,"summary",{},()=>[createVNode(u,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[n.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(n.isLastStep,"")])},{default:withCtx(()=>[n.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:i.models,schema:i.schemas,previewModel:i.previewModel,completeForm:n.completeForm})),()=>[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(s,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedSummary,(v,C)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(s,{text:v.title,transform:"capitalize",type:"h6",color:"white",padding:"x-6",margin:"t-6",class:"mx-n6 py-3 bg-primary-darken-1"},null,8,["text"]),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.values,(b,S)=>(openBlock(),createElementBlock("tr",_hoisted_14$4,[createBaseVNode("td",_hoisted_15$3,toDisplayString(b.parentTitle||b.title||"N/A"),1),createBaseVNode("td",_hoisted_16$2,toDisplayString(b.value||"N/A"),1)]))),256))])]),_:2},1024)],64))),256))]),_:1}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_17$2,[createBaseVNode("td",_hoisted_18$2,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_19$2,[renderSlot(e.$slots,"final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(p,{class:"text-h5",text:"$2500",subText:"+ VAT"})])])])])]),_:3}),createBaseVNode("div",_hoisted_20$2,[renderSlot(e.$slots,"final.description",{},()=>[a[5]||(a[5]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom",style:{"background-color":"#005868"}},{default:withCtx(()=>[createVNode(f,{class:"v-stepper-form__nextButton",block:"",disabled:e.loading||i.isCompleted,loading:e.loading,onClick:n.completeForm},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete").toUpperCase()),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(v,C)=>renderSlot(e.$slots,`summary-form-${C+1}`,mergeProps({key:`stepper-summary-item-${C}`,ref_for:!0},{index:C,order:C+1,title:n.previewTitles[C],isPreviewModelFilled:n.isPreviewModelFilled,model:i.models[C],schema:i.schemas[C],previewModel:i.previewModel[C]??{}}),()=>[n.isPreviewModelFilled(C)&&C!==0?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),n.isPreviewModelFilled(C)?(openBlock(),createElementBlock("div",_hoisted_8$h,[createBaseVNode("div",_hoisted_9$f,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(C+1),1)]),_:2},1024),createBaseVNode("span",_hoisted_10$d,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(C+1),1)]),createBaseVNode("div",_hoisted_11$a,toDisplayString(n.previewTitles[C]),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.previewModel[C],(b,S)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${S}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.previewModel[C][S],(k,B)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${S}-${C}`},[Array.isArray(k)?(openBlock(),createElementBlock("div",_hoisted_12$7,[createBaseVNode("span",_hoisted_13$6,toDisplayString(e.window.__isObject(i.previewModel[C][S])?B:k[0])+":",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(i.previewModel[C][S])?k:k.slice(1),w=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${S}-${C}-${S}-${B}`,style:{"margin-inline-end":"8px"}},toDisplayString(w),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(k),1)]),_:2},1024))],64))),128))],64))),128))])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(f,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:a[1]||(a[1]=v=>n.nextForm(i.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])])]),_:3})]),_:2},1024),createVNode(m,{ref:"modal",modelValue:i.modalActive,"onUpdate:modelValue":a[2]||(a[2]=v=>i.modalActive=v),"width-type":"lg","cancel-text":"$t('Cancel')","confirm-text":"$t('Cancel')","description-text":i.modalMessage},{"body.options":withCtx(()=>[createVNode(VBtn,{variant:"outlined",color:"primary",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Ok")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description-text"])]),_:3},8,["modelValue"])}const StepperFormOld=_export_sfc(_sfc_main$Y,[["render",_sfc_render$R]]),__vite_glob_0_31=Object.freeze(Object.defineProperty({__proto__:null,default:StepperFormOld},Symbol.toStringTag,{value:"Module"})),_sfc_main$X=defineComponent({name:"UeSuccess",props:{title:{type:String,required:!0},description:{type:String,required:!0},button_text:{type:String,required:!0},button_url:{type:String,required:!0}},setup(e){return{}}}),_hoisted_1$C={class:"text-h4 mb-2 text-success"},_hoisted_2$w={class:"text-body-1 text-medium-emphasis mb-6"};function _sfc_render$Q(e,a,o,r,i,n){return openBlock(),createBlock(VContainer,{class:"fill-height"},{default:withCtx(()=>[createVNode(VRow,{justify:"center",align:"center"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"12",md:"12",lg:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VCard,{flat:"",class:"bg-transparent"},{default:withCtx(()=>[createVNode(VCardItem,null,{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-check-circle",color:"success",size:"64",class:"mb-4"}),createBaseVNode("h1",_hoisted_1$C,toDisplayString(e.title),1),createBaseVNode("p",_hoisted_2$w,toDisplayString(e.description),1),createVNode(VBtn,{color:"success",class:"mt-10",href:e.button_url,"min-width":"200",density:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.button_text),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Success=_export_sfc(_sfc_main$X,[["render",_sfc_render$Q]]),__vite_glob_0_32=Object.freeze(Object.defineProperty({__proto__:null,default:Success},Symbol.toStringTag,{value:"Module"})),_sfc_main$W={props:{symbol:{type:String,required:!0},height:{type:String},width:{type:String},style:{type:String,default:""}},setup(e){const a=computed(()=>{if(e.symbol)return e.symbol}),o=computed(()=>{if(e.height||e.width)return"height:"+e.height+"px;width:"+e.width+"px;"});return{symbol:a,style:o}}},_hoisted_1$B=["symbol"];function _sfc_render$P(e,a,o,r,i,n){const l=resolveDirective("svg");return openBlock(),createElementBlock("div",{style:normalizeStyle(r.style)},[withDirectives(createBaseVNode("span",{symbol:r.symbol},null,8,_hoisted_1$B),[[l]])],4)}const SvgIcon=_export_sfc(_sfc_main$W,[["render",_sfc_render$P]]),__vite_glob_0_33=Object.freeze(Object.defineProperty({__proto__:null,default:SvgIcon},Symbol.toStringTag,{value:"Module"})),_sfc_main$V={name:"ue-tab-groups",props:{...makeModuleProps(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayn:[{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,a){return{...useModule(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,r,i)=>{this.noAllGroup||o[e].push(r);const n=__data_get(r,this.groupKey);if(Array.isArray(n))for(const l of n)o[l]??(o[l]=[]),o[l].push(r);else __isString(n)&&(o[n]??(o[n]=[]),o[n].push(r));return o},a)}},watch:{},methods:{loadItems(e={}){let a=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},api$2.get(this.endpoints.index,e,function(o,r){const i=getParameters(r.request.responseURL);a.elements=o.resource.data,replaceState(addParametersToUrl(getURLWithoutQuery(),i))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function _sfc_render$O(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createVNode(l,{text:e.moduleTitle,classes:[]},null,8,["text"]),createVNode(s,{items:n.groupedItems,modelValue:i.activeTab,"onUpdate:modelValue":a[0]||(a[0]=c=>i.activeTab=c)},createSlots({_:2},[renderList(e.$slots,(c,u)=>({name:u,fn:withCtx(f=>[renderSlot(e.$slots,u,normalizeProps(guardReactiveProps(f)))])}))]),1032,["items","modelValue"])]),_:3})}const TabGroups=_export_sfc(_sfc_main$V,[["render",_sfc_render$O]]),__vite_glob_0_34=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroups},Symbol.toStringTag,{value:"Module"})),_sfc_main$U={name:"ue-tab-groups",props:{...makeModuleProps(),subtitle:{type:String},groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayn:[{id:3,name:"Yayn 3",description:"Description 3"},{id:4,name:"Yayn 4",description:"Description 4"}]})},search:{type:String,default:""},noSearch:{type:Boolean,default:!1},queryParameters:{type:Object,default:()=>({})},responseResourceKey:{type:String,default:"resource.data"}},setup(e,a){return{...useModule(e)}},data(){return{loading:!1,searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0,elements:[]}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,r,i)=>{this.noAllGroup||o[e].push(r);const n=__data_get(r,this.groupKey);if(Array.isArray(n))for(const l of n)o[l]??(o[l]=[]),o[l].push(r);else __isString(n)&&(o[n]??(o[n]=[]),o[n].push(r));return o},a)},searchable(){return this.searchModel!==this.searchInput}},watch:{},methods:{loadItems(e={}){let a=this;this.loading=!0,e={...this.searchModel!==""?{search:this.searchModel}:{},...e,...this.queryParameters},this.searchInput=this.searchModel,api$2.get(this.endpoints.index,e,function(o,r){var i;getParameters(r.request.responseURL),a.elements=get(o,a.responseResourceKey),a.activeTab=((i=Object.keys(a.groupedItems??{}))==null?void 0:i[0])??0,a.loading=!1},function(o){a.loading=!1})},enterSearch(){this.searchModel!==this.searchInput&&this.loadItems({replaceUrl:!1})}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}},_hoisted_1$A={class:"py-4 d-flex justify-space-between flex-wrap ga-2"},_hoisted_2$v={class:"flex-1-0",style:{"max-width":"100%"}},_hoisted_3$u={key:0,class:"flex-1-1"},_hoisted_4$o={key:0,class:"text-center pa-8"};function _sfc_render$N(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-tabs-previous");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$v,[createVNode(l,{text:e.moduleTitle,classes:[],padding:"a-0"},null,8,["text"]),o.subtitle?(openBlock(),createBlock(l,{key:0,class:"text-wrap",text:o.subtitle,classes:[],padding:"a-0",weight:"regular",transform:"none",type:"subtitle-2"},null,8,["text"])):createCommentVNode("",!0)]),o.noSearch?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$u,[createVNode(VTextField,{modelValue:e.searchModel,"onUpdate:modelValue":a[0]||(a[0]=c=>e.searchModel=c),label:"Search",variant:"outlined",density:"compact",color:"primary","hide-details":"",style:{"min-width":"300px"},onKeydown:withKeys(n.enterSearch,["enter"])},{"append-inner":withCtx(()=>[n.searchable?(openBlock(),createBlock(VIcon,{key:0,icon:"mdi-magnify",variant:"text",onClick:n.enterSearch},null,8,["onClick"])):createCommentVNode("",!0)]),_:1},8,["modelValue","onKeydown"])]))]),createVNode(VDivider),i.loading?(openBlock(),createElementBlock("div",_hoisted_4$o,[createVNode(VProgressCircular,{size:50,color:"primary",indeterminate:""})])):(openBlock(),createBlock(s,{key:1,items:n.groupedItems,modelValue:i.activeTab,"onUpdate:modelValue":a[1]||(a[1]=c=>i.activeTab=c)},createSlots({_:2},[renderList(e.$slots,(c,u)=>({name:u,fn:withCtx(f=>[renderSlot(e.$slots,u,normalizeProps(guardReactiveProps(f)))])}))]),1032,["items","modelValue"]))]),_:3})}const TabGroupsPrevious=_export_sfc(_sfc_main$U,[["render",_sfc_render$N]]),__vite_glob_0_35=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroupsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$T={__name:"TableActions",props:{actions:{type:Array,required:!0}},emits:["actionComplete"],setup(e,{emit:a}){const o=e,r=a,i=useAttrs(),n=useSlots(),{generateButtonProps:l}=useGenerate(),s={};o.actions.forEach((y,h)=>{const{generatedButtonProps:v}=useGenerate(y);s[h]=v});const c=computed(()=>Object.keys(s).reduce((y,h)=>(y[h]=s[h].value,y),{})),{isBadge:u,badgeProps:f}=useBadge(),{handleAction:p,allActions:m,hasActions:g}=useItemActions(o,{...i,...n,...r,actionItem:o.modelValue});return(y,h)=>{const v=resolveComponent("ue-form"),C=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([unref(g)||y.$slots.prepend?"d-flex flex-wrap ga-2":""])},[renderSlot(y.$slots,"prepend"),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(m),(b,S)=>(openBlock(),createBlock(VTooltip,{disabled:!b.icon||b.forceLabel,location:b.tooltipLocation??"top"},{activator:withCtx(({props:k})=>[b.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:y.editedItem[b.key??"published"]??b.default??!1,"onUpdate:modelValue":B=>unref(p)(b),ref_for:!0},{...b.componentProps,...k}),null,16,["modelValue","onUpdate:modelValue"])):b.type==="modal"&&b.endpoint&&b.schema?(openBlock(),createBlock(C,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},b.modalAttributes??{}),{activator:withCtx(B=>[unref(u)(b)?(openBlock(),createBlock(VBadge,{key:0,content:b.badge,color:b.badgeColor??"warning","text-color":b.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...unref(l)(b),...B.props,...k}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...unref(l)(b),...B.props,...k}),null,16))]),body:withCtx(B=>[createVNode(v,mergeProps({ref_for:!0,ref:`extra-form-${S}`,modelValue:y.createModel(b.schema),title:b.formTitle??null,schema:b.schema,"action-url":b.endpoint.replace(":id",y.modelValue.id),valid:y.valids[S],"is-editing":y.isEditing,style:B.isFullActive?"height: 90vh !important;":"height: 70vh !important;","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:w=>y.$emit("actionComplete",{action:b}),"onUpdate:valid":w=>y.valids[S]=w,"onUpdatex:modelValue":h[0]||(h[0]=w=>y.$log(w))},b.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1040)):b.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[unref(u)(b)?(openBlock(),createBlock(VBadge,{key:0,content:b.badge,color:b.badgeColor??"warning","text-color":b.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...c.value[S],...k}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...c.value[S],...k},{onClick:()=>console.log(c.value[S])}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(b.tooltip??b.label),1)]),_:2},1032,["disabled","location"]))),256)),renderSlot(y.$slots,"append")],2)}}},_sfc_main$S={props:{...makeActiveTableItemProps()},setup(e,a){return{...useActiveTableItem(e,a)}},created(){}};function _sfc_render$M(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal"),c=resolveComponent("ue-table");return openBlock(),createElementBlock("div",null,[createVNode(s,{ref:"customModal",modelValue:e.modalActive,"onUpdate:modelValue":a[0]||(a[0]=u=>e.modalActive=u),scrollable:"",transition:"dialog-bottom-transition","width-type":"md","onClick:outside":e.clickOutside},{body:withCtx(u=>[createVNode(VCard,{class:"pa-12"},{default:withCtx(()=>[createVNode(VItemGroup,{"selected-class":"bg-primary"},{default:withCtx(()=>[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemData,(f,p)=>(openBlock(),createBlock(VCol,mergeProps({key:p,ref_for:!0},e.$bindAttributes(f.clickBlock?f.clickBlock.col:{cols:12})),{default:withCtx(()=>[createVNode(VItem,null,{default:withCtx(({isSelected:m,selectedClass:g,toggle:y})=>[f.clickBlock&&f.clickBlock.elements?(openBlock(),createBlock(l,{key:0,configuration:f.clickBlock.elements,onClick:h=>e.selectNested(p)},{default:withCtx(()=>[createTextVNode(toDisplayString(f.title),1)]),_:2},1032,["configuration","onClick"])):(openBlock(),createBlock(VBtn,{key:1,onClick:h=>e.selectNested(p),class:"w-100",style:{"max-width":"unset","text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(f.title),1)]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"]),e.item&&!e.modalActive&&e.activeBlock?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(c,mergeProps({...e.$bindAttributes(),tableClasses:e.$parent.tableClasses},{"custom-title":e.activeBlock.title,class:"mb-12","is-row-editing":!1,"embedded-form":!1,"create-on-modal":!1,"edit-on-modal":!1,"row-actions":[],columns:e.tableHeaders,items:e.items,"table-options":{page:1,itemsPerPage:1,multiSort:!1,mustSort:!1},"hide-footer":"","no-footer":"","no-form":"","no-full-screen":"","ignore-formatters":["activate"]}),{headerRight:withCtx(()=>[createVNode(VBtn,{class:"bg-grey-darken-1",color:"white",variant:"tonal",icon:"$close",density:"compact",onClick:a[1]||(a[1]=u=>e.closeItemDetails())},{default:withCtx(()=>[createVNode(VIcon,{icon:"$close",size:"small"})]),_:1})]),_:1},16,["custom-title","columns","items"]),createBaseVNode("div",null,[createVNode(l,{configuration:e.activeBlock.elements},null,8,["configuration"])])],64)):createCommentVNode("",!0)])}const ActiveTableItem=_export_sfc(_sfc_main$S,[["render",_sfc_render$M]]),_imports_0="/vendor/modularity/png/cardtypes/chip.png",_sfc_main$R={name:"CreditCard",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},setup(e){const a=ref(null),o=ref(null),r=ref(!1),i=ref(!1),n="#### ###### #####",l="#### ###### ####",s="#### #### #### ####",c=ref(""),u=computed(()=>{let v=new URL(import.meta.url);return`${v.protocol}//${v.hostname}${v.port?":"+v.port:""}`}),f=computed(()=>{let v=e.labels.cardNumber,C="./vendor/modularity/png/cardtypes/";switch(!0){case/^4/.test(v):C=C+"visa.png";break;case/^(34|37)/.test(v):C=C+"amex.png";break;case/^5[1-5]/.test(v):C=C+"mastercard.png";break;case/^6011/.test(v):C=C+"discover.png";break;case/^62/.test(v):C=C+"unionpay.png";break;case/^9792/.test(v):C=C+"troy.png";break;case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(v):C=C+"dinersclub.png";break;case/^35(2[89]|[3-8])/.test(v):C=C+"jcb.png";break;default:C=C+"visa.png";break}return new URL(C,u.value).href}),p=computed(()=>{let v=e.labels.cardNumber;switch(!0){case/^4/.test(v):return"visa";case/^(34|37)/.test(v):return"amex";case/^5[1-5]/.test(v):return"mastercard";case/^6011/.test(v):return"discover";case/^62/.test(v):return"unionpay";case/^9792/.test(v):return"troy";case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(v):return"dinersclub";case/^35(2[89]|[3-8])/.test(v):return"jcb";default:return"visa"}}),m=computed(()=>{if(e.randomBackgrounds&&!e.backgroundImage){let C=`./vendor/modularity/jpg/payment/${Math.floor(Math.random()*25+1)}.jpeg`;return new URL(C,u.value).href}else return e.backgroundImage?e.backgroundImage:null}),g=()=>{const v=document.querySelector(`label[for="${o.value}"]`);a.value=v?{width:`${v.offsetWidth}px`,height:`${v.offsetHeight}px`,transform:`translateX(${v.offsetLeft}px) translateY(${v.offsetTop}px)`}:null},y=(v,C)=>v>4&&v<14&&e.labels.cardNumber.length>v&&C.trim()!==""&&e.isCardNumberMasked,h=()=>{p.value==="amex"?c.value=n:p.value==="dinersclub"?c.value=l:c.value=s,nextTick(()=>{g()})};return watch$1(o,()=>{o.value?g():a.value=null}),watch$1(p,()=>{h()}),onMounted(()=>{h(),document.querySelectorAll("[data-card-field] input").forEach(C=>{C.addEventListener("focus",()=>{r.value=!0,C.id===e.fields.cardYear||C.id===e.fields.cardMonth?o.value="cardDate":o.value=C.id,i.value=C.id===e.fields.cardCvv}),C.addEventListener("blur",()=>{i.value=C.id===e.fields.cardCvv,setTimeout(()=>{r.value||(o.value=null)},300),r.value=!1})})}),{focusElementStyle:a,currentFocus:o,isFocused:r,isCardFlipped:i,baseUrl:u,currentPlaceholder:c,cardType:p,cardImage:f,currentCardBackground:m,changeFocus:g,getIsNumberMasked:y,changePlaceholder:h}}},_hoisted_1$z={class:"card-item__side -front"},_hoisted_2$u={class:"card-item__cover"},_hoisted_3$t=["src"],_hoisted_4$n={class:"card-item__wrapper"},_hoisted_5$m={class:"card-item__top"},_hoisted_6$l={class:"card-item__type"},_hoisted_7$h=["src"],_hoisted_8$g=["for"],_hoisted_9$e={key:0,class:"card-item__numberItem"},_hoisted_10$c={class:"card-item__content"},_hoisted_11$9=["for"],_hoisted_12$6={class:"card-item__holder"},_hoisted_13$5={class:"card-item__name",key:"1"},_hoisted_14$3={class:"card-item__name",key:"2"},_hoisted_15$2={class:"card-item__date",ref:"cardDate"},_hoisted_16$1=["for"],_hoisted_17$1=["for"],_hoisted_18$1={key:"2"},_hoisted_19$1=["for"],_hoisted_20$1={key:"2"},_hoisted_21$1={class:"card-item__side -back"},_hoisted_22$1={class:"card-item__cover"},_hoisted_23=["src"],_hoisted_24={class:"card-item__cvv"},_hoisted_25={class:"card-item__cvvBand"},_hoisted_26={class:"card-item__type"},_hoisted_27=["src"];function _sfc_render$L(e,a,o,r,i,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["card-item",{"-active":r.isCardFlipped}])},[createBaseVNode("div",_hoisted_1$z,[createBaseVNode("div",{class:normalizeClass(["card-item__focus",{"-active":r.focusElementStyle}]),style:normalizeStyle(r.focusElementStyle),ref:"focusElement"},null,6),createBaseVNode("div",_hoisted_2$u,[r.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:r.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_3$t)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$n,[createBaseVNode("div",_hoisted_5$m,[a[0]||(a[0]=createBaseVNode("img",{src:_imports_0,class:"card-item__chip"},null,-1)),createBaseVNode("div",_hoisted_6$l,[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[r.cardImage?(openBlock(),createElementBlock("img",{src:r.cardImage,key:r.cardImage,alt:"",class:"card-item__typeImg"},null,8,_hoisted_7$h)):createCommentVNode("",!0)]),_:1})])]),createBaseVNode("label",{for:o.fields.cardNumber,class:"card-item__number",ref:o.fields.cardNumber},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.currentPlaceholder,(l,s)=>(openBlock(),createElementBlock("span",{key:s},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[r.getIsNumberMasked(s,l)?(openBlock(),createElementBlock("div",_hoisted_9$e,"*")):o.labels.cardNumber.length>s?(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":l.trim()===""}]),key:r.currentPlaceholder},toDisplayString(o.labels.cardNumber[s]),3)):(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":l.trim()===""}]),key:r.currentPlaceholder+1},toDisplayString(l),3))]),_:2},1024)]))),128))],8,_hoisted_8$g),createBaseVNode("div",_hoisted_10$c,[createBaseVNode("label",{for:o.fields.cardName,class:"card-item__info",ref:o.fields.cardName},[createBaseVNode("div",_hoisted_12$6,toDisplayString(e.$t("Card Holder")),1),createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardName.length?(openBlock(),createElementBlock("div",_hoisted_13$5,[createVNode(TransitionGroup,{name:"slide-fade-right"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardName.replace(/\s\s+/g," "),(l,s)=>(openBlock(),createElementBlock("span",{class:"card-item__nameItem",key:s+1},toDisplayString(l),1))),128))]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_14$3,toDisplayString(e.$t("Full Name")),1))]),_:1})],8,_hoisted_11$9),createBaseVNode("div",_hoisted_15$2,[createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateTitle"},toDisplayString(e.$t("Expire Date")),9,_hoisted_16$1),createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardMonth?(openBlock(),createElementBlock("span",{key:o.labels.cardMonth},toDisplayString(o.labels.cardMonth),1)):(openBlock(),createElementBlock("span",_hoisted_18$1,toDisplayString(e.$t("MM")),1))]),_:1})],8,_hoisted_17$1),a[1]||(a[1]=createTextVNode(" / ")),createBaseVNode("label",{for:o.fields.cardYear,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardYear?(openBlock(),createElementBlock("span",{key:o.labels.cardYear},toDisplayString(String(o.labels.cardYear).slice(2,4)),1)):(openBlock(),createElementBlock("span",_hoisted_20$1,toDisplayString(e.$t("YY")),1))]),_:1})],8,_hoisted_19$1)],512)])])]),createBaseVNode("div",_hoisted_21$1,[createBaseVNode("div",_hoisted_22$1,[r.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:r.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_23)):createCommentVNode("",!0)]),a[3]||(a[3]=createBaseVNode("div",{class:"card-item__band"},null,-1)),createBaseVNode("div",_hoisted_24,[a[2]||(a[2]=createBaseVNode("div",{class:"card-item__cvvTitle"},"CVV",-1)),createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardCvv,(l,s)=>(openBlock(),createElementBlock("span",{key:s},"*"))),128))]),createBaseVNode("div",_hoisted_26,[r.cardImage?(openBlock(),createElementBlock("img",{key:0,src:r.cardImage,class:"card-item__typeImg"},null,8,_hoisted_27)):createCommentVNode("",!0)])])])],2)}const CreditCard=_export_sfc(_sfc_main$R,[["render",_sfc_render$L],["__scopeId","data-v-4fa28647"]]),__vite_glob_3_6=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$Q={name:"CreditCardForm",directives:{"number-only":{beforeMount(e){function a(o){if(o.target.value=o.target.value.replace(/[^0-9 ]/g,""),o.charCode>=48&&o.charCode<=57||o.charCode===32)return!0;o.preventDefault()}e.addEventListener("keypress",a)}},"letter-only":{beforeMount(e){function a(o){return o.charCode>=48&&o.charCode<=57&&o.preventDefault(),!0}e.addEventListener("keypress",a)}}},props:{formData:{type:Object,default:()=>reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""})},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0}},components:{CreditCard},setup(e,{emit:a}){const o=reactive({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"}),r=inject("submitForm"),i=new Date().getFullYear(),n=ref(!0),l=ref(e.formData.cardNumber),s=ref(19),c=computed(()=>["01","02","03","04","05","06","07","08","09","10","11","12"]),u=computed(()=>{const P=new URLSearchParams(window.location.search);return P.has("testYears")?Array.from({length:P.get("testYears")},(E,V)=>i+V):Array.from({length:12},(E,V)=>i+V)}),f=computed(()=>e.formData.cardYear===i?new Date().getMonth()+1:1);watch$1(()=>e.formData.cardYear,()=>{e.formData.cardMonth<f.value&&(e.formData.cardMonth="")}),onMounted(()=>{k()});const p=P=>P<10?`0${P}`:P,m=reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}),g=()=>{a("v-card-name",e.formData.cardName),a("update:cardName",m.cardName)},y=P=>{e.formData.cardNumber=P.target.value;let E=e.formData.cardNumber.replace(/\D/g,"");/^3[47]\d{0,13}$/.test(E)?(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(E)?(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=16):/^\d{0,16}$/.test(E)&&(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),s.value=19),P.inputType==="deleteContentBackward"&&e.formData.cardNumber.substring(e.formData.cardNumber.length-1)===" "&&(e.formData.cardNumber=e.formData.cardNumber.substring(0,e.formData.cardNumber.length-1)),m.cardNumber=e.formData.cardNumber,a("input-card-number",e.formData.cardNumber),a("update:cardNumber",m.cardNumber)},h=()=>{a("input-card-month",e.formData.cardMonth),a("update:cardMonth",m.cardMonth)},v=()=>{a("input-card-year",e.formData.cardYear),a("update:cardYear",m.cardYear)},C=()=>{a("input-card-cvv",e.formData.cardCvv),a("update:cardCvv",m.cardCvv)},b=()=>{let P=e.formData.cardNumberNotMask.replace(/ /g,""),E=0;for(let V=0;V<P.length;V++){let A=parseInt(P.substr(V,1));V%2===0&&(A*=2,A>9&&(A=1+A%10)),E+=A}E%10!==0&&alert(e.$t("cardForm.invalidCardNumber"))},S=()=>{n.value&&k()},k=()=>{e.formData.cardNumberNotMask=e.formData.cardNumber,l.value=e.formData.cardNumber;let P=e.formData.cardNumber.split("");P.forEach((E,V)=>{V>4&&V<14&&E.trim()!==""&&(P[V]="*")}),e.formData.cardNumber=P.join("")},B=()=>{e.formData.cardNumber=l.value},w=()=>{B()},N=()=>{n.value=!n.value,n.value?k():B()},I=P=>useValidation({rules:"required|min:16|max:19|regex:/^[0-9]+$/"}),F=P=>useValidation({rules:"required"}),D=(P,E)=>{const V=new Date;return new Date(E,P-1)<V?"Card has expired":!0},M=P=>useValidation({rules:"required|min:3|max:4"});return watch$1(()=>e.formData.cardNumber,I),watch$1(()=>e.formData.cardName,F),watch$1([()=>e.formData.cardMonth,()=>e.formData.cardYear],([P,E])=>D(P,E)),watch$1(()=>e.formData.cardCvv,M),watch$1(()=>m.cardName,P=>a("update:cardName",P)),watch$1(()=>m.cardNumber,P=>a("update:cardNumber",P)),watch$1(()=>m.cardMonth,P=>a("update:cardMonth",P)),watch$1(()=>m.cardYear,P=>a("update:cardYear",P)),watch$1(()=>m.cardCvv,P=>a("update:cardCvv",P)),{fields:o,minCardYear:i,isCardNumberMasked:n,mainCardNumber:l,cardNumberMaxLength:s,months:c,years:u,minCardMonth:f,generateMonthValue:p,changeName:g,changeNumber:y,changeMonth:h,changeYear:v,changeCvv:C,invaildCard:b,blurCardNumber:S,maskCardNumber:k,unMaskCardNumber:B,focusCardNumber:w,toggleMask:N,submitForm:r,validateCardNumber:I,validateCardName:F,validateExpiryDate:D,validateCVV:M,formData:m}}},_hoisted_1$y={class:"card-form"},_hoisted_2$t={class:"card-list"},_hoisted_3$s={class:"card-form__inner"},_hoisted_4$m={class:"card-input"},_hoisted_5$l={for:"cardNumber",class:"card-input__label"},_hoisted_6$k={class:"card-input"},_hoisted_7$g={for:"cardName",class:"card-input__label"},_hoisted_8$f={class:"card-form__row"},_hoisted_9$d={class:"card-form__col"},_hoisted_10$b={class:"card-form__group"},_hoisted_11$8={for:"cardMonth",class:"card-input__label"},_hoisted_12$5={class:"card-form__col -cvv"},_hoisted_13$4={class:"card-input"},_hoisted_14$2={for:"cardCvv",class:"card-input__label"};function _sfc_render$K(e,a,o,r,i,n){const l=resolveComponent("CreditCard"),s=resolveDirective("number-only");return openBlock(),createElementBlock("div",_hoisted_1$y,[createBaseVNode("div",_hoisted_2$t,[createVNode(l,{fields:r.fields,labels:r.formData,isCardNumberMasked:r.isCardNumberMasked,randomBackgrounds:o.randomBackgrounds,backgroundImage:o.backgroundImage},null,8,["fields","labels","isCardNumberMasked","randomBackgrounds","backgroundImage"])]),createBaseVNode("div",_hoisted_3$s,[createBaseVNode("div",_hoisted_4$m,[createBaseVNode("label",_hoisted_5$l,toDisplayString(e.$t("Card Number")),1),withDirectives(createVNode(VTextField,{id:r.fields.cardNumber,modelValue:r.formData.cardNumber,"onUpdate:modelValue":a[0]||(a[0]=c=>r.formData.cardNumber=c),onInput:r.changeNumber,onFocus:r.focusCardNumber,onBlur:r.blurCardNumber,"data-card-field":"",type:"tel",variant:"outlined",maxlength:r.cardNumberMaxLength},null,8,["id","modelValue","onInput","onFocus","onBlur","maxlength"]),[[s]])]),createBaseVNode("div",_hoisted_6$k,[createBaseVNode("label",_hoisted_7$g,toDisplayString(e.$t("Card Holder")),1),createVNode(VTextField,{id:r.fields.cardName,modelValue:r.formData.cardName,"onUpdate:modelValue":a[1]||(a[1]=c=>r.formData.cardName=c),onInput:r.changeName,"data-card-field":"",variant:"outlined"},null,8,["id","modelValue","onInput"])]),createBaseVNode("div",_hoisted_8$f,[createBaseVNode("div",_hoisted_9$d,[createBaseVNode("div",_hoisted_10$b,[createBaseVNode("label",_hoisted_11$8,toDisplayString(e.$t("Expire Date")),1),createVNode(VSelect,{id:r.fields.cardMonth,items:r.months,label:e.$t("Month"),modelValue:r.formData.cardMonth,"onUpdate:modelValue":a[2]||(a[2]=c=>r.formData.cardMonth=c),onChange:r.changeMonth,"disabled-item":c=>c<r.minCardMonth,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange","disabled-item"]),createVNode(VSelect,{id:r.fields.cardYear,items:r.years,label:e.$t("Year"),modelValue:r.formData.cardYear,"onUpdate:modelValue":a[3]||(a[3]=c=>r.formData.cardYear=c),onChange:r.changeYear,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange"])])]),createBaseVNode("div",_hoisted_12$5,[createBaseVNode("div",_hoisted_13$4,[createBaseVNode("label",_hoisted_14$2,toDisplayString(e.$t("CVV")),1),withDirectives(createVNode(VTextField,{type:"tel",modelValue:r.formData.cardCvv,"onUpdate:modelValue":a[4]||(a[4]=c=>r.formData.cardCvv=c),id:r.fields.cardCvv,maxlength:"4",onInput:r.changeCvv,"data-card-field":"",autocomplete:"off",variant:"outlined"},null,8,["modelValue","id","onInput"]),[[s]])])])]),createVNode(VBtn,{class:"card-form__button bg-success",onClick:r.submitForm,density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("PAY")),1)]),_:1},8,["onClick"])])])}const CreditCardForm=_export_sfc(_sfc_main$Q,[["render",_sfc_render$K]]),__vite_glob_3_7=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCardForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$P={name:"PaymentService",components:{CreditCardForm},emits:[...makeInputEmits,"update:price","currency-converted"],props:{...makeInputProps(),modelValue:{type:Object,default:()=>({})},itemValue:{type:String,default:"id"},items:{type:Array,default:()=>[]},supportedCurrencies:{type:Array,default:()=>[]},price_object:{type:[Object,Array,Proxy],default:()=>({})},currencyConversionEndpoint:{type:String,default:""},currencyCardTypes:{type:[Object,Proxy,Array],default:()=>({})},baseCurrency:{type:String,default:"EUR"},transferFormSchema:{type:[Array,Object],default:()=>[]},paymentUrl:{type:String,default:""}},setup(e,{emit:a}){var M,P,E;const o=inject("submitForm"),{formatPrice:r}=useCurrency(),i=ref(""),n=ref("-1"),l=ref(e.price_object.currency_id||((M=e.supportedCurrencies[0])==null?void 0:M.id)),s=ref(r.value(e.price_object.total_amount/100,((P=e.supportedCurrencies[0])==null?void 0:P.symbol)||"")),c=reactive({card_name:"",card_number:"",card_month:"",card_year:"",card_cvv:""}),u=computed(()=>e.supportedCurrencies.find(V=>V.id===l.value)),f=computed(()=>{var V;return(V=u.value)==null?void 0:V.iso_4217}),p=computed(()=>e.supportedCurrencies.map(V=>({id:V.id,display:`${V.symbol} - ${V.name}`}))),m=computed(()=>l.value?e.items.filter(V=>{var A;return(A=V.payment_currencies)==null?void 0:A.some($=>$.id===l.value)}):[]),g=computed(()=>{const V=m.value,A=i.value;return A==null||A===""?null:V.find($=>$[e.itemValue]===A)||null}),y=ref({...getModel(e.transferFormSchema),price_id:e.price_object.id,payment_service_id:i.value,currency_id:((E=u.value)==null?void 0:E.id)??null}),h=computed(()=>getSchema(e.transferFormSchema,y.value)),v=V=>V?V.transferrable:!1,C=V=>V?V.is_internal&&!v(V):!0,b=computed(()=>C(g.value)),S=computed(()=>v(g.value)),k=computed({get:()=>e.modelValue,set:V=>a("update:modelValue",V)}),B=computed(()=>{var V;return((V=u.value)==null?void 0:V.iso_4217)!==e.baseCurrency}),w=ref(0),N=V=>{y.value=V},I=()=>{var V;return{...getModel(e.transferFormSchema),price_id:e.price_object.id,payment_service_id:i.value,currency_id:((V=u.value)==null?void 0:V.id)??null}},F=V=>{console.log("transfer submitted",V)},D=async V=>{l.value=V,i.value=n.value;const A=e.supportedCurrencies.find($=>$.id===V);if(!(!A||!e.currencyConversionEndpoint))try{const $=await axios.post(e.currencyConversionEndpoint,{currency:A.iso_4217,amount:e.price_object.discounted_raw_amount/100});w.value=$.data.exchange_rate;const z=$.data.converted_amount*(1+e.price_object.vat_multiplier);s.value=r.value(z,A.symbol),a("update:price",s.value),a("currency-converted",s.value)}catch($){console.error("Currency conversion error:",$)}};return watch$1(()=>e.modelValue,V=>{V&&typeof V=="object"&&(i.value=V.payment_method||n.value,Object.assign(c,V.credit_card||{}))},{immediate:!0,deep:!0}),watch$1([i,c,u],()=>{k.value={payment_method:i.value,credit_card:{...c},currency:u.value}},{deep:!0}),watch$1(S,V=>{if(V){let A=i.value;y.value.payment_service_id=A,y.value.currency_id=u.value.id,console.log("transferFormModel",y.value)}},{deep:!0}),{input:k,localPaymentMethod:i,localDefaultPaymentMethod:n,localCreditCard:c,isCreditCardForm:b,isTransferrableForm:S,submitForm:o,selectedCurrency:l,selectedCurrencyIso:f,formattedCurrencies:p,filteredServiceItems:m,transferSchema:h,transferFormModel:y,createTransferModel:I,updateTransferModel:N,handleTransferSubmit:F,handleCurrencyChange:D,displayPrice:s,selectedService:g,exchangeRate:w,isExchanged:B}}},_hoisted_1$x={class:"select-title"},_hoisted_2$s={class:"service-icon-container"},_hoisted_3$r={class:"total mb-2"},_hoisted_4$l={class:"amount mb-2"},_hoisted_5$k={key:0,class:""},_hoisted_6$j={key:1,class:"w-100 h-100 d-flex border-thin d-flex flex-column pa-4 ga-4"},_hoisted_7$f={class:"text-body-1 font-weight-bold"},_hoisted_8$e={class:"text-body-1"},_hoisted_9$c={class:"ml-2 font-weight-bold text-body-2 text-align-center"};function _sfc_render$J(e,a,o,r,i,n){const l=resolveComponent("v-img-icon"),s=resolveComponent("CreditCardForm"),c=resolveComponent("ue-form");return openBlock(),createBlock(VInput,{modelValue:r.input,"onUpdate:modelValue":a[7]||(a[7]=u=>r.input=u)},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex flex-column justify-center px-0"},{default:withCtx(()=>[createVNode(VCard,{class:"pa-4 payment-container",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$x,toDisplayString(e.$t("How would you like to pay?")),1)]),_:1}),createVNode(VSelect,{modelValue:r.selectedCurrency,"onUpdate:modelValue":[a[0]||(a[0]=u=>r.selectedCurrency=u),r.handleCurrencyChange],items:r.formattedCurrencies,label:"Currency",variant:"outlined",density:"comfortable","item-title":"display","item-value":"id",class:"mx-6"},null,8,["modelValue","items","onUpdate:modelValue"]),createVNode(VRadioGroup,{modelValue:r.localPaymentMethod,"onUpdate:modelValue":a[1]||(a[1]=u=>r.localPaymentMethod=u),column:""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["service-container px-3 py-cs-1 credit-card-service",{"selected-service--focus":r.localPaymentMethod===r.localDefaultPaymentMethod}])},[createVNode(VRadio,{label:e.$t("Credit Card"),value:r.localDefaultPaymentMethod,class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.currencyCardTypes[r.selectedCurrencyIso],(u,f)=>(openBlock(),createBlock(l,{key:`type-${f}`,src:u.logo,style:{"max-width":"64px"}},null,8,["src"]))),128))]),_:1})]),_:1})],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filteredServiceItems,(u,f)=>(openBlock(),createElementBlock("div",{key:`service-${f}`,class:normalizeClass(["service-container px-3 py-1",{"selected-service--focus":r.localPaymentMethod===u[o.itemValue]}])},[createVNode(VRadio,{label:u.name,value:u[o.itemValue],class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>{var p;return[createBaseVNode("div",_hoisted_2$s,[createVNode(l,{Xsrc:"/storage/uploads/"+((p=u==null?void 0:u.medias.find(m=>{var g;return((g=m==null?void 0:m.pivot)==null?void 0:g.role)==="logo"}))==null?void 0:p.uuid),src:u.button_logo_url,class:"v-img__img--relative"},null,8,["Xsrc","src"])])]}),_:2},1024)]),_:2},1024)],2))),128))]),_:1},8,["modelValue"])]),_:1}),createVNode(VCardTitle,{class:"headline"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_3$r,toDisplayString(e.$t("Total Amount")),1),createBaseVNode("p",_hoisted_4$l,toDisplayString(r.displayPrice),1),r.isExchanged?(openBlock(),createElementBlock("p",_hoisted_5$k,toDisplayString(e.$t("Exchange Rate"))+": ~"+toDisplayString(r.exchangeRate),1)):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(VCol,{class:"pa-4 pa-sm-0 d-flex align-center justify-center"},{default:withCtx(()=>{var u,f;return[r.isCreditCardForm?(openBlock(),createBlock(s,{key:0,cardName:r.localCreditCard.card_name,"onUpdate:cardName":a[2]||(a[2]=p=>r.localCreditCard.card_name=p),cardNumber:r.localCreditCard.card_number,"onUpdate:cardNumber":a[3]||(a[3]=p=>r.localCreditCard.card_number=p),cardMonth:r.localCreditCard.card_month,"onUpdate:cardMonth":a[4]||(a[4]=p=>r.localCreditCard.card_month=p),cardYear:r.localCreditCard.card_year,"onUpdate:cardYear":a[5]||(a[5]=p=>r.localCreditCard.card_year=p),cardCvv:r.localCreditCard.card_cvv,"onUpdate:cardCvv":a[6]||(a[6]=p=>r.localCreditCard.card_cvv=p)},null,8,["cardName","cardNumber","cardMonth","cardYear","cardCvv"])):r.isTransferrableForm?(openBlock(),createElementBlock("div",_hoisted_6$j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(((u=r.selectedService)==null?void 0:u.bank_details)??{},(p,m)=>(openBlock(),createElementBlock("div",{key:m,class:""},[createBaseVNode("h6",_hoisted_7$f,toDisplayString(e.$headline(m)),1),createBaseVNode("p",_hoisted_8$e,toDisplayString(p),1)]))),128)),createVNode(c,{ref:"transferForm",schema:r.transferSchema,modelValue:r.createTransferModel(),"action-url":o.paymentUrl,noDefaultSurface:"",noDefaultFormPadding:"",hasSubmit:"",buttonText:"I Have Completed The Transfer",onSubmitted:r.handleTransferSubmit},{submit:withCtx(({validForm:p,loading:m,saveForm:g})=>[createVNode(VBtn,{color:"success",block:"",disabled:!p,loading:m,onClick:g},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("I Have Completed The Transfer")),1)]),_:2},1032,["disabled","loading","onClick"])]),_:1},8,["schema","modelValue","action-url","onSubmitted"])])):(openBlock(),createBlock(VBtn,{key:2,style:normalizeStyle((f=r.selectedService)==null?void 0:f.button_style),onClick:r.submitForm,density:"comfortable","max-width":"300px","min-width":"80%",class:"d-flex align-center justify-center"},{default:withCtx(()=>{var p;return[createVNode(VImg,{width:"100px",contain:"","max-height":"36px",src:(p=r.selectedService)==null?void 0:p.button_logo_url},null,8,["src"]),createBaseVNode("span",_hoisted_9$c,toDisplayString(r.displayPrice),1)]}),_:1},8,["style","onClick"]))]}),_:1})]),_:1})]),_:1},8,["modelValue"])}const PaymentService=_export_sfc(_sfc_main$P,[["render",_sfc_render$J],["__scopeId","data-v-4ca16386"]]),__vite_glob_3_16=Object.freeze(Object.defineProperty({__proto__:null,default:PaymentService},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$3}=makeFormatterProps(),_sfc_main$O={components:{ActiveTableItem,Draggable,VDataTableRow,PaymentService,TableActions:_sfc_main$T},props:{...makeTableNamesProps(),...makeTableFiltersProps(),...makeTableHeadersProps(),...makeTableFormsProps(),...makeTableItemActionsProps(),...makeTableActionsProps(),...makeTableModalsProps(),...makeTableProps(),...makeDraggableProps(),...ignoreFormatters$3},setup(e,a){return{...useDraggable(e),...useTable(e,a)}},data(){return{datatable:{}}},mounted(){document.documentElement.style.setProperty("--table-header-color",this.headerOptions.color),this.$nextTick(()=>{this.$refs.datatable&&(this.datatable=this.$refs.datatable)}),this.initialize()},created(){},methods:{}},_hoisted_1$w={class:"d-flex align-start"},_hoisted_2$r={class:"ue-table-top__wrapper"},_hoisted_3$q={class:"d-flex text-start"},_hoisted_4$k={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"},_hoisted_5$j={class:"d-flex justify-end py-4"},_hoisted_6$i=["onClick"],_hoisted_7$e=["onClick"],_hoisted_8$d={key:1};function _sfc_render$I(e,a,o,r,i,n){const l=resolveComponent("ActiveTableItem"),s=resolveComponent("ue-title"),c=resolveComponent("TableActions"),u=resolveComponent("v-btn-secondary"),f=resolveComponent("ue-form"),p=resolveComponent("ue-modal"),m=resolveComponent("ue-recursive-data-viewer"),g=resolveComponent("ue-recursive-stuff"),y=resolveComponent("ue-copy-text"),h=resolveComponent("ue-dynamic-component-renderer"),v=resolveComponent("Draggable");return withDirectives((openBlock(),createBlock(VLayout,{fluid:"",class:normalizeClass([e.noFullScreen?"h-100":"",e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.elevation?`elevation-${e.elevation}`:""]),style:normalizeStyle(e.$vuetify.display.lgAndUp?"max-height: calc(100vh - 24px)":"max-height: calc(100vh - 24px - 64px)")},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["ue-datatable__container",e.noFullScreen?"fill-height":"fill-heigh ue-datatable--full-screen"])},[createVNode(l,mergeProps({class:"",modelValue:e.activeTableItem,"onUpdate:modelValue":a[0]||(a[0]=C=>e.activeTableItem=C)},e.$lodash.pick(this.$props??{},["name","fullWidthWrapper"]),{"table-headers":Object.values(e.$lodash.omitBy(this.headers,"actions")),"item-data":e.activeItemConfiguration,onToggle:a[1]||(a[1]=C=>e.hideTable=C)}),null,16,["modelValue","table-headers","item-data"]),e.hideTable?createCommentVNode("",!0):(openBlock(),createBlock(VDataTableServer,{key:0,class:normalizeClass(["px-4 h-100",e.tableClasses,e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.fullWidthWrapper?"":"ue-table--narrow-wrapper",e.tableElevation?`elevation-${e.tableElevation}`:"",e.striped?"ue-datatable--striped":"",e.roundedRows?"ue-datatable--rounded-row":"",e.hideBorderRow?"ue-datatable--no-border-row":"",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"ue-datatable--bottom-controls":""]),id:"ue-table",headers:e.selectedHeaders,"fixed-header":e.fixedHeader,sticky:e.sticky,items:e.elements,hover:!0,"items-per-page-options":e.itemsPerPageOptions,"items-per-page":e.options.itemsPerPage,search:e.options.search,page:e.options.page,"items-length":e.totalNumberOfElements,"item-title":e.titleKey,ref:"datatable",height:e.windowSize.y-64-24-59-(e.hideFooter?0:76)-(e.$vuetify.display.mdAndDown?80:0),"hide-default-header":e.hideHeaders||e.$vuetify.display.smAndDown&&!e.showMobileHeaders,"multi-sort":e.multiSort,"must-sort":e.mustSort,density:e.tableDensity??"comfortable","disable-sort":e.disableSort,loading:e.loading,"loading-text":e.$t("Loading... Please wait"),Xmobile:e.$vuetify.display.smAndDown,"mobile-breakpoint":e.mobileBreakpoint,"show-select":e.$store.getters.isSuperAdmin&&e.showSelect,"item-value":"id",modelValue:e.selectedItems,"onUpdate:modelValue":a[14]||(a[14]=C=>e.selectedItems=C),"onUpdate:options":a[15]||(a[15]=C=>e.changeOptions(C))},createSlots({top:withCtx(({someSelected:C})=>[createVNode(VToolbar,mergeProps(e.toolbarOptions,{class:["pt-3",e.$vuetify.display.smAndUp?"d-flex":""]}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"":"flex-lg-1-1-100 h-100 d-flex flex-column"]),style:{"min-width":"33%"}},[createVNode(s,{type:"subtitle-1",color:"black",text:e.tableTitle,padding:"a-0"},null,8,["text"]),e.tableSubtitle?(openBlock(),createBlock(s,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0",text:e.tableSubtitle},null,8,["text"])):createCommentVNode("",!0)],2),e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?(openBlock(),createBlock(VDivider,{key:0,class:"my-2"})):createCommentVNode("",!0),createVNode(VSlideXTransition,{group:!0},{default:withCtx(()=>[createBaseVNode("div",{key:"table-controls",class:normalizeClass(["d-flex ga-2 align-md-center",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"mb-2":"flex-1-1-100 justify-end",e.$vuetify.display.smAndDown?"flex-column":""])},[C?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.bulkActions,(b,S)=>(openBlock(),createElementBlock(Fragment,{key:S},[e.$can(b.name,e.permissionName)?withDirectives((openBlock(),createBlock(VBtn,mergeProps({key:0,ref_for:!0},e.filterBtnOptions,{"append-icon":!1,"prepend-icon":b.icon?b.icon:`$${b.name}`,text:e.window.__headline(b.name),color:b.color??"primary",onClick:k=>e.itemAction(b,b.name)}),null,16,["prepend-icon","text","color","onClick"])),[[Tooltip,e.$lodash.startCase(b.name)]]):createCommentVNode("",!0)],64))),128)):(openBlock(),createElementBlock(Fragment,{key:1},[!e.hideSearchField&&e.hasSearchableHeader?(openBlock(),createBlock(VTextField,{key:0,id:"search-field",ref:"searchField",modelValue:e.searchModel,"onUpdate:modelValue":a[3]||(a[3]=b=>e.searchModel=b),variant:"outlined","append-inner-iconx":e.searchModel!==e.search?"mdi-magnify":null,"hide-details":"",density:"compact","single-line":"",placeholder:e.searchPlaceholder,class:normalizeClass([e.controlsPosition==="bottom"||!e.$vuetify.display.xs?"flex-sm-grow-1":""]),style:normalizeStyle(["display: inline","min-width: 200px",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"":"max-width: 250px"]),"onClick:appendInner":e.searchItems,disabled:e.loading,onKeydown:withKeys(e.searchItems,["enter"])},{"append-inner":withCtx(()=>[createVNode(VBtn,{disabled:e.searchModel===e.search,icon:"mdi-magnify",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=b=>e.searchItems())},null,8,["disabled"])]),_:1},8,["modelValue","append-inner-iconx","placeholder","class","style","onClick:appendInner","disabled","onKeydown"])):createCommentVNode("",!0),createVNode(c,{class:normalizeClass(e.$vuetify.display.mdAndUp?"flex-grow-0 flex-shrink-0":""),actions:e.actions},{prepend:withCtx(()=>[createVNode(VMenu,null,{activator:withCtx(({props:b})=>[e.mainFilters.length>0&&!e.hideFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"filter-btn-activator"},{...e.filterBtnOptions,...e.filterBtnTitle,...b},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,Xtext:e.$vuetify.display.smAndDown?null:e.filterBtnTitle.text,text:e.filterBtnTitle.text,"prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.smAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","Xtext","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mainFilters,(b,S)=>(openBlock(),createBlock(VListItem,{key:S,onClick:withModifiers(k=>e.changeFilter(b.slug),["prevent"]),class:normalizeClass([b.slug===e.activeFilterSlug?"bg-primary":"",b.class??""])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(b.name+"("+b.number+")"),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}),createVNode(VMenu,{"close-on-content-click":!1,location:"end"},{activator:withCtx(({props:b})=>[Object.keys(e.advancedFilters).length>0&&!e.hideAdvancedFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"advanced-filter-btn"},{...e.filterBtnOptions,...e.filterBtnTitle,...b},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:"Filters","prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.mdAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{title:"Filters","min-width":"40vw","max-width":"50vw"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.advancedFilters,(b,S)=>(openBlock(),createElementBlock(Fragment,{key:S},[(openBlock(!0),createElementBlock(Fragment,null,renderList(b,(k,B)=>(openBlock(),createBlock(resolveDynamicComponent(`v-${k.type}`),mergeProps({ref_for:!0},k.componentOptions,{modelValue:k.selecteds,"onUpdate:modelValue":w=>k.selecteds=w}),null,16,["modelValue","onUpdate:modelValue"]))),256))],64))),128))]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"Clear",variant:"plain",onClick:e.resetAdvancedFilter},null,8,["onClick"]),createVNode(VBtn,{color:"primary",text:"Apply",variant:"tonal",onClick:e.changeAdvancedFilter},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),append:withCtx(()=>[e.$can("create",e.permissionName)&&!e.noForm&&!C&&e.createOnModal?(openBlock(),createBlock(VBtn,mergeProps({key:0},e.addBtnOptions,{onClick:e.createForm,icon:e.$vuetify.display.smAndDown?e.addBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:e.addBtnTitle,"prepend-icon":e.$vuetify.display.smAndDown?null:e.addBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.addBtnOptions.density??"comfortable"}),null,16,["onClick","icon","text","prepend-icon","density"])):createCommentVNode("",!0)]),_:2},1032,["class","actions"])],64))],2)]),_:2},1024)]),_:2},1040,["class"]),e.hideHeaders&&e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,class:"w-100 mb-4 mt-2",color:"success",indeterminate:"",reverse:""})):e.controlsPosition==="top"&&e.$vuetify.display.mdAndUp?(openBlock(),createBlock(VDivider,{key:1,class:"mb-2 mt-2"})):createCommentVNode("",!0),e.embeddedForm?createCommentVNode("",!0):(openBlock(),createBlock(p,mergeProps({key:2,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[6]||(a[6]=b=>e.formActive=b),transition:"dialog-bottom-transition",fullscreen:!1,"width-type":"lg"},e.formModalAttributes),{body:withCtx(b=>[createVNode(VCard,{class:"fill-height d-flex flex-column py-4"},{default:withCtx(()=>[createVNode(f,mergeProps({ref:"UeForm","form-class":"px-4","fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":""},e.formAttributes,{title:{...e.formAttributes.title??{},text:e.formTitle},subtitle:e.formSubtitle,isEditing:e.editedIndex>-1,style:b.isFullActive?"height: 95vh !important;":"height: 70vh !important;",actions:e.formActions,"has-submit":"","button-text":e.editedIndex>-1?e.$t("fields.update"):e.$t("fields.create"),onActionComplete:e.handleFormActionComplete,onSubmitted:e.handleFormSubmission}),createSlots({"header.right":withCtx(()=>[renderSlot(e.$slots,"form.header.right",{},()=>[createBaseVNode("div",_hoisted_1$w,[createVNode(VBtn,{icon:b.isFullActive?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:S=>b.toggleFullscreen()},null,8,["icon","onClick"]),createVNode(VBtn,{icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[4]||(a[4]=S=>e.closeForm())})])])]),top:withCtx(S=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(S)))]),_:2},[e.$slots["form.header.left"]?{name:"header.left",fn:withCtx(S=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(S)),()=>[createTextVNode(toDisplayString(S.title),1)])]),key:"0"}:void 0,e.$slots["form.top"]?{name:"top",fn:withCtx(S=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(S)))]),key:"1"}:void 0,e.$slots["form.bottom"]?{name:"bottom",fn:withCtx(S=>[renderSlot(e.$slots,"form.bottom",normalizeProps(guardReactiveProps(S)))]),key:"2"}:void 0,e.$slots["form.right.top"]?{name:"right.top",fn:withCtx(S=>[renderSlot(e.$slots,"form.right.top",normalizeProps(guardReactiveProps(S)))]),key:"3"}:void 0,e.$slots["form.right.middle"]?{name:"right.middle",fn:withCtx(S=>[renderSlot(e.$slots,"form.right.middle",normalizeProps(guardReactiveProps(S)))]),key:"4"}:void 0,e.$slots["form.right.bottom"]?{name:"right.bottom",fn:withCtx(S=>[renderSlot(e.$slots,"form.right.bottom",normalizeProps(guardReactiveProps(S)))]),key:"5"}:void 0,e.$slots["form.actions.prepend"]?{name:"actions.prepend",fn:withCtx(S=>[renderSlot(e.$slots,"form.actions.prepend",normalizeProps(guardReactiveProps(S)))]),key:"6"}:void 0,e.$slots["form.actions.append"]?{name:"actions.append",fn:withCtx(S=>[renderSlot(e.$slots,"form.actions.append",normalizeProps(guardReactiveProps(S)))]),key:"7"}:void 0,e.$store.getters.isSuperAdmin?{name:"options",fn:withCtx(S=>[S.isSubmittable?(openBlock(),createBlock(u,{key:0,slim:!1,variant:"outlined",onClick:a[5]||(a[5]=k=>e.$refs.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.validate")),1)]),_:1})):createCommentVNode("",!0)]),key:"8"}:void 0]),1040,["title","subtitle","isEditing","style","actions","button-text","onActionComplete","onSubmitted"])]),_:2},1024)]),_:3},16,["modelValue"])),createBaseVNode("div",_hoisted_2$r,[e.embeddedForm&&!e.noForm?(openBlock(),createElementBlock("div",{key:0,class:"",style:normalizeStyle(e.formStyles)},[createVNode(VExpandTransition,null,{default:withCtx(()=>[e.formActive?(openBlock(),createBlock(VCard,{key:0,class:"mb-theme",elevation:"4"},{default:withCtx(()=>[createVNode(f,{"has-submit":"","button-text":"save",title:e.formTitle,ref:"form",isEditing:e.editedIndex>-1},{"header.left":withCtx(b=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(b)),()=>[createTextVNode(toDisplayString(b.title),1)])]),headerCenter:withCtx(()=>a[16]||(a[16]=[])),"header.right":withCtx(()=>[createVNode(VBtn,{class:"",variant:"text",icon:"$close",density:"compact",onClick:a[7]||(a[7]=b=>e.closeForm())})]),_:3},8,["title","isEditing"])]),_:3})):createCommentVNode("",!0)]),_:3})],4)):createCommentVNode("",!0),createVNode(p,mergeProps({modelValue:e.modals.dialog.active,"onUpdate:modelValue":a[8]||(a[8]=b=>e.modals.dialog.active=b),ref:e.modals.dialog.ref,transition:"dialog-bottom-transition","width-type":"sm"},e.modals.dialog.modalAttributes??{},{"has-fullscreen-button":""}),null,16,["modelValue"]),e.modals.show.active?(openBlock(),createBlock(p,{key:1,ref:e.modals.show.ref,modelValue:e.modals.show.active,"onUpdate:modelValue":a[9]||(a[9]=b=>e.modals.show.active=b),transition:e.modals.show.transition||"dialog-bottom-transition","width-type":e.modals.show.widthType||"lg",persistent:e.modals.show.persistent,description:e.modals.show.description,title:e.modals.show.title,"has-fullscreen-button":"","has-close-button":"","no-confirm-button":"","has-title-divider":"","cancel-text":"Close","reject-button-attributes":{variant:"elevated",color:"primary"},scrollable:""},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_3$q,[createVNode(m,{data:e.modals.show.data,"all-array-items-open":!1,"all-array-items-closed":!1},null,8,["data"])])]),_:1},8,["modelValue","transition","width-type","persistent","description","title"])):createCommentVNode("",!0),createVNode(p,{modelValue:e.customFormModalActive,"onUpdate:modelValue":a[12]||(a[12]=b=>e.customFormModalActive=b),ref:"customFormModal","width-type":"lg",persistent:""},{default:withCtx(()=>[createVNode(f,mergeProps({ref:"customForm",modelValue:e.customFormModel,"onUpdate:modelValue":a[11]||(a[11]=b=>e.customFormModel=b)},e.customFormAttributes,{"fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":"","form-class":"px-6 pb-0",style:{height:"90vh !important"}}),{"header.right":withCtx(()=>[createVNode(VBtn,{class:"ml-auto",variant:"text",icon:"$close",density:"compact",color:"deafult",onClick:a[10]||(a[10]=b=>e.customFormModalActive=!1)})]),_:1},16,["modelValue"])]),_:1},8,["modelValue"])])]),"header.actions":withCtx(C=>[e.hideHeaders||e.hideMobileActions&&e.$vuetify.display.xs?createCommentVNode("",!0):(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:b})=>[createVNode(VBtn,mergeProps({size:"large",variant:"plain",color:"black",icon:"mdi-cog-outline"},b),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(VList,{class:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersModel,(b,S)=>(openBlock(),createElementBlock(Fragment,{key:S},[b.key!=="actions"&&!(e.$vuetify.display.xs&&b.noMobile===!0)?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.headersModel[S].visible,"onUpdate:modelValue":k=>e.headersModel[S].visible=k,color:"primary",class:"ml-n2",disabled:e.headersModel.filter(k=>k.key!=="actions"&&k.visible===!0).length<2&&e.headersModel[S].visible===!0,label:b.title,"hide-details":"",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","disabled","label"])):createCommentVNode("",!0)],64))),128))]),_:1})]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{color:"primary",text:"Save",variant:"tonal",onClick:e.applyHeaders,block:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1}))]),"item.actions":withCtx(({item:C})=>[e.hideMobileActions&&e.$vuetify.display.xs||e.visibleRowActions.length===0?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[e.actionShowingType==="dropdown"?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,left:"","offset-x":"",class:"action-dropdown"},{activator:withCtx(({props:b})=>[createVNode(VIcon,mergeProps({size:"large",color:"primary",icon:"$list"},b),null,16)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(b,S)=>(openBlock(),createElementBlock(Fragment,{key:S},[e.itemHasAction(C,b)?(openBlock(),createBlock(VListItem,{key:0,class:normalizeClass(b.class??""),onClick:k=>e.itemAction(C,b)},{default:withCtx(()=>[createVNode(VIcon,{small:"",color:b.iconColor,left:""},{default:withCtx(()=>[createTextVNode(toDisplayString(b.icon),1)]),_:2},1032,["color"]),createTextVNode(" "+toDisplayString(e.$t(b.label)),1)]),_:2},1032,["class","onClick"])):createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024)):(openBlock(),createElementBlock("div",_hoisted_8$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(b,S)=>(openBlock(),createElementBlock(Fragment,{key:S},[e.itemHasAction(C,b)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(b.label),location:"top",disabled:b.is!=="v-icon",class:normalizeClass(b.class??"")},{activator:withCtx(({props:k})=>[(openBlock(),createBlock(resolveDynamicComponent(b.is),mergeProps({onClick:B=>e.itemAction(C,b),ref_for:!0},{...b.hasTooltip?k:{},...b.componentProps??{}}),{prepend:withCtx(()=>[createVNode(VIcon,{small:"",color:b.iconColor,left:"",icon:b.icon},null,8,["color","icon"])]),default:withCtx(()=>[b.is!=="v-icon"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.$t(b.label)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(b.icon),1)],64))]),_:2},1040,["onClick"]))]),_:2},1032,["text","disabled","class"])):createCommentVNode("",!0)],64))),128))]))],64))]),"body.append":withCtx(()=>[e.enableInfiniteScroll?withDirectives((openBlock(),createBlock(VCard,{key:0},null,512)),[[Intersect,e.onIntersect]]):createCommentVNode("",!0),e.enableInfiniteScroll&&e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,indeterminate:e.loading},null,8,["indeterminate"])):createCommentVNode("",!0)]),_:2},[e.hasCustomRow?{name:"body",fn:withCtx(({items:C})=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(C,(b,S)=>(openBlock(),createBlock(VCol,mergeProps({key:b.id,ref_for:!0},e.customRow.col),{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(`ue-${e.customRow.name}`),{key:b.id,name:e.name,titlePrefix:e.titlePrefix,titleKey:e.titleKey,item:b,headers:e.headers,rowActions:e.rowActions,onClickAction:e.itemAction},{actions:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$k,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(k,B)=>(openBlock(),createElementBlock(Fragment,{key:B},[e.itemHasAction(b,k)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(k.label??e.$headline(k.name)),location:"top"},{activator:withCtx(({props:w})=>[createVNode(VBtn,mergeProps({ref_for:!0},w,{text:k.forceLabel?e.$t(k.label??e.$headline(k.name)):null,variant:k.variant??"elevated",density:k.density??(k.forceLabel?"comfortable":"compact"),size:k.size??(k.forceLabel,"default"),icon:k.forceLabel?null:k.icon?k.icon:"$"+k.name,color:k.color??"primary",rounded:k.forceLabel?null:!0,onClick:N=>e.itemAction(b,k),class:"text-capitalize"}),null,16,["text","variant","density","size","icon","color","rounded","onClick"])]),_:2},1032,["text"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1064,["name","titlePrefix","titleKey","item","headers","rowActions","onClickAction"])),S<C.length-1?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:2},1040))),128))]),_:2},1024)]),key:"0"}:void 0,e.hideFooter?{name:"bottom",fn:withCtx(({page:C,pageCount:b})=>[]),key:"1"}:e.enableCustomFooter||e.$vuetify.display.smAndDown?{name:"bottom",fn:withCtx(({page:C,pageCount:b})=>[createBaseVNode("div",_hoisted_5$j,[createVNode(VContainer,{class:"max-width text-center"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,width:"3",size:"small",indeterminate:""})):(openBlock(),createBlock(VPagination,mergeProps({key:0,modelValue:e.options.page,"onUpdate:modelValue":S=>e.options.page=S,length:e.totalNumberOfPages,density:"compact",size:"small","total-visible":e.$vuetify.display.smAndDown?1:3,"show-first-last-page":""},e.footerProps),{first:withCtx(({onClick:S,disabled:k,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-left",onClick:S,disabled:k}),null,16,["onClick","disabled"])]),prev:withCtx(({onClick:S,disabled:k,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:B,onClick:S,disabled:k}),null,16,["icon","onClick","disabled"])]),next:withCtx(({onClick:S,disabled:k,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:B,onClick:S,disabled:k}),null,16,["icon","onClick","disabled"])]),last:withCtx(({onClick:S,disabled:k,icon:B})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-right",onClick:S,disabled:k}),null,16,["onClick","disabled"])]),_:2},1040,["modelValue","onUpdate:modelValue","length","total-visible"]))]),_:2},1024)])]),key:"2"}:void 0,renderList(e.slots,(C,b)=>({name:b,fn:withCtx(()=>[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.elements,(S,k)=>(openBlock(),createBlock(g,{key:`tag-0-${k}`,configuration:S},null,8,["configuration"]))),128))])])})),renderList(e.formattableHeaders,(C,b)=>({name:`header.${C.key}`,fn:withCtx(S=>[createTextVNode(toDisplayString(S.column.title)+" ",1),C.searchable&&!e.hideSearchField?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t("Search")},{activator:withCtx(({props:k})=>[createVNode(VIcon,mergeProps(k,{color:"medium-emphasis",size:"small",icon:"mdi-table-search",onClick:a[13]||(a[13]=B=>e.$refs.searchField.focus())}),null,16)]),_:1},8,["text"])):createCommentVNode("",!0),C.removable?(openBlock(),createBlock(VTooltip,{key:1,text:e.$t("Remove Column")},{activator:withCtx(({props:k})=>[C.removable?(openBlock(),createBlock(VIcon,mergeProps({key:0,color:"medium-emphasis",size:"small",icon:"$close",onClick:B=>e.removeHeader(C.key)},k),null,16,["onClick"])):createCommentVNode("",!0)]),_:2},1032,["text"])):createCommentVNode("",!0)])})),renderList(e.formatterColumns,(C,b)=>({name:`item.${C.key}`,fn:withCtx(({item:S})=>[C.formatter=="edit"||C.formatter=="activate"?(openBlock(),createBlock(VTooltip,{text:S[C.key],key:b},{activator:withCtx(({props:k})=>[(openBlock(),createElementBlock("span",mergeProps({key:b},k,{class:"pa-0 justify-start text-none text-wrap text-primary darken-1 cursor-pointer",onClick:B=>e.itemAction(S,...C.formatter)}),toDisplayString(e.window.__isset(S[C.key])?e.window.__shorten(S[C.key],(C==null?void 0:C.textLength)??8):""),17,_hoisted_6$i)),(C.hasCopy??!1)||C.key.match(/^id|uuid$/)?(openBlock(),createBlock(y,{key:0,text:S[C.key]},null,8,["text"])):createCommentVNode("",!0)]),_:2},1032,["text"])):C.formatter=="switch"?(openBlock(),createBlock(VSwitch,{key:b,"model-value":S[C.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":k=>e.itemAction(S,"switch",k,C.key)},{label:withCtx(()=>a[17]||(a[17]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):C.formatter=="dynamic"?(openBlock(),createBlock(h,{subject:S[C.key],key:S[C.key]},null,8,["subject"])):(openBlock(),createBlock(g,mergeProps({key:3},e.handleFormatter(C.formatter,e.window.__shorten(S[C.key]??"",e.cellOptions.maxChars)),{key:S[C.key]}),null,16))])})),e.isClickableRows?{name:"item",fn:withCtx(C=>[createVNode(VDataTableRow,mergeProps(C.props,{onClick:b=>e.$isset(C.item[e.clickableItemAttribute])||e.endpoints.show?e.itemAction(C.item,"link"):null,style:{cursor:"pointer"}}),createSlots({_:2},[renderList(e.formatterColumns,(b,S)=>({name:`item.${b.key}`,fn:withCtx(({item:k})=>[b.formatter=="edit"||b.formatter=="activate"?(openBlock(),createBlock(VTooltip,{text:k[b.key],key:S},{activator:withCtx(({props:B})=>{var w;return[(openBlock(),createElementBlock("span",mergeProps({key:S},B,{class:"pa-0 justify-start text-none text-wrap text-primary darken-1 cursor-pointer",onClick:N=>e.itemAction(k,...b.formatter)}),toDisplayString(e.window.__isset(k[b.key])?e.window.__shorten(k[b.key],((w=k[b.key])==null?void 0:w.textLength)??8):""),17,_hoisted_7$e)),b.key.match(/^id|uuid$/)?(openBlock(),createBlock(y,{key:0,text:k[b.key]},null,8,["text"])):createCommentVNode("",!0)]}),_:2},1032,["text"])):b.formatter=="switch"?(openBlock(),createBlock(VSwitch,{key:S,"model-value":k[b.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":B=>e.itemAction(k,"switch",B,b.key)},{label:withCtx(()=>a[18]||(a[18]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):b.formatter=="dynamic"?(openBlock(),createBlock(h,{subject:k[b.key],key:k[b.key]},null,8,["subject"])):(openBlock(),createBlock(g,mergeProps({key:3},e.handleFormatter(b.formatter,e.window.__shorten(k[b.key]??"",e.cellOptions.maxChars)),{key:k[b.key]}),null,16))])}))]),1040,["onClick"])]),key:"3"}:void 0,e.draggable?{name:"default",fn:withCtx(()=>[createBaseVNode("thead",null,[renderSlot(e.$slots,e.headers,{},()=>[createVNode(VDataTableHeaders,{mobile:this.datatable.mobile,color:this.headerOptions.color},createSlots({_:2},[renderList(this.datatable.$slots,(C,b)=>({name:b,fn:withCtx(S=>[renderSlot(e.$slots,b,normalizeProps(guardReactiveProps(S)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[b]),normalizeProps(guardReactiveProps(S)),null,16))])])}))]),1032,["mobile","color"])])]),createVNode(v,mergeProps({"model-value":e.elements,"item-key":"position"},e.dragOptions,{tag:"tbody",class:"v-data-table__tbody","onUpdate:modelValue":e.sortElements}),{item:withCtx(C=>[createVNode(VDataTableRow,{item:e.draggableItems[C.index],mobile:this.datatable.mobile},createSlots({_:2},[renderList(this.datatable.$slots,(b,S)=>({name:S,fn:withCtx(k=>[renderSlot(e.$slots,S,normalizeProps(guardReactiveProps(k)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[S]),mergeProps({",":""},{...k,item:e.elements[C.index]}),null,16))])])}))]),1032,["item","mobile"])]),_:3},16,["model-value","onUpdate:modelValue"])]),key:"4"}:void 0]),1032,["class","headers","fixed-header","sticky","items","items-per-page-options","items-per-page","search","page","items-length","item-title","height","hide-default-header","multi-sort","must-sort","density","disable-sort","loading","loading-text","Xmobile","mobile-breakpoint","show-select","modelValue"]))],2)]),_:3},8,["class","style"])),[[Resize,e.onResize]])}const Table=_export_sfc(_sfc_main$O,[["render",_sfc_render$I]]),__vite_glob_0_36=Object.freeze(Object.defineProperty({__proto__:null,default:Table},Symbol.toStringTag,{value:"Module"})),_sfc_main$N={props:{componentName:{type:String},tableAttributes:{type:Object,required:!0,default:{}}}};function _sfc_render$H(e,a,o,r,i,n){return openBlock(),createBlock(resolveDynamicComponent(`ue-${o.componentName}`),normalizeProps(guardReactiveProps(o.tableAttributes)),null,16)}const TableBinder=_export_sfc(_sfc_main$N,[["render",_sfc_render$H]]),__vite_glob_0_37=Object.freeze(Object.defineProperty({__proto__:null,default:TableBinder},Symbol.toStringTag,{value:"Module"})),_sfc_main$M={props:{elements:{type:Array,default(){return[]}},color:{type:String,default:""}},data(){return{defaultCols:[]}},computed:{textColor(){return this.color!==""?`text-${this.color}`:""}}};function _sfc_render$G(e,a,o,r,i,n){return openBlock(),createBlock(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.elements,(l,s)=>(openBlock(),createBlock(VCol,mergeProps({key:s,ref_for:!0},l.col),{default:withCtx(()=>[createBaseVNode("label",{class:normalizeClass([`${n.textColor}`,l.class]),style:normalizeStyle(l.style)},toDisplayString(l.text),7)]),_:2},1040))),128))]),_:1})}const RowFormat=_export_sfc(_sfc_main$M,[["render",_sfc_render$G]]),_sfc_main$L={name:"ue-tabs",emits:["update:modelValue"],components:{RowFormat},props:{modelValue:{type:[String,Number]},tabValue:{type:String,default:"id"},tabTitle:{type:String,default:"name"},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab_:this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null,models:{},elements:__isObject(this.items)?Object.keys(this.items).map(e=>({[this.tabTitle]:e,...this.items[e],[this.tabValue]:e})):this.items}},watch:{tab_:{handler(e,a){this.$emit("update:modelValue",e)}}},computed:{tab:{get(){return this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$F(e,a,o,r,i,n){const l=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:n.tab,"onUpdate:modelValue":a[0]||(a[0]=s=>n.tab=s),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.elements,s=>renderSlot(e.$slots,`tab.${s[o.tabValue]}`,{key:`tab-${s[o.tabValue]}`},()=>[createVNode(VTab,{value:s[o.tabValue]},{prepend:withCtx(()=>[renderSlot(e.$slots,`tab.${s[o.tabValue]}.prepend`)]),append:withCtx(()=>[renderSlot(e.$slots,`tab.${s[o.tabValue]}.append`)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s[o.tabTitle]),1)]),_:2},1032,["value"])])),128))]),_:3},8,["modelValue"]),renderSlot(e.$slots,"windows",normalizeProps(guardReactiveProps({active:n.tab})),()=>[createVNode(VTabsWindow,{modelValue:n.tab,"onUpdate:modelValue":a[1]||(a[1]=s=>n.tab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(s,c)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${c}`,value:s[o.tabValue]},{default:withCtx(()=>[renderSlot(e.$slots,`window.${c}`,mergeProps({ref_for:!0},{index:c,item:s,model:i.models[s[o.tabValue]]}),()=>[createVNode(l,{elements:[{text:`${s[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"])])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])])],64)}const Tabs=_export_sfc(_sfc_main$L,[["render",_sfc_render$F]]),__vite_glob_0_38=Object.freeze(Object.defineProperty({__proto__:null,default:Tabs},Symbol.toStringTag,{value:"Module"})),_sfc_main$K={name:"ue-tabs",components:{RowFormat},props:{modelValue:{type:String,default:null},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{models:{}}},computed:{activeTab:{get(){return this.modelValue??Object.keys(this.items)[0]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$E(e,a,o,r,i,n){const l=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:n.activeTab,"onUpdate:modelValue":a[0]||(a[0]=s=>n.activeTab=s),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),s=>(openBlock(),createBlock(VTab,{key:`tab-${s}`,value:s},{default:withCtx(()=>[createTextVNode(toDisplayString(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),createVNode(VTabsWindow,{modelValue:n.activeTab,"onUpdate:modelValue":a[1]||(a[1]=s=>n.activeTab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),(s,c)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${s}`,value:s,class:"pa-theme"},{default:withCtx(()=>[renderSlot(e.$slots,"window",mergeProps({ref_for:!0},{index:c,key:s,items:o.items[s],model:i.models[s]}),()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items[s],(u,f)=>(openBlock(),createBlock(l,{key:`window-row-${f}]`,elements:[{text:`${u[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"]))),128)),renderSlot(e.$slots,"windowItem")])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])],64)}const TabsPrevious=_export_sfc(_sfc_main$K,[["render",_sfc_render$E]]),__vite_glob_0_39=Object.freeze(Object.defineProperty({__proto__:null,default:TabsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$J={name:"ue-text-display",props:{text:{type:String,required:!0},subText:{type:String,required:!1}}},_hoisted_1$v={class:"d-flex align-baseline"},_hoisted_2$q={class:"font-weight-bold"},_hoisted_3$p={key:0,class:"text-body-1"};function _sfc_render$D(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$v,[createBaseVNode("span",_hoisted_2$q,toDisplayString(o.text),1),o.subText?(openBlock(),createElementBlock("span",_hoisted_3$p,toDisplayString(o.subText),1)):createCommentVNode("",!0)])}const TextDisplay=_export_sfc(_sfc_main$J,[["render",_sfc_render$D]]),__vite_glob_0_40=Object.freeze(Object.defineProperty({__proto__:null,default:TextDisplay},Symbol.toStringTag,{value:"Module"})),_hoisted_1$u=["innerHTML"],_sfc_main$I={__name:"Title",props:{text:String,subTitle:String,tag:{type:String,default:"div",validator:e=>["div","h1","h2","h3","h4","h5","h6"].includes(e)},type:{type:String,default:"body-1",validator:e=>e===null||["h1","h2","h3","h4","h5","h6","subtitle-1","subtitle-2","body-1","body-2","button","caption","overline"].includes(e)},weight:{type:String,default:"bold",validator:e=>e===null||["black","bold","medium","regular","light","thin"].includes(e)},transform:{type:String,default:"uppercase",validator:e=>e===null||["none","capitalize","lowercase","uppercase"].includes(e)},color:{type:String},bg:{type:String},padding:{type:String,default:"a-3"},margin:{type:String,default:"a-0"},align:{type:String,default:"start",validator:e=>["start","center","end"].includes(e)},textPosition:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},justify:{type:String,default:"start",validator:e=>["start","center","end","space-between"].includes(e)},classes:{type:[String,Array]},paddingReset:{type:Boolean,default:!1},descriptionClasses:{type:[String,Array],default:"font-weight-light text-subtitle-2 text-truncate"}},setup(e){const a=e,o=computed(()=>["ue-title",`text-${a.type}`,a.bg?`bg-${a.bg}`:"",a.color?`text-${a.color}`:"",`text-${a.transform}`,`font-weight-${a.weight}`,a.padding?`p${a.padding}`:"",a.margin?`m${a.margin}`:"",`text-${a.textPosition}`,`align-${a.align}`,`justify-${a.justify}`]);return(r,i)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass([o.value,e.classes,"d-flex"])},{default:withCtx(()=>[renderSlot(r.$slots,"default",normalizeProps(guardReactiveProps({text:e.text})),()=>[createBaseVNode("span",{innerHTML:e.text},null,8,_hoisted_1$u)]),renderSlot(r.$slots,"right")]),_:3},8,["class"]))}},__vite_glob_0_41=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$I},Symbol.toStringTag,{value:"Module"})),illegalRe=/[\/\?<>\\:\*\|":]/g,controlRe=/[\x00-\x1f\x80-\x9f]/g,reservedRe=/^\.+$/,windowsReservedRe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,windowsTrailingRe=/[\. ]+$/,defaultDiacriticsRemovalap=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],diacriticsMap={};for(let e=0;e<defaultDiacriticsRemovalap.length;e++){const a=defaultDiacriticsRemovalap[e].letters.split("");for(let o=0;o<a.length;o++)diacriticsMap[a[o]]=defaultDiacriticsRemovalap[e].base}function noAccents(e,a,o){let r=e.replace(/[^\u0000-\u007E]/g,function(i){return diacriticsMap[i]||i});return o=o||"",r=r.replace(/[^\u0000-\u007E]/g,o),r}function sanitize(e,a){let o=noAccents(e).replace(illegalRe,a).replace(controlRe,a).replace(reservedRe,a).replace(windowsReservedRe,a).replace(windowsTrailingRe,a);const r=/[^0-9a-zA-Z-.,;_]/g;return o=o.replace(r,""),truncate(o,{length:255})}function sanitizeFilename(e,a){return sanitize(e,"")}const _sfc_main$H={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){const e=this.uploaderConfig.allowedExtensions;return{allowedExtensions:e,acceptFiles:"."+e.join(", ."),stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){const a={debug:!0,maxConnections:5,button:this.$refs.uploaderBrowseButton,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader=this.uploaderConfig.endpointType==="s3"?new _default({options:{...a,validation:{...this.uploaderValidation},objectProperties:{key:o=>this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)),region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):this.uploaderConfig.endpointType==="azure"?new _default$1({options:{...a,validation:{...this.uploaderValidation},cors:{expected:!0,sendCredentials:!0},blobProperties:{name:o=>new Promise(r=>{r(this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)))})},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):new _default$2({options:{...a,validation:{...this.uploaderValidation,sizeLimit:this.uploaderConfig.filesizeLimit*1048576},request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}})},replaceMedia:function(e){this.media_to_replace_id=e;const a=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');a[Array.from(a).length-1].click()},loadingProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,a){this.$emit("loaded",a),this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD,e)},_onCompleteCallback(e,a,o,r){const i=this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e));o.success?this.loadingFinished(this.loadingMedias[i],o.media):this.loadingError(this.loadingMedias[i])},_onAllCompleteCallback(e,a){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback(e,a){this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+qq.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);const o=URL.createObjectURL(this._uploader.methods.getFile(e)),r=new Image;r.onload=()=>{this._uploader.methods.setParams({width:r.width,height:r.height,unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e),this.media_to_replace_id=null},r.src=o;const i={id:this._uploader.methods.getUuid(e),name:sanitizeFilename(a),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};this.type.value==="file"&&(this.media_to_replace_id=null),this.loadingMedias.push(i),this.loadingProgress(i)},_onProgressCallback(e,a,o,r){const i=this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e));if(i>=0){const n=this.loadingMedias[i];n.progress=o/r*100||0,n.error=!1,this.loadingProgress(n)}},_onErrorCallback(e,a,o,r){const i=e?this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e)):-1;if(i>=0)this.loadingMedias[i].errorMessage=o,this.loadingError(this.loadingMedias[i]);else{const n={id:e?this._uploader.methods.getUuid(e):Math.floor(Math.random()*1e3),name:sanitizeFilename(a),progress:0,error:!0,errorMessage:o};this.loadingMedias.push(n),this.loadingProgress(n),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback(e,a,o){if(o==="retrying upload"){const r=this.loadingMedias.findIndex(function(i){return i.id===e});if(r>=0){const i=this.loadingMedias[r];i.progress=0,i.error=!1,this.loadingProgress(i)}}},_onTotalProgressCallback(e,a){const o=Math.floor(e/a*100);this.uploadProgress(o)},_onDropError(e,a){console.error(e,a)},_onProcessingDroppedFilesComplete(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted(){this.initUploader();const e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new qq.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeUnmount(){this._qqDropzone&&this._qqDropzone.dispose()}},_hoisted_1$t={class:"uploader"},_hoisted_2$p={class:"uploader__dropzone",ref:"uploaderDropzone"},_hoisted_3$o={class:"uploader__dropzone--desktop"};function _sfc_render$C(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$p,[createBaseVNode("div",{class:"button",ref:"uploaderBrowseButton"},toDisplayString(e.$trans("uploader.upload-btn-label","Add new")),513),createBaseVNode("div",_hoisted_3$o,toDisplayString(e.$trans("uploader.dropzone-text","or drop new files here")),1)],512)])}const Uploader=_export_sfc(_sfc_main$H,[["render",_sfc_render$C],["__scopeId","data-v-936f2c80"]]),__vite_glob_0_42=Object.freeze(Object.defineProperty({__proto__:null,default:Uploader},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$2}=makeFormatterProps(),_sfc_main$G={props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$2},setup(e,a){return{...useTableIterator(e,a)}},data(){return{isExpanded:!1}},methods:{toggleExpand(){this.isExpanded=!this.isExpanded}}};function _sfc_render$B(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VCard,{onClick:n.toggleExpand,color:"#EBEFF280",variant:"flat",rounded:"l",class:"mr-0 pr-0"},{default:withCtx(()=>[createVNode(VRow,{class:"d-flex align-center pr-0 mr-0 ga-0"},{default:withCtx(()=>[createVNode(VCol,{cols:"11"},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.headerKey].formatter.length?(openBlock(),createBlock(l,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.headerKey].formatter,e.item[e.iteratorOptions.headerKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1}))]),_:1}),createVNode(VSpacer),createVNode(VIcon,{icon:"mdi-menu-down",class:"pr-3"})]),_:1}),(openBlock(),createBlock(VExpandTransition,{key:e.item.id},{default:withCtx(()=>[i.isExpanded?(openBlock(),createBlock(VCard,{key:0},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.expandedKey].formatter.length?(openBlock(),createBlock(l,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.expandedKey].formatter,e.item[e.iteratorOptions.expandedKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.expandedKey]),1)]),_:1}))]),_:1})):createCommentVNode("",!0)]),_:1}))]),_:1},8,["onClick"])}const ExpandableIterator=_export_sfc(_sfc_main$G,[["render",_sfc_render$B]]),__vite_glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:ExpandableIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$1}=makeFormatterProps(),_sfc_main$F={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$1},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$s={class:"text-h6"},_hoisted_2$o={key:0},_hoisted_3$n={key:1},_hoisted_4$j={key:2},_hoisted_5$i={class:"d-flex justify-end"};function _sfc_render$A(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VSheet,{border:""},{default:withCtx(()=>[createVNode(VImg,{gradient:"to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, .1), rgba(0, 0, 0, .15)",src:e.headersWithKeys[e.iteratorOptions.imgSrc]??"https://ih1.redbubble.net/image.4905811447.8675/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",height:"150"},null,8,["src"]),createVNode(VListItem,{title:e.item.name,density:"comfortable",lines:"one"},{title:withCtx(()=>[createBaseVNode("strong",_hoisted_1$s,toDisplayString(e.item.name),1)]),_:1},8,["title"]),createVNode(VTable,{class:"data-iterator-table",density:"compact"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersWithKeys,(s,c)=>{var u,f;return openBlock(),createElementBlock("tr",null,[createBaseVNode("th",null,toDisplayString(s.title),1),s.key!=="actions"&&!((u=s.formatter)!=null&&u.length)?(openBlock(),createElementBlock("td",_hoisted_2$o,toDisplayString(e.item[s.key]),1)):s.key!=="actions"&&((f=s.formatter)!=null&&f.length)?(openBlock(),createElementBlock("td",_hoisted_3$n,[(openBlock(),createBlock(l,mergeProps({ref_for:!0},e.handleFormatter(s.formatter,e.item[s.key]),{key:s.key}),null,16))])):s.key==="actions"&&!s.formatter.length?(openBlock(),createElementBlock("td",_hoisted_4$j,[createBaseVNode("div",_hoisted_5$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(p=>e.itemHasAction(e.item,p)),(p,m)=>(openBlock(),createBlock(VIcon,{ripple:!0,density:"compact",size:"medium",key:m,onClick:g=>e.itemAction(e.item,p),small:"",icon:p.icon??`$${p.name}`},null,8,["onClick","icon"]))),128))])])):createCommentVNode("",!0)])}),256))])]),_:1})]),_:1})}const RichCardIterator=_export_sfc(_sfc_main$F,[["render",_sfc_render$A]]),__vite_glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:RichCardIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters}=makeFormatterProps(),_sfc_main$E={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$r={class:"d-flex"},_hoisted_2$n={class:"header"},_hoisted_3$m={key:0,class:"value"},_hoisted_4$i={class:"d-flex"},_hoisted_5$h={class:"header"},_hoisted_6$h={key:0,class:"value"},_hoisted_7$d={key:0,class:"featured"},_hoisted_8$c={key:1};function _sfc_render$z(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createElementBlock(Fragment,null,[createVNode(VCard,{class:"data-iterable-rich-row",variant:"flat",elevation:"0"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1})]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"action-area"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(s=>e.itemHasAction(e.item,s)),(s,c)=>(openBlock(),createBlock(VBtn,{ripple:!0,density:"compact",size:"small",key:c,onClick:u=>e.itemAction(e.item,s)},{default:withCtx(()=>[createVNode(VIcon,{small:"",icon:s.icon??`$${s.name}`},null,8,["icon"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"3",class:"first-column"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.firstColumn,(s,c)=>(openBlock(),createElementBlock("div",_hoisted_1$r,[createBaseVNode("p",_hoisted_2$n,toDisplayString(e.headersWithKeys[s].title),1),e.headersWithKeys[s].formatter.length?(openBlock(),createBlock(l,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_3$m,toDisplayString(e.item[s]),1))]))),256))]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.secondColumn,(s,c)=>{var u,f;return openBlock(),createElementBlock("div",_hoisted_4$i,[createBaseVNode("p",_hoisted_5$h,toDisplayString(((u=e.headersWithKeys[s])==null?void 0:u.title)??s),1),(f=e.headersWithKeys[s])!=null&&f.formatter.length?(openBlock(),createBlock(l,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_6$h,toDisplayString(e.item[s]??""),1))])}),256))]),_:1}),createVNode(VCol,{cols:"3",class:"featured"},{default:withCtx(()=>{var s;return[(s=e.headersWithKeys[e.iteratorOptions.featured])!=null&&s.formatter.length?(openBlock(),createBlock(l,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.featured].formatter,e.item[e.iteratorOptions.featured]),{key:e.item[e.iteratorOptions.featured].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_7$d,toDisplayString(e.item[e.iteratorOptions.featured]),1))]}),_:1}),createVNode(VCol,{cols:"3",class:"last-column"},{default:withCtx(()=>[e.headersWithKeys.published.formatter.length?(openBlock(),createBlock(l,mergeProps({key:0},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.lastColumn].formatter,e.item[e.iteratorOptions.lastColumn]),{key:e.item[e.iteratorOptions.lastColumn].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_8$c,toDisplayString(e.item[e.iteratorOptions.lastColumn]),1)),createVNode(VBtn,{variant:"outlined",ripple:!0},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Report")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VDivider)],64)}const RichRowIterator=_export_sfc(_sfc_main$E,[["render",_sfc_render$z]]),__vite_glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:RichRowIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$D={name:"Footer",props:{items:{type:Array,required:!0},show:{type:Boolean,default:!0}},data:function(){return{links:this.items,display:this.show}},created(){}};function _sfc_render$y(e,a,o,r,i,n){return withDirectives((openBlock(),createBlock(VFooter,{dark:"",padless:""},{default:withCtx(()=>[createVNode(VCard,{flat:"",tile:"",class:"indigo lighten-1 white--text text-center"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.links,(l,s)=>(openBlock(),createBlock(VBtn,{key:s,class:"mx-4 white--text",href:l.url,icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"24px"},{default:withCtx(()=>[createTextVNode(toDisplayString(l.icon),1)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),createVNode(VCardText,{class:"white--text pt-0"},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode(" Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. ")])),_:1}),createVNode(VDivider),createVNode(VCardText,{class:"white--text"},{default:withCtx(()=>[createTextVNode(toDisplayString(new Date().getFullYear())+"  ",1),a[1]||(a[1]=createBaseVNode("strong",null,"Vuetify",-1))]),_:1})]),_:1})]),_:1},512)),[[vShow,e.display]])}const Footer=_export_sfc(_sfc_main$D,[["render",_sfc_render$y]]),__vite_glob_2_0=Object.freeze(Object.defineProperty({__proto__:null,default:Footer},Symbol.toStringTag,{value:"Module"})),_sfc_main$C={provide(){return{activeMenu:computed(()=>this.activeMenu)}},setup(){const e=useGoTo();return{...useSidebar(),goTo:e}},props:{items:{type:Array,required:!0},profileMenu:{type:Array,required:!1,default:()=>[]},rating:{type:Number,default:0}},data(){return{dialog:!1,logo:"@/sass/themes/template/main-logo.svg",profileMenuOpen:!1}},mounted(){try{const e=window.$(".sidebar-item-active"),a=e[e.length-1];this.goTo(a,{container:".v-navigation-drawer__content",duration:200,offset:-200,easing:"easeInOutQuad"})}catch(e){console.log(e)}this.profileMenu.length>0&&(this.profileMenuOpen=this.profileMenu.some(e=>e.is_active==1))},methods:{profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})}}},_hoisted_1$q={key:1,class:"mx-3 text-subtitle-2"},_hoisted_2$m={class:"flex-grow-1"},_hoisted_3$l={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_4$h={class:"flex-grow-1"},_hoisted_5$g={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_6$g={class:"d-flex align-center position-relatie",style:{}};function _sfc_render$x(e,a,o,r,i,n){const l=resolveComponent("ue-svg-icon"),s=resolveComponent("ue-navigation-group"),c=resolveComponent("ue-logout-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{ref:"navigationDrawer",id:"navigation-drawer",modelValue:e.status,"onUpdate:modelValue":a[3]||(a[3]=u=>e.status=u),rail:e.rail,"expand-on-hover":e.isHoverable,location:e.options.location,railWidth:e.options.railWidth,persistent:e.options.persistent??!1,width:e.width},{prepend:withCtx(()=>[createVNode(VList,{class:"ue-sidebar__info"},{default:withCtx(()=>[e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock("div",_hoisted_1$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(u,f)=>(openBlock(),createElementBlock("div",{key:f,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_2$m,toDisplayString(e.$headline(f))+":",1),createBaseVNode("div",_hoisted_3$l,toDisplayString(u),1)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],u=>createBaseVNode("div",{key:u,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_4$h,toDisplayString(u==="appDebug"?"Debug Mode":e.$headline(u))+":",1),createBaseVNode("div",_hoisted_5$g,toDisplayString(u==="appDebug"?e.$store.getters[u]?"Active":"Inactive":e.$store.getters[u]),1)])),64)):createCommentVNode("",!0)])):(openBlock(),createBlock(VListItem,{key:0,"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",subtitle:e.$store.getters.appEmail,title:e.$store.getters.appName,class:"ue-sidebar__info-item"},{prepend:withCtx(()=>[createVNode(VAvatar,{class:"ue-sidebar__avatar",color:"primary"},{default:withCtx(()=>[createVNode(l,{class:"ue-sidebar__logo",symbol:"main-logo-dark"})]),_:1})]),_:1},8,["subtitle","title"]))]),_:1}),createBaseVNode("div",_hoisted_6$g,[createVNode(VDivider,{class:"flex-grow-1"}),!e.hasRail&&e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VBtn,{key:0,icon:"",color:"orange",onClick:a[0]||(a[0]=u=>e.railManual=!e.railManual),class:"sidebar-toggle-btn",size:"small",style:{position:"absolute",right:"-20px","z-index":"9999"}},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.rail?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1})):createCommentVNode("",!0)])]),append:withCtx(()=>[e.$store.getters.isGuest?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VDivider),createVNode(VList,{class:""},{default:withCtx(()=>[createVNode(VListItem,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:e.$store.getters.userProfile.name,subtitle:e.$store.getters.userProfile.email,class:"ue-sidebar__info-item"},{prepend:withCtx(u=>[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])]),subtitle:withCtx(()=>[createVNode(VTooltip,{text:e.$store.getters.userProfile.email,location:"top"},{activator:withCtx(u=>[createBaseVNode("div",mergeProps({class:"v-list-item-subtitle"},u.props),toDisplayString(e.$store.getters.userProfile.email),17)]),_:1},8,["text"])]),append:withCtx(()=>[createVNode(VBtn,{onClick:a[1]||(a[1]=u=>i.profileMenuOpen=!i.profileMenuOpen),icon:i.profileMenuOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text"},null,8,["icon"])]),_:1},8,["title","subtitle"]),createVNode(VExpandTransition,null,{default:withCtx(()=>[i.profileMenuOpen?(openBlock(),createBlock(s,{key:0,items:o.profileMenu,profileMenu:!0,onActivateMenu:a[2]||(a[2]=u=>e.handleMenu(u))},null,8,["items"])):createCommentVNode("",!0)]),_:1}),createVNode(c,{csrf:e.$csrf()},{activator:withCtx(({props:u})=>[createVNode(VTooltip,{text:"Logout",location:"top",disabled:!(e.rail&&!e.isHoverable)},{activator:withCtx(f=>[createBaseVNode("div",normalizeProps(guardReactiveProps(f.props)),[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-logout"},u,{disabled:e.$store.getters.isGuest}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040,["disabled"])],16)]),_:2},1032,["disabled"])]),_:1},8,["csrf"]),e.$store.getters.versions&&!e.$store.getters.isGuest&&!e.$store.getters.isClient&&!e.$store.getters.isSuperAdmin?(openBlock(),createBlock(VDialog,{key:0,ref:"aboutDialog","max-width":"500"},{activator:withCtx(({props:u})=>[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-information"},u),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("About")),1)]),_:2},1040)]),default:withCtx(({isActive:u})=>[createVNode(VCard,{title:e.$t("About")},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(f,p)=>(openBlock(),createElementBlock("div",{key:p,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(e.$headline(p))+": ",1),createVNode(VChip,{variant:"outlined",color:"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(f),1)]),_:2},1024)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],f=>createBaseVNode("div",{key:f,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(f==="appDebug"?"Debug Mode":e.$headline(f))+": ",1),createVNode(VChip,{variant:"outlined",color:f==="appDebug"?e.$store.getters[f]?"success":"error":"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(f==="appDebug"?e.$store.getters[f]?"Active":"Inactive":e.$store.getters[f]),1)]),_:2},1032,["color"])])),64)):createCommentVNode("",!0)]),_:1}),createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"outlined",text:e.$t("Close"),onClick:f=>u.value=!1},null,8,["text","onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:1},512)):createCommentVNode("",!0)]),_:1})],64)),renderSlot(e.$slots,"bottom")]),default:withCtx(()=>[createVNode(s,{items:o.items,hideIcons:e.hideIcons,showTooltip:e.rail&&!e.isHoverable,id:"ue-sidebar__menu"},null,8,["items","hideIcons","showTooltip"])]),_:3},8,["modelValue","rail","expand-on-hover","location","railWidth","persistent","width"]),e.options.contentDrawer.exists?(openBlock(),createBlock(VNavigationDrawer,{key:0,width:e.width,location:e.options.location,style:{"max-width":"15%"}},null,8,["width","location"])):createCommentVNode("",!0),e.secondaryOptions.exists?(openBlock(),createBlock(VNavigationDrawer,{key:1,location:e.secondaryOptions.location,width:e.width},null,8,["location","width"])):createCommentVNode("",!0)],64)}const Sidebar=_export_sfc(_sfc_main$C,[["render",_sfc_render$x]]),__vite_glob_2_3=Object.freeze(Object.defineProperty({__proto__:null,default:Sidebar},Symbol.toStringTag,{value:"Module"})),_sfc_main$B={name:"Home",data(){return{sidebarItems:[{icon:"fas fa-plus"},{icon:"fas fa-th-large"},{icon:"fas fa-align-center"},{icon:"fas fa-gitter"},{icon:"fas fa-chart-line"}]}},components:{Sidebar}};function _sfc_render$w(e,a,o,r,i,n){const l=resolveComponent("Sidebar");return openBlock(),createBlock(VApp,{id:"inspire",style:normalizeStyle({background:e.$vuetify.theme.themes.dark.background})},{default:withCtx(()=>[createVNode(l,{items:i.sidebarItems},null,8,["items"])]),_:1},8,["style"])}const Home=_export_sfc(_sfc_main$B,[["render",_sfc_render$w]]),__vite_glob_2_1=Object.freeze(Object.defineProperty({__proto__:null,default:Home},Symbol.toStringTag,{value:"Module"})),_sfc_main$A={props:{fixedAppBar:{type:Boolean,default:!1},appBarOrder:{type:Number,default:0},headerTitle:{type:String},hideDefaultSidebar:{type:Boolean,default:!1},navigation:{type:Object,default(){return{sidebar:[{icon:"$package",text:"Packages",action:"",is_active:!1},{icon:"$creditCards",text:"Payments",action:"",is_active:!1},{icon:"$product",text:"Customers",action:"",is_active:!1},{icon:"$users",text:"Users",is_active:!0,items:[{icon:"$users",text:"Show Users",action:"",is_active:!1},{icon:"$userAdd",text:"Add User",action:"",is_active:!1},{icon:"$role",text:"Roles",is_active:!0,items:[{icon:"$permission",text:"Add Permission",action:"",is_active:!0}]}]},{icon:"$check",text:"Settings",action:"",is_active:!1},{icon:"fas fa-plus",text:"Others",action:"",is_active:!1}]}}},impersonation:{type:Object,default(){return{}}},authorization:{type:Object,default(){return{}}}},data(){return{loader:null,loading:!1,langs:["tr","en"],footerDisplay:!1,sidebarItem:[{icon:"$package",text:"Packages",action:""},{icon:"$creditCards",text:"Payments",action:""},{icon:"$product",text:"Customers",action:""},{icon:"$users",text:"Users",items:[{icon:"$users",text:"Show Users",action:""},{icon:"$userAdd",text:"Add User",action:""}]},{icon:"$check",text:"Settings",action:""},{icon:"fas fa-plus",text:"Others",action:""}],sidebarItems:this.navigation&&this.navigation.sidebar?this.navigation.sidebar:[],breadcrumbs:this.navigation.breadcrumbs??[],profileMenu:this.navigation.profileMenu??[],sidebarBottom:this.navigation.sidebarBottom??[],footerLinks:[{icon:"mdi-facebook",url:"facebook.com"},{icon:"mdi-twitter",url:"twitter.com"},{icon:"mdi-linkedin",url:"linkedin.com"},{icon:"mdi-instagram",url:"instagram.com"}],showDeleteWarning:!1,showImpersonateToolbar:!1}},computed:{alertDialog:{get(){return this.$store.state.alert.dialog},set(e){this.$store.commit(ALERT$1.SET_DIALOG_SHOW,e)}},alertDialogMessage(){return this.$store.state.alert.dialogMessage}},created(){this.$vuetify.display.mdAndDown&&this.$store.commit(CONFIG.SET_SIDEBAR,!1),this.$store.commit(MEDIA_LIBRARY.SET_ACCESSIBLE,this.authorization&&!this.$lodash.isEmpty(this.authorization)&&!this.authorization.isClient)},mounted(){},methods:{addSidebarItem:function(e){this.$refs.sidebar.addItem({icon:"fa-regular fa-circle-question",text:"New"})},submit(){alert("Submit Form")},closeAlertDialog(){this.$store.commit(ALERT$1.CLEAR_DIALOG)},profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})},loginFormSubmitted(e){e.variant==="success"&&(this.$store.commit(ALERT$1.SET_ALERT,{...e}),e.timeout?setTimeout(()=>{window.location.reload()},e.timeout):window.location.reload())}}},_hoisted_1$p={class:"d-flex justify-end mr-4"},_hoisted_2$l={class:"d-flex align-center"},_hoisted_3$k=["value"],_hoisted_4$g={key:0},_hoisted_5$f={class:"d-flex flex-column align-center justify-center"},_hoisted_6$f={class:"modal--tiny-title"},_hoisted_7$c=["innerHTML"],_hoisted_8$b={class:"d-flex align-center"},_hoisted_9$b={class:"d-flex"},_hoisted_10$a={class:"my-3 flex-grow-0"},_hoisted_11$7=["innerHTML"],_hoisted_12$4={class:"text-grey-darken-2 text-caption"};function _sfc_render$v(e,a,o,r,i,n){const l=resolveComponent("ue-navigation-group"),s=resolveComponent("ue-impersonate-toolbar"),c=resolveComponent("ue-sidebar"),u=resolveComponent("ue-modal-media"),f=resolveComponent("ue-modal"),p=resolveComponent("ue-title"),m=resolveComponent("ue-form"),g=resolveComponent("ue-alert"),y=resolveComponent("ue-dynamic-modal"),h=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VApp,{id:"inspire"},{default:withCtx(()=>[e.$store.getters.isHot?(openBlock(),createBlock(VChip,{key:0,color:"green",class:"position-absolute",style:{top:"4px",right:"0","z-index":"10000"},onClick:a[0]||(a[0]=v=>e.$store.state.ambient.isHot=!1)},{default:withCtx(()=>a[11]||(a[11]=[createTextVNode(" Development Mode ")])),_:1})):createCommentVNode("",!0),e.$vuetify.display.mdAndDown||o.fixedAppBar?(openBlock(),createBlock(VAppBar,{key:1,app:"",order:o.appBarOrder},{default:withCtx(()=>[renderSlot(e.$slots,"app-bar",{},()=>[!e.$vuetify.display.lgAndUp&&!o.hideDefaultSidebar?(openBlock(),createBlock(VAppBarNavIcon,{key:0,icon:e.$store.getters.sidebarStatus?"$close":"$menu",onClick:a[1]||(a[1]=v=>e.$toggleSidebar())},null,8,["icon"])):createCommentVNode("",!0),createVNode(VToolbarTitle,{class:"flex-1-1-100 ml-0 text-center"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.headerTitle),1)]),_:1}),createVNode(VSpacer),createBaseVNode("div",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$l,[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])])]),createCommentVNode("",!0)])]),_:3},8,["order"])):createCommentVNode("",!0),o.hideDefaultSidebar?createCommentVNode("",!0):(openBlock(),createBlock(c,{key:2,ref:"sidebar",items:i.sidebarItems,profileMenu:i.profileMenu},{bottom:withCtx(()=>[i.sidebarBottom.length>0?(openBlock(),createBlock(l,{key:0,items:i.sidebarBottom},null,8,["items"])):createCommentVNode("",!0),o.impersonation.active?(openBlock(),createBlock(s,mergeProps({key:1,modelValue:i.showImpersonateToolbar,"onUpdate:modelValue":a[3]||(a[3]=v=>i.showImpersonateToolbar=v)},o.impersonation),null,16,["modelValue"])):createCommentVNode("",!0)]),_:1},8,["items","profileMenu"])),createVNode(VMain,null,{default:withCtx(()=>[renderSlot(e.$slots,"top"),createCommentVNode("",!0),renderSlot(e.$slots,"default"),renderSlot(e.$slots,"bottom")]),_:3}),e.$store.getters.mediaLibraryAccessible?(openBlock(),createBlock(u,{key:3,ref:"mediaLibrary",modelValue:e.$store.state.mediaLibrary.showModal,"onUpdate:modelValue":a[4]||(a[4]=v=>e.$store.state.mediaLibrary.showModal=v)},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(f,{ref:"deleteWarningMediaModal",modelValue:i.showDeleteWarning,"onUpdate:modelValue":a[5]||(a[5]=v=>i.showDeleteWarning=v),transition:"dialog-bottom-transition","width-type":"sm","confirm-text":e.$t("media-library.dialogs.delete.delete-media-confirm"),"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_5$f,[createBaseVNode("p",_hoisted_6$f,[createBaseVNode("strong",null,toDisplayString(e.$t("media-library.dialogs.delete.delete-media-title")),1)]),createBaseVNode("p",{innerHTML:e.$t("media-library.dialogs.delete.delete-media-desc")},null,8,_hoisted_7$c)])]),_:1},8,["modelValue","confirm-text"]),createVNode(f,{ref:"profileDialog",modelValue:e.$store.state.user.profileDialog,"onUpdate:modelValue":a[7]||(a[7]=v=>e.$store.state.user.profileDialog=v),Xwidth:"500",scrollable:""},{body:withCtx(({isActive:v,toggleFullscreen:C,close:b,isFullActive:S})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(p,{padding:"y-3",text:e.$t("Upload Profile Image"),color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_8$b,[createVNode(VIcon,{icon:S?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"default",onClick:k=>C()},null,8,["icon","onClick"]),createVNode(VIcon,{icon:"$close",variant:"plain",color:"grey-darken-5",size:"default",onClick:k=>b()},null,8,["onClick"])])]),_:2},1032,["text"]),createVNode(VDivider)]),_:2},1024),createVNode(VCardText,{Xstyle:"height: 30vh;"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$b,[createBaseVNode("div",_hoisted_10$a,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"100"},null,8,["image"])]),createVNode(m,{class:"flex-grow-1 pl-6",schema:e.$store.state.user.profileShortcutSchema,modelValue:e.$store.state.user.profileShortcutModel,"onUpdate:modelValue":a[6]||(a[6]=k=>e.$store.state.user.profileShortcutModel=k),"action-url":e.$store.state.user.profileRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"","is-editing":"",buttonText:"fields.save",onSubmitted:n.profileFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),createVNode(g,{ref:"alert"},null,512),createVNode(y),createVNode(f,{ref:"dialog",modelValue:n.alertDialog,"onUpdate:modelValue":a[8]||(a[8]=v=>n.alertDialog=v),scrollable:"",transition:"dialog-bottom-transition","width-type":"lg",persistent:""},{body:withCtx(v=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,{class:"text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.alertDialogMessage},null,8,_hoisted_11$7)]),_:1}),createVNode(VDivider),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(h,{onClick:n.closeAlertDialog},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(f,{ref:"loginModal",modelValue:e.$store.state.user.showLoginModal,"onUpdate:modelValue":a[10]||(a[10]=v=>e.$store.state.user.showLoginModal=v),scrollable:"",transition:"dialog-bottom-transition","width-type":"sm",persistent:""},{body:withCtx(({isActive:v,toggleFullscreen:C,close:b,isFullActive:S})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(p,{padding:"y-3",color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{default:withCtx(()=>[createBaseVNode("div",null,[createTextVNode(toDisplayString(e.$t("Login"))+" ",1),a[13]||(a[13]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",_hoisted_12$4,toDisplayString(e.$t("Your session has expired, please login again.")),1)])]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(m,{class:"flex-grow-1",schema:e.$store.state.user.loginShortcutSchema,modelValue:e.$store.state.user.loginShortcutModel,"onUpdate:modelValue":a[9]||(a[9]=k=>e.$store.state.user.loginShortcutModel=k),"action-url":e.$store.state.user.loginRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"",buttonText:"fields.login",onSubmitted:n.loginFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3})}const Main=_export_sfc(_sfc_main$A,[["render",_sfc_render$v]]),__vite_glob_2_2=Object.freeze(Object.defineProperty({__proto__:null,default:Main},Symbol.toStringTag,{value:"Module"})),_hoisted_1$o={class:"w-100"},_hoisted_2$k={class:"d-flex flex-wrap gc-4"},_hoisted_3$j=["innerHTML"],_hoisted_4$f=["innerHTML"],_hoisted_5$e=["innerHTML"],_hoisted_6$e=["innerHTML"],_hoisted_7$b=["innerHTML"],_hoisted_8$a=["innerHTML"],_hoisted_9$a={class:"d-flex justify-space-between gc-4"},_hoisted_10$9={class:"d-flex justify-space-between gc-4 mt-2"},_hoisted_11$6={class:"d-flex justify-end gc-4"},_sfc_main$z={__name:"Assignment",props:{...makeInputProps(),variant:{type:String,default:"outlined"},density:{type:String,default:"default"},items:{type:Array,default:()=>[]},fetchEndpoint:{type:String,default:null},saveEndpoint:{type:String,default:null},assignableType:{type:String,default:null},assigneeType:{type:String,default:null},authorizedRoles:{type:Array,default:()=>["superadmin","admin"]},minDueDays:{type:Number,default:0},filepond:{type:Object,default:null}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,r=a,{input:i,id:n,boundProps:l}=useInput(o,{emit:r}),{requiredRule:s,minRule:c,futureDateRule:u,dateRule:f,invokeRule:p}=useValidation(o),{t:m,d:g}=useI18n(),y=useDynamicModal(),h=useAuthorization(),v=useAlert(),C=ref(!1),b=ref(!1);ref(o.modelValue),ref([]),ref([]);const S=ref([]),k=ref(!1),B=ref(null),w=ref(!1),N=ref({assignee_id:null,due_at:null,description:null});ref(!1);const I=ref([]),F=ref(!1),D=computed(()=>h.hasRoles(o.authorizedRoles)),M=computed(()=>S.value.length>0?S.value[0]:null),P=computed(()=>S.value.length>0),E=computed(()=>M.value&&h.isYou(M.value.assignee_id));computed(()=>D.value&&E.value);const V=computed(()=>{let R=[];return S.value.reduce((j,T,L)=>{let G=T.assignee_avatar??"",K=h.isYou(T.assigner_id)?m("You"):T.assigner_name,H=h.isYou(T.assignee_id)?m("You"):T.assignee_name,W=`to <span class="text-blue-darken-1">${H}</span> &mdash; by <span class="text-success">${K}</span>`;`${m("Until")}${g(new Date(T.due_at),"medium")}`;let Y=`${m("From")}: <span class="">${g(T.created_at?new Date(T.created_at):new Date,"medium")}</span>`,q=`${T.description} </br> </br>`,X="",Q=null;return X=`${T.status_interval_description}`,Q=T.status_vuetify_icon,X+=` ${Y}`,q+=X,j.push({prependAvatar:G,assignerName:K,assigneeName:H,title:W,subtitle:q,subDescription:X,appendInnerIcon:Q,attachments:T.attachments??[]}),L!==S.value.length-1&&j.push({type:"divider",inset:!0}),j},R)}),A=computed(()=>V.value.length>0?V.value[0]:null);watch$1(()=>S.value,R=>{R&&R.length>0&&(I.value=R[0].attachments??[])});const $=async(R,j=null,T=null,L=null)=>{const G=o.saveEndpoint.replace(":id",i.value);return axios$1.post(G,R).then(K=>{j&&j(K)}).catch(K=>{T&&T(K)}).finally(()=>{L&&L()}),!1},z=async()=>{if(i.value){const R=o.fetchEndpoint.replace(":id",i.value);C.value=!0,axios$1.get(R).then(j=>{j.status===200&&(S.value=j.data)}).finally(()=>{C.value=!1})}},U=async()=>{if(i.value){if(!await B.value.validate())return;const j={...N.value,assignee_type:o.assigneeType,assignable_id:i.value,assignable_type:o.assignableType};b.value=!0,$(j,T=>{T.status===200&&(v.openAlert({message:"Assignment created successfully",location:"top",variant:"success",...T.data}),S.value.unshift(T.data),N.value={assignee_id:null,due_at:null,description:null},w.value=!1)},T=>{__log(T)},()=>{b.value=!1})}},O=async R=>i.value!==null?(b.value=!0,await $(R,T=>{T.status===200&&(v.openAlert({message:"Assignment updated successfully",...T.data}),T.data.assignments?S.value=T.data.assignments:z(),y.close())},T=>{__log(T)},()=>{b.value=!1})):!1,x=()=>{y.open(null,{modalProps:{widthType:"md",description:m("Are you sure you want to complete this task?"),title:m("Complete Task"),confirmText:m("Yes"),cancelText:m("No"),confirmLoading:b,rejectLoading:b,confirmCallback:async()=>{await O({status:"completed"})}}})};return onMounted(()=>{z()}),(R,j)=>{const T=resolveComponent("ue-filepond-preview"),L=resolveComponent("v-input-filepond"),G=resolveComponent("ue-dynamic-component-renderer"),K=resolveComponent("ue-modal"),H=resolveComponent("v-date-input"),W=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VInput,{modelValue:unref(i),"onUpdate:modelValue":j[12]||(j[12]=Y=>isRef(i)?i.value=Y:null),variant:unref(l).variant,"hide-details":"",class:"v-input-assignment"},{default:withCtx(Y=>[createBaseVNode("div",_hoisted_1$o,[C.value?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"list-item-two-line"})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_2$k,[P.value?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"end","Xopen-on-hover":""},{activator:withCtx(({props:q})=>[(E.value||D.value)&&A.value?(openBlock(),createBlock(VList,mergeProps({key:0,id:"assigneeList",items:[{title:R.$t("Assignee"),prependAvatar:A.value.prependAvatar??"",subtitle:A.value.assigneeName}],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee flex-grow-1 flex-shrink-0",color:"primary"},q,{variant:"plain"}),{title:withCtx(({title:X})=>[createBaseVNode("div",{class:"text-primary font-weight-bold",innerHTML:X},null,8,_hoisted_3$j)]),subtitle:withCtx(({subtitle:X})=>[createBaseVNode("div",{class:"font-weight-medium",innerHTML:X},null,8,_hoisted_4$f)]),_:2},1040,["items"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300","max-width":"500"},{default:withCtx(()=>[createVNode(VList,{id:"assigneeList",items:[A.value],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee"},{title:withCtx(({title:q})=>[createBaseVNode("div",{innerHTML:q},null,8,_hoisted_5$e)]),subtitle:withCtx(q=>[createBaseVNode("div",{innerHTML:A.value.subDescription},null,8,_hoisted_6$e)]),_:1},8,["items"]),createVNode(VDivider),createVNode(VList,{lines:"10"},{default:withCtx(()=>[createVNode(VListItem,{title:R.$t("Description"),subtitle:M.value.description,class:""},{prepend:withCtx(({isSelected:q,select:X})=>[createVNode(VIcon,{icon:"mdi-information-outline"})]),_:1},8,["title","subtitle"]),D.value&&!E.value&&M.value.attachments&&M.value.attachments.length>0?(openBlock(),createBlock(VListItem,{key:0,title:R.$t("Files"),subtitle:"Files subtitle"},{prepend:withCtx(({isSelected:q,select:X})=>[createVNode(VIcon,{icon:"mdi-file-outline"})]),subtitle:withCtx(({subtitle:q})=>[createVNode(T,{source:M.value.attachments??[],"show-inline-file-name":"","image-size":"24"},null,8,["source"])]),_:1},8,["title"])):createCommentVNode("",!0)]),_:1}),E.value?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[e.filepond?(openBlock(),createBlock(L,mergeProps({key:0,label:"Files",ref:"inputFilepond"},unref(p)(R.$lodash.omit(e.filepond,["type"])),{modelValue:I.value,"onUpdate:modelValue":j[0]||(j[0]=q=>I.value=q),xmodelValue:I.value,"onXupdate:modelValue":j[1]||(j[1]=q=>R.$log("update:modelValue",q)),onLoadingFile:j[2]||(j[2]=q=>F.value=!0),onLoadedFile:j[3]||(j[3]=q=>F.value=!1)}),null,16,["modelValue","xmodelValue"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),createVNode(VDivider),E.value?(openBlock(),createBlock(VCardActions,{key:1},{default:withCtx(()=>[createVNode(VBtn,{variant:"tonal",color:"success",onClick:x},{default:withCtx(()=>j[13]||(j[13]=[createTextVNode(" Complete ")])),_:1}),createVNode(VSpacer),createVNode(VBtn,{color:"primary",variant:"tonal",onClick:j[4]||(j[4]=q=>I.value.length>0&&O({attachments:I.value})),loading:F.value||b.value,disabled:I.value.length<1},{default:withCtx(()=>j[14]||(j[14]=[createTextVNode(" Save ")])),_:1},8,["loading","disabled"])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0),D.value?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VTooltip,{location:"top"},{activator:withCtx(({props:q})=>[createVNode(VBtn,mergeProps({id:"createAssignmentBtn",icon:"mdi-account-reactivate",size:"default",rounded:"",color:"success",density:"compact",class:"flex-grow-0 flex-shrink-1"},q,{disabled:!unref(i)||b.value,loading:b.value,onClick:j[5]||(j[5]=X=>w.value=!0)}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(R.$t("Assign")),1)]),_:1}),P.value?(openBlock(),createBlock(K,{key:0,modelValue:k.value,"onUpdate:modelValue":j[6]||(j[6]=q=>k.value=q),widthType:"md",transition:"scroll-y-reverse-transition",scrollable:"",height:"450",title:R.$t("Task History"),"has-close-button":"","has-title-divider":"","no-default-body-padding":"","no-actions":""},{activator:withCtx(q=>[createVNode(VTooltip,{location:"top"},{activator:withCtx(X=>[createVNode(VBtn,mergeProps({id:"showHistoryBtn",icon:"mdi-clipboard-list-outline",size:"default",rounded:"",color:"info",density:"compact",class:"flex-grow-0 flex-shrink-1",disabled:!unref(i)||b.value,loading:b.value},{...q.props,...X.props}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(R.$t("Show History")),1)]),_:2},1024)]),"body.description":withCtx(()=>[createVNode(VList,{class:"pb-4 flex-1-0",items:V.value,lines:"ten","item-props":""},{title:withCtx(({title:q})=>[createBaseVNode("div",{innerHTML:q},null,8,_hoisted_7$b)]),subtitle:withCtx(({item:q,subtitle:X})=>[createBaseVNode("div",{innerHTML:X},null,8,_hoisted_8$a),q.attachments&&q.attachments.length>0?(openBlock(),createBlock(T,{key:0,class:"my-2",source:q.attachments,"show-inline-file-name":"","image-size":"24"},null,8,["source"])):createCommentVNode("",!0)]),append:withCtx(q=>[createVNode(G,{subject:q.item.appendInnerIcon},null,8,["subject"])]),_:1},8,["items"])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createVNode(K,{ref:"createFormModal",modelValue:w.value,"onUpdate:modelValue":j[11]||(j[11]=q=>w.value=q),widthType:"md",persistent:"",transition:"scale-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VForm,{id:"createAssignmentForm",ref_key:"createForm",ref:B,class:"d-flex flex-column",onSubmit:withModifiers(U,["prevent"])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$a,[createVNode(VSelect,{modelValue:N.value.assignee_id,"onUpdate:modelValue":j[7]||(j[7]=q=>N.value.assignee_id=q),items:e.items,label:R.label,variant:e.variant,density:"compact","item-title":"name","item-value":"id","return-object":!1,"validate-on":"submit blur",class:"w-50",rules:[unref(s)("classic",1,void 0,"Assignee is required")],required:"","auto-select-first":"exact"},null,8,["modelValue","items","label","variant","rules"]),createVNode(H,{modelValue:N.value.due_at,"onUpdate:modelValue":j[8]||(j[8]=q=>N.value.due_at=q),variant:e.variant,label:R.$t("Due Date"),rules:[unref(s)("classic",1,1,"Pick a due date"),unref(f)(),unref(u)(e.minDueDays,"days")],"validate-on":"submit blur",class:"w-50",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"","show-week":"",required:"",Xmultiple:"4",Ymultiple:"range"},null,8,["modelValue","variant","label","rules"])]),createBaseVNode("div",_hoisted_10$9,[createVNode(VTextarea,{modelValue:N.value.description,"onUpdate:modelValue":j[9]||(j[9]=q=>N.value.description=q),variant:e.variant,label:R.$t("Description"),density:"compact",class:"flex-grow-1",rules:[unref(s)("classic",1,1,"Description is required"),unref(c)(10,"Description must be at least 10 characters")],"validate-on":"input blur"},null,8,["modelValue","variant","label","rules"])]),createVNode(VDivider),createBaseVNode("div",_hoisted_11$6,[createVNode(W,{class:"mt-4",density:"comfortable",variant:"plain",loading:b.value,onClick:j[10]||(j[10]=q=>w.value=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(R.$t("Cancel")),1)]),_:1},8,["loading"]),createVNode(VBtn,{class:"mt-4",density:"comfortable",type:"submit",loading:b.value,disabled:!unref(i)||b.value||B.value&&!B.value.isValid},{default:withCtx(()=>[createTextVNode(toDisplayString(R.$t("Assign")),1)]),_:1},8,["loading","disabled"])])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))])]),_:1},8,["modelValue","variant"])}}},__vite_glob_3_0=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$z},Symbol.toStringTag,{value:"Module"})),_sfc_main$y={props:{modelValue:{type:Object,required:!0},avatarSize:{type:Number,default:50},mobileAvatarSize:{type:Number,default:25},reverse:{type:Boolean,default:!1},updateEndpoint:{type:String,required:!0},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1},contentTruncateLength:{type:Number,default:50}},data(){return{readingTimer:null,isExpanded:!1}},computed:{input:{get(){return this.modelValue},set(e){this.message=e,this.$emit("update:modelValue",e)}},message(){return this.modelValue},isUnread(){return!this.message.is_read&&!this.reverse},truncatedContent(){var e;return this.message.content&&this.message.content.length>this.contentTruncateLength?this.message.content.substring(0,this.contentTruncateLength):((e=this.message)==null?void 0:e.content)??""},formattedContent(){return this.message.content?this.message.content.replace(/\n/g,"<br>"):""},formattedTruncatedContent(){var e,a;return this.message.content.length>this.contentTruncateLength?this.message.content.substring(0,this.contentTruncateLength).replace(/\n/g,"<br>"):((a=(e=this.message)==null?void 0:e.content)==null?void 0:a.replace(/\n/g,"<br>"))??""}},methods:{formatDate(e){let a=window.$moment().fromNow();if(e.created_at){let o=new Date(e.created_at);Date.now()-o.getTime()<48*60*60*1e3?a=window.$moment(o).fromNow():a=this.$d(new Date(e.created_at),"numeric-full")}return a},updateMessage(e,a){let o=this.updateEndpoint.replace(":id",this.input.id),r=this;axios.put(o,{[e]:a}).then(i=>{r.input={...r.input,[e]:a}})},startReading(){this.isUnread&&(this.readingTimer=setTimeout(()=>{this.markAsRead()},1e3))},markAsRead(){this.updateMessage("is_read",!0)},toggleExpand(){this.isExpanded=!this.isExpanded}},beforeUnmount(){this.readingTimer&&clearTimeout(this.readingTimer)}},_hoisted_1$n=["stylex"],_hoisted_2$j={key:0,style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},_hoisted_3$i={class:"d-flex justify-end"},_hoisted_4$e={class:"w-100",style:{color:"#32454A","font-weight":"400","font-size":"12px"}},_hoisted_5$d=["innerHTML"],_hoisted_6$d={key:1},_hoisted_7$a=["innerHTML"],_hoisted_8$9={key:0,class:"mt-1"},_hoisted_9$9=["innerHTML"],_hoisted_10$8={key:0,class:"mt-2 py-1 rounded"};function _sfc_render$u(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex mb-4 w-100",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{style:normalizeStyle([e.$vuetify.display.smAndUp?"max-width: 60%; min-width: 30%;":"max-width: 100%; min-width: 100%;"]),class:normalizeClass(["d-flex bg-grey-lighten-6 elevation-2 px-4 py-3 rounded position-relative",o.reverse?"flex-row-reverse":"flex-row",n.isUnread?"v-input-chat__message--unread":""]),onMouseenter:a[2]||(a[2]=(...c)=>n.startReading&&n.startReading(...c))},[createVNode(VTooltip,{text:n.formatDate(n.message),location:"top"},{activator:withCtx(({props:c})=>[createVNode(VAvatar,mergeProps({size:e.$vuetify.display.smAndUp?o.avatarSize:o.mobileAvatarSize,class:[o.reverse?"ml-3":"mr-3"],image:n.message.user_profile.avatar_url},c),null,16,["size","class","image"])]),_:1},8,["text"]),createBaseVNode("div",{stylex:{width:`calc(50% - ${o.avatarSize}px)`},class:"w-100"},[createBaseVNode("div",{class:normalizeClass(["text-grey text-caption w-100 d-flex justify-space-between",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{class:normalizeClass([e.$vuetify.display.smAndUp?"w-50":"w-75",o.reverse?"text-end":"text-start"])},[e.$vuetify.display.smAndDown?(openBlock(),createElementBlock("div",_hoisted_2$j,toDisplayString(n.formatDate(n.message)),1)):createCommentVNode("",!0),createBaseVNode("div",null,toDisplayString(n.message.user_profile.name),1)],2),createBaseVNode("div",_hoisted_3$i,[o.noStarring?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:n.message.is_starred?"mdi-star":"mdi-star-outline",color:n.message.is_starred?"secondary":"grey",onClick:a[0]||(a[0]=c=>n.updateMessage("is_starred",!n.message.is_starred))},null,8,["icon","color"])),o.noPinning?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:1,icon:n.message.is_pinned?"mdi-pin":"mdi-pin-outline",color:n.message.is_pinned?"primary":"grey",onClick:a[1]||(a[1]=c=>n.updateMessage("is_pinned",!n.message.is_pinned))},null,8,["icon","color"]))])],2),createBaseVNode("div",{class:normalizeClass(["message-content",n.isUnread?"message-content--unread":""])},[createBaseVNode("div",{class:normalizeClass(["d-flex mt-2 text-break",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",_hoisted_4$e,[n.message.content&&n.message.content.length>o.contentTruncateLength?(openBlock(),createElementBlock(Fragment,{key:0},[i.isExpanded?(openBlock(),createElementBlock("div",{key:0,innerHTML:n.formattedContent},null,8,_hoisted_5$d)):(openBlock(),createElementBlock("div",_hoisted_6$d,[createBaseVNode("span",{innerHTML:n.formattedTruncatedContent},null,8,_hoisted_7$a),a[3]||(a[3]=createBaseVNode("span",{class:"text-grey-darken-1"},"...",-1))])),createVNode(VExpandTransition,null,{default:withCtx(()=>[n.message.content&&n.message.content.length>o.contentTruncateLength?(openBlock(),createElementBlock("div",_hoisted_8$9,[createVNode(VBtn,{text:i.isExpanded?e.$t("Show less"):e.$t("Show more"),variant:"plain",size:"small",color:"primary",onClick:n.toggleExpand},null,8,["text","onClick"])])):createCommentVNode("",!0)]),_:1})],64)):(openBlock(),createElementBlock("div",{key:1,innerHTML:n.formattedContent},null,8,_hoisted_9$9))])],2),n.message.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_10$8,[createVNode(l,{text:e.$t("Attachments"),padding:"b-2",type:"caption",color:"none",transform:"none"},null,8,["text"]),createVNode(s,{source:n.message.attachments,"image-size":"24","show-file-name":"","no-overlay":"","show-datex":""},null,8,["source"])])):createCommentVNode("",!0)],2)],8,_hoisted_1$n)],38)],2)}const ChatMessage=_export_sfc(_sfc_main$y,[["render",_sfc_render$u]]),_sfc_main$x={name:"v-input-emojis",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","emoji-selected"],data(){return{emojiList:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}},computed:{showEmojiPicker:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{openEmojiPicker(){this.showEmojiPicker=!0},closeEmojiPicker(){this.showEmojiPicker=!1},selectEmoji(e){this.$emit("emoji-selected",e),this.closeEmojiPicker()}}},_hoisted_1$m={class:"emoji-grid"};function _sfc_render$t(e,a,o,r,i,n){return openBlock(),createElementBlock("div",null,[createVNode(VDialog,{modelValue:n.showEmojiPicker,"onUpdate:modelValue":a[0]||(a[0]=l=>n.showEmojiPicker=l),width:"400","max-width":"90vw"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex justify-space-between align-center"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select Emoji"))+" ",1),createVNode(VBtn,{icon:"mdi-close",variant:"text",size:"small",onClick:n.closeEmojiPicker},null,8,["onClick"])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.emojiList,l=>(openBlock(),createBlock(VBtn,{key:l,variant:"text",size:"small",class:"emoji-btn",onClick:s=>n.selectEmoji(l)},{default:withCtx(()=>[createTextVNode(toDisplayString(l),1)]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Emojis=_export_sfc(_sfc_main$x,[["render",_sfc_render$t]]),__vite_glob_3_8=Object.freeze(Object.defineProperty({__proto__:null,default:Emojis},Symbol.toStringTag,{value:"Module"})),_sfc_main$w={name:"v-input-chat",emits:[...makeInputEmits],components:{ChatMessage,Emojis},props:{...makeInputProps(),subtitle:{type:String,default:null},color:{type:String},disabled:{type:Boolean,default:!1},height:{type:String,default:"50vh"},background:{type:String},elevation:{type:Number,default:2},density:{type:String,default:"comfortable"},variant:{type:String,default:"plain"},endpoints:{type:Object,default:()=>({})},perPage:{type:Number,default:-1},initialPage:{type:Number,default:1},filepond:{type:Object,default:null},noSendAction:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},dialogHeight:{type:String,default:"80vh"},bodyHeight:{type:String,default:null},loadMoreText:{type:String,default:null},refreshTime:{type:Number,default:1e4},inputVariant:{type:String,default:"outlined"},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1},contentTruncateLength:{type:Number,default:50},noDivider:{type:Boolean,default:!1},noTab:{type:Boolean,default:!1},noEmoji:{type:Boolean,default:!1}},setup(e,a){const{invokeRule:o}=useValidation();return{...useInput(e,a),invokeRule:o}},data:function(){return{message:"",messages:[],loading:!0,loadingAttachment:!1,page:this.initialPage,lastPage:1,dialogOpen:!1,textareaRows:1,attachments:[],uploadedAttachments:[],uploadedAttachmentsDialog:!1,refreshInterval:null,pinnedMessage:null,showEmojiPicker:!1,pinnedMessageExpanded:!1}},computed:{currentUser(){return this.$store.getters.userProfile},formattedMessages(){return this.formatMessages(this.messages)},noRemainingItems(){return!this.loading&&this.perPage>-1&&this.page===this.lastPage},showLoadMoreButton(){return!this.noRemainingItems&&this.perPage>-1},isInfiniteScrollable(){return this.perPage>-1},isMessageEmpty(){return!this.message||!this.message.trim()},isSendButtonDisabled(){const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();return this.loading||this.loadingAttachment||!e&&!a},sendButtonIcon(){if(this.isSendButtonDisabled)return"mdi-send-lock";const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();return e||a?"mdi-send-check":"mdi-send"},calculatedBodyHeight(){let e=0,a="";return this.pinnedMessage&&(e+=this.$jquery("#PinnedMessage").outerHeight(!0)),e>0&&(a=` - ${e}px`),this.bodyHeight?`calc(${this.bodyHeight}${a})`:`calc(${this.height}*0.65${a})`}},watch:{messages:{handler(e){this.pinnedMessage=e.find(a=>a.is_pinned),this.pinnedMessage||this.fetchPinnedMessage()},deep:!0},attachments:{handler(e){e&&e.length>0&&e.every(o=>{const r=o.serverId,i=o.preview||o.dataURL,n=o.source,l=o.status==="success"||o.status==="complete";return r||i||n||l})&&this.loadingAttachment&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},deep:!0}},methods:{togglePinnedMessageExpand(){this.pinnedMessageExpanded=!this.pinnedMessageExpanded},scrollEndInfiniteScroll(){this.$nextTick(()=>{const e=this.$refs.infiniteScroll.$el;e.scrollTop=e.scrollHeight})},formatMessage(e){return e={user_profile:this.$lodash.cloneDeep(this.currentUser),attachments:[],reverse:!1,loading:!1,...e},e.user_profile.id===this.currentUser.id&&(e.reverse=!0,e.is_read=!0,e.user_profile.name=this.$t("You")),e},formatMessages(e){return e.sort((a,o)=>new Date(a.created_at)-new Date(o.created_at)).map(a=>this.formatMessage(a))},loadMessages(e){const a=this.endpoints.index.replace(":id",this.input);let o={};this.perPage!==-1&&(o.page=this.page,o.perPage=this.perPage),this.loading=!0,axios.get(a,{params:o}).then(r=>{if(r.status===200)if(this.perPage>-1){const i=r.data.total;this.lastPage=r.data.last_page,this.page=r.data.current_page,this.messages=[...r.data.data,...this.messages],i!==0?e&&(this.page===this.lastPage?e("empty"):e("ok")):e&&e("empty")}else this.messages=this.formatMessages(r.data),e("empty")}).finally(()=>{this.loading=!1,(!this.isInfiniteScrollable||this.page===1)&&this.scrollEndInfiniteScroll()})},loadMoreMessages({done:e}){this.page++,this.loadMessages(e)},addMessage(e){return this.messages.push(e)-1},unpinMessage(e){let a=this.endpoints.update.replace(":id",e.id),o=this,r=this.messages.findIndex(i=>i.id===e.id);axios.put(a,{is_pinned:!1}).then(i=>{o.messages[r]={...o.messages[r],is_pinned:!1}})},findMessageByTempId(e){return this.messages.findIndex(a=>a.tempId===e)},updateMessageByTempId(e,a){this.messages=this.messages.filter(r=>r.id!==a.id);const o=this.findMessageByTempId(e);o!==-1&&(this.messages[o]={...this.messages[o],...a})},sendMessage(){const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();if(!e&&!a)return;const o=this.endpoints.store.replace(":id",this.input),r={loading:!0,content:this.message,tempId:Date.now(),attachments:[...this.attachments]};let i=r.tempId;this.addMessage(r),this.loading=!0;const n={content:this.message,attachments:this.attachments};axios.post(o,n).then(l=>{if(l.status===200){let s=l.data;s.loading=!1,this.updateMessageByTempId(i,s),this.message="",this.attachments=[]}}).catch(l=>{var s,c;console.error("Error sending message:",l),console.error("Request payload was:",n),console.error("Response data:",(s=l.response)==null?void 0:s.data),this.updateMessageByTempId(i,{loading:!1,error:!0}),((c=l.response)==null?void 0:c.status)===500&&console.error("Server error - this might be a backend validation issue")}).finally(()=>{this.loading=!1,this.scrollEndInfiniteScroll(),this.$nextTick(()=>{this.$refs.messageBox&&this.$refs.messageBox.focus()})})},getAttachments(){const e=this.endpoints.attachments.replace(":id",this.input);axios.get(e).then(a=>{this.uploadedAttachments=a.data})},fetchPinnedMessage(){const e=this.endpoints.pinnedMessage.replace(":id",this.input);axios.get(e).then(a=>{a.status===200&&a.data&&Object.keys(a.data).length>0&&(this.pinnedMessage=a.data)})},refreshMessages(){const e=this.endpoints.index.replace(":id",this.input);let a=new Date().toISOString();if(this.messages.length){let o=this.messages.filter(r=>!!r.created_at).sort((r,i)=>new Date(i.created_at)-new Date(r.created_at))[0];o&&o.created_at&&(a=o.created_at)}axios.get(e,{params:{from:a,user_id:this.currentUser.id}}).then(o=>{o.status===200&&o.data.length>0&&(this.messages=[...this.messages,...o.data],this.getAttachments()),o.status===401&&(clearInterval(this.refreshInterval),this.refreshInterval=null)})},handleEnterKey(e){e.shiftKey||(e.preventDefault(),this.sendMessage())},handleTabKey(e){if(this.noTab)return;e.preventDefault();const a=e.target,o=a.selectionStart,r=a.selectionEnd,i=this.message.substring(0,o)+"	"+this.message.substring(r);this.message=i,this.$nextTick(()=>{a.selectionStart=a.selectionEnd=o+1})},updatedMessage(e){let a=[...this.messages],o=a.findIndex(i=>i.id===e.id);if(this.messages[o].is_pinned!==e.is_pinned)if(e.is_pinned){let i=this.pinnedMessage;if(this.pinnedMessage=e,i){let n=a.findIndex(l=>l.id===i.id);n!==-1&&(a[n]={...a[n],is_pinned:!1})}}else this.pinnedMessage=null;o!==-1&&(a[o]={...a[o],...e}),this.messages=a},insertEmoji(e){const a=this.$refs.messageBox;if(a){const o=a.selectionStart,r=a.selectionEnd,i=this.message.substring(0,o)+e+this.message.substring(r);this.message=i,this.$nextTick(()=>{a.selectionStart=a.selectionEnd=o+e.length,a.focus()})}this.showEmojiPicker=!1},openEmojiPicker(){this.showEmojiPicker=!0},removeAttachment(e){this.attachments.splice(e,1)},handleLoadingFile(e){this.loadingAttachment=!0,setTimeout(()=>{this.loadingAttachment&&(this.loadingAttachment=!1)},5e3)},handleFileSelected(){this.loadingAttachment=!0},handleAttachmentClick(){this.$refs.inputFilepond.browse(),this.detectFilePickerCancellation()},detectFilePickerCancellation(){setTimeout(()=>{this.attachments.length===0&&this.loadingAttachment&&(this.loadingAttachment=!1)},1e3)},handleModelValueUpdate(e){e&&e.length>0&&this.attachments.length<e.length&&(this.loadingAttachment=!0),this.$log("update:modelValue",e)},handleFileLoaded(e){(e.serverId||e.status==="success")&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},handleFileProcessing(e){this.loadingAttachment=!0},handleFileProcessed(e){(e.serverId||e.status==="success")&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},handleFileError(e){this.loadingAttachment=!1},handleAddFile(e){this.loadingAttachment=!0},handleRemoveFile(e){this.attachments.length===0&&(this.loadingAttachment=!1)},handleFileRevert(e){console.log("File reverted:",e)},handleFieldFocus(){this.textareaRows=3},handleFieldBlur(){setTimeout(()=>{var a,o;const e=(o=(a=this.$refs.messageBox)==null?void 0:a.$el)==null?void 0:o.closest(".v-input");e&&(e.querySelector(":focus")||(this.textareaRows=1))},100)},focusOnTextarea(){this.$refs.messageBox&&this.$refs.messageBox.focus()}},created(){},mounted(){this.input&&this.input>-1&&(this.loadMessages(),this.getAttachments(),this.refreshInterval=setInterval(()=>{this.refreshMessages()},this.refreshTime))},beforeUnmount(){clearInterval(this.refreshInterval),this.refreshInterval=null,this.input&&this.input>-1}},_hoisted_1$l={class:"w-100 d-flex justify-end"},_hoisted_2$i={class:"d-flex w-100 justify-end"},_hoisted_3$h={key:0},_hoisted_4$d=["innerHTML"],_hoisted_5$c={key:1},_hoisted_6$c=["innerHTML"],_hoisted_7$9={class:"flex-grow-0"},_hoisted_8$8={key:0,class:"d-flex align-center mr-2"},_hoisted_9$8={class:"text-h5 mb-3 text-primary font-weight-medium"},_hoisted_10$7={class:"text-body-1 text-medium-emphasis mb-4"};function _sfc_render$s(e,a,o,r,i,n){const l=resolveComponent("v-input-chat"),s=resolveComponent("ue-title"),c=resolveComponent("ue-filepond-preview"),u=resolveComponent("ChatMessage"),f=resolveComponent("v-input-filepond"),p=resolveComponent("Emojis");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[9]||(a[9]=m=>e.input=m),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-chat"},{default:withCtx(m=>[createVNode(VCard,{class:normalizeClass(["w-100",[!o.noBackground&&o.background?`bg-${o.background}`:"",o.disabled?"bg-grey-lighten-4":""]]),variant:o.variant,elevation:o.elevation,color:o.color,heightx:o.height,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardTitle,{class:"w-100 py-4 text-wrap"},{default:withCtx(()=>[createVNode(s,{text:e.label,align:"center",padding:"a-0",transform:"none",class:"w-100",type:"body-1",color:"grey-darken-4",weight:"medium"},{rightX:withCtx(()=>[createBaseVNode("div",_hoisted_1$l,[renderSlot(e.$slots,"actions",{},()=>[o.perPage!==-1?(openBlock(),createBlock(VDialog,{key:0,width:"70%",height:o.dialogHeight,modelValue:e.dialogOpen,"onUpdate:modelValue":a[1]||(a[1]=g=>e.dialogOpen=g)},{activator:withCtx(({props:g})=>[createVNode(VBtn,mergeProps({variant:"elevated",density:"comfortable"},g,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{text:withCtx(()=>[createVNode(l,{label:e.$t("All Messages"),background:o.background,modelValue:e.input,endpoints:o.endpoints,perPage:10,density:o.density,noSendAction:!1,elevation:0,"body-height":`calc(${o.dialogHeight} * 0.60)`,height:`calc(${o.dialogHeight} * 0.80)`,noStarring:o.noStarring,noPinning:o.noPinning},{actions:withCtx(()=>[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[0]||(a[0]=g=>e.dialogOpen=!1)})]),_:1},8,["label","background","modelValue","endpoints","density","body-height","height","noStarring","noPinning"])]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),e.uploadedAttachments.length>0?(openBlock(),createBlock(VDialog,{key:1,width:"70%",height:o.dialogHeight,modelValue:e.uploadedAttachmentsDialog,"onUpdate:modelValue":a[3]||(a[3]=g=>e.uploadedAttachmentsDialog=g)},{activator:withCtx(({props:g})=>[createVNode(VBtn,mergeProps({variant:"outlined",density:"comfortable"},g,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All Attachments")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{default:withCtx(()=>[createVNode(s,{text:e.$t("Attachments"),align:"center",transform:"none",padding:"x-4",class:"w-100 pt-2",color:"grey-darken-5"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$i,[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[2]||(a[2]=g=>e.uploadedAttachmentsDialog=!1)})])]),_:1},8,["text"]),createVNode(VDivider,{class:"mx-4"}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VInfiniteScroll,{height:`calc(${o.dialogHeight} * 0.75)`},{loading:withCtx(()=>a[10]||(a[10]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.uploadedAttachments,g=>(openBlock(),createBlock(c,{class:"my-2",source:g,"image-size":"24","show-file-name":"","max-file-name-length":"70","no-overlay":"","show-date":""},null,8,["source"]))),256))]),_:1},8,["height"])]),_:1})]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),createVNode(VBtn,{variant:"elevated",density:"comfortable",onClick:n.sendMessage},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Confirm")),1)]),_:1},8,["onClick"])])])]),_:3},8,["text"]),o.subtitle?(openBlock(),createBlock(s,{key:0,text:e.$t(o.subtitle),align:"center",transform:"none",padding:"a-0",type:"caption",weight:"regular",color:"grey-darken-4",l:""},null,8,["text"])):createCommentVNode("",!0),o.noDivider?createCommentVNode("",!0):(openBlock(),createBlock(VDivider,{key:1,class:"mt-2"})),e.pinnedMessage?(openBlock(),createBlock(VList,{key:2,id:"PinnedMessage",elevation:"3",class:"bg-grey-lighten-4 mx-n4",style:{"z-index":"1000",height:"92px"},items:[{title:e.pinnedMessage.content,subtitle:e.pinnedMessage.created_at?e.$d(new Date(e.pinnedMessage.created_at),"short"):"",prepend:e.pinnedMessage.user_profile.avatar_url}],lines:"two",prependIcon:"mdi-pin","item-props":""},{title:withCtx(({title:g})=>[e.pinnedMessageExpanded||g.length<20?(openBlock(),createElementBlock("div",_hoisted_3$h,[createBaseVNode("span",{class:"text-wrap",innerHTML:g},null,8,_hoisted_4$d),g.length>=20?(openBlock(),createBlock(VBtn,{key:0,density:"compact",variant:"plain",size:"x-small",onClick:n.togglePinnedMessageExpand},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show less")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_5$c,[createBaseVNode("span",{class:"text-wrap",innerHTML:g.slice(0,20)},null,8,_hoisted_6$c),a[11]||(a[11]=createBaseVNode("span",{class:"text-grey-darken-1"},"...",-1)),createVNode(VBtn,{variant:"plain",size:"small",onClick:n.togglePinnedMessageExpand},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show more")),1)]),_:1},8,["onClick"])]))]),prepend:withCtx(g=>[createVNode(VIcon,{size:"small",color:"primary",class:"mr-2",style:{transform:"rotate(325deg)"},onClick:a[4]||(a[4]=y=>n.unpinMessage(e.pinnedMessage))},{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("mdi-pin")])),_:1}),createVNode(VTooltip,{text:e.pinnedMessage.user_profile.name,location:"top"},{activator:withCtx(({props:y})=>[createVNode(VAvatar,mergeProps({image:g.item.prepend,size:"24"},y),null,16,["image"])]),_:2},1032,["text"])]),_:1},8,["items"])):createCommentVNode("",!0)]),_:3}),createVNode(VCardText,{class:"mr-n2 mb-n4 mt-n4 pb-0"},{default:withCtx(()=>[createVNode(VInfiniteScroll,{ref:"infiniteScroll",height:n.calculatedBodyHeight,mode:"manual",side:"start",onLoad:n.loadMoreMessages,"load-more-text":o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")},{"load-more":withCtx(({props:g})=>[n.showLoadMoreButton?(openBlock(),createBlock(VBtn,mergeProps({key:0,variant:"outlined"},g),{default:withCtx(()=>[createTextVNode(toDisplayString(o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")),1)]),_:2},1040)):createCommentVNode("",!0)]),empty:withCtx(({props:g})=>a[13]||(a[13]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedMessages,(g,y)=>(openBlock(),createElementBlock("div",{key:y,class:"v-input-chat__messages"},[renderSlot(e.$slots,"message",{message:g,index:y},()=>[createVNode(u,{class:normalizeClass(["v-input-chat__message",g.loading?"v-input-chat__message--loading":""]),modelValue:g,"onUpdate:modelValue":h=>n.updatedMessage(h,y),reverse:g.reverse,updateEndpoint:o.endpoints.update,noStarring:o.noStarring,noPinning:o.noPinning,contentTruncateLength:o.contentTruncateLength},null,8,["class","modelValue","onUpdate:modelValue","reverse","updateEndpoint","noStarring","noPinning","contentTruncateLength"])])]))),128))]),_:3},8,["height","onLoad","load-more-text"])]),_:3}),o.filepond?(openBlock(),createBlock(f,mergeProps({key:0,ref:"inputFilepond",class:"d-none"},r.invokeRule(e.$lodash.omit(o.filepond,["type","rules","rawRules"])),{modelValue:e.attachments,"onUpdate:modelValue":a[5]||(a[5]=g=>e.attachments=g),xmodelValue:e.attachments,"onXupdate:modelValue":n.handleModelValueUpdate,onLoadingFile:n.handleLoadingFile,onLoaded:n.handleFileLoaded,onProcessing:n.handleFileProcessing,onProcessed:n.handleFileProcessed,onError:n.handleFileError,onRevert:n.handleFileRevert,onAddfile:n.handleAddFile,onRemovefile:n.handleRemoveFile}),{activator:withCtx(g=>a[14]||(a[14]=[])),_:1},16,["modelValue","xmodelValue","onXupdate:modelValue","onLoadingFile","onLoaded","onProcessing","onProcessed","onError","onRevert","onAddfile","onRemovefile"])):createCommentVNode("",!0),o.noSendAction?createCommentVNode("",!0):(openBlock(),createBlock(VCardActions,{key:1,class:"bg-surface"},{default:withCtx(()=>[renderSlot(e.$slots,"sending",{},()=>[createVNode(VTextarea,{class:"position-absolute bg-surface px-4 pb-4",style:{bottom:"0",left:"0",right:"0","z-index":"1000"},ref:"messageBox",modelValue:e.message,"onUpdate:modelValue":a[6]||(a[6]=g=>e.message=g),variant:o.inputVariant,disabled:e.loading,"hide-details":"",placeholder:"Type here...",density:"compact","onClick:append":n.sendMessage,onKeydown:[withKeys(n.handleEnterKey,["enter"]),withKeys(n.handleTabKey,["tab"])],onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur,rows:e.textareaRows},createSlots({"append-inner":withCtx(()=>[e.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_8$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.attachments,(g,y)=>(openBlock(),createElementBlock("div",{key:g.id||y,class:"attachment-preview-wrapper position-relative mr-1"},[createVNode(VBtn,{icon:"mdi-close",size:"x-small",variant:"text",color:"error",class:"attachment-delete-btn",onClick:h=>n.removeAttachment(y)},null,8,["onClick"]),createVNode(c,{source:[g],"image-size":"32"},null,8,["source"])]))),128))])):createCommentVNode("",!0),o.noEmoji?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,disabled:e.loadingAttachment,color:o.color,size:e.$vuetify.display.smAndUp?"default":"small",icon:"mdi-emoticon-outline",density:"compact",onClick:n.openEmojiPicker,onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur},null,8,["disabled","color","size","onClick","onFocus","onBlur"])),createVNode(VBtn,{color:o.color,size:e.$vuetify.display.smAndUp?"default":"small",icon:"mdi-paperclip",density:"compact",onClick:n.handleAttachmentClick,onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur},null,8,["color","size","onClick","onFocus","onBlur"]),createVNode(VBtn,{variant:"elevated",density:"compact",icon:n.sendButtonIcon,size:e.$vuetify.display.smAndUp?"small":"x-small",disabled:n.isSendButtonDisabled,onClick:n.sendMessage,onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur},null,8,["icon","size","disabled","onClick","onFocus","onBlur"])]),_:2},[e.$vuetify.display.smAndUp?{name:"prepend",fn:withCtx(()=>[createBaseVNode("div",_hoisted_7$9,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"40"},null,8,["image"])])]),key:"0"}:void 0]),1032,["modelValue","variant","disabled","onClick:append","onKeydown","onFocus","onBlur","rows"])])]),_:3}))]),_:3},8,["variant","elevation","class","color","heightx","disabled"]),o.noEmoji?createCommentVNode("",!0):(openBlock(),createBlock(p,{key:0,modelValue:e.showEmojiPicker,"onUpdate:modelValue":a[7]||(a[7]=g=>e.showEmojiPicker=g),disabled:e.loadingAttachment,onEmojiSelected:n.insertEmoji},null,8,["modelValue","disabled","onEmojiSelected"])),createVNode(VDialog,{modelValue:e.loadingAttachment,"onUpdate:modelValue":a[8]||(a[8]=g=>e.loadingAttachment=g),persistent:"",width:"400","max-width":"90vw",transition:"dialog-bottom-transition","retain-focus":!1},{default:withCtx(()=>[createVNode(VCard,{class:"upload-modal-card"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center pa-8"},{default:withCtx(()=>[createVNode(VProgressCircular,{size:64,width:6,color:"primary",indeterminate:"",class:"mb-6"}),createBaseVNode("div",_hoisted_9$8,toDisplayString(e.$t("Uploading Attachment")),1),createBaseVNode("div",_hoisted_10$7,toDisplayString(e.$t("Please wait while your file is being processed...")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3},8,["modelValue","variant"])}const Chat=_export_sfc(_sfc_main$w,[["render",_sfc_render$s]]),__vite_glob_3_1=Object.freeze(Object.defineProperty({__proto__:null,default:Chat},Symbol.toStringTag,{value:"Module"})),_sfc_main$v={name:"v-input-checkbox-card",emits:[...makeInputEmits],props:{...makeInputProps(),title:{type:String,required:!0},description:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},value:{type:[Number,String],default:null},activeColor:{type:String,default:null},activeTitleColor:{type:String,default:null},checkboxColor:{type:String,default:"primary"},stats:{type:Array,default:null,validator:e=>e===null||e.every(a=>"label"in a&&"value"in a&&(!("color"in a)||typeof a.color=="string"))},checkboxOnRight:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data(){return{input_:!1}},methods:{toggleSelection(){!this.disabled&&!this.readonly&&(this.input.includes(this.value)?this.input=this.input.filter(e=>e!==this.value):this.input=[...this.input,this.value])}}};function _sfc_render$r(e,a,o,r,i,n){return openBlock(),createBlock(VInput,{modelValue:e.input[o.value],"onUpdate:modelValue":a[2]||(a[2]=l=>e.input[o.value]=l),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-checkbox-card",readonly:o.readonly},{default:withCtx(l=>[createVNode(VCard,{class:normalizeClass(["v-input-checkbox-card__item border border-sm border-opacity-75",e.input.includes(o.value)?"border-primary":"border-grey-lighten-4",o.disabled?"v-input-checkbox-card__item--disabled":""]),variant:e.input.includes(o.value)?"elevated":"outlined",onClick:n.toggleSelection,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardItem,null,createSlots({append:withCtx(()=>[o.checkboxOnRight?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(["v-input-checkbox-card__title",e.input.includes(o.value)?`border-primary ${o.activeTitleColor?`text-${o.activeTitleColor}`:""}`:"",e.input.includes(o.value)?`v-input-checkbox-card__title--selected ${o.activeTitleColor?`text-${o.activeTitleColor}`:""}`:""])},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"])]),_:2},[o.checkboxOnRight?void 0:{name:"prepend",fn:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=s=>e.input=s),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])]),key:"0"}]),1024),o.description?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(o.description),1)]),_:1})):createCommentVNode("",!0),o.stats?(openBlock(),createBlock(VCardText,{key:1},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.stats,(s,c)=>(openBlock(),createBlock(VCol,{key:c,cols:12/o.stats.length,class:"text-center"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["text-h4 font-weight-bold",`text-${s.color||"primary"}`])},toDisplayString(s.value),3),createBaseVNode("div",{class:normalizeClass(`text-body-2 text-${s.color||"primary"}`)},toDisplayString(s.label),3)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1},8,["class","variant","onClick","disabled"])]),_:1},8,["modelValue","variant","readonly"])}const CheckboxCard=_export_sfc(_sfc_main$v,[["render",_sfc_render$r]]),__vite_glob_3_2=Object.freeze(Object.defineProperty({__proto__:null,default:CheckboxCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$u={name:"v-input-checklist",emits:[...makeInputEmits],props:{...makeInputProps(),color:{type:String,default:null},labelColor:{type:String,default:"grey-darken-1"},subtitleColor:{type:String,default:"grey-darken-1"},activeTextColor:{type:String,default:null},checkboxColor:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},subtitle:{type:String,default:null},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},items:{type:Array,default:()=>[]},orderBy:{type:String,default:null},orderByDirection:{type:String,default:"asc"},isTreeview:{type:Boolean,default:!1},chunkCharacter:{type:String,default:"_"},chunkTitleKey:{type:String,default:"name"},chunkField:{type:String,default:null},truncateItemLabel:{type:Boolean,default:!1},flexColumn:{type:Boolean,default:!0},checkboxHighlighted:{type:Boolean,default:!1},checkboxHighlightedColor:{type:String,default:"grey-lighten-5"},checkboxPosition:{type:String,default:"right"},checkboxCol:{type:Object,default:()=>({cols:3,sm:6,md:4,lg:3})},noGroupAllSelectable:{type:Boolean,default:!1},hasGroupBottomDivider:{type:Boolean,default:!0},openAllGroups:{type:Boolean,default:!1},closeAllGroups:{type:Boolean,default:!1},rawRules:{type:[String,Array],default:null},max:{type:[Number,String],default:null},mandatory:{type:String,default:null},isCard:{type:Boolean,default:!1},cardStats:{type:Array,default:()=>[]}},setup(e,a){const o=computed(()=>{var u;let c=e.max;return window.__isString(c)?c=parseInt(c):!c&&window.__isString(e.rawRules)&&(c=(u=e.rawRules.match(/max:\d+/))==null?void 0:u[0].split(":")[1]),c??999}),r=ref(e.protectInitialValue?e.modelValue:[]),i=c=>r.value.includes(c),n=c=>{let u=!1,f=null;if(e.mandatory){if(f=e.items.filter(p=>__data_get(p,e.mandatory,!1)),e.max){let p=parseInt(e.max);f.length>p&&(f=f.slice(0,p))}if(f.length>0){const p=cloneDeep(c),m=Array.isArray(p)?p:[],g=f.map(h=>h[e.itemValue]),y=g.filter(h=>!m.includes(h));c=[...new Set([...Array.isArray(c)?c:[],...g])],y.length>0&&(u=!0)}}if(o.value>1&&c.length>o.value){if(f&&f.length>0){const p=f.map(v=>v[e.itemValue]),m=c.filter(v=>p.includes(v)),g=c.filter(v=>!p.includes(v)),y=o.value-m.length,h=y>0?g.slice(0,y):[];c=[...m,...h]}else c=c.sort((p,m)=>p-m).slice(0,o.value);u=!0}return u&&a.emit("update:modelValue",c),c},l=ref([]),s=computed(()=>{let c=e.items;return e.orderBy&&c.sort((u,f)=>e.orderByDirection==="asc"?u[e.orderBy].localeCompare(f[e.orderBy]):f[e.orderBy].localeCompare(u[e.orderBy])),c});return{...useInput(e,{...a,initializeInput:n}),openedGroups:toRef(l),maxSelectable:o,isProtected:i,flattenedItems:s}},methods:{isAllSelected(e){return e.items.map(o=>o.id).every(o=>this.input.includes(o))},isIndeterminateGroup(e){const a=e.items.map(o=>o.id);return!a.every(o=>this.input.includes(o))&&a.some(o=>this.input.includes(o))},updatedParent(e,a){const o=a.items.map(r=>r.id);if(!e)this.input=this.input.filter(function(r){return!o.includes(r)});else{if(this.maxSelectable){const r=o.filter(i=>!this.input.includes(i)).length;if(this.input.length+r>this.maxSelectable)return}o.forEach(r=>{this.input.includes(r)||this.input.push(r)})}},getRowStyles(){const e="flex: 1 1;";return this.flexColumn&&this.$vuetify.display.mdAndUp?`${e} flex: 1 1 60%;`:e},getCheckboxContainerClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["d-flex align-center rounded-sm",this.checkboxOnRight?"pl-2":"",this.checkboxOnRight&&a?"checked":"",this.checkboxHighlighted&&a?`bg-${this.checkboxHighlightedColor}`:""]},isSelectedItem(e){return Array.isArray(this.input)&&this.input.includes(e[this.itemValue])},getCheckboxClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["flex-shrink-0 flex-grow-0",this.isSelectedItem(e)?`v-input-checklist__checkbox--selected ${this.activeTextColor?`text-${this.activeTextColor}`:""}`:"",this.truncateItemLabel?"v-input-checklist__checkbox--truncate":"",this.checkboxOnLeft?"rounded-sm":"v-input-checklist__checkbox--right",this.checkboxOnLeft&&a?"checked":""]},canSelectMore(){return!this.disabled&&(!this.maxSelectable||Array.isArray(this.input)&&this.input.length<this.maxSelectable)},isMandatoryItem(e){return!!__data_get(e,this.mandatory,!1)},isGroupOpen(e){return this.openAllGroups?!0:this.closeAllGroups?!1:e===0},getCardStats(e){return this.cardStats.map(a=>({...a,value:e[a.key]}))}},computed:{checkboxOnRight(){return this.checkboxPosition==="right"},checkboxOnLeft(){return this.checkboxPosition==="left"},groupedItems(){const e={};for(const o in this.items)if(this.chunkField){const r=this.items[o][this.chunkField],i=this.items[o][this.chunkTitleKey],n=this.items[o];Object.prototype.hasOwnProperty.call(e,r)?e[r].items.unshift({id:n.id,name:i}):e[r]={name:this.$lodash.startCase(this.$lodash.camelCase(r)),items:[{id:n.id,name:i}]}}else{const r=this.items[o][this.chunkTitleKey].split(this.chunkCharacter);if(r.length>1){const i=r[0],n=r[1];Object.prototype.hasOwnProperty.call(e,i)?(__isset(e[i].id)&&delete e[i].id,e[i].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(n))})):e[i]={name:this.$lodash.startCase(this.$lodash.camelCase(i)),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(n))}]}}else{const i="alpha";Object.prototype.hasOwnProperty.call(e,i)?(__isset(e[i].id)&&delete e[i].id,e[i].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))})):e[i]={name:this.$t("General"),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))}]}}}const a=Object.values(e);if(a.sort(function(o,r){return o.hasOwnProperty("items")?1:r.hasOwnProperty("items")?-1:0}),this.closeAllGroups?this.openedGroups=[]:this.openedGroups=this.openAllGroups?a.map(o=>o.name):[a[0].name],this.orderBy)for(const o in a)a[o].items.sort((r,i)=>this.orderByDirection==="asc"?r[this.orderBy].localeCompare(i[this.orderBy]):i[this.orderBy].localeCompare(r[this.orderBy]));return a},disabledCheckbox(){return this.$attrs.disabled||!this.canSelectMore()&&!Array.isArray(this.input)},hasMandatoryItems(){return this.items.some(e=>__data_get(e,this.mandatory,!1))},treeviewCols(){return this.chunkField?{cols:12}:{lg:6,md:8,sm:12}}},created(){}},_hoisted_1$k={class:normalizeClass(["w-100 d-flex flex-wrap"]),style:{"max-width":"100%"}},_hoisted_2$h=["innerHTML"],_hoisted_3$g=["innerHTML"],_hoisted_4$c={class:"d-flex align-center"};function _sfc_render$q(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("v-input-checkbox-card");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[6]||(a[6]=c=>e.input=c),hideDetails:"auto",disabled:o.disabled,class:"v-input-checklist"},{default:withCtx(c=>[createBaseVNode("div",_hoisted_1$k,[e.label?(openBlock(),createElementBlock("div",{key:0,class:"d-flex flex-column mb-2 mr-md-3",style:normalizeStyle(["max-width: 100%;",o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 0 1 auto;":"flex: 1 0 100%;"])},[e.label?(openBlock(),createBlock(l,{key:0,padding:"","data-test":"title",color:o.labelColor,transform:"none"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:e.label},null,8,_hoisted_2$h)]),_:1},8,["color"])):createCommentVNode("",!0),o.subtitle?(openBlock(),createBlock(l,{key:1,padding:"",type:"caption",weight:"medium",transform:"none",color:o.subtitleColor,"data-test":"title"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:o.subtitle},null,8,_hoisted_3$g)]),_:1},8,["color"])):createCommentVNode("",!0)],4)):createCommentVNode("",!0),o.flexColumn&&e.$vuetify.display.mdAndUp&&(e.label||o.subtitle)?(openBlock(),createBlock(VDivider,{key:1,vertical:"",class:"mr-3 border-current"})):createCommentVNode("",!0),o.isTreeview?(openBlock(),createBlock(VRow,{key:2,style:normalizeStyle([o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 1 0 70%;":"flex: 1 1;"])},{default:withCtx(()=>[createVNode(VCol,normalizeProps(guardReactiveProps({...n.treeviewCols})),{default:withCtx(()=>[createVNode(VList,{opened:r.openedGroups,"onUpdate:opened":a[3]||(a[3]=u=>r.openedGroups=u)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.groupedItems,(u,f)=>(openBlock(),createElementBlock(Fragment,{key:`checkbox-${f}`},[e.$isset(u.items)&&u.items.length>0?(openBlock(),createBlock(VListGroup,{key:0,class:"pl-0","collapse-icon":"","expand-icon":"",value:u.name},{activator:withCtx(({props:p,isOpen:m})=>[o.noGroupAllSelectable?(openBlock(),createBlock(l,mergeProps({key:1,text:u[`${o.itemTitle}`],type:"body-1",color:"grey-darken-5",weight:"medium",justify:"space-between",ref_for:!0},p),{right:withCtx(()=>[createBaseVNode("div",_hoisted_4$c,[createVNode(VIcon,{icon:m?"$collapse":"$expand"},null,8,["icon"])])]),_:2},1040,["text"])):(openBlock(),createBlock(VCheckbox,mergeProps({key:0,class:"ue-checklist-checkbox",label:u[`${o.itemTitle}`],color:"success","hide-details":"",indeterminate:n.isIndeterminateGroup(u),density:"compact",modelValue:n.isAllSelected(u),"onUpdate:modelValue":g=>n.updatedParent(g,u),readonly:n.isMandatoryItem(u)||o.readonly,ref_for:!0},p),createSlots({label:withCtx(g=>[createBaseVNode("label",mergeProps({ref_for:!0},p),toDisplayString(g.label),17)]),_:2},[o.chunkField?void 0:{name:"prepend",fn:withCtx(()=>[createVNode(VIcon,mergeProps({ref_for:!0},p,{icon:m?"$collapse":"$expand"}),null,16,["icon"])]),key:"0"}]),1040,["label","indeterminate","modelValue","onUpdate:modelValue","readonly"])),o.hasGroupBottomDivider?(openBlock(),createBlock(VDivider,{key:2,class:"mt-0"})):createCommentVNode("",!0)]),default:withCtx(()=>[o.chunkField?(openBlock(),createBlock(VListItem,{key:0,style:{"padding-inline-start":"0px !important"}},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",style:normalizeStyle([o.flexColumn?"":"flex: 1 0 60%;"])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.items,(p,m)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${m}`,ref_for:!0},o.checkboxCol,{class:"pb-0 pr-0"}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.getCheckboxContainerClasses(p))},[createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=g=>e.input=g),disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(p[o.itemValue]),value:p[o.itemValue],color:o.checkboxColor??o.color??"primary","hide-details":"",label:p[o.itemTitle],class:normalizeClass(n.getCheckboxClasses(p)),readonly:n.isMandatoryItem(p)||r.isProtected(p[o.itemValue])||o.readonly},null,8,["modelValue","disabled","value","color","label","class","readonly"])],2)]),_:2},1040))),128))]),_:2},1032,["style"])]),_:2},1024)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(u.items,(p,m)=>(openBlock(),createBlock(VListItem,{key:`checkbox-${m}`,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{class:"ue-checklist-checkbox",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=g=>e.input=g),label:p[`${o.itemTitle}`],value:p[`${o.itemValue}`],disabled:!n.canSelectMore()&&!e.input.includes(p[o.itemValue]),color:"success","hide-details":"",density:"compact",readonly:n.isMandatoryItem(p)||o.readonly},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))),128))]),_:2},1032,["value"])):(openBlock(),createBlock(VListItem,{key:1,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[2]||(a[2]=p=>e.input=p),label:u[`${o.itemTitle}`],value:u[`${o.itemValue}`],disabled:!n.canSelectMore()&&!e.input.includes(u[o.itemValue]),readonly:n.isMandatoryItem(u)||r.isProtected(u[o.itemValue])||o.readonly,color:"success","hide-details":"",density:"compact"},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))],64))),128))]),_:1},8,["opened"])]),_:1},16)]),_:1},8,["style"])):(openBlock(),createBlock(VRow,{key:3,style:normalizeStyle(n.getRowStyles()),"no-gutters":e.$vuetify.display.xs,class:"align-stretch"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.flattenedItems,(u,f)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${f}`,cols:"12",sm:"6",md:"4",lg:"3",ref_for:!0},o.checkboxCol,{class:""}),{default:withCtx(()=>[o.isCard?(openBlock(),createBlock(s,{key:0,modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=p=>e.input=p),value:u[o.itemValue],class:normalizeClass([n.getCheckboxClasses(u),"h-100"]),color:o.checkboxColor??o.color??"primary",title:u[o.itemTitle],description:u.description,disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(u[o.itemValue]),readonly:n.isMandatoryItem(u)||r.isProtected(u[o.itemValue])||o.readonly,checkboxOnRight:n.checkboxOnRight,stats:n.getCardStats(u),activeTitleColor:o.activeTextColor},null,8,["modelValue","value","class","color","title","description","disabled","readonly","checkboxOnRight","stats","activeTitleColor"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.getCheckboxContainerClasses(u))},[createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=p=>e.input=p),value:u[o.itemValue],disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(u[o.itemValue]),color:o.checkboxColor??o.color??"primary","hide-details":"",label:u[o.itemTitle],class:normalizeClass(n.getCheckboxClasses(u)),readonly:n.isMandatoryItem(u)||r.isProtected(u[o.itemValue])||o.readonly},null,8,["modelValue","value","disabled","color","label","class","readonly"])],2))]),_:2},1040))),128))]),_:1},8,["style","no-gutters"]))])]),_:1},8,["modelValue","disabled"])}const Checklist=_export_sfc(_sfc_main$u,[["render",_sfc_render$q]]),__vite_glob_3_3=Object.freeze(Object.defineProperty({__proto__:null,default:Checklist},Symbol.toStringTag,{value:"Module"})),_sfc_main$t={name:"v-input-checklist-group",emits:[...makeInputEmits],components:{Checklist},props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},setup(e,a){return{...useInput(e,a)}},data:function(){return{selectedGroup:Object.keys(this.schema)[0]??1,selectedItems:[]}},computed:{},watch:{selectedGroup:{handler(e,a){this.selectedItems=[]}},selectedItems:{handler(e,a){this.$emit("update:modelValue",{group:this.selectedGroup,items:this.selectedItems})}}},methods:{},created(){}};function _sfc_render$p(e,a,o,r,i,n){const l=resolveComponent("Checklist");return openBlock(),createBlock(VInput,{modelValue:e.selectedItems,"onUpdate:modelValue":a[2]||(a[2]=s=>e.selectedItems=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-checklist-group"},{default:withCtx(s=>{var c;return[createVNode(VRadioGroup,{modelValue:e.selectedGroup,"onUpdate:modelValue":a[0]||(a[0]=u=>e.selectedGroup=u),direction:"horizontal"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.schema,(u,f)=>(openBlock(),createBlock(VCol,{key:f},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-checklist-group__btn",variant:e.selectedGroup==f?"elevated":"outlined",onClick:p=>e.selectedGroup=f},{prepend:withCtx(()=>[createVNode(VRadio,{value:f},null,8,["value"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(u.label.toUpperCase()),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),createBaseVNode("div",null,[createVNode(l,{modelValue:e.selectedItems,"onUpdate:modelValue":a[1]||(a[1]=u=>e.selectedItems=u),items:((c=o.schema[e.selectedGroup??0])==null?void 0:c.items)??[]},null,8,["modelValue","items"])])]}),_:1},8,["modelValue","variant"])}const ChecklistGroup=_export_sfc(_sfc_main$t,[["render",_sfc_render$p]]),__vite_glob_3_4=Object.freeze(Object.defineProperty({__proto__:null,default:ChecklistGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$s={name:"v-input-comparison-table",emits:[...makeInputEmits],components:{Table},props:{...makeInputProps(),schema:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},comparatorField:{type:String,default:"name"},comparatorValue:{type:String,default:"value"},comparators:{type:Object,default:()=>{}},selectable:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!0},itemsPerPage:{type:Number,default:50},comparatorWidth:{type:Number,default:400},minComparatorWidth:{type:Number,default:250},itemWidth:{type:Number,default:80},maxItemWidth:{type:Number,default:100},maxHeight:{type:[String,Number],default:null},height:{type:[String,Number],default:null},noFixedHeader:{type:Boolean,default:!1},noFixedComparator:{type:Boolean,default:!1},noFixedSelectable:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data:function(){return{model:null}},computed:{headers(){return[{title:this.label,key:"comparator_name",width:this.comparatorWidth,fixed:!this.noFixedComparator,cellProps:{class:"py-2",style:{minWidth:`${this.minComparatorWidth}px`}}}].concat(this.items.map(e=>({title:e.name,key:e.name,align:"center",id:e.id,width:this.itemWidth,cellProps:{style:{...this.$vuetify.display.mobile?{}:{maxWidth:`${this.maxItemWidth}px`}}}})))},inputAndTableStyle(){let e=/(\d+)(vh|px|rem|em|%)/,a=this.maxHeight,o={};if(!this.$vuetify.display.smAndDown){if(a){if(isNumber(a)&&(a=`${a}px`),isString(a)){let r=a.match(e);r||!isNaN$1(parseInt(r[1]))&&(a=`${parseInt(r[1])}px`)}o.maxHeight=a}if(this.height){let r=this.height;if(isNumber(r)&&(r=`${r}vh`),isString(r)){let i=r.match(e);i||!isNaN$1(parseInt(i[1]))&&(r=`${parseInt(i[1])}vh`)}o.height=r}}return o},comparisonItems(){let e=Object.keys(this.comparators).reduce((o,r)=>{const i=this.comparators[r];let n=(i==null?void 0:i.key)??r;return this.items.forEach(l=>{if(Array.isArray(l[n]))l[n].forEach(function(s){find(o,["id",s.id])||o.push({...s,_comparatorField:(i==null?void 0:i.field)??"name",...i!=null&&i.itemClasses?{_comparatorItemClasses:i.itemClasses}:{}})});else{let s=__isset(l[`${n}_show`])?`${n}_show`:n;o.includes(s)||o.push(s)}}),o},[]),a=[];if(this.selectable){let o={comparator_name:""};this.items.forEach(r=>{o[r.name]="__input"}),a.push(o)}return e.map(o=>{let r={},i=null;if(__isObject(o))i=o[o._comparatorField],__isset(o._comparatorItemClasses)&&(i=`<span class="${o._comparatorItemClasses}">${i}</span>`);else{let n=null;if((n=find(this.comparators,["key",o]))&&__isset(n.title))i=n.title;else{let l=o.match(/(\w+)?(_show)/);l?i=this.$headline(l[1]):i=this.$headline(o)}__isset(n.itemClasses)&&(i=`<span class="${n.itemClasses}"> ${i} </span>`)}return r.comparator_name=i,this.items.forEach(n=>{if(__isObject(o)){let l=find(n[this.comparatorField],["id",o.id]);if(l){let s=get(l,this.comparatorValue,"unknown");s==="unknown"&&(console.error(`${this.comparatorField} not found for ${this.comparatorValue}`),s=""),r[n.name]=s}else r[n.name]=""}else{let l=n[o];r[n.name]=l;let s=null;(s=find(this.comparators,["key",o]))&&__isset(s.itemClasses)&&(r[n.name]=`<span class="${s.itemClasses}"> ${l} </span>`)}}),r}).concat(a)}},watch:{input(e,a){},modelValue(e,a){}}},_hoisted_1$j={key:0,class:"v-input-comparison-table__header--selected"},_hoisted_2$g=["innerHTML"],_hoisted_3$f=["innerHTML"];function _sfc_render$o(e,a,o,r,i,n){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=l=>e.input=l),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:normalizeClass(["v-input-comparison-table",{"v-input-comparison-table--striped":o.striped,"v-input-comparison-table--highlighted":o.highlighted}]),rules:e.$attrs.rules,style:normalizeStyle(n.inputAndTableStyle)},{default:withCtx(l=>[createVNode(VDataTable,{class:normalizeClass(["h-100",o.selectable&&!o.noFixedSelectable?"v-data-table--fixed-selectable":""]),style:normalizeStyle(n.inputAndTableStyle),headers:n.headers,items:n.comparisonItems,itemsLength:"0","disable-sort":"","hide-default-footer":"","items-per-page":o.itemsPerPage,"mobile-breakpoint":"sm","fixed-header":!o.noFixedHeader},createSlots({_:2},[renderList(n.headers,(s,c)=>({name:`header.${s.key}`,fn:withCtx(u=>[e.$isset(s.id)&&e.input==s.id?(openBlock(),createElementBlock("span",_hoisted_1$j,toDisplayString(s.title),1)):(openBlock(),createElementBlock("span",{key:1,innerHTML:s.title},null,8,_hoisted_2$g))])})),renderList(n.headers,(s,c)=>({name:`item.${s.key}`,fn:withCtx(({item:u})=>[u[s.key]=="__input"?(openBlock(),createBlock(VBtn,{key:0,class:"my-2",onClick:f=>e.input=s.id,variant:e.input==s.id?"elevated":"outlined",readonly:e.protectInitialValue},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select")),1)]),_:2},1032,["onClick","variant","readonly"])):(openBlock(),createElementBlock("span",{key:1,innerHTML:u[s.key]},null,8,_hoisted_3$f))])}))]),1032,["class","style","headers","items","items-per-page","fixed-header"])]),_:1},8,["modelValue","variant","class","rules","style"])}const ComparisonTable=_export_sfc(_sfc_main$s,[["render",_sfc_render$o]]),__vite_glob_3_5=Object.freeze(Object.defineProperty({__proto__:null,default:ComparisonTable},Symbol.toStringTag,{value:"Module"})),LocaleMixin={props:{locale:{default:null}},data(){return{_locale:this.locale}},computed:{hasLocale:function(){return this._locale!=null},hasCurrentLocale:function(){return this.currentLocale!=null},isLocaleRTL:function(){const e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return this.hasLocale?e.includes(this.locale.shortlabel.toLowerCase()):!1},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return this.currentLocale.shortlabel},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all})},methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}},mounted(){}},_EXTENSIONS={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},_sfc_main$r={name:"UeFileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){const e=this.currentItem.extension;if(_EXTENSIONS.hasOwnProperty(e))return _EXTENSIONS[e].icon;for(const a in _EXTENSIONS)if(_EXTENSIONS[a].FileExtensions.findIndex(r=>r===e)>-1)return _EXTENSIONS[a].icon;return"gen"}}},_hoisted_1$i={class:"fileItem"},_hoisted_2$f={key:0,class:"fileItem__cell fileItem__cell--drag"},_hoisted_3$e={key:1,class:"fileItem__cell fileItem__cell--extension"},_hoisted_4$b={href:"#",target:"_blank"},_hoisted_5$b=["symbol"],_hoisted_6$b={class:"fileItem__cell fileItem__cell--name"},_hoisted_7$8={key:0},_hoisted_8$7=["src"],_hoisted_9$7=["href"],_hoisted_10$6={class:"f--link-underlined--o"},_hoisted_11$5=["name","value"],_hoisted_12$3={key:2,class:"fileItem__cell fileItem__cell--size"},_hoisted_13$3={class:"fileItem__cell"};function _sfc_render$n(e,a,o,r,i,n){const l=resolveDirective("svg");return openBlock(),createElementBlock("tr",_hoisted_1$i,[o.draggable?(openBlock(),createElementBlock("td",_hoisted_2$f,a[0]||(a[0]=[createBaseVNode("div",{class:"drag__handle--drag"},null,-1)]))):createCommentVNode("",!0),n.currentItem.hasOwnProperty("extension")?(openBlock(),createElementBlock("td",_hoisted_3$e,[createBaseVNode("a",_hoisted_4$b,[withDirectives(createBaseVNode("span",{symbol:n.getSvgIconName()},null,8,_hoisted_5$b),[[l]])])])):createCommentVNode("",!0),createBaseVNode("td",_hoisted_6$b,[n.currentItem.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("span",_hoisted_7$8,[createBaseVNode("img",{src:n.currentItem.thumbnail},null,8,_hoisted_8$7)])):createCommentVNode("",!0),createBaseVNode("a",{href:n.currentItem.hasOwnProperty("original")?n.currentItem.original:"#",download:""},[createBaseVNode("span",_hoisted_10$6,toDisplayString(n.currentItem.name),1)],8,_hoisted_9$7),createBaseVNode("input",{type:"hidden",name:o.name,value:n.currentItem.id},null,8,_hoisted_11$5)]),n.currentItem.hasOwnProperty("size")?(openBlock(),createElementBlock("td",_hoisted_12$3,toDisplayString(n.currentItem.size),1)):createCommentVNode("",!0),createBaseVNode("td",_hoisted_13$3,[createVNode(VBtn,{icon:"$close",onClick:n.deleteItem},null,8,["onClick"])])])}const FileItem=_export_sfc(_sfc_main$r,[["render",_sfc_render$n],["__scopeId","data-v-4430099c"]]),_sfc_main$q={name:"v-input-file",emits:[...makeInputEmits],components:{FileItem,draggable:Draggable},mixins:[LocaleMixin],props:{...makeFileProps()},setup(e,a){return{...useFile(e,a)}},created(){},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))}}},_hoisted_1$h={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$e={class:"v-field__field","data-no-activator":""},_hoisted_3$d={class:"fileField"},_hoisted_4$a={key:0,class:"fileField__trigger"},_hoisted_5$a=["name","value"],_hoisted_6$a={class:"fileField__note f--small"},_hoisted_7$7={key:1,class:"fileField__list"},_hoisted_8$6={key:2,class:"fileField__trigger"},_hoisted_9$6=["name","value"],_hoisted_10$5={class:"fileField__note f--small"},_hoisted_11$4={class:"v-field__outline"},_hoisted_12$2={class:"v-field__outline__notch"},_hoisted_13$2={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$m(e,a,o,r,i,n){const l=resolveComponent("FileItem"),s=resolveComponent("draggable");return openBlock(),createBlock(VInput,{hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(c=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$d,[e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_4$a,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_5$a),createVNode(VBtn,{type:"button",onClick:a[0]||(a[0]=u=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_6$a,toDisplayString(e.note),1)])):createCommentVNode("",!0),e.input.length?(openBlock(),createElementBlock("table",_hoisted_7$7,[createVNode(s,{tag:"tbody",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=u=>e.input=u),itemKey:"id"},{item:withCtx(u=>[createVNode(l,{class:"item__content",name:`${e.name}_${u.index}`,"item-label":e.$t("form-labels.File"),item:e.input[`${u.index}`],onDelete:f=>e.deleteItem(u.index)},null,8,["name","item-label","item","onDelete"])]),_:1},8,["modelValue"])])):createCommentVNode("",!0),!e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_8$6,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_9$6),createVNode(VBtn,{type:"button",onClick:a[2]||(a[2]=u=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_10$5,toDisplayString(e.note),1)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$4,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("label",_hoisted_13$2,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:1},8,["variant"])}const File$1=_export_sfc(_sfc_main$q,[["render",_sfc_render$m],["__scopeId","data-v-274d55d2"]]),__vite_glob_3_9=Object.freeze(Object.defineProperty({__proto__:null,default:File$1},Symbol.toStringTag,{value:"Module"})),Component="Filepond",FilePond=vueFilePond(plugin$2,plugin$1,plugin),_sfc_main$p={name:"v-input-filepond",components:{FilePond},emits:[...makeInputEmits,"loading","loaded","loadedFile"],props:{...makeInputProps(),...makeFilepondProps()},setup(e,a){const{requiredRule:o}=useValidation(e);return{...useInput(e,a),...useFilepond(e),requiredRule:o}},data(){return{fileFieldClasses:["v-input-filepond__file-field",this.$slots.activator||this.$slots.body?"d-none":""],errorMessages:[],onStart:!0,files:isArray(this.modelValue)?this.modelValue.map(function(e){return{source:e.source??`${this.endPoints.load}${e.uuid}`,options:{type:`${e.type??"local"}`,metadata:{date:e.created_at},file:e.file}}}):[],slotBindings:{browse:this.browse,addFile:this.addFile,removeFile:this.removeFile,removeFiles:this.removeFiles,getFiles:this.getFiles,getFile:this.getFile,files:this.files}}},methods:{postProcessFilepond:function(e,a){e?__log("postProcess error",e):this.input=this.input.concat({uuid:a.serverId,file_name:a.filename,source:`${this.endPoints.load}${a.serverId}`})},removeFilepond:function(e,a){var i;const o=a.filename??((i=a.serverId)==null?void 0:i.replace(`/${a.filename}`,""))??a.uuid;let r=this.input.findIndex(n=>n.uuid==o);if(r==-1){const n=a.source;r=this.input.findIndex(l=>l.source==n)}if(r!=-1){const n=this.input.slice(0,r).concat(this.input.slice(r+1));this.input=n}else console.error("removeFilepond error not found",a,this.input)},init(){setOptions({server_:{process_:this.endPoints.process,revert_:this.endPoints.revert,load_:this.endPoints.load}})},addFile(...e){return this.$refs.pond.addFile(...e)},browse(...e){return this.$refs.pond._pond.browse()},removeFile(...e){return this.$refs.pond.removeFile(...e)},removeFiles(...e){return this.$refs.pond.removeFiles(...e)},getFiles(...e){return this.$refs.pond.getFiles(...e)},getFile(...e){return this.$refs.pond.getFile(...e)},warning(e){this.$store.commit(ALERT$1.SET_ALERT,{message:e.body,variant:"warning"})},error(e){__log("error",e)}},computed:{classes(){return["v-input-filepond",this.class??""]},server(){return{revert:(e,a,o)=>{let r="revert-"+e;axios.delete(this.endPoints.revert,{requestId:r,data:e}).then(i=>{this.input=this.input.filter(n=>n.uuid!=e),a()}).catch(i=>{console.error("server revert error",i)})},process:(e,a,o,r,i,n,l,s,c)=>{const u=new FormData;if(e.match(/(\w)+.(\w)+/)){let p=e.split(".");e="";for(const m in p)m==0?e+=p[m]:e+=`[${p[m]}]`}u.append(e,a,a.name);let f="process-"+e;return axios.post(this.endPoints.process,u,{requestId:f,onUploadProgress:p=>{n(p.lengthComputable,p.loaded,p.total)}}).then(function(p){r(p.data)}).catch(function(p){p.status==500&&p.response.match(/^\<script\> Sfdump/)?(globalError$1(Component,{message:"Filepond process error.",value:request}),i("Dump error on processing")):i("Processing Error")}),{abort:()=>{__log("aborted"),axios.abort(f),l()}}},load:(e,a,o,r,i,n)=>(axios.get(e,{responseType:"blob",validateStatus:l=>l>=200&&l<300||l===422}).then(l=>{if(l.status==200)a(l.data);else throw l.status==500?new Error("Answer not found"):new Error("Some other status code")}).catch(function(l){console.error(l)}),{abort:()=>{i()}}),headers:{"X-Csrf-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},input:{get(){return this.modelValue??[]},set(e){__log("input set",e),this.updateModelValue(e)}},key:{get(){return`filepond-${Date.now()}`}},name(){let e=this.$attrs.name;return this.obj&&this.obj.schema&&this.obj.schema.parentName&&(e=`${this.obj.schema.parentName}.${e}`),e}},watch:{modelValue:{handler(e){}},disabled:{handler(e){}}},created(){},mounted(){this.$refs.VInput&&this.$watch(()=>this.$refs.VInput.errorMessages,e=>{this.onStart||(this.errorMessages=e),this.onStart=!1},{deep:!0})}},_hoisted_1$g={class:normalizeClass(["w-100"])},_hoisted_2$d=["innerHTML"],_hoisted_3$c={key:2,class:"v-input__details",role:"alert","aria-live":"polite"},_hoisted_4$9={key:0,class:"v-messages"},_hoisted_5$9={class:"v-messages__message"},_hoisted_6$9=["innerHTML"];function _sfc_render$l(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("FilePond");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:n.input,"onUpdate:modelValue":a[4]||(a[4]=c=>n.input=c),"hide-details":"",class:normalizeClass(n.classes),rules:e.noRules?[]:e.filepondRules},{default:withCtx(c=>[renderSlot(e.$slots,"activator",normalizeProps(guardReactiveProps({...i.slotBindings})),void 0,!0),createBaseVNode("div",_hoisted_1$g,[e.label?(openBlock(),createBlock(l,{key:0,transform:"none",padding:"a-0",weight:e.labelWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,ref:e.$refs.VInput})),()=>[createTextVNode(toDisplayString(e.label),1)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),e.subtitle?(openBlock(),createBlock(l,{key:1,type:"caption",transform:"none",padding:"a-0",weight:e.subtitleWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"subtitle",normalizeProps(guardReactiveProps({subtitle:e.subtitle,ref:e.$refs.VInput})),()=>[createBaseVNode("span",{innerHTML:e.subtitle},null,8,_hoisted_2$d)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(i.fileFieldClasses)},[(openBlock(),createBlock(s,mergeProps({ref:"pond",key:n.key,id:n.key},e.$lodash.omit(e.$bindAttributes(),["rules"]),{name:n.name,"allow-image-preview":e.allowImagePreview,"allow-multiple":e.allowMultiple,"allow-process":e.allowProcess,"allow-remove":e.allowRemove,"allow-reorder":e.allowReorder,"allow-replace":e.allowReplace,"drop-on-page":e.dropOnPage,"drop-on-element":e.dropOnElement,"drop-validation":e.dropValidation,"allow-file-type-validation":!0,"accepted-file-types":e.acceptedFileTypes,"max-files":e.max,disabled:e.disabled,"allow-drop":!e.disabled,"allow-browse":!e.disabled,"allow-file-size-validation":e.allowFileSizeValidation,"max-file-size":e.maxFileSize,"min-file-size":e.minFileSize,"max-total-file-size":e.maxTotalFileSize,"label-max-file-size":e.labelMaxFileSize,"label-max-file-size-exceeded":e.labelMaxFileSizeExceeded,files:i.files,server:n.server,onProcessfile:n.postProcessFilepond,onRemovefile:n.removeFilepond,onAddfilestart:a[0]||(a[0]=u=>e.$emit("loadingFile",u)),onAddfileprogress:a[1]||(a[1]=u=>e.$emit("loadingFileProgress",u)),onAddfile:a[2]||(a[2]=u=>e.$emit("loadedFile",u)),onInit:n.init,onWarning:n.warning,onError:n.error}),null,16,["id","name","allow-image-preview","allow-multiple","allow-process","allow-remove","allow-reorder","allow-replace","drop-on-page","drop-on-element","drop-validation","accepted-file-types","max-files","disabled","allow-drop","allow-browse","allow-file-size-validation","max-file-size","min-file-size","max-total-file-size","label-max-file-size","label-max-file-size-exceeded","files","server","onProcessfile","onRemovefile","onInit","onWarning","onError"]))],2),renderSlot(e.$slots,"body",mergeProps({...i.slotBindings},{onClick:a[3]||(a[3]=(...u)=>n.browse&&n.browse(...u))}),void 0,!0),e.hideDetails?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$c,[i.errorMessages.length>0?(openBlock(),createElementBlock("div",_hoisted_4$9,[createBaseVNode("div",_hoisted_5$9,toDisplayString(i.errorMessages.join(", ")),1)])):e.hint?(openBlock(),createBlock(l,{key:1,class:"v-messages",type:"caption",transform:"none",padding:"a-0",weight:e.hintWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"hint",normalizeProps(guardReactiveProps({hint:e.hint})),()=>[createBaseVNode("span",{innerHTML:e.hint},null,8,_hoisted_6$9)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0)]))])]),_:3},8,["modelValue","class","rules"])}const Filepond=_export_sfc(_sfc_main$p,[["render",_sfc_render$l],["__scopeId","data-v-ea0a0858"]]),__vite_glob_3_10=Object.freeze(Object.defineProperty({__proto__:null,default:Filepond},Symbol.toStringTag,{value:"Module"})),_sfc_main$o={__name:"FilepondAvatar",props:{disabled:{type:Boolean,default:!1},...makeInputProps(),...makeFilepondProps()},emits:makeInputEmits,setup(e,{emit:a}){const o=e,r=a;ref(null);const i=useInput(o,{emit:r,updateModelValue:(f,p)=>{f.length>1?i.input.value=[f[1]]:r("update:modelValue",f)}}),n=ref(!1),l=ref(null),s=()=>{n.value||o.disabled||l.value.browse()},c=()=>{n.value=!0},u=()=>{n.value=!1};return(f,p)=>{const m=resolveComponent("v-input-filepond");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:"v-input-filepond__avatar-wrapper",onClick:s},[createVNode(VAvatar,{size:"90",class:normalizeClass(e.disabled?"":"cursor-pointer")},{default:withCtx(()=>[unref(i).input.value.length>0?(openBlock(),createBlock(VImg,{key:0,alt:"Avatar",src:unref(i).input.value[0].source},null,8,["src"])):(openBlock(),createBlock(VIcon,{key:1,icon:"mdi-account"}))]),_:1},8,["class"]),createBaseVNode("div",{class:normalizeClass(["v-input-filepond__edit-icon",n.value?"bg-surface":"bg-primary-lighten-3"])},[n.value?(openBlock(),createBlock(VProgressCircular,{key:0,size:25,color:"success",indeterminate:""})):createCommentVNode("",!0),createVNode(VIcon,{disabled:e.disabled,size:"default"},{default:withCtx(()=>p[1]||(p[1]=[createTextVNode("mdi-account-edit-outline")])),_:1},8,["disabled"])],2)]),createVNode(m,{ref_key:"FilepondRef",ref:l,modelValue:unref(i).input.value,"onUpdate:modelValue":p[0]||(p[0]=g=>unref(i).input.value=g),class:"v-input-filepond-avatar","hide-details":f.hideDetails,hint:f.hint,min:f.min,"max-files":f.maxFiles,rules:f.rules,"hint-weight":f.hintWeight,"end-points":f.endPoints,"label-weight":f.labelWeight,subtitle:f.subtitle,"subtitle-weight":f.subtitleWeight,"accepted-file-types":f.acceptedFileTypes,"allow-multiple":!1,"allow-replace":!0,onLoadingFile:c,onLoadedFile:u},{activator:withCtx(g=>p[2]||(p[2]=[])),_:1},8,["modelValue","hide-details","hint","min","max-files","rules","hint-weight","end-points","label-weight","subtitle","subtitle-weight","accepted-file-types"])],64)}}},FilepondAvatar=_export_sfc(_sfc_main$o,[["__scopeId","data-v-c017f40d"]]),__vite_glob_3_11=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondAvatar},Symbol.toStringTag,{value:"Module"})),_sfc_main$n={name:"v-input-form-tabs",emits:[...makeInputEmits],inject:[...makeInputInjects],props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}},tabFields:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},triggers:{type:Object,default:()=>[]},protectDefiner:{type:String},protectedInputs:{type:Array,default:()=>["*"]}},setup(e,{emit:a}){const o=useInputHandlers(),r=useValidation(e),{t:i,te:n}=useI18n(),l=useInput(e,{emit:a}),s=ref(e.items),c=ref(!0),u=(k,B)=>{let w,N=k;if(__isString(k)&&(w=k.match(/\$([\w\.\*]+)/))){let I=w[1],F=__preg_quote(w[0]),D=I.split("."),M=[];for(const E in D){let V=D[E];V==="*"?B.id:M.push(V)}I=M.join(".");let P=__data_get(B,I);if(P){let E;if(Array.isArray(P)&&P.length>0)E=P.join(",");else if(__isString(P)){E=P;let V=snakeCase$1(E);n(`modules.${V}`)&&(E=i(`modules.${V}`))}else __isNumber(P)&&(E=P.toString());if(E){let V="\\w\\s"+__preg_quote(`.,;?|:_-=<>/"'`),A=new RegExp(String.raw`^([${V}]+)?(${F})([${V}]+)?$`);k.match(A)?N=k.replace(A,"$1"+E+"$3"):__log("Not matched sentence",A,k,k.match(A))}}}return N},f=reactive(new Map),p=(k,B)=>{B?f.set(k,B):f.delete(k)},m=k=>f.get(k),g=ref(s.value.reduce((k,B)=>{var w;return __isset(k[B.id])||(k[B.id]={...getModel(e.schema,{}),...((w=l.input.value)==null?void 0:w[B.id])??{}}),k},{})),y=(k,B,w)=>{let N=!1;return Object.keys(k).forEach(F=>{const D=filter(e.triggers,V=>V.trigger===F);if(D.length<1)return;const M=k[F],P=cloneDeep(w[B][F]);let E=null;P.items&&Array.isArray(P.items)&&(E=P.items.find(V=>V.id==M)),D.forEach(V=>{let A=cloneDeep(w[B][V.target]),$=!1;forEach(V.actions,(z,U)=>{if(Array.isArray(z)){if(U==="class"){let O=(A==null?void 0:A.class)??"";if(O){let x=O.split(" "),[R,...j]=z;R==="remove"?x=x.filter(T=>!j.includes(T)):R==="add"&&(x=[...x,...j]),A.class=x.join(" "),N=!0}}}else N=!0,U==="rules"&&($=!0,U="raw"+startCase(U)),U==="disabled"&&(A._originalDisabled=z),U==="items"?A[U]=__data_get(E,z,[]):E&&(A[U]=u(z,E))}),w[B][V.target]=A,$&&(w[B]=r.invokeRuleGenerator(w[B]))})}),{schemas:w,schemasChanged:N}},h=k=>{var N;const B=cloneDeep(e.schema);let w=e.protectInitialValue&&e.protectDefiner&&__isset(e.modelValue[k.id])&&__isset(e.modelValue[k.id][e.protectDefiner])&&e.modelValue[k.id][e.protectDefiner]!==null&&e.modelValue[k.id][e.protectDefiner]!==void 0;for(const I in e.tabFields)w&&Array.isArray(e.protectedInputs)&&e.protectedInputs.length>0&&(e.protectedInputs[0]==="*"||e.protectedInputs.includes(I))&&(B[I].protectInitialValue=!0),__isset(B[I])&&(B[I].items=k[e.tabFields[I]]),forEach(B[I],(F,D)=>{B[I][D]=u(F,k)});return getSchema(B,((N=g.value)==null?void 0:N[k.id])??{})},v=ref(s.value.reduce((k,B,w)=>{if(!__isset(k[B.id])){k[B.id]=h(B);const{schemas:N}=y(g.value[B.id],B.id,k);k=N}return k},{})),C=ref(s.value.reduce((k,B,w)=>(k[w]=null,k),{}));s.value.length>0&&(c.value=!1);const b=reactive({loading:c,elements:s,formRefs:f,activeTab:1,models:g,schemas:v,valids:C});watch$1(()=>e.items,k=>{c.value=!0;let B=k.filter(N=>!s.value.find(I=>I.id==N.id)),w=s.value.filter(N=>!k.find(I=>I.id==N.id));B.length>0&&B.forEach(N=>{var I;if(__isset(g.value[N.id])||(g.value[N.id]={...getModel(e.schema,{}),...((I=l.input.value)==null?void 0:I[N.id])??{}}),!__isset(v.value[N.id])){v.value[N.id]=h(N);const{schemas:F}=y(g.value[N.id],N.id,v.value);v.value=F}C.value[N.id]=null}),w.length>0&&w.forEach(N=>{delete g.value[N.id],delete v.value[N.id],delete C.value[N.id],p(N.id,null)}),s.value=k}),watch$1(()=>s.value,k=>{setTimeout(()=>{k.length>0&&(c.value=!1)},1e3)});const S=(k,B)=>{let w=cloneDeep(g.value);w[B];let N=cloneDeep(v.value);const{schemas:I,schemasChanged:F}=y(k,B,N);F&&(v.value=cloneDeep(I)),w[B]=k,g.value=cloneDeep(w),a("update:modelValue",g.value)};return{...l,...o,...r,...toRefs(b),setFormRef:p,getFormRef:m,updateModel:S,schemas:v}},data(){return{formTabsRules:[e=>{var o;let a=!0;e:for(const r in e){let i=e[r];for(const n in this.schema){let l=i[n],s=this.schema[n];if(a=this.validateInput(s,l),a!==!0&&this.manualValidation){this.activeTab=parseInt(r);let c=this.getFormRef(this.activeTab);if(c){c.validate();break e}else console.info("FormTabs validateInput",{id:r,formRef:c,formRefValue:(o=this.getFormRef(r))==null?void 0:o.value,activeTab:this.activeTab,formRefs:this.formRefs})}if(a!==!0)break e}}return a}]}},computed:{},watch:{models:{handler(e,a){this.validate()},deep:!0}},methods:{async validate(){this.VInput&&await this.VInput.validate()},async validateForm(e){return await this.getFormRef(e).value[0].validate()},init(){}},created(){}};function _sfc_render$k(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:e.models,"onUpdate:modelValue":a[2]||(a[2]=c=>e.models=c),"hide-details":"",multiple:"",rules:i.formTabsRules,class:"v-input-form-tabs"},{default:withCtx(c=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-row-divider, table-row@4",height:"400px",width:"100%"})):(openBlock(),createBlock(s,{key:1,modelValue:e.activeTab,"onUpdate:modelValue":a[1]||(a[1]=u=>e.activeTab=u),items:e.elements,"tab-value":"id","tab-title":"name"},createSlots({windows:withCtx(({active:u})=>[createVNode(VWindow,{modelValue:e.activeTab,"onUpdate:modelValue":a[0]||(a[0]=f=>e.activeTab=f)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.elements,(f,p)=>(openBlock(),createBlock(VWindowItem,{key:f.id,value:f.id},{default:withCtx(()=>[(openBlock(),createBlock(l,{ref_for:!0,ref:m=>r.setFormRef(f.id,m),key:`form-${f.id}-${JSON.stringify(r.schemas[f.id])}`,"vvvvv-model":"models[item.id]",modelValue:e.models[f.id],"onUpdate:modelValue":m=>r.updateModel(m,f.id),"onXupdate:modelValue":m=>e.$log("update:modelValue",m,f.id),schema:r.schemas[f.id],valid:e.valids[p],"onUpdate:valid":m=>e.valids[p]=m,noDefaultFormPadding:"",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","onXupdate:modelValue","schema","valid","onUpdate:valid"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:2},[renderList(e.elements,(u,f)=>({name:`tab.${u.id}`,fn:withCtx(()=>[createVNode(VTab,{value:u.id,color:!this.valids[f]&&e.window.__isBoolean(this.valids[f])?"error":"primary",class:normalizeClass([e.window.__isBoolean(this.valids[f])&&!this.valids[f]?"bg-red-lighten-5":""])},{append:withCtx(()=>[e.window.__isBoolean(e.valids[f])?(openBlock(),createBlock(VIcon,{key:0,icon:e.valids[f]?"$check":"$close"},null,8,["icon"])):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(u.name),1)]),_:2},1032,["value","color","class"])])}))]),1032,["modelValue","items"]))]),_:1},8,["modelValue","rules"])}const FormTabs=_export_sfc(_sfc_main$n,[["render",_sfc_render$k]]),__vite_glob_3_12=Object.freeze(Object.defineProperty({__proto__:null,default:FormTabs},Symbol.toStringTag,{value:"Module"})),mediaLibrayMixin={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}},mediaFieldMixin={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!0},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default(){return[]}}}},cropConversion=(e,a,o)=>({x:Math.round(e.x*a.width/o.width),y:Math.round(e.y*a.height/o.height),width:Math.round(e.width*a.width/o.width),height:Math.round(e.height*a.height/o.height)}),IS_SAFARI$1=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$m={name:"v-input-image",emits:[...makeInputEmits],components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps(),imageCol:{type:Object,default:()=>({cols:12,md:6,lg:4})}},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$t("fields.medias.edit-close"))??"",active:!1},totalElementCount:range(0,this.max)}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),r=o.width,i=o.height;this.canvas.width=r,this.canvas.height=i,this.ctx.drawImage(this.img,o.x,o.y,r,i,0,0,r,i),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const r=this.allCrops[this.cropContext][o][0].ratio,i=this.media.width,n=this.media.height,l={x:i/2,y:n/2};let s=i,c=n;r>0&&r<1?(s=Math.floor(Math.min(n*r,i)),c=Math.floor(s/r)):r>=1&&(c=Math.floor(Math.min(i/r,n)),s=Math.floor(c*r));let u={x:0,y:0,width:s,height:c};u=cropConversion(u,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:u.width,height:u.height,minScale:1}));const f=Math.floor(l.x-s/2),p=Math.floor(l.y-c/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=f,e[o].y=p,e[o].width=s,e[o].height=c}Promise.all(a).then(o=>{let r=0;o.forEach(i=>{const n={x:i.topCrop.x,y:i.topCrop.y,width:i.topCrop.width,height:i.topCrop.height},l=e[Object.keys(e)[r]],s=cropConversion(n,this.originalDim,this.naturalDim);l.x=s.x,l.y=s.y,l.width=s.width,l.height=s.height,r++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",r=>{console.error(r),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI$1||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",r=>{a(r)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$f={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$c={class:"v-field__field","data-no-activator":""},_hoisted_3$b={class:"_media__field"},_hoisted_4$8={class:"media__img px-2 py-2"},_hoisted_5$8={key:0,class:"media__note f--small"},_hoisted_6$8=["name","value"],_hoisted_7$6={class:"v-field__outline"},_hoisted_8$5={class:"v-field__outline__notch"},_hoisted_9$5={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$j(e,a,o,r,i,n){const l=resolveDirective("fit-grid");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$c,[createVNode(VHover,null,{default:withCtx(({isHovering:c,props:u})=>[createBaseVNode("div",mergeProps({class:["media w-100",{"media--slide":e.isSlide}]},u),[createBaseVNode("div",_hoisted_3$b,[createVNode(VRow,{dense:"",class:"","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.totalElementCount,f=>withDirectives((openBlock(),createBlock(VCol,mergeProps({key:f,ref_for:!0},o.imageCol),{default:withCtx(()=>[createVNode(VCard,{color:"",class:"w-100 d-flex flex-column justify-end",style:{"box-shadow":"unset"}},createSlots({default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:p,props:m})=>[e.input[f]!==void 0?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"d-flex flex-no-wrap",ref_for:!0},m,{"data-test":"imageCard"}),[createBaseVNode("div",_hoisted_4$8,[createVNode(VHover,null,{default:withCtx(({isHovering:g,props:y})=>[createBaseVNode("div",mergeProps({class:"media__imgFrame",ref_for:!0},y),[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(n.cropThumbnailStyle)},[e.showImg?(openBlock(),createBlock(VImg,{key:0,src:e.input[f].thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass([n.cropThumbnailClass]),"max-width":"240"},null,8,["src","class"])):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createBlock(VOverlay,{key:0,"model-value":g,class:"align-end justify-end",contained:"",onClick:h=>n.openMediaLibrary(1,n.mediaKey,f),elevation:g?12:2},{default:withCtx(()=>[createVNode(VBtn,{icon:"$edit",size:"small",class:"mb-2 mr-2",color:"blue-lighten-5"})]),_:2},1032,["model-value","onClick","elevation"]))],16)]),_:2},1024)]),createVNode(VList,{lines:"one",class:normalizeClass([[!e.hover||p?"opacity-100":"opacity-70","w-50"],"w-50"]),style:{"min-width":"50px",transition:"opacity 250ms ease-in"}},{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:g,props:y})=>[createVNode(VListItem,mergeProps({ref_for:!0},y,{class:{"text-blue":g},title:e.input[f].name,onClick:h=>n.openMediaLibrary(1,n.mediaKey,f)}),null,16,["class","title","onClick"])]),_:2},1024),e.input[f].size?(openBlock(),createBlock(VListItem,{key:0,subtitle:"File size: {{ input[index].size }}"})):createCommentVNode("",!0),e.input[f].width+e.input[f].height?(openBlock(),createBlock(VListItem,{key:1,subtitle:`${e.$t("fields.medias.original-dimensions")}: ${e.input[f].width}${e.input[f].height}`},null,8,["subtitle"])):createCommentVNode("",!0)]),_:2},1032,["class"]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,style:{"min-width":"50px",transition:"opacity 250ms ease-in"},class:normalizeClass([!e.hover||p?"opacity-100":"opacity-10","d-flex justify-end ma-2"])},[createVNode(VBtn,{"data-test":"downloadButton",icon:"$download",color:"blue-lighten-5",rounded:"0",size:"small",href:e.input[f].original,download:""},null,8,["href"]),createVNode(VBtn,{"data-test":"cropButton",icon:"mdi-crop",color:"blue-lighten-5",rounded:"0",size:"small"}),createVNode(VBtn,{"data-test":"deleteButton",icon:"$delete",color:"blue-lighten-5",rounded:"0",size:"small",onClick:g=>n.deleteMediaClick(f,s.validate)},null,8,["onClick"])],2))],16)):createCommentVNode("",!0)]),_:2},1024)]),_:2},[e.input[f]===void 0?{name:"actions",fn:withCtx(()=>[createVNode(VBtn,{"data-test":"addButton","append-icon":"$add",variant:"outlined",block:"",onClick:a[0]||(a[0]=p=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1040)),[[l]])),128))]),_:2},1024),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_5$8,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(n.media),type:"hidden"},null,8,_hoisted_6$8)],16)]),_:2},1024)]),createBaseVNode("div",_hoisted_7$6,[a[2]||(a[2]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("label",_hoisted_9$5,[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label})),()=>[createTextVNode(toDisplayString(e.boundProps.label),1)],!0)])]),a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const Image$1=_export_sfc(_sfc_main$m,[["render",_sfc_render$j],["__scopeId","data-v-c834f5fd"]]),__vite_glob_3_13=Object.freeze(Object.defineProperty({__proto__:null,default:Image$1},Symbol.toStringTag,{value:"Module"})),IS_SAFARI=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$l={name:"v-input-image",components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps()},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$trans("fields.medias.edit-close"))??"",active:!1}}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),r=o.width,i=o.height;this.canvas.width=r,this.canvas.height=i,this.ctx.drawImage(this.img,o.x,o.y,r,i,0,0,r,i),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const r=this.allCrops[this.cropContext][o][0].ratio,i=this.media.width,n=this.media.height,l={x:i/2,y:n/2};let s=i,c=n;r>0&&r<1?(s=Math.floor(Math.min(n*r,i)),c=Math.floor(s/r)):r>=1&&(c=Math.floor(Math.min(i/r,n)),s=Math.floor(c*r));let u={x:0,y:0,width:s,height:c};u=cropConversion(u,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:u.width,height:u.height,minScale:1}));const f=Math.floor(l.x-s/2),p=Math.floor(l.y-c/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=f,e[o].y=p,e[o].width=s,e[o].height=c}Promise.all(a).then(o=>{let r=0;o.forEach(i=>{const n={x:i.topCrop.x,y:i.topCrop.y,width:i.topCrop.width,height:i.topCrop.height},l=e[Object.keys(e)[r]],s=cropConversion(n,this.originalDim,this.naturalDim);l.x=s.x,l.y=s.y,l.width=s.width,l.height=s.height,r++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",r=>{console.error(r),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",r=>{a(r)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a,__log(e,this.input,this.boundProps)},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$e={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$b={class:"v-field__field","data-no-activator":""},_hoisted_3$a={class:"media__field"},_hoisted_4$7={key:0,class:"media__info"},_hoisted_5$7={class:"media__img"},_hoisted_6$7={class:"media__imgFrame"},_hoisted_7$5=["src"],_hoisted_8$4=["onClick"],_hoisted_9$4={class:"media__edit--button"},_hoisted_10$4={symbol:"edit"},_hoisted_11$3=["onClick"],_hoisted_12$1={class:"media__delete--button"},_hoisted_13$1={key:0,class:"media__metadatas"},_hoisted_14$1=["onClick"],_hoisted_15$1=["title"],_hoisted_16={key:0,class:"f--small"},_hoisted_17={key:1,class:"f--small"},_hoisted_18={key:2,class:"media__note f--small"},_hoisted_19=["name","value"],_hoisted_20={class:"v-field__outline"},_hoisted_21={class:"v-field__outline__notch"},_hoisted_22={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$i(e,a,o,r,i,n){const l=resolveDirective("svg");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",{class:normalizeClass(["media",{"media--hoverable":e.hover,"media--slide":e.isSlide}])},[createBaseVNode("div",_hoisted_3$a,[n.hasMedia?(openBlock(),createElementBlock("div",_hoisted_4$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.input,(c,u)=>(openBlock(),createElementBlock(Fragment,{key:u},[createBaseVNode("div",_hoisted_5$7,[createBaseVNode("div",_hoisted_6$7,[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(n.cropThumbnailStyle)},[e.showImg?(openBlock(),createElementBlock("img",{key:0,src:c.thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass(n.cropThumbnailClass)},null,10,_hoisted_7$5)):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"media__edit",onClick:f=>n.openMediaLibrary(1,n.mediaKey,u)},[createBaseVNode("span",_hoisted_9$4,[withDirectives((openBlock(),createElementBlock("span",_hoisted_10$4,[createVNode(VIcon,{icon:"$edit"})])),[[l]])])],8,_hoisted_8$4)),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:"media__delete",onClick:f=>n.deleteMediaClick(u,s.validate)},[createBaseVNode("span",_hoisted_12$1,[createVNode(VIcon,{icon:"$delete"})])],8,_hoisted_11$3))])]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("ul",_hoisted_13$1,[createBaseVNode("li",{class:"media__name",onClick:f=>n.openMediaLibrary(1,n.mediaKey,u)},[createBaseVNode("strong",{title:c.name},toDisplayString(c.name),9,_hoisted_15$1)],8,_hoisted_14$1),c.size?(openBlock(),createElementBlock("li",_hoisted_16,"File size: "+toDisplayString(c.size),1)):createCommentVNode("",!0),c.width+c.height?(openBlock(),createElementBlock("li",_hoisted_17,toDisplayString(e.$trans("fields.medias.original-dimensions"))+": "+toDisplayString(c.width)+""+toDisplayString(c.height),1)):createCommentVNode("",!0)])),a[2]||(a[2]=createBaseVNode("div",{class:"media__actions-dropDown"},null,-1))],64))),128))])):createCommentVNode("",!0),e.remainingItems?(openBlock(),createBlock(VBtn,{key:1,type:"button",onClick:a[0]||(a[0]=c=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})):createCommentVNode("",!0),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_18,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(n.media),type:"hidden"},null,8,_hoisted_19)],2)]),createBaseVNode("div",_hoisted_20,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_21,[createBaseVNode("label",_hoisted_22,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const ImageOld=_export_sfc(_sfc_main$l,[["render",_sfc_render$i],["__scopeId","data-v-8cc5a462"]]),__vite_glob_3_14=Object.freeze(Object.defineProperty({__proto__:null,default:ImageOld},Symbol.toStringTag,{value:"Module"})),makeModalProps=propsFactory({modelValue:{type:Boolean,default:!1}}),ModalMixin={emits:["update:modelValue","confirm","cancel"],props:{cancelText:{type:String,default:""},confirmText:{type:String,default:""},...makeModalProps()},data(){return{id:Math.ceil(Math.random()*1e6)+"-modal"}},computed:{show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},methods:{setValue(e){this[e.target.name]=e.target.value},openModal(){this.show=!0},closeModal(){this.show=!1},cancelModal(e=null){typeof this.cancelCallback>"u"?this.closeModal():this.cancelCallback(),e&&e(),this.$emit("cancel")},confirmModal(e=null){typeof this.confirmCallback>"u"?e?e():this.closeModal():this.confirmCallback(),this.$emit("confirm")}},created(){}},_sfc_main$k={name:"v-input-locale",emits:[...makeInputEmits],mixins:[LocaleMixin],setup(e,a){return{...useInput(e,a)}},props:{...makeInputProps(),type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}}},watch:{modelValue(e){if(__isObject(e))for(const a in e)this.input[a]=e[a]},attributes:{handler(e,a){},deep:!0}},computed:{input:{get(){return this.modelValue},set(e,a){this.inputOnSet(e,a),this.updateModelValue(e)}},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all}),attributesPerLang:function(){const e={},a=this.attributes.errorMessages;return this.languages.forEach(o=>{const r=cloneDeep(omit(this.attributes,["errorMessages"]));r.required=!!o.published&&this.isRequired,r.name=`${r.name}[${o.value}]`,__isset(a[o.value])&&(r.errorMessages=a[o.value],r.error=!1),this.input?r.modelValue=this.input[o.value]:r.default,e[o.value]=r}),e}},data(){return{isCustomForm:!1,isRequired:this.attributes.required,inputObject:this.modelValue}},mounted(){this.isCustomForm=this.$root.$refs.customForm!==void 0,this.isRequired=this.attributes.required??!1},created(){},methods:{attributesPerLang_:function(e){const a=this.languages.find(r=>r.value===e),o=cloneDeep(this.attributes);return o.required=!!a.published&&this.isRequired,o.name=`${o.name}[${e}]`,this.input&&(o.modelValue=this.input[e]),o},attributesNoLang:function(){const e=cloneDeep(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(LANGUAGE.SWITCH_LANG,{oldValue:e}),this.$nextTick(function(){})},updateValue:function(e,a){},modelUpdated(e,a){try{this.input&&__isset(this.input[a])?(this.input[a]=e,this.updateModelValue(this.input)):this.input&&!__isset(this.input[a])&&e?(this.input={},this.input[a]=e,this.updateModelValue(this.input)):!this.input&&e&&(this.input={})}catch{__log("catch",this.input,a,e)}}}},_hoisted_1$d={class:"locale"};function _sfc_render$h(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$d,[e.languages&&e.languages.length&&e.languages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.languages,l=>(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:l.value,ref_for:!0},n.attributesPerLang[`${l.value}`],{class:[l.value===e.currentLocale.value||i.isCustomForm?"":"d-none"],"onUpdate:modelValue":s=>n.modelUpdated(s,l.value)}),{appendx:withCtx(()=>[e.languages.length>1?(openBlock(),createBlock(VChip,{key:0,onClick:a[0]||(a[0]=s=>n.updateLocale(e.currentLocale))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale)+" ",1),createVNode(VTooltip,{activator:"parent",location:"top"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.switch-language")),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),label:withCtx(s=>[createTextVNode(toDisplayString(s.label)+" ",1),s.label&&s.isActive&&(s.isActive.value||s.isFocused.value)?(openBlock(),createBlock(VChip,{key:0,style:{"font-size":"var(--v-field-label-scale)",height:"calc(var(--v-field-label-scale) * 1.5)"},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):s.label&&!e.$isset(s.isActive)?(openBlock(),createBlock(VChip,{key:1,style:{},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:2},1040,["class","onUpdate:modelValue"]))),128)):(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:1,name:o.attributes.name},n.attributesNoLang(),{onChange:a[1]||(a[1]=l=>n.updateValue(!1,...arguments)),onBlur:a[2]||(a[2]=l=>e.$emit("blur")),onFocus:a[3]||(a[3]=l=>e.$emit("focus"))}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:3},16,["name"]))])}const Locale=_export_sfc(_sfc_main$k,[["render",_sfc_render$h],["__scopeId","data-v-38020bfc"]]),__vite_glob_3_15=Object.freeze(Object.defineProperty({__proto__:null,default:Locale},Symbol.toStringTag,{value:"Module"}));function getCountry(){return fetch("https://ip2c.org/s").then(e=>e.text()).then(e=>{const a=(e||"").toString();if(!a||a[0]!=="1")throw new Error("unable to fetch the country");return a.substr(2,2)})}function setCaretPosition(e,a){if(e.setSelectionRange)e.focus(),e.setSelectionRange(a,a);else if(e.createTextRange){const o=e.createTextRange();o.collapse(!0),o.moveEnd("character",a),o.moveStart("character",a),o.select()}}const allCountries=[["Afghanistan ()","af","93"],["Albania (Shqipri)","al","355"],["Algeria ()","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia ()","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (sterreich)","at","43"],["Azerbaijan (Azrbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain ()","bh","973"],["Bangladesh ()","bd","880"],["Barbados","bb","1246"],["Belarus ()","by","375"],["Belgium (Belgi)","be","32"],["Belize","bz","501"],["Benin (Bnin)","bj","229"],["Bermuda","bm","1441"],["Bhutan ()","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (  )","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria ()","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia ()","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (Rpublique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China ()","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros ( )","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Cte dIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaao","cw","599",0],["Cyprus ()","cy","357"],["Czech Republic (esk republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Repblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt ()","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Froyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane franaise)","gf","594"],["French Polynesia (Polynsie franaise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia ()","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece ()","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guine)","gn","224"],["Guinea-Bissau (Guin Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong ()","hk","852"],["Hungary (Magyarorszg)","hu","36"],["Iceland (sland)","is","354"],["India ()","in","91"],["Indonesia","id","62"],["Iran ()","ir","98"],["Iraq ()","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel ()","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan ()","jp","81"],["Jersey","je","44",3],["Jordan ()","jo","962"],["Kazakhstan ()","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait ()","kw","965"],["Kyrgyzstan ()","kg","996"],["Laos ()","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon ()","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya ()","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau ()","mo","853"],["Macedonia (FYROM) ()","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania ()","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (Mxico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia ()","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco ()","ma","212",0],["Mozambique (Moambique)","mz","258"],["Myanmar (Burma) ()","mm","95"],["Namibia (Namibi)","na","264"],["Nauru","nr","674"],["Nepal ()","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Caldonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (   )","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman ()","om","968"],["Pakistan ()","pk","92"],["Palau","pw","680"],["Palestine ()","ps","970"],["Panama (Panam)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar ()","qa","974"],["Runion (La Runion)","re","262",0],["Romania (Romnia)","ro","40"],["Russia ()","ru","7",0],["Rwanda","rw","250"],["Saint Barthlemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie franaise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe (So Tom e Prncipe)","st","239"],["Saudi Arabia (  )","sa","966"],["Senegal (Sngal)","sn","221"],["Serbia ()","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea ()","kr","82"],["South Sudan ( )","ss","211"],["Spain (Espaa)","es","34"],["Sri Lanka ( )","lk","94"],["Sudan ()","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria ()","sy","963"],["Taiwan ()","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand ()","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia ()","tn","216"],["Turkey (Trkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine ()","ua","380"],["United Arab Emirates (  )","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Ozbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vit Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara ( )","eh","212",1],["Yemen ()","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["land Islands","ax","358",1]].map(e=>({name:e[0],iso2:e[1].toUpperCase(),dialCode:e[2],priority:e[3]||0,areaCodes:e[4]||null})),defaultOptions={placeholder:"Enter a phone number",label:"Enter a Phone Number",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,mode:"international",invalidMsg:"",required:!1,allCountries,defaultCountry:"tr",enabledCountryCode:!1,enabledFlags:!0,preferredCountries:[],onlyCountries:[],ignoredCountries:[],autofocus:!1,autocomplete:"on",name:"telephone",wrapperClasses:"",inputClasses:"",inputId:"",dropdownOptions:{},inputOptions:{},maxLen:25,dynamicPlaceholder:!1},Phone$1={options:{...defaultOptions}};function getDefault(e){return Phone$1.options[e]}function getParents(e,a){const o=a||[],{parentNode:r}=e;return r?getParents(r,o.concat(r)):o}const _sfc_main$j={emits:[...makeInputEmits,"country-changed","validate","onValidate","keydown","mousedown","mouseup","input","change","focus","blur","click","space","onInput","onSpace","onBlur","onMouseup","onMousedown"],directives:{"click-outside":{bind(e,a,o){if(typeof a.value!="function"){const n=o.context.name;let l=`[Vue-click-outside:] provided expression ${a.expression} is not a function, but has to be`;n&&(l+=`Found in component ${n}`),console.warn(l)}const{bubble:r}=a.modifiers,i=n=>{const l=n.path||(n.composedPath?n.composedPath():!1)||getParents(n.target);(r||l.length&&!e.contains(l[0])&&e!==l[0])&&a.value(n)};e.__vueClickOutside__=i,document.addEventListener("click",i)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},props:{...makeInputProps(),invalidMsg:{type:String,default:()=>getDefault("invalidMsg")},mode:{type:String,default:()=>getDefault("mode")},disabled:{type:Boolean,default:!1},disabledFetchingCountry:{type:Boolean,default:()=>getDefault("disabledFetchingCountry")},allCountries:{type:Array,default:()=>getDefault("allCountries")},defaultCountry:{type:String,default:()=>getDefault("defaultCountry")},preferredCountries:{type:Array,default:()=>getDefault("preferredCountries")},onlyCountries:{type:Array,default:()=>getDefault("onlyCountries")},ignoredCountries:{type:Array,default:()=>getDefault("ignoredCountries")}},setup(e,a){return{...useInput(e,a)}},data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:{handler(e){e&&e!==this.activeCountry&&this.choose(e,!0)},deep:!0},lastValidCountry:null,data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:null,phoneRule:e=>e?PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON().valid||"Geersiz telefon numaras":"Telefon Numaras gerekli"}}}},computed:{parsedMode(){if(this.mode)if(!["international","national"].includes(this.mode))console.error('Invalid value of prop "mode"');else return this.mode;return!this.phone||this.phone[0]!=="+"?"national":"international"},filteredCountries(){return this.onlyCountries.length?this.getCountries(this.onlyCountries):this.ignoredCountries.length?this.allCountries.filter(({iso2:e})=>!this.ignoredCountries.includes(e.toUpperCase())&&!this.ignoredCountries.includes(e.toLowerCase())):this.allCountries},sortedCountries(){return[...this.getCountries(this.preferredCountries).map(a=>({...a,preferred:!0})),...this.filteredCountries]},phoneObject(){const e=PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON();return Object.assign(e,{isValid:e.valid,country:this.activeCountry}),this.phone?e:{...e,number:{_phone:""}}},phoneText(){let e="_phone";return this.phoneObject.isValid?e=this.parsedMode:this.boundProps.validate=!1,this.phoneObject.number[e]||""}},watch:{"phoneObject.valid":function(e){e&&(this.phone=this.phoneText,this.lastValidCountry={...this.activeCountry}),this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)},modelValue(e,a){__isString(e)&&(this.phone=this.modelValue)},open(e){e?this.$emit("open"):this.$emit("close")},phone:{handler(e,a){if(e){if(e[0]==="+"){const o=PhoneNumber(e).getRegionCode();if(o){const r=this.findCountry(o);r&&(this.activeCountry=r,this.countryCode=r)}}else for(const o of this.sortedCountries)if(PhoneNumber(e,o.iso2).valid){this.activeCountry=o,this.countryCode=o;break}}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},immediate:!0},activeCountry(e){e&&e.iso2&&(this.boundProps.placeholder=awesomePhonenumberExports.getExample(e.iso2).toJSON().number.national,this.boundProps.persistentPlaceholder=!0,this.$emit("country-changed",e))},countryCode(e,a){this.choose(e,!0)}},mounted(){this.$watch(`$refs.${this.getReference("countryInput")}.isResetting`,e=>e&&this.reset()),(!this.activeCountry||!this.activeCountry.iso2)&&this.reset()},created(){if(this.modelValue&&(this.phone=this.modelValue.trim(),this.phone[0]==="+")){const e=PhoneNumber(this.phone).getRegionCode();if(e){const a=this.findCountry(e);a&&(this.activeCountry=a,this.countryCode=a)}}__isset(this.boundProps.rules)||(this.boundProps.rules=[]),this.boundProps.rules.push(this.phoneRule)},methods:{inputOnSet(e,a){if((e||__isString(e))&&e[0]==="+"){const o=PhoneNumber(e).getRegionCode();o&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},initializeCountry(){return new Promise(e=>{if(this.phone&&this.phone[0]==="+"){const o=PhoneNumber(this.input).getRegionCode();if(o){this.choose(o),e();return}}if(this.defaultCountry){const o=this.findCountry(this.defaultCountry);if(o){this.choose(o),e();return}}const a=this.findCountry(this.preferredCountries[0])||this.filteredCountries[0];this.disabledFetchingCountry?(this.choose(a),e()):getCountry().then(o=>{this.phone===""&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}).catch(o=>{console.warn(o),this.choose(a)}).finally(()=>{e()})})},getCountries(e=[]){return e.map(a=>this.findCountry(a)).filter(Boolean)},findCountry(e=""){return this.allCountries.find(a=>a.iso2===e.toUpperCase())},getItemClass(e,a){const o=this.selectedIndex===e,r=e===this.preferredCountries.length-1,i=this.preferredCountries.some(n=>n.toUpperCase()===a);return{highlighted:o,"last-preferred":r,preferred:i}},choose(e,a=!1){if(this.activeCountry=e||this.activeCountry||{},this.phone&&this.phone[0]==="+"&&this.activeCountry.iso2&&this.phoneObject.number.significant){const o=PhoneNumber(this.phoneObject.number.significant,this.activeCountry.iso2);o.valid&&(this.phone=o.getNumber("international"))}else this.inputOptions&&this.inputOptions.showDialCode&&e&&e.dialCode&&(this.phone=`+${e.dialCode}`);this.countryCode=this.activeCountry,a&&(this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject))},reset(){this.activeCountry&&this.activeCountry.iso2&&(this.countryCode=this.activeCountry),this.initializeCountry().then(()=>{!this.phone&&this.inputOptions&&this.inputOptions.showDialCode&&this.activeCountry.dialCode&&(this.phone=`+${this.activeCountry.dialCode}`),this.countryCode=this.activeCountry,this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)}).catch(console.error).finally(()=>{this.finishMounted=!0}),this.open=!1},onInput(e){e&&e.target&&(this.cursorPosition=e.target.selectionStart)},onBlur(){this.$emit("blur"),this.$emit("onBlur")},onFocus(e){this.$emit("focus",e)},onClick(e){this.$emit("click",e)},onChange(e){this.$emit("change",e)},onMouseUp(e){this.$emit("mouseup",e)},onMouseDown(e){this.$emit("mousedown",e)},onKeyDown(e){this.$emit("keydown",e)},onEnter(){this.$emit("enter"),this.$emit("onEnter")},onSpace(){this.$emit("space"),this.$emit("onSpace")},focus(){this.$refs[this.getReference("phoneInput")].focus()},toggleDropdown(){this.disabled||(this.open=!this.open)},clickedOutside(){this.open=!1},keyboardNav(e){if(e.keyCode===40){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=0:this.selectedIndex=Math.min(this.sortedCountries.length-1,this.selectedIndex+1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop+a.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight&&(this.$refs.list.scrollTop=a.offsetTop-this.$refs.list.clientHeight+a.clientHeight)}else if(e.keyCode===38){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=this.sortedCountries.length-1:this.selectedIndex=Math.max(0,this.selectedIndex-1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop<this.$refs.list.scrollTop&&(this.$refs.list.scrollTop=a.offsetTop)}else if(e.keyCode===13)this.selectedIndex!==null&&this.choose(this.sortedCountries[this.selectedIndex]),this.open=!this.open;else{this.typeToFindInput+=e.key,clearTimeout(this.typeToFindTimer),this.typeToFindTimer=setTimeout(()=>{this.typeToFindInput=""},700);const a=this.sortedCountries.slice(this.preferredCountries.length).findIndex(o=>o.name.toLowerCase().startsWith(this.typeToFindInput));if(a>=0){this.selectedIndex=this.preferredCountries.length+a;const o=this.$refs.list.children[this.selectedIndex],r=o.offsetTop<this.$refs.list.scrollTop,i=o.offsetTop+o.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight;(r||i)&&(this.$refs.list.scrollTop=o.offsetTop-this.$refs.list.clientHeight/2)}}}}};function _sfc_render$g(e,a,o,r,i,n){return openBlock(),createBlock(VRow,{"no-gutters":"",class:normalizeClass(["vue-tel-input-vuetify flex-nowrap",e.$lodash.pick(e.boundProps,["wrapperClasses"])??e.getDefault("wrapperClasses")])},{default:withCtx(()=>[createVNode(VAutocomplete,mergeProps({class:"flex-grow-0 flex-shrink-1",ref:e.makeReference("countryInput"),modelValue:i.countryCode,"onUpdate:modelValue":a[0]||(a[0]=l=>i.countryCode=l)},e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{items:n.sortedCountries,"item-title":"name","item-value":"iso2","menu-props":{maxHeight:200},autocomplete:"off","return-object":"","onUpdate:modelValue":n.choose,disabled:o.disabled}),{selection:withCtx(()=>[i.activeCountry&&i.activeCountry.iso2?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([i.activeCountry.iso2.toLowerCase(),"vti__flag"])},null,2)):createCommentVNode("",!0)]),item:withCtx(({item:l,props:s})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(s)),{prepend:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([l.raw.iso2.toLowerCase(),"vti__flag"])},null,2)]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(" +"+toDisplayString(l.raw.dialCode),1)]),_:2},1024)]),_:2},1040)]),_:1},16,["modelValue","items","onUpdate:modelValue","disabled"]),createVNode(VTextField,mergeProps({ref:e.makeReference("phoneInput"),type:"tel",class:"flex-grow-1 flex-shrink-0",modelValue:i.phone,"onUpdate:modelValue":a[1]||(a[1]=l=>i.phone=l)},e.boundProps,{onInput:n.onInput,onBlur:n.onBlur,onFocus:n.onFocus,onClick:n.onClick,onChange:n.onChange,onMousedown:n.onMouseDown,onMouseup:n.onMouseUp,onKeydown:n.onKeyDown,onKeyup:[withKeys(n.onEnter,["enter"]),withKeys(n.onSpace,["space"])],disabled:o.disabled}),null,16,["modelValue","onInput","onBlur","onFocus","onClick","onChange","onMousedown","onMouseup","onKeydown","onKeyup","disabled"])]),_:1},8,["class"])}const Phone=_export_sfc(_sfc_main$j,[["render",_sfc_render$g]]),__vite_glob_3_17=Object.freeze(Object.defineProperty({__proto__:null,default:Phone},Symbol.toStringTag,{value:"Module"})),_sfc_main$i={name:"ue-currency-number",props:{modelValue:Number,errorMessages:{type:Array,default:()=>[]}},setup(e,a){return{...useCurrencyNumber(e)}},created(){}};function _sfc_render$f(e,a,o,r,i,n){return openBlock(),createBlock(VTextField,mergeProps({ref:"inputRef",modelValue:e.formattedValue,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formattedValue=l)},{...e.$bindAttributes(e.$lodash.pick(e.$attrs,["label","error"]))},{errorMessages:o.errorMessages}),createSlots({_:2},[renderList(e.$slots,(l,s)=>({name:s,fn:withCtx(c=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(c)))])}))]),1040,["modelValue","errorMessages"])}const CurrencyNumber=_export_sfc(_sfc_main$i,[["render",_sfc_render$f]]),_sfc_main$h={name:"v-input-price",emits:[...makeInputEmits],components:{CurrencyNumber},props:{...makeInputProps(),modelValue:{type:[Array,Object],default(){return[{[this.priceInputName]:1,currency_id:1,vat_rate_id:1,price_type_id:1,raw_amount:1,discount_percentage:0}]}},priceInputName:{type:String},currencyInputName:{type:String,default:"currency_id"},numberMultiplier:{type:Number,default:100},items:{type:Array},vatRates:{type:Array,default:()=>[]},rules:{type:Array,default:()=>[]},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasDiscount:{type:Boolean,default:!1}},setup(e,a){const o=useInput(e,a),r=ref(Array.isArray(e.modelValue)?e.modelValue.map(c=>c):[e.modelValue]),i=ref(r.value.map(c=>[])),n=reactive(new Map);return{...o,deepModel:r,inputRefs:n,setInputRef:(c,u)=>{u?n.set(c,u):n.delete(c)},getInputRef:c=>n.get(c),errorMessages:i}},data(){return{}},methods:{changeCurrency(e,a){if(this.readonly)return;const o=this.currencies.findIndex(r=>r.id===this.modelValue[a][this.currencyInputName]);this.deepModel[a][this.currencyInputName]=o===this.totalCurrencies-1?this.currencies[0].id:this.currencies[o+1].id},updateNumberInput(e,a){this.deepModel[a][this.priceInputName]=e,this.$nextTick(()=>{try{let o=this.inputRefs.get(a);this.errorMessages[a]=o.errorMessages}catch(o){console.error(o)}})},updateVatRate(e,a){this.deepModel[a].vat_rate_id=e},updateModelValue(){this.$emit("update:modelValue",this.deepModel.map(e=>e))},displayFormattedPrice(e,a){var l;const o=((l=this.$lodash.find(this.vatRates,["value",a.vat_rate_id]))==null?void 0:l.rate)/100,r=(a.discount_percentage||0)/100,i=a[this.priceInputName],n=(Math.round(i*(1-r))*(1+o)).toFixed(2);try{return Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(n)}catch(s){console.log(s)}return e+" "+n}},watch:{modelValue:{deep:!0,handler(e,a){e?this.deepModel=Array.isArray(e)?e.map(o=>o):[e]:this.deepModel=[{[this.priceInputName]:1,currency_id:1}]}},deepModel:{deep:!0,handler(e){}}},computed:{currencies(){return this.items},displayedCurrency(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).name)},displayedCurrencyISO4217(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).iso)},totalCurrencies(){return this.currencies.length}},created(){}},_hoisted_1$c={class:"d-flex w-100 ga-2"},_hoisted_2$a={key:0,class:"w-100 d-flex justify-center"},_hoisted_3$9={class:"text-h2 text-white font-weight-bold"};function _sfc_render$e(e,a,o,r,i,n){const l=resolveComponent("CurrencyNumber");return openBlock(!0),createElementBlock(Fragment,null,renderList(r.deepModel,(s,c)=>(openBlock(),createElementBlock(Fragment,{key:`price-${c}`},[createBaseVNode("div",_hoisted_1$c,[createVNode(VInput,mergeProps({ref_for:!0,ref:u=>r.setInputRef(c,u),modelValue:r.deepModel[c][o.priceInputName],"onUpdate:modelValue":u=>r.deepModel[c][o.priceInputName]=u,class:"v-input-price"},{...e.$lodash.pick(e.$attrs,["error","errorMessages"])},{rules:o.rules,"hide-details":""}),{default:withCtx(u=>[createVNode(l,mergeProps({class:"flex-grow-1",ref_for:!0},{label:e.label,...e.$attrs},{name:`${e.$attrs.name}-${c}`,modelValue:r.deepModel[c][o.priceInputName],"onUpdate:modelValue":f=>n.updateNumberInput(f,c),readonly:o.readonly,errorMessages:r.errorMessages[c]}),{"append-inner":withCtx(({isActive:f,isFocused:p,controlRef:m,focus:g,blur:y})=>[createVNode(VChip,{onClick:h=>n.changeCurrency(h,c)},{default:withCtx(()=>[createTextVNode(toDisplayString(n.displayedCurrency[c]),1)]),_:2},1032,["onClick"])]),_:2},1040,["name","modelValue","onUpdate:modelValue","readonly","errorMessages"])]),details:withCtx(()=>[createTextVNode(toDisplayString(r.errorMessages[c]),1)]),_:2},1040,["modelValue","onUpdate:modelValue","rules"]),withDirectives(createVNode(VSelect,mergeProps({ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("VAT Rate"),items:o.vatRates,class:"flex-grow-0",modelValue:r.deepModel[c].vat_rate_id,"onUpdate:modelValue":u=>r.deepModel[c].vat_rate_id=u}),null,16,["label","items","modelValue","onUpdate:modelValue"]),[[vShow,o.vatRates.length>0]]),o.hasDiscount?(openBlock(),createBlock(VNumberInput,mergeProps({key:0,modelValue:r.deepModel[c].discount_percentage,"onUpdate:modelValue":u=>r.deepModel[c].discount_percentage=u,ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("Discount %"),"control-variant":"stacked",min:0,max:100,rules:[]}),null,16,["modelValue","onUpdate:modelValue","label"])):createCommentVNode("",!0)]),o.vatRates.length>0?(openBlock(),createElementBlock("div",_hoisted_2$a,[createVNode(VCard,{class:"w-75",color:"success",rounded:"lg",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center py-6"},{default:withCtx(()=>[a[0]||(a[0]=createBaseVNode("div",{class:"text-h6 text-white mb-2"},"Total Pay",-1)),createBaseVNode("div",_hoisted_3$9,toDisplayString(n.displayFormattedPrice(n.displayedCurrencyISO4217[c],r.deepModel[c])),1)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)],64))),128)}const Price=_export_sfc(_sfc_main$h,[["render",_sfc_render$e]]),__vite_glob_3_18=Object.freeze(Object.defineProperty({__proto__:null,default:Price},Symbol.toStringTag,{value:"Module"})),_sfc_main$g={name:"v-input-process",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),color:{type:String,default:"primary"},cardVariant:{type:String,default:"outlined"},process:{type:Object},processableTitle:{type:String,default:"name"},processableDetails:{type:Array,default:()=>[]},schema:{type:Object},formatters:{type:Object,default:()=>{}},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},processableEditableRoles:{type:[Array,Object],default:()=>["superadmin"]},processEditableRoles:{type:Array,default:()=>["superadmin"]},processableShowStatuses:{type:[Array,Object],default:()=>["*"]},actionRoles:{type:Object,default:()=>{}},displayColRatio:{type:Array,default:()=>[5,7]},historyColRatio:{type:Array,default:null},statusConfiguration:{type:Object,default:()=>{},value:()=>({preparing:{title:"Preparing",icon:"mdi-progress-clock",color:"secondary",card_color:"grey",card_variant:"outlined",next_action_label:"Preparing",next_action_color:"secondary",dialog_title:"Preparing",dialog_message:"The contents are being prepared or updated. Please check back later.",response_message:"The contents are being prepared or updated. Please check back later."}})},responseLocation:{type:String,default:"top"}},setup(e,a){var O;const{t:o}=useI18n(),r=useStore(),{hasRoles:i}=useAuthorization(),n=useDynamicModal(),c=useInput(e,{...a,initializeInput:x=>x,updateModelValue:x=>{a.emit("update:modelValue",x)}}),u=ref(e.process),f=ref(((O=e.process)==null?void 0:O.processable)??null),p=ref(!1),m=ref(!1),g=()=>{let x={},R=lodash.get(u.value,"processable",{});if(e.schema&&__isObject(e.schema)&&(x=e.schema,e.formatters&&__isObject(e.formatters))){for(const[j,T]of Object.entries(e.formatters))if(x[j])for(const[L,G]of Object.entries(T)){let K=G;__isString(G)&&(K=G.split(","));let[H,W]=K;if(__isset(R[H])){let Y=R[H];__isset(Y[W])&&(x[j][L]=Y[W])}}}return x},y=ref(!e.process),h=ref(!1),v=ref(null),C=ref(!1),b=ref(e.process?g():null),S=computed(()=>{var x;return((x=v.value)==null?void 0:x.validModel)??null}),k=()=>{b.value=g()},B=ref(""),w=ref(!1),N=(x,R,j)=>{n.open(null,{modalProps:{widthType:"md",description:R,title:x,confirmText:o("Yes"),cancelText:o("No"),confirmCallback:async()=>{await j()}}})},I=()=>{if(c.input.value>0&&!e.process){const x=e.fetchEndpoint.replace(":id",c.input.value);y.value=!0,axios.get(x).then(R=>{var j;y.value=!1,R.status===200&&(u.value=R.data,f.value=((j=u.value)==null?void 0:j.processable)??{},k(),nextTick().then(async()=>{v.value&&(await v.value.validate(),await v.value.VForm.resetValidation(),m.value=v.value.validModel)}))}).catch(R=>{}).finally(()=>{y.value=!1})}},F=async x=>{if(c.input.value){if(E.value&&(await v.value.validate(),!v.value.validModel)){r.commit(ALERT$1.SET_ALERT,{message:o("Please fill all the required fields"),variant:"error",location:"top",timeout:2e3});return}h.value=!0;const R=e.updateEndpoint.replace(":id",c.input.value),j={status:x,reason:B.value};axios.put(R,j).then(T=>{var L,G;if(T.status===200){w.value=!1,B.value="";let K=T.data.process_status,H=((G=(L=e.statusConfiguration)==null?void 0:L[K])==null?void 0:G.response_message)??T.data.message;r.commit(ALERT$1.SET_ALERT,{message:H,variant:T.data.variant,location:e.responseLocation}),I()}}).finally(()=>{h.value=!1})}},D=async x=>{var T,L;let R=o("Are you sure you want to update the process?"),j=o("This action cannot be undone.");e.statusConfiguration&&e.statusConfiguration[x]&&e.statusConfiguration[x].dialog_title?R=e.statusConfiguration[x].dialog_title:(T=u.value)!=null&&T.status_dialog_titles&&u.value.status_dialog_titles[x]&&(R=u.value.status_dialog_titles[x]),e.statusConfiguration&&e.statusConfiguration[x]&&e.statusConfiguration[x].dialog_message?j=e.statusConfiguration[x].dialog_message:(L=u.value)!=null&&L.status_dialog_messages&&u.value.status_dialog_messages[x]&&(j=u.value.status_dialog_messages[x]),N(R,j,()=>F(x))},M=x=>!e.actionRoles[x]||i(e.actionRoles[x]),P=()=>{var R;let x=e.processableEditableRoles;return __isString(x)&&x==="*"?["*"]:Array.isArray(x)&&x.includes("*")?["*"]:Array.isArray(x)?x:__isObject(x)?x[(R=u.value)==null?void 0:R.status]??[]:[]},E=computed(()=>{let x=P();return Array.isArray(x)&&x.includes("*")?!0:i(x)}),V=x=>{let R=e.processableShowStatuses;if(__isString(R)&&R==="*"||Array.isArray(R)&&R.includes("*"))return!0;if(!(x!=null&&x.status))return!1;const j=x.status;if(__isObject(R)){for(const[T,L]of Object.entries(R))if(j===T&&(__isString(L)&&L==="*"||Array.isArray(L)&&L.includes("*")||i(L)))return!0}else if(Array.isArray(R)&&R.includes(x==null?void 0:x.status))return!0;return!1},A=computed(()=>V(u.value)),$=computed(()=>{var x;return(x=u.value)!=null&&x.status?u.value.status_informational_message:o("The contents are being prepared or updated. Please check back later.")}),z=reactive({loading:y,updating:h,UeForm:v,formActive:C,formIsValid:S,processableModel:f,processValid:p,processableValid:m,hasProcessableEditing:E,showProcessableDetails:A,informationalMessage:$,reason:B,promptModalActive:w,title:computed(()=>{var x;return(x=u.value)!=null&&x.processable?lodash.get(u.value.processable,e.processableTitle,""):null}),flattenedProcessableDetails:computed(()=>{var j;const x=((j=u.value)==null?void 0:j.processable)??{};let R=[];for(const T of e.processableDetails)__isset(T.field)&&__isset(T.title)&&R.push({title:o(T.title),value:lodash.get(x,T.field,"")});return R}),bothFormAndProcessableValid:computed(()=>m.value&&S.value),onlyOneValid:computed(()=>m.value&&!S.value||!m.value&&S.value),status:computed(()=>{var j,T,L,G,K,H,W,Y,q,X,Q,Z,J,ee,ae,oe,ne,re,ie,le;const x={label:"",icon:"",color:"",card_color:"",card_variant:"outlined",next_action_label:"",next_action_color:"",dialog_title:"",dialog_message:"",response_message:null};if(!u.value)return x;let R=u.value;return x.label=((T=(j=e.statusConfiguration)==null?void 0:j[R.status])==null?void 0:T.title)??R.status_label,x.icon=((G=(L=e.statusConfiguration)==null?void 0:L[R.status])==null?void 0:G.icon)??R.status_icon,x.color=((H=(K=e.statusConfiguration)==null?void 0:K[R.status])==null?void 0:H.color)??R.status_color,x.card_color=((Y=(W=e.statusConfiguration)==null?void 0:W[R.status])==null?void 0:Y.card_color)??R.status_card_color??e.color,x.card_variant=((X=(q=e.statusConfiguration)==null?void 0:q[R.status])==null?void 0:X.card_variant)??R.status_card_variant??e.cardVariant,x.next_action_label=((Z=(Q=e.statusConfiguration)==null?void 0:Q[R.status])==null?void 0:Z.next_action_label)??R.next_action_label,x.next_action_color=((ee=(J=e.statusConfiguration)==null?void 0:J[R.status])==null?void 0:ee.next_action_color)??R.next_action_color,x.dialog_title=((oe=(ae=e.statusConfiguration)==null?void 0:ae[R.status])==null?void 0:oe.dialog_title)??R.status_dialog_title,x.dialog_message=((re=(ne=e.statusConfiguration)==null?void 0:ne[R.status])==null?void 0:re.dialog_message)??R.status_dialog_message,x.response_message=(le=(ie=e.statusConfiguration)==null?void 0:ie[R.status])==null?void 0:le.response_message,x})}),U=reactive({setSchema:k,canAction:M,fetchProcess:I,updateProcess:F,confirmUpdateProcess:D});return onMounted(()=>{I()}),{...c,...toRefs(z),formSchema:b,processModel:u,...toRefs(U)}},watch:{input:{handler(e,a){},immediate:!0},processableModel:{handler(e){e&&this.$nextTick(()=>{})},immediate:!0}},methods:{async updateProcessable(){if(this.input){let e={...this.$lodash.omit(this.UeForm.model,["id"])};const a=this.updateEndpoint.replace(":id",this.input),o=this;axios.put(a,e).then(r=>{r.data.variant==="success"&&(o.$store.commit(ALERT$1.SET_ALERT,{message:r.data.message,variant:r.data.variant}),o.$refs.formModal&&typeof o.$refs.formModal.close=="function"&&o.$refs.formModal.close(),o.fetchProcess())})}}}};function _sfc_render$d(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("v-btn-secondary"),c=resolveComponent("v-btn-primary"),u=resolveComponent("ue-modal"),f=resolveComponent("ue-list-section"),p=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",null,[r.formSchema&&e.processableModel?(openBlock(),createBlock(u,{key:0,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[3]||(a[3]=m=>e.formActive=m),scrollablex:"",transition:"dialog-bottom-transition","width-type":"md",full:"",eager:""},{body:withCtx(m=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(l,{ref:"UeForm",modelValue:e.processableModel,"onUpdate:modelValue":a[0]||(a[0]=g=>e.processableModel=g),schema:r.formSchema,title:e.title,style:normalizeStyle(m.isFullActive?"height: 90vh !important;":"height: 70vh !important;"),"is-editing":"","fill-height":"",scrollable:"","has-divider":""},null,8,["modelValue","schema","title","style"]),createVNode(VDivider,{class:"mx-6 mt-4"}),createVNode(VCardActions,{class:"px-6 flex-grow-0"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(s,{slim:!1,variant:"outlined",onClick:a[1]||(a[1]=g=>e.$refs.formModal.close())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1}),e.$store.getters.isSuperAdmin?(openBlock(),createBlock(s,{key:0,slim:!1,variant:"outlined",onClick:a[2]||(a[2]=g=>e.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Validate")),1)]),_:1})):createCommentVNode("",!0),createVNode(c,{slim:!1,variant:"elevated",onClick:n.updateProcessable,disabled:!e.formIsValid},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.save")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"])):createCommentVNode("",!0),createVNode(VCard,{color:e.status.card_color,variant:e.status.card_variant,class:"mb-4 w-100 h-100 d-flex flex-column"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-heading, list-item-three-line",class:"mb-4 w-100 h-100",style:{"min-height":"300px"}})):r.processModel?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VCardText,{class:"d-flex flex-column"},{default:withCtx(()=>{var m;return[createVNode(VRow,{"no-gutters":"",class:"pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"8",xl:"9",class:"text-h5 font-weight-medium text-wrap"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"4",xl:"3",class:"d-flex justify-sm-end"},{default:withCtx(()=>[createVNode(VChip,{"prepend-icon":e.status.icon,color:e.status.color,class:"text-subtitle-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.status.label),1)]),_:1},8,["prepend-icon","color"])]),_:1})]),_:1}),createVNode(VSpacer,{class:"flex-grow-0"}),e.hasProcessableEditing?(openBlock(),createBlock(VRow,{key:0},{default:withCtx(()=>[r.formSchema&&e.processableModel?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VBtn,{ref:"editButton",colorx:"primary",density:"compact",variant:e.bothFormAndProcessableValid?"outlined":"elevated",elevation:e.bothFormAndProcessableValid?null:10,color:e.bothFormAndProcessableValid?"success":e.onlyOneValid?"warning":"secondary","prepend-icon":e.bothFormAndProcessableValid?"mdi-check-circle-outline":e.onlyOneValid?"mdi-progress-question":"mdi-gesture-tap",onClick:a[4]||(a[4]=g=>e.$log("edit",e.$refs.formModal.open())),class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.bothFormAndProcessableValid?e.$t("Edit"):e.onlyOneValid?e.$t("Complete"):e.$t("Fill")),1)]),_:1},8,["variant","elevation","color","prepend-icon"])]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.flattenedProcessableDetails.length>0?(openBlock(),createBlock(f,{key:1,items:e.flattenedProcessableDetails,"item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"col-ratios":[5,7]},null,8,["items"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(r.formSchema,g=>{var y;return openBlock(),createBlock(f,{key:g.name,items:[{title:g.label??e.$t("Unknown"),value:(y=e.processableModel)==null?void 0:y[g.name]}],"col-element":"div","item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"item-classes":"text-body-2","col-ratios":o.displayColRatio,"vertical-align-top":""},{"field.1":withCtx(h=>[g.type==="input-filepond"?(openBlock(),createBlock(p,{key:0,source:h.value,"show-inline-file-name":"","image-size":"24",style:{width:"155px"}},null,8,["source"])):g.type==="text"&&g.ext==="date"||g.type==="date-input"?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(h.value?e.$d(h.value,"numeric"):""),1)],64)):(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(h.value),1)],64))]),_:2},1032,["items","col-ratios"])}),128)):createCommentVNode("",!0),r.processModel.last_history&&r.processModel.last_history.reason?(openBlock(),createBlock(f,{key:3,items:[{title:r.processModel.status_reason_label,value:r.processModel.last_history.reason}],"item-fields":["title","value"],"col-classes":["font-weight-bold text-wrap","d-flex justify-start"],"col-ratios":o.historyColRatio??o.displayColRatio},null,8,["items","col-ratios"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?createCommentVNode("",!0):(openBlock(),createBlock(VAlert,{key:4,type:"info",variant:"tonal",color:((m=r.processModel)==null?void 0:m.status_card_color)??o.color,class:"my-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.informationalMessage),1)]),_:1},8,["color"]))]}),_:1}),createVNode(VSpacer),e.$hasRoles(o.processEditableRoles)?(openBlock(),createBlock(VCardActions,{key:0,class:"px-4"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[r.processModel&&r.processModel.status?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[r.processModel.status.match(/waiting_for_confirmation|waiting_for_reaction/)&&e.canAction(r.processModel.status)?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(u,{ref:"promptModal",modelValue:e.promptModalActive,"onUpdate:modelValue":a[8]||(a[8]=m=>e.promptModalActive=m),"width-type":"sm",transition:"dialog-bottom-transition"},{activator:withCtx(({props:m})=>[createVNode(VBtn,mergeProps({color:"error",variant:"outlined",class:"mr-2"},m),{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[11]||(a[11]=[createTextVNode("mdi-close")])),_:1})]),_:2},1040)]),body:withCtx(m=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VTextarea,{modelValue:e.reason,"onUpdate:modelValue":a[5]||(a[5]=g=>e.reason=g),variant:"outlined",label:"Reason"},null,8,["modelValue"])]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{slim:!1,color:"grey",variant:"outlined",disabled:e.updating,onClick:a[6]||(a[6]=g=>e.promptModalActive=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1},8,["disabled"]),createVNode(VBtn,{color:"error",slim:!1,variant:"elevated",disabled:!e.reason,loading:e.updating,onClick:a[7]||(a[7]=g=>e.updateProcess("rejected"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Reject")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VBtn,{color:"success",variant:"elevated",loading:e.updating,onClick:a[9]||(a[9]=m=>e.confirmUpdateProcess("confirmed"))},{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("mdi-check")])),_:1})]),_:1},8,["loading"])],64)):e.canAction(r.processModel.status)?(openBlock(),createBlock(VBtn,{key:1,color:e.status.next_action_color,variant:"elevated",loading:e.updating,disabled:r.processModel.status==="preparing"&&!e.bothFormAndProcessableValid,onClick:a[10]||(a[10]=m=>e.confirmUpdateProcess(r.processModel.status==="preparing"?"waiting_for_confirmation":"waiting_for_reaction"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.status.next_action_label),1)]),_:1},8,["color","loading","disabled"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),_:1},8,["color","variant"])])}const Process=_export_sfc(_sfc_main$g,[["render",_sfc_render$d]]),__vite_glob_3_19=Object.freeze(Object.defineProperty({__proto__:null,default:Process},Symbol.toStringTag,{value:"Module"})),_hoisted_1$b=["innerHTML"],_sfc_main$f={__name:"RadioGroup",props:{...makeInputProps(),items:{type:Object,default:()=>[]},itemTitle:{type:String,default:"name"},itemValue:{type:String,default:"id"},descriptionTitle:{type:String,default:"description"},color:{type:String,default:"primary"},maxWidth:{type:[String,Number],default:null},minWidth:{type:[String,Number],default:null},isCentered:{type:Boolean,default:!1}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,r=a,i=l=>l,{input:n}=useInput(o,{emit:r,initializeInput:i});return(l,s)=>{const c=resolveComponent("ue-title");return openBlock(),createBlock(VRadioGroup,{modelValue:unref(n),"onUpdate:modelValue":s[0]||(s[0]=u=>isRef(n)?n.value=u:null),direction:"horizontal",class:"v-input-radio-group","hide-details":""},{default:withCtx(()=>[l.label?(openBlock(),createBlock(c,{key:0,text:l.label,color:"grey-darken-5",padding:"b-4",margin:"b-0",transform:"none"},null,8,["text"])):createCommentVNode("",!0),createVNode(VRow,{class:normalizeClass([l.$vuetify.display.mdAndUp&&e.isCentered?"me-auto ms-auto":""]),style:normalizeStyle({...l.$vuetify.display.mobile?{}:{maxWidth:e.maxWidth,minWidth:e.minWidth}})},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(u,f)=>(openBlock(),createBlock(VCol,{key:`col-${u[e.itemValue]}`,cols:12,md:6},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-radio-group__btn",color:e.color,variant:unref(n)==u[e.itemValue]?"elevated":"outlined",disabled:l.$attrs.disabled??!1,readonly:l.protectInitialValue,onClick:p=>n.value=u[e.itemValue]},{prepend:withCtx(()=>[createVNode(VRadio,{value:u[e.itemValue],disabled:l.$attrs.disabled??!1},null,8,["value","disabled"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(u[e.itemTitle].toUpperCase()),1)]),_:2},1032,["color","variant","disabled","readonly","onClick"]),u[e.descriptionTitle]?(openBlock(),createElementBlock("div",{key:0,class:"text-caption pa-2",innerHTML:u[e.descriptionTitle]},null,8,_hoisted_1$b)):createCommentVNode("",!0)]),_:2},1024))),128))]),_:1},8,["class","style"])]),_:1},8,["modelValue"])}}},__vite_glob_3_20=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$f},Symbol.toStringTag,{value:"Module"})),_sfc_main$e={name:"v-input-repeater",emits:[...makeInputEmits],components:{Draggable},props:{...makeDraggableProps(),...makeRepeaterProps(),noToolbar:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1}},setup(e,a){return{...useDraggable(e),...useRepeater(e,a)}},data(){return{isOpen:!0}},computed:{},methods:{},watch:{},created(){}},_hoisted_1$a={class:"w-100"},_hoisted_2$9={key:0,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_3$8={key:0,class:"d-flex"},_hoisted_4$6={class:"d-flex flex-column"},_hoisted_5$6={class:"mt-4"},_hoisted_6$6={key:1,class:normalizeClass(["v-input-repeater__block v-input-repeater__block--draggable"])},_hoisted_7$4={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_8$3={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_9$3={key:3,class:"v-input-repeater__bottom mb-12"},_hoisted_10$3={class:"d-flex"},_hoisted_11$2={class:"ml-auto"};function _sfc_render$c(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-recursive-stuff"),c=resolveComponent("v-custom-form-base"),u=resolveComponent("Draggable"),f=resolveComponent("ue-collapsible");return openBlock(),createBlock(VInput,{class:normalizeClass(["v-input-repeater",e.totalRepeats===0&&e.hideIfEmpty?"d-none":""])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$a,[e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_2$9,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:50,width:6})])):createCommentVNode("",!0),createVNode(f,{modelValue:i.isOpen,"onUpdate:modelValue":a[3]||(a[3]=p=>i.isOpen=p),"no-collapse":!o.collapsible,"no-header-background":"","horizontal-padding":0,"vertical-padding":0,class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":"")},createSlots({default:withCtx(()=>[createBaseVNode("div",_hoisted_5$6,[!e.noHeaders&&e.hasRepeaterModels?(openBlock(),createBlock(VRow,{key:0,class:"mb-4","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headers,p=>(openBlock(),createBlock(VCol,mergeProps({key:p.title,ref_for:!0},p.col),{default:withCtx(()=>[createTextVNode(toDisplayString(p.title),1)]),_:2},1040))),128))]),_:1})):createCommentVNode("",!0),e.draggable?(openBlock(),createElementBlock("div",_hoisted_6$6,[createVNode(u,mergeProps({class:"v-input-repeater__content",modelValue:e.repeaterModels,"onUpdate:modelValue":a[1]||(a[1]=p=>e.repeaterModels=p),"item-key":"id"},e.dragOptions),{item:withCtx(p=>[createBaseVNode("div",null,[createVNode(VHover,null,{default:withCtx(({isHovering:m,props:g})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",m?"active":"",e.draggable?"draggable":""]},g),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$4,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[0]||(a[0]=y=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:y=>e.duplicateRepeaterBlock(p.index),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:y=>e.deleteRepeaterBlock(p.index),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(c,{id:`ue-repeater-form-${p.index}`,modelValue:p.element,schema:e.repeaterSchemas[p.index],row:e.formRowAttribute,"onUpdate:schema":y=>e.onUpdateRepeaterSchema(y,p.index),"onUpdate:modelValue":y=>e.onUpdateRepeaterModel(y,p.index)},createSlots({_:2},[renderList(e.selectFieldSlots[p.index],(y,h)=>({name:`slot-inject-${y.name}-key-ue-repeater-form-${p.index}-${y.inputName}`,fn:withCtx(v=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.context.elements,(C,b)=>(openBlock(),createBlock(s,{key:b,configuration:C,bindData:v},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:schema","onUpdate:modelValue"])],2)],16)]),_:2},1024)])]),_:1},16,["modelValue"])])):(openBlock(),createBlock(VRow,mergeProps({key:2,class:"v-input-repeater__block"},e.rowAttribute),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.repeaterModels,(p,m)=>(openBlock(),createBlock(VCol,mergeProps({key:p.id,ref_for:!0},e.$lodash.pick(e.formCol,["cols","xs","sm","md","lg","xl"])),{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:g,props:y})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",g?"active":"",e.draggable?"draggable":""],ref_for:!0},y),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_8$3,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[2]||(a[2]=h=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:h=>e.duplicateRepeaterBlock(m),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:h=>e.deleteRepeaterBlock(m),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(c,{id:`ue-repeater-form-${m}`,class:"w-100 h-100",modelValue:p,schema:e.repeaterSchemas[m],row:e.formRowAttribute,"onUpdate:modelValue":h=>e.onUpdateRepeaterModel(h,m),"onUpdate:schema":h=>e.onUpdateRepeaterSchema(h,m)},createSlots({_:2},[renderList(e.selectFieldSlots[m],(h,v)=>({name:`slot-inject-${h.name}-key-ue-repeater-form-${m}-${h.inputName}`,fn:withCtx(C=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(h.context.elements,(b,S)=>(openBlock(),createBlock(s,{key:S,configuration:b,bindData:C},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:modelValue","onUpdate:schema"])],2)],16)]),_:2},1024)]),_:2},1040))),128))]),_:1},16)),!e.noAddButton||e.$slots.addButton||e.$slots.addButtonRight?(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",_hoisted_10$3,[renderSlot(e.$slots,"addButton",normalizeProps(guardReactiveProps({text:e.addButtonContent,addRepeaterBlock:e.addRepeaterBlock,isActive:e.addButtonIsActive})),()=>[!e.noAddButton&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"",disabled:!e.addButtonIsActive,onClick:e.addRepeaterBlock,appendIcon:"$add"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addButtonContent),1)]),_:1},8,["disabled","onClick"])):createCommentVNode("",!0)],!0),createBaseVNode("div",_hoisted_11$2,[renderSlot(e.$slots,"addButtonRight",normalizeProps(guardReactiveProps({})),void 0,!0)])])])):createCommentVNode("",!0)])]),_:2},[(e.label||e.subtitle||e.$slots.title||e.$slots.append)&&!(!e.noHeaders&&e.hasRepeaterModels)?{name:"title",fn:withCtx(()=>[(e.label||e.subtitle)&&(e.schema.length||Object.keys(e.schema).length)||e.$slots.append?(openBlock(),createElementBlock("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$6,[e.label&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(l,{key:0,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label),1)]),_:1})):createCommentVNode("",!0),e.subtitle&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(l,{key:1,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.subtitle),1)]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"append",{},void 0,!0)])):createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["modelValue","no-collapse","class"])])]),_:3},8,["class"])}const Repeater=_export_sfc(_sfc_main$e,[["render",_sfc_render$c],["__scopeId","data-v-566f0edc"]]),__vite_glob_3_21=Object.freeze(Object.defineProperty({__proto__:null,default:Repeater},Symbol.toStringTag,{value:"Module"})),_sfc_main$d={name:"v-input-select-scroll",emits:[...makeInputEmits],props:{...makeInputProps(),...makeInputFetchProps(),rules:{type:Array,default:()=>[]},componentType:{type:String,default:"v-autocomplete"}},setup(e,a){const o=useInput(e,a),r=useInputFetch(e,{...a,input:o.input});return{...o,...r}},data(){return{noFilter:this.activeLastPage>0&&this.activeLastPage>=this.nextPage}},methods:{handleIntersect(e,a,o){e&&this.getItemsFromApi()},makeReference(e){return`${e}-${states.id}`}},computed:{},created(){this.getItemsFromApi()},watch:{}},_hoisted_1$9={key:0};function _sfc_render$b(e,a,o,r,i,n){return openBlock(),createBlock(resolveDynamicComponent(o.componentType),mergeProps(e.$bindAttributes(),{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=l=>e.input=l),class:["v-input-select-scroll"],items:e.elements,label:e.label,"onUpdate:search":e.searched,onInput:e.getItemsFromApi,multiple:e.multiple,"return-object":e.$attrs.returnObject??e.returnObject??!1,"item-value":e.itemValue,"item-title":e.itemTitle,loading:e.loading,readonly:e.$attrs.readonly||e.readonly||e.elements.length===0,"hide-no-data":e.loading,"no-filter":i.noFilter,rules:o.rules}),createSlots({"append-item":withCtx(()=>[e.activeLastPage>0&&e.activeLastPage>=e.nextPage?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$9,null,512)),[[Intersect,n.handleIntersect]]):createCommentVNode("",!0)]),_:2},[renderList(e.$slots,(l,s)=>({name:s,fn:withCtx(c=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(c)))])}))]),1040,["modelValue","items","label","onUpdate:search","onInput","multiple","return-object","item-value","item-title","loading","readonly","hide-no-data","no-filter","rules"])}const SelectScroll=_export_sfc(_sfc_main$d,[["render",_sfc_render$b]]),__vite_glob_3_22=Object.freeze(Object.defineProperty({__proto__:null,default:SelectScroll},Symbol.toStringTag,{value:"Module"})),_sfc_main$c={name:"v-select-tag",emits:[...makeInputEmits],props:{...makeInputProps(),endpoint:{type:String},selected:{type:Array}},setup(e,a){return{...useInput(e,a)}},data(){return{value:this.selected,elements:[],page:1,lastPage:-1,customElement:null,selectedItems:[]}},methods:{getItemsFromApi(e){return new Promise(()=>{this.$axios.get(this.fullUrl).then(a=>{if(this.lastPage<0&&(this.lastPage=a.data.resource.last_page),this.search==""?this.elements=this.elements.concat(a.data.resource.data??[]):this.elements=a.data.resource.data??[],this.page++,this.input){let o=!1,r=this;this.input&&this.input.length>0&&!r.elements.find(i=>i.id==this.input)&&(o=!0),o&&this.getItemsFromApi()}})})},makeReference(e){return`${e}-${states.id}`},handleUpdateModelValue(e){this.value=e,this.updateModelValue(e.toString()),document.getElementById("tags-form-input").value=e.toString(),this.$emit("change",e.toString())},handleSearch(e){if(!e)return;if(!e.trim()){if(this.customElement!==null&&!this.selectedItems.includes(this.customElement)){const i=this.elements.indexOf(this.customElement);i!==-1&&this.elements.splice(i,1),this.customElement=null}return}const a=Array.isArray(this.elements)?this.elements:Array.from(this.elements),o=e.toLowerCase();if(!a.some(i=>typeof i=="string"&&i.toLowerCase()===o)){if(this.customElement!==null){const i=this.elements.indexOf(this.customElement);i!==-1&&this.elements.splice(i,1,e)}else this.elements.push(e);this.customElement=e}}},computed:{input:{get(){return Array.isArray(this.value)&&this.value.length>0?typeof this.value[0]=="object"?this.value.map(e=>e.value):this.value:[]},set(e){this.handleUpdateModelValue(e)}},filteredElements(){return this.elements.filter(e=>!this.input.includes(e.id))},queryParameters(){return new URLSearchParams({page:this.page}).toString()},fullUrl(){return`${this.endpoint}?${this.queryParameters}`}},created(){this.getItemsFromApi()},watch:{selected:{handler(e){this.value=e||[]},immediate:!0}}};function _sfc_render$a(e,a,o,r,i,n){return openBlock(),createElementBlock("div",null,[createVNode(VAutocomplete,mergeProps(e.$bindAttributes(),{modelValue:n.input,"onUpdate:modelValue":[a[0]||(a[0]=l=>n.input=l),n.handleUpdateModelValue],variant:"outlined",clearable:"","closable-chips":"",chips:"","clear-on-select":"",label:e.label,items:n.filteredElements,multiple:"","onUpdate:search":n.handleSearch,onChange:n.input}),null,16,["modelValue","label","items","onUpdate:modelValue","onUpdate:search","onChange"]),createVNode(VTextField,{type:"hidden",hidden:"",name:"tags",id:"tags-form-input"})])}const SelectTag=_export_sfc(_sfc_main$c,[["render",_sfc_render$a]]),__vite_glob_3_23=Object.freeze(Object.defineProperty({__proto__:null,default:SelectTag},Symbol.toStringTag,{value:"Module"})),_hoisted_1$8={class:"meta-editor"},_hoisted_2$8=["height"],_hoisted_3$7={class:"px-2"},_hoisted_4$5={class:"px-2"},_hoisted_5$5={class:"px-2"},_hoisted_6$5={class:"px-2"},_sfc_main$b={__name:"Spread",props:{...makeInputProps(),reservedKeys:{type:[Object,Array,Proxy],default:()=>({})},scrollable:{type:Boolean,default:!1},height:{type:String,default:"300px"}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,i=useInput(o,{emit:a}),n=computed({get:()=>i.input.value,set:D=>{i.updateModelValue.value(D)}}),l=["string","number","boolean"],s=ref([]),c=ref({}),u=ref(!1),f=computed(()=>s.value.some(D=>D.keyError)),p=(D,M)=>{const P=s.value[M];return(Array.isArray(o.reservedKeys)?o.reservedKeys.includes(D):D in o.reservedKeys)?(P.keyError=!0,P.keyErrorMessage="This key is reserved",!1):(P.keyError=!1,P.keyErrorMessage="",!0)};onMounted(()=>{o.modelValue&&(c.value=lodash.cloneDeep(o.modelValue),g(o.modelValue))}),watch$1(()=>o.modelValue,D=>{(!c.value||Object.keys(c.value).length===0)&&(c.value=lodash.cloneDeep(D||{}),g(D||{}))},{deep:!0});const m=()=>{s.value=s.value.filter(D=>Array.isArray(o.reservedKeys)?!o.reservedKeys.includes(D.key):!(D.key in o.reservedKeys)),n.value=N(),w()},g=D=>{s.value=Object.entries(D||{}).map(([M,P])=>({key:M,tempKey:M,currentValue:P,initialValue:P,originalValue:P,currentType:y(P),initialType:y(P),originalType:y(P),saved:!0,valueBeforeTypeChange:P,keyError:!1,keyErrorMessage:""})),m(),w()},y=D=>typeof D=="boolean"?"boolean":typeof D=="number"?"number":"string",h=D=>{const M=s.value[D];M.saved=!1,w()},v=D=>{const M=s.value[D];M.tempKey!==M.key&&(M.key=M.tempKey,p(M.key,D),n.value=N())},C=D=>{const M=s.value[D];M.saved=!1,M.currentType==="number"?M.currentValue=Number(M.currentValue)||0:M.currentType==="boolean"&&typeof M.currentValue=="string"&&(M.currentValue=M.currentValue.toLowerCase()==="true"||M.currentValue==="1"),M.savedValues?M.savedValues[M.currentType]=M.currentValue:M.savedValues={[M.currentType]:M.currentValue};const P=N();n.value=P,w()},b=D=>{const M=s.value[D],E=(l.indexOf(M.currentType)+1)%l.length,V=l[E];M.currentType===M.originalType&&!M.valueBeforeTypeChange&&(M.valueBeforeTypeChange=M.currentValue),V===M.originalType?(M.currentType=M.originalType,M.currentValue=M.originalValue):(M.currentType=V,M.currentValue=S(M.originalValue,V,M.originalType,M.originalValue)),M.saved=!1,w(),n.value=N()},S=(D,M,P=null,E=null)=>{if(P&&M===P&&E!==null)return E;switch(M){case"number":return Number(D)||0;case"boolean":return typeof D=="string"?D.toLowerCase()==="true"||D==="1":typeof D=="number"?D!==0:!!D;case"string":return typeof D=="boolean"?D?"true":"false":String(D);default:return String(D)}},k=D=>{s.value.splice(D,1),w(),n.value=N()},B=()=>{const D=`key_${s.value.length+1}`;s.value.push({key:D,tempKey:D,currentValue:"",initialValue:"",currentType:"string",initialType:"string",originalType:"string",saved:!1,valueBeforeTypeChange:"",keyError:!1,keyErrorMessage:""}),w(),n.value=N()},w=()=>{const D=N();u.value=!lodash.isEqual(D,c.value)},N=()=>{const D={};return s.value.forEach(M=>{if(M.key&&M.currentValue!==void 0){let P=M.currentValue;switch(M.currentType){case"number":P=Number(M.currentValue)||0;break;case"boolean":typeof M.currentValue=="string"?P=M.currentValue.toLowerCase()==="true"||M.currentValue==="1":typeof M.currentValue=="number"?P=M.currentValue!==0:P=!!M.currentValue;break;case"string":P=String(M.currentValue);break}D[M.key]=P}}),D},I=()=>{const D=N();c.value=lodash.cloneDeep(D),s.value.forEach(M=>{M.initialValue=M.currentValue,M.initialType=M.currentType,M.valueBeforeTypeChange=M.currentValue,M.saved=!0}),n.value=D,u.value=!1},F=D=>{switch(D){case"number":return"primary";case"boolean":return"success";default:return"default"}};return(D,M)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createVNode(VRow,{"no-gutters":"",class:"header-row py-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>M[0]||(M[0]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Key",-1)])),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>M[1]||(M[1]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Value",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>M[2]||(M[2]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Type",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>M[3]||(M[3]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Actions",-1)])),_:1})]),_:1}),createBaseVNode("div",{class:normalizeClass(["data-rows",["data-rows",{scrollable:e.scrollable}]]),height:e.height},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(P,E)=>(openBlock(),createBlock(VRow,{key:P.key+E,"no-gutters":"",class:"data-row py-1"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$7,[createVNode(VTextField,{modelValue:P.tempKey,"onUpdate:modelValue":V=>P.tempKey=V,onInput:V=>h(E),onBlur:V=>v(E),variant:"outlined",density:"compact","bg-color":"surface",error:P.keyError,"error-messages":P.keyErrorMessage,"hide-details":"auto",class:"meta-field"},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur","error","error-messages"])])]),_:2},1024),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$5,[P.currentType==="boolean"?(openBlock(),createBlock(VSelect,{key:0,modelValue:P.currentValue,"onUpdate:modelValue":V=>P.currentValue=V,items:[{text:"true",value:!0},{text:"false",value:!1}],"item-title":"text","item-value":"value",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:V=>C(E)},null,8,["modelValue","onUpdate:modelValue","onInput"])):(openBlock(),createBlock(VTextField,{key:1,modelValue:P.currentValue,"onUpdate:modelValue":V=>P.currentValue=V,type:P.currentType==="number"?"number":"text",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:V=>C(E)},null,8,["modelValue","onUpdate:modelValue","type","onInput"]))])]),_:2},1024),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$5,[createVNode(VBtn,{class:"type-toggle-btn",variant:"outlined",onClick:V=>b(E),color:F(P.currentType),density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(P.currentType.toUpperCase()),1)]),_:2},1032,["onClick","color"])])]),_:2},1024),createVNode(VCol,{cols:"2",class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$5,[createVNode(VBtn,{color:"error",variant:"text",onClick:V=>k(E),density:"compact",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>M[4]||(M[4]=[createTextVNode("mdi-trash-can-outline")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))],10,_hoisted_2$8),createVNode(VRow,{"no-gutters":"",class:"mt-4 px-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"auto",class:"mr-2"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:B},{default:withCtx(()=>M[5]||(M[5]=[createTextVNode(" Add row ")])),_:1})]),_:1}),createVNode(VCol,{cols:"auto"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",disabled:!u.value||f.value,onClick:I,"prepend-icon":"mdi-content-save"},{default:withCtx(()=>M[6]||(M[6]=[createTextVNode(" Save All ")])),_:1},8,["disabled"])]),_:1})]),_:1})]))}},__vite_glob_3_24=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$b},Symbol.toStringTag,{value:"Module"})),_sfc_main$a={name:"v-input-tag",emits:[...makeInputEmits],props:{...makeInputProps(),taggable:{type:String,default:null},items:{type:Array,default:[]},multiple:{type:Boolean,default:!1},endpoint:{type:String,required:null},updateEndpoint:{type:String,required:null},itemValue:{type:String,default:"value"},itemTitle:{type:String,default:"label"}},setup(e,a){const o=useStore(),r=ref(!1);o.state.form.taggableItems[e.taggable]||o.commit(FORM.SET_TAGGABLE_ITEMS,{taggable_type:e.taggable,items:e.items??[]});const i=computed(()=>o.state.form.taggableItems[e.taggable]);return{...useInput(e,a),loading:r,items:i}},methods:{async handleEnter(){const e=this.input;if(!Array.isArray(e)&&!(!e||this.items.includes(e))&&!(!e||this.items.find(a=>a[this.itemValue]===e||a[this.itemTitle]===e)))try{this.loading=!0;let a=this;api$1.put(this.updateEndpoint,{value:e,taggable:this.taggable},function(o){o.status===200&&a.$store.commit(FORM.ADD_TAGGABLE_ITEM,{taggable_type:a.taggable,item:{[a.itemValue]:o.data.id,[a.itemTitle]:e}})});return}catch(a){console.error("Error creating new item:",a)}finally{this.loading=!1}}}};function _sfc_render$9(e,a,o,r,i,n){return openBlock(),createBlock(VCombobox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=l=>e.input=l),items:r.items,loading:r.loading,"item-value":o.itemValue,"item-title":o.itemTitle,multiple:o.multiple,"onUpdatex:search":e.handleSearch,onKeydown:withKeys(n.handleEnter,["enter"]),class:"v-input-tag"},null,8,["modelValue","items","loading","item-value","item-title","multiple","onUpdatex:search","onKeydown"])}const Tag=_export_sfc(_sfc_main$a,[["render",_sfc_render$9]]),__vite_glob_3_25=Object.freeze(Object.defineProperty({__proto__:null,default:Tag},Symbol.toStringTag,{value:"Module"})),_sfc_main$9={name:"v-input-tagger",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),items:{type:Array},multiple:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},colors:{type:Array,default:()=>["green","purple","indigo","cyan","teal","orange"]},returnItemValue:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data:function(){return{editingItem:null,nonce:1,search:null,model:[]}},computed:{handleKey(){return this.returnItemValue?this.itemValue:this.itemTitle}},watch:{model(e,a){if(e.length===a.length)return;this.model=e.map(r=>(typeof r=="string"&&(r={[this.itemTitle]:r,[this.itemValue]:r,color:this.colors[this.nonce%this.colors.length]},this.items.push(r),this.nonce++),r));let o=this.model.map(r=>r[this.handleKey]);o!==this.input&&(this.input=o)}},methods:{edit(e){this.editingItem?this.editingItem=null:this.editingItem=e},filter(e,a,o){const r=c=>String(c??"").toLowerCase(),i=r(a),l=this.items.filter(c=>!this.model.includes(c)).some(c=>!c.header&&r(c[this.itemTitle]).includes(i));return o.raw.header?!l:r(o.raw[this.itemTitle]).includes(i)},removeSelection(e){this.model=[...this.model.slice(0,e),...this.model.slice(e+1)]}},mounted(){this.model=this.items.reduce((e,a)=>(a.header||this.input.includes(a[this.handleKey])&&e.push(a),e),[])},created(){}};function _sfc_render$8(e,a,o,r,i,n){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=l=>e.input=l),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-tagger"},{default:withCtx(l=>[createVNode(VCombobox,mergeProps(e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{label:e.label,"hide-selected":"",items:o.items,loading:o.loading,multiple:o.multiple,itemValue:o.itemValue,itemTitle:o.itemTitle,modelValue:e.model,"onUpdate:modelValue":a[3]||(a[3]=s=>e.model=s),search:e.search,"onUpdate:search":a[4]||(a[4]=s=>e.search=s),"custom-filter":n.filter}),{selection:withCtx(({item:s,index:c})=>[s===Object(s)?(openBlock(),createBlock(VChip,{key:0,color:`${s.raw.color}-lighten-3`,text:s.title,size:"small",variant:"flat",closable:"",label:"","onClick:close":u=>n.removeSelection(c)},null,8,["color","text","onClick:close"])):createCommentVNode("",!0)]),item:withCtx(({props:s,item:c})=>[c.raw.header&&e.search?(openBlock(),createBlock(VListItem,{key:0},{default:withCtx(()=>[a[6]||(a[6]=createBaseVNode("span",{class:"mr-3"},"Create",-1)),createVNode(VChip,{color:`${o.colors[e.nonce-1]}-lighten-3`,size:"small",variant:"flat",label:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.search),1)]),_:1},8,["color"])]),_:1})):c.raw.header?(openBlock(),createBlock(VListSubheader,{key:1,title:s.title},null,8,["title"])):(openBlock(),createBlock(VListItem,{key:2,onClick:s.onClick},{append:withCtx(()=>[createVNode(VBtn,{color:e.editingItem!==c.raw?"primary":"success",icon:e.editingItem!==c.raw?"mdi-pencil":"mdi-check",size:"small",variant:"text",onClick:withModifiers(u=>n.edit(c.raw),["stop","prevent"])},null,8,["color","icon","onClick"])]),default:withCtx(()=>[e.editingItem===c.raw?(openBlock(),createBlock(VTextField,{key:0,modelValue:e.editingItem[o.itemTitle],"onUpdate:modelValue":a[0]||(a[0]=u=>e.editingItem[o.itemTitle]=u),"bg-color":"transparent",class:"mr-3",density:"compact",variant:"plain",autofocus:"","hide-details":"",onClick:a[1]||(a[1]=withModifiers(()=>{},["stop"])),onKeydown:a[2]||(a[2]=withModifiers(()=>{},["stop"])),onKeyup:withKeys(u=>n.edit(c.raw),["enter"])},null,8,["modelValue","onKeyup"])):(openBlock(),createBlock(VChip,{key:1,color:`${c.raw.color}-lighten-3`,text:s.title,variant:"flat",label:""},null,8,["color","text"]))]),_:2},1032,["onClick"]))]),_:1},16,["label","items","loading","multiple","itemValue","itemTitle","modelValue","search","custom-filter"])]),_:1},8,["modelValue","variant"])}const Tagger=_export_sfc(_sfc_main$9,[["render",_sfc_render$8]]),__vite_glob_3_26=Object.freeze(Object.defineProperty({__proto__:null,default:Tagger},Symbol.toStringTag,{value:"Module"})),_sfc_main$8={name:"v-input-terms-checkbox",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),label:{type:String,default:"I agree to the terms and conditions"},terms:{type:String,default(){const{t:e}=useI18n();return e("authentication.terms-policy")}},conditions:{type:String,default(){const{t:e}=useI18n();return e("authentication.conditions-policy")}},trueValue:{type:[Boolean,String,Number],default:1},falseValue:{type:[Boolean,String,Number],default:0},noCheckbox:{type:Boolean,default:!1},noHandleClick:{type:Boolean,default:!1}},setup(e,a){const o=ref(!1);return{...useInput(e,{...a,initializeInput:r=>r===e.trueValue?e.trueValue:e.falseValue}),showDialog:o}},data:function(){return{showDialog:!1,isRead:!1,readType:null,count:0}},computed:{checkboxRules(){return[e=>this.count<2||!!e||"You must agree to continue!"]},modalContent(){return this.readType==="terms"?this.terms:this.conditions}},methods:{agreeAndClose(){this.isRead=!0,this.showDialog=!1,this.input=this.trueValue},handleReadTerms(e){this.isRead=!0,this.showDialog=!0,this.readType=e},handleCheckboxClick(){this.noHandleClick||(this.isRead?this.showDialog||(this.count++,this.input=this.input===this.trueValue?this.falseValue:this.trueValue):(this.readType??(this.readType="terms"),this.showDialog=!0,this.isRead=!0))}}},_hoisted_1$7={class:"text-grey-lighten-2"},_hoisted_2$7={class:"d-flex flex-column align-center justify-center"},_hoisted_3$6=["innerHTML"];function _sfc_render$7(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-modal");return openBlock(),createBlock(VCheckbox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=c=>e.input=c),hideDetails:"auto",variant:e.boundProps.variant,rules:n.checkboxRules,label:o.label,class:normalizeClass(["v-input-terms-checkbox",o.noCheckbox?"v-input-terms-checkbox-no-checkbox":""]),onClick:withModifiers(n.handleCheckboxClick,["prevent"]),"true-value":o.trueValue,"false-value":o.falseValue},{label:withCtx(c=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps(c)),()=>[createBaseVNode("span",_hoisted_1$7,[createTextVNode(toDisplayString(e.$t("I agree with"))+" ",1),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:u})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},u,{onClick:a[0]||(a[0]=f=>n.handleReadTerms("terms"))}),toDisplayString(e.$t("Terms")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Terms")),1)]),_:1}),a[5]||(a[5]=createTextVNode(" "+toDisplayString(" and ")+" ")),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:u})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},u,{onClick:a[1]||(a[1]=f=>n.handleReadTerms("conditions"))}),toDisplayString(e.$t("Conditions")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Conditions")),1)]),_:1})])])]),append:withCtx(()=>[createVNode(s,{modelValue:r.showDialog,"onUpdate:modelValue":a[3]||(a[3]=c=>r.showDialog=c),Xtitle:"Terms and Conditions","max-width":"600px","no-cancel-button":"","confirm-callback":n.agreeAndClose,"confirm-text":"I agree"},{activator:withCtx(({props:c})=>[(e.isRead,createCommentVNode("",!0))]),"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_2$7,[createVNode(l,{justify:"center",text:e.$t(`${e.readType}`),class:"mb-4"},null,8,["text"]),createVNode(VSheet,{class:"pa-4 overflow-y-auto","max-height":"400px"},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.modalContent},null,8,_hoisted_3$6)]),_:1})])]),_:1},8,["modelValue","confirm-callback"])]),_:3},8,["modelValue","variant","rules","label","class","onClick","true-value","false-value"])}const TermsCheckbox=_export_sfc(_sfc_main$8,[["render",_sfc_render$7]]),__vite_glob_3_27=Object.freeze(Object.defineProperty({__proto__:null,default:TermsCheckbox},Symbol.toStringTag,{value:"Module"}));function assignBOMHElpers(){window.__log=console.log,window.__isString=e=>Object.prototype.toString.call(e)==="[object String]",window.__isBoolean=e=>typeof e=="boolean",window.__isNumber=e=>!isNaN(e),window.__isObject=e=>Object.prototype.toString.call(e)==="[object Object]",window.__isArray=e=>Array.isArray(e),window.__isset=(...e)=>{const a=e,o=a.length;let r=0,i;if(o===0)throw new Error("Empty isset");for(;r!==o;){if(a[r]===i||a[r]===null)return!1;r++}return!0},window.__issetReturn=(e,a)=>__isset(e)?e:a,window.__getMethods=e=>Object.getOwnPropertyNames(e).filter(a=>typeof e[a]=="function"),window.__globalizeMethods=e=>{Array.isArray(e)?e.forEach(function(a){__getMethods(a).forEach(function(o){window[o]=a[o]})}):__isObject(e)&&__getMethods(obj).forEach(function(a){window[a]=obj[a]})},window.__responseHandler=e=>__isset(e.data.errors)?{status:!1,text:errorHandler(e.data.errors)}:{status:!0,data:e.data.data},window.__errorHandler=e=>{let a="";return Object.keys(e).forEach((r,i)=>{a+=`
              <tr>
                  <td> <strong> ${capitalCase(r)} </strong> </td>
                  <td>
                      ${e[r].join("</br>")}
                  </td>
              </tr>
          `}),`
      <table>          <tbody>           ${a}          </tbody>       </table>`},window.__functionDefinition=e=>Function.prototype.toString.call(e),window.__convertArrayOrObject=(e,a=null)=>{if(__isObject(e)){const o={};return Object.keys(e).forEach(r=>{o[r]=__convertArrayOrObject(e[r],r)}),o}else if(Array.isArray(e)){const o=[];return e.forEach(r=>{o.push(__convertArrayOrObject(r))}),o}else if(typeof e=="function"){let o=__functionDefinition(e);return a&&(o=o.replace(a+"(","function (")),o}else return e instanceof RegExp?e.toString():e},window.__printDefinition=e=>JSON.stringify(__convertArrayOrObject(e)),window.__shorten=(e,a=40)=>e.length>a?e.substring(0,a)+"...":e,window.__preg_quote=(e,a="")=>(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&"),window.__extract=e=>{for(var a in e)window[a]=e[a]},window.__dot=(e,a="")=>Object.keys(e).reduce((o,r)=>{const i=a?`${a}.${r}`:r;return typeof e[r]=="object"&&e[r]!==null&&!Array.isArray(e[r])?Object.assign(o,__dot(e[r],i)):o[i]=e[r],o},{}),window.__reverseDot=e=>{const a={};for(const[o,r]of Object.entries(e)){const i=o.split(".");let n=a;for(let l=0;l<i.length;l++){const s=i[l];l===i.length-1?n[s]=r:(n[s]=n[s]||{},n=n[s])}}return a},window.__wildcard_change=(e,a,o="id")=>{let r=Array.isArray(a)?a.join(","):a;return e.replace(/^([\w\.]+)?(\*)([\w_\-\.\*]+)$/,`$1*${o}=${r}$3`)},window.__data_get=(e,a,o)=>{if(!e||typeof a!="string")return o;const r=tokenizePath(a);let i=e;for(const n in r){let l=r[n];if(i==null)return o;if(typeof i=="object"){let s,c=l?l.match(/^\*(.*)/):!1;if(c){let u;if(c[1]&&(u=c[1].match(/^(\w+)\=([\w\d\,]+)/))){let f=u[1],p=u[2].split(",");i=lodash.filter(i,m=>p.includes(lodash.isNumber(m[f])?m[f].toString():m[f]))}if(Array.isArray(i)){let f=parseInt(n);return i.map(p=>__data_get(p,r.slice(f+1).join("."),o))}else return Object.assign({},i)}else if(l.indexOf("[")!==-1){const u=extractKeyFromBracket(l);if(u!==void 0)i=i[u];else return o}else s=i[l];if(s)i=s;else if(i=lodash.get(i,r.slice(n).join(".")),i)break}else return o}return i},window.__cast_value_match=(e,a)=>{let o,r=e;if(__isString(e)&&(o=e.match(/\$([\w\.\*]+)/))){let i=o[1],n=__preg_quote(o[0]),l=i.split("."),s=[];for(const u in l){let f=l[u];f==="*"?a.id:s.push(f)}i=s.join(".");let c=__data_get(a,i);if(c){let u;if(Array.isArray(c)&&c.length>0)u=c.join(",");else if(__isString(c)){u=c;let f=snakeCase$1(u);this.$te(`modules.${f}`)&&(u=this.$t(`modules.${f}`))}else __isNumber(c)&&(u=c.toString());if(u){let f="\\w\\s"+__preg_quote(".,;?|:_"),p=new RegExp(String.raw`^([${f}]+)?(${n})([${f}]+)?$`);e.match(p)?r=e.replace(p,"$1"+u+"$3"):__log("Not matched sentence",p,e,e.match(p))}}}return r},window.__snakeToHeadline=e=>e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "),window.__headline=e=>(e=snakeCase$1(e),e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")),window.__extractForeignKey=e=>{if(typeof e!="string")throw new TypeError("modelName must be a string");let a=lodash.snakeCase(e);return`${pluralize.isPlural(a)?pluralize.singular(a):a}_id`},window.__snakeNameFromForeignKey=e=>{let a=e.match(/(.*)(_id)/);return a?snakeCase$1(a[1]):!1},window.__nameFromForeignKey=e=>(e=__snakeNameFromForeignKey(e),e||__snakeToHeadline(e)),window.__moduleName=e=>{let a=e.match("/(.*)(_id)/");return a?__snakeNameFromForeignKey(a[1]):snakeCase$1(e)},window.__moduleTranslationName=e=>{const{t:a,te:o}=useI18n({useScope:"global"});let r=!1,i=e,n=__snakeNameFromForeignKey(i);return n&&(i=n,e=n),pluralize.isPlural(i)&&(r=!0,i=pluralize.singular(i)),i=snakeCase$1(i),e=snakeCase$1(e),o(`modules.${i}`)?a(`modules.${i}`,r?1:0):__snakeToHeadline(e)},window.__removeQueryParams=e=>{const a=new URL(window.location.href);let o={};for(const[n,l]of a.searchParams.entries())o[n]=l;e.forEach(n=>{delete o[n]}),Object.keys(o).forEach(n=>(o[n]===void 0||o[n]===null)&&delete o[n]);const r=new URLSearchParams;Object.keys(o).forEach(n=>{r.append(n,o[n])});const i=a.origin+a.pathname+(r.toString()?"?"+r.toString():"");window.history.replaceState({},"",i)},window.__pluralize=e=>pluralize.plural(e),window.__pushQueryParams=e=>{const a=new URL(window.location),o=a.searchParams;Object.entries(e).forEach(([r,i])=>{o.set(r,i)}),window.history.pushState({},"",a)},window.__formatCurrencyPrice=(e,a,o="en")=>{if(typeof e!="number"||isNaN(e))throw new Error("Amount must be a valid number");const r=new Intl.NumberFormat(o,{minimumFractionDigits:2,maximumFractionDigits:2});return`${a}${r.format(e)}`},window.__addParametersToUrl=(e,a)=>{const o=new URL(e),r=o.searchParams;return Object.entries(a).forEach(([i,n])=>{r.set(i,n)}),o.toString()},window.__removeParametersFromUrl=(e,a)=>{const o=new URL(e),r=o.searchParams;return Object.entries(a).forEach(([i,n])=>{r.delete(i)}),o.toString()}}function tokenizePath(e){const a=[];let o="",r=!1,i=!1;for(let n=0;n<e.length;n++){const l=e[n];if(i)o+=l,i=!1;else if(l==="\\")i=!0;else if(l==="[")o&&(a.push(o),o=""),r=!0,o+=l;else if(l==="]"){if(!r)throw new Error("Mismatched brackets in path");o+=l,a.push(extractBracketContent(o)),o="",r=!1}else l==="."&&!r?o&&(a.push(o),o=""):o+=l}return o&&a.push(o),a}function extractBracketContent(e){const a=e.slice(1,-1).trim();return/^\d+$/.test(a),a}function extractKeyFromBracket(e){const a=e.match(/\[([^\]]*)\]/);return a?a[1]:void 0}function assignObjectHelpers(){Object.equals||(Object.equals=function(e,a){for(const o in e){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1}for(const o in a){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1;if(e.hasOwnProperty(o)){if(e[o]instanceof Array&&a[o]instanceof Array){if(!Array.equals(e[o],a[o]))return!1}else if(e[o]instanceof Object&&a[o]instanceof Object){if(!Object.equals(e[o],a[o]))return!1}else if(e[o]!=a[o])return!1}}return!0})}function assignArrayHelpers(){Array.equals||(Array.equals=function(e,a){if(!a||e.length!=a.length)return!1;for(let o=0,r=e.length;o<r;o++)if(e[o]instanceof Array&&a[o]instanceof Array){if(!e[o].equals(a[o]))return!1}else if(e[o]!=a[o])return!1;return!0})}function init(){assignBOMHElpers(),assignObjectHelpers(),assignArrayHelpers(),window.axios=axios$1,window.$=jquery,window._=lodash,window.$moment=hooks;const e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};window.axios.defaults.headers.common=e,axios$1.defaults.headers.common=e,window.axios.defaults.headers.post={"Content-Type":"application/json"};const a=o=>o>=200&&o<300||o===422||o===401||o===419;axios$1.defaults.validateStatus=a,window.axios.defaults.validateStatus=a,axios$1.interceptors.request.use(function(o){return store.commit(CONFIG.INCREASE_AXIOS_REQUEST),o},function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),Promise.reject(o)}),axios$1.interceptors.response.use(function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),o.status===401&&o.data.message==="Unauthenticated."&&store.commit(USER.OPEN_LOGIN_MODAL),o.status===419||o.data.message,handleSuccessResponse(o),o},function(o){var r;return handleErrorResponse(o),store.commit(CONFIG.DECREASE_AXIOS_REQUEST),(r=o.response)==null||r.status,Promise.reject(o)})}function setup(){init(),window.__globalizeMethods([changeCase])}const UECompose=function(){setup()},typeToComponent={text:"v-text-field",password:"v-text-field",email:"v-text-field",tel:"v-text-field",url:"v-text-field",search:"v-text-field",number:"v-text-field",date:"v-date-picker",time:"v-time-picker",color:"v-color-picker",img:"v-img",textarea:"v-textarea",range:"v-slider",file:"v-file-input",switch:"v-switch",checkbox:"v-checkbox",card:"v-card",hidden:"input"},orderDirection="ASC",pathDelimiter=".",classKeyDelimiter="-",defaultID="form-base",isPicker="date|time|color",mouse="mouseenter|mouseleave",change="input|click",watch="focus|input|click|blur",display="resize|swipe|intersect",topAppendix="top",bottomAppendix="bottom",slotAppendix="slot",tooltipAppendix="tooltip",injectAppendix="inject",itemClassAppendix="item",typeClassAppendix="type",keyClassAppendix="key",arrayClassAppendix="array",propertyClassAppendix="prop",injectSlotAppendix=`${slotAppendix}-${injectAppendix}`,topSlotAppendix=`${slotAppendix}-${topAppendix}`,itemSlotAppendix=`${slotAppendix}-${itemClassAppendix}`,bottomSlotAppendix=`${slotAppendix}-${bottomAppendix}`,tooltipSlotAppendix=`${slotAppendix}-${tooltipAppendix}`,clear="clear",button="button",treeview="treeview",list="list",focus="focus",blur="blur",append="append",appendInner="append-inner",prepend="prepend",prependInner="prepend-inner",hour="hour",minute="minute",second="second",dropEffect="move",rowDefault={noGutters:!1},rowGroupDefault={noGutters:!1,class:"my-2"},colDefault={cols:"auto"},defaultSchemaIfValueIsNullOrUndefined=e=>({type:"text",label:e}),defaultSchemaIfValueIsString=e=>({type:"text",label:e}),defaultSchemaIfValueIsNumber=e=>({type:"number",label:e}),defaultSchemaIfValueIsBoolean=e=>({type:"checkbox",label:e}),defaultPickerSchemaText={type:"text",readonly:!0},defaultPickerSchemaMenu={closeOnContentClick:!1,transition:"scale-transition",nudgeRight:32,maxWidth:"290px",minWidth:"290px"},defaultInternGroupType="v-card",emits=["update:modelValue","update:schema","input","update","resize","blur","click"],_sfc_main$7={setup(){return{vueInstance:getCurrentInstance().appContext}},name:"VFormBase",emits,props:{id:{type:String,default:defaultID},rootId:{type:String,default:defaultID},row:{type:[Object]},rowGroup:{type:[Object]},col:{type:[Object,Number,String]},colGroup:{type:[Object,Number,String]},flex:{type:[Object,Number,String]},modelValue:{type:[Object,Array],default:()=>null},model:{type:[Object,Array]},schema:{type:[Object,Array],default:()=>({})},formItem:{type:Object,default:()=>({})},noAutoGenerateSchema:{type:Boolean,default:!1}},data(){return{flatCombinedArray:[],clear,button,treeview,list,focus,blur,append,appendInner,prepend,prependInner,hour,minute,second}},computed:{valueIntern(){const e=this.model||this.modelValue;return this.updateArrayFromState(e,this.formSchema),e},parent(){let e=this;if(e.$parent&&e.$parent.$parent)for(;e.id.startsWith(e.$parent.$parent.id+"-");)e=e.$parent.$parent;return e},index(){const e=this.id&&this.id.match(/\d+/g);return e?e.map(Number):null},getRow(){return this.row||rowDefault},flatCombinedArraySorted(){return orderBy(this.flatCombinedArray,["schema.sort"],[orderDirection])},storeStateData(){return this.updateArrayFromState(this.valueIntern,this.formSchema),this.valueIntern},storeStateSchema(){return this.updateArrayFromState(this.valueIntern,this.formSchema),formEvents.setSchemaInputField(this.formSchema,this.valueIntern),this.formSchema},formSchema:{get(){return this.schema},set(e){this.$emit("update:schema",e),this.schema.value=e}}},watch:{schema:{handler(e,a){},deep:!0},modelValue:{handler(e,a){JSON.stringify(Object.keys(__dot(e)))!==JSON.stringify(Object.keys(__dot(a)))&&this.rebuildArrays(this.valueIntern,this.formSchema)},deep:!0}},methods:{mapTypeToComponent(e){const a={...typeToComponent,...this.vueInstance.components};return a[e]?a[e]:`v-${e}`},isDateTimeColorTypeAndExtensionText(e){return isPicker.includes(e.schema.type)&&e.schema.ext==="text"},isDateTimeColorExtension(e){return isPicker.includes(e.schema.ext)},bindOptions(e){return isString(e)?{value:e,label:e}:e},bindSchemaText(e){return{...defaultPickerSchemaText,...e.schema.text}},bindSchemaMenu(e){return{...defaultPickerSchemaMenu,...e.schema.menu}},bindSchema(e){return Object.prototype.hasOwnProperty.call(e.schema,"falseValue")&&e.schema.falseValue==0&&(e.schema.falseValue="0"),omit(e.schema,["type","col","order","offset","ext","event"])},suspendClickAppend(e){return/(select|combobox|autocomplete)/.test(e.schema.type)?"":"click:append"},searchInputSync(e){return typeof e.schema.searchInput<"u"?"search-input":""},checkExtensionType(e){let a;return["number","range","date","time","color"].includes(e.schema.ext)&&(a=e.schema.ext),a||e.schema.type},checkInternType(e){return e.schema.typeInt||e.schema.type},checkInternGroupType(e){const a=e.schema.typeInt||defaultInternGroupType;return a.startsWith("v-")||a.startsWith("ue-")?a:`v-${a}`},getKeyForArray(e,a,o,r){const i=a.schema.key;return i?Array.isArray(i)?i.map(n=>o[n]).join("_"):o[i]:isNaN(r)?r:`${e}-${a.key}-${r}`},getImageSource(e){return e.schema.src?e.schema.src:`${e.schema.base}${e.value}${e.schema.tail}`},getIconValue(e){return e.schema.label?e.schema.label:this.setValue(e)},getShorthandTooltip(e){return isString(e)?{location:"top",text:e}:e},getShorthandTooltipLabel(e){return isString(e)?e:e&&e.label},getFormTopSlot(){return`${topSlotAppendix}-${this.id}`},getFormBottomSlot(){return`${bottomSlotAppendix}-${this.id}`},getKeyInjectSlot(e,a){return this.getKeyClassNameWithAppendix(e,`${injectSlotAppendix}-${a}-${keyClassAppendix}`)},getKeyTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${keyClassAppendix}`)},getKeyItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${keyClassAppendix}`)},getKeyBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${keyClassAppendix}`)},getKeyTooltipSlot(e){return this.getKeyClassNameWithAppendix(e,`${tooltipSlotAppendix}-${keyClassAppendix}`)},getTooltipSlot(e){return`${tooltipSlotAppendix}`},getArrayTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${arrayClassAppendix}`)},getArrayItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${arrayClassAppendix}`)},getArrayBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${arrayClassAppendix}`)},getTypeTopSlot(e){return this.getTypeClassNameWithAppendix(e,`${topSlotAppendix}-${typeClassAppendix}`)},getTypeItemSlot(e){return this.getTypeClassNameWithAppendix(e,`${itemSlotAppendix}-${typeClassAppendix}`)},getTypeBottomSlot(e){return this.getTypeClassNameWithAppendix(e,`${bottomSlotAppendix}-${typeClassAppendix}`)},getPropertyClassNameWithAppendix(e,a){return e.key?e.key.split(pathDelimiter).map(o=>`${a?a+classKeyDelimiter:""}${o}`).join(" "):""},getPropertyClassName(e){return this.getPropertyClassNameWithAppendix(e,propertyClassAppendix)},getKeyClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.key.replace(/\./g,"-")}`},getKeyClassName(e){return this.getKeyClassNameWithAppendix(e,keyClassAppendix)},getTypeClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.schema.type}`},getTypeClassName(e){return this.getTypeClassNameWithAppendix(e,typeClassAppendix)},getClassName(e){return`${itemClassAppendix} ${this.getTypeClassName(e)} ${this.getKeyClassName(e)} ${this.getPropertyClassName(e)}`},gridMapper(e,a){e&&["sm","md","lg","xl"].map(o=>{e[o]&&(e[a+o]=e[o],delete e[o])})},gridReplaceXS(e,a){e&&e.xs&&(e[a]=e.xs,delete e.xs)},getGridAttributes(e){const a=e.schema.col||e.schema.flex,o=this.col||this.flex||colDefault,r=a?isPlainObject(a)?a:isNumber(a)||isString(a)?{cols:a}:{cols:"auto"}:o?isPlainObject(o)?o:isNumber(o)||isString(o)?{cols:o}:{cols:"auto"}:{cols:"auto"};this.gridReplaceXS(r,"cols");const i=e.schema.offset,n=i&&(isPlainObject(i)?i:{offset:i});this.gridMapper(n,"offset-"),this.gridReplaceXS(n,"offset");const l=e.schema.order,s=l&&(isPlainObject(l)?l:{order:l});return this.gridMapper(s,"order-"),this.gridReplaceXS(s,"order"),{...r,...n,...s}},getRowGroupOrArray(e){return e.schema.rowGroup||this.rowGroup||rowGroupDefault},getColGroupOrArray(e){return e.schema.col||this.col||colDefault},getInjectedScopedSlots(e,a){const o=new RegExp(`${injectSlotAppendix}-(.*?)-${keyClassAppendix}`);return Object.keys(this.$slots).filter(r=>r.includes(`${e}${classKeyDelimiter}${a.key.replace(/\./g,"-")}`)&&r.includes(injectSlotAppendix)).map(r=>r.match(o)[1])},toCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.toCtrl)?e.obj.schema.toCtrl(e):e.value},fromCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.fromCtrl)?e.obj.schema.fromCtrl(e):e.value},dropCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.drop)?e.obj.schema.drop(e):e.value},dragstart(e,a){if(!a.schema.drag)return;e.dataTransfer.dropEffect=dropEffect,e.dataTransfer.effectAllowed=dropEffect;const o=this.onEvent(e,a);e.dataTransfer.setData("text",JSON.stringify(o))},dragover(e,a){return a.schema.drop?e.preventDefault():null},drop(e,a){if(!a.schema.drop||(a.dragEvent=JSON.parse(e.dataTransfer.getData("text")),a.key===a.dragEvent.obj.key&&a.id===a.dragEvent.id))return e.preventDefault();isFunction(a.schema.drop)&&(a.value=this.dropValue(a,e)),this.onEvent(e,a),e.preventDefault()},dropValue(e,a){return this.dropCtrl({value:e.dragEvent.value,obj:e,event:a,data:this.storeStateData,schema:this.storeStateSchema})},setValue(e,a){return e.schema.type==="wrap"?this.toCtrl({value:this.storeStateData,obj:e,data:this.storeStateData,schema:this.storeStateSchema}):this.toCtrl({value:e.value,obj:e,data:this.storeStateData,schema:this.storeStateSchema})},onInput(e,a,o="input"){e=this.fromCtrl({value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema}),e=!e||e===""?null:e,e=a.schema.type==="number"?Number(e):e,this.setObjectByPath(this.storeStateData,a.key,e),a.value=a.value!==e?e:a.value;let r=a.key;formEvents.onInputEventFormData(a,this.formSchema,this.storeStateData,this.flatCombinedArraySorted,this.valueIntern);const i={on:o,id:this.id,index:this.index,params:{index:this.index,lastValue:a.value},key:r,value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema,parent:this.parent};return this.emitValue(o,i),i},onInputWrapper(e,a){a.schema.type=="wrap"&&`${a.key}${e.key}`,this.emitValue("input",e)},onEvent(e={},a,o){const r=e&&e.srcElement&&e.srcElement.innerText,i=a.schema.model,n=a.schema.open,l=this.index,s=e.type!=="dragstart"?this.parent:void 0,c={on:e.type,id:this.id,index:l,params:{text:r,tag:o,model:i,open:n,index:l},key:a.key,value:a.value,obj:a,event:e,data:this.storeStateData,schema:this.storeStateSchema,parent:s};return delay(()=>{this.emitValue(e.type,c)}),c},onClickOutside(e,a){if(!(!a.schema||!a.schema.clickOutside)){if(isFunction(a.schema.clickOutside))return a.schema.clickOutside(a,e);this.emitValue("clickOutside",{on:"clickOutside",id:this.id,key:a.key,value:a.value,obj:a,params:{x:e.clientX,y:e.clientY},event:e,data:this.storeStateData,schema:this.storeStateSchema})}},onIntersect(e,a,o,r){const i=this.index;this.emitValue("intersect",{on:"intersect",id:this.id,index:i,key:r.key,value:r.value,obj:r,params:{isIntersecting:e,entries:a,observer:o},data:this.storeStateData,schema:this.storeStateSchema})},onSwipe(e,a){this.emitValue("swipe",{on:"swipe",id:this.id,key:a.key,value:a.value,obj:a,params:{tag:e},data:this.storeStateData,schema:this.storeStateSchema})},onResize(e){this.emitValue("resize",{on:"resize",id:this.id,params:{x:window.innerWidth,y:window.innerHeight},event:e,data:this.storeStateData,schema:this.storeStateSchema})},emitValue(e,a){const o=change.includes(e)?"onChange":watch.includes(e)?"onWatch":mouse.includes(e)?"onMouse":display.includes(e)?"onDisplay":e;(e==="onInput"||o==="onChange")&&this.$emit("update:modelValue",this.storeStateData),emits.includes(e)&&this.$emit(`${e}`,a)},deprecateEventCustomID(e){console.warn(`--- DEPRECATION ${e}:${this.id}: ----------------------------------------------------------------------------`),console.warn(`<v-form-base  @${e}:${this.id}="handler" /> is deprecated use simplified version <v-form-base  @${e}="handler" />`),console.warn("---------------------------------------------------------------------------------------------")},deprecateCombinedEvents(e,a){e!==a&&(console.warn("--- DEPRECATION Combined Listener:  --------------------------------------------------------------------------"),console.warn(`Combined Event-Listener '${e}' have been removed for better comprehensibility and simplification`),console.warn('Please use separate listener for each event like <v-form-base  @focus="handler" @input="handler" @blur="handler"/>'),console.warn("---------------------------------------------------------------------------------------------"))},setObjectByPath(e,a,o){const r=a.split(pathDelimiter);r.forEach((i,n)=>{n===r.length-1&&(e[i]=o),e=e[i]})},updateArrayFromState(e,a){this.flatCombinedArray.forEach(o=>{o.value=get(a,[o.key,"type"])==="select"?get(e,o.key,null)||get(a,[o.key,"default"],null):get(e,o.key,null),o.schema=get(a,o.key,null)})},sanitizeShorthandType(e,a){return isString(a)?{type:a,label:e}:a},flattenObjects(e={},a){const o={},r={};return Object.keys(a).forEach(i=>{a[i]=this.sanitizeShorthandType(i,a[i]);const n=Array.isArray(e[i])&&Array.isArray(a[i]),l=isPlainObject(e[i])&&!a[i].type,s=e[i]&&e[i].type&&a[i]&&a[i].type,c=!(e[i]instanceof File);if(n||l||s&&c){const{data:u,schema:f}=this.flattenObjects(e[i],a[i]);Object.keys(u).forEach(p=>{o[i+pathDelimiter+p]=u[p],r[i+pathDelimiter+p]=f[p]})}else o[i]=e[i],r[i]=a[i]}),{data:o,schema:r}},combineObjectsToArray({data:e,schema:a}){const o=[];return Object.keys(a).forEach(r=>{if(!isPlainObject(a[r])){console.warn(`Schema '${JSON.stringify(a)}' of Prop '${r}' must be a string with value of type key:'text' or a plainobject with at least key:{ type:'text'} definition.  Prop '${r}' will be ignored!`);return}o.push({key:r,value:e[r],schema:a[r]})}),o},flattenAndCombineToArray(e,a){const o=this.flattenObjects(e,a);return this.combineObjectsToArray(o)},autogenerateSchema(e){let a=JSON.stringify(e,(o,r)=>r===void 0?null:r);a=JSON.parse(a,(o,r)=>r==null?defaultSchemaIfValueIsNullOrUndefined(o):typeof r=="string"?defaultSchemaIfValueIsString(o):typeof r=="number"?defaultSchemaIfValueIsNumber(o):typeof r=="boolean"?defaultSchemaIfValueIsBoolean(o):r),Object.keys(a).forEach(o=>this.formSchema[o]=a[o])},tryAutogenerateModelStructure(e,a){Object.keys(a).forEach(o=>{if(!isEmpty(e[o]))return;const r=a[o];r.type==="group"?(e[o]={},this.tryAutogenerateModelStructure(e[o],r.schema)):r.type==="array"?(e[o]={},this.tryAutogenerateModelStructure(e[o],r.schema)):r.type==="list"?e[o]={}:isPlainObject(r)&&!r.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],r)),Array.isArray(r)&&!r.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],r))})},rebuildArrays(e,a){if(!e)throw`Property 'model' is null or undefined. Use '<v-form-base :model="myModel" :schema="mySchema" />'. myModel must be at least an empty Object.`;isEmpty(a)&&isEmpty(e)&&console.warn("At least one of the properties 'model' or 'schema' in <v-form-base /> must be at least an empty Object. Ignore this Warning on async loading 'model' or 'schema' "),this.tryAutogenerateModelStructure(e,a),isEmpty(a)&&!this.noAutoGenerateSchema&&this.autogenerateSchema(e),this.flatCombinedArray=this.flattenAndCombineToArray(this.storeStateData,this.storeStateSchema)},setCascadeSelect(e){var a;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const o=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,r=e.schema.cascadeKey??"items",i=e.schema.itemValue??"id";this.formSchema[o][r]=((a=find(e.schema[r],[i,this.valueIntern[e.key]]))==null?void 0:a.schema)??[];const n=findIndex(this.flatCombinedArraySorted,["key",o]);this.storeStateData[o]=this.formSchema[o][r].length>0?this.formSchema[o][r][0].value:[],this.flatCombinedArraySorted[n].value=this.valueIntern[o],this.setCascadeSelect(this.flatCombinedArraySorted[n])}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")&&e.schema.autofill.forEach(o=>{var r;this.formSchema[o].autofillable&&(this.storeStateData[o]=((r=find(e.schema.items,["id",this.valueIntern[e.key]]))==null?void 0:r[o])??"")})},updateInput(e,a){var o;if(Array.isArray(e)){const r=cloneDeep(this.formSchema);let i=!1;e.forEach(n=>{var l;n.key&&(n.value!==null||n.value!==void 0)&&((l=this.formSchema)!=null&&l[a.key])&&(r[a.key][n.key]=n.value,i=!0)}),i&&(this.formSchema=r)}else if(e.key&&e.value&&((o=this.formSchema)!=null&&o[a.key])){const r=cloneDeep(this.formSchema);r[a.key][e.key]=e.value,this.formSchema=r}}},created(){this.rebuildArrays(this.valueIntern,this.formSchema)}},_hoisted_1$6=["modelValue"],_hoisted_2$6={key:0,class:"mb-3"},_hoisted_3$5=["innerHTML"];function _sfc_render$6(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-dynamic-component-renderer"),c=resolveComponent("ue-title"),u=resolveComponent("v-custom-form-base"),f=resolveComponent("v-input-locale"),p=resolveDirective("mask");return withDirectives((openBlock(),createBlock(VRow,mergeProps({id:o.id},n.getRow),{default:withCtx(()=>[renderSlot(e.$slots,n.getFormTopSlot(),{id:o.id}),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.flatCombinedArraySorted,(m,g)=>(openBlock(),createBlock(VTooltip,mergeProps({key:g,disabled:!m.schema.tooltip,ref_for:!0},n.getShorthandTooltip(m.schema.tooltip)),{activator:withCtx(({props:y})=>[withDirectives((openBlock(),createBlock(VCol,mergeProps({key:g,ref_for:!0},{...n.getGridAttributes(m),...y},{class:n.getClassName(m),draggable:m.schema.drag,onMouseenter:h=>n.onEvent(h,m),onMouseleave:h=>n.onEvent(h,m),onDragstart:h=>n.dragstart(h,m),onDragover:h=>n.dragover(h,m),onDrop:h=>n.drop(h,m)}),{default:withCtx(()=>[renderSlot(e.$slots,n.getTypeTopSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id})),renderSlot(e.$slots,n.getKeyTopSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id})),renderSlot(e.$slots,n.getTypeItemSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id}),()=>[renderSlot(e.$slots,n.getKeyItemSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id}),()=>[m.schema.type==="preview"&&m.schema.configuration?(openBlock(),createBlock(l,{key:0,configuration:m.schema.configuration,"bind-data":{...n.valueIntern,...o.formItem}},null,8,["configuration","bind-data"])):m.schema.type==="dynamic-component"?(openBlock(),createBlock(s,{key:1,subject:m.schema.subject},null,8,["subject"])):m.schema.type==="title"?(openBlock(),createBlock(c,mergeProps({key:2,text:m.schema.title??m.schema.text??m.schema.label??m.schema.name,ref_for:!0},n.bindSchema(m)),null,16,["text"])):m.schema.type==="radio"?(openBlock(),createBlock(VRadioGroup,mergeProps({key:3,ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m),onChange:h=>n.onInput(h,m)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.schema.options,(h,v)=>(openBlock(),createBlock(VRadio,mergeProps({key:v,ref_for:!0},n.bindOptions(h)),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),C=>({name:C,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,C),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g,idx:v,option:h}))])}))]),1040))),128))]),_:2},1040,["modelValue","onChange"])):n.isDateTimeColorTypeAndExtensionText(m)?(openBlock(),createBlock(VMenu,mergeProps({key:4,ref_for:!0},n.bindSchemaMenu(m)),{activator:withCtx(({props:h})=>[createVNode(VTextField,mergeProps({ref_for:!0},{...n.bindSchemaText(m),...h},{modelValue:n.setValue(m)},{[toHandlerKey(n.suspendClickAppend(m))]:v=>n.onEvent(v,m,i.append)},{"onClick:appendInner":v=>n.onEvent(v,m,i.appendInner),"onClick:prepend":v=>n.onEvent(v,m,i.prepend),"onClick:prependInner":v=>n.onEvent(v,m,i.prependInner)}),null,16,["modelValue","onClick:appendInner","onClick:prepend","onClick:prependInner"])]),default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({ref_for:!0},n.bindSchema(m),{type:n.checkInternType(m),modelValue:n.setValue(m),"onUpdate:modelValue":h=>n.onInput(h,m),"onClick:hour":h=>n.onEvent({type:"click"},m,i.hour),"onClick:minute":h=>n.onEvent({type:"click"},m,i.minute),"onClick:second":h=>n.onEvent({type:"click"},m,i.second)}),null,16,["type","modelValue","onUpdate:modelValue","onClick:hour","onClick:minute","onClick:second"]))]),_:2},1040)):m.schema.type==="array"?(openBlock(!0),createElementBlock(Fragment,{key:5},renderList(n.setValue(m),(h,v)=>(openBlock(),createElementBlock("div",mergeProps({key:n.getKeyForArray(o.id,m,h,v),ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m)}),[renderSlot(e.$slots,n.getArrayTopSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:g,idx:v,item:h})),renderSlot(e.$slots,n.getArrayItemSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:g,idx:v,item:h}),()=>[createVNode(u,{id:`${o.id}-${m.key}-${v}`,modelValue:h,"onUpdate:modelValue":C=>h=C,schema:m.schema.schema,"onUpdate:schema":C=>m.schema.schema=C,row:n.getRowGroupOrArray(m),col:n.getColGroupOrArray(m),class:normalizeClass(`${o.id}-${m.key}`)},createSlots({_:2},[renderList(e.$slots,(C,b)=>({name:b,fn:withCtx(S=>[renderSlot(e.$slots,b,mergeProps({ref_for:!0},{id:o.id,obj:m,index:g,idx:v,item:h,...S}))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row","col","class"])]),renderSlot(e.$slots,n.getArrayBottomSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:g,idx:v,item:h}))],16,_hoisted_1$6))),128)):/^(wrap|group)$/.test(m.schema.type)?(openBlock(),createElementBlock(Fragment,{key:6},[m.schema&&m.schema.schema?(openBlock(),createBlock(resolveDynamicComponent(n.checkInternGroupType(m)),mergeProps({key:0,ref_for:!0},n.bindSchema(m),{title:m.schema.typeIntTitle??null,modelValue:m.schema.typeIntModelValue||!1,onClick:h=>n.onEvent(h,m)}),{default:withCtx(()=>[m.schema.noLabel!==!0&&(m.schema.title||m.schema.subtitle)?(openBlock(),createElementBlock("div",_hoisted_2$6,[m.schema.title?(openBlock(),createBlock(c,{key:0,padding:"a-0",margin:"b-0",transform:"none",weight:"bold",class:"text-body-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.title),1)]),_:2},1024)):createCommentVNode("",!0),m.schema.subtitle?(openBlock(),createBlock(c,{key:1,padding:"a-0",margin:"b-4",transform:"none",weight:"regular",class:"text-caption"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:m.schema.subtitle},null,8,_hoisted_3$5)]),_:2},1024)):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(u,{id:`${o.id}-${m.key}`,modelValue:n.setValue(m),schema:m.schema.schema,"onUpdate:schema":h=>m.schema.schema=h,row:n.getRowGroupOrArray(m),col:n.getColGroupOrArray(m),class:normalizeClass(`${o.id}-${m.key}`),onInput:h=>n.onInputWrapper(h,m)},createSlots({_:2},[renderList(e.$slots,(h,v)=>({name:v,fn:withCtx(C=>[renderSlot(e.$slots,v,mergeProps({ref_for:!0},{id:o.id,obj:m,index:g,...C}))])}))]),1032,["id","modelValue","schema","onUpdate:schema","row","col","class","onInput"])]),_:2},1040,["title","modelValue","onClick"])):createCommentVNode("",!0)],64)):m.schema.type===i.treeview?(openBlock(),createBlock(resolveDynamicComponent(e.v-i.treeview),mergeProps({key:7,open:m.schema.open,"onUpdate:open":h=>m.schema.open=h,ref_for:!0},n.bindSchema(m),{"onUpdate:open":h=>n.onEvent({type:"click"},m,"open"),"onUpdate:active":h=>n.onEvent({type:"click"},m,"selected"),items:m.schema.items,modelValue:n.setValue(m),"onUpdate:modelValue":h=>n.onInput(h,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),h=>({name:h,fn:withCtx(v=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,h),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g,...v}))])}))]),1040,["open","onUpdate:open","onUpdate:active","items","modelValue","onUpdate:modelValue"])):m.schema.type===i.list?(openBlock(),createBlock(VList,{key:8},{default:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,"label"),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g}),()=>[m.schema.label?(openBlock(),createBlock(VToolbar,mergeProps({key:0,ref_for:!0},n.bindSchema(m),{dark:""}),{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.label),1)]),_:2},1024)]),_:2},1040)):createCommentVNode("",!0)]),createVNode(VList,mergeProps({modelValue:m.schema.model,"onUpdate:modelValue":h=>m.schema.model=h,ref_for:!0},n.bindSchema(m),{light:""}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.setValue(m),(h,v)=>(openBlock(),createBlock(VListItem,{key:v,onClick:C=>n.onEvent(C,m,i.list)},{default:withCtx(()=>[renderSlot(e.$slots,n.getArrayItemSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:g,idx:v,item:h}),()=>[createVNode(VListItem,{icon:m.schema.icon,title:m.schema.item?h[m.schema.item]:h},null,8,["icon","title"])])]),_:2},1032,["onClick"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])]),_:2},1024)):/(switch|checkbox)/.test(m.schema.type)?(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({key:9,modelValue:n.setValue(m),"onUpdate:modelValue":h=>n.onInput(h,m),ref_for:!0},n.bindSchema(m)),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),h=>({name:h,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,h),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g}))])}))]),1040,["modelValue","onUpdate:modelValue"])):m.schema.type==="file"?(openBlock(),createBlock(VFileInput,mergeProps({key:10,ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m),onFocus:h=>n.onEvent(h,m),onBlur:h=>n.onEvent(h,m),onChange:h=>n.onInput(h,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),h=>({name:h,fn:withCtx(v=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,h),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g,...v}))])}))]),1040,["modelValue","onFocus","onBlur","onChange"])):m.schema.type==="icon"?(openBlock(),createBlock(VIcon,mergeProps({key:11,ref_for:!0},n.bindSchema(m),{textContent:toDisplayString(n.getIconValue(m)),onClick:h=>n.onEvent(h,m)}),null,16,["textContent","onClick"])):m.schema.type==="slider"?(openBlock(),createBlock(VSlider,mergeProps({key:12,ref_for:!0},n.bindSchema(m),{"onUpdate:modelValue":h=>n.onInput(h,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),h=>({name:h,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,h),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g}))])}))]),1040,["onUpdate:modelValue"])):m.schema.type==="img"?(openBlock(),createBlock(VImg,mergeProps({key:13,src:n.getImageSource(m),ref_for:!0},n.bindSchema(m),{onClick:h=>n.onEvent(h,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),h=>({name:h,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,h),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g}))])}))]),1040,["src","onClick"])):m.schema.type==="btn-toggle"?(openBlock(),createBlock(VBtnToggle,mergeProps({key:14,ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m),onChange:h=>n.onInput(h,m)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.schema.options,(h,v)=>(openBlock(),createBlock(VBtn,mergeProps({key:v,ref_for:!0},n.bindOptions(h),{icon:!!h.icon}),{default:withCtx(()=>[createVNode(VIcon,{dark:m.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(n.bindOptions(h).icon),1)]),_:2},1032,["dark"]),createTextVNode(" "+toDisplayString(n.bindOptions(h).label),1)]),_:2},1040,["icon"]))),128))]),_:2},1040,["modelValue","onChange"])):m.schema.type==="btn"?(openBlock(),createBlock(VBtn,mergeProps({key:15,ref_for:!0},n.bindSchema(m),{onClick:h=>n.onEvent(h,m,i.button),type:"button"}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.setValue(m))+" ",1),m.schema.iconCenter?(openBlock(),createBlock(VIcon,{key:0,dark:m.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.iconCenter),1)]),_:2},1032,["dark"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(m.schema.label),1)]),_:2},1040,["onClick"])):m.schema.translated?(openBlock(),createBlock(f,{key:16,type:n.mapTypeToComponent(m.schema.type),attributes:m.schema,modelValue:n.setValue(m),"onUpdate:modelValue":h=>n.onInput(h,m)},null,8,["type","attributes","modelValue","onUpdate:modelValue"])):m.schema.mask?withDirectives((openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({key:17,ref_for:!0},n.bindSchema(m),{type:n.checkExtensionType(m),modelValue:n.setValue(m),obj:m,[n.searchInputSync(m)]:m.schema.searchInput,["onUpdate:"+n.searchInputSync(m)]:h=>m.schema.searchInput=h,onFocus:h=>n.onEvent(h,m),onBlur:h=>n.onEvent(h,m)},{[toHandlerKey(n.suspendClickAppend(m))]:h=>n.onEvent(h,m,i.append)},{"onClick:appendInner":h=>n.onEvent(h,m,i.appendInner),"onClick:prepend":h=>n.onEvent(h,m,i.prepend),"onClick:prependInner":h=>n.onEvent(h,m,i.prependInner),"onClick:clear":h=>n.onEvent(h,m,i.clear),"onClick:hour":h=>n.onEvent({type:"click"},m,i.hour),"onClick:minute":h=>n.onEvent({type:"click"},m,i.minute),"onClick:second":h=>n.onEvent({type:"click"},m,i.second),"onUpdate:modelValue":h=>n.onInput(h,m),"onUpdate:input":h=>n.updateInput(h,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),h=>({name:h,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,h),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g,model:n.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"])),[[p,m.schema.mask]]):(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({key:18,ref_for:!0},n.bindSchema(m),{type:n.checkExtensionType(m),modelValue:n.setValue(m),obj:m,[n.searchInputSync(m)]:m.schema.searchInput,["onUpdate:"+n.searchInputSync(m)]:h=>m.schema.searchInput=h,onFocus:h=>n.onEvent(h,m),onBlur:h=>n.onEvent(h,m)},{[toHandlerKey(n.suspendClickAppend(m))]:h=>n.onEvent(h,m,i.append)},{"onClick:appendInner":h=>n.onEvent(h,m,i.appendInner),"onClick:prepend":h=>n.onEvent(h,m,i.prepend),"onClick:prependInner":h=>n.onEvent(h,m,i.prependInner),"onClick:clear":h=>n.onEvent(h,m,i.clear),"onClick:hour":h=>n.onEvent({type:"click"},m,i.hour),"onClick:minute":h=>n.onEvent({type:"click"},m,i.minute),"onClick:second":h=>n.onEvent({type:"click"},m,i.second),"onUpdate:modelValue":h=>n.onInput(h,m),"onUpdate:input":h=>n.updateInput(h,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),h=>({name:h,fn:withCtx(v=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,h),mergeProps({ref_for:!0},{id:o.id,obj:m,index:g,...v,model:n.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"]))])]),renderSlot(e.$slots,n.getTypeBottomSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id})),renderSlot(e.$slots,n.getKeyBottomSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id}))]),_:2},1040,["class","draggable","onMouseenter","onMouseleave","onDragstart","onDragover","onDrop"])),[[vShow,!m.schema.hidden],[Intersect,(h,v,C)=>n.onIntersect(h,v,C,m)],[Touch,{left:()=>n.onSwipe("left",m),right:()=>n.onSwipe("right",m),up:()=>n.onSwipe("up",m),down:()=>n.onSwipe("down",m)}],[ClickOutside,h=>n.onClickOutside(h,m)]]),m.schema.spacer?(openBlock(),createBlock(VSpacer,{key:`s-${g}`})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,n.getTooltipSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id}),()=>[createBaseVNode("span",null,toDisplayString(n.getShorthandTooltipLabel(m.schema.tooltip)),1)]),renderSlot(e.$slots,n.getKeyTooltipSlot(m),mergeProps({ref_for:!0},{obj:m,index:g,id:o.id}))]),_:2},1040,["disabled"]))),128)),renderSlot(e.$slots,n.getFormBottomSlot(),{id:o.id})]),_:3},16,["id"])),[[Resize,n.onResize,void 0,{quiet:!0}]])}const VCustomFormBase=_export_sfc(_sfc_main$7,[["render",_sfc_render$6]]),_sfc_main$6={emits:["update:modelValue","opened","confirm","cancel"],props:{...makeModalProps$1()},setup(e,a){return{...useModal(e,a)}},computed:{textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},watch:{dialog(e){e&&this.emitOpened()}},methods:{toggle(){return this.toggleModal()},close(e=null){return e&&e(),this.closeModal()},open(e=null,a=null){if(e&&e(),this.openModal(),a){const o=this;this.$nextTick().then(()=>{o.$refs.modalConfirm&&o.$refs.modalConfirm.$el.addEventListener("click",r=>{a(),o.close()}),o.$refs.modalCancel&&o.$refs.modalCancel.$el.addEventListener("click",r=>{o.close()})})}return!0},async confirm(e=null){let a=!0;if(e)a=!!await e(),a&&(this.closeModal(),this.$emit("confirm"));else if(this.confirmCallback&&typeof this.confirmCallback=="function"){let o=await this.confirmCallback();a=typeof o=="boolean"?o:!0,a&&this.confirmClosing&&this.closeModal(),this.$emit("confirm")}else this.closeModal(),this.$emit("confirm");return a},async cancel(e=null){if(e&&e(),this.rejectCallback&&typeof this.rejectCallback=="function"){let a=await this.rejectCallback();shouldClose=typeof a=="boolean"?a:!0,shouldClose&&this.rejectClosing&&this.closeModal()}else this.closeModal()},toggleFullscreen(){this.full=!this.full},screenListener(e){this.full=e.target.fullScreen}}},_hoisted_1$5={class:"d-flex align-center"},_hoisted_2$5=["innerHTML"];function _sfc_render$5(e,a,o,r,i,n){const l=resolveComponent("ue-title");return openBlock(),createBlock(VDialog,mergeProps({modelValue:e.dialog,"onUpdate:modelValue":a[5]||(a[5]=s=>e.dialog=s)},e.$bindAttributes(),{transition:e.transition,fullscreen:e.full,width:e.modalWidth}),createSlots({default:withCtx(s=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({...s,isFullActive:this.full,toggleFullscreen:()=>this.toggleFullscreen(),close:()=>this.close(),confirm:()=>this.confirm(),open:()=>this.open()})),()=>[renderSlot(e.$slots,"systembar",{},()=>[e.hasSystembar?(openBlock(),createBlock(VLayout,{key:0,style:{height:"40px"}},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VSystemBar,{dark:""},{default:withCtx(()=>[createVNode(VIcon,{onClick:a[0]||(a[0]=c=>n.toggleFullscreen()),"x-small":e.full},{default:withCtx(()=>a[6]||(a[6]=[createTextVNode(" mdi-checkbox-blank-outline ")])),_:1},8,["x-small"]),createVNode(VIcon,{onClick:a[1]||(a[1]=c=>n.close())},{default:withCtx(()=>a[7]||(a[7]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"body",mergeProps({textCancel:this.textCancel,textConfirm:this.textConfirm,textDescription:this.description,isFullActive:this.full,open:()=>this.open(),close:()=>this.close(),confirm:()=>this.confirm(),toggleFullscreen:()=>this.toggleFullscreen()},{closeDialog:n.close}),()=>[createVNode(VCard,null,{default:withCtx(()=>[e.title?(openBlock(),createBlock(VCardTitle,{key:0,class:"text-h5 text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createVNode(l,{justify:"space-between",padding:"y-2"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_1$5,[e.hasFullscreenButton?(openBlock(),createBlock(VBtn,{key:0,icon:e.full?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:n.toggleFullscreen},null,8,["icon","onClick"])):createCommentVNode("",!0),e.hasCloseButton?(openBlock(),createBlock(VBtn,{key:1,icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=c=>n.close())})):createCommentVNode("",!0)])]),default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:1}),e.hasTitleDivider?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.description||e.$slots["body.description"]?(openBlock(),createBlock(VCardText,{key:1,class:normalizeClass(["d-flex justify-center",{"pa-0":e.noDefaultBodyPadding}]),style:{"word-break":"break-word"}},{default:withCtx(()=>[renderSlot(e.$slots,"body.description",normalizeProps(guardReactiveProps({description:e.description})),()=>[createBaseVNode("div",{innerHTML:e.description},null,8,_hoisted_2$5)])]),_:3},8,["class"])):createCommentVNode("",!0),e.noActions?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:2},[createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[renderSlot(e.$slots,"body.options",normalizeProps(guardReactiveProps({description:e.description})),()=>[createVNode(VSpacer),e.noCancelButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:0,ref:"modalCancel"},e.rejectButtonAttributes,{class:"modal-cancel",onClick:a[3]||(a[3]=c=>n.cancel()),loading:e.rejectLoading,disabled:e.rejectLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.textCancel),1)]),_:1},16,["loading","disabled"])),e.noConfirmButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref:"modalConfirm"},e.confirmButtonAttributes,{class:"modal-confirm",onClick:a[4]||(a[4]=c=>n.confirm()),loading:e.confirmLoading,disabled:e.confirmLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.textConfirm),1)]),_:1},16,["loading","disabled"]))]),createVNode(VSpacer)]),_:3})],64))]),_:3})])])]),_:2},[renderList(e.$slots,(s,c)=>({name:c,fn:withCtx(u=>[renderSlot(e.$slots,c,normalizeProps(guardReactiveProps(u||{})))])}))]),1040,["modelValue","transition","fullscreen","width"])}const UEModal=_export_sfc(_sfc_main$6,[["render",_sfc_render$5]]),component="MEDIA-LIBRARY",api={get(e,a,o,r){axios$1.get(e,{params:a}).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component,{message:"Media library get error.",value:i}),r&&typeof r=="function"&&r(i)})},update(e,a,o,r){axios$1.put(e,a).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component,{message:"Media library update error.",value:i}),r&&typeof r=="function"&&r(i)})},delete(e,a,o){axios$1.delete(e).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component,{message:"Media library delete error.",value:r}),o&&typeof o=="function"&&o(r)})},bulkDelete(e,a,o,r){axios$1.put(e,a).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component,{message:"Media library bulk delete error.",value:i}),r&&typeof r=="function"&&r(i)})}},scrollToY=function(e){const a={el:document,offset:0,duration:250,easing:"linear"},o=Date.now();let r=0,i=!1;const n={linear:function(m){return m},easeIn:function(m){return m*m*m},easeOut:function(m){return--m*m*m+1},easeInOut:function(m){return m<.5?4*m*m*m:(m-1)*(2*m-2)*(2*m-2)+1}},l=window.requestAnimationFrame;let s;for(const m in e)typeof e[m]<"u"&&(a[m]=e[m]);if(a.el===document&&(i=!0,a.el=document.documentElement.scrollTop?document.documentElement:document.body),r=a.el.scrollTop,r===a.offset)return;function c(m,g){return m<g?m:g}function u(){if(l)try{cancelAnimationFrame(s)}catch{}else clearTimeout(s)}function f(){if(i&&r===0)document.documentElement.scrollTop=1,document.body.scrollTop=1,r=1,a.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(f);else{const m=Date.now(),g=c(1,(m-o)/a.duration),y=n[a.easing](g);a.el.scrollTop=y*(a.offset-r)+r,g<1?p():(u(),(typeof a.onComplete).toLowerCase()==="function"&&a.onComplete.call(this))}}function p(){l?s=requestAnimationFrame(f):s=setTimeout(function(){f()},1e3/60)}p()},mediaItemsMixin={props:{items:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},usedItems:{type:Array,default:()=>[]}},computed:{...mapState({itemsLoading:e=>e.mediaLibrary.loading}),replacingMediaIds:function(){return this.itemsLoading.reduce((e,a)=>(a.isReplacement&&(e[a.replacementId]=a.id),e),{})}},methods:{isSelected:function(e,a=["id"]){return!!this.selectedItems.find(o=>a.every(r=>o[r]===e[r]))},isUsed:function(e,a=["id"]){return!!this.usedItems.find(o=>a.every(r=>o[r]===e[r]))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}},_sfc_main$5={name:"A17Mediagrid",mixins:[mediaItemsMixin],computed:{...mapState({showFileName:e=>e.mediaLibrary.showFileName})},methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},_hoisted_1$4={class:"mediagrid"},_hoisted_2$4={class:"mediagrid__button s--loading"},_hoisted_3$4={key:0,class:"mediagrid__progress"},_hoisted_4$4={key:1,class:"mediagrid__progressError"},_hoisted_5$4=["onClick"],_hoisted_6$4=["src"],_hoisted_7$3=["title"];function _sfc_render$4(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(l,s)=>withDirectives((openBlock(),createElementBlock("div",{class:"mediagrid__item",key:"mediaLoading_"+l.id},[createBaseVNode("span",_hoisted_2$4,[l.error?(openBlock(),createElementBlock("span",_hoisted_4$4,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_3$4,[createBaseVNode("span",{class:"mediagrid__progressBar",style:normalizeStyle(n.loadingProgress(s))},null,4)]))])])),[[vShow,!l.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,l=>(openBlock(),createElementBlock("div",{class:normalizeClass(["mediagrid__item",{"s--hasFilename":e.showFileName}]),key:l.id},[createBaseVNode("span",{class:normalizeClass(["mediagrid__button",{"s--picked":e.isSelected(l),"s--used":e.isUsed(l)||!!e.replacingMediaIds[l.id],"s--disabled":l.disabled}]),onClick:[withModifiers(s=>e.toggleSelection(l),["exact"]),withModifiers(s=>e.shiftToggleSelection(l),["shift","exact"])]},[createBaseVNode("img",{src:l.thumbnail,class:"mediagrid__img"},null,8,_hoisted_6$4)],10,_hoisted_5$4),e.showFileName?(openBlock(),createElementBlock("p",{key:0,title:l.name,class:"mediagrid__name"},toDisplayString(l.name),9,_hoisted_7$3)):createCommentVNode("",!0)],2))),128))])}const MediaGrid=_export_sfc(_sfc_main$5,[["render",_sfc_render$4],["__scopeId","data-v-a5c29ae6"]]),_sfc_main$4={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:()=>["id"]}},mixins:[mediaItemsMixin],filters,computed:{allItems:function(){return this.items.map(e=>{if(this.replacingMediaIds[e.id]){const a=this.itemsLoading.find(o=>o.replacementId===e.id);return a||e}else return e})},columnsNumber:function(){if(!this.items.length)return 0;let e=this.extraColumns.length;const a=this.items[0];return a.hasOwnProperty("id")&&e++,a.hasOwnProperty("name")&&e++,a.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];const e=this.items[0];return Object.keys(e).filter(a=>!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(a)&&typeof e[a]=="string")},checkedItems:function(){const e=[];return this.selectedItems.length&&this.selectedItems.forEach(function(a){e.push(a.endpointType+"_"+a.id)}),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,a){const o=a?this[a]:this.itemsLoading;return{width:o[e].progress?o[e].progress+"%":"0%"}}}},_hoisted_1$3={class:"itemlist"},_hoisted_2$3={class:"itemlist__table"},_hoisted_3$3=["colspan"],_hoisted_4$3={key:0,class:"itemlist__progress"},_hoisted_5$3={key:1,class:"itemlist__progressError"},_hoisted_6$3=["onClick"],_hoisted_7$2={key:0,class:"itemlist__cell itemlist__cell--btn"},_hoisted_8$2={key:1,class:"itemlist__cell itemlist__cell--thumb"},_hoisted_9$2=["src"],_hoisted_10$2={key:2,class:"itemlist__cell itemlist__cell--name"},_hoisted_11$1=["innerHTML"],_hoisted_12={key:1},_hoisted_13=["colspan"],_hoisted_14={key:0,class:"itemlist__progress"},_hoisted_15={key:1,class:"itemlist__progressError"};function _sfc_render$3(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("table",_hoisted_2$3,[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(l,s)=>withDirectives((openBlock(),createElementBlock("tr",{class:"itemlist__row",key:l.id},[createBaseVNode("td",{class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":l.error}]),colspan:n.columnsNumber},[l.error?(openBlock(),createElementBlock("span",_hoisted_5$3,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_4$3,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(n.loadingProgress(s))},null,4)]))],10,_hoisted_3$3)])),[[vShow,!l.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.allItems,(l,s)=>(openBlock(),createElementBlock("tr",{class:normalizeClass(["itemlist__row",{"s--picked":e.isSelected(l,o.keysToCheck),"s--disabled":l.disabled||!!e.replacingMediaIds[l.id]}]),key:`${l.endpointType}_${l.id}`,onClick:[withModifiers(c=>e.toggleSelection(l),["exact","prevent"]),withModifiers(c=>e.shiftToggleSelection(l),["shift","exact","prevent"])]},[l.isReplacement?l.isReplacement?(openBlock(),createElementBlock("td",{key:1,class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":l.error}]),colspan:n.columnsNumber},[l.error?(openBlock(),createElementBlock("span",_hoisted_15,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_14,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(n.loadingProgress(s,"allItems"))},null,4)]))],10,_hoisted_13)):createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[l.hasOwnProperty("id")?(openBlock(),createElementBlock("td",_hoisted_7$2)):createCommentVNode("",!0),l.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("td",_hoisted_8$2,[createBaseVNode("img",{src:l.thumbnail},null,8,_hoisted_9$2)])):createCommentVNode("",!0),l.hasOwnProperty("name")?(openBlock(),createElementBlock("td",_hoisted_10$2,[l.hasOwnProperty("renderHtml")?(openBlock(),createElementBlock("div",{key:0,innerHTML:l.name},null,8,_hoisted_11$1)):(openBlock(),createElementBlock("div",_hoisted_12,toDisplayString(l.name),1))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.extraColumns,(c,u)=>(openBlock(),createElementBlock("td",{class:normalizeClass(["itemlist__cell",n.rowClass(c)]),key:u},[c==="size"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(l[c].toUpperCase()),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(l[c]),1)],64))],2))),128))],64))],10,_hoisted_6$3))),128))])])])}const ItemList=_export_sfc(_sfc_main$4,[["render",_sfc_render$3],["__scopeId","data-v-c7fcfc1f"]]),_sfc_main$3={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:{loadingProgress:function(){return{transform:"translateX("+(-100+this.uploadProgress)+"%)"}},...mapState({mediasLoading:e=>e.mediaLibrary.loading,uploadProgress:e=>e.mediaLibrary.uploadProgress})},methods:{cancelUpload:function(e){this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)}}},_hoisted_1$2={class:"mediasidebar__inner mediasidebar__inner--single"},_hoisted_2$2={class:"f--note"},_hoisted_3$2={class:"mediasidebar__progress"},_hoisted_4$2={class:"mediasidebar__loading"},_hoisted_5$2={key:0,class:"mediasidebar__errorMessage"},_hoisted_6$2=["onClick"];function _sfc_render$2(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("p",_hoisted_2$2,"Uploading "+toDisplayString(e.mediasLoading.length)+" file"+toDisplayString(e.mediasLoading.length>1?"s":""),1),createBaseVNode("div",_hoisted_3$2,[createBaseVNode("span",{class:"mediasidebar__progressBar",style:normalizeStyle(n.loadingProgress)},null,4)]),createBaseVNode("div",_hoisted_4$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mediasLoading,l=>(openBlock(),createElementBlock("p",{class:normalizeClass(["f--small",{"s--error":l.error}]),key:l.id},[l.error?(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString(l.errorMessage),1)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(l.name),1),a[0]||(a[0]=createTextVNode()),l.error?(openBlock(),createElementBlock("a",{key:1,href:"#",onClick:withModifiers(s=>n.cancelUpload(l),["prevent"])},"Cancel",8,_hoisted_6$2)):createCommentVNode("",!0)],2))),128))])])}const UeMediaSidebarUpload=_export_sfc(_sfc_main$3,[["render",_sfc_render$2],["__scopeId","data-v-2c5af2a8"]]),_sfc_main$2={name:"A17MediaSidebar",components:{"ue-mediasidebar-upload":UeMediaSidebarUpload,SelectTag},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[],deleteModalActive:!1}},filters,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:{firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return this.medias.length===1},hasMedia:function(){return this.medias.length>0},isImage:function(){return this.type.value==="image"},sharedTags:function(){return this.medias.map(e=>e.tags).reduce((e,a)=>e.filter(o=>a.includes(o)))},sharedMetadata(){return(e,a)=>this.hasMultipleMedias?this.medias.map(o=>o.metadatas.default[e]).every((o,r,i)=>Array.isArray(o)?o[0]==i[0]:o==i[0])?this.firstMedia.metadatas.default[e]:a==="object"?{}:a==="boolean"?!1:"":typeof this.firstMedia.metadatas.default[e]=="object"||a==="boolean"?this.firstMedia.metadatas.default[e]:{}},captionValues(){return typeof this.firstMedia.metadatas.default.caption=="object"?this.firstMedia.metadatas.default.caption:{}},altValues(){return typeof this.firstMedia.metadatas.default.altText=="object"?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map(function(e){return e.id}).join(",")},mediasIdsToDelete:function(){return this.medias.filter(e=>e.deleteUrl).map(e=>e.id)},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every(e=>e.deleteUrl)||this.hasMultipleMedias&&!this.medias.every(e=>!e.deleteUrl)},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){return this.extraMetadatas.filter(e=>e.multiple&&!this.translatableMetadatas.includes(e.name))},singleOnlyMetadatas:function(){return this.extraMetadatas.filter(e=>!e.multiple||e.multiple&&this.translatableMetadatas.includes(e.name))},...mapState({mediasLoading:e=>e.mediaLibrary.loading,useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions})},methods:{replaceMedia:function(){this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open(()=>{this.triggerMediaReplace()}):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){if(this.loading)return!1;if(this.mediasIdsToDelete.length!==this.medias.length){this.$refs.warningDelete.open();return}this.$main().$refs.deleteWarningMediaModal?this.$main().$refs.deleteWarningMediaModal.open(null,()=>{this.deleteSelectedMedias()}):this.deleteSelectedMedias()},deleteSelectedMedias:function(){if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?api.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{}):api.delete(this.firstMedia.deleteUrl,e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{})},clear:function(){this.$emit("clear")},getFormData:function(e){return FormDataAsObj(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){this.focused=!1,this.save();const e=this.$refs.form,a=this.getFormData(e);this.hasSingleMedia?(a.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=a.alt_text:this.firstMedia.metadatas.default.altText="",a.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=a.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach(o=>{a.hasOwnProperty(o.name)?this.firstMedia.metadatas.default[o.name]=a[o.name]:this.firstMedia.metadatas.default[o.name]=""})):this.singleAndMultipleMetadatas.forEach(o=>{a.hasOwnProperty(o.name)&&this.medias.forEach(r=>{r.metadatas.default[o.name]=a[o.name]})})},save:function(){const e=this.$refs.form;if(!e)return;const a=this.getFormData(e);!isEqual(a,this.previousSavedData)&&!this.loading&&(this.previousSavedData=a,this.update(e))},submit:function(e){e.preventDefault(),this.save()},update:function(e){if(this.loading)return;this.loading=!0;const a=this.getFormData(e);a.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;const o=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;api.update(o,a,r=>{this.loading=!1,r.data.tags&&this.$emit("tagUpdated",r.data.tags),this.hasMultipleMedias&&r.data.items&&this.medias.forEach(function(i){r.data.items.some(function(n){return n.id===i.id&&(i.tags=n.tags),n.id===i.id})})},r=>{this.loading=!1,r.data.message})}}},_hoisted_1$1={class:"mediasidebar"},_hoisted_2$1={key:0,class:"f--note"},_hoisted_3$1={key:1,class:"mediasidebar__info"},_hoisted_4$1=["src","alt"],_hoisted_5$1={class:"mediasidebar__name"},_hoisted_6$1={key:0,class:"mediasidebar__loader"},_hoisted_7$1=["value"],_hoisted_8$1=["value"],_hoisted_9$1={class:"d-flex flex-column align-center justify-center"},_hoisted_10$1={class:"modal--tiny-title"};function _sfc_render$1(e,a,o,r,i,n){const l=resolveComponent("ue-mediasidebar-upload"),s=resolveComponent("SelectTag"),c=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",_hoisted_1$1,[e.mediasLoading.length?(openBlock(),createBlock(l,{key:0})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:normalizeClass(["mediasidebar__inner",n.containerClasses])},[n.hasMedia?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_2$1,toDisplayString(e.$trans("media-library.sidebar.empty-text","No file selected")),1)),n.hasMultipleMedias?(openBlock(),createElementBlock("p",_hoisted_3$1,[createTextVNode(toDisplayString(o.medias.length)+" "+toDisplayString(e.$trans("media-library.sidebar.files-selected","files selected"))+" ",1),createBaseVNode("a",{href:"#",onClick:a[0]||(a[0]=withModifiers((...u)=>n.clear&&n.clear(...u),["prevent"]))},toDisplayString(e.$trans("media-library.sidebar.clear","Clear")),1)])):createCommentVNode("",!0),n.hasSingleMedia?(openBlock(),createElementBlock(Fragment,{key:2},[n.isImage?(openBlock(),createElementBlock("img",{key:0,src:n.firstMedia.thumbnail,class:"mediasidebar__img",alt:n.firstMedia.original},null,8,_hoisted_4$1)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_5$1,toDisplayString(n.firstMedia.name),1),createVNode(VList,{density:"compact",class:"bg-transparent"},{default:withCtx(()=>[n.firstMedia.size?(openBlock(),createBlock(VListItem,{key:0,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode("File size: "+toDisplayString(n.firstMedia.size.toUpperCase()),1)]),_:1})]),_:1})):createCommentVNode("",!0),n.isImage&&n.firstMedia.width+n.firstMedia.height?(openBlock(),createBlock(VListItem,{key:1,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("media-library.sidebar.dimensions","Dimensions"))+": "+toDisplayString(n.firstMedia.width)+"  "+toDisplayString(n.firstMedia.height),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})],64)):createCommentVNode("",!0),n.hasMedia?(openBlock(),createBlock(VRow,{key:3,align:"center",justify:"space-around",class:"mt-12"},{default:withCtx(()=>[n.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:0,href:n.firstMedia.original,download:"",icon:"mdi-download",size:"small"},null,8,["href"])):createCommentVNode("",!0),n.allowDelete&&o.authorized?(openBlock(),createBlock(VBtn,{key:1,icon:"$trash",size:"small",type:"button",onClick:n.deleteSelectedMediasValidation},null,8,["onClick"])):(openBlock(),createBlock(VBtn,{key:2,icon:"$trash",disabled:"",size:"small",type:"button"})),n.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:3,icon:"mdi-recycle",size:"small",type:"button",onClick:n.replaceMedia},null,8,["onClick"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)],2),n.hasMedia?(openBlock(),createElementBlock("form",{key:0,ref:"form",class:"mediasidebar__inner mediasidebar__form",onSubmit:a[4]||(a[4]=(...u)=>n.submit&&n.submit(...u))},[e.loading?(openBlock(),createElementBlock("span",_hoisted_6$1,a[6]||(a[6]=[createBaseVNode("span",{class:"loader loader--small"},[createBaseVNode("span")],-1)]))):createCommentVNode("",!0),n.hasMultipleMedias?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(s,{label:e.$trans("media-library.sidebar.tags"),key:n.firstMedia.id+"-"+o.medias.length,name:"","v-model":n.hasMultipleMedias?n.sharedTags:n.firstMedia.tags,options:e.tags,selected:n.hasMultipleMedias?n.sharedTags:n.firstMedia.tags,searchable:!0,multiple:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:o.type.tagsEndpoint,onChange:n.save},null,8,["label","v-model","options","selected","emptyText","endpoint","onChange"])),n.isImage?(openBlock(),createBlock(VTextField,{key:0,label:e.$trans("media-library.sidebar.alt-text"),variant:"outlined",name:"alt_text",onBlur:n.blur,modelValue:n.firstMedia.metadatas.default.altText,"onUpdate:modelValue":a[1]||(a[1]=u=>n.firstMedia.metadatas.default.altText=u)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0),n.isImage?(openBlock(),createBlock(VTextarea,{key:1,label:e.$trans("media-library.sidebar.caption"),variant:"outlined",name:"caption",onBlur:n.blur,modelValue:n.firstMedia.metadatas.default.caption,"onUpdate:modelValue":a[2]||(a[2]=u=>n.firstMedia.metadatas.default.caption=u)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0)],64)),o.extraMetadatas.length&&n.isImage&&n.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?(openBlock(),createBlock(VTooltip,{key:2,text:"Remove this field if you do not want to update it on all selected medias",location:"top"},{activator:withCtx(({props:u})=>[createBaseVNode("span",mergeProps(u,{class:"f--tiny f--note f--underlined",onClick:a[3]||(a[3]=f=>n.removeFieldFromBulkEditing("tags"))})," Remove from bulk edit ",16)]),_:1})):createCommentVNode("",!0),n.hasMultipleMedias?(openBlock(),createElementBlock("input",{key:3,type:"hidden",name:"ids",value:n.mediasIds},null,8,_hoisted_7$1)):(openBlock(),createElementBlock("input",{key:4,type:"hidden",name:"id",value:n.firstMedia.id},null,8,_hoisted_8$1))],544)):createCommentVNode("",!0)],64)),createVNode(c,{ref:"warningDelete",transition:"dialog-bottom-transition",modelValue:e.deleteModalActive,"onUpdate:modelValue":a[5]||(a[5]=u=>e.deleteModalActive=u),"width-type":"sm","confirm-text":`Delete ( ${n.mediasIdsToDelete.length} )`,"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("p",_hoisted_10$1,[createBaseVNode("strong",null,toDisplayString(e.$trans("media-library.dialogs.delete.title","Are you sure ?")),1)]),createBaseVNode("p",null,toDisplayString(n.warningDeleteMessage),1)])]),_:1},8,["modelValue","confirm-text"])])}const MediaSidebar=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-d0eb8a4b"]]),_sfc_main$1={mixins:[ModalMixin],components:{MediaGrid,ItemList,MediaSidebar},setup(e,{attrs:a,slots:o,emit:r}){},props:{...makeModalMediaProps(),initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!0},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1,full:!0,sharedFilterState:{search:"",tag:null,type:this.type??"image",page:this.page??this.initialPage}}},computed:{renderedMediaItems:function(){return this.mediaItems.map(e=>(e.disabled=this.filesizeMax>0&&e.filesizeInMb>this.filesizeMax||this.widthMin>0&&e.width<this.widthMin||this.heightMin>0&&e.height<this.heightMin,e))},currentTypeObject:function(){return this.types.find(e=>e.value===this.type)},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+"  "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+"  "+this.btnLabelMulti:this.modalTitlePrefix+"  "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){let e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){const e=this;return e.types.filter(function(o){return o.value===e.type})[0]},canInsert:function(){return!this.selectedMedias.some(e=>!!this.usedMedias.find(a=>a.id===e.id))},...mapState({connector:e=>e.mediaLibrary.connector,max:e=>e.mediaLibrary.max,filesizeMax:e=>e.mediaLibrary.filesizeMax,widthMin:e=>e.mediaLibrary.widthMin,heightMin:e=>e.mediaLibrary.heightMin,type:e=>e.mediaLibrary.type,types:e=>e.mediaLibrary.types,strict:e=>e.mediaLibrary.strict,selected:e=>e.mediaLibrary.selected,indexToReplace:e=>e.mediaLibrary.indexToReplace}),filterSchema:function(){return{tag:{type:"select",name:"tag",label:"Filter by tags",items:this.tags,variant:"outlined",clearable:"true",chips:"true",col:"12"}}}},watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1,this.sharedFilterState.type=this.type},page:function(e){this.sharedFilterState.page=e}},methods:{deleteSelectedMedias:function(e){let a=[];e&&e.length!==this.selectedMedias.length&&(a=this.selectedMedias.filter(o=>!o.deleteUrl)),e.forEach(()=>{this.$store.commit(MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL,this.type)}),this.mediaItems=this.mediaItems.filter(o=>!this.selectedMedias.includes(o)||a.includes(o)),this.selectedMedias=a,this.mediaItems.length<=40&&this.reloadGrid()},replaceMedia:function({id:e}){this.$refs.uploader.replaceMedia(e)},addMedia:function(e){const a=this.mediaItems.findIndex(function(o){return o.id===e.id});if(a>-1){for(const o in this.selected)this.selected[o].forEach((r,i)=>{if(e.id===r.id){const n=[];for(const l in r.crops)n[l]={height:e.height===r.height?r.crops[l].height:e.height,name:l,width:e.width===r.width?r.crops[l].width:e.width,x:e.width===r.width?r.crops[l].x:0,y:e.height===r.height?r.crops[l].y:0};this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIAS,{index:i,media:{...e,width:e.width===r.width?r.width:e.width,height:e.height===r.height?r.height:e.height,crops:n},mediaRole:o})}});this.$set(this.mediaItems,a,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},open:function(){this.$refs.modal.open()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateSelectedMedias:function(e,a=!1){const o=e.id;if(this.selectedMedias.filter(function(i){return i.id===o}).length===0){if(this.max===1&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(a&&this.selectedMedias.length>0){const i=this.selectedMedias[this.selectedMedias.length-1],n=this.mediaItems.findIndex(f=>f.id===i.id),l=this.mediaItems.findIndex(f=>f.id===o);if(l===-1&&n===-1)return;let s=null,c=null;n<l?(s=n+1,c=l+1):(s=l,c=n),this.mediaItems.slice(s,c).forEach(f=>{if(this.selectedMedias.length>=this.max&&this.max>0)return;this.selectedMedias.findIndex(m=>m.id===f.id)===-1&&this.selectedMedias.push(f)})}else{const i=this.mediaItems.filter(function(n){return n.id===o});i.length&&this.selectedMedias.push(i[0])}}else this.selectedMedias=this.selectedMedias.filter(function(i){return i.id!==o})},clearSelectedMedias:function(){this.selectedMedias.splice(0)},clearFilters:function(){const e=this;if(this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){const a=this.$refs.unused.$el.querySelector("input");a&&a.checked&&a.click()}this.$nextTick(function(){e.submitFilter()})},clearDropdownFilters:function(){const e=this;this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$nextTick(function(){e.submitFilter()})},submitFilter:function(e){const a=this,o=this.$refs.list;if(this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),o.scrollTop===0){a.reloadGrid();return}scrollToY({el:o,offset:0,easing:"easeOut",onComplete:function(){a.reloadGrid()}})},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){const e=this;this.loading=!0,this.$refs.form;const a=e.cleanEmptyFilters(this.sharedFilterState);api.get(this.endpoint,a,o=>{o.data.items.forEach(i=>{this.mediaItems.find(n=>n.id===i.id)||this.mediaItems.push(i)}),this.maxPage=o.data.maxPage||1;let r=o.data.tags.map(({label:i,...n})=>({title:i,...n}));this.tags=r||[],this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL,{type:this.type,total:o.data.total}),this.loading=!1,this.gridLoaded=!0},o=>{})},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,e),this.submitFilter())},getFormData:function(e){let a=FormDataAsObj(e);return a?a.page=this.page:a={page:this.page},a.type=this.type,Array.isArray(a.unused)&&a.unused.length&&(a.unused=a.unused[0]),a},listenScrollPosition:function(){this.$nextTick(function(){if(!this.gridLoaded)return;const e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)})},scrollToPaginate:function(){if(!this.gridLoaded)return;const e=this.$refs.list;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop},saveAndClose:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!0),this.$store.commit(MEDIA_LIBRARY.SAVE_MEDIAS,this.selectedMedias),this.$nextTick(()=>{this.closeModal()})},reloadTags:function(e=[]){this.tags=e},cleanEmptyFilters:function(e){return Object.entries(e).reduce((a,[o,r])=>(r!=null&&r!==""&&(typeof r=="object"&&!Array.isArray(r)?a[o]=this.cleanEmptyFilters(r):a[o]=r),a),{})}},created(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}}},_hoisted_1={class:"medialibrary"},_hoisted_2={class:"medialibrary__frame"},_hoisted_3={class:"medialibrary__header",ref:"form"},_hoisted_4={key:0,class:"secondarynav secondarynav--desktop py",slot:"navigation"},_hoisted_5={key:0,class:"secondarynav__number"},_hoisted_6={class:"medialibrary__inner"},_hoisted_7={class:"medialibrary__grid"},_hoisted_8={class:"medialibrary__sidebar"},_hoisted_9={key:0,class:"medialibrary__footer"},_hoisted_10={class:"medialibrary__list",ref:"list"},_hoisted_11={class:"medialibrary__list-items"};function _sfc_render(e,a,o,r,i,n){const l=resolveComponent("ue-filter"),s=resolveComponent("ue-dropdown-filter"),c=resolveComponent("MediaSidebar"),u=resolveComponent("ue-uploader"),f=resolveComponent("ItemList"),p=resolveComponent("MediaGrid"),m=resolveComponent("ue-modal");return openBlock(),createBlock(m,{ref:"modalMedia",id:"modalMedia",modelValue:e.show,"onUpdate:modelValue":a[2]||(a[2]=g=>e.show=g),fullscreen:"","content-class":"",width:"",onOpened:n.opened,eager:""},{activator:withCtx(({props:g})=>[renderSlot(e.$slots,"activator",{props:{...g}},void 0,!0)]),body:withCtx(({props:g})=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(n.modalTitle),1)]),_:1}),createVNode(VSpacer),createVNode(VToolbarItems,null,{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:e.closeModal},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[3]||(a[3]=[createTextVNode("mdi-close")])),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_3,[createVNode(l,{onSubmit:n.submitFilter,clearOption:!0,onClear:n.clearFilters,filterState:e.sharedFilterState,"onUpdate:filterState":a[0]||(a[0]=y=>e.sharedFilterState=y)},{default:withCtx(()=>[e.types.length?(openBlock(),createElementBlock("ul",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.types,y=>(openBlock(),createBlock(VChip,{key:y.value,class:"ma-2",onClick:withModifiers(h=>n.updateType(y.value),["prevent"])},{default:withCtx(()=>[createTextVNode(toDisplayString(y.text)+" ",1),y.total>0?(openBlock(),createElementBlock("span",_hoisted_5," ("+toDisplayString(y.total)+") ",1)):createCommentVNode("",!0)]),_:2},1032,["onClick"]))),128))])):createCommentVNode("",!0),a[4]||(a[4]=createBaseVNode("div",{slot:"hidden-filters"},null,-1))]),_:1},8,["onSubmit","onClear","filterState"]),createVNode(s,{onSubmit:n.submitFilter,onClear:n.clearDropdownFilters,loading:e.loading,"filter-ref":e.$refs.filter,filterState:e.sharedFilterState,"onUpdate:filterState":a[1]||(a[1]=y=>e.sharedFilterState=y),schema:n.filterSchema},null,8,["onSubmit","onClear","loading","filter-ref","filterState","schema"])],512),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("aside",_hoisted_8,[createVNode(c,{medias:e.selectedMedias,authorized:o.authorized,extraMetadatas:o.extraMetadatas,onClear:n.clearSelectedMedias,onDelete:n.deleteSelectedMedias,onTagUpdated:n.reloadTags,type:n.currentTypeObject,translatableMetadatas:o.translatableMetadatas,onTriggerMediaReplace:n.replaceMedia},null,8,["medias","authorized","extraMetadatas","onClear","onDelete","onTagUpdated","type","translatableMetadatas","onTriggerMediaReplace"])]),e.selectedMedias.length&&o.showInsert&&e.connector?(openBlock(),createElementBlock("footer",_hoisted_9,[n.canInsert?(openBlock(),createBlock(VBtn,{key:0,onClick:n.saveAndClose},{default:withCtx(()=>[createTextVNode(toDisplayString(n.btnLabel),1)]),_:1},8,["onClick"])):(openBlock(),createBlock(VBtn,{key:1,disabled:!0},{default:withCtx(()=>[createTextVNode(toDisplayString(n.btnLabel),1)]),_:1}))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10,[o.authorized?(openBlock(),createBlock(u,{key:0,ref:"uploader",onLoaded:n.addMedia,onClear:n.clearSelectedMedias,type:n.currentTypeObject},null,8,["onLoaded","onClear","type"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11,[e.type==="file"?(openBlock(),createBlock(f,{key:0,items:n.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":n.usedMedias,onChange:n.updateSelectedMedias,onShiftChange:n.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"])):(openBlock(),createBlock(p,{key:1,items:n.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":n.usedMedias,onChange:n.updateSelectedMedias,onShiftChange:n.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"]))])],512)])])])])]),_:3},8,["modelValue","onOpened"])}const UEModalMedia=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-12d8f088"]]),_sfc_main={__name:"DynamicModal",setup(e){const a=inject("modalService");if(!a)throw new Error("[DynamicModal] modalService not found");const o=a.state,r=computed(()=>{const i={};return Object.entries(o.emits).forEach(([n,l])=>{i[n]=s=>l(s)}),i});return provide("modalRef",{close:a.close.bind(a),data:o.data}),(i,n)=>{const l=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:unref(o).visible,"onUpdate:modelValue":n[0]||(n[0]=c=>unref(o).visible=c),persistent:"",widthType:"md"},unref(o).modalProps),createSlots({_:2},[unref(o).component?{name:"body.description",fn:withCtx(()=>[unref(o).component?(openBlock(),createBlock(resolveDynamicComponent(unref(o).component),mergeProps({key:0},unref(o).props,toHandlers(r.value)),null,16)):createCommentVNode("",!0)]),key:"0"}:void 0,renderList(Object.keys(unref(o).slots),c=>({name:c,fn:withCtx(u=>[createVNode(l,{configuration:unref(o).slots[c],bindData:u},null,8,["configuration","bindData"])])}))]),1040,["modelValue"])}}},customMdiIcons={accountSettings:"mdi mdi-account-cog",add:"mdi-plus",alert:"mdi-alert-outline",arrowLeft:"mdi-arrow-left-thin",arrowRight:"mdi-arrow-right-thin",check:"mdi-check",close:"mdi-close",company:"mdi-office-building-cog",creditCards:"mdi-credit-card-search",dashboard:"mdi-view-dashboard-outline",delete:"mdi-trash-can-outline",download:"mdi-download",duplicate:"mdi-content-copy",edit:"mdi-pencil-box-outline",error:"mdi-close-circle-outline",filter_list:"mdi-filter",header:"mdi-text-short",info:"mdi-information",list:"mdi-dots-vertical-circle-outline",media:"mdi-image-album",modules:"mdi-view-module","non-visibility":"mdi-eye-off",package:"mdi-package",permission:"mdi-account-arrow-right",product:"mdi-dropbox",restore:"mdi-file-restore",role:"mdi-account-key",submodule:"mdi-file-tree",success:"mdi-check-circle-outline",support:"mdi-lifebuoy",trash:"mdi-delete",userAdd:"mdi-account-edit",users:"mdi:mdi-account-multiple",visibility:"mdi-eye",warning:"mdi-alert-circle-outline"},unusualify={dark:!1,colors:{background:"#F5F5F5",red:"#DE3730","red-lighten-1":"#FFEDEA","red-darken-1":"#93000A",error:"#DE3730",blue:"#2196F3","blue-lighten-1":"#D3EAFD","blue-darken-1":"#077BD8","blue-accent-1":"#176FC7","blue-accent-2":"#63ADED",info:"#2196F3",green:"#54AF4C","green-lighten-1":"#E4F4D8","green-darken-1":"#1C7F20",success:"#54AF4C",warning:"#FDB022",primary:"#27A0B4","primary-lighten-1":"#4DBBC6","primary-lighten-2":"#74CED7","primary-lighten-3":"#AFE2E7","primary-lighten-4":"#F5FAFC","primary-darken-1":"#00758D","primary-darken-2":"#00566A","primary-darken-3":"#01404F","primary-accent":"#DEF5FA","on-primary":"#FFFFFF",secondary:"#E16437","secondary-lighten-1":"#EC9F83","secondary-lighten-2":"#F2BAA6","secondary-lighten-3":"#F7D6CA","secondary-lighten-4":"#FCF1ED","secondary-lighten-5":"#F7D6CA","secondary-lighten-6":"#F2BAA6","secondary-darken-1":"#D55020","secondary-darken-2":"#C3491D","secondary-darken-3":"#B1431B","secondary-darken-4":"#A03C18","secondary-darken-5":"#8E3515","secondary-darken-6":"#7C2F13","on-secondary":"#FFFFFF","on-secondary-lighten-1":"#FFFFFF","on-secondary-lighten-2":"#FFFFFF","on-secondary-darken-1":"#FFFFFF","on-secondary-darken-2":"#FFFFFF","on-secondary-darken-3":"#FFFFFF","on-secondary-darken-4":"#FFFFFF","on-secondary-darken-5":"#FFFFFF",grey:"#768184","grey-lighten-1":"#879092","grey-lighten-2":"#999FA1","grey-lighten-3":"#AAEAEF","grey-lighten-6":"#F2F1F1","grey-lighten-4":"#CACBCB","grey-lighten-5":"#E4E4E4","grey-lighten-6":"#F2F1F1","grey-darken-1":"#657275","grey-darken-2":"#546367","grey-darken-3":"#435458","grey-darken-4":"#32454A","grey-darken-5":"#20363B","grey-accent-1":"#EEF1F2","grey-accent-2":"#DEE3E5","grey-accent-3":"#BFC8CB","grey-accent-4":"#8CA0A7","grey-accent-5":"#6F797B","grey-accent-6":"#3F484A","grey-accent-7":"#171D1E","on-green-lighten-1":"#FFFFFF","on-green-lighten-2":"#FFFFFF","on-green-lighten-3":"#FFFFFF","on-green-lighten-4":"#FFFFFF","on-green-lighten-5":"#FFFFFF","on-green-lighten-6":"#FFFFFF"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},themes=Object.freeze(Object.defineProperty({__proto__:null,unusualify},Symbol.toStringTag,{value:"Module"}));var define_import_meta_env_default$4={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const APP_THEME=define_import_meta_env_default$4.VUE_APP_THEME||"unusualify",opts={aliases:{VBtnPrimary:VBtn,VBtnSecondary:VBtn,VBtnSuccess:VBtn,VImgIcon:VImg,VSheetRounded:VSheet,VRowSecondary:VRow,VRowTertiary:VRow},defaults:{global:{ripple:!1},VSheet:{},VSheetRounded:{class:"rounded"},VBtn:{color:"primary",density:"comfortable",variant:"elevated"},VBtnPrimary:{color:"primary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSecondary:{color:"secondary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSuccess:{color:"success",variant:"elevated"},VImgIcon:{height:"2.5rem"},VRowSecondary:{class:"v-row-secondary"},VRowTertiary:{class:"v-row-tertiary"}},theme:{defaultTheme:APP_THEME,themes},icons:{defaultSet:"mdi",aliases:{...aliases,...customMdiIcons},sets:{mdi,fa}},directives,components:{...components,VDateInput}},vuetify=createVuetify(opts),broadcasting={install:(e,a)=>{window.Pusher=Pusher}};class ModalService{constructor(){this.state=reactive({visible:!1,component:null,props:{},emits:{},slots:{},data:void 0,onClose:void 0,modalProps:{}})}open(a,o={}){this.state.component=a,this.state.props=o.props||{},this.state.emits=o.emits||{},this.state.data=o.data,this.state.onClose=o.onClose,this.state.visible=!0,this.state.modalProps=o.modalProps||{},this.state.slots=o.slots||{}}close(a){this.state.visible=!1;const o=this.state.onClose;this.state.component=null,this.state.props={},this.state.emits={},this.state.data=void 0,this.state.onClose=void 0,this.state.modalProps={},this.state.slots={},o&&o(a)}}const ModalService$1={install(e){const a=new ModalService;e.provide("modalService",a),e.config.globalProperties.$modalService=a,window.$modalService=a,setTimeout(async()=>{var s;const r=new URLSearchParams(window.location.search),i=r.get("modalService"),n=r.get("modalServiceKey");let l=null;if(i)try{l=JSON.parse(i)}catch(c){console.error("Failed to parse modalService parameter:",c);return}if(n)try{const c=await fetch(`/api/modal-service/${n}`,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}});if(c.ok)l=(await c.json()).modalService;else{console.error("Failed to fetch modal service data from session");return}removeParameterFromHistory("modalServiceKey")}catch(c){console.error("Failed to fetch modal service data:",c);return}if(isObject(l))try{console.log(l),a.open(l.component??null,omit(l,["component"])),removeParameterFromHistory("modalService")}catch(c){console.error("Failed to open modal from URL parameters:",c)}},0)}},CVV$1="CVV",MM$1="MM",Month$1="Month",PAY$1="PAY",Year$1="Year",YY$1="YY",en={"ADD NEW":"ADD NEW","Are you sure logout?":"Are you sure logout?","AT A GLANCE":"AT A GLANCE","Card Holder":"Card Holder","Card Number":"Card Number","Company Information":"Company Information",CVV:CVV$1,"Expire Date":"Expire Date","Loading... Please wait":"Loading... Please wait",MM:MM$1,Month:Month$1,PAY:PAY$1,"Personal Information":"Personal Information","Update Password":"Update Password",Year:Year$1,YY:YY$1},__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,CVV:CVV$1,MM:MM$1,Month:Month$1,PAY:PAY$1,YY:YY$1,Year:Year$1,default:en},Symbol.toStringTag,{value:"Module"})),All="Hepsi",CVV="CVV",Month="Ay",MM="AA",No="Hayr",PAY="DE",Regards="Sayglar",VAT="KDV",YY="YY",Yes="Evet",Year="Yl",Total="Toplam",tr={"ADD NEW":"EKLE","Are you sure logout?":"k yapmak istediinize emin misiniz?","AT A GLANCE":"GENEL BAKI",All,"Card Holder":"Kart stndeki sim","Card Number":"Kart No","Company Information":"irket Bilgileri",CVV,"Expire Date":"Son Kullanma Tarihi","Frequently Asked Questions":"Ska Sorulan Sorular","If you did not request a password reset, no further action is required.":"ifre sfrlama talebinde bulunmadysanz, herhangi bir ilem yapmanz gerekli deildir","Loading... Please wait":"Ykleniyor, ltfen bekleyin...",Month,MM,No,PAY,"Personal Information":"Kiisel Bilgiler",Regards,"Reset Password":"Yeni ifre Olutur","Reset Password Notification":"Yeni ifre Oluturma Bildirimi","This password reset link will expire in :count minutes.":"Bu ifre oluturma linki :count dakika ierisinde sonlanacak.","Total Amount":"Genel Toplam","Update Password":"ifreyi Gncelle",VAT,YY,"You are receiving this email because we received a password reset request for your account.":"Hesabnzn ifresini sfrlamak iin bu maili alyorsunuz",Yes,Year,Total},__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,All,CVV,MM,Month,No,PAY,Regards,Total,VAT,YY,Year,Yes,default:tr},Symbol.toStringTag,{value:"Module"}));var define_import_meta_env_default$3={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function loadStaticMessages(){const e=Object.assign({"../../../../lang/en.json":__vite_glob_0_0,"../../../../lang/tr.json":__vite_glob_0_1}),a={};return Object.keys(e).forEach(o=>{const n=o.split("/").pop().match(/([A-Za-z0-9-_]+)\.json/i)[1].match(/([A-Za-z0-9-_]+)/i);if(n&&n.length>1){const l=n[1];a[l]=e[o]}}),a}const datetimeFormats={en:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}},tr:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}}},numberFormats={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}},en:{currency:{style:"currency",currency:"EUR"}},tr:{currency:{style:"currency",currency:"TRY"}}},setupOptions={locale:define_import_meta_env_default$3.VUE_APP_LOCALE||"en",fallbackLocale:define_import_meta_env_default$3.VUE_APP_FALLBACK_LOCALE||"en",legacy:!1,missingWarn:!1,fallbackWarn:!1,messages:loadStaticMessages(),datetimeFormats,numberFormats},i18n=setupI18n(setupOptions);function setupI18n(e={locale:"en"}){const a=createI18n(e);return setI18nLocale(a,e.locale),a}function setI18nLocale(e,a){e.mode==="legacy"?e.global.locale=a:e.global.locale.value=a,document.querySelector("html").setAttribute("lang",a)}async function loadLocaleMessages(e,a){if(typeof TRANSLATIONS<"u"&&TRANSLATIONS)for(const o in TRANSLATIONS)loadLocaleMessage(e,o,TRANSLATIONS[o])}function loadLocaleMessage(e,a,o){return e.global.setLocaleMessage(a,o),nextTick()}function addSvg(e,a,o){const r=["icon"],i=a.expression||o.props.symbol;let n=e;o.type==="span"&&(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(n)),r.push(`icon--${i}`),r.forEach(function(u){e.classList.add(u)});const l=document.createElementNS("http://www.w3.org/2000/svg","title");l.textContent=i,n.appendChild(l);const s=`#icon--${i}`,c=document.createElementNS("http://www.w3.org/2000/svg","use");c.setAttributeNS("http://www.w3.org/1999/xlink","href",s),n.appendChild(c)}function removeSvg(e){const a=e.querySelector("svg");a&&a.parentNode.removeChild(a),e.className.split(" ").filter(function(r){return r.indexOf("icon")===0}).forEach(function(r){e.classList.remove(r)})}const SvgSprite={install(e,a={}){const o={beforeMount(r,i,n){addSvg(r,i,n)},updated:function(r,i,n,l){removeSvg(r),addSvg(r,i,n)},mounted:function(r,i,n){},unmounted:function(r,i,n){}};e.directive("svg",o)}},Column={install(e,a={}){const o={cols:12},r={created(i,n,l,s){n.value,n.instance},beforeMount(i,n,l,s){const c=n.value;c?__isObject(c)&&Object.entries(c).forEach(([u,f])=>{i.classList.add(`v-col-${u==="cols"?f:u+"-"+f}`)}):Object.entries(o).forEach(([u,f])=>{i.classList.add(`v-col-${u==="cols"?f:u+"-"+f}`)})},mounted(i,n,l,s){},beforeUpdate(i,n,l,s){},updated(i,n,l,s){},beforeUnmount(i,n,l,s){},unmounted(i,n,l,s){}};e.directive("column",r)}},FitGrid={install(e,a={}){const o={created(r,i,n,l){},beforeMount(r,i,n,l){r.classList.add("d-flex"),r.firstElementChild.classList.add("h-100","w-100")},mounted(r,i,n,l){},beforeUpdate(r,i,n,l){},updated(r,i,n,l){},beforeUnmount(r,i,n,l){},unmounted(r,i,n,l){}};e.directive("fit-grid",o)}},Scrollable={install(e,a={}){const o={created(r,i,n,l){},beforeMount(r,i,n,l){if(r.classList.add("ue-scrollable"),i.modifiers.height){const s=i.value;typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/)?(r.style.height=typeof s=="number"?`${s}px`:s,r.style.overflowY="auto"):console.warn("v-scrollable: Invalid height value. Please provide a number (for px) or a valid CSS height value.")}},mounted(r,i,n,l){},updated(r,i,n,l){if(i.modifiers.height&&i.value!==i.oldValue){const s=i.value;(typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/))&&(r.style.height=typeof s=="number"?`${s}px`:s)}},beforeUpdate(r,i,n,l){},beforeUnmount(r,i,n,l){},unmounted(r,i,n,l){}};e.directive("scrollable",o)}},Transition={install(e,a={}){const o={beforeMount(r,i){var l;const n=i.arg||"scale";(l=i.modifiers)!=null&&l.slow,r.classList.add(`${n}-transition`)},mounted(r,i){const n=i.arg||"scale";r.classList.contains("d-none")||r.classList.add(`${n}-1`);const l=new MutationObserver(s=>{s.forEach(c=>{c.type==="attributes"&&c.attributeName==="class"&&(r.classList.contains("d-none")?r.classList.remove(`${n}-1`):setTimeout(()=>{r.classList.add(`${n}-1`)},50))})});r._transitionObserver=l,l.observe(r,{attributes:!0,attributeFilter:["class"]})},updated(r,i){},unmounted(r){r._transitionObserver&&(r._transitionObserver.disconnect(),delete r._transitionObserver)}};e.directive("transition",o)}};var define_import_meta_env_default$2={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const commonMethods={$csrf:function(){return document.querySelector('meta[name="csrf-token"]').getAttribute("content")},$log:function(...e){return window.__log(...e)},$isset:function(...e){return window.__isset(...e)},$bindAttributes:function(e=null){const a={};if(e)Object.keys(e).forEach((o,r)=>{parseInt(o)>-1?a[e[o]]=!0:a[o]=e[o]});else if(e==null)return{...this.$attrs};return a},$main:function(){return this.$app._instance.refs.main},$profileDialog:function(){return this.$root.$refs.sidebar.$refs.profileDialog},$openProfileDialog:function(){if(!this.$store.getters.isGuest)return this.$store.state.user.profileDialog=!0},$closeProfileDialog:function(){return this.$store.state.user.profileDialog=!1},$can:function(e,a=null){const{can:o}=useAuthorization();return o(e,a)},$hasRoles:function(e){const{hasRoles:a}=useAuthorization();return a(e)},$isYou:function(e){const{isYou:a}=useAuthorization();return a(e)},$isSuperAdmin:function(){return this.$store.getters.isSuperAdmin},$toggleSidebar:function(){this.$store.commit(CONFIG.SIDEBAR_TOGGLE)},$castValueMatch:function(e,a){let o,r=e;if(__isString(e)&&(o=e.match(/\$([\w\.\*]+)/))){let i=o[1],n=__preg_quote(o[0]),l=i.split("."),s=[];for(const u in l){let f=l[u];f==="*"?a.id:s.push(f)}i=s.join(".");let c=__data_get(a,i);if(c){let u;if(Array.isArray(c)&&c.length>0)u=c.join(",");else if(__isString(c)){u=c;let f=snakeCase(u);this.$te(`modules.${f}`)&&(u=this.$t(`modules.${f}`))}else __isNumber(c)&&(u=c.toString());if(u){let f="\\w\\s"+__preg_quote(".,;?|:_"),p=new RegExp(String.raw`^([${f}]+)?(${n})([${f}]+)?$`);e.match(p)?r=e.replace(p,"$1"+u+"$3"):__log("Not matched sentence",p,e,e.match(p))}}}return r},$notif:function(e){this.$store.commit(ALERT$1.SET_ALERT,e)},$dialog:function(e){this.$store.commit(ALERT$1.SET_DIALOG,e)},$hasRequestInProgress:function(){return this.$store.getters.isRequestInProgress},$trans:function(e,a){var o;return this.$lodash.get((o=window[define_import_meta_env_default$2.VUE_APP_NAME])==null?void 0:o.modularityLocalization.lang,e,a)},$changeLocale:function(e){this.$i18n.locale.value=e},$localization:function(e){if(e.indexOf(" ")>-1)return this.$t(e);let o=lodash.split(e,".");if(o.length>1)return this.$te(e)?this.$t(e):lodash.join(o," ");let r=!1,i=e;pluralize.isPlural(i)&&(r=!0,i=pluralize.singular(i));let n=lodash.kebabCase(i),l=lodash.snakeCase(i);return this.$translation(`modules.${l}`,r?1:0)||this.$translation(`fields.${n}`)||this.$translation(`fields.${l}`)||window.__snakeToHeadline(e)},$moduleTranslationName:function(e){let a=!1,o=e,r=window.__snakeNameFromForeignKey(o);return r&&(o=r,e=r),pluralize.isPlural(o)&&(a=!0,o=pluralize.singular(o)),o=lodash.snakeCase(o),e=lodash.snakeCase(e),this.$te(`modules.${o}`)?this.$t(`modules.${o}`,a?1:0):window.__snakeToHeadline(e)},$translation:function(e,...a){return this.$te(e)?this.$t(e,...a):!1},$headline:function(e){return window.__headline(e)},$getDisplayData:function(e,a){let o={};for(const r in e){const i=e[r],n=a[r];let l=i.displayLabel||i.label||i.name||r;if(l=this.$localization(l),!(!i.type||i.type=="hidden")&&!(!n&&n!==0&&n!==!1&&l!==null&&i.type!=="wrap"))switch(o[r]={_title:l,_type:i.type},i.type){case"wrap":i.schema&&(delete o[r],o=Object.assign(o,this.$getDisplayData(i.schema,a)));break;case"group":i.schema&&typeof n=="object"&&(o[r]={...o[r],...this.$getDisplayData(i.schema,n)});break;case"input-repeater":Array.isArray(n)&&i.schema?o[r]._value=n.map(u=>this.$getDisplayData(i.schema,u)):o[r]._value=n;break;case"input-filepond":Array.isArray(n)?o[r]._value=n.map(u=>u.file_name):o[r]._value=n.file_name;break;case"input-form-tabs":o[r]._value=lodash.reduce(n,(u,f,p)=>{p=__isString(p)?parseInt(p):p;const m=i.items.find(h=>h.id==p);if(!m)return u;let y={_title:m.title||m.name,_model:m.id??null,_value:{}};return lodash.each(i.tabFields,(h,v)=>{let C=i.schema[v],S={_title:this.$localization(C.displayLabel||C.label||C.name||v),_type:i.type,_value:null},k=f[v],B=m[h];if(Array.isArray(k)&&B)S._value=k.map(w=>{let N=B.find(I=>I.id==w);return N?N.title||N.name:"N/A"});else if(B){let w=B.find(I=>I.id==k);k=w?w.title||w.name:k,S._value=k;let N=this.$getDisplayKeys(w);for(const I in N)S[I]||(S[N[I]]=w[I])}y[v]=S}),u.push(y),u},[]);break;case"input-price":const s=this.$numberFormats[this.$getLocale].currency,c=i.items.find(u=>u.iso===s.currency);o[r]._value=this.$n(n.find(u=>u.currency_id===c.id).raw_amount,{style:"currency",currency:s.currency});break;default:if(__isObject(n))o[r]._value=n;else if(Array.isArray(n)&&i.items)o[r]._value=n.map(u=>{const f=i.items.find(p=>p[i.itemValue]===u);return f?f[i.itemTitle]:u});else if(i.items){const u=i.items.find(f=>f[i.itemValue]===n);o[r]._value=u?u[i.itemTitle]:n}else o[r]._value=n;break}}return o},$getDisplayKeys:function(e){return lodash.reduce(Object.keys(e??{}),(a,o)=>{let r=o.match(/^([a-zA-Z0-9]+)(_(show|formatted))$/);return r&&(a[o]=r[1]),a},{})},$d:function(e,a="long"){const{d:o}=useI18n({useScope:"global"});return o(new Date(e),a)},$copy:function(e){window.navigator.clipboard.writeText(e)},$openLoginModal:function(){this.$store.commit(USER.OPEN_LOGIN_MODAL)},$closeLoginModal:function(){this.$store.commit(USER.CLOSE_LOGIN_MODAL)},$cacheGet:function(e,a=null){const{get:o}=useCache();return o(e,a)},$cachePut:function(e,a){const{put:o}=useCache();o(e,a)},$cachePush:function(e,a){const{push:o}=useCache();o(e,a)},$cacheLast:function(e,a=null){const{last:o}=useCache();return o(e,a)},$cacheForget:function(e){const{forget:a}=useCache();a(e)}};var define_import_meta_env_default$1={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const includeGlobalComponents=Object.assign({"/src/js/components/Alert.vue":__vite_glob_0_0$1,"/src/js/components/Auth.vue":__vite_glob_0_1$1,"/src/js/components/BoardInformationPlus.vue":__vite_glob_0_2,"/src/js/components/Btn.vue":__vite_glob_0_3,"/src/js/components/Collapsible.vue":__vite_glob_0_4,"/src/js/components/ConfigurableCard.vue":__vite_glob_0_5,"/src/js/components/CopyText.vue":__vite_glob_0_6,"/src/js/components/Dashboard.vue":__vite_glob_0_7,"/src/js/components/DropdownFilter.vue":__vite_glob_0_8,"/src/js/components/DynamicComponentRenderer.vue":__vite_glob_0_9,"/src/js/components/ErrorCard.vue":__vite_glob_0_10,"/src/js/components/Expansion.vue":__vite_glob_0_11,"/src/js/components/FilepondPreview.vue":__vite_glob_0_12,"/src/js/components/Filter.vue":__vite_glob_0_13,"/src/js/components/Form.vue":__vite_glob_0_14,"/src/js/components/FormSummaryItem.vue":__vite_glob_0_15,"/src/js/components/ImpersonateToolbar.vue":__vite_glob_0_16,"/src/js/components/ListElement.vue":__vite_glob_0_17,"/src/js/components/ListSection.vue":__vite_glob_0_18,"/src/js/components/LogoutModal.vue":__vite_glob_0_19,"/src/js/components/MarkdownRender.vue":__vite_glob_0_20,"/src/js/components/MediaMetadata.vue":__vite_glob_0_21,"/src/js/components/Metric.vue":__vite_glob_0_22,"/src/js/components/MetricGroups.vue":__vite_glob_0_23,"/src/js/components/Metrics.vue":__vite_glob_0_24,"/src/js/components/NavigationGroup.vue":__vite_glob_0_25,"/src/js/components/PrintRequest.vue":__vite_glob_0_26,"/src/js/components/PropertyList.vue":__vite_glob_0_27,"/src/js/components/RecursiveDataViewer.vue":__vite_glob_0_28,"/src/js/components/RecursiveStuff.vue":__vite_glob_0_29,"/src/js/components/StepperForm.vue":__vite_glob_0_30,"/src/js/components/StepperFormOld.vue":__vite_glob_0_31,"/src/js/components/Success.vue":__vite_glob_0_32,"/src/js/components/SvgIcon.vue":__vite_glob_0_33,"/src/js/components/TabGroups.vue":__vite_glob_0_34,"/src/js/components/TabGroupsPrevious.vue":__vite_glob_0_35,"/src/js/components/Table.vue":__vite_glob_0_36,"/src/js/components/TableBinder.vue":__vite_glob_0_37,"/src/js/components/Tabs.vue":__vite_glob_0_38,"/src/js/components/TabsPrevious.vue":__vite_glob_0_39,"/src/js/components/TextDisplay.vue":__vite_glob_0_40,"/src/js/components/Title.vue":__vite_glob_0_41,"/src/js/components/Uploader.vue":__vite_glob_0_42}),includeIteratorComponents=Object.assign({"/src/js/components/data_iterators/ExpandableIterator.vue":__vite_glob_1_0,"/src/js/components/data_iterators/RichCardIterator.vue":__vite_glob_1_1,"/src/js/components/data_iterators/RichRowIterator.vue":__vite_glob_1_2}),includeLayouts=Object.assign({"/src/js/components/layouts/Footer.vue":__vite_glob_2_0,"/src/js/components/layouts/Home.vue":__vite_glob_2_1,"/src/js/components/layouts/Main.vue":__vite_glob_2_2,"/src/js/components/layouts/Sidebar.vue":__vite_glob_2_3}),includeFormInputs=Object.assign({"/src/js/components/inputs/Assignment.vue":__vite_glob_3_0,"/src/js/components/inputs/Chat.vue":__vite_glob_3_1,"/src/js/components/inputs/CheckboxCard.vue":__vite_glob_3_2,"/src/js/components/inputs/Checklist.vue":__vite_glob_3_3,"/src/js/components/inputs/ChecklistGroup.vue":__vite_glob_3_4,"/src/js/components/inputs/ComparisonTable.vue":__vite_glob_3_5,"/src/js/components/inputs/CreditCard.vue":__vite_glob_3_6,"/src/js/components/inputs/CreditCardForm.vue":__vite_glob_3_7,"/src/js/components/inputs/Emojis.vue":__vite_glob_3_8,"/src/js/components/inputs/File.vue":__vite_glob_3_9,"/src/js/components/inputs/Filepond.vue":__vite_glob_3_10,"/src/js/components/inputs/FilepondAvatar.vue":__vite_glob_3_11,"/src/js/components/inputs/FormTabs.vue":__vite_glob_3_12,"/src/js/components/inputs/Image.vue":__vite_glob_3_13,"/src/js/components/inputs/ImageOld.vue":__vite_glob_3_14,"/src/js/components/inputs/Locale.vue":__vite_glob_3_15,"/src/js/components/inputs/PaymentService.vue":__vite_glob_3_16,"/src/js/components/inputs/Phone.vue":__vite_glob_3_17,"/src/js/components/inputs/Price.vue":__vite_glob_3_18,"/src/js/components/inputs/Process.vue":__vite_glob_3_19,"/src/js/components/inputs/RadioGroup.vue":__vite_glob_3_20,"/src/js/components/inputs/Repeater.vue":__vite_glob_3_21,"/src/js/components/inputs/SelectScroll.vue":__vite_glob_3_22,"/src/js/components/inputs/SelectTag.vue":__vite_glob_3_23,"/src/js/components/inputs/Spread.vue":__vite_glob_3_24,"/src/js/components/inputs/Tag.vue":__vite_glob_3_25,"/src/js/components/inputs/Tagger.vue":__vite_glob_3_26,"/src/js/components/inputs/TermsCheckbox.vue":__vite_glob_3_27}),includeCustomComponents=Object.assign({});UECompose();const UEConfig={install:(e,a)=>{var o;window.vm=e,e.use(vuetify),e.use(store),e.use(i18n),e.use(broadcasting),e.config.globalProperties.$jquery=window.$,e.config.globalProperties.$axios=window.axios,e.config.globalProperties.$lodash=window._,e.config.globalProperties.window=window,e.config.globalProperties.$app=e,setI18nLocale(i18n,store.state.user.locale),loadLocaleMessages(i18n,((o=window[define_import_meta_env_default$1.VUE_APP_NAME])==null?void 0:o.ENDPOINTS.languages)??""),e.config.globalProperties={...e.config.globalProperties,$getLocale:i18n.global.locale.value,$numberFormats:i18n.global.numberFormats.value,$te:function(r,i){const n=i18n.global.te;return n(r,i)??!1},$tc:function(r,i){const n=i18n.global.tc;return n(r,i)??!1},$plural:function(r){return pluralize.plural(r)},registerComponentsV1:function(r,i="",n="ue"){i=i!==""?i+"/":"",r.keys().forEach(l=>{const s=l.split("/").pop().split(".")[0],c=n+s.replace(/[A-Z]/g,u=>"-"+u.toLowerCase());e.component(c,require(`__components/${i}${s}.vue`).default)})},registerComponents:function(r,i="",n="Ue"){i=i!==""?i+"/":"",Object.keys(r).forEach(l=>{l.split("/").pop();const s=l.split("/").pop().split(".")[0],c=r[l],u=n+upperFirst(s);e.component(u,c.default)})},$call:function(r,...i){return this[r](...i)}},Object.keys(commonMethods).forEach(r=>{e.config.globalProperties[r]=commonMethods[r].bind(e.config.globalProperties)}),e.mixin({methods:{notif:function(r){this.$store.commit(ALERT$1.SET_ALERT,r)},openFreeMediaLibrary:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(MEDIA_LIBRARY.RESET_MEDIA_TYPE),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,-1),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!1),this.$root.$refs.main&&this.$root.$refs.main.$refs.mediaLibrary&&this.$root.$refs.main.$refs.mediaLibrary.openModal()}}}),e.component("VCustomFormBase",VCustomFormBase),e.component("UeDynamicModal",_sfc_main),e.component("UeModal",UEModal),e.component("UeModalMedia",UEModalMedia),e.config.globalProperties.registerComponents(includeGlobalComponents),e.config.globalProperties.registerComponents(includeIteratorComponents),e.config.globalProperties.registerComponents(includeLayouts,"layouts"),e.config.globalProperties.registerComponents(includeFormInputs,"inputs","VInput"),e.config.globalProperties.registerComponents(includeCustomComponents,"customs","UeCustom"),e.directive("mask",directive),e.use(SvgSprite),e.use(Column),e.use(FitGrid),e.use(Scrollable),e.use(Transition),e.use(ModalService$1),e.provide("$app",e)}};var define_import_meta_env_default={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const getFieldIndex=(e,a)=>e.findIndex(o=>o.name===a.name),state$1={baseUrl:window[define_import_meta_env_default.VUE_APP_NAME].STORE.form.baseUrl||"",inputs:window[define_import_meta_env_default.VUE_APP_NAME].STORE.form.inputs||{},serverValid:!0,errors:{},editedItem:window[define_import_meta_env_default.VUE_APP_NAME].STORE.form.inputs?getModel(window[define_import_meta_env_default.VUE_APP_NAME].STORE.form.inputs,null):{},loading:!1,taggableItems:{}},getters={defaultItem:e=>getModel(e.inputs)},mutations={[FORM.SET_EDITED_ITEM](e,a){e.editedItem=Object.assign({},a)},[FORM.RESET_EDITED_ITEM](e){e.editedItem=getModel(e.inputs)},[FORM.UPDATE_FORM_FIELD](e,a){let o=a.locale?{}:null;const r=getFieldIndex(e.fields,a);r!==-1&&(a.locale&&(o=e.fields[r].value||{}),e.fields.splice(r,1)),a.locale?o[a.locale]=a.value:o=a.value,e.fields.push({name:a.name,value:o})},[FORM.UPDATE_FORM_LOADING](e,a){e.loading=a||!e.loading},[FORM.SET_FORM_ERRORS](e,a){e.errors=a},[FORM.SET_SERVER_VALID](e,a){e.serverValid=a},[FORM.CLEAR_FORM_ERRORS](e){e.errors=[]},[FORM.SET_TAGGABLE_ITEMS](e,{taggable_type:a,items:o}){e.taggableItems[a]=o},[FORM.ADD_TAGGABLE_ITEM](e,{taggable_type:a,item:o}){e.taggableItems[a].push(o)}},actions={[ACTIONS.SAVE_FORM]({commit:e,state:a,getters:o,rootState:r,dispatch:i},{item:n=null,callback:l=null,errorCallback:s=null,plain:c=!1}){e(FORM.CLEAR_FORM_ERRORS),e(FORM.UPDATE_FORM_LOADING,!0);const u=c?n:getSubmitFormData(a.inputs,n??a.editedItem,r);let f="post",p=window[define_import_meta_env_default.VUE_APP_NAME].ENDPOINTS.store;Object.prototype.hasOwnProperty.call(u,"id")&&(f="put",p=window[define_import_meta_env_default.VUE_APP_NAME].ENDPOINTS.update.replace(":id",u.id)),api$1[f](p,u,function(m){if(e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(m.data,"errors"))e(FORM.SET_SERVER_VALID,!1),e(FORM.SET_FORM_ERRORS,m.data.errors);else if(Object.prototype.hasOwnProperty.call(m.data,"variant")&&m.data.variant.toLowerCase()==="success"){e(ALERT$1.SET_ALERT,{message:m.data.message,variant:m.data.variant}),e(FORM.SET_SERVER_VALID,!0),f==="post"&&e(FORM.RESET_EDITED_ITEM);try{i(ACTIONS.GET_DATATABLE)}catch{}}l&&typeof l=="function"&&l(m.data)},function(m){e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(m.data,"errors")?(e(FORM.SET_FORM_ERRORS,m.data.errors),e(FORM.SET_SERVER_VALID,!1)):Object.prototype.hasOwnProperty.call(m.data,"exception")?e(ALERT$1.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(i(ACTIONS.HANDLE_ERRORS,m.data),e(ALERT$1.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),s&&typeof s=="function"&&s(m.data)})},[ACTIONS.HANDLE_ERRORS]({commit:e,state:a,getters:o,rootState:r},i){const n=r.repeaters;Object.keys(i).forEach(l=>{const s=l.split(".");if(s.length>=4){const c=s[0],u=s[1],f=s[2],p=s[3];if(c==="repeaters"){const g=`blocks[${n[u][f].id}][${p}]`;i[g]=i[l]}}}),e(FORM.SET_FORM_ERRORS,i)}},form={state:state$1,getters,actions,mutations};export{ALERT$1 as A,UEConfig as U,_export_sfc as _,ACTIONS as a,api$2 as b,form as f,makeTableProps as m,store as s,useTable as u};
//# sourceMappingURL=form.CfiT1fYo.js.map
