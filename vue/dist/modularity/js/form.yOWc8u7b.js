import{_ as ze,ad as In,$ as d,a0 as g,a1 as u,l as f,a3 as b,c as U,X as x,a5 as z,a6 as te,a7 as ne,Q as D,V as E,a8 as y,ab as k,F,a4 as B,ae as W,aa as me,z as P,B as At,b as X,k as se,D as Te,U as Le,g as ca,af as Dn,K as We,G as ve,J as Tt,ag as we,r as re,t as ie,ah as H,ai as St,aj as Ee,ak as Me,al as de,am as kt,an as jt,ao as et,ap as ni,aq as ka,ar as st,x as Nt,as as On,E as qt,at as Pe,a2 as ye,au as Et,av as zt,e as Vn,H as Fn,aw as ft,ax as ht,d as li,ay as Ra,az as Pt,ac as Pn,aA as $n,aB as Rn,aC as Ln,m as Un,aD as Nn,aE as Bn,aF as xn,aG as jn,aH as zn,aI as Kn,aJ as qn,aK as vt,aL as Hn,aM as ta,aN as Gn,aO as Wn,aP as Yn,aQ as Je,aR as Zn,aS as Qn,aT as Mt,aU as pt,aV as ts,aW as Bt,aX as Xn,aY as Jn,aZ as Ca,a_ as el,a$ as tl,b0 as al}from"./vendor.BsqC_mM0.js";import{V as q,h as le,s as sl,u as ya,r as ri,t as oi,v as ue,w as ee,x as Ve,d as fe,y as ut,z as La,m as xe,A as $t,l as ce,B as Yt,p as Ue,n as Ae,f as He,C as wt,b as _a,c as ba,g as Se,D as Ua,E as Ht,e as je,F as ke,G as il,a as Gt,i as $e,j as he,k as Rt,H as di,I as Re,J as ui,K as Na,L as ct,M as Lt,N as nl,O as Kt,o as Be,P as Ut,Q as ma,S as ci,T as mi,U as fa,W as fi,Y as hi,Z as ll,_ as rl,$ as va,a0 as Wt,a1 as Ke,a2 as pi,a3 as ol,a4 as dl,a5 as ul,a6 as ot,a7 as Ba,q as cl,a8 as ml,a9 as xa,aa as gi,ab as yi,ac as _i,ad as fl,ae as hl,af as Ta,ag as pl,ah as gl,aj as as,ak as ja,al as yl,am as bi,an as _l,ao as bl,ap as vl,aq as vi,ar as Ai,as as Al,R as El,at as wl,au as Sl,av as kl,aw as Cl,ax as Tl,ay as Ml,az as Il,aA as Dl,aB as Ol,aC as Vl,aD as Fl,aE as Pl,aF as $l}from"./vuetify.CdD6iuRS.js";import{q as ss}from"./fine-uploader.C8t-Jhyu.js";import{P as it,b as Rl}from"./awesome-phonenumber.CPpBdrPW.js";const Ll="updateDatableData",Ul="updateDatableBulk",Nl="replaceDatableBulk",Bl="addDatableColumn",xl="removeDatableColumn",jl="updateDatableOffset",zl="updateDatablePage",Kl="updateDatableMaxPage",ql="updateDatableNavigation",Hl="updateDatableVisibility",Gl="updateDatableSort",Wl="publishDatatable",Yl="featureDatatable",Zl="updateDatableFilter",Ql="updateDatableFilterStatus",Xl="clearDatableFilter",Jl="updateDatableMessage",er="updateDatableLoading",tr="updateDatatableNestedDatas",ar="updateDatableTracker",sr="updateDatableOptions",ir="updateDatableSearch",nr="updateDatableTotal",lr="setDatableDialog",rr="updateDatatableAdvancedFilter",or="resetDatatableAdvancedFilter",Xe={UPDATE_DATATABLE_OPTIONS:sr,UPDATE_DATATABLE_SEARCH:ir,UPDATE_DATATABLE_TOTAL:nr,SET_DATATABLE_DIALOG:lr,UPDATE_DATATABLE_DATA:Ll,UPDATE_DATATABLE_BULK:Ul,REPLACE_DATATABLE_BULK:Nl,ADD_DATATABLE_COLUMN:Bl,REMOVE_DATATABLE_COLUMN:xl,UPDATE_DATATABLE_OFFSET:jl,UPDATE_DATATABLE_PAGE:zl,UPDATE_DATATABLE_MAXPAGE:Kl,UPDATE_DATATABLE_NAV:ql,UPDATE_DATATABLE_VISIBLITY:Hl,UPDATE_DATATABLE_SORT:Gl,PUBLISH_DATATABLE:Wl,FEATURE_DATATABLE:Yl,UPDATE_DATATABLE_FILTER:Zl,UPDATE_DATATABLE_FILTER_STATUS:Ql,CLEAR_DATATABLE_FILTER:Xl,UPDATE_DATATABLE_MESSAGE:Jl,UPDATE_DATATABLE_LOADING:er,UPDATE_DATATABLE_NESTED:tr,UPDATE_DATATABLE_TRACKER:ar,UPDATE_DATATABLE_ADVANCED_FILTER:rr,RESET_DATATABLE_ADVANCED_FILTER:or},dr="preventSubmit",ur="allowSubmit",cr="updateFormPermalink",mr="updateFormField",fr="removeFormField",hr="addFormBlock",pr="deleteFormBlock",gr="duplicateFormBlock",yr="duplicateBlockFormFields",_r="duplicateBlockRepeaters",br="reorderFormBlocks",vr="updateFormLoading",Ar="setFormErrors",Er="setServerValid",wr="clearFormErrors",Sr="updateFormSaveType",kr="replaceFormField",Cr="addFormField",Tr="emptyFormField",Mr="setEditedItem",Ir="resetEditedItem",Dr="emptyModalField",Or="updateModalField",Vr="removeModalField",Fr="replaceModalField",Pr="setTaggableItems",$r="addTaggableItem",oe={SET_EDITED_ITEM:Mr,RESET_EDITED_ITEM:Ir,SET_SERVER_VALID:Er,PREVENT_SUBMIT:dr,ALLOW_SUBMIT:ur,UPDATE_FORM_PERMALINK:cr,UPDATE_FORM_FIELD:mr,REMOVE_FORM_FIELD:fr,ADD_FORM_BLOCK:hr,DELETE_FORM_BLOCK:pr,DUPLICATE_FORM_BLOCK:gr,DUPLICATE_BLOCK_FORM_FIELDS:yr,ADD_REPEATERS:_r,REORDER_FORM_BLOCKS:br,UPDATE_FORM_LOADING:vr,SET_FORM_ERRORS:Ar,CLEAR_FORM_ERRORS:wr,UPDATE_FORM_SAVE_TYPE:Sr,REPLACE_FORM_FIELDS:kr,ADD_FORM_FIELDS:Cr,EMPTY_FORM_FIELDS:Tr,EMPTY_MODAL_FIELDS:Dr,UPDATE_MODAL_FIELD:Or,REMOVE_MODAL_FIELD:Vr,REPLACE_MODAL_FIELDS:Fr,SET_TAGGABLE_ITEMS:Pr,ADD_TAGGABLE_ITEM:$r},Rr="__setAlert",Lr="__setAlertShow",Ur="__clearAlert",Nr="__setDialog",Br="__setDialogShow",xr="__clearDialog",pe={SET_ALERT:Rr,SET_ALERT_SHOW:Lr,CLEAR_ALERT:Ur,SET_DIALOG:Nr,SET_DIALOG_SHOW:Br,CLEAR_DIALOG:xr},jr="updateMediaTypeTotal",zr="incrementMediaTypeTotal",Kr="decrementMediaTypeTotal",qr="saveSelectedMedias",Hr="updateMedias",Gr="destroySelectedMedias",Wr="reorderSelectedMedias",Yr="progressUpload",Zr="progressUploadMedia",Qr="doneUploadMedia",Xr="errorUploadMedia",Jr="destroyMediasInSelected",eo="updateMediaMax",to="updateMediaFilesizeMax",ao="updateMediaWidthMin",so="updateMediaHeightMin",io="updateMediaType",no="resetMediaType",lo="setMediaCrop",ro="setMediaMetadatas",oo="updateMediaConnector",uo="updateMediaMode",co="destroyMediaConnector",mo="updateReplaceIndex",fo="addMedias",ho="updateIsInserted",Y={UPDATE_MEDIA_TYPE_TOTAL:jr,INCREMENT_MEDIA_TYPE_TOTAL:zr,DECREMENT_MEDIA_TYPE_TOTAL:Kr,SAVE_MEDIAS:qr,DESTROY_MEDIAS:Gr,REORDER_MEDIAS:Wr,PROGRESS_UPLOAD:Yr,PROGRESS_UPLOAD_MEDIA:Zr,DONE_UPLOAD_MEDIA:Qr,ERROR_UPLOAD_MEDIA:Xr,DESTROY_SPECIFIC_MEDIA:Jr,UPDATE_MEDIA_MAX:eo,UPDATE_MEDIA_FILESIZE_MAX:to,UPDATE_MEDIA_WIDTH_MIN:ao,UPDATE_MEDIA_HEIGHT_MIN:so,UPDATE_MEDIA_TYPE:io,RESET_MEDIA_TYPE:no,SET_MEDIA_CROP:lo,SET_MEDIA_METADATAS:ro,UPDATE_MEDIA_CONNECTOR:oo,UPDATE_MEDIA_MODE:uo,DESTROY_MEDIA_CONNECTOR:co,UPDATE_REPLACE_INDEX:mo,UPDATE_MEDIAS:Hr,ADD_MEDIAS:fo,UPDATE_IS_INSERTED:ho},po="switchLanguage",go="updateLanguage",yo="updatePublishedLanguage",_o="publishLanguage",bo="replaceLanguages",vo="resetLanguages",lt={SWITCH_LANG:po,UPDATE_LANG:go,PUBLISH_LANG:yo,PUBLISH_SINGLE_LANG:_o,REPLACE_LANGUAGES:bo,RESET_LANGUAGES:vo},Ao="saveSelectedItems",Eo="destroyAllItems",wo="destroySelectedItem",So="reorderSelectedItems",ko="updateBrowserMax",Co="updateBrowserTitle",To="updateBrowserNote",Mo="updateBrowserConnector",Io="destroyBrowserConnector",Do="updateBrowserEndpoint",Oo="updateBrowserEndpoints",Vo="destroyBrowserEndpoint",Fo="destroyBrowserEndpoints",Po="addBrowsers",Fe={SAVE_ITEMS:Ao,DESTROY_ITEMS:Eo,DESTROY_ITEM:wo,REORDER_ITEMS:So,UPDATE_BROWSER_MAX:ko,UPDATE_BROWSER_TITLE:Co,UPDATE_BROWSER_NOTE:To,UPDATE_BROWSER_CONNECTOR:Mo,DESTROY_BROWSER_CONNECTOR:Io,UPDATE_BROWSER_ENDPOINT:Do,DESTROY_BROWSER_ENDPOINT:Vo,UPDATE_BROWSER_ENDPOINTS:Oo,DESTROY_BROWSER_ENDPOINTS:Fo,ADD_BROWSERS:Po},$o="__sidebarToggle",Ro="__setSidebar",Lo="__setRequestInProgress",Uo="__increaseAxiosRequest",No="__decreaseAxiosRequest",qe={SIDEBAR_TOGGLE:$o,SET_SIDEBAR:Ro,SET_REQUEST_IN_PROGRESS:Lo,INCREASE_AXIOS_REQUEST:Uo,DECREASE_AXIOS_REQUEST:No},Bo="__setProfileData",za={SET_PROFILE_DATA:Bo},Z=(e,t)=>{const a=e.__vccOpts||e;for(const[i,n]of t)a[i]=n;return a},xo={data:()=>({timeout:3e3}),computed:{closeButtonColor(){switch(this.type){case"success":case"warning":case"info":case"error":return"white";default:return"white"}},text(){return this.message||this.defaultMessage},defaultMessage(){return this.$t("messages."+this.type)},show:{get(){return this.$store.state.alert.show},set(e){this.$store.commit(pe.SET_ALERT_SHOW,e)}},...ze({type:e=>e.alert.type,message:e=>e.alert.message,location:e=>e.alert.location}),...In([])},methods:{info(e=null,t=3e3){this.open("info",e,t)},success(e=null,t=3e3){this.open("success",e,t)},warning(e=null,t=3e3){this.open("warning",e,t)},error(e=null,t=3e3){this.open("error",e,t)},activate(){this.show=!0},deactivate(){this.show=!0},open(e="info",t=null,a=3e3){this.type=e,this.message=t??this.message,this.timeout=a,this.activate()},close(){this.deactivate(),this.$nextTick(()=>{this.type="info",this.message=null,this.timeout=3e3})}}},jo=["innerHTML"];function zo(e,t,a,i,n,s){return d(),g(sl,{modelValue:s.show,"onUpdate:modelValue":t[1]||(t[1]=o=>s.show=o),timeout:e.timeout,color:e.type,location:e.location},{actions:u(()=>[f(q,{color:s.closeButtonColor,variant:"plain",density:"compact",onClick:t[0]||(t[0]=o=>s.show=!1)},{default:u(()=>[f(le,{color:s.closeButtonColor,icon:"$close"},null,8,["color"])]),_:1},8,["color"])]),default:u(()=>[b("div",{innerHTML:s.text},null,8,jo)]),_:1},8,["modelValue","timeout","color","location"])}const Ko=Z(xo,[["render",zo]]),qo=Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"})),Ho={props:{slots:{type:Object,default(){return{}}},title:{type:String},description:{type:String,default:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr."},ad:{type:String,default:"3k+ people joined us, now it’s your turn"},adImg:{type:String,default:""},rightBtnText:{type:String,default:"CONTINUE WITHOUT LOGIN"},noDivider:{type:[Boolean,Number],default:!1}},data:()=>({schema:{email:{type:"text",label:"E-mail",col:{cols:12},variant:"outlined",rules:[["email"]]},password:{type:"password",label:"Password",col:{cols:12},variant:"outlined",rules:[]}},model:{email:"",password:""}}),setup(e){const{name:t}=ya(),a=U(()=>{switch(t.value){case"xs":return 300;case"xl":return 600;case"xxl":return 600;default:return 400}}),i=U(()=>{if(e.title)return e.title}),n=U(()=>{if(e.description)return e.description}),s=U(()=>{if(e.ad)return e.ad}),o=U(()=>{if(e.rightBtnText)return e.rightBtnText});return{width:a,title:i,description:n,ad:s,rightBtnText:o}},methods:{}},Go=b("div",{class:"bg-primary darken-3"},null,-1),Wo={key:0,class:"d-flex w-100 align-center justify-center"},Yo=b("div",{class:"text-no-wrap px-3"},"or",-1),Zo={class:"mw-420"},Qo={class:"text-white mt-5 text-h4 custom-mb-8rem fs-2rem"},Xo={class:"text-white"};function Jo(e,t,a,i,n,s){const o=x("ue-form"),l=x("ue-svg-icon"),m=x("ue-alert");return d(),g(La,null,{default:u(()=>[f(ri,{class:"rounded rounded-md bg-tertiary h-100"},{default:u(()=>[f(oi,{class:"d-flex align-center justify-center"},{default:u(()=>[f(ue,{class:"h-100 mw-100"},{default:u(()=>[f(ee,{cols:"12",md:"6",lg:"6",class:"py-12 d-flex flex-column align-center justify-center bg-white"},{default:u(()=>[f(ue,{width:"85%",class:"d-flex flex-column justify-center align-center"},{default:u(()=>[Go,z(e.$slots,"cardTop"),f(Ve,{class:"",width:i.width},{default:u(()=>[z(e.$slots,"default",te(ne({})),()=>[f(o,{model:e.model,schema:e.schema,"action-url":"/login",async:!0,hasSubmit:!0,buttonText:"auth.login",class:"auth-form"},{submit:u(({validForm:c,buttonDefaultText:r})=>[f(q,{block:"",dense:"",type:"submit",disabled:!c},{default:u(()=>[D(E(r.toUpperCase()),1)]),_:2},1032,["disabled"])]),_:1},8,["model","schema"])])]),_:3},8,["width"]),a.noDivider?k("",!0):(d(),y("div",Wo,[f(fe),Yo,f(fe)])),z(e.$slots,"bottom",te(ne({})))]),_:3})]),_:3}),f(ee,{cols:"12",md:"6",lg:"6",class:"px-xs-12 py-xs-3 px-sm-12 py-sm-3 pa-12 pa-md-0 d-flex flex-column align-center justify-center col-right bg-primary"},{default:u(()=>[b("div",Zo,[f(l,{symbol:"main-logo",class:"mx-0"}),b("h2",Qo,E(i.description),1),b("span",Xo,[f(ut,{href:a.adImg},null,8,["href"]),D(" "+E(i.ad),1)]),f(q,{variant:"outlined",class:"text-white custom-right-auth-button my-5",density:"default"},{default:u(()=>[D(E(i.rightBtnText),1)]),_:1})])]),_:1})]),_:3})]),_:3})]),_:3}),f(m,{ref:"alert"},null,512)]),_:3})}const ed=Z(Ho,[["render",Jo]]),td=Object.freeze(Object.defineProperty({__proto__:null,default:ed},Symbol.toStringTag,{value:"Module"})),ad={props:{cards:{type:Array,default:[{title:"Active Webinar",data:"12",flex:6},{title:"Speaker Moderators",data:"3",flex:6},{title:"Company",data:"5",flex:6},{title:"Published Webinars",data:"7",flex:6}]},container:{type:Object,default:{color:"#F8F8FF",elevation:10,class:"px-6 py-5"}},cardAttribute:{type:Object,default:{variant:"outlined",borderRadius:14,class:"px-5",border:"sm",titleClass:"pt-3 pb-3 text-subtitle-2",titleColor:"grey",infoClass:"text-h4 pa-0",infoColor:"#000000",infoLineHeight:"1",infoFontWeight:"700"}}},data:()=>({})},sd={class:"d-flex"},id={class:"d-flex flex-column justify-center align-center pr-3"},nd={class:"d-flex flex-column"};function ld(e,t,a,i,n,s){return d(),g(ce,{color:a.container.color,density:"comfortable",elevation:a.container.elevation,class:W(a.container.class)},{default:u(()=>[f(xe,{style:{"font-weight":"bolder"},class:"py-4"},{default:u(()=>[D(E(e.$t("AT A GLANCE")),1)]),_:1}),f($t,{class:"pt-0 pb-4"},{default:u(()=>[f(ue,{class:"",densex:""},{default:u(()=>[(d(!0),y(F,null,B(a.cards,(o,l)=>(d(),g(ee,{key:l,cols:o.flex,class:""},{default:u(()=>[f(ce,{variant:a.cardAttribute.variant,border:a.cardAttribute.border,class:W(a.cardAttribute.class),style:me({"border-radius":a.cardAttribute.borderRadius,"border-color":`${a.cardAttribute.borderColor} !important`})},{default:u(()=>[b("div",sd,[b("div",id,[b("div",{class:"glance-icon-container",style:me(`background-color: ${o.iconBackground};`)},[f(le,{icon:o.icon,color:o.iconColor,size:o.iconSize},null,8,["icon","color","size"])],4)]),b("div",nd,[f($t,{align:"left",class:W(a.cardAttribute.infoClass),style:me({"line-height":a.cardAttribute.infoLineHeight,"font-weight":a.cardAttribute.infoFontWeight,color:o.infoColor})},{default:u(()=>[D(E(o.data.items),1)]),_:2},1032,["class","style"]),f(xe,{align:"center",class:W(a.cardAttribute.titleClass),style:me({color:a.cardAttribute.titleColor,"line-height":a.cardAttribute.infoLineHeight})},{default:u(()=>[D(E(e.$t(o.title)),1)]),_:2},1032,["class","style"])])])]),_:2},1032,["variant","border","class","style"])]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})]),_:1},8,["color","elevation","class"])}const rd=Z(ad,[["render",ld]]),od=Object.freeze(Object.defineProperty({__proto__:null,default:rd},Symbol.toStringTag,{value:"Module"})),dd={name:"ue-btn",props:{revealed:{type:Boolean,default:!1}},data(){return{}},methods:{clickSound(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()},click(e){this.disabled=!0,setTimeout(()=>{this.disabled=!1},5e3),this.$emit("click",e)}}};function ud(e,t,a,i,n,s){return d(),g(q,P(e.$bindAttributes(),{onClick:s.click}),{default:u(()=>[z(e.$slots,"default",{},()=>[D(" Button ")])]),_:3},16,["onClick"])}const cd=Z(dd,[["render",ud]]),md=Object.freeze(Object.defineProperty({__proto__:null,default:cd},Symbol.toStringTag,{value:"Module"})),fd={name:"ue-collapsible",components:{VExpandTransition:Yt},props:{title:{type:String,default:""},modelValue:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:4},verticalPadding:{type:Number,default:3},color:{type:String,default:"primary"},dense:{type:Boolean,default:!1},noHeaderBackground:{type:Boolean,default:!1},noCollapse:{type:Boolean,default:!1}},data(){return{isOpen:this.noCollapse||this.modelValue}},watch:{modelValue(e){this.noCollapse?this.isOpen=!0:this.isOpen=e}},methods:{toggle(){this.noCollapse||(this.isOpen=!this.isOpen,this.$emit("update:modelValue",this.isOpen),this.$emit(this.isOpen?"open":"close"))},enter(e){const t=getComputedStyle(e).width;e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";const a=getComputedStyle(e).height;e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame(()=>{e.style.height=a})},afterEnter(e){e.style.height="auto"},leave(e){const t=getComputedStyle(e).height;e.style.height=t,getComputedStyle(e).height,requestAnimationFrame(()=>{e.style.height=0})}},created(){console.log(this.isOpen)},mounted(){if(this.isOpen&&this.$el){const e=this.$el.querySelector(".ue-collapsible__content");e&&(e.style.height="auto")}}},hd={class:"ue-collapsible__title"},pd={key:0,class:"ue-collapsible__content"};function gd(e,t,a,i,n,s){return d(),y("div",{class:W(["ue-collapsible",{"ue-collapsible--bordered":a.bordered,"ue-collapsible--elevated":a.elevated,"ue-collapsible--dense":a.dense}])},[a.title||e.$slots.title?(d(),y("div",{key:0,class:W(["ue-collapsible__header",n.isOpen?"ue-collapsible__header--active":"",`px-${a.horizontalPadding} py-${a.verticalPadding}`,a.noHeaderBackground?"":"ue-collapsible__header--background"]),onClick:t[0]||(t[0]=(...o)=>s.toggle&&s.toggle(...o))},[b("div",hd,[z(e.$slots,"title",{},()=>[D(E(a.title),1)])]),a.noCollapse?k("",!0):(d(),g(le,{key:0,icon:n.isOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ue-collapsible__icon"},null,8,["icon"]))],2)):k("",!0),f(At,{name:"expand",onEnter:s.enter,onAfterEnter:s.afterEnter,onLeave:s.leave},{default:u(()=>[n.isOpen?(d(),y("div",pd,[b("div",{class:W(["ue-collapsible__content-inner",`px-${a.horizontalPadding} py-${a.verticalPadding}`])},[z(e.$slots,"default")],2)])):k("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave"])],2)}const yd=Z(fd,[["render",gd]]),_d=Object.freeze(Object.defineProperty({__proto__:null,default:yd},Symbol.toStringTag,{value:"Module"})),bd={name:"ue-configurable-card",props:{title:{type:String,default:""},items:{type:[Object,Array],required:!0},actions:{type:Array,default:()=>[]},hideSeparator:{type:Boolean,default:!1},maxSegments:{type:Number,default:null,validator:e=>e===null||e>0&&e<=12},actionIconSize:{type:String,default:"medium"},actionIconMinWidth:{type:Number,default:44},actionIconMinHeight:{type:Number,default:44},alignCenterColumns:{type:Boolean,default:!1},justifyCenterColumns:{type:Boolean,default:!1},columnStyles:{type:Object,default:()=>({})},columnClasses:{type:Object,default:()=>({})}},computed:{cardClass(){return`ue-configurable-card--${this.effectiveSegmentCount}-columns`},itemsWithActions(){const e={...this.items};return this.actions.length&&(e._actions=this.actions),e},effectiveSegmentCount(){const e=this.isArray(this.itemsWithActions)?this.itemsWithActions.length:Object.keys(this.itemsWithActions).length;return this.maxSegments===null?e:Math.min(this.maxSegments,e)}},methods:{isObject(e){return __isObject(e)},isArray(e){return __isArray(e)}}},vd={"no-gutters":"",class:"ue-configurable-card__row"},Ad={key:0,class:"d-flex fill-height flex-wrap justify-space-evenly align-center"},Ed={key:1,class:"d-flex fill-height"},wd={key:2,class:"d-flex fill-height"},Sd={key:3,class:"d-flex fill-height"};function kd(e,t,a,i,n,s){const o=x("ue-title"),l=x("ue-property-list"),m=x("ue-dynamic-component-renderer");return d(),g(ce,{class:W(["ue-configurable-card",[e.$bindAttributes().class,s.cardClass]])},{default:u(()=>[a.title?(d(),g(o,{key:0,text:a.title,padding:"x-4",class:"pt-4"},null,8,["text"])):k("",!0),b("div",vd,[(d(!0),y(F,null,B(s.itemsWithActions,(c,r)=>(d(),y("div",{key:r,class:W(["ue-configurable-card__col",a.hideSeparator?"":"ue-configurable-card__col--seperator",a.justifyCenterColumns?"ue-configurable-card__col--justify-center":"",a.alignCenterColumns?"ue-configurable-card__col--align-center":"",e.$isset(a.columnStyles[r])?"ue-configurable-card__col--unset-flex-basis":"",a.columnClasses[r]??""]),style:me(a.columnStyles[r]??"")},[z(e.$slots,`segment.${r==="_actions"?"actions":parseInt(r)+1}`,P({ref_for:!0},{data:c,actions:a.actions,actionProps:{actionIconMinHeight:a.actionIconMinHeight,actionIconSize:a.actionIconSize}}),()=>[a.actions.length&&r==="_actions"?(d(),y("div",Ad,[(d(!0),y(F,null,B(a.actions,(h,_)=>(d(),g(q,P({key:_,class:"mx-1 rounded","min-width":a.actionIconMinHeight,"min-height":a.actionIconMinHeight,size:a.actionIconSize,ref_for:!0},h),null,16,["min-width","min-height","size"]))),128))])):s.isObject(c)?(d(),y("div",Ed,[f(l,{data:c,class:"",noPadding:""},null,8,["data"])])):s.isArray(c)?(d(),y("div",wd,[f(l,{data:c.map(h=>[h]),class:"",noPadding:""},null,8,["data"])])):(d(),y("div",Sd,[f(m,{subject:c},null,8,["subject"])]))],!0)],6))),128))])]),_:3},8,["class"])}const Cd=Z(bd,[["render",kd],["__scopeId","data-v-9fd131dc"]]),Td=Object.freeze(Object.defineProperty({__proto__:null,default:Cd},Symbol.toStringTag,{value:"Module"})),Md={name:"CopyText",props:{text:{type:[String,Number],required:!0},icon:{type:String,default:"mdi-content-copy"},color:{type:String,default:"primary"},size:{type:String,default:"small"}},data(){return{showTooltip:!1}},methods:{handleCopy(){this.$copy(this.text),this.showTooltip=!0,setTimeout(()=>{this.showTooltip=!1},2e3)}}},Id={class:"d-inline-block"};function Dd(e,t,a,i,n,s){return d(),y("div",Id,[f(Ue,{"model-value":n.showTooltip,text:"Copied!",location:"top","open-on-hover":!1,"open-on-focus":!1},{activator:u(({props:o})=>[f(le,P({...o,onClick:s.handleCopy},{icon:a.icon,color:a.color,size:a.size,class:{"cursor-pointer":!0}}),null,16,["icon","color","size"])]),_:1},8,["model-value"])])}const Od=Z(Md,[["render",Dd]]),Vd=Object.freeze(Object.defineProperty({__proto__:null,default:Od},Symbol.toStringTag,{value:"Module"})),Fd={props:{blocks:{type:Object,default(){return{}}}},components:{},setup(e,t){},data(){return{}},created(){}};function Pd(e,t,a,i,n,s){const o=x("ue-recursive-stuff");return d(),g(ue,null,{default:u(()=>[(d(!0),y(F,null,B(a.blocks,(l,m)=>(d(),g(o,{key:`tag-0-${m}`,configuration:l},null,8,["configuration"]))),128))]),_:1})}const $d=Z(Fd,[["render",Pd]]),Rd=Object.freeze(Object.defineProperty({__proto__:null,default:$d},Symbol.toStringTag,{value:"Module"})),Ld={name:"UEDropdownFilter",props:{buttonText:{type:String,default:"Filter"},loading:{type:Boolean,default:!1},page:{type:Number,required:!0},type:{type:String,required:!0},tags:{type:Array,default:()=>[]},filterState:{type:Object,required:!0},filterModel:{type:Object,required:!0},schema:{type:Object||Array,required:!0}},emits:["update:filterState","submit","clear"],setup(e,{emit:t}){const a=X({...e.filterState}),i=X(!1);return se(()=>e.filterState,o=>{a.value={...o}}),{localFilterState:a,menu:i,submitFilter:()=>{console.log(a),t("update:filterState",{...a.value}),t("submit"),i.value=!1},handleClear:()=>{t("clear"),i.value=!1}}}};function Ud(e,t,a,i,n,s){const o=x("ue-form");return d(),y("div",null,[f(He,{modelValue:i.menu,"onUpdate:modelValue":t[1]||(t[1]=l=>i.menu=l),"close-on-content-click":!1,location:"bottom"},{activator:u(({props:l})=>[f(q,P({color:"primary"},l),{default:u(()=>[D(E(a.buttonText),1)]),_:2},1040)]),default:u(()=>[f(ce,{"min-width":"300"},{default:u(()=>[f(Ae,null,{default:u(()=>[f(o,{ref:"form",schema:a.schema,"has-submit":"",modelValue:i.localFilterState,"onUpdate:modelValue":t[0]||(t[0]=l=>i.localFilterState=l),onSubmit:i.submitFilter},{submit:u(()=>[f(q,{color:"primary",class:"mt-4 mr-2",type:"button",loading:a.loading,onClick:i.submitFilter},{default:u(()=>[D(" Apply Filters ")]),_:1},8,["loading","onClick"]),f(q,{color:"secondary",class:"mt-4 ml-2",type:"button",loading:a.loading,onClick:i.handleClear},{default:u(()=>[D(" Clear Filters ")]),_:1},8,["loading","onClick"])]),_:1},8,["schema","modelValue","onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Nd=Z(Ld,[["render",Ud]]),Bd=Object.freeze(Object.defineProperty({__proto__:null,default:Nd},Symbol.toStringTag,{value:"Module"})),xd={name:"ue-dynamic-component-renderer",props:{subject:{type:String,required:!0}},data(){return{parsedComponent:null,isVueComponent:!1}},mounted(){this.parseSubject()},methods:{parseSubject(){(this.subject.startsWith("<v-")||this.subject.startsWith("<ue-"))&&this.subject.endsWith(">")?(this.isVueComponent=!0,this.parsedComponent=this.parseComponentString(this.subject)):this.isVueComponent=!1},parseComponentString(e){const i=new DOMParser().parseFromString(e,"text/html").body.firstChild,n=i.tagName.toLowerCase();let s={};const o=i.textContent;for(let l=0;l<i.attributes.length;l++){const m=i.attributes[l];s[m.name]=m.value}return s={...s,...this.$bindAttributes()},{name:n,props:s,content:o}}},watch:{subject(){this.parseSubject()}}};function jd(e,t,a,i,n,s){return n.isVueComponent?(d(),g(Te(n.parsedComponent.name),te(P({key:0},n.parsedComponent.props)),{default:u(()=>[D(E(n.parsedComponent.content),1)]),_:1},16)):(d(),y(F,{key:1},[D(E(a.subject),1)],64))}const zd=Z(xd,[["render",jd]]),Kd=Object.freeze(Object.defineProperty({__proto__:null,default:zd},Symbol.toStringTag,{value:"Module"})),qd={data(){return{fileUrls:[],thumbnailUrls:[],isImageArray:[],loadingStates:[],downloadingStates:[],previewDialogs:[]}},props:{source:{type:[Object,Array],required:!0},imageSize:{type:Number,default:64},showFileName:{type:Boolean,default:!1},showInlineFileName:{type:Boolean,default:!1},maxFileNameLength:{type:Number,default:10},noOverlay:{type:Boolean,default:!1},showDate:{type:Boolean,default:!1}},computed:{normalizedSource(){return Array.isArray(this.source)?this.source:[this.source]}},methods:{processSource(){const e=this.normalizedSource.length;this.loadingStates=new Array(e).fill(!1),this.downloadingStates=new Array(e).fill(!1),this.previewDialogs=new Array(e).fill(!1),this.fileUrls=new Array(e).fill(null),this.thumbnailUrls=new Array(e).fill(null),this.isImageArray=new Array(e).fill(!1),this.normalizedSource.forEach((t,a)=>{this.isImageFile(t.file_name)&&this.generateThumbnail(t.uuid,a)})},isImageFile(e){const t=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(t)},async generateThumbnail(e,t){try{const a=await fetch(`/api/filepond/preview/${e}`);if(!a.ok)throw new Error("Failed to fetch thumbnail");const i=await a.blob();i.type.startsWith("image/")&&(this.thumbnailUrls[t]=URL.createObjectURL(i))}catch(a){console.error("Error generating thumbnail:",a)}},getFileIcon(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"mdi-file-pdf-box";case"doc":case"docx":return"mdi-file-word";case"xls":case"xlsx":return"mdi-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"mdi-file-image";default:return"mdi-file-document-outline"}},getFileIconColor(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"red";case"doc":case"docx":return"blue";case"xls":case"xlsx":return"green";case"jpg":case"jpeg":case"png":case"gif":return"purple";default:return"grey"}},async previewFile(e){this.previewDialogs[e]=!0,this.fileUrls[e]||(this.loadingStates[e]=!0,await this.fetchFile(this.normalizedSource[e].uuid,e))},async downloadFile(e){const t=this.normalizedSource.findIndex(a=>a.uuid===e);this.downloadingStates[t]=!0;try{const a=await fetch(`/api/filepond/preview/${e}`);if(!a.ok)throw new Error("Download failed");const i=await a.blob(),n=window.URL.createObjectURL(i),s=document.createElement("a");s.href=n,s.download=this.normalizedSource[t].file_name,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),s.remove()}catch(a){console.error("Error downloading file:",a)}finally{this.downloadingStates[t]=!1}},async fetchFile(e,t){try{const a=await fetch(`/api/filepond/preview/${e}`);if(!a.ok)throw new Error("Network response was not ok");const i=await a.blob();this.isImageArray[t]=i.type.startsWith("image/"),this.fileUrls[t]=URL.createObjectURL(i)}catch(a){console.error("Error fetching file:",a)}finally{this.loadingStates[t]=!1}},shortenFileName(e){if(e.length<=this.maxFileNameLength)return e;const t=e.split(".").pop();return`${e.slice(0,e.lastIndexOf(".")).slice(0,this.maxFileNameLength)}...${t}`}},mounted(){this.processSource()}},Hd={key:0,class:"d-flex align-center px-4"},Gd={class:"text-body-2 text-truncate"},Wd={key:1,class:"ml-auto mr-1"},Yd={class:"text-caption text-truncate"},Zd={key:2,class:"overlay-content d-flex align-center justify-center"},Qd={class:"d-flex justify-center align-center",style:{height:"calc(100vh - 64px)"}},Xd=["src"];function Jd(e,t,a,i,n,s){return d(),y("div",{class:W(["d-flex ga-2",a.showInlineFileName||a.showFileName?"flex-wrap":""])},[(d(!0),y(F,null,B(s.normalizedSource,(o,l)=>(d(),y("div",{key:o.uuid,class:"file-preview-item",style:me({width:a.showInlineFileName||a.showFileName?"100%":"aut"})},[f(wt,null,{default:u(({isHovering:m,props:c})=>[f(ce,P({ref_for:!0},c,{class:"rounded position-relative d-flex bg-transparent",width:a.showInlineFileName||a.showFileName?"100%":`${a.imageSize}`,height:a.imageSize,elevation:m?4:0,onClick:r=>s.previewFile(l)}),{default:u(()=>[b("div",{style:me({width:`${a.imageSize}px`,height:`${a.imageSize}px`}),class:"position-relative flex-grow-0"},[n.thumbnailUrls[l]?(d(),g(ut,{key:0,src:n.thumbnailUrls[l],height:"100%",width:"100%",cover:""},{placeholder:u(()=>[f(le,{color:s.getFileIconColor(o.file_name),size:"32"},{default:u(()=>[D(E(s.getFileIcon(o.file_name)),1)]),_:2},1032,["color"])]),_:2},1032,["src"])):(d(),g(Ae,{key:1,class:"pa-0 d-flex justify-center align-center",style:{height:"100%"}},{default:u(()=>[f(le,{color:s.getFileIconColor(o.file_name),size:"32"},{default:u(()=>[D(E(s.getFileIcon(o.file_name)),1)]),_:2},1032,["color"])]),_:2},1024))],4),a.showInlineFileName||a.showFileName?(d(),y("div",Hd,[b("span",Gd,E(s.shortenFileName(o.file_name)),1)])):k("",!0),a.showDate?(d(),y("div",Wd,[b("span",Yd,E(e.$d(new Date(o.created_at),"numeric-full")),1)])):k("",!0),m&&!a.noOverlay?(d(),y("div",Zd,[f(q,{icon:"mdi-download",size:"x-small",color:"white",variant:"text",onClick:Le(r=>s.downloadFile(o.uuid),["stop"]),loading:n.downloadingStates[l]},null,8,["onClick","loading"]),f(q,{icon:"mdi-eye",size:"x-small",color:"white",variant:"text",onClick:Le(r=>s.previewFile(l),["stop"]),loading:n.downloadingStates[l]},null,8,["onClick","loading"])])):k("",!0)]),_:2},1040,["width","height","elevation","onClick"])]),_:2},1024),f(Ht,{modelValue:n.previewDialogs[l],"onUpdate:modelValue":m=>n.previewDialogs[l]=m,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:u(()=>[f(ce,null,{default:u(()=>[f(_a,{dark:"",color:"primary"},{default:u(()=>[f(q,{icon:"",dark:"",onClick:m=>n.previewDialogs[l]=!1},{default:u(()=>[f(le,{color:"white",icon:"$close"})]),_:2},1032,["onClick"]),f(ba,null,{default:u(()=>[D(E(o.file_name),1)]),_:2},1024),f(Se)]),_:2},1024),f(Ae,{class:"pa-0"},{default:u(()=>[b("div",Qd,[n.loadingStates[l]?(d(),g(Ua,{key:0,indeterminate:"",color:"primary"})):k("",!0),!n.loadingStates[l]&&n.isImageArray[l]?(d(),g(ut,{key:1,src:n.fileUrls[l],contain:"","max-height":"90vh"},null,8,["src"])):!n.loadingStates[l]&&n.fileUrls[l]?(d(),y("iframe",{key:2,src:n.fileUrls[l],width:"100%",height:"100%",frameborder:"0"},null,8,Xd)):k("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])],4))),128))],2)}const eu=Z(qd,[["render",Jd],["__scopeId","data-v-f4078cbc"]]),tu=Object.freeze(Object.defineProperty({__proto__:null,default:eu},Symbol.toStringTag,{value:"Module"}));function Ka(e){let t=null;const a=!1;let i=/[^\[\]]+|\[\]/g,n=null,s=[];function o(I){return!!(I&&typeof I=="object"&&"nodeType"in I&&I.nodeType===1)}function l(I){if(!(!I||typeof I!="object"))return Object.keys(I).filter(function(O){return!isNaN(parseInt(O,10))}).splice(-1)[0]}function m(I){const O=l(I);return typeof O=="string"?parseInt(O,10):0}function c(I){const O=l(I);return typeof O=="string"?parseInt(O,10)+1:0}function r(I){if(typeof I!="object"||I===null)return 0;let O=0,j;if(typeof Object.keys=="function")O=Object.keys(I).length;else for(j in I)I.hasOwnProperty(j)&&O++;return O}function h(I,O){if([].forEach)return[].forEach.call(I,O);let j;for(j=0;j<I.length;j++)O.call(I,I[j],j)}function _(I){return!I||(t=I,!p())||!M()?!1:V()}function p(){switch(typeof t){case"string":n=document.getElementById(t);break;case"object":o(t)&&(n=t);break}return n}function A(){return!!(n.enctype&&n.enctype==="multipart/form-data")}function M(){return s=n.querySelectorAll("input, textarea, select"),s.length}function S(I){return I.nodeName==="INPUT"&&I.type==="radio"}function v(I){return I.nodeName==="INPUT"&&I.type==="checkbox"}function C(I){return I.nodeName==="INPUT"&&I.type==="file"}function w(I){return I.nodeName==="TEXTAREA"}function T(I){return I.nodeName==="SELECT"&&I.type==="select-one"}function N(I){return I.nodeName==="SELECT"&&I.type==="select-multiple"}function G(I){return I.nodeName==="BUTTON"&&I.type==="submit"}function K(I){return I.checked}function J(I){return window.FileList&&I.files instanceof window.FileList}function L(I){if(S(I)||v(I))return K(I)?I.value:!1;if(C(I))return A()?J(I)&&I.files.length>0?I.files:I.value&&I.value!==""?I.value:!1:!1;if(w(I))return I.value&&I.value!==""?I.value:!1;if(T(I))return I.value&&I.value!==""?I.value:I.options&&I.options.length&&I.options[0].value!==""?I.options[0].value:!1;if(N(I))if(I.options&&I.options.length>0){const O=[];return h(I.options,function(j){j.selected&&O.push(j.value)}),O.length?O:!1}else return!1;return G(I)?I.value&&I.value!==""?I.value:I.innerText&&I.innerText!==""?I.innerText:!1:typeof I.value<"u"&&I.value!==""?I.value:!1}function R(I,O,j,Q){const ae=O[0];if(S(I))return j!==!1?(Q[ae]=j,j):void 0;if(v(I))return j!==!1?(Q[ae]||(Q[ae]=[]),Q[ae].push(j)):void 0;if(N(I))if(j!==!1)Q[ae]=j;else return;return Q[ae]=j,j}function $(I,O,j,Q){const ae=O[0];if(O.length>1)return ae==="[]"?(Q[c(Q)]={},$(I,O.splice(1,O.length),j,Q[m(Q)])):(Q[ae]&&r(Q[ae])>0||(Q[ae]={}),$(I,O.splice(1,O.length),j,Q[ae]));if(O.length===1)return ae==="[]"?(Q[c(Q)]=j,Q):(R(I,O,j,Q),Q)}function V(){let I=0,O,j,Q;const ae={};for(I=0;I<s.length;I++)j=s[I],!(!j.name||j.name===""||j.disabled||S(j)&&!K(j))&&(Q=L(j),!(Q===!1&&!a)&&(O=j.name.match(i),O.length===1&&R(j,O,Q||"",ae),O.length>1&&$(j,O,Q||"",ae)));return r(ae)>0?ae:!1}return _(e)}const au={name:"UEFilter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default(){return ca().appContext.config.globalProperties.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},filterState:{type:Object,required:!0}},emits:["update:filterState","submit","clear"],data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,t){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{e.style.overflow="visible"},275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,t){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){const e=Ka(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:Dn(function(){this.resetHeight()},50),updateSearch(e){this.$emit("update:filterState",{...this.filterState,search:e})}},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},su={class:"filter__inner"},iu={class:"filter__navigation"},nu={class:"filter__search"},lu={class:"float-right",symbol:"dropdown_module"},ru=["aria-hidden"],ou={class:"filter__moreInner",ref:"moreInner"};function du(e,t,a,i,n,s){const o=x("ue-btn"),l=We("svg");return d(),y("div",null,[b("form",{class:W(["filter",{"filter--opened":s.opened,"filter--single":!e.withNavigation,"filter--withHiddenFilters":e.withHiddenFilters}]),onSubmit:t[0]||(t[0]=Le((...m)=>s.submitFilter&&s.submitFilter(...m),["prevent"])),ref:"form"},[b("div",su,[b("div",iu,[z(e.$slots,"navigation",{},void 0,!0)]),b("div",nu,[f(je,{type:"search",class:"form__input form__input--small v-filter__search__input",name:"search",modelValue:a.filterState.search,"onUpdate:modelValue":s.updateSearch,placeholder:a.placeholder,variant:"outlined","hide-details":"true"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.withHiddenFilters?(d(),g(o,{key:0,class:"filter__toggle",variant:"outlined",onClick:s.toggleFilter,"aria-expanded":s.opened?"true":"false",fab:""},{default:u(()=>[D(E(e.$trans("filter.toggle-label","Filter"))+" ",1),ve(b("span",lu,null,512),[[l]])]),_:1},8,["onClick","aria-expanded"])):k("",!0),z(e.$slots,"additional-actions",{},void 0,!0)])]),f(At,{css:!1,duration:275,onBeforeEnter:s.beforeEnter,onEnter:s.enter,onBeforeLeave:s.beforeLeave,onLeave:s.leave},{default:u(()=>[e.withHiddenFilters?ve((d(),y("div",{key:0,class:"filter__more","aria-hidden":s.opened?null:!0,ref:"more"},[b("div",ou,[z(e.$slots,"hidden-filters",{},void 0,!0),f(o,{variant:"outlined",type:"submit"},{default:u(()=>[D(E(e.$trans("filter.apply-btn","Apply")),1)]),_:1}),a.clearOption?(d(),g(o,{key:0,variant:"elavated",type:"button",onClick:s.clear},{default:u(()=>[D(E(e.$trans("filter.clear-btn","Clear")),1)]),_:1},8,["onClick"])):k("",!0)],512)],8,ru)),[[Tt,s.opened]]):k("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],34),z(e.$slots,"default",{},void 0,!0)])}const uu=Z(au,[["render",du],["__scopeId","data-v-e1692dd5"]]),cu=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"})),Aa=ke({ignoreFormatters:{type:[Array],default:[]}});function Ei(e,t,a){const{d:i}=we({useScope:"global"}),n=X(a.filter(l=>Object.prototype.hasOwnProperty.call(l,"formatter")&&l.formatter.length>0&&(!Object.prototype.hasOwnProperty.call(e,"ignoreFormatters")||!e.ignoreFormatters.includes(l.formatter[0])))),s=re({dateFormatter:function(l,m="long"){return{configuration:s.makeText(i(new Date(l),m))}},chipFormatter:function(l,m=""){return{configuration:s.makeChip(l,m)}},editFormatter:function(l){return{configuration:{elements:`${l}`,tag:"span",attributes:{onClick:"editItem"}}}},pascalFormatter:function(l){return H.startCase(H.camelCase(l)).replace(/ /g,"")},priceFormatter:(l,m="₺",c=null)=>({configuration:{elements:[{tag:"p",attributes:{class:"featured"},elements:`${m}${l}`},{tag:"p",attributes:{class:"value"},elements:`${c?`+${c}`:""}`}]}}),statusFormatter:(l,m=null,c=null)=>({configuration:{tag:"p",attributes:{style:{color:(c==null?void 0:c[l])??"red"}},elements:(m==null?void 0:m[l])??l}}),makeChip:function(l,m=""){return{tag:"v-chip",attributes:{color:m},elements:l}},makeText:function(l){return{elements:l}},shortenFormatter:function(l,m=10){return{configuration:{elements:window.__shorten(l,m)}}}});function o(l,m){let c=H.cloneDeep(l);const h=`${c.shift()}Formatter`;try{return s[h](m,...H(c))}catch(_){console.error(`${_}: ${h}`)}}return{formatterColumns:n,handleFormatter:o,...ie(s)}}const Ce=ke({modelValue:null,obj:{type:Object,default(){return{}}},label:{type:String,default:""}}),Ie=["update:modelValue","change","update:preview"],mu=["manualValidation","tester"];function De(e,t){const{modelValue:a,obj:i}=ie(e),n=X(null),s=re({VInput:n,id:Math.ceil(Math.random()*1e6)+"-input",boundProps:St(i.value.schema??{},["offset","order","col"]),input:U({get:()=>{var m,c;let l=a.value??(e==null?void 0:e.default)??((c=(m=e==null?void 0:e.obj)==null?void 0:m.schema)==null?void 0:c.default)??[];return t.initializeInput?t.initializeInput(l):l},set:(l,m)=>{t.updateModelValue?t.updateModelValue(l,m):o.emitModelValue(l,m)}})}),o=re({async validate(){this.$refs.VInput&&await this.$refs.VInput.validate()},updateModelValue:function(l,m){t.emit("update:modelValue",l,m)},emitModelValue:function(l,m){t.emit("update:modelValue",l,m)},makeReference(l){return`${l}-${s.id}`},getReference(l){return o.makeReference(l)}});return{...ie(o),...ie(s)}}function Zt(){const e=re({passwordHandler:function(a,i){a.schema[`${i}Icon`]=a.schema.type==="password"?"$visibility":"$non-visibility",a.schema.type=a.schema.type==="password"?"text":"password"}});function t(a,i){const n=H.camelCase(i);if(Object.prototype.hasOwnProperty.call(a.schema,"slotHandlers")&&Object.prototype.hasOwnProperty.call(a.schema.slotHandlers,n)){const o=`${H.camelCase(a.schema.slotHandlers[n])}Handler`;return e[o](a,n)}}return{invokeInputClickHandler:t,...ie(e)}}const wi=typeof window<"u";wi&&function(){const e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}();const fu=wi&&window.performance&&window.performance.now?window.performance:Date;let hu=pu();function pu(){return fu.now().toFixed(3)}function gu(e,t){const a=window.history;try{t&&a.replaceState({key:hu},"",e)}catch{window.location.replace(e)}}function qa(e){gu(e,!0)}function Si(){return location.protocol+"//"+location.host+location.pathname}function ki(e=window.location){let t={};return new URL(e).searchParams.forEach(function(a,i){t[i]!==void 0?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(a)):t[i]=a}),t}function Ci(e,t){const a=Object.keys(e).map(i=>{const n=e[i];return e.constructor===Array?i=`${t}[]`:e.constructor===Object&&(i=t?`${t}[${i}]`:i),typeof n=="object"?Ci(n,i):`${i}=${encodeURIComponent(n)}`});return[].concat.apply([],a).join("&")}function Ti(e,t,a){let i="";return __isString(t)?i=t:i=Ci(t,a),i.length>0&&(i="?"+i),e+i}var yu={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function Oe(e=null,t={message:"",value:null}){var s,o,l,m,c;let a="";e&&typeof e=="string"&&(a=`${yu.VUE_APP_NAME} - [${e}]: `);const i=a+t.message,n=((o=(s=t==null?void 0:t.value)==null?void 0:s.response)==null?void 0:o.status)??((l=t==null?void 0:t.response)==null?void 0:l.status)??null;console.error(i),t!=null&&t.value&&((m=t.value)!=null&&m.response)&&((c=t.value.response)!=null&&c.data)&&console.error(t.value.response.data),n===401||n===419?window.vm.config.globalProperties.$dialog({message:'Your session has expired, please <a class="v-btn v-btn--slim text-primary v-btn--density-default v-btn--size-default mr-12" href="'+document.location+'" target="_blank">login in another tab</a>'}):window.vm.config.globalProperties.$notif({message:t.message,variant:"error"})}var Ze={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const Qe="DATATABLE",ha={get(e,t,a,i=null){Ee.get(e,{params:t}).then(function(n){if(n.data.replaceUrl){const s=n.request.responseURL;qa(s)}a&&typeof a=="function"&&a(n.data,n)},function(n){i&&typeof i=="function"&&i({message:"Get request error.",value:n})})},delete(e,t){const a=window[Ze.VUE_APP_NAME].ENDPOINTS.destroy.replace(":id",e);Ee.delete(a).then(function(i){t&&typeof t=="function"&&t(i)},function(i){Oe(Qe,{message:"Delete request error.",value:i})})},forceDelete(e,t){const a=window[Ze.VUE_APP_NAME].ENDPOINTS.forceDelete;Ee.put(a,{id:e}).then(function(i){t&&typeof t=="function"&&t(i)},function(i){Oe(Qe,{message:"Force Delete request error.",value:i})})},restore(e,t){const a=window[Ze.VUE_APP_NAME].ENDPOINTS.restore;Ee.put(a,{id:e}).then(function(i){t&&typeof t=="function"&&t(i)},function(i){Oe(Qe,{message:"Restore request error.",value:i})})},duplicate(e,t){const a=window[Ze.VUE_APP_NAME].ENDPOINTS.duplicate.replace(":id",e);Ee.put(a).then(function(i){t&&typeof t=="function"&&t(i)},function(i){Oe(Qe,{message:"Duplicate request error.",value:i})})},reorder(e=null,t,a){const i=e??window[Ze.VUE_APP_NAME].ENDPOINTS.reorder;Ee.post(i,{ids:t}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){Oe(Qe,{message:"Reorder request error.",value:n})})},bulkPublish(e,t){Ee.post(window[Ze.VUE_APP_NAME].CMS_URLS.bulkPublish,{ids:e.ids,publish:e.toPublish}).then(function(a){t&&typeof t=="function"&&t(a)},function(a){Oe(Qe,{message:"Bulk publish request error.",value:a})})},bulkFeature(e,t){Ee.post(window[Ze.VUE_APP_NAME].CMS_URLS.bulkFeature,{ids:e.ids,feature:e.toFeature}).then(function(a){t&&typeof t=="function"&&t(a)},function(a){Oe(Qe,{message:"Bulk feature request error.",value:a})})},bulkDelete(e,t){Ee.post(window[Ze.VUE_APP_NAME].ENDPOINTS.bulkDelete,{ids:e}).then(function(a){t&&typeof t=="function"&&t(a)},function(a){Oe(Qe,{message:"Bulk delete request error.",value:a})})},bulkRestore(e,t){Ee.post(window[Ze.VUE_APP_NAME].ENDPOINTS.bulkRestore,{ids:e}).then(function(a){t&&typeof t=="function"&&t(a)},function(a){Oe(Qe,{message:"Bulk restore request error.",value:a})})},bulkDestroy(e,t){Ee.post(window[Ze.VUE_APP_NAME].ENDPOINTS.bulkForceDelete,{ids:e}).then(function(a){t&&typeof t=="function"&&t(a)},function(a){Oe(Qe,{message:"Bulk destroy request error.",value:a})})}},_u="moveBlockToEditor",bu="duplicateBlock",vu="getBucketsData",Au="saveBuckets",Eu="getDatatableDatas",wu="setDatatableNestedDatas",Su="setDatatableDatas",ku="togglePublishedData",Cu="deleteData",Tu="duplicateData",Mu="restoreData",Iu="destroyData",Du="toggleFeaturedData",Ou="bulkPublishData",Vu="bulkFeatureData",Fu="bulkExportData",Pu="bulkDeleteData",$u="bulkRestoreData",Ru="bulkDestroyData",Lu="replaceFormData",Uu="saveFormData",Nu="updateFormInListing",Bu="createFormInModal",xu="getAllPreviews",ju="getPreview",zu="getRevisionContent",Ku="getCurrentContent",qu="handleErrors",_e={HANDLE_ERRORS:qu,GET_BUCKETS:vu,SAVE_BUCKETS:Au,GET_DATATABLE:Eu,SET_DATATABLE_NESTED:wu,SET_DATATABLE:Su,TOGGLE_PUBLISH:ku,DELETE_ITEM:Cu,DUPLICATE_ITEM:Tu,RESTORE_ITEM:Mu,DESTROY_ITEM:Iu,TOGGLE_FEATURE:Du,BULK_PUBLISH:Ou,BULK_FEATURE:Vu,BULK_EXPORT:Fu,BULK_DELETE:Pu,BULK_RESTORE:$u,BULK_DESTROY:Ru,REPLACE_FORM:Lu,SAVE_FORM:Uu,UPDATE_FORM_IN_LISTING:Nu,CREATE_FORM_IN_MODAL:Bu,GET_ALL_PREVIEWS:xu,GET_PREVIEW:ju,GET_REVISION:zu,GET_CURRENT:Ku,MOVE_BLOCK_TO_EDITOR:_u,DUPLICATE_BLOCK:bu},Ha=()=>{const e=Me();return Object.fromEntries(Object.keys(e.getters).map(t=>[t,U(()=>e.getters[t])]))};var aa={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},gs,ys,_s,bs;const Hu={test:((gs=window[aa.VUE_APP_NAME])==null?void 0:gs.STORE.config.test)??!1,profileMenu:((ys=window[aa.VUE_APP_NAME])==null?void 0:ys.STORE.config.profileMenu)??[],sidebarStatus:!0,sidebarOptions:((_s=window[aa.VUE_APP_NAME])==null?void 0:_s.STORE.config.sidebarOptions)??!1,secondarySidebarOptions:((bs=window[aa.VUE_APP_NAME])==null?void 0:bs.STORE.config.secondarySidebarOptions)??!1,isRequestInProgress:!1,ongoingAxiosRequests:0},Gu={sidebarStatus:e=>e.sidebarStatus,sidebarOptions:e=>e.sidebarOptions,secondarySidebarOptions:e=>e.secondarySidebarOptions,profileMenu:e=>e.profileMenu,isRequestInProgress:e=>e.isRequestInProgress,ongoingAxiosRequests:e=>e.ongoingAxiosRequests},Wu={[qe.SIDEBAR_TOGGLE](e){e.sidebarStatus=!e.sidebarStatus},[qe.SET_SIDEBAR](e,t=!0){e.sidebarStatus=t},[qe.SET_REQUEST_IN_PROGRESS](e,t=!0){e.isRequestInProgress=t},[qe.INCREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests+=1,e.isRequestInProgress=e.ongoingAxiosRequests>0},[qe.DECREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests-=1,e.isRequestInProgress=e.ongoingAxiosRequests>0}},Yu={state:Hu,getters:Gu,mutations:Wu},Qt={slugify:function(e){const t={",":"-","/":"-",":":"-",";":"-",_:"-","©":"(c)","·":"-",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",þ:"th",ÿ:"y",ā:"a",ă:"a",ą:"a",ć:"c",č:"c",ď:"d",ē:"e",ę:"e",ě:"e",ğ:"g",ģ:"g",ī:"i",ı:"i",ķ:"k",ļ:"l",ł:"l",ń:"n",ņ:"n",ň:"n",ő:"o",œ:"oe",ŕ:"r",ř:"r",ś:"s",ş:"s",š:"s",ť:"t",ū:"u",ů:"u",ű:"u",ź:"z",ż:"z",ž:"z",ǘ:"u",ǵ:"g",ǹ:"n",ș:"s",ț:"t",ΐ:"i",ά:"a",έ:"e",ή:"h",ί:"i",ΰ:"y",α:"a",β:"b",γ:"g",δ:"d",ε:"e",ζ:"z",η:"h",θ:"8",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"3",ο:"o",π:"p",ρ:"r",ς:"s",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"w",ϊ:"i",ϋ:"y",ό:"o",ύ:"y",ώ:"w",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ж:"zh",з:"z",и:"i",й:"j",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",ё:"yo",є:"ye",і:"i",ї:"yi",ґ:"g",ḧ:"h",ḿ:"m",ṕ:"p",ẃ:"w",ẍ:"x",ә:"a",ғ:"g",қ:"q",ң:"n",ө:"o",ұ:"u"},a=new RegExp(Object.keys(t).join("|"),"g");return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(a,i=>t[i]).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||e===0?e.toString().toUpperCase():""},lowercase:function(e){return e||e===0?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},Zu=1,Qu="Wire",Xu=1,Ju="Modules\\Package\\Entities\\PackageCountry",ec="Test Deneme",tc=0,ac="2023-12-07T12:35:43.000000Z",sc="2024-08-15T13:56:51.000000Z",ic=null,nc=1,lc=2,rc=1,oc=[{package_id:1,package_feature_id:1,position:1,active:"0"},{package_id:1,package_feature_id:2,position:2,active:"0"},{package_id:1,package_feature_id:4,position:4,active:"0"},{package_id:1,package_feature_id:5,position:5,active:"0"},{package_id:1,package_feature_id:6,position:6,active:"0"}],dc=[{id:1,price_type_id:1,vat_rate_id:1,currency_id:1,display_price:50},{id:2,price_type_id:1,vat_rate_id:1,currency_id:2,display_price:55},{id:3,price_type_id:1,vat_rate_id:1,currency_id:3,display_price:1e3}],Ma={id:Zu,name:Qu,packageable_id:Xu,packageable_type:Ju,description:ec,published:tc,created_at:ac,updated_at:sc,deleted_at:ic,package_country_id:nc,package_region_id:lc,package_continent_id:rc,packageFeatures:oc,prices:dc},uc={type:"input-repeater",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2",sm:12,md:12,lg:12,xl:12},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"packageFeatures",label:"Please select the features",default:[],max:3,draggable:!0,rowAttribute:{noGutters:!0},schema:{package_feature_id:{type:"combobox",hint:"",placeholder:"",errorMessages:[],col:{cols:10,class:"",lg:11},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"solo",clearable:!1,name:"package_feature_id",default:0,class:"pt-0 required",hideDetails:!0,returnObject:!1,rules:"required",itemValue:"id",itemTitle:"description",slots:{item:{elements:[{tag:"v-list-item",attributes:{title:["$props.title","__shorten"]},bind:"$props"}]}},translated:!1,cascadeKey:"items",items:[{id:0,description:"Please Select"},{id:1,description:"Free Distribution"},{id:2,description:"10 release contents"},{id:4,description:"Writing SEO friendly press release in English (max 400 words)"},{id:5,description:"Distributing to segmented media lists"},{id:6,description:"Distributing to partnered websites"}]},active:{type:"select",hint:"",placeholder:"",errorMessages:[],col:{cols:2,class:"",lg:1},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"solo",clearable:!1,name:"active",class:"",default:"1",menuIcon:"",hideDetails:!0,returnObject:!1,style:"border-radius: 0px;",itemValue:"id",itemTitle:"name",items:[{id:"1",name:"Yes"},{id:"0",name:"No"}],translated:!1,cascadeKey:"items"}},autoIdGenerator:!0,itemValue:"id",itemTitle:"name",orderKey:"position",singularLabel:"Please select the feature",items:[{id:1,name:null},{id:2,name:null},{id:4,name:null},{id:5,name:null},{id:6,name:null}]},cc={type:"switch",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"published",label:"Status",color:"success",trueValue:1,falseValue:0,hideDetails:!0,default:0},mc={type:"input-image",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"logo",label:"Logo",rules:"sometimes|required:array",translated:!1,default:[],class:"required"},fc={type:"input-filepond",hint:"",placeholder:"",errorMessages:[],col:{cols:6,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"avatar",label:"Avatar","allow-image-preview":!0,"label-idle":"Drop files here...",default:[],"accepted-file-types":["image/*, file/*"],"allow-multiple":!0,"max-files":null,"allow-drop":!0,"allow-replace":!0,"allow-remove":!0,"allow-reorder":!1,"allow-process":!0,"drop-on-page":!1,"drop-on-element":!0,"drop-validation":!1,credits:!1,inputName:"avatar",endPoints:{process:"http://app.b2press.test/api/filepond/process",revert:"http://app.b2press.test/api/filepond/revert",load:"http://app.b2press.test/api/filepond/preview/"},"label-invalid-field":"filepon-invalid-field-label","label-file-loading":"filepond-loading-lable","label-file-load-error":"filepond-loading-error-lable","label-file-processing":"filepond-processing-lable","label-file-remove-error":"filepond-removing-error-lable"},hc={type:"input-checklist-group",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"locations",default:[],ext:"filter:2.packages:items:group|preview:schema.$group.items.*.name:items",schema:{packageCountry:{type:"input-checklist",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"packageCountry",label:"Select Your Country",selectedLabel:"Selected Countries",_moduleName:"Package",_routeName:"PackageCountry",itemValue:"id",itemTitle:"name",default:[],cascadeKey:"items",items:[{id:1,name:"Turkey",package_languages:[{id:1,published:0,created_at:"2023-12-07T12:35:02.000000Z",updated_at:"2023-12-07T12:35:02.000000Z",deleted_at:null,name:"Turkish",code:"tr",active:0,pivot:{package_languageable_type:"Modules\\Package\\Entities\\PackageCountry",package_languageable_id:1,package_language_id:1},translations:[{id:2,package_language_id:1,deleted_at:null,created_at:"2023-12-07T12:35:02.000000Z",updated_at:"2023-12-07T12:35:02.000000Z",locale:"en",active:0,name:"Turkish",code:"tr"},{id:1,package_language_id:1,deleted_at:null,created_at:"2023-12-07T12:35:02.000000Z",updated_at:"2023-12-07T12:35:02.000000Z",locale:"tr",active:1,name:"Türkçe",code:"tr"}]},{id:2,published:0,created_at:"2023-12-07T12:35:15.000000Z",updated_at:"2023-12-07T12:35:15.000000Z",deleted_at:null,name:"English",code:"en",active:0,pivot:{package_languageable_type:"Modules\\Package\\Entities\\PackageCountry",package_languageable_id:1,package_language_id:2},translations:[{id:4,package_language_id:2,deleted_at:null,created_at:"2023-12-07T12:35:15.000000Z",updated_at:"2024-02-14T08:12:02.000000Z",locale:"en",active:0,name:"English",code:"en"},{id:3,package_language_id:2,deleted_at:null,created_at:"2023-12-07T12:35:15.000000Z",updated_at:"2024-02-14T08:12:02.000000Z",locale:"tr",active:1,name:"İngilizce",code:"en"}]},{id:3,published:0,created_at:"2024-06-13T08:21:38.000000Z",updated_at:"2024-06-13T08:21:38.000000Z",deleted_at:null,name:"French",code:"fr",active:0,pivot:{package_languageable_type:"Modules\\Package\\Entities\\PackageCountry",package_languageable_id:1,package_language_id:3},translations:[{id:6,package_language_id:3,deleted_at:null,created_at:"2024-06-13T08:21:38.000000Z",updated_at:"2024-06-13T08:21:38.000000Z",locale:"en",active:0,name:"French",code:"fr"},{id:5,package_language_id:3,deleted_at:null,created_at:"2024-06-13T08:21:38.000000Z",updated_at:"2024-06-13T08:21:38.000000Z",locale:"tr",active:1,name:"Fransızca",code:"fr"}]}]},{id:2,name:"France",package_languages:[{id:1,published:0,created_at:"2023-12-07T12:35:02.000000Z",updated_at:"2023-12-07T12:35:02.000000Z",deleted_at:null,name:"Turkish",code:"tr",active:0,pivot:{package_languageable_type:"Modules\\Package\\Entities\\PackageCountry",package_languageable_id:2,package_language_id:1},translations:[{id:2,package_language_id:1,deleted_at:null,created_at:"2023-12-07T12:35:02.000000Z",updated_at:"2023-12-07T12:35:02.000000Z",locale:"en",active:0,name:"Turkish",code:"tr"},{id:1,package_language_id:1,deleted_at:null,created_at:"2023-12-07T12:35:02.000000Z",updated_at:"2023-12-07T12:35:02.000000Z",locale:"tr",active:1,name:"Türkçe",code:"tr"}]},{id:2,published:0,created_at:"2023-12-07T12:35:15.000000Z",updated_at:"2023-12-07T12:35:15.000000Z",deleted_at:null,name:"English",code:"en",active:0,pivot:{package_languageable_type:"Modules\\Package\\Entities\\PackageCountry",package_languageable_id:2,package_language_id:2},translations:[{id:4,package_language_id:2,deleted_at:null,created_at:"2023-12-07T12:35:15.000000Z",updated_at:"2024-02-14T08:12:02.000000Z",locale:"en",active:0,name:"English",code:"en"},{id:3,package_language_id:2,deleted_at:null,created_at:"2023-12-07T12:35:15.000000Z",updated_at:"2024-02-14T08:12:02.000000Z",locale:"tr",active:1,name:"İngilizce",code:"en"}]},{id:3,published:0,created_at:"2024-06-13T08:21:38.000000Z",updated_at:"2024-06-13T08:21:38.000000Z",deleted_at:null,name:"French",code:"fr",active:0,pivot:{package_languageable_type:"Modules\\Package\\Entities\\PackageCountry",package_languageable_id:2,package_language_id:3},translations:[{id:6,package_language_id:3,deleted_at:null,created_at:"2024-06-13T08:21:38.000000Z",updated_at:"2024-06-13T08:21:38.000000Z",locale:"en",active:0,name:"French",code:"fr"},{id:5,package_language_id:3,deleted_at:null,created_at:"2024-06-13T08:21:38.000000Z",updated_at:"2024-06-13T08:21:38.000000Z",locale:"tr",active:1,name:"Fransızca",code:"fr"}]}]}]}},filterEndpoint:{packageCountry:"/packages/package-countries/{package_country}"},event:"formatFilter:2.packages:items:group|formatPreview:schema.$group.items.*.name:items"},pc={type:"input-form-tabs",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"packages",default:[],tabFields:{package_id:"packages",packageLanguages:"packageLanguages"},ext:"preview:items.*.name,items.*.packages.*.name,items.*.packageLanguages.*.name:*key,*.package_id,*.packageLanguages",schema:{package_id:{type:"input-comparison-table",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"package_id",label:"PACKAGES | DEFAULT COUNTRY",rules:"required",comparators:{packageFeatures:{key:"packageFeatures",eager:"packages.packageFeatures",field:"description"},prices:{key:"prices_show",title:"PRICE",eager:"packages.prices",itemClasses:"text-success font-weight-bold"}},class:"required"},packageLanguages:{type:"input-checklist",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,label:"Distribution Languages for $*.name",name:"packageLanguages",eager:"packageLanguages",rules:"array|min:2|max:3",_moduleName:"Package",_routeName:"PackageLanguage",itemValue:"id",itemTitle:"name",default:[],cascadeKey:"items",items:[{id:1,name:"Turkish"},{id:2,name:"English"},{id:3,name:"French"}]}},eagers:["packages.packageFeatures","packages.prices","packageLanguages"],event:"formatPreview:items.*.name,items.*.packages.*.name,items.*.packageLanguages.*.name:*key,*.package_id,*.packageLanguages"},gc={type:"input-repeater",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2",sm:12,md:12,lg:12,xl:12},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",withGutter:!0,name:"sessions",translated:!0,label:"Fill Session Information",default:[],max:3,draggable:!0,rowAttribute:{noGutters:!0},schema:{start_time:{type:"text",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,ext:"time",name:"start_time",label:"Start Time",default:"12:12",translated:!1},description:{type:"textarea",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"description",label:"Description",translated:!1}},autoIdGenerator:!0,orderKey:"position",singularLabel:"Fill Session Information"},yc={type:"group",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"settings",label:"Settings",schema:{"accept-guest-entries":{type:"checkbox",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"accept-guest-entries",label:"Accept Guest Entries",default:0,color:"success",trueValue:1,falseValue:0,hideDetails:!0,parentName:"settings"},"limit-per-participant":{type:"text",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"limit-per-participant",label:"Limit Per Participant",default:1,ext:"number",parentName:"settings"}},typeInt:"sheet",title:"Settings",default:{"accept-guest-entries":0,"limit-per-participant":1}},Ia={"wrap-670fad99ebaed":{type:"wrap",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2",md:6},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,schema:{package_continent_id:{type:"select",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"package_continent_id",label:"Continent",rules:"sometimes|required",ext:"morphTo",cascade:"package_region_id",itemValue:"id",itemTitle:"name",default:null,cascadeKey:"items",items:[{id:0,name:"Please Select"},{id:1,name:"Europe",items:[{id:2,package_continent_id:1,name:"Europe",items:[{id:1,package_region_id:2,name:"Turkey"},{id:2,package_region_id:2,name:"France"},{id:4,package_region_id:2,name:"Bulgaria"},{id:5,package_region_id:2,name:"Germany"}]}]},{id:2,name:"North America",items:[]},{id:3,name:"Africa",items:[{id:5,package_continent_id:3,name:"Americas",items:[{id:6,package_region_id:5,name:"Brasil"},{id:7,package_region_id:5,name:"USA"}]}]},{id:4,name:"South America",items:[]},{id:5,name:"Asia",items:[]},{id:6,name:"All",items:[{id:1,package_continent_id:6,name:"Global",items:[{id:3,package_region_id:1,name:"Global Distribution"}]},{id:3,package_continent_id:6,name:"Mena Region",items:[]},{id:4,package_continent_id:6,name:"Asia",items:[{id:8,package_region_id:4,name:"China"},{id:9,package_region_id:4,name:"India"}]}]}],class:"required required"},package_region_id:{type:"select",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"package_region_id",label:"Region",ext:"morphTo",cascade:"package_country_id",items:[{id:0,name:"Please Select"},{id:1,name:"Global"},{id:2,name:"Europe"},{id:3,name:"Mena Region"},{id:4,name:"Asia"},{id:5,name:"Americas"}],itemValue:"id",itemTitle:"name",default:null,cascadeKey:"items"},package_country_id:{type:"select",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"package_country_id",label:"Country",ext:"morphTo",items:[{id:0,name:"Please Select"},{id:1,name:"Turkey"},{id:2,name:"France"},{id:3,name:"Global Distribution"},{id:4,name:"Bulgaria"},{id:5,name:"Germany"},{id:6,name:"Brasil"},{id:7,name:"USA"},{id:8,name:"China"},{id:9,name:"India"}],itemValue:"id",itemTitle:"name",default:null,cascadeKey:"items"}},typeInt:"sheet",title:"",name:"wrap-670fad99ebaed",default:{package_continent_id:"",package_region_id:"",package_country_id:""}},"wrap-670fad99ecd1e":{type:"wrap",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2",md:6},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,schema:{name:{type:"text",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"name",label:"Name"},description:{type:"textarea",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2"},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!0,name:"description",label:"Description"},prices:{type:"input-price",hint:"",placeholder:"",errorMessages:[],col:{cols:12,class:"pb-2 pt-2",lg:12,sm:12},offset:{offset:0,"offset-sm":0,"offset-md":0,"offset-lg":0,"offset-xl":0},order:{order:0,"order-sm":0,"order-md":0,"order-lg":0,"order-xl":0},prependIcon:"",prependInnerIcon:"",appendIcon:"",appendInnerIcon:"",density:"comfortable",variant:"outlined",clearable:!1,name:"prices",label:"Price",rules:"sometimes:required",tooltip:"Lütfen ücret değerini sayı olarak giriniz.",default:[{display_price:"",currency_id:1}],items:[{id:1,name:"€",iso:"EUR"},{id:2,name:"$",iso:"USD"},{id:3,name:"₺",iso:"TRY"},{id:4,name:"£",iso:"GBP"},{id:5,name:"¥",iso:"JPY"},{id:6,name:"CA$",iso:"CAD"},{id:7,name:"A$",iso:"AUD"},{id:8,name:"CHF",iso:"CHF"},{id:9,name:"¥",iso:"CNY"},{id:10,name:"kr",iso:"SEK"},{id:11,name:"NZ$",iso:"NZD"},{id:12,name:"MX$",iso:"MXN"},{id:13,name:"S$",iso:"SGD"},{id:14,name:"HK$",iso:"HKD"},{id:15,name:"kr",iso:"NOK"},{id:16,name:"₩",iso:"KRW"},{id:17,name:"R$",iso:"BRL"},{id:18,name:"₽",iso:"RUB"},{id:19,name:"₹",iso:"INR"},{id:20,name:"R",iso:"ZAR"}],class:"required"}},typeInt:"sheet",title:"",name:"wrap-670fad99ecd1e",default:{name:"",description:"",prices:[{display_price:"",currency_id:1}]}},packageFeatures:uc,published:cc,logo:mc,avatar:fc,locations:hc,packages:pc,sessions:gc,settings:yc};var Mi={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const _c="input-treeview|treeview|input-checklist|input-repeater|input-file|input-image",Ge=(e,t=null,a=!1)=>{let i=H.omitBy(e,(n,s)=>Object.prototype.hasOwnProperty.call(n,"slotable")||Fi(n)||Ec(n));return i=H.reduce(i,(n,s,o)=>{var r,h;s.col.class=s._originalClass||((r=s.col)==null?void 0:r.class)||[],s._originalClass=s.col.class||[],s.disabled=__isset(s._originalDisabled)?s._originalDisabled:__isset(s.disabled)?s.disabled:!1,s._originalDisabled=s.disabled;let l=((h=s.col)==null?void 0:h.class)||[];__isString(l)&&(l=l.split(" "));let m=s.creatable,c=s.editable;return(m===!1||m==="hidden")&&!a&&(m==="hidden"?(l=H.union(l,["d-none"]),s.col.class=l.join(" ")):s.disabled=!0),(c===!1||c==="hidden")&&a&&(c==="hidden"?(l=H.union(l,["d-none"]),s.col.class=l.join(" ")):s.disabled=!0),__isset(s)&&__isset(s.schema)&&["wrap","group","repeater","input-repeater"].includes(s.type)&&(s.schema=Ge(s.schema,s.type==="wrap"?t:t[o],a)),n[o]=s,n},{}),H.map(i,(n,s)=>(__isset(n.type)&&n.type=="group"&&(n.schema=Ac(n.schema,n.name)),Vi(n.event,t,e,s),n)),i},be=(e,t=null,a=null)=>{const i=Pi(),n=__isset(t);e=Ga(e);const s=Object.keys(e).reduce((o,l)=>{const m=e[l],c=m.name,r=Object.prototype.hasOwnProperty.call(m,"translated")&&m.translated;let h="";_c.includes(m.type)&&(h=[]),h=Object.prototype.hasOwnProperty.call(m,"default")?m.default:h,m.type=="group"&&(h=be(m.schema,t??m.default)),r&&(h=H.reduce(i,function(A,M,S){return A[M]=h,A},{}));let _=c.replace(/->/g,"."),p=n?__isset(o[c])?o[c]:__data_get(t,_,h)??h:h;if(n&&m.type=="group"&&__isset(t[c])){let A=Object.keys(H.omit(__dot(h),["id"]));JSON.stringify(A)!==JSON.stringify(Object.keys(H.omit(__dot(t[c]),["id"])))&&(p={...h,...H.pick(t[c],A)})}if(__isObject(m))if(r)n&&(Object.prototype.hasOwnProperty.call(t,"translations")&&t.translations[c]?o[c]=i.reduce(function(M,S){return M[S]=H.find(t.translations,{locale:S})?H.find(t.translations,{locale:S})[c]:t.translations[c][S],M},{}):o[c]=p);else if(!p&&n&&Object.prototype.hasOwnProperty.call(t,"translations")&&Object.prototype.hasOwnProperty.call(t.translations,c)){const A=Object.keys(t.translations[c])[0];o[c]=t.translations[c][A]}else o[c]=p;return Ea(o,e,m),o},{});return n&&(s.id=t.id),s},$a=(e,t=!1)=>H.filter(e,a=>t&&__isset(a.editable)&&(a.editable===!1||a.editable==="hidden")||!t&&__isset(a.creatable)&&(a.creatable===!1||a.creatable==="hidden")?!1:Fi(a)),Ii=e=>Di(e).length,Di=(e,t=[])=>H.reduce(e,(a,i)=>(__isset(i)&&__isset(i.schema)&&["wrap","group","repeater","input-repeater"].includes(i.type)?a=Di(i.schema,a):Object.prototype.hasOwnProperty.call(i,"translated")&&i.translated&&a.push(i),a),t),Ct=(e,t=null,a=null)=>{e=Ga(e);const i="input-treeview|treeview|input-checklist",n=Object.keys(e).reduce((s,o)=>{if(window.__isset(e[o].noSubmit)&&e[o].noSubmit)return s;const l=e[o],m=l.name,c=__data_get(t,m,void 0);if(!__isset(c)){let r=l.default??"";return i.includes(l.type)&&(r=[]),s[m]=r,s}return __isObject(l)&&(Object.prototype.hasOwnProperty.call(l,"translated")&&l.translated?s[m]=window[Mi.VUE_APP_NAME].STORE.languages.all.reduce(function(r,h){return __isObject(c)?r[h.value]=__isset(c[h.value])?c[h.value]:"":r[h.value]=c,r},{}):s[m]=t[m]),s},{});return t.id&&(n.id=t.id),n},bc=(e,t)=>{var a;for(const i in e){const n=e[i],s=n.cascadeKey??"items";if(n.type==="select"&&Object.prototype.hasOwnProperty.call(n,"cascade")){if(i.includes("repeater"))break;__isset(e[n.cascade])&&(e[n.cascade][s]=((a=H.find(n[s],[n.itemValue,t[n.name]]))==null?void 0:a[s])??[])}}},Oi=(e,t,a,i,n)=>{var s;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const o=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,l=e.schema.cascadeKey??"items",m=e.schema.itemValue??"id";t[o][l]=((s=H.find(e.schema[l],[m,n[e.key]]))==null?void 0:s.schema)??[];const c=H.findIndex(i,["key",o]);a[o]=t[o][l].length>0?t[o][l][0].value:[],i[c].value=n[o],Oi(i[c],t,a,i,n)}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")&&__log("autofill")},Vi=(e=null,t,a,i=null)=>{const n=t,s=t[i],o=a[i],l=Array.isArray(s)&&s.length>0||!Array.isArray(s)&&!!s;return e&&e.split("|").forEach(c=>{var p;const[r,h,_]=c.split(":");switch(r){case"formatPermalink":l&&(n[h]=Vt(s));break;case"formatPermalinkPrefix":if(["select","combobox"].includes(o.type)&&s&&l){const A=Vt(o.items.find(M=>M[o.itemValue]===s)[o.itemTitle]);a[h??"slug"].prefix=a[h??"slug"].prefixFormat.replace(":"+_,A)}else if(["text"].includes(o.type)&&l){const A=Vt(s),[M,S]=h.split(".");a[M].schema[S??"slug"].prefix=a[M].schema[S??"slug"].prefixFormat.replace(":"+_,A)}break;case"formatLock":if(["select","combobox"].includes(o.type)&&s){const A=(p=o.items.find(M=>M[o.itemValue]===s))==null?void 0:p[_];a[h].disabled=!!A,a[h].focused=!!A,a[h].placeHolder=A}else if(["text"].includes(o.type)&&s){const A=s,[M,S]=h.split(".");a[M].schema[S].disabled=!!A,a[M].schema[S].focused=!!A,a[M].schema[S].placeHolder=A}break}}),{_fields:n,moduleSchema:a}},Ea=(e,t,a,i=!1)=>{const n=a.name;t[n];const s=e[n];Array.isArray(s)&&s.length>0||Array.isArray(s),a.event&&a.event.split("|").forEach(o=>{let l=o.split(":"),m=l.shift(),c=!0;m=="formatSet"&&!i&&(c=!1),c&&typeof dt[m]<"u"&&(dt==null||dt[m](l,e,t,a))})},pa=(e,t,a,i,n=[])=>{const s=a.name;t[i][s]??H.get(t,`[${i}].${s}`);const o=e[i][s]??H.get(e,`[${i}].${s}`);Array.isArray(o)&&o.length>0||Array.isArray(o),a.event&&a.event.split("|").forEach(l=>{let m=l.split(":"),c=m.shift();typeof dt[c]<"u"&&(dt==null||dt[c](m,e,t,a,i,n))})},vc={getSubmitFormData:()=>Ct(Ia,Ma),getSchema:()=>Ge(Ia,Ma),getModel:()=>be(Ia,Ma)},is={getSchema:Ge,getModel:be,getSubmitFormData:Ct,setSchemaInputField:bc,onInputEventFormData:Oi,handleInputEvents:Vi,handleEvents:Ea,handleMultiFormEvents:pa,testMethods:vc},Ga=e=>H.reduce(e,(t,a,i)=>(a.type==="wrap"&&a.schema?Object.assign(t,Ga(a.schema)):a.type==="groupz"&&a.schema||(a.slotable,t[i]=a),t),{}),Ac=(e,t)=>H.reduce(e,(a,i,n)=>{const s=n.split(".").filter(o=>o!==t).join(".");return a[s]=i,a},{}),Vt=e=>{let t="";return e.value&&typeof e.value=="string"?t=e.value:typeof e=="string"&&(t=e),Qt.slugify(t)},Fi=e=>Object.prototype.hasOwnProperty.call(e,"topEvent")&&e.topEvent&&(["select","autocomplete","combobox","switch"].includes(e.type)||__isset(e.viewOnlyComponent)),Ec=e=>Object.prototype.hasOwnProperty.call(e,"viewOnlyComponent"),Pi=e=>H.map(window[Mi.VUE_APP_NAME].STORE.languages.all,"value"),dt={formatPermalink:function(e,t,a,i){const n=i.name;a[n];const s=t[n],o=Array.isArray(s)&&s.length>0||!Array.isArray(s)&&!!s,l=e.shift();o&&(t[l]=Vt(s))},formatPermalinkPrefix:function(e,t,a,i){const n=i.name,s=a[n],o=t[n],l=Array.isArray(o)&&o.length>0||!Array.isArray(o)&&!!o,m=e.shift(),c=e.shift();if(["select","combobox"].includes(s.type)&&o&&l){const r=Vt(s.items.find(h=>h[s.itemValue]===o)[s.itemTitle]);a[m??"slug"].prefix=a[m??"slug"].prefixFormat.replace(":"+c,r)}else if(["text"].includes(s.type)&&l){const r=Vt(value),[h,_]=m.split(".");a[h].schema[_??"slug"].prefix=a[h].schema[_??"slug"].prefixFormat.replace(":"+c,r)}},formatLock:function(e,t,a,i){var c;const n=i.name,s=a[n],o=t[n];Array.isArray(o)&&o.length>0||Array.isArray(o);const l=e.shift(),m=e.shift();if(["select","combobox"].includes(s.type)&&o){const r=(c=s.items.find(h=>h[s.itemValue]===o))==null?void 0:c[m];a[l].disabled=!!r,a[l].focused=!!r,a[l].placeHolder=r}else if(["text"].includes(s.type)&&_field){const r=_field,[h,_]=l.split(".");a[h].schema[_].disabled=!!r,a[h].schema[_].focused=!!r,a[h].schema[_].placeHolder=r}},formatSet:async function(e,t,a,i,n=null,s=[]){const o=this.getInputToFormat(e,t,a,n),l=Pi();if(!o)return;const m=o,c=e.shift(),r=`${o}.${c}`,h=e.shift();let{handlerName:_,handlerSchema:p,handlerValue:A}=this.handlers(i,t,n);if(!(Array.isArray(A)&&A.length<1)&&A){let M=[],S=__wildcard_change(h,A);if(M=__data_get(p,S,null),M&&M.length>0){let v=M.shift();if(c.match(/^(modelValue|model)$/g)){let w=H.get(a,m),T=w.name,N=__extractForeignKey(T),G=w.schema??null,K=w.type=="input-repeater",J=Array.isArray(v);if(__isset(w.translated)&&w.translated){let L=S.split("."),R=L.pop(),$=L.join(".")+".translations";S.split(".").pop();let V=__data_get(p,$).shift();V&&(__log(V),v=H.reduce(l,(I,O)=>{let j=H.find(V,Q=>Q.locale==O)??V[0];return j[R],I[O]=j[R]??null,I},{}))}if(J&&v.length>0){let L=v.map(R=>{if(G)return H.reduce(G,($,V,I)=>(K&&I==N?$[N]=R.id??null:$[I]=R[I]??null,$),{})});H.set(t,m,L)}else if(!J)try{H.set(t,T,v)}catch(L){console.error(L)}}else H.set(a,r,v),c.match(/schema/)&&H.set(a,`${o}.default`,be(v))}}},formatFilter:async function(e,t,a,i,n){const s=this.getInputToFormat(e,t,a,n);if(!s)return;let{handlerName:o,handlerModelName:l,handlerSchema:m,handlerValue:c}=this.handlers(i,t,n);const r=e.shift(),h=e.shift();let _,p,A;c[h]?(A=c[h],_=i.filterEndpoint[A],p=c[r]):(A=l,_=i.filterEndpoint,p=c);let M=`${s}.${r}`,S=H.get(a,`${s}.eagers`)??[];H.get(a,M)||H.set(a,M,[]);let v=H.cloneDeep(H.get(a,M));for(const C in v)p.includes(v[C].id)||v.splice(C,1);for(const C in p){const w=p[C];if(!v.find(T=>T.id==w))try{let T=await Ee.get(_.replace(`{${H.snakeCase(A)}}`,w),{params:{eagers:S}});v.push(T.data)}catch(T){console.error("An error occurred:",T),T.response?Oe("",{message:"formatFilter error",value:T}):T.request?console.error("No response received:",T.request):console.error("Error message:",T.message)}}H.set(a,M,H.orderBy(v,["id"],["asc"]))},formatClearModel:async function(e,t,a,i,n=null,s=[]){const o=this.getInputToFormat(e,t,a,n);if(!o)return;this.handlers(i,t,n);let l=H.get(a,o),m=(l==null?void 0:l.default)??[];H.set(t,o,m),H.get(s,o)&&(H.unset(s,o),__log("formatClearModel",s))},formatResetItems:async function(e,t,a,i,n=null,s=[]){const o=this.getInputToFormat(e,t,a,n);if(!o)return;this.handlers(i,t,n),H.get(a,o);let l=[];H.set(a,o+".items",l)},formatPreview:async function(e,t,a,i,n,s=[]){if(Array.isArray(t)){let{handlerName:o,handlerSchema:l,handlerValue:m}=this.handlers(i,t,n),c=e.shift().split(","),r=(e.shift()??"").split(","),h={},_=[],p=c.length>1,A=!1;for(const M in c){let S=c[M],v=r[M]??null,C=S.split(".");C=H.map(C,function(N,G){let K,J=N;return(K=N.match(/\$(\w+)/))&&__isset(m[K[1]])&&(J=m[K[1]]),J}),S=C.join(".");let w,T=v.match(/\*\.?(\w+)/);if(v=="*key")w=Object.keys(m).map(function(N){return parseInt(N)});else if(T){let G=v.match(/\*\.?(\w+)/)[1];w=H.map(m,function(K,J){return K[G]})}else w=v?m[v]:m;if(Array.isArray(w))if(M==0){A=w.length<1;let N=S.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,"$1*");h[N]=H.map(w,K=>S.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,`$1*id=${K}`));let G=__data_get(l,__wildcard_change(S,w));H.each(G,(K,J)=>A?H.unset(_,p?`[${J}][${M}]`:`[${J}]`):H.set(_,p?`[${J}][${M}]`:`[${J}]`,K))}else{let N;Object.keys(h).forEach(G=>{let K=__preg_quote(G),J=new RegExp(String.raw`^(${K}).([\w\$\.\*]+)`),L=S.match(J);if(L)return N=h[G],S=L[2],!1}),H.each(w,(G,K)=>{if(G){if(Array.isArray(G)&&H.isEmpty(G))return;let J=N[K];Array.isArray(G)&&G.join(",");let L=[J,__wildcard_change(S,G)].join("."),R=__data_get(l,L).shift();if(!R){console.warn("formatPreview error",{getter:L,inputToFormat:S,data:R,handlerSchema:l});return}let $=R[0]??"";M>1&&Array.isArray(R)&&($=`(${R.join(", ")})`),H.set(_,p?`[${K}][${M}]`:`[${M}]`,$)}})}}s[n]||(s[n]={}),A?H.unset(s[n],o):s[n][o]=_;return}},formatPrependSchema:async function(e,t,a,i,n=null,s=[]){const o=this.getInputToFormat(e,t,a,n);if(!o)return;const l=e.shift(),m=e.shift();let{handlerName:c,handlerSchema:r,handlerValue:h}=this.handlers(i,t,n);if(__isObject(h)&&(h=Object.values(h)),!(Array.isArray(h)&&h.length<1)&&h){l&&(h=__data_get(h,l),l.match(/^\*(.*)/)&&(h=H.reduce(h,function(M,S){return M=[...S??[],...M],[...new Set(M)]},[])));let _=H.get(a,o);if(!_||!_.schema)return;let p=H.cloneDeep(_.schema),A=__data_get(r,m);if(A&&__isset(A.schema)){if(Array.isArray(h)){if(!A.items)return;h=H.reduce(h,(N,G)=>{var K;return N[G]={label_prefix:(K=__data_get(A.items,`*id=${G}.${A.itemTitle}`))==null?void 0:K.shift()},N},{})}let M=H.cloneDeep({}),S=H.get(a,o+"._prependedKeys",[]),v=[];for(const N in A.schema){__preg_quote(N);for(const G in h){let K=H.cloneDeep(A.schema[N]),J=/(\$[\w]+\$)/,L=N.replace(J,G);v.push(L),p[L]||(M[L]={...K,name:L,label:K.label?`${h[G].label_prefix} ${K.label}`:__snakeToHeadline(h.label_prefix+K.name)})}}let C=S.filter(N=>!v.includes(N));C.forEach(N=>{delete p[N]});let w=v.filter(N=>!C.includes(N)),T=Object.assign(M,p);JSON.stringify(_.schema)!==JSON.stringify(T)&&(H.set(a,o+".schema",T),H.set(a,o+"._prependedKeys",w))}}},handlers:(e,t,a=null)=>{const i=e.name,n=e.name,s=e.key??e.name,o=e;let l=__data_get(t,isNaN(parseInt(a))?n:`${a}.${n}`);return!l&&__isset(o.parentName)&&(l=__data_get(t,isNaN(a)?`${o.parentName}.${n}`:`${a}.${o.parentName}.${n}`)),{handlerName:i,handlerModelName:n,handlerSchemaName:s,handlerSchema:o,handlerValue:l}},getInputToFormat(e,t,a,i,n){let s=e.shift(),o=[],l=s.split("."),m=parseInt(l[0]);if(isNaN(m))m=n;else if(!Array.isArray(t))return!1;return Array.isArray(t)&&(isNaN(m)||(m-=1,l.shift()),o.push(`[${m}]`)),s=l.join("."),o.push(s),o.join(".")}},wc=ke({endpoints:{type:Object,default:()=>({})}});function Sc(e){const t=U(()=>e.endpoints.create??null),a=U(()=>e.endpoints.edit??null),i=U(()=>e.endpoints.reorder??null),n=U(()=>e.endpoints.index??null);return{createUrl:t,editUrl:a,reorderUrl:i,indexUrl:n}}const kc=ke({fillHeight:{type:Boolean,default:!1},items:{type:Array},hideFooter:{type:Boolean,default:!1},tableOptions:{type:Object},tableClasses:{type:[String,Array],default:""},iteratorType:{type:String,default:""},slots:{type:Object,default(){return{}}},nestedData:{type:Object,default(){return{}}},striped:Boolean,hideBorderRow:Boolean,roundedRows:Boolean,fullWidthWrapper:{type:Boolean,default:!1},noFullScreen:{type:Boolean,default:!1},tableDensity:{type:String,default:"comfortable"},toolbarOptions:{type:Object,default:{}},bulkActions:{type:[Array,Object],default:[]},paginationOptions:{type:[Array,Object],default:{}},formAttributes:{type:Object,default:{}},formModalAttributes:{type:Object,default:{}},showSelect:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},controlsPosition:{type:String,default:"top"}});function Cc(e,t){var $;const a=Me(),{smAndDown:i}=ya(),{t:n,te:s,tm:o}=we({useScope:"global"}),l=X(-1);let m=X(e.items??(($=a.state.datatable)==null?void 0:$.data)??[]);const c=U({get(){return m.value},set(V){m.value=V}}),r=Xt(),h=Qa(e,{editedIndex:l}),_=Sc(e),p=jc(),A=Kc(e),M=Hc(e,{...t,...h}),S=Yc(e),v=Ha(),C=X(null),w=X(!1),T=X(a.state.datatable.search??""),N=U(()=>e.endpoints.index.replace(/\/$/,"").split("?")[0]===window.location.href.replace(/\/$/,"").split("?")[0]),G=X(e.tableOptions??a.state.datatable.options??{}),K=re({id:Math.ceil(Math.random()*1e6)+"-table",hideTable:!1,searchPlaceholder:n("Type to Search"),fillHeight:U(()=>e.fillHeight),windowSize:{x:0,y:0},isStoreTable:N,options:G,mobileTableLayout:U(()=>i.value),enableCustomFooter:U(()=>e.paginationOptions.footerComponent==="vuePagination"),footerProps:U(()=>{const V=e.paginationOptions.footerProps;return K.enableInfiniteScroll?{"hide-default-footer":!0}:V}),elements:c,loading:U({get(){return N.value?a.state.datatable.loading:w.value},set(V){w.value=V}}),editedIndex:l,selectedItems:[],activeTableItem:null,activeItemConfiguration:null,enableInfiniteScroll:U(()=>e.paginationOptions.footerComponent==="infiniteScroll"&&v.totalElements.value>K.elements.length),draggableItems:U(()=>K.elements.reduce((I,O,j)=>{const Q={type:"item",key:j+1,value:O.id,index:j,selectable:e.showSelect,columns:A.headers.value.reduce((ae,ge)=>(ae[ge.key]=O[ge.key],ae),{})};return I[j]=Q,I},[])),searchModel:T}),J=Wc(e,{...t,tableForms:M,tableModals:S,tableEndpoints:_}),L=re({onResize(){K.windowSize={x:window.innerWidth,y:window.innerHeight}},initialize:function(){N.value?(K.loading=!0,a.dispatch(_e.GET_DATATABLE,{callback:V=>{K.loading=!1}})):a.commit(Xe.UPDATE_DATATABLE_SEARCH,"")},goNextPage(){K.options.page<a.getters.totalPage&&(K.options.page+=1)},goPreviousPage(){K.options.page>1&&(K.options.page-=1)},changeOptions(V){H.isEqual(V,K.options)||(K.options=V)},onIntersect(V,I,O){V&&I[0].intersectionRatio===1&&L.goNextPage()},loadItems(V=null){K.loading=!0,ha.get(_.indexUrl.value,V??K.options,function(I){const O=I.resource.data;K.enableInfiniteScroll?K.elements=K.elements.push(O):K.elements=O,K.loading=!1})},setEditedItem:r.setEditedItem,resetEditedItem:r.resetEditedItem,setBulkItems(){a.commit(Xe.REPLACE_DATATABLE_BULK,K.selectedItems)},async bulkAction(V){L.setBulkItems();let I=H.snakeCase(V.name).toUpperCase();__isset(_e[I])?(await a.dispatch(_e[I]),K.selectedItems=[]):console.warn(`${V.name} may have not implemented yet on useTable.js hook`)},confirmAction(){L.bulkAction(K.selectedAction),K.actionModalActive=!1},closeActionModal(){K.actionModalActive=!1},sortElements(V){ha.reorder(_.reorderUrl.value,V.map(I=>I.id),function(I){I.status===200&&(V.forEach((O,j)=>O.position=j+1),K.elements=V)})},hydrateNestedData:function(V,I){const O=/\$([A-Za-z]+)/;for(const j in I)if(__isString(I[j])){const Q=I[j].match(O);if(Q){const ae=Q[1];K.snakeName===ae?(I[j]=Ct(I.schema,V,a.state),I.actionUrl&&(I.actionUrl=I.actionUrl.replace(`:${ae}`,I[j].id))):V[ae]&&(I[j]=Ct(I.schema,V[ae],a.state),I.actionUrl&&(I.actionUrl=I.actionUrl.replace(`:${ae}`,I[j].id)))}}else(Array.isArray(I[j])||H.isObject(I[j]))&&(I[j]=L.hydrateNestedData(V,I[j]));return I},searchItems(){p.search.value!==T.value&&(p.search.value=T.value)}});se(()=>r.editedItem.value,(V,I)=>{K.editedIndex=K.elements.findIndex(O=>O.id===V.id)}),se(()=>K.activeTableItem,(V,I)=>{V&&(K.activeItemConfiguration=L.hydrateNestedData(V,JSON.parse(JSON.stringify(e.nestedData))))},{deep:!0}),se(()=>K.deleteModalActive,(V,I)=>{V||L.resetEditedItem()}),se(()=>K.options,(V,I)=>{N.value?a.dispatch(_e.GET_DATATABLE,{payload:{options:V,infiniteScroll:K.enableInfiniteScroll},endpoint:e.endpoints.index??null}):(V.replaceUrl=!1,L.loadItems(V))},{deep:!0}),se(()=>K.elements,(V,I)=>{if(K.editedIndex>-1){let O=V[K.editedIndex];r.setEditedItem(O)}},{deep:!0}),se(()=>a.state.datatable.data,(V,I)=>{K.elements=V});const R=Ei(e,t,A.headers.value);return{form:C,...ie(K),...ie(L),...h,...p,...A,...M,...J,...S,...R,...v}}const Tc=ke({modelValue:[String,Number,Object,Boolean]}),Mc=ke({...Tc(),tableHeaders:{type:Array,default:[]},itemData:{type:Object,default(){return{}}}});function Ic(e,t){const a=il(e,"modelValue"),i=U({get:()=>a.value,set:o=>{__log("setter",o),a.value=o}}),n=re({modalOpened:!1,modalActive:!1,modalStatus:U(()=>n.modalOpened&&!!i.value),activeKey:null,activeBlock:U(()=>n.activeKey?e.itemData[n.activeKey]:null),items:U(()=>i.value?[i.value]:[])}),s=re({selectNested:function(o){n.activeKey=o,t.emit("toggle",!0)},clickOutside:function(o){i.value=null,n.activeKey=null},closeItemDetails:function(o=""){n.modalActive=!0,n.activeKey=null,t.emit("toggle",!1)}});return se(()=>i.value,(o,l)=>{n.modalActive=!!o&&o!==l}),se(()=>n.activeKey,(o,l)=>{o&&(n.modalActive=!1)}),se(()=>e.itemData,(o,l)=>{__log("itemData watch",o)}),{item:i,...ie(n),...ie(s)}}function tt(e){const{valid:t}=ie(e),a=re({validModel:(t==null?void 0:t.value)??null}),i=re({minRule:(m,c)=>r=>!!r&&r.length>=m||c||`min. ${m} ${Array.isArray(r)?"Selections":"Characters"}`,maxRule:(m,c)=>r=>!!r&&r.length<=m||c||`max. ${m} ${Array.isArray(r)?"Selections":"Characters"}`,emailRule:m=>c=>/.+@.+\..+/.test(c)||m||"E-mail must be valid",requiredRule:(m="classic",c=1,r,h)=>_=>{switch(m){case"classic":return!!_||h||"Required";case"array":case"object":r=r??-1;let p=c==r||r<0?`Requires exactly ${c} items`:`Requires at least ${c}${r!=1/0&&r!=null?", and maximum of:"+r:""}) elements`;return Array.isArray(_)?_.length>=c&&(r<0||_.length<=r)||h||p:__isObject(_)?Object.keys(_).length>=c&&(r<0||Object.keys(_).length<=r)||h||p:"dev error: nsupported value type";default:return"dev error: unknown rule type"}},arrayRule:m=>c=>Array.isArray(c)||m||"Value must be array",generateInputRules:n,validateInput:s});function n(m){let c=[];if(Object.prototype.hasOwnProperty.call(m,"rules")){let r=m.rawRules??m.rules,h;window.__isString(r)?h=r.split("|"):h=r,h.forEach((_,p)=>{window.__isString(_)&&(_=_.split(":"));const A=_[0]+"Rule";Object.prototype.hasOwnProperty.call(i,A)&&c.push(i[A](..._.slice(1)))})}return c}function s(m,c){let r=n(m),h=!0;for(const _ in r){let p=r[_](c);if(p!==!0){h=p;break}}return h}function o(m){let c=de(m),r=de(m);return Object.prototype.hasOwnProperty.call(r,"rules")&&(c.rawRules=__isset(c.rawRules)?c.rawRules:r.rules,window.__isString(c.rawRules)?r.rules=c.rawRules.split("|"):r.rules=c.rawRules,c.rules=[],r.rules.forEach((h,_)=>{window.__isString(h)&&(h=h.split(":"));const p=h[0]+"Rule";Object.prototype.hasOwnProperty.call(i,p)&&c.rules.push(i[p](...h.slice(1)))})),__isset(c.schema)&&(c.schema=l(c.schema)),__isset(m.rawRules)||(c.rules=[],c.rawRules=""),c}function l(m){const c=de(m);return __isObject(c)&&Object.keys(c).forEach(r=>{Object.prototype.hasOwnProperty.call(c[r],"rules")&&(m[r].rawRules=__isset(m[r].rawRules)?m[r].rawRules:c[r].rules,window.__isString(m[r].rawRules)?c[r].rules=m[r].rawRules.split("|"):c[r].rules=m[r].rawRules,m[r].rules=[],c[r].rules.forEach((h,_)=>{window.__isString(h)&&(h=h.split(":"));const p=h[0]+"Rule";Object.prototype.hasOwnProperty.call(i,p)&&m[r].rules.push(i[p](...h.slice(1)))})),__isset(m[r].schema)&&(m[r].schema=l(m[r].schema))}),m}return se(()=>a.valid,(m,c)=>{}),{invokeRule:o,invokeRuleGenerator:l,...ie(i),...ie(a)}}const Dc={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"},$i={xs:"320px",sm:"480px",md:"540px",lg:"1080px",xl:"1600px"},Oc=ke({modelValue:{type:Boolean,default:!1},transition:{type:String,default:"bottom"},widthType:{type:String,default:"md",validator:e=>Object.prototype.hasOwnProperty.call($i,e)},hasSystembar:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},descriptionText:{type:String,default:""}}),Vc=ke({modalTitlePrefix:{type:String,default:function(e){return we().t("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return we().t("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return we().t("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return we().t("media-library.insert","Insert")}}});function Fc(e,t){const{modelValue:a}=ie(e),i=X(e.fullscreen),n=re({modalClass:Dc.modal,width:e.widthType,full:i,dialog:U({get:()=>a.value,set:(o,l)=>{s.emitModelValue(o)}}),togglePersistent:U(()=>e.persistent),toggleScrollable:U(()=>e.scrollable),modalWidth:U(()=>e.widthType&&!i.value?$i[e.widthType]:null)}),s=re({emitModelValue:function(o){t.emit("update:modelValue",o)},emitOpened:function(o){t.emit("opened",o)},clickOutside:function(o){t.emit("click:outside",o)}});return{...ie(s),...ie(n)}}const wa=ke({draggable:{type:Boolean,default:!1},orderKey:{type:String,default:"position"}});function Ri(e,t){const a=re({animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30,dragOptions:U(()=>({disabled:!e.draggable,animation:a.animation}))}),i=re({});return{...ie(i),...ie(a)}}const Pc=ke({...Ce(),modelValue:{type:Array,default:[]},max:{type:Number,default:-1},min:{type:Number,default:-1},label:{type:String,default:""},subtitle:{type:String},singularLabel:{type:String},schema:{type:Object,default:()=>{}},rowAttribute:{type:Object,default(){return{noGutters:!1}}},formRowAttribute:{type:Object,default(){return{noGutters:!1,class:"ml-12"}}},noAddButton:{type:Boolean,default:!1},addButtonText:{type:String,default(){return we().t("ADD NEW")}},buttonHasLabel:{type:Boolean,default:!1},withGutter:{type:Boolean,default:!1},autoIdGenerator:{type:Boolean,default:!0},hasHeaders:{type:Boolean,default:!0},isUnique:{type:Boolean,default:!1},uniqueValue:{type:String,default:"id"},uniqueField:{type:String,default:null},disableAddButton:{type:Boolean,default:!0},formCol:{type:Object,default:()=>({cols:12})}});function $c(e,t){const a=Me(),{invokeRuleGenerator:i}=tt(e),n=De(e,t),{modelValue:s}=ie(e),o=e.isUnique,l=e.uniqueValue,m=X([]);let c=null,r=null;o&&window.__isset(e.schema)&&Object.keys(e.schema).length>0&&(c=e.uniqueField??Object.values(e.schema)[0].name,r=e.schema[c]);function h(w,T){return`repeater${n.id.value}[${w}][${T}]`}function _(w,T){const N=be(v.processedSchema,w),G={};return e.draggable&&!N[e.orderKey]&&(G[e.orderKey]=T+1),{...e.autoIdGenerator?{id:T}:{},...ka(St(N,[]),(K,J,L)=>{K[h(T,L)]=J}),...G}}function p(w){return w.map((T,N)=>_(T,N))}function A(w){const T=[];return w.forEach((N,G)=>{const K=de(v.processedSchema);if(o&&K[c]){const R=M(v.repeaterInputs[G])[c];K[c].items=r.items.filter($=>!(m.value.includes($[l])&&R!==$[l]))}const J=i(K);T[G]=ka(J,(L,R,$)=>{const V=de(R),I=h(G,R.name);V.name=I,L[I]=V}),Object.keys(T[G]).forEach(L=>{var $;const R=T[G][L];if(Object.prototype.hasOwnProperty.call(R,"cascade")){const V=h(G,R.cascade);T[G][V][R.cascadeKey]=(($=st(R.items,[R.itemValue,N[L]]))==null?void 0:$.schema)??[]}})}),T}function M(w,T){const N=/\[(.*?)\]/gi,G={};return e.draggable&&(G[e.orderKey]=T+1),{...ka(w,(K,J,L)=>{const R=L.match(N);if(R){const $=R.map(V=>V.replace(N,"$1"));K[$.pop()]=J}}),...G}}function S(w){return w.map((T,N)=>M(T,N))}const v=re({repeaterInputs:U({get:()=>{if(jt(e.schema))return[];de(e.schema);const w=p(Array.isArray(s.value)?s.value:[]);if(w.length>0){const T=S(w).map(N=>St(N,["id"]));JSON.stringify(s.value)!==JSON.stringify(T)&&T.forEach((N,G)=>{s.value[G]=N})}return o&&(m.value=et(de(w),(T,N)=>{const G=M(N);return c&&G[c]&&T.push(G[c]),T},[])),w},set:(w,T)=>{n.updateModelValue.value(S(w))}}),totalRepeats:U(()=>v.repeaterInputs.length),isRemainingAddible:U(()=>!o||v.totalRepeats<r.items.length&&v.totalRepeats<r.items.filter(w=>w[l]>0).length),isAddible:U(()=>(e.max<1||v.totalRepeats<e.max)&&v.isRemainingAddible),isDeletable:U(()=>e.min<1||v.totalRepeats>e.min),addButtonIsActive:U(()=>!e.disableAddButton||v.isAddible),repeaterSchemas:U(()=>A(v.repeaterInputs)),selectFieldSlots:U(()=>{const w=[];return ni(e.schema,function(T,N){return Object.prototype.hasOwnProperty.call(T,"slots")&&Object.keys(T.slots).length>0}).forEach((T,N)=>{const G=de(T);v.repeaterInputs.forEach((K,J)=>{const L=[];for(const R in G.slots)L.push({inputName:h(J,G.name),name:R,context:G.slots[R]});w.push(L)})}),w}),processedSchema:U(()=>e.hasHeaders?et(de(e.schema??{}),(w,T,N)=>(w[N]=St(T,["label"]),w),{}):de(e.schema??{})),headers:kt(e.schema??[],w=>({title:w.label||__headline(w.name),col:w.col})),addButtonContent:U(()=>e.addButtonText+(e.buttonHasLabel&&__isset(e.singularLabel)?` ${e.singularLabel}`:""))}),C=re({onUpdateRepeaterInput(w,T){s.value[T]=M(w,T)},onHoverContent(w){},addRepeaterBlock:function(){if(v.isAddible){const w=i(de(e.schema));s.value.push(_(be(w),v.totalRepeats))}else{let w=`You cannot add new item, because the number of elements should be at much ${e.max}`;v.isRemainingAddible||(w="You cannot add new item, because there are no more items to add"),a.commit(pe.SET_ALERT,{message:w,variant:"warning",location:"top"})}},deleteRepeaterBlock:function(w){if(v.isDeletable){const T=S(v.repeaterInputs);T.splice(w,1),v.repeaterInputs=p(T)}else a.commit(pe.SET_ALERT,{message:`You cannot delete, because the number of elements should be at least ${e.min}`,variant:"warning",location:"top"})},duplicateRepeaterBlock:function(w){if(v.isAddible){const T=S(v.repeaterInputs);T.push(T[w]),v.repeaterInputs=p(T)}else a.commit(pe.SET_ALERT,{message:`You cannot add new item, because the number of elements should be at much ${e.max}`,variant:"warning",location:"top"})}});return{...ie(C),...ie(v),invokeRuleGenerator:i,...n}}const Rc=ke({...Ce(),...wa(),mediaType:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default(){return we().t("File")}},endpoint:{type:String,default:""},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function Lc(e,t){const a=Me(),i=De(e,t),{modelValue:n,obj:s}=ie(e),o=Ha(),{t:l}=we({useScope:"global"}),m=re({mediableActive:!1,handle:".item__handle",addLabel:U(()=>l("ADD")+" "+e.itemLabel),items:U({get:()=>a.state.mediaLibrary.selected.hasOwnProperty(e.name)?a.state.mediaLibrary.selected[e.name]||[]:[],set:(r,h)=>{}}),input_:U({get:()=>n.value??[],set:(r,h)=>{i.updateModelValue.value(r)}}),input:n.value??[],isDraggable:U(()=>e.draggable&&m.input.length>1),remainingItems:U(()=>e.max-m.input.length),itemsIds:U(()=>o.selectedItemsByIds.value[e.name]?o.selectedItemsByIds.value[e.name].join():"")}),c=re({deleteAll:function(r){m.input=[]},deleteItem:function(r){m.input.splice(r,1)}});return se(()=>a.state.mediaLibrary.selected[e.name],(r,h)=>{a.state.mediaLibrary.isInserted&&m.mediableActive&&(m.mediableActive=!1,a.commit(Y.UPDATE_IS_INSERTED,!1),m.input=r)},{deep:!0}),se(()=>m.input,(r,h)=>{i.updateModelValue.value(r)},{deep:!0}),se(()=>n.value,(r,h)=>{m.input=r},{deep:!0}),{...i,...ie(c),...ie(m)}}const Li=ke({...Ce(),...wa(),mediaType:{type:String,default:"image"},itemLabel:{type:String,default(){return we().t("Image")}},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default(){return we().t("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function Ui(e,t){const a=Me(),i=De(e,t),{modelValue:n,obj:s}=ie(e),o=Ha(),{t:l}=we({useScope:"global"}),m=re({mediableActive:!0,handle:".item__handle",addLabel:U(()=>l("ADD",{item:e.itemLabel})),items:U({get:()=>a.state.mediaLibrary.selected.hasOwnProperty(e.name)?a.state.mediaLibrary.selected[e.name]||[]:[],set:(r,h)=>{}}),input_:U({get:()=>n.value??[],set:(r,h)=>{i.updateModelValue.value(r)}}),input:n.value??[],isDraggable:U(()=>e.draggable&&m.input.length>1),remainingItems:U(()=>e.max-m.input.length),itemsIds:U(()=>o.selectedItemsByIds.value[e.name]?o.selectedItemsByIds.value[e.name].join():"")}),c=re({deleteAll:function(r){m.input=[]},deleteItem:function(r){m.input.splice(r,1)}});return se(()=>a.state.mediaLibrary.selected[e.name],(r,h)=>{window.__isset(a.state.mediaLibrary.selected[e.name])&&a.state.mediaLibrary.isInserted&&m.mediableActive&&(m.mediableActive=!1,a.commit(Y.UPDATE_IS_INSERTED,!1),m.input=r)},{deep:!0}),se(()=>m.input,(r,h)=>{i.updateModelValue.value(r)},{deep:!0}),se(()=>n.value,(r,h)=>{m.input=r},{deep:!0}),se(()=>m.error,(r,h)=>{__log("error watch",r,h)}),{...i,...ie(c),...ie(m)}}function Uc(){const{lgAndUp:e,xlAndUp:t}=ya();X(!1);const a=X("#profile"),i=Me(),n=X(null),s=re({navigationDrawer:n,open:[],activeMenu:U({get(){return a.value},set(l){a.value=l}}),status:U({get(){return i.state.config.sidebarStatus},set(l){i.commit(qe.SET_SIDEBAR,l)}}),width:U(()=>t.value?320:256),options:i.state.config.sidebarOptions,hideIcons:U(()=>!s.rail&&s.options.hideIcons),railManual:!1,rail:U(()=>(s.options.rail||s.railManual)&&e.value),isHoverable:U(()=>(e.value||s.rail)&&s.options.expandOnHover),secondaryOptions:i.state.config.secondarySidebarOptions,profileMenu:i.state.config.profileMenu,socialMediaLinks:[["mdi-twitter",""],["mdi-linkedin",""],["mdi-facebook",""],["mdi-instagram",""]]}),o=re({handleProfile(l){l.type==="mouseenter"&&s.profileMenu.expandOnHover&&s.open.push("User"),console.log(l,s.profileMenu)},handleMenu(l){s.activeMenu=`#${l}`}});return se(e,()=>{}),Nt(()=>{}),{...ie(s),...ie(o)}}const Wa=ke({item:{type:Object,default:{}},headers:{type:Object,default:{}},iteratorOptions:{type:Object,default:{}},rowActions:{type:Array,default:[]}}),Ni=["click-action","edit-item"];function Ya(e,t){const a=re({id:Math.ceil(Math.random()*1e6)+" -iterator",headersWithKeys:U(()=>{let s={};return Object.values(e.headers).forEach((o,l)=>{s[o.key]=o}),s})}),i=Ei(e,t,e.headers),n=re({canItemAction:function(s){return __isset(s.can)&&s.can,!0},isSoftDeletable(s){return!!(__isset(s.deleted_at)&&s.deleted_at)},itemHasAction:function(s,o){let l=!0;switch(o.name){case"edit":n.isSoftDeletable(s)?l=!1:l=l=n.canItemAction(o);break;case"delete":n.isSoftDeletable(s)?l=!1:l=n.canItemAction(o);break;case"forceDelete":n.isSoftDeletable(s)?l=n.canItemAction(o):l=!1;break;case"restore":n.isSoftDeletable(s)?l=n.canItemAction(o):l=!1;break;case"duplicate":n.isSoftDeletable(s)&&(l=!1);break;case"switch":n.isSoftDeletable(s)&&(l=!1);break;case"activate":n.isSoftDeletable(s)&&(l=!1);break}return l},itemAction:(s,o)=>t.emit("click-action",s,o),editItem:s=>{t.emit("edit-item",s)}});return{...ie(n),...ie(a),...i}}function Nc(e,t){const a=Me(),{inputRef:i,formattedValue:n,numberValue:s,setValue:o}=On({currency:"EUR",locale:a.state.language.active.value,autoDecimalDigits:!0,precision:2,currencyDisplay:"hidden",hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,valueRange:{min:0}}),l=re({inputRef:i,formattedValue:n,numberValue:s});return se(()=>e.modelValue,m=>{o(m)}),{...ie(l)}}const Bi=ke({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},fillHeight:{type:Boolean,default:!1},slots:{type:Object,default(){return{}}},noFullScreen:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},items:{type:Array,default:[]}});function Za(e,t){const{t:a,te:i}=we({useScope:"global"});X(!1),Nt(()=>{});const n=re({snakeName:H.snakeCase(e.name),permissionName:H.kebabCase(e.name),transNameSingular:U(()=>i("modules."+n.snakeName,0)?a("modules."+n.snakeName,0):e.name),transNamePlural:U(()=>a("modules."+n.snakeName,1)),moduleTitle:U(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:n.transNamePlural)),windowSize:{x:0,y:0},elements:e.items,searchPlaceholder:a("Type to Search"),searchModel:""}),s=re({onResize(){n.windowSize={x:window.innerWidth,y:window.innerHeight}}});return{...ie(n),...ie(s)}}function xi(){const e=Me(),t=re({currentLocale:U(()=>e.state.language.active),languages:U(()=>e.state.language.all),locales:U(()=>e.state.language.all),displayedLocale:U(()=>e.state.language.active.shortlabel)}),a=re({updateLocale:function(i){e.commit(lt.UPDATE_LANG,i)}});return{...ie(t),...ie(a)}}const Da="FORM",mt={get(e,t,a){Ee.get(e).then(function(i){t&&typeof t=="function"&&t(i)},function(i){Oe(Da,{message:"Get request error.",value:i}),a&&typeof a=="function"&&a(i)})},post(e,t,a,i){Ee.post(e,t,{validateStatus:n=>n>=200&&n<300||n===422}).then(function(n){a&&typeof a=="function"&&a(n)}).catch(function(n){Oe(Da,{message:"Post request error.",value:n}),i&&typeof i=="function"&&i(n.response)})},put(e,t,a,i){Ee.put(e,t,{validateStatus:n=>n>=200&&n<300||n===422}).then(function(n){a&&typeof a=="function"&&a(n)}).catch(function(n){Oe(Da,{message:"Put request error.",value:n}),i&&typeof i=="function"&&i(n.response)})}};function ji(e,t){const a=Me(),i=t.actionItem||t.item||t.editedItem||e.item||e.editedItem,n=A=>{if(!A.source||!A.find||!A.return)return A;const M=i[A.source];if(!Array.isArray(M))return;const[S,v]=A.find,C=M.find(w=>w[S]===v);return C?C[A.return]:void 0},s=(A,M)=>M.split(".").reduce((S,v)=>S&&S[v]!==void 0?S[v]:void 0,A),o=(A,M)=>{var C;if(!M){console.error("Endpoint not specified for request action");return}const S=((C=A.method)==null?void 0:C.toLowerCase())||"post";if(!mt[S]){console.error("Invalid request method:",S);return}const v={};for(const[w,T]of Object.entries(A.params))if(typeof T=="object"&&T!==null){const N=n(T);if(N===void 0){console.error(`Could not resolve parameter value for ${w}`);return}v[w]=N}else v[w]=T;mt[S](M,v,w=>{w.data.message&&a.commit(pe.SET_ALERT,{message:w.data.message,variant:w.data.variant}),t.emit("actionComplete",{action:A,response:w})},w=>{var T;a.commit(pe.SET_ALERT,{message:((T=w.data)==null?void 0:T.message)||"Action failed",variant:"error"})})},l=(A,M)=>{a.commit("SET_MODAL",{show:!0,title:A.label,component:"ue-form",props:{schema:A.schema,actionUrl:M,async:!0},on:{success:S=>{a.commit(pe.SET_ALERT,{message:S.message||"Action completed successfully",variant:"success"}),t.emit("action-complete",{action:A,response:S})}}})},m=A=>{if(!A){console.error("Endpoint not specified for blank action");return}window.open(A,"_blank")},c=A=>{if(!A){console.error("Endpoint not specified for download action");return}const M=document.createElement("a");M.href=A,M.target="_blank",document.body.appendChild(M),M.click(),document.body.removeChild(M)},r=A=>{const M=e.isEditing?A.editable:A.creatable;return!A.conditions||!M?M:M&&A.conditions.every(S=>{const[v,C,w]=S,T=s(i,v);switch(C){case"=":case"==":return T===w;case"!=":return T!==w;case">":return T>w;case"<":return T<w;case">=":return T>=w;case"<=":return T<=w;case"in":return Array.isArray(w)&&w.includes(T);case"not in":return Array.isArray(w)&&!w.includes(T);case"exists":return T!=null;default:return console.warn(`Unknown operator: ${C}`),!1}})},h=U(()=>window.__isObject(e.actions)?Object.values(e.actions):e.actions),_=re({showedActions:U(()=>h.value.filter(A=>r(A)))}),p=re({shouldShowAction:r,handleAction(A){var S;if(!A.type){console.warn("Action type not specified:",A);return}const M=(S=A.endpoint)==null?void 0:S.replace(":id",i.id);switch(A.type){case"request":o(A,M);break;case"modal":l(A,M);break;case"download":c(M);break;case"blank":m(M);break;default:console.warn("Unknown action type:",A.type)}}});return{...ie(_),...ie(p)}}function Xt(e,t){const a=Me(),i=U(()=>a.state.form.editedItem??{}),n=U(()=>l(i.value)),s=m=>{a.commit(oe.SET_EDITED_ITEM,m)},o=()=>{qt(()=>{a.commit(oe.RESET_EDITED_ITEM)})},l=m=>!!(__isset(m.deleted_at)&&m.deleted_at);return{editedItem:i,isSoftDeletableItem:n,setEditedItem:s,resetEditedItem:o,isSoftDeletable:l}}const Bc=ke({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},subtitle:{type:String,default:""}});function Qa(e,t){const a=Me(),{t:i,te:n}=we({useScope:"global"}),{editedItem:s,isSoftDeletableItem:o}=Xt(),{snakeName:l,permissionName:m,transNameSingular:c,transNamePlural:r}=Za(e),h=U(()=>i(`modules.${l}`,a.getters.totalElements)),_=U(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:r.value)),p=U(()=>__isset(e.subtitle)?i(e.subtitle):""),A=U(()=>{const S=t.editedIndex.value===-1?"fields.new-item":"fields.edit-item";return i(S,{item:c.value})}),M=U(()=>{const S=o.value?"fields.confirm-soft-deletion":"fields.confirm-deletion",v=s.value[e.titleKey]?H.isObject(s.value[e.titleKey])?s.value[e.titleKey][a.state.user.locale]:s.value[e.titleKey]:"";return i(S,{route:c.value,name:v.toLocaleUpperCase()})});return{snakeName:l,permissionName:m,transNameSingular:c,transNamePlural:r,transNameCountable:h,tableTitle:_,tableSubtitle:p,formTitle:A,deleteQuestion:M}}const xc=ke({hideSearchField:{type:Boolean,default:!1},navActive:{type:String,default:"all"},filterBtnOptions:{type:Object,default:{}}});function jc(e){const t=Me(),a=U(()=>t.state.datatable.filter.status??"all"),i=U(()=>H.find(t.state.datatable.mainFilters,{slug:a.value})),n=U(()=>{var _;return((_=i.value)==null?void 0:_.slug)??"all"}),s=U({get(){return t.state.datatable.search},set(_){t.commit(Xe.UPDATE_DATATABLE_SEARCH,_),t.dispatch(_e.GET_DATATABLE)}}),o=U(()=>t.state.datatable.advancedFilters??null),l=U(()=>t.state.datatable.mainFilters??null),m=_=>{n.value!==_&&(t.commit(Xe.UPDATE_DATATABLE_PAGE,1),t.commit(Xe.UPDATE_DATATABLE_FILTER_STATUS,_),t.commit(Xe.REPLACE_DATATABLE_BULK,[]),t.dispatch(_e.GET_DATATABLE))},c=()=>{t.commit(Xe.UPDATE_DATATABLE_ADVANCED_FILTER,o.value),t.commit(Xe.UPDATE_DATATABLE_PAGE,1),t.dispatch(_e.GET_DATATABLE)},r=()=>{t.commit(Xe.RESET_DATATABLE_ADVANCED_FILTER),t.commit(Xe.UPDATE_DATATABLE_PAGE,1),t.dispatch(_e.GET_DATATABLE)},h=U(()=>{var _,p;return{text:`${(_=i.value)==null?void 0:_.name} (${(p=i.value)==null?void 0:p.number})`}});return{filterActiveStatus:a,filterActive:i,navActive:n,mainFilters:l,search:s,advancedFilters:o,filterBtnTitle:h,filterStatus:m,submitAdvancedFilter:c,clearAdvancedFilter:r}}const zc=ke({hideHeaders:{type:Boolean,default:!1},columns:{type:Array},headerOptions:{type:[Array,Object],default:{}},cellOptions:{type:[Array,Object],default:{}},customRow:{type:Object,default:{}}});function Kc(e){const t=Me(),a=X(e.columns??t.state.datatable.headers??[]),i=X(H.cloneDeep(a.value)),n=X(!!H.find(a.value,c=>window.__isset(c.searchable)&&c.searchable===!0)),s=U(()=>a.value.filter(c=>!!c.visible&&c.visible===!0)),o=U(()=>e.hideHeaders||l.value),l=U(()=>Object.keys(e.customRow||{}).length);return{headers:a,headersModel:i,hasSearchableHeader:n,selectedHeaders:s,hideHeaders:o,hasCustomRow:l,applyHeaders:()=>{a.value=H.cloneDeep(i.value),__pushQueryParams({columns:i.value.reduce((c,r)=>(r.visible&&c.push(r.key),c),[])})}}}const qc=ke({inputFields:{type:Array},formWidth:{type:[String,Number],default:"60%"},createOnModal:{type:Boolean,default:!0},editOnModal:{type:Boolean,default:!0},embeddedForm:{type:Boolean,default:!1},addBtnOptions:{type:Object,default:()=>({})}});function Hc(e,t){const a=Me(),{t:i}=we({useScope:"global"}),{setEditedItem:n,resetEditedItem:s,editedItem:o}=Xt(),l=X(null),m=X(!1),c=X(!1),r=X({}),h=X({}),_=X({}),p=U(()=>e.inputFields??a.state.datatable.inputs??[]),A=U(()=>state.id+"-form"),M=U(()=>({width:e.formWidth})),S=U(()=>a.state.form.loading??!1),v=U(()=>a.state.form.errors??{}),C=U(()=>{var L;return((L=l.value)==null?void 0:L.validModel)??null}),w=U(()=>e.createOnModal||e.editOnModal?e.addBtnOptions.text?i(e.addBtnOptions.text):i("fields.add-item",{item:t.transNameSingular.value}):e.addBtnOptions.text??i("ADD NEW")),T=()=>{m.value=!0},N=()=>{m.value=!1},G=()=>{s(),T()},K=()=>{l.value.submit(null,L=>{Object.prototype.hasOwnProperty.call(L,"variant")&&L.variant.toLowerCase()==="success"&&N()})},J=L=>{const R=L.action;L.response,R.type==="request"&&a.dispatch(_e.GET_DATATABLE),R.type==="modal"&&a.dispatch(_e.GET_DATATABLE)};return se(()=>m.value,L=>{L||s()}),{...ie({UeForm:l,formActive:m,customFormModalActive:c,customFormAttributes:r,customFormSchema:h,customFormModel:_}),inputs:p,formRef:A,formStyles:M,formLoading:S,formErrors:v,formIsValid:C,addBtnTitle:w,openForm:T,closeForm:N,createForm:G,confirmFormModal:K,handleFormActionComplete:J}}const Gc=ke({isRowEditing:Boolean,rowActionsIcon:{type:String,default:"mdi-cog-outline"},rowActions:{type:Array,default:[]},rowActionsType:{type:String,default:"inline"},iteratorType:{type:String,default:""},formActions:{type:Array,default:[]}});function Wc(e,{tableForms:t,tableModals:a,tableEndpoints:i}){const n=Me(),s=Xt(),o=Qa(e),{smAndDown:l,mdAndDown:m,lgAndDown:c}=ya(),r=L=>{const R=o.permissionName.value+"_"+L;return n.getters.isSuperAdmin||n.getters.userPermissions[R]},h=(L,R)=>R.split(".").reduce(($,V)=>$&&$[V]!==void 0?$[V]:void 0,L),_=(L,R)=>{let $=!0;switch(R.name){case"edit":case"delete":case"switch":case"duplicate":case"activate":$=!s.isSoftDeletable(L)&&r(R.name);break;case"forceDelete":case"restore":$=s.isSoftDeletable(L)&&r(R.name);break}return R.conditions?$&&R.conditions.every(V=>{const[I,O,j]=V;let Q=h(L,I);switch([">","<",">=","<=","="].includes(O)&&Array.isArray(Q)&&(Q=Q.length),O){case"=":case"==":return Q===j;case"!=":return Q!==j;case">":return Q>j;case"<":return Q<j;case">=":return Q>=j;case"<=":return Q<=j;case"in":return Array.isArray(j)&&j.includes(Q);case"not in":return Array.isArray(j)&&!j.includes(Q);case"exists":return Q!=null;default:return console.warn(`Unknown operator: ${O}`),!1}}):$},p=L=>{if(e.editOnModal||e.embeddedForm)s.setEditedItem(L),t.openForm();else{const R=i.editUrl.value.replace(":id",L.id);window.open(R)}},A=L=>{s.setEditedItem(L),a.activeModal.value="delete",a.customModalActive.value=!0},M=L=>{s.setEditedItem(L),n.dispatch(_e.RESTORE_ITEM,{id:L.id,callback:()=>{},errorCallback:()=>{}})},S=L=>{s.setEditedItem(H.omit(L,"id")),t.openForm()},v=(L,R,$)=>{n.dispatch(_e.SAVE_FORM,{plain:!0,item:{id:L.id,[$]:R},callback:()=>{L[$]=R,s.editedItem.id===L.id&&s.setEditedItem({...s.editedItem,[$]:R})},errorCallback:()=>{}})},C=L=>{a.activeModal.value="action",a.customModalActive.value=!0,a.selectedAction.value=L},w=(L,R)=>{if(t.customFormSchema.value=H.cloneDeep(L.form.attributes.schema),t.customFormAttributes.value=H.cloneDeep(L.form.attributes),L.form.hasOwnProperty("model_formatter"))for(let $ in L.form.model_formatter){let V=H.get(R,L.form.model_formatter[$],"");H.set(t.customFormModel.value,$,V)}if(L.form.hasOwnProperty("schema_formatter"))for(let $ in L.form.schema_formatter){let V=H.get(R,L.form.schema_formatter[$],"");H.set(t.customFormAttributes.value.schema,$,V)}t.customFormModalActive.value=!0},T=(L,R=null)=>{if(!R)return L;if(Array.isArray(L))L=L.map($=>T($,R));else if(__isObject(L)){if(Array.isArray(R))R.forEach($=>{__data_get(L,$,null)});else if(__isObject(R)){let $={};Object.keys(R).forEach(V=>{let I=R[V],O=__data_get(L,V,null);$[I]=O}),L=H.cloneDeep($)}}return L},N=(L,R=null)=>{if(!R)return L;if(Array.isArray(L))L=L.map($=>N($,R));else if(__isObject(L)&&Array.isArray(R)){let $=H.cloneDeep(L);R.forEach(V=>{__data_get(L,V,null),delete $[V]}),L=H.cloneDeep($)}return L},G=(L,R)=>{let $=null;L.show===!0?$=R:$=__data_get(R,L.show,null),$&&(L.only?$=T($,L==null?void 0:L.only):L.except&&($=N($,L==null?void 0:L.except)),a.modals.value.show.loadData($),a.modals.value.show.set(L),a.modals.value.show.open())},K=(L=null,R=null,...$)=>{const V=__isString(R)?{name:R}:R;switch(V.name){case"edit":p(L);break;case"delete":case"forceDelete":A(L);break;case"restore":M(L);break;case"duplicate":S(L);break;case"link":window.open(V.url.replace(":id",L.id),"_blank");break;case"switch":v(L,$[0],$[1]);break;case"activate":state.activeTableItem=H.find(state.elements,{id:L.id});break;case"bulkDelete":case"bulkForceDelete":case"bulkRestore":C(V);break}V.form&&w(V,L),V.show&&G(V,L)},J=re({actionShowingType:U(()=>{const L=R=>R>7?c.value:R>4?m.value:l.value;return e.rowActionsType==="dropdown"||L(e.rowActions.length)?"dropdown":"inline"})});return{...ie(J),itemAction:K,itemHasAction:_,can:r}}function Yc(e,t){const a=Me(),{t:i}=we({useScope:"global"}),n=Xt(),s=Qa(e),o=X(!1),l=X(!H.isEmpty(a._state.data.datatable.customModal)),m=X(!1),c=X("custom"),r=X(null),h=X(null),_=U(()=>{var N;return i("confirm-action",{route:s.transNameSingular.value,action:i(((N=r.value)==null?void 0:N.name)??"")})}),p=X({delete:{content:s.deleteQuestion,confirmAction(){n.isSoftDeletableItem.value?a.dispatch(_e.DESTROY_ITEM,{id:n.editedItem.value.id,callback:()=>{l.value=!1},errorCallback:()=>{}}):a.dispatch(_e.DELETE_ITEM,{id:n.editedItem.value.id,callback:()=>{l.value=!1},errorCallback:()=>{}})},closeAction(){l.value=!1}},action:{content:_,confirmAction(){M(r.value),l.value=!1},openAction(N){r.value=N,l.value=!0},closeAction(){l.value=!1}},custom:{content:U(()=>a._state.data.datatable.customModal.description),confirmText:"Done",cancelText:" ",img:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-1024.png",icon:U(()=>a._state.data.datatable.customModal.icon),iconSize:72,title:"Payment Complete",color:"success",closeAction(){l.value=!1,A()},confirmAction(){l.value=!1,A()}},show:{ref:X(null),active:!1,data:null,transition:"dialog-bottom-transition",widthType:"lg",fullscreen:!1,persistent:!1,title:i("Display Details"),confirmText:i("Confirm"),cancelText:i("Cancel"),_old:{},toggle(N=null){this.active=N??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},set(N){let G=Object.keys(N).reduce((J,L)=>(this[L]!==void 0&&!["active","ref","data","_old"].includes(L)&&(J[L]=N[L]),J),{}),K=H.reduce(G,(J,L,R)=>(J[R]=L,this._old[R]=H.cloneDeep(this[R]),J),{});Object.assign(this,K)},loadData(N){this.data=N},resetData(){this.data=null},cancel(){this.toggle(!1),this.reset()},confirm(){},reset(){this.resetData(),H.each(this._old,(N,G)=>{this[G]=N}),this._old={}}}}),A=()=>{p.custom.confirmText="",p.custom.cancelText="",p.custom.img="",p.custom.icon="",p.custom.iconSize=null,p.custom.title="",p.custom.color=""},M=async N=>{const G=H.snakeCase(N.name).toUpperCase();__isset(_e[G])?(await a.dispatch(_e[G]),selectedItems.value=[]):console.warn(`${N.name} may have not implemented yet on useTable.js hook`)},S=N=>{N.open()},v=()=>{l.value=!1},C=()=>{m.value=!1},w=N=>{l.value=!0},T=()=>{a._state.data.datatable.customModal&&__removeQueryParams(["customModal[description]","customModal[color]","customModal[icon]","customModal[hideModalCancel]"])};return se(()=>p.value.show.active,N=>{N||p.value.show.reset()}),Nt(()=>{console.log("Component using useTable is mounted",e.name),T()}),{...ie({}),deleteModalActive:o,customModalActive:l,actionModalActive:m,activeModal:c,selectedAction:r,deleteModal:h,modals:p,actionDialogQuestion:_,openDeleteModal:S,closeDeleteModal:v,closeActionModal:C,openActionModal:w,cleanupModals:T,bulkAction:M}}function Zc(e){const{locale:t}=we({useScope:"global"}),a=re({formatPrice(i,n){return window.__formatCurrencyPrice(i,n,t.value??t)}});return{...ie(a)}}const zi=(e,t=1e3)=>{Object.prototype.hasOwnProperty.call(e,"redirector")&&(t=Object.prototype.hasOwnProperty.call(e,"timeout")?e.timeout:t,setTimeout(function(a){window.open(a.redirector,Object.prototype.hasOwnProperty.call(a,"target")?a.target:"_self")},t,e))},Qc=ke({modelValue:{type:Object},formClass:{type:[Array,String],default:""},actionUrl:{type:String},title:{type:String},noTitle:{type:Boolean,default:!1},schema:{type:Object},async:{type:Boolean,default:!0},buttonText:{type:String},hasSubmit:{type:Boolean,default:!1},stickyFrame:{type:Boolean,default:!1},stickyButton:{type:Boolean,default:!1},rowAttribute:{type:Object,default(){return{noGutters:!1,class:"py-4"}}},slots:{type:Object,default(){return{}}},valid:{type:Boolean,default:null},isEditing:{type:Boolean,default:!1},hasDivider:{type:Boolean,default:!1},fillHeight:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},noDefaultFormPadding:{type:Boolean,default:!1},noDefaultSurface:{type:Boolean,default:!1},actions:{type:[Array,Object],default:[]},rightSlotGap:{type:Number,default:12},rightSlotWidth:{type:Number,default:null},rightSlotMinWidth:{type:Number,default:300},rightSlotMaxWidth:{type:Number,default:600}});function Xc(e,t){const a=Me(),{t:i,te:n}=we({useScope:"global"}),s=Zt(),o=tt(e),l=xi(),m=X(null),c=X(!!e.modelValue),r=X(!!e.schema),h=X(!1),_=X({}),p=X(r.value?e.schema:a.state.form.inputs),A=X(r.value?be(p.value):a.getters.defaultItem),M=U(()=>a.state.form.editedItem),S=X(be(p.value,c.value?e.modelValue:M.value,a.state)),v=X(o.invokeRuleGenerator(Ge(p.value,S.value,e.isEditing))),C=X($a(p.value,e.isEditing)),w=X(e.actions.length?e.actions.map(()=>!0):[]),T=re({id:Math.ceil(Math.random()*1e6)+"-form",VForm:m,issetModel:c,issetSchema:r,model:S,formItem:U(()=>c.value?e.modelValue:M.value),inputSchema:v,topSchema:C,extraValids:w,hasStickyFrame:e.stickyFrame||e.stickyButton,manualValidation:!1,buttonDefaultText:U(()=>e.buttonText?n(e.buttonText)?i(e.buttonText):e.buttonText:i("submit")),serverValid:U(()=>a.state.form.serverValid??!0),loading:U(()=>e.actionUrl?h.value:a.state.form.loading),errors:U(()=>e.actionUrl?_.value:a.state.form.errors),reference:U(()=>"ref-"+T.id),hasTraslationInputs:U(()=>Ii(v.value)>0),flattenedActions:U(()=>__isObject(e.actions)?Object.values(e.actions):e.actions),hasActions:U(()=>T.flattenedActions.length>0)}),N=(O=null,j=null)=>{if(e.actionUrl){_.value={},h.value=!0;const Q=Ct(p.value,T.model,a._state.data),ae=Object.prototype.hasOwnProperty.call(Q,"id")?"put":"post";mt[ae](e.actionUrl,Q,ge=>{h.value=!1,Object.prototype.hasOwnProperty.call(ge.data,"errors")?(a.commit(oe.SET_SERVER_VALID,!1),_.value=ge.data.errors):Object.prototype.hasOwnProperty.call(ge.data,"variant")&&(a.commit(oe.SET_SERVER_VALID,!1),a.commit(pe.SET_ALERT,{message:ge.data.message,variant:ge.data.variant})),t.emit("submitted",ge.data),zi(ge.data),O&&typeof O=="function"&&O(ge.data)},ge=>{h.value=!1,Object.prototype.hasOwnProperty.call(ge.data,"exception")?a.commit(pe.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(a.dispatch(_e.HANDLE_ERRORS,ge.response.data),a.commit(pe.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),j&&typeof j=="function"&&j(ge.data)})}else qt(()=>{a.dispatch(_e.SAVE_FORM,{item:null,callback:O,errorCallback:j})})},G=O=>{O&&O.preventDefault();const j=document.createElement("form");j.method="POST",j.action=e.actionUrl,j.enctype="multipart/form-data";let Q=J(T.model);for(const[ge,Ye]of Q.entries()){const Ne=document.createElement("input");Ne.type="hidden",Ne.name=ge,Ne.value=Ye,j.appendChild(Ne)}const ae=document.createElement("input");ae.type="hidden",ae.name="_token",ae.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),j.appendChild(ae),document.body.appendChild(j),j.submit()},K=O=>{Ea(S.value,v.value,O.schema,!0)},J=(O,j="")=>{const Q=new FormData;for(const[ae,ge]of Object.entries(O)){const Ye=j?`${j}[${ae}]`:ae;if(ge!=null)if(typeof ge=="object")if(Array.isArray(ge))ge.forEach((Ne,ea)=>{if(typeof Ne=="object"&&Ne!==null){const Sa=J(Ne,`${Ye}[${ea}]`);for(const[Tn,Mn]of Sa.entries())Q.append(Tn,Mn)}else Q.append(`${Ye}[${ea}]`,Ne)});else{const Ne=J(ge,Ye);for(const[ea,Sa]of Ne.entries())Q.append(ea,Sa)}else Q.append(Ye,ge)}return Q},L=O=>{const j={};for(const Q in O){const ae=/(\w+)\.(\w+)/,ge=Q.match(ae);if(ge){const Ye=ge[1],Ne=ge[2];__isset(j[Ye])||(j[Ye]=[]),j[Ye][Ne]=O[Q]}else j[Q]=O[Q]}for(const Q in j)v.value[Q]&&(v.value[Q].errorMessages=j[Q])},R=O=>{v.value[O].errorMessages=[]},$=()=>{for(const O in v.value)R(O)},V=()=>{$()},I=re({async validate(){return await T.VForm.validate()},createModel:O=>be(O,T.model.value,a.state),handleInput:O=>{const{on:j,key:Q,obj:ae}=O;j==="input"&&Q&&(T.serverValid||R(Q),K(ae)),t.emit("input",O)},handleClick:O=>{const{on:j,obj:Q,params:ae}=O;j==="click"&&ae&&ae.tag&&s.invokeInputClickHandler(Q,ae.tag)},handleUpdate:O=>{},handleResize:O=>{},handleBlur:O=>{},submit:(O,j=null,Q=null)=>{o.validModel.value?e.async?(O&&O.preventDefault(),e.actionUrl?N(j,Q):(a.commit(oe.SET_EDITED_ITEM,T.model),qt(()=>{N(j,Q)}))):G(O):O&&O.preventDefault()},updatedSlotModel:(O,j)=>{__log(T.model,O,j)},regenerateInputSchema:O=>{},getTopInputActiveLabel:O=>{const j=O.items.find(Q=>Q[O.itemValue]===(window.__isset(T.model[O.name])?T.model[O.name]:-1));return j?j[O.itemTitle]:O.label},updatedCustomFormBaseModelValue:O=>{__log("updatedCustomFormBaseModelValue",O),S.value=O}});return se(()=>e.modelValue,(O,j)=>{if(j!==void 0&&c.value){if(Pe(O,j)&&Pe(O,S.value))return;S.value=be(p.value,O,a.state)}}),se(()=>M.value,(O,j)=>{c.value}),se(()=>S.value,(O,j)=>{if(c.value){if(Pe(O,j)&&Pe(O,e.modelValue))return;t.emit("update:modelValue",O)}},{deep:!0}),se(()=>T.errors,O=>{L(O)}),se(()=>o.validModel.value,O=>{t.emit("update:valid",O)}),se(()=>e.schema,(O,j)=>{!Pe(O,j)&&r.value&&!Pe(O,v.value)&&(p.value=O,A.value=be(p.value),v.value=o.invokeRuleGenerator(Ge(p.value,S.value,e.isEditing)),C.value=$a(p.value,e.isEditing),V())},{deep:!0}),se(()=>v.value,(O,j)=>{},{deep:!0}),se(()=>p.value,(O,j)=>{if(j!==void 0&&!Pe(O,j)){const Q=de(S.value),ae=be(O,S.value,a.state);Pe(ae,Q)||(S.value=ae,v.value=o.invokeRuleGenerator(Ge(O,S.value,e.isEditing)))}},{deep:!0}),V(),{...ie(T),...ie(I),...s,...o,...l}}const Jc={name:"FormActions",emits:["actionComplete"],props:{modelValue:{type:Object,required:!0},isEditing:{type:Boolean,required:!1},actions:{type:Object,required:!0}},setup(e,t){const{handleAction:a,showedActions:i}=ji(e,{...t,actionItem:e.modelValue}),n=U(()=>i.value.map(o=>!0));return{showedActions:i,handleAction:a,createModel:o=>be(o,e.modelValue),valids:n}}},em={class:"d-flex flex-wrap ga-2 mr-2"};function tm(e,t,a,i,n,s){const o=x("ue-form");return d(),y("div",em,[(d(!0),y(F,null,B(i.showedActions,(l,m)=>(d(),y(F,null,[l.type!=="modal"?(d(),g(Ue,{key:0,disabled:!l.icon||l.forceLabel,location:l.tooltipLocation??"top"},{activator:u(({props:c})=>[l.type==="publish"?(d(),g(Gt,{key:0,modelValue:e.editedItem[l.key??"published"]??l.default??!1,"onUpdate:modelValue":r=>i.handleAction(l)},null,8,["modelValue","onUpdate:modelValue"])):(d(),g(q,P({key:1,icon:l.forceLabel?null:l.icon,text:l.forceLabel?l.label:null,color:l.color,variant:l.variant,density:l.density??"comfortable",size:l.size??"default",rounded:l.forceLabel?null:!0,ref_for:!0},c,{onClick:r=>i.handleAction(l)}),null,16,["icon","text","color","variant","density","size","rounded","onClick"]))]),default:u(()=>[b("span",null,E(l.tooltip??l.label),1)]),_:2},1032,["disabled","location"])):l.type==="modal"&&l.endpoint&&l.schema?(d(),g(He,{key:1,"close-on-content-click":!1,"open-on-hoverx":"",transition:"scale-transition"},{activator:u(({props:c})=>[f(q,P({icon:l.forceLabel?null:l.icon,text:l.forceLabel?l.label:null,color:l.color,variant:l.variant,density:l.density??"comfortable",size:l.size??"default",rounded:l.forceLabel?null:!0,ref_for:!0},c),null,16,["icon","text","color","variant","density","size","rounded"])]),default:u(()=>[f(Ve,{style:me(e.$vuetify.display.mdAndDown?{width:"70vw"}:{width:"40vw"})},{default:u(()=>[f(o,{ref_for:!0,ref:`extra-form-${m}`,modelValue:i.createModel(l.schema),"onUpdatex:modelValue":t[0]||(t[0]=c=>e.$log(c)),title:l.formTitle??null,schema:l.schema,"action-url":l.endpoint.replace(":id",a.modelValue.id),valid:i.valids[m],"onUpdate:valid":c=>i.valids[m]=c,"has-divider":"","has-submit":"","button-text":"Save",onSubmitted:c=>e.$emit("actionComplete",{action:l})},null,8,["modelValue","title","schema","action-url","valid","onUpdate:valid","onSubmitted"])]),_:2},1032,["style"])]),_:2},1024)):k("",!0)],64))),256))])}const am=Z(Jc,[["render",tm]]),sm={name:"ue-form",components:{FormActions:am},emits:["update:valid","update:modelValue","update:schema","input","actionComplete","submitted"],props:{...Qc()},provide(){return{manualValidation:U(()=>this.manualValidation),submitForm:U(()=>this.submit)}},setup(e,t){const a=Me(),i=Xc(e,t),{t:n,te:s,locale:o}=we({useScope:"global"}),l=U(()=>[e.noDefaultFormPadding?"":"px-6 py-6",e.noDefaultSurface?"":"bg-surface",e.fillHeight?"d-flex flex-column h-100":"",e.formClass]),m=U(()=>{const h=[];return Object.values(i.issetSchema.value?e.schema:a.state.form.inputs).forEach((_,p)=>{Object.prototype.hasOwnProperty.call(_,"slots")&&Object.keys(_.slots).length>0?Object.keys(_.slots).forEach(A=>{h.push({name:A,inputName:_.name,type:"recursive-stuff",context:_.slots[A]})}):Object.prototype.hasOwnProperty.call(_,"slotable")&&h.push({name:_.slotable.name,inputName:_.slotable.slotTo,selfName:_.name,type:"form",schema:de(i.invokeRuleGenerator({[_.name]:St(_,["slotable"])}))})}),h}),c=U(()=>{let h={};return __isObject(e.title)&&(h={tag:e.title.tag||"div",type:e.title.type||"body-1",weight:e.title.weight||"regular",transform:e.title.transform||"none",color:e.title.color,padding:e.title.padding||"a-0",margin:e.title.margin||"a-0",align:e.title.align||"left",justify:e.title.justify||"start"}),h}),r=U(()=>{let h=e.title;return __isObject(e.title)&&(h=e.title.text),s(h)?n(h).toLocaleUpperCase(o.value.toUpperCase()):h.toLocaleUpperCase(o.value.toUpperCase())});return U(()=>e.hasStickyFrame?{cols:"12",sm:"12",md:"12",lg:"8",xl:"6","order-lg":"0","order-xl":"0"}:{cols:"12"}),U(()=>({cols:"12",sm:"12",md:"12",lg:"4",xl:"6","order-lg":"1","order-xl":"1"})),{...i,formClasses:l,formSlots:m,titleOptions:c,titleSerialized:r}}},im=["value"],nm={class:"d-flex align-center"};const lm={class:"flex-grow-1"},rm={key:1,class:"d-flex pt-6"},om={key:2},dm={class:"ue-form__bottom"};function um(e,t,a,i,n,s){const o=x("ue-form"),l=x("FormActions"),m=x("ue-recursive-stuff"),c=x("ue-title"),r=x("v-custom-form-base");return d(),y("div",{class:W((e.fillHeight,"")),style:me({height:e.fillHeight?e.$vuetify.display.mdAndDown?"calc(97vh - 64px)":"calc(97vh)":""})},[f(Na,{id:e.id,ref:"VForm",action:e.actionUrl,method:"POST",modelValue:e.validModel,"onUpdate:modelValue":t[5]||(t[5]=h=>e.validModel=h),onSubmit:e.submit,class:W(i.formClasses)},{default:u(()=>[e.async?k("",!0):(d(),y("input",{key:0,type:"hidden",name:"_token",value:e.csrf},null,8,im)),b("div",{class:W([e.hasDivider||e.title?"pb-6":"",e.scrollable?"flex-grow-0":""])},[!e.noTitle&&e.title?(d(),g(c,P({key:0,padding:"b-3",align:"center",justify:"space-between"},i.titleOptions),{default:u(()=>[z(e.$slots,"header.left",te(ne({title:i.titleSerialized,model:e.model,schema:e.inputSchema})),()=>[D(E(i.titleSerialized),1)])]),right:u(()=>[b("div",nm,[z(e.$slots,"headerCenter"),(e.hasAction,k("",!0)),e.isEditing?(d(),g(l,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:t[1]||(t[1]=h=>e.$emit("actionComplete",h))},null,8,["modelValue","actions","is-editing"])):k("",!0),e.topSchema&&e.topSchema.length?(d(!0),y(F,{key:2},B(e.topSchema,h=>(d(),g(Ue,{key:h.name,disabled:h.tooltip=="",location:h.tooltipLocation??"top"},{activator:u(({props:_})=>[h.type==="switch"?(d(),g(Gt,P({key:0,ref_for:!0},{...e.$lodash.omit(h,"label"),..._},{"hide-details":"",modelValue:e.model[h.name]??h.default??!1,"onUpdate:modelValue":p=>e.model[h.name]=p,class:"mr-2"}),null,16,["modelValue","onUpdate:modelValue"])):h.viewOnlyComponent?(d(),g(m,P({key:1,configuration:h.viewOnlyComponent,"bind-data":e.model,ref_for:!0},_,{class:"mr-2"}),null,16,["configuration","bind-data"])):(d(),g(He,P({key:2,"close-on-content-click":!1,transition:"scale-transition","offset-y":"",ref_for:!0},_),{activator:u(({props:p})=>[f(q,P({class:"mr-2",variant:"outlined","append-icon":"mdi-chevron-down",ref_for:!0},p),{default:u(()=>[D(E(e.getTopInputActiveLabel(h)),1)]),_:2},1040)]),default:u(()=>[f($e,null,{default:u(()=>[(d(!0),y(F,null,B(h.items,(p,A)=>(d(),g(he,{key:p.id,onClick:M=>e.model[h.name]=p.id},{default:u(()=>[f(Rt,null,{default:u(()=>[D(E(p.name)+" ",1),e.$isset(e.model[h.name])&&p[h.itemValue]===e.model[h.name]?(d(),g(le,{key:0,size:"small",icon:"$check",color:"primary"})):k("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1040))]),default:u(()=>[b("span",null,E(h.tooltip??h.label),1)]),_:2},1032,["disabled","location"]))),128)):k("",!0),e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1?(d(),g(di,{key:3,modelValue:e.currentLocale.value,"onUpdate:modelValue":t[2]||(t[2]=h=>e.updateLocale(h)),"selected-class":"bg-primary",mandatory:""},{default:u(()=>[(d(!0),y(F,null,B(e.languages,h=>(d(),g(Re,{key:h.value,text:h.shortlabel,value:h.value,variant:"outlined"},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])):k("",!0),z(e.$slots,"header.right")])]),_:3},16)):k("",!0),e.hasDivider?(d(),g(fe,{key:1})):k("",!0)],2),b("div",{class:W(["d-flex",e.scrollable?"flex-grow-1 overflow-hidden mr-n5":""])},[b("div",{class:W(["w-100 d-flex",e.scrollable?"overflow-y-auto pr-3":""])},[b("div",lm,[z(e.$slots,"top",te(ne({item:e.formItem,schema:e.schema}))),f(r,{id:`ue-wrapper-${e.id}`,modelValue:e.model,"onUpdate:modelValue":t[4]||(t[4]=h=>e.model=h),schema:e.inputSchema,row:e.rowAttribute,onUpdate:e.handleUpdate,onInput:e.handleInput,onResize:e.handleResize,onBlur:e.handleBlur,onClick:e.handleClick},ye({_:2},[B(i.formSlots,(h,_)=>({name:`slot-inject-${h.name}-key-ue-wrapper-${e.id}-${h.inputName}`,fn:u(p=>[h.type=="form"?(d(),g(r,{key:0,id:`ue-wrapper-${e.id}-${h.name}`,modelValue:e.model,"onUpdate:modelValue":t[3]||(t[3]=A=>e.model=A),schema:h.schema,"onUpdate:schema":A=>h.schema=A,row:e.rowAttribute},null,8,["id","modelValue","schema","onUpdate:schema","row"])):h.type=="recursive-stuff"?(d(!0),y(F,{key:1},B(h.context.elements,(A,M)=>(d(),g(m,{key:M,configuration:A,bindData:p},null,8,["configuration","bindData"]))),128)):k("",!0)])}))]),1032,["id","modelValue","schema","row","onUpdate","onInput","onResize","onBlur","onClick"])]),e.$slots.right||e.$slots["right.top"]||e.$slots["right.bottom"]||e.$slots["right.middle"]?(d(),y("div",{key:0,class:W([e.$vuetify.display.lgAndUp?"flex-grow-0":"d-none","pt-2",`ml-${e.rightSlotGap}`]),style:me({...e.rightSlotWidth?{width:`${e.rightSlotWidth}px`}:{},...e.rightSlotMinWidth?{minWidth:`${e.rightSlotMinWidth}px`}:{},...e.rightSlotMaxWidth?{maxWidth:`${e.rightSlotMaxWidth}px`}:{}})},[z(e.$slots,"right",te(ne({item:e.formItem,schema:e.schema})),()=>[z(e.$slots,"right.top",te(ne({item:e.formItem,schema:e.schema}))),z(e.$slots,"right.middle",te(ne({item:e.formItem,schema:e.schema}))),z(e.$slots,"right.bottom",te(ne({item:e.formItem,schema:e.schema})))])],6)):k("",!0)],2)],2),b("div",{class:W([e.scrollable?"flex-grow-0":""])},[e.hasSubmit&&!e.stickyButton&&e.hasDivider?(d(),g(fe,{key:0,class:"mt-6"})):k("",!0),e.hasSubmit&&!e.stickyButton?(d(),y("div",rm,[z(e.$slots,"submit",te(ne({validForm:e.validModel||!e.serverValid,buttonDefaultText:e.buttonDefaultText})),()=>[f(q,{type:"submit",disabled:!(e.validModel||!e.serverValid)||e.loading,class:"ml-auto mb-5"},{default:u(()=>[D(E(e.buttonDefaultText),1)]),_:1},8,["disabled"])])])):k("",!0),e.hasSubmit&&!e.stickyButton?(d(),y("div",om,[e.loading?(d(),g(ui,{key:0,indeterminate:"",color:"green"})):k("",!0)])):k("",!0),b("div",dm,[z(e.$slots,"bottom",te(ne({})))])],2)]),_:3},8,["id","action","modelValue","onSubmit","class"])],6)}const cm=Z(sm,[["render",um]]),mm=Object.freeze(Object.defineProperty({__proto__:null,default:cm},Symbol.toStringTag,{value:"Module"})),fm={name:"ue-form",emits:["update:valid","update:modelValue","input","actionComplete","submitted"],props:{modelValue:{type:Object,default(){return{}}},formClass:{type:[Array,String],default:""},actionUrl:{type:String},title:{type:String},schema:{type:Object,default(){return{}}},async:{type:Boolean,default:!0},buttonText:{type:String},hasSubmit:{type:Boolean,default:!1},stickyFrame:{type:Boolean,default:!1},stickyButton:{type:Boolean,default:!1},rowAttribute:{type:Object,default(){return{noGutters:!1,class:"py-4"}}},slots:{type:Object,default(){return{}}},valid:{type:Boolean,default:null},isEditing:{type:Boolean,default:!1},hasDivider:{type:Boolean,default:!1},fillHeight:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},noDefaultFormPadding:{type:Boolean,default:!1},noDefaultSurface:{type:Boolean,default:!1},actions:{type:[Array,Object],default:[]}},setup(e,t){const a=Me(),i=Zt(),n=tt(e),s=xi(),{t:o,te:l}=we({useScope:"global"}),m=U(()=>e.buttonText?l(e.buttonText)?o(e.buttonText):e.buttonText:o("submit")),c=U(()=>a.state.form.editedItem),r=U(()=>a.state.form.serverValid),h=ji(e,{...t,item:c.value});return{buttonDefaultText:m,editedItem:c,serverValid:r,...h,...i,...n,...s}},data(){return{id:Math.ceil(Math.random()*1e6)+"-form",formLoading:!1,formErrors:{},issetModel:Object.keys(this.modelValue).length>0,issetSchema:Object.keys(this.schema).length>0,hasStickyFrame:this.stickyFrame||this.stickyButton,model:this.issetModel?this.modelValue:this.editedItem,rawSchema:null,inputSchema:null,topSchema:null,defaultItem:null,manualValidation:!1,extraValids:[]}},provide(){return{manualValidation:U(()=>this.manualValidation),submitForm:U(()=>this.submit)}},created(){this.rawSchema=this.issetSchema?this.schema:this.$store.state.form.inputs,this.defaultItem=this.issetSchema?be(this.rawSchema):this.$store.getters.defaultItem,this.model=be(this.rawSchema,this.issetModel?this.modelValue:this.editedItem,this.$store.state),this.inputSchema=this.invokeRuleGenerator(Ge(this.rawSchema,this.model,this.isEditing)),this.topSchema=$a(this.rawSchema,this.isEditing),this.extraValids=this.computedActions.map(e=>!0),this.resetSchemaErrors()},watch:{model:{handler(e,t){this.$emit("update:modelValue",e)},deep:!0},editedItem(e,t){this.issetModel||(this.regenerateInputSchema(e),this.model=be(this.rawSchema,e,this.$store.state))},errors(e,t){this.setSchemaErrors(e)},validModel(e,t){this.$emit("update:valid",e)},schema:{handler(e,t){},deep:!0},inputSchema:{handler(e,t){},deep:!0},rawSchema:{handler(e,t,...a){let i=de(this.model),n=be(e,this.model,this.$store.state);JSON.stringify(Object.keys(__dot(n)))!==JSON.stringify(Object.keys(__dot(i)))&&(this.model=n,this.inputSchema=this.invokeRuleGenerator(Ge(e,this.model,this.isEditing)))},deep:!0}},computed:{item(){return this.issetModel?this.modelValue:this.editedItem},hasTraslationInputs(){return Ii(this.rawSchema)>0},formClasses(){return[this.noDefaultFormPadding?"":"px-6 py-6",this.noDefaultSurface?"":"bg-surface",this.fillHeight?"d-flex flex-column h-100":"",this.formClass]},formSlots(){const e=[];return Object.values(this.issetSchema?this.schema:this.$store.state.form.inputs).forEach((t,a)=>{Object.prototype.hasOwnProperty.call(t,"slots")&&Object.keys(t.slots).length>0?Object.keys(t.slots).forEach(i=>{e.push({name:i,inputName:t.name,type:"recursive-stuff",context:t.slots[i]})}):Object.prototype.hasOwnProperty.call(t,"slotable")&&e.push({name:t.slotable.name,inputName:t.slotable.slotTo,selfName:t.name,type:"form",schema:de(this.invokeRuleGenerator({[t.name]:this.$lodash.omit(t,["slotable"])}))})}),e},loading(){return this.actionUrl?this.formLoading:this.$store.state.form.loading},errors(){return this.actionUrl?this.formErrors:this.$store.state.form.errors},reference(){return"ref-"+this.id},formColumnAttrs(){return this.hasStickyFrame?{cols:"12",sm:"12",md:"12",lg:"8",xl:"6","order-lg":"0","order-xl":"0"}:{cols:"12"}},stickyColumnAttrs(){return{cols:"12",sm:"12",md:"12",lg:"4",xl:"6","order-lg":"1","order-xl":"1"}},titleOptions(){let e={};return __isObject(this.title)&&(e={tag:this.title.tag||"div",type:this.title.type||"body-1",weight:this.title.weight||"regular",transform:this.title.transform||"none",color:this.title.color,padding:this.title.padding||"a-0",margin:this.title.margin||"a-0",align:this.title.align||"left",justify:this.title.justify||"start"}),e},titleSerialized(){let e=this.title;return __isObject(this.title)&&(e=this.title.text),this.$te(e)?this.$t(e).toLocaleUpperCase(this.$i18n.locale.toUpperCase()):e.toLocaleUpperCase(this.$i18n.locale.toUpperCase())},computedActions(){return __isObject(this.actions)?Object.values(this.actions):this.actions}},methods:{createModel(e){return be(e,this.item,this.$store.state)},createSchema(e,t){return this.invokeRuleGenerator(Ge(e,t,!0))},async validate(){return await this.$refs[this.reference].validate()},resetValidation(){this.$refs[this.reference].resetValidation()},reset(){this.$refs[this.reference].reset()},handleInput(e,t){const{on:a,key:i,obj:n}=e;a==="input"&&i&&(this.serverValid||this.resetSchemaError(i),this.handleEvent(n)),this.$emit("input",e)},handleEvent(e){Ea(this.model,this.inputSchema,e.schema,!0)},handleUpdate(e){},handleResize(e){},handleBlur(e){},saveForm(e=null,t=null){if(this.actionUrl){this.formErrors={},this.formLoading=!0;const a=Ct(this.rawSchema,this.model,this.$store._state.data),i=Object.prototype.hasOwnProperty.call(a,"id")?"put":"post",n=this;mt[i](this.actionUrl,a,function(s){n.formLoading=!1,Object.prototype.hasOwnProperty.call(s.data,"errors")?(n.$store.commit(oe.SET_SERVER_VALID,!1),n.formErrors=s.data.errors):Object.prototype.hasOwnProperty.call(s.data,"variant")&&(n.$store.commit(oe.SET_SERVER_VALID,!1),n.$store.commit(pe.SET_ALERT,{message:s.data.message,variant:s.data.variant})),n.$emit("submitted",s.data),zi(s.data),e&&typeof e=="function"&&e(s.data)},function(s){n.formLoading=!1,Object.prototype.hasOwnProperty.call(s.data,"exception")?n.$store.commit(pe.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(n.$store.dispatch(_e.HANDLE_ERRORS,s.response.data),n.$store.commit(pe.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),t&&typeof t=="function"&&t(s.data)})}else{const a=this;this.$nextTick(function(){a.$store.dispatch(_e.SAVE_FORM,{item:null,callback:e,errorCallback:t})})}},sendSync(e){e&&e.preventDefault();const t=document.createElement("form");t.method="POST",t.action=this.actionUrl,t.enctype="multipart/form-data";let a=this.convertToNestedFormData(this.modelValue);for(const[n,s]of a.entries()){const o=document.createElement("input");o.type="hidden",o.name=n,o.value=s,t.appendChild(o)}const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t.appendChild(i),document.body.appendChild(t),t.submit()},convertToNestedFormData(e,t=""){const a=new FormData;for(const[i,n]of Object.entries(e)){const s=t?`${t}[${i}]`:i;if(n!=null)if(typeof n=="object")if(Array.isArray(n))n.forEach((o,l)=>{if(typeof o=="object"&&o!==null){const m=this.convertToNestedFormData(o,`${s}[${l}]`);for(const[c,r]of m.entries())a.append(c,r)}else a.append(`${s}[${l}]`,o)});else{const o=this.convertToNestedFormData(n,s);for(const[l,m]of o.entries())a.append(l,m)}else a.append(s,n)}return a},submit(e,t=null,a=null){this.validModel?this.async?(e&&e.preventDefault(),this.actionUrl?this.saveForm(t,a):(this.$store.commit(oe.SET_EDITED_ITEM,this.model),this.$nextTick(()=>{this.saveForm(t,a)}))):this.sendSync(e):e&&e.preventDefault()},handleClick(e){const{on:t,obj:a,params:i}=e;t==="click"&&i&&i.tag&&this.invokeInputClickHandler(a,i.tag)},setSchemaErrors(e){const t={};for(const a in e){const i=/(\w+)\.(\w+)/,n=a.match(i);if(n){const s=n[1],o=n[2];__isset(t[s])||(t[s]=[]),t[s][o]=e[a]}else t[a]=e[a]}for(const a in t)this.inputSchema[a]&&(this.inputSchema[a].errorMessages=t[a])},resetSchemaError(e){this.inputSchema[e].errorMessages=[]},resetSchemaErrors(){for(const e in this.inputSchema)this.resetSchemaError(e)},updatedSlotModel(e,t){__log(this.model,e,t)},regenerateInputSchema(e){},getTopInputActiveLabel(e){const t=e.items.find(a=>a[e.itemValue]===(this.$isset(this.model[e.name])?this.model[e.name]:-1));return t?t[e.itemTitle]:e.label}}},hm=["value"],pm={class:"d-flex align-center"},gm={key:0,class:"d-flex flex-wrap ga-2 mr-2"},ym={key:1,class:"d-flex pt-6"},_m={key:2},bm={class:"ue-form__bottom"};function vm(e,t,a,i,n,s){const o=x("ue-form"),l=x("ue-recursive-stuff"),m=x("ue-title"),c=x("v-custom-form-base");return d(),y("div",{class:W((a.fillHeight,"")),id:"ue-form-old",style:me({height:a.fillHeight?e.$vuetify.display.mdAndDown?"calc(97vh - 64px)":"calc(97vh)":""})},[f(Na,{id:n.id,ref:s.reference,action:a.actionUrl,method:"POST",modelValue:e.validModel,"onUpdate:modelValue":t[5]||(t[5]=r=>e.validModel=r),onSubmit:s.submit,class:W(s.formClasses)},{default:u(()=>[a.async?k("",!0):(d(),y("input",{key:0,type:"hidden",name:"_token",value:e.csrf},null,8,hm)),b("div",{class:W([a.hasDivider||a.title?"pb-6":"",a.scrollable?"flex-grow-0":""])},[a.title?(d(),g(m,P({key:0,padding:"b-3",color:"grey-darken-5",align:"center",justify:"space-between"},s.titleOptions),{right:u(()=>[b("div",pm,[z(e.$slots,"headerCenter"),s.computedActions&&s.computedActions.length?(d(),y("div",gm,[(d(!0),y(F,null,B(s.computedActions,(r,h)=>(d(),y(F,null,[e.shouldShowAction(r)&&r.type!=="modal"?(d(),g(Ue,{key:0,disabled:!r.icon||r.forceLabel,location:r.tooltipLocation??"top"},{activator:u(({props:_})=>[r.type==="publish"?(d(),g(Gt,{key:0,modelValue:i.editedItem[r.key??"published"]??r.default??!1,"onUpdate:modelValue":p=>e.handleAction(r)},null,8,["modelValue","onUpdate:modelValue"])):(d(),g(q,P({key:1,icon:r.forceLabel?null:r.icon,text:r.forceLabel?r.label:null,color:r.color,variant:r.variant,density:r.density??"comfortable",size:r.size??"default",rounded:r.forceLabel?null:!0,ref_for:!0},_,{onClick:p=>e.handleAction(r)}),null,16,["icon","text","color","variant","density","size","rounded","onClick"]))]),default:u(()=>[b("span",null,E(r.tooltip??r.label),1)]),_:2},1032,["disabled","location"])):e.shouldShowAction(r)&&r.type==="modal"?(d(),g(He,{key:1,"close-on-content-click":!1,"open-on-hoverx":"",transition:"scale-transition"},{activator:u(({props:_})=>[f(q,P({icon:r.forceLabel?null:r.icon,text:r.forceLabel?r.label:null,color:r.color,variant:r.variant,density:r.density??"comfortable",size:r.size??"default",rounded:r.forceLabel?null:!0,ref_for:!0},_),null,16,["icon","text","color","variant","density","size","rounded"])]),default:u(()=>[f(Ve,{style:me(e.$vuetify.display.mdAndDown?{width:"70vw"}:{width:"40vw"})},{default:u(()=>[f(o,{ref_for:!0,ref:`extra-form-${h}`,modelValue:s.createModel(r.schema),"onUpdatex:modelValue":t[0]||(t[0]=_=>e.$log(_)),title:r.formTitle??null,schema:r.schema,"action-url":r.endpoint.replace(":id",i.editedItem.id),valid:n.extraValids[h],"onUpdate:valid":_=>n.extraValids[h]=_,"has-divider":"","has-submit":"","button-text":"Save"},null,8,["modelValue","title","schema","action-url","valid","onUpdate:valid"])]),_:2},1032,["style"])]),_:2},1024)):k("",!0)],64))),256))])):k("",!0),n.topSchema&&n.topSchema.length?(d(!0),y(F,{key:1},B(n.topSchema,r=>(d(),y(F,{key:r.name},[r.type==="switch"?(d(),g(Gt,P({key:0,ref_for:!0},e.$lodash.omit(r,"label"),{"hide-details":"",modelValue:n.model[r.name]??r.default??!1,"onUpdate:modelValue":h=>n.model[r.name]=h}),null,16,["modelValue","onUpdate:modelValue"])):r.viewOnlyComponent?(d(),g(l,{key:1,configuration:r.viewOnlyComponent,"bind-data":i.editedItem},null,8,["configuration","bind-data"])):(d(),g(He,{key:2,"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:u(({props:h})=>[f(q,P({variant:"outlined","append-icon":"mdi-chevron-down",ref_for:!0},h),{default:u(()=>[D(E(s.getTopInputActiveLabel(r)),1)]),_:2},1040)]),default:u(()=>[f($e,null,{default:u(()=>[(d(!0),y(F,null,B(r.items,(h,_)=>(d(),g(he,{key:h.id,onClick:p=>n.model[r.name]=h.id},{default:u(()=>[f(Rt,null,{default:u(()=>[D(E(h.name)+" ",1),e.$isset(n.model[r.name])&&h[r.itemValue]===n.model[r.name]?(d(),g(le,{key:0,size:"small",icon:"$check",color:"primary"})):k("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024))],64))),128)):k("",!0),s.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1?(d(),g(di,{key:2,modelValue:e.currentLocale.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.updateLocale(r)),"selected-class":"bg-primary",mandatory:""},{default:u(()=>[(d(!0),y(F,null,B(e.languages,r=>(d(),g(Re,{key:r.value,text:r.shortlabel,value:r.value,variant:"outlined"},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])):k("",!0),z(e.$slots,"header.right")])]),default:u(()=>[D(E(s.titleSerialized)+" ",1)]),_:3},16)):k("",!0),a.hasDivider?(d(),g(fe,{key:1})):k("",!0)],2),b("div",{class:W(["d-flex",a.scrollable?"flex-grow-1 overflow-hidden mr-n5":""])},[b("div",{class:W(["w-100",a.scrollable?"overflow-y-auto pr-3":""])},[z(e.$slots,"top",te(ne({item:s.item,schema:a.schema}))),f(c,{id:`ue-wrapper-${n.id}`,modelValue:n.model,"onUpdate:modelValue":t[3]||(t[3]=r=>n.model=r),schema:n.inputSchema,"onUpdate:schema":t[4]||(t[4]=r=>n.inputSchema=r),row:a.rowAttribute,onUpdate:s.handleUpdate,onInput:s.handleInput,onResize:s.handleResize,onBlur:s.handleBlur,onClick:s.handleClick},ye({_:2},[B(s.formSlots,(r,h)=>({name:`slot-inject-${r.name}-key-ue-wrapper-${n.id}-${r.inputName}`,fn:u(_=>[r.type=="form"?(d(),g(c,{key:0,id:`ue-wrapper-${n.id}-${r.name}`,modelValue:n.model,"onUpdate:modelValue":t[2]||(t[2]=p=>n.model=p),schema:r.schema,"onUpdate:schema":p=>r.schema=p,row:a.rowAttribute},null,8,["id","modelValue","schema","onUpdate:schema","row"])):r.type=="recursive-stuff"?(d(!0),y(F,{key:1},B(r.context.elements,(p,A)=>(d(),g(l,{key:A,configuration:p,bindData:_},null,8,["configuration","bindData"]))),128)):k("",!0)])}))]),1032,["id","modelValue","schema","row","onUpdate","onInput","onResize","onBlur","onClick"])],2)],2),b("div",{class:W([a.scrollable?"flex-grow-0":""])},[a.hasSubmit&&!a.stickyButton&&a.hasDivider?(d(),g(fe,{key:0,class:"mt-6"})):k("",!0),a.hasSubmit&&!a.stickyButton?(d(),y("div",ym,[z(e.$slots,"submit",te(ne({validForm:e.validModel||!i.serverValid,buttonDefaultText:i.buttonDefaultText})),()=>[f(q,{type:"submit",disabled:!(e.validModel||!i.serverValid)||s.loading,class:"ml-auto mb-5"},{default:u(()=>[D(E(i.buttonDefaultText),1)]),_:1},8,["disabled"])])])):k("",!0),a.hasSubmit&&!a.stickyButton?(d(),y("div",_m,[s.loading?(d(),g(ui,{key:0,indeterminate:"",color:"green"})):k("",!0)])):k("",!0),b("div",bm,[z(e.$slots,"bottom",te(ne({})))])],2)]),_:3},8,["id","action","modelValue","onSubmit","class"])],6)}const Am=Z(fm,[["render",vm]]),Em=Object.freeze(Object.defineProperty({__proto__:null,default:Am},Symbol.toStringTag,{value:"Module"})),wm={name:"FormSummaryItem",props:{index:{type:Number,required:!0},title:{type:String,required:!0},model:{type:Object,required:!0}},created(){}},Sm={class:"mb-6"},km={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},Cm={class:"font-weight-bold text-primary"},Tm={class:"text-body-1 font-weight-bold text-truncate mb-5"},Mm={key:0,class:""},Im={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}};function Dm(e,t,a,i,n,s){return d(),y("div",Sm,[b("div",km,[f(ct,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:u(()=>[D(E(a.index+1),1)]),_:1}),b("span",Cm,E(e.$t("fields.step"))+" "+E(a.index+1),1)]),b("div",Tm,E(a.title),1),(d(!0),y(F,null,B(a.model,(o,l)=>(d(),y(F,{key:`stepper-preview-item-subtitle-${l}`},[(d(!0),y(F,null,B(a.model[l],(m,c)=>(d(),y(F,{key:`stepper-preview-item-subtitle-${l}-${a.index}`},[Array.isArray(m)?(d(),y("div",Mm,[b("span",Im,E(e.window.__isObject(a.model[l])?c:m[0])+": ",1),(d(!0),y(F,null,B(e.window.__isObject(a.model[l])?m:m.slice(1),r=>(d(),y("span",{key:`stepper-preview-item-subtitle-${l}-${a.index}-${l}-${c}`,style:{"margin-inline-end":"8px"}},E(r),1))),128))])):(d(),g(q,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px","margin-block-end":"8px"}},{default:u(()=>[D(E(m),1)]),_:2},1024))],64))),128))],64))),128))])}const Om=Z(wm,[["render",Dm],["__scopeId","data-v-d3c7f184"]]),Vm=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"})),Fm={class:"pa-3 bg-primary"},Pm={data(){return{}},created(){}},$m=Object.assign(Pm,{__name:"ImpersonateToolbar",props:{modelValue:{type:Boolean,default:!1},active:{type:Boolean,default:!1},users:{type:Array,default(){return[]}},impersonated:{type:Boolean,default:!1},route:{type:String,default:"/users/impersonate/:id"},stopRoute:{type:String,default:"/users/impersonate/stop"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,n=X(null),s=U({get(){return a.modelValue},set(l){i("update:modelValue",l)}});se(n,function(l,m){__log(l,m)});const o=U(()=>a.route.replace(":id",n.value));return(l,m)=>(d(),g(nl,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=c=>s.value=c)},{activator:u(({props:c})=>[f(he,P(c,{class:"font-weight-bold mt-2",ripple:!1,append:!1,"prepend-icon":"mdi-account-switch",title:"Impersonate Manager"}),null,16)]),default:u(()=>[b("div",Fm,[e.impersonated?(d(),g(q,{key:0,color:"red",href:e.stopRoute},{default:u(()=>[D(" Stop Impersonating ")]),_:1},8,["href"])):k("",!0),e.impersonated?k("",!0):(d(),g(Lt,{key:1,class:"mt-5",modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=c=>n.value=c),items:e.users,variant:"outlined",density:"compact","item-title":"name","item-value":"id",clearable:""},null,8,["modelValue","items"])),e.impersonated?k("",!0):(d(),g(q,{key:2,href:o.value,disabled:!n.value},{default:u(()=>[D("Impersonate")]),_:1},8,["href","disabled"]))])]),_:1},8,["modelValue"]))}}),Rm=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"})),Lm={name:"ue-list-element",props:{item:{type:Object,required:!0},selectItem:{type:Number,default:0},selectedSubItem:{type:Number,default:0}},data:()=>({open:["Users"],admins:[["Management","mdi-account-multiple-outline"],["Settings","mdi-cog-outline"]],cruds:[["Create","mdi-plus-outline"],["Read","mdi-file-outline"],["Update","mdi-update"],["Delete","mdi-delete"]]})};function Um(e,t,a,i,n,s){return d(),g($e,{opened:e.open,"onUpdate:opened":t[0]||(t[0]=o=>e.open=o)},{default:u(()=>[f(he,{"prepend-icon":"mdi-home",title:"Home"}),f(Kt,{value:"Users"},{activator:u(({props:o})=>[f(he,P(o,{"prepend-icon":"mdi-account-circle",title:"Users"}),null,16)]),default:u(()=>[f(Kt,{value:"Admin"},{activator:u(({props:o})=>[f(he,P(o,{title:"Admin"}),null,16)]),default:u(()=>[(d(!0),y(F,null,B(e.admins,([o,l],m)=>(d(),g(he,{key:m,title:o,"prepend-icon":l,value:o},null,8,["title","prepend-icon","value"]))),128))]),_:1}),f(Kt,{value:"Actions"},{activator:u(({props:o})=>[f(he,P(o,{title:"Actions"}),null,16)]),default:u(()=>[(d(!0),y(F,null,B(e.cruds,([o,l],m)=>(d(),g(he,{key:m,value:o,title:o,"prepend-icon":l},null,8,["value","title","prepend-icon"]))),128))]),_:1})]),_:1})]),_:1},8,["opened"])}const Nm=Z(Lm,[["render",Um]]),Bm=Object.freeze(Object.defineProperty({__proto__:null,default:Nm},Symbol.toStringTag,{value:"Module"})),xm={name:"ue-list-section",props:{title:{type:String},titleTag:{type:String,default:"h3"},titleClasses:{type:String,default:"text-body-1 font-weight-medium"},itemClasses:{type:String,default:"text-body-2"},headerClasses:{type:String,default:"text-body-2 font-weight-bold"},items:{type:Array,required:!0},itemFields:{type:Array,default:()=>["name"]},headers:{type:Array,default:null},showHeader:{type:Boolean,default:!1},colClasses:{type:Array,default:()=>[]},colWidths:{type:Array,default:()=>[]},colRatios:{type:Array,default:()=>[]},rowClassFn:{type:Function,default:null},emptyMessage:{type:String,default:"No items to display"},striped:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},hasRowBottomBorder:{type:Boolean,default:!1},actionsHeader:{type:String,default:""},verticalAlignTop:{type:Boolean,default:!1}},computed:{effectiveHeaders(){return this.headers||this.itemFields.map(e=>e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase()))},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.itemFields.length:this.colRatios.reduce((e,t,a)=>e+(t||1),0)}},methods:{getColumnStyle(e){if(this.colWidths&&this.colWidths[e])return{width:this.colWidths[e],flexBasis:this.colWidths[e]};if(this.colRatios&&this.colRatios.length>0){const n=this.colRatios[e]||1,s=n/this.totalRatio*100;return{flex:`${n} 0 0`,maxWidth:`${s}%`}}const t=this.itemFields.length,a=this.$slots["row-actions"]?1:0;return{flex:"1 1 0",maxWidth:`${100/(t+a)}%`}},getRowClass(e,t){let a=[this.itemClasses];if(this.striped&&t%2===1&&a.push("bg-grey-lighten-5"),this.hoverable&&a.push("hover-effect"),this.rowClassFn){const i=this.rowClassFn(e,t);i&&a.push(i)}return a.join(" ")}}},jm={class:"ue-list-section"},zm={key:0,class:"list-cell actions-cell"},Km={key:1,class:"list-row title-row"},qm={class:"title-cell"},Hm={key:0,class:"list-cell actions-cell"},Gm={key:2,class:"list-row empty-row"},Wm={class:"empty-message"};function Ym(e,t,a,i,n,s){return d(),y("div",jm,[b("div",{class:W(["list-container",{"align-top":a.verticalAlignTop}])},[a.showHeader?(d(),y("div",{key:0,class:W(["list-row header-row",a.headerClasses])},[(d(!0),y(F,null,B(s.effectiveHeaders,(o,l)=>(d(),y("div",{key:`header-${l}`,class:W(["list-cell",[a.colClasses[l]??""]]),style:me(s.getColumnStyle(l))},[z(e.$slots,`header.${l}`,P({ref_for:!0},{header:o}),()=>[D(E(o),1)],!0)],6))),128)),e.$slots["row-actions"]?(d(),y("div",zm,[z(e.$slots,"actions-header",{},()=>[D(E(a.actionsHeader),1)],!0)])):k("",!0)],2)):k("",!0),a.title?(d(),y("div",Km,[b("div",qm,[(d(),g(Te(a.titleTag),{class:W(a.titleClasses)},{default:u(()=>[D(E(a.title),1)]),_:1},8,["class"]))])])):k("",!0),(d(!0),y(F,null,B(a.items,(o,l)=>(d(),y("div",{key:`item-${l}`,class:W(["list-row data-row",[s.getRowClass(o,l),{"has-bottom-border":a.hasRowBottomBorder}]])},[(d(!0),y(F,null,B(a.itemFields,(m,c)=>(d(),y("div",{key:`item-field-${c}`,class:W(["list-cell",[a.colClasses[c]??""]]),style:me(s.getColumnStyle(c))},[z(e.$slots,`field.${c}`,P({ref_for:!0},{value:e.$lodash.get(o,m),item:o,index:l}),()=>[D(E(e.$lodash.get(o,m,"")),1)],!0)],6))),128)),e.$slots["row-actions"]?(d(),y("div",Hm,[z(e.$slots,"row-actions",P({ref_for:!0},{item:o,index:l}),void 0,!0)])):k("",!0)],2))),128)),a.items.length===0&&a.emptyMessage?(d(),y("div",Gm,[b("div",Wm,E(a.emptyMessage),1)])):k("",!0)],2)])}const Zm=Z(xm,[["render",Ym],["__scopeId","data-v-93e74bf9"]]),Qm=Object.freeze(Object.defineProperty({__proto__:null,default:Zm},Symbol.toStringTag,{value:"Module"})),Xm={emits:["update:modelValue"],props:{csrf:{type:String}},data(){return{dialog:!1}}},Jm=["value"];function ef(e,t,a,i,n,s){const o=x("ue-modal");return d(),g(o,P({modelValue:n.dialog,"onUpdate:modelValue":t[1]||(t[1]=l=>n.dialog=l)},e.$bindAttributes(),{"width-type":"md"}),{activator:u(({props:l})=>[z(e.$slots,"activator",{props:l},()=>[f(q,P({class:"w-66 m-auto",color:"red lighten-2",dark:""},l),{default:u(()=>[D(E(e.$t("authentication.logout")),1)]),_:2},1040)])]),body:u(l=>[f(ce,null,{default:u(()=>[f(Ae,{class:"pt-2 text-center"},{default:u(()=>[D(E(e.$t("Are you sure logout?")),1)]),_:1}),f(fe),f(Be,{class:"justify-center"},{default:u(()=>[f(q,{class:"mr-12",variant:"tonal",onClick:t[0]||(t[0]=m=>n.dialog=!1)},{default:u(()=>[D(E(e.$t("No")),1)]),_:1}),f(Na,{method:"post",action:"/logout"},{default:u(()=>[b("input",{type:"hidden",name:"_token",value:e.$csrf()},null,8,Jm),f(q,{variant:"tonal",color:"warning",type:"submit"},{default:u(()=>[D(E(e.$t("Yes")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:3},16,["modelValue"])}const tf=Z(Xm,[["render",ef]]),af=Object.freeze(Object.defineProperty({__proto__:null,default:tf},Symbol.toStringTag,{value:"Module"})),sf={name:"A17MediaMetadata",props:{media:{type:Object,default:()=>{}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:{fieldName:function(){return`${this.name}[${this.id}]`},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?typeof this.defaultMetadatas=="object"?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":this.defaultMetadatas!==null?this.defaultMetadatas:"":""},...ze({languages:e=>e.language.all,currentLocale:e=>e.language.active.value})},methods:{saveMetadata:function(e){e.locale||(e={value:e}),e.id=this.id,this.$emit("change",e)}},mounted:function(){const e={};let t="",a=0;this.languages.forEach(i=>{const n=i.value;if(this.customMetadatas){this.customMetadatas[n]?e[n]=this.customMetadatas[n]:(this.customMetadatas===!0||typeof this.customMetadatas=="string")&&a===0?(e[n]=this.customMetadatas,t=this.customMetadatas):e[n]="";const s={};s.name=this.fieldName,s.value=e[n],this.languages.length>1&&(s.locale=n),this.$store.commit(oe.UPDATE_FORM_FIELD,s)}a++}),this.initialValues=e,this.initialValue=t}},nf={key:1},lf=["innerHTML"],rf={key:3,class:"mediaMetadata__checkbox"};function of(e,t,a,i,n,s){const o=x("a17-locale"),l=x("a17-wysiwyg"),m=x("a17-textfield"),c=x("a17-checkbox");return e.languages.length>1&&s.fieldType==="text"?(d(),g(o,{key:0,type:a.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:s.attributes,onChange:s.saveMetadata},null,8,["type","initialValues","attributes","onChange"])):s.fieldType==="text"&&a.wysiwyg?(d(),y("div",nf,[f(l,{options:a.wysiwygOptions,label:a.label,name:s.fieldName,type:s.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:a.maxlength,onChange:s.saveMetadata},null,8,["options","label","name","type","initialValue","maxlength","onChange"]),b("p",{class:"f--note f--small",innerHTML:s.placeholder},null,8,lf)])):s.fieldType==="text"?(d(),g(m,{key:2,label:a.label,name:s.fieldName,type:"text",placeholder:s.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:a.maxlength,onChange:s.saveMetadata},null,8,["label","name","placeholder","initialValue","maxlength","onChange"])):s.fieldType==="checkbox"?(d(),y("div",rf,[f(c,{label:a.label,name:s.fieldName,initialValue:e.initialValue,value:1,onChange:s.saveMetadata,inStore:"value"},null,8,["label","name","initialValue","onChange"])])):k("",!0)}const df=Z(sf,[["render",of],["__scopeId","data-v-b8b069a3"]]),uf=Object.freeze(Object.defineProperty({__proto__:null,default:df},Symbol.toStringTag,{value:"Module"})),cf={name:"ue-navigation-group",inject:["activeMenu"],props:{items:{type:Array,required:!0},level:{type:Number,default:0},hideIcons:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1},profileMenu:{type:Boolean,default:!1}},setup(e,t){const a=(i,n)=>(Array.isArray(n)&&n.forEach(function(s){__isset(s.is_active)&&s.is_active&&__isset(s.items)&&(i.push(s.name),a(i,s.items))}),i);return{getListGroupOpens:a}},data:()=>({opened:[]}),computed:{activeIndex:{get(){try{return this.items.findIndex(e=>e.is_active==1)}catch{return 0}},set(e){}},style(){return{marginLeft:"0rem"}}},created(){this.opened=this.getListGroupOpens([],this.items)},watch:{},methods:{getComponentType(e){return this.isSubgroup(e)?"v-list-group":this.isMenu(e)?"v-menu-wrapper":"v-list-item"},getComponentProps(e,t){const a={index:t};return this.isSubgroup(e)?{...a,"prepend-icon":e.icon,value:e.name,items:e.items,level:this.level+1}:this.isMenu(e)?{...a,item:e,hideIcons:this.hideIcons}:{...a,...this.getListItemProps(e,t)}},getListItemProps(e,t){const a={nav:!0,active:this.activeIndex===t,ripple:!1,append:!1,title:e.name,"prepend-icon":this.hideIcons?null:e.icon};return this.isRoute(e)?(a.href=e.route||e.href,Object.assign(a,this.$bindAttributes(e))):this.isEvent(e)?a.onClick=()=>this.$call(e.event):this.isMenuRoute(e)?(a.density="compact",a.href=e.route||e.href,a.slim=!0,a.class={"px-4":!this.hideIcons,"ml-2":!0},Object.assign(a,this.$bindAttributes(e))):this.isHeader(e)&&(a.inactive=!0,a.disabled=!0),a},getListGroupOpens(e,t){return Array.isArray(t)&&t.forEach(a=>{a.is_active&&a.items&&(e.push(a.name),this.getListGroupOpens(e,a.items))}),e},isSubgroup:e=>!!e.items,isRoute(e){return!e.items&&(!!e.route||!!e.href)&&!this.profileMenu},isEvent:e=>!!e.attr,isHeader:e=>!e.href&&!e.route&&!e.items&&!!e.name,isMenu:e=>!!e.menuItems,isMenuRoute(e){return!e.menuItems&&this.profileMenu&&(!!e.route||!!e.href)}}};function mf(e,t,a,i,n,s){const o=x("ue-navigation-group");return d(),g($e,{modelValue:s.activeIndex,"onUpdate:modelValue":t[0]||(t[0]=l=>s.activeIndex=l),opened:e.opened,"onUpdate:opened":t[1]||(t[1]=l=>e.opened=l),style:me(s.style),"active-class":`sidebar-item-active sidebar-item-active-${a.level}`,class:"mb-2 pl-0",nav:""},{default:u(()=>[(d(!0),y(F,null,B(a.items,(l,m)=>(d(),y(F,{key:m},[s.isSubgroup(l)?(d(),g(Kt,{key:m+"subgroup",index:m,ripple:!0,"prepend-icon":l.icon,"sub-group":!1,"active-class":`sidebar-item-active sidebar-item-active-${a.level}`,value:l.name},{activator:u(({props:c})=>[f(Ue,{bottom:"",disabled:!a.showTooltip},{activator:u(r=>[b("div",P({ref_for:!0},r.props),[f(he,P({ref_for:!0},c,{title:l.name,"prepend-icon":a.hideIcons?null:l.icon,nav:""}),null,16,["title","prepend-icon"])],16)]),default:u(()=>[b("span",null,E(l.name),1)]),_:2},1032,["disabled"])]),default:u(()=>[f(o,{items:l.items,level:a.level+1,hideIcons:a.hideIcons,"show-tooltip":a.showTooltip},null,8,["items","level","hideIcons","show-tooltip"])]),_:2},1032,["index","prepend-icon","active-class","value"])):s.isMenu(l)?(d(),y(F,{key:1},[f(he,{nav:"",title:l.name,"prepend-icon":l.icon,"append-icon":"mdi-menu-right",density:"compact",id:l.menuActivator,slim:!0,onClick:c=>e.$emit("activateMenu",l.menuActivator)},null,8,["title","prepend-icon","id","onClick"]),s.activeMenu===`#${l.menuActivator}`?(d(),g(He,{key:0,location:"end",activator:s.activeMenu},{default:u(()=>[f($e,null,{default:u(()=>[f(o,{items:Object.values(l.menuItems),"show-tooltip":a.showTooltip},null,8,["items","show-tooltip"])]),_:2},1024)]),_:2},1032,["activator"])):k("",!0)],64)):(d(),g(Ue,{key:2,bottom:"",disabled:!a.showTooltip},{activator:u(({props:c})=>[b("div",P({ref_for:!0},c),[(d(),g(Te(s.getComponentType(l)),P({ref_for:!0},s.getComponentProps(l,m)),null,16))],16)]),default:u(()=>[b("span",null,E(l.name),1)]),_:2},1032,["disabled"]))],64))),128))]),_:1},8,["modelValue","opened","style","active-class"])}const ff=Z(cf,[["render",mf]]),hf=Object.freeze(Object.defineProperty({__proto__:null,default:ff},Symbol.toStringTag,{value:"Module"})),pf={props:{payload:{type:Object,required:!0},endpoint:{type:String,required:!0},printKeys:{type:[Array,Object],required:!0},loadingText:{type:String,default:"Loading..."}},data(){return{values:{},loading:!0}},methods:{getDisplayText(e,t=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[t||0]=="string")return e[this.printKeys[t||0]];const a=this.printKeys[t||0];return e[a==null?void 0:a.text]}return e[this.printKeys.text]},getSubText(e,t=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[t||1]=="string")return e[this.printKeys[t||1]];const a=this.printKeys[t||0];return e[a==null?void 0:a.subText]}return e[this.printKeys.subText]},async sendRequest(){this.loading=!0;try{const e=await axios.post(this.endpoint,this.payload);this.values=e.data}catch(e){console.error("Error calculating price:",e)}finally{this.loading=!1}}},mounted(){this.sendRequest()},watch:{payload:{handler(){this.sendRequest()},deep:!0}}},gf={key:0,class:"d-flex flex-column align-center"},yf={class:"mt-2"};function _f(e,t,a,i,n,s){const o=x("ue-text-display");return d(),y("div",null,[n.loading?(d(),y("div",gf,[f(Ua,{indeterminate:"",color:"primary"}),b("span",yf,E(a.loadingText),1)])):(d(),y(F,{key:1},[Array.isArray(n.values)?(d(!0),y(F,{key:0},B(n.values,(l,m)=>(d(),y("div",{key:m},[f(o,{class:"text-h5",text:s.getDisplayText(l,m),"sub-text":s.getSubText(l,m)},null,8,["text","sub-text"])]))),128)):(d(),g(o,{key:1,class:"text-h5",text:s.getDisplayText(n.values),"sub-text":s.getSubText(n.values)},null,8,["text","sub-text"]))],64))])}const bf=Z(pf,[["render",_f]]),vf=Object.freeze(Object.defineProperty({__proto__:null,default:bf},Symbol.toStringTag,{value:"Module"})),Af={key:0},Ef=["innerHTML"],wf=["innerHTML"],Sf={__name:"PropertyList",props:{data:{type:[Array,Object],default:()=>[]},noPadding:{type:Boolean,default:!1}},setup(e){const t=e,a=U(()=>Array.isArray(t.data)?t.data:typeof t.data=="object"&&t.data!==null?Object.entries(t.data).map(([n,s])=>[n,s]):[]),i=n=>!n||n.length===0?null:n.map(o=>Array.isArray(o)?o.join(", "):o).join(", ");return(n,s)=>(d(),y("div",{class:W(["ue-property-list",e.noPadding?"":"ue-property-list--padding"])},[!a.value||a.value.length===0?(d(),y("div",Af,"No data available")):(d(!0),y(F,{key:1},B(a.value,(o,l)=>(d(),y("div",{key:l,class:"ue-property-list__item d-flex flex-wrap"},[b("span",{class:"text-caption font-weight-bold pr-1",innerHTML:o[0].trim()+(o.slice(1).length>0?":":"")},null,8,Ef),b("span",{class:"text-caption",innerHTML:i(o.slice(1))},null,8,wf)]))),128))],2))}},kf=Z(Sf,[["__scopeId","data-v-b43b9e9f"]]),Cf=Object.freeze(Object.defineProperty({__proto__:null,default:kf},Symbol.toStringTag,{value:"Module"})),Tf={name:"ue-recursive-data-viewer",props:{data:{type:[Array,Object,String,Number,Boolean],required:!0},allArrayItemsClosed:{type:Boolean,default:!1},allArrayItemsOpen:{type:Boolean,default:!1},arrayIndex:{type:Number,default:null},objectDepth:{type:Number,default:0},allObjectsClosed:{type:Boolean,default:!1},allObjectsOpen:{type:Boolean,default:!1},objectTitle:{type:String,default:null}},data(){return{isExpanded:this.determineInitialExpanded(),expandedItems:new Set(this.determineInitialExpandedItems())}},methods:{determineInitialExpanded(){return Array.isArray(this.data)?this.allArrayItemsClosed?!1:this.allArrayItemsOpen?!0:this.arrayIndex===0:typeof this.data=="object"&&this.data!==null?this.allObjectsClosed?!1:this.allObjectsOpen?!0:this.objectDepth===0:!0},determineInitialExpandedItems(){return this.allArrayItemsClosed?[]:this.allArrayItemsOpen?Array.from({length:this.data.length},(e,t)=>t):[0]},toggleItem(e){this.expandedItems.has(e)?this.expandedItems.delete(e):this.expandedItems.add(e)},isItemExpanded(e){return this.expandedItems.has(e)},getPreview(e){return Array.isArray(e)?`Array(${e.length})`:typeof e=="object"&&e!==null?"Object":typeof e=="string"?`"${e.substring(0,30)}${e.length>30?"...":""}"`:String(e)}}},Mf={class:"text-body-2"},If={class:"array-items"},Df={class:""},Of={class:"json-key"},Vf={class:"json-value"},Ff={key:2};function Pf(e,t,a,i,n,s){const o=x("ue-recursive-data-viewer");return Array.isArray(a.data)?(d(),g(ce,{key:0,variant:"flat",class:"mb-2"},{default:u(()=>[f(xe,{class:"py-2 px-4"},{default:u(()=>[f(le,{icon:"mdi-code-brackets",class:"mr-2",size:"small"}),b("span",Mf,"Array ("+E(a.data.length)+" items)",1)]),_:1}),b("div",If,[(d(!0),y(F,null,B(a.data,(l,m)=>(d(),y("div",{key:m,class:"array-item"},[f(ce,{variant:"flat",class:"mb-1"},{default:u(()=>[f(o,{data:l,"array-index":0,"object-depth":m===0?a.objectDepth:a.objectDepth+1,"all-array-items-closed":a.allArrayItemsClosed,"all-array-items-open":a.allArrayItemsOpen,"all-objects-closed":a.allObjectsClosed,"all-objects-open":a.allObjectsOpen},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open"])]),_:2},1024)]))),128))])]),_:1})):typeof a.data=="object"&&a.data!==null?(d(),g(ce,{key:1,variant:"flat",class:"mb-2"},{default:u(()=>[f(xe,{class:"d-flex align-center py-2 px-4 collapsible-header text-body-2",onClick:t[0]||(t[0]=l=>n.isExpanded=!n.isExpanded)},{default:u(()=>[f(le,{icon:n.isExpanded?"mdi-chevron-down":"mdi-chevron-right",class:"mr-2",size:"small"},null,8,["icon"]),f(le,{icon:"mdi-code-braces",class:"mr-2",size:"small"}),b("span",Df," Object ("+E(Object.keys(a.data).length)+" properties) ",1)]),_:1}),f(Yt,null,{default:u(()=>[ve(b("div",null,[f(Ut,{density:"compact",class:"json-table"},{default:u(()=>[b("tbody",null,[(d(!0),y(F,null,B(a.data,(l,m)=>(d(),y("tr",{key:m,class:"json-row"},[b("td",Of,E(m),1),b("td",Vf,[f(o,{data:l,"array-index":0,"object-depth":a.objectDepth+1,"all-array-items-closed":a.allArrayItemsClosed,"all-array-items-open":a.allArrayItemsOpen,"all-objects-closed":a.allObjectsClosed,"all-objects-open":a.allObjectsOpen,"object-titlex":e.window.__isObject(l)?m:null},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open","object-titlex"])])]))),128))])]),_:1})],512),[[Tt,n.isExpanded]])]),_:1})]),_:1})):(d(),y("span",Ff,E(a.data),1))}const $f=Z(Tf,[["render",Pf],["__scopeId","data-v-c5013ed3"]]),Rf=Object.freeze(Object.defineProperty({__proto__:null,default:$f},Symbol.toStringTag,{value:"Module"})),Lf={props:{configuration:{type:Object,default(){return{}}},level:{type:Number,default:0},bindData:{type:Object,default(){return{}}}},setup(e,t){const a=U(()=>e.configuration.hasOwnProperty("slots")?e.configuration.slots:{});function i(p){return __isString(p)||__isNumber(p)}function n(p){return Array.isArray(p,p)}function s(p){return p.hasOwnProperty("slots")}function o(p){return __isObject(p)}function l(p,A=[]){if(!window.__isString(p))return p;const M=p.match(c);if(M){let S=Et(e.bindData,M[1]);return A.forEach(v=>{S=window[v](S)}),S}return p}function m(p,A,M){let S=M,v=[];if(n(M)&&__isString(M[0])&&(S=M.shift(),v=M),!o(M)){const C=l(S,v);C&&(p[A]=C,delete r[A])}}const c=/\$([\w|.]+)/,r=de(e.configuration.attributes),h=U(()=>{const p=de(e.configuration.attributes);return et(p,(A,M,S)=>((n(M)||__isString(M)||__isObject(M))&&m(A,S,M),A),{})}),_=U(()=>{const p=e.configuration.bind;if(p){const A=p.match(c);if(A&&e.bindData){const M=A[1];if(Object.prototype.hasOwnProperty.call(e.bindData,M))return __data_get(e.bindData,M)}}return{}});return{isTextable:i,isArray:n,applyCasting:l,hasSlot:s,filteredAttributes:r,castedAttributes:h,bindAttributes:_,slots:a}},data(){return{}},created(){}};function Uf(e,t,a,i,n,s){const o=x("ue-recursive-stuff");return!a.configuration.tag&&i.isTextable(a.configuration.elements)?(d(),y(F,{key:0},[D(E(a.configuration.elements),1)],64)):!a.configuration.tag&&i.isArray(a.configuration.elements)?(d(!0),y(F,{key:1},B(a.configuration.elements,(l,m)=>(d(),g(Te(l.tag),P({ref_for:!0},l.attributes),{default:u(()=>[D(E(l.elements),1)]),_:2},1040))),256)):a.configuration.tag?(d(),g(Te(a.configuration.tag),te(P({key:2},{...i.filteredAttributes,...i.bindAttributes,...i.castedAttributes})),ye({default:u(()=>[i.isArray(a.configuration.elements)?(d(!0),y(F,{key:0},B(a.configuration.elements,(l,m)=>(d(),g(o,{key:`tag-${a.level}-${m}`,level:a.level+1,configuration:l},null,8,["level","configuration"]))),128)):i.isTextable(a.configuration.elements)?(d(),y(F,{key:1},[D(E(i.applyCasting(a.configuration.elements)),1)],64)):k("",!0)]),_:2},[B(i.slots,(l,m)=>({name:`${m}`,fn:u(()=>[f(o,{level:a.level+1,configuration:l},null,8,["level","configuration"])])}))]),1040)):k("",!0)}const Nf=Z(Lf,[["render",Uf]]),Bf=Object.freeze(Object.defineProperty({__proto__:null,default:Nf},Symbol.toStringTag,{value:"Module"})),xf=(e,t)=>{const a=[];if(typeof t=="object"&&t.pattern&&(t=t.pattern),typeof t!="string"||t.startsWith("regex:"))return a;const i=t.split("."),n=(s,o,l=[],m=0,c=null)=>{if(Array.isArray(s))s.forEach((r,h)=>{n(r,o,[...l,h],m,c)});else if(typeof s=="object"&&s!==null){const r=s._title||null;for(const[h,_]of Object.entries(s)){const p=[...l,h];h==="_value"?n(_,o,p,m,r):h===i[m]&&(m===i.length-1?a.push(jf(o,p,_,r,c)):n(_,o,p,m+1,r))}}};return e.forEach((s,o)=>n(s,o)),a},jf=(e,t,a,i,n)=>{const s=[e,...t].join("."),o={dataIndex:e,notation:s,value:a};return i!==null&&(o.title=i),n!==null&&(o.parentTitle=n),o},at=(e,t)=>{if(typeof t=="object"&&t.pattern&&(t=t.pattern),typeof t=="string"&&t.startsWith("regex:")){const a=t.replace("regex:","").replace("content.",""),i=new RegExp(a),n=[];for(const s of e)s.content&&Object.entries(s.content).forEach(([o,l])=>{i.test(o)&&n.push({key:o,value:l})});return n}return xf(e,t)},zf=(e,t)=>{const a=[],i=(c,r={})=>{const{titleKey:h="_title",valueKey:_="_value",pickKeys:p=[],mapArrayItems:A=!0,nested:M=!1,includeTitle:S=!0,col:v=6}=r;if(!c)return null;if(Array.isArray(c[_]))return A?[S?c[h]:null,c[_].map(C=>C[h]),v].filter(Boolean):[c[h],c[_],v];if(p.length>0){const C=p.map(w=>c[w]).filter(Boolean);return C.length?[c[h],...C,v]:null}return[S?c[h]:null,c[_],v].filter(Boolean)},n=(c,r)=>{typeof r=="object"&&r.pattern&&(r=r.pattern);const h=m(r);if(!h.length)return"";if(h[0].startsWith("regex:")){const _=[];for(const p of c)for(const[A,M]of Object.entries(p))typeof M=="object"&&M!==null&&Object.keys(M).some(v=>l(h[0],v))&&_.push(A);return _.length?_:""}for(const _ of c)for(const[p,A]of Object.entries(_))if(typeof A=="object"&&A!==null&&h[0]in A)return p;return""},s=(c,r=6)=>(c.col||(c.col=r),c),o=(c=0)=>`section_${c+1}`,l=(c,r)=>{if(typeof c!="string")return!1;if(c.startsWith("regex:")){const h=c.replace("regex:","");return new RegExp(h).test(r)}return c===r},m=c=>(typeof c=="object"&&c.pattern&&(c=c.pattern),typeof c!="string"?[]:c.startsWith("regex:")?["content",c.includes("content.")?c.replace("regex:content.","regex:"):c]:c.split("."));for(const c of t)if(typeof c=="string"||typeof c=="object"&&c.pattern){const r=typeof c=="string"?c:c.pattern,h={col:6,...typeof c=="object"?c:{}},_=r.endsWith(".*"),p=at(e,_?r.slice(0,-2):r);if(p.length>0)if(_&&p[0].value._value)if(!h.includeOverview)p[0].value._value.forEach((A,M)=>{const S=Object.entries(A).filter(([v])=>!v.startsWith("_")).map(([v,C])=>Array.isArray(C._value)&&h.mapArrayItems===!1?[C._title,C._value]:i(C,h)).filter(Boolean);if(S.length>0)if(h.outputFormat==="object"){const v={};S.forEach(([C,w])=>{v[C]=w}),a.push(s({title:A._title,items:h.nested?{[o(M)]:v}:v},h.col))}else a.push(s({title:A._title,items:h.nested?[S]:S},h.col))});else{const A=i(p[0].value,{...h,mapArrayItems:!0});A&&a.push(s({title:A[0],items:[A[1]]},h.col))}else{const A=p.map(M=>i(M.value,h)).filter(Boolean);A.length>0&&a.push(s({items:A},h.col))}}else if(Array.isArray(c)){const r=[],h={col:6};for(const _ of c)at(e,_).forEach(A=>{if(A.value._value){const M=i(A.value,h);r.push([M[0],M[1]])}});r.length>0&&a.push(s({items:r},h.col))}else if(typeof c=="object"&&c.items){const r={title:c.title,items:c.outputFormat==="object"?{}:[],col:c.col||6};c.col&&(r.col=c.col),c.items.forEach((h,_)=>{if(typeof h=="object")if(Array.isArray(h)){const p={};for(const A of h){const M=n(e,A),S=M?`${M}.${A}`:A;at(e,S).forEach(C=>{if(C.value){const w=C.value._title,T=C.value._value;T&&(p[w]=T)}})}Object.keys(p).length>0&&(c.nested?r.items[o(_)]=p:Object.assign(r.items,p))}else{const p=h.pattern;if(p.startsWith("regex:")){const A=at(e,p),M={};A.forEach(S=>{S.value&&S.value._value&&(h.simpleValue?M[S.key]=S.value._value:M[S.value._title]=S.value._value)}),Object.keys(M).length>0&&(c.nested?r.items[o(_)]=M:Object.assign(r.items,M))}else{const A=n(e,p);if(Array.isArray(A))A.forEach((M,S)=>{at(e,p).forEach(C=>{var T;const w=(T=e.find(N=>N.content))==null?void 0:T[C.key];if(w&&w._value)if(h.simpleValue)c.nested?r.items[o(S)]=w._value:r.items[`content_${S+1}`]=w._value;else{const N={[w._title]:w._value};c.nested?r.items[o(S)]=N:Object.assign(r.items,N)}})});else{const M=h.pattern,S=n(e,M),v=S?`${S}.${M}`:M;at(e,v).forEach(w=>{if(w.value&&w.value._value)if(h.simpleValue)c.nested?r.items[o(_)]=w.value._value:r.items=w.value._value;else{const T={[w.value._title]:w.value._value};c.nested?r.items[o(_)]=T:Object.assign(r.items,T)}})}}}else{const p=n(e,h),A=p?`${p}.${h}`:h,M=at(e,A);c.outputFormat==="object"?M.forEach(S=>{if(S.value._value){const v=S.value._value;c.nested?r.items[o(_)]={[S.value._title]:v}:r.items[S.value._title]=v}}):M.forEach(S=>{S.value._value&&r.items.push([S.value._value])})}}),(Array.isArray(r.items)&&r.items.length>0||!Array.isArray(r.items)&&Object.keys(r.items).length>0)&&a.push(s(r,c.col))}return a},Kf=(e,t)=>{let a={};for(const i in t){const n=t[i],s=at(e,i);a[i]=Object.assign({},n,{values:s})}return a},qf=()=>{},ga={findMatchingNotations:at,formattedPreview:zf,formattedSummary:Kf,test:qf},Hf={name:"StepperHeader",props:{forms:{type:Array,required:!0},activeStep:{type:Number,required:!0}},emits:["step-click"]},Gf=["onClick"];function Wf(e,t,a,i,n,s){return d(),g(ci,{class:"rounded elevation-2"},{default:u(()=>[(d(!0),y(F,null,B(a.forms,(o,l)=>(d(),g(ma,{key:`stepper-item-${l}`,complete:a.activeStep>l+1,title:o.title,value:l+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:u(m=>[b("div",{onClick:c=>e.$emit("step-click",l+1),style:{cursor:"pointer"}},[b("span",{class:W([m.hasCompleted||m.step==a.activeStep?"text-primary font-weight-bold":""])},E(m.title),3)],8,Gf)]),_:2},1032,["complete","title","value"]))),128)),f(ma,{complete:a.activeStep>a.forms.length,title:"Preview & Summary",value:a.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:u(o=>[b("span",{class:W([o.hasCompleted||o.step==a.activeStep?"text-primary font-weight-bold":""])},E(o.title),3)]),_:1},8,["complete","value"])]),_:1})}const Yf=Z(Hf,[["render",Wf]]),Zf={name:"StepperContent",props:{modelValue:{type:Array,required:!0},forms:{type:Array,required:!0},schemas:{type:Array,required:!0,default:()=>[]},activeStep:{type:Number,required:!0},formRefs:{type:Array,required:!0},isEditing:{type:Boolean,default:!1}},emits:["form-input","form-valid","update:modelValue","update:schemas"],data(){return{models:de(this.modelValue),localSchemas:de(this.schemas)}},computed:{inputModels:{get(){return this.modelValue},set(e,t){}},inputSchemas:{get(){return this.schemas},set(e,t){Pe(e,t)}}},methods:{updateFormModel(e,t){this.models.splice(t,1,e)},updateFormSchema(e,t){this.localSchemas.splice(t,1,de(e))}},watch:{modelValue:{handler(e){Pe(e,this.models)||(this.models=de(e))},deep:!0},modelValue_:{handler(e){__log("StepperContent modelValue watch",e,this.inputModels),e!==this.inputModels&&(this.inputModels=e)},deep:!0},schemas:{handler(e){Pe(e,this.localSchemas)||(this.localSchemas=de(e))},deep:!0},schemas_:{handler(e){e!==this.inputSchemas&&(this.inputSchemas=e)},deep:!0},models:{handler(e){Pe(e,this.modelValue)||this.$emit("update:modelValue",de(e))},deep:!0},localSchemas:{handler(e){Pe(e,this.schemas)||this.$emit("update:schemas",de(e))},deep:!0}}};function Qf(e,t,a,i,n,s){const o=x("ue-form"),l=x("v-sheet-rounded");return d(),g(l,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:u(()=>[f(mi,{class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:u(()=>[(d(!0),y(F,null,B(a.forms,(m,c)=>(d(),g(fa,{key:`content-${c}`,value:c+1},{default:u(()=>[a.activeStep>c?(d(),g(o,{key:0,ref_for:!0,ref:a.formRefs[c],id:`stepper-form-${c+1}`,isEditing:a.isEditing,modelValue:n.models[c],"onUpdate:modelValue":[r=>n.models[c]=r,r=>s.updateFormModel(r,c)],XmodelValue:s.inputModels[c],"onXupdate:modelValue":r=>s.updateFormModel(r,c),schema:n.localSchemas[c],"onUpdate:schema":r=>s.updateFormSchema(r,c),Xschema:s.inputSchemas[c],"onXupdate:schema":r=>s.updateFormSchema(r,c),onInput_:t[0]||(t[0]=r=>e.$log("input emitted from form on steppercontent",r)),onInput:r=>e.$emit("form-input",{event:r,index:c}),"onUpdate:valid":r=>e.$emit("form-valid",{event:r,index:c}),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","XmodelValue","onXupdate:modelValue","schema","onUpdate:schema","Xschema","onXupdate:schema","onInput","onUpdate:valid"])):k("",!0)]),_:2},1032,["value"]))),128)),f(fa,{value:a.forms.length+1,class:"pt-3"},{default:u(()=>[z(e.$slots,"preview")]),_:3},8,["value"])]),_:3})]),_:3})}const Xf=Z(Zf,[["render",Qf]]),Jf={name:"StepperSummary",props:{isLastStep:Boolean,forms:Array,activeStep:Number,models:Array,schemas:Array,previewModel:Array,previewTitles:Array,isPreviewModelFilled:Function},emits:["next-form","complete-form"]};function eh(e,t,a,i,n,s){const o=x("ue-form-summary-item"),l=x("v-btn-secondary"),m=x("v-sheet-rounded");return d(),g(m,{class:W(["d-flex flex-column fill-height pa-6 elevation-2",[a.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:me([(a.isLastStep,"")])},{default:u(()=>[a.isLastStep?z(e.$slots,"summary.final",te(P({key:1},{model:a.models,schema:a.schemas,previewModel:a.previewModel,onComplete:()=>e.$emit("complete-form")}))):z(e.$slots,"summary.forms",{key:0},()=>[f(Ve,{class:"ue-stepper-form__preview fill-height"},{default:u(()=>[(d(!0),y(F,null,B(a.forms,(c,r)=>z(e.$slots,`summary-form-${r+1}`,P({key:`stepper-summary-item-${r}`,ref_for:!0},{index:r,order:r+1,title:a.previewTitles[r],isPreviewModelFilled:a.isPreviewModelFilled,model:a.models[r],schema:a.schemas[r],previewModel:a.previewModel[r]??{},length:a.forms.length}),()=>[a.isPreviewModelFilled(r)&&r!==0&&r<a.forms.length-1?(d(),g(fe,{key:0,class:"mb-6"})):k("",!0),a.isPreviewModelFilled(r)?(d(),g(o,{key:1,index:r,title:a.previewTitles[r],model:a.previewModel[r]},null,8,["index","title","model"])):k("",!0)])),128))]),_:3}),f(Se),f(Ve,{class:"ue-stepper-form__preview-bottom"},{default:u(()=>[f(l,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:t[0]||(t[0]=c=>e.$emit("next-form",a.activeStep-1))},{default:u(()=>[D(E(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])}const th=Z(Jf,[["render",eh]]),ah={name:"StepperPreview",props:{formattedPreview:{type:Array,required:!0},previewFormData:{type:Array,required:!0},lastStepModel:{type:Object,required:!0},finalFormTitle:{type:String,required:!0}},emits:["final-form-action"]},sh={class:"text-body-2 font-weight-medium mb-1"},ih={class:"text-caption"},nh={key:0,class:"text-caption mt-4 d-flex ga-4 flex-wrap"},lh={class:"text-h4 font-weight-medium py-auto"},rh={class:"d-flex fill-height align-content-md-center"};function oh(e,t,a,i,n,s){const o=x("ue-title"),l=x("ue-configurable-card"),m=We("fit-grid");return d(),g(Ve,null,{default:u(()=>[f(o,{weight:"medium",color:"black",padding:"a-0"},{default:u(()=>[D(E(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),f(ue,null,{default:u(()=>[(d(!0),y(F,null,B(a.formattedPreview,(c,r)=>ve((d(),g(ee,{key:`summary-${r}`,cols:"12",md:c.col||6},{default:u(()=>[f(l,P({ref_for:!0},c,{elevation:"2",class:"my-2"}),null,16)]),_:2},1032,["md"])),[[m]])),128)),a.previewFormData.length>0?ve((d(),g(ee,{key:0,cols:"12"},{default:u(()=>[f(Ve,{class:"px-4"},{default:u(()=>[f(o,{type:"body-1",color:"primary","font-weight":"bold",padding:"a-0",margin:"y-4"},{default:u(()=>[D(E(a.finalFormTitle),1)]),_:1}),(d(!0),y(F,null,B(a.previewFormData,(c,r)=>(d(),g(l,{key:`final-form-data-${r}`,style:{"background-color":"transparent"},class:W([[a.lastStepModel[c.fieldName].includes(c.id)?"bg-primary":"bg-grey-lighten-5"],"mx-n4 mb-4 py-4"]),elevation:"2",items:[[c.name||"N/A ",c.description||"N/A",c.tags||[]],c.basePrice_show||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{0:"",1:"",_actions:""},"column-classes":{0:"flex-1-1-100 flex-md-1-0",1:"flex-0-1 d-flex align-center",_actions:"flex-0-1"}},{"segment.1":u(h=>[D(E(e.$log(h.data))+" ",1),b("div",sh,E(h.data[0]),1),b("div",ih,E(h.data[1]),1),h.data[2].length>0?(d(),y("div",nh,[(d(!0),y(F,null,B(h.data[2],_=>(d(),g(Re,{key:_,variant:"outlined",size:"small",class:""},{default:u(()=>[D(E(_.name??_.slug),1)]),_:2},1024))),128))])):k("",!0)]),"segment.2":u(h=>[b("div",lh,E(h.data),1)]),"segment.actions":u(h=>[b("div",rh,[f(q,{class:"mx-1 rounded-circle","min-width":h.actionProps.actionIconMinHeight,"min-height":h.actionProps.actionIconMinHeight,size:h.actionProps.actionIconSize,icon:a.lastStepModel[c.fieldName].includes(c.id)?"mdi-minus":"mdi-plus",color:a.lastStepModel[c.fieldName].includes(c.id)?"grey":"primary",onClick:_=>e.$emit("final-form-action",r)},null,8,["min-width","min-height","size","icon","color","onClick"])])]),_:2},1032,["class","items"]))),128))]),_:1})]),_:1})),[[m]]):k("",!0)]),_:1})]),_:1})}const dh=Z(ah,[["render",oh],["__scopeId","data-v-01883ccb"]]),uh={name:"StepperFinalSummary",props:{formattedSummary:{type:Object,required:!0,validator(e){return Object.values(e).every(t=>typeof t.title=="string"&&Array.isArray(t.values))}},loading:{type:Boolean,default:!1},isCompleted:{type:Boolean,default:!1}},emits:["complete"]},ch={class:"border-0 h-auto py-1 pl-0 text-body-1 text-white"},mh={class:"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1 text-white"},fh={class:"py-0"},hh={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},ph={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},gh={class:"text-caption text-grey-lighten-1 mb-6"};function yh(e,t,a,i,n,s){const o=x("ue-title"),l=x("ue-text-display"),m=x("v-btn-secondary");return d(),y(F,null,[f(Ve,{class:"bg-primary-darken-2"},{default:u(()=>[f(o,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),f(fe),(d(!0),y(F,null,B(a.formattedSummary,(c,r)=>(d(),y(F,{key:`summary-section-${r}`},[f(o,{text:c.title,transform:"capitalize",type:"h6",color:"white",padding:"x-6",margin:"t-6",class:"mx-n6 py-3 bg-primary-darken-1"},null,8,["text"]),f(Ut,{class:"bg-transparent my-3"},{default:u(()=>[b("tbody",null,[(d(!0),y(F,null,B(c.values,(h,_)=>(d(),y("tr",{key:`summary-value-${_}`,class:"py-0"},[b("td",ch,E(h.parentTitle||h.title||"N/A"),1),b("td",mh,E(h.value||"N/A"),1)]))),128))])]),_:2},1024)],64))),128))]),_:1}),f(Se),f(fe),f(Ut,{class:"bg-transparent my-3"},{default:u(()=>[b("tbody",null,[b("tr",fh,[b("td",hh,E(e.$t("Total").toUpperCase()),1),b("td",ph,[z(e.$slots,"total",{},()=>[f(l,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})],!0)])])])]),_:3}),b("div",gh,[z(e.$slots,"description",{},()=>[D(" At ")],!0)]),f(Ve,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:u(()=>[f(m,{class:"v-stepper-form__nextButton",block:"",disabled:a.loading||a.isCompleted,loading:a.loading,onClick:t[0]||(t[0]=c=>e.$emit("complete"))},{default:u(()=>[D(E(e.$t("Complete").toUpperCase()),1)]),_:1},8,["disabled","loading"])]),_:1})],64)}const _h=Z(uh,[["render",yh],["__scopeId","data-v-ee2f1219"]]),bh={name:"StepperForm",components:{StepperHeader:Yf,StepperContent:Xf,StepperSummary:th,StepperPreview:dh,StepperFinalSummary:_h},props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:Array,default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormNotations:{type:Object,default:()=>({"0.PackageCountry":{pattern:"0.wrap_location.schema.PackageCountry.items.*.package_addons",inputName:"pressReleasePackageAddons"},"0.PackageRegion":{pattern:"0.wrap_location.schema.PackageRegion.items.*.package_addons",inputName:"pressReleasePackageAddons"}})},finalCardShowFields:{type:Array,default:()=>[["name","description"],["basePrice_show"]]}},setup(e,t){const a=Zt(),i=tt(e),n=X(null),s=X(!1),o=re({stepperActionRef:n,loading:s}),l=U(()=>kt(e.forms,(m,c)=>X(null)));return{...a,...i,...ie(o),formRefs:l}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,schemas:[],models:[],valids:[],lastStepModel:{},previewModel:[],pendingHandleFunctions:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var a;const e=(a=this.payload)!=null&&a.id?"put":"post",t=this;this.loading=!0,mt[e](this.actionUrl,this.payload,function(i){t.loading=!1,t.isCompleted=!0,t.modalMessage=i.data.message,t.modalActive=!0},function(i){t.loading=!1,__log(i)})},isPreviewModelFilled(e){const t=this.previewModel[e]??{};let a=!1;for(const i in t)if(t){a=!0;break}return a},handleInput(e){const{event:t,index:a}=e,{on:i,key:n,obj:s,value:o}=t;if(i==="input"&&n){let l=Et(this.models[a],n);JSON.stringify(l)!==JSON.stringify(o)?this.pendingHandleFunctions.push((m,c,r)=>{pa(m,c,s.schema,a,r)}):pa(this.models,this.schemas,s.schema,a,this.previewModel)}},updateFormValid(e){const{event:t,index:a}=e;this.valids[a]=t},goStep(e){this.valids.slice(0,e-1).every(t=>t===!0)&&(this.activeStep=e)},async goNextForm(e,t){this.formRefs[t].value[0].validModel===!0?e():await this.validateForm(t)},async nextForm(e){this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const t=this.formRefs[e];t.value[0].manualValidation=!0;const a=await t.value[0].validate();return t.value[0].manualValidation=!1,a},handleFinalFormAction(e){const t=this.previewFormData[e],a=this.lastStepModel[t.fieldName];this.lastStepModel[t.fieldName]=a.includes(t.id)?a.filter(i=>i!==t.id):[...a,t.id],this.lastStepModel={...this.lastStepModel}}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return kt(this.models,(e,t)=>{let a=this.forms[t],i=__isset(a.previewTitle)?a.previewTitle:a.title;return this.$castValueMatch(i,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const t in this.schemas)e[t]=this.$getDisplayData(this.schemas[t],this.models[t]);return e},formattedSummary(){let e=ga.formattedSummary(this.displayInfo,this.summaryNotations),t=this.previewFormData,a=this.lastStepModel;const i=et(a,function(n,s,o){let l=Array.isArray(s)?s:[s];return zt(l,m=>{const c=st(t,r=>r.id===m&&r.fieldName===o);c&&n.push(c)}),n},[]);return i.length>0&&(e.lastStepSelections={title:this.finalFormTitle,values:kt(i,n=>({title:n.name||n.title||"N/A",value:n.basePrice_show||"N/A"}))}),e},formattedPreview(){return ga.formattedPreview(this.displayInfo,this.previewNotations)},previewFormData(){let e=[];for(const t in this.finalFormNotations){let a=__data_get(this.models,t);if(!a)continue;let i=this.finalFormNotations[t],n=null,s=null;if(__isObject(i)?(s=i.pattern,n=i.inputName||i.fieldName||s.split(".").pop()):(s=i,n=s.split(".").pop()),s){s=__wildcard_change(s,a);let o=__data_get(this.schemas,s,null);if(o){const l=(m,c)=>{if(Array.isArray(m))for(const r of m)l(r,c);else typeof m=="object"&&m!==null&&e.push({...m,fieldName:c,isSelected:!1})};l(o,n)}}}return e},payload(){return{...et(this.models,function(t,a,i){return{...t,...a}},{}),...this.lastStepModel}},summaryFormScopes(){return et(this.$slots,(e,t,a)=>(a.match(/summary-form-\d+/)&&(e[a]=t),e),{})}},watch:{schemas:{handler(e,t){Pe(e,this.schemas)||(this.schemas=e)},deep:!0},models:{handler(e,t){this.pendingHandleFunctions.length>0&&(this.pendingHandleFunctions.forEach(a=>{typeof a=="function"&&a(this.models,this.schemas,this.previewModel)}),this.pendingHandleFunctions=[]),this.models.forEach((a,i)=>{this.previewModel[i]&&Object.keys(this.previewModel[i]).forEach(n=>{this.models[i][n]||delete this.previewModel[i][n]})})},deep:!0}},created(){let e=this;this.forms.forEach((t,a)=>{let i=t.schema,n=be(i,this.modelValue);e.models.push(n),e.schemas.push(e.invokeRuleGenerator(i,n)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=et(this.finalFormNotations,(t,a,i)=>{let n=null;return __isObject(a)?n=a.inputName||a.fieldName||a.pattern.split(".").pop():n=a.split(".").pop(),__isset(t[n])||(t[n]=[]),t},{})}},vh={class:"text-h4 mb-4 text-success"},Ah={class:"text-subtitle-1 grey--text"};function Eh(e,t,a,i,n,s){const o=x("StepperHeader"),l=x("StepperPreview"),m=x("StepperContent"),c=x("ue-text-display"),r=x("StepperFinalSummary"),h=x("StepperSummary"),_=x("ue-modal"),p=We("fit-grid"),A=We("slotdescription");return d(),g(fi,{modelValue:n.activeStep,"onUpdate:modelValue":t[5]||(t[5]=M=>n.activeStep=M),color:"prima",class:W(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"])},{default:u(({prev:M,next:S})=>[f(o,{forms:a.forms,"active-step":n.activeStep,onStepClick:s.goStep},null,8,["forms","active-step","onStepClick"]),f(ue,{class:"mt-4 flex-fill"},{default:u(()=>[ve((d(),g(ee,{cols:"12",lg:"8"},{default:u(()=>[f(m,{modelValue:n.models,"onUpdate:modelValue":t[0]||(t[0]=v=>n.models=v),schemas:n.schemas,"onUpdate:schemas":t[1]||(t[1]=v=>n.schemas=v),forms:a.forms,"active-step":n.activeStep,"form-refs":i.formRefs,"is-editing":a.isEditing,onFormInput:t[2]||(t[2]=v=>s.handleInput(v)),onFormValid:t[3]||(t[3]=v=>s.updateFormValid(v))},{preview:u(()=>[f(l,{"formatted-preview":s.formattedPreview,"preview-form-data":s.previewFormData,"last-step-model":n.lastStepModel,"final-form-title":a.finalFormTitle,onFinalFormAction:s.handleFinalFormAction},null,8,["formatted-preview","preview-form-data","last-step-model","final-form-title","onFinalFormAction"])]),_:1},8,["modelValue","schemas","forms","active-step","form-refs","is-editing"])]),_:1})),[[p]]),f(ee,{cols:"12",lg:"4"},{default:u(()=>[f(h,{"is-last-step":s.isLastStep,forms:a.forms,"active-step":n.activeStep,models:n.models,schemas:n.schemas,"preview-model":n.previewModel,"preview-titles":s.previewTitles,"is-preview-model-filled":s.isPreviewModelFilled,onNextForm:s.nextForm,onCompleteForm:s.completeForm},ye({"summary.final":u(({onComplete:v})=>[z(e.$slots,"summary.final",te(ne({model:n.models,schema:n.schemas,previewModel:n.previewModel,completeForm:s.completeForm})),()=>[f(r,{"formatted-summary":s.formattedSummary,loading:e.loading,"is-completed":n.isCompleted,onComplete:v},{total:u(()=>[z(e.$slots,"summary.final.total",te(ne({payload:this.payload})),()=>[f(c,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})])]),default:u(()=>[ve((d(),y("template",null,[z(e.$slots,"summary.final.description",{},()=>[D(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio ")])])),[[A]])]),_:2},1032,["formatted-summary","loading","is-completed","onComplete"])])]),_:2},[B(s.summaryFormScopes,(v,C)=>({name:`${C}`,fn:u(w=>[z(e.$slots,C,te(ne(w)))])}))]),1032,["is-last-step","forms","active-step","models","schemas","preview-model","preview-titles","is-preview-model-filled","onNextForm","onCompleteForm"])]),_:3})]),_:3}),f(_,{ref:"modal",modelValue:n.modalActive,"onUpdate:modelValue":t[4]||(t[4]=v=>n.modalActive=v),"width-type":"md","description-text":n.modalMessage,persistent:""},{"body.description":u(()=>[f(le,{size:"64",color:"success",class:"mb-4"},{default:u(()=>[D("mdi-check-circle-outline")]),_:1}),b("h2",vh,E(e.$t("Request Complete")),1),b("p",Ah,E(e.$t("Congratulations! Your PR request is complete.")),1)]),"body.options":u(()=>[f(q,{variant:"flat",color:"success",onClick:s.completed},{default:u(()=>[D(E(e.$t("Go Back")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description-text"])]),_:3},8,["modelValue"])}const wh=Z(bh,[["render",Eh]]),Sh=Object.freeze(Object.defineProperty({__proto__:null,default:wh},Symbol.toStringTag,{value:"Module"})),kh={props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:Array,default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormNotations:{type:Object,default:()=>({"0.PackageCountry":{pattern:"0.wrap_location.schema.PackageCountry.items.*.package_addons",inputName:"pressReleasePackageAddons"},"0.PackageRegion":{pattern:"0.wrap_location.schema.PackageRegion.items.*.package_addons",inputName:"pressReleasePackageAddons"}})},finalCardShowFields:{type:Array,default:()=>[["name","description"],["basePrice_show"]]}},setup(e,t){const a=Zt(),i=tt(e),n=X(null),s=X(!1),o=re({stepperActionRef:n,loading:s}),l=U(()=>kt(e.forms,(m,c)=>X(null)));return{...a,...i,...ie(o),formRefs:l}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,schemas:[],models:[],valids:[],lastStepModel:{},previewModel:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var a;const e=(a=this.payload)!=null&&a.id?"put":"post",t=this;this.loading=!0,mt[e](this.actionUrl,this.payload,function(i){t.loading=!1,t.isCompleted=!0,t.modalMessage=i.data.message,t.modalActive=!0},function(i){t.loading=!1,__log(i)})},isPreviewModelFilled(e){const t=this.previewModel[e]??{};let a=!1;for(const i in t)if(t){a=!0;break}return a},handleInput(e,t){const{on:a,key:i,obj:n}=e;a==="input"&&i&&pa(this.models,this.schemas,n.schema,t,this.previewModel)},updateFormValid(e,t){this.valids[t]=e},goStep(e){this.valids.slice(0,e-1).every(t=>t===!0)&&(this.activeStep=e)},async goNextForm(e,t){this.formRefs[t].value[0].validModel===!0?e():await this.validateForm(t)},async nextForm(e){this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const t=this.formRefs[e];t.value[0].manualValidation=!0;const a=await t.value[0].validate();return t.value[0].manualValidation=!1,a},handleFinalFormAction(e){const t=this.previewFormData[e],a=this.lastStepModel[t.fieldName];this.lastStepModel[t.fieldName]=a.includes(t.id)?a.filter(i=>i!==t.id):[...a,t.id],this.lastStepModel={...this.lastStepModel}}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return kt(this.models,(e,t)=>{let a=this.forms[t],i=__isset(a.previewTitle)?a.previewTitle:a.title;return this.$castValueMatch(i,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const t in this.schemas)e[t]=this.$getDisplayData(this.schemas[t],this.models[t]);return e},formattedSummary(){let e=ga.formattedSummary(this.displayInfo,this.summaryNotations),t=this.previewFormData,a=this.lastStepModel;const i=et(a,function(n,s,o){let l=Array.isArray(s)?s:[s];return zt(l,m=>{const c=st(t,r=>r.id===m&&r.fieldName===o);c&&n.push(c)}),n},[]);return i.length>0&&(e.lastStepSelections={title:this.finalFormTitle,values:kt(i,n=>({title:n.name||n.title||"N/A",value:n.basePrice_show||"N/A"}))}),e},formattedPreview(){return ga.formattedPreview(this.displayInfo,this.previewNotations)},previewFormData(){let e=[];for(const t in this.finalFormNotations){let a=__data_get(this.models,t);if(!a)continue;let i=this.finalFormNotations[t],n=null,s=null;if(__isObject(i)?(s=i.pattern,n=i.inputName||i.fieldName||s.split(".").pop()):(s=i,n=s.split(".").pop()),__log(i,s,n),s){s=__wildcard_change(s,a);let o=__data_get(this.schemas,s,null);if(o){const l=(m,c)=>{if(Array.isArray(m))for(const r of m)l(r,c);else typeof m=="object"&&m!==null&&e.push({...m,fieldName:c,isSelected:!1})};l(o,n)}}}return e},payload(){return{...et(this.models,function(t,a,i){return{...t,...a}},{}),...this.lastStepModel}}},watch:{schemas:{handler(e,t){},deep:!0},models:{handler(e,t){this.models.forEach((a,i)=>{this.previewModel[i]&&Object.keys(this.previewModel[i]).forEach(n=>{this.models[i][n]||delete this.previewModel[i][n]})})},deep:!0}},created(){let e=this;this.forms.forEach((t,a)=>{let i=t.schema,n=be(i,this.modelValue);e.models.push(n),e.schemas.push(e.invokeRuleGenerator(i,n)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=et(this.finalFormNotations,(t,a,i)=>{let n=null;return __isObject(a)?n=a.inputName||a.fieldName||a.pattern.split(".").pop():n=a.split(".").pop(),__isset(t[n])||(t[n]=[]),t},{})}},Ch=["onClick"],Th={class:"text-body-2 font-weight-medium mb-1"},Mh={class:"text-caption"},Ih={class:"text-body-2 font-weight-medium py-auto"},Dh={class:"d-flex fill-height justify-space-evenly align-content-md-center"};const Oh={key:1,class:"mb-6"},Vh={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},Fh={class:"font-weight-bold text-primary"},Ph={class:"text-body-1 font-weight-bold text-truncate mb-5"},$h={key:0,class:""},Rh={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}},Lh={class:"py-0"},Uh={class:"border-0 h-auto py-1 pl-0 text-body-1"},Nh={class:"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1"},Bh={class:"py-0"},xh={class:"border-0 h-auto py-1 pl-0 text-h5"},jh={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},zh={class:"text-caption text-grey mb-6"};function Kh(e,t,a,i,n,s){const o=x("ue-form"),l=x("ue-title"),m=x("ue-configurable-card"),c=x("v-sheet-rounded"),r=x("v-btn-secondary"),h=x("ue-text-display"),_=x("ue-modal"),p=We("fit-grid");return d(),g(fi,{modelValue:n.activeStep,"onUpdate:modelValue":t[3]||(t[3]=A=>n.activeStep=A),color:"prima",class:W(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"])},{default:u(({prev:A,next:M})=>[f(ci,{class:"rounded elevation-2"},{default:u(()=>[(d(!0),y(F,null,B(a.forms,(S,v)=>(d(),g(ma,{key:`stepper-item-${v}`,complete:n.activeStep>v+1,title:S.title,value:v+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:u(C=>[b("div",{onClick:w=>s.goStep(v+1),style:{cursor:"pointer"}},[b("span",{class:W([C.hasCompleted||C.step==n.activeStep?"text-primary font-weight-bold":""])},E(C.title),3)],8,Ch)]),_:2},1032,["complete","title","value"]))),128)),f(ma,{complete:n.activeStep>a.forms.length,title:"Preview & Summary",value:a.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:u(S=>[b("span",{class:W([S.hasCompleted||S.step==n.activeStep?"text-primary font-weight-bold":""])},E(S.title),3)]),_:1},8,["complete","value"])]),_:1}),f(ue,{class:"mt-4 flex-fill"},{default:u(()=>[ve((d(),g(ee,{cols:"12",lg:"8"},{default:u(()=>[f(c,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:u(()=>[f(mi,{class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:u(()=>[(d(!0),y(F,null,B(a.forms,(S,v)=>(d(),g(fa,{key:`content-${v}`,value:v+1,class:""},{default:u(()=>[n.activeStep>v?(d(),g(o,{key:0,ref_for:!0,ref:i.formRefs[v],id:`stepper-form-${v+1}`,isEditing:a.isEditing,modelValue:n.models[v],"onUpdate:modelValue":C=>n.models[v]=C,schema:n.schemas[v],"onUpdate:schema":C=>n.schemas[v]=C,onInput:C=>s.handleInput(C,v),"onUpdate:valid":C=>s.updateFormValid(C,v),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","schema","onUpdate:schema","onInput","onUpdate:valid"])):k("",!0)]),_:2},1032,["value"]))),128)),f(fa,{value:a.forms.length+1,class:"pt-3"},{default:u(()=>[z(e.$slots,"preview",{},()=>[f(Ve,{class:""},{default:u(()=>[f(l,{weight:"medium",color:"black",padding:"a-0"},{default:u(()=>[D(E(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),f(ue,null,{default:u(()=>[(d(!0),y(F,null,B(s.formattedPreview,(S,v)=>ve((d(),g(ee,{key:`summary-${v}`,cols:"12",md:S.col||6},{default:u(()=>[f(m,P({ref_for:!0},S,{elevation:"2",class:"my-2"}),null,16)]),_:2},1032,["md"])),[[p]])),128)),f(ee,{cols:"12"},{default:u(()=>[f(Ve,{class:"px-4"},{default:u(()=>[f(l,{type:"body-1",color:"primary","font-weight":"bold",padding:"a-0",margin:"y-4"},{default:u(()=>[D(E(a.finalFormTitle),1)]),_:1}),(d(!0),y(F,null,B(s.previewFormData,(S,v)=>(d(),g(m,{key:`final-form-data-${v}`,style:{"background-color":"transparent"},class:W([[n.lastStepModel[S.fieldName].includes(S.id)?"bg-primary":"bg-grey-lighten-5"],"mx-n4 mb-4 py-4"]),elevation:"2",items:[[S.name||"N/A ",S.description||"N/A"],S.basePrice_show||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{1:"flex-basis: 50%;",2:"flex-grow: 1; display: flex; justify-content: center; align-items: center;",3:"flex-grow: 1; display: flex; align-items: end;"}},{"segment.1":u(C=>[b("div",Th,E(C.data[0]),1),b("div",Mh,E(C.data[1]),1)]),"segment.2":u(C=>[b("div",Ih,E(C.data),1)]),"segment.actions":u(C=>[b("div",Dh,[e.$vuetify.display.lgAndUp?(d(),g(fe,{key:0,vertical:""})):k("",!0),f(q,{class:"mx-1 rounded-circle","min-width":C.actionProps.actionIconMinHeight,"min-height":C.actionProps.actionIconMinHeight,size:C.actionProps.actionIconSize,icon:n.lastStepModel[S.fieldName].includes(S.id)?"mdi-minus":"mdi-plus",color:n.lastStepModel[S.fieldName].includes(S.id)?"grey":"primary",onClick:w=>s.handleFinalFormAction(v)},null,8,["min-width","min-height","size","icon","color","onClick"])])]),_:2},1032,["class","items"]))),128)),(d(),y(F,null,B([{id:1,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50},{id:2,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50}],(S,v)=>(d(),y(F,{key:S.id},[k("",!0)],64))),64))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:3},8,["value"])]),_:3}),k("",!0)]),_:2},1024)]),_:2},1024)),[[p]]),f(ee,{cols:"12",lg:"4"},{default:u(()=>[z(e.$slots,"summary",{},()=>[f(c,{class:W(["d-flex flex-column fill-height pa-6 elevation-2",[s.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:me([(s.isLastStep,"")])},{default:u(()=>[s.isLastStep?z(e.$slots,"summary.final",te(P({key:1},{model:n.models,schema:n.schemas,previewModel:n.previewModel,completeForm:s.completeForm})),()=>[f(Ve,{class:"bg-primary-darken-2"},{default:u(()=>[f(l,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),f(fe),(d(!0),y(F,null,B(s.formattedSummary,(S,v)=>(d(),y(F,null,[f(l,{text:S.title,transform:"capitalize",type:"h6",color:"white",padding:"x-6",margin:"t-6",class:"mx-n6 py-3 bg-primary-darken-1"},null,8,["text"]),f(Ut,{class:"bg-transparent my-3"},{default:u(()=>[b("tbody",null,[(d(!0),y(F,null,B(S.values,(C,w)=>(d(),y("tr",Lh,[b("td",Uh,E(C.parentTitle||C.title||"N/A"),1),b("td",Nh,E(C.value||"N/A"),1)]))),256))])]),_:2},1024)],64))),256))]),_:1}),f(Se),f(fe),f(Ut,{class:"bg-transparent my-3"},{default:u(()=>[b("tbody",null,[b("tr",Bh,[b("td",xh,E(e.$t("Total").toUpperCase()),1),b("td",jh,[z(e.$slots,"final.total",te(ne({payload:this.payload})),()=>[f(h,{class:"text-h5",text:"$2500",subText:"+ VAT"})])])])])]),_:3}),b("div",zh,[z(e.$slots,"final.description",{},()=>[D(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio ")])]),f(Ve,{class:"pb-0 px-0 ue-stepper-form__preview-bottom",style:{"background-color":"#005868"}},{default:u(()=>[f(r,{class:"v-stepper-form__nextButton",block:"",disabled:e.loading||n.isCompleted,loading:e.loading,onClick:s.completeForm},{default:u(()=>[D(E(e.$t("Complete").toUpperCase()),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]):z(e.$slots,"summary.forms",{key:0},()=>[f(Ve,{class:"ue-stepper-form__preview fill-height"},{default:u(()=>[(d(!0),y(F,null,B(a.forms,(S,v)=>z(e.$slots,`summary-form-${v+1}`,P({key:`stepper-summary-item-${v}`,ref_for:!0},{index:v,order:v+1,title:s.previewTitles[v],isPreviewModelFilled:s.isPreviewModelFilled,model:n.models[v],schema:n.schemas[v],previewModel:n.previewModel[v]??{}}),()=>[s.isPreviewModelFilled(v)&&v!==0?(d(),g(fe,{key:0,class:"mb-6"})):k("",!0),s.isPreviewModelFilled(v)?(d(),y("div",Oh,[b("div",Vh,[f(ct,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:u(()=>[D(E(v+1),1)]),_:2},1024),b("span",Fh,E(e.$t("fields.step"))+" "+E(v+1),1)]),b("div",Ph,E(s.previewTitles[v]),1),(d(!0),y(F,null,B(n.previewModel[v],(C,w)=>(d(),y(F,{key:`stepper-preview-item-subtitle-${w}`},[(d(!0),y(F,null,B(n.previewModel[v][w],(T,N)=>(d(),y(F,{key:`stepper-preview-item-subtitle-${w}-${v}`},[Array.isArray(T)?(d(),y("div",$h,[b("span",Rh,E(e.window.__isObject(n.previewModel[v][w])?N:T[0])+":",1),(d(!0),y(F,null,B(e.window.__isObject(n.previewModel[v][w])?T:T.slice(1),G=>(d(),y("span",{key:`stepper-preview-item-subtitle-${w}-${v}-${w}-${N}`,style:{"margin-inline-end":"8px"}},E(G),1))),128))])):(d(),g(q,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px"}},{default:u(()=>[D(E(T),1)]),_:2},1024))],64))),128))],64))),128))])):k("",!0)])),128))]),_:3}),f(Se),f(Ve,{class:"ue-stepper-form__preview-bottom"},{default:u(()=>[f(r,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:t[1]||(t[1]=S=>s.nextForm(n.activeStep-1))},{default:u(()=>[D(E(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])])]),_:3})]),_:2},1024),f(_,{ref:"modal",modelValue:n.modalActive,"onUpdate:modelValue":t[2]||(t[2]=S=>n.modalActive=S),"width-type":"lg","cancel-text":"$t('Cancel')","confirm-text":"$t('Cancel')","description-text":n.modalMessage},{"body.options":u(()=>[f(q,{variant:"outlined",color:"primary",onClick:s.completed},{default:u(()=>[D(E(e.$t("Ok")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description-text"])]),_:3},8,["modelValue"])}const qh=Z(kh,[["render",Kh]]),Hh=Object.freeze(Object.defineProperty({__proto__:null,default:qh},Symbol.toStringTag,{value:"Module"})),Gh=Vn({name:"UeSuccess",props:{title:{type:String,required:!0},description:{type:String,required:!0},button_text:{type:String,required:!0},button_url:{type:String,required:!0}},setup(e){return{}}}),Wh={class:"text-h4 mb-2 text-success"},Yh={class:"text-body-1 text-medium-emphasis mb-6"};function Zh(e,t,a,i,n,s){return d(),g(hi,{class:"fill-height"},{default:u(()=>[f(ue,{justify:"center",align:"center"},{default:u(()=>[f(ee,{cols:"12",sm:"12",md:"12",lg:"12",class:"text-center"},{default:u(()=>[f(ce,{flat:"",class:"bg-transparent"},{default:u(()=>[f($t,null,{default:u(()=>[f(le,{icon:"mdi-check-circle",color:"success",size:"64",class:"mb-4"}),b("h1",Wh,E(e.title),1),b("p",Yh,E(e.description),1),f(q,{color:"success",class:"mt-10",href:e.button_url,"min-width":"200",density:"default"},{default:u(()=>[D(E(e.button_text),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Qh=Z(Gh,[["render",Zh]]),Xh=Object.freeze(Object.defineProperty({__proto__:null,default:Qh},Symbol.toStringTag,{value:"Module"})),Jh={props:{symbol:{type:String,required:!0},height:{type:String},width:{type:String},style:{type:String,default:""}},setup(e){const t=U(()=>{if(e.symbol)return e.symbol}),a=U(()=>{if(e.height||e.width)return"height:"+e.height+"px;width:"+e.width+"px;"});return{symbol:t,style:a}}},ep=["symbol"];function tp(e,t,a,i,n,s){const o=We("svg");return d(),y("div",{style:me(i.style)},[ve(b("span",{symbol:i.symbol},null,8,ep),[[o]])],4)}const ap=Z(Jh,[["render",tp]]),sp=Object.freeze(Object.defineProperty({__proto__:null,default:ap},Symbol.toStringTag,{value:"Module"})),ip={name:"ue-tab-groups",props:{...Bi(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,t){return{...Za(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),t={};return this.noAllGroup||(t[e]=[]),this.elements.reduce((a,i,n)=>{this.noAllGroup||a[e].push(i);const s=__data_get(i,this.groupKey);if(Array.isArray(s))for(const o of s)a[o]??(a[o]=[]),a[o].push(i);else __isString(s)&&(a[s]??(a[s]=[]),a[s].push(i));return a},t)}},watch:{},methods:{loadItems(e={}){let t=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},ha.get(this.endpoints.index,e,function(a,i){const n=ki(i.request.responseURL);t.elements=a.resource.data,qa(Ti(Si(),n))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function np(e,t,a,i,n,s){const o=x("ue-title"),l=x("ue-tabs");return d(),g(Ve,{class:"fill-height"},{default:u(()=>[f(o,{text:e.moduleTitle,classes:[]},null,8,["text"]),f(l,{items:s.groupedItems,modelValue:n.activeTab,"onUpdate:modelValue":t[0]||(t[0]=m=>n.activeTab=m)},ye({_:2},[B(e.$slots,(m,c)=>({name:c,fn:u(r=>[z(e.$slots,c,te(ne(r)))])}))]),1032,["items","modelValue"])]),_:3})}const lp=Z(ip,[["render",np]]),rp=Object.freeze(Object.defineProperty({__proto__:null,default:lp},Symbol.toStringTag,{value:"Module"})),op={name:"ue-tab-groups",props:{...Bi(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,t){return{...Za(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),t={};return this.noAllGroup||(t[e]=[]),this.elements.reduce((a,i,n)=>{this.noAllGroup||a[e].push(i);const s=__data_get(i,this.groupKey);if(Array.isArray(s))for(const o of s)a[o]??(a[o]=[]),a[o].push(i);else __isString(s)&&(a[s]??(a[s]=[]),a[s].push(i));return a},t)}},watch:{},methods:{loadItems(e={}){let t=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},ha.get(this.endpoints.index,e,function(a,i){const n=ki(i.request.responseURL);t.elements=a.resource.data,qa(Ti(Si(),n))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function dp(e,t,a,i,n,s){const o=x("ue-title"),l=x("ue-tabs-previous");return d(),g(Ve,{class:"fill-height"},{default:u(()=>[f(o,{text:e.moduleTitle,classes:[]},null,8,["text"]),f(l,{items:s.groupedItems,modelValue:n.activeTab,"onUpdate:modelValue":t[0]||(t[0]=m=>n.activeTab=m)},ye({_:2},[B(e.$slots,(m,c)=>({name:c,fn:u(r=>[z(e.$slots,c,te(ne(r)))])}))]),1032,["items","modelValue"])]),_:3})}const up=Z(op,[["render",dp]]),cp=Object.freeze(Object.defineProperty({__proto__:null,default:up},Symbol.toStringTag,{value:"Module"})),mp={props:{...Mc()},setup(e,t){return{...Ic(e,t)}},created(){}};function fp(e,t,a,i,n,s){const o=x("ue-recursive-stuff"),l=x("ue-modal"),m=x("ue-table");return d(),y("div",null,[f(l,{ref:"customModal",modelValue:e.modalActive,"onUpdate:modelValue":t[0]||(t[0]=c=>e.modalActive=c),scrollable:"",transition:"dialog-bottom-transition","width-type":"md","onClick:outside":e.clickOutside},{body:u(c=>[f(ce,{class:"pa-12"},{default:u(()=>[f(ll,{"selected-class":"bg-primary"},{default:u(()=>[f(hi,null,{default:u(()=>[f(ue,null,{default:u(()=>[(d(!0),y(F,null,B(e.itemData,(r,h)=>(d(),g(ee,P({key:h,ref_for:!0},e.$bindAttributes(r.clickBlock?r.clickBlock.col:{cols:12})),{default:u(()=>[f(rl,null,{default:u(({isSelected:_,selectedClass:p,toggle:A})=>[r.clickBlock&&r.clickBlock.elements?(d(),g(o,{key:0,configuration:r.clickBlock.elements,onClick:M=>e.selectNested(h)},{default:u(()=>[D(E(r.title),1)]),_:2},1032,["configuration","onClick"])):(d(),g(q,{key:1,onClick:M=>e.selectNested(h),class:"w-100",style:{"max-width":"unset","text-transform":"uppercase"}},{default:u(()=>[D(E(r.title),1)]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"]),e.item&&!e.modalActive&&e.activeBlock?(d(),y(F,{key:0},[f(m,P({...e.$bindAttributes(),tableClasses:e.$parent.tableClasses},{"custom-title":e.activeBlock.title,class:"mb-12","is-row-editing":!1,"embedded-form":!1,"create-on-modal":!1,"edit-on-modal":!1,"row-actions":[],columns:e.tableHeaders,items:e.items,"table-options":{page:1,itemsPerPage:1,multiSort:!1,mustSort:!1},"hide-footer":"","no-footer":"","no-form":"","no-full-screen":"","ignore-formatters":["activate"]}),{headerRight:u(()=>[f(q,{class:"bg-grey-darken-1",color:"white",variant:"tonal",icon:"$close",density:"compact",onClick:t[1]||(t[1]=c=>e.closeItemDetails())},{default:u(()=>[f(le,{icon:"$close",size:"small"})]),_:1})]),_:1},16,["custom-title","columns","items"]),b("div",null,[f(o,{configuration:e.activeBlock.elements},null,8,["configuration"])])],64)):k("",!0)])}const hp=Z(mp,[["render",fp]]),pp="/vendor/modularity/png/cardtypes/chip.png",gp={name:"CreditCard",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},setup(e){const t=X(null),a=X(null),i=X(!1),n=X(!1),s="#### ###### #####",o="#### ###### ####",l="#### #### #### ####",m=X(""),c=U(()=>{let S=new URL(import.meta.url);return`${S.protocol}//${S.hostname}${S.port?":"+S.port:""}`}),r=U(()=>{let S=e.labels.cardNumber,v="./vendor/modularity/png/cardtypes/";switch(!0){case/^4/.test(S):v=v+"visa.png";break;case/^(34|37)/.test(S):v=v+"amex.png";break;case/^5[1-5]/.test(S):v=v+"mastercard.png";break;case/^6011/.test(S):v=v+"discover.png";break;case/^62/.test(S):v=v+"unionpay.png";break;case/^9792/.test(S):v=v+"troy.png";break;case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(S):v=v+"dinersclub.png";break;case/^35(2[89]|[3-8])/.test(S):v=v+"jcb.png";break;default:v=v+"visa.png";break}return new URL(v,c.value).href}),h=U(()=>{let S=e.labels.cardNumber;switch(!0){case/^4/.test(S):return"visa";case/^(34|37)/.test(S):return"amex";case/^5[1-5]/.test(S):return"mastercard";case/^6011/.test(S):return"discover";case/^62/.test(S):return"unionpay";case/^9792/.test(S):return"troy";case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(S):return"dinersclub";case/^35(2[89]|[3-8])/.test(S):return"jcb";default:return"visa"}}),_=U(()=>{if(e.randomBackgrounds&&!e.backgroundImage){let v=`./vendor/modularity/jpg/payment/${Math.floor(Math.random()*25+1)}.jpeg`;return new URL(v,c.value).href}else return e.backgroundImage?e.backgroundImage:null}),p=()=>{const S=document.querySelector(`label[for="${a.value}"]`);t.value=S?{width:`${S.offsetWidth}px`,height:`${S.offsetHeight}px`,transform:`translateX(${S.offsetLeft}px) translateY(${S.offsetTop}px)`}:null},A=(S,v)=>S>4&&S<14&&e.labels.cardNumber.length>S&&v.trim()!==""&&e.isCardNumberMasked,M=()=>{h.value==="amex"?m.value=s:h.value==="dinersclub"?m.value=o:m.value=l,qt(()=>{p()})};return se(a,()=>{a.value?p():t.value=null}),se(h,()=>{M()}),Nt(()=>{M(),document.querySelectorAll("[data-card-field] input").forEach(v=>{v.addEventListener("focus",()=>{i.value=!0,v.id===e.fields.cardYear||v.id===e.fields.cardMonth?a.value="cardDate":a.value=v.id,n.value=v.id===e.fields.cardCvv}),v.addEventListener("blur",()=>{n.value=v.id===e.fields.cardCvv,setTimeout(()=>{i.value||(a.value=null)},300),i.value=!1})})}),{focusElementStyle:t,currentFocus:a,isFocused:i,isCardFlipped:n,baseUrl:c,currentPlaceholder:m,cardType:h,cardImage:r,currentCardBackground:_,changeFocus:p,getIsNumberMasked:A,changePlaceholder:M}}},Xa=e=>(ft("data-v-4fa28647"),e=e(),ht(),e),yp={class:"card-item__side -front"},_p={class:"card-item__cover"},bp=["src"],vp={class:"card-item__wrapper"},Ap={class:"card-item__top"},Ep=Xa(()=>b("img",{src:pp,class:"card-item__chip"},null,-1)),wp={class:"card-item__type"},Sp=["src"],kp=["for"],Cp={key:0,class:"card-item__numberItem"},Tp={class:"card-item__content"},Mp=["for"],Ip={class:"card-item__holder"},Dp={class:"card-item__name",key:"1"},Op={class:"card-item__name",key:"2"},Vp={class:"card-item__date",ref:"cardDate"},Fp=["for"],Pp=["for"],$p={key:"2"},Rp=["for"],Lp={key:"2"},Up={class:"card-item__side -back"},Np={class:"card-item__cover"},Bp=["src"],xp=Xa(()=>b("div",{class:"card-item__band"},null,-1)),jp={class:"card-item__cvv"},zp=Xa(()=>b("div",{class:"card-item__cvvTitle"},"CVV",-1)),Kp={class:"card-item__cvvBand"},qp={class:"card-item__type"},Hp=["src"];function Gp(e,t,a,i,n,s){return d(),y("div",{class:W(["card-item",{"-active":i.isCardFlipped}])},[b("div",yp,[b("div",{class:W(["card-item__focus",{"-active":i.focusElementStyle}]),style:me(i.focusElementStyle),ref:"focusElement"},null,6),b("div",_p,[i.currentCardBackground?(d(),y("img",{key:0,src:i.currentCardBackground,class:"card-item__bg"},null,8,bp)):k("",!0)]),b("div",vp,[b("div",Ap,[Ep,b("div",wp,[f(At,{name:"slide-fade-up"},{default:u(()=>[i.cardImage?(d(),y("img",{src:i.cardImage,key:i.cardImage,alt:"",class:"card-item__typeImg"},null,8,Sp)):k("",!0)]),_:1})])]),b("label",{for:a.fields.cardNumber,class:"card-item__number",ref:a.fields.cardNumber},[(d(!0),y(F,null,B(i.currentPlaceholder,(o,l)=>(d(),y("span",{key:l},[f(At,{name:"slide-fade-up"},{default:u(()=>[i.getIsNumberMasked(l,o)?(d(),y("div",Cp,"*")):a.labels.cardNumber.length>l?(d(),y("div",{class:W(["card-item__numberItem",{"-active":o.trim()===""}]),key:i.currentPlaceholder},E(a.labels.cardNumber[l]),3)):(d(),y("div",{class:W(["card-item__numberItem",{"-active":o.trim()===""}]),key:i.currentPlaceholder+1},E(o),3))]),_:2},1024)]))),128))],8,kp),b("div",Tp,[b("label",{for:a.fields.cardName,class:"card-item__info",ref:a.fields.cardName},[b("div",Ip,E(e.$t("Card Holder")),1),f(At,{name:"slide-fade-up"},{default:u(()=>[a.labels.cardName.length?(d(),y("div",Dp,[f(Fn,{name:"slide-fade-right"},{default:u(()=>[(d(!0),y(F,null,B(a.labels.cardName.replace(/\s\s+/g," "),(o,l)=>(d(),y("span",{class:"card-item__nameItem",key:l+1},E(o),1))),128))]),_:1})])):(d(),y("div",Op,E(e.$t("Full Name")),1))]),_:1})],8,Mp),b("div",Vp,[b("label",{for:a.fields.cardMonth,class:"card-item__dateTitle"},E(e.$t("Expire Date")),9,Fp),b("label",{for:a.fields.cardMonth,class:"card-item__dateItem"},[f(At,{name:"slide-fade-up"},{default:u(()=>[a.labels.cardMonth?(d(),y("span",{key:a.labels.cardMonth},E(a.labels.cardMonth),1)):(d(),y("span",$p,E(e.$t("MM")),1))]),_:1})],8,Pp),D(" / "),b("label",{for:a.fields.cardYear,class:"card-item__dateItem"},[f(At,{name:"slide-fade-up"},{default:u(()=>[a.labels.cardYear?(d(),y("span",{key:a.labels.cardYear},E(String(a.labels.cardYear).slice(2,4)),1)):(d(),y("span",Lp,E(e.$t("YY")),1))]),_:1})],8,Rp)],512)])])]),b("div",Up,[b("div",Np,[i.currentCardBackground?(d(),y("img",{key:0,src:i.currentCardBackground,class:"card-item__bg"},null,8,Bp)):k("",!0)]),xp,b("div",jp,[zp,b("div",Kp,[(d(!0),y(F,null,B(a.labels.cardCvv,(o,l)=>(d(),y("span",{key:l},"*"))),128))]),b("div",qp,[i.cardImage?(d(),y("img",{key:0,src:i.cardImage,class:"card-item__typeImg"},null,8,Hp)):k("",!0)])])])],2)}const Ki=Z(gp,[["render",Gp],["__scopeId","data-v-4fa28647"]]),Wp=Object.freeze(Object.defineProperty({__proto__:null,default:Ki},Symbol.toStringTag,{value:"Module"})),Yp={name:"CreditCardForm",directives:{"number-only":{beforeMount(e){function t(a){if(a.target.value=a.target.value.replace(/[^0-9 ]/g,""),a.charCode>=48&&a.charCode<=57||a.charCode===32)return!0;a.preventDefault()}e.addEventListener("keypress",t)}},"letter-only":{beforeMount(e){function t(a){return a.charCode>=48&&a.charCode<=57&&a.preventDefault(),!0}e.addEventListener("keypress",t)}}},props:{formData:{type:Object,default:()=>re({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""})},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0}},components:{CreditCard:Ki},setup(e,{emit:t}){const a=re({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"}),i=li("submitForm"),n=new Date().getFullYear(),s=X(!0),o=X(e.formData.cardNumber),l=X(19),m=U(()=>["01","02","03","04","05","06","07","08","09","10","11","12"]),c=U(()=>{const V=new URLSearchParams(window.location.search);return V.has("testYears")?Array.from({length:V.get("testYears")},(I,O)=>n+O):Array.from({length:12},(I,O)=>n+O)}),r=U(()=>e.formData.cardYear===n?new Date().getMonth()+1:1);se(()=>e.formData.cardYear,()=>{e.formData.cardMonth<r.value&&(e.formData.cardMonth="")}),Nt(()=>{T()});const h=V=>V<10?`0${V}`:V,_=re({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}),p=()=>{t("v-card-name",e.formData.cardName),t("update:cardName",_.cardName)},A=V=>{e.formData.cardNumber=V.target.value;let I=e.formData.cardNumber.replace(/\D/g,"");/^3[47]\d{0,13}$/.test(I)?(e.formData.cardNumber=I.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),l.value=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(I)?(e.formData.cardNumber=I.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),l.value=16):/^\d{0,16}$/.test(I)&&(e.formData.cardNumber=I.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),l.value=19),V.inputType==="deleteContentBackward"&&e.formData.cardNumber.substring(e.formData.cardNumber.length-1)===" "&&(e.formData.cardNumber=e.formData.cardNumber.substring(0,e.formData.cardNumber.length-1)),_.cardNumber=e.formData.cardNumber,t("input-card-number",e.formData.cardNumber),t("update:cardNumber",_.cardNumber)},M=()=>{t("input-card-month",e.formData.cardMonth),t("update:cardMonth",_.cardMonth)},S=()=>{t("input-card-year",e.formData.cardYear),t("update:cardYear",_.cardYear)},v=()=>{t("input-card-cvv",e.formData.cardCvv),t("update:cardCvv",_.cardCvv)},C=()=>{let V=e.formData.cardNumberNotMask.replace(/ /g,""),I=0;for(let O=0;O<V.length;O++){let j=parseInt(V.substr(O,1));O%2===0&&(j*=2,j>9&&(j=1+j%10)),I+=j}I%10!==0&&alert(e.$t("cardForm.invalidCardNumber"))},w=()=>{s.value&&T()},T=()=>{e.formData.cardNumberNotMask=e.formData.cardNumber,o.value=e.formData.cardNumber;let V=e.formData.cardNumber.split("");V.forEach((I,O)=>{O>4&&O<14&&I.trim()!==""&&(V[O]="*")}),e.formData.cardNumber=V.join("")},N=()=>{e.formData.cardNumber=o.value},G=()=>{N()},K=()=>{s.value=!s.value,s.value?T():N()},J=V=>tt({rules:"required|min:16|max:19|regex:/^[0-9]+$/"}),L=V=>tt({rules:"required"}),R=(V,I)=>{const O=new Date;return new Date(I,V-1)<O?"Card has expired":!0},$=V=>tt({rules:"required|min:3|max:4"});return se(()=>e.formData.cardNumber,J),se(()=>e.formData.cardName,L),se([()=>e.formData.cardMonth,()=>e.formData.cardYear],([V,I])=>R(V,I)),se(()=>e.formData.cardCvv,$),se(()=>_.cardName,V=>t("update:cardName",V)),se(()=>_.cardNumber,V=>t("update:cardNumber",V)),se(()=>_.cardMonth,V=>t("update:cardMonth",V)),se(()=>_.cardYear,V=>t("update:cardYear",V)),se(()=>_.cardCvv,V=>t("update:cardCvv",V)),{fields:a,minCardYear:n,isCardNumberMasked:s,mainCardNumber:o,cardNumberMaxLength:l,months:m,years:c,minCardMonth:r,generateMonthValue:h,changeName:p,changeNumber:A,changeMonth:M,changeYear:S,changeCvv:v,invaildCard:C,blurCardNumber:w,maskCardNumber:T,unMaskCardNumber:N,focusCardNumber:G,toggleMask:K,submitForm:i,validateCardNumber:J,validateCardName:L,validateExpiryDate:R,validateCVV:$,formData:_}}},Zp={class:"card-form"},Qp={class:"card-list"},Xp={class:"card-form__inner"},Jp={class:"card-input"},eg={for:"cardNumber",class:"card-input__label"},tg={class:"card-input"},ag={for:"cardName",class:"card-input__label"},sg={class:"card-form__row"},ig={class:"card-form__col"},ng={class:"card-form__group"},lg={for:"cardMonth",class:"card-input__label"},rg={class:"card-form__col -cvv"},og={class:"card-input"},dg={for:"cardCvv",class:"card-input__label"};function ug(e,t,a,i,n,s){const o=x("CreditCard"),l=We("number-only");return d(),y("div",Zp,[b("div",Qp,[f(o,{fields:i.fields,labels:i.formData,isCardNumberMasked:i.isCardNumberMasked,randomBackgrounds:a.randomBackgrounds,backgroundImage:a.backgroundImage},null,8,["fields","labels","isCardNumberMasked","randomBackgrounds","backgroundImage"])]),b("div",Xp,[b("div",Jp,[b("label",eg,E(e.$t("Card Number")),1),ve(f(je,{id:i.fields.cardNumber,modelValue:i.formData.cardNumber,"onUpdate:modelValue":t[0]||(t[0]=m=>i.formData.cardNumber=m),onInput:i.changeNumber,onFocus:i.focusCardNumber,onBlur:i.blurCardNumber,"data-card-field":"",type:"tel",variant:"outlined",maxlength:i.cardNumberMaxLength},null,8,["id","modelValue","onInput","onFocus","onBlur","maxlength"]),[[l]])]),b("div",tg,[b("label",ag,E(e.$t("Card Holder")),1),f(je,{id:i.fields.cardName,modelValue:i.formData.cardName,"onUpdate:modelValue":t[1]||(t[1]=m=>i.formData.cardName=m),onInput:i.changeName,"data-card-field":"",variant:"outlined"},null,8,["id","modelValue","onInput"])]),b("div",sg,[b("div",ig,[b("div",ng,[b("label",lg,E(e.$t("Expire Date")),1),f(Lt,{id:i.fields.cardMonth,items:i.months,label:e.$t("Month"),modelValue:i.formData.cardMonth,"onUpdate:modelValue":t[2]||(t[2]=m=>i.formData.cardMonth=m),onChange:i.changeMonth,"disabled-item":m=>m<i.minCardMonth,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange","disabled-item"]),f(Lt,{id:i.fields.cardYear,items:i.years,label:e.$t("Year"),modelValue:i.formData.cardYear,"onUpdate:modelValue":t[3]||(t[3]=m=>i.formData.cardYear=m),onChange:i.changeYear,"data-card-field":"",variant:"outlined"},null,8,["id","items","label","modelValue","onChange"])])]),b("div",rg,[b("div",og,[b("label",dg,E(e.$t("CVV")),1),ve(f(je,{type:"tel",modelValue:i.formData.cardCvv,"onUpdate:modelValue":t[4]||(t[4]=m=>i.formData.cardCvv=m),id:i.fields.cardCvv,maxlength:"4",onInput:i.changeCvv,"data-card-field":"",autocomplete:"off",variant:"outlined"},null,8,["modelValue","id","onInput"]),[[l]])])])]),f(q,{class:"card-form__button bg-success",onClick:i.submitForm,density:"comfortable",block:""},{default:u(()=>[D(E(e.$t("PAY")),1)]),_:1},8,["onClick"])])])}const qi=Z(Yp,[["render",ug]]),cg=Object.freeze(Object.defineProperty({__proto__:null,default:qi},Symbol.toStringTag,{value:"Module"})),mg={name:"PaymentService",components:{CreditCardForm:qi},emits:[...Ie,"update:modelValue","update:price","currency-converted"],props:{...Ce(),modelValue:{type:Object,default:()=>({})},itemValue:{type:String,default:"id"},price_object:{type:[Object,Array,Proxy],default:()=>({})},items:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},api:{type:String,default:""},currencyCardTypes:{type:[Object,Proxy,Array],default:()=>({})}},setup(e,{emit:t}){var v,C;const a=li("submitForm"),{formatPrice:i}=Zc(),n=X(""),s=X("-1"),o=X(e.price_object.currency_id||((v=e.currencies[0])==null?void 0:v.id)),l=X(i.value(e.price_object.price_including_vat/100,((C=e.currencies[0])==null?void 0:C.symbol)||"")),m=re({card_name:"",card_number:"",card_month:"",card_year:"",card_cvv:""}),c=U(()=>e.currencies.find(w=>w.id===o.value)),r=U(()=>{var w;return(w=c.value)==null?void 0:w.iso_4217}),h=U(()=>e.currencies.map(w=>({id:w.id,display:`${w.symbol} - ${w.name}`}))),_=U(()=>o.value?e.items.filter(w=>{var T;return(T=w.payment_currencies)==null?void 0:T.some(N=>N.id===o.value)}):[]),p=U(()=>_.value.find(w=>w[e.itemValue]===n.value)),A=U(()=>{var w;return!((w=p.value)!=null&&w.is_external)}),M=U({get:()=>e.modelValue,set:w=>t("update:modelValue",w)}),S=async w=>{o.value=w,n.value=s.value;const T=e.currencies.find(N=>N.id===w);if(!(!T||!e.api))try{const N=await axios.post(e.api,{currency:T.iso_4217,amount:e.price_object.price_including_vat/100});l.value=i.value(N.data.converted_amount,T.symbol),t("update:price",l.value),t("currency-converted",l.value)}catch(N){console.error("Currency conversion error:",N)}};return se(()=>e.modelValue,w=>{w&&typeof w=="object"&&(n.value=w.payment_method||s.value,Object.assign(m,w.credit_card||{}))},{immediate:!0,deep:!0}),se([n,m,c],()=>{M.value={payment_method:n.value,credit_card:{...m},currency:c.value}},{deep:!0}),{input:M,localPaymentMethod:n,localDefaultPaymentMethod:s,localCreditCard:m,showCreditCardForm:A,submitForm:a,selectedCurrency:o,selectedCurrencyIso:r,formattedCurrencies:h,filteredServiceItems:_,handleCurrencyChange:S,displayPrice:l,selectedService:p}}},Hi=e=>(ft("data-v-32159506"),e=e(),ht(),e),fg=Hi(()=>b("p",{class:"select-title"},"How would you like to pay?",-1)),hg={class:"service-icon-container"},pg={class:"service-icon-container"},gg=Hi(()=>b("p",{class:"total"},"Total Pay:",-1)),yg={class:"amount"};function _g(e,t,a,i,n,s){const o=x("v-img-icon"),l=x("CreditCardForm");return d(),g(Ke,{modelValue:i.input,"onUpdate:modelValue":t[7]||(t[7]=m=>i.input=m)},{default:u(()=>[f(ue,null,{default:u(()=>[f(ee,{class:"d-flex flex-column justify-center px-0"},{default:u(()=>[f(ce,{class:"pa-4 payment-container",elevation:"0"},{default:u(()=>[f(Ae,{class:"pa-0"},{default:u(()=>[fg]),_:1}),f(Lt,{modelValue:i.selectedCurrency,"onUpdate:modelValue":[t[0]||(t[0]=m=>i.selectedCurrency=m),i.handleCurrencyChange],items:i.formattedCurrencies,label:"Currency",variant:"outlined",density:"comfortable","item-title":"display","item-value":"id",class:"mx-6"},null,8,["modelValue","items","onUpdate:modelValue"]),f(va,{modelValue:i.localPaymentMethod,"onUpdate:modelValue":t[1]||(t[1]=m=>i.localPaymentMethod=m),column:""},{default:u(()=>[b("div",{class:W(["service-container px-3 py-cs-1 credit-card-service",{"selected-service--focus":i.localPaymentMethod===i.localDefaultPaymentMethod}])},[f(Wt,{label:e.$t("Credit Card"),value:i.localDefaultPaymentMethod,class:"service-label"},null,8,["label","value"]),D(" "+E(console.log(a.currencyCardTypes,i.selectedCurrencyIso))+" ",1),f(ue,{align:"center"},{default:u(()=>[f(ee,{class:"d-flex justify-content-end custom-service-col"},{default:u(()=>[b("div",hg,[(d(!0),y(F,null,B(a.currencyCardTypes[i.selectedCurrencyIso],(m,c)=>(d(),g(o,{key:`type-${c}`,src:"/storage/uploads/"+m.logo,contain:"",class:"v-img__img--relative"},null,8,["src"]))),128))])]),_:1})]),_:1})],2),(d(!0),y(F,null,B(i.filteredServiceItems,(m,c)=>(d(),y("div",{key:`service-${c}`,class:W(["service-container px-3 py-1",{"selected-service--focus":i.localPaymentMethod===m[a.itemValue]}])},[f(Wt,{label:m.title,value:m[a.itemValue],class:"service-label"},null,8,["label","value"]),f(ue,{align:"center"},{default:u(()=>[f(ee,{class:"d-flex justify-content-end"},{default:u(()=>{var r;return[b("div",pg,[f(o,{src:"/storage/uploads/"+((r=m==null?void 0:m.medias.find(h=>{var _;return((_=h==null?void 0:h.pivot)==null?void 0:_.role)==="logo"}))==null?void 0:r.uuid),contain:"",class:"v-img__img--relative"},null,8,["src"])])]}),_:2},1024)]),_:2},1024)],2))),128))]),_:1},8,["modelValue"])]),_:1}),f(xe,{class:"headline"},{default:u(()=>[gg,b("p",yg,E(i.displayPrice),1)]),_:1})]),_:1}),f(ee,{class:"px-0 d-flex align-center justify-center"},{default:u(()=>{var m;return[i.showCreditCardForm?(d(),g(l,{key:0,cardName:i.localCreditCard.card_name,"onUpdate:cardName":t[2]||(t[2]=c=>i.localCreditCard.card_name=c),cardNumber:i.localCreditCard.card_number,"onUpdate:cardNumber":t[3]||(t[3]=c=>i.localCreditCard.card_number=c),cardMonth:i.localCreditCard.card_month,"onUpdate:cardMonth":t[4]||(t[4]=c=>i.localCreditCard.card_month=c),cardYear:i.localCreditCard.card_year,"onUpdate:cardYear":t[5]||(t[5]=c=>i.localCreditCard.card_year=c),cardCvv:i.localCreditCard.card_cvv,"onUpdate:cardCvv":t[6]||(t[6]=c=>i.localCreditCard.card_cvv=c)},null,8,["cardName","cardNumber","cardMonth","cardYear","cardCvv"])):(d(),g(q,{key:1,style:me((m=i.selectedService)==null?void 0:m.button_style),onClick:i.submitForm,density:"comfortable","max-width":"300px","min-width":"80%"},{default:u(()=>{var c,r;return[f(ut,{width:"100px",contain:"","max-height":"36px",src:"/storage/uploads/"+((r=(c=i.selectedService)==null?void 0:c.medias.find(h=>{var _;return((_=h==null?void 0:h.pivot)==null?void 0:_.role)==="button_logo"}))==null?void 0:r.uuid)},null,8,["src"])]}),_:1},8,["style","onClick"]))]}),_:1})]),_:1})]),_:1},8,["modelValue"])}const Gi=Z(mg,[["render",_g],["__scopeId","data-v-32159506"]]),bg=Object.freeze(Object.defineProperty({__proto__:null,default:Gi},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:vg}=Aa(),Ag={components:{ActiveTableItem:hp,Draggable:Ra,VDataTableRow:pi,PaymentService:Gi},props:{...Bc(),...wc(),...xc(),...zc(),...qc(),...Gc(),...kc(),...wa(),...vg},setup(e,t){return{...Ri(e),...Cc(e,t)}},data(){return{datatable:{}}},mounted(){document.documentElement.style.setProperty("--table-header-color",this.headerOptions.color),this.$nextTick(()=>{this.$refs.datatable&&(this.datatable=this.$refs.datatable)}),this.initialize()},created(){},methods:{}},Eg={class:"ue-table-top__wrapper"},wg={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"},Sg={class:"d-flex justify-end"},kg={key:1};function Cg(e,t,a,i,n,s){const o=x("ActiveTableItem"),l=x("ue-title"),m=x("ue-form"),c=x("v-btn-secondary"),r=x("v-btn-primary"),h=x("ue-modal"),_=x("ue-recursive-data-viewer"),p=x("ue-recursive-stuff"),A=x("ue-copy-text"),M=x("ue-dynamic-component-renderer"),S=x("Draggable");return d(),y("div",{class:W(["ue-datatable__container",e.noFullScreen?"":"fill-height ue-datatable--full-screen_"])},[f(o,P({class:"",modelValue:e.activeTableItem,"onUpdate:modelValue":t[0]||(t[0]=v=>e.activeTableItem=v)},e.$lodash.pick(this.$props??{},["name","fullWidthWrapper"]),{"table-headers":Object.values(e.$lodash.omitBy(this.headers,"actions")),"item-data":e.activeItemConfiguration,onToggle:t[1]||(t[1]=v=>e.hideTable=v)}),null,16,["modelValue","table-headers","item-data"]),e.hideTable?k("",!0):(d(),g(cl,P({key:0},{...e.$bindAttributes(),...e.footerProps},{class:["px-4",e.noFullScreen?"":"h-100",e.tableClasses,e.fullWidthWrapper?"":"ue-table--narrow-wrapper",e.striped?"ue-datatable--striped":"",e.roundedRows?"ue-datatable--rounded-row":"",e.hideBorderRow?"ue-datatable--no-border-row":"",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"ue-datatable--bottom-controls":""],id:"ue-table",headers:e.selectedHeaders,sticky:e.sticky,items:e.elements,hover:!0,"items-per-page":e.options.itemsPerPage,search:e.options.search,page:e.options.page,"items-length":e.totalElements,"item-title":e.titleKey,ref:"datatable",height:e.windowSize.y-64-24-59-36,"hide-default-header":e.hideHeaders,"multi-sort":e.multiSort,"must-sort":e.mustSort,density:e.tableDensity??"comfortable","disable-sort":e.disableSort,loading:e.loading,"loading-text":e.$t("Loading... Please wait"),mobile:e.$vuetify.display.smAndDown,"show-select":e.$store.getters.isSuperAdmin&&e.showSelect,"item-value":"id",modelValue:e.selectedItems,"onUpdate:modelValue":t[19]||(t[19]=v=>e.selectedItems=v),"onUpdate:options":t[20]||(t[20]=v=>e.changeOptions(v))}),ye({top:u(({someSelected:v})=>[f(_a,P(e.toolbarOptions,{class:["pt-1"]}),{default:u(()=>[b("div",{class:W([e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"pt-2":"flex-grow-1 h-100 d-flex flex-column justify-center"]),style:{"min-width":"20%"}},[f(l,{type:"subtitle-1",color:"black",text:e.tableTitle,padding:"a-0"},null,8,["text"]),e.tableSubtitle?(d(),g(l,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0",text:e.tableSubtitle},null,8,["text"])):k("",!0)],2),e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?(d(),g(fe,{key:0,class:"my-3"})):k("",!0),f(dl,{group:!0},{default:u(()=>[b("div",{class:W(["d-flex",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"mb-2":"justify-end flex-grow-1"])},[v?(d(!0),y(F,{key:0},B(e.bulkActions,(C,w)=>(d(),y(F,{key:w},[e.can(C.name)?ve((d(),g(q,P({key:0,ref_for:!0},e.filterBtnOptions,{"append-icon":!1,"prepend-icon":C.icon?C.icon:`$${C.name}`,text:e.window.__headline(C.name),color:C.color??"primary",onClick:T=>e.itemAction(C,C.name)}),null,16,["prepend-icon","text","color","onClick"])),[[ul,e.$lodash.startCase(C.name)]]):k("",!0)],64))),128)):(d(),y(F,{key:1},[!e.hideSearchField&&e.isStoreTable&&e.hasSearchableHeader?(d(),g(je,{key:0,modelValue:e.searchModel,"onUpdate:modelValue":t[3]||(t[3]=C=>e.searchModel=C),variant:"outlined","append-inner-iconx":e.searchModel!==e.search?"mdi-magnify":null,"hide-details":"",density:"compact","single-line":"",placeholder:e.searchPlaceholder,class:W(["mr-2",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"flex-grow-1":""]),style:me(["display: inline","min-width: 100px"]),"onClick:appendInner":t[4]||(t[4]=C=>e.searchItems()),disabled:e.loading,onKeydown:t[5]||(t[5]=Pt(C=>e.searchItems(),["enter"]))},{"append-inner":u(()=>[f(q,{disabled:e.searchModel===e.search,icon:"mdi-magnify",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:t[2]||(t[2]=C=>e.searchItems())},null,8,["disabled"])]),_:1},8,["modelValue","append-inner-iconx","placeholder","class","disabled"])):k("",!0),e.mainFilters.length>0?(d(),g(q,P({key:1,id:"filter-btn-activator"},{...e.filterBtnOptions,...e.filterBtnTitle},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:e.filterBtnTitle.text,"prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","text","prepend-icon","density"])):k("",!0),Object.keys(e.advancedFilters).length>0?(d(),g(q,P({key:2,id:"advanced-filter-btn"},{...e.filterBtnOptions,...e.filterBtnTitle},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:"Advanced Filter","prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","text","prepend-icon","density"])):k("",!0),e.can("create")&&!e.noForm&&!v&&e.createOnModal?(d(),g(q,P({key:3},e.addBtnOptions,{onClick:e.createForm,icon:e.$vuetify.display.smAndDown?e.addBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:e.addBtnTitle,"prepend-icon":e.$vuetify.display.smAndDown?null:e.addBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.addBtnOptions.density??"comfortable"}),null,16,["onClick","icon","text","prepend-icon","density"])):k("",!0)],64))],2)]),_:2},1024)]),_:2},1040),e.controlsPosition==="top"&&e.$vuetify.display.mdAndUp?(d(),g(fe,{key:0,class:"mb-4 mt-2"})):k("",!0),f(He,{activator:"#filter-btn-activator"},{default:u(()=>[f($e,null,{default:u(()=>[(d(!0),y(F,null,B(e.mainFilters,(C,w)=>(d(),g(he,{key:w,onClick:Le(T=>e.filterStatus(C.slug),["prevent"])},{default:u(()=>[f(Rt,null,{default:u(()=>[D(E(C.name+"("+C.number+")"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),f(He,{activator:"#advanced-filter-btn","close-on-content-click":!1,location:e.end},{default:u(()=>[f(ce,{title:"Advanced Filter","min-width":"40vw","max-width":"50vw"},{default:u(()=>[f(Ae,null,{default:u(()=>[(d(!0),y(F,null,B(e.advancedFilters,(C,w)=>(d(),y(F,{key:w},[(d(!0),y(F,null,B(C,(T,N)=>(d(),g(Te(`v-${T.type}`),P({ref_for:!0},T.componentOptions,{modelValue:T.selecteds,"onUpdate:modelValue":G=>T.selecteds=G}),null,16,["modelValue","onUpdate:modelValue"]))),256))],64))),128))]),_:1}),f(Be,null,{default:u(()=>[f(Se),f(q,{text:"Clear",variant:"plain",onClick:e.clearAdvancedFilter},null,8,["onClick"]),f(q,{color:"primary",text:"Save",variant:"tonal",onClick:e.submitAdvancedFilter},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["location"]),e.embeddedForm?k("",!0):(d(),g(h,P({key:1,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":t[9]||(t[9]=C=>e.formActive=C),transition:"dialog-bottom-transition",fullscreen:!1,"width-type":"lg"},e.formModalAttributes),{body:u(C=>[f(ce,{class:"fill-height d-flex flex-column"},{default:u(()=>[f(m,P({ref:"UeForm","form-class":"px-6 pt-6 pb-0","fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":""},e.formAttributes,{title:e.formTitle,isEditing:e.editedIndex>-1,style:C.isFullActive?"height: 90vh !important;":"height: 70vh !important;",actions:e.formActions,onActionComplete:e.handleFormActionComplete}),ye({"header.left":u(w=>[z(e.$slots,"form.header.left",te(ne(w)),()=>[D(E(w.title),1)])]),"header.right":u(()=>[z(e.$slots,"form.header.right",{},()=>[f(q,{icon:C.isFullActive?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:w=>C.toggleFullscreen()},null,8,["icon","onClick"]),f(q,{icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:t[6]||(t[6]=w=>e.closeForm())})])]),top:u(w=>[z(e.$slots,"form.top",te(ne(w)))]),_:2},[e.$slots["form.right.top"]?{name:"right.top",fn:u(w=>[z(e.$slots,"form.right.top",te(ne(w)))]),key:"0"}:void 0,e.$slots["form.right.middle"]?{name:"right.middle",fn:u(w=>[z(e.$slots,"form.right.middle",te(ne(w)))]),key:"1"}:void 0,e.$slots["form.right.bottom"]?{name:"right.bottom",fn:u(w=>[z(e.$slots,"form.right.bottom",te(ne(w)))]),key:"2"}:void 0]),1040,["title","isEditing","style","actions","onActionComplete"]),f(fe,{class:"mx-6 mt-4"}),f(Be,{class:"px-6 flex-grow-0"},{default:u(()=>[f(Se),e.$store.getters.isSuperAdmin?(d(),g(c,{key:0,slim:!1,variant:"outlined",onClick:t[7]||(t[7]=w=>e.$refs.UeForm.validate())},{default:u(()=>[D(E(e.$t("Validate")),1)]),_:1})):k("",!0),f(r,{slim:!1,variant:"elevated",onClick:t[8]||(t[8]=w=>e.confirmFormModal()),disabled:!e.formIsValid,loading:e.formLoading},{default:u(()=>[D(E(e.$t("fields.save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:2},1024)]),_:3},16,["modelValue"])),b("div",Eg,[e.embeddedForm&&!e.noForm?(d(),y("div",{key:0,class:"",style:me(e.formStyles)},[f(Yt,null,{default:u(()=>[e.formActive?(d(),g(ce,{key:0,class:"mb-theme",elevation:"4"},{default:u(()=>[f(m,{"has-submit":"","button-text":"save",title:e.formTitle,ref:"form",isEditing:e.editedIndex>-1},{"header.left":u(C=>[z(e.$slots,"form.header.left",te(ne(C)),()=>[D(E(C.title),1)])]),headerCenter:u(()=>[]),"header.right":u(()=>[f(q,{class:"",variant:"text",icon:"$close",density:"compact",onClick:t[10]||(t[10]=C=>e.closeForm())})]),_:3},8,["title","isEditing"])]),_:3})):k("",!0)]),_:3})],4)):k("",!0),f(h,{ref:"customModal",modelValue:e.customModalActive,"onUpdate:modelValue":t[13]||(t[13]=C=>e.customModalActive=C),transition:e.modals[e.activeModal]||"dialog-bottom-transition","width-type":e.modals[e.activeModal].widthType||"sm",persistent:e.modals[e.activeModal].persistent,"description-text":e.modals[e.activeModal].content},{body:u(C=>[f(ce,null,{default:u(()=>[e.modals[e.activeModal].title?(d(),g(xe,{key:0,class:"text-h5 text-center",style:{"word-break":"break-word"}})):k("",!0),e.modals[e.activeModal].img?(d(),g(le,{key:1,icon:e.modals[e.activeModal].icon,style:{margin:"auto",border:"4px solid","border-radius":"50%",padding:"32px"},size:"32",color:e.modals[e.activeModal].color},null,8,["icon","color"])):k("",!0),f(Ae,{class:"text-center",style:{"word-break":"break-word"}},{default:u(()=>[D(E(e.modals[e.activeModal].content),1)]),_:1}),f(fe),f(Be,null,{default:u(()=>[f(Se),e.modals[e.activeModal].hideModalCancel?(d(),g(q,{key:0,color:e.modals[e.activeModal].color?e.modals[e.activeModal].color:"blue",text:"",onClick:t[11]||(t[11]=w=>e.modals[e.activeModal].closeAction())},{default:u(()=>[D(E(e.modals[e.activeModal].cancelText||C.textCancel),1)]),_:2},1032,["color"])):k("",!0),f(q,{color:e.modals[e.activeModal].color?e.modals[e.activeModal].color:"blue",text:"",onClick:t[12]||(t[12]=w=>e.modals[e.activeModal].confirmAction())},{default:u(()=>[D(E(e.modals[e.activeModal].confirmText||C.textConfirm),1)]),_:2},1032,["color"]),f(Se)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue","transition","width-type","persistent","description-text"]),e.modals.show.active?(d(),g(h,{key:1,ref:e.modals.show.ref,modelValue:e.modals.show.active,"onUpdate:modelValue":t[15]||(t[15]=C=>e.modals.show.active=C),transition:e.modals.show.transition||"dialog-bottom-transition","width-type":e.modals.show.widthType||"lg",persistent:e.modals.show.persistent,"description-text":e.modals.show.description},{body:u(C=>[f(ce,{class:"fill-height d-flex flex-column"},{default:u(()=>[f(xe,null,{default:u(()=>[f(l,{padding:"a-3",color:"grey-darken-5",align:"center",justify:"space-between"},{right:u(()=>[]),default:u(()=>[D(E(e.modals.show.title)+" ",1)]),_:1})]),_:1}),f(fe,{class:"mx-6"}),f(Ae,null,{default:u(()=>[f(_,{data:e.modals.show.data,"all-array-items-open":!1,"all-array-items-closed":!1},null,8,["data"])]),_:1}),f(fe,{class:"mx-6 mt-4"}),f(Be,{class:"px-6 flex-grow-0"},{default:u(()=>[f(Se),f(r,{slim:!1,variant:"elevated",onClick:t[14]||(t[14]=w=>e.modals.show.cancel())},{default:u(()=>[D(E(e.$t("fields.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","transition","width-type","persistent","description-text"])):k("",!0),f(h,{ref:"customFormModal",modelValue:e.customFormModalActive,"onUpdate:modelValue":t[18]||(t[18]=C=>e.customFormModalActive=C),"width-type":"lg"},{default:u(()=>[f(m,P({ref:"customForm",modelValue:e.customFormModel,"onUpdate:modelValue":t[17]||(t[17]=C=>e.customFormModel=C)},e.customFormAttributes,{"fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":"","form-class":"px-6 pb-0",style:{height:"90vh !important"}}),{"header.right":u(()=>[f(q,{class:"ml-auto",variant:"text",icon:"$close",density:"compact",color:"deafult",onClick:t[16]||(t[16]=C=>e.customFormModalActive=!1)})]),_:1},16,["modelValue"])]),_:1},8,["modelValue"])])]),"header.actions":u(v=>[f(He,{"close-on-content-click":!1,location:"bottom"},{activator:u(({props:C})=>[f(q,P({size:"large",variant:"plain",color:"black",icon:"mdi-cog-outline"},C),null,16)]),default:u(()=>[f(ce,null,{default:u(()=>[f(xe,null,{default:u(()=>[f($e,{class:""},{default:u(()=>[(d(!0),y(F,null,B(e.headersModel,(C,w)=>(d(),y(F,{key:w},[C.key!=="actions"?(d(),g(ot,{key:0,class:"ml-n2",disabled:e.headersModel.filter(T=>T.key!=="actions"&&T.visible===!0).length<2&&e.headersModel[w].visible===!0,modelValue:e.headersModel[w].visible,"onUpdate:modelValue":T=>e.headersModel[w].visible=T,label:C.title,"hide-details":"",density:"comfortable"},null,8,["disabled","modelValue","onUpdate:modelValue","label"])):k("",!0)],64))),128))]),_:1})]),_:1}),f(Be,null,{default:u(()=>[f(q,{color:"primary",text:"Save",variant:"tonal",onClick:e.applyHeaders,block:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),"item.actions":u(({item:v})=>[e.actionShowingType==="dropdown"?(d(),g(He,{key:0,"close-on-content-click":!1,left:"","offset-x":"",class:"action-dropdown"},{activator:u(({props:C})=>[f(le,P({size:"large",color:"primary",icon:"$list"},C),null,16)]),default:u(()=>[f($e,null,{default:u(()=>[(d(!0),y(F,null,B(e.rowActions,(C,w)=>(d(),y(F,{key:w},[e.itemHasAction(v,C)?(d(),g(he,{key:0,onClick:T=>e.itemAction(v,C)},{default:u(()=>[f(le,{small:"",color:C.color,left:""},{default:u(()=>[D(E(C.icon?C.icon:"$"+C.name),1)]),_:2},1032,["color"]),D(" "+E(e.$t(C.label??e.$headline(C.name))),1)]),_:2},1032,["onClick"])):k("",!0)],64))),128))]),_:2},1024)]),_:2},1024)):(d(),y("div",kg,[(d(!0),y(F,null,B(e.rowActions,(C,w)=>(d(),y(F,{key:w},[e.itemHasAction(v,C)?(d(),g(Ue,{key:0,text:e.$t(C.label??C.name),location:"top"},{activator:u(({props:T})=>[f(le,P({small:"",class:"mr-2",onClick:N=>e.itemAction(v,C),color:C.color,ref_for:!0},T),{default:u(()=>[D(E(C.icon?C.icon:"$"+C.name),1)]),_:2},1040,["onClick","color"])]),_:2},1032,["text"])):k("",!0)],64))),128))]))]),"body.append":u(()=>[e.enableInfiniteScroll?ve((d(),g(ce,{key:0},null,512)),[[Ba,e.onIntersect]]):k("",!0),e.enableInfiniteScroll&&e.loading?(d(),g(Ua,{key:1,indeterminate:e.loading},null,8,["indeterminate"])):k("",!0)]),_:2},[e.hasCustomRow?{name:"body",fn:u(({items:v})=>[f(ue,{"no-gutters":""},{default:u(()=>[(d(!0),y(F,null,B(v,(C,w)=>(d(),g(ee,P({key:C.id,ref_for:!0},e.customRow.col),{default:u(()=>[(d(),g(Te(`ue-${e.customRow.name}`),{key:C.id,item:C,headers:e.headers,rowActions:e.rowActions,onClickAction:e.itemAction,onEditItem:e.editItem},{actions:u(()=>[b("div",null,[b("div",wg,[(d(!0),y(F,null,B(e.rowActions,(T,N)=>(d(),y(F,{key:N},[e.itemHasAction(C,T)?(d(),g(Ue,{key:0,text:e.$t(T.label??e.$headline(T.name)),location:"top"},{activator:u(({props:G})=>[f(q,P({ref_for:!0},G,{text:T.forceLabel?e.$t(T.label??e.$headline(T.name)):null,variant:T.variant??"elevated",density:T.density??(T.forceLabel?"comfortable":"compact"),size:T.size??(T.forceLabel,"default"),icon:T.forceLabel?null:T.icon?T.icon:"$"+T.name,color:T.color??"primary",rounded:T.forceLabel?null:!0,onClick:K=>e.itemAction(C,T),class:"text-capitalize"}),null,16,["text","variant","density","size","icon","color","rounded","onClick"])]),_:2},1032,["text"])):k("",!0)],64))),128))])])]),_:2},1064,["item","headers","rowActions","onClickAction","onEditItem"])),w<v.length-1?(d(),g(fe,{key:0})):k("",!0)]),_:2},1040))),128))]),_:2},1024)]),key:"0"}:void 0,e.enableCustomFooter?{name:"bottom",fn:u(({page:v,pageCount:C})=>[b("div",Sg,[f(ol,P({modelValue:e.options.page,"onUpdate:modelValue":w=>e.options.page=w,length:C},e.footerProps),null,16,["modelValue","onUpdate:modelValue","length"])])]),key:"1"}:void 0,B(e.slots,(v,C)=>({name:C,fn:u(()=>[b("div",null,[(d(!0),y(F,null,B(v.elements,(w,T)=>(d(),g(p,{key:`tag-0-${T}`,configuration:w},null,8,["configuration"]))),128))])])})),B(e.formatterColumns,(v,C)=>({name:`item.${v.key}`,fn:u(({item:w})=>[v.formatter=="edit"||v.formatter=="activate"?(d(),g(Ue,{text:w[v.key],key:C},{activator:u(({props:T})=>[(d(),g(q,P({key:C},T,{class:"pa-0 justify-start text-capitalize",variant:"plain",color:"primary darken-1",onClick:N=>e.itemAction(w,...v.formatter)}),{default:u(()=>[D(E(v.key.match(/^id|uuid$/)?e.window.__shorten(w[v.key],8):w[v.key]),1)]),_:2},1040,["onClick"])),v.key.match(/^id|uuid$/)?(d(),g(A,{key:0,text:w[v.key]},null,8,["text"])):k("",!0)]),_:2},1032,["text"])):v.formatter=="switch"?(d(),g(Gt,{key:C,"model-value":w[v.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":T=>e.itemAction(w,"switch",T,v.key)},{label:u(()=>[]),_:2},1032,["model-value","onUpdate:modelValue"])):v.formatter=="dynamic"?(d(),g(M,{subject:w[v.key],key:w[v.key]},null,8,["subject"])):(d(),g(p,P({key:3},e.handleFormatter(v.formatter,e.window.__shorten(w[v.key],e.cellOptions.maxChars)),{key:w[v.key]}),null,16))])})),e.draggable?{name:"default",fn:u(()=>[b("thead",null,[z(e.$slots,e.headers,{},()=>[f(ml,{mobile:this.datatable.mobile,color:this.headerOptions.color},ye({_:2},[B(this.datatable.$slots,(v,C)=>({name:C,fn:u(w=>[z(e.$slots,C,te(ne(w)),()=>[(d(),g(Te(this.datatable.$slots[C]),te(ne(w)),null,16))])])}))]),1032,["mobile","color"])])]),f(S,P({"model-value":e.elements,"item-key":"position"},e.dragOptions,{tag:"tbody",class:"v-data-table__tbody","onUpdate:modelValue":e.sortElements}),{item:u(v=>[f(pi,{item:e.draggableItems[v.index],mobile:this.datatable.mobile},ye({_:2},[B(this.datatable.$slots,(C,w)=>({name:w,fn:u(T=>[z(e.$slots,w,te(ne(T)),()=>[(d(),g(Te(this.datatable.$slots[w]),P({",":""},{...T,item:e.elements[v.index]}),null,16))])])}))]),1032,["item","mobile"])]),_:3},16,["model-value","onUpdate:modelValue"])]),key:"2"}:void 0]),1040,["class","headers","sticky","items","items-per-page","search","page","items-length","item-title","height","hide-default-header","multi-sort","must-sort","density","disable-sort","loading","loading-text","mobile","show-select","modelValue"]))],2)}const Wi=Z(Ag,[["render",Cg]]),Tg=Object.freeze(Object.defineProperty({__proto__:null,default:Wi},Symbol.toStringTag,{value:"Module"})),Mg={props:{componentName:{type:String},tableAttributes:{type:Object,required:!0,default:{}}}};function Ig(e,t,a,i,n,s){return d(),g(Te(`ue-${a.componentName}`),te(ne(a.tableAttributes)),null,16)}const Dg=Z(Mg,[["render",Ig]]),Og=Object.freeze(Object.defineProperty({__proto__:null,default:Dg},Symbol.toStringTag,{value:"Module"})),Vg={props:{elements:{type:Array,default(){return[]}},color:{type:String,default:""}},data(){return{defaultCols:[]}},computed:{textColor(){return this.color!==""?`text-${this.color}`:""}}};function Fg(e,t,a,i,n,s){return d(),g(ue,null,{default:u(()=>[(d(!0),y(F,null,B(a.elements,(o,l)=>(d(),g(ee,P({key:l,ref_for:!0},o.col),{default:u(()=>[b("label",{class:W([`${s.textColor}`,o.class]),style:me(o.style)},E(o.text),7)]),_:2},1040))),128))]),_:1})}const Yi=Z(Vg,[["render",Fg]]),Pg={name:"ue-tabs",emits:["update:modelValue"],components:{RowFormat:Yi},props:{modelValue:{type:[String,Number]},tabValue:{type:String,default:"id"},tabTitle:{type:String,default:"name"},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab_:this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null,models:{},elements:__isObject(this.items)?Object.keys(this.items).map(e=>({[this.tabTitle]:e,...this.items[e],[this.tabValue]:e})):this.items}},watch:{tab_:{handler(e,t){__log("tab watcher",e),this.$emit("update:modelValue",e)}}},computed:{tab:{get(){return this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,t)=>[])}};function $g(e,t,a,i,n,s){const o=x("RowFormat");return d(),y(F,null,[f(gi,{modelValue:s.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>s.tab=l),"align-tabs":"center"},{default:u(()=>[(d(!0),y(F,null,B(n.elements,l=>z(e.$slots,`tab.${l[a.tabValue]}`,{key:`tab-${l[a.tabValue]}`},()=>[f(xa,{value:l[a.tabValue]},{prepend:u(()=>[z(e.$slots,`tab.${l[a.tabValue]}.prepend`)]),append:u(()=>[z(e.$slots,`tab.${l[a.tabValue]}.append`)]),default:u(()=>[b("span",null,E(l[a.tabTitle]),1)]),_:2},1032,["value"])])),128))]),_:3},8,["modelValue"]),z(e.$slots,"windows",te(ne({active:s.tab})),()=>[f(_i,{modelValue:s.tab,"onUpdate:modelValue":t[1]||(t[1]=l=>s.tab=l)},{default:u(()=>[(d(!0),y(F,null,B(a.items,(l,m)=>(d(),g(yi,{key:`tab-window-${m}`,value:l[a.tabValue]},{default:u(()=>[z(e.$slots,`window.${m}`,P({ref_for:!0},{index:m,item:l,model:n.models[l[a.tabValue]]}),()=>[f(o,{elements:[{text:`${l[a.itemTitle]}`,col:{cols:4}}]},null,8,["elements"])])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])])],64)}const Rg=Z(Pg,[["render",$g]]),Lg=Object.freeze(Object.defineProperty({__proto__:null,default:Rg},Symbol.toStringTag,{value:"Module"})),Ug={name:"ue-tabs",components:{RowFormat:Yi},props:{itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab:Object.keys(this.items)[0]??null,models:{}}},created(){this.models=Object.keys(this.items).map((e,t)=>[])}};function Ng(e,t,a,i,n,s){const o=x("RowFormat");return d(),y(F,null,[f(gi,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>n.tab=l),"align-tabs":"center"},{default:u(()=>[(d(!0),y(F,null,B(Object.keys(a.items),l=>(d(),g(xa,{key:`tab-${l}`,value:l},{default:u(()=>[D(E(l),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),f(_i,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=l=>n.tab=l)},{default:u(()=>[(d(!0),y(F,null,B(Object.keys(a.items),(l,m)=>(d(),g(yi,{key:`tab-window-${l}`,value:l,class:"pa-theme"},{default:u(()=>[z(e.$slots,"window",P({ref_for:!0},{index:m,key:l,items:a.items[l],model:n.models[l]}),()=>[(d(!0),y(F,null,B(a.items[l],(c,r)=>(d(),g(o,{key:`window-row-${r}]`,elements:[{text:`${c[a.itemTitle]}`,col:{cols:4}}]},null,8,["elements"]))),128)),z(e.$slots,"windowItem")])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])],64)}const Bg=Z(Ug,[["render",Ng]]),xg=Object.freeze(Object.defineProperty({__proto__:null,default:Bg},Symbol.toStringTag,{value:"Module"})),jg={name:"ue-text-display",props:{text:{type:String,required:!0},subText:{type:String,required:!1}}},zg={class:"d-flex align-baseline"},Kg={class:"font-weight-bold"},qg={key:0,class:"text-body-1"};function Hg(e,t,a,i,n,s){return d(),y("div",zg,[b("span",Kg,E(a.text),1),a.subText?(d(),y("span",qg,E(a.subText),1)):k("",!0)])}const Gg=Z(jg,[["render",Hg]]),Wg=Object.freeze(Object.defineProperty({__proto__:null,default:Gg},Symbol.toStringTag,{value:"Module"})),Yg={__name:"Title",props:{text:String,subTitle:String,tag:{type:String,default:"div",validator:e=>["div","h1","h2","h3","h4","h5","h6"].includes(e)},type:{type:String,default:"body-1",validator:e=>e===null||["h1","h2","h3","h4","h5","h6","subtitle-1","subtitle-2","body-1","body-2","button","caption","overline"].includes(e)},weight:{type:String,default:"bold",validator:e=>e===null||["black","bold","medium","regular","light","thin"].includes(e)},transform:{type:String,default:"uppercase",validator:e=>e===null||["none","capitalize","lowercase","uppercase"].includes(e)},color:{type:String},bg:{type:String},padding:{type:String,default:"a-3"},margin:{type:String,default:"a-0"},align:{type:String,default:"start",validator:e=>["start","center","end"].includes(e)},textPosition:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},justify:{type:String,default:"start",validator:e=>["start","center","end"].includes(e)},defaultClasses:{type:[String,Array],default:"ue-title"},classes:{type:[String,Array]},paddingReset:{type:Boolean,default:!1},descriptionClasses:{type:[String,Array],default:"font-weight-light text-subtitle-2 text-truncate"}},setup(e){const t=e,a=U(()=>[`text-${t.type}`,t.bg?`bg-${t.bg}`:"",t.color?`text-${t.color}`:"",`text-${t.transform}`,`font-weight-${t.weight}`,t.padding?`p${t.padding}`:"",t.margin?`m${t.margin}`:"",`text-${t.textPosition}`,`align-${t.align}`,`justify-${t.justify}`]);return(i,n)=>(d(),g(Te(e.tag),{class:W([a.value,e.classes,"d-flex"])},{default:u(()=>[z(i.$slots,"default",te(ne({text:e.text})),()=>[D(E(e.text),1)],!0),z(i.$slots,"right",{},void 0,!0)]),_:3},8,["class"]))}},Zg=Z(Yg,[["__scopeId","data-v-786e1271"]]),Qg=Object.freeze(Object.defineProperty({__proto__:null,default:Zg},Symbol.toStringTag,{value:"Module"})),Xg=/[\/\?<>\\:\*\|":]/g,Jg=/[\x00-\x1f\x80-\x9f]/g,ey=/^\.+$/,ty=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,ay=/[\. ]+$/,Oa=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Zi={};for(let e=0;e<Oa.length;e++){const t=Oa[e].letters.split("");for(let a=0;a<t.length;a++)Zi[t[a]]=Oa[e].base}function sy(e,t,a){let i=e.replace(/[^\u0000-\u007E]/g,function(n){return Zi[n]||n});return a=a||"",i=i.replace(/[^\u0000-\u007E]/g,a),i}function iy(e,t){let a=sy(e).replace(Xg,t).replace(Jg,t).replace(ey,t).replace(ty,t).replace(ay,t);const i=/[^0-9a-zA-Z-.,;_]/g;return a=a.replace(i,""),Pn.truncate(a,{length:255})}function sa(e,t){return iy(e,"")}const ny={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){const e=this.uploaderConfig.allowedExtensions;return{allowedExtensions:e,acceptFiles:"."+e.join(", ."),stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){const t={debug:!0,maxConnections:5,button:this.$refs.uploaderBrowseButton,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader=this.uploaderConfig.endpointType==="s3"?new $n({options:{...t,validation:{...this.uploaderValidation},objectProperties:{key:a=>this.unique_folder_name+"/"+sa(this._uploader.methods.getName(a)),region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):this.uploaderConfig.endpointType==="azure"?new Rn({options:{...t,validation:{...this.uploaderValidation},cors:{expected:!0,sendCredentials:!0},blobProperties:{name:a=>new Promise(i=>{i(this.unique_folder_name+"/"+sa(this._uploader.methods.getName(a)))})},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):new Ln({options:{...t,validation:{...this.uploaderValidation,sizeLimit:this.uploaderConfig.filesizeLimit*1048576},request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}})},replaceMedia:function(e){this.media_to_replace_id=e;const t=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');t[Array.from(t).length-1].click()},loadingProgress:function(e){this.$store.commit(Y.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,t){this.$emit("loaded",t),this.$store.commit(Y.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(Y.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(Y.PROGRESS_UPLOAD,e)},_onCompleteCallback(e,t,a,i){const n=this.loadingMedias.findIndex(s=>s.id===this._uploader.methods.getUuid(e));a.success?this.loadingFinished(this.loadingMedias[n],a.media):this.loadingError(this.loadingMedias[n])},_onAllCompleteCallback(e,t){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback(e,t){this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+ss.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);const a=URL.createObjectURL(this._uploader.methods.getFile(e)),i=new Image;i.onload=()=>{this._uploader.methods.setParams({width:i.width,height:i.height,unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e),this.media_to_replace_id=null},i.src=a;const n={id:this._uploader.methods.getUuid(e),name:sa(t),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};this.type.value==="file"&&(this.media_to_replace_id=null),this.loadingMedias.push(n),this.loadingProgress(n)},_onProgressCallback(e,t,a,i){const n=this.loadingMedias.findIndex(s=>s.id===this._uploader.methods.getUuid(e));if(n>=0){const s=this.loadingMedias[n];s.progress=a/i*100||0,s.error=!1,this.loadingProgress(s)}},_onErrorCallback(e,t,a,i){const n=e?this.loadingMedias.findIndex(s=>s.id===this._uploader.methods.getUuid(e)):-1;if(n>=0)this.loadingMedias[n].errorMessage=a,this.loadingError(this.loadingMedias[n]);else{const s={id:e?this._uploader.methods.getUuid(e):Math.floor(Math.random()*1e3),name:sa(t),progress:0,error:!0,errorMessage:a};this.loadingMedias.push(s),this.loadingProgress(s),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback(e,t,a){if(a==="retrying upload"){const i=this.loadingMedias.findIndex(function(n){return n.id===e});if(i>=0){const n=this.loadingMedias[i];n.progress=0,n.error=!1,this.loadingProgress(n)}}},_onTotalProgressCallback(e,t){const a=Math.floor(e/t*100);this.uploadProgress(a)},_onDropError(e,t){console.error(e,t)},_onProcessingDroppedFilesComplete(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted(){this.initUploader();const e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new ss.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeUnmount(){this._qqDropzone&&this._qqDropzone.dispose()}},ly={class:"uploader"},ry={class:"uploader__dropzone",ref:"uploaderDropzone"},oy={class:"uploader__dropzone--desktop"};function dy(e,t,a,i,n,s){return d(),y("div",ly,[b("div",ry,[b("div",{class:"button",ref:"uploaderBrowseButton"},E(e.$trans("uploader.upload-btn-label","Add new")),513),b("div",oy,E(e.$trans("uploader.dropzone-text","or drop new files here")),1)],512)])}const uy=Z(ny,[["render",dy],["__scopeId","data-v-936f2c80"]]),cy=Object.freeze(Object.defineProperty({__proto__:null,default:uy},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:my}=Aa(),fy={props:{...Wa(),ignoreFormatters:my},setup(e,t){return{...Ya(e,t)}},data(){return{isExpanded:!1}},methods:{toggleExpand(){this.isExpanded=!this.isExpanded}}};function hy(e,t,a,i,n,s){const o=x("ue-recursive-stuff");return d(),g(ce,{onClick:s.toggleExpand,color:"#EBEFF280",variant:"flat",rounded:"l",class:"mr-0 pr-0"},{default:u(()=>[f(ue,{class:"d-flex align-center pr-0 mr-0 ga-0"},{default:u(()=>[f(ee,{cols:"11"},{default:u(()=>[e.headersWithKeys[e.iteratorOptions.headerKey].formatter.length?(d(),g(o,P({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.headerKey].formatter,e.item[e.iteratorOptions.headerKey]),{key:e.key}),null,16)):(d(),g($t,{key:0,class:"value"},{default:u(()=>[D(E(e.item[e.iteratorOptions.headerKey]),1)]),_:1}))]),_:1}),f(Se),f(le,{icon:"mdi-menu-down",class:"pr-3"})]),_:1}),(d(),g(Yt,{key:e.item.id},{default:u(()=>[n.isExpanded?(d(),g(ce,{key:0},{default:u(()=>[e.headersWithKeys[e.iteratorOptions.expandedKey].formatter.length?(d(),g(o,P({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.expandedKey].formatter,e.item[e.iteratorOptions.expandedKey]),{key:e.key}),null,16)):(d(),g($t,{key:0,class:"value"},{default:u(()=>[D(E(e.item[e.iteratorOptions.expandedKey]),1)]),_:1}))]),_:1})):k("",!0)]),_:1}))]),_:1},8,["onClick"])}const py=Z(fy,[["render",hy]]),gy=Object.freeze(Object.defineProperty({__proto__:null,default:py},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:yy}=Aa(),_y={emits:Ni,props:{...Wa(),ignoreFormatters:yy},setup(e,t){return{...Ya(e,t)}}},by={class:"text-h6"},vy={key:0},Ay={key:1},Ey={key:2},wy={class:"d-flex justify-end"};function Sy(e,t,a,i,n,s){const o=x("ue-recursive-stuff");return d(),g(Ve,{border:""},{default:u(()=>[f(ut,{gradient:"to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, .1), rgba(0, 0, 0, .15)",src:e.headersWithKeys[e.iteratorOptions.imgSrc]??"https://ih1.redbubble.net/image.4905811447.8675/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",height:"150"},null,8,["src"]),f(he,{title:e.item.name,density:"comfortable",lines:"one"},{title:u(()=>[b("strong",by,E(e.item.name),1)]),_:1},8,["title"]),f(Ut,{class:"data-iterator-table",density:"compact"},{default:u(()=>[b("tbody",null,[(d(!0),y(F,null,B(e.headersWithKeys,(l,m)=>{var c,r;return d(),y("tr",null,[b("th",null,E(l.title),1),l.key!=="actions"&&!((c=l.formatter)!=null&&c.length)?(d(),y("td",vy,E(e.item[l.key]),1)):l.key!=="actions"&&((r=l.formatter)!=null&&r.length)?(d(),y("td",Ay,[(d(),g(o,P({ref_for:!0},e.handleFormatter(l.formatter,e.item[l.key]),{key:l.key}),null,16))])):l.key==="actions"&&!l.formatter.length?(d(),y("td",Ey,[b("div",wy,[(d(!0),y(F,null,B(e.rowActions.filter(h=>e.itemHasAction(e.item,h)),(h,_)=>(d(),g(le,{ripple:!0,density:"compact",size:"medium",key:_,onClick:p=>e.itemAction(e.item,h),small:"",icon:h.icon??`$${h.name}`},null,8,["onClick","icon"]))),128))])])):k("",!0)])}),256))])]),_:1})]),_:1})}const ky=Z(_y,[["render",Sy]]),Cy=Object.freeze(Object.defineProperty({__proto__:null,default:ky},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:Ty}=Aa(),My={emits:Ni,props:{...Wa(),ignoreFormatters:Ty},setup(e,t){return{...Ya(e,t)}}},Iy={class:"d-flex"},Dy={class:"header"},Oy={key:0,class:"value"},Vy={class:"d-flex"},Fy={class:"header"},Py={key:0,class:"value"},$y={key:0,class:"featured"},Ry={key:1};function Ly(e,t,a,i,n,s){const o=x("ue-recursive-stuff");return d(),y(F,null,[f(ce,{class:"data-iterable-rich-row",variant:"flat",elevation:"0"},{default:u(()=>[f(ue,null,{default:u(()=>[f(ee,null,{default:u(()=>[f(xe,null,{default:u(()=>[D(E(e.item[e.iteratorOptions.headerKey]),1)]),_:1})]),_:1}),f(ee,{cols:"2"},{default:u(()=>[f(ue,null,{default:u(()=>[f(ee,{class:"action-area"},{default:u(()=>[(d(!0),y(F,null,B(e.rowActions.filter(l=>e.itemHasAction(e.item,l)),(l,m)=>(d(),g(q,{ripple:!0,density:"compact",size:"small",key:m,onClick:c=>e.itemAction(e.item,l)},{default:u(()=>[f(le,{small:"",icon:l.icon??`$${l.name}`},null,8,["icon"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),f(fl,null,{default:u(()=>[f(ue,null,{default:u(()=>[f(ee,{cols:"3",class:"first-column"},{default:u(()=>[(d(!0),y(F,null,B(e.iteratorOptions.firstColumn,(l,m)=>(d(),y("div",Iy,[b("p",Dy,E(e.headersWithKeys[l].title),1),e.headersWithKeys[l].formatter.length?(d(),g(o,P({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[l].formatter,e.item[l]),{key:l}),null,16)):(d(),y("p",Oy,E(e.item[l]),1))]))),256))]),_:1}),f(ee,{cols:"3"},{default:u(()=>[(d(!0),y(F,null,B(e.iteratorOptions.secondColumn,(l,m)=>{var c,r;return d(),y("div",Vy,[b("p",Fy,E(((c=e.headersWithKeys[l])==null?void 0:c.title)??l),1),(r=e.headersWithKeys[l])!=null&&r.formatter.length?(d(),g(o,P({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[l].formatter,e.item[l]),{key:l}),null,16)):(d(),y("p",Py,E(e.item[l]??""),1))])}),256))]),_:1}),f(ee,{cols:"3",class:"featured"},{default:u(()=>{var l;return[(l=e.headersWithKeys[e.iteratorOptions.featured])!=null&&l.formatter.length?(d(),g(o,P({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.featured].formatter,e.item[e.iteratorOptions.featured]),{key:e.item[e.iteratorOptions.featured].key}),null,16)):(d(),y("p",$y,E(e.item[e.iteratorOptions.featured]),1))]}),_:1}),f(ee,{cols:"3",class:"last-column"},{default:u(()=>[e.headersWithKeys.published.formatter.length?(d(),g(o,P({key:0},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.lastColumn].formatter,e.item[e.iteratorOptions.lastColumn]),{key:e.item[e.iteratorOptions.lastColumn].key}),null,16)):(d(),y("p",Ry,E(e.item[e.iteratorOptions.lastColumn]),1)),f(q,{variant:"outlined",ripple:!0},{default:u(()=>[D("Report")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(fe)],64)}const Uy=Z(My,[["render",Ly]]),Ny=Object.freeze(Object.defineProperty({__proto__:null,default:Uy},Symbol.toStringTag,{value:"Module"})),By={name:"Footer",props:{items:{type:Array,required:!0},show:{type:Boolean,default:!0}},data:function(){return{links:this.items,display:this.show}},created(){console.log("created Footer",this.show)}},xy=b("strong",null,"Vuetify",-1);function jy(e,t,a,i,n,s){return ve((d(),g(hl,{dark:"",padless:""},{default:u(()=>[f(ce,{flat:"",tile:"",class:"indigo lighten-1 white--text text-center"},{default:u(()=>[f(Ae,null,{default:u(()=>[(d(!0),y(F,null,B(e.links,(o,l)=>(d(),g(q,{key:l,class:"mx-4 white--text",href:o.url,icon:""},{default:u(()=>[f(le,{size:"24px"},{default:u(()=>[D(E(o.icon),1)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),f(Ae,{class:"white--text pt-0"},{default:u(()=>[D(" Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. ")]),_:1}),f(fe),f(Ae,{class:"white--text"},{default:u(()=>[D(E(new Date().getFullYear())+" — ",1),xy]),_:1})]),_:1})]),_:1},512)),[[Tt,e.display]])}const zy=Z(By,[["render",jy]]),Ky=Object.freeze(Object.defineProperty({__proto__:null,default:zy},Symbol.toStringTag,{value:"Module"})),qy={provide(){return{activeMenu:U(()=>this.activeMenu)}},setup(){return{...Uc()}},props:{items:{type:Array,required:!0},rating:{type:Number,default:0}},data(){return{dialog:!1,logo:"@/sass/themes/template/main-logo.svg",profileMenuOpen:!1}},methods:{profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(t=>{this.$store.commit(za.SET_PROFILE_DATA,t.data)})}}},Hy={key:1,class:"mx-3 text-subtitle-2"},Gy={class:"flex-grow-1"},Wy={class:"flex-grow-0 ml-1 font-weight-bold"},Yy={class:"flex-grow-1"},Zy={class:"flex-grow-0 ml-1 font-weight-bold"},Qy={class:"d-flex align-center position-relatie",style:{}};function Xy(e,t,a,i,n,s){const o=x("ue-svg-icon"),l=x("ue-navigation-group"),m=x("ue-logout-modal");return d(),y(F,null,[f(Ta,{ref:"navigationDrawer",id:"navigation-drawer",modelValue:e.status,"onUpdate:modelValue":t[3]||(t[3]=c=>e.status=c),rail:e.rail,"expand-on-hover":e.isHoverable,location:e.options.location,railWidth:e.options.railWidth,persistent:e.options.persistent??!1,width:e.width},{append:u(()=>[f(fe),f($e,{class:""},{default:u(()=>[f(he,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:e.$store.getters.userProfile.name,subtitle:e.$store.getters.userProfile.email,class:"ue-sidebar__info-item"},{prepend:u(c=>[f(ct,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])]),append:u(()=>[f(q,{onClick:t[1]||(t[1]=c=>n.profileMenuOpen=!n.profileMenuOpen),icon:n.profileMenuOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text"},null,8,["icon"])]),_:1},8,["title","subtitle"]),f(Yt,null,{default:u(()=>[n.profileMenuOpen?(d(),g(l,{key:0,items:e.profileMenu,profileMenu:!0,onActivateMenu:t[2]||(t[2]=c=>e.handleMenu(c))},null,8,["items"])):k("",!0)]),_:1}),f(m,{csrf:e.$csrf()},{activator:u(({props:c})=>[f(Ue,{text:"Logout",location:"top",disabled:!(e.rail&&!e.isHoverable)},{activator:u(r=>[b("div",te(ne(r.props)),[f(he,P({"prepend-icon":"mdi-logout"},c),{default:u(()=>[D(E(e.$t("authentication.logout")),1)]),_:2},1040)],16)]),_:2},1032,["disabled"])]),_:1},8,["csrf"]),e.$store.getters.versions&&!e.$store.getters.isClient&&!e.$store.getters.isSuperAdmin?(d(),g(Ht,{key:0,ref:"aboutDialog","max-width":"500"},{activator:u(({props:c})=>[f(he,P({"prepend-icon":"mdi-information"},c),{default:u(()=>[D(E(e.$t("About")),1)]),_:2},1040)]),default:u(({isActive:c})=>[f(ce,{title:e.$t("About")},{default:u(()=>[f(Ae,null,{default:u(()=>[(d(!0),y(F,null,B(e.$store.getters.versions,(r,h)=>(d(),y("div",{key:h,class:"d-flex align-center my-1"},[D(E(e.$headline(h))+": ",1),f(Re,{variant:"outlined",color:"primary",class:"ml-2"},{default:u(()=>[D(E(r),1)]),_:2},1024)]))),128)),e.$store.getters.isSuperAdmin?(d(),y(F,{key:0},B(["appName","appEnv","appDebug"],r=>b("div",{key:r,class:"d-flex align-center my-1"},[D(E(r==="appDebug"?"Debug Mode":e.$headline(r))+": ",1),f(Re,{variant:"outlined",color:r==="appDebug"?e.$store.getters[r]?"success":"error":"primary",class:"ml-2"},{default:u(()=>[D(E(r==="appDebug"?e.$store.getters[r]?"Active":"Inactive":e.$store.getters[r]),1)]),_:2},1032,["color"])])),64)):k("",!0)]),_:1}),f(fe),f(Be,null,{default:u(()=>[f(Se),f(q,{variant:"outlined",text:e.$t("Close"),onClick:r=>c.value=!1},null,8,["text","onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:1},512)):k("",!0),z(e.$slots,"bottom")]),_:3})]),default:u(()=>[f($e,{class:"ue-sidebar__info"},{default:u(()=>[e.$store.getters.isSuperAdmin?(d(),y("div",Hy,[(d(!0),y(F,null,B(e.$store.getters.versions,(c,r)=>(d(),y("div",{key:r,class:"d-flex align-center my-1"},[b("div",Gy,E(e.$headline(r))+":",1),b("div",Wy,E(c),1)]))),128)),e.$store.getters.isSuperAdmin?(d(),y(F,{key:0},B(["appName","appEnv","appDebug"],c=>b("div",{key:c,class:"d-flex align-center my-1"},[b("div",Yy,E(c==="appDebug"?"Debug Mode":e.$headline(c))+":",1),b("div",Zy,E(c==="appDebug"?e.$store.getters[c]?"Active":"Inactive":e.$store.getters[c]),1)])),64)):k("",!0)])):(d(),g(he,{key:0,"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",subtitle:e.$store.getters.appEmail,title:e.$store.getters.appName,class:"ue-sidebar__info-item"},{prepend:u(()=>[f(ct,{class:"ue-sidebar__avatar",color:"primary"},{default:u(()=>[f(o,{class:"ue-sidebar__logo",symbol:"main-logo-dark"})]),_:1})]),_:1},8,["subtitle","title"]))]),_:1}),b("div",Qy,[f(fe,{class:"flex-grow-1"}),!e.hasRail&&e.$vuetify.display.lgAndUp?(d(),g(q,{key:0,icon:"",color:"orange",onClick:t[0]||(t[0]=c=>e.railManual=!e.railManual),class:"sidebar-toggle-btn",size:"small",style:{position:"absolute",right:"-20px","z-index":"9999"}},{default:u(()=>[f(le,null,{default:u(()=>[D(E(e.rail?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1})):k("",!0)]),f(l,{items:a.items,hideIcons:e.hideIcons,showTooltip:e.rail&&!e.isHoverable,class:"ue-sidebar__menu"},null,8,["items","hideIcons","showTooltip"])]),_:3},8,["modelValue","rail","expand-on-hover","location","railWidth","persistent","width"]),e.options.contentDrawer.exists?(d(),g(Ta,{key:0,width:e.width,location:e.options.location,style:{"max-width":"15%"}},null,8,["width","location"])):k("",!0),e.secondaryOptions.exists?(d(),g(Ta,{key:1,location:e.secondaryOptions.location,width:e.width},null,8,["location","width"])):k("",!0)],64)}const Qi=Z(qy,[["render",Xy]]),Jy=Object.freeze(Object.defineProperty({__proto__:null,default:Qi},Symbol.toStringTag,{value:"Module"})),e_={name:"Home",data(){return{sidebarItems:[{icon:"fas fa-plus"},{icon:"fas fa-th-large"},{icon:"fas fa-align-center"},{icon:"fas fa-gitter"},{icon:"fas fa-chart-line"}]}},components:{Sidebar:Qi}};function t_(e,t,a,i,n,s){const o=x("Sidebar");return d(),g(La,{id:"inspire",style:me({background:e.$vuetify.theme.themes.dark.background})},{default:u(()=>[f(o,{items:n.sidebarItems},null,8,["items"])]),_:1},8,["style"])}const a_=Z(e_,[["render",t_]]),s_=Object.freeze(Object.defineProperty({__proto__:null,default:a_},Symbol.toStringTag,{value:"Module"})),i_={props:{navigation:{type:Object,default(){return{sidebar:[{icon:"$package",text:"Packages",action:"",is_active:!1},{icon:"$creditCards",text:"Payments",action:"",is_active:!1},{icon:"$product",text:"Customers",action:"",is_active:!1},{icon:"$users",text:"Users",is_active:!0,items:[{icon:"$users",text:"Show Users",action:"",is_active:!1},{icon:"$userAdd",text:"Add User",action:"",is_active:!1},{icon:"$role",text:"Roles",is_active:!0,items:[{icon:"$permission",text:"Add Permission",action:"",is_active:!0}]}]},{icon:"$check",text:"Settings",action:"",is_active:!1},{icon:"fas fa-plus",text:"Others",action:"",is_active:!1}]}}},impersonation:{type:Object,default(){return{}}},authorization:{type:Object,default(){return{}}}},data(){return{loader:null,loading:!1,langs:["tr","en"],footerDisplay:!1,sidebarItem:[{icon:"$package",text:"Packages",action:""},{icon:"$creditCards",text:"Payments",action:""},{icon:"$product",text:"Customers",action:""},{icon:"$users",text:"Users",items:[{icon:"$users",text:"Show Users",action:""},{icon:"$userAdd",text:"Add User",action:""}]},{icon:"$check",text:"Settings",action:""},{icon:"fas fa-plus",text:"Others",action:""}],sidebarItems:this.navigation.sidebar,breadcrumbs:this.navigation.breadcrumbs??[],footerLinks:[{icon:"mdi-facebook",url:"facebook.com"},{icon:"mdi-twitter",url:"twitter.com"},{icon:"mdi-linkedin",url:"linkedin.com"},{icon:"mdi-instagram",url:"instagram.com"}],showMediaLibrary:!1,showDeleteWarning:!1,showImpersonateToolbar:!1}},computed:{alertDialog:{get(){return this.$store.state.alert.dialog},set(e){this.$store.commit(pe.SET_DIALOG_SHOW,e)}},alertDialogMessage(){return __log("alertDialogMessage computed",this.$store.state.alert),this.$store.state.alert.dialogMessage}},created(){this.$vuetify.display.mdAndDown&&this.$store.commit(qe.SET_SIDEBAR,!1)},mounted(){},methods:{addSidebarItem:function(e){this.$refs.sidebar.addItem({icon:"fa-regular fa-circle-question",text:"New"})},submit(){alert("Submit Form")},closeAlertDialog(){this.$store.commit(pe.CLEAR_DIALOG)},profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(t=>{this.$store.commit(za.SET_PROFILE_DATA,t.data)})}}},n_={class:"d-flex justify-end mr-4"},l_={class:"d-flex align-center"};const r_={class:"modal--tiny-title"},o_=["innerHTML"],d_={class:"d-flex align-center"},u_={class:"d-flex"},c_={class:"my-3 flex-grow-0"},m_=["innerHTML"];function f_(e,t,a,i,n,s){const o=x("ue-impersonate-toolbar"),l=x("ue-sidebar"),m=x("ue-modal-media"),c=x("ue-modal"),r=x("ue-title"),h=x("ue-form"),_=x("ue-alert"),p=x("v-btn-cta");return d(),g(La,{id:"inspire"},{default:u(()=>[z(e.$slots,"top"),e.$store.getters.isHot?(d(),g(Re,{key:0,color:"green",class:"position-absolute",style:{top:"4px",right:"0","z-index":"10000"},onClick:t[0]||(t[0]=A=>e.$store.state.ambient.isHot=!1)},{default:u(()=>[D(" Development Mode ")]),_:1})):k("",!0),e.$vuetify.display.mdAndDown?(d(),g(pl,{key:1,app:""},{default:u(()=>[e.$vuetify.display.lgAndUp?k("",!0):(d(),g(gl,{key:0,icon:e.$store.getters.sidebarStatus?"$close":"$menu",onClick:t[1]||(t[1]=A=>e.$toggleSidebar())},null,8,["icon"])),f(ba,null,{default:u(()=>[D("CRM")]),_:1}),k("",!0),f(Se),b("div",n_,[b("div",l_,[f(ct,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])])]),k("",!0)]),_:1})):k("",!0),f(l,{items:n.sidebarItems,ref:"sidebar"},{bottom:u(()=>[a.impersonation.active?(d(),g(o,P({key:0,modelValue:n.showImpersonateToolbar,"onUpdate:modelValue":t[3]||(t[3]=A=>n.showImpersonateToolbar=A)},a.impersonation),null,16,["modelValue"])):k("",!0)]),_:1},8,["items"]),f(oi,null,{default:u(()=>[z(e.$slots,"main-top"),k("",!0),z(e.$slots,"default"),a.authorization&&!e.$lodash.isEmpty(a.authorization)&&!a.authorization.isClient?(d(),g(m,{key:1,modelValue:n.showMediaLibrary,"onUpdate:modelValue":t[4]||(t[4]=A=>n.showMediaLibrary=A),ref:"mediaLibrary"},null,8,["modelValue"])):k("",!0),f(c,{ref:"deleteWarningMediaModal",modelValue:n.showDeleteWarning,"onUpdate:modelValue":t[5]||(t[5]=A=>n.showDeleteWarning=A),transition:"dialog-bottom-transition","width-type":"sm","confirm-text":e.$t("media-library.dialogs.delete.delete-media-confirm"),"cancel-text":"Cancel"},{"body.description":u(()=>[b("p",r_,[b("strong",null,E(e.$t("media-library.dialogs.delete.delete-media-title")),1)]),b("p",{innerHTML:e.$t("media-library.dialogs.delete.delete-media-desc")},null,8,o_)]),_:1},8,["modelValue","confirm-text"]),f(c,{ref:"profileDialog",modelValue:e.$store.state.user.profileDialog,"onUpdate:modelValue":t[7]||(t[7]=A=>e.$store.state.user.profileDialog=A),Xwidth:"500",scrollable:""},{body:u(({isActive:A,toggleFullscreen:M,close:S,isFullActive:v})=>[f(ce,null,{default:u(()=>[f(xe,null,{default:u(()=>[f(r,{padding:"y-3",text:e.$t("Upload Profile Image"),color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{right:u(()=>[b("div",d_,[f(le,{icon:v?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"default",onClick:C=>M()},null,8,["icon","onClick"]),f(le,{icon:"$close",variant:"plain",color:"grey-darken-5",size:"default",onClick:C=>S()},null,8,["onClick"])])]),_:2},1032,["text"]),f(fe)]),_:2},1024),f(Ae,{Xstyle:"height: 30vh;"},{default:u(()=>[b("div",u_,[b("div",c_,[f(ct,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"100"},null,8,["image"])]),f(h,{class:"flex-grow-1 pl-6",schema:e.$store.state.user.profileShortcutSchema,modelValue:e.$store.state.user.profileShortcutModel,"onUpdate:modelValue":t[6]||(t[6]=C=>e.$store.state.user.profileShortcutModel=C),"action-url":e.$store.state.user.profileRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"","is-editing":"",buttonText:"fields.save",onSubmitted:s.profileFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),f(_,{ref:"alert"},null,512),f(c,{ref:"dialog",modelValue:s.alertDialog,"onUpdate:modelValue":t[8]||(t[8]=A=>s.alertDialog=A),scrollable:"",transition:"dialog-bottom-transition","width-type":"lg",persistent:""},{body:u(A=>[f(ce,null,{default:u(()=>[f(Ae,{class:"text-center",style:{"word-break":"break-word"}},{default:u(()=>[b("div",{innerHTML:s.alertDialogMessage},null,8,m_)]),_:1}),f(fe),f(Be,{class:"justify-center"},{default:u(()=>[f(p,{onClick:s.closeAlertDialog},{default:u(()=>[D(E(e.$t("fields.close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3})]),_:3})}const h_=Z(i_,[["render",f_]]),p_=Object.freeze(Object.defineProperty({__proto__:null,default:h_},Symbol.toStringTag,{value:"Module"})),g_={props:{avatarSize:{type:Number,default:50},message:{type:Object,required:!0},reverse:{type:Boolean,default:!1}},methods:{formatDate(e){let t=window.$moment().fromNow();if(e.created_at){let a=new Date(e.created_at);Date.now()-a.getTime()<48*60*60*1e3?t=window.$moment(a).fromNow():t=this.$d(new Date(e.created_at),"numeric-full")}return t}}},y_=["stylex"],__={key:0,class:"mt-2 pa-1 rounded",style:{}};function b_(e,t,a,i,n,s){const o=x("ue-title"),l=x("ue-filepond-preview");return d(),y("div",{class:W(["d-flex mb-4 w-100",a.reverse?"flex-row-reverse":"flex-row"])},[b("div",{style:{"max-width":"60%","min-width":"20%"},class:W(["d-flex bg-grey-lighten-6 elevation-2 px-4 py-3 rounded",a.reverse?"flex-row-reverse":"flex-row"])},[f(Ue,{text:s.formatDate(a.message),location:"top"},{activator:u(({props:m})=>[f(ct,P({size:a.avatarSize,class:[a.reverse?"ml-3":"mr-3"],image:a.message.user_profile.avatar_url},m),null,16,["size","class","image"])]),_:1},8,["text"]),b("div",{stylex:{width:`calc(50% - ${a.avatarSize}px)`},class:"w-100"},[b("div",{class:W(["text-grey text-caption w-100 d-flex justify-space-between",a.reverse?"flex-row-reverse":"flex-row"])},[b("div",null,E(a.message.user_profile.name),1)],2),b("div",{class:W(["d-flex",a.reverse?"flex-row-reverse":"flex-row"])},E(a.message.content),3),a.message.attachments.length>0?(d(),y("div",__,[f(o,{text:e.$t("Attachments"),padding:"b-2",type:"caption",color:"none"},null,8,["text"]),f(l,{source:a.message.attachments,"image-size":"24","show-file-name":"","no-overlay":"","show-datex":""},null,8,["source"])])):k("",!0)],8,y_)],2)],2)}const v_=Z(g_,[["render",b_]]),A_={name:"v-input-chat",emits:[...Ie],components:{ChatMessage:v_},props:{...Ce(),color:{type:String},disabled:{type:Boolean,default:!1},height:{type:String,default:"50vh"},background:{type:String},elevation:{type:Number,default:2},density:{type:String,default:"comfortable"},variant:{type:String,default:"plain"},endpoints:{type:Object,default:()=>({})},perPage:{type:Number,default:-1},initialPage:{type:Number,default:1},filepond:{type:Object,default:null},noSendAction:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},dialogHeight:{type:String,default:"80vh"},bodyHeight:{type:String,default:null},loadMoreText:{type:String,default:null},refreshTime:{type:Number,default:1e4},inputVariant:{type:String,default:"outlined"}},setup(e,t){const{invokeRule:a}=tt();return{...De(e,t),invokeRule:a}},data:function(){return{message:"",messages:[],loading:!0,page:this.initialPage,lastPage:1,dialogOpen:!1,attachments:[],uploadedAttachments:[],uploadedAttachmentsDialog:!1,refreshInterval:null}},computed:{currentUser(){return this.$store.getters.userProfile},formattedMessages(){return this.formatMessages(this.messages)},noRemainingItems(){return!this.loading&&this.perPage>-1&&this.page===this.lastPage},showLoadMoreButton(){return!this.noRemainingItems&&this.perPage>-1},isInfiniteScrollable(){return this.perPage>-1},sendButtonIcon(){return this.loading||!this.message?"mdi-send-lock":this.message?"mdi-send-check":"mdi-send"}},watch:{},methods:{scrollEndInfiniteScroll(){this.$nextTick(()=>{const e=this.$refs.infiniteScroll.$el;e.scrollTop=e.scrollHeight})},formatMessage(e){return e={user_profile:this.$lodash.cloneDeep(this.currentUser),attachments:[],reverse:!1,loading:!1,...e},e.user_profile.id===this.currentUser.id&&(e.reverse=!0,e.user_profile.name=this.$t("You")),e},formatMessages(e){return e.sort((t,a)=>new Date(t.created_at)-new Date(a.created_at)).map(t=>this.formatMessage(t))},loadMessages(e){const t=this.endpoints.index.replace(":id",this.input);let a={};this.perPage!==-1&&(a.page=this.page,a.perPage=this.perPage),this.loading=!0,axios.get(t,{params:a}).then(i=>{if(this.perPage>-1){const n=i.data.total;this.lastPage=i.data.last_page,this.page=i.data.current_page,this.messages=[...i.data.data,...this.messages],n!==0?e&&(this.page===this.lastPage?e("empty"):e("ok")):e&&e("empty")}else __log(i.data),this.messages=this.formatMessages(i.data),e("empty")}).finally(()=>{this.loading=!1,(!this.isInfiniteScrollable||this.page===1)&&this.scrollEndInfiniteScroll()})},loadMoreMessages({done:e}){this.page++,this.loadMessages(e)},addMessage(e){return this.messages.push(e)-1},findMessageByTempId(e){return this.messages.findIndex(t=>t.tempId===e)},updateMessageByTempId(e,t){const a=this.findMessageByTempId(e);a!==-1&&(this.messages[a]={...this.messages[a],...t})},sendMessage(){const e=this.endpoints.store.replace(":id",this.input),t={loading:!0,content:this.message,tempId:Date.now()};let a=t.tempId;this.addMessage(t),this.loading=!0,axios.post(e,{content:this.message,attachments:this.attachments}).then(i=>{if(i.status===200){let n=i.data;n.loading=!1,this.updateMessageByTempId(a,n),this.message="",this.attachments=[]}}).finally(()=>{this.loading=!1,this.scrollEndInfiniteScroll()})},getAttachments(){const e=this.endpoints.attachments.replace(":id",this.input);axios.get(e).then(t=>{this.uploadedAttachments=t.data})},refreshMessages(){const e=this.endpoints.index.replace(":id",this.input);let t=new Date().toISOString();if(this.messages.length){let a=this.messages.filter(i=>!!i.created_at).sort((i,n)=>new Date(n.created_at)-new Date(i.created_at))[0];a&&a.created_at&&(t=a.created_at)}axios.get(e,{params:{from:t,user_id:this.currentUser.id}}).then(a=>{a.status===200&&a.data.length>0&&(this.messages=[...this.messages,...a.data],this.getAttachments())})}},created(){},mounted(){this.input&&this.input>-1&&(this.loadMessages(),this.getAttachments(),this.refreshInterval=setInterval(()=>{this.refreshMessages()},this.refreshTime))},beforeUnmount(){clearInterval(this.refreshInterval),this.refreshInterval=null,this.input&&this.input>-1}},E_={class:"w-100 d-flex justify-end"},w_={class:"d-flex w-100 justify-end"},S_={class:"flex-grow-0"};function k_(e,t,a,i,n,s){const o=x("v-input-chat"),l=x("ue-title"),m=x("ue-filepond-preview"),c=x("ChatMessage"),r=x("v-input-filepond");return d(),g(Ke,{modelValue:e.input,"onUpdate:modelValue":t[8]||(t[8]=h=>e.input=h),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-chat"},{default:u(h=>[f(ce,{class:W(["w-100",[!a.noBackground&&a.background?`bg-${a.background}`:"",a.disabled?"bg-grey-lighten-4":""]]),variant:a.variant,elevation:a.elevation,color:a.color,heightx:a.height,disabled:a.disabled},{default:u(()=>[f(xe,{class:"d-flex w-100 py-4"},{default:u(()=>[f(l,{text:e.label,align:"center",padding:"a-0",transform:"none",class:"w-100"},{rightX:u(()=>[b("div",E_,[z(e.$slots,"actions",{},()=>[a.perPage!==-1?(d(),g(Ht,{key:0,width:"70%",height:a.dialogHeight,modelValue:e.dialogOpen,"onUpdate:modelValue":t[1]||(t[1]=_=>e.dialogOpen=_)},{activator:u(({props:_})=>[f(q,P({variant:"elevated",density:"comfortable"},_,{class:"mr-2"}),{default:u(()=>[D(E(e.$t("Show All")),1)]),_:2},1040)]),default:u(()=>[f(ce,{class:W([`bg-${a.background}`]),height:"70vh"},{text:u(()=>[f(o,{label:e.$t("All Messages"),background:a.background,modelValue:e.input,endpoints:a.endpoints,perPage:10,density:a.density,noSendAction:!1,elevation:0,"body-height":`calc(${a.dialogHeight} * 0.60)`,height:`calc(${a.dialogHeight} * 0.80)`},{actions:u(()=>[f(q,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:t[0]||(t[0]=_=>e.dialogOpen=!1)})]),_:1},8,["label","background","modelValue","endpoints","density","body-height","height"])]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):k("",!0),e.uploadedAttachments.length>0?(d(),g(Ht,{key:1,width:"70%",height:a.dialogHeight,modelValue:e.uploadedAttachmentsDialog,"onUpdate:modelValue":t[3]||(t[3]=_=>e.uploadedAttachmentsDialog=_)},{activator:u(({props:_})=>[f(q,P({variant:"outlined",density:"comfortable"},_,{class:"mr-2"}),{default:u(()=>[D(E(e.$t("Show All Attachments")),1)]),_:2},1040)]),default:u(()=>[f(ce,{class:W([`bg-${a.background}`]),height:"70vh"},{default:u(()=>[f(l,{text:e.$t("Attachments"),align:"center",transform:"none",padding:"x-4",class:"w-100 pt-2",color:"grey-darken-5"},{right:u(()=>[b("div",w_,[f(q,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:t[2]||(t[2]=_=>e.uploadedAttachmentsDialog=!1)})])]),_:1},8,["text"]),f(fe,{class:"mx-4"}),f(Ae,null,{default:u(()=>[f(as,{height:`calc(${a.dialogHeight} * 0.75)`},{loading:u(()=>[]),default:u(()=>[(d(!0),y(F,null,B(e.uploadedAttachments,_=>(d(),g(m,{class:"my-2",source:_,"image-size":"24","show-file-name":"","max-file-name-length":"70","no-overlay":"","show-date":""},null,8,["source"]))),256))]),_:1},8,["height"])]),_:1})]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):k("",!0),f(q,{variant:"elevated",density:"comfortable",onClick:s.sendMessage},{default:u(()=>[D(E(e.$t("Confirm")),1)]),_:1},8,["onClick"])])])]),_:3},8,["text"])]),_:3}),f(Ae,{class:""},{default:u(()=>[f(as,{ref:"infiniteScroll",height:a.bodyHeight?`calc(${a.bodyHeight})`:`calc(${a.height}*0.65)`,mode:"manual",side:"start",onLoad:s.loadMoreMessages,"load-more-text":a.loadMoreText?a.loadMoreText:e.$t("Load More Messages")},{"load-more":u(({props:_})=>[s.showLoadMoreButton?(d(),g(q,P({key:0,variant:"outlined"},_),{default:u(()=>[D(E(a.loadMoreText?a.loadMoreText:e.$t("Load More Messages")),1)]),_:2},1040)):k("",!0)]),empty:u(({props:_})=>[]),default:u(()=>[(d(!0),y(F,null,B(s.formattedMessages,(_,p)=>(d(),y("div",{key:p,class:"v-input-chat__messages"},[z(e.$slots,"message",{message:_,index:p},()=>[f(c,{class:W(["v-input-chat__message",_.loading?"v-input-chat__message--loading":""]),message:_,reverse:_.reverse,reversex:p%2===0},null,8,["class","message","reverse","reversex"])])]))),128))]),_:3},8,["height","onLoad","load-more-text"])]),_:3}),a.noSendAction?k("",!0):(d(),g(Be,{key:0,class:"pa-4"},{default:u(()=>[z(e.$slots,"sending",{},()=>[f(ja,{modelValue:e.message,"onUpdate:modelValue":t[7]||(t[7]=_=>e.message=_),variant:a.inputVariant,disabled:e.loading,"hide-details":"",placeholder:"Type your answer here...",density:"compact","onClick:append":s.sendMessage,onKeyup:Pt(s.sendMessage,["enter"]),rows:1},{prepend:u(()=>[b("div",S_,[f(ct,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"40"},null,8,["image"])]),a.filepond?(d(),g(r,P({key:0,ref:"inputFilepond",class:"d-non"},i.invokeRule(e.$lodash.omit(a.filepond,["type"])),{modelValue:e.attachments,"onUpdate:modelValue":t[4]||(t[4]=_=>e.attachments=_),xmodelValue:e.attachments,"onXupdate:modelValue":t[5]||(t[5]=_=>e.$log("update:modelValue",_))}),{activator:u(_=>[]),_:1},16,["modelValue","xmodelValue"])):k("",!0)]),appendx:u(()=>[]),"append-inner":u(()=>[f(m,{source:e.attachments,"image-size":"24"},null,8,["source"]),(d(!0),y(F,null,B(e.attachments,_=>(d(),y(F,null,[],64))),256)),f(q,{color:a.color,size:"default",icon:"mdi-paperclip",density:"compact",onClick:t[6]||(t[6]=_=>e.$refs.inputFilepond.browse())},null,8,["color"]),f(q,{variant:"elevated",density:"compact",icon:s.sendButtonIcon,size:"small",disabled:e.loading||!e.message,onClick:s.sendMessage},null,8,["icon","disabled","onClick"])]),_:1},8,["modelValue","variant","disabled","onClick:append","onKeyup"])])]),_:3}))]),_:3},8,["variant","elevation","class","color","heightx","disabled"])]),_:3},8,["modelValue","variant"])}const C_=Z(A_,[["render",k_]]),T_=Object.freeze(Object.defineProperty({__proto__:null,default:C_},Symbol.toStringTag,{value:"Module"})),M_={name:"v-input-checkbox-card",emits:[...Ie],props:{...Ce(),title:{type:String,required:!0},description:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},value:{type:[Number,String],default:null},checkboxColor:{type:String,default:"primary"},stats:{type:Array,default:null,validator:e=>e===null||e.every(t=>"label"in t&&"value"in t&&(!("color"in t)||typeof t.color=="string"))},checkboxOnRight:{type:Boolean,default:!1}},setup(e,t){return{...De(e,t)}},data(){return{input_:!1}},methods:{toggleSelection(){!this.disabled&&!this.readonly&&(this.input.includes(this.value)?this.input=this.input.filter(e=>e!==this.value):this.input=[...this.input,this.value])}}};function I_(e,t,a,i,n,s){return d(),g(Ke,{modelValue:e.input[a.value],"onUpdate:modelValue":t[2]||(t[2]=o=>e.input[a.value]=o),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-checkbox-card"},{default:u(o=>[f(ce,{class:W(["v-input-checkbox-card__item",e.input.includes(a.value)?"v-input-checkbox-card__item--selected":"",a.disabled?"v-input-checkbox-card__item--disabled":""]),variant:e.input.includes(a.value)?"elevated":"outlined",onClick:s.toggleSelection,disabled:a.disabled},{default:u(()=>[f($t,null,{prepend:u(()=>[a.checkboxOnRight?k("",!0):(d(),g(ot,{key:0,modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=l=>e.input=l),value:a.value,disabled:a.disabled,color:a.checkboxColor,"hide-details":"",readonly:a.readonly},null,8,["modelValue","value","disabled","color","readonly"]))]),append:u(()=>[a.checkboxOnRight?(d(),g(ot,{key:0,modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=l=>e.input=l),value:a.value,disabled:a.disabled,color:a.checkboxColor,"hide-details":"",readonly:a.readonly},null,8,["modelValue","value","disabled","color","readonly"])):k("",!0)]),default:u(()=>[f(xe,{class:W(["v-input-checkbox-card__title",e.input[a.value]?"v-input-checkbox-card__title--selected":""])},{default:u(()=>[D(E(a.title),1)]),_:1},8,["class"])]),_:1}),f(Ae,null,{default:u(()=>[D(" Lorem ipsum dolor sit amet consteqtequr Lorem ipsum ")]),_:1}),a.stats?(d(),g(Ae,{key:0},{default:u(()=>[f(ue,{"no-gutters":""},{default:u(()=>[(d(!0),y(F,null,B(a.stats,(l,m)=>(d(),g(ee,{key:m,cols:12/a.stats.length,class:"text-center"},{default:u(()=>[b("div",{class:W(["text-h4 font-weight-bold",`text-${l.color||"primary"}`])},E(l.value),3),b("div",{class:W(`text-body-2 text-${l.color||"primary"}`)},E(l.label),3)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})):k("",!0),a.description?(d(),g(Ae,{key:1},{default:u(()=>[D(E(a.description),1)]),_:1})):k("",!0)]),_:1},8,["class","variant","onClick","disabled"])]),_:1},8,["modelValue","variant"])}const D_=Z(M_,[["render",I_]]),O_=Object.freeze(Object.defineProperty({__proto__:null,default:D_},Symbol.toStringTag,{value:"Module"})),V_={name:"v-input-checklist",emits:[...Ie],props:{...Ce(),color:{type:String,default:null},disabled:{type:Boolean,default:!1},subtitle:{type:String,default:null},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},items:{type:Array,default:()=>[]},checkboxColor:{type:String,default:"primary"},isTreeview:{type:Boolean,default:!1},chunkCharacter:{type:String,default:"_"},chunkTitleKey:{type:String,default:"name"},chunkField:{type:String,default:null},labelColor:{type:String,default:"grey-darken-1"},subtitleColor:{type:String,default:"grey-darken-1"},flexColumn:{type:Boolean,default:!0},checkboxHighlighted:{type:Boolean,default:!1},checkboxPosition:{type:String,default:"right"},checkboxCol:{type:Object,default:()=>({cols:3})},noGroupAllSelectable:{type:Boolean,default:!1},hasGroupBottomDivider:{type:Boolean,default:!0},openAllGroups:{type:Boolean,default:!1},closeAllGroups:{type:Boolean,default:!1},rawRules:{type:[String,Array],default:null},max:{type:[Number,String],default:null},mandatory:{type:String,default:null},isCard:{type:Boolean,default:!1},cardStats:{type:Array,default:()=>[]}},setup(e,t){const a=U(()=>{var o;let s=e.max;return window.__isString(s)?s=parseInt(s):!s&&window.__isString(e.rawRules)&&(s=(o=e.rawRules.match(/max:\d+/))==null?void 0:o[0].split(":")[1]),s??999}),i=s=>{if(e.mandatory){let o=e.items.filter(l=>__data_get(l,e.mandatory,!1));if(e.max){let l=parseInt(e.max);o.length>l&&(o=o.slice(0,l))}if(o.length>0){const l=de(s),m=Array.isArray(l)?l:[],c=o.map(h=>h[e.itemValue]),r=c.filter(h=>!m.includes(h));s=[...new Set([...Array.isArray(s)?s:[],...c])],r.length>0&&t.emit("update:modelValue",s)}}return a.value>1&&s.length>a.value&&(s=s.sort((o,l)=>o-l).slice(0,a.value),t.emit("update:modelValue",s)),s},n=X([]);return{...De(e,{...t,initializeInput:i}),openedGroups:Un(n),maxSelectable:a}},methods:{isAllSelected(e){return e.items.map(a=>a.id).every(a=>this.input.includes(a))},isIndeterminateGroup(e){const t=e.items.map(a=>a.id);return!t.every(a=>this.input.includes(a))&&t.some(a=>this.input.includes(a))},updatedParent(e,t){const a=t.items.map(i=>i.id);if(!e)this.input=this.input.filter(function(i){return!a.includes(i)});else{if(this.maxSelectable){const i=a.filter(n=>!this.input.includes(n)).length;if(this.input.length+i>this.maxSelectable)return}a.forEach(i=>{this.input.includes(i)||this.input.push(i)})}},getCheckboxContainerClasses(e){const t=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return[this.checkboxOnRight?"d-flex align-center pl-4 pr-1 rounded-sm":"",this.checkboxOnRight&&t?"checked":"",this.checkboxOnRight&&this.checkboxHighlighted&&t?"bg-grey-lighten-5 text-primary font-weight-bold":""]},getCheckboxClasses(e){const t=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return[this.checkboxOnLeft?"rounded-sm":"",this.checkboxOnLeft&&t?"checked":"",this.checkboxOnLeft&&this.checkboxHighlighted&&t?"bg-grey-lighten-5 text-primary font-weight-bold":""]},canSelectMore(){return!this.disabled&&(!this.maxSelectable||Array.isArray(this.input)&&this.input.length<this.maxSelectable)},isMandatoryItem(e){return __data_get(e,this.mandatory,!1)},isGroupOpen(e){return this.openAllGroups?!0:this.closeAllGroups?!1:e===0},getCardStats(e){return this.cardStats.map(t=>({...t,value:e[t.key]}))}},computed:{checkboxOnRight(){return this.checkboxPosition==="right"},checkboxOnLeft(){return this.checkboxPosition==="left"},groupedItems(){const e={};for(const a in this.items)if(this.chunkField){const i=this.items[a][this.chunkField],n=this.items[a][this.chunkTitleKey],s=this.items[a];Object.prototype.hasOwnProperty.call(e,i)?e[i].items.unshift({id:s.id,name:n}):e[i]={name:this.$lodash.startCase(this.$lodash.camelCase(i)),items:[{id:s.id,name:n}]}}else{const i=this.items[a][this.chunkTitleKey].split(this.chunkCharacter);if(i.length>1){const n=i[0],s=i[1];Object.prototype.hasOwnProperty.call(e,n)?(__isset(e[n].id)&&delete e[n].id,e[n].items.unshift({id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(s))})):e[n]={name:this.$lodash.startCase(this.$lodash.camelCase(n)),items:[{id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(s))}]}}else{const n="alpha";Object.prototype.hasOwnProperty.call(e,n)?(__isset(e[n].id)&&delete e[n].id,e[n].items.unshift({id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[a][this.chunkTitleKey]))})):e[n]={name:this.$t("General"),items:[{id:this.items[a].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[a][this.chunkTitleKey]))}]}}}const t=Object.values(e);return t.sort(function(a,i){return a.hasOwnProperty("items")?1:i.hasOwnProperty("items")?-1:0}),this.closeAllGroups?this.openedGroups=[]:this.openedGroups=this.openAllGroups?t.map(a=>a.name):[t[0].name],t},disabledCheckbox(){return this.$attrs.disabled||!this.canSelectMore()&&!Array.isArray(this.input)},hasMandatoryItems(){return this.items.some(e=>__data_get(e,this.mandatory,!1))},treeviewCols(){return this.chunkField?{cols:12}:{lg:6,md:8,sm:12}}},created(){}},F_={class:"v-input-checklist__field d-flex"},P_={class:"d-flex align-center"},$_=b("span",null,null,-1),R_=b("span",null,null,-1);function L_(e,t,a,i,n,s){const o=x("ue-title"),l=x("v-input-checkbox-card");return d(),g(Ke,{modelValue:e.input,"onUpdate:modelValue":t[6]||(t[6]=m=>e.input=m),hideDetails:"auto",disabled:a.disabled,class:"v-input-checklist"},{default:u(m=>[b("div",F_,[e.label?(d(),y("div",{key:0,class:"d-flex flex-column",style:me([a.flexColumn?"":"flex: 0 1 25%;"])},[e.label?(d(),g(o,{key:0,padding:"x-3","data-test":"title",color:a.labelColor,transform:"none"},{default:u(()=>[D(E(e.label),1)]),_:1},8,["color"])):k("",!0),a.subtitle?(d(),g(o,{key:1,padding:"x-3",type:"caption",weight:"medium",transform:"none",color:a.subtitleColor,"data-test":"title"},{default:u(()=>[D(E(a.subtitle),1)]),_:1},8,["color"])):k("",!0)],4)):k("",!0),e.label||a.subtitle?(d(),g(fe,{key:1,vertical:"",class:"mr-4"})):k("",!0),a.isTreeview?(d(),g(ue,{key:2},{default:u(()=>[f(ee,te(ne({...s.treeviewCols})),{default:u(()=>[f($e,{opened:i.openedGroups,"onUpdate:opened":t[3]||(t[3]=c=>i.openedGroups=c)},{default:u(()=>[(d(!0),y(F,null,B(s.groupedItems,(c,r)=>(d(),y(F,{key:`checkbox-${r}`},[e.$isset(c.items)&&c.items.length>0?(d(),g(Kt,{key:0,class:"pl-0","collapse-icon":"","expand-icon":"",value:c.name},{activator:u(({props:h,isOpen:_})=>[a.noGroupAllSelectable?(d(),g(o,P({key:1,text:c[`${a.itemTitle}`],type:"body-1",color:"grey-darken-5",weight:"medium",justify:"space-between",ref_for:!0},h),{right:u(()=>[b("div",P_,[f(le,{icon:_?"$collapse":"$expand"},null,8,["icon"])])]),_:2},1040,["text"])):(d(),g(ot,{key:0,class:"ue-checklist-checkbox",label:c[`${a.itemTitle}`],color:"success","hide-details":"",indeterminate:s.isIndeterminateGroup(c),density:"compact",modelValue:s.isAllSelected(c),"onUpdate:modelValue":p=>s.updatedParent(p,c),readonly:s.isMandatoryItem(c)},{prepend:u(()=>[a.chunkField?k("",!0):(d(),g(le,P({key:0,ref_for:!0},h,{icon:_?"$collapse":"$expand"}),null,16,["icon"]))]),_:2},1032,["label","indeterminate","modelValue","onUpdate:modelValue","readonly"])),a.hasGroupBottomDivider?(d(),g(fe,{key:2,class:"mt-0"})):k("",!0)]),default:u(()=>[a.chunkField?(d(),g(he,{key:0,style:{"padding-inline-start":"0px !important"}},{default:u(()=>[f(ue,{"no-gutters":"",style:me([a.flexColumn?"":"flex: 1 0 60%;"])},{default:u(()=>[(d(!0),y(F,null,B(c.items,(h,_)=>(d(),g(ee,P({key:`checkbox-${_}`,ref_for:!0},a.checkboxCol,{class:"pb-0 pr-0"}),{default:u(()=>[b("div",{class:W(s.getCheckboxContainerClasses(h))},[s.checkboxOnRight?(d(),y("span",{key:0,class:W([(e.$attrs.disabled??!1)||!s.canSelectMore()&&!e.input.includes(h[a.itemValue])?"v-input-checklist__label--disabled":""])},E(h[a.itemTitle]),3)):k("",!0),s.checkboxOnRight?(d(),g(Se,{key:1})):k("",!0),f(ot,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=p=>e.input=p),disabled:(e.$attrs.disabled??!1)||!s.canSelectMore()&&!e.input.includes(h[a.itemValue]),value:h[a.itemValue],color:a.checkboxColor,"hide-details":"",label:h[a.itemTitle],class:W(s.getCheckboxClasses(h)),readonly:s.isMandatoryItem(h)},ye({_:2},[s.checkboxOnRight?{name:"label",fn:u(()=>[$_]),key:"0"}:void 0]),1032,["modelValue","disabled","value","color","label","class","readonly"])],2)]),_:2},1040))),128))]),_:2},1032,["style"])]),_:2},1024)):(d(!0),y(F,{key:1},B(c.items,(h,_)=>(d(),g(he,{key:`checkbox-${_}`,class:"pl-0"},{default:u(()=>[f(ot,{class:"ue-checklist-checkbox",modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=p=>e.input=p),label:h[`${a.itemTitle}`],value:h[`${a.itemValue}`],disabled:!s.canSelectMore()&&!e.input.includes(h[a.itemValue]),color:"success","hide-details":"",density:"compact",readonly:s.isMandatoryItem(h)},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))),128))]),_:2},1032,["value"])):(d(),g(he,{key:1,class:"pl-0"},{default:u(()=>[f(ot,{modelValue:e.input,"onUpdate:modelValue":t[2]||(t[2]=h=>e.input=h),label:c[`${a.itemTitle}`],value:c[`${a.itemValue}`],disabled:!s.canSelectMore()&&!e.input.includes(c[a.itemValue]),readonly:s.isMandatoryItem(c),color:"success","hide-details":"",density:"compact"},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))],64))),128))]),_:1},8,["opened"])]),_:1},16)]),_:1})):(d(),g(ue,{key:3,style:me([a.flexColumn?"":"flex: 1 0 60%;"])},{default:u(()=>[(d(!0),y(F,null,B(a.items,(c,r)=>(d(),g(ee,P({key:`checkbox-${r}`,ref_for:!0},a.checkboxCol,{class:""}),{default:u(()=>[a.isCard?(d(),g(l,{key:0,modelValue:e.input,"onUpdate:modelValue":t[4]||(t[4]=h=>e.input=h),value:c[a.itemValue],class:W(s.getCheckboxClasses(c)),color:a.checkboxColor,title:c[a.itemTitle],description:c.description,disabled:(e.$attrs.disabled??!1)||!s.canSelectMore()&&!e.input.includes(c[a.itemValue]),readonly:s.isMandatoryItem(c),checkboxOnRight:s.checkboxOnRight,stats:s.getCardStats(c)},null,8,["modelValue","value","class","color","title","description","disabled","readonly","checkboxOnRight","stats"])):(d(),y("div",{key:1,class:W(s.getCheckboxContainerClasses(c))},[s.checkboxOnRight?(d(),y("span",{key:0,class:W([(e.$attrs.disabled??!1)||!s.canSelectMore()&&!e.input.includes(c[a.itemValue])?"v-input-checklist__label--disabled":""])},E(c[a.itemTitle]),3)):k("",!0),s.checkboxOnRight?(d(),g(Se,{key:1})):k("",!0),f(ot,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":t[5]||(t[5]=h=>e.input=h),value:c[a.itemValue],disabled:(e.$attrs.disabled??!1)||!s.canSelectMore()&&!e.input.includes(c[a.itemValue]),color:a.checkboxColor,"hide-details":"",label:c[a.itemTitle],class:W(s.getCheckboxClasses(c)),readonly:s.isMandatoryItem(c)},ye({_:2},[s.checkboxOnRight?{name:"label",fn:u(()=>[R_]),key:"0"}:void 0]),1032,["modelValue","value","disabled","color","label","class","readonly"])],2))]),_:2},1040))),128))]),_:1},8,["style"]))])]),_:1},8,["modelValue","disabled"])}const Ja=Z(V_,[["render",L_]]),U_=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"})),N_={name:"v-input-checklist-group",emits:[...Ie],components:{Checklist:Ja},props:{...Ce(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},setup(e,t){return{...De(e,t)}},data:function(){return{selectedGroup:Object.keys(this.schema)[0]??1,selectedItems:[]}},computed:{},watch:{selectedGroup:{handler(e,t){this.selectedItems=[]}},selectedItems:{handler(e,t){this.$emit("update:modelValue",{group:this.selectedGroup,items:this.selectedItems})}}},methods:{},created(){}};function B_(e,t,a,i,n,s){const o=x("Checklist");return d(),g(Ke,{modelValue:e.selectedItems,"onUpdate:modelValue":t[2]||(t[2]=l=>e.selectedItems=l),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-checklist-group"},{default:u(l=>{var m;return[f(va,{modelValue:e.selectedGroup,"onUpdate:modelValue":t[0]||(t[0]=c=>e.selectedGroup=c),direction:"horizontal"},{default:u(()=>[f(ue,null,{default:u(()=>[(d(!0),y(F,null,B(a.schema,(c,r)=>(d(),g(ee,{key:r},{default:u(()=>[f(q,{block:"",class:"v-input-checklist-group__btn",variant:e.selectedGroup==r?"elevated":"outlined",onClick:h=>e.selectedGroup=r},{prepend:u(()=>[f(Wt,{value:r},null,8,["value"])]),default:u(()=>[D(" "+E(c.label.toUpperCase()),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),b("div",null,[f(o,{modelValue:e.selectedItems,"onUpdate:modelValue":t[1]||(t[1]=c=>e.selectedItems=c),items:((m=a.schema[e.selectedGroup??0])==null?void 0:m.items)??[]},null,8,["modelValue","items"])])]}),_:1},8,["modelValue","variant"])}const x_=Z(N_,[["render",B_]]),j_=Object.freeze(Object.defineProperty({__proto__:null,default:x_},Symbol.toStringTag,{value:"Module"})),z_={name:"v-input-comparison-table",emits:[...Ie],components:{Table:Wi},props:{...Ce(),schema:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},comparatorField:{type:String,default:"name"},comparators:{type:Object,default:()=>{}},selectable:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!0}},setup(e,t){return{...De(e,t)}},data:function(){return{model:null}},computed:{headers(){return[{title:this.label,key:"comparator_name"}].concat(this.items.map(e=>({title:e.name,key:e.name,align:"center",id:e.id})))},comparisonItems(){let e=Object.keys(this.comparators).reduce((a,i)=>{const n=this.comparators[i];let s=(n==null?void 0:n.key)??i;return this.items.forEach(o=>{if(Array.isArray(o[s]))o[s].forEach(function(l){st(a,["id",l.id])||a.push({...l,_comparatorField:(n==null?void 0:n.field)??"name",...n!=null&&n.itemClasses?{_comparatorItemClasses:n.itemClasses}:{}})});else{let l=__isset(o[`${s}_show`])?`${s}_show`:s;a.includes(l)||a.push(l)}}),a},[]),t=[];if(this.selectable){let a={comparator_name:""};this.items.forEach(i=>{a[i.name]="__input"}),t.push(a)}return e.map(a=>{let i={},n=null;if(__isObject(a))n=a[a._comparatorField],__isset(a._comparatorItemClasses)&&(n=`<span class="${a._comparatorItemClasses}">${n}</span>`);else{let s=null;n=Nn(a.match(/(\w+)?(_show)/)[1]),(s=st(this.comparators,["key",a]))&&__isset(s.title)&&(n=s.title),__isset(s.itemClasses)&&(n=`<span class="${s.itemClasses}"> ${n} </span>`)}return i.comparator_name=n,this.items.forEach(s=>{if(__isObject(a)){let o=st(s[this.comparatorField],["id",a.id]);o?i[s.name]=o.pivot.value:i[s.name]=""}else{let o=s[a];i[s.name]=o;let l=null;(l=st(this.comparators,["key",a]))&&__isset(l.itemClasses)&&(i[s.name]=`<span class="${l.itemClasses}"> ${o} </span>`)}}),i}).concat(t)}},watch:{input(e,t){},modelValue(e,t){}},methods:{},created(){}},K_={key:0,class:"v-input-comparison-table__header--selected"},q_=["innerHTML"],H_=["innerHTML"];function G_(e,t,a,i,n,s){return d(),g(Ke,{modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=o=>e.input=o),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:W(["v-input-comparison-table",{"v-input-comparison-table--striped":a.striped,"v-input-comparison-table--highlighted":a.highlighted}]),rules:e.$attrs.rules},{default:u(o=>[f(yl,{headers:s.headers,items:s.comparisonItems,itemsLength:"0","disable-sort":"","hide-default-footer":""},ye({_:2},[B(s.headers,(l,m)=>({name:`header.${l.key}`,fn:u(c=>[e.$isset(l.id)&&e.input==l.id?(d(),y("div",K_,E(l.title),1)):(d(),y("div",{key:1,innerHTML:l.title},null,8,q_))])})),B(s.headers,(l,m)=>({name:`item.${l.key}`,fn:u(({item:c})=>[c[l.key]=="__input"?(d(),g(q,{key:0,class:"ma-2",onClick:r=>e.input=l.id,variant:e.input==l.id?"elevated":"outlined"},{default:u(()=>[D(" Select ")]),_:2},1032,["onClick","variant"])):(d(),y("div",{key:1,innerHTML:c[l.key]},null,8,H_))])}))]),1032,["headers","items"])]),_:1},8,["modelValue","variant","class","rules"])}const W_=Z(z_,[["render",G_]]),Y_=Object.freeze(Object.defineProperty({__proto__:null,default:W_},Symbol.toStringTag,{value:"Module"})),Xi={props:{locale:{default:null}},data(){return{_locale:this.locale}},computed:{hasLocale:function(){return this._locale!=null},hasCurrentLocale:function(){return this.currentLocale!=null},isLocaleRTL:function(){const e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return this.hasLocale?e.includes(this.locale.shortlabel.toLowerCase()):!1},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return this.currentLocale.shortlabel},...ze({currentLocale:e=>e.language.active,languages:e=>e.language.all})},methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}},mounted(){}},xt={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},Z_={name:"UeFileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){const e=this.currentItem.extension;if(xt.hasOwnProperty(e))return xt[e].icon;for(const t in xt)if(xt[t].FileExtensions.findIndex(i=>i===e)>-1)return xt[t].icon;return"gen"}}},Q_=e=>(ft("data-v-4430099c"),e=e(),ht(),e),X_={class:"fileItem"},J_={key:0,class:"fileItem__cell fileItem__cell--drag"},eb=Q_(()=>b("div",{class:"drag__handle--drag"},null,-1)),tb=[eb],ab={key:1,class:"fileItem__cell fileItem__cell--extension"},sb={href:"#",target:"_blank"},ib=["symbol"],nb={class:"fileItem__cell fileItem__cell--name"},lb={key:0},rb=["src"],ob=["href"],db={class:"f--link-underlined--o"},ub=["name","value"],cb={key:2,class:"fileItem__cell fileItem__cell--size"},mb={class:"fileItem__cell"};function fb(e,t,a,i,n,s){const o=We("svg");return d(),y("tr",X_,[a.draggable?(d(),y("td",J_,tb)):k("",!0),s.currentItem.hasOwnProperty("extension")?(d(),y("td",ab,[b("a",sb,[ve(b("span",{symbol:s.getSvgIconName()},null,8,ib),[[o]])])])):k("",!0),b("td",nb,[s.currentItem.hasOwnProperty("thumbnail")?(d(),y("span",lb,[b("img",{src:s.currentItem.thumbnail},null,8,rb)])):k("",!0),b("a",{href:s.currentItem.hasOwnProperty("original")?s.currentItem.original:"#",download:""},[b("span",db,E(s.currentItem.name),1)],8,ob),b("input",{type:"hidden",name:a.name,value:s.currentItem.id},null,8,ub)]),s.currentItem.hasOwnProperty("size")?(d(),y("td",cb,E(s.currentItem.size),1)):k("",!0),b("td",mb,[f(q,{icon:"$close",onClick:s.deleteItem},null,8,["onClick"])])])}const hb=Z(Z_,[["render",fb],["__scopeId","data-v-4430099c"]]),pb={name:"v-input-file",emits:[...Ie],components:{FileItem:hb,draggable:Ra},mixins:[Xi],props:{...Rc()},setup(e,t){return{...Lc(e,t)}},created(){},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){this.$store.commit(Y.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(Y.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(Y.UPDATE_REPLACE_INDEX,a),this.$store.commit(Y.UPDATE_MEDIA_MAX,e),this.$store.commit(Y.UPDATE_MEDIA_MODE,!0),this.$store.commit(Y.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(Y.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(Y.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[t])&&(this.$store.state.mediaLibrary.selected[t]=[]),this.$store.state.mediaLibrary.selected[t]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))}}},Ji=e=>(ft("data-v-da6cdea3"),e=e(),ht(),e),gb={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},yb={class:"v-field__field","data-no-activator":""},_b={class:"fileField"},bb={key:0,class:"fileField__trigger"},vb=["name","value"],Ab={class:"fileField__note f--small"},Eb={key:1,class:"fileField__list"},wb={key:2,class:"fileField__trigger"},Sb=["name","value"],kb={class:"fileField__note f--small"},Cb={class:"v-field__outline"},Tb=Ji(()=>b("div",{class:"v-field__outline__start"},null,-1)),Mb={class:"v-field__outline__notch"},Ib={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"},Db=Ji(()=>b("div",{class:"v-field__outline__end"},null,-1));function Ob(e,t,a,i,n,s){const o=x("FileItem"),l=x("draggable");return d(),g(Ke,{hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:u(m=>[b("div",gb,[b("div",yb,[b("div",_b,[e.buttonOnTop&&e.remainingItems?(d(),y("div",bb,[b("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,vb),f(q,{type:"button",onClick:t[0]||(t[0]=c=>s.openMediaLibrary(e.remainingItems))},{default:u(()=>[D(E(e.addLabel),1)]),_:1}),b("span",Ab,E(e.note),1)])):k("",!0),e.input.length?(d(),y("table",Eb,[f(l,{tag:"tbody",modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=c=>e.input=c),itemKey:"id"},{item:u(c=>[f(o,{class:"item__content",name:`${e.name}_${c.index}`,"item-label":e.$t("form-labels.File"),item:e.input[`${c.index}`],onDelete:r=>e.deleteItem(c.index)},null,8,["name","item-label","item","onDelete"])]),_:1},8,["modelValue"])])):k("",!0),!e.buttonOnTop&&e.remainingItems?(d(),y("div",wb,[b("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,Sb),f(q,{type:"button",onClick:t[2]||(t[2]=c=>s.openMediaLibrary(e.remainingItems))},{default:u(()=>[D(E(e.addLabel),1)]),_:1}),b("span",kb,E(e.note),1)])):k("",!0)])]),b("div",Cb,[Tb,b("div",Mb,[b("label",Ib,E(e.boundProps.label),1)]),Db])])]),_:1},8,["variant"])}const Vb=Z(pb,[["render",Ob],["__scopeId","data-v-da6cdea3"]]),Fb=Object.freeze(Object.defineProperty({__proto__:null,default:Vb},Symbol.toStringTag,{value:"Module"})),Pb="Filepond",$b=Bn(jn,xn),Rb={name:"v-input-filepond",components:{FilePond:$b},props:{...Ce(),hint:{type:String,default:null},hintWeight:{type:String,default:"thin"},maxFiles:{type:Number,default:2},endPoints:{type:Object,default:()=>({})},class:{type:String,default:""},labelWeight:{type:String,default:"regular"},subtitle:{type:String,default:null},subtitleWeight:{type:String,default:"thin"},acceptedFileTypes:{type:String,default:""}},setup(e,t){return{...De(e,t)}},data(){return{files:zn(this.modelValue)?this.modelValue.map(function(e){return{source:e.source??`${this.endPoints.load}${e.uuid}`,options:{type:`${e.type??"local"}`}}}):[]}},methods:{postProcessFilepond:function(e,t){e?__log("postProcess error",e):this.input=this.input.concat({uuid:t.serverId,file_name:t.filename,source:`${this.endPoints.load}${t.serverId}`})},removeFilepond:function(e,t){var n;const a=t.filename??((n=t.serverId)==null?void 0:n.replace(`/${t.filename}`,""))??t.uuid,i=this.input.filter(s=>s.uuid!=a);this.input=i},init(){Kn({server_:{process_:this.endPoints.process,revert_:this.endPoints.revert,load_:this.endPoints.load}})},addFile(...e){return this.$refs.pond.addFile(...e)},browse(...e){return this.$refs.pond._pond.browse()},removeFile(...e){return this.$refs.pond.removeFile(...e)},removeFiles(...e){return this.$refs.pond.removeFiles(...e)},getFiles(...e){return this.$refs.pond.getFiles(...e)},getFile(...e){return this.$refs.pond.getFile(...e)}},computed:{server(){return{revert:(e,t,a)=>{let i="revert-"+e;axios.delete(this.endPoints.revert,{requestId:i,data:e}).then(n=>{this.input=this.input.filter(s=>s.uuid!=e),t()}).catch(n=>{console.error("server revert error",n)})},process:(e,t,a,i,n,s,o,l,m)=>{const c=new FormData;if(e.match(/(\w)+.(\w)+/)){let h=e.split(".");e="";for(const _ in h)_==0?e+=h[_]:e+=`[${h[_]}]`}c.append(e,t,t.name);let r="process-"+e;return axios.post(this.endPoints.process,c,{requestId:r,onUploadProgress:h=>{s(h.lengthComputable,h.loaded,h.total)}}).then(function(h){i(h.data)}).catch(function(h){h.status==500&&h.response.match(/^\<script\> Sfdump/)?(Oe(Pb,{message:"Filepond process error.",value:request}),n("Dump error on processing")):n("Processing Error")}),{abort:()=>{__log("aborted"),axios.abort(r),o()}}},load:(e,t,a,i,n,s)=>(axios.get(e,{responseType:"blob",validateStatus:o=>o>=200&&o<300||o===422}).then(o=>{if(o.status==200)t(o.data);else throw o.status==500?new Error("Answer not found"):new Error("Some other status code")}).catch(function(o){console.error(o)}),{abort:()=>{n()}}),headers:{"X-Csrf-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},input:{get(){return this.modelValue??[]},set(e){this.updateModelValue(e)}},key:{get(){return`filepond-${Date.now()}`}},name(){let e=this.$attrs.name;return this.obj&&this.obj.schema&&this.obj.schema.parentName&&(e=`${this.obj.schema.parentName}.${e}`),e}},created(){}},Lb=["innerHTML"],Ub={class:"hint-container"},Nb=["innerHTML"];function Bb(e,t,a,i,n,s){const o=x("ue-title"),l=x("FilePond");return d(),y(F,null,[z(e.$slots,"activator",te(ne({browse:s.browse,addFile:s.addFile,removeFile:s.removeFile,removeFiles:s.removeFiles,getFiles:s.getFiles,getFile:s.getFile})),void 0,!0),f(Ke,{ref:"VInput",modelValue:s.input,"onUpdate:modelValue":t[0]||(t[0]=m=>s.input=m),"hide-details":"auto",class:W(a.class)},{default:u(m=>[b("div",{class:W(["w-100",e.$slots.activator?"d-non":""])},[e.label?(d(),g(o,{key:0,transform:"none",padding:"a-0",weight:a.labelWeight,color:"grey-darken-5"},{default:u(()=>[z(e.$slots,"label",te(ne({label:e.label,ref:e.$refs.VInput})),()=>[D(E(e.label),1)],!0)]),_:3},8,["weight"])):k("",!0),a.subtitle?(d(),g(o,{key:1,type:"caption",transform:"none",padding:"a-0",weight:a.subtitleWeight,color:"grey-darken-5"},{default:u(()=>[z(e.$slots,"subtitle",te(ne({subtitle:a.subtitle,ref:e.$refs.VInput})),()=>[b("span",{innerHTML:a.subtitle},null,8,Lb)],!0)]),_:3},8,["weight"])):k("",!0),z(e.$slots,"body",{},()=>[b("div",{class:W(["fileField",e.$slots.activator?"d-none":""])},[(d(),g(l,P({ref:"pond",id:s.key,key:s.key},e.$lodash.omit(e.$bindAttributes(),["rules"]),{"allow-multiple":!0,"allow-file-type-validation":!0,"accepted-file-types":a.acceptedFileTypes,"max-files":a.maxFiles,name:s.name,files:n.files,server:s.server,onProcessfile:s.postProcessFilepond,onRemovefile:s.removeFilepond,onInit:s.init}),null,16,["id","accepted-file-types","max-files","name","files","server","onProcessfile","onRemovefile","onInit"]))],2)],!0),b("div",Ub,[a.hint?(d(),g(o,{key:0,type:"caption",transform:"none",padding:"a-0",weight:a.hintWeight,color:"grey-darken-5"},{default:u(()=>[z(e.$slots,"hint",te(ne({hint:a.hint})),()=>[b("span",{innerHTML:a.hint},null,8,Nb)],!0)]),_:3},8,["weight"])):k("",!0)])],2)]),_:3},8,["modelValue","class"])],64)}const xb=Z(Rb,[["render",Bb],["__scopeId","data-v-1fd264b6"]]),jb=Object.freeze(Object.defineProperty({__proto__:null,default:xb},Symbol.toStringTag,{value:"Module"})),zb={name:"v-input-form-tabs",emits:[...Ie],inject:[...mu],props:{...Ce(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}},tabFields:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},triggers:{type:Object,default:()=>[]}},setup(e,t){const a=Zt(),i=tt(e),{t:n,te:s}=we(),o=De(e,t),l=X(e.items),m=X(!0),c=(v,C)=>{let w,T=v;if(__isString(v)&&(w=v.match(/\$([\w\.\*]+)/))){let N=w[1],G=__preg_quote(w[0]),K=N.split("."),J=[];for(const R in K){let $=K[R];$==="*"?C.id:J.push($)}N=J.join(".");let L=__data_get(C,N);if(L){let R;if(Array.isArray(L)&&L.length>0)R=L.join(",");else if(__isString(L)){R=L;let $=vt(R);s(`modules.${$}`)&&(R=n(`modules.${$}`))}else __isNumber(L)&&(R=L.toString());if(R){let $="\\w\\s"+__preg_quote("çşıİğüö.,;?|:_"),V=new RegExp(String.raw`^([${$}]+)?(${G})([${$}]+)?$`);v.match(V)?T=v.replace(V,"$1"+R+"$3"):__log("Not matched sentence",V,v,v.match(V))}}}return T},r=re(new Map),h=(v,C)=>{C?r.set(v,C):r.delete(v)},_=v=>r.get(v),p=X(l.value.reduce((v,C)=>{var w;return __isset(v[C.id])||(v[C.id]={...be(e.schema,{}),...((w=o.input.value)==null?void 0:w[C.id])??{}}),v},{})),A=X(l.value.reduce((v,C,w)=>{var T;if(!__isset(v[C.id])){const N=de(e.schema);for(const G in e.tabFields)__isset(N[G])&&(N[G].items=C[e.tabFields[G]]),zt(N[G],(K,J)=>{N[G][J]=c(K,l.value[w])});v[C.id]=Ge(N,((T=p.value)==null?void 0:T[C.id])??{})}return v},{})),M=X(l.value.reduce((v,C,w)=>(v[w]=null,v),{}));l.value.length>0&&(m.value=!1);const S=re({loading:m,elements:l,formRefs:r,activeTab:1,models:p,schemas:A,valids:M});return se(()=>e.items,v=>{m.value=!0;let C=v.filter(T=>!l.value.find(N=>N.id==T.id)),w=l.value.filter(T=>!v.find(N=>N.id==T.id));C.length>0&&C.forEach(T=>{var N,G;if(__isset(p.value[T.id])||(p.value[T.id]={...be(e.schema,{}),...((N=o.input.value)==null?void 0:N[T.id])??{}}),!__isset(A.value[T.id])){const K=de(e.schema);for(const J in e.tabFields)__isset(K[J])&&(K[J].items=T[e.tabFields[J]]),zt(K[J],(L,R)=>{K[J][R]=c(L,T)});A.value[T.id]=Ge(K,((G=p.value)==null?void 0:G[T.id])??{})}M.value[T.id]=null}),w.length>0&&w.forEach(T=>{delete p.value[T.id],delete A.value[T.id],delete M.value[T.id],h(T.id,null)}),l.value=v}),se(()=>l.value,v=>{setTimeout(()=>{v.length>0&&(m.value=!1)},1e3)}),{...o,...a,...i,...ie(S),setFormRef:h,getFormRef:_}},data(){return{formTabsRules:[e=>{var a;let t=!0;e:for(const i in e){let n=e[i];for(const s in this.schema){let o=n[s],l=this.schema[s];if(t=this.validateInput(l,o),t!==!0&&this.manualValidation){this.activeTab=parseInt(i);let m=this.getFormRef(this.activeTab);if(m){m.validate();break e}else console.info("FormTabs validateInput",{id:i,formRef:m,formRefValue:(a=this.getFormRef(i))==null?void 0:a.value,activeTab:this.activeTab,formRefs:this.formRefs})}if(t!==!0)break e}}return t}]}},computed:{},watch:{models:{handler(e,t){this.validate()},deep:!0}},methods:{async validate(){this.VInput&&await this.VInput.validate()},async validateForm(e){return await this.getFormRef(e).value[0].validate()},updateModel(e,t){let a=de(this.models),i=a[t];const n=Object.keys(e).filter(l=>__isset(i[l]));n.forEach(l=>{JSON.stringify(e[l]),JSON.stringify(i[l]),i[l],e[l]});let s=de(this.schemas),o=!1;n.forEach(l=>{const m=ni(this.triggers,_=>_.trigger===l);if(m.length<1)return;const c=e[l],r=de(this.schemas[t][l]);let h=null;r.items&&Array.isArray(r.items)&&(h=r.items.find(_=>_.id==c)),m.forEach(_=>{let p=de(this.schemas[t][_.target]),A=!1;zt(_.actions,(M,S)=>{if(Array.isArray(M)){if(S==="class"){let v=(p==null?void 0:p.class)??"";if(v){let C=v.split(" "),[w,...T]=M;w==="remove"?C=C.filter(N=>!T.includes(N)):w==="add"&&(C=[...C,...T]),p.class=C.join(" "),o=!0}}}else o=!0,S==="rules"&&(A=!0,S="raw"+qn(S)),S==="disabled"&&(p._originalDisabled=M),S==="items"?p[S]=__data_get(h,M,[]):h&&(p[S]=this.$castValueMatch(M,h))}),s[t][_.target]=p,A&&(s[t]=this.invokeRuleGenerator(s[t]))})}),o&&(this.schemas=de(s)),a[t]=e,this.models=de(a),this.$emit("update:modelValue",this.models)},init(){}},created(){}};function Kb(e,t,a,i,n,s){const o=x("ue-form"),l=x("ue-tabs");return d(),g(Ke,{ref:"VInput",modelValue:e.models,"onUpdate:modelValue":t[2]||(t[2]=m=>e.models=m),"hide-details":"",multiple:"",rules:n.formTabsRules,class:"v-input-form-tabs"},{default:u(m=>[e.loading?(d(),g(bi,{key:0,type:"table-row-divider, table-row@4",height:"400px",width:"100%"})):(d(),g(l,{key:1,modelValue:e.activeTab,"onUpdate:modelValue":t[1]||(t[1]=c=>e.activeTab=c),items:e.elements,"tab-value":"id","tab-title":"name"},ye({windows:u(({active:c})=>[f(_l,{modelValue:e.activeTab,"onUpdate:modelValue":t[0]||(t[0]=r=>e.activeTab=r)},{default:u(()=>[(d(!0),y(F,null,B(e.elements,(r,h)=>(d(),g(bl,{key:r.id,value:r.id},{default:u(()=>[(d(),g(o,{ref_for:!0,ref:_=>i.setFormRef(r.id,_),key:`form-${r.id}-${JSON.stringify(e.schemas[r.id])}`,"vvvvv-model":"models[item.id]",modelValue:e.models[r.id],"onUpdate:modelValue":_=>s.updateModel(_,r.id),"onXupdate:modelValue":_=>e.$log("update:modelValue",_,r.id),schema:e.schemas[r.id],valid:e.valids[h],"onUpdate:valid":_=>e.valids[h]=_,noDefaultFormPadding:"",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","onXupdate:modelValue","schema","valid","onUpdate:valid"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:2},[B(e.elements,(c,r)=>({name:`tab.${c.id}`,fn:u(()=>[f(xa,{value:c.id,color:!this.valids[r]&&e.window.__isBoolean(this.valids[r])?"error":"primary",class:W([e.window.__isBoolean(this.valids[r])&&!this.valids[r]?"bg-red-lighten-5":""])},{append:u(()=>[e.window.__isBoolean(e.valids[r])?(d(),g(le,{key:0,icon:e.valids[r]?"$check":"$close"},null,8,["icon"])):k("",!0)]),default:u(()=>[b("span",null,E(c.name),1)]),_:2},1032,["value","color","class"])])}))]),1032,["modelValue","items"]))]),_:1},8,["modelValue","rules"])}const qb=Z(zb,[["render",Kb]]),Hb=Object.freeze(Object.defineProperty({__proto__:null,default:qb},Symbol.toStringTag,{value:"Module"})),en={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){__log("name"),this.$store.commit(Y.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(Y.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(Y.UPDATE_REPLACE_INDEX,a),this.$store.commit(Y.UPDATE_MEDIA_MAX,e),this.$store.commit(Y.UPDATE_MEDIA_MODE,!0),this.$store.commit(Y.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(Y.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(Y.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}},tn={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!0},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default(){return[]}}}},Ft=(e,t,a)=>({x:Math.round(e.x*t.width/a.width),y:Math.round(e.y*t.height/a.height),width:Math.round(e.width*t.width/a.width),height:Math.round(e.height*t.height/a.height)}),Gb=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,Wb={name:"v-input-image",emits:[...Ie],components:{},mixins:[en,tn],props:{...Li()},setup(e,t){return{...Ui(e,t)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$t("fields.medias.edit-close"))??"",active:!1},totalElementCount:Hn(0,this.max)}},filters:Qt,computed:{...ze({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const t in this.media.crops)if(this.media.crops[t].width+this.media.crops[t].height){let a="";a+=this.media.crops[t].name+" "+this.$trans("fields.medias.crop-list")+": ",a+=this.media.crops[t].width+"&nbsp;&times;&nbsp;"+this.media.crops[t].height,e.push(a)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...ze({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,t){this.hasMediaChanged=e!==t,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){this.$store.commit(Y.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(Y.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(Y.UPDATE_REPLACE_INDEX,a),this.$store.commit(Y.UPDATE_MEDIA_MAX,e),this.$store.commit(Y.UPDATE_MEDIA_MODE,!0),this.$store.commit(Y.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(Y.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(Y.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[t])&&(this.$store.state.mediaLibrary.selected[t]=[]),this.$store.state.mediaLibrary.selected[t]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let t=this.media.thumbnail;this.$nextTick(()=>{try{const a=Ft(e,this.naturalDim,this.originalDim),i=a.width,n=a.height;this.canvas.width=i,this.canvas.height=n,this.ctx.drawImage(this.img,a.x,a.y,i,n,0,0,i,n),t=this.canvas.toDataURL("image/png"),this.cropSrc!==t&&(this.showImg=!1,this.cropSrc=t)}catch(a){console.error(a),this.cropSrc!==t&&(this.showImg=!0,this.cropSrc=t)}})},setDefaultCrops:function(){const e={},t=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const a in this.allCrops[this.cropContext]){const i=this.allCrops[this.cropContext][a][0].ratio,n=this.media.width,s=this.media.height,o={x:n/2,y:s/2};let l=n,m=s;i>0&&i<1?(l=Math.floor(Math.min(s*i,n)),m=Math.floor(l/i)):i>=1&&(m=Math.floor(Math.min(n/i,s)),l=Math.floor(m*i));let c={x:0,y:0,width:l,height:m};c=Ft(c,this.naturalDim,this.originalDim),t.push(smartCrop.crop(this.img,{width:c.width,height:c.height,minScale:1}));const r=Math.floor(o.x-l/2),h=Math.floor(o.y-m/2);e[a]={},e[a].name=this.allCrops[this.cropContext][a][0].name||a,e[a].x=r,e[a].y=h,e[a].width=l,e[a].height=m}Promise.all(t).then(a=>{let i=0;a.forEach(n=>{const s={x:n.topCrop.x,y:n.topCrop.y,width:n.topCrop.width,height:n.topCrop.height},o=e[Object.keys(e)[i]],l=Ft(s,this.originalDim,this.naturalDim);o.x=l.x,o.y=l.y,o.width=l.width,o.height=l.height,i++})},a=>{console.error(a)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(Y.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},t=>{console.error(t),this.showDefaultThumbnail(),this.$nextTick(()=>{const a=this.$refs.mediaImg;a?(a.addEventListener("load",()=>{this.img=a,e()},{once:!0,passive:!0,capture:!0}),a.addEventListener("error",i=>{console.error(i),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,t)=>{this.img=new Image,Gb||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",i=>{t(i)});let a="?";this.media.thumbnail.indexOf("?")>-1&&(a="&"),this.img.src=this.media.thumbnail+a+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,t){this.deleteMedia(e),this.$nextTick(()=>t())},deleteMedia:function(e){let t=this.input;t.splice(e,1),this.input=t},updateMetadata:function(e){this.$store.commit(Y.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},an=e=>(ft("data-v-626897aa"),e=e(),ht(),e),Yb={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},Zb={class:"v-field__field","data-no-activator":""},Qb={class:"_media__field"},Xb={class:"media__img px-2 py-2"},Jb={key:0,class:"media__note f--small"},ev=["name","value"],tv={class:"v-field__outline"},av=an(()=>b("div",{class:"v-field__outline__start"},null,-1)),sv={class:"v-field__outline__notch"},iv={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"},nv=an(()=>b("div",{class:"v-field__outline__end"},null,-1));function lv(e,t,a,i,n,s){const o=We("fit-grid");return d(),g(Ke,{modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=l=>e.input=l),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:u(l=>[b("div",Yb,[b("div",Zb,[f(wt,null,{default:u(({isHovering:m,props:c})=>[b("div",P({class:["media w-100",{"media--slide":e.isSlide}]},c),[b("div",Qb,[f(ue,{dense:"",class:"","no-gutters":""},{default:u(()=>[(d(!0),y(F,null,B(e.totalElementCount,r=>ve((d(),g(ee,{key:r,cols:"12",md:"6",lg:"4"},{default:u(()=>[f(ce,{color:"",class:"w-100 d-flex flex-column justify-end",style:{"box-shadow":"unset"}},ye({default:u(()=>[f(wt,null,{default:u(({isHovering:h,props:_})=>[e.input[r]!==void 0?(d(),y("div",P({key:0,class:"d-flex flex-no-wrap",ref_for:!0},_,{"data-test":"imageCard"}),[b("div",Xb,[f(wt,null,{default:u(({isHovering:p,props:A})=>[b("div",P({class:"media__imgFrame",ref_for:!0},A),[b("div",{class:"media__imgCentered",style:me(s.cropThumbnailStyle)},[e.showImg?(d(),g(ut,{key:0,src:e.input[r].thumbnail,ref_for:!0,ref:"mediaImg",class:W([s.cropThumbnailClass]),"max-width":"240"},null,8,["src","class"])):k("",!0)],4),e.disabled?k("",!0):(d(),g(vl,{key:0,"model-value":p,class:"align-end justify-end",contained:"",onClick:M=>s.openMediaLibrary(1,s.mediaKey,r),elevation:p?12:2},{default:u(()=>[f(q,{icon:"$edit",size:"small",class:"mb-2 mr-2",color:"blue-lighten-5"})]),_:2},1032,["model-value","onClick","elevation"]))],16)]),_:2},1024)]),f($e,{lines:"one",class:W([[!e.hover||h?"opacity-100":"opacity-70","w-50"],"w-50"]),style:{"min-width":"50px",transition:"opacity 250ms ease-in"}},{default:u(()=>[f(wt,null,{default:u(({isHovering:p,props:A})=>[f(he,P({ref_for:!0},A,{class:{"text-blue":p},title:e.input[r].name,onClick:M=>s.openMediaLibrary(1,s.mediaKey,r)}),null,16,["class","title","onClick"])]),_:2},1024),e.input[r].size?(d(),g(he,{key:0,subtitle:"File size: {{ input[index].size }}"})):k("",!0),e.input[r].width+e.input[r].height?(d(),g(he,{key:1,subtitle:`${e.$t("fields.medias.original-dimensions")}: ${e.input[r].width} × ${e.input[r].height}`},null,8,["subtitle"])):k("",!0)]),_:2},1032,["class"]),e.disabled?k("",!0):(d(),y("div",{key:0,style:{"min-width":"50px",transition:"opacity 250ms ease-in"},class:W([!e.hover||h?"opacity-100":"opacity-10","d-flex justify-end ma-2"])},[f(q,{"data-test":"downloadButton",icon:"$download",color:"blue-lighten-5",rounded:"0",size:"small",href:e.input[r].original,download:""},null,8,["href"]),f(q,{"data-test":"cropButton",icon:"mdi-crop",color:"blue-lighten-5",rounded:"0",size:"small"}),f(q,{"data-test":"deleteButton",icon:"$delete",color:"blue-lighten-5",rounded:"0",size:"small",onClick:p=>s.deleteMediaClick(r,l.validate)},null,8,["onClick"])],2))],16)):k("",!0)]),_:2},1024)]),_:2},[e.input[r]===void 0?{name:"actions",fn:u(()=>[f(q,{"data-test":"addButton","append-icon":"$add",variant:"outlined",block:"",onClick:t[0]||(t[0]=h=>s.openMediaLibrary(e.remainingItems))},{default:u(()=>[D(E(e.addLabel),1)]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1024)),[[o]])),128))]),_:2},1024),this.$slots.default?(d(),y("p",Jb,[z(e.$slots,"default",{},void 0,!0)])):k("",!0)]),b("input",{name:this.name,value:JSON.stringify(s.media),type:"hidden"},null,8,ev)],16)]),_:2},1024)]),b("div",tv,[av,b("div",sv,[b("label",iv,[z(e.$slots,"label",te(ne({label:e.label})),()=>[D(E(e.boundProps.label),1)],!0)])]),nv])])]),_:3},8,["modelValue","variant"])}const rv=Z(Wb,[["render",lv],["__scopeId","data-v-626897aa"]]),ov=Object.freeze(Object.defineProperty({__proto__:null,default:rv},Symbol.toStringTag,{value:"Module"})),dv=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,uv={name:"v-input-image",components:{},mixins:[en,tn],props:{...Li()},setup(e,t){return{...Ui(e,t)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$trans("fields.medias.edit-close"))??"",active:!1}}},filters:Qt,computed:{...ze({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const t in this.media.crops)if(this.media.crops[t].width+this.media.crops[t].height){let a="";a+=this.media.crops[t].name+" "+this.$trans("fields.medias.crop-list")+": ",a+=this.media.crops[t].width+"&nbsp;&times;&nbsp;"+this.media.crops[t].height,e.push(a)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...ze({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,t){this.hasMediaChanged=e!==t,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,t=this.name,a=-1){this.$store.commit(Y.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(Y.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(Y.UPDATE_REPLACE_INDEX,a),this.$store.commit(Y.UPDATE_MEDIA_MAX,e),this.$store.commit(Y.UPDATE_MEDIA_MODE,!0),this.$store.commit(Y.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(Y.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(Y.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[t])&&(this.$store.state.mediaLibrary.selected[t]=[]),this.$store.state.mediaLibrary.selected[t]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let t=this.media.thumbnail;this.$nextTick(()=>{try{const a=Ft(e,this.naturalDim,this.originalDim),i=a.width,n=a.height;this.canvas.width=i,this.canvas.height=n,this.ctx.drawImage(this.img,a.x,a.y,i,n,0,0,i,n),t=this.canvas.toDataURL("image/png"),this.cropSrc!==t&&(this.showImg=!1,this.cropSrc=t)}catch(a){console.error(a),this.cropSrc!==t&&(this.showImg=!0,this.cropSrc=t)}})},setDefaultCrops:function(){const e={},t=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const a in this.allCrops[this.cropContext]){const i=this.allCrops[this.cropContext][a][0].ratio,n=this.media.width,s=this.media.height,o={x:n/2,y:s/2};let l=n,m=s;i>0&&i<1?(l=Math.floor(Math.min(s*i,n)),m=Math.floor(l/i)):i>=1&&(m=Math.floor(Math.min(n/i,s)),l=Math.floor(m*i));let c={x:0,y:0,width:l,height:m};c=Ft(c,this.naturalDim,this.originalDim),t.push(smartCrop.crop(this.img,{width:c.width,height:c.height,minScale:1}));const r=Math.floor(o.x-l/2),h=Math.floor(o.y-m/2);e[a]={},e[a].name=this.allCrops[this.cropContext][a][0].name||a,e[a].x=r,e[a].y=h,e[a].width=l,e[a].height=m}Promise.all(t).then(a=>{let i=0;a.forEach(n=>{const s={x:n.topCrop.x,y:n.topCrop.y,width:n.topCrop.width,height:n.topCrop.height},o=e[Object.keys(e)[i]],l=Ft(s,this.originalDim,this.naturalDim);o.x=l.x,o.y=l.y,o.width=l.width,o.height=l.height,i++})},a=>{console.error(a)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(Y.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},t=>{console.error(t),this.showDefaultThumbnail(),this.$nextTick(()=>{const a=this.$refs.mediaImg;a?(a.addEventListener("load",()=>{this.img=a,e()},{once:!0,passive:!0,capture:!0}),a.addEventListener("error",i=>{console.error(i),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,t)=>{this.img=new Image,dv||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",i=>{t(i)});let a="?";this.media.thumbnail.indexOf("?")>-1&&(a="&"),this.img.src=this.media.thumbnail+a+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,t){this.deleteMedia(e),this.$nextTick(()=>t())},deleteMedia:function(e){let t=this.input;t.splice(e,1),this.input=t,__log(e,this.input,this.boundProps)},updateMetadata:function(e){this.$store.commit(Y.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},es=e=>(ft("data-v-8cc5a462"),e=e(),ht(),e),cv={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},mv={class:"v-field__field","data-no-activator":""},fv={class:"media__field"},hv={key:0,class:"media__info"},pv={class:"media__img"},gv={class:"media__imgFrame"},yv=["src"],_v=["onClick"],bv={class:"media__edit--button"},vv={symbol:"edit"},Av=["onClick"],Ev={class:"media__delete--button"},wv={key:0,class:"media__metadatas"},Sv=["onClick"],kv=["title"],Cv={key:0,class:"f--small"},Tv={key:1,class:"f--small"},Mv=es(()=>b("div",{class:"media__actions-dropDown"},null,-1)),Iv={key:2,class:"media__note f--small"},Dv=["name","value"],Ov={class:"v-field__outline"},Vv=es(()=>b("div",{class:"v-field__outline__start"},null,-1)),Fv={class:"v-field__outline__notch"},Pv={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"},$v=es(()=>b("div",{class:"v-field__outline__end"},null,-1));function Rv(e,t,a,i,n,s){const o=We("svg");return d(),g(Ke,{modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=l=>e.input=l),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:u(l=>[b("div",cv,[b("div",mv,[b("div",{class:W(["media",{"media--hoverable":e.hover,"media--slide":e.isSlide}])},[b("div",fv,[s.hasMedia?(d(),y("div",hv,[(d(!0),y(F,null,B(e.input,(m,c)=>(d(),y(F,{key:c},[b("div",pv,[b("div",gv,[b("div",{class:"media__imgCentered",style:me(s.cropThumbnailStyle)},[e.showImg?(d(),y("img",{key:0,src:m.thumbnail,ref_for:!0,ref:"mediaImg",class:W(s.cropThumbnailClass)},null,10,yv)):k("",!0)],4),e.disabled?k("",!0):(d(),y("div",{key:0,class:"media__edit",onClick:r=>s.openMediaLibrary(1,s.mediaKey,c)},[b("span",bv,[ve((d(),y("span",vv,[f(le,{icon:"$edit"})])),[[o]])])],8,_v)),e.disabled?k("",!0):(d(),y("div",{key:1,class:"media__delete",onClick:r=>s.deleteMediaClick(c,l.validate)},[b("span",Ev,[f(le,{icon:"$delete"})])],8,Av))])]),e.disabled?k("",!0):(d(),y("ul",wv,[b("li",{class:"media__name",onClick:r=>s.openMediaLibrary(1,s.mediaKey,c)},[b("strong",{title:m.name},E(m.name),9,kv)],8,Sv),m.size?(d(),y("li",Cv,"File size: "+E(m.size),1)):k("",!0),m.width+m.height?(d(),y("li",Tv,E(e.$trans("fields.medias.original-dimensions"))+": "+E(m.width)+" × "+E(m.height),1)):k("",!0)])),Mv],64))),128))])):k("",!0),e.remainingItems?(d(),g(q,{key:1,type:"button",onClick:t[0]||(t[0]=m=>s.openMediaLibrary(e.remainingItems))},{default:u(()=>[D(E(e.addLabel),1)]),_:1})):k("",!0),this.$slots.default?(d(),y("p",Iv,[z(e.$slots,"default",{},void 0,!0)])):k("",!0)]),b("input",{name:this.name,value:JSON.stringify(s.media),type:"hidden"},null,8,Dv)],2)]),b("div",Ov,[Vv,b("div",Fv,[b("label",Pv,E(e.boundProps.label),1)]),$v])])]),_:3},8,["modelValue","variant"])}const Lv=Z(uv,[["render",Rv],["__scopeId","data-v-8cc5a462"]]),Uv=Object.freeze(Object.defineProperty({__proto__:null,default:Lv},Symbol.toStringTag,{value:"Module"})),Uw={props:{},data(){return{}},computed:{},watch:{},methods:{},mounted(){},created(){}},Nv=ke({modelValue:{type:Boolean,default:!1}}),Bv={emits:["update:modelValue","confirm","cancel"],props:{cancelText:{type:String,default:""},confirmText:{type:String,default:""},...Nv()},data(){return{id:Math.ceil(Math.random()*1e6)+"-modal"}},computed:{show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},methods:{setValue(e){__log("setValue",e.target.name),this[e.target.name]=e.target.value},openModal(){this.show=!0},closeModal(){this.show=!1},cancelModal(e=null){typeof this.cancelCallback>"u"?this.closeModal():this.cancelCallback(),e&&e(),this.$emit("cancel")},confirmModal(e=null){typeof this.confirmCallback>"u"?e?e():this.closeModal():this.confirmCallback(),this.$emit("confirm")}},created(){}},xv={name:"v-input-locale",emits:[...Ie],mixins:[Xi],setup(e,t){return{...De(e,t)}},props:{...Ce(),type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}}},watch:{modelValue(e){if(__isObject(e))for(const t in e)this.input[t]=e[t]},attributes:{handler(e,t){},deep:!0}},computed:{input:{get(){return __log("Locale.vue inputget",this.modelValue),this.modelValue},set(e,t){__log("Locale.vue input set",e,t),this.inputOnSet(e,t),this.updateModelValue(e)}},...ze({currentLocale:e=>e.language.active,languages:e=>e.language.all}),attributesPerLang:function(){const e={},t=this.attributes.errorMessages;return this.languages.forEach(a=>{const i=de(St(this.attributes,["errorMessages"]));i.required=!!a.published&&this.isRequired,i.name=`${i.name}[${a.value}]`,__isset(t[a.value])&&(i.errorMessages=t[a.value],i.error=!1),this.input?i.modelValue=this.input[a.value]:i.default,e[a.value]=i}),e}},data(){return{isCustomForm:!1,isRequired:this.attributes.required,inputObject:this.modelValue}},mounted(){this.isCustomForm=this.$root.$refs.customForm!==void 0,this.isRequired=this.attributes.required??!1},created(){},methods:{attributesPerLang_:function(e){const t=this.languages.find(i=>i.value===e),a=de(this.attributes);return a.required=!!t.published&&this.isRequired,a.name=`${a.name}[${e}]`,this.input&&(a.modelValue=this.input[e]),a},attributesNoLang:function(){const e=de(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(lt.SWITCH_LANG,{oldValue:e}),this.$nextTick(function(){})},updateValue:function(e,t){__log("updateValue",e,t)},modelUpdated(e,t){try{this.input&&__isset(this.input[t])?(this.input[t]=e,this.updateModelValue(this.input)):this.input&&!__isset(this.input[t])&&e?(this.input={},this.input[t]=e,this.updateModelValue(this.input)):!this.input&&e&&(this.input={})}catch{__log("catch",this.input,t,e)}}}},jv={class:"locale"};function zv(e,t,a,i,n,s){return d(),y("div",jv,[e.languages&&e.languages.length&&e.languages.length>0?(d(!0),y(F,{key:0},B(e.languages,o=>(d(),g(Te(`${a.type}`),P({key:o.value,ref_for:!0},s.attributesPerLang[`${o.value}`],{class:[o.value===e.currentLocale.value||n.isCustomForm?"":"d-none"],"onUpdate:modelValue":l=>s.modelUpdated(l,o.value)}),{appendx:u(()=>[e.languages.length>1?(d(),g(Re,{key:0,onClick:t[0]||(t[0]=l=>s.updateLocale(e.currentLocale))},{default:u(()=>[D(E(e.displayedLocale)+" ",1),f(Ue,{activator:"parent",location:"top"},{default:u(()=>[D(E(e.$t("fields.switch-language")),1)]),_:1})]),_:1})):k("",!0)]),label:u(l=>[D(E(l.label)+" ",1),l.label&&l.isActive&&(l.isActive.value||l.isFocused.value)?(d(),g(Re,{key:0,style:{"font-size":"var(--v-field-label-scale)",height:"calc(var(--v-field-label-scale) * 1.5)"},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:u(()=>[D(E(e.displayedLocale),1)]),_:1})):l.label&&!e.$isset(l.isActive)?(d(),g(Re,{key:1,style:{},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:u(()=>[D(E(e.displayedLocale),1)]),_:1})):k("",!0)]),default:u(()=>[z(e.$slots,"default",{},void 0,!0)]),_:2},1040,["class","onUpdate:modelValue"]))),128)):(d(),g(Te(`${a.type}`),P({key:1,name:a.attributes.name},s.attributesNoLang(),{onChange:t[1]||(t[1]=o=>s.updateValue(!1,...arguments)),onBlur:t[2]||(t[2]=o=>e.$emit("blur")),onFocus:t[3]||(t[3]=o=>e.$emit("focus"))}),{default:u(()=>[z(e.$slots,"default",{},void 0,!0)]),_:3},16,["name"]))])}const Kv=Z(xv,[["render",zv],["__scopeId","data-v-36071674"]]),qv=Object.freeze(Object.defineProperty({__proto__:null,default:Kv},Symbol.toStringTag,{value:"Module"}));function Hv(){return fetch("https://ip2c.org/s").then(e=>e.text()).then(e=>{const t=(e||"").toString();if(!t||t[0]!=="1")throw new Error("unable to fetch the country");return t.substr(2,2)})}function ns(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){const a=e.createTextRange();a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select()}}const Gv=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]].map(e=>({name:e[0],iso2:e[1].toUpperCase(),dialCode:e[2],priority:e[3]||0,areaCodes:e[4]||null})),Wv={placeholder:"Enter a phone number",label:"Enter a Phone Number",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,mode:"international",invalidMsg:"",required:!1,allCountries:Gv,defaultCountry:"tr",enabledCountryCode:!1,enabledFlags:!0,preferredCountries:[],onlyCountries:[],ignoredCountries:[],autofocus:!1,autocomplete:"on",name:"telephone",wrapperClasses:"",inputClasses:"",inputId:"",dropdownOptions:{},inputOptions:{},maxLen:25,dynamicPlaceholder:!1},Yv={options:{...Wv}};function nt(e){return Yv.options[e]}function sn(e,t){const a=t||[],{parentNode:i}=e;return i?sn(i,a.concat(i)):a}const Zv={emits:[...Ie,"country-changed","validate","onValidate","keydown","mousedown","mouseup","input","change","focus","blur","click","space","onInput","onSpace","onBlur","onMouseup","onMousedown"],directives:{"click-outside":{bind(e,t,a){if(typeof t.value!="function"){const s=a.context.name;let o=`[Vue-click-outside:] provided expression ${t.expression} is not a function, but has to be`;s&&(o+=`Found in component ${s}`),console.warn(o)}const{bubble:i}=t.modifiers,n=s=>{const o=s.path||(s.composedPath?s.composedPath():!1)||sn(s.target);(i||o.length&&!e.contains(o[0])&&e!==o[0])&&t.value(s)};e.__vueClickOutside__=n,document.addEventListener("click",n)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},props:{...Ce(),invalidMsg:{type:String,default:()=>nt("invalidMsg")},mode:{type:String,default:()=>nt("mode")},disabledFetchingCountry:{type:Boolean,default:()=>nt("disabledFetchingCountry")},allCountries:{type:Array,default:()=>nt("allCountries")},defaultCountry:{type:String,default:()=>nt("defaultCountry")},preferredCountries:{type:Array,default:()=>nt("preferredCountries")},onlyCountries:{type:Array,default:()=>nt("onlyCountries")},ignoredCountries:{type:Array,default:()=>nt("ignoredCountries")}},setup(e,t){return{...De(e,t)}},data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:{handler(e){e&&e!==this.activeCountry&&this.choose(e,!0)},deep:!0},lastValidCountry:null,data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:null,phoneRule:e=>e?it(this.phone||"",this.activeCountry.iso2).toJSON().valid||"Geçersiz telefon numarası":"Telefon Numarası gerekli"}}}},computed:{parsedMode(){if(this.mode)if(!["international","national"].includes(this.mode))console.error('Invalid value of prop "mode"');else return this.mode;return!this.phone||this.phone[0]!=="+"?"national":"international"},filteredCountries(){return this.onlyCountries.length?this.getCountries(this.onlyCountries):this.ignoredCountries.length?this.allCountries.filter(({iso2:e})=>!this.ignoredCountries.includes(e.toUpperCase())&&!this.ignoredCountries.includes(e.toLowerCase())):this.allCountries},sortedCountries(){return[...this.getCountries(this.preferredCountries).map(t=>({...t,preferred:!0})),...this.filteredCountries]},phoneObject(){const e=it(this.phone||"",this.activeCountry.iso2).toJSON();return Object.assign(e,{isValid:e.valid,country:this.activeCountry}),this.phone?e:{...e,number:{_phone:""}}},phoneText(){let e="_phone";return this.phoneObject.isValid?e=this.parsedMode:this.boundProps.validate=!1,this.phoneObject.number[e]||""}},watch:{"phoneObject.valid":function(e){e&&(this.phone=this.phoneText,this.lastValidCountry={...this.activeCountry}),this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)},modelValue(e,t){__isString(e)&&(this.phone=this.modelValue)},open(e){e?this.$emit("open"):this.$emit("close")},phone:{handler(e,t){if(e){if(e[0]==="+"){const a=it(e).getRegionCode();if(a){const i=this.findCountry(a);i&&(this.activeCountry=i,this.countryCode=i)}}else for(const a of this.sortedCountries)if(it(e,a.iso2).valid){this.activeCountry=a,this.countryCode=a;break}}t&&this.cursorPosition<t.length&&this.$nextTick(()=>{ns(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},immediate:!0},activeCountry(e){e&&e.iso2&&(this.boundProps.placeholder=Rl.getExample(e.iso2).toJSON().number.national,this.boundProps.persistentPlaceholder=!0,this.$emit("country-changed",e))},countryCode(e,t){this.choose(e,!0)}},mounted(){this.$watch(`$refs.${this.getReference("countryInput")}.isResetting`,e=>e&&this.reset()),(!this.activeCountry||!this.activeCountry.iso2)&&this.reset()},created(){if(this.modelValue&&(this.phone=this.modelValue.trim(),this.phone[0]==="+")){const e=it(this.phone).getRegionCode();if(e){const t=this.findCountry(e);t&&(this.activeCountry=t,this.countryCode=t)}}__isset(this.boundProps.rules)||(this.boundProps.rules=[]),this.boundProps.rules.push(this.phoneRule)},methods:{inputOnSet(e,t){if((e||__isString(e))&&e[0]==="+"){const a=it(e).getRegionCode();a&&(this.activeCountry=this.findCountry(a)||this.activeCountry)}t&&this.cursorPosition<t.length&&this.$nextTick(()=>{ns(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},initializeCountry(){return new Promise(e=>{if(this.phone&&this.phone[0]==="+"){const a=it(this.input).getRegionCode();if(a){this.choose(a),e();return}}if(this.defaultCountry){const a=this.findCountry(this.defaultCountry);if(a){this.choose(a),e();return}}const t=this.findCountry(this.preferredCountries[0])||this.filteredCountries[0];this.disabledFetchingCountry?(this.choose(t),e()):Hv().then(a=>{this.phone===""&&(this.activeCountry=this.findCountry(a)||this.activeCountry)}).catch(a=>{console.warn(a),this.choose(t)}).finally(()=>{e()})})},getCountries(e=[]){return e.map(t=>this.findCountry(t)).filter(Boolean)},findCountry(e=""){return this.allCountries.find(t=>t.iso2===e.toUpperCase())},getItemClass(e,t){const a=this.selectedIndex===e,i=e===this.preferredCountries.length-1,n=this.preferredCountries.some(s=>s.toUpperCase()===t);return{highlighted:a,"last-preferred":i,preferred:n}},choose(e,t=!1){if(this.activeCountry=e||this.activeCountry||{},this.phone&&this.phone[0]==="+"&&this.activeCountry.iso2&&this.phoneObject.number.significant){const a=it(this.phoneObject.number.significant,this.activeCountry.iso2);a.valid&&(this.phone=a.getNumber("international"))}else this.inputOptions&&this.inputOptions.showDialCode&&e&&e.dialCode&&(this.phone=`+${e.dialCode}`);this.countryCode=this.activeCountry,t&&(this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject))},reset(){this.activeCountry&&this.activeCountry.iso2&&(this.countryCode=this.activeCountry),this.initializeCountry().then(()=>{!this.phone&&this.inputOptions&&this.inputOptions.showDialCode&&this.activeCountry.dialCode&&(this.phone=`+${this.activeCountry.dialCode}`),this.countryCode=this.activeCountry,this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)}).catch(console.error).finally(()=>{this.finishMounted=!0}),this.open=!1},onInput(e){e&&e.target&&(this.cursorPosition=e.target.selectionStart)},onBlur(){this.$emit("blur"),this.$emit("onBlur")},onFocus(e){this.$emit("focus",e)},onClick(e){this.$emit("click",e)},onChange(e){this.$emit("change",e)},onMouseUp(e){this.$emit("mouseup",e)},onMouseDown(e){this.$emit("mousedown",e)},onKeyDown(e){this.$emit("keydown",e)},onEnter(){this.$emit("enter"),this.$emit("onEnter")},onSpace(){this.$emit("space"),this.$emit("onSpace")},focus(){this.$refs[this.getReference("phoneInput")].focus()},toggleDropdown(){this.disabled||(this.open=!this.open)},clickedOutside(){this.open=!1},keyboardNav(e){if(e.keyCode===40){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=0:this.selectedIndex=Math.min(this.sortedCountries.length-1,this.selectedIndex+1);const t=this.$refs.list.children[this.selectedIndex];t.offsetTop+t.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight&&(this.$refs.list.scrollTop=t.offsetTop-this.$refs.list.clientHeight+t.clientHeight)}else if(e.keyCode===38){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=this.sortedCountries.length-1:this.selectedIndex=Math.max(0,this.selectedIndex-1);const t=this.$refs.list.children[this.selectedIndex];t.offsetTop<this.$refs.list.scrollTop&&(this.$refs.list.scrollTop=t.offsetTop)}else if(e.keyCode===13)this.selectedIndex!==null&&this.choose(this.sortedCountries[this.selectedIndex]),this.open=!this.open;else{this.typeToFindInput+=e.key,clearTimeout(this.typeToFindTimer),this.typeToFindTimer=setTimeout(()=>{this.typeToFindInput=""},700);const t=this.sortedCountries.slice(this.preferredCountries.length).findIndex(a=>a.name.toLowerCase().startsWith(this.typeToFindInput));if(t>=0){this.selectedIndex=this.preferredCountries.length+t;const a=this.$refs.list.children[this.selectedIndex],i=a.offsetTop<this.$refs.list.scrollTop,n=a.offsetTop+a.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight;(i||n)&&(this.$refs.list.scrollTop=a.offsetTop-this.$refs.list.clientHeight/2)}}}}};function Qv(e,t,a,i,n,s){return d(),g(ue,{"no-gutters":"",class:W(["vue-tel-input-vuetify flex-nowrap",e.$lodash.pick(e.boundProps,["wrapperClasses"])??e.getDefault("wrapperClasses")])},{default:u(()=>[f(vi,P({class:"flex-grow-0 flex-shrink-1",ref:e.makeReference("countryInput"),modelValue:n.countryCode,"onUpdate:modelValue":t[0]||(t[0]=o=>n.countryCode=o)},e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{items:s.sortedCountries,"item-title":"name","item-value":"iso2","menu-props":{maxHeight:200},autocomplete:"off","return-object":"","onUpdate:modelValue":s.choose}),{selection:u(()=>[n.activeCountry&&n.activeCountry.iso2?(d(),y("div",{key:0,class:W([n.activeCountry.iso2.toLowerCase(),"vti__flag"])},null,2)):k("",!0)]),item:u(({item:o,props:l})=>[f(he,te(ne(l)),{prepend:u(()=>[b("div",{class:W([o.raw.iso2.toLowerCase(),"vti__flag"])},null,2)]),default:u(()=>[f(Rt,null,{default:u(()=>[D(" +"+E(o.raw.dialCode),1)]),_:2},1024)]),_:2},1040)]),_:1},16,["modelValue","items","onUpdate:modelValue"]),f(je,P({ref:e.makeReference("phoneInput"),type:"tel",class:"flex-grow-1 flex-shrink-0",modelValue:n.phone,"onUpdate:modelValue":t[1]||(t[1]=o=>n.phone=o)},e.boundProps,{onInput:s.onInput,onBlur:s.onBlur,onFocus:s.onFocus,onClick:s.onClick,onChange:s.onChange,onMousedown:s.onMouseDown,onMouseup:s.onMouseUp,onKeydown:s.onKeyDown,onKeyup:[Pt(s.onEnter,["enter"]),Pt(s.onSpace,["space"])]}),null,16,["modelValue","onInput","onBlur","onFocus","onClick","onChange","onMousedown","onMouseup","onKeydown","onKeyup"])]),_:1},8,["class"])}const Xv=Z(Zv,[["render",Qv]]),Jv=Object.freeze(Object.defineProperty({__proto__:null,default:Xv},Symbol.toStringTag,{value:"Module"})),e1={name:"ue-currency-number",props:{modelValue:Number},setup(e,t){return{...Nc(e)}},created(){}};function t1(e,t,a,i,n,s){return d(),g(je,P({modelValue:e.formattedValue,"onUpdate:modelValue":t[0]||(t[0]=o=>e.formattedValue=o)},{...e.$bindAttributes(e.$lodash.pick(e.$attrs,["label"]))},{ref:"inputRef",rules:[]}),ye({_:2},[B(e.$slots,(o,l)=>({name:l,fn:u(m=>[z(e.$slots,l,te(ne(m)))])}))]),1040,["modelValue"])}const a1=Z(e1,[["render",t1]]),s1={name:"v-input-price",emits:[...Ie],components:{CurrencyNumber:a1},props:{...Ce(),modelValue:{type:Array,default(){return[{display_price:1,currency_id:1,vat_rate_id:1,price_type_id:1}]}},priceInputName:{type:String,default:"display_price"},currencyInputName:{type:String,default:"currency_id"},numberMultiplier:{type:Number,default:100},items:{type:Array},vatRates:{type:Array,default:()=>[]},rules:{type:Array,default:()=>[]},error:{type:Boolean,default:!1}},setup(e,t){return{...De(e,t)}},data(){return{deepModel:Array.isArray(this.modelValue)?this.modelValue.map(e=>e):[this.modelValue]}},methods:{changeCurrency(e,t){const a=this.currencies.findIndex(i=>i.id===this.modelValue[t][this.currencyInputName]);this.deepModel[t][this.currencyInputName]=a===this.totalCurrencies-1?this.currencies[0].id:this.currencies[a+1].id},updateNumberInput(e,t){this.deepModel[t][this.priceInputName]=e},updateVatRate(e,t){this.deepModel[t].vat_rate_id=e},updateModelValue(){this.$emit("update:modelValue",this.deepModel.map(e=>e))}},watch:{modelValue:{deep:!0,handler(e,t){e?this.deepModel=Array.isArray(e)?e.map(a=>a):[e]:this.deepModel=[{display_price:1,currency_id:1}]}},deepModel:{deep:!0,handler(e){}}},computed:{currencies(){return this.items},displayedCurrency(){return this.deepModel.map((e,t)=>this.currencies.find(a=>a.id===e[this.currencyInputName]).name)},totalCurrencies(){return this.currencies.length}},created(){}},i1={class:"d-flex w-100 ga-2"},n1={key:0,class:"w-100 d-flex justify-center"},l1=b("div",{class:"text-h6 text-white mb-2"},"Total Pay:",-1),r1={class:"text-h2 text-white font-weight-bold"};function o1(e,t,a,i,n,s){const o=x("CurrencyNumber");return d(!0),y(F,null,B(n.deepModel,(l,m)=>(d(),y(F,{key:`price-${m}`},[b("div",i1,[f(o,P({class:"flex-grow-1",ref_for:!0},{label:e.label,...e.$attrs},{name:`${e.$attrs.name}-${m}`,modelValue:n.deepModel[m][a.priceInputName],"onUpdate:modelValue":c=>s.updateNumberInput(c,m)}),{"append-inner":u(({isActive:c,isFocused:r,controlRef:h,focus:_,blur:p})=>[f(Re,{onClick:A=>s.changeCurrency(A,m)},{default:u(()=>[D(E(s.displayedCurrency[m]),1)]),_:2},1032,["onClick"])]),_:2},1040,["name","modelValue","onUpdate:modelValue"]),ve(f(Lt,P({ref_for:!0},{...e.$lodash.omit(e.$attrs,["rules","error","errorMessages"])},{label:e.$t("VAT Rate"),items:a.vatRates,class:"flex-grow-0",modelValue:n.deepModel[m].vat_rate_id,"onUpdate:modelValue":c=>n.deepModel[m].vat_rate_id=c}),null,16,["label","items","modelValue","onUpdate:modelValue"]),[[Tt,a.vatRates.length>0]])]),a.vatRates.length>0?(d(),y("div",n1,[f(ce,{class:"w-75",color:"success",rounded:"lg",elevation:"0"},{default:u(()=>[f(Ae,{class:"text-center py-6"},{default:u(()=>{var c;return[l1,b("div",r1,E(s.displayedCurrency[m]+" "+(n.deepModel[m].display_price*(1+((c=e.$lodash.find(a.vatRates,["value",n.deepModel[m].vat_rate_id]))==null?void 0:c.rate)/100)).toFixed(2)),1)]}),_:2},1024)]),_:2},1024)])):k("",!0)],64))),128)}const d1=Z(s1,[["render",o1]]),u1=Object.freeze(Object.defineProperty({__proto__:null,default:d1},Symbol.toStringTag,{value:"Module"})),c1={name:"v-input-process",emits:[...Ie],components:{},props:{...Ce(),color:{type:String,default:"primary"},cardVariant:{type:String,default:"outlined"},process:{type:Object},processableTitle:{type:String,default:"name"},schema:{type:Object},formatters:{type:Object,default:()=>{}},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},processableEditableRoles:{type:Array,default:()=>["superadmin"]},processEditableRoles:{type:Array,default:()=>["superadmin"]},actionRoles:{type:Object,default:()=>{}}},setup(e,t){const a=l=>l,i=l=>{t.emit("update:modelValue",l)},n=X(null),s=U(()=>{var l;return((l=n.value)==null?void 0:l.validModel)??null}),o=re({UeForm:n,formIsValid:s});return{...De(e,{...t,initializeInput:a,updateModelValue:i}),...ie(o)}},data:function(){var e;return{loading:!this.process,updating:!1,processModel:this.process,processableModel:((e=this==null?void 0:this.process)==null?void 0:e.processable)??null,reason:"",formActive:!1,formSchema:this.process?this.formatSchema():null,promptModalActive:!1}},computed:{title(){return this.$lodash.get(this.processModel.processable,this.processableTitle,"")}},watch:{input:{handler(e,t){},immediate:!0},processableModel:{handler(e){},immediate:!0}},methods:{setSchema(){this.formSchema=this.formatSchema()},formatSchema(){let e={},t=this.$lodash.get(this.processModel,"processable",{});if(this.schema&&__isObject(this.schema)&&(e=this.schema,this.formatters&&__isObject(this.formatters))){for(const[a,i]of Object.entries(this.formatters))if(e[a])for(const[n,s]of Object.entries(i)){__isString(s)&&(s=s.split(","));let[o,l]=s;if(__isset(t[o])){let m=t[o];__isset(m[l])&&(e[a][n]=m[l])}}}return e},fetchProcess(){if(this.input>0&&!this.process){const e=this.fetchEndpoint.replace(":id",this.input);this.loading=!0;const t=this;axios.get(e).then(a=>{var i;t.loading=!1,t.processModel=a.data,t.processableModel=((i=t.processModel)==null?void 0:i.processable)??{},t.setSchema()})}},updateProcess(e){if(this.input){this.updating=!0;const t=this.updateEndpoint.replace(":id",this.input),a={status:e,reason:this.reason},i=this;axios.put(t,a).then(n=>{i.updating=!1,i.promptModalActive=!1,i.reason="",i.$store.commit(pe.SET_ALERT,{message:n.data.message,variant:n.data.variant}),i.fetchProcess()})}},updateProcessable(){if(this.input){let e={...this.$lodash.omit(this.UeForm.model,["id"])};const t=this.updateEndpoint.replace(":id",this.input),a=this;axios.put(t,e).then(i=>{i.data.variant==="success"&&(a.$store.commit(pe.SET_ALERT,{message:i.data.message,variant:i.data.variant}),a.$refs.formModal&&typeof a.$refs.formModal.close=="function"&&a.$refs.formModal.close(),a.fetchProcess())})}},canAction(e){return!this.$isset(this.actionRoles[e])||this.$hasRoles(this.actionRoles[e])},confirmPrompt(e){this.updateProcess(e)}},created(){this.fetchProcess()}};function m1(e,t,a,i,n,s){var _,p;const o=x("ue-form"),l=x("v-btn-secondary"),m=x("v-btn-primary"),c=x("ue-modal"),r=x("ue-list-section"),h=x("ue-filepond-preview");return d(),y("div",null,[e.formSchema&&e.processableModel?(d(),g(c,{key:0,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":t[3]||(t[3]=A=>e.formActive=A),scrollablex:"",transition:"dialog-bottom-transition","width-type":"md",full:""},{body:u(A=>[f(ce,{class:"fill-height d-flex flex-column"},{default:u(()=>[f(o,{ref:"UeForm",modelValue:e.processableModel,"onUpdate:modelValue":t[0]||(t[0]=M=>e.processableModel=M),schema:e.formSchema,title:s.title,style:me(A.isFullActive?"height: 90vh !important;":"height: 70vh !important;"),"is-editing":"","fill-height":"",scrollable:"","has-divider":""},null,8,["modelValue","schema","title","style"]),f(fe,{class:"mx-6 mt-4"}),f(Be,{class:"px-6 flex-grow-0"},{default:u(()=>[f(Se),f(l,{slim:!1,variant:"outlined",onClick:t[1]||(t[1]=M=>e.$refs.formModal.close())},{default:u(()=>[D(E(e.$t("Close")),1)]),_:1}),e.$store.getters.isSuperAdmin?(d(),g(l,{key:0,slim:!1,variant:"outlined",onClick:t[2]||(t[2]=M=>e.UeForm.validate())},{default:u(()=>[D(E(e.$t("Validate")),1)]),_:1})):k("",!0),f(m,{slim:!1,variant:"elevated",onClick:s.updateProcessable,disabled:!e.formIsValid},{default:u(()=>[D(E(e.$t("fields.save")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"])):k("",!0),f(ce,{color:((_=e.processModel)==null?void 0:_.status_card_color)??a.color,variant:((p=e.processModel)==null?void 0:p.status_card_variant)??a.cardVariant,class:"mb-4 w-100 h-100 d-flex flex-column"},{default:u(()=>[e.loading?(d(),g(bi,{key:0,type:"table-heading, list-item-three-line",class:"mb-4 w-100 h-100",style:{"min-height":"300px"}})):(d(),y(F,{key:1},[f(Ae,null,{default:u(()=>[f(r,{class:"mb-4",items:[{title:s.title,value:e.processModel.status_label}],"item-fields":["title","value"],"col-classes":["text-h5 font-weight-medium","d-flex justify-end"],"col-ratios":[1,2]},{"field.1":u(A=>[f(Re,{"prepend-icon":e.processModel.status_icon,color:e.processModel.status_color,class:"text-subtitle-1"},{default:u(()=>[D(E(e.processModel.status_label),1)]),_:1},8,["prepend-icon","color"])]),_:1},8,["items"]),e.$hasRoles(a.processableEditableRoles)?(d(),g(ue,{key:0},{default:u(()=>[e.formSchema&&e.processableModel?(d(),g(ee,{key:0,cols:"12",class:"text-center"},{default:u(()=>[f(q,{colorx:"primary",color:"",density:"compact",variant:"outlined",onClick:t[4]||(t[4]=A=>e.$log("edit",e.$refs.formModal.open())),class:"mb-4"},{default:u(()=>[D(E(e.$t("Edit")),1)]),_:1})]),_:1})):k("",!0)]),_:1})):k("",!0),e.processableModel?(d(!0),y(F,{key:1},B(e.formSchema,A=>{var M;return d(),g(r,{key:A.name,items:[{title:A.label??e.$t("Unknown"),value:(M=e.processableModel)==null?void 0:M[A.name]}],"col-element":"div","item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"item-classes":"text-body-2","col-ratios":[1,2],"vertical-align-top":""},{"field.1":u(S=>[A.type==="input-filepond"?(d(),g(h,{key:0,source:S.value,"show-inline-file-name":"","image-size":"24",style:{width:"155px"}},null,8,["source"])):(d(),y(F,{key:1},[D(E(S.value),1)],64))]),_:2},1032,["items"])}),128)):k("",!0),e.processModel.last_history&&e.processModel.last_history.reason?(d(),g(r,{key:2,items:[{title:e.processModel.status_reason_label,value:e.processModel.last_history.reason}],"item-fields":["title","value"],"col-classes":["font-weight-bold text-wrap","d-flex justify-start"],"col-ratios":[1,2]},null,8,["items"])):k("",!0)]),_:1}),f(Se),e.$hasRoles(a.processEditableRoles)?(d(),g(Be,{key:0,class:"px-4"},{default:u(()=>[f(ue,null,{default:u(()=>[e.processModel&&e.processModel.status?(d(),g(ee,{key:0,cols:"12",class:"text-center"},{default:u(()=>[e.processModel.status==="preparing"&&s.canAction(e.processModel.status)?(d(),g(q,{key:0,color:e.processModel.next_action_color,variant:"elevated",loading:e.updating,onClick:t[5]||(t[5]=A=>s.updateProcess("waiting_for_confirmation"))},{default:u(()=>[D(E(e.processModel.next_action_label),1)]),_:1},8,["color","loading"])):e.processModel.status.match(/waiting_for_confirmation|waiting_for_reaction/)&&s.canAction(e.processModel.status)?(d(),y(F,{key:1},[f(c,{ref:"promptModal",modelValue:e.promptModalActive,"onUpdate:modelValue":t[9]||(t[9]=A=>e.promptModalActive=A),"width-type":"sm",transition:"dialog-bottom-transition"},{activator:u(({props:A})=>[f(q,P({color:"error",variant:"outlined",class:"mr-2"},A),{default:u(()=>[f(le,{left:""},{default:u(()=>[D("mdi-close")]),_:1})]),_:2},1040)]),body:u(A=>[f(ce,null,{default:u(()=>[f(Ae,null,{default:u(()=>[f(ja,{modelValue:e.reason,"onUpdate:modelValue":t[6]||(t[6]=M=>e.reason=M),variant:"outlined",label:"Reason"},null,8,["modelValue"])]),_:1}),f(Be,null,{default:u(()=>[f(q,{slim:!1,color:"grey",variant:"outlined",disabled:e.updating,onClick:t[7]||(t[7]=M=>e.promptModalActive=!1)},{default:u(()=>[D(E(e.$t("Close")),1)]),_:1},8,["disabled"]),f(q,{color:"error",slim:!1,variant:"elevated",disabled:!e.reason,loading:e.updating,onClick:t[8]||(t[8]=M=>s.confirmPrompt("rejected"))},{default:u(()=>[D(E(e.$t("Reject")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),f(q,{color:"success",variant:"elevated",loading:e.updating,onClick:t[10]||(t[10]=A=>s.updateProcess("confirmed"))},{default:u(()=>[f(le,{left:""},{default:u(()=>[D("mdi-check")]),_:1})]),_:1},8,["loading"])],64)):e.processModel.status==="rejected"&&s.canAction(e.processModel.status)?(d(),g(q,{key:2,color:e.processModel.next_action_color,variant:"elevated",onClick:t[11]||(t[11]=A=>s.updateProcess("waiting_for_reaction"))},{default:u(()=>[D(E(e.processModel.next_action_label),1)]),_:1},8,["color"])):k("",!0)]),_:1})):k("",!0)]),_:1})]),_:1})):k("",!0)],64))]),_:1},8,["color","variant"])])}const f1=Z(c1,[["render",m1]]),h1=Object.freeze(Object.defineProperty({__proto__:null,default:f1},Symbol.toStringTag,{value:"Module"})),p1={name:"v-input-radio-group",emits:[...Ie],components:{Checklist:Ja},props:{...Ce(),modelValue:{type:Object,default:()=>""},items:{type:Object,default:()=>[]},itemTitle:{type:String,default:"name"},itemValue:{type:String,default:"id"},descriptionTitle:{type:String,default:"description"}},setup(e,t){return{...De(e,{...t,initializeInput:i=>i})}},data:function(){return{}},computed:{},watch:{},methods:{},created(){}},g1=["innerHTML"];function y1(e,t,a,i,n,s){const o=x("ue-title");return d(),g(va,{modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=l=>e.input=l),direction:"horizontal",class:"v-input-radio-group","hide-details":""},{default:u(()=>[e.label?(d(),g(o,{key:0,text:e.label,color:"grey-darken-5",padding:"b-4",margin:"b-0",transform:"none"},null,8,["text"])):k("",!0),f(ue,null,{default:u(()=>[(d(!0),y(F,null,B(a.items,(l,m)=>(d(),g(ee,{key:`col-${l[a.itemValue]}`,cols:12,md:6},{default:u(()=>[f(q,{block:"",class:"v-input-radio-group__btn",variant:e.input==l[a.itemValue]?"elevated":"outlined",onClick:c=>e.input=l[a.itemValue],disabled:e.$attrs.disabled??!1},{prepend:u(()=>[f(Wt,{value:l[a.itemValue],disabled:e.$attrs.disabled??!1},null,8,["value","disabled"])]),default:u(()=>[D(" "+E(l[a.itemTitle].toUpperCase()),1)]),_:2},1032,["variant","onClick","disabled"]),l[a.descriptionTitle]?(d(),y("div",{key:0,class:"text-caption pa-2",innerHTML:l[a.descriptionTitle]},null,8,g1)):k("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}const _1=Z(p1,[["render",y1]]),b1=Object.freeze(Object.defineProperty({__proto__:null,default:_1},Symbol.toStringTag,{value:"Module"})),v1={name:"v-input-repeater",emits:[...Ie],components:{Draggable:Ra},props:{...wa(),...Pc(),noToolbar:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1}},setup(e,t){return{...Ri(e),...$c(e,t)}},data(){return{isOpen:!0}},computed:{},methods:{},watch:{},created(){}},A1={class:"w-100"},E1={key:0,class:"d-flex"},w1={class:"d-flex flex-column"},S1={class:"mt-4"},k1={key:1,class:W(["v-input-repeater__block v-input-repeater__block--draggable"])},C1={key:0,class:"v-input-repeater__item--toolbar"},T1={key:0,class:"v-input-repeater__item--toolbar"},M1={key:3,class:"v-input-repeater__bottom mb-12"},I1={class:"d-flex"},D1={class:"ml-auto"};function O1(e,t,a,i,n,s){const o=x("ue-title"),l=x("ue-recursive-stuff"),m=x("v-custom-form-base"),c=x("Draggable"),r=x("ue-collapsible");return d(),g(Ke,{class:"v-input-repeater"},{default:u(()=>[b("div",A1,[f(r,{modelValue:n.isOpen,"onUpdate:modelValue":t[3]||(t[3]=h=>n.isOpen=h),"no-collapse":!a.collapsible,"no-header-background":"","horizontal-padding":0,"vertical-padding":0},ye({default:u(()=>[b("div",S1,[e.hasHeaders?(d(),g(ue,{key:0,class:"mb-4","no-gutters":""},{default:u(()=>[(d(!0),y(F,null,B(e.headers,h=>(d(),g(ee,P({key:h.title,ref_for:!0},h.col),{default:u(()=>[D(E(h.title),1)]),_:2},1040))),128))]),_:1})):k("",!0),e.draggable?(d(),y("div",k1,[f(c,P({class:"v-input-repeater__content",modelValue:e.repeaterInputs,"onUpdate:modelValue":t[1]||(t[1]=h=>e.repeaterInputs=h),"item-key":"id"},e.dragOptions),{item:u(h=>[b("div",null,[f(wt,null,{default:u(({isHovering:_,props:p})=>[b("div",P({class:["v-input-repeater__item",_?"active":"",e.draggable?"draggable":""]},p),[b("div",{class:W(["v-input-repeater__item--body",{gutter:e.withGutter}])},[a.noToolbar?k("",!0):(d(),y("div",C1,[e.isAddible?(d(),g(q,{key:0,onClick:t[0]||(t[0]=A=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:u(()=>[f(le,{size:"x-small",icon:"mdi-plus"})]),_:1})):k("",!0),e.isUnique?k("",!0):(d(),g(q,{key:1,onClick:A=>e.duplicateRepeaterBlock(h.index),variant:"text",density:"compact",class:"",icon:""},{default:u(()=>[f(le,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),f(q,{onClick:A=>e.deleteRepeaterBlock(h.index),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:u(()=>[f(le,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),f(m,{id:`ue-repeater-form-${h.index}`,modelValue:h.element,"onUpdate:modelValue":A=>e.onUpdateRepeaterInput(A,h.index),schema:e.repeaterSchemas[h.index],"onUpdate:schema":A=>console.log(e.repeaterSchemas[h.index]),row:e.formRowAttribute},ye({_:2},[B(e.selectFieldSlots[h.index],(A,M)=>({name:`slot-inject-${A.name}-key-ue-repeater-form-${h.index}-${A.inputName}`,fn:u(S=>[(d(!0),y(F,null,B(A.context.elements,(v,C)=>(d(),g(l,{key:C,configuration:v,bindData:S},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row"])],2)],16)]),_:2},1024)])]),_:1},16,["modelValue"])])):(d(),g(ue,P({key:2,class:"v-input-repeater__block"},e.rowAttribute),{default:u(()=>[(d(!0),y(F,null,B(e.repeaterInputs,(h,_)=>(d(),g(ee,P({key:h.id,ref_for:!0},e.$lodash.pick(e.formCol,["cols","xs","sm","md","lg","xl"])),{default:u(()=>[f(wt,null,{default:u(({isHovering:p,props:A})=>[b("div",P({class:["v-input-repeater__item",p?"active":"",e.draggable?"draggable":""],ref_for:!0},A),[b("div",{class:W(["v-input-repeater__item--body",{gutter:e.withGutter}])},[a.noToolbar?k("",!0):(d(),y("div",T1,[e.isAddible?(d(),g(q,{key:0,onClick:t[2]||(t[2]=M=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:u(()=>[f(le,{size:"x-small",icon:"mdi-plus"})]),_:1})):k("",!0),e.isUnique?k("",!0):(d(),g(q,{key:1,onClick:M=>e.duplicateRepeaterBlock(_),variant:"text",density:"compact",class:"",icon:""},{default:u(()=>[f(le,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),f(q,{onClick:M=>e.deleteRepeaterBlock(_),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:u(()=>[f(le,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),f(m,{id:`ue-repeater-form-${_}`,class:"w-100 h-100",modelValue:h,"onUpdate:modelValue":M=>e.onUpdateRepeaterInput(M,_),schema:e.repeaterSchemas[_],"onUpdate:schema":M=>console.log(e.repeaterSchemas[_]),row:e.formRowAttribute},ye({_:2},[B(e.selectFieldSlots[_],(M,S)=>({name:`slot-inject-${M.name}-key-ue-repeater-form-${_}-${M.inputName}`,fn:u(v=>[(d(!0),y(F,null,B(M.context.elements,(C,w)=>(d(),g(l,{key:w,configuration:C,bindData:v},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row"])],2)],16)]),_:2},1024)]),_:2},1040))),128))]),_:1},16)),!e.noAddButton||e.$slots.addButton||e.$slots.addButtonRight?(d(),y("div",M1,[b("div",I1,[z(e.$slots,"addButton",te(ne({text:e.addButtonContent,addRepeaterBlock:e.addRepeaterBlock,isActive:e.addButtonIsActive})),()=>[!e.noAddButton&&(e.schema.length||Object.keys(e.schema).length)?(d(),g(q,{key:0,variant:"outlined",class:"",disabled:!e.addButtonIsActive,onClick:e.addRepeaterBlock,appendIcon:"$add"},{default:u(()=>[D(E(e.addButtonContent),1)]),_:1},8,["disabled","onClick"])):k("",!0)],!0),b("div",D1,[z(e.$slots,"addButtonRight",te(ne({})),void 0,!0)])])])):k("",!0)])]),_:2},[e.label||e.subtitle||e.$slots.title||e.$slots.append?{name:"title",fn:u(()=>[(e.label||e.subtitle)&&(e.schema.length||Object.keys(e.schema).length)||e.$slots.append?(d(),y("div",E1,[b("div",w1,[e.label&&(e.schema.length||Object.keys(e.schema).length)?(d(),g(o,{key:0,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"medium"},{default:u(()=>[D(E(e.label),1)]),_:1})):k("",!0),e.subtitle&&(e.schema.length||Object.keys(e.schema).length)?(d(),g(o,{key:1,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"regular"},{default:u(()=>[D(E(e.subtitle),1)]),_:1})):k("",!0)]),z(e.$slots,"append",{},void 0,!0)])):k("",!0)]),key:"0"}:void 0]),1032,["modelValue","no-collapse"])])]),_:3})}const V1=Z(v1,[["render",O1],["__scopeId","data-v-1b36dd34"]]),F1=Object.freeze(Object.defineProperty({__proto__:null,default:V1},Symbol.toStringTag,{value:"Module"})),P1={name:"v-input-select-scroll",emits:[...Ie],props:{...Ce(),componentType:{type:String,default:"v-autocomplete"},itemsPerPage:{type:Number,default:20},endpoint:{type:String}},setup(e,t){return{...De(e,t)}},data(){return{page:1,limit:100,lastPage:-1,selectedVendorId:null,elements:[],loading:!0,search:"",noFilter:this.componentType=="v-autocomplete"?!0:null}},methods:{endIntersect(e,t,a){a&&this.getItemsFromApi()},getItemsFromApi(e){if(!(this.page>this.lastPage)||this.lastPage<0)return new Promise(()=>{this.$axios.get(this.fullUrl).then(t=>{if(this.lastPage<0&&(this.lastPage=t.data.resource.last_page),this.search==""?this.elements=this.elements.concat(t.data.resource.data??[]):this.elements=t.data.resource.data??[],this.page++,this.input){let a=!1,i=this;this.input&&this.input.length>0&&!i.elements.find(n=>n.id==this.input)&&(a=!0),a&&this.getItemsFromApi()}})})},searched(e){if(this.input){(this.search="")?(this.elements=[],this.getItemsFromApi()):this.search="";return}this.search=e,this.page=1,this.lastPage=-1,this.search==""&&(this.elements=[]),this.getItemsFromApi()},makeReference(e){return`${e}-${states.id}`}},computed:{input:{get(){return this.modelValue??null},set(e,t){this.updateModelValue(e)}},queryParameters(){return new URLSearchParams({page:this.page,itemsPerPage:this.itemsPerPage,...this.search?{search:this.search}:{}}).toString()},fullUrl(){return`${this.endpoint}?${this.queryParameters}`}},created(){this.getItemsFromApi()},watch:{}},$1={key:0};function R1(e,t,a,i,n,s){return d(),g(Te(a.componentType),P(e.$bindAttributes(),{modelValue:s.input,"onUpdate:modelValue":t[0]||(t[0]=o=>s.input=o),class:["v-select-scroll"],items:n.elements,label:e.label,"onUpdate:search":s.searched,"no-filter":n.noFilter,onInput:s.getItemsFromApi,"return-object":!1}),{"append-item":u(()=>[n.lastPage>0&&n.lastPage>n.page?ve((d(),y("div",$1,null,512)),[[Ba,s.endIntersect]]):k("",!0)]),_:1},16,["modelValue","items","label","onUpdate:search","no-filter","onInput"])}const L1=Z(P1,[["render",R1]]),U1=Object.freeze(Object.defineProperty({__proto__:null,default:L1},Symbol.toStringTag,{value:"Module"})),N1={name:"v-select-tag",emits:[...Ie],props:{...Ce(),endpoint:{type:String},selected:{type:Array}},setup(e,t){return{...De(e,t)}},data(){return{value:this.selected,elements:[],page:1,lastPage:-1,customElement:null,selectedItems:[]}},methods:{getItemsFromApi(e){return new Promise(()=>{this.$axios.get(this.fullUrl).then(t=>{if(this.lastPage<0&&(this.lastPage=t.data.resource.last_page),this.search==""?this.elements=this.elements.concat(t.data.resource.data??[]):this.elements=t.data.resource.data??[],this.page++,this.input){let a=!1,i=this;this.input&&this.input.length>0&&!i.elements.find(n=>n.id==this.input)&&(a=!0),a&&this.getItemsFromApi()}})})},makeReference(e){return`${e}-${states.id}`},handleUpdateModelValue(e){this.value=e,this.updateModelValue(e.toString()),document.getElementById("tags-form-input").value=e.toString(),this.$emit("change",e.toString())},handleSearch(e){if(!e)return;if(!e.trim()){if(this.customElement!==null&&!this.selectedItems.includes(this.customElement)){const n=this.elements.indexOf(this.customElement);n!==-1&&this.elements.splice(n,1),this.customElement=null}return}const t=Array.isArray(this.elements)?this.elements:Array.from(this.elements),a=e.toLowerCase();if(!t.some(n=>typeof n=="string"&&n.toLowerCase()===a)){if(this.customElement!==null){const n=this.elements.indexOf(this.customElement);n!==-1&&this.elements.splice(n,1,e)}else this.elements.push(e);this.customElement=e}}},computed:{input:{get(){return Array.isArray(this.value)&&this.value.length>0?typeof this.value[0]=="object"?this.value.map(e=>e.value):this.value:[]},set(e){this.handleUpdateModelValue(e)}},filteredElements(){return this.elements.filter(e=>!this.input.includes(e.id))},queryParameters(){return new URLSearchParams({page:this.page}).toString()},fullUrl(){return`${this.endpoint}?${this.queryParameters}`}},created(){this.getItemsFromApi()},watch:{selected:{handler(e){this.value=e||[]},immediate:!0}}};function B1(e,t,a,i,n,s){return d(),y("div",null,[f(vi,P(e.$bindAttributes(),{modelValue:s.input,"onUpdate:modelValue":[t[0]||(t[0]=o=>s.input=o),s.handleUpdateModelValue],variant:"outlined",clearable:"","closable-chips":"",chips:"","clear-on-select":"",label:e.label,items:s.filteredElements,multiple:"","onUpdate:search":s.handleSearch,onChange:s.input}),null,16,["modelValue","label","items","onUpdate:modelValue","onUpdate:search","onChange"]),f(je,{type:"hidden",hidden:"",name:"tags",id:"tags-form-input"})])}const nn=Z(N1,[["render",B1]]),x1=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"})),j1={class:"meta-editor"},z1=b("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Key",-1),K1=b("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Value",-1),q1=b("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Type",-1),H1=b("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Actions",-1),G1=["height"],W1={class:"px-2"},Y1={class:"px-2"},Z1={class:"px-2"},Q1={class:"px-2"},X1={__name:"Spread",props:{...Ce(),reservedKeys:{type:[Object,Array,Proxy],default:()=>({})},scrollable:{type:Boolean,default:!1},height:{type:String,default:"300px"}},emits:[...Ie],setup(e,{emit:t}){const a=e,n=De(a,{emit:t}),s=U({get:()=>n.input.value,set:R=>{n.updateModelValue.value(R)}}),o=["string","number","boolean"],l=X([]),m=X({}),c=X(!1),r=U(()=>l.value.some(R=>R.keyError)),h=(R,$)=>{const V=l.value[$];return(Array.isArray(a.reservedKeys)?a.reservedKeys.includes(R):R in a.reservedKeys)?(V.keyError=!0,V.keyErrorMessage="This key is reserved",!1):(V.keyError=!1,V.keyErrorMessage="",!0)};Nt(()=>{a.modelValue&&(m.value=ta.cloneDeep(a.modelValue),p(a.modelValue))}),se(()=>a.modelValue,R=>{(!m.value||Object.keys(m.value).length===0)&&(m.value=ta.cloneDeep(R||{}),p(R||{}))},{deep:!0});const _=()=>{l.value=l.value.filter(R=>Array.isArray(a.reservedKeys)?!a.reservedKeys.includes(R.key):!(R.key in a.reservedKeys)),s.value=K(),G()},p=R=>{l.value=Object.entries(R||{}).map(([$,V])=>({key:$,tempKey:$,currentValue:V,initialValue:V,originalValue:V,currentType:A(V),initialType:A(V),originalType:A(V),saved:!0,valueBeforeTypeChange:V,keyError:!1,keyErrorMessage:""})),_(),G()},A=R=>typeof R=="boolean"?"boolean":typeof R=="number"?"number":"string",M=R=>{const $=l.value[R];$.saved=!1,G()},S=R=>{const $=l.value[R];$.tempKey!==$.key&&($.key=$.tempKey,h($.key,R),s.value=K())},v=R=>{const $=l.value[R];$.saved=!1,$.currentType==="number"?$.currentValue=Number($.currentValue)||0:$.currentType==="boolean"&&typeof $.currentValue=="string"&&($.currentValue=$.currentValue.toLowerCase()==="true"||$.currentValue==="1"),$.savedValues?$.savedValues[$.currentType]=$.currentValue:$.savedValues={[$.currentType]:$.currentValue};const V=K();s.value=V,G()},C=R=>{const $=l.value[R],I=(o.indexOf($.currentType)+1)%o.length,O=o[I];$.currentType===$.originalType&&!$.valueBeforeTypeChange&&($.valueBeforeTypeChange=$.currentValue),O===$.originalType?($.currentType=$.originalType,$.currentValue=$.originalValue):($.currentType=O,$.currentValue=w($.originalValue,O,$.originalType,$.originalValue)),$.saved=!1,G(),s.value=K()},w=(R,$,V=null,I=null)=>{if(V&&$===V&&I!==null)return I;switch($){case"number":return Number(R)||0;case"boolean":return typeof R=="string"?R.toLowerCase()==="true"||R==="1":typeof R=="number"?R!==0:!!R;case"string":return typeof R=="boolean"?R?"true":"false":String(R);default:return String(R)}},T=R=>{l.value.splice(R,1),G(),s.value=K()},N=()=>{const R=`key_${l.value.length+1}`;l.value.push({key:R,tempKey:R,currentValue:"",initialValue:"",currentType:"string",initialType:"string",originalType:"string",saved:!1,valueBeforeTypeChange:"",keyError:!1,keyErrorMessage:""}),G(),s.value=K()},G=()=>{const R=K();c.value=!ta.isEqual(R,m.value)},K=()=>{const R={};return l.value.forEach($=>{if($.key&&$.currentValue!==void 0){let V=$.currentValue;switch($.currentType){case"number":V=Number($.currentValue)||0;break;case"boolean":typeof $.currentValue=="string"?V=$.currentValue.toLowerCase()==="true"||$.currentValue==="1":typeof $.currentValue=="number"?V=$.currentValue!==0:V=!!$.currentValue;break;case"string":V=String($.currentValue);break}R[$.key]=V}}),R},J=()=>{const R=K();m.value=ta.cloneDeep(R),l.value.forEach($=>{$.initialValue=$.currentValue,$.initialType=$.currentType,$.valueBeforeTypeChange=$.currentValue,$.saved=!0}),s.value=R,c.value=!1},L=R=>{switch(R){case"number":return"primary";case"boolean":return"success";default:return"default"}};return(R,$)=>(d(),y("div",j1,[f(ue,{"no-gutters":"",class:"header-row py-2"},{default:u(()=>[f(ee,{cols:"4"},{default:u(()=>[z1]),_:1}),f(ee,{cols:"4"},{default:u(()=>[K1]),_:1}),f(ee,{cols:"2"},{default:u(()=>[q1]),_:1}),f(ee,{cols:"2"},{default:u(()=>[H1]),_:1})]),_:1}),b("div",{class:W(["data-rows",["data-rows",{scrollable:e.scrollable}]]),height:e.height},[(d(!0),y(F,null,B(l.value,(V,I)=>(d(),g(ue,{key:V.key+I,"no-gutters":"",class:"data-row py-1"},{default:u(()=>[f(ee,{cols:"4"},{default:u(()=>[b("div",W1,[f(je,{modelValue:V.tempKey,"onUpdate:modelValue":O=>V.tempKey=O,onInput:O=>M(I),onBlur:O=>S(I),variant:"outlined",density:"compact","bg-color":"surface",error:V.keyError,"error-messages":V.keyErrorMessage,"hide-details":"auto",class:"meta-field"},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur","error","error-messages"])])]),_:2},1024),f(ee,{cols:"4"},{default:u(()=>[b("div",Y1,[V.currentType==="boolean"?(d(),g(Lt,{key:0,modelValue:V.currentValue,"onUpdate:modelValue":O=>V.currentValue=O,items:[{text:"true",value:!0},{text:"false",value:!1}],"item-title":"text","item-value":"value",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:O=>v(I)},null,8,["modelValue","onUpdate:modelValue","onInput"])):(d(),g(je,{key:1,modelValue:V.currentValue,"onUpdate:modelValue":O=>V.currentValue=O,type:V.currentType==="number"?"number":"text",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:O=>v(I)},null,8,["modelValue","onUpdate:modelValue","type","onInput"]))])]),_:2},1024),f(ee,{cols:"2"},{default:u(()=>[b("div",Z1,[f(q,{class:"type-toggle-btn",variant:"outlined",onClick:O=>C(I),color:L(V.currentType),density:"comfortable",block:""},{default:u(()=>[D(E(V.currentType.toUpperCase()),1)]),_:2},1032,["onClick","color"])])]),_:2},1024),f(ee,{cols:"2",class:"d-flex align-center"},{default:u(()=>[b("div",Q1,[f(q,{color:"error",variant:"text",onClick:O=>T(I),density:"compact",icon:""},{default:u(()=>[f(le,null,{default:u(()=>[D("mdi-trash-can-outline")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))],10,G1),f(ue,{"no-gutters":"",class:"mt-4 px-2"},{default:u(()=>[f(ee,{cols:"auto",class:"mr-2"},{default:u(()=>[f(q,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:N},{default:u(()=>[D(" Add row ")]),_:1})]),_:1}),f(ee,{cols:"auto"},{default:u(()=>[f(q,{color:"primary",disabled:!c.value||r.value,onClick:J,"prepend-icon":"mdi-content-save"},{default:u(()=>[D(" Save All ")]),_:1},8,["disabled"])]),_:1})]),_:1})]))}},J1=Object.freeze(Object.defineProperty({__proto__:null,default:X1},Symbol.toStringTag,{value:"Module"})),e0={name:"v-input-tag",emits:[...Ie],props:{...Ce(),taggable:{type:String,default:null},items:{type:Array,default:[]},multiple:{type:Boolean,default:!1},endpoint:{type:String,required:null},updateEndpoint:{type:String,required:null},itemValue:{type:String,default:"value"},itemTitle:{type:String,default:"label"}},setup(e,t){const a=Me(),i=X(!1);a.state.form.taggableItems[e.taggable]||a.commit(oe.SET_TAGGABLE_ITEMS,{taggable_type:e.taggable,items:e.items??[]});const n=U(()=>a.state.form.taggableItems[e.taggable]);return{...De(e,t),loading:i,items:n}},methods:{async handleEnter(){const e=this.input;if(!Array.isArray(e)&&!(!e||this.items.includes(e))&&!(!e||this.items.find(t=>t[this.itemValue]===e||t[this.itemTitle]===e)))try{this.loading=!0;let t=this;mt.put(this.updateEndpoint,{value:e,taggable:this.taggable},function(a){a.status===200&&t.$store.commit(oe.ADD_TAGGABLE_ITEM,{taggable_type:t.taggable,item:{[t.itemValue]:a.data.id,[t.itemTitle]:e}})});return}catch(t){console.error("Error creating new item:",t)}finally{this.loading=!1}}}};function t0(e,t,a,i,n,s){return d(),g(Ai,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=o=>e.input=o),items:i.items,loading:i.loading,"item-value":a.itemValue,"item-title":a.itemTitle,multiple:a.multiple,"onUpdatex:search":e.handleSearch,onKeydown:Pt(s.handleEnter,["enter"]),class:"v-input-tag"},null,8,["modelValue","items","loading","item-value","item-title","multiple","onUpdatex:search","onKeydown"])}const a0=Z(e0,[["render",t0]]),s0=Object.freeze(Object.defineProperty({__proto__:null,default:a0},Symbol.toStringTag,{value:"Module"})),i0={name:"v-input-tagger",emits:[...Ie],components:{},props:{...Ce(),items:{type:Array},multiple:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},colors:{type:Array,default:()=>["green","purple","indigo","cyan","teal","orange"]},returnItemValue:{type:Boolean,default:!1}},setup(e,t){return{...De(e,t)}},data:function(){return{editingItem:null,nonce:1,search:null,model:[]}},computed:{handleKey(){return this.returnItemValue?this.itemValue:this.itemTitle}},watch:{model(e,t){if(e.length===t.length)return;this.model=e.map(i=>(typeof i=="string"&&(i={[this.itemTitle]:i,[this.itemValue]:i,color:this.colors[this.nonce%this.colors.length]},this.items.push(i),this.nonce++),i));let a=this.model.map(i=>i[this.handleKey]);a!==this.input&&(this.input=a)}},methods:{edit(e){this.editingItem?this.editingItem=null:this.editingItem=e},filter(e,t,a){const i=m=>String(m??"").toLowerCase(),n=i(t),o=this.items.filter(m=>!this.model.includes(m)).some(m=>!m.header&&i(m[this.itemTitle]).includes(n));return a.raw.header?!o:i(a.raw[this.itemTitle]).includes(n)},removeSelection(e){this.model=[...this.model.slice(0,e),...this.model.slice(e+1)]}},mounted(){this.model=this.items.reduce((e,t)=>(t.header||this.input.includes(t[this.handleKey])&&e.push(t),e),[])},created(){}},n0=b("span",{class:"mr-3"},"Create",-1);function l0(e,t,a,i,n,s){return d(),g(Ke,{modelValue:e.input,"onUpdate:modelValue":t[5]||(t[5]=o=>e.input=o),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-tagger"},{default:u(o=>[f(Ai,P(e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{label:e.label,"hide-selected":"",items:a.items,loading:a.loading,multiple:a.multiple,itemValue:a.itemValue,itemTitle:a.itemTitle,modelValue:e.model,"onUpdate:modelValue":t[3]||(t[3]=l=>e.model=l),search:e.search,"onUpdate:search":t[4]||(t[4]=l=>e.search=l),"custom-filter":s.filter}),{selection:u(({item:l,index:m})=>[l===Object(l)?(d(),g(Re,{key:0,color:`${l.raw.color}-lighten-3`,text:l.title,size:"small",variant:"flat",closable:"",label:"","onClick:close":c=>s.removeSelection(m)},null,8,["color","text","onClick:close"])):k("",!0)]),item:u(({props:l,item:m})=>[m.raw.header&&e.search?(d(),g(he,{key:0},{default:u(()=>[n0,f(Re,{color:`${a.colors[e.nonce-1]}-lighten-3`,size:"small",variant:"flat",label:""},{default:u(()=>[D(E(e.search),1)]),_:1},8,["color"])]),_:1})):m.raw.header?(d(),g(Al,{key:1,title:l.title},null,8,["title"])):(d(),g(he,{key:2,onClick:l.onClick},{append:u(()=>[f(q,{color:e.editingItem!==m.raw?"primary":"success",icon:e.editingItem!==m.raw?"mdi-pencil":"mdi-check",size:"small",variant:"text",onClick:Le(c=>s.edit(m.raw),["stop","prevent"])},null,8,["color","icon","onClick"])]),default:u(()=>[e.editingItem===m.raw?(d(),g(je,{key:0,modelValue:e.editingItem[a.itemTitle],"onUpdate:modelValue":t[0]||(t[0]=c=>e.editingItem[a.itemTitle]=c),"bg-color":"transparent",class:"mr-3",density:"compact",variant:"plain",autofocus:"","hide-details":"",onClick:t[1]||(t[1]=Le(()=>{},["stop"])),onKeydown:t[2]||(t[2]=Le(()=>{},["stop"])),onKeyup:Pt(c=>s.edit(m.raw),["enter"])},null,8,["modelValue","onKeyup"])):(d(),g(Re,{key:1,color:`${m.raw.color}-lighten-3`,text:l.title,variant:"flat",label:""},null,8,["color","text"]))]),_:2},1032,["onClick"]))]),_:1},16,["label","items","loading","multiple","itemValue","itemTitle","modelValue","search","custom-filter"])]),_:1},8,["modelValue","variant"])}const r0=Z(i0,[["render",l0]]),o0=Object.freeze(Object.defineProperty({__proto__:null,default:r0},Symbol.toStringTag,{value:"Module"}));var It={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},vs,As,Es,ws,Ss,ks,Cs,Ts,Ms,Is,Ds,Os;const d0={crops:((As=(vs=window[It.VUE_APP_NAME])==null?void 0:vs.STORE)==null?void 0:As.medias.crops)||{},showFileName:((ws=(Es=window[It.VUE_APP_NAME])==null?void 0:Es.STORE)==null?void 0:ws.medias.showFileName)||!1,types:((ks=(Ss=window[It.VUE_APP_NAME])==null?void 0:Ss.STORE)==null?void 0:ks.medias.types)||[],type:"image",connector:null,isInserted:!1,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:((Ts=(Cs=window[It.VUE_APP_NAME])==null?void 0:Cs.STORE)==null?void 0:Ts.medias.selected)||{},config:((Is=(Ms=window[It.VUE_APP_NAME])==null?void 0:Ms.STORE)==null?void 0:Is.medias.config)||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1,showModal:((Os=(Ds=window[It.VUE_APP_NAME])==null?void 0:Ds.STORE)==null?void 0:Os.medias.openModal)||!1},u0={mediasByBlockId:e=>t=>{const a=Object.keys(e.selected).filter(n=>n.startsWith(`blocks[${t}]`)),i={};return a.forEach(n=>i[n]=e.selected[n]),i}},c0={[Y.UPDATE_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(a=>(a.value===t.type&&(a.total=t.total),a))},[Y.UPDATE_REPLACE_INDEX](e,t){e.indexToReplace=t},[Y.INCREMENT_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(a=>(a.value===t&&(a.total=a.total+1),a))},[Y.DECREMENT_MEDIA_TYPE_TOTAL](e,t){e.types=e.types.map(a=>(a.value===t&&(a.total=a.total-1),a))},[Y.UPDATE_MEDIAS](e,{mediaRole:t,index:a,media:i}){e.selected[t][a]=i},[Y.SAVE_MEDIAS](e,t){if(e.connector){const a=e.connector,i=e.selected[a]&&e.selected[a].length;if(i&&e.indexToReplace>-1)e.selected[a].splice(e.indexToReplace,1,de(t[0]));else if(i)t.forEach(function(n){e.selected[a].push(de(n))});else{const n={};n[a]=t,e.selected=Object.assign({},e.selected,n)}e.indexToReplace=-1}},[Y.DESTROY_SPECIFIC_MEDIA](e,t){__log(t.name,e.selected)},[Y.DESTROY_MEDIAS](e,t){e.selected[t]&&delete e.selected[t],e.connector=null},[Y.REORDER_MEDIAS](e,t){const a={};a[t.name]=t.medias,e.selected=Object.assign({},e.selected,a)},[Y.PROGRESS_UPLOAD_MEDIA](e,t){const a=e.loading.filter(i=>i.id===t.id);a.length?(a[0].error=!1,a[0].progress=t.progress):e.loading.unshift({id:t.id,name:t.name,progress:t.progress,replacementId:t.replacementId,isReplacement:t.isReplacement})},[Y.PROGRESS_UPLOAD](e,t){e.uploadProgress=t},[Y.DONE_UPLOAD_MEDIA](e,t){e.loading.forEach(function(a,i){a.id===t.id&&e.loading.splice(i,1)})},[Y.ERROR_UPLOAD_MEDIA](e,t){e.loading.forEach(function(a,i){a.id===t.id&&(e.loading[i].progress=0,e.loading[i].error=!0,e.loading[i].errorMessage=t.errorMessage)})},[Y.UPDATE_MEDIA_CONNECTOR](e,t){t&&t!==""?e.connector=t:e.connector=null},[Y.UPDATE_IS_INSERTED](e,t){e.isInserted=t},[Y.UPDATE_MEDIA_MODE](e,t){e.strict=t},[Y.UPDATE_MEDIA_TYPE](e,t){t&&t!==""&&(e.type=t)},[Y.RESET_MEDIA_TYPE](e){e.type=e.types[0].value},[Y.UPDATE_MEDIA_MAX](e,t){e.max=Math.max(0,t)},[Y.UPDATE_MEDIA_FILESIZE_MAX](e,t){e.filesizeMax=Math.max(0,t)},[Y.UPDATE_MEDIA_WIDTH_MIN](e,t){e.widthMin=Math.max(0,t)},[Y.UPDATE_MEDIA_HEIGHT_MIN](e,t){e.heightMin=Math.max(0,t)},[Y.SET_MEDIA_METADATAS](e,t){const a=t.media.context,i=e.selected[a],n=t.value;function s(o){return n.locale?(o.metadatas.custom[n.id]||(o.metadatas.custom[n.id]={}),o.metadatas.custom[n.id][n.locale]=n.value):o.metadatas.custom[n.id]=n.value,o}if(t.media.hasOwnProperty("index")){const o=s(de(i[t.media.index]));i[t.media.index]=o}},[Y.DESTROY_MEDIA_CONNECTOR](e){e.connector=null},[Y.SET_MEDIA_CROP](e,t){const a=t.key,i=t.index,n=e.selected[a][i];function s(l){l.crops||(l.crops={});for(const m in t.values){const c={};c.name=t.values[m].name||m,c.x=t.values[m].x,c.y=t.values[m].y,c.width=t.values[m].width,c.height=t.values[m].height,l.crops[m]=c}return l}const o=s(de(n));e.selected[a][i]=o},[Y.ADD_MEDIAS](e,{medias:t}){e.selected=Object.assign({},e.selected,t)}},m0={async[_e.DUPLICATE_BLOCK]({commit:e,getters:t},{block:a,id:i}){const n={...t.mediasByBlockId(a.id)},s=Object.keys(n),o={};s.forEach(l=>o[l.replace(a.id,i)]=[...n[l]]),e(Y.ADD_MEDIAS,{medias:o})}},f0={state:d0,getters:u0,mutations:c0,actions:m0},h0={success:null,info:null,warning:null,error:null,show:!1,type:"info",message:null,location:"bottom",dialog:!1,dialogMessage:null},p0={notifByVariant:e=>t=>e[t],notified:e=>Object.keys(e).filter(t=>e[t]!==null).length===0},g0={[pe.SET_ALERT_SHOW](e,t){e.show=t},[pe.SET_ALERT](e,t){e.type=t.variant??e.type,e.location=t.location??e.location,e.message=t.message??null,e.show=!0},[pe.CLEAR_ALERT](e,t){e.show=!1,e.type="info",e.message=null},[pe.SET_DIALOG_SHOW](e,t){e.dialog=t},[pe.SET_DIALOG](e,t){e.dialogMessage=t.message??null,e.dialog=!0},[pe.CLEAR_DIALOG](e){e.dialog=!1,e.dialogMessage=null}},y0={state:h0,getters:p0,mutations:g0};var gt={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Vs,Fs,Ps,$s,Rs,Ls,Us,Ns,Bs,xs,js,zs,Ks,qs,Hs;const _0={locale:((Vs=window[gt.VUE_APP_NAME])==null?void 0:Vs.LOCALE)??"en",timezone:((Fs=window[gt.VUE_APP_NAME])==null?void 0:Fs.TIMEZONE)??"Europe/London",authorization:((Ps=window[gt.VUE_APP_NAME])==null?void 0:Ps.AUTHORIZATION)??{},profileDialog:!1,profile:((Ls=(Rs=($s=window[gt.VUE_APP_NAME])==null?void 0:$s.STORE)==null?void 0:Rs.user)==null?void 0:Ls.profile)??{},profileRoute:((Bs=(Ns=(Us=window[gt.VUE_APP_NAME])==null?void 0:Us.STORE)==null?void 0:Ns.user)==null?void 0:Bs.profileRoute)??"",profileShortcutModel:((zs=(js=(xs=window[gt.VUE_APP_NAME])==null?void 0:xs.STORE)==null?void 0:js.user)==null?void 0:zs.profileShortcutModel)??{},profileShortcutSchema:((Hs=(qs=(Ks=window[gt.VUE_APP_NAME])==null?void 0:Ks.STORE)==null?void 0:qs.user)==null?void 0:Hs.profileShortcutSchema)??{}},b0={userProfile:e=>e.profile,isSuperAdmin:e=>e.authorization.isSuperAdmin??!1,isClient:e=>e.authorization.isClient??!1,userLocale:e=>e.locale,hasRestorable:e=>e.authorization.hasRestorable??!1,hasBulkable:e=>e.authorization.hasBulkable??!1,userPermissions:e=>e.authorization.permissions??[],userRoles:e=>e.authorization.roles??[]},v0={},A0={[za.SET_PROFILE_DATA](e,t){e.profile=t}},E0={state:_0,getters:b0,actions:v0,mutations:A0};var ia={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Gs,Ws,Ys,Zs;const w0={all:((Gs=window[ia.VUE_APP_NAME])==null?void 0:Gs.STORE.languages.all)||[],initialAll:((Ws=window[ia.VUE_APP_NAME])==null?void 0:Ws.STORE.languages.all)||[],active:((Ys=window[ia.VUE_APP_NAME])==null?void 0:Ys.STORE.languages.active)||((Zs=window[ia.VUE_APP_NAME])==null?void 0:Zs.STORE.languages.all[0])||{}},S0={publishedLanguages:e=>e.all.filter(t=>t.published)},k0={[lt.SWITCH_LANG](e,{oldValue:t}){function a(s){return s.value===t.value}const i=e.all.findIndex(a),n=i<e.all.length-1?i+1:0;e.active=e.all[n]},[lt.UPDATE_LANG](e,t){function a(n){return n.value===t}const i=e.all.findIndex(a);e.active=e.all[i]},[lt.PUBLISH_LANG](e,t){e.all.forEach(function(a){a.published=!!t.includes(a.value)})},[lt.PUBLISH_SINGLE_LANG](e,t){function a(n){return n.value===t}const i=e.all.findIndex(a);e.all[i].published=!e.all[i].published},[lt.REPLACE_LANGUAGES](e,t){e.all=t},[lt.RESET_LANGUAGES](e){e.all=e.initialAll}},C0={state:w0,getters:S0,mutations:k0};var T0={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Qs;const M0={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:((Qs=window[T0.VUE_APP_NAME])==null?void 0:Qs.STORE.browser.selected)||{}},I0={selectedItemsByIds:e=>{const t=[];for(const a in e.selected)t[a]=e.selected[a].map(i=>`${i.endpointType}_${i.id}`);return t},browsersByBlockId:e=>t=>{const a=Object.keys(e.selected).filter(n=>n.startsWith(`blocks[${t}]`)),i={};return a.forEach(n=>i[n]=e.selected[n]),i}},D0={[Fe.SAVE_ITEMS](e,t){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=t;else{const a={};a[e.connector]=t,e.selected=Object.assign({},e.selected,a)}},[Fe.DESTROY_ITEMS](e,t){e.selected[t.name]},[Fe.DESTROY_ITEM](e,t){e.selected[t.name]&&(e.selected[t.name].splice(t.index,1),e.connector=null)},[Fe.REORDER_ITEMS](e,t){const a={};a[t.name]=t.items,e.selected=Object.assign({},e.selected,a)},[Fe.UPDATE_BROWSER_MAX](e,t){e.max=Math.max(0,t)},[Fe.UPDATE_BROWSER_CONNECTOR](e,t){t&&t!==""&&(e.connector=t)},[Fe.UPDATE_BROWSER_TITLE](e,t){t&&t!==""&&(e.title=t)},[Fe.UPDATE_BROWSER_NOTE](e,t){e.note=t},[Fe.DESTROY_BROWSER_CONNECTOR](e){e.connector=null},[Fe.UPDATE_BROWSER_ENDPOINT](e,t){t&&t!==""&&(e.endpoint=t.value,e.endpointName=t.label||"")},[Fe.DESTROY_BROWSER_ENDPOINT](e){e.endpoint="",e.endpointName=""},[Fe.UPDATE_BROWSER_ENDPOINTS](e,t){!t&&!t.length>0||(e.endpoints=t,e.endpoint=t[0].value,e.endpointName=t[0].label)},[Fe.DESTROY_BROWSER_ENDPOINTS](e){e.endpoints=[]},[Fe.ADD_BROWSERS](e,{browsers:t}){e.selected=Object.assign({},e.selected,t)}},O0={async[_e.DUPLICATE_BLOCK]({commit:e,getters:t},{block:a,id:i}){const n={...t.browsersByBlockId(a.id)},s=Object.keys(n),o={};s.forEach(l=>o[l.replace(a.id,i)]=[...n[l]]),e(Fe.ADD_BROWSERS,{browsers:o})}},V0={state:M0,getters:I0,mutations:D0,actions:O0};var yt={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Xs,Js,ei,ti,ai,si,ii;const F0={isHot:((Xs=window[yt.VUE_APP_NAME])==null?void 0:Xs.STORE.ambient.isHot)??!1,appEnv:((Js=window[yt.VUE_APP_NAME])==null?void 0:Js.STORE.ambient.appEnv)??"",appName:((ei=window[yt.VUE_APP_NAME])==null?void 0:ei.STORE.ambient.appName)??"",appEmail:((ti=window[yt.VUE_APP_NAME])==null?void 0:ti.STORE.ambient.appEmail)??"",appDebug:((ai=window[yt.VUE_APP_NAME])==null?void 0:ai.STORE.ambient.appDebug)??!1,test:((si=window[yt.VUE_APP_NAME])==null?void 0:si.STORE.ambient.test)??!1,systemPackageVersions:((ii=window[yt.VUE_APP_NAME])==null?void 0:ii.STORE.ambient.systemPackageVersions)??{}},P0={isHot:e=>e.isHot,appName:e=>e.appName,appEmail:e=>e.appEmail,appEnv:e=>e.appEnv,appDebug:e=>e.appDebug,versions:e=>e.systemPackageVersions},$0={},R0={state:F0,getters:P0,mutations:$0},Ot=Gn({modules:{ambient:R0,user:E0,alert:y0,config:Yu,language:C0,mediaLibrary:f0,browser:V0}});function L0(){window.__log=console.log,window.__isString=e=>Object.prototype.toString.call(e)==="[object String]",window.__isBoolean=e=>typeof e=="boolean",window.__isNumber=e=>!isNaN(e),window.__isObject=e=>Object.prototype.toString.call(e)==="[object Object]",window.__isArray=e=>Array.isArray(e),window.__isset=(...e)=>{const t=e,a=t.length;let i=0,n;if(a===0)throw new Error("Empty isset");for(;i!==a;){if(t[i]===n||t[i]===null)return!1;i++}return!0},window.__issetReturn=(e,t)=>__isset(e)?e:t,window.__getMethods=e=>Object.getOwnPropertyNames(e).filter(t=>typeof e[t]=="function"),window.__globalizeMethods=e=>{Array.isArray(e)?e.forEach(function(t){__getMethods(t).forEach(function(a){window[a]=t[a]})}):__isObject(e)&&__getMethods(obj).forEach(function(t){window[t]=obj[t]})},window.__responseHandler=e=>__isset(e.data.errors)?{status:!1,text:errorHandler(e.data.errors)}:{status:!0,data:e.data.data},window.__errorHandler=e=>{let t="";return Object.keys(e).forEach((i,n)=>{t+=`
              <tr>
                  <td> <strong> ${capitalCase(i)} </strong> </td>
                  <td>
                      ${e[i].join("</br>")}
                  </td>
              </tr>
          `}),`
      <table>          <tbody>           ${t}          </tbody>       </table>`},window.__functionDefinition=e=>Function.prototype.toString.call(e),window.__convertArrayOrObject=(e,t=null)=>{if(__isObject(e)){const a={};return Object.keys(e).forEach(i=>{a[i]=__convertArrayOrObject(e[i],i)}),a}else if(Array.isArray(e)){const a=[];return e.forEach(i=>{a.push(__convertArrayOrObject(i))}),a}else if(typeof e=="function"){let a=__functionDefinition(e);return t&&(a=a.replace(t+"(","function (")),a}else return e instanceof RegExp?e.toString():e},window.__printDefinition=e=>JSON.stringify(__convertArrayOrObject(e)),window.__shorten=(e,t=40)=>e.length>t?e.substring(0,t)+"...":e,window.__preg_quote=(e,t="")=>(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&"),window.__extract=e=>{for(var t in e)window[t]=e[t]},window.__dot=(e,t="")=>Object.keys(e).reduce((a,i)=>{const n=t?`${t}.${i}`:i;return typeof e[i]=="object"&&e[i]!==null&&!Array.isArray(e[i])?Object.assign(a,__dot(e[i],n)):a[n]=e[i],a},{}),window.__reverseDot=e=>{const t={};for(const[a,i]of Object.entries(e)){const n=a.split(".");let s=t;for(let o=0;o<n.length;o++){const l=n[o];o===n.length-1?s[l]=i:(s[l]=s[l]||{},s=s[l])}}return t},window.__wildcard_change=(e,t,a="id")=>{let i=Array.isArray(t)?t.join(","):t;return e.replace(/^([\w\.]+)?(\*)([\w_\-\.\*]+)$/,`$1*${a}=${i}$3`)},window.__data_get=(e,t,a)=>{if(!e||typeof t!="string")return a;const i=U0(t);let n=e;for(const s in i){let o=i[s];if(n==null)return a;if(typeof n=="object"){let l,m=o?o.match(/^\*(.*)/):!1;if(m){let c;if(m[1]&&(c=m[1].match(/^(\w+)\=([\w\d\,]+)/))){let r=c[1],h=c[2].split(",");n=H.filter(n,_=>h.includes(H.isNumber(_[r])?_[r].toString():_[r]))}if(Array.isArray(n)){let r=parseInt(s);return n.map(h=>__data_get(h,i.slice(r+1).join("."),a))}else return Object.assign({},n)}else if(o.indexOf("[")!==-1){const c=B0(o);if(c!==void 0)n=n[c];else return a}else l=n[o];if(l)n=l;else if(n=H.get(n,i.slice(s).join(".")),n)break}else return a}return n},window.__cast_value_match=(e,t)=>{let a,i=e;if(__isString(e)&&(a=e.match(/\$([\w\.\*]+)/))){let n=a[1],s=__preg_quote(a[0]),o=n.split("."),l=[];for(const c in o){let r=o[c];r==="*"?t.id:l.push(r)}n=l.join(".");let m=__data_get(t,n);if(m){let c;if(Array.isArray(m)&&m.length>0)c=m.join(",");else if(__isString(m)){c=m;let r=vt(c);this.$te(`modules.${r}`)&&(c=this.$t(`modules.${r}`))}else __isNumber(m)&&(c=m.toString());if(c){let r="\\w\\s"+__preg_quote("çşıİğüö.,;?|:_"),h=new RegExp(String.raw`^([${r}]+)?(${s})([${r}]+)?$`);e.match(h)?i=e.replace(h,"$1"+c+"$3"):__log("Not matched sentence",h,e,e.match(h))}}}return i},window.__snakeToHeadline=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),window.__headline=e=>(e=vt(e),e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")),window.__extractForeignKey=e=>{if(typeof e!="string")throw new TypeError("modelName must be a string");let t=H.snakeCase(e);return`${Je.isPlural(t)?Je.singular(t):t}_id`},window.__snakeNameFromForeignKey=e=>{let t=e.match(/(.*)(_id)/);return t?vt(t[1]):!1},window.__nameFromForeignKey=e=>(e=__snakeNameFromForeignKey(e),e||__snakeToHeadline(e)),window.__moduleName=e=>{let t=e.match("/(.*)(_id)/");return t?__snakeNameFromForeignKey(t[1]):vt(e)},window.__moduleTranslationName=e=>{__log(window);const{t,te:a}=we({useScope:"global"});let i=!1,n=e,s=__snakeNameFromForeignKey(n);return s&&(n=s,e=s),Je.isPlural(n)&&(i=!0,n=Je.singular(n)),n=vt(n),e=vt(e),a(`modules.${n}`)?t(`modules.${n}`,i?1:0):__snakeToHeadline(e)},window.__removeQueryParams=e=>{const t=new URL(window.location.href);let a={};for(const[s,o]of t.searchParams.entries())a[s]=o;e.forEach(s=>{delete a[s]}),Object.keys(a).forEach(s=>(a[s]===void 0||a[s]===null)&&delete a[s]);const i=new URLSearchParams;Object.keys(a).forEach(s=>{i.append(s,a[s])});const n=t.origin+t.pathname+(i.toString()?"?"+i.toString():"");window.history.replaceState({},"",n)},window.__pluralize=e=>Je.plural(e),window.__pushQueryParams=e=>{const t=new URL(window.location),a=t.searchParams;Object.entries(e).forEach(([i,n])=>{a.set(i,n)}),window.history.pushState({},"",t)},window.__formatCurrencyPrice=(e,t,a="en")=>{if(typeof e!="number"||isNaN(e))throw new Error("Amount must be a valid number");const i=new Intl.NumberFormat(a,{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${i.format(e)}`}}function U0(e){const t=[];let a="",i=!1,n=!1;for(let s=0;s<e.length;s++){const o=e[s];if(n)a+=o,n=!1;else if(o==="\\")n=!0;else if(o==="[")a&&(t.push(a),a=""),i=!0,a+=o;else if(o==="]"){if(!i)throw new Error("Mismatched brackets in path");a+=o,t.push(N0(a)),a="",i=!1}else o==="."&&!i?a&&(t.push(a),a=""):a+=o}return a&&t.push(a),t}function N0(e){const t=e.slice(1,-1).trim();return/^\d+$/.test(t),t}function B0(e){const t=e.match(/\[([^\]]*)\]/);return t?t[1]:void 0}function x0(){Object.equals||(Object.equals=function(e,t){for(const a in e){if(e.hasOwnProperty(a)!=t.hasOwnProperty(a))return!1;if(typeof e[a]!=typeof t[a])return!1}for(const a in t){if(e.hasOwnProperty(a)!=t.hasOwnProperty(a))return!1;if(typeof e[a]!=typeof t[a])return!1;if(e.hasOwnProperty(a)){if(e[a]instanceof Array&&t[a]instanceof Array){if(!Array.equals(e[a],t[a]))return!1}else if(e[a]instanceof Object&&t[a]instanceof Object){if(!Object.equals(e[a],t[a]))return!1}else if(e[a]!=t[a])return!1}}return!0})}function j0(){Array.equals||(Array.equals=function(e,t){if(!t||e.length!=t.length)return!1;for(let a=0,i=e.length;a<i;a++)if(e[a]instanceof Array&&t[a]instanceof Array){if(!e[a].equals(t[a]))return!1}else if(e[a]!=t[a])return!1;return!0})}function z0(){L0(),x0(),j0(),window.axios=Ee,window.$=Wn,window._=H,window.$moment=Yn,window.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},window.axios.defaults.headers.post={"Content-Type":"application/json"},Ee.interceptors.request.use(function(e){return Ot.commit(qe.INCREASE_AXIOS_REQUEST),e},function(e){return Ot.commit(qe.DECREASE_AXIOS_REQUEST),Promise.reject(e)}),Ee.interceptors.response.use(function(e){return Ot.commit(qe.DECREASE_AXIOS_REQUEST),e},function(e){return Ot.commit(qe.DECREASE_AXIOS_REQUEST),Promise.reject(e)})}function K0(){z0(),window.__globalizeMethods([Zn])}const q0=function(){K0()},H0={text:"v-text-field",password:"v-text-field",email:"v-text-field",tel:"v-text-field",url:"v-text-field",search:"v-text-field",number:"v-text-field",date:"v-date-picker",time:"v-time-picker",color:"v-color-picker",img:"v-img",textarea:"v-textarea",range:"v-slider",file:"v-file-input",switch:"v-switch",checkbox:"v-checkbox",card:"v-card"},G0="ASC",na=".",Dt="-",ls="form-base",rs="date|time|color",W0="mouseenter|mouseleave",Y0="input|click",Z0="focus|input|click|blur",Q0="resize|swipe|intersect",X0="top",J0="bottom",Jt="slot",eA="tooltip",tA="inject",ln="item",la="type",_t="key",Va="array",aA="prop",Fa=`${Jt}-${tA}`,ra=`${Jt}-${X0}`,Pa=`${Jt}-${ln}`,oa=`${Jt}-${J0}`,os=`${Jt}-${eA}`,sA="clear",iA="button",nA="treeview",lA="list",rA="focus",oA="blur",dA="append",uA="append-inner",cA="prepend",mA="prepend-inner",fA="hour",hA="minute",pA="second",ds="move",gA={noGutters:!1},yA={noGutters:!0},us={cols:"auto"},_A=e=>({type:"text",label:e}),bA=e=>({type:"text",label:e}),vA=e=>({type:"number",label:e}),AA=e=>({type:"checkbox",label:e}),EA={type:"text",readonly:!0},wA={closeOnContentClick:!1,transition:"scale-transition",nudgeRight:32,maxWidth:"290px",minWidth:"290px"},SA="v-card",cs=["update:modelValue","update:schema","input","update","resize","blur","click"],kA={setup(){return{vueInstance:ca().appContext}},name:"VFormBase",emits:cs,props:{id:{type:String,default:ls},rootId:{type:String,default:ls},row:{type:[Object]},rowGroup:{type:[Object]},col:{type:[Object,Number,String]},colGroup:{type:[Object,Number,String]},flex:{type:[Object,Number,String]},modelValue:{type:[Object,Array],default:()=>null},model:{type:[Object,Array]},schema:{type:[Object,Array],default:()=>({})}},data(){return{flatCombinedArray:[],clear:sA,button:iA,treeview:nA,list:lA,focus:rA,blur:oA,append:dA,appendInner:uA,prepend:cA,prependInner:mA,hour:fA,minute:hA,second:pA}},computed:{valueIntern(){const e=this.model||this.modelValue;return this.updateArrayFromState(e,this.formSchema),e},parent(){let e=this;if(e.$parent&&e.$parent.$parent)for(;e.id.startsWith(e.$parent.$parent.id+"-");)e=e.$parent.$parent;return e},index(){const e=this.id&&this.id.match(/\d+/g);return e?e.map(Number):null},getRow(){return this.row||gA},flatCombinedArraySorted(){return Qn(this.flatCombinedArray,["schema.sort"],[G0])},storeStateData(){return this.updateArrayFromState(this.valueIntern,this.formSchema),this.valueIntern},storeStateSchema(){return this.updateArrayFromState(this.valueIntern,this.formSchema),is.setSchemaInputField(this.formSchema,this.valueIntern),this.formSchema},formSchema:{get(){return this.schema},set(e){this.$emit("update:schema",e),this.schema.value=e}}},watch:{schema:{handler(e,t){},deep:!0},modelValue:{handler(e,t){JSON.stringify(Object.keys(__dot(e)))!==JSON.stringify(Object.keys(__dot(t)))&&this.rebuildArrays(this.valueIntern,this.formSchema)},deep:!0}},methods:{mapTypeToComponent(e){const t={...H0,...this.vueInstance.components};return t[e]?t[e]:`v-${e}`},isDateTimeColorTypeAndExtensionText(e){return rs.includes(e.schema.type)&&e.schema.ext==="text"},isDateTimeColorExtension(e){return rs.includes(e.schema.ext)},bindOptions(e){return Mt(e)?{value:e,label:e}:e},bindSchemaText(e){return{...EA,...e.schema.text}},bindSchemaMenu(e){return{...wA,...e.schema.menu}},bindSchema(e){return Object.prototype.hasOwnProperty.call(e.schema,"falseValue")&&e.schema.falseValue==0&&(e.schema.falseValue="0"),St(e.schema,["type","col","order","offset","ext","event"])},suspendClickAppend(e){return/(select|combobox|autocomplete)/.test(e.schema.type)?"":"click:append"},searchInputSync(e){return typeof e.schema.searchInput<"u"?"search-input":""},checkExtensionType(e){let t;return["number","range","date","time","color"].includes(e.schema.ext)&&(t=e.schema.ext),t||e.schema.type},checkInternType(e){return e.schema.typeInt||e.schema.type},checkInternGroupType(e){const t=e.schema.typeInt||SA;return t.startsWith("v-")?t:`v-${t}`},getKeyForArray(e,t,a,i){const n=t.schema.key;return n?Array.isArray(n)?n.map(s=>a[s]).join("_"):a[n]:isNaN(i)?i:`${e}-${t.key}-${i}`},getImageSource(e){return e.schema.src?e.schema.src:`${e.schema.base}${e.value}${e.schema.tail}`},getIconValue(e){return e.schema.label?e.schema.label:this.setValue(e)},getShorthandTooltip(e){return Mt(e)?{location:"top",text:e}:e},getShorthandTooltipLabel(e){return Mt(e)?e:e&&e.label},getFormTopSlot(){return`${ra}-${this.id}`},getFormBottomSlot(){return`${oa}-${this.id}`},getKeyInjectSlot(e,t){return this.getKeyClassNameWithAppendix(e,`${Fa}-${t}-${_t}`)},getKeyTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${ra}-${_t}`)},getKeyItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${Pa}-${_t}`)},getKeyBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${oa}-${_t}`)},getKeyTooltipSlot(e){return this.getKeyClassNameWithAppendix(e,`${os}-${_t}`)},getTooltipSlot(e){return`${os}`},getArrayTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${ra}-${Va}`)},getArrayItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${Pa}-${Va}`)},getArrayBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${oa}-${Va}`)},getTypeTopSlot(e){return this.getTypeClassNameWithAppendix(e,`${ra}-${la}`)},getTypeItemSlot(e){return this.getTypeClassNameWithAppendix(e,`${Pa}-${la}`)},getTypeBottomSlot(e){return this.getTypeClassNameWithAppendix(e,`${oa}-${la}`)},getPropertyClassNameWithAppendix(e,t){return e.key?e.key.split(na).map(a=>`${t?t+Dt:""}${a}`).join(" "):""},getPropertyClassName(e){return this.getPropertyClassNameWithAppendix(e,aA)},getKeyClassNameWithAppendix(e,t){return`${t?t+Dt:""}${this.id?this.id+Dt:""}${e.key.replace(/\./g,"-")}`},getKeyClassName(e){return this.getKeyClassNameWithAppendix(e,_t)},getTypeClassNameWithAppendix(e,t){return`${t?t+Dt:""}${this.id?this.id+Dt:""}${e.schema.type}`},getTypeClassName(e){return this.getTypeClassNameWithAppendix(e,la)},getClassName(e){return`${ln} ${this.getTypeClassName(e)} ${this.getKeyClassName(e)} ${this.getPropertyClassName(e)}`},gridMapper(e,t){e&&["sm","md","lg","xl"].map(a=>{e[a]&&(e[t+a]=e[a],delete e[a])})},gridReplaceXS(e,t){e&&e.xs&&(e[t]=e.xs,delete e.xs)},getGridAttributes(e){const t=e.schema.col||e.schema.flex,a=this.col||this.flex||us,i=t?pt(t)?t:ts(t)||Mt(t)?{cols:t}:{cols:"auto"}:a?pt(a)?a:ts(a)||Mt(a)?{cols:a}:{cols:"auto"}:{cols:"auto"};this.gridReplaceXS(i,"cols");const n=e.schema.offset,s=n&&(pt(n)?n:{offset:n});this.gridMapper(s,"offset-"),this.gridReplaceXS(s,"offset");const o=e.schema.order,l=o&&(pt(o)?o:{order:o});return this.gridMapper(l,"order-"),this.gridReplaceXS(l,"order"),{...i,...s,...l}},getRowGroupOrArray(e){return e.schema.rowGroup||this.rowGroup||yA},getColGroupOrArray(e){return e.schema.col||this.col||us},getInjectedScopedSlots(e,t){const a=new RegExp(`${Fa}-(.*?)-${_t}`);return Object.keys(this.$slots).filter(i=>i.includes(`${e}${Dt}${t.key.replace(/\./g,"-")}`)&&i.includes(Fa)).map(i=>i.match(a)[1])},toCtrl(e){return e.obj.schema&&Bt(e.obj.schema.toCtrl)?e.obj.schema.toCtrl(e):e.value},fromCtrl(e){return e.obj.schema&&Bt(e.obj.schema.fromCtrl)?e.obj.schema.fromCtrl(e):e.value},dropCtrl(e){return e.obj.schema&&Bt(e.obj.schema.drop)?e.obj.schema.drop(e):e.value},dragstart(e,t){if(!t.schema.drag)return;e.dataTransfer.dropEffect=ds,e.dataTransfer.effectAllowed=ds;const a=this.onEvent(e,t);e.dataTransfer.setData("text",JSON.stringify(a))},dragover(e,t){return t.schema.drop?e.preventDefault():null},drop(e,t){if(!t.schema.drop||(t.dragEvent=JSON.parse(e.dataTransfer.getData("text")),t.key===t.dragEvent.obj.key&&t.id===t.dragEvent.id))return e.preventDefault();Bt(t.schema.drop)&&(t.value=this.dropValue(t,e)),this.onEvent(e,t),e.preventDefault()},dropValue(e,t){return this.dropCtrl({value:e.dragEvent.value,obj:e,event:t,data:this.storeStateData,schema:this.storeStateSchema})},setValue(e,t){return e.schema.type==="wrap"?this.toCtrl({value:this.storeStateData,obj:e,data:this.storeStateData,schema:this.storeStateSchema}):this.toCtrl({value:e.value,obj:e,data:this.storeStateData,schema:this.storeStateSchema})},onInput(e,t,a="input"){e=this.fromCtrl({value:e,obj:t,data:this.storeStateData,schema:this.storeStateSchema}),e=!e||e===""?null:e,e=t.schema.type==="number"?Number(e):e,this.setObjectByPath(this.storeStateData,t.key,e),t.value=t.value!==e?e:t.value;let i=t.key;is.onInputEventFormData(t,this.formSchema,this.storeStateData,this.flatCombinedArraySorted,this.valueIntern);const n={on:a,id:this.id,index:this.index,params:{index:this.index,lastValue:t.value},key:i,value:e,obj:t,data:this.storeStateData,schema:this.storeStateSchema,parent:this.parent};return this.emitValue(a,n),n},onInputWrapper(e,t){t.schema.type=="wrap"&&`${t.key}${e.key}`,this.emitValue("input",e)},onEvent(e={},t,a){const i=e&&e.srcElement&&e.srcElement.innerText,n=t.schema.model,s=t.schema.open,o=this.index,l=e.type!=="dragstart"?this.parent:void 0,m={on:e.type,id:this.id,index:o,params:{text:i,tag:a,model:n,open:s,index:o},key:t.key,value:t.value,obj:t,event:e,data:this.storeStateData,schema:this.storeStateSchema,parent:l};return Xn(()=>{this.emitValue(e.type,m)}),m},onClickOutside(e,t){if(!(!t.schema||!t.schema.clickOutside)){if(Bt(t.schema.clickOutside))return t.schema.clickOutside(t,e);this.emitValue("clickOutside",{on:"clickOutside",id:this.id,key:t.key,value:t.value,obj:t,params:{x:e.clientX,y:e.clientY},event:e,data:this.storeStateData,schema:this.storeStateSchema})}},onIntersect(e,t,a,i){const n=this.index;this.emitValue("intersect",{on:"intersect",id:this.id,index:n,key:i.key,value:i.value,obj:i,params:{isIntersecting:e,entries:t,observer:a},data:this.storeStateData,schema:this.storeStateSchema})},onSwipe(e,t){this.emitValue("swipe",{on:"swipe",id:this.id,key:t.key,value:t.value,obj:t,params:{tag:e},data:this.storeStateData,schema:this.storeStateSchema})},onResize(e){this.emitValue("resize",{on:"resize",id:this.id,params:{x:window.innerWidth,y:window.innerHeight},event:e,data:this.storeStateData,schema:this.storeStateSchema})},emitValue(e,t){const a=Y0.includes(e)?"onChange":Z0.includes(e)?"onWatch":W0.includes(e)?"onMouse":Q0.includes(e)?"onDisplay":e;(e==="onInput"||a==="onChange")&&this.$emit("update:modelValue",this.storeStateData),cs.includes(e)&&this.$emit(`${e}`,t)},deprecateEventCustomID(e){console.warn(`--- DEPRECATION ${e}:${this.id}: ----------------------------------------------------------------------------`),console.warn(`<v-form-base  @${e}:${this.id}="handler" /> is deprecated use simplified version <v-form-base  @${e}="handler" />`),console.warn("---------------------------------------------------------------------------------------------")},deprecateCombinedEvents(e,t){e!==t&&(console.warn("--- DEPRECATION Combined Listener:  --------------------------------------------------------------------------"),console.warn(`Combined Event-Listener '${e}' have been removed for better comprehensibility and simplification`),console.warn('Please use separate listener for each event like <v-form-base  @focus="handler" @input="handler" @blur="handler"/>'),console.warn("---------------------------------------------------------------------------------------------"))},setObjectByPath(e,t,a){const i=t.split(na);i.forEach((n,s)=>{s===i.length-1&&(e[n]=a),e=e[n]})},updateArrayFromState(e,t){this.flatCombinedArray.forEach(a=>{a.value=Et(t,[a.key,"type"])==="select"?Et(e,a.key,null)||Et(t,[a.key,"default"],null):Et(e,a.key,null),a.schema=Et(t,a.key,null)})},sanitizeShorthandType(e,t){return Mt(t)?{type:t,label:e}:t},flattenObjects(e={},t){const a={},i={};return Object.keys(t).forEach(n=>{t[n]=this.sanitizeShorthandType(n,t[n]);const s=Array.isArray(e[n])&&Array.isArray(t[n]),o=pt(e[n])&&!t[n].type,l=e[n]&&e[n].type&&t[n]&&t[n].type,m=!(e[n]instanceof File);if(s||o||l&&m){const{data:c,schema:r}=this.flattenObjects(e[n],t[n]);Object.keys(c).forEach(h=>{a[n+na+h]=c[h],i[n+na+h]=r[h]})}else a[n]=e[n],i[n]=t[n]}),{data:a,schema:i}},combineObjectsToArray({data:e,schema:t}){const a=[];return Object.keys(t).forEach(i=>{if(!pt(t[i])){console.warn(`Schema '${JSON.stringify(t)}' of Prop '${i}' must be a string with value of type key:'text' or a plainobject with at least key:{ type:'text'} definition.  Prop '${i}' will be ignored!`);return}a.push({key:i,value:e[i],schema:t[i]})}),a},flattenAndCombineToArray(e,t){const a=this.flattenObjects(e,t);return this.combineObjectsToArray(a)},autogenerateSchema(e){let t=JSON.stringify(e,(a,i)=>i===void 0?null:i);t=JSON.parse(t,(a,i)=>i==null?_A(a):typeof i=="string"?bA(a):typeof i=="number"?vA(a):typeof i=="boolean"?AA(a):i),Object.keys(t).forEach(a=>this.formSchema[a]=t[a])},tryAutogenerateModelStructure(e,t){Object.keys(t).forEach(a=>{if(!jt(e[a]))return;const i=t[a];i.type==="group"?(e[a]={},this.tryAutogenerateModelStructure(e[a],i.schema)):i.type==="array"?(e[a]={},this.tryAutogenerateModelStructure(e[a],i.schema)):i.type==="list"?e[a]={}:pt(i)&&!i.type&&(e[a]={},this.tryAutogenerateModelStructure(e[a],i)),Array.isArray(i)&&!i.type&&(e[a]={},this.tryAutogenerateModelStructure(e[a],i))})},rebuildArrays(e,t){if(!e)throw`Property 'model' is null or undefined. Use '<v-form-base :model="myModel" :schema="mySchema" />'. myModel must be at least an empty Object.`;jt(t)&&jt(e)&&console.warn("At least one of the properties 'model' or 'schema' in <v-form-base /> must be at least an empty Object. Ignore this Warning on async loading 'model' or 'schema' "),this.tryAutogenerateModelStructure(e,t),jt(t)&&this.autogenerateSchema(e),this.flatCombinedArray=this.flattenAndCombineToArray(this.storeStateData,this.storeStateSchema)},setCascadeSelect(e){var t;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const a=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,i=e.schema.cascadeKey??"items",n=e.schema.itemValue??"id";this.formSchema[a][i]=((t=st(e.schema[i],[n,this.valueIntern[e.key]]))==null?void 0:t.schema)??[];const s=Jn(this.flatCombinedArraySorted,["key",a]);this.storeStateData[a]=this.formSchema[a][i].length>0?this.formSchema[a][i][0].value:[],this.flatCombinedArraySorted[s].value=this.valueIntern[a],this.setCascadeSelect(this.flatCombinedArraySorted[s])}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")&&e.schema.autofill.forEach(a=>{var i;this.formSchema[a].autofillable&&(this.storeStateData[a]=((i=st(e.schema.items,["id",this.valueIntern[e.key]]))==null?void 0:i[a])??"")})}},created(){this.rebuildArrays(this.valueIntern,this.formSchema)}},CA=["modelValue"],TA={key:0,class:"mb-3"},MA=["innerHTML"];function IA(e,t,a,i,n,s){const o=x("ue-title"),l=x("v-custom-form-base"),m=x("v-input-locale"),c=We("mask");return ve((d(),g(ue,P({id:a.id},s.getRow),{default:u(()=>[z(e.$slots,s.getFormTopSlot(),{id:a.id}),(d(!0),y(F,null,B(s.flatCombinedArraySorted,(r,h)=>(d(),g(Ue,P({key:h,disabled:!r.schema.tooltip,ref_for:!0},s.getShorthandTooltip(r.schema.tooltip)),{activator:u(({props:_})=>[ve((d(),g(ee,P({key:h,ref_for:!0},{...s.getGridAttributes(r),..._},{class:s.getClassName(r),draggable:r.schema.drag,onMouseenter:p=>s.onEvent(p,r),onMouseleave:p=>s.onEvent(p,r),onDragstart:p=>s.dragstart(p,r),onDragover:p=>s.dragover(p,r),onDrop:p=>s.drop(p,r)}),{default:u(()=>[z(e.$slots,s.getTypeTopSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id})),z(e.$slots,s.getKeyTopSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id})),z(e.$slots,s.getTypeItemSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id}),()=>[z(e.$slots,s.getKeyItemSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id}),()=>[r.schema.type==="title"?(d(),g(o,P({key:0,text:r.schema.title??r.schema.text??r.schema.label??r.schema.name,ref_for:!0},s.bindSchema(r)),null,16,["text"])):r.schema.type==="radio"?(d(),g(va,P({key:1,ref_for:!0},s.bindSchema(r),{modelValue:s.setValue(r),onChange:p=>s.onInput(p,r)}),{default:u(()=>[(d(!0),y(F,null,B(r.schema.options,(p,A)=>(d(),g(Wt,P({key:A,ref_for:!0},s.bindOptions(p)),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),M=>({name:M,fn:u(()=>[z(e.$slots,s.getKeyInjectSlot(r,M),P({ref_for:!0},{id:a.id,obj:r,index:h,idx:A,option:p}))])}))]),1040))),128))]),_:2},1040,["modelValue","onChange"])):s.isDateTimeColorTypeAndExtensionText(r)?(d(),g(He,P({key:2,ref_for:!0},s.bindSchemaMenu(r)),{activator:u(({props:p})=>[f(je,P({ref_for:!0},{...s.bindSchemaText(r),...p},{modelValue:s.setValue(r)},{[Ca(s.suspendClickAppend(r))]:A=>s.onEvent(A,r,n.append)},{"onClick:appendInner":A=>s.onEvent(A,r,n.appendInner),"onClick:prepend":A=>s.onEvent(A,r,n.prepend),"onClick:prependInner":A=>s.onEvent(A,r,n.prependInner)}),null,16,["modelValue","onClick:appendInner","onClick:prepend","onClick:prependInner"])]),default:u(()=>[(d(),g(Te(s.mapTypeToComponent(r.schema.type)),P({ref_for:!0},s.bindSchema(r),{type:s.checkInternType(r),modelValue:s.setValue(r),"onUpdate:modelValue":p=>s.onInput(p,r),"onClick:hour":p=>s.onEvent({type:"click"},r,n.hour),"onClick:minute":p=>s.onEvent({type:"click"},r,n.minute),"onClick:second":p=>s.onEvent({type:"click"},r,n.second)}),null,16,["type","modelValue","onUpdate:modelValue","onClick:hour","onClick:minute","onClick:second"]))]),_:2},1040)):r.schema.type==="array"?(d(!0),y(F,{key:3},B(s.setValue(r),(p,A)=>(d(),y("div",P({key:s.getKeyForArray(a.id,r,p,A),ref_for:!0},s.bindSchema(r),{modelValue:s.setValue(r)}),[z(e.$slots,s.getArrayTopSlot(r),P({ref_for:!0},{obj:r,id:a.id,index:h,idx:A,item:p})),z(e.$slots,s.getArrayItemSlot(r),P({ref_for:!0},{obj:r,id:a.id,index:h,idx:A,item:p}),()=>[f(l,{id:`${a.id}-${r.key}-${A}`,modelValue:p,"onUpdate:modelValue":M=>p=M,schema:r.schema.schema,"onUpdate:schema":M=>r.schema.schema=M,row:s.getRowGroupOrArray(r),col:s.getColGroupOrArray(r),class:W(`${a.id}-${r.key}`)},ye({_:2},[B(e.$slots,(M,S)=>({name:S,fn:u(v=>[z(e.$slots,S,P({ref_for:!0},{id:a.id,obj:r,index:h,idx:A,item:p,...v}))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row","col","class"])]),z(e.$slots,s.getArrayBottomSlot(r),P({ref_for:!0},{obj:r,id:a.id,index:h,idx:A,item:p}))],16,CA))),128)):/^(wrap|group)$/.test(r.schema.type)?(d(),y(F,{key:4},[r.schema&&r.schema.schema?(d(),g(Te(s.checkInternGroupType(r)),P({key:0,ref_for:!0},s.bindSchema(r),{onClick:p=>s.onEvent(p,r)}),{default:u(()=>[r.schema.noLabel!==!0&&(r.schema.title||r.schema.subtitle)?(d(),y("div",TA,[r.schema.title?(d(),g(o,{key:0,padding:"a-0",margin:"b-0",transform:"none",weight:"bold",class:"text-body-1"},{default:u(()=>[D(E(r.schema.title),1)]),_:2},1024)):k("",!0),r.schema.subtitle?(d(),g(o,{key:1,padding:"a-0",margin:"b-4",transform:"none",weight:"regular",class:"text-caption"},{default:u(()=>[b("span",{innerHTML:r.schema.subtitle},null,8,MA)]),_:2},1024)):k("",!0)])):k("",!0),f(l,{id:`${a.id}-${r.key}`,modelValue:s.setValue(r),schema:r.schema.schema,"onUpdate:schema":p=>r.schema.schema=p,row:s.getRowGroupOrArray(r),col:s.getColGroupOrArray(r),class:W(`${a.id}-${r.key}`),onInput:p=>s.onInputWrapper(p,r)},ye({_:2},[B(e.$slots,(p,A)=>({name:A,fn:u(M=>[z(e.$slots,A,P({ref_for:!0},{id:a.id,obj:r,index:h,...M}))])}))]),1032,["id","modelValue","schema","onUpdate:schema","row","col","class","onInput"])]),_:2},1040,["onClick"])):k("",!0)],64)):r.schema.type===n.treeview?(d(),g(Te(e.v-n.treeview),P({key:5,open:r.schema.open,"onUpdate:open":p=>r.schema.open=p,ref_for:!0},s.bindSchema(r),{"onUpdate:open":p=>s.onEvent({type:"click"},r,"open"),"onUpdate:active":p=>s.onEvent({type:"click"},r,"selected"),items:r.schema.items,modelValue:s.setValue(r),"onUpdate:modelValue":p=>s.onInput(p,r)}),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),p=>({name:p,fn:u(A=>[z(e.$slots,s.getKeyInjectSlot(r,p),P({ref_for:!0},{id:a.id,obj:r,index:h,...A}))])}))]),1040,["open","onUpdate:open","onUpdate:active","items","modelValue","onUpdate:modelValue"])):r.schema.type===n.list?(d(),g($e,{key:6},{default:u(()=>[z(e.$slots,s.getKeyInjectSlot(r,"label"),P({ref_for:!0},{id:a.id,obj:r,index:h}),()=>[r.schema.label?(d(),g(_a,P({key:0,ref_for:!0},s.bindSchema(r),{dark:""}),{default:u(()=>[f(ba,null,{default:u(()=>[D(E(r.schema.label),1)]),_:2},1024)]),_:2},1040)):k("",!0)]),f($e,P({modelValue:r.schema.model,"onUpdate:modelValue":p=>r.schema.model=p,ref_for:!0},s.bindSchema(r),{light:""}),{default:u(()=>[(d(!0),y(F,null,B(s.setValue(r),(p,A)=>(d(),g(he,{key:A,onClick:M=>s.onEvent(M,r,n.list)},{default:u(()=>[z(e.$slots,s.getArrayItemSlot(r),P({ref_for:!0},{obj:r,id:a.id,index:h,idx:A,item:p}),()=>[f(he,{icon:r.schema.icon,title:r.schema.item?p[r.schema.item]:p},null,8,["icon","title"])])]),_:2},1032,["onClick"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])]),_:2},1024)):/(switch|checkbox)/.test(r.schema.type)?(d(),g(Te(s.mapTypeToComponent(r.schema.type)),P({key:7,modelValue:s.setValue(r),"onUpdate:modelValue":p=>s.onInput(p,r),ref_for:!0},s.bindSchema(r)),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),p=>({name:p,fn:u(()=>[z(e.$slots,s.getKeyInjectSlot(r,p),P({ref_for:!0},{id:a.id,obj:r,index:h}))])}))]),1040,["modelValue","onUpdate:modelValue"])):r.schema.type==="file"?(d(),g(kl,P({key:8,ref_for:!0},s.bindSchema(r),{modelValue:s.setValue(r),onFocus:p=>s.onEvent(p,r),onBlur:p=>s.onEvent(p,r),onChange:p=>s.onInput(p,r)}),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),p=>({name:p,fn:u(A=>[z(e.$slots,s.getKeyInjectSlot(r,p),P({ref_for:!0},{id:a.id,obj:r,index:h,...A}))])}))]),1040,["modelValue","onFocus","onBlur","onChange"])):r.schema.type==="icon"?(d(),g(le,P({key:9,ref_for:!0},s.bindSchema(r),{textContent:E(s.getIconValue(r)),onClick:p=>s.onEvent(p,r)}),null,16,["textContent","onClick"])):r.schema.type==="slider"?(d(),g(Cl,P({key:10,ref_for:!0},s.bindSchema(r),{"onUpdate:modelValue":p=>s.onInput(p,r)}),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),p=>({name:p,fn:u(()=>[z(e.$slots,s.getKeyInjectSlot(r,p),P({ref_for:!0},{id:a.id,obj:r,index:h}))])}))]),1040,["onUpdate:modelValue"])):r.schema.type==="img"?(d(),g(ut,P({key:11,src:s.getImageSource(r),ref_for:!0},s.bindSchema(r),{onClick:p=>s.onEvent(p,r)}),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),p=>({name:p,fn:u(()=>[z(e.$slots,s.getKeyInjectSlot(r,p),P({ref_for:!0},{id:a.id,obj:r,index:h}))])}))]),1040,["src","onClick"])):r.schema.type==="btn-toggle"?(d(),g(Tl,P({key:12,ref_for:!0},s.bindSchema(r),{modelValue:s.setValue(r),onChange:p=>s.onInput(p,r)}),{default:u(()=>[(d(!0),y(F,null,B(r.schema.options,(p,A)=>(d(),g(q,P({key:A,ref_for:!0},s.bindOptions(p),{icon:!!p.icon}),{default:u(()=>[f(le,{dark:r.schema.dark},{default:u(()=>[D(E(s.bindOptions(p).icon),1)]),_:2},1032,["dark"]),D(" "+E(s.bindOptions(p).label),1)]),_:2},1040,["icon"]))),128))]),_:2},1040,["modelValue","onChange"])):r.schema.type==="btn"?(d(),g(q,P({key:13,ref_for:!0},s.bindSchema(r),{onClick:p=>s.onEvent(p,r,n.button),type:"button"}),{default:u(()=>[D(E(s.setValue(r))+" ",1),r.schema.iconCenter?(d(),g(le,{key:0,dark:r.schema.dark},{default:u(()=>[D(E(r.schema.iconCenter),1)]),_:2},1032,["dark"])):k("",!0),D(" "+E(r.schema.label),1)]),_:2},1040,["onClick"])):r.schema.translated?(d(),g(m,{key:14,type:s.mapTypeToComponent(r.schema.type),attributes:r.schema,modelValue:s.setValue(r),"onUpdate:modelValue":p=>s.onInput(p,r)},null,8,["type","attributes","modelValue","onUpdate:modelValue"])):r.schema.mask?ve((d(),g(Te(s.mapTypeToComponent(r.schema.type)),P({key:15,ref_for:!0},s.bindSchema(r),{type:s.checkExtensionType(r),modelValue:s.setValue(r),obj:r,[s.searchInputSync(r)]:r.schema.searchInput,["onUpdate:"+s.searchInputSync(r)]:p=>r.schema.searchInput=p,onFocus:p=>s.onEvent(p,r),onBlur:p=>s.onEvent(p,r)},{[Ca(s.suspendClickAppend(r))]:p=>s.onEvent(p,r,n.append)},{"onClick:appendInner":p=>s.onEvent(p,r,n.appendInner),"onClick:prepend":p=>s.onEvent(p,r,n.prepend),"onClick:prependInner":p=>s.onEvent(p,r,n.prependInner),"onClick:clear":p=>s.onEvent(p,r,n.clear),"onClick:hour":p=>s.onEvent({type:"click"},r,n.hour),"onClick:minute":p=>s.onEvent({type:"click"},r,n.minute),"onClick:second":p=>s.onEvent({type:"click"},r,n.second),"onUpdate:modelValue":p=>s.onInput(p,r)}),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),p=>({name:p,fn:u(()=>[z(e.$slots,s.getKeyInjectSlot(r,p),P({ref_for:!0},{id:a.id,obj:r,index:h,model:s.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue"])),[[c,r.schema.mask]]):(d(),g(Te(s.mapTypeToComponent(r.schema.type)),P({key:16,ref_for:!0},s.bindSchema(r),{type:s.checkExtensionType(r),modelValue:s.setValue(r),obj:r,[s.searchInputSync(r)]:r.schema.searchInput,["onUpdate:"+s.searchInputSync(r)]:p=>r.schema.searchInput=p,onFocus:p=>s.onEvent(p,r),onBlur:p=>s.onEvent(p,r)},{[Ca(s.suspendClickAppend(r))]:p=>s.onEvent(p,r,n.append)},{"onClick:appendInner":p=>s.onEvent(p,r,n.appendInner),"onClick:prepend":p=>s.onEvent(p,r,n.prepend),"onClick:prependInner":p=>s.onEvent(p,r,n.prependInner),"onClick:clear":p=>s.onEvent(p,r,n.clear),"onClick:hour":p=>s.onEvent({type:"click"},r,n.hour),"onClick:minute":p=>s.onEvent({type:"click"},r,n.minute),"onClick:second":p=>s.onEvent({type:"click"},r,n.second),"onUpdate:modelValue":p=>s.onInput(p,r)}),ye({_:2},[B(s.getInjectedScopedSlots(a.id,r),p=>({name:p,fn:u(A=>[z(e.$slots,s.getKeyInjectSlot(r,p),P({ref_for:!0},{id:a.id,obj:r,index:h,...A,model:s.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue"]))])]),z(e.$slots,s.getTypeBottomSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id})),z(e.$slots,s.getKeyBottomSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id}))]),_:2},1040,["class","draggable","onMouseenter","onMouseleave","onDragstart","onDragover","onDrop"])),[[Tt,!r.schema.hidden],[Ba,(p,A,M)=>s.onIntersect(p,A,M,r)],[wl,{left:()=>s.onSwipe("left",r),right:()=>s.onSwipe("right",r),up:()=>s.onSwipe("up",r),down:()=>s.onSwipe("down",r)}],[Sl,p=>s.onClickOutside(p,r)]]),r.schema.spacer?(d(),g(Se,{key:`s-${h}`})):k("",!0)]),default:u(()=>[z(e.$slots,s.getTooltipSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id}),()=>[b("span",null,E(s.getShorthandTooltipLabel(r.schema.tooltip)),1)]),z(e.$slots,s.getKeyTooltipSlot(r),P({ref_for:!0},{obj:r,index:h,id:a.id}))]),_:2},1040,["disabled"]))),128)),z(e.$slots,s.getFormBottomSlot(),{id:a.id})]),_:3},16,["id"])),[[El,s.onResize,void 0,{quiet:!0}]])}const DA=Z(kA,[["render",IA]]),OA={emits:["update:modelValue","opened"],props:{...Oc()},setup(e,t){return{...Fc(e,t)}},computed:{textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")},textDescription(){return this.descriptionText}},watch:{dialog(e){!e||this.emitOpened()}},methods:{toggle(){this.dialog=!this.dialog},close(e=null){e&&e(),this.dialog=!1},open(e=null,t=null){if(e&&e(),this.dialog=!0,t){const a=this;this.$nextTick().then(()=>{a.$refs.modalConfirm.$el.addEventListener("click",i=>{t(),a.close()}),a.$refs.modalCancel.$el.addEventListener("click",i=>{a.close()})})}},confirm(e=null){e&&e(),this.dialog=!1,this.$emit("confirm")},cancel(e=null){e&&e(),this.dialog=!1,this.$emit("cancel")},toggleFullscreen(){this.full=!this.full},screenListener(e){this.full=e.target.fullScreen}},beforeUnmount:function(){},created(){}};function VA(e,t,a,i,n,s){return d(),g(Ht,P({modelValue:e.dialog,"onUpdate:modelValue":t[4]||(t[4]=o=>e.dialog=o)},e.$bindAttributes(),{transition:e.transition,fullscreen:e.full,width:e.modalWidth}),ye({default:u(o=>[z(e.$slots,"default",te(ne({...o,isFullActive:this.full,toggleFullscreen:()=>this.toggleFullscreen(),close:()=>this.close(),confirm:()=>this.confirm(),open:()=>this.open()})),()=>[z(e.$slots,"systembar",{},()=>[e.hasSystembar?(d(),g(ri,{key:0,style:{height:"40px"}},{default:u(()=>[f(ee,null,{default:u(()=>[f(Ml,{dark:""},{default:u(()=>[f(le,{onClick:t[0]||(t[0]=l=>s.toggleFullscreen()),"x-small":e.full},{default:u(()=>[D(" mdi-checkbox-blank-outline ")]),_:1},8,["x-small"]),f(le,{onClick:t[1]||(t[1]=l=>s.close())},{default:u(()=>[D("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0)]),z(e.$slots,"body",P({textCancel:this.textCancel,textConfirm:this.textConfirm,textDescription:this.textDescription,isFullActive:this.full,open:()=>this.open(),close:()=>this.close(),confirm:()=>this.confirm(),toggleFullscreen:()=>this.toggleFullscreen()},{closeDialog:s.close}),()=>[f(ce,null,{default:u(()=>[f(xe,{class:"text-h5 text-center",style:{"word-break":"break-word"}}),f(Ae,{class:"text-center",style:{"word-break":"break-word"}},{default:u(()=>[z(e.$slots,"body.description",te(ne({textDescription:s.textDescription})),()=>[D(E(s.textDescription),1)])]),_:3}),f(fe),f(Be,null,{default:u(()=>[f(Se),z(e.$slots,"body.options",te(ne({textDescription:s.textDescription})),()=>[f(q,{ref:"modalCancel",class:"modal-cancel",color:"red",text:"",onClick:t[2]||(t[2]=l=>s.cancel())},{default:u(()=>[D(E(s.textCancel),1)]),_:1},512),f(q,{ref:"modalConfirm",class:"modal-confirm",color:"green",text:"",onClick:t[3]||(t[3]=l=>s.confirm())},{default:u(()=>[D(E(s.textConfirm),1)]),_:1},512)]),f(Se)]),_:3})]),_:3})])])]),_:2},[B(e.$slots,(o,l)=>({name:l,fn:u(m=>[z(e.$slots,l,te(ne(m||{})))])}))]),1040,["modelValue","transition","fullscreen","width"])}const FA=Z(OA,[["render",VA]]),da="MEDIA-LIBRARY",ua={get(e,t,a,i){Ee.get(e,{params:t}).then(function(n){a&&typeof a=="function"&&a(n)},function(n){Oe(da,{message:"Media library get error.",value:n}),i&&typeof i=="function"&&i(n)})},update(e,t,a,i){Ee.put(e,t).then(function(n){a&&typeof a=="function"&&a(n)},function(n){Oe(da,{message:"Media library update error.",value:n}),i&&typeof i=="function"&&i(n)})},delete(e,t,a){Ee.delete(e).then(function(i){t&&typeof t=="function"&&t(i)},function(i){Oe(da,{message:"Media library delete error.",value:i}),a&&typeof a=="function"&&a(i)})},bulkDelete(e,t,a,i){Ee.put(e,t).then(function(n){a&&typeof a=="function"&&a(n)},function(n){Oe(da,{message:"Media library bulk delete error.",value:n}),i&&typeof i=="function"&&i(n)})}},PA=function(e){const t={el:document,offset:0,duration:250,easing:"linear"},a=Date.now();let i=0,n=!1;const s={linear:function(_){return _},easeIn:function(_){return _*_*_},easeOut:function(_){return--_*_*_+1},easeInOut:function(_){return _<.5?4*_*_*_:(_-1)*(2*_-2)*(2*_-2)+1}},o=window.requestAnimationFrame;let l;for(const _ in e)typeof e[_]<"u"&&(t[_]=e[_]);if(t.el===document&&(n=!0,t.el=document.documentElement.scrollTop?document.documentElement:document.body),i=t.el.scrollTop,i===t.offset)return;function m(_,p){return _<p?_:p}function c(){if(o)try{cancelAnimationFrame(l)}catch{}else clearTimeout(l)}function r(){if(n&&i===0)document.documentElement.scrollTop=1,document.body.scrollTop=1,i=1,t.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(r);else{const _=Date.now(),p=m(1,(_-a)/t.duration),A=s[t.easing](p);t.el.scrollTop=A*(t.offset-i)+i,p<1?h():(c(),(typeof t.onComplete).toLowerCase()==="function"&&t.onComplete.call(this))}}function h(){o?l=requestAnimationFrame(r):l=setTimeout(function(){r()},1e3/60)}h()},rn={props:{items:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},usedItems:{type:Array,default:()=>[]}},computed:{...ze({itemsLoading:e=>e.mediaLibrary.loading}),replacingMediaIds:function(){return this.itemsLoading.reduce((e,t)=>(t.isReplacement&&(e[t.replacementId]=t.id),e),{})}},methods:{isSelected:function(e,t=["id"]){return!!this.selectedItems.find(a=>t.every(i=>a[i]===e[i]))},isUsed:function(e,t=["id"]){return!!this.usedItems.find(a=>t.every(i=>a[i]===e[i]))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}},$A={name:"A17Mediagrid",mixins:[rn],computed:{...ze({showFileName:e=>e.mediaLibrary.showFileName})},methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},RA={class:"mediagrid"},LA={class:"mediagrid__button s--loading"},UA={key:0,class:"mediagrid__progress"},NA={key:1,class:"mediagrid__progressError"},BA=["onClick"],xA=["src"],jA=["title"];function zA(e,t,a,i,n,s){return d(),y("div",RA,[(d(!0),y(F,null,B(e.itemsLoading,(o,l)=>ve((d(),y("div",{class:"mediagrid__item",key:"mediaLoading_"+o.id},[b("span",LA,[o.error?(d(),y("span",NA,"Upload Error")):(d(),y("span",UA,[b("span",{class:"mediagrid__progressBar",style:me(s.loadingProgress(l))},null,4)]))])])),[[Tt,!o.isReplacement]])),128)),(d(!0),y(F,null,B(e.items,o=>(d(),y("div",{class:W(["mediagrid__item",{"s--hasFilename":e.showFileName}]),key:o.id},[b("span",{class:W(["mediagrid__button",{"s--picked":e.isSelected(o),"s--used":e.isUsed(o)||!!e.replacingMediaIds[o.id],"s--disabled":o.disabled}]),onClick:[Le(l=>e.toggleSelection(o),["exact"]),Le(l=>e.shiftToggleSelection(o),["shift","exact"])]},[b("img",{src:o.thumbnail,class:"mediagrid__img"},null,8,xA)],10,BA),e.showFileName?(d(),y("p",{key:0,title:o.name,class:"mediagrid__name"},E(o.name),9,jA)):k("",!0)],2))),128))])}const KA=Z($A,[["render",zA],["__scopeId","data-v-a5c29ae6"]]),qA={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:()=>["id"]}},mixins:[rn],filters:Qt,computed:{allItems:function(){return this.items.map(e=>{if(this.replacingMediaIds[e.id]){const t=this.itemsLoading.find(a=>a.replacementId===e.id);return t||e}else return e})},columnsNumber:function(){if(!this.items.length)return 0;let e=this.extraColumns.length;const t=this.items[0];return t.hasOwnProperty("id")&&e++,t.hasOwnProperty("name")&&e++,t.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];const e=this.items[0];return Object.keys(e).filter(t=>!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(t)&&typeof e[t]=="string")},checkedItems:function(){const e=[];return this.selectedItems.length&&this.selectedItems.forEach(function(t){e.push(t.endpointType+"_"+t.id)}),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,t){const a=t?this[t]:this.itemsLoading;return{width:a[e].progress?a[e].progress+"%":"0%"}}}},HA={class:"itemlist"},GA={class:"itemlist__table"},WA=["colspan"],YA={key:0,class:"itemlist__progress"},ZA={key:1,class:"itemlist__progressError"},QA=["onClick"],XA={key:0,class:"itemlist__cell itemlist__cell--btn"},JA={key:1,class:"itemlist__cell itemlist__cell--thumb"},eE=["src"],tE={key:2,class:"itemlist__cell itemlist__cell--name"},aE=["innerHTML"],sE={key:1},iE=["colspan"],nE={key:0,class:"itemlist__progress"},lE={key:1,class:"itemlist__progressError"};function rE(e,t,a,i,n,s){return d(),y("div",HA,[b("table",GA,[b("tbody",null,[(d(!0),y(F,null,B(e.itemsLoading,(o,l)=>ve((d(),y("tr",{class:"itemlist__row",key:o.id},[b("td",{class:W(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":o.error}]),colspan:s.columnsNumber},[o.error?(d(),y("span",ZA,"Upload Error")):(d(),y("span",YA,[b("span",{class:"itemlist__progressBar",style:me(s.loadingProgress(l))},null,4)]))],10,WA)])),[[Tt,!o.isReplacement]])),128)),(d(!0),y(F,null,B(s.allItems,(o,l)=>(d(),y("tr",{class:W(["itemlist__row",{"s--picked":e.isSelected(o,a.keysToCheck),"s--disabled":o.disabled||!!e.replacingMediaIds[o.id]}]),key:`${o.endpointType}_${o.id}`,onClick:[Le(m=>e.toggleSelection(o),["exact","prevent"]),Le(m=>e.shiftToggleSelection(o),["shift","exact","prevent"])]},[o.isReplacement?o.isReplacement?(d(),y("td",{key:1,class:W(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":o.error}]),colspan:s.columnsNumber},[o.error?(d(),y("span",lE,"Upload Error")):(d(),y("span",nE,[b("span",{class:"itemlist__progressBar",style:me(s.loadingProgress(l,"allItems"))},null,4)]))],10,iE)):k("",!0):(d(),y(F,{key:0},[o.hasOwnProperty("id")?(d(),y("td",XA)):k("",!0),o.hasOwnProperty("thumbnail")?(d(),y("td",JA,[b("img",{src:o.thumbnail},null,8,eE)])):k("",!0),o.hasOwnProperty("name")?(d(),y("td",tE,[o.hasOwnProperty("renderHtml")?(d(),y("div",{key:0,innerHTML:o.name},null,8,aE)):(d(),y("div",sE,E(o.name),1))])):k("",!0),(d(!0),y(F,null,B(s.extraColumns,(m,c)=>(d(),y("td",{class:W(["itemlist__cell",s.rowClass(m)]),key:c},[m==="size"?(d(),y(F,{key:0},[D(E(o[m].toUpperCase()),1)],64)):(d(),y(F,{key:1},[D(E(o[m]),1)],64))],2))),128))],64))],10,QA))),128))])])])}const oE=Z(qA,[["render",rE],["__scopeId","data-v-c7fcfc1f"]]),dE={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:{loadingProgress:function(){return{transform:"translateX("+(-100+this.uploadProgress)+"%)"}},...ze({mediasLoading:e=>e.mediaLibrary.loading,uploadProgress:e=>e.mediaLibrary.uploadProgress})},methods:{cancelUpload:function(e){this.$store.commit(Y.DONE_UPLOAD_MEDIA,e)}}},uE={class:"mediasidebar__inner mediasidebar__inner--single"},cE={class:"f--note"},mE={class:"mediasidebar__progress"},fE={class:"mediasidebar__loading"},hE={key:0,class:"mediasidebar__errorMessage"},pE=["onClick"];function gE(e,t,a,i,n,s){return d(),y("div",uE,[b("p",cE,"Uploading "+E(e.mediasLoading.length)+" file"+E(e.mediasLoading.length>1?"s":""),1),b("div",mE,[b("span",{class:"mediasidebar__progressBar",style:me(s.loadingProgress)},null,4)]),b("div",fE,[(d(!0),y(F,null,B(e.mediasLoading,o=>(d(),y("p",{class:W(["f--small",{"s--error":o.error}]),key:o.id},[o.error?(d(),y("span",hE,E(o.errorMessage),1)):k("",!0),b("span",null,E(o.name),1),D(),o.error?(d(),y("a",{key:1,href:"#",onClick:Le(l=>s.cancelUpload(o),["prevent"])},"Cancel",8,pE)):k("",!0)],2))),128))])])}const yE=Z(dE,[["render",gE],["__scopeId","data-v-2c5af2a8"]]),_E={name:"A17MediaSidebar",components:{"ue-mediasidebar-upload":yE,SelectTag:nn},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[],deleteModalActive:!1}},filters:Qt,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:{firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return this.medias.length===1},hasMedia:function(){return this.medias.length>0},isImage:function(){return this.type.value==="image"},sharedTags:function(){return this.medias.map(e=>e.tags).reduce((e,t)=>e.filter(a=>t.includes(a)))},sharedMetadata(){return(e,t)=>this.hasMultipleMedias?this.medias.map(a=>a.metadatas.default[e]).every((a,i,n)=>Array.isArray(a)?a[0]==n[0]:a==n[0])?this.firstMedia.metadatas.default[e]:t==="object"?{}:t==="boolean"?!1:"":typeof this.firstMedia.metadatas.default[e]=="object"||t==="boolean"?this.firstMedia.metadatas.default[e]:{}},captionValues(){return typeof this.firstMedia.metadatas.default.caption=="object"?this.firstMedia.metadatas.default.caption:{}},altValues(){return typeof this.firstMedia.metadatas.default.altText=="object"?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map(function(e){return e.id}).join(",")},mediasIdsToDelete:function(){return this.medias.filter(e=>e.deleteUrl).map(e=>e.id)},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every(e=>e.deleteUrl)||this.hasMultipleMedias&&!this.medias.every(e=>!e.deleteUrl)},warningDeleteMessage:function(){return console.log(this.allowDelete+"+ HEREEE"),this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){return this.extraMetadatas.filter(e=>e.multiple&&!this.translatableMetadatas.includes(e.name))},singleOnlyMetadatas:function(){return this.extraMetadatas.filter(e=>!e.multiple||e.multiple&&this.translatableMetadatas.includes(e.name))},...ze({mediasLoading:e=>e.mediaLibrary.loading,useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions})},methods:{replaceMedia:function(){this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open(()=>{this.triggerMediaReplace()}):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){if(this.loading)return!1;if(this.mediasIdsToDelete.length!==this.medias.length){this.$refs.warningDelete.open();return}this.$main().$refs.deleteWarningMediaModal?this.$main().$refs.deleteWarningMediaModal.open(null,()=>{this.deleteSelectedMedias()}):this.deleteSelectedMedias()},deleteSelectedMedias:function(){if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?ua.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(pe.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{}):ua.delete(this.firstMedia.deleteUrl,e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),console.log(this.$refs.warningDelete),this.$refs.warningDelete.close(),this.$store.commit(pe.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{})},clear:function(){this.$emit("clear")},getFormData:function(e){return Ka(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){this.focused=!1,this.save();const e=this.$refs.form,t=this.getFormData(e);this.hasSingleMedia?(t.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=t.alt_text:this.firstMedia.metadatas.default.altText="",t.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=t.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach(a=>{t.hasOwnProperty(a.name)?this.firstMedia.metadatas.default[a.name]=t[a.name]:this.firstMedia.metadatas.default[a.name]=""})):this.singleAndMultipleMetadatas.forEach(a=>{t.hasOwnProperty(a.name)&&this.medias.forEach(i=>{i.metadatas.default[a.name]=t[a.name]})})},save:function(){const e=this.$refs.form;if(!e)return;const t=this.getFormData(e);!Pe(t,this.previousSavedData)&&!this.loading&&(this.previousSavedData=t,this.update(e))},submit:function(e){e.preventDefault(),this.save()},update:function(e){if(this.loading)return;this.loading=!0;const t=this.getFormData(e);t.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;const a=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;ua.update(a,t,i=>{this.loading=!1,i.data.tags&&this.$emit("tagUpdated",i.data.tags),this.hasMultipleMedias&&i.data.items&&this.medias.forEach(function(n){i.data.items.some(function(s){return s.id===n.id&&(n.tags=s.tags),s.id===n.id})})},i=>{this.loading=!1,i.data.message})}}},bE=e=>(ft("data-v-3e63f940"),e=e(),ht(),e),vE={class:"mediasidebar"},AE={key:0,class:"f--note"},EE={key:1,class:"mediasidebar__info"},wE=["src","alt"],SE={class:"mediasidebar__name"},kE={key:0,class:"mediasidebar__loader"},CE=bE(()=>b("span",{class:"loader loader--small"},[b("span")],-1)),TE=[CE],ME=["value"],IE=["value"],DE={class:"modal--tiny-title"};function OE(e,t,a,i,n,s){const o=x("ue-mediasidebar-upload"),l=x("SelectTag"),m=x("ue-modal");return d(),y("div",vE,[e.mediasLoading.length?(d(),g(o,{key:0})):(d(),y(F,{key:1},[b("div",{class:W(["mediasidebar__inner",s.containerClasses])},[s.hasMedia?k("",!0):(d(),y("p",AE,E(e.$trans("media-library.sidebar.empty-text","No file selected")),1)),s.hasMultipleMedias?(d(),y("p",EE,[D(E(a.medias.length)+" "+E(e.$trans("media-library.sidebar.files-selected","files selected"))+" ",1),b("a",{href:"#",onClick:t[0]||(t[0]=Le((...c)=>s.clear&&s.clear(...c),["prevent"]))},E(e.$trans("media-library.sidebar.clear","Clear")),1)])):k("",!0),s.hasSingleMedia?(d(),y(F,{key:2},[s.isImage?(d(),y("img",{key:0,src:s.firstMedia.thumbnail,class:"mediasidebar__img",alt:s.firstMedia.original},null,8,wE)):k("",!0),b("p",SE,E(s.firstMedia.name),1),f($e,{density:"compact",class:"bg-transparent"},{default:u(()=>[s.firstMedia.size?(d(),g(he,{key:0,color:"primary",variant:"tonal"},{default:u(()=>[f(Rt,null,{default:u(()=>[D("File size: "+E(s.firstMedia.size.toUpperCase()),1)]),_:1})]),_:1})):k("",!0),s.isImage&&s.firstMedia.width+s.firstMedia.height?(d(),g(he,{key:1,color:"primary",variant:"tonal"},{default:u(()=>[f(Rt,null,{default:u(()=>[D(E(e.$t("media-library.sidebar.dimensions","Dimensions"))+": "+E(s.firstMedia.width)+" × "+E(s.firstMedia.height),1)]),_:1})]),_:1})):k("",!0)]),_:1})],64)):k("",!0),s.hasMedia?(d(),g(ue,{key:3,align:"center",justify:"space-around",class:"mt-12"},{default:u(()=>[s.hasSingleMedia?(d(),g(q,{key:0,href:s.firstMedia.original,download:"",icon:"mdi-download",size:"small"},null,8,["href"])):k("",!0),s.allowDelete&&a.authorized?(d(),g(q,{key:1,icon:"$trash",size:"small",type:"button",onClick:s.deleteSelectedMediasValidation},null,8,["onClick"])):(d(),g(q,{key:2,icon:"$trash",disabled:"",size:"small",type:"button"})),s.hasSingleMedia?(d(),g(q,{key:3,icon:"mdi-recycle",size:"small",type:"button",onClick:s.replaceMedia},null,8,["onClick"])):k("",!0)]),_:1})):k("",!0)],2),s.hasMedia?(d(),y("form",{key:0,ref:"form",class:"mediasidebar__inner mediasidebar__form",onSubmit:t[4]||(t[4]=(...c)=>s.submit&&s.submit(...c))},[e.loading?(d(),y("span",kE,TE)):k("",!0),s.hasMultipleMedias?k("",!0):(d(),y(F,{key:1},[(d(),g(l,{label:e.$trans("media-library.sidebar.tags"),key:s.firstMedia.id+"-"+a.medias.length,name:"","v-model":s.hasMultipleMedias?s.sharedTags:s.firstMedia.tags,options:e.tags,selected:s.hasMultipleMedias?s.sharedTags:s.firstMedia.tags,searchable:!0,multiple:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:a.type.tagsEndpoint,onChange:s.save},null,8,["label","v-model","options","selected","emptyText","endpoint","onChange"])),s.isImage?(d(),g(je,{key:0,label:e.$trans("media-library.sidebar.alt-text"),variant:"outlined",name:"alt_text",onBlur:s.blur,modelValue:s.firstMedia.metadatas.default.altText,"onUpdate:modelValue":t[1]||(t[1]=c=>s.firstMedia.metadatas.default.altText=c)},null,8,["label","onBlur","modelValue"])):k("",!0),s.isImage?(d(),g(ja,{key:1,label:e.$trans("media-library.sidebar.caption"),variant:"outlined",name:"caption",onBlur:s.blur,modelValue:s.firstMedia.metadatas.default.caption,"onUpdate:modelValue":t[2]||(t[2]=c=>s.firstMedia.metadatas.default.caption=c)},null,8,["label","onBlur","modelValue"])):k("",!0)],64)),a.extraMetadatas.length&&s.isImage&&s.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?(d(),g(Ue,{key:2,text:"Remove this field if you do not want to update it on all selected medias",location:"top"},{activator:u(({props:c})=>[b("span",P(c,{class:"f--tiny f--note f--underlined",onClick:t[3]||(t[3]=r=>s.removeFieldFromBulkEditing("tags"))})," Remove from bulk edit ",16)]),_:1})):k("",!0),s.hasMultipleMedias?(d(),y("input",{key:3,type:"hidden",name:"ids",value:s.mediasIds},null,8,ME)):(d(),y("input",{key:4,type:"hidden",name:"id",value:s.firstMedia.id},null,8,IE))],544)):k("",!0)],64)),f(m,{ref:"warningDelete",transition:"dialog-bottom-transition",modelValue:e.deleteModalActive,"onUpdate:modelValue":t[5]||(t[5]=c=>e.deleteModalActive=c),"width-type":"sm","confirm-text":`Delete ( ${s.mediasIdsToDelete.length} )`,"cancel-text":"Cancel"},{"body.description":u(()=>[b("p",DE,[b("strong",null,E(e.$trans("media-library.dialogs.delete.title","Are you sure ?")),1)]),b("p",null,E(s.warningDeleteMessage),1)]),_:1},8,["modelValue","confirm-text"])])}const VE=Z(_E,[["render",OE],["__scopeId","data-v-3e63f940"]]),FE={mixins:[Bv],components:{MediaGrid:KA,ItemList:oE,MediaSidebar:VE},setup(e,{attrs:t,slots:a,emit:i}){},props:{...Vc(),initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!0},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1,full:!0,sharedFilterState:{search:"",tag:null,type:this.type??"image",page:this.page??this.initialPage}}},computed:{renderedMediaItems:function(){return this.mediaItems.map(e=>(e.disabled=this.filesizeMax>0&&e.filesizeInMb>this.filesizeMax||this.widthMin>0&&e.width<this.widthMin||this.heightMin>0&&e.height<this.heightMin,e))},currentTypeObject:function(){return this.types.find(e=>e.value===this.type)},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+" – "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+" – "+this.btnLabelMulti:this.modalTitlePrefix+" – "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){let e=ca().appContext.config.globalProperties.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=ca().appContext.config.globalProperties.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){const e=this;return e.types.filter(function(a){return a.value===e.type})[0]},canInsert:function(){return!this.selectedMedias.some(e=>!!this.usedMedias.find(t=>t.id===e.id))},...ze({connector:e=>e.mediaLibrary.connector,max:e=>e.mediaLibrary.max,filesizeMax:e=>e.mediaLibrary.filesizeMax,widthMin:e=>e.mediaLibrary.widthMin,heightMin:e=>e.mediaLibrary.heightMin,type:e=>e.mediaLibrary.type,types:e=>e.mediaLibrary.types,strict:e=>e.mediaLibrary.strict,selected:e=>e.mediaLibrary.selected,indexToReplace:e=>e.mediaLibrary.indexToReplace}),filterSchema:function(){return{tag:{type:"select",name:"tag",label:"Filter by tags",items:this.tags,variant:"outlined",clearable:"true",chips:"true",col:"12"}}}},watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1,this.sharedFilterState.type=this.type},page:function(e){this.sharedFilterState.page=e}},methods:{deleteSelectedMedias:function(e){let t=[];e&&e.length!==this.selectedMedias.length&&(t=this.selectedMedias.filter(a=>!a.deleteUrl)),e.forEach(()=>{this.$store.commit(Y.DECREMENT_MEDIA_TYPE_TOTAL,this.type)}),this.mediaItems=this.mediaItems.filter(a=>!this.selectedMedias.includes(a)||t.includes(a)),this.selectedMedias=t,this.mediaItems.length<=40&&this.reloadGrid()},replaceMedia:function({id:e}){this.$refs.uploader.replaceMedia(e)},addMedia:function(e){const t=this.mediaItems.findIndex(function(a){return a.id===e.id});if(t>-1){for(const a in this.selected)this.selected[a].forEach((i,n)=>{if(e.id===i.id){const s=[];for(const o in i.crops)s[o]={height:e.height===i.height?i.crops[o].height:e.height,name:o,width:e.width===i.width?i.crops[o].width:e.width,x:e.width===i.width?i.crops[o].x:0,y:e.height===i.height?i.crops[o].y:0};this.$store.commit(Y.UPDATE_MEDIAS,{index:n,media:{...e,width:e.width===i.width?i.width:e.width,height:e.height===i.height?i.height:e.height,crops:s},mediaRole:a})}});this.$set(this.mediaItems,t,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(Y.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},open:function(){this.$refs.modal.open()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateSelectedMedias:function(e,t=!1){const a=e.id;if(this.selectedMedias.filter(function(n){return n.id===a}).length===0){if(this.max===1&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(t&&this.selectedMedias.length>0){const n=this.selectedMedias[this.selectedMedias.length-1],s=this.mediaItems.findIndex(r=>r.id===n.id),o=this.mediaItems.findIndex(r=>r.id===a);if(o===-1&&s===-1)return;let l=null,m=null;s<o?(l=s+1,m=o+1):(l=o,m=s),this.mediaItems.slice(l,m).forEach(r=>{if(this.selectedMedias.length>=this.max&&this.max>0)return;this.selectedMedias.findIndex(_=>_.id===r.id)===-1&&this.selectedMedias.push(r)})}else{const n=this.mediaItems.filter(function(s){return s.id===a});n.length&&this.selectedMedias.push(n[0])}}else this.selectedMedias=this.selectedMedias.filter(function(n){return n.id!==a})},clearSelectedMedias:function(){this.selectedMedias.splice(0)},clearFilters:function(){const e=this;if(this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){const t=this.$refs.unused.$el.querySelector("input");t&&t.checked&&t.click()}this.$nextTick(function(){e.submitFilter()})},clearDropdownFilters:function(){const e=this;this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$nextTick(function(){e.submitFilter()})},submitFilter:function(e){const t=this,a=this.$refs.list;if(this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),a.scrollTop===0){t.reloadGrid();return}PA({el:a,offset:0,easing:"easeOut",onComplete:function(){t.reloadGrid()}})},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){const e=this;this.loading=!0,this.$refs.form;const t=e.cleanEmptyFilters(this.sharedFilterState);ua.get(this.endpoint,t,a=>{a.data.items.forEach(n=>{this.mediaItems.find(s=>s.id===n.id)||this.mediaItems.push(n)}),this.maxPage=a.data.maxPage||1;let i=a.data.tags.map(({label:n,...s})=>({title:n,...s}));this.tags=i||[],this.$store.commit(Y.UPDATE_MEDIA_TYPE_TOTAL,{type:this.type,total:a.data.total}),this.loading=!1,this.gridLoaded=!0},a=>{})},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(Y.UPDATE_MEDIA_TYPE,e),this.submitFilter())},getFormData:function(e){let t=Ka(e);return t?t.page=this.page:t={page:this.page},t.type=this.type,Array.isArray(t.unused)&&t.unused.length&&(t.unused=t.unused[0]),t},listenScrollPosition:function(){this.$nextTick(function(){if(!this.gridLoaded)return;const e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)})},scrollToPaginate:function(){if(!this.gridLoaded)return;const e=this.$refs.list;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop},saveAndClose:function(){this.$store.commit(Y.UPDATE_IS_INSERTED,!0),this.$store.commit(Y.SAVE_MEDIAS,this.selectedMedias),this.$nextTick(()=>{this.closeModal()})},reloadTags:function(e=[]){this.tags=e},cleanEmptyFilters:function(e){return Object.entries(e).reduce((t,[a,i])=>(i!=null&&i!==""&&(typeof i=="object"&&!Array.isArray(i)?t[a]=this.cleanEmptyFilters(i):t[a]=i),t),{})}},created(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}}},PE=e=>(ft("data-v-61dbe1ea"),e=e(),ht(),e),$E={class:"medialibrary"},RE={class:"medialibrary__frame"},LE={class:"medialibrary__header",ref:"form"},UE={key:0,class:"secondarynav secondarynav--desktop py",slot:"navigation"},NE={key:0,class:"secondarynav__number"},BE=PE(()=>b("div",{slot:"hidden-filters"},null,-1)),xE={class:"medialibrary__inner"},jE={class:"medialibrary__grid"},zE={class:"medialibrary__sidebar"},KE={key:0,class:"medialibrary__footer"},qE={class:"medialibrary__list",ref:"list"},HE={class:"medialibrary__list-items"};function GE(e,t,a,i,n,s){const o=x("ue-filter"),l=x("ue-dropdown-filter"),m=x("MediaSidebar"),c=x("ue-uploader"),r=x("ItemList"),h=x("MediaGrid"),_=x("ue-modal");return d(),g(_,{modelValue:e.show,"onUpdate:modelValue":t[2]||(t[2]=p=>e.show=p),id:"modalMedia",ref:"modalMedia",fullscreen:"","content-class":"",width:"",onOpened:s.opened},{activator:u(({props:p})=>[z(e.$slots,"activator",{props:{...p}},void 0,!0)]),body:u(({props:p})=>[b("div",$E,[b("div",RE,[f(_a,{dark:"",color:"primary"},{default:u(()=>[f(ba,null,{default:u(()=>[D(E(s.modalTitle),1)]),_:1}),f(Se),f(Il,null,{default:u(()=>[f(q,{icon:"",dark:"",onClick:e.closeModal},{default:u(()=>[f(le,null,{default:u(()=>[D("mdi-close")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),b("div",LE,[f(o,{onSubmit:s.submitFilter,clearOption:!0,onClear:s.clearFilters,filterState:e.sharedFilterState,"onUpdate:filterState":t[0]||(t[0]=A=>e.sharedFilterState=A)},{default:u(()=>[e.types.length?(d(),y("ul",UE,[(d(!0),y(F,null,B(e.types,A=>(d(),g(Re,{key:A.value,class:"ma-2",onClick:Le(M=>s.updateType(A.value),["prevent"])},{default:u(()=>[D(E(A.text)+" ",1),A.total>0?(d(),y("span",NE," ("+E(A.total)+") ",1)):k("",!0)]),_:2},1032,["onClick"]))),128))])):k("",!0),BE]),_:1},8,["onSubmit","onClear","filterState"]),f(l,{onSubmit:s.submitFilter,onClear:s.clearDropdownFilters,loading:e.loading,"filter-ref":e.$refs.filter,filterState:e.sharedFilterState,"onUpdate:filterState":t[1]||(t[1]=A=>e.sharedFilterState=A),schema:s.filterSchema},null,8,["onSubmit","onClear","loading","filter-ref","filterState","schema"])],512),b("div",xE,[b("div",jE,[b("aside",zE,[f(m,{medias:e.selectedMedias,authorized:a.authorized,extraMetadatas:a.extraMetadatas,onClear:s.clearSelectedMedias,onDelete:s.deleteSelectedMedias,onTagUpdated:s.reloadTags,type:s.currentTypeObject,translatableMetadatas:a.translatableMetadatas,onTriggerMediaReplace:s.replaceMedia},null,8,["medias","authorized","extraMetadatas","onClear","onDelete","onTagUpdated","type","translatableMetadatas","onTriggerMediaReplace"])]),e.selectedMedias.length&&a.showInsert&&e.connector?(d(),y("footer",KE,[s.canInsert?(d(),g(q,{key:0,onClick:s.saveAndClose},{default:u(()=>[D(E(s.btnLabel),1)]),_:1},8,["onClick"])):(d(),g(q,{key:1,disabled:!0},{default:u(()=>[D(E(s.btnLabel),1)]),_:1}))])):k("",!0),b("div",qE,[a.authorized?(d(),g(c,{key:0,ref:"uploader",onLoaded:s.addMedia,onClear:s.clearSelectedMedias,type:s.currentTypeObject},null,8,["onLoaded","onClear","type"])):k("",!0),b("div",HE,[e.type==="file"?(d(),g(r,{key:0,items:s.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":s.usedMedias,onChange:s.updateSelectedMedias,onShiftChange:s.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"])):(d(),g(h,{key:1,items:s.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":s.usedMedias,onChange:s.updateSelectedMedias,onShiftChange:s.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"]))])],512)])])])])]),_:3},8,["modelValue","onOpened"])}const WE=Z(FE,[["render",GE],["__scopeId","data-v-61dbe1ea"]]),YE={accountSettings:"mdi mdi-account-cog",add:"mdi-plus",alert:"mdi-alert-outline",arrowLeft:"mdi-arrow-left-thin",arrowRight:"mdi-arrow-right-thin",check:"mdi-check",close:"mdi-close",company:"mdi-office-building-cog",creditCards:"mdi-credit-card-search",dashboard:"mdi-view-dashboard-outline",delete:"mdi-trash-can-outline",download:"mdi-download",duplicate:"mdi-content-copy",edit:"mdi-pencil-box-outline",error:"mdi-close-circle-outline",filter_list:"mdi-filter",header:"mdi-text-short",info:"mdi-information",list:"mdi-dots-vertical-circle-outline",media:"mdi-image-album",modules:"mdi-view-module","non-visibility":"mdi-eye-off",package:"mdi-package",permission:"mdi-account-arrow-right",product:"mdi-dropbox",restore:"mdi-file-restore",role:"mdi-account-key",submodule:"mdi-file-tree",success:"mdi-check-circle-outline",support:"mdi-lifebuoy",trash:"mdi-delete",userAdd:"mdi-account-edit",users:"mdi:mdi-account-multiple",visibility:"mdi-eye",warning:"mdi-alert-circle-outline"},ZE={dark:!1,colors:{background:"#F5F5F5",red:"#DE3730","red-lighten-1":"#FFEDEA","red-darken-1":"#93000A",error:"#DE3730",blue:"#2196F3","blue-lighten-1":"#D3EAFD","blue-darken-1":"#077BD8","blue-accent-1":"#176FC7","blue-accent-2":"#63ADED",info:"#2196F3",green:"#54AF4C","green-lighten-1":"#E4F4D8","green-darken-1":"#1C7F20",success:"#54AF4C",orange:"#FDB022","orange-lighten-1":"#FEF8EC","orange-darken-1":"#F88C00",warning:"#FDB022",primary:"#27A0B4","primary-lighten-1":"#4DBBC6","primary-lighten-2":"#74CED7","primary-lighten-3":"#AFE2E7","primary-lighten-4":"#F5FAFC","primary-darken-1":"#00758D","primary-darken-2":"#00566A","primary-darken-3":"#01404F","primary-accent":"#DEF5FA","on-primary":"#FFFFFF",secondary:"#E16437","secondary-lighten-1":"#EC9F83","secondary-lighten-2":"#F2BAA6","secondary-lighten-3":"#F7D6CA","secondary-lighten-4":"#FCF1ED","secondary-lighten-5":"#F7D6CA","secondary-lighten-6":"#F2BAA6","secondary-darken-1":"#D55020","secondary-darken-2":"#C3491D","secondary-darken-3":"#B1431B","secondary-darken-4":"#A03C18","secondary-darken-5":"#8E3515","secondary-darken-6":"#7C2F13",grey:"#768184","grey-lighten-1":"#879092","grey-lighten-2":"#999FA1","grey-lighten-3":"#AAEAEF","grey-lighten-6":"#F2F1F1","grey-lighten-4":"#CACBCB","grey-lighten-5":"#E4E4E4","grey-lighten-6":"#F2F1F1","grey-darken-1":"#657275","grey-darken-2":"#546367","grey-darken-3":"#435458","grey-darken-4":"#32454A","grey-darken-5":"#20363B","grey-accent-1":"#EEF1F2","grey-accent-2":"#DEE3E5","grey-accent-3":"#BFC8CB","grey-accent-4":"#8CA0A7","grey-accent-5":"#6F797B","grey-accent-6":"#3F484A","grey-accent-7":"#171D1E"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},QE=Object.freeze(Object.defineProperty({__proto__:null,unusualify:ZE},Symbol.toStringTag,{value:"Module"}));var XE={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const JE=XE.VUE_APP_THEME||"unusualify",ew={aliases:{VBtnPrimary:q,VBtnSecondary:q,VBtnSuccess:q,VImgIcon:ut,VSheetRounded:Ve,VRowSecondary:ue,VRowTertiary:ue},defaults:{global:{ripple:!1},VSheet:{},VSheetRounded:{class:"rounded"},VBtn:{color:"primary",density:"comfortable",variant:"elevated"},VBtnPrimary:{color:"primary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSecondary:{color:"secondary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSuccess:{color:"success",variant:"elevated"},VImgIcon:{height:"2.5rem"},VRowSecondary:{class:"v-row-secondary"},VRowTertiary:{class:"v-row-tertiary"}},theme:{defaultTheme:JE,themes:QE},icons:{defaultSet:"mdi",aliases:{...Ol,...YE},sets:{mdi:Vl,fa:Fl}},directives:Pl,components:{...$l}},tw=Dl(ew),aw={install:(e,t)=>{window.Pusher=el}},on="CVV",dn="MM",un="Month",cn="PAY",mn="Year",fn="YY",sw={"ADD NEW":"ADD NEW","Are you sure logout?":"Are you sure logout?","AT A GLANCE":"AT A GLANCE","Card Holder":"Card Holder","Card Number":"Card Number","Company Information":"Company Information",CVV:on,"Expire Date":"Expire Date","Loading... Please wait":"Loading... Please wait",MM:dn,Month:un,PAY:cn,"Personal Information":"Personal Information","Update Password":"Update Password",Year:mn,YY:fn},iw=Object.freeze(Object.defineProperty({__proto__:null,CVV:on,MM:dn,Month:un,PAY:cn,YY:fn,Year:mn,default:sw},Symbol.toStringTag,{value:"Module"})),hn="Hepsi",pn="CVV",gn="Ay",yn="AA",_n="Hayır",bn="ÖDE",vn="Saygılar",An="KDV",En="YY",wn="Evet",Sn="Yıl",kn="Toplam",nw={"ADD NEW":"EKLE","Are you sure logout?":"Çıkış yapmak istediğinize emin misiniz?","AT A GLANCE":"GENEL BAKIŞ",All:hn,"Card Holder":"Kart Üstündeki İsim","Card Number":"Kart No","Company Information":"Şirket Bilgileri",CVV:pn,"Expire Date":"Son Kullanma Tarihi","Frequently Asked Questions":"Sıkça Sorulan Sorular","If you did not request a password reset, no further action is required.":"Şifre sıfırlama talebinde bulunmadıysanız, herhangi bir işlem yapmanız gerekli değildir","Loading... Please wait":"Yükleniyor, lütfen bekleyin...",Month:gn,MM:yn,No:_n,PAY:bn,"Personal Information":"Kişisel Bilgiler",Regards:vn,"Reset Password":"Yeni Şifre Oluştur","Reset Password Notification":"Yeni Şifre Oluşturma Bildirimi","This password reset link will expire in :count minutes.":"Bu şifre oluşturma linki :count dakika içerisinde sonlanacak.","Total Amount":"Genel Toplam","Update Password":"Şifreyi Güncelle",VAT:An,YY:En,"You are receiving this email because we received a password reset request for your account.":"Hesabınızın şifresini sıfırlamak için bu maili alıyorsunuz",Yes:wn,Year:Sn,Total:kn},lw=Object.freeze(Object.defineProperty({__proto__:null,All:hn,CVV:pn,MM:yn,Month:gn,No:_n,PAY:bn,Regards:vn,Total:kn,VAT:An,YY:En,Year:Sn,Yes:wn,default:nw},Symbol.toStringTag,{value:"Module"}));var ms={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function rw(){const e=Object.assign({"../../../../lang/en.json":iw,"../../../../lang/tr.json":lw}),t={};return Object.keys(e).forEach(a=>{const s=a.split("/").pop().match(/([A-Za-z0-9-_]+)\.json/i)[1].match(/([A-Za-z0-9-_]+)/i);if(s&&s.length>1){const o=s[1];t[o]=e[a]}}),t}const ow={en:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}},tr:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}}},dw={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}},en:{currency:{style:"currency",currency:"EUR"}},tr:{currency:{style:"currency",currency:"TRY"}}},uw={locale:ms.VUE_APP_LOCALE||"en",fallbackLocale:ms.VUE_APP_FALLBACK_LOCALE||"en",legacy:!1,missingWarn:!1,fallbackWarn:!1,messages:rw(),datetimeFormats:ow,numberFormats:dw},bt=cw(uw);function cw(e={locale:"en"}){const t=tl(e);return Cn(t,e.locale),t}function Cn(e,t){e.mode==="legacy"?e.global.locale=t:e.global.locale.value=t,document.querySelector("html").setAttribute("lang",t)}async function mw(e,t){if(typeof TRANSLATIONS<"u"&&TRANSLATIONS)for(const a in TRANSLATIONS)fw(e,a,TRANSLATIONS[a])}function fw(e,t,a){return e.global.setLocaleMessage(t,a),qt()}function fs(e,t,a){const i=["icon"],n=t.expression||a.props.symbol;let s=e;a.type==="span"&&(s=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(s)),i.push(`icon--${n}`),i.forEach(function(c){e.classList.add(c)});const o=document.createElementNS("http://www.w3.org/2000/svg","title");o.textContent=n,s.appendChild(o);const l=`#icon--${n}`,m=document.createElementNS("http://www.w3.org/2000/svg","use");m.setAttributeNS("http://www.w3.org/1999/xlink","href",l),s.appendChild(m)}function hw(e){const t=e.querySelector("svg");t&&t.parentNode.removeChild(t),e.className.split(" ").filter(function(i){return i.indexOf("icon")===0}).forEach(function(i){e.classList.remove(i)})}const pw={install(e,t={}){const a={beforeMount(i,n,s){fs(i,n,s)},updated:function(i,n,s,o){hw(i),fs(i,n,s)},mounted:function(i,n,s){},unmounted:function(i,n,s){}};e.directive("svg",a)}},gw={install(e,t={}){const a={cols:12},i={created(n,s,o,l){s.value,s.instance,__log(o,n)},beforeMount(n,s,o,l){const m=s.value;m?__isObject(m)&&Object.entries(m).forEach(([c,r])=>{n.classList.add(`v-col-${c==="cols"?r:c+"-"+r}`)}):Object.entries(a).forEach(([c,r])=>{n.classList.add(`v-col-${c==="cols"?r:c+"-"+r}`)})},mounted(n,s,o,l){},beforeUpdate(n,s,o,l){},updated(n,s,o,l){},beforeUnmount(n,s,o,l){},unmounted(n,s,o,l){}};e.directive("column",i)}},yw={install(e,t={}){const a={created(i,n,s,o){},beforeMount(i,n,s,o){i.classList.add("d-flex"),i.firstElementChild.classList.add("h-100","w-100")},mounted(i,n,s,o){},beforeUpdate(i,n,s,o){},updated(i,n,s,o){},beforeUnmount(i,n,s,o){},unmounted(i,n,s,o){}};e.directive("fit-grid",a)}},_w={install(e,t={}){const a={created(i,n,s,o){},beforeMount(i,n,s,o){if(i.classList.add("ue-scrollable"),console.log("here"),n.modifiers.height){const l=n.value;typeof l=="number"||typeof l=="string"&&l.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/)?(i.style.height=typeof l=="number"?`${l}px`:l,i.style.overflowY="auto"):console.warn("v-scrollable: Invalid height value. Please provide a number (for px) or a valid CSS height value.")}},mounted(i,n,s,o){},updated(i,n,s,o){if(n.modifiers.height&&n.value!==n.oldValue){const l=n.value;(typeof l=="number"||typeof l=="string"&&l.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/))&&(i.style.height=typeof l=="number"?`${l}px`:l)}},beforeUpdate(i,n,s,o){},beforeUnmount(i,n,s,o){},unmounted(i,n,s,o){}};e.directive("scrollable",a)}},bw={install(e,t={}){const a={beforeMount(i,n){var o;const s=n.arg||"scale";(o=n.modifiers)!=null&&o.slow,i.classList.add(`${s}-transition`)},mounted(i,n){const s=n.arg||"scale";i.classList.contains("d-none")||i.classList.add(`${s}-1`);const o=new MutationObserver(l=>{l.forEach(m=>{if(m.type==="attributes"&&m.attributeName==="class"){const c=i.classList.contains("d-none");c?(__log("observer",c,i),i.classList.remove(`${s}-1`)):setTimeout(()=>{i.classList.add(`${s}-1`)},50)}})});i._transitionObserver=o,o.observe(i,{attributes:!0,attributeFilter:["class"]})},updated(i,n){},unmounted(i){i._transitionObserver&&(i._transitionObserver.disconnect(),delete i._transitionObserver)}};e.directive("transition",a)}};var vw={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const hs={$csrf:function(){return document.querySelector('meta[name="csrf-token"]').getAttribute("content")},$log:function(...e){return window.__log(...e)},$isset:function(...e){return window.__isset(...e)},$bindAttributes:function(e=null){const t={};if(e)Object.keys(e).forEach((a,i)=>{parseInt(a)>-1?t[e[a]]=!0:t[a]=e[a]});else if(e==null)return{...this.$attrs};return t},$main:function(){return this.$root.$refs.main},$profileDialog:function(){return this.$root.$refs.sidebar.$refs.profileDialog},$openProfileDialog:function(){return this.$store.state.user.profileDialog=!0},$closeProfileDialog:function(){return this.$store.state.user.profileDialog=!1},$can:function(e){return!!this.$store.getters.isSuperAdmin},$hasRoles:function(e){return window.__isString(e)&&(e=e.split(",").map(t=>t.trim())),this.$store.getters.userRoles.some(t=>e.includes(t))},$toggleSidebar:function(){this.$store.commit(qe.SIDEBAR_TOGGLE)},$castValueMatch:function(e,t){let a,i=e;if(__isString(e)&&(a=e.match(/\$([\w\.\*]+)/))){let n=a[1],s=__preg_quote(a[0]),o=n.split("."),l=[];for(const c in o){let r=o[c];r==="*"?t.id:l.push(r)}n=l.join(".");let m=__data_get(t,n);if(m){let c;if(Array.isArray(m)&&m.length>0)c=m.join(",");else if(__isString(m)){c=m;let r=snakeCase(c);this.$te(`modules.${r}`)&&(c=this.$t(`modules.${r}`))}else __isNumber(m)&&(c=m.toString());if(c){let r="\\w\\s"+__preg_quote("çşıİğüö.,;?|:_"),h=new RegExp(String.raw`^([${r}]+)?(${s})([${r}]+)?$`);e.match(h)?i=e.replace(h,"$1"+c+"$3"):__log("Not matched sentence",h,e,e.match(h))}}}return i},$notif:function(e){this.$store.commit(pe.SET_ALERT,e)},$dialog:function(e){this.$store.commit(pe.SET_DIALOG,e)},$hasRequestInProgress:function(){return this.$store.getters.isRequestInProgress},$trans:function(e,t){var a;return this.$lodash.get((a=window[vw.VUE_APP_NAME])==null?void 0:a.modularityLocalization.lang,e,t)},$changeLocale:function(e){this.$i18n.locale.value=e},$localization:function(e){if(e.indexOf(" ")>-1)return this.$t(e);let a=H.split(e,".");if(a.length>1)return this.$te(e)?this.$t(e):H.join(a," ");let i=!1,n=e;Je.isPlural(n)&&(i=!0,n=Je.singular(n));let s=H.kebabCase(n),o=H.snakeCase(n);return this.$translation(`modules.${o}`,i?1:0)||this.$translation(`fields.${s}`)||this.$translation(`fields.${o}`)||window.__snakeToHeadline(e)},$moduleTranslationName:function(e){let t=!1,a=e,i=window.__snakeNameFromForeignKey(a);return i&&(a=i,e=i),Je.isPlural(a)&&(t=!0,a=Je.singular(a)),a=H.snakeCase(a),e=H.snakeCase(e),this.$te(`modules.${a}`)?this.$t(`modules.${a}`,t?1:0):window.__snakeToHeadline(e)},$translation:function(e,...t){return this.$te(e)?this.$t(e,...t):!1},$headline:function(e){return window.__headline(e)},$getDisplayData:function(e,t){let a={};for(const i in e){const n=e[i],s=t[i];let o=n.displayLabel||n.label||n.name||i;if(o=this.$localization(o),!(!n.type||n.type=="hidden")&&!(!s&&s!==0&&s!==!1&&o!==null&&n.type!=="wrap"))switch(a[i]={_title:o,_type:n.type},n.type){case"wrap":n.schema&&(delete a[i],a=Object.assign(a,this.$getDisplayData(n.schema,t)));break;case"group":n.schema&&typeof s=="object"&&(a[i]={...a[i],...this.$getDisplayData(n.schema,s)});break;case"input-repeater":Array.isArray(s)&&n.schema?a[i]._value=s.map(c=>this.$getDisplayData(n.schema,c)):a[i]._value=s;break;case"input-filepond":Array.isArray(s)?a[i]._value=s.map(c=>c.file_name):a[i]._value=s.file_name;break;case"input-form-tabs":a[i]._value=H.reduce(s,(c,r,h)=>{h=__isString(h)?parseInt(h):h;const _=n.items.find(M=>M.id==h);let A={_title:_.title||_.name,_model:_.id??null,_value:{}};return H.each(n.tabFields,(M,S)=>{let v=n.schema[S],w={_title:this.$localization(v.displayLabel||v.label||v.name||S),_type:n.type,_value:null},T=r[S],N=_[M];if(Array.isArray(T)&&N)w._value=T.map(G=>{let K=N.find(J=>J.id===G);return K?K.title||K.name:"N/A"});else if(N){let G=N.find(J=>J.id===T);T=G?G.title||G.name:T,w._value=T;let K=this.$getDisplayKeys(G);for(const J in K)w[J]||(w[K[J]]=G[J])}A[S]=w}),c.push(A),c},[]);break;case"input-price":const l=this.$numberFormats[this.$getLocale].currency,m=n.items.find(c=>c.iso===l.currency);__log(this.$n(100,{style:"currency",currency:l.currency})),a[i]._value=this.$n(s.find(c=>c.currency_id===m.id).display_price,{style:"currency",currency:l.currency});break;default:if(__isObject(s))a[i]._value=s;else if(Array.isArray(s)&&n.items)a[i]._value=s.map(c=>{const r=n.items.find(h=>h[n.itemValue]===c);return r?r[n.itemTitle]:c});else if(n.items){const c=n.items.find(r=>r[n.itemValue]===s);a[i]._value=c?c[n.itemTitle]:s}else a[i]._value=s;break}}return a},$getDisplayKeys:function(e){return H.reduce(Object.keys(e??{}),(t,a)=>{let i=a.match(/^([a-zA-Z0-9]+)(_show)$/);return i&&(t[a]=i[1]),t},{})},$copy:function(e){window.navigator.clipboard.writeText(e)}};var Aw={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const Ew=Object.assign({"/src/js/components/Alert.vue":qo,"/src/js/components/Auth.vue":td,"/src/js/components/BoardInformationPlus.vue":od,"/src/js/components/Btn.vue":md,"/src/js/components/Collapsible.vue":_d,"/src/js/components/ConfigurableCard.vue":Td,"/src/js/components/CopyText.vue":Vd,"/src/js/components/Dashboard.vue":Rd,"/src/js/components/DropdownFilter.vue":Bd,"/src/js/components/DynamicComponentRenderer.vue":Kd,"/src/js/components/FilepondPreview.vue":tu,"/src/js/components/Filter.vue":cu,"/src/js/components/Form.vue":mm,"/src/js/components/FormOld.vue":Em,"/src/js/components/FormSummaryItem.vue":Vm,"/src/js/components/ImpersonateToolbar.vue":Rm,"/src/js/components/ListElement.vue":Bm,"/src/js/components/ListSection.vue":Qm,"/src/js/components/LogoutModal.vue":af,"/src/js/components/MediaMetadata.vue":uf,"/src/js/components/NavigationGroup.vue":hf,"/src/js/components/PrintRequest.vue":vf,"/src/js/components/PropertyList.vue":Cf,"/src/js/components/RecursiveDataViewer.vue":Rf,"/src/js/components/RecursiveStuff.vue":Bf,"/src/js/components/StepperForm.vue":Sh,"/src/js/components/StepperFormOld.vue":Hh,"/src/js/components/Success.vue":Xh,"/src/js/components/SvgIcon.vue":sp,"/src/js/components/TabGroups.vue":rp,"/src/js/components/TabGroupsPrevious.vue":cp,"/src/js/components/Table.vue":Tg,"/src/js/components/TableBinder.vue":Og,"/src/js/components/Tabs.vue":Lg,"/src/js/components/TabsPrevious.vue":xg,"/src/js/components/TextDisplay.vue":Wg,"/src/js/components/Title.vue":Qg,"/src/js/components/Uploader.vue":cy}),ww=Object.assign({"/src/js/components/data_iterators/ExpandableIterator.vue":gy,"/src/js/components/data_iterators/RichCardIterator.vue":Cy,"/src/js/components/data_iterators/RichRowIterator.vue":Ny}),Sw=Object.assign({"/src/js/components/layouts/Footer.vue":Ky,"/src/js/components/layouts/Home.vue":s_,"/src/js/components/layouts/Main.vue":p_,"/src/js/components/layouts/Sidebar.vue":Jy}),kw=Object.assign({"/src/js/components/inputs/Chat.vue":T_,"/src/js/components/inputs/CheckboxCard.vue":O_,"/src/js/components/inputs/Checklist.vue":U_,"/src/js/components/inputs/ChecklistGroup.vue":j_,"/src/js/components/inputs/ComparisonTable.vue":Y_,"/src/js/components/inputs/CreditCard.vue":Wp,"/src/js/components/inputs/CreditCardForm.vue":cg,"/src/js/components/inputs/File.vue":Fb,"/src/js/components/inputs/Filepond.vue":jb,"/src/js/components/inputs/FormTabs.vue":Hb,"/src/js/components/inputs/Image.vue":ov,"/src/js/components/inputs/ImageOld.vue":Uv,"/src/js/components/inputs/Locale.vue":qv,"/src/js/components/inputs/PaymentService.vue":bg,"/src/js/components/inputs/Phone.vue":Jv,"/src/js/components/inputs/Price.vue":u1,"/src/js/components/inputs/Process.vue":h1,"/src/js/components/inputs/RadioGroup.vue":b1,"/src/js/components/inputs/Repeater.vue":F1,"/src/js/components/inputs/SelectScroll.vue":U1,"/src/js/components/inputs/SelectTag.vue":x1,"/src/js/components/inputs/Spread.vue":J1,"/src/js/components/inputs/Tag.vue":s0,"/src/js/components/inputs/Tagger.vue":o0}),Cw=Object.assign({});q0();const Nw={install:(e,t)=>{var a;window.vm=e,e.use(tw),e.use(Ot),e.use(bt),e.use(aw),e.config.globalProperties.$jquery=window.$,e.config.globalProperties.$axios=window.axios,e.config.globalProperties.$lodash=window._,e.config.globalProperties.window=window,e.config.globalProperties.$app=e,Cn(bt,Ot.state.user.locale),mw(bt,((a=window[Aw.VUE_APP_NAME])==null?void 0:a.ENDPOINTS.languages)??""),e.config.globalProperties={...e.config.globalProperties,$getLocale:bt.global.locale.value,$numberFormats:bt.global.numberFormats.value,$te:function(i,n){const s=bt.global.te;return s(i,n)??!1},$tc:function(i,n){const s=bt.global.tc;return s(i,n)??!1},$plural:function(i){return Je.plural(i)},registerComponentsV1:function(i,n="",s="ue"){n=n!==""?n+"/":"",i.keys().forEach(o=>{const l=o.split("/").pop().split(".")[0],m=s+l.replace(/[A-Z]/g,c=>"-"+c.toLowerCase());e.component(m,require(`__components/${n}${l}.vue`).default)})},registerComponents:function(i,n="",s="ue"){n=n!==""?n+"/":"",Object.keys(i).forEach(o=>{o.split("/").pop();const l=o.split("/").pop().split(".")[0],m=i[o],c=s+l.replace(/[A-Z]/g,r=>"-"+r.toLowerCase());e.component(c,m.default)})},$call:function(i,...n){return this[i](...n)}},Object.keys(hs).forEach(i=>{e.config.globalProperties[i]=hs[i].bind(e.config.globalProperties)}),e.mixin({methods:{notif:function(i){this.$store.commit(pe.SET_ALERT,i)},openFreeMediaLibrary:function(){this.$store.commit(Y.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(Y.RESET_MEDIA_TYPE),this.$store.commit(Y.UPDATE_REPLACE_INDEX,-1),this.$store.commit(Y.UPDATE_MEDIA_MAX,0),this.$store.commit(Y.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(Y.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(Y.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(Y.UPDATE_MEDIA_MODE,!1),this.$root.$refs.main&&this.$root.$refs.main.$refs.mediaLibrary&&this.$root.$refs.main.$refs.mediaLibrary.openModal()}}}),e.component("v-custom-form-base",DA),e.component("ue-modal",FA),e.component("ue-modal-media",WE),e.config.globalProperties.registerComponents(Ew),e.config.globalProperties.registerComponents(ww),e.config.globalProperties.registerComponents(Sw,"layouts"),e.config.globalProperties.registerComponents(kw,"inputs","v-input"),e.config.globalProperties.registerComponents(Cw,"customs","ue-custom"),e.directive("mask",al),e.use(pw),e.use(gw),e.use(yw),e.use(_w),e.use(bw),e.provide("$app",e)}};var rt={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const ps=(e,t)=>e.findIndex(a=>a.name===t.name),Tw={baseUrl:window[rt.VUE_APP_NAME].STORE.form.baseUrl||"",inputs:window[rt.VUE_APP_NAME].STORE.form.inputs||{},saveUrl:window[rt.VUE_APP_NAME].STORE.form.saveUrl||"",serverValid:!0,errors:{},editedItem:window[rt.VUE_APP_NAME].STORE.form.inputs?be(window[rt.VUE_APP_NAME].STORE.form.inputs,null):{},reloadOnSuccess:window[rt.VUE_APP_NAME].STORE.form.reloadOnSuccess||!1,isSubmitPrevented:!1,loading:!1,taggableItems:{}},Mw={defaultItem:e=>be(e.inputs)},Iw={[oe.SET_EDITED_ITEM](e,t){e.editedItem=Object.assign({},t)},[oe.RESET_EDITED_ITEM](e){e.editedItem=be(e.inputs)},[oe.PREVENT_SUBMIT](e){e.isSubmitPrevented=!0},[oe.ALLOW_SUBMIT](e){e.isSubmitPrevented=!1},[oe.EMPTY_FORM_FIELDS](e,t){e.fields=[]},[oe.ADD_FORM_FIELDS](e,t){e.fields=[...e.fields,...t]},[oe.REPLACE_FORM_FIELDS](e,t){e.fields=t},[oe.UPDATE_FORM_FIELD](e,t){let a=t.locale?{}:null;const i=ps(e.fields,t);i!==-1&&(t.locale&&(a=e.fields[i].value||{}),e.fields.splice(i,1)),t.locale?a[t.locale]=t.value:a=t.value,e.fields.push({name:t.name,value:a})},[oe.REMOVE_FORM_FIELD](e,t){e.fields.forEach(function(a,i){a.name===t&&e.fields.splice(i,1)})},[oe.EMPTY_MODAL_FIELDS](e,t){e.modalFields=[]},[oe.REPLACE_MODAL_FIELDS](e,t){e.modalFields=t},[oe.UPDATE_MODAL_FIELD](e,t){let a=t.locale?{}:null;const i=ps(e.modalFields,t);i!==-1&&(t.locale&&(a=e.modalFields[i].value),e.modalFields.splice(i,1)),t.locale?a[t.locale]=t.value:a=t.value,e.modalFields.push({name:t.name,value:a})},[oe.REMOVE_MODAL_FIELD](e,t){e.modalFields.forEach(function(a,i){a.name===t&&e.modalFields.splice(i,1)})},[oe.UPDATE_FORM_LOADING](e,t){e.loading=t||!e.loading},[oe.SET_FORM_ERRORS](e,t){e.errors=t},[oe.SET_SERVER_VALID](e,t){e.serverValid=t},[oe.CLEAR_FORM_ERRORS](e){e.errors=[]},[oe.UPDATE_FORM_SAVE_TYPE](e,t){e.type=t},[oe.SET_TAGGABLE_ITEMS](e,{taggable_type:t,items:a}){e.taggableItems[t]=a},[oe.ADD_TAGGABLE_ITEM](e,{taggable_type:t,item:a}){e.taggableItems[t].push(a)}},Dw={[_e.SAVE_FORM]({commit:e,state:t,getters:a,rootState:i,dispatch:n},{item:s=null,callback:o=null,errorCallback:l=null,plain:m=!1}){e(oe.CLEAR_FORM_ERRORS),e(oe.UPDATE_FORM_LOADING,!0);const c=m?s:Ct(t.inputs,s??t.editedItem,i);let r="post",h=window[rt.VUE_APP_NAME].ENDPOINTS.store;Object.prototype.hasOwnProperty.call(c,"id")&&(r="put",h=window[rt.VUE_APP_NAME].ENDPOINTS.update.replace(":id",c.id)),mt[r](h,c,function(_){if(e(oe.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(_.data,"errors"))e(oe.SET_SERVER_VALID,!1),e(oe.SET_FORM_ERRORS,_.data.errors);else if(Object.prototype.hasOwnProperty.call(_.data,"variant")&&_.data.variant.toLowerCase()==="success"){e(pe.SET_ALERT,{message:_.data.message,variant:_.data.variant}),e(oe.SET_SERVER_VALID,!0),r==="post"&&e(oe.RESET_EDITED_ITEM);try{n(_e.GET_DATATABLE)}catch{}}o&&typeof o=="function"&&o(_.data)},function(_){e(oe.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(_.data,"errors")?(e(oe.SET_FORM_ERRORS,_.data.errors),e(oe.SET_SERVER_VALID,!1)):Object.prototype.hasOwnProperty.call(_.data,"exception")?e(pe.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(n(_e.HANDLE_ERRORS,_.data),e(pe.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),l&&typeof l=="function"&&l(_.data)})},[_e.HANDLE_ERRORS]({commit:e,state:t,getters:a,rootState:i},n){const s=i.repeaters;Object.keys(n).forEach(o=>{const l=o.split(".");if(l.length>=4){const m=l[0],c=l[1],r=l[2],h=l[3];if(m==="repeaters"){const p=`blocks[${s[c][r].id}][${h}]`;n[p]=n[o]}}}),e(oe.SET_FORM_ERRORS,n)}},Bw={state:Tw,getters:Mw,actions:Dw,mutations:Iw};export{pe as A,Xe as D,Nw as U,Z as _,_e as a,ha as b,zi as c,Bw as f,kc as m,Uw as r,Ot as s,Cc as u};
//# sourceMappingURL=form.yOWc8u7b.js.map
