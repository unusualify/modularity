import{$ as Y,Y as v,H as $,a0 as i,a1 as m,a2 as s,l as o,a3 as Q,a4 as R,S as u,I as A,a5 as h,A as c,a6 as M,a7 as W,a8 as X,a9 as f,F as g,aa as J,L as Z,ab as x,W as ee,ac as V,ad as te}from"./vendor.DPO5kOd2.js";import{u as ae,m as le,A as oe,a as q,_ as se,b as ne}from"./form.BAt8TGup.js";import{R as ie,V as p,a as re,b as de,c as N,d as P,e as ue,f as y,g as S,h as U,i as F,j,k as Ae,l as G,m as z,n as H,o as K,p as me,q as Te,r as fe}from"./vuetify.B1voXSYe.js";const De="updateDatableData",Ee="updateDatableBulk",ce="replaceDatableBulk",pe="addDatableColumn",be="removeDatableColumn",ge="updateDatableOffset",Le="updateDatablePage",ve="updateDatableMaxPage",_e="updateDatableNavigation",he="updateDatableVisibility",Ve="updateDatableSort",Pe="publishDatatable",Se="featureDatatable",Ue="updateDatableFilter",Be="updateDatableFilterStatus",ke="clearDatableFilter",Ce="updateDatableMessage",Oe="updateDatableLoading",we="updateDatatableNestedDatas",Ie="updateDatableTracker",$e="updateDatableOptions",ye="updateDatableSearch",Re="updateDatableTotal",Me="setDatableDialog",Ne="updateDatatableAdvancedFilter",Fe="resetDatatableAdvancedFilter",D={UPDATE_DATATABLE_OPTIONS:$e,UPDATE_DATATABLE_SEARCH:ye,UPDATE_DATATABLE_TOTAL:Re,SET_DATATABLE_DIALOG:Me,UPDATE_DATATABLE_DATA:De,UPDATE_DATATABLE_BULK:Ee,REPLACE_DATATABLE_BULK:ce,ADD_DATATABLE_COLUMN:pe,REMOVE_DATATABLE_COLUMN:be,UPDATE_DATATABLE_OFFSET:ge,UPDATE_DATATABLE_PAGE:Le,UPDATE_DATATABLE_MAXPAGE:ve,UPDATE_DATATABLE_NAV:_e,UPDATE_DATATABLE_VISIBLITY:he,UPDATE_DATATABLE_SORT:Ve,PUBLISH_DATATABLE:Pe,FEATURE_DATATABLE:Se,UPDATE_DATATABLE_FILTER:Ue,UPDATE_DATATABLE_FILTER_STATUS:Be,CLEAR_DATATABLE_FILTER:ke,UPDATE_DATATABLE_MESSAGE:Ce,UPDATE_DATATABLE_LOADING:Oe,UPDATE_DATATABLE_NESTED:we,UPDATE_DATATABLE_TRACKER:Ie,UPDATE_DATATABLE_ADVANCED_FILTER:Ne,RESET_DATATABLE_ADVANCED_FILTER:Fe},je={setup(e,a){return{...ae(e,a)}},props:{...le()},data:function(){return{langs:["tr","en"],cellInput:""}},computed:{...Y({})},created(){},watch:{},methods:{changeSort(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},columnValueList(e){return this.elements.map(a=>a[e])},columnChanged(e){this.cellInput=e},hideColumn(e){this.headers=this.headers.filter(a=>a.key!==e)},updateCell(e){if(this.$store.commit(oe.CLEAR_ALERT),this.editedItem[e]!==this.cellInput){const a={id:this.editedItem.id,[e]:this.cellInput};this.$store.dispatch(q.SAVE_FORM,{item:a})}}}},Ge=["value"],ze={key:1},He={class:"w-100 d-flex justify-center my-5"};function Ke(e,a,L,n,B,k){const O=v("ue-title"),b=v("v-btn-success"),T=v("ue-form"),d=v("ue-modal"),w=v("ue-recursive-stuff");return $((i(),m(fe,{fluid:""},{default:s(()=>[o(Te,c(e.$bindAttributes(),{class:"elevation-1",headers:e.headers,items:e.elements,loading:e.loading,options:e.options,"onUpdate:options":a[8]||(a[8]=t=>e.options=t),"items-per-page":e.options.itemsPerPage,"multi-sort":e.options.multiSort,"onUpdate:multiSort":a[9]||(a[9]=t=>e.options.multiSort=t),"must-sort":e.options.mustSort,"onUpdate:mustSort":a[10]||(a[10]=t=>e.options.mustSort=t),"items-length":e.totalElements,"item-title":e.titleKey,search:e.search,"footer-propss":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",nextIcon:"mdi-chevron-right",prevIcon:"mdi-chevron-left"},"disable-pagination":!1,"disable-sort":!1,"loading-text":e.$t("fields.loading-text"),modelValue:e.selectedItems,"onUpdate:modelValue":a[11]||(a[11]=t=>e.selectedItems=t),"show-selected":"",sticky:"","fixed-header":"","fixed-footer":"",height:e.windowSize.y-64-24-59-36,density:"comfortable"}),Q({top:s(()=>[o(de,{flat:""},{default:s(()=>[o(N,null,{default:s(()=>[M(e.$slots,"header",W(X({tableTitle:e.tableTitle})),()=>[o(O,{text:e.tableTitle,classes:["ue-table-header","pt-12","pb-12"]},null,8,["text"])])]),_:3}),o(P,{class:"mx-4",inset:"",vertical:""}),o(ue,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=t=>e.search=t),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",density:"compact",variant:"solo"},null,8,["modelValue"]),o(P,{class:"mx-4",inset:"",vertical:""}),$(o(N,null,{default:s(()=>[u(A(e.$t("fields.language-select"))+" ",1),$(R("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>e.$i18n.locale=t)},[(i(!0),f(g,null,h(e.langs,(t,l)=>(i(),f("option",{key:`Lang${l}`,value:t},A(t),9,Ge))),128))],512),[[J,e.$i18n.locale]])]),_:1},512),[[Z,!1]]),o(y,{"offset-y":"",rounded:"xs","open-on-hover":""},{activator:s(({props:t,isActive:l})=>[o(p,c(t,{variant:"elevated"}),{default:s(()=>[u(A(`${e.filterActive.name} (${e.filterActive.number})`)+" ",1),o(S),o(U,{right:"",style:x({transform:l?"rotate(-180deg)":"rotate(0)"})},{default:s(()=>a[12]||(a[12]=[u("mdi-chevron-down")])),_:2},1032,["style"])]),_:2},1040)]),default:s(()=>[o(F,null,{default:s(()=>[(i(!0),f(g,null,h(e.mainFilters,(t,l)=>(i(),m(j,{key:l,onClick:ee(r=>e.filterStatus(t.slug),["prevent"])},{default:s(()=>[o(Ae,null,{default:s(()=>[u(A(t.name+"("+t.number+")"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),o(P,{class:"mx-4",inset:"",vertical:""}),o(S),(e.createOnModal||e.editOnModal)&&!e.noForm?M(e.$slots,"formDialog",{key:0},()=>[o(d,{ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[4]||(a[4]=t=>e.formActive=t),scrollable:"",transition:"dialog-bottom-transition","width-type":"lg"},{activator:s(({props:t})=>[e.can("create")&&e.createOnModal?(i(),m(b,c({key:0},t,{dark:""}),{default:s(()=>[u(A(e.$t("add-item",{item:e.transNameSingular})),1)]),_:2},1040)):V("",!0)]),body:s(t=>[o(G,null,{default:s(()=>[o(z,{class:"text-h5 grey lighten-2"}),o(H,null,{default:s(()=>[o(T,{ref:"form",title:e.formTitle},null,8,["title"])]),_:1}),o(P),o(K,null,{default:s(()=>[o(S),o(p,{color:"error darken-1",text:"",onClick:a[2]||(a[2]=l=>e.closeForm())},{default:s(()=>[u(A(t.textCancel),1)]),_:2},1024),o(p,{color:"teal darken-1",text:"",onClick:a[3]||(a[3]=l=>e.confirmFormModal()),disabled:!e.formIsValid,loading:e.formLoading},{default:s(()=>[u(A(e.$t("fields.save")),1)]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]):V("",!0),e.createOnModal?V("",!0):(i(),m(b,{key:1,href:e.createUrl,target:"_blank",dark:""},{default:s(()=>[u(A(e.$t("add-item",{item:e.transNameSingular})),1)]),_:1},8,["href"])),o(d,{ref:"deleteModal",modelValue:e.deleteModalActive,"onUpdate:modelValue":a[7]||(a[7]=t=>e.deleteModalActive=t),transition:"dialog-bottom-transition","width-type":"sm"},{body:s(t=>[o(G,null,{default:s(()=>[o(z,{class:"text-h5 text-center",style:{"word-break":"break-word"}}),o(H,{class:"text-center",style:{"word-break":"break-word"}},{default:s(()=>[u(A(e.deleteQuestion),1)]),_:1}),o(P),o(K,null,{default:s(()=>[o(S),o(p,{color:"blue",text:"",onClick:a[5]||(a[5]=l=>e.closeDeleteModal())},{default:s(()=>[u(A(t.textCancel),1)]),_:2},1024),o(p,{color:"blue",text:"",onClick:a[6]||(a[6]=l=>e.deleteRow())},{default:s(()=>[u(A(t.textConfirm),1)]),_:2},1024),o(S)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:3})]),"header.actions":s(t=>[o(y,{"close-on-content-click":!1,"open-on-hover":"",left:""},{activator:s(({props:l})=>[o(U,c({size:"large",icon:"mdi-cog-outline"},l),null,16)]),_:1})]),"item.actions":s(({item:t})=>[e.rowActionsType=="dropdown"||e.isSmAndDown?(i(),m(y,{key:0,"close-on-content-click":!1,"open-on-hover":"",left:"","offset-x":""},{activator:s(({props:l})=>[o(U,c({size:"large",color:"primary",icon:"$list"},l),null,16)]),default:s(()=>[o(F,null,{default:s(()=>[(i(!0),f(g,null,h(e.rowActions,(l,r)=>(i(),f(g,{key:r},[e.itemHasAction(t,l)?(i(),m(j,{key:0,onClick:E=>e.itemAction(t,l.name)},{default:s(()=>[o(U,{small:"",color:l.color,left:""},{default:s(()=>[u(A(l.icon?l.icon:"$"+l.name),1)]),_:2},1032,["color"]),u(" "+A(e.$t(l.name)),1)]),_:2},1032,["onClick"])):V("",!0)],64))),128))]),_:2},1024)]),_:2},1024)):(i(),f("div",ze,[(i(!0),f(g,null,h(e.rowActions,(l,r)=>(i(),f(g,{key:r},[e.itemHasAction(t,l)?(i(),m(me,{key:0,text:e.$t(l.label??l.name),location:"top"},{activator:s(({props:E})=>[o(U,c({small:"",class:"mr-2",onClick:I=>e.itemAction(t,l),color:l.color,ref_for:!0},E),{default:s(()=>[u(A(l.icon?l.icon:"$"+l.name),1)]),_:2},1040,["onClick","color"])]),_:2},1032,["text"])):V("",!0)],64))),128))]))]),_:2},[e.search!=""?{name:"no-data",fn:s(()=>[R("div",He,[o(p,{color:"primary",onClick:e.initialize},{default:s(()=>[u(A(e.$t("fields.reset")),1)]),_:1},8,["onClick"])])]),key:"0"}:void 0,h(e.formatterColumns,(t,l)=>({name:`item.${t.key}`,fn:s(({item:r})=>[t.formatter=="edit"||t.formatter=="activate"?(i(),m(p,{key:l,class:"pa-0 justify-start",variant:"plain",color:"primary darken-1",onClick:E=>e.$call(t.formatter+"Item",r)},{default:s(()=>[u(A(r[t.key]),1)]),_:2},1032,["onClick"])):t.formatter=="switch"?(i(),m(re,{key:l,"model-value":r[t.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":E=>e.itemAction(r,"switch",E,t.key)},{label:s(()=>a[13]||(a[13]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):(i(),m(w,c({key:2},e.handleFormatter(t.formatter,r[t.key]),{key:r[t.key]}),null,16))])}))]),1040,["headers","items","loading","options","items-per-page","multi-sort","must-sort","items-length","item-title","search","loading-text","modelValue","height"])]),_:3})),[[ie,e.onResize]])}const et=se(je,[["render",Ke]]);var C={BASE_URL:"/vendor/modularity",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const qe={advancedFilters:window[C.VUE_APP_NAME].STORE.datatable.advancedFilters||[],customModal:_.isEmpty(window[C.VUE_APP_NAME].STORE.datatable.customModal)?!1:window[C.VUE_APP_NAME].STORE.datatable.customModal},Ye={},Qe={},We=(e,a)=>{let L=!0,n;return a.match(/sortBy|sortDesc/)?e.length>0?n=e:L=!1:a.match(/page|itemsPerPage|replaceUrl/)?n=e:L=!1,{active:L,value:n}},Xe={[q.GET_DATATABLE]({commit:e,state:a,getters:L},{payload:n={},callback:B=null,errorCallback:k=null,endpoint:O=null}={}){const b=Object.keys(n);let T=b.length===0;if(b.every(d=>(__isset(a[d])&&(__isObject(a[d])&&__isObject(n[d])?T=!Object.equals(n[d],a[d]):Array.isArray(n[d])&&Array.isArray(a[d])?T=!Array.equals(n[d],a[d]):T=a[d]!==n[d]),!T)),b.includes("options")&&(T=!0),T){e(D.UPDATE_DATATABLE_LOADING,!0);const d={...Object.keys(a.options).reduce(function(t,l){var I;const{active:r,value:E}=We(__isset((I=n.options)==null?void 0:I[l])?n==null?void 0:n.options[l]:a==null?void 0:a.options[l],l);return r&&(t[l]=E),t},{}),...a.search!==""?{search:a.search}:{},filter:Object.fromEntries(Object.entries(a.filter).reduce((t,[l,r])=>(l==="status"&&r==="all"||te(r)||t.push([l,r]),t),[]))},w=O??window[C.VUE_APP_NAME].ENDPOINTS.index;ne.get(w,d,function(t){const l=n.infiniteScroll?a.data.concat(t.resource.data):t.resource.data;e(D.UPDATE_DATATABLE_DATA,l),e(D.UPDATE_DATATABLE_TOTAL,t.resource.total),e(D.UPDATE_DATATABLE_NAV,t.mainFilters),e(D.UPDATE_DATATABLE_LOADING,!1),__isset(n.options)&&e(D.UPDATE_DATATABLE_OPTIONS,n.options),__isset(n.search)&&e(D.UPDATE_DATATABLE_SEARCH,n.search),B&&typeof B=="function"&&B(t)},function(t){e(D.UPDATE_DATATABLE_LOADING,!1),k&&typeof k=="function"&&k(t)})}}},tt={state:qe,getters:Ye,actions:Xe,mutations:Qe};export{et as U,tt as d};
//# sourceMappingURL=datatable.DdycmcBC.js.map
