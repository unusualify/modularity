import{$ as mapState,ae as mapGetters$1,a0 as openBlock,a1 as createBlock,a2 as withCtx,l as createVNode,a4 as createBaseVNode,c as computed,Y as resolveComponent,M as resolveDirective,A as mergeProps,H as withDirectives,a9 as createElementBlock,ac as createCommentVNode,a6 as renderSlot,ab as normalizeStyle,a7 as normalizeProps,a8 as guardReactiveProps,S as createTextVNode,I as toDisplayString,F as Fragment,a5 as renderList,af as normalizeClass,L as vShow,b as ref,k as watch$1,E as resolveDynamicComponent,a3 as createSlots,W as withModifiers,g as getCurrentInstance,ag as debounce,D as Transition$1,ah as useI18n,r as reactive,t as toRefs,ai as lodash,aj as omit,ak as axios$1,al as reduce,am as cloneDeep,an as createStore,ao as map,ap as useStore,G as nextTick,y as onMounted,aq as lodashExports,ad as isEmpty,ar as filter,as as transform,at as find,au as useCurrencyInput,av as isObject,aw as get,ax as set,ay as isEqual,d as inject,az as isArray,aA as isString,aB as isNumber,aC as snakeCase,aD as d,h,aE as RevolutCheckoutLoader,aF as includes,aG as isBoolean,aH as forEach,e as defineComponent,aI as withKeys,aJ as useAttrs,aK as useSlots,u as unref,J as TransitionGroup,aL as Draggable,aM as truncate,aN as _default,aO as _default$1,aP as _default$2,aa as vModelSelect,j as isRef,m as toRef,aQ as isNaN$1,aR as vueFilePond,aS as plugin,aT as plugin$1,aU as plugin$2,aV as setOptions,aW as startCase,aX as range,aY as pick,aZ as orderBy,a_ as jquery,a$ as hooks,b0 as pluralize,b1 as changeCase,b2 as isPlainObject,b3 as isFunction,b4 as delay,b5 as findIndex,b6 as toHandlerKey,p as provide,b7 as toHandlers,b8 as Pusher,b9 as createI18n,ba as upperFirst,bb as directive}from"./vendor.Dwn9qTh_.js";import{V as VBtn,h as VIcon,s as VSnackbar,u as useDisplay,r as VLayout,t as VMain,v as VRow,w as VCol,x as VSheet,d as VDivider,y as VImg,z as VApp,m as VCardTitle,A as VCardItem,l as VCard,B as VExpandTransition,p as VTooltip,n as VCardText,f as VMenu,C as VAlert,D as VExpansionPanel,E as VExpansionPanelTitle,F as VExpansionPanelText,G as VExpansionPanels,H as VHover,b as VToolbar,c as VToolbarTitle,g as VSpacer,I as VProgressCircular,J as VDialog,e as VTextField,K as propsFactory,L as useProxiedModel,a as VSwitch,M as VBadge,j as VListItem,k as VListItemTitle,i as VList,N as VChipGroup,O as VChip,P as VProgressLinear,Q as VForm,S as VAvatar,T as VSelect,U as VBottomSheet,W as VListGroup,o as VCardActions,X as VContainer,Y as VTable,Z as VStepperItem,_ as VStepperHeader,$ as VStepperWindow,a0 as VStepperWindowItem,a1 as useGoTo,a2 as VStepperActions,a3 as VStepper,a4 as VItemGroup,a5 as VItem,a6 as VRadioGroup,a7 as VRadio,a8 as VInput,a9 as VDataTableRow,R as Resize,q as VDataTableServer,aa as VPagination,ab as VSlideXTransition,ac as Tooltip,ad as VCheckbox,ae as Intersect,af as VDataTableHeaders,ag as VTab,ah as VTabs,ai as VTabsWindowItem,aj as VTabsWindow,ak as VCardSubtitle,al as VFooter,am as VNavigationDrawer,an as VAppBar,ao as VAppBarNavIcon,ap as VBreadcrumbs,aq as VSkeletonLoader,ar as VTextarea,as as VInfiniteScroll,at as VDataTable,au as VWindow,av as VWindowItem,aw as VOverlay,ax as VAutocomplete,ay as VNumberInput,az as VCombobox,aA as VListSubheader,aB as Touch,aC as ClickOutside,aD as VFileInput,aE as VSlider,aF as VBtnToggle,aG as VSystemBar,aH as VToolbarItems,aI as createVuetify,aJ as aliases,aK as mdi,aL as fa,aM as directives,aN as components,aO as VDateInput}from"./vuetify.BRwRLlkg.js";import{q as qq}from"./fine-uploader.C8t-Jhyu.js";import{P as PhoneNumber,b as awesomePhonenumberExports}from"./awesome-phonenumber.CPpBdrPW.js";const PREVENT_SUBMIT="preventSubmit",ALLOW_SUBMIT="allowSubmit",UPDATE_FORM_PERMALINK="updateFormPermalink",UPDATE_FORM_FIELD="updateFormField",REMOVE_FORM_FIELD="removeFormField",ADD_FORM_BLOCK="addFormBlock",DELETE_FORM_BLOCK="deleteFormBlock",DUPLICATE_FORM_BLOCK="duplicateFormBlock",DUPLICATE_BLOCK_FORM_FIELDS="duplicateBlockFormFields",ADD_REPEATERS="duplicateBlockRepeaters",REORDER_FORM_BLOCKS="reorderFormBlocks",UPDATE_FORM_LOADING="updateFormLoading",SET_FORM_ERRORS="setFormErrors",SET_SERVER_VALID="setServerValid",CLEAR_FORM_ERRORS="clearFormErrors",UPDATE_FORM_SAVE_TYPE="updateFormSaveType",REPLACE_FORM_FIELDS="replaceFormField",ADD_FORM_FIELDS="addFormField",EMPTY_FORM_FIELDS="emptyFormField",SET_EDITED_ITEM="setEditedItem",RESET_EDITED_ITEM="resetEditedItem",EMPTY_MODAL_FIELDS="emptyModalField",UPDATE_MODAL_FIELD="updateModalField",REMOVE_MODAL_FIELD="removeModalField",REPLACE_MODAL_FIELDS="replaceModalField",SET_TAGGABLE_ITEMS="setTaggableItems",ADD_TAGGABLE_ITEM="addTaggableItem",FORM={SET_EDITED_ITEM,RESET_EDITED_ITEM,SET_SERVER_VALID,PREVENT_SUBMIT,ALLOW_SUBMIT,UPDATE_FORM_PERMALINK,UPDATE_FORM_FIELD,REMOVE_FORM_FIELD,ADD_FORM_BLOCK,DELETE_FORM_BLOCK,DUPLICATE_FORM_BLOCK,DUPLICATE_BLOCK_FORM_FIELDS,ADD_REPEATERS,REORDER_FORM_BLOCKS,UPDATE_FORM_LOADING,SET_FORM_ERRORS,CLEAR_FORM_ERRORS,UPDATE_FORM_SAVE_TYPE,REPLACE_FORM_FIELDS,ADD_FORM_FIELDS,EMPTY_FORM_FIELDS,EMPTY_MODAL_FIELDS,UPDATE_MODAL_FIELD,REMOVE_MODAL_FIELD,REPLACE_MODAL_FIELDS,SET_TAGGABLE_ITEMS,ADD_TAGGABLE_ITEM},SET_ALERT="__setAlert",SET_ALERT_SHOW="__setAlertShow",CLEAR_ALERT="__clearAlert",SET_DIALOG="__setDialog",SET_DIALOG_SHOW="__setDialogShow",CLEAR_DIALOG="__clearDialog",ALERT$1={SET_ALERT,SET_ALERT_SHOW,CLEAR_ALERT,SET_DIALOG,SET_DIALOG_SHOW,CLEAR_DIALOG},SET_ACCESSIBLE="setMediaLibraryAccessible",SET_SHOW_MODAL="setMediaLibraryShowModal",OPEN_MODAL="openMediaLibraryModal",CLOSE_MODAL="closeMediaLibraryModal",UPDATE_MEDIA_TYPE_TOTAL="updateMediaTypeTotal",INCREMENT_MEDIA_TYPE_TOTAL="incrementMediaTypeTotal",DECREMENT_MEDIA_TYPE_TOTAL="decrementMediaTypeTotal",SAVE_MEDIAS="saveSelectedMedias",UPDATE_MEDIAS="updateMedias",DESTROY_MEDIAS="destroySelectedMedias",REORDER_MEDIAS="reorderSelectedMedias",PROGRESS_UPLOAD="progressUpload",PROGRESS_UPLOAD_MEDIA="progressUploadMedia",DONE_UPLOAD_MEDIA="doneUploadMedia",ERROR_UPLOAD_MEDIA="errorUploadMedia",DESTROY_SPECIFIC_MEDIA="destroyMediasInSelected",UPDATE_MEDIA_MAX="updateMediaMax",UPDATE_MEDIA_FILESIZE_MAX="updateMediaFilesizeMax",UPDATE_MEDIA_WIDTH_MIN="updateMediaWidthMin",UPDATE_MEDIA_HEIGHT_MIN="updateMediaHeightMin",UPDATE_MEDIA_TYPE="updateMediaType",RESET_MEDIA_TYPE="resetMediaType",SET_MEDIA_CROP="setMediaCrop",SET_MEDIA_METADATAS="setMediaMetadatas",UPDATE_MEDIA_CONNECTOR="updateMediaConnector",UPDATE_MEDIA_MODE="updateMediaMode",DESTROY_MEDIA_CONNECTOR="destroyMediaConnector",UPDATE_REPLACE_INDEX="updateReplaceIndex",ADD_MEDIAS="addMedias",UPDATE_IS_INSERTED="updateIsInserted",MEDIA_LIBRARY={SET_ACCESSIBLE,SET_SHOW_MODAL,OPEN_MODAL,CLOSE_MODAL,UPDATE_MEDIA_TYPE_TOTAL,INCREMENT_MEDIA_TYPE_TOTAL,DECREMENT_MEDIA_TYPE_TOTAL,SAVE_MEDIAS,DESTROY_MEDIAS,REORDER_MEDIAS,PROGRESS_UPLOAD,PROGRESS_UPLOAD_MEDIA,DONE_UPLOAD_MEDIA,ERROR_UPLOAD_MEDIA,DESTROY_SPECIFIC_MEDIA,UPDATE_MEDIA_MAX,UPDATE_MEDIA_FILESIZE_MAX,UPDATE_MEDIA_WIDTH_MIN,UPDATE_MEDIA_HEIGHT_MIN,UPDATE_MEDIA_TYPE,RESET_MEDIA_TYPE,SET_MEDIA_CROP,SET_MEDIA_METADATAS,UPDATE_MEDIA_CONNECTOR,UPDATE_MEDIA_MODE,DESTROY_MEDIA_CONNECTOR,UPDATE_REPLACE_INDEX,UPDATE_MEDIAS,ADD_MEDIAS,UPDATE_IS_INSERTED},SWITCH_LANG="switchLanguage",UPDATE_LANG="updateLanguage",PUBLISH_LANG="updatePublishedLanguage",PUBLISH_SINGLE_LANG="publishLanguage",REPLACE_LANGUAGES="replaceLanguages",RESET_LANGUAGES="resetLanguages",LANGUAGE={SWITCH_LANG,UPDATE_LANG,PUBLISH_LANG,PUBLISH_SINGLE_LANG,REPLACE_LANGUAGES,RESET_LANGUAGES},SAVE_ITEMS="saveSelectedItems",DESTROY_ITEMS="destroyAllItems",DESTROY_ITEM$1="destroySelectedItem",REORDER_ITEMS="reorderSelectedItems",UPDATE_BROWSER_MAX="updateBrowserMax",UPDATE_BROWSER_TITLE="updateBrowserTitle",UPDATE_BROWSER_NOTE="updateBrowserNote",UPDATE_BROWSER_CONNECTOR="updateBrowserConnector",DESTROY_BROWSER_CONNECTOR="destroyBrowserConnector",UPDATE_BROWSER_ENDPOINT="updateBrowserEndpoint",UPDATE_BROWSER_ENDPOINTS="updateBrowserEndpoints",DESTROY_BROWSER_ENDPOINT="destroyBrowserEndpoint",DESTROY_BROWSER_ENDPOINTS="destroyBrowserEndpoints",ADD_BROWSERS="addBrowsers",BROWSER={SAVE_ITEMS,DESTROY_ITEMS,DESTROY_ITEM:DESTROY_ITEM$1,REORDER_ITEMS,UPDATE_BROWSER_MAX,UPDATE_BROWSER_TITLE,UPDATE_BROWSER_NOTE,UPDATE_BROWSER_CONNECTOR,DESTROY_BROWSER_CONNECTOR,UPDATE_BROWSER_ENDPOINT,DESTROY_BROWSER_ENDPOINT,UPDATE_BROWSER_ENDPOINTS,DESTROY_BROWSER_ENDPOINTS,ADD_BROWSERS},SIDEBAR_TOGGLE="__sidebarToggle",SET_SIDEBAR="__setSidebar",SET_REQUEST_IN_PROGRESS="__setRequestInProgress",INCREASE_AXIOS_REQUEST="__increaseAxiosRequest",DECREASE_AXIOS_REQUEST="__decreaseAxiosRequest",CONFIG={SIDEBAR_TOGGLE,SET_SIDEBAR,SET_REQUEST_IN_PROGRESS,INCREASE_AXIOS_REQUEST,DECREASE_AXIOS_REQUEST},SET_PROFILE_DATA="__setProfileData",OPEN_LOGIN_MODAL="__openLoginModal",CLOSE_LOGIN_MODAL="__closeLoginModal",USER={SET_PROFILE_DATA,OPEN_LOGIN_MODAL,CLOSE_LOGIN_MODAL},GET_CACHE="getCache",PUT_CACHE="putCache",PUSH_CACHE="pushCache",GET_LAST_CACHE="getLastCache",FORGET_CACHE="forgetCache",CACHE={GET_CACHE,PUT_CACHE,GET_LAST_CACHE,PUSH_CACHE,FORGET_CACHE},_export_sfc=(e,a)=>{const o=e.__vccOpts||e;for(const[r,i]of a)o[r]=i;return o},_sfc_main$1G={data:()=>({timeout:3e3}),computed:{closeButtonColor(){switch(this.type){case"success":case"warning":case"info":case"error":return"white";default:return"white"}},text(){return this.message||this.defaultMessage},defaultMessage(){return this.$t("messages."+this.type)},show:{get(){return this.$store.state.alert.show},set(e){this.$store.commit(ALERT$1.SET_ALERT_SHOW,e)}},...mapState({type:e=>e.alert.type,message:e=>e.alert.message,location:e=>e.alert.location}),...mapGetters$1([])},methods:{info(e=null,a=3e3){this.open("info",e,a)},success(e=null,a=3e3){this.open("success",e,a)},warning(e=null,a=3e3){this.open("warning",e,a)},error(e=null,a=3e3){this.open("error",e,a)},activate(){this.show=!0},deactivate(){this.show=!0},open(e="info",a=null,o=3e3){this.type=e,this.message=a??this.message,this.timeout=o,this.activate()},close(){this.deactivate(),this.$nextTick(()=>{this.type="info",this.message=null,this.timeout=3e3})}}},_hoisted_1$15=["innerHTML"];function _sfc_render$1p(e,a,o,r,i,n){return openBlock(),createBlock(VSnackbar,{modelValue:n.show,"onUpdate:modelValue":a[1]||(a[1]=l=>n.show=l),timeout:e.timeout,color:e.type,location:e.location},{actions:withCtx(()=>[createVNode(VBtn,{color:n.closeButtonColor,variant:"plain",density:"compact",onClick:a[0]||(a[0]=l=>n.show=!1)},{default:withCtx(()=>[createVNode(VIcon,{color:n.closeButtonColor,icon:"$close"},null,8,["color"])]),_:1},8,["color"])]),default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.text},null,8,_hoisted_1$15)]),_:1},8,["modelValue","timeout","color","location"])}const Alert=_export_sfc(_sfc_main$1G,[["render",_sfc_render$1p]]),__vite_glob_0_0$2=Object.freeze(Object.defineProperty({__proto__:null,default:Alert},Symbol.toStringTag,{value:"Module"})),_sfc_main$1F={props:{slots:{type:Object,default(){return{}}},title:{type:String},bannerDescription:{type:String,default:""},bannerSubDescription:{type:String,default:""},adImg:{type:String,default:""},redirectUrl:{type:String,default:null},redirectButtonText:{type:String,default:""},noDivider:{type:[Boolean,Number],default:!1},noSecondSection:{type:[Boolean,Number],default:!1},logoSymbol:{type:String,default:"main-logo"}},data:()=>({schema:{email:{type:"text",label:"E-mail",col:{cols:12},variant:"outlined",rules:[["email"]]},password:{type:"password",label:"Password",col:{cols:12},variant:"outlined",rules:[]}},model:{email:"",password:""}}),setup(e){const{name:a}=useDisplay(),o=computed(()=>{switch(a.value){case"xs":return"85vw";case"sm":return"450px";case"md":return"450px";case"lg":return"500px";case"xl":return"600px";case"xxl":return 700;default:return 300}}),r=computed(()=>{if(e.title)return e.title}),i=computed(()=>{if(e.description)return e.description}),n=computed(()=>{if(e.ad)return e.ad}),l=computed(()=>{if(e.rightBtnText)return e.rightBtnText});return{width:o,title:r,description:i,ad:n,rightBtnText:l}},methods:{}},_hoisted_1$14={key:0,symbol:"main-logo-full-light"},_hoisted_2$S={key:1,class:"d-flex w-100 align-center justify-center"},_hoisted_3$O={class:"mw-420"},_hoisted_4$D={class:"text-white mt-5 text-h4 custom-mb-8rem fs-2rem"},_hoisted_5$x={class:"text-white"};function _sfc_render$1o(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-svg-icon"),u=resolveComponent("ue-alert"),c=resolveDirective("svg");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VLayout,{class:"rounded rounded-md bg-tertiary h-100"},{default:withCtx(()=>[createVNode(VMain,{class:"d-flex align-center justify-center"},{default:withCtx(()=>[createVNode(VRow,{class:"h-100 mw-100"},{default:withCtx(()=>[createVNode(VCol,mergeProps({cols:"12",...o.noSecondSection?{}:{md:"6",lg:"6"}},{class:"py-12 d-flex flex-column align-center justify-center bg-white"}),{default:withCtx(()=>[createVNode(VRow,{width:"85%",class:"d-flex flex-column justify-center align-center"},{default:withCtx(()=>[a[1]||(a[1]=createBaseVNode("div",{class:"bg-primary darken-3"},null,-1)),o.noSecondSection?withDirectives((openBlock(),createElementBlock("span",_hoisted_1$14,null,512)),[[c]]):createCommentVNode("",!0),renderSlot(e.$slots,"cardTop"),createVNode(VSheet,{class:"",style:normalizeStyle({width:r.width})},{default:withCtx(()=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({})),()=>[createVNode(l,{model:e.model,schema:e.schema,"action-url":"/login",async:!0,hasSubmit:!0,buttonText:"auth.login",class:"auth-form"},{submit:withCtx(p=>[createVNode(VBtn,{block:"",dense:"",type:"submit",disabled:!p.validForm,loading:p.loading},{default:withCtx(()=>[createTextVNode(toDisplayString(p.buttonDefaultText.toUpperCase()),1)]),_:2},1032,["disabled","loading"])]),_:1},8,["model","schema"])])]),_:3},8,["style"]),!o.noDivider&&e.$isset(e.$slots.bottom)?(openBlock(),createElementBlock("div",_hoisted_2$S,[createVNode(VDivider),a[0]||(a[0]=createBaseVNode("div",{class:"text-no-wrap px-3"},"or",-1)),createVNode(VDivider)])):createCommentVNode("",!0),renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))]),_:3})]),_:3},16),o.noSecondSection?createCommentVNode("",!0):(openBlock(),createBlock(VCol,{key:0,cols:"12",md:"6",lg:"6",class:"px-xs-12 py-xs-3 px-sm-12 py-sm-3 pa-12 pa-md-0 d-flex flex-column align-center justify-center col-right bg-primary"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$O,[createVNode(s,{symbol:o.logoSymbol,class:"mx-0"},null,8,["symbol"]),renderSlot(e.$slots,"description",{},()=>[createBaseVNode("h2",_hoisted_4$D,toDisplayString(o.bannerDescription),1)]),createBaseVNode("span",_hoisted_5$x,[createVNode(VImg,{href:o.adImg},null,8,["href"]),createTextVNode(" "+toDisplayString(o.bannerSubDescription),1)]),o.redirectUrl?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"text-white custom-right-auth-button my-5",density:"default",href:o.redirectUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(o.redirectButtonText),1)]),_:1},8,["href"])):createCommentVNode("",!0)])]),_:3}))]),_:3})]),_:3})]),_:3}),createVNode(u,{ref:"alert"},null,512)]),_:3})}const Auth=_export_sfc(_sfc_main$1F,[["render",_sfc_render$1o]]),__vite_glob_0_1$2=Object.freeze(Object.defineProperty({__proto__:null,default:Auth},Symbol.toStringTag,{value:"Module"})),_sfc_main$1E={props:{cards:{type:Array,default:[{title:"Active Webinar",data:"12",flex:6},{title:"Speaker Moderators",data:"3",flex:6},{title:"Company",data:"5",flex:6},{title:"Published Webinars",data:"7",flex:6}]},container:{type:Object,default:{color:"#F8F8FF",elevation:10,class:"px-6 py-5"}},cardAttribute:{type:Object,default:{variant:"outlined",borderRadius:14,class:"px-5",border:"sm",titleClass:"pt-3 pb-3 text-subtitle-2",titleColor:"grey",infoClass:"text-h4 pa-0",infoColor:"#000000",infoLineHeight:"1",infoFontWeight:"700"}}},data:()=>({})},_hoisted_1$13={class:"d-flex"},_hoisted_2$R={class:"d-flex flex-column justify-center align-center pr-3"},_hoisted_3$N={class:"d-flex flex-column"};function _sfc_render$1n(e,a,o,r,i,n){return openBlock(),createBlock(VCard,{color:o.container.color,density:"comfortable",elevation:o.container.elevation,class:normalizeClass(o.container.class)},{default:withCtx(()=>[createVNode(VCardTitle,{style:{"font-weight":"bolder"},class:"py-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1}),createVNode(VCardItem,{class:"pt-0 pb-4"},{default:withCtx(()=>[createVNode(VRow,{class:"",densex:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.cards,(l,s)=>(openBlock(),createBlock(VCol,{key:s,cols:l.flex,class:""},{default:withCtx(()=>[createVNode(VCard,{variant:o.cardAttribute.variant,border:o.cardAttribute.border,class:normalizeClass(o.cardAttribute.class),style:normalizeStyle({"border-radius":o.cardAttribute.borderRadius,"border-color":`${o.cardAttribute.borderColor} !important`})},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$13,[createBaseVNode("div",_hoisted_2$R,[createBaseVNode("div",{class:"glance-icon-container",style:normalizeStyle(`background-color: ${l.iconBackground};`)},[createVNode(VIcon,{icon:l.icon,color:l.iconColor,size:l.iconSize},null,8,["icon","color","size"])],4)]),createBaseVNode("div",_hoisted_3$N,[createVNode(VCardItem,{align:"left",class:normalizeClass(o.cardAttribute.infoClass),style:normalizeStyle({"line-height":o.cardAttribute.infoLineHeight,"font-weight":o.cardAttribute.infoFontWeight,color:l.infoColor})},{default:withCtx(()=>[createTextVNode(toDisplayString(l.data.items),1)]),_:2},1032,["class","style"]),createVNode(VCardTitle,{align:"center",class:normalizeClass(o.cardAttribute.titleClass),style:normalizeStyle({color:o.cardAttribute.titleColor,"line-height":o.cardAttribute.infoLineHeight})},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t(l.title)),1)]),_:2},1032,["class","style"])])])]),_:2},1032,["variant","border","class","style"])]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})]),_:1},8,["color","elevation","class"])}const BoardInformationPlus=_export_sfc(_sfc_main$1E,[["render",_sfc_render$1n]]),__vite_glob_0_2$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformationPlus},Symbol.toStringTag,{value:"Module"})),_sfc_main$1D={name:"ue-btn",props:{revealed:{type:Boolean,default:!1}},data(){return{}},methods:{clickSound(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()},click(e){this.disabled=!0,setTimeout(()=>{this.disabled=!1},5e3),this.$emit("click",e)}}};function _sfc_render$1m(e,a,o,r,i,n){return openBlock(),createBlock(VBtn,mergeProps(e.$bindAttributes(),{onClick:n.click}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},()=>[a[0]||(a[0]=createTextVNode(" Button "))])]),_:3},16,["onClick"])}const Btn=_export_sfc(_sfc_main$1D,[["render",_sfc_render$1m]]),__vite_glob_0_3$1=Object.freeze(Object.defineProperty({__proto__:null,default:Btn},Symbol.toStringTag,{value:"Module"})),_sfc_main$1C={name:"ue-collapsible",components:{VExpandTransition},props:{title:{type:String,default:""},modelValue:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:4},verticalPadding:{type:Number,default:3},color:{type:String,default:"primary"},dense:{type:Boolean,default:!1},noHeaderBackground:{type:Boolean,default:!1},noCollapse:{type:Boolean,default:!1}},data(){return{isOpen:this.noCollapse||this.modelValue}},watch:{modelValue(e){this.noCollapse?this.isOpen=!0:this.isOpen=e}},methods:{toggle(){this.noCollapse||(this.isOpen=!this.isOpen,this.$emit("update:modelValue",this.isOpen),this.$emit(this.isOpen?"open":"close"))}},created(){},mounted(){this.isOpen&&this.$el&&this.$el.querySelector(".ue-collapsible__content")}},_hoisted_1$12={class:"ue-collapsible__title"},_hoisted_2$Q={class:"ue-collapsible__content"};function _sfc_render$1l(e,a,o,r,i,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-collapsible",{"ue-collapsible--bordered":o.bordered,"ue-collapsible--elevated":o.elevated,"ue-collapsible--dense":o.dense}])},[o.title||e.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-collapsible__header",i.isOpen?"ue-collapsible__header--active":"",`px-${o.horizontalPadding} py-${o.verticalPadding}`,o.noHeaderBackground?"":"ue-collapsible__header--background"]),onClick:a[0]||(a[0]=(...l)=>n.toggle&&n.toggle(...l))},[createBaseVNode("div",_hoisted_1$12,[renderSlot(e.$slots,"title",{},()=>[createTextVNode(toDisplayString(o.title),1)])]),o.noCollapse?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:i.isOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ue-collapsible__icon"},null,8,["icon"]))],2)):createCommentVNode("",!0),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$Q,[createBaseVNode("div",{class:normalizeClass(["ue-collapsible__content-inner",`px-${o.horizontalPadding} py-${o.verticalPadding}`])},[renderSlot(e.$slots,"default")],2)],512),[[vShow,i.isOpen]])]),_:3})],2)}const Collapsible=_export_sfc(_sfc_main$1C,[["render",_sfc_render$1l]]),__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:Collapsible},Symbol.toStringTag,{value:"Module"})),_sfc_main$1B={name:"ue-configurable-card",props:{title:{type:String,default:""},titleColor:{type:String},titlePaddingX:{type:[Number,String]},titlePaddingY:{type:[Number,String]},items:{type:[Object,Array],required:!0},actions:{type:Array,default:()=>[]},hideSeparator:{type:Boolean,default:!1},maxSegments:{type:Number,default:null,validator:e=>e===null||e>0&&e<=12},actionIconSize:{type:String,default:"medium"},actionIconMinWidth:{type:Number,default:44},actionIconMinHeight:{type:Number,default:44},alignCenterColumns:{type:Boolean,default:!1},justifyCenterColumns:{type:Boolean,default:!1},rowMarginY:{type:[Number,String],default:4},rowMarginX:{type:[Number,String]},colPaddingX:{type:[Number,String],default:2},colPaddingY:{type:[Number,String]},columnStyles:{type:Object,default:()=>({})},columnClasses:{type:Object,default:()=>({})},colRatios:{type:Array,default:()=>[]},rowMinHeight:{type:String,default:null},noActions:{type:Boolean,default:!1},mobileBreakpoint:{type:String,default:"md"},mobileRowGap:{type:[Number,String],default:4},mobileColPaddingX:{type:[Number,String],default:0},mobileColPaddingY:{type:[Number,String],default:0}},computed:{titlePXNumber(){if(this.titlePaddingX)return parseInt(this.titlePaddingX);let e=0;return this.rowMarginX&&(e+=parseInt(this.rowMarginX)),this.colPaddingX&&(e+=parseInt(this.colPaddingX)),e},titlePYNumber(){return this.titlePaddingY?parseInt(this.titlePaddingY):4},cardClass(){return`ue-configurable-card--${this.effectiveSegmentCount}-columns`},itemsWithActions(){const e={...this.items};return this.actions.length&&!this.noActions&&(e._actions=this.actions),e},effectiveSegmentCount(){const e=this.isArray(this.itemsWithActions)?this.itemsWithActions.length:Object.keys(this.itemsWithActions).length;return this.maxSegments===null?e:Math.min(this.maxSegments,e)},rowStyle(){return{...this.rowMinHeight?{minHeight:this.rowMinHeight}:{}}},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.effectiveSegmentCount:this.colRatios.reduce((e,a,o)=>e+(a||1),0)},isMobile(){let e="smAndDown";return["sm","md","lg","xl"].includes(this.mobileBreakpoint)&&(e=this.mobileBreakpoint+"AndDown"),this.$vuetify.display[e]}},methods:{isObject(e){return __isObject(e)},isArray(e){return __isArray(e)},getColumnStyleFromRatio(e){if(!this.colRatios||this.colRatios.length===0)return null;const a=e==="_actions"?this.effectiveSegmentCount-1:parseInt(e),o=this.colRatios[a]||1,r=o/this.totalRatio*100;return{flex:`${o} 0 0`,maxWidth:`${r}%`}},getEffectiveColumnStyle(e){const a=this.columnStyles[e],o=this.getColumnStyleFromRatio(e);return a||(o?Object.entries(o).map(([r,i])=>`${r.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${i}`).join("; "):"")}}},_hoisted_1$11={key:0,class:"d-flex fill-height flex-wrap justify-space-evenly align-center"},_hoisted_2$P={key:1,class:"d-flex fill-height"},_hoisted_3$M={key:2,class:"d-flex fill-height"},_hoisted_4$C={key:3,class:"d-flex fill-height"};function _sfc_render$1k(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-property-list"),u=resolveComponent("ue-dynamic-component-renderer");return openBlock(),createBlock(VCard,{class:normalizeClass(["ue-configurable-card",[e.$bindAttributes().class,n.cardClass]])},{default:withCtx(()=>[renderSlot(e.$slots,"title",{},()=>[o.title?(openBlock(),createBlock(l,{key:0,text:o.title,color:o.titleColor,padding:`x-${n.titlePXNumber}`,class:"pt-4"},null,8,["text","color","padding"])):createCommentVNode("",!0)],!0),createBaseVNode("div",{"no-gutters":"",class:normalizeClass(["ue-configurable-card__row",[n.isMobile?`ga-${o.mobileRowGap}`:"",o.rowMarginY?`my-${o.rowMarginY}`:"",o.rowMarginX?`mx-${o.rowMarginX}`:""]]),style:normalizeStyle(n.rowStyle)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.itemsWithActions,(c,p)=>(openBlock(),createElementBlock("div",{key:p,class:normalizeClass(["ue-configurable-card__col",o.hideSeparator?"":"ue-configurable-card__col--seperator",o.justifyCenterColumns?"ue-configurable-card__col--justify-center":"",o.alignCenterColumns?"ue-configurable-card__col--align-center":"",e.$isset(o.columnStyles[p])||o.colRatios.length>0?"ue-configurable-card__col--unset-flex-basis":"",o.columnClasses[p]??"",n.isMobile?`px-${o.mobileColPaddingX} py-${o.mobileColPaddingY}`:"",o.colPaddingX?`px-${o.colPaddingX}`:"",o.colPaddingY?`py-${o.colPaddingY}`:""]),style:normalizeStyle(n.getEffectiveColumnStyle(p))},[renderSlot(e.$slots,`segment.${p==="_actions"?"actions":parseInt(p)+1}`,mergeProps({ref_for:!0},{data:c,actions:o.actions,actionProps:{actionIconMinHeight:o.actionIconMinHeight,actionIconSize:o.actionIconSize}}),()=>[o.actions.length&&p==="_actions"?(openBlock(),createElementBlock("div",_hoisted_1$11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.actions,(f,m)=>(openBlock(),createBlock(VBtn,mergeProps({key:m,class:"mx-1 rounded","min-width":o.actionIconMinHeight,"min-height":o.actionIconMinHeight,size:o.actionIconSize,ref_for:!0},f),null,16,["min-width","min-height","size"]))),128))])):n.isObject(c)?(openBlock(),createElementBlock("div",_hoisted_2$P,[createVNode(s,{data:c,class:"",noPadding:""},null,8,["data"])])):n.isArray(c)?(openBlock(),createElementBlock("div",_hoisted_3$M,[createVNode(s,{data:c.map(f=>[f]),class:"",noPadding:""},null,8,["data"])])):(openBlock(),createElementBlock("div",_hoisted_4$C,[createVNode(u,{subject:c},null,8,["subject"])]))],!0)],6))),128))],6)]),_:3},8,["class"])}const ConfigurableCard=_export_sfc(_sfc_main$1B,[["render",_sfc_render$1k],["__scopeId","data-v-bcac18e9"]]),__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:ConfigurableCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1A={name:"CopyText",props:{text:{type:[String,Number],required:!0},icon:{type:String,default:"mdi-content-copy"},color:{type:String,default:"primary"},size:{type:String,default:"small"}},data(){return{showTooltip:!1}},methods:{handleCopy(){this.$copy(this.text),this.showTooltip=!0,setTimeout(()=>{this.showTooltip=!1},2e3)}}},_hoisted_1$10={class:"d-inline-block"};function _sfc_render$1j(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$10,[createVNode(VTooltip,{"model-value":i.showTooltip,text:"Copied!",location:"top","open-on-hover":!1,"open-on-focus":!1},{activator:withCtx(({props:l})=>[createVNode(VIcon,mergeProps({...l,onClick:n.handleCopy},{icon:o.icon,color:o.color,size:o.size,class:{"cursor-pointer":!0}}),null,16,["icon","color","size"])]),_:1},8,["model-value"])])}const CopyText=_export_sfc(_sfc_main$1A,[["render",_sfc_render$1j]]),__vite_glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:CopyText},Symbol.toStringTag,{value:"Module"})),_sfc_main$1z={props:{blocks:{type:Object,default(){return{}}}},components:{},setup(e,a){},data(){return{}},created(){}};function _sfc_render$1i(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VRow,{class:"h-100"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.blocks,(s,u)=>(openBlock(),createBlock(l,{key:`tag-0-${u}`,configuration:s},null,8,["configuration"]))),128))]),_:1})}const Dashboard=_export_sfc(_sfc_main$1z,[["render",_sfc_render$1i]]),__vite_glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:Dashboard},Symbol.toStringTag,{value:"Module"})),_sfc_main$1y={name:"UEDropdownFilter",props:{buttonText:{type:String,default:"Filter"},loading:{type:Boolean,default:!1},page:{type:Number,required:!0},type:{type:String,required:!0},tags:{type:Array,default:()=>[]},filterState:{type:Object,required:!0},filterModel:{type:Object,required:!0},schema:{type:Object||Array,required:!0}},emits:["update:filterState","submit","clear"],setup(e,{emit:a}){const o=ref({...e.filterState}),r=ref(!1);return watch$1(()=>e.filterState,l=>{o.value={...l}}),{localFilterState:o,menu:r,submitFilter:()=>{a("update:filterState",{...o.value}),a("submit"),r.value=!1},handleClear:()=>{a("clear"),r.value=!1}}}};function _sfc_render$1h(e,a,o,r,i,n){const l=resolveComponent("ue-form");return openBlock(),createElementBlock("div",null,[createVNode(VMenu,{modelValue:r.menu,"onUpdate:modelValue":a[1]||(a[1]=s=>r.menu=s),"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:s})=>[createVNode(VBtn,mergeProps({color:"primary"},s),{default:withCtx(()=>[createTextVNode(toDisplayString(o.buttonText),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(l,{ref:"form",schema:o.schema,"has-submit":"",modelValue:r.localFilterState,"onUpdate:modelValue":a[0]||(a[0]=s=>r.localFilterState=s),onSubmit:r.submitFilter},{submit:withCtx(()=>[createVNode(VBtn,{color:"primary",class:"mt-4 mr-2",type:"button",loading:o.loading,onClick:r.submitFilter},{default:withCtx(()=>a[2]||(a[2]=[createTextVNode(" Apply Filters ")])),_:1},8,["loading","onClick"]),createVNode(VBtn,{color:"secondary",class:"mt-4 ml-2",type:"button",loading:o.loading,onClick:r.handleClear},{default:withCtx(()=>a[3]||(a[3]=[createTextVNode(" Clear Filters ")])),_:1},8,["loading","onClick"])]),_:1},8,["schema","modelValue","onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const DropdownFilter=_export_sfc(_sfc_main$1y,[["render",_sfc_render$1h]]),__vite_glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:DropdownFilter},Symbol.toStringTag,{value:"Module"})),_sfc_main$1x={__name:"DynamicComponentRenderer",props:{subject:{type:String,default:""}},setup(e){const a=e,o=n=>{const u=new DOMParser().parseFromString(n,"text/html").body.firstChild,c=u.tagName.toLowerCase();let p={};const f=u.textContent;for(let m=0;m<u.attributes.length;m++){const y=u.attributes[m];p[y.name]=y.value}return p={...p},{name:c,props:p,content:f}},r=computed(()=>(a.subject.startsWith("<v-")||a.subject.startsWith("<ue-"))&&a.subject.endsWith(">")),i=computed(()=>r.value?o(a.subject):null);return(n,l)=>e.subject&&r.value?(openBlock(),createBlock(resolveDynamicComponent(i.value.name),normalizeProps(mergeProps({key:0},{...i.value.props,...n.$bindAttributes()})),{default:withCtx(()=>[createTextVNode(toDisplayString(i.value.content),1)]),_:1},16)):e.subject?(openBlock(),createElementBlock(Fragment,{key:1},[],64)):createCommentVNode("",!0)}},__vite_glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1x},Symbol.toStringTag,{value:"Module"})),_hoisted_1$$={class:"text-h1 font-weight-bold text-{{ alert }} mb-4"},_hoisted_2$O={class:"text-h4 font-weight-medium mb-6"},_hoisted_3$L={class:"text-h6 text-medium-emphasis mb-4"},_sfc_main$1w={__name:"ErrorCard",props:{elevation:{type:Number,default:8},rounded:{type:String,default:"lg"},icon:{type:String,default:"mdi-lock-outline"},iconSize:{type:Number,default:120},statusCode:{type:Number,default:403},statusText:{type:String,default:"Access Forbidden"},description:{type:String,default:"You don't have permission to access this resource."},alertText:{type:String,default:"This action is restricted for modularity authenticated users."},alert:{type:String,default:"warning"},homeUrl:{type:String,default:"/"},homeText:{type:String,default:"Home"}},setup(e){return(a,o)=>(openBlock(),createBlock(VCard,{elevation:e.elevation,rounded:e.rounded,class:"mx-auto text-center"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-8"},{default:withCtx(()=>[createVNode(VIcon,{color:e.alert,size:e.iconSize,class:"mb-6"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.icon),1)]),_:1},8,["color","size"]),createBaseVNode("h1",_hoisted_1$$,toDisplayString(e.statusCode),1),createBaseVNode("h2",_hoisted_2$O,toDisplayString(e.statusText),1),createBaseVNode("p",_hoisted_3$L,toDisplayString(e.description),1),createVNode(VAlert,{type:e.alert,variant:"tonal",class:"mb-6"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.alertText),1)]),_:1},8,["type"]),createVNode(VBtn,{color:"primary",size:"large",variant:"elevated","prepend-icon":"mdi-arrow-left",onClick:o[0]||(o[0]=r=>a.window.history.back()),class:"me-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.$t("Go Back")),1)]),_:1}),createVNode(VBtn,{color:"secondary",size:"large",variant:"outlined","prepend-icon":"mdi-home",href:e.homeUrl},{default:withCtx(()=>[createTextVNode(toDisplayString(a.$t(e.homeText)),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["elevation","rounded"]))}},__vite_glob_0_10=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1w},Symbol.toStringTag,{value:"Module"})),_sfc_main$1v={__name:"Expansion",props:{modelValue:{type:Boolean,default:!0},title:{type:String,default:""},multiple:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasActions:{type:Boolean,default:!1},expandedIcon:{type:String,default:"mdi-chevron-down"},collapsedIcon:{type:String,default:"mdi-chevron-up"}},setup(e){const o=ref(e.modelValue?["one"]:[]);return(r,i)=>(openBlock(),createBlock(VExpansionPanels,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=n=>o.value=n),multiple:e.multiple,readonly:e.readonly},{default:withCtx(()=>[createVNode(VExpansionPanel,{value:"one"},{default:withCtx(()=>[e.title?(openBlock(),createBlock(VExpansionPanelTitle,{key:0},createSlots({default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:2},[e.hasActions?{name:"actions",fn:withCtx(({expanded:n})=>[createVNode(VIcon,{color:n?"":"teal",icon:n?e.expandedIcon:e.collapsedIcon},null,8,["color","icon"])]),key:"0"}:void 0]),1024)):createCommentVNode("",!0),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3})]),_:3})]),_:3},8,["modelValue","multiple","readonly"]))}},__vite_glob_0_11=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1v},Symbol.toStringTag,{value:"Module"})),_sfc_main$1u={data(){return{fileUrls:[],thumbnailUrls:[],isImageArray:[],loadingStates:[],downloadingStates:[],previewDialogs:[]}},props:{source:{type:[Object,Array],required:!0},imageSize:{type:[Number,String],default:64},showFileName:{type:Boolean,default:!1},showInlineFileName:{type:Boolean,default:!1},maxFileNameLength:{type:Number,default:10},noOverlay:{type:Boolean,default:!1},showDate:{type:Boolean,default:!1}},computed:{normalizedSource(){return this.source?Array.isArray(this.source)?this.source:window.__isObject(this.source)?[this.source]:[]:[]}},methods:{processSource(){const e=this.normalizedSource.length;this.loadingStates=new Array(e).fill(!1),this.downloadingStates=new Array(e).fill(!1),this.previewDialogs=new Array(e).fill(!1),this.fileUrls=new Array(e).fill(null),this.thumbnailUrls=new Array(e).fill(null),this.isImageArray=new Array(e).fill(!1),this.normalizedSource.forEach((a,o)=>{this.isImageFile(a.file_name)&&this.generateThumbnail(a.uuid,o)})},isImageFile(e){const a=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(a)},async generateThumbnail(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Failed to fetch thumbnail");const r=await o.blob();r.type.startsWith("image/")&&(this.thumbnailUrls[a]=URL.createObjectURL(r))}catch(o){console.error("Error generating thumbnail:",o)}},getFileIcon(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"mdi-file-pdf-box";case"doc":case"docx":return"mdi-file-word";case"xls":case"xlsx":return"mdi-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"mdi-file-image";default:return"mdi-file-document-outline"}},getFileIconColor(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"red";case"doc":case"docx":return"blue";case"xls":case"xlsx":return"green";case"jpg":case"jpeg":case"png":case"gif":return"purple";default:return"grey"}},canPreviewFile(e){return["jpg","jpeg","png","gif","webp","pdf"].includes(this.normalizedSource[e].file_name.split(".").pop().toLowerCase())},async previewFile(e){this.previewDialogs[e]=!0,this.fileUrls[e]||(this.loadingStates[e]=!0,await this.fetchFile(this.normalizedSource[e].uuid,e))},async downloadFile(e){const a=this.normalizedSource.findIndex(o=>o.uuid===e);this.downloadingStates[a]=!0;try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Download failed");const r=await o.blob(),i=window.URL.createObjectURL(r),n=document.createElement("a");n.href=i,n.download=this.normalizedSource[a].file_name,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(i),n.remove()}catch(o){console.error("Error downloading file:",o)}finally{this.downloadingStates[a]=!1}},async fetchFile(e,a){try{const o=await fetch(`/api/filepond/preview/${e}`);if(!o.ok)throw new Error("Network response was not ok");const r=await o.blob();this.isImageArray[a]=r.type.startsWith("image/"),this.fileUrls[a]=URL.createObjectURL(r)}catch(o){console.error("Error fetching file:",o)}finally{this.loadingStates[a]=!1}},shortenFileName(e){if(e.length<=this.maxFileNameLength)return e;const a=e.split(".").pop();return`${e.slice(0,e.lastIndexOf(".")).slice(0,this.maxFileNameLength)}...${a}`}},mounted(){this.processSource()}},_hoisted_1$_={key:0,class:"d-flex align-center px-4"},_hoisted_2$N={class:"text-body-2 text-truncate"},_hoisted_3$K={key:1,class:"ml-auto mr-1"},_hoisted_4$B={class:"text-caption text-truncate"},_hoisted_5$w={key:2,class:"overlay-content d-flex align-center justify-center"},_hoisted_6$u={class:"d-flex justify-center align-center",style:{height:"calc(100vh - 64px)"}},_hoisted_7$m=["src"];function _sfc_render$1g(e,a,o,r,i,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex ga-2",o.showInlineFileName||o.showFileName?"flex-wrap":""])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.normalizedSource,(l,s)=>(openBlock(),createElementBlock("div",{key:l.uuid,class:"file-preview-item",style:normalizeStyle({width:o.showInlineFileName||o.showFileName?"100%":"aut"})},[createVNode(VHover,null,{default:withCtx(({isHovering:u,props:c})=>[createVNode(VCard,mergeProps({ref_for:!0},c,{class:"rounded position-relative d-flex bg-transparent",width:o.showInlineFileName||o.showFileName?"100%":`${o.imageSize}`,height:o.imageSize,elevation:u?4:0,onClick:p=>n.canPreviewFile(s)?n.previewFile(s):n.downloadFile(l.uuid)}),{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle({width:`${o.imageSize}px`,height:`${o.imageSize}px`}),class:"position-relative flex-grow-0"},[i.thumbnailUrls[s]?(openBlock(),createBlock(VImg,{key:0,src:i.thumbnailUrls[s],height:"100%",width:"100%",cover:""},{placeholder:withCtx(()=>[createVNode(VIcon,{color:n.getFileIconColor(l.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.getFileIcon(l.file_name)),1)]),_:2},1032,["color"])]),_:2},1032,["src"])):(openBlock(),createBlock(VCardText,{key:1,class:"pa-0 d-flex justify-center align-center",style:{height:"100%"}},{default:withCtx(()=>[createVNode(VIcon,{color:n.getFileIconColor(l.file_name),size:"32"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.getFileIcon(l.file_name)),1)]),_:2},1032,["color"])]),_:2},1024))],4),o.showInlineFileName||o.showFileName?(openBlock(),createElementBlock("div",_hoisted_1$_,[createBaseVNode("span",_hoisted_2$N,toDisplayString(n.shortenFileName(l.file_name)),1)])):createCommentVNode("",!0),o.showDate?(openBlock(),createElementBlock("div",_hoisted_3$K,[createBaseVNode("span",_hoisted_4$B,toDisplayString(e.$d(new Date(l.created_at),"numeric-full")),1)])):createCommentVNode("",!0),u&&!o.noOverlay?(openBlock(),createElementBlock("div",_hoisted_5$w,[createVNode(VBtn,{icon:"mdi-download",size:"x-small",color:"white",variant:"text",onClick:withModifiers(p=>n.downloadFile(l.uuid),["stop"]),loading:i.downloadingStates[s]},null,8,["onClick","loading"]),n.canPreviewFile(s)?(openBlock(),createBlock(VBtn,{key:0,icon:"mdi-eye",size:"x-small",color:"white",variant:"text",onClick:withModifiers(p=>n.previewFile(s),["stop"]),loading:i.downloadingStates[s]},null,8,["onClick","loading"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:2},1040,["width","height","elevation","onClick"])]),_:2},1024),createVNode(VDialog,{modelValue:i.previewDialogs[s],"onUpdate:modelValue":u=>i.previewDialogs[s]=u,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:u=>i.previewDialogs[s]=!1},{default:withCtx(()=>[createVNode(VIcon,{color:"white",icon:"$close"})]),_:2},1032,["onClick"]),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(l.file_name),1)]),_:2},1024),createVNode(VSpacer)]),_:2},1024),createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$u,[i.loadingStates[s]?(openBlock(),createBlock(VProgressCircular,{key:0,indeterminate:"",color:"primary"})):createCommentVNode("",!0),!i.loadingStates[s]&&i.isImageArray[s]?(openBlock(),createBlock(VImg,{key:1,src:i.fileUrls[s],contain:"","max-height":"90vh"},null,8,["src"])):!i.loadingStates[s]&&i.fileUrls[s]?(openBlock(),createElementBlock("iframe",{key:2,src:i.fileUrls[s],width:"100%",height:"100%",frameborder:"0"},null,8,_hoisted_7$m)):createCommentVNode("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])],4))),128))],2)}const FilepondPreview=_export_sfc(_sfc_main$1u,[["render",_sfc_render$1g],["__scopeId","data-v-57689f86"]]),__vite_glob_0_12=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondPreview},Symbol.toStringTag,{value:"Module"}));function FormDataAsObj(e){let a=null;const o=!1;let r=/[^\[\]]+|\[\]/g,i=null,n=[];function l(E){return!!(E&&typeof E=="object"&&"nodeType"in E&&E.nodeType===1)}function s(E){if(!(!E||typeof E!="object"))return Object.keys(E).filter(function(z){return!isNaN(parseInt(z,10))}).splice(-1)[0]}function u(E){const z=s(E);return typeof z=="string"?parseInt(z,10):0}function c(E){const z=s(E);return typeof z=="string"?parseInt(z,10)+1:0}function p(E){if(typeof E!="object"||E===null)return 0;let z=0,B;if(typeof Object.keys=="function")z=Object.keys(E).length;else for(B in E)E.hasOwnProperty(B)&&z++;return z}function f(E,z){if([].forEach)return[].forEach.call(E,z);let B;for(B=0;B<E.length;B++)z.call(E,E[B],B)}function m(E){return!E||(a=E,!y())||!g()?!1:F()}function y(){switch(typeof a){case"string":i=document.getElementById(a);break;case"object":l(a)&&(i=a);break}return i}function v(){return!!(i.enctype&&i.enctype==="multipart/form-data")}function g(){return n=i.querySelectorAll("input, textarea, select"),n.length}function b(E){return E.nodeName==="INPUT"&&E.type==="radio"}function k(E){return E.nodeName==="INPUT"&&E.type==="checkbox"}function C(E){return E.nodeName==="INPUT"&&E.type==="file"}function w(E){return E.nodeName==="TEXTAREA"}function V(E){return E.nodeName==="SELECT"&&E.type==="select-one"}function T(E){return E.nodeName==="SELECT"&&E.type==="select-multiple"}function S(E){return E.nodeName==="BUTTON"&&E.type==="submit"}function A(E){return E.checked}function D(E){return window.FileList&&E.files instanceof window.FileList}function P(E){if(b(E)||k(E))return A(E)?E.value:!1;if(C(E))return v()?D(E)&&E.files.length>0?E.files:E.value&&E.value!==""?E.value:!1:!1;if(w(E))return E.value&&E.value!==""?E.value:!1;if(V(E))return E.value&&E.value!==""?E.value:E.options&&E.options.length&&E.options[0].value!==""?E.options[0].value:!1;if(T(E))if(E.options&&E.options.length>0){const z=[];return f(E.options,function(B){B.selected&&z.push(B.value)}),z.length?z:!1}else return!1;return S(E)?E.value&&E.value!==""?E.value:E.innerText&&E.innerText!==""?E.innerText:!1:typeof E.value<"u"&&E.value!==""?E.value:!1}function N(E,z,B,O){const M=z[0];if(b(E))return B!==!1?(O[M]=B,B):void 0;if(k(E))return B!==!1?(O[M]||(O[M]=[]),O[M].push(B)):void 0;if(T(E))if(B!==!1)O[M]=B;else return;return O[M]=B,B}function $(E,z,B,O){const M=z[0];if(z.length>1)return M==="[]"?(O[c(O)]={},$(E,z.splice(1,z.length),B,O[u(O)])):(O[M]&&p(O[M])>0||(O[M]={}),$(E,z.splice(1,z.length),B,O[M]));if(z.length===1)return M==="[]"?(O[c(O)]=B,O):(N(E,z,B,O),O)}function F(){let E=0,z,B,O;const M={};for(E=0;E<n.length;E++)B=n[E],!(!B.name||B.name===""||B.disabled||b(B)&&!A(B))&&(O=P(B),!(O===!1&&!o)&&(z=B.name.match(r),z.length===1&&N(B,z,O||"",M),z.length>1&&$(B,z,O||"",M)));return p(M)>0?M:!1}return m(e)}const _sfc_main$1t={name:"UEFilter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default(){return getCurrentInstance().appContext.config.globalProperties.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},filterState:{type:Object,required:!0}},emits:["update:filterState","submit","clear"],data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,a){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{e.style.overflow="visible"},275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,a){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){const e=FormDataAsObj(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:debounce(function(){this.resetHeight()},50),updateSearch(e){this.$emit("update:filterState",{...this.filterState,search:e})}},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},_hoisted_1$Z={class:"filter__inner"},_hoisted_2$M={class:"filter__navigation"},_hoisted_3$J={class:"filter__search"},_hoisted_4$A={class:"float-right",symbol:"dropdown_module"},_hoisted_5$v=["aria-hidden"],_hoisted_6$t={class:"filter__moreInner",ref:"moreInner"};function _sfc_render$1f(e,a,o,r,i,n){const l=resolveComponent("ue-btn"),s=resolveDirective("svg");return openBlock(),createElementBlock("div",null,[createBaseVNode("form",{class:normalizeClass(["filter",{"filter--opened":n.opened,"filter--single":!e.withNavigation,"filter--withHiddenFilters":e.withHiddenFilters}]),onSubmit:a[0]||(a[0]=withModifiers((...u)=>n.submitFilter&&n.submitFilter(...u),["prevent"])),ref:"form"},[createBaseVNode("div",_hoisted_1$Z,[createBaseVNode("div",_hoisted_2$M,[renderSlot(e.$slots,"navigation",{},void 0,!0)]),createBaseVNode("div",_hoisted_3$J,[createVNode(VTextField,{type:"search",class:"form__input form__input--small v-filter__search__input",name:"search",modelValue:o.filterState.search,"onUpdate:modelValue":n.updateSearch,placeholder:o.placeholder,variant:"outlined","hide-details":"true"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.withHiddenFilters?(openBlock(),createBlock(l,{key:0,class:"filter__toggle",variant:"outlined",onClick:n.toggleFilter,"aria-expanded":n.opened?"true":"false",fab:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.toggle-label","Filter"))+" ",1),withDirectives(createBaseVNode("span",_hoisted_4$A,null,512),[[s]])]),_:1},8,["onClick","aria-expanded"])):createCommentVNode("",!0),renderSlot(e.$slots,"additional-actions",{},void 0,!0)])]),createVNode(Transition$1,{css:!1,duration:275,onBeforeEnter:n.beforeEnter,onEnter:n.enter,onBeforeLeave:n.beforeLeave,onLeave:n.leave},{default:withCtx(()=>[e.withHiddenFilters?withDirectives((openBlock(),createElementBlock("div",{key:0,class:"filter__more","aria-hidden":n.opened?null:!0,ref:"more"},[createBaseVNode("div",_hoisted_6$t,[renderSlot(e.$slots,"hidden-filters",{},void 0,!0),createVNode(l,{variant:"outlined",type:"submit"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.apply-btn","Apply")),1)]),_:1}),o.clearOption?(openBlock(),createBlock(l,{key:0,variant:"elavated",type:"button",onClick:n.clear},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$trans("filter.clear-btn","Clear")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)],512)],8,_hoisted_5$v)),[[vShow,n.opened]]):createCommentVNode("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],34),renderSlot(e.$slots,"default",{},void 0,!0)])}const Filter=_export_sfc(_sfc_main$1t,[["render",_sfc_render$1f],["__scopeId","data-v-e1692dd5"]]),__vite_glob_0_13=Object.freeze(Object.defineProperty({__proto__:null,default:Filter},Symbol.toStringTag,{value:"Module"})),makeFormatterProps=propsFactory({ignoreFormatters:{type:[Array],default:[]}});function useFormatter(e,a,o=null){const{d:r,te:i,t:n}=useI18n({useScope:"global"}),l=computed(()=>((o==null?void 0:o.value)??[]).filter(c=>Object.prototype.hasOwnProperty.call(c,"formatter")&&c.formatter.length>0&&(!Object.prototype.hasOwnProperty.call(e,"ignoreFormatters")||!e.ignoreFormatters.includes(c.formatter[0]))||Object.prototype.hasOwnProperty.call(c,"formatterName")&&["edit","activate"].includes(c.formatterName)).map(c=>{let p=Object.prototype.hasOwnProperty.call(c,"formatterName")&&["edit","activate"].includes(c.formatterName)?c.formatterName:c.formatter[0];return{...c,formatterName:Object.prototype.hasOwnProperty.call(c,"formatterName")&&["edit","activate"].includes(c.formatterName)?c.formatterName:c.formatter[0],isFormatting:p!==c.formatter[0]}})),s=reactive({dateFormatter:function(c,p="long"){return{configuration:s.makeText(r(new Date(c),p))}},chipFormatter:function(c,p={}){return{configuration:s.makeChip(c,p)}},badgeFormatter:function(c,p={}){return{configuration:s.makeBadge(c,p)}},editFormatter:function(c){return{configuration:{elements:`${c}`,tag:"span",attributes:{onClick:"editItem"}}}},pascalFormatter:function(c){return lodash.startCase(lodash.camelCase(c)).replace(/ /g,"")},priceFormatter:(c,p="₺",f=null)=>({configuration:{elements:[{tag:"p",attributes:{class:"featured"},elements:`${p}${c}`},{tag:"p",attributes:{class:"value"},elements:`${f?`+${f}`:""}`}]}}),statusFormatter:(c,p=null,f=null)=>{const m=c===!0||c==="true"||c===1||c==="1";return{configuration:{tag:"v-icon",attributes:{size:"small",style:{color:m?"green":"red"},icon:m?"mdi-check":"mdi-close"}}}},shortenFormatter:function(c,p=10){return{configuration:{elements:window.__shorten(c,p)}}},makeChip:function(c,p={}){return{tag:"v-chip",attributes:{...p},elements:c}},makeBadge:function(c,p={}){return{tag:"v-badge",attributes:{...p,content:c}}},makeText:function(c){return{elements:c}}});function u(c,p){let f=lodash.cloneDeep(c);const y=`${f.shift()}Formatter`;try{return p==null||p===""?{configuration:{elements:""}}:s[y](p,...lodash(f))}catch(v){console.error(`${v}: ${y}`)}}return{formatterColumns:l,handleFormatter:u,...toRefs(s)}}const makeInputProps=propsFactory({modelValue:{type:[Array,Object,String,Number,Boolean],default:null},obj:{type:Object,default(){return{}}},label:{type:String,default:""},hideIfEmpty:{type:Boolean,default:!1},default:{type:[Array,Object,String,Number,Boolean],default:null},protectInitialValue:{type:Boolean,default:!1},isEditing:{type:Boolean,default:!1},editable:{type:[Boolean,String],default:!0},creatable:{type:[Boolean,String],default:!0}}),makeInputEmits=["update:modelValue","change","update:preview","focus","blur","click:append","click:appendInner","click:prepend","click:prependInner","click:clear","click:hour","click:minute","click:second","update:input"],makeInputInjects=["manualValidation"];function useInput(e,a){const{modelValue:o,obj:r}=toRefs(e),i=ref(null),n=reactive({VInput:i,id:Math.ceil(Math.random()*1e6)+"-input",boundProps:omit(r.value.schema??{},["offset","order","col"]),input:computed({get:()=>{var u,c;let s=o.value??(e==null?void 0:e.default)??((c=(u=e==null?void 0:e.obj)==null?void 0:u.schema)==null?void 0:c.default)??[];return Array.isArray(s)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&!e.multiple&&s.length===0&&(s=Array.isArray(o.value)?null:o.value),!Array.isArray(s)&&Object.prototype.hasOwnProperty.call(e,"multiple")&&e.multiple&&(s=[]),a.initializeInput?a.initializeInput(s):s},set:(s,u)=>{a.updateModelValue?a.updateModelValue(s,u):l.emitModelValue(s,u)}})}),l=reactive({async validate(){this.$refs.VInput&&await this.$refs.VInput.validate()},updateModelValue:function(s,u){a.emit("update:modelValue",s,u)},emitModelValue:function(s,u){a.emit("update:modelValue",s,u)},makeReference(s){return`${s}-${n.id}`},getReference(s){return l.makeReference(s)}});return{...toRefs(l),...toRefs(n)}}function useInputHandlers(){const e=reactive({passwordHandler:function(o,r){o.schema[`${r}Icon`]=o.schema.type==="password"?"$visibility":"$non-visibility",o.schema.type=o.schema.type==="password"?"text":"password"}});function a(o,r){const i=lodash.camelCase(r);if(Object.prototype.hasOwnProperty.call(o.schema,"slotHandlers")&&Object.prototype.hasOwnProperty.call(o.schema.slotHandlers,i)){const l=`${lodash.camelCase(o.schema.slotHandlers[i])}Handler`;return e[l](o,i)}}return{invokeInputClickHandler:a,...toRefs(e)}}const inBrowser=typeof window<"u";inBrowser&&function(){const e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}();const Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;let _key=genKey();function genKey(){return Time.now().toFixed(3)}function pushState(e,a){const o=window.history;try{a&&o.replaceState({key:_key},"",e)}catch{window.location.replace(e)}}function replaceState(e){pushState(e,!0)}function getURLWithoutQuery(e=null){return e?getOrigin(e)+getPath(e):location.protocol+"//"+location.host+location.pathname}function getParameters(e=window.location){let a={};return new URL(e).searchParams.forEach(function(o,r){a[r]!==void 0?(Array.isArray(a[r])||(a[r]=[a[r]]),a[r].push(o)):a[r]=o}),a}function serializeParameters(e,a){const o=Object.keys(e).map(r=>{const i=e[r];return e.constructor===Array?r=`${a}[]`:e.constructor===Object&&(r=a?`${a}[${r}]`:r),typeof i=="object"?serializeParameters(i,r):`${r}=${encodeURIComponent(i)}`});return[].concat.apply([],o).join("&")}function addParametersToUrl(e,a,o){let r="";return __isString(a)?r=a:r=serializeParameters(a,o),r.length>0&&(r="?"+r),e+r}function removeQueryKeys(e=[]){const a=new URL(window.location.href);e.forEach(r=>a.searchParams.delete(r));const o=a.pathname+(a.searchParams.toString()?"?"+a.searchParams.toString():"");window.history.pushState({},"",o)}function getOrigin(e){return new URL(e).origin}function getPath(e){return new URL(e).pathname}function removeParameterFromUrl(e,a){const o=new URL(e);return o.searchParams.delete(a),o.toString()}function removeParameterFromHistory(e){window.history.replaceState({},"",removeParameterFromUrl(window.location.href,e))}function globalError$1(e=null,a={message:"",value:null}){var n,l,s,u,c,p,f;let o="";e&&typeof e=="string"&&(o=`MODULARITY - [${e}]: `);const r=o+a.message,i=((l=(n=a==null?void 0:a.value)==null?void 0:n.response)==null?void 0:l.status)??((s=a==null?void 0:a.response)==null?void 0:s.status)??null;console.error(r),a!=null&&a.value&&((u=a.value)!=null&&u.response)&&((c=a.value.response)!=null&&c.data)&&console.error(a.value.response.data),i===401||i===419?window.vm.config.globalProperties.$dialog({message:'Your session has expired, please <a class="v-btn v-btn--slim text-primary v-btn--density-default v-btn--size-default mr-12" href="'+document.location+'" target="_blank">login in another tab</a>'}):a!=null&&a.value&&((p=a.value)!=null&&p.response)&&((f=a.value.response)!=null&&f.data)?window.vm.config.globalProperties.$notif({message:a.value.response.data.message??"An error occurred",variant:a.value.response.data.variant??"error"}):window.vm.config.globalProperties.$notif({message:a.message,variant:"error"})}const component$2="DATATABLE",api$2={get(e,a,o,r=null){axios$1.get(e,{params:a}).then(function(i){if(i.data.replaceUrl){const n=i.request.responseURL;replaceState(n)}o&&typeof o=="function"&&o(i.data,i)},function(i){r&&typeof r=="function"&&r({message:"Get request error.",value:i})})},delete(e,a,o,r){e=e.replace(":id",a),axios$1.delete(e).then(function(i){o&&typeof o=="function"&&o(i)},function(i){const n={message:"Delete request error.",value:i};globalError$1(component$2,n),r&&typeof r=="function"&&r(n)})},forceDelete(e,a,o,r){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(i){o&&typeof o=="function"&&o(i)},function(i){const n={message:"Force Delete request error.",value:i};globalError$1(component$2,n),r&&typeof r=="function"&&r(n)})},restore(e,a,o){e=e.replace(":id",a),axios$1.put(e,{id:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Restore request error.",value:r})})},duplicate(e,a,o){e=e.replace(":id",a),axios$1.put(e).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Duplicate request error.",value:r})})},reorder(e=null,a,o){const r=e??window.MODULARITY.ENDPOINTS.reorder;axios$1.post(r,{ids:a}).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component$2,{message:"Reorder request error.",value:i})})},bulkPublish(e,a,o){axios$1.post(e,{ids:a.ids,publish:a.toPublish}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk publish request error.",value:r})})},bulkFeature(e,a,o){axios$1.post(e,{ids:a.ids,feature:a.toFeature}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk feature request error.",value:r})})},bulkDelete(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk delete request error.",value:r})})},bulkRestore(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk restore request error.",value:r})})},bulkDestroy(e,a,o){axios$1.post(e,{ids:a}).then(function(r){o&&typeof o=="function"&&o(r)},function(r){globalError$1(component$2,{message:"Bulk destroy request error.",value:r})})}},MOVE_BLOCK_TO_EDITOR="moveBlockToEditor",DUPLICATE_BLOCK="duplicateBlock",GET_BUCKETS="getBucketsData",SAVE_BUCKETS="saveBuckets",GET_DATATABLE="getDatatableDatas",SET_DATATABLE_NESTED="setDatatableNestedDatas",SET_DATATABLE="setDatatableDatas",TOGGLE_PUBLISH="togglePublishedData",DELETE_ITEM="deleteData",DUPLICATE_ITEM="duplicateData",RESTORE_ITEM="restoreData",DESTROY_ITEM="destroyData",TOGGLE_FEATURE="toggleFeaturedData",BULK_PUBLISH="bulkPublishData",BULK_FEATURE="bulkFeatureData",BULK_EXPORT="bulkExportData",BULK_DELETE="bulkDeleteData",BULK_RESTORE="bulkRestoreData",BULK_DESTROY="bulkDestroyData",REPLACE_FORM="replaceFormData",SAVE_FORM="saveFormData",UPDATE_FORM_IN_LISTING="updateFormInListing",CREATE_FORM_IN_MODAL="createFormInModal",SHOW_ALERT="showAlert",GET_ALL_PREVIEWS="getAllPreviews",GET_PREVIEW="getPreview",GET_REVISION="getRevisionContent",GET_CURRENT="getCurrentContent",HANDLE_ERRORS="handleErrors",ACTIONS={HANDLE_ERRORS,GET_BUCKETS,SAVE_BUCKETS,GET_DATATABLE,SET_DATATABLE_NESTED,SET_DATATABLE,TOGGLE_PUBLISH,DELETE_ITEM,DUPLICATE_ITEM,RESTORE_ITEM,DESTROY_ITEM,TOGGLE_FEATURE,BULK_PUBLISH,BULK_FEATURE,BULK_EXPORT,BULK_DELETE,BULK_RESTORE,BULK_DESTROY,REPLACE_FORM,SAVE_FORM,UPDATE_FORM_IN_LISTING,CREATE_FORM_IN_MODAL,GET_ALL_PREVIEWS,GET_PREVIEW,GET_REVISION,GET_CURRENT,MOVE_BLOCK_TO_EDITOR,DUPLICATE_BLOCK,SHOW_ALERT};var ce,ue,me,pe;const state$9={test:((ce=window.MODULARITY)==null?void 0:ce.STORE.config.test)??!1,profileMenu:((ue=window.MODULARITY)==null?void 0:ue.STORE.config.profileMenu)??[],sidebarStatus:!0,sidebarOptions:((me=window.MODULARITY)==null?void 0:me.STORE.config.sidebarOptions)??!1,secondarySidebarOptions:((pe=window.MODULARITY)==null?void 0:pe.STORE.config.secondarySidebarOptions)??!1,isRequestInProgress:!1,ongoingAxiosRequests:0},getters$8={sidebarStatus:e=>e.sidebarStatus,sidebarOptions:e=>e.sidebarOptions,secondarySidebarOptions:e=>e.secondarySidebarOptions,isRequestInProgress:e=>e.isRequestInProgress,ongoingAxiosRequests:e=>e.ongoingAxiosRequests},mutations$8={[CONFIG.SIDEBAR_TOGGLE](e){e.sidebarStatus=!e.sidebarStatus},[CONFIG.SET_SIDEBAR](e,a=!0){e.sidebarStatus=a},[CONFIG.SET_REQUEST_IN_PROGRESS](e,a=!0){e.isRequestInProgress=a},[CONFIG.INCREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests+=1,e.isRequestInProgress=e.ongoingAxiosRequests>0},[CONFIG.DECREASE_AXIOS_REQUEST](e){e.ongoingAxiosRequests-=1,e.isRequestInProgress=e.ongoingAxiosRequests>0}},config={state:state$9,getters:getters$8,mutations:mutations$8},filters={slugify:function(e){let a="";newValue.value&&typeof newValue.value=="string"?a=newValue.value:typeof newValue=="string"&&(a=newValue);const o={",":"-","/":"-",":":"-",";":"-",_:"-","©":"(c)","·":"-",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",þ:"th",ÿ:"y",ā:"a",ă:"a",ą:"a",ć:"c",č:"c",ď:"d",ē:"e",ę:"e",ě:"e",ğ:"g",ģ:"g",ī:"i",ı:"i",ķ:"k",ļ:"l",ł:"l",ń:"n",ņ:"n",ň:"n",ő:"o",œ:"oe",ŕ:"r",ř:"r",ś:"s",ş:"s",š:"s",ť:"t",ū:"u",ů:"u",ű:"u",ź:"z",ż:"z",ž:"z",ǘ:"u",ǵ:"g",ǹ:"n",ș:"s",ț:"t",ΐ:"i",ά:"a",έ:"e",ή:"h",ί:"i",ΰ:"y",α:"a",β:"b",γ:"g",δ:"d",ε:"e",ζ:"z",η:"h",θ:"8",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"3",ο:"o",π:"p",ρ:"r",ς:"s",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"w",ϊ:"i",ϋ:"y",ό:"o",ύ:"y",ώ:"w",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ж:"zh",з:"z",и:"i",й:"j",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",ё:"yo",є:"ye",і:"i",ї:"yi",ґ:"g",ḧ:"h",ḿ:"m",ṕ:"p",ẃ:"w",ẍ:"x",ә:"a",ғ:"g",қ:"q",ң:"n",ө:"o",ұ:"u"},r=new RegExp(Object.keys(o).join("|"),"g");return a.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(r,i=>o[i]).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||e===0?e.toString().toUpperCase():""},lowercase:function(e){return e||e===0?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},isViewOnlyInput=e=>Object.prototype.hasOwnProperty.call(e,"viewOnlyComponent"),isFormEventInput=e=>Object.prototype.hasOwnProperty.call(e,"isEvent")&&e.isEvent&&(["select","autocomplete","combobox","switch"].includes(e.type)||__isset(e.viewOnlyComponent)||e.noSubmit),getTranslationInputsCount=e=>getTranslationInputs(e).length,getTranslationInputs=(e,a=[])=>_.reduce(e,(o,r)=>(__isset(r)&&__isset(r.schema)&&["wrap","group","repeater","input-repeater"].includes(r.type)?o=getTranslationInputs(r.schema,o):Object.prototype.hasOwnProperty.call(r,"translated")&&r.translated&&o.push(r),o),a),flattenGroupSchema=(e,a)=>reduce(e,(o,r,i)=>{const n=i.split(".").filter(l=>l!==a).join(".");return o[n]=r,o},{}),processInputs=e=>reduce(e,(a,o,r)=>(o.type==="wrap"&&o.schema?Object.assign(a,processInputs(o.schema)):o.type==="groupz"&&o.schema||(o.slotable,a[r]=o),a),{});var fe,he,ge,ye,_e,ve,be,Ce,ke,Ve,we,Se;const state$8={showModal:!1,accessible:!1,crops:((he=(fe=window.MODULARITY)==null?void 0:fe.STORE)==null?void 0:he.medias.crops)||{},showFileName:((ye=(ge=window.MODULARITY)==null?void 0:ge.STORE)==null?void 0:ye.medias.showFileName)||!1,types:((ve=(_e=window.MODULARITY)==null?void 0:_e.STORE)==null?void 0:ve.medias.types)||[],type:"image",connector:null,isInserted:!1,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:((Ce=(be=window.MODULARITY)==null?void 0:be.STORE)==null?void 0:Ce.medias.selected)||{},config:((Ve=(ke=window.MODULARITY)==null?void 0:ke.STORE)==null?void 0:Ve.medias.config)||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1,showModal:((Se=(we=window.MODULARITY)==null?void 0:we.STORE)==null?void 0:Se.medias.openModal)||!1},getters$7={mediaLibraryAccessible:e=>e.accessible,mediasByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(i=>i.startsWith(`blocks[${a}]`)),r={};return o.forEach(i=>r[i]=e.selected[i]),r}},mutations$7={[MEDIA_LIBRARY.SET_ACCESSIBLE](e,a){e.accessible=a},[MEDIA_LIBRARY.SET_SHOW_MODAL](e,a){e.showModal=a},[MEDIA_LIBRARY.OPEN_MODAL](e){e.showModal=!0},[MEDIA_LIBRARY.CLOSE_MODAL](e){e.showModal=!1},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a.type&&(o.total=a.total),o))},[MEDIA_LIBRARY.UPDATE_REPLACE_INDEX](e,a){e.indexToReplace=a},[MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total+1),o))},[MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL](e,a){e.types=e.types.map(o=>(o.value===a&&(o.total=o.total-1),o))},[MEDIA_LIBRARY.UPDATE_MEDIAS](e,{mediaRole:a,index:o,media:r}){e.selected[a][o]=r},[MEDIA_LIBRARY.SAVE_MEDIAS](e,a){if(e.connector){const o=e.connector,r=e.selected[o]&&e.selected[o].length;if(r&&e.indexToReplace>-1)e.selected[o].splice(e.indexToReplace,1,cloneDeep(a[0]));else if(r)a.forEach(function(i){e.selected[o].push(cloneDeep(i))});else{const i={};i[o]=a,e.selected=Object.assign({},e.selected,i)}e.indexToReplace=-1}},[MEDIA_LIBRARY.DESTROY_SPECIFIC_MEDIA](e,a){},[MEDIA_LIBRARY.DESTROY_MEDIAS](e,a){e.selected[a]&&delete e.selected[a],e.connector=null},[MEDIA_LIBRARY.REORDER_MEDIAS](e,a){const o={};o[a.name]=a.medias,e.selected=Object.assign({},e.selected,o)},[MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA](e,a){const o=e.loading.filter(r=>r.id===a.id);o.length?(o[0].error=!1,o[0].progress=a.progress):e.loading.unshift({id:a.id,name:a.name,progress:a.progress,replacementId:a.replacementId,isReplacement:a.isReplacement})},[MEDIA_LIBRARY.PROGRESS_UPLOAD](e,a){e.uploadProgress=a},[MEDIA_LIBRARY.DONE_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,r){o.id===a.id&&e.loading.splice(r,1)})},[MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA](e,a){e.loading.forEach(function(o,r){o.id===a.id&&(e.loading[r].progress=0,e.loading[r].error=!0,e.loading[r].errorMessage=a.errorMessage)})},[MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR](e,a){a&&a!==""?e.connector=a:e.connector=null},[MEDIA_LIBRARY.UPDATE_IS_INSERTED](e,a){e.isInserted=a},[MEDIA_LIBRARY.UPDATE_MEDIA_MODE](e,a){e.strict=a},[MEDIA_LIBRARY.UPDATE_MEDIA_TYPE](e,a){a&&a!==""&&(e.type=a)},[MEDIA_LIBRARY.RESET_MEDIA_TYPE](e){e.type=e.types[0].value},[MEDIA_LIBRARY.UPDATE_MEDIA_MAX](e,a){e.max=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX](e,a){e.filesizeMax=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN](e,a){e.widthMin=Math.max(0,a)},[MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN](e,a){e.heightMin=Math.max(0,a)},[MEDIA_LIBRARY.SET_MEDIA_METADATAS](e,a){const o=a.media.context,r=e.selected[o],i=a.value;function n(l){return i.locale?(l.metadatas.custom[i.id]||(l.metadatas.custom[i.id]={}),l.metadatas.custom[i.id][i.locale]=i.value):l.metadatas.custom[i.id]=i.value,l}if(a.media.hasOwnProperty("index")){const l=n(cloneDeep(r[a.media.index]));r[a.media.index]=l}},[MEDIA_LIBRARY.DESTROY_MEDIA_CONNECTOR](e){e.connector=null},[MEDIA_LIBRARY.SET_MEDIA_CROP](e,a){const o=a.key,r=a.index,i=e.selected[o][r];function n(s){s.crops||(s.crops={});for(const u in a.values){const c={};c.name=a.values[u].name||u,c.x=a.values[u].x,c.y=a.values[u].y,c.width=a.values[u].width,c.height=a.values[u].height,s.crops[u]=c}return s}const l=n(cloneDeep(i));e.selected[o][r]=l},[MEDIA_LIBRARY.ADD_MEDIAS](e,{medias:a}){e.selected=Object.assign({},e.selected,a)}},actions$4={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:r}){const i={...a.mediasByBlockId(o.id)},n=Object.keys(i),l={};n.forEach(s=>l[s.replace(o.id,r)]=[...i[s]]),e(MEDIA_LIBRARY.ADD_MEDIAS,{medias:l})}},mediaLibrary={state:state$8,getters:getters$7,mutations:mutations$7,actions:actions$4},state$7={success:null,info:null,warning:null,error:null,show:!1,type:"info",message:null,location:"bottom",dialog:!1,dialogMessage:null},getters$6={notifByVariant:e=>a=>e[a],notified:e=>Object.keys(e).filter(a=>e[a]!==null).length===0},mutations$6={[ALERT$1.SET_ALERT_SHOW](e,a){e.show=a},[ALERT$1.SET_ALERT](e,a){e.type=a.variant??e.type,e.location=a.location??e.location,e.message=a.message??null,e.show=!0},[ALERT$1.CLEAR_ALERT](e,a){e.show=!1,e.type="info",e.message=null},[ALERT$1.SET_DIALOG_SHOW](e,a){e.dialog=a},[ALERT$1.SET_DIALOG](e,a){e.dialogMessage=a.message??null,e.dialog=!0},[ALERT$1.CLEAR_DIALOG](e){e.dialog=!1,e.dialogMessage=null}},actions$3={[ACTIONS.SHOW_ALERT]({commit:e},a){e(ALERT$1.SET_ALERT,a)}},alert$1={state:state$7,getters:getters$6,mutations:mutations$6,actions:actions$3};var Be,Ae,Ee,Ne,Te,Ie,Me,De,$e,xe,Pe,Fe,Oe,Re,Le,Ue,je,ze,He,Ke,Ge,qe,Ye,We,Xe,Qe,Ze;const state$6={locale:((Be=window.MODULARITY)==null?void 0:Be.LOCALE)??"en",timezone:((Ae=window.MODULARITY)==null?void 0:Ae.TIMEZONE)??"Europe/London",authorization:((Ee=window.MODULARITY)==null?void 0:Ee.AUTHORIZATION)??{},isGuest:((Ie=(Te=(Ne=window.MODULARITY)==null?void 0:Ne.STORE)==null?void 0:Te.user)==null?void 0:Ie.isGuest)??!1,profileDialog:!1,profile:(($e=(De=(Me=window.MODULARITY)==null?void 0:Me.STORE)==null?void 0:De.user)==null?void 0:$e.profile)??{},profileRoute:((Fe=(Pe=(xe=window.MODULARITY)==null?void 0:xe.STORE)==null?void 0:Pe.user)==null?void 0:Fe.profileRoute)??"",profileShortcutModel:((Le=(Re=(Oe=window.MODULARITY)==null?void 0:Oe.STORE)==null?void 0:Re.user)==null?void 0:Le.profileShortcutModel)??{},profileShortcutSchema:((ze=(je=(Ue=window.MODULARITY)==null?void 0:Ue.STORE)==null?void 0:je.user)==null?void 0:ze.profileShortcutSchema)??{},showLoginModal:!1,loginShortcutModel:((Ge=(Ke=(He=window.MODULARITY)==null?void 0:He.STORE)==null?void 0:Ke.user)==null?void 0:Ge.loginShortcutModel)??{},loginShortcutSchema:((We=(Ye=(qe=window.MODULARITY)==null?void 0:qe.STORE)==null?void 0:Ye.user)==null?void 0:We.loginShortcutSchema)??{},loginRoute:((Ze=(Qe=(Xe=window.MODULARITY)==null?void 0:Xe.STORE)==null?void 0:Qe.user)==null?void 0:Ze.loginRoute)??""},getters$5={userProfile:e=>e.profile,isGuest:e=>e.isGuest,isSuperAdmin:e=>e.authorization.isSuperAdmin??!1,isClient:e=>e.authorization.isClient??!1,userLocale:e=>e.locale,hasRestorable:e=>e.authorization.hasRestorable??!1,hasBulkable:e=>e.authorization.hasBulkable??!1,userPermissions:e=>e.authorization.permissions??[],userRoles:e=>e.authorization.roles??[]},actions$2={},mutations$5={[USER.SET_PROFILE_DATA](e,a){e.profile=a},[USER.OPEN_LOGIN_MODAL](e){e.showLoginModal=!0},[USER.CLOSE_LOGIN_MODAL](e){e.showLoginModal=!1}},user={state:state$6,getters:getters$5,actions:actions$2,mutations:mutations$5};var Je,et,tt,at;const state$5={all:((Je=window.MODULARITY)==null?void 0:Je.STORE.languages.all)||[],initialAll:((et=window.MODULARITY)==null?void 0:et.STORE.languages.all)||[],active:((tt=window.MODULARITY)==null?void 0:tt.STORE.languages.active)||((at=window.MODULARITY)==null?void 0:at.STORE.languages.all[0])||{}},getters$4={publishedLanguages:e=>e.all.filter(a=>a.published)},mutations$4={[LANGUAGE.SWITCH_LANG](e,{oldValue:a}){function o(n){return n.value===a.value}const r=e.all.findIndex(o),i=r<e.all.length-1?r+1:0;e.active=e.all[i]},[LANGUAGE.UPDATE_LANG](e,a){function o(i){return i.value===a}const r=e.all.findIndex(o);e.active=e.all[r]},[LANGUAGE.PUBLISH_LANG](e,a){e.all.forEach(function(o){o.published=!!a.includes(o.value)})},[LANGUAGE.PUBLISH_SINGLE_LANG](e,a){function o(i){return i.value===a}const r=e.all.findIndex(o);e.all[r].published=!e.all[r].published},[LANGUAGE.REPLACE_LANGUAGES](e,a){e.all=a},[LANGUAGE.RESET_LANGUAGES](e){e.all=e.initialAll}},language={state:state$5,getters:getters$4,mutations:mutations$4};var ot;const state$4={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:((ot=window.MODULARITY)==null?void 0:ot.STORE.browser.selected)||{}},getters$3={selectedItemsByIds:e=>{const a=[];for(const o in e.selected)a[o]=e.selected[o].map(r=>`${r.endpointType}_${r.id}`);return a},browsersByBlockId:e=>a=>{const o=Object.keys(e.selected).filter(i=>i.startsWith(`blocks[${a}]`)),r={};return o.forEach(i=>r[i]=e.selected[i]),r}},mutations$3={[BROWSER.SAVE_ITEMS](e,a){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=a;else{const o={};o[e.connector]=a,e.selected=Object.assign({},e.selected,o)}},[BROWSER.DESTROY_ITEMS](e,a){e.selected[a.name]},[BROWSER.DESTROY_ITEM](e,a){e.selected[a.name]&&(e.selected[a.name].splice(a.index,1),e.connector=null)},[BROWSER.REORDER_ITEMS](e,a){const o={};o[a.name]=a.items,e.selected=Object.assign({},e.selected,o)},[BROWSER.UPDATE_BROWSER_MAX](e,a){e.max=Math.max(0,a)},[BROWSER.UPDATE_BROWSER_CONNECTOR](e,a){a&&a!==""&&(e.connector=a)},[BROWSER.UPDATE_BROWSER_TITLE](e,a){a&&a!==""&&(e.title=a)},[BROWSER.UPDATE_BROWSER_NOTE](e,a){e.note=a},[BROWSER.DESTROY_BROWSER_CONNECTOR](e){e.connector=null},[BROWSER.UPDATE_BROWSER_ENDPOINT](e,a){a&&a!==""&&(e.endpoint=a.value,e.endpointName=a.label||"")},[BROWSER.DESTROY_BROWSER_ENDPOINT](e){e.endpoint="",e.endpointName=""},[BROWSER.UPDATE_BROWSER_ENDPOINTS](e,a){!a&&!a.length>0||(e.endpoints=a,e.endpoint=a[0].value,e.endpointName=a[0].label)},[BROWSER.DESTROY_BROWSER_ENDPOINTS](e){e.endpoints=[]},[BROWSER.ADD_BROWSERS](e,{browsers:a}){e.selected=Object.assign({},e.selected,a)}},actions$1={async[ACTIONS.DUPLICATE_BLOCK]({commit:e,getters:a},{block:o,id:r}){const i={...a.browsersByBlockId(o.id)},n=Object.keys(i),l={};n.forEach(s=>l[s.replace(o.id,r)]=[...i[s]]),e(BROWSER.ADD_BROWSERS,{browsers:l})}},browser={state:state$4,getters:getters$3,mutations:mutations$3,actions:actions$1};var nt,rt,it,lt,st,dt,ct;const state$3={isHot:((nt=window.MODULARITY)==null?void 0:nt.STORE.ambient.isHot)??!1,appEnv:((rt=window.MODULARITY)==null?void 0:rt.STORE.ambient.appEnv)??"",appName:((it=window.MODULARITY)==null?void 0:it.STORE.ambient.appName)??"",appEmail:((lt=window.MODULARITY)==null?void 0:lt.STORE.ambient.appEmail)??"",appDebug:((st=window.MODULARITY)==null?void 0:st.STORE.ambient.appDebug)??!1,test:((dt=window.MODULARITY)==null?void 0:dt.STORE.ambient.test)??!1,systemPackageVersions:((ct=window.MODULARITY)==null?void 0:ct.STORE.ambient.systemPackageVersions)??{}},getters$2={isHot:e=>e.isHot,appName:e=>e.appName,appEmail:e=>e.appEmail,appEnv:e=>e.appEnv,appDebug:e=>e.appDebug,versions:e=>e.systemPackageVersions},mutations$2={},ambient={state:state$3,getters:getters$2,mutations:mutations$2},state$2={},getters$1={[CACHE.GET_CACHE]:e=>a=>e[a]??null,[CACHE.GET_LAST_CACHE]:e=>a=>e[a]?Array.isArray(e[a])?lodash.last(e[a]):e[a]:null},mutations$1={[CACHE.PUT_CACHE](e,a){const{key:o,value:r}=a;e[o]=r},[CACHE.PUSH_CACHE](e,a){const{key:o,value:r}=a;e[o]?Array.isArray(e[o])||(e[o]=[e[o]]):e[o]=[],e[o]=[...e[o],r]},[CACHE.FORGET_CACHE](e,a){delete e[a]}},cache={state:state$2,getters:getters$1,mutations:mutations$1},store=createStore({modules:{ambient,user,alert:alert$1,config,language,mediaLibrary,browser,cache}}),getTranslationLanguages=e=>map(window.MODULARITY.STORE.languages.all,"value"),formatHelpers={handlers:(e,a,o=null)=>{const r=e.name,i=e.name,n=e.key??e.name,l=e;let s=__data_get(a,isNaN(parseInt(o))?i:`${o}.${i}`);return!s&&__isset(l.parentName)&&(s=__data_get(a,isNaN(o)?`${l.parentName}.${i}`:`${o}.${l.parentName}.${i}`)),{handlerName:r,handlerModelName:i,handlerSchemaName:n,handlerSchema:l,handlerValue:s}},getInputToFormat:(e,a,o,r,i)=>{let n=e.shift(),l=[],s=n.split("."),u=parseInt(s[0]);if(isNaN(u))u=i;else if(!Array.isArray(a))return!1;return Array.isArray(a)&&(isNaN(u)||(u-=1,s.shift()),l.push(`[${u}]`)),n=s.join("."),l.push(n),l.join(".")},getNewValue:(e,a,o)=>{let r;if(a){let i=[],n=__wildcard_change(e,a);i=__data_get(o,n,null),Array.isArray(i)&&i.length>0?r=i.shift():i!=null&&(r=i)}return r}};async function formatClearModel(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;formatHelpers.handlers(r,a,i);let s=lodash.get(o,l),u=(s==null?void 0:s.default)??[];lodash.set(a,l,u),lodash.get(n,l)&&lodash.unset(n,l)}async function formatFilter(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;let{handlerName:s,handlerModelName:u,handlerSchema:c,handlerValue:p}=formatHelpers.handlers(r,a,i);const f=e.shift(),m=e.shift();let y,v,g;p[m]?(g=p[m],y=r.filterEndpoint[g],v=p[f]):(g=u,y=r.filterEndpoint,v=p);let b=`${l}.${f}`,k=lodash.get(o,`${l}.eagers`)??[],C=lodash.get(o,`${l}.lazy`)??[];lodash.get(o,b)||lodash.set(o,b,[]);let w=lodash.cloneDeep(lodash.get(o,b));for(const V in w)v.includes(w[V].id)||w.splice(V,1);for(const V in v){const T=v[V];if(!w.find(S=>S.id==T))try{let S={};C.length>0&&(S.lazy=C),k.length>0&&(S.eagers=k);let A=await axios.get(y.replace(`{${lodash.snakeCase(g)}}`,T),{params:S});w.push(A.data)}catch(S){console.error("An error occurred:",S),S.response?globalError("",{message:"formatFilter error",value:S}):S.request?console.error("No response received:",S.request):console.error("Error message:",S.message)}}lodash.set(o,b,lodash.orderBy(w,["id"],["asc"]))}async function formatLock(e,a,o,r,i=null,n=[]){var f;const l=r.name,s=o[l],u=a[l];Array.isArray(u)&&u.length>0||Array.isArray(u);const c=e.shift(),p=e.shift();if(["select","combobox"].includes(s.type)&&u){const m=(f=s.items.find(y=>y[s.itemValue]===u))==null?void 0:f[p];o[c].disabled=!!m,o[c].focused=!!m,o[c].placeHolder=m}else if(["text"].includes(s.type)&&_field){const m=_field,[y,v]=c.split(".");o[y].schema[v].disabled=!!m,o[y].schema[v].focused=!!m,o[y].schema[v].placeHolder=m}}async function formatPermalink(e,a,o,r,i=null,n=[]){const l=r.name;o[l];const s=a[l],u=Array.isArray(s)&&s.length>0||!Array.isArray(s)&&!!s,c=e.shift();u&&(a[c]=filters.slugify(s))}async function formatPermalinkPrefix(e,a,o,r,i=null,n=[]){const l=r.name,s=o[l],u=a[l],c=Array.isArray(u)&&u.length>0||!Array.isArray(u)&&!!u,p=e.shift(),f=e.shift();if(["select","combobox"].includes(s.type)&&u&&c){const m=filters.slugify(s.items.find(y=>y[s.itemValue]===u)[s.itemTitle]);o[p??"slug"].prefix=o[p??"slug"].prefixFormat.replace(":"+f,m)}else if(["text"].includes(s.type)&&c){const m=filters.slugify(value),[y,v]=p.split(".");o[y].schema[v??"slug"].prefix=o[y].schema[v??"slug"].prefixFormat.replace(":"+f,m)}}const variablePattern=/\${([^}]+)}\$/g,searchInData=(e,a)=>{const o=[];if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a!="string"||a.startsWith("regex:"))return o;const r=a.split("."),i=(n,l,s=[],u=0,c=null)=>{if(Array.isArray(n))n.forEach((p,f)=>{i(p,l,[...s,f],u,c)});else if(typeof n=="object"&&n!==null){const p=n._title||null;for(const[f,m]of Object.entries(n)){const y=[...s,f];f==="_value"?i(m,l,y,u,p):f===r[u]&&(u===r.length-1?o.push(formatResult(l,y,m,p,c)):i(m,l,y,u+1,p))}}};return e.forEach((n,l)=>i(n,l)),o},formatResult=(e,a,o,r,i)=>{const n=[e,...a].join("."),l={dataIndex:e,notation:n,value:o};return r!==null&&(l.title=r),i!==null&&(l.parentTitle=i),l},findMatchingNotations=(e,a)=>{if(typeof a=="object"&&a.pattern&&(a=a.pattern),typeof a=="string"&&a.startsWith("regex:")){const o=a.replace("regex:","").replace("content.",""),r=new RegExp(o),i=[];for(const n of e)n.content&&Object.entries(n.content).forEach(([l,s])=>{r.test(l)&&i.push({key:l,value:s})});return i}return searchInData(e,a)},formattedPreview=(e,a)=>{const o=[],r=(c,p={})=>{const{titleKey:f="_title",valueKey:m="_value",pickKeys:y=[],mapArrayItems:v=!0,nested:g=!1,includeTitle:b=!0,col:k=6}=p;if(!c)return null;if(Array.isArray(c[m]))return v?[b?c[f]:null,c[m].map(C=>C[f]),k].filter(Boolean):[c[f],c[m],k];if(y.length>0){const C=y.map(w=>c[w]).filter(Boolean);return C.length?[c[f],...C,k]:null}return[b?c[f]:null,c[m],k].filter(Boolean)},i=(c,p)=>{typeof p=="object"&&p.pattern&&(p=p.pattern);const f=u(p);if(!f.length)return"";if(f[0].startsWith("regex:")){const m=[];for(const y of c)for(const[v,g]of Object.entries(y))typeof g=="object"&&g!==null&&Object.keys(g).some(k=>s(f[0],k))&&m.push(v);return m.length?m:""}for(const m of c)for(const[y,v]of Object.entries(m))if(typeof v=="object"&&v!==null&&f[0]in v)return y;return""},n=(c,p=6)=>(c.col||(c.col=p),c),l=(c=0)=>`section_${c+1}`,s=(c,p)=>{if(typeof c!="string")return!1;if(c.startsWith("regex:")){const f=c.replace("regex:","");return new RegExp(f).test(p)}return c===p},u=c=>(typeof c=="object"&&c.pattern&&(c=c.pattern),typeof c!="string"?[]:c.startsWith("regex:")?["content",c.includes("content.")?c.replace("regex:content.","regex:"):c]:c.split("."));for(const c of a)if(typeof c=="string"||typeof c=="object"&&c.pattern){const p=typeof c=="string"?c:c.pattern,f={col:6,...typeof c=="object"?c:{}},m=p.endsWith(".*"),y=findMatchingNotations(e,m?p.slice(0,-2):p);if(y.length>0)if(m&&y[0].value._value)if(!f.includeOverview)y[0].value._value.forEach((v,g)=>{const b=Object.entries(v).filter(([k])=>!k.startsWith("_")).map(([k,C])=>Array.isArray(C._value)&&f.mapArrayItems===!1?[C._title,C._value]:r(C,f)).filter(Boolean);if(b.length>0)if(f.outputFormat==="object"){const k={};b.forEach(([C,w])=>{k[C]=w}),o.push(n({title:v._title,items:f.nested?{[l(g)]:k}:k},f.col))}else o.push(n({title:v._title,items:f.nested?[b]:b},f.col))});else{const v=r(y[0].value,{...f,mapArrayItems:!0});v&&o.push(n({title:v[0],items:[v[1]]},f.col))}else{const v=y.map(g=>r(g.value,f)).filter(Boolean);v.length>0&&o.push(n({items:v},f.col))}}else if(Array.isArray(c)){const p=[],f={col:6};for(const m of c)findMatchingNotations(e,m).forEach(v=>{if(v.value._value){const g=r(v.value,f);p.push([g[0],g[1]])}});p.length>0&&o.push(n({items:p},f.col))}else if(typeof c=="object"&&c.items){const p={title:c.title,items:c.outputFormat==="object"?{}:[],col:c.col||6};c.col&&(p.col=c.col),c.items.forEach((f,m)=>{if(typeof f=="object")if(Array.isArray(f)){const y={};for(const v of f){const g=i(e,v),b=g?`${g}.${v}`:v;findMatchingNotations(e,b).forEach(C=>{if(C.value){const w=C.value._title,V=C.value._value;V&&(y[w]=V)}})}Object.keys(y).length>0&&(c.nested?p.items[l(m)]=y:Object.assign(p.items,y))}else{const y=f.pattern;if(y.startsWith("regex:")){const v=findMatchingNotations(e,y),g={};v.forEach(b=>{b.value&&b.value._value&&(f.simpleValue?g[b.key]=b.value._value:g[b.value._title]=b.value._value)}),Object.keys(g).length>0&&(c.nested?p.items[l(m)]=g:Object.assign(p.items,g))}else{const v=i(e,y);if(Array.isArray(v))v.forEach((g,b)=>{findMatchingNotations(e,y).forEach(C=>{var V;const w=(V=e.find(T=>T.content))==null?void 0:V[C.key];if(w&&w._value)if(f.simpleValue)c.nested?p.items[l(b)]=w._value:p.items[`content_${b+1}`]=w._value;else{const T={[w._title]:w._value};c.nested?p.items[l(b)]=T:Object.assign(p.items,T)}})});else{const g=f.pattern,b=i(e,g),k=b?`${b}.${g}`:g;findMatchingNotations(e,k).forEach(w=>{if(w.value&&w.value._value)if(f.simpleValue)c.nested?p.items[l(m)]=w.value._value:p.items=w.value._value;else{const V={[w.value._title]:w.value._value};c.nested?p.items[l(m)]=V:Object.assign(p.items,V)}})}}}else{const y=i(e,f),v=y?`${y}.${f}`:f,g=findMatchingNotations(e,v);c.outputFormat==="object"?g.forEach(b=>{if(b.value._value){const k=b.value._value;c.nested?p.items[l(m)]={[b.value._title]:k}:p.items[b.value._title]=k}}):g.forEach(b=>{b.value._value&&p.items.push([b.value._value])})}}),(Array.isArray(p.items)&&p.items.length>0||!Array.isArray(p.items)&&Object.keys(p.items).length>0)&&o.push(n(p,c.col))}return o},formattedSummary=(e,a)=>{let o={};for(const r in a){const i=a[r],n=findMatchingNotations(e,r);o[r]=Object.assign({},i,{values:n})}return o},test=()=>{};function replacePatternInObject(e,a,o){return!e||typeof e!="object"?e:Object.keys(e).reduce((r,i)=>{const n=e[i];return typeof n=="string"?r[i]=n.replace(a,o):Array.isArray(n)?r[i]=n.map(l=>replacePatternInObject(l,a,o)):typeof n=="object"?r[i]=replacePatternInObject(n,a,o):r[i]=n,r},{})}function isMatchingPattern(e){return variablePattern.test(e)}function replaceCallback(e,a,o){let r=o.split("??"),i=r[0].split("|"),n=r[1]??"";for(const l of i){let s=__data_get(e,l,!1);if(s)return s}return n}function replacePattern(e,a){const o=e.match(/^\${([^}]+)}\$$/);if(o){const r=o[1];return replaceCallback(a,o[0],r)}return e.replace(variablePattern,(r,i)=>{const n=replaceCallback(a,r,i);return Array.isArray(n)?n.join(", "):typeof n=="object"&&n!==null?JSON.stringify(n):n})}function replaceVariablesFromHaystack(e,a){return!e||typeof e!="object"?e:Object.keys(e).reduce((o,r)=>{const i=e[r];return typeof i=="string"?o[r]=i.replace(variablePattern,replaceCallback.bind(null,a)):Array.isArray(i)?o[r]=i.map(n=>replaceVariablesFromHaystack(n,a)):typeof i=="object"?o[r]=replaceVariablesFromHaystack(i,a):o[r]=i,o},{})}const NotationUtil={findMatchingNotations,formattedPreview,formattedSummary,test,replacePatternInObject,replaceVariablesFromHaystack};async function formatPrependSchema(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;const s=e.shift(),u=e.shift(),c=e.shift()=="true";let{handlerName:p,handlerSchema:f,handlerValue:m}=formatHelpers.handlers(r,a,i);if(__isObject(m)&&(m=Object.values(m)),!(Array.isArray(m)&&m.length<1)&&m){s&&(m=__data_get(m,s),s.match(/^\*(.*)/)&&(m=lodash.reduce(m,function(b,k){return b=[...k??[],...b],[...new Set(b)]},[])));let y=lodash.get(o,l);if(!y||!y.schema)return;let v=lodash.cloneDeep(y.schema),g=__data_get(f,u);if(g&&__isset(g.schema)){let b=[],k;if(Array.isArray(m)){if(!g.items)return;b=lodash.reduce(m,(D,P)=>(D[P]=lodash.find(g.items,N=>N.id==P),D),{}),m=lodash.reduce(m,(D,P)=>{var N;return D[P]={label_prefix:(N=__data_get(g.items,`*id=${P}.${g.itemTitle}`))==null?void 0:N.shift()},D},{})}let C=lodash.cloneDeep({}),w=lodash.get(o,l+"._prependedKeys",[]),V=[];for(const D in g.schema){__preg_quote(D);for(const P in m){let N=lodash.cloneDeep(g.schema[D]);k=b[P];let $=/(\${[\w]+}\$)/,F=D.replace($,P);V.push(F),v[F]||(C[F]={...N,name:F},C[F]=replaceVariablesFromHaystack(C[F],k))}}let T=w.filter(D=>!V.includes(D));T.forEach(D=>{delete v[D]});let S=V.filter(D=>!T.includes(D));c&&(S=S.sort((D,P)=>{const N=parseInt(D.match(/^(\d+)/)[1]),$=parseInt(P.match(/^(\d+)/)[1]);return N-$}),C=S.reduce((D,P)=>(D[P]=C[P],D),{}));let A=Object.assign(C,v);JSON.stringify(y.schema)!==JSON.stringify(A)&&(lodash.set(o,l+".schema",A),lodash.set(o,l+"._prependedKeys",S))}}}async function formatPreview(e,a,o,r,i=null,n=[]){if(Array.isArray(a)){let{handlerName:l,handlerSchema:s,handlerValue:u}=formatHelpers.handlers(r,a,i),c=e.shift().split(","),p=(e.shift()??"").split(","),f={},m=[],y=c.length>1,v=!1;for(const g in c){let b=c[g],k=p[g]??null,C=b.split(".");C=lodash.map(C,function(T,S){let A,D=T;return(A=T.match(/\$(\w+)/))&&__isset(u[A[1]])&&(D=u[A[1]]),D}),b=C.join(".");let w,V=k.match(/\*\.?(\w+)/);if(k=="*key")w=Object.keys(u).map(function(T){return parseInt(T)});else if(V){let S=k.match(/\*\.?(\w+)/)[1];w=lodash.map(u,function(A,D){return A[S]})}else w=k?u[k]:u;if(Array.isArray(w))if(g==0){v=w.length<1;let T=b.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,"$1*");f[T]=lodash.map(w,A=>b.replace(/^([\w\.]+)(\*)([\w\.\*]+)$/,`$1*id=${A}`));let S=__data_get(s,__wildcard_change(b,w));lodash.each(S,(A,D)=>v?lodash.unset(m,y?`[${D}][${g}]`:`[${D}]`):lodash.set(m,y?`[${D}][${g}]`:`[${D}]`,A))}else{let T;Object.keys(f).forEach(S=>{let A=__preg_quote(S),D=new RegExp(String.raw`^(${A}).([\w\$\.\*]+)`),P=b.match(D);if(P)return T=f[S],b=P[2],!1}),lodash.each(w,(S,A)=>{if(S){if(Array.isArray(S)&&lodash.isEmpty(S))return;let D=T[A];Array.isArray(S)&&S.join(",");let P=[D,__wildcard_change(b,S)].join("."),N=__data_get(s,P).shift();if(!N){console.warn("formatPreview error",{getter:P,inputToFormat:b,data:N,handlerSchema:s});return}let $=N[0]??"";g>1&&Array.isArray(N)&&($=`(${N.join(", ")})`),lodash.set(m,y?`[${A}][${g}]`:`[${g}]`,$)}})}}n[i]||(n[i]={}),v?lodash.unset(n[i],l):n[i][l]=m;return}}async function formatRemoveValue(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;let{handlerName:s,handlerSchema:u,handlerValue:c}=formatHelpers.handlers(r,a,i);__isObject(c)&&(c=Object.values(c));let p=lodash.get(a,l);if(Array.isArray(p)&&p.length>0)p=p.filter(f=>f.id!==c),lodash.set(a,l,p);else if(window.__isObject(p)&&Object.keys(p).length>0){let f=Object.keys(p);f=f.map(y=>window.__isString(y)&&parseInt(y)>0?parseInt(y):y);let m=f.filter(y=>!c.includes(y));m.forEach(y=>{delete p[y]}),m.length>0&&lodash.set(a,l,p)}}async function formatResetItems(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;formatHelpers.handlers(r,a,i),lodash.get(o,l);let s=[];lodash.set(o,l+".items",s)}async function formatSet(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i),s=getTranslationLanguages();if(!l)return;const u=l,c=e.shift(),p=`${l}.${c}`,f=e.shift();let{handlerName:m,handlerSchema:y,handlerValue:v}=formatHelpers.handlers(r,a,i);if(!(Array.isArray(v)&&v.length<1)&&v){let g=formatHelpers.getNewValue(f,v,y);if(g!=null)if(c.match(/^(modelValue|model)$/g)){let k=lodash.get(o,u);if(k==null||k==null)return;let C=k.name,w=__extractForeignKey(C),V=k.schema??null,T=k.type=="input-repeater",S=Array.isArray(g);if(__isset(k.translated)&&k.translated){let A=notation.split("."),D=A.pop(),P=A.join(".")+".translations";notation.split(".").pop();let N=__data_get(y,P).shift();N&&(g=lodash.reduce(s,($,F)=>{let E=lodash.find(N,z=>z.locale==F)??N[0];return E[D],$[F]=E[D]??null,$},{}))}if(S&&g.length>0){let A=g.map(D=>{if(V)return lodash.reduce(V,(P,N,$)=>(T&&$==w?P[w]=D.id??null:P[$]=D[$]??null,P),{})});lodash.set(a,u,A)}else if(!S)try{lodash.set(a,C,g)}catch(A){console.error(A)}}else{let k=lodash.get(o,p),C=store.getters[CACHE.GET_LAST_CACHE](p)??k;lodash.isString(g)&&g=="#"?g=C:g!==k&&store.commit(CACHE.PUSH_CACHE,{key:p,value:k}),lodash.set(o,p,g),c.match(/schema/)&&lodash.set(o,`${l}.default`,getModel(g))}}}async function formatToggleInput(e,a,o,r,i=null,n=[]){const l=formatHelpers.getInputToFormat(e,a,o,i);if(!l)return;const s=e.shift()??"items.*.toggleValue";let u=e.shift()??"-1";u=parseInt(u)??-1;let{handlerName:c,handlerSchema:p,handlerValue:f}=formatHelpers.handlers(r,a,i);if(f==null)return;let m=formatHelpers.getNewValue(s,f,p);if(m!=null&&lodash.isBoolean(m)){let y=m;const v=__data_get(o,l);let g=`formatToggleInput:${l}`;handleToggleInput(y,l,v,o,g,u)}}const toggleActivateOperations={class:"d-none",rawRules:"#"},toggleDeactivateOperations={class:"d-none",rawRules:""},handleToggleInput=(e,a,o,r,i,n=-1,l=0)=>{l+=1,e?lodash.each(toggleActivateOperations,(s,u)=>{let c=a+"."+u,p=a+"._cached-"+u,f=i?`${i}:${u}`:`${u}`,m=lodash.get(r,c),y=store.getters[CACHE.GET_LAST_CACHE](f)||lodash.get(r,p)||null,v=m,g=!1;if(s==="#")y&&(v=y,g=!0);else switch(u){case"class":let b=m?m.split(" "):[];b=b.filter(k=>k!==s),v=b.join(" "),g=!0;break;case"rawRules":v=s,g=!0;break}g&&(y==null&&store.commit(CACHE.PUSH_CACHE,{key:f,value:m}),lodash.set(r,c,v))}):lodash.each(toggleDeactivateOperations,(s,u)=>{let c=a+"."+u,p=a+"._cached-"+u,f=i?`${i}:${u}`:`${u}`,m=lodash.get(r,c),y=store.getters[CACHE.GET_LAST_CACHE](f)||lodash.get(r,p)||null,v=m,g=!1;if(s==="#")y&&(v=y,g=!0);else switch(u){case"class":let b=m?m.split(" "):[];b.push(s),b=lodash.uniq(b),v=b.join(" "),g=!0;break;case"rawRules":v=s,g=!0;break}g&&(y==null&&store.commit(CACHE.PUSH_CACHE,{key:f,value:m}),lodash.set(r,c,v))}),!(n>-1&&n<=l)&&o.schema&&lodash.isObject(o.schema)&&lodash.each(o.schema,(s,u)=>{handleToggleInput(e,`${a}.schema.${u}`,s,r,i,n,l)})},FormEventFormatters={formatClearModel,formatFilter,formatLock,formatPermalink,formatPermalinkPrefix,formatPrependSchema,formatPreview,formatRemoveValue,formatResetItems,formatSet,formatToggleInput},nonRunEventsOnCreate=["formatClearModel"],setSchemaInputField=(e,a)=>{var o;for(const r in e){const i=e[r],n=i.cascadeKey??"items";if(i.type==="select"&&Object.prototype.hasOwnProperty.call(i,"cascade")){if(r.includes("repeater"))break;__isset(e[i.cascade])&&(e[i.cascade][n]=((o=lodash.find(i[n],[i.itemValue,a[i.name]]))==null?void 0:o[n])??[])}}},onInputEventFormData=(e,a,o,r,i)=>{var n;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const l=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,s=e.schema.cascadeKey??"items",u=e.schema.itemValue??"id";a[l][s]=((n=lodash.find(e.schema[s],[u,i[e.key]]))==null?void 0:n.schema)??[];const c=lodash.findIndex(r,["key",l]);o[l]=a[l][s].length>0?a[l][s][0].value:[],r[c].value=i[l],onInputEventFormData(r[c],a,o,r,i)}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")},handleInputEvents=(e=null,a,o,r=null)=>{const i=a,n=a[r],l=o[r],s=Array.isArray(n)&&n.length>0||!Array.isArray(n)&&!!n;return e&&e.split("|").forEach(c=>{var y;const[p,f,m]=c.split(":");switch(p){case"formatPermalink":s&&(i[f]=filters.slugify(n));break;case"formatPermalinkPrefix":if(["select","combobox"].includes(l.type)&&n&&s){const v=filters.slugify(l.items.find(g=>g[l.itemValue]===n)[l.itemTitle]);o[f??"slug"].prefix=o[f??"slug"].prefixFormat.replace(":"+m,v)}else if(["text"].includes(l.type)&&s){const v=filters.slugify(n),[g,b]=f.split(".");o[g].schema[b??"slug"].prefix=o[g].schema[b??"slug"].prefixFormat.replace(":"+m,v)}break;case"formatLock":if(["select","combobox"].includes(l.type)&&n){const v=(y=l.items.find(g=>g[l.itemValue]===n))==null?void 0:y[m];o[f].disabled=!!v,o[f].focused=!!v,o[f].placeHolder=v}else if(["text"].includes(l.type)&&n){const v=n,[g,b]=f.split(".");o[g].schema[b].disabled=!!v,o[g].schema[b].focused=!!v,o[g].schema[b].placeHolder=v}break}}),{_fields:i,moduleSchema:o}},handleEvents=(e,a,o,r=!1)=>{const i=o.name;a[i];const n=e[i];Array.isArray(n)&&n.length>0||Array.isArray(n),o.event&&lodash.uniq(o.event.split("|")).forEach(s=>{let u=s.split(":"),c=u.shift(),p=!0;nonRunEventsOnCreate.includes(c)&&!r&&(p=!1),p&&typeof FormEventFormatters[c]<"u"&&(FormEventFormatters==null||FormEventFormatters[c](u,e,a,o))})},handleMultiFormEvents=(e,a,o,r,i=[])=>{const n=o.name;a[r][n]??lodash.get(a,`[${r}].${n}`);const l=e[r][n]??lodash.get(e,`[${r}].${n}`);Array.isArray(l)&&l.length>0||Array.isArray(l),o.event&&lodash.uniq(o.event.split("|")).forEach(u=>{let c=u.split(":"),p=c.shift();typeof FormEventFormatters[p]<"u"&&(FormEventFormatters==null||FormEventFormatters[p](c,e,a,o,r,i))})},formEvents={setSchemaInputField,onInputEventFormData,handleInputEvents,handleEvents,handleMultiFormEvents},getNestedValue=(e,a)=>a.split(".").reduce((o,r)=>o&&o[r]!==void 0?o[r]:void 0,e),evaluateCondition=(e,a)=>{const[o,r,i]=e;let n=getNestedValue(a,o);switch([">","<",">=","<=","=","=="].includes(r)&&Array.isArray(n)&&(n=n.length),r){case"=":case"==":return n===i;case"!=":return n!==i;case">":return n>i;case"<":return n<i;case">=":return n>=i;case"<=":return n<=i;case"in":return Array.isArray(i)&&i.includes(n);case"not in":return Array.isArray(i)&&!i.includes(n);case"exists":return n!=null;case"not exists":return n==null;default:return console.warn(`Unknown operator: ${r}`),!1}},checkItemConditions=(e,a)=>!a||!window.__isObject(a)||!e?!0:window.__isObject(e)&&e.operator&&e.conditions?evaluateConditionGroup(e,a):!Array.isArray(e)||e.length===0?!0:evaluateConditionArray(e,a),evaluateConditionGroup=(e,a)=>{const{operator:o="and",conditions:r=[]}=e;if(!Array.isArray(r)||r.length===0)return!0;const i=r.map(n=>window.__isObject(n)&&n.operator&&n.conditions?evaluateConditionGroup(n,a):Array.isArray(n)?evaluateCondition(n,a):(console.warn("Invalid condition format:",n),!1));return o==="or"?i.some(Boolean):i.every(Boolean)},evaluateConditionArray=(e,a)=>{if(e.length===0)return!0;let o=null,r="and";for(let n=0;n<e.length;n++){const l=e[n];let s;if(window.__isObject(l)&&l.operator&&l.conditions)s=evaluateConditionGroup(l,a);else if(Array.isArray(l)){if(s=evaluateCondition(l,a),l.length>3&&["and","or"].includes(l[3]))var i=l[3]}else console.warn("Invalid condition format:",l),s=!1;if(o===null?o=s:r==="or"?o=o||s:o=o&&s,typeof i<"u"?(r=i,i=void 0):r="and",r==="and"&&!o)return!1;if(r==="or"&&o){let u=n+1;for(;u<e.length;){const c=e[u];if(Array.isArray(c)&&c.length>3&&c[3]==="and"||window.__isObject(c))break;u++}if(u>=e.length)return!0}}return o!==null?o:!0},isArrayable="input-treeview|treeview|input-checklist|input-repeater|input-file|input-image",getSchema=(e,a=null,o=!1)=>{let r=lodash.omitBy(e,(i,n)=>!checkItemConditions(i.conditions,a)||Object.prototype.hasOwnProperty.call(i,"slotable")||isFormEventInput(i)||isViewOnlyInput(i));return r=lodash.reduce(r,(i,n,l)=>{var f,m;let s=parseInt(l);!lodash.isNaN(s)&&n.name&&(l=n.name),n.col.class=n._originalClass||((f=n.col)==null?void 0:f.class)||[],n._originalClass=n.col.class||[],n.disabled=__isset(n._originalDisabled)?n._originalDisabled:__isset(n.disabled)?n.disabled:!1,n._originalDisabled=n.disabled;let u=((m=n.col)==null?void 0:m.class)||[];__isString(u)&&(u=u.split(" "));let c=n.creatable??!0,p=n.editable??!0;return(c===!1||c==="hidden")&&!o&&(c==="hidden"?(u=lodash.union(u,["d-none"]),n.col.class=u.join(" ")):n.disabled=!0),(p===!1||p==="hidden")&&o&&(p==="hidden"?(u=lodash.union(u,["d-none"]),n.col.class=u.join(" ")):n.disabled=!0),__isset(n)&&__isset(n.schema)&&["wrap","group","repeater","input-repeater"].includes(n.type)&&(n.schema=getSchema(n.schema,n.type==="wrap"?a:a[l],o)),n.creatable=c,n.editable=p,n.isEditing=o,i[l]=n,i},{}),lodash.map(r,(i,n)=>(__isset(i.type)&&i.type=="group"&&(i.schema=flattenGroupSchema(i.schema,i.name)),handleInputEvents(i.event,a,e,n),i)),r},getModel=(e,a=null,o=null)=>{const r=getTranslationLanguages(),i=__isset(a);e=processInputs(e);const n=Object.keys(e).reduce((l,s)=>{const u=e[s],c=u.name,p=Object.prototype.hasOwnProperty.call(u,"translated")&&u.translated;let f="";isArrayable.includes(u.type)&&(f=[]),f=Object.prototype.hasOwnProperty.call(u,"default")?u.default:f,u.type=="group"&&(f=getModel(u.schema,a??u.default)),p&&(f=lodash.reduce(r,function(v,g,b){return v[g]=f,v},{}));let m=c.replace(/->/g,"."),y=i?__isset(l[c])?l[c]:__data_get(a,m,f)??f:f;if(i){if(u.type=="group"&&__isset(a[c])){let v=Object.keys(lodash.omit(__dot(f),["id"]));JSON.stringify(v)!==JSON.stringify(Object.keys(lodash.omit(__dot(a[c]),["id"])))&&(y={...f,...lodash.pick(a[c],v)})}Object.prototype.hasOwnProperty.call(u,"connectedRelationship")&&lodash.isString(u.connectedRelationship)&&a&&__isset(a[u.connectedRelationship])&&(y=a[u.connectedRelationship])}if(__isObject(u))if(p)i?Object.prototype.hasOwnProperty.call(a,"translations")&&a.translations[c]?l[c]=r.reduce(function(g,b){return g[b]=lodash.find(a.translations,{locale:b})?lodash.find(a.translations,{locale:b})[c]:a.translations[c][b],g},{}):l[c]=y:l[c]=getTranslationLanguages().reduce(function(v,g){return v[g]=__isset(y[g])?y[g]:"",v},{});else if(!y&&i&&Object.prototype.hasOwnProperty.call(a,"translations")&&Object.prototype.hasOwnProperty.call(a.translations,c)){const v=Object.keys(a.translations[c])[0];l[c]=a.translations[c][v]}else l[c]=y;return u.type=="preview"&&__isset(u.previewKey)&&a&&__isset(a[u.previewKey])&&(l[c]=a[u.previewKey]),handleEvents(l,e,u),l},{});return i&&(n.id=a.id),n},getFormEventSchema=(e,a=null,o=!1)=>lodash.filter(e,r=>o&&__isset(r.editable)&&(r.editable===!1||r.editable==="hidden")||!o&&__isset(r.creatable)&&(r.creatable===!1||r.creatable==="hidden")?!1:isFormEventInput(r)&&(r.conditions?checkItemConditions(r.conditions,a):!0)),getSubmitFormData=(e,a=null,o=null)=>{e=processInputs(e);const r="input-treeview|treeview|input-checklist",i=Object.keys(e).reduce((n,l)=>{if(window.__isset(e[l].noSubmit)&&e[l].noSubmit)return n;const s=e[l],u=s.name,c=__data_get(a,u,void 0);if(!__isset(c)){let p=s.default??"";return r.includes(s.type)&&(p=[]),n[u]=p,n}return __isObject(s)&&(Object.prototype.hasOwnProperty.call(s,"translated")&&s.translated?n[u]=window.MODULARITY.STORE.languages.all.reduce(function(p,f){return __isObject(c)?p[f.value]=__isset(c[f.value])?c[f.value]:"":p[f.value]=c,p},{}):n[u]=a[u]),n},{});return a.id&&(i.id=a.id),i};function useTableItem(e,a){const o=useStore(),r=computed(()=>o.state.form.editedItem??{}),i=computed(()=>u(r.value)),n=computed(()=>c(r.value)),l=p=>{o.commit(FORM.SET_EDITED_ITEM,p)},s=()=>{nextTick(()=>{o.commit(FORM.RESET_EDITED_ITEM)})},u=p=>!!(__isset(p.deleted_at)&&p.deleted_at),c=p=>!!(__isset(p.deleted_at)&&p.deleted_at);return{editedItem:r,isSoftDeletableItem:i,itemIsDeleted:n,setEditedItem:l,resetEditedItem:s,isSoftDeletable:u,isDeleted:c}}const makeTableNamesProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},subtitle:{type:String,default:""},formTitle:{type:String},formCreateTitleTranslationKey:{type:String,default:"fields.new-item"},formEditTitleTranslationKey:{type:String,default:"fields.edit-item"},formCreateTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},formEditTitleInterpolations:{type:Object,default:()=>({item:"transNameSingular"})},createFormTitle:{type:String},editFormTitle:{type:String},formSubtitle:{type:String},formCreateSubtitle:{type:String},formEditSubtitle:{type:String}});function useTableNames(e,a){const o=useStore(),{t:r,te:i}=useI18n({useScope:"global"}),{editedItem:n,isSoftDeletableItem:l}=useTableItem(),s=useModule(e),u=computed(()=>r(`modules.${s.snakeName.value}`,o.getters.totalElements)),c=computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:s.transNamePlural.value)),p=computed(()=>__isset(e.subtitle)?r(e.subtitle):""),f=computed(()=>{let b=a.editedIndex.value!==-1,k=e.formCreateTitleTranslationKey;b&&(k=e.formEditTitleTranslationKey),__isset(e.createFormTitle)&&(k=e.createFormTitle),__isset(e.editFormTitle)&&(k=e.editFormTitle);let C=b?e.formEditTitleInterpolations:e.formCreateTitleInterpolations;for(let w in C){let V=C[w];C[w]=__isset(s[C[w]])?s[C[w]].value:__isset(n.value[C[w]])?n.value[C[w]]:V}return i(k)?r(k,C):k}),m=computed(()=>{let b=e.formSubtitle,k=a.editedIndex.value!==-1;return __isset(e.formCreateSubtitle)&&!k&&(b=e.formCreateSubtitle),__isset(e.formEditSubtitle)&&k&&(b=e.editFormSubtitle),i(b)?r(b):b}),y=computed(()=>{const b=l.value?"fields.confirm-soft-deletion":"fields.confirm-deletion",k=n.value[e.titleKey]?lodash.isObject(n.value[e.titleKey])?n.value[e.titleKey][o.state.user.locale]:n.value[e.titleKey]:"";return r(b,{route:s.transNameSingular.value,name:k.toLocaleUpperCase()})}),v=computed(()=>{const b=l.value?"confirm-soft-deletion-title":"confirm-deletion-title",k=i(`messages.${s.snakeName.value}.${b}`)?`messages.${s.snakeName.value}.${b}`:`fields.${b}`,C=n.value[e.titleKey]?lodash.isObject(n.value[e.titleKey])?n.value[e.titleKey][o.state.user.locale]:n.value[e.titleKey]:"";return r(k,{route:s.transNameSingular.value,name:C.toLocaleUpperCase()})}),g=computed(()=>{const b=l.value?"confirm-soft-deletion-description":"confirm-deletion-description",k=i(`messages.${s.snakeName.value}.${b}`)?`messages.${s.snakeName.value}.${b}`:`fields.${b}`,C=n.value[e.titleKey]?lodash.isObject(n.value[e.titleKey])?n.value[e.titleKey][o.state.user.locale]:n.value[e.titleKey]:"";return r(k,{route:s.transNameSingular.value,name:C.toLocaleUpperCase()})});return{snakeName:s.snakeName,permissionName:s.permissionName,transNameSingular:s.transNameSingular,transNamePlural:s.transNamePlural,transNameCountable:u,tableTitle:c,tableSubtitle:p,deleteQuestion:y,deleteDialogTitle:v,deleteDialogDescription:g,formTitle:f,formSubtitle:m}}const makeTableFiltersProps=propsFactory({hideSearchField:{type:Boolean,default:!1},navActive:{type:String,default:"all"},filterBtnOptions:{type:Object,default:{}},searchInitialValue:{type:String,default:""},filterList:{type:Array,default:[]},filterListAdvanced:{type:Object,default:{}},hideFilters:{type:Boolean,default:!1},hideAdvancedFilters:{type:Boolean,default:!1},showMobileHeaders:{type:Boolean,default:!1}});function useTableFilters(e){var k;const{lastParameters:a,queryParameters:o}=useTableState(),r=ref(a.search??e.searchInitialValue??""),i=ref(r.value),n=ref(e.filterList??[]);let l=((k=a.filter)==null?void 0:k.status)??e.navActive??"all";n.value.length>0&&!lodash.find(n.value,{slug:l})&&(l="all");const s=ref(l),u=computed(()=>lodash.find(n.value,{slug:s.value})),c=computed(()=>{var C,w;return{text:`${(C=u.value)==null?void 0:C.name} (${(w=u.value)==null?void 0:w.number})`}}),p=C=>{let w=C??i.value;return r.value!==w?(r.value=w,!0):!1},f=C=>s.value!==C?(s.value=C,!0):!1,m=C=>{n.value=C},y=C=>{lodash.isEqual(v.value,C)||(v.value=C)},v=ref(e.filterListAdvanced??{}),g=computed(()=>Object.keys(v.value).reduce((C,w,V)=>(v.value[w].reduce((T,S)=>{var A;return((A=S.selecteds)==null?void 0:A.length)>0&&(T[w]||(T[w]={}),T[w][S.slug]=S.selecteds),T},C),C),{}));return{activeFilterSlug:s,activeFilter:u,mainFilters:n,search:r,searchModel:i,activeAdvancedFilters:g,advancedFilters:v,filterBtnTitle:c,setSearchValue:p,setFilterSlug:f,setMainFilters:m,setAdvancedFilters:y,clearAdvancedFilter:()=>{v.value=Object.fromEntries(Object.entries(v.value).map(([C,w])=>(v.value[C]=[],w.map(V=>V.selecteds=[]),[C,w])))}}}const makeTableHeadersProps=propsFactory({columns:{type:Array,default:()=>[]},hideHeaders:{type:Boolean,default:!1},headerOptions:{type:[Array,Object],default:{}},cellOptions:{type:[Array,Object],default:{}},customRow:{type:Object,default:{}}});function useTableHeaders(e){const a=()=>`table_unvisible_columns_${window.location.pathname}`,o=()=>{const v=localStorage.getItem(a());return v?v.split(","):[]},r=v=>{const g=s.value.findIndex(k=>k.key===v);s.value[g].visible=!1;const b=s.value.filter((k,C)=>!k.visible).map(k=>k.key);localStorage.setItem(a(),b.join(",")),l.value=lodash.cloneDeep(s.value.filter(k=>k.visible))};let i=o();const n=e.columns??[],l=ref(n.filter(v=>!i.includes(v.key))),s=ref(lodash.cloneDeep(n.map(v=>({...v,visible:!i.includes(v.key)})))),u=ref(!!lodash.find(l.value,v=>window.__isset(v.searchable)&&v.searchable===!0)),c=computed(()=>l.value.filter(v=>!!v.visible&&v.visible===!0)),p=computed(()=>Object.keys(e.customRow||{}).length>0),f=computed(()=>e.hideHeaders||p.value),m=computed(()=>n.filter(v=>v.hasOwnProperty("columnEditable")&&v.columnEditable===!0||v.hasOwnProperty("removable")&&v.removable===!0||v.hasOwnProperty("searchable")&&v.searchable===!0));return{headers:l,headersModel:s,hasSearchableHeader:u,selectedHeaders:c,hideHeaders:f,hasCustomRow:p,formattableHeaders:m,removeHeader:r,applyHeaders:()=>{l.value=lodash.cloneDeep(s.value);const v=s.value.filter((g,b)=>!g.visible);localStorage.setItem(a(),v.map(g=>g.key).join(","))}}}const makeTableFormsProps=propsFactory({inputFields:{type:Array,default:()=>[]},formWidth:{type:[String,Number],default:"60%"},createOnModal:{type:Boolean,default:!0},editOnModal:{type:Boolean,default:!0},embeddedForm:{type:Boolean,default:!1},addBtnOptions:{type:Object,default:()=>({})},noForm:{type:Boolean,default:!1},formActions:{type:[Array,Object],default:[]}});function useTableForms(e,a){const o=useStore(),{t:r}=useI18n({useScope:"global"}),{setEditedItem:i,resetEditedItem:n,editedItem:l}=useTableItem(),s=ref(null),u=ref(!1),c=ref(!1),p=ref({}),f=ref({}),m=ref({}),y=ref({}),v=reactive({UeForm:s,formActive:u,customFormModalActive:c,customFormModalAttributes:p,customFormAttributes:f,customFormSchema:m,customFormModel:y}),g=computed(()=>e.inputFields??o.state.datatable.inputs??[]),b=computed(()=>state.id+"-form"),k=computed(()=>({width:e.formWidth})),C=computed(()=>o.state.form.loading??!1),w=computed(()=>o.state.form.errors??{}),V=computed(()=>{var N;return((N=s.value)==null?void 0:N.validModel)??null}),T=computed(()=>e.createOnModal||e.editOnModal?e.addBtnOptions.text?r(e.addBtnOptions.text):r("fields.add-item",{item:a.transNameSingular.value}):e.addBtnOptions.text??r("ADD NEW")),S=()=>{u.value=!0},A=()=>{u.value=!1},D=()=>{n(),S()},P=N=>{Object.prototype.hasOwnProperty.call(N,"variant")&&N.variant.toLowerCase()==="success"&&(A(),a.loadItems())};return watch$1(()=>u.value,N=>{N||n()}),{...toRefs(v),inputs:g,formRef:b,formStyles:k,formLoading:C,formErrors:w,formIsValid:V,addBtnTitle:T,openForm:S,closeForm:A,createForm:D,handleFormSubmission:P}}const component$1="FORM",api$1={get(e,a,o){axios$1.get(e).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component$1,{message:"Get request error.",value:r}),o&&typeof o=="function"&&o(r)})},post(e,a,o,r){axios$1.post(e,a,{validateStatus:i=>i>=200&&i<300||i===422}).then(function(i){o&&typeof o=="function"&&o(i)}).catch(function(i){globalError$1(component$1,{message:"Post request error.",value:i}),r&&typeof r=="function"&&r(i.response)})},put(e,a,o,r){axios$1.put(e,a,{validateStatus:i=>i>=200&&i<300||i===422}).then(function(i){o&&typeof o=="function"&&o(i)}).catch(function(i){globalError$1(component$1,{message:"Put request error.",value:i}),r&&typeof r=="function"&&r(i.response)})}};function useGenerate(e,a){const{smAndUp:o}=useDisplay(),r=computed(()=>{if(!e)return{};const n=i(e),l=n.icon||n.prependIcon||n.appendIcon||e.icon||e.prependIcon||e.appendIcon;return{...n,icon:l&&!o.value?l:n.icon,density:l&&!o.value?"compact":e.density??"comfortable",rounded:o.value?n.rounded:!0}}),i=n=>{var s;let l={};return n.href&&(l.onClick=u=>{u.preventDefault(),window.open(n.href,n.target??"_blank")}),{...n.componentProps??{},...l,icon:n.forceLabel?null:n.icon,text:n.forceLabel?n.label:null,color:n.color,variant:n.variant,density:n.density??"comfortable",size:n.size??"default",disabled:n.disabled??((s=n.componentProps)==null?void 0:s.disabled)??!1,rounded:n.forceLabel?null:!0}};return{generateButtonProps:i,generatedButtonProps:r}}const makeTableItemActionsProps=propsFactory({isRowEditing:Boolean,hideMobileActions:{type:Boolean,default:!1},rowActionsIcon:{type:String,default:"mdi-cog-outline"},rowActions:{type:[Array,Object],default:()=>[]},rowActionsType:{type:String,default:"inline"},iteratorType:{type:String,default:""}});function useTableItemActions(e,{tableForms:a,loadItems:o}){const r=useStore(),i=useTableItem(),n=useTableNames(e),{can:l}=useAuthorization(),s=useDynamicModal(),{castObjectAttributes:u}=useCastAttributes();useGenerate();const{xs:c,smAndDown:p,mdAndDown:f,lgAndDown:m,xlAndDown:y}=useDisplay(),v=reactive({event:null,payload:null,reset:()=>{v.event=null,v.payload=null}}),g=(B,O)=>{let M=!0;switch(O.name){case"edit":case"delete":case"switch":case"duplicate":case"activate":M=!i.isDeleted(B)&&l(O.name,n.permissionName.value);break;case"forceDelete":case"restore":M=i.isDeleted(B)&&l(O.name,n.permissionName.value);break}return M&&checkItemConditions(O.conditions,B)&&checkItemConditions(O.userConditions??[],r.getters.userProfile)},b=async(B,O)=>{let M=O.url??O.endpoint??O.href;if(M)if(M.includes(":id")&&(M=M.replace(":id",B.id)),O.hasDialog){const L=async(R,G)=>{window.open(M,O.target??"_self")};v.event="dialog",v.payload={description:O.dialogQuestion??null,callback:L}}else window.open(M,O.target??"_self");O.modalService&&lodash.isObject(O.modalService)&&s.open(O.modalService.component??null,lodash.omit(u(O.modalService,B),["component"]))},k=B=>{if(e.editOnModal||e.embeddedForm)i.setEditedItem(B),a.openForm();else if(lodash.isObject(e.endpoints)&&e.endpoints.edit){const O=e.endpoints.edit.replace(":id",B.id);window.open(O)}else console.error("No edit endpoint found in endpoints of props")},C=B=>{i.setEditedItem(B);const O="restore",M=async(L,R)=>await api$2[O](e.endpoints[O],B.id,L,R);v.event="process",v.payload={type:O,item:B,callback:M}},w=B=>{i.setEditedItem(lodash.omit(B,"id")),a.openForm()},V=(B,O,M)=>{const L="publish",R=async(G,x)=>{let U={id:B.id,[M]:O};return await api$1.put(e.endpoints.update.replace(":id",B.id),U,G,x)};B[M]=O,v.event="process",v.payload={type:L,item:B,callback:R}},T=B=>{i.setEditedItem(B);let O=i.editedItem.value.id,M=i.isSoftDeletableItem.value?"forceDelete":"delete";const L=async(R,G)=>M==="forceDelete"?await api$2.forceDelete(e.endpoints.forceDelete,O,R,G):await api$2.delete(e.endpoints.destroy,O,R,G);v.event="dialog",v.payload={type:M,id:O,callback:L}},S=B=>{const O=B.name,M=async(L,R,G)=>{let x=lodash.camelCase(O);if(api$2[x])return await api$2[x](e.endpoints[x],L,R,G)};v.event="dialog",v.payload={type:O,callback:M}},A=(B,O)=>{if(a.customFormSchema.value=lodash.cloneDeep(B.form.attributes.schema),a.customFormAttributes.value=lodash.cloneDeep(B.form.attributes),B.form.hasOwnProperty("model_formatter"))for(let M in B.form.model_formatter){let L=lodash.get(O,B.form.model_formatter[M],"");lodash.set(a.customFormModel.value,M,L)}if(B.form.hasOwnProperty("schema_formatter"))for(let M in B.form.schema_formatter){let L=lodash.get(O,B.form.schema_formatter[M],"");lodash.set(a.customFormAttributes.value.schema,M,L)}B.hasOwnProperty("modalAttributes")?a.customFormModalAttributes.value=lodash.cloneDeep(B.modalAttributes):a.customFormModalAttributes.value={},a.customFormModalActive.value=!0,v.event="showCustomForm",v.payload={action:B,item:O}},D=(B,O=null)=>{if(!O)return B;if(Array.isArray(B))B=B.map(M=>D(M,O));else if(__isObject(B)){if(Array.isArray(O))O.forEach(M=>{__data_get(B,M,null)});else if(__isObject(O)){let M={};Object.keys(O).forEach(L=>{let R=O[L],G=__data_get(B,L,null);M[R]=G}),B=lodash.cloneDeep(M)}}return B},P=(B,O=null)=>{if(!O)return B;if(Array.isArray(B))B=B.map(M=>P(M,O));else if(__isObject(B)&&Array.isArray(O)){let M=lodash.cloneDeep(B);O.forEach(L=>{__data_get(B,L,null),delete M[L]}),B=lodash.cloneDeep(M)}return B},N=(B,O)=>{let M=null;B.show===!0?M=O:M=__data_get(O,B.show,null),M&&(B.only?M=D(M,B==null?void 0:B.only):B.except&&(M=P(M,B==null?void 0:B.except)),v.event="showData",v.payload={action:B,data:M})},$=(B,O)=>{let M=null,L=null,R=null;if(lodash.isArray(B)?(M=B[0],L=B[1]):lodash.isObject(B)&&(M=B.type,L=B.payload,R=B.conditions),!!checkItemConditions(R,O)){if(M==="post")e.endpoints.store;else if(M==="put"&&e.endpoints.update&&O&&O.id)return api$1.put(e.endpoints.update.replace(":id",O.id),u(L,O),function(G){G.status===200&&G.data.variant==="success"&&o()},function(G){console.error(G)})}},F=(B,O)=>{B.preProcesses&&B.preProcesses.forEach(M=>{$(M,O)})},E=(B=null,O=null,...M)=>{const L=__isString(O)?{name:O}:O;switch(F(L,B),L.name){case"edit":k(B);break;case"delete":case"forceDelete":T(B);break;case"restore":C(B);break;case"duplicate":w(B);break;case"link":let R=B.target??L.target??"_blank";["_self","_blank","_parent","_top"].includes(R)||(R="_blank");let G=B.href??(L.url?L.url.replace(":id",B.id):e.endpoints.show?e.endpoints.show.replace(":id",B.id):null);if(!G){console.error("No link found in item or action",B,L);return}window.open(G,R);break;case"switch":V(B,M[0],M[1]);break;case"activate":state.activeTableItem=lodash.find(state.elements,{id:B.id});break;case"bulkDelete":case"bulkForceDelete":case"bulkRestore":case"bulkPublish":S(L);break;default:b(B,L);break}L.form&&A(L,B),L.show&&N(L,B)},z=reactive({actionShowingType:computed(()=>{const B=M=>M>6?y.value:M>5?m.value:M>4?f.value:M>3?p.value:M>2?c.value:!1;let O=0;return lodash.isArray(e.rowActions)?O=e.rowActions.length:lodash.isObject(e.rowActions)&&(O=Object.keys(e.rowActions).length),e.rowActionsType==="dropdown"||B(O)?"dropdown":"inline"}),visibleRowActions:computed(()=>{let B=e.rowActions;return lodash.isObject(e.rowActions)&&!lodash.isArray(e.rowActions)&&(B=Object.values(e.rowActions)),B.reduce((O,M)=>{if(Object.prototype.hasOwnProperty.call(M,"href"))return console.error("href is not supported in row actions",M),O;let L="v-icon",R={},G=!0,x=M.icon?M.icon:"$"+M.name,U=M.iconColor??M.color??"primary";return __isset(M.is)&&M.is==="v-btn"?(L="v-btn",G=!1,R={variant:"plain",class:"pa-0 ma-2",...M.componentProps??{},color:M.color},M.icon&&(R.prependIcon=M.icon)):R={small:!0,class:"mr-2",...M.componentProps??{},color:M.color??"grey-darken-2"},M.componentProps=R,M.label=M.label??window.__headline(M.name),O.push({...M,is:L,icon:x,iconColor:U,hasTooltip:G}),O},[])})});return{...toRefs(z),itemAction:E,itemHasAction:g,actionEvents:v}}const makeTableModalsProps=propsFactory({openCustomModal:{type:Boolean,default:!1}});function useTableModals(e,a){const o=useStore(),{t:r}=useI18n({useScope:"global"}),i=useTableItem(),n=useTableNames(e),l=ref(!1),s=ref(e.openCustomModal),u=ref(!1),c=ref("custom"),p=ref(null),f=ref(null),m=computed(()=>V.value[c.value]),y=()=>{s.value=!0},v=()=>{s.value=!1},g=()=>{o._state.data.datatable.customModal&&__removeQueryParams(["customModal[description]","customModal[color]","customModal[icon]","customModal[hideModalCancel]"])},b=T=>{c.value=T},k=()=>{V.custom.confirmText="",V.custom.cancelText="",V.custom.img="",V.custom.icon="",V.custom.iconSize=null,V.custom.title="",V.custom.color=""},C=async T=>{const S=lodash.camelCase(T.name);api$2[S]&&api$2[S](e.endpoints[S],i.editedItem.value.id,()=>{})},w=computed(()=>{var T;return r("confirm-action",{route:n.transNameSingular.value,action:r(((T=p.value)==null?void 0:T.name)??"")})}),V=ref({dialog:{ref:ref(null),active:!1,modalAttributes:{title:null,description:null,transition:"dialog-bottom-transition",widthType:"md",fullscreen:!1,persistent:!1,confirmText:r("Confirm"),cancelText:r("Cancel"),confirmClosing:!1,rejectClosing:!0,confirmCallback:null,rejectCallback:null},_oldModalAttributes:{},toggle(T=null){this.active=T??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},setConfirmCallback(T){T&&typeof T=="function"&&(this._oldModalAttributes.confirmCallback=this.modalAttributes.confirmCallback,this.modalAttributes.confirmCallback=T)},setRejectCallback(T){T&&typeof T=="function"&&(this._oldModalAttributes.rejectCallback=this.modalAttributes.rejectCallback,this.modalAttributes.rejectCallback=T)},setQuestion(T){this._oldModalAttributes.description=this.modalAttributes.description,this.modalAttributes.description=T},setTitle(T){this._oldModalAttributes.title=this.modalAttributes.title,this.modalAttributes.title=T},set(T){let S=Object.keys(T).reduce((D,P)=>(D[P]=T[P],D),{}),A=lodash.reduce(S,(D,P,N)=>{var $;return D[N]=P,($=this._oldModalAttributes)[N]??($[N]=lodash.cloneDeep(this.modalAttributes[N])),D},{});Object.assign(this.modalAttributes,A)},reset(){const T=this;lodash.each(this._oldModalAttributes,(S,A)=>{T.modalAttributes[A]=S}),this._oldModalAttributes={}}},custom:{content:computed(()=>o._state.data.datatable.customModal.description),confirmText:"Done",cancelText:" ",img:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-1024.png",icon:computed(()=>o._state.data.datatable.customModal.icon),iconSize:72,title:"Payment Complete",color:"success",closeAction(){v(),k()},confirmAction(){v(),k()}},show:{ref:ref(null),active:!1,data:null,transition:"dialog-bottom-transition",widthType:"lg",fullscreen:!1,persistent:!1,title:r("Display Details"),confirmText:r("Confirm"),cancelText:r("Cancel"),_old:{},toggle(T=null){this.active=T??!this.active},close(){this.toggle(!1)},open(){this.toggle(!0)},set(T){let S=Object.keys(T).reduce((D,P)=>(this[P]!==void 0&&!["active","ref","data","_old"].includes(P)&&(D[P]=T[P]),D),{}),A=lodash.reduce(S,(D,P,N)=>(D[N]=P,this._old[N]=lodash.cloneDeep(this[N]),D),{});Object.assign(this,A)},loadData(T){this.data=T},resetData(){this.data=null},cancel(){this.toggle(!1),this.reset()},confirm(){},reset(){this.resetData(),lodash.each(this._old,(T,S)=>{this[S]=T}),this._old={}}}});return watch$1(()=>V.value.show.active,T=>{T||V.value.show.reset()}),onMounted(()=>{g()}),{deleteModalActive:l,customModalActive:s,actionModalActive:u,selectedAction:p,deleteModal:f,activeModal:m,modals:V,actionDialogQuestion:w,openCustomModal:y,closeCustomModal:v,cleanupModals:g,setModalType:b,bulkAction:C}}const makeTableIteratorProps=propsFactory({name:{type:String,default:""},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},item:{type:Object,default:{}},headers:{type:Object,default:{}},iteratorOptions:{type:Object,default:{}},rowActions:{type:Array,default:[]}}),tableIterableEmits=["click-action","edit-item"];function useTableIterator(e,a){const{itemHasAction:o}=useTableItemActions(e,a),r=reactive({id:Math.ceil(Math.random()*1e6)+" -iterator",headersWithKeys:computed(()=>{let l={};return Object.values(e.headers).forEach((s,u)=>{l[s.key]=s}),l})}),i=useFormatter(e,a,e.headers),n=reactive({canItemAction:function(l){return __isset(l.can)&&l.can,!0},isSoftDeletable(l){return!!(__isset(l.deleted_at)&&l.deleted_at)},itemAction:(l,s)=>a.emit("click-action",l,s),editItem:l=>{a.emit("edit-item",l)}});return{...toRefs(n),...toRefs(r),...i,itemHasAction:o}}const makeTableActionsProps=propsFactory({actionsPosition:{type:String,default:"top"},actions:{type:Array,default:()=>[]}});function useTableActions(e,a){return{}}function useTableState(e,a){const r=`table_filters_${window.location.pathname}`,i=["id","page","itemsPerPage","sortBy","groupBy","filter","replaceUrl"],n=["page","itemsPerPage","sortBy","groupBy","filter"],l=()=>{const p=new URL(window.location.href),f=Object.fromEntries(p.searchParams.entries());return Object.keys(f).forEach(m=>{const y=f[m];try{f[m]=JSON.parse(y)}catch{f[m]=y}}),f},s=()=>{const p=localStorage.getItem(r),f=l();return{...p?JSON.parse(p):{},...f}},u=p=>{const f=new URL(window.location.href),m=Object.fromEntries(f.searchParams.entries());let y=[];Object.keys(p).forEach(v=>{Object.prototype.hasOwnProperty.call(m,v)&&i.includes(v)&&y.push(v)}),y.length>0&&removeQueryKeys(y),localStorage.setItem(r,JSON.stringify(lodashExports.pick(p,n)))},c=reactive({lastParameters:s(),queryParameters:l()});return{getQueryParameters:l,getLastParameters:s,setLastParameters:u,...c}}const makeTableProps=propsFactory({elevation:{type:[Number,String]},rounded:{type:[Boolean,String]},tableElevation:{type:[Number,String]},tableRounded:{type:[Boolean,String]},fillHeight:{type:Boolean,default:!1},items:{type:Array},total:{type:Number,default:null},hideFooter:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!1},defaultTableOptions:{type:Object,default:()=>({itemsPerPage:10,page:1,search:"",sortBy:[],groupBy:[]})},itemsPerPageOptions:{type:Array,default:()=>[{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"50",value:50},{title:"100",value:100}]},tableOptions:{type:Object},tableClasses:{type:[String,Array],default:""},iteratorType:{type:String,default:""},slots:{type:Object,default(){return{}}},nestedData:{type:Object,default(){return{}}},striped:Boolean,hideBorderRow:Boolean,roundedRows:Boolean,fullWidthWrapper:{type:Boolean,default:!1},noFullScreen:{type:Boolean,default:!1},tableDensity:{type:String,default:"comfortable"},toolbarOptions:{type:Object,default:{}},bulkActions:{type:[Array,Object],default:[]},paginationOptions:{type:[Array,Object],default:{}},formAttributes:{type:Object,default:{}},formModalAttributes:{type:Object,default:{}},showSelect:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},controlsPosition:{type:String,default:"top"},disableSort:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!0},multiSort:{type:Boolean,default:!1},isModuleTable:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},noFetch:{type:Boolean,default:!1},isClickableRows:{type:Boolean,default:!1},clickableItemAttribute:{type:String,default:"href"},mobileBreakpoint:{type:[String,Number],default:"sm"}});function useTable(e,a){const o=useStore(),{smAndDown:r}=useDisplay(),{t:i,te:n,tm:l}=useI18n({useScope:"global"}),s=ref(-1);let u=ref(e.items??[]);const c=computed(()=>e.endpoints.index.replace(/\/$/,"").split("?")[0]===window.location.href.replace(/\/$/,"").split("?")[0]),{setLastParameters:p,lastParameters:f,getQueryParameters:m}=useTableState(),y=ref(null),v=ref(!1),g=ref(lodash.pick({...e.defaultTableOptions??{},...e.tableOptions??{},...c.value?f:{}},["itemsPerPage","page","sortBy","groupBy","search"]));watch$1(()=>r.value,(L,R)=>{L&&(g.value.itemsPerPage=Math.min(...e.itemsPerPageOptions.map(G=>G.value)))});const b=ref(e.total??-1),k=computed(()=>Math.ceil(b.value/(g.value.itemsPerPage??10))),C=L=>{u.value=L},w=L=>{u.value=u.value.push(L)},V=ref(!1),T=(L,R={})=>{b.value=L.resource.total,P.setMainFilters(L.mainFilters),B.options.page!==L.resource.current_page&&(V.value=!0,B.options.page=L.resource.current_page),B.enableInfiniteScroll?w(L.resource.data):C(L.resource.data),R.id&&z(R.id)},S=async(L=null)=>{if(e.noFetch)return;B.loading=!0;const R={...g.value,...L??{},replaceUrl:!1};if(P.search.value!==""&&(R.search=P.search.value),P.activeFilterSlug.value!=="all"&&(R.filter={...R.filter??{},status:P.activeFilterSlug.value}),lodash.isEmpty(P.activeAdvancedFilters.value)||(R.filter={...R.filter??{},...P.activeAdvancedFilters.value}),lodash.isObject(e.endpoints)&&e.endpoints.index){const G=m();await api$2.get(e.endpoints.index,R,function(x){c.value&&p(R),T(x,G),B.loading=!1},function(x){B.loading=!1,console.error(x)})}else console.error("No index endpoint found in endpoints of props")},A=useTableItem(),D=useTableNames(e,{editedIndex:s}),P=useTableFilters(e),N=useTableHeaders(e),$=useTableForms(e,{...a,...D,loadItems:S}),F=useTableModals(e),E=useTableItemActions(e,{...a,tableForms:$,loadItems:S}),z=L=>{const R=B.elements.find(G=>G.id==L);R&&E.itemAction(R,"edit")},B=reactive({id:Math.ceil(Math.random()*1e6)+"-table",isStoreTable:c,hideTable:!1,searchPlaceholder:i("Type to Search"),fillHeight:computed(()=>e.fillHeight),enableCustomFooter:computed(()=>e.paginationOptions.footerComponent==="vuePagination"),footerProps:computed(()=>{const L=e.paginationOptions.footerProps;return B.enableInfiniteScroll?{"hide-default-footer":!0}:L}),defaultPaginationButtonProps:{elevation:1,color:"grey-darken-5",class:"bg-surface",variant:"text",density:"compact",size:"small"},windowSize:{x:0,y:0},mobileTableLayout:computed(()=>r.value),loading:v,totalNumberOfElements:b,totalNumberOfPages:k,availablePages:computed(()=>Array.from({length:k.value},(L,R)=>R+1)),options:g,elements:u,editedIndex:s,selectedItems:[],activeTableItem:null,activeItemConfiguration:null,enableInfiniteScroll:computed(()=>e.paginationOptions.footerComponent==="infiniteScroll"&&b.value>u.value.length),draggableItems:computed(()=>B.elements.reduce((R,G,x)=>{const U={type:"item",key:x+1,value:G.id,index:x,selectable:e.showSelect,columns:N.headers.value.reduce((I,j)=>(I[j.key]=G[j.key],I),{})};return R[x]=U,R},[]))}),O=reactive({onResize(){e.noFullScreen||(B.windowSize={x:window.innerWidth,y:window.innerHeight})},onIntersect(L,R,G){L&&R[0].intersectionRatio===1&&O.goNextPage()},initialize:function(){const L=m(),R=lodash.pick(L,["id"]);e.noFetch||S(R)},goNextPage(){B.options.page<numberOfPages.value&&(B.options.page+=1)},goPreviousPage(){B.options.page>1&&(B.options.page-=1)},changeOptions(L){lodash.isEqual(L,B.options)||(B.options=L)},setEditedItem:A.setEditedItem,resetEditedItem:A.resetEditedItem,sortElements(L){lodash.isObject(e.endpoints)&&e.endpoints.reorder?api$2.reorder(e.endpoints.reorder,L.map(R=>R.id),function(R){R.status===200&&(L.forEach((G,x)=>G.position=x+1),B.elements=L)}):console.error("No reorder endpoint found in endpoints of props")},hydrateNestedData:function(L,R){const G=/\$([A-Za-z]+)/;for(const x in R)if(__isString(R[x])){const U=R[x].match(G);if(U){const I=U[1];B.snakeName===I?(R[x]=getSubmitFormData(R.schema,L,o.state),R.actionUrl&&(R.actionUrl=R.actionUrl.replace(`:${I}`,R[x].id))):L[I]&&(R[x]=getSubmitFormData(R.schema,L[I],o.state),R.actionUrl&&(R.actionUrl=R.actionUrl.replace(`:${I}`,R[x].id)))}}else(Array.isArray(R[x])||lodash.isObject(R[x]))&&(R[x]=O.hydrateNestedData(L,R[x]));return R},searchItems(L){P.setSearchValue()&&S()},changeFilter(L){P.setFilterSlug(L)&&(g.value.page=1,S())},changeAdvancedFilter(L){g.value.page=1,S()},resetAdvancedFilter(){P.clearAdvancedFilter(),g.value.page=1,S()},handleFormActionComplete(L){const R=L.action;L.response,R.type==="request"&&S(),R.type==="modal"&&S()}});watch$1(()=>A.editedItem.value,(L,R)=>{B.editedIndex=B.elements.findIndex(G=>G.id===L.id)}),watch$1(()=>B.activeTableItem,(L,R)=>{L&&(B.activeItemConfiguration=O.hydrateNestedData(L,JSON.parse(JSON.stringify(e.nestedData))))},{deep:!0}),watch$1(()=>B.options,(L,R)=>{V.value?V.value=!1:S()},{deep:!0}),watch$1(()=>B.elements,(L,R)=>{if(B.editedIndex>-1){let G=L[B.editedIndex];A.setEditedItem(G)}},{deep:!0}),watch$1(()=>E.actionEvents.event,L=>{if(L){const R=E.actionEvents.payload;let G=[],x=!1,U=!1,I=!1,j=!0;switch(L){case"dialog":if(R.callback&&typeof R.callback=="function"){x=F.modals.value.dialog;const q={confirmClosing:!1};switch(R.type){case"delete":case"forceDelete":q.description=D.deleteDialogDescription.value,q.title=D.deleteDialogTitle.value,q.titleJustify="center";break;case"bulkPublish":case"bulkDelete":case"bulkRestore":case"bulkDestroy":G.push(B.selectedItems);const W=`fields.confirm-${lodash.kebabCase(R.type)}`;q.description=i(W,{count:B.selectedItems.length,route:D.transNamePlural.value});break;default:q.description=R.description??i("Are you sure you want to perform this action?");break}F.modals.value.dialog.set(q)}break;case"process":R.callback&&typeof R.callback=="function"&&(U=!0),R.type==="publish"&&(j=!1,I=!0);break;case"showCustomForm":$.customFormModalActive.value=!0;break;case"showData":F.modals.value.show.loadData(R.data),F.modals.value.show.set(R.action),F.modals.value.show.open();break}let K=q=>{if(q.status===200){if(q.data.variant&&q.data.message&&o.dispatch(ACTIONS.SHOW_ALERT,q.data),S(),x)try{x.close(),x.reset()}catch{}j&&(A.resetEditedItem(),B.selectedItems=[]),I&&R.item&&A.setEditedItem(R.item)}};U&&(G.push(K),R.callback(...G)),x&&(G.push(K),x.setConfirmCallback(()=>R.callback(...G)),x.open()),E.actionEvents.reset()}},{immediate:!0});const M=useFormatter(e,a,N.selectedHeaders);return{form:y,...useTableActions(),...toRefs(B),...toRefs(O),...D,...P,...N,...$,...E,...F,...M}}const makeModelValueProps=propsFactory({modelValue:[String,Number,Object,Boolean]}),makeActiveTableItemProps=propsFactory({...makeModelValueProps(),tableHeaders:{type:Array,default:[]},itemData:{type:Object,default(){return{}}}});function useActiveTableItem(e,a){const o=useProxiedModel(e,"modelValue"),r=computed({get:()=>o.value,set:l=>{o.value=l}}),i=reactive({modalOpened:!1,modalActive:!1,modalStatus:computed(()=>i.modalOpened&&!!r.value),activeKey:null,activeBlock:computed(()=>i.activeKey?e.itemData[i.activeKey]:null),items:computed(()=>r.value?[r.value]:[])}),n=reactive({selectNested:function(l){i.activeKey=l,a.emit("toggle",!0)},clickOutside:function(l){r.value=null,i.activeKey=null},closeItemDetails:function(l=""){i.modalActive=!0,i.activeKey=null,a.emit("toggle",!1)}});return watch$1(()=>r.value,(l,s)=>{i.modalActive=!!l&&l!==s}),watch$1(()=>i.activeKey,(l,s)=>{l&&(i.modalActive=!1)}),watch$1(()=>e.itemData,(l,s)=>{}),{item:r,...toRefs(i),...toRefs(n)}}function useValidation(e){const{valid:a}=toRefs(e),o=reactive({validModel:(a==null?void 0:a.value)??null}),r=reactive({minRule:(u,c)=>p=>!!p&&p.length>=u||c||`min. ${u} ${Array.isArray(p)?"Selections":"Characters"}`,maxRule:(u,c)=>p=>!p||p.length<=u||c||`max. ${u} ${Array.isArray(p)?"Selections":"Characters"}`,emailRule:(u={},c)=>p=>{if(!p)return!0;const{allowedDomains:f=[],blockedDomains:m=[],allowSubdomains:y=!0,minLength:v=3,maxLength:g=254,strict:b=!1}=u;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p))return c||"Invalid email format";if(b&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(p))return c||"Email contains invalid characters";const[C,w]=p.split("@");if(C.length<v)return c||`Email username must be at least ${v} characters`;if(p.length>g)return c||`Email cannot exceed ${g} characters`;if(f.length>0){const S=w.toLowerCase();if(!f.some(D=>y?S.endsWith(D.toLowerCase()):S===D.toLowerCase()))return c||`Email domain must be one of: ${f.join(", ")}`}if(m.length>0){const S=w.toLowerCase();if(m.some(D=>y?S.endsWith(D.toLowerCase()):S===D.toLowerCase()))return c||"Email domain not allowed"}const V={gmial:"gmail",gmal:"gmail",gamil:"gmail",yaho:"yahoo",ymail:"yahoo",hotmal:"hotmail",hotnail:"hotmail",outloo:"outlook"},T=w.split(".")[0].toLowerCase();return V[T]?c||`Did you mean ${V[T]}?`:!0},requiredRule:(u="classic",c=1,p,f)=>m=>{switch(u){case"classic":return!!m||f||"Required";case"array":case"object":p=p??-1;let y=c==p||p<0?`Requires exactly ${c} items`:`Requires at least ${c}${p!=1/0&&p!=null?", and maximum of:"+p:""}) elements`;return Array.isArray(m)?m.length>=c&&(p<0||m.length<=p)||f||y:__isObject(m)?Object.keys(m).length>=c&&(p<0||Object.keys(m).length<=p)||f||y:m==null?f||"Must select at least one item":"dev error: nsupported value type";default:return"dev error: unknown rule type"}},arrayRule:u=>c=>Array.isArray(c)||u||"Value must be array",numberRule:u=>c=>!isNaN(parseFloat(c))&&isFinite(c)||u||"Must be a valid number",integerRule:u=>c=>Number.isInteger(Number(c))||u||"Must be an integer",minValueRule:(u,c)=>p=>p==null||Number(p)>=u||c||`Must be at least ${u}`,maxValueRule:(u,c)=>p=>!p||Number(p)<=u||c||`Must not exceed ${u}`,phoneRule:u=>c=>!c||/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(c)||u||"Invalid phone number",urlRule:u=>c=>!c||/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(c)||u||"Invalid URL",alphaRule:u=>c=>!c||/^[A-Za-z]+$/.test(c)||u||"Only letters allowed",alphaNumRule:u=>c=>!c||/^[A-Za-z0-9]+$/.test(c)||u||"Only letters and numbers allowed",passwordRule:(u=8,c)=>p=>!p||/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{${minLength},}$/.test(p)||c||`Password must be at least ${u} characters, contain at least one letter and one number`,strongPasswordRule:(u=8,c)=>p=>!p||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{${minLength},}$/.test(p)||c||`Password must be at least ${u} characters, contain uppercase, lowercase, number and special character`,dateRule:u=>c=>!c||!isNaN(Date.parse(c))||u||"Invalid date format",futureDateRule:(u=0,c="days",p)=>f=>{if(!f)return!0;let m=new Date;m.setHours(0,0,0,0);const y=new Date(m);switch(lodash.isString(u)&&(u=parseInt(u)),c.toLowerCase()){case"minutes":y.setMinutes(m.getMinutes()+u);break;case"hours":y.setHours(m.getHours()+u);break;case"days":y.setDate(m.getDate()+u);break;case"months":y.setMonth(m.getMonth()+u);break;case"years":y.setFullYear(m.getFullYear()+u);break;default:y.setDate(m.getDate()+u)}return new Date(f)>=y||p||`Date must be at least ${u} ${c} in the future`},pastDateRule:(u=0,c="days",p)=>f=>{if(!f)return!0;const m=new Date,y=new Date(m);switch(c.toLowerCase()){case"minutes":y.setMinutes(m.getMinutes()-u);break;case"hours":y.setHours(m.getHours()-u);break;case"days":y.setDate(m.getDate()-u);break;case"months":y.setMonth(m.getMonth()-u);break;case"years":y.setFullYear(m.getFullYear()-u);break;default:y.setDate(m.getDate()-u)}return new Date(f)<=y||p||`Date must be at least ${u} ${c} in the past`},zipCodeRule:u=>c=>!c||/^\d{5}(-\d{4})?$/.test(c)||u||"Invalid ZIP code",ipAddressRule:u=>c=>!c||/^(\d{1,3}\.){3}\d{1,3}$/.test(c)||u||"Invalid IP address",fileTypeRule:(u,c)=>p=>{if(!p||!p.type)return!0;const f=Array.isArray(u)?u:[u];return f.includes(p.type)||c||`File type must be: ${f.join(", ")}`},fileSizeRule:(u,c)=>p=>!p||!p.size?!0:p.size<=u||c||`File size must not exceed ${u/1024/1024}MB`,equalsRule:(u,c)=>p=>p===u||c||`Must equal ${u}`,notEqualsRule:(u,c)=>p=>p!==u||c||`Must not equal ${u}`,matchesRule:(u,c)=>(p,f)=>p===f[u]||c||`Must match ${u}`,betweenRule:(u,c,p)=>f=>{if(!f)return!0;const m=Number(f);return m>=u&&m<=c||p||`Must be between ${u} and ${c}`},notBetweenRule:(u,c,p)=>f=>{if(!f)return!0;const m=Number(f);return m<u||m>c||p||`Must not be between ${u} and ${c}`},containsRule:(u,c)=>p=>!p||p.includes(u)||c||`Must contain "${u}"`,notContainsRule:(u,c)=>p=>!p||!p.includes(u)||c||`Must not contain "${u}"`,startsWithRule:(u,c)=>p=>!p||p.startsWith(u)||c||`Must start with "${u}"`,endsWithRule:(u,c)=>p=>!p||p.endsWith(u)||c||`Must end with "${u}"`,patternRule:(u,c)=>p=>!p||u.test(p)||c||"Invalid format",customFormatRule:(u,c)=>p=>{if(!p)return!0;const f={creditCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13})$/,ssn:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,rgb:/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,isbn:/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/},m=Array.isArray(u)?u:[u];return m.every(y=>f[y].test(p))||c||`Invalid ${m.join(" and ")} format`},uniqueRule:u=>c=>Array.isArray(c)?c.length===new Set(c).size||u||"Must contain unique values":!0,includesAnyRule:(u,c)=>p=>Array.isArray(p)?u.some(f=>p.includes(f))||c||`Must include at least one of: ${u.join(", ")}`:!0,includesAllRule:(u,c)=>p=>Array.isArray(p)?u.every(f=>p.includes(f))||c||`Must include all of: ${u.join(", ")}`:!0,whenRule:(u,c,p=[])=>(f,m)=>((typeof u=="function"?u(m):u)?c:p).every(v=>v(f,m)===!0)||"Conditional validation failed",dependentRule:(u,c,p)=>(f,m)=>m[u]?c.every(y=>y(f,m)===!0)||p||`Invalid based on ${u}`:!0,generateInputRules:i,validateInput:n});function i(u){let c=[];if(Object.prototype.hasOwnProperty.call(u,"rules")){let p=u.rawRules??u.rules,f;window.__isString(p)?f=p.split("|"):f=p,f.forEach((m,y)=>{window.__isString(m)&&(m=m.split(":"));const v=m[0]+"Rule";Object.prototype.hasOwnProperty.call(r,v)&&c.push(r[v](...m.slice(1)))})}return c}function n(u,c){let p=i(u),f=!0;for(const m in p){let y=p[m](c);if(y!==!0){f=y;break}}return f}function l(u){let c=cloneDeep(u),p=cloneDeep(u);return Object.prototype.hasOwnProperty.call(p,"rules")&&(c.rawRules=__isset(c.rawRules)?c.rawRules:p.rules,window.__isString(c.rawRules)?p.rules=c.rawRules.split("|"):p.rules=c.rawRules,c.rules=[],p.rules.forEach((f,m)=>{window.__isString(f)&&(f=f.split(":"));const y=f[0]+"Rule";Object.prototype.hasOwnProperty.call(r,y)&&c.rules.push(r[y](...f.slice(1)))})),__isset(c.schema)&&(c.schema=s(c.schema)),__isset(u.rawRules)||(c.rules=[],c.rawRules=""),c}function s(u){const c=cloneDeep(u);return __isObject(c)&&Object.keys(c).forEach(p=>{Object.prototype.hasOwnProperty.call(c[p],"rules")&&(u[p].rawRules=__isset(u[p].rawRules)?u[p].rawRules:c[p].rules,window.__isString(u[p].rawRules)?c[p].rules=u[p].rawRules.split("|"):c[p].rules=u[p].rawRules,u[p].rules=[],c[p].rules.forEach((f,m)=>{window.__isString(f)&&(f=f.split(":"));const y=f[0]+"Rule";Object.prototype.hasOwnProperty.call(r,y)&&u[p].rules.push(r[y](...f.slice(1)))})),__isset(u[p].schema)&&(u[p].schema=s(u[p].schema))}),u}return watch$1(()=>o.valid,(u,c)=>{}),{invokeRule:l,invokeRuleGenerator:s,...toRefs(r),...toRefs(o)}}const htmlClasses={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"},defaultWidths={xs:"320px",sm:"480px",md:"720px",lg:"1080px",xl:"1600px"},makeModalProps$1=propsFactory({modelValue:{type:Boolean},useModelValue:{type:Boolean,default:!0},title:{type:String,default:null},titleClass:{type:String,default:""},titlePadding:{type:String,default:"a-4"},titleJustify:{type:String,default:"space-between"},hasCloseButton:{type:Boolean,default:!1},hasFullscreenButton:{type:Boolean,default:!1},hasTitleDivider:{type:Boolean,default:!1},noDefaultBodyPadding:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},noCancelButton:{type:Boolean,default:!1},noConfirmButton:{type:Boolean,default:!1},description:{type:String,default:null},descriptionBodyClass:{type:String,Array,default:"d-flex justify-center"},transition:{type:String,default:"bottom",values:["dialog-transition","dialog-bottom-transition","dialog-top-transition","fade-transition","scale-transition","slide-x-transition","slide-y-transition","slide-x-reverse-transition","slide-y-reverse-transition","scroll-x-transition","scroll-y-transition"]},widthType:{type:String,default:"md",validator:e=>Object.prototype.hasOwnProperty.call(defaultWidths,e)},hasSystembar:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},confirmCallback:{type:Function},rejectCallback:{type:Function},rejectLoading:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},rejectButtonAttributes:{type:Object,default:()=>({color:"error",variant:"outlined"})},confirmButtonAttributes:{type:Object,default:()=>({color:"success",variant:"elevated"})},confirmClosing:{type:Boolean,default:!0},rejectClosing:{type:Boolean,default:!0}}),makeModalMediaProps=propsFactory({modalTitlePrefix:{type:String,default:function(e){return useI18n().t("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return useI18n().t("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return useI18n().t("media-library.insert","Insert")}}});function useModal(e,a){const{modelValue:o}=toRefs(e),r=ref(e.fullscreen),i=ref(!1),n=reactive({modalClass:htmlClasses.modal,width:e.widthType,full:r,dialog:computed({get:()=>e.useModelValue?o.value??!1:i.value,set:s=>{e.useModelValue?l.emitModelValue(s):i.value=s}}),togglePersistent:computed(()=>e.persistent),toggleScrollable:computed(()=>e.scrollable),modalWidth:computed(()=>e.widthType&&!r.value?defaultWidths[e.widthType]:null)}),l=reactive({emitModelValue:function(s){a.emit("update:modelValue",s)},emitOpened:function(){a.emit("opened",n.dialog)},clickOutside:function(s){a.emit("click:outside",s)},openModal:function(){return n.dialog=!0,n.dialog},closeModal:function(){return n.dialog=!1,n.dialog},toggleModal:function(){return n.dialog=!n.dialog,n.dialog}});return{...toRefs(l),...toRefs(n)}}const makeDraggableProps=propsFactory({draggable:{type:Boolean,default:!1},orderKey:{type:String,default:"position"}});function useDraggable(e,a){const o=reactive({animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30,dragOptions:computed(()=>({disabled:!e.draggable,animation:o.animation}))}),r=reactive({});return{...toRefs(r),...toRefs(o)}}const makeRepeaterProps=propsFactory({...makeInputProps(),modelValue:{type:Array,default:[]},max:{type:Number,default:-1},min:{type:Number,default:-1},label:{type:String,default:""},subtitle:{type:String},singularLabel:{type:String},schema:{type:Object,default:()=>{}},rowAttribute:{type:Object,default(){return{noGutters:!1}}},formRowAttribute:{type:Object,default(){return{noGutters:!1,class:"ml-12"}}},noAddButton:{type:Boolean,default:!1},addButtonText:{type:String,default(){return useI18n().t("ADD NEW")}},hasButtonLabel:{type:Boolean,default:!1},withGutter:{type:Boolean,default:!1},autoIdGenerator:{type:Boolean,default:!0},noHeaders:{type:Boolean,default:!1},isUnique:{type:Boolean,default:!1},uniqueValue:{type:String,default:"id"},uniqueField:{type:String,default:null},disableAddButton:{type:Boolean,default:!0},formCol:{type:Object,default:()=>({cols:12})},idResetter:{type:String,default:null},noWaitSourceLoading:{type:Boolean,default:!1}});function useRepeater(e,a){const o=useStore(),{invokeRuleGenerator:r}=useValidation(e),i=useInput(e,a),n=ref(e.schema),l=computed(()=>e.noHeaders?cloneDeep(n.value??{}):reduce(cloneDeep(n.value??{}),(S,A,D)=>(S[D]=omit(A,["label"]),S),{})),{modelValue:s}=toRefs(e),u=e.isUnique,c=e.uniqueValue,p=ref([]),f=computed(()=>u&&window.__isset(n.value)&&Object.keys(n.value).length>0?e.uniqueField??Object.values(n.value)[0].name:null),m=computed(()=>u&&window.__isset(n.value)&&Object.keys(n.value).length>0?n.value[f.value]:null);function y(S,A){const D=`repeater${i.id.value}`;return new RegExp(`^${D}\\[${S}\\]`).test(A)?A:`${D}[${S}][${A}]`}function v(S,A){const D=getModel(l.value,S),P={};return e.draggable&&!D[e.orderKey]&&(P[e.orderKey]=A+1),{...e.autoIdGenerator?{id:A}:{},...transform(omit(D,[]),(N,$,F)=>{N[y(A,F)]=$}),...P}}function g(S){return S.map((A,D)=>v(A,D))}function b(S){const A=[];return S.forEach((D,P)=>{const N=cloneDeep(l.value);if(u&&N[f.value]){const E=k(S[P])[f.value];N[f.value].items=m.value.items.filter(z=>!(p.value.includes(z[c])&&E!==z[c]))}const $=r(N);A[P]=transform($,(F,E,z)=>{const B=cloneDeep(E),O=y(P,E.name);B.name=O,F[O]=B}),Object.keys(A[P]).forEach(F=>{var z;const E=A[P][F];if(Object.prototype.hasOwnProperty.call(E,"cascade")){const B=y(P,E.cascade);A[P][B][E.cascadeKey]=((z=find(E.items,[E.itemValue,D[F]]))==null?void 0:z.schema)??[]}})}),A}function k(S,A){const D=/\[(.*?)\]/gi,P={};return e.draggable&&(P[e.orderKey]=A+1),{...transform(S,(N,$,F)=>{const E=F.match(D);if(E){const z=E.map(B=>B.replace(D,"$1"));N[z.pop()]=$}}),...P}}function C(S){return S.map((A,D)=>k(A,D))}const w=computed({get:()=>{if(isEmpty(n.value))return[];const S=Array.isArray(s.value)?s.value:[],A=g(S);if(e.min>0&&S.length<e.min){const D=r(n.value);A.push(v(getModel(D),1))}if(A.length>0){const D=C(A).map(P=>{const N=e.autoIdGenerator?["id"]:[];return omit(P,N)});JSON.stringify(s.value)!==JSON.stringify(D)&&D.forEach((P,N)=>{s.value[N]=P})}return u&&(p.value=reduce(cloneDeep(A),(D,P)=>{const N=k(P);return f.value&&N[f.value]&&D.push(N[f.value]),D},[])),A},set:(S,A)=>{i.updateModelValue.value(C(S))}}),V=reactive({repeaterModels:w,repeaterSchemas:computed(()=>b(w.value)),totalRepeats:computed(()=>V.repeaterModels.length),hasRepeaterModels:computed(()=>V.repeaterModels.length>0),isRemainingAddible:computed(()=>!u||V.totalRepeats<m.value.items.length&&V.totalRepeats<m.value.items.filter(S=>S[c]>0).length),isAddible:computed(()=>(e.max<1||V.totalRepeats<e.max)&&V.isRemainingAddible),isDeletable:computed(()=>e.min<1||V.totalRepeats>e.min),addButtonIsActive:computed(()=>!e.disableAddButton||V.isAddible),selectFieldSlots:computed(()=>{const S=[];return filter(n.value,function(A,D){return Object.prototype.hasOwnProperty.call(A,"slots")&&Object.keys(A.slots).length>0}).forEach((A,D)=>{const P=cloneDeep(A);V.repeaterModels.forEach((N,$)=>{const F=[];for(const E in P.slots)F.push({inputName:y($,P.name),name:E,context:P.slots[E]});S.push(F)})}),S}),headers:reduce(n.value??[],(S,A)=>(["hidden"].includes(A.type)||S.push({title:A.label||__headline(A.name),col:A.col}),S),[]),addButtonContent:computed(()=>e.addButtonText+(e.hasButtonLabel&&__isset(e.singularLabel)?` ${e.singularLabel}`:"")),hasSchemaInputSourceLoading:computed(()=>Object.values(n.value).some(S=>Object.prototype.hasOwnProperty.call(S,"sourceLoading")&&S.sourceLoading===!0))}),T=reactive({onUpdateRepeaterModel(S,A){const D=k(S,A);s.value[A]&&JSON.stringify(s.value[A])!==JSON.stringify(D)&&e.idResetter&&s.value[A][e.idResetter]&&s.value[A][e.idResetter]!==D[e.idResetter]&&delete D.id,s.value[A]=D},onUpdateRepeaterSchema(S,A){const D=k(S,A);Object.keys(n.value).forEach(N=>{n.value[N]=Object.assign({},n.value[N],omit(D[N],["name"]))})},onHoverContent(S){},addRepeaterBlock:function(){if(V.isAddible){const S=r(cloneDeep(n.value));s.value.push(v(getModel(S),V.totalRepeats))}else{let S=`You cannot add new item, because the number of elements should be at much ${e.max}`;V.isRemainingAddible||(S="You cannot add new item, because there are no more items to add"),o.commit(ALERT$1.SET_ALERT,{message:S,variant:"warning",location:"top"})}},deleteRepeaterBlock:function(S){if(V.isDeletable){const A=C(V.repeaterModels);A.splice(S,1),V.repeaterModels=g(A)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot delete, because the number of elements should be at least ${e.min}`,variant:"warning",location:"top"})},duplicateRepeaterBlock:function(S){if(V.isAddible){const A=C(V.repeaterModels);A.push(A[S]),V.repeaterModels=g(A)}else o.commit(ALERT$1.SET_ALERT,{message:`You cannot add new item, because the number of elements should be at much ${e.max}`,variant:"warning",location:"top"})}});return{...toRefs(T),...toRefs(V),invokeRuleGenerator:r,...i}}const mapGetters=()=>{const e=useStore();return Object.fromEntries(Object.keys(e.getters).map(a=>[a,computed(()=>e.getters[a])]))},makeFileProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default(){return useI18n().t("File")}},endpoint:{type:String,default:""},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useFile(e,a){const o=useStore(),r=useInput(e,a),{modelValue:i,obj:n}=toRefs(e),l=mapGetters(),{t:s}=useI18n({useScope:"global"}),u=reactive({mediableActive:!1,handle:".item__handle",addLabel:computed(()=>s("ADD")+" "+e.itemLabel),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(p,f)=>{}}),input_:computed({get:()=>i.value??[],set:(p,f)=>{r.updateModelValue.value(p)}}),input:i.value??[],isDraggable:computed(()=>e.draggable&&u.input.length>1),remainingItems:computed(()=>e.max-u.input.length),itemsIds:computed(()=>l.selectedItemsByIds.value[e.name]?l.selectedItemsByIds.value[e.name].join():"")}),c=reactive({deleteAll:function(p){u.input=[]},deleteItem:function(p){u.input.splice(p,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(p,f)=>{o.state.mediaLibrary.isInserted&&u.mediableActive&&(u.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),u.input=p)},{deep:!0}),watch$1(()=>u.input,(p,f)=>{r.updateModelValue.value(p)},{deep:!0}),watch$1(()=>i.value,(p,f)=>{u.input=p},{deep:!0}),{...r,...toRefs(c),...toRefs(u)}}const makeImageProps=propsFactory({...makeInputProps(),...makeDraggableProps(),mediaType:{type:String,default:"image"},itemLabel:{type:String,default(){return useI18n().t("Image")}},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default(){return useI18n().t("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}});function useImage(e,a){const o=useStore(),r=useInput(e,a),{modelValue:i,obj:n}=toRefs(e),l=mapGetters(),{t:s}=useI18n({useScope:"global"}),u=reactive({mediableActive:!0,handle:".item__handle",addLabel:computed(()=>s("ADD",{item:e.itemLabel})),items:computed({get:()=>o.state.mediaLibrary.selected.hasOwnProperty(e.name)?o.state.mediaLibrary.selected[e.name]||[]:[],set:(p,f)=>{}}),input_:computed({get:()=>i.value??[],set:(p,f)=>{r.updateModelValue.value(p)}}),input:i.value??[],isDraggable:computed(()=>e.draggable&&u.input.length>1),remainingItems:computed(()=>e.max-u.input.length),itemsIds:computed(()=>l.selectedItemsByIds.value[e.name]?l.selectedItemsByIds.value[e.name].join():"")}),c=reactive({deleteAll:function(p){u.input=[]},deleteItem:function(p){u.input.splice(p,1)}});return watch$1(()=>o.state.mediaLibrary.selected[e.name],(p,f)=>{window.__isset(o.state.mediaLibrary.selected[e.name])&&o.state.mediaLibrary.isInserted&&u.mediableActive&&(u.mediableActive=!1,o.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!1),u.input=p)},{deep:!0}),watch$1(()=>u.input,(p,f)=>{r.updateModelValue.value(p)},{deep:!0}),watch$1(()=>i.value,(p,f)=>{u.input=p},{deep:!0}),watch$1(()=>u.error,(p,f)=>{}),{...r,...toRefs(c),...toRefs(u)}}function useSidebar(){const{lgAndUp:e,xlAndUp:a}=useDisplay();ref(!1);const o=ref("#profile"),r=useStore(),i=ref(null),n=reactive({navigationDrawer:i,open:[],activeMenu:computed({get(){return o.value},set(s){o.value=s}}),status:computed({get(){return r.state.config.sidebarStatus},set(s){r.commit(CONFIG.SET_SIDEBAR,s)}}),options:r.state.config.sidebarOptions,width:computed(()=>a.value?320:n.options.width||264),hideIcons:computed(()=>!n.rail&&n.options.hideIcons),railManual:!1,rail:computed(()=>(n.options.rail||n.railManual)&&e.value),hasRail:computed(()=>n.options.rail),isHoverable:computed(()=>(e.value||n.rail)&&n.options.expandOnHover),secondaryOptions:r.state.config.secondarySidebarOptions,profileMenu:r.state.config.profileMenu,socialMediaLinks:[["mdi-twitter",""],["mdi-linkedin",""],["mdi-facebook",""],["mdi-instagram",""]]}),l=reactive({handleProfile(s){s.type==="mouseenter"&&n.profileMenu.expandOnHover&&n.open.push("User")},handleMenu(s){n.activeMenu=`#${s}`}});return watch$1(e,()=>{}),onMounted(()=>{}),{...toRefs(n),...toRefs(l)}}function useCurrencyNumber(e,a){const o=useStore(),{inputRef:r,formattedValue:i,numberValue:n,setValue:l}=useCurrencyInput({currency:"EUR",locale:o.state.language.active.value,autoDecimalDigits:!0,precision:2,currencyDisplay:"hidden",hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,valueRange:{min:0}}),s=reactive({inputRef:r,formattedValue:i,numberValue:n});return watch$1(()=>e.modelValue,u=>{l(u)}),{...toRefs(s)}}const makeModuleProps=propsFactory({name:{type:String},customTitle:{type:String},titlePrefix:{type:String,default:""},titleKey:{type:String,default:"name"},fillHeight:{type:Boolean,default:!1},slots:{type:Object,default(){return{}}},noFullScreen:{type:Boolean,default:!1},endpoints:{type:Object,default:{}},items:{type:Array,default:[]}});function useModule(e,a){const{t:o,te:r}=useI18n({useScope:"global"});ref(!1),onMounted(()=>{});const i=reactive({snakeName:lodash.snakeCase(e.name),permissionName:lodash.kebabCase(e.name),transNameSingular:computed(()=>r("modules."+i.snakeName,0)?o("modules."+i.snakeName,0):e.name),transNamePlural:computed(()=>o("modules."+i.snakeName,1)),moduleTitle:computed(()=>(e.titlePrefix?e.titlePrefix:"")+(__isset(e.customTitle)?e.customTitle:i.transNamePlural)),windowSize:{x:0,y:0},elements:e.items,searchPlaceholder:o("Type to Search"),searchModel:""}),n=reactive({onResize(){i.windowSize={x:window.innerWidth,y:window.innerHeight}}});return{...toRefs(i),...toRefs(n)}}function useLocale(){const e=useStore(),a=reactive({currentLocale:computed(()=>e.state.language.active),languages:computed(()=>e.state.language.all),locales:computed(()=>e.state.language.all),displayedLocale:computed(()=>e.state.language.active.shortlabel)}),o=reactive({updateLocale:function(r){e.commit(LANGUAGE.UPDATE_LANG,r)}});return{...toRefs(a),...toRefs(o)}}function useItemActions(e,a){const o=useStore(),{castObjectAttributes:r}=useCastAttributes(),i=useDynamicModal(),n=lodash.cloneDeep(e.actions),l=a.actionItem||a.item||a.editedItem||e.item||e.editedItem,s=V=>{if(!V.source||!V.find||!V.return)return V;const T=l[V.source];if(!Array.isArray(T))return;const[S,A]=V.find,D=T.find(P=>P[S]===A);return D?D[V.return]:void 0},u=(V,T)=>{var D;if(!T){console.error("Endpoint not specified for request action");return}const S=((D=V.method)==null?void 0:D.toLowerCase())||"post";if(!api$1[S]){console.error("Invalid request method:",S);return}const A={};for(const[P,N]of Object.entries(V.params))if(typeof N=="object"&&N!==null){const $=s(N);if($===void 0){console.error(`Could not resolve parameter value for ${P}`);return}A[P]=$}else A[P]=N;api$1[S](T,A,P=>{if(P.data.message){let N=V.responseMessage||{},$=P.data.message,F=P.data.variant;lodash.isString(N)&&(N={success:N,error:N}),window.__isset(N[F])&&($=N[F]),o.commit(ALERT$1.SET_ALERT,{message:$,variant:F})}a.emit("actionComplete",{action:V,response:P}),V.reloadOnSuccess===!0&&setTimeout(()=>{window.location.reload()},V.reloadDelay||1e3)},P=>{var N;o.commit(ALERT$1.SET_ALERT,{message:((N=P.data)==null?void 0:N.message)||"Action failed",variant:"error"})})},c=(V,T)=>{o.commit("SET_MODAL",{show:!0,title:V.label,component:"ue-form",props:{schema:V.schema,actionUrl:T,async:!0},on:{success:S=>{o.commit(ALERT$1.SET_ALERT,{message:S.message||"Action completed successfully",variant:"success"}),a.emit("action-complete",{action:V,response:S})}}})},p=V=>{if(!V){console.error("Endpoint not specified for blank action");return}window.open(V,"_blank")},f=V=>{if(!V){console.error("Endpoint not specified for download action");return}const T=document.createElement("a");T.href=V,T.target="_blank",document.body.appendChild(T),T.click(),document.body.removeChild(T)},m=V=>{if(!l)return!0;const T=e.isEditing?V.editable:V.creatable;return!V.conditions||!T?T:T&&checkItemConditions(V.conditions,l)&&checkItemConditions(V.userConditions??[],o.getters.userProfile)},y=V=>V.map(T=>(e.isEditing&&l&&(T=r(T,l)),m(T)||(T.disabled=!0),T)),v=ref(window.__isObject(n)?Object.values(n):n),g=computed(()=>v.value.filter(V=>!(!m(V)&&V.hideOnCondition))),b=computed(()=>y(g.value)),k=computed(()=>b.value.filter(V=>!(window.__isset(V.disabled)&&V.disabled))),C=reactive({hasActions:computed(()=>b.value.length>0),hasVisibleActions:computed(()=>k.value.length>0),allActions:b,visibleActions:k}),w=reactive({shouldShowAction:m,handleAction(V){var D;let T=!1,S=null;if(!V.type){console.warn("Action type not specified:",V);return}window.__isset(V.hasConfirmation)&&V.hasConfirmation===!0&&(T=!0);const A=(D=V.endpoint)==null?void 0:D.replace(":id",l.id);switch(V.type){case"request":T?S=async()=>(u(V,A),!0):u(V,A);break;case"modal":c(V,A);break;case"download":f(A);break;case"blank":T?S=async()=>(p(A),!0):p(A);break;default:console.warn("Unknown action type:",V.type)}T&&i.open(null,{modalProps:{...V.confirmationModalAttributes??{},confirmCallback:S}})}});return{...toRefs(C),...toRefs(w)}}function useCurrency(e){const{locale:a}=useI18n({useScope:"global"}),o=reactive({formatPrice(r,i){return window.__formatCurrencyPrice(r,i,a.value??a)}});return{...toRefs(o)}}const redirector$1=(e,a=1e3)=>{Object.prototype.hasOwnProperty.call(e,"redirector")&&(a=Object.prototype.hasOwnProperty.call(e,"timeout")?e.timeout:a,setTimeout(function(o){window.open(o.redirector,Object.prototype.hasOwnProperty.call(o,"target")?o.target:"_self")},a,e))},handleSuccessResponse=e=>{e.status===200&&e.data.modalService&&isObject(e.data.modalService)&&window.$modalService.open(e.data.modalService.component??null,omit(e.data.modalService,["component"]))},handleErrorResponse=e=>{var a;((a=e.response)==null?void 0:a.status)===403&&window.$modalService.handleObject(e.response.data),redirector$1(e.response.data,1e3)},makeFormProps=propsFactory({modelValue:{type:Object},formClass:{type:[Array,String],default:""},actionUrl:{type:String},title:{type:[String,Object]},noTitle:{type:Boolean,default:!1},subtitle:{type:String},schema:{type:Object},async:{type:Boolean,default:!0},buttonText:{type:String},hasSubmit:{type:Boolean,default:!1},stickyFrame:{type:Boolean,default:!1},stickyButton:{type:Boolean,default:!1},rowAttribute:{type:Object,default(){return{noGutters:!1,class:"py-4"}}},slots:{type:Object,default(){return{}}},valid:{type:Boolean,default:null},isEditing:{type:Boolean,default:!1},hasDivider:{type:Boolean,default:!1},fillHeight:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},noDefaultFormPadding:{type:Boolean,default:!1},noDefaultSurface:{type:Boolean,default:!1},actions:{type:[Array,Object],default:[]},actionsPosition:{type:String,default:"top",validator(e){return["title-right","title-center","top","middle","bottom","right-top","right-middle","right-bottom"].includes(e)}},rightSlotGap:{type:Number,default:12},pushButtonToBottom:{type:Boolean,default:!1},rightSlotWidth:{type:[Number,String],default:null},rightSlotMinWidth:{type:[Number,String],default:300},rightSlotMaxWidth:{type:[Number,String],default:600},additionalSectionDialogTitle:{type:String,default:"Additional Options"},clearOnSaved:{type:Boolean,default:!1},refreshOnSaved:{type:Boolean,default:!1},noWaitSourceLoading:{type:Boolean,default:!1}});function useForm(e,a){const o=useStore(),{t:r,te:i}=useI18n({useScope:"global"}),n=useInputHandlers(),l=useValidation(e),s=useLocale(),{hasRoles:u}=useAuthorization(),c=ref(null),p=Math.ceil(Math.random()*1e6)+"-form",f=p+"-base",m=ref(!!e.modelValue),y=ref(!!e.schema),v=ref(!1),g=ref({}),b=ref(y.value?e.schema:o.state.form.inputs),k=computed(()=>processInputs(b.value)),C=ref(y.value?getModel(b.value):o.getters.defaultItem),w=computed(()=>o.state.form.editedItem),V=ref(getModel(b.value,m.value?e.modelValue:w.value,o.state)),T=computed(()=>m.value?e.modelValue:w.value),S=ref(l.invokeRuleGenerator(getSchema(b.value,{...V.value,...T.value},e.isEditing))),A=ref(getFormEventSchema(b.value,{...V.value,...T.value},e.isEditing)),D=ref(e.actions.length?e.actions.map(()=>!0):[]),P=I=>{let j=!1;return Object.prototype.hasOwnProperty.call(I,"noSubmit")&&I.noSubmit||(j=!0),j===!0&&(__isset(I.editable)&&(I.editable===!1||I.editable==="hidden")&&e.isEditing||__isset(I.creatable)&&(I.creatable===!1||I.creatable==="hidden")&&!e.isEditing?j=!1:Object.prototype.hasOwnProperty.call(I,"allowedRoles")&&Array.isArray(I.allowedRoles)&&(u(I.allowedRoles)||(j=!1))),j},N=computed(()=>!!(find(S.value,I=>{let j=!1;return["wrap","group"].includes(I.type)?j=find(I.schema,P):j=P(I),j})||find(A.value,P))),$=computed(()=>a.slots.right||a.slots["right.top"]||a.slots["right.bottom"]||a.slots["right.middle"]||["right-top","right-middle","right-bottom"].includes(e.actionsPosition)),F=reactive({id:p,formBaseId:f,VForm:c,issetModel:m,issetSchema:y,model:V,formItem:T,chunkedRawSchema:k,inputSchema:S,formEventSchema:A,isSubmittable:N,extraValids:D,hasStickyFrame:e.stickyFrame||e.stickyButton,manualValidation:!1,buttonDefaultText:computed(()=>e.buttonText?i(e.buttonText)?r(e.buttonText):e.buttonText:r("submit")),serverValid:computed(()=>o.state.form.serverValid??!0),loading:computed(()=>e.actionUrl?v.value:o.state.form.loading),errors:computed(()=>e.actionUrl?g.value:o.state.form.errors),reference:computed(()=>"ref-"+F.id),hasTraslationInputs:computed(()=>getTranslationInputsCount(S.value)>0),hasAdditionalSection:$,showAdditionalSectionDialog:!1,hasSchemaInputSourceLoading:computed(()=>Object.values(b.value).some(I=>Object.prototype.hasOwnProperty.call(I,"sourceLoading")&&I.sourceLoading===!0||Object.prototype.hasOwnProperty.call(I,"type")&&(I.type==="wrap"||I.type==="group")&&Object.values(I.schema).some(j=>Object.prototype.hasOwnProperty.call(j,"sourceLoading")&&j.sourceLoading===!0)))}),E=(I=null,j=null)=>{if(e.actionUrl){g.value={},v.value=!0;const K=getSubmitFormData(b.value,F.model,o._state.data),q=Object.prototype.hasOwnProperty.call(K,"id")?"put":"post";api$1[q](e.actionUrl,K,H=>{v.value=!1,Object.prototype.hasOwnProperty.call(H.data,"errors")?(o.commit(FORM.SET_SERVER_VALID,!1),g.value=H.data.errors):Object.prototype.hasOwnProperty.call(H.data,"variant")&&(o.commit(FORM.SET_SERVER_VALID,!1),o.commit(ALERT$1.SET_ALERT,{message:H.data.message,variant:H.data.variant})),e.clearOnSaved&&(F.model=getModel(b.value),M(),c.value&&c.value.reset()),a.emit("submitted",H.data);let W=I;if(!e.refreshOnSaved||Object.prototype.hasOwnProperty.call(H.data,"forceRedirect")&&H.data.forceRedirect)redirector$1(H.data);else{let X=()=>{window.location.reload(!0)};W=Y=>{I&&typeof I=="function"&&I(Y),X()}}W&&typeof W=="function"&&W(H.data)},H=>{v.value=!1,Object.prototype.hasOwnProperty.call(H.data,"exception")?o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(o.dispatch(ACTIONS.HANDLE_ERRORS,H.data),o.commit(ALERT$1.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),j&&typeof j=="function"&&j(H.data)})}else nextTick(()=>{let K=()=>{window.location.reload(!0)},q=I;e.refreshOnSaved?q=H=>{a.emit("submitted",H),I&&typeof I=="function"&&I(H),Object.prototype.hasOwnProperty.call(H,"forceRedirect")&&H.forceRedirect?redirector$1(H):K()}:q=H=>{a.emit("submitted",H),redirector$1(H),I&&typeof I=="function"&&I(H)},o.dispatch(ACTIONS.SAVE_FORM,{item:null,callback:q,errorCallback:j})})},z=I=>{I&&I.preventDefault();const j=document.createElement("form");j.method="POST",j.action=e.actionUrl,j.enctype="multipart/form-data";let K=O(F.model);for(const[H,W]of K.entries()){const X=document.createElement("input");X.type="hidden",X.name=H,X.value=W,j.appendChild(X)}const q=document.createElement("input");if(q.type="hidden",q.name="_token",q.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),j.appendChild(q),e.isEditing){const H=document.createElement("input");H.type="hidden",H.name="_method",H.value="PUT",j.appendChild(H)}document.body.appendChild(j),j.submit()},B=I=>{handleEvents(V.value,S.value,I.schema,!0)},O=(I,j="")=>{const K=new FormData;for(const[q,H]of Object.entries(I)){const W=j?`${j}[${q}]`:q;if(H!=null)if(typeof H=="object")if(Array.isArray(H))H.forEach((X,Y)=>{if(typeof X=="object"&&X!==null){const Q=O(X,`${W}[${Y}]`);for(const[Z,J]of Q.entries())K.append(Z,J)}else K.append(`${W}[${Y}]`,X)});else{const X=O(H,W);for(const[Y,Q]of X.entries())K.append(Y,Q)}else K.append(W,H)}return K},M=()=>{c.value.resetValidation()},L=I=>{const j={};for(const K in I){const q=/(\w+)\.(\w+)/,H=K.match(q);if(H){const W=H[1],X=H[2];__isset(j[W])||(j[W]=[]),j[W][X]=I[K]}else j[K]=I[K]}for(const K in j)S.value[K]?S.value[K].errorMessages=j[K]:find(k.value,q=>q.name===K)&&reduce(S.value,(H,W,X)=>(W.type==="wrap"&&H.push(X),H),[]).forEach(H=>{S.value[H].schema[K]&&(S.value[H].schema[K].errorMessages=j[K])})},R=I=>{if(get(S.value,`${I}`))set(S.value,`${I}.errorMessages`,[]),set(S.value,`${I}.error`,!1);else for(const j in S.value)if(S.value[j].schema)for(const K in S.value[j].schema)K===I&&(set(S.value,`${j}.schema.${K}.errorMessages`,[]),set(S.value,`${j}.schema.${K}.error`,!1))},G=()=>{for(const I in S.value)if(R(I),S.value[I].schema)for(const j in S.value[I].schema)S.value[I].schema[j]&&R(`${I}.schema.${j}`)},x=()=>{G()},U=reactive({async validate(){return await F.VForm.validate()},createModel:I=>getModel(I,F.model.value,o.state),handleInput:I=>{const{on:j,key:K,obj:q}=I;j==="input"&&K&&(F.serverValid||R(K),B(q)),a.emit("input",I)},handleClick:I=>{const{on:j,obj:K,params:q}=I;j==="click"&&q&&q.tag&&n.invokeInputClickHandler(K,q.tag)},handleUpdate:I=>{},handleResize:I=>{},handleBlur:I=>{},saveForm:E,submit:(I,j=null,K=null)=>{l.validModel.value?e.async?(I&&I.preventDefault(),e.actionUrl?E(j,K):(o.commit(FORM.SET_EDITED_ITEM,F.model),nextTick(()=>{E(j,K)}))):z(I):I&&I.preventDefault()},updatedSlotModel:(I,j)=>{},regenerateInputSchema:I=>{},updatedCustomFormBaseModelValue:I=>{V.value=I}});return watch$1(()=>e.modelValue,(I,j)=>{if(j!==void 0&&m.value){if(isEqual(I,j)&&isEqual(I,V.value))return;V.value=getModel(b.value,I,o.state)}}),watch$1(()=>w.value,(I,j)=>{m.value}),watch$1(()=>V.value,(I,j)=>{if(m.value){if(isEqual(I,j)&&isEqual(I,e.modelValue))return;a.emit("update:modelValue",I)}},{deep:!0}),watch$1(()=>F.errors,I=>{L(I)}),watch$1(()=>l.validModel.value,I=>{a.emit("update:valid",I)}),watch$1(()=>e.schema,(I,j)=>{!isEqual(I,j)&&y.value&&!isEqual(I,S.value)&&(b.value=I,C.value=getModel(b.value),S.value=l.invokeRuleGenerator(getSchema(b.value,V.value,e.isEditing)),A.value=getFormEventSchema(b.value,T.value,e.isEditing),x())},{deep:!0}),watch$1(()=>S.value,(I,j)=>{},{deep:!0}),watch$1(()=>b.value,(I,j)=>{if(j!==void 0&&!isEqual(I,j)){const K=cloneDeep(V.value),q=getModel(I,V.value,o.state);isEqual(q,K)||(V.value=q,S.value=l.invokeRuleGenerator(getSchema(I,V.value,e.isEditing)))}},{deep:!0}),x(),{...toRefs(F),...toRefs(U),...n,...l,...s}}function useAuthorization(){const e=useStore();return{can:(i,n=null)=>{const l=n?n+"_"+i:i;return e.getters.isSuperAdmin||e.getters.userPermissions[l]},hasRoles:i=>(window.__isString(i)&&(i=i.split(",").map(n=>n.trim())),e.getters.userRoles.some(n=>i.includes(n))),isYou:i=>{var n,l;return(((l=(n=e==null?void 0:e.getters)==null?void 0:n.userProfile)==null?void 0:l.id)??-1)==i}}}function useCache(){return{get:(n,l=null)=>store.getters[CACHE.GET_CACHE](n)??l,put:(n,l)=>{store.commit(CACHE.PUT_CACHE,{key:n,value:l})},push:(n,l)=>{store.commit(CACHE.PUSH_CACHE,{key:n,value:l})},last:(n,l=null)=>store.getters[CACHE.GET_LAST_CACHE](n)??l,forget:n=>{store.commit(CACHE.FORGET_CACHE,n)}}}function useDynamicModal(){const e=inject("modalService");if(!e)throw new Error("[ModalService] not installed. Did you forget `app.use(ModalService)`?");return e}const makeFilepondProps=propsFactory({hint:{type:String,default:null},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number},rules:{type:Array,default:()=>[]},noRules:{type:Boolean,default:!1},hintWeight:{type:String,default:"thin"},maxFiles:{type:Number,default:2},endPoints:{type:Object,default:()=>({})},class:{type:String,default:""},labelWeight:{type:String,default:"regular"},subtitle:{type:String,default:null},subtitleWeight:{type:String,default:"thin"},acceptedFileTypes:{type:String,default:""},allowImagePreview:{type:Boolean,default:!1},allowMultiple:{type:Boolean,default:!1},allowProcess:{type:Boolean,default:!0},allowRemove:{type:Boolean,default:!0},allowDrop:{type:Boolean,default:!0},allowReorder:{type:Boolean,default:!1},allowReplace:{type:Boolean,default:!1},dropOnPage:{type:Boolean,default:!1},dropOnElement:{type:Boolean,default:!0},dropValidation:{type:Boolean,default:!1},allowFileSizeValidation:{type:Boolean,default:!0},maxFileSize:{type:String,default:"5MB"},minFileSize:{type:String,default:"1KB"},maxTotalFileSize:{type:String,default:null},labelMaxFileSize:{type:String,default:"Maximum file size is {filesize}"},labelMaxFileSizeExceeded:{type:String,default:"File is too large"}});function useFilepond(e,a){const{requiredRule:o}=useValidation(e),r=window.__data_get(e.obj,"schema.rawRules","")||"",i=ref(e.rules??[]),n=ref(e.maxFiles),l=ref(e.min);return(e.isEditing?e.editable===!0:e.creatable===!0)&&!e.noRules&&e.min&&e.min>0&&!r.match(/required:array:\d+/)&&i.value.push(o.value("array",e.min)),l.value&&n.value<l.value&&(n.value=l.value),n.value<1&&(n.value=5),watch$1(()=>e.rules,s=>{i.value=s}),{filepondRules:i,max:n}}const makeInputFetchProps=propsFactory({itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},multiple:{type:Boolean,default:!1},page:{type:Number,default:1},lastPage:{type:Number,default:-1},itemsPerPage:{type:Number,default:20},endpoint:{type:String},items:{type:Array,default:()=>[]},sourceLoading:{type:Boolean,default:!1}});function useInputFetch(e,a){const o=ref(!1),r=ref(getURLWithoutQuery(e.endpoint)),i=ref(e.page||1),n=ref(e.lastPage||-1),l=ref(n.value>0?n.value+1:e.page||1),s=ref(""),u=ref(e.items||[]),c=ref(getParameters(e.endpoint)),p=computed(()=>new URLSearchParams({...c.value,...l.value?{page:l.value}:{},itemsPerPage:e.itemsPerPage,...s.value?{search:s.value}:{}}).toString()),f=computed(()=>getURLWithoutQuery(r.value)+"?"+p.value),m=async()=>{if(!(l.value>n.value)||n.value<0)return o.value=!0,a.emit("update:input",[{key:"sourceLoading",value:!0}]),new Promise(()=>{axios.get(f.value).then(v=>{if(v.status==200)if(n.value<0&&(n.value=v.data.resource.last_page),s.value==""?u.value=u.value.concat(v.data.resource.data??[]):u.value=v.data.resource.data??[],i.value=v.data.resource.current_page,l.value=v.data.resource.current_page+1,a.input.value){let g=!1;a.input.value&&(e.multiple?a.input.value.forEach(function(b){if(!u.value.find(k=>k[e.itemValue]==b))return g=!0,!1}):g=!u.value.find(b=>b[e.itemValue]==a.input.value)),g?m():(o.value=!1,a.emit("update:input",[{key:"sourceLoading",value:!1},{key:"items",value:u.value},{key:"lastPage",value:n.value},{key:"page",value:i.value}]))}else o.value=!1,a.emit("update:input",[{key:"sourceLoading",value:!1}])})})};return{loading:o,elements:u,getItemsFromApi:m,activePage:i,activeLastPage:n,nextPage:l,searchOnInputFetch:v=>{if(a.input){v==""?(u.value=[],m()):s.value=v;return}s.value=v,i.value=1,l.value=1,lastPage.value=-1,s.value==""&&(u.value=[]),m()}}}function useAlert(){const e=useStore();return{openAlert:o=>{e.commit(ALERT$1.SET_ALERT,o)}}}function useCastAttributes(){const{t,te}=useI18n(),AttributePattern=/\$([\w\d\.\*\_]+)/,EvalPattern=/^\$\((.*)\)\$/,matchAttribute=e=>isMatchingPattern(e),matchStandardAttribute=e=>AttributePattern.test(e),matchEvalAttribute=e=>EvalPattern.test(e),castStandardAttribute=(e,a,o={})=>{let r=e;if(matchStandardAttribute(e)){let i=e.match(AttributePattern),n=i[1],l=__preg_quote(i[0]),s=n.split("."),u=[];for(const p in s){let f=s[p];if(f==="*"){let m=a.id;__isset(o.clearAsterisk)&&o.clearAsterisk||u.push(`*id=${m}`)}else u.push(f)}n=u.join(".");let c=__data_get(a,n);if(c){let p;if(isArray(c)&&c.length>0)p=c,c.every(f=>isString(f)||isNumber(f))&&(p=c.join(","));else if(isString(c)){p=c;let f=snakeCase(p);te(`modules.${f}`)&&(p=t(`modules.${f}`))}else isNumber(c)&&(p=c.toString());if(p&&isString(p)){let f="\\w\\s"+__preg_quote(`çşıİğüö.,;?|:_-=<>/"'`),m=new RegExp(String.raw`^([${f}]+)?(${l})([${f}]+)?$`);e.match(m)?r=e.replace(m,"$1"+p+"$3"):__log("Not matched sentence",m,e,e.match(m))}else isArray(p)&&(r=p)}}return r},castEvalAttribute=(value,ownerItem)=>{let returnValue=value;if(matchEvalAttribute(value)){let matches=value.match(EvalPattern),evalText=matches[1],evalParts=evalText.split(" ").map(e=>castAttribute(e,ownerItem));try{returnValue=eval(evalParts.join(" "))}catch(e){console.error("Error in eval",e)}}return returnValue},castAttribute=(e,a)=>matchAttribute(e)?replacePattern(e,a):matchEvalAttribute(e)?castEvalAttribute(e,a):matchStandardAttribute(e)?castStandardAttribute(e,a):e,castObjectAttribute=(value,ownerItem,options={})=>{if(!isString(value))return value;let returnValue=value;if(matchAttribute(value))returnValue=replacePattern(value,ownerItem);else if(matchEvalAttribute(value)){let matches=value.match(EvalPattern),evalText=matches[1],evalParts=evalText.split(" ").map(e=>{if(AttributePattern.test(e)){let o=e.match(AttributePattern)[1],r=__data_get(ownerItem,o,void 0);if(r!==void 0)return r}return e});try{return eval(evalParts.join(" "))}catch(e){console.error("Error in eval",e)}}else if(matchStandardAttribute(value))return castStandardAttribute(value,ownerItem,options);return returnValue},castObjectAttributes=(e,a)=>isString(e)?castObjectAttribute(e,a):isArray(e)?e.map(o=>castObjectAttributes(o,a)):isObject(e)?Object.keys(e).reduce((o,r)=>(o[r]=castObjectAttributes(e[r],a),o),{}):e;return{matchAttribute,matchStandardAttribute,matchEvalAttribute,castAttribute,castStandardAttribute,castEvalAttribute,castObjectAttribute,castObjectAttributes}}function useBadge(e,a){return{isBadge:i=>{if(!window.__isset(i.badge))return!1;let n=i.badge;return window.__isString(n)&&(n=parseInt(n)),n>0},badgeProps:i=>({...i.componentProps??{},content:i.badgeContent??i.badge,color:i.badgeColor??"warning",textColor:i.badgeTextColor??"white"})}}const _sfc_main$1s={name:"FormActions",emits:["actionComplete"],props:{modelValue:{type:Object,required:!0},isEditing:{type:Boolean,required:!1},actions:{type:Object,required:!0}},setup(e,a){const{handleAction:o,allActions:r,hasActions:i}=useItemActions(e,{...a,actionItem:e.modelValue}),{generateButtonProps:n}=useGenerate(),{isBadge:l,badgeProps:s}=useBadge(),u=computed(()=>r.value.map(p=>!0));return{hasActions:i,allActions:r,handleAction:o,valids:u,createModel:(p,f)=>{const m=getModel(p,e.modelValue);return f.isEditing===!1&&delete m.id,m},generateButtonProps:n,isBadge:l,badgeProps:s}}};function _sfc_render$1e(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([r.hasActions?"d-flex flex-wrap ga-4 py-4":""])},[renderSlot(e.$slots,"prepend",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing}))),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.allActions,(u,c)=>(openBlock(),createElementBlock(Fragment,null,[u.type!=="modalx"?(openBlock(),createBlock(VTooltip,{key:0,disabled:!u.icon||u.forceLabel,location:u.tooltipLocation??"top"},{activator:withCtx(p=>[u.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:e.editedItem[u.key??"published"]??u.default??!1,ref_for:!0},{...u.componentProps,...p.props},{disabled:u.disabled??!1,"onUpdate:modelValue":f=>r.handleAction(u)}),null,16,["modelValue","disabled","onUpdate:modelValue"])):u.type==="modal"&&u.endpoint&&u.schema?(openBlock(),createBlock(s,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","no-default-body-padding":"","has-close-button":"","has-fullscreen-button":"","has-title-divider":"","no-actions":"",ref_for:!0},u.modalAttributes??{},{"use-model-value":!1,"description-body-class":"d-flex flex-column fill-height w-100"}),{activator:withCtx(f=>[r.isBadge(u)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},r.badgeProps(u)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...r.generateButtonProps(u),...f.props,...p.props}),null,16)]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...r.generateButtonProps(u),...f.props,...p.props}),null,16))]),"body.description":withCtx(f=>[createVNode(l,mergeProps({ref_for:!0,ref:`extra-form-${c}`,modelValue:r.createModel(u.schema,u),title:u.formTitle??null,schema:u.schema,"action-url":u.endpoint.replace(":id",o.modelValue.id),valid:r.valids[c],"is-editing":u.isEditing??o.isEditing,class:"w-100",style:f.isFullActive?"height: 90vh !important;":"height: 70vh !important;","fill-height":"",scrollable:"","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:m=>e.$emit("actionComplete",{action:u}),"onUpdate:valid":m=>r.valids[c]=m,"onUpdatex:modelValue":a[0]||(a[0]=m=>e.$log(m))},u.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1040)):u.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[r.isBadge(u)?(openBlock(),createBlock(VBadge,mergeProps({key:0,ref_for:!0},r.badgeProps(u)),{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...r.generateButtonProps(u),...p.props},{onClick:f=>r.handleAction(u)}),null,16,["onClick"])]),_:2},1040)):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...r.generateButtonProps(u),...p.props},{onClick:f=>r.handleAction(u)}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(u.tooltip??u.label),1)]),_:2},1032,["disabled","location"])):createCommentVNode("",!0)],64))),256)),renderSlot(e.$slots,"append",normalizeProps(guardReactiveProps({item:o.modelValue,isEditing:o.isEditing})))],2)}const FormActions=_export_sfc(_sfc_main$1s,[["render",_sfc_render$1e]]),_sfc_main$1r={name:"FormEvents",emits:["update:modelValue"],props:{events:{type:Array,required:!0},modelValue:{type:Object,required:!0},formItem:{type:Object,default:()=>({})}},computed:{input:{get(){return this.modelValue??{}},set(e){this.$emit("update:modelValue",e)}}},methods:{updateValue(e,a){this.input={...this.modelValue,[e]:a}},getEventActiveLabel(e){const a=e.items.find(o=>o[e.itemValue]===(window.__isset(this.input[e.name])?this.input[e.name]:-1));return a?a[e.itemTitle]:e.label},getEventProps(e){return this.$lodash.omit(e,["type","name","tooltip","conditions","scopeRole","allowedRoles","tooltipLocation"])}}};function _sfc_render$1d(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(!0),createElementBlock(Fragment,null,renderList(o.events,s=>(openBlock(),createBlock(VTooltip,{key:s.name,disabled:e.$isset(s.tooltip)||s.tooltip===!1,location:s.tooltipLocation??"top"},{activator:withCtx(u=>[s.type==="switch"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,ref_for:!0},{...e.$lodash.omit(s,"label"),...e.props},{"hide-details":"",modelValue:n.input[s.name]??s.default??!1,"onUpdate:modelValue":c=>n.updateValue(s.name,c)}),null,16,["modelValue","onUpdate:modelValue"])):s.viewOnlyComponent?(openBlock(),createBlock(l,mergeProps({key:1,configuration:s.viewOnlyComponent,"bind-data":{...n.input,...o.formItem},ref_for:!0},u.props),null,16,["configuration","bind-data"])):s.component?(openBlock(),createBlock(resolveDynamicComponent(s.component),mergeProps({key:2,ref_for:!0},{...u.props,...n.getEventProps(s)},{modelValue:n.input[s.name]??s.default??!1,"onUpdate:modelValue":c=>n.updateValue(s.name,c)}),null,16,["modelValue","onUpdate:modelValue"])):s.items&&Array.isArray(s.items)&&s.items.length?(openBlock(),createBlock(VMenu,{key:3,"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:withCtx(c=>[createVNode(VBtn,mergeProps({variant:"outlined","append-icon":"mdi-chevron-down",ref_for:!0},c.props),{default:withCtx(()=>[createTextVNode(toDisplayString(n.getEventActiveLabel(s)),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.items,(c,p)=>(openBlock(),createBlock(VListItem,{key:c.id,onClick:f=>n.updateValue(s.name,c[s.itemValue])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(c.name)+" ",1),e.$isset(o.modelValue[s.name])&&c[s.itemValue]===o.modelValue[s.name]?(openBlock(),createBlock(VIcon,{key:0,size:"small",icon:"$check",color:"primary"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.tooltip??s.label),1)]),_:2},1032,["disabled","location"]))),128)}const FormEvents=_export_sfc(_sfc_main$1r,[["render",_sfc_render$1d]]),AdditionalSectionContent={props:{actionsPosition:String,isEditing:Boolean,formItem:Object,actions:[Array,Object]},emits:["action-complete"],template:`
    <div class="mb-2">
      <!-- Right Top Form Actions -->
      <FormActions v-if="actionsPosition == 'right-top' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-top"></slot>

      <!-- Right Middle Form Actions -->
      <FormActions v-if="actionsPosition == 'right-middle' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-middle"></slot>

      <!-- Right Bottom Form Actions -->
      <FormActions v-if="actionsPosition == 'right-bottom' && isEditing"
        :modelValue="formItem"
        :actions="actions"
        :is-editing="isEditing"
        @action-complete="$emit('actionComplete', $event)"
      >
        <template #prepend="actionsScope">
          <slot name="actions.prepend" v-bind="actionsScope"></slot>
        </template>
        <template #append="actionsScope">
          <slot name="actions.append" v-bind="actionsScope"></slot>
        </template>
      </FormActions>

      <slot name="right-bottom"></slot>
    </div>
  `,components:{FormActions}},_sfc_main$1q={name:"ue-form",components:{FormActions,FormEvents,AdditionalSectionContent},emits:["update:valid","update:modelValue","update:schema","input","actionComplete","submitted"],props:{...makeFormProps()},provide(){return{manualValidation:computed(()=>this.manualValidation),submitForm:computed(()=>this.submit)}},setup(e,a){useStore();const o=useForm(e,a),{t:r,te:i,locale:n}=useI18n({useScope:"global"}),l=computed(()=>[e.noDefaultFormPadding?"":"pa-4",e.noDefaultSurface?"":"bg-surface",e.fillHeight?"d-flex flex-column h-100":"",e.formClass]),s=computed(()=>{const p=[];function f(m,y,v,g=""){let b=g!=""?`${g}-${y}`:y;Object.prototype.hasOwnProperty.call(m,"slots")&&Object.keys(m.slots).length>0?Object.keys(m.slots).forEach(k=>{v.push({type:"recursive-stuff",name:k,inputName:y,slotPath:b,context:m.slots[k]})}):Object.prototype.hasOwnProperty.call(m,"slotable")&&v.push({type:"form",name:m.slotable.name,inputName:m.slotable.slotTo,selfName:y,slotPath:b,schema:cloneDeep(o.invokeRuleGenerator({[y]:omit(m,["slotable"])}))}),m.schema&&isObject(m.schema)&&Object.keys(m.schema).forEach(k=>{let C=m.schema[k];f(C,k,v,b)})}return Object.keys(o.inputSchema.value).forEach(m=>{let y=o.inputSchema.value[m];f(y,m,p)}),p}),u=computed(()=>{let p={};return __isObject(e.title)?p={tag:e.title.tag||"div",type:e.title.type||"body-1",weight:e.title.weight||"regular",transform:e.title.transform||"none",color:e.title.color,padding:e.title.padding||"a-0",margin:e.title.margin||"a-0",align:e.title.align||"left",justify:e.title.justify||"start",...e.title.class?{class:e.title.class}:{class:"flex-md-row flex-column justify-md-space-between"}}:p={class:"flex-md-row flex-column justify-md-space-between"},p}),c=computed(()=>{let p=e.title;return __isObject(e.title)&&(p=e.title.text),i(p)?r(p):p});return computed(()=>e.hasStickyFrame?{cols:"12",sm:"12",md:"12",lg:"8",xl:"6","order-lg":"0","order-xl":"0"}:{cols:"12"}),computed(()=>({cols:"12",sm:"12",md:"12",lg:"4",xl:"6","order-lg":"1","order-xl":"1"})),onMounted(()=>{document.getElementById("timezone_session")&&o.model.value&&o.model.value._timezone&&(o.model.value._timezone=Intl.DateTimeFormat().resolvedOptions().timeZone)}),{...o,formClasses:l,formSlots:s,titleOptions:u,titleSerialized:c}}},_hoisted_1$Y=["value"],_hoisted_2$L={class:"d-flex mt-2 mt-md-0 gc-2"},_hoisted_3$I={class:"flex-grow-1 px-1"},_hoisted_4$z={key:2,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_5$u={key:1,class:"d-flex flex-wrap justify-center justify-md-start pt-6 w-100 ga-4 flex-md-row"},_hoisted_6$s={class:"d-flex justify-center justify-md-start flex-wrap flex-1-1-100 flex-md-1-1-0"},_hoisted_7$l={key:2},_hoisted_8$i={class:"ue-form__bottom"};function _sfc_render$1c(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("FormActions"),u=resolveComponent("FormEvents"),c=resolveComponent("v-custom-form-base"),p=resolveComponent("ue-recursive-stuff"),f=resolveComponent("AdditionalSectionContent");return openBlock(),createElementBlock("div",{class:normalizeClass(["ue-form"]),style:normalizeStyle({height:e.fillHeight?e.$vuetify.display.mdAndDown?"calc(97vh - 64px)":"calc(97vh)":""})},[createVNode(VForm,{id:e.id,ref:"VForm",action:e.actionUrl,method:"POST",modelValue:e.validModel,"onUpdate:modelValue":a[14]||(a[14]=m=>e.validModel=m),onSubmit:e.submit,class:normalizeClass(r.formClasses)},{default:withCtx(()=>[e.async?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:0,type:"hidden",name:"_token",value:e.$csrf},null,8,_hoisted_1$Y)),createBaseVNode("div",{class:normalizeClass([e.hasDivider||e.title?"px-1":"",e.scrollable?"flex-grow-0":"","d-flex flex-row pb-2"])},[!e.noTitle&&e.title?(openBlock(),createBlock(l,mergeProps({key:0,padding:"a-0",align:"start",justify:"start",class:"flex-1-1-100"},r.titleOptions),{default:withCtx(()=>[renderSlot(e.$slots,"header.left",normalizeProps(guardReactiveProps({title:r.titleSerialized,subtitle:e.subtitle??null,model:e.model,schema:e.inputSchema,formItem:e.formItem})),()=>[createBaseVNode("span",null,[createTextVNode(toDisplayString(r.titleSerialized)+" ",1),e.subtitle?(openBlock(),createBlock(l,{key:0,text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},null,8,["text"])):createCommentVNode("",!0)])])]),right:withCtx(()=>[createBaseVNode("div",_hoisted_2$L,[e.actionsPosition=="title-center"&&e.isEditing?(openBlock(),createBlock(s,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[0]||(a[0]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(()=>[renderSlot(e.$slots,"actions.prepend")]),append:withCtx(()=>[renderSlot(e.$slots,"actions.append")]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"headerCenter"),e.actionsPosition=="title-right"&&e.isEditing?(openBlock(),createBlock(s,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[1]||(a[1]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.formEventSchema&&e.formEventSchema.length&&e.model?(openBlock(),createBlock(u,{key:2,events:e.formEventSchema,modelValue:e.model,"onUpdate:modelValue":a[2]||(a[2]=m=>e.model=m),"form-item":e.formItem},null,8,["events","modelValue","form-item"])):createCommentVNode("",!0)])]),_:3},16)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["flex-1-0 d-flex",e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1||e.hasAdditionalSection&&e.$vuetify.display.mdAndDown||e.$slots["header.right"]?"pl-2":""])},[e.hasTraslationInputs&&e.languages&&e.languages.length&&e.languages.length>1?(openBlock(),createBlock(VChipGroup,{key:0,modelValue:e.currentLocale.value,"onUpdate:modelValue":a[3]||(a[3]=m=>e.updateLocale(m)),"selected-class":"bg-primary",mandatory:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.languages,m=>(openBlock(),createBlock(VChip,{key:m.value,text:m.shortlabel,value:m.value,variant:"outlined"},null,8,["text","value"]))),128))]),_:1},8,["modelValue"])):createCommentVNode("",!0),e.hasAdditionalSection&&e.$vuetify.display.mdAndDown?(openBlock(),createBlock(VBtn,{key:1,density:"compact",rounded:!0,size:"default",icon:"mdi-book-information-variant",class:"",onClick:a[4]||(a[4]=m=>e.showAdditionalSectionDialog=!0)})):createCommentVNode("",!0),renderSlot(e.$slots,"header.right")],2)],2),e.hasDivider?(openBlock(),createBlock(VDivider,{key:1,class:"pb-2"})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["d-flex",e.scrollable?"flex-grow-1 overflow-hidden mr-n4":""])},[createBaseVNode("div",{class:normalizeClass(["w-100 d-flex",e.scrollable?"overflow-y-auto pr-3":""])},[createBaseVNode("div",_hoisted_3$I,[e.actionsPosition=="top"&&e.isEditing?(openBlock(),createBlock(s,{key:0,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[5]||(a[5]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),renderSlot(e.$slots,"top",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.schema}))),e.actionsPosition=="middle"&&e.isEditing?(openBlock(),createBlock(s,{key:1,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[6]||(a[6]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0),e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_4$z,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:60,width:6})])):createCommentVNode("",!0),createVNode(c,{class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":""),id:e.formBaseId,modelValue:e.model,"onUpdate:modelValue":a[8]||(a[8]=m=>e.model=m),schema:e.inputSchema,row:e.rowAttribute,"form-item":e.formItem,"no-auto-generate-schema":"",onUpdate:e.handleUpdate,onInput:e.handleInput,onResize:e.handleResize,onBlur:e.handleBlur,onClick:e.handleClick},createSlots({_:2},[renderList(r.formSlots,(m,y)=>({name:`slot-inject-${m.name}-key-${e.formBaseId}-${m.slotPath}`,fn:withCtx(v=>[m.type=="form"?(openBlock(),createBlock(c,{key:0,id:`${e.formBaseId}-${m.name}`,modelValue:e.model,"onUpdate:modelValue":a[7]||(a[7]=g=>e.model=g),schema:m.schema,"onUpdate:schema":g=>m.schema=g,row:e.rowAttribute},null,8,["id","modelValue","schema","onUpdate:schema","row"])):m.type=="recursive-stuff"?(openBlock(),createBlock(p,{key:1,configuration:m.context,bindData:v},null,8,["configuration","bindData"])):createCommentVNode("",!0)])}))]),1032,["class","id","modelValue","schema","row","form-item","onUpdate","onInput","onResize","onBlur","onClick"]),e.actionsPosition=="bottom"&&e.isEditing?(openBlock(),createBlock(s,{key:3,modelValue:e.formItem,actions:e.actions,"is-editing":e.isEditing,onActionComplete:a[9]||(a[9]=m=>e.$emit("actionComplete",m))},{prepend:withCtx(m=>[renderSlot(e.$slots,"actions.prepend",normalizeProps(guardReactiveProps(m)))]),append:withCtx(m=>[renderSlot(e.$slots,"actions.append",normalizeProps(guardReactiveProps(m)))]),_:3},8,["modelValue","actions","is-editing"])):createCommentVNode("",!0)]),e.hasAdditionalSection&&e.$vuetify.display.lgAndUp?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([`flex-grow-0 ml-${e.rightSlotGap}`])},[createBaseVNode("div",{class:normalizeClass(["pt-2 gr-4",e.$vuetify.display.smAndDown?"d-none":"d-flex flex-column"]),style:normalizeStyle({...e.rightSlotWidth?{width:`${e.rightSlotWidth}px`}:{},...e.rightSlotMinWidth?{minWidth:`${e.rightSlotMinWidth}px`}:{},...e.rightSlotMaxWidth?{maxWidth:`${e.rightSlotMaxWidth}px`}:{}})},[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(f,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:a[10]||(a[10]=m=>e.$emit("actionComplete",m))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])],6)],2)):createCommentVNode("",!0),e.hasAdditionalSection?(openBlock(),createBlock(VDialog,{key:1,modelValue:e.showAdditionalSectionDialog,"onUpdate:modelValue":a[13]||(a[13]=m=>e.showAdditionalSectionDialog=m),"max-width":"500px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(e.additionalSectionDialogTitle||"Additional Options"),1),createVNode(VSpacer),createVNode(VBtn,{variant:"text",size:"default",icon:"",onClick:a[11]||(a[11]=m=>e.showAdditionalSectionDialog=!1)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[15]||(a[15]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[renderSlot(e.$slots,"right",normalizeProps(guardReactiveProps({item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})),()=>[createVNode(f,{"actions-position":e.actionsPosition,"is-editing":e.isEditing,"form-item":e.formItem,actions:e.actions,onActionComplete:a[12]||(a[12]=m=>e.$emit("actionComplete",m))},{"right-top":withCtx(()=>[renderSlot(e.$slots,"right.top",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-middle":withCtx(()=>[renderSlot(e.$slots,"right.middle",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),"right-bottom":withCtx(()=>[renderSlot(e.$slots,"right.bottom",normalizeProps(guardReactiveProps({isEditing:e.isEditing,item:e.formItem,schema:e.inputSchema,chunkedRawSchema:e.chunkedRawSchema})))]),_:3},8,["actions-position","is-editing","form-item","actions"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])):createCommentVNode("",!0)],2)],2),e.pushButtonToBottom?(openBlock(),createBlock(VSpacer,{key:2})):createCommentVNode("",!0),e.hasSubmit&&e.isSubmittable||e.$slots.submit||e.$slots.options||e.$slots.bottom?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(["px-1",e.scrollable?"flex-grow-0":""])},[e.hasSubmit&&!e.stickyButton&&e.hasDivider?(openBlock(),createBlock(VDivider,{key:0,class:""})):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_5$u,[renderSlot(e.$slots,"submit",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,saveForm:e.saveForm,buttonDefaultText:e.buttonDefaultText,loading:e.loading})),()=>[createBaseVNode("div",_hoisted_6$s,[renderSlot(e.$slots,"options",normalizeProps(guardReactiveProps({isSubmittable:e.isSubmittable,validForm:e.validModel||!e.serverValid,loading:e.loading})))]),e.isSubmittable?(openBlock(),createBlock(VBtn,{key:0,type:"submit",disabled:!(e.validModel||!e.serverValid)||e.loading||!e.isSubmittable,class:"ml-auto flex-1-1-100 flex-md-1-1-0 flex-lg-0-1-0 order-md-last order-first",block:e.$vuetify.display.smAndDown,loading:e.loading,color:e.isSubmittable?"primary":"warning"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.isSubmittable?e.buttonDefaultText:"No Operation To Perform"),1)]),_:1},8,["disabled","block","loading","color"])):createCommentVNode("",!0)])])):createCommentVNode("",!0),e.hasSubmit&&!e.stickyButton?(openBlock(),createElementBlock("div",_hoisted_7$l,[e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,indeterminate:"",color:"green"})):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$i,[renderSlot(e.$slots,"bottom",normalizeProps(guardReactiveProps({})))])],2)):createCommentVNode("",!0)]),_:3},8,["id","action","modelValue","onSubmit","class"])],4)}const Form=_export_sfc(_sfc_main$1q,[["render",_sfc_render$1c]]),__vite_glob_0_14=Object.freeze(Object.defineProperty({__proto__:null,default:Form},Symbol.toStringTag,{value:"Module"})),_sfc_main$1p={name:"FormSummaryItem",props:{index:{type:Number,required:!0},title:{type:String,required:!0},model:{type:Object,required:!0}},created(){}},_hoisted_1$X={class:"mb-6"},_hoisted_2$K={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_3$H={class:"font-weight-bold text-primary"},_hoisted_4$y={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_5$t={key:0,class:""},_hoisted_6$r={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}};function _sfc_render$1b(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$X,[createBaseVNode("div",_hoisted_2$K,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(o.index+1),1)]),_:1}),createBaseVNode("span",_hoisted_3$H,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(o.index+1),1)]),createBaseVNode("div",_hoisted_4$y,toDisplayString(o.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model,(l,s)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.model[s],(u,c)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${s}-${o.index}`},[Array.isArray(u)?(openBlock(),createElementBlock("div",_hoisted_5$t,[createBaseVNode("span",_hoisted_6$r,toDisplayString(e.window.__isObject(o.model[s])?c:u[0])+": ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(o.model[s])?u:u.slice(1),p=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${s}-${o.index}-${s}-${c}`,style:{"margin-inline-end":"8px"}},toDisplayString(p),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px","margin-block-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(u),1)]),_:2},1024))],64))),128))],64))),128))])}const FormSummaryItem=_export_sfc(_sfc_main$1p,[["render",_sfc_render$1b],["__scopeId","data-v-332f12e2"]]),__vite_glob_0_15=Object.freeze(Object.defineProperty({__proto__:null,default:FormSummaryItem},Symbol.toStringTag,{value:"Module"})),_hoisted_1$W={class:"pa-3 bg-primary"},__default__={data(){return{}},created(){}},_sfc_main$1o=Object.assign(__default__,{__name:"ImpersonateToolbar",props:{modelValue:{type:Boolean,default:!1},active:{type:Boolean,default:!1},users:{type:Array,default(){return[]}},impersonated:{type:Boolean,default:!1},route:{type:String,default:"/users/impersonate/:id"},stopRoute:{type:String,default:"/users/impersonate/stop"}},emits:["update:modelValue"],setup(e,{emit:a}){const o=e,r=a,i=ref(null),n=computed({get(){return o.modelValue},set(s){r("update:modelValue",s)}});watch$1(i,function(s,u){});const l=computed(()=>o.route.replace(":id",i.value));return(s,u)=>(openBlock(),createBlock(VBottomSheet,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=c=>n.value=c)},{activator:withCtx(({props:c})=>[createVNode(VListItem,mergeProps(c,{class:"font-weight-bold mt-2",ripple:!1,append:!1,"prepend-icon":"mdi-account-switch",title:"Impersonate Manager"}),null,16)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$W,[e.impersonated?(openBlock(),createBlock(VBtn,{key:0,color:"red",href:e.stopRoute},{default:withCtx(()=>u[2]||(u[2]=[createTextVNode(" Stop Impersonating ")])),_:1},8,["href"])):createCommentVNode("",!0),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VSelect,{key:1,class:"mt-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c),items:e.users,variant:"outlined",density:"compact","item-title":"name","item-value":"id",clearable:""},{item:withCtx(({props:c,item:p})=>[createVNode(VListItem,mergeProps(c,{title:`${p.raw.name} (${p.raw.company_name})`,subtitle:p.raw.email}),null,16,["title","subtitle"])]),_:1},8,["modelValue","items"])),e.impersonated?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:2,href:l.value,disabled:!i.value},{default:withCtx(()=>u[3]||(u[3]=[createTextVNode("Impersonate")])),_:1},8,["href","disabled"]))])]),_:1},8,["modelValue"]))}}),__vite_glob_0_16=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1o},Symbol.toStringTag,{value:"Module"})),_sfc_main$1n={name:"ue-list-element",props:{item:{type:Object,required:!0},selectItem:{type:Number,default:0},selectedSubItem:{type:Number,default:0}},data:()=>({open:["Users"],admins:[["Management","mdi-account-multiple-outline"],["Settings","mdi-cog-outline"]],cruds:[["Create","mdi-plus-outline"],["Read","mdi-file-outline"],["Update","mdi-update"],["Delete","mdi-delete"]]})};function _sfc_render$1a(e,a,o,r,i,n){return openBlock(),createBlock(VList,{opened:e.open,"onUpdate:opened":a[0]||(a[0]=l=>e.open=l)},{default:withCtx(()=>[createVNode(VListItem,{"prepend-icon":"mdi-home",title:"Home"}),createVNode(VListGroup,{value:"Users"},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps(l,{"prepend-icon":"mdi-account-circle",title:"Users"}),null,16)]),default:withCtx(()=>[createVNode(VListGroup,{value:"Admin"},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps(l,{title:"Admin"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.admins,([l,s],u)=>(openBlock(),createBlock(VListItem,{key:u,title:l,"prepend-icon":s,value:l},null,8,["title","prepend-icon","value"]))),128))]),_:1}),createVNode(VListGroup,{value:"Actions"},{activator:withCtx(({props:l})=>[createVNode(VListItem,mergeProps(l,{title:"Actions"}),null,16)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.cruds,([l,s],u)=>(openBlock(),createBlock(VListItem,{key:u,value:l,title:l,"prepend-icon":s},null,8,["value","title","prepend-icon"]))),128))]),_:1})]),_:1})]),_:1},8,["opened"])}const ListElement=_export_sfc(_sfc_main$1n,[["render",_sfc_render$1a]]),__vite_glob_0_17=Object.freeze(Object.defineProperty({__proto__:null,default:ListElement},Symbol.toStringTag,{value:"Module"})),_sfc_main$1m={name:"ue-list-section",props:{title:{type:String},titleTag:{type:String,default:"h3"},titleClasses:{type:String,default:"text-body-1 font-weight-medium"},itemClasses:{type:String,default:"text-body-2"},headerClasses:{type:String,default:"text-body-2 font-weight-bold"},items:{type:Array,required:!0},itemFields:{type:Array,default:()=>["name"]},headers:{type:Array,default:null},showHeader:{type:Boolean,default:!1},colClasses:{type:Array,default:()=>[]},colWidths:{type:Array,default:()=>[]},colRatios:{type:Array,default:()=>[]},rowClassFn:{type:Function,default:null},emptyMessage:{type:String,default:"No items to display"},striped:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},hasRowBottomBorder:{type:Boolean,default:!1},actionsHeader:{type:String,default:""},verticalAlignTop:{type:Boolean,default:!1}},computed:{effectiveHeaders(){return this.headers||this.itemFields.map(e=>e.replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase()))},totalRatio(){return!this.colRatios||this.colRatios.length===0?this.itemFields.length:this.colRatios.reduce((e,a,o)=>e+(a||1),0)}},methods:{getColumnStyle(e){if(this.colWidths&&this.colWidths[e])return{width:this.colWidths[e],flexBasis:this.colWidths[e]};if(this.colRatios&&this.colRatios.length>0){const i=this.colRatios[e]||1,n=i/this.totalRatio*100;return{flex:`${i} 0 0`,maxWidth:`${n}%`}}const a=this.itemFields.length,o=this.$slots["row-actions"]?1:0;return{flex:"1 1 0",maxWidth:`${100/(a+o)}%`}},getRowClass(e,a){let o=[this.itemClasses];if(this.striped&&a%2===1&&o.push("bg-grey-lighten-5"),this.hoverable&&o.push("ue-list-section__row--hoverable"),this.rowClassFn){const r=this.rowClassFn(e,a);r&&o.push(r)}return o.join(" ")}}},_hoisted_1$V={class:"ue-list-section"},_hoisted_2$J={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_3$G={key:1,class:"ue-list-section__row ue-list-section__row--title"},_hoisted_4$x={class:"ue-list-section__cell"},_hoisted_5$s={key:0,class:"ue-list-section__cell ue-list-section__cell--actions"},_hoisted_6$q={key:2,class:"ue-list-section__row ue-list-section__row--empty"},_hoisted_7$k={class:"ue-list-section__row--empty .ue-list-section__cell"};function _sfc_render$19(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$V,[createBaseVNode("div",{class:normalizeClass(["ue-list-section__container",{"align-top":o.verticalAlignTop}])},[o.showHeader?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["ue-list-section__row ue-list-section__row--header",o.headerClasses])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.effectiveHeaders,(l,s)=>(openBlock(),createElementBlock("div",{key:`header-${s}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[s]??""]]),style:normalizeStyle(n.getColumnStyle(s))},[renderSlot(e.$slots,`header.${s}`,mergeProps({ref_for:!0},{header:l}),()=>[createTextVNode(toDisplayString(l),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_2$J,[renderSlot(e.$slots,"actions-header",{},()=>[createTextVNode(toDisplayString(o.actionsHeader),1)],!0)])):createCommentVNode("",!0)],2)):createCommentVNode("",!0),o.title?(openBlock(),createElementBlock("div",_hoisted_3$G,[createBaseVNode("div",_hoisted_4$x,[(openBlock(),createBlock(resolveDynamicComponent(o.titleTag),{class:normalizeClass(o.titleClasses)},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"]))])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(l,s)=>(openBlock(),createElementBlock("div",{key:`item-${s}`,class:normalizeClass(["ue-list-section__row ue-list-section__row--data",[n.getRowClass(l,s),{"has-bottom-border":o.hasRowBottomBorder}]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.itemFields,(u,c)=>(openBlock(),createElementBlock("div",{key:`item-field-${c}`,class:normalizeClass(["ue-list-section__cell",[o.colClasses[c]??""]]),style:normalizeStyle(n.getColumnStyle(c))},[renderSlot(e.$slots,`field.${c}`,mergeProps({ref_for:!0},{value:e.$lodash.get(l,u),item:l,index:s}),()=>[createTextVNode(toDisplayString(e.$lodash.get(l,u,"")),1)],!0)],6))),128)),e.$slots["row-actions"]?(openBlock(),createElementBlock("div",_hoisted_5$s,[renderSlot(e.$slots,"row-actions",mergeProps({ref_for:!0},{item:l,index:s}),void 0,!0)])):createCommentVNode("",!0)],2))),128)),o.items.length===0&&o.emptyMessage?(openBlock(),createElementBlock("div",_hoisted_6$q,[createBaseVNode("div",_hoisted_7$k,toDisplayString(o.emptyMessage),1)])):createCommentVNode("",!0)],2)])}const ListSection=_export_sfc(_sfc_main$1m,[["render",_sfc_render$19],["__scopeId","data-v-e89d1f35"]]),__vite_glob_0_18=Object.freeze(Object.defineProperty({__proto__:null,default:ListSection},Symbol.toStringTag,{value:"Module"})),_sfc_main$1l={emits:["update:modelValue"],props:{csrf:{type:String}},data(){return{dialog:!1}}},_hoisted_1$U=["value"];function _sfc_render$18(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:i.dialog,"onUpdate:modelValue":a[1]||(a[1]=u=>i.dialog=u)},e.$bindAttributes(),{"width-type":"md"}),{activator:withCtx(({props:u})=>[renderSlot(e.$slots,"activator",{props:u},()=>[createVNode(VBtn,mergeProps({class:"w-66 m-auto",color:"red lighten-2",dark:""},u),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040)])]),body:withCtx(u=>[createVNode(VCard,{class:"text-center"},{default:withCtx(()=>[createVNode(VCardTitle,{class:""},{default:withCtx(()=>[createVNode(l,{type:"h5",weight:"medium",justify:"center",color:"primary",padding:"t-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-title")),1)]),_:1})]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-description")),1)]),_:1}),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(VBtn,{class:"",variant:"outlined",onClick:a[0]||(a[0]=c=>i.dialog=!1),density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-cancel")),1)]),_:1}),createVNode(VForm,{method:"post",action:"/logout"},{default:withCtx(()=>[createBaseVNode("input",{type:"hidden",name:"_token",value:e.$csrf()},null,8,_hoisted_1$U),createVNode(VBtn,{variant:"elevated",type:"submit",density:"compact"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout-confirm")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:3},16,["modelValue"])}const LogoutModal=_export_sfc(_sfc_main$1l,[["render",_sfc_render$18]]),__vite_glob_0_19=Object.freeze(Object.defineProperty({__proto__:null,default:LogoutModal},Symbol.toStringTag,{value:"Module"})),_hoisted_1$T=["innerHTML"],_sfc_main$1k={__name:"MarkdownRender",props:{markdown:{type:String,required:!0}},setup(e){const a=e,o=ref(""),r=ref([]),i=()=>{const n=new Map;return l=>{let s=l.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(n.has(s)){const u=n.get(s)+1;n.set(s,u),s=`${s}-${u}`}else n.set(s,1);return s}};return watch$1(()=>a.markdown,n=>{if(!n){o.value="",r.value=[];return}const l=new d.Renderer,s=i(),u=[];l.heading=c=>{const p=c.depth,f=c.text,m=s(f);return p<=3&&u.push({level:p,id:m,text:f}),`<h${p} id="${m}">${f}</h${p}>`},o.value=d(n,{renderer:l}),r.value=u},{immediate:!0}),(n,l)=>(openBlock(),createBlock(VContainer,{fluid:""},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{md:r.value.length?9:12,cols:"12",class:"pr-4"},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:o.value,class:"markdown-body"},null,8,_hoisted_1$T)]),_:1},8,["md"]),r.value.length?(openBlock(),createBlock(VCol,{key:0,md:"3",class:"d-none d-md-block"},{default:withCtx(()=>[createVNode(VCard,{class:"sticky-top",flat:""},{default:withCtx(()=>[createVNode(VCardTitle,{class:"text-subtitle-1 py-2 px-3 font-weight-medium"},{default:withCtx(()=>l[0]||(l[0]=[createTextVNode("On this page")])),_:1}),createVNode(VList,{density:"compact",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,s=>(openBlock(),createBlock(VListItem,{class:normalizeClass(["text-body-2 py-1",`heading-level-${s.level}`]),key:s.id,href:`#${s.id}`,title:s.text,style:normalizeStyle({"padding-left":(s.level-1)*16+"px"}),link:""},null,8,["class","href","title","style"]))),128))]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1}))}},MarkdownRender=_export_sfc(_sfc_main$1k,[["__scopeId","data-v-2ee0aec6"]]),__vite_glob_0_20=Object.freeze(Object.defineProperty({__proto__:null,default:MarkdownRender},Symbol.toStringTag,{value:"Module"})),_sfc_main$1j={name:"A17MediaMetadata",props:{media:{type:Object,default:()=>{}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:{fieldName:function(){return`${this.name}[${this.id}]`},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?typeof this.defaultMetadatas=="object"?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":this.defaultMetadatas!==null?this.defaultMetadatas:"":""},...mapState({languages:e=>e.language.all,currentLocale:e=>e.language.active.value})},methods:{saveMetadata:function(e){e.locale||(e={value:e}),e.id=this.id,this.$emit("change",e)}},mounted:function(){const e={};let a="",o=0;this.languages.forEach(r=>{const i=r.value;if(this.customMetadatas){this.customMetadatas[i]?e[i]=this.customMetadatas[i]:(this.customMetadatas===!0||typeof this.customMetadatas=="string")&&o===0?(e[i]=this.customMetadatas,a=this.customMetadatas):e[i]="";const n={};n.name=this.fieldName,n.value=e[i],this.languages.length>1&&(n.locale=i),this.$store.commit(FORM.UPDATE_FORM_FIELD,n)}o++}),this.initialValues=e,this.initialValue=a}},_hoisted_1$S={key:1},_hoisted_2$I=["innerHTML"],_hoisted_3$F={key:3,class:"mediaMetadata__checkbox"};function _sfc_render$17(e,a,o,r,i,n){const l=resolveComponent("a17-locale"),s=resolveComponent("a17-wysiwyg"),u=resolveComponent("a17-textfield"),c=resolveComponent("a17-checkbox");return e.languages.length>1&&n.fieldType==="text"?(openBlock(),createBlock(l,{key:0,type:o.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:n.attributes,onChange:n.saveMetadata},null,8,["type","initialValues","attributes","onChange"])):n.fieldType==="text"&&o.wysiwyg?(openBlock(),createElementBlock("div",_hoisted_1$S,[createVNode(s,{options:o.wysiwygOptions,label:o.label,name:n.fieldName,type:n.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:n.saveMetadata},null,8,["options","label","name","type","initialValue","maxlength","onChange"]),createBaseVNode("p",{class:"f--note f--small",innerHTML:n.placeholder},null,8,_hoisted_2$I)])):n.fieldType==="text"?(openBlock(),createBlock(u,{key:2,label:o.label,name:n.fieldName,type:"text",placeholder:n.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:o.maxlength,onChange:n.saveMetadata},null,8,["label","name","placeholder","initialValue","maxlength","onChange"])):n.fieldType==="checkbox"?(openBlock(),createElementBlock("div",_hoisted_3$F,[createVNode(c,{label:o.label,name:n.fieldName,initialValue:e.initialValue,value:1,onChange:n.saveMetadata,inStore:"value"},null,8,["label","name","initialValue","onChange"])])):createCommentVNode("",!0)}const MediaMetadata=_export_sfc(_sfc_main$1j,[["render",_sfc_render$17],["__scopeId","data-v-b8b069a3"]]),__vite_glob_0_21=Object.freeze(Object.defineProperty({__proto__:null,default:MediaMetadata},Symbol.toStringTag,{value:"Module"})),_hoisted_1$R={class:"d-flex"},_hoisted_2$H={key:0,class:"d-flex align-center justify-center me-2"},_sfc_main$1i={__name:"Metric",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},color:{type:String,default:null},cardColor:{type:String,default:null},labelColor:{type:String,default:null},valueClass:{type:String,default:""},labelClass:{type:String,default:""},dense:{type:Boolean,default:!1},noInline:{type:Boolean,default:!1},center:{type:Boolean,default:!1},icon:{type:String,default:null},appendIcon:{type:String,default:null},appendIconAttributes:{type:Object,default:()=>({})}},setup(e){const a=e,o=computed(()=>({"d-inline-block":!a.noInline,"ue-metric":!0,"text-center":a.center,"py-1 px-1":!a.dense})),r=computed(()=>["font-weight-bold",a.dense?"text-h4":"text-h3",a.color?`text-${a.color}`:"",a.valueClass]),i=computed(()=>[a.color?`text-${a.color}`:"",a.labelColor?`text-${a.labelColor}`:"",a.dense?"text-caption":"text-subtitle",a.labelClass]);return(n,l)=>(openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value)},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-3 pr-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$R,[e.appendIcon?(openBlock(),createElementBlock("div",_hoisted_2$H,[createVNode(VIcon,mergeProps(e.appendIconAttributes,{icon:e.appendIcon}),null,16,["icon"])])):createCommentVNode("",!0),createBaseVNode("div",null,[renderSlot(n.$slots,"value",normalizeProps(guardReactiveProps({value:e.value,classes:r.value})),()=>[createBaseVNode("div",{class:normalizeClass(r.value)},toDisplayString(e.value),3)],!0),renderSlot(n.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,classes:i.value,icon:e.icon})),()=>[createBaseVNode("div",{class:normalizeClass(i.value)},[e.icon?(openBlock(),createBlock(VIcon,{key:0,icon:e.icon},null,8,["icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.label),1)],2)],!0)])])]),_:3})]),_:3},8,["color","class"]))}},Metric=_export_sfc(_sfc_main$1i,[["__scopeId","data-v-57735a08"]]),__vite_glob_0_22=Object.freeze(Object.defineProperty({__proto__:null,default:Metric},Symbol.toStringTag,{value:"Module"})),_sfc_main$1h={__name:"MetricGroups",props:{title:{type:String,default:""},items:{type:Array,required:!0},defaultCol:{type:Object,default:()=>({cols:12})},metricsBgHeaderColor:{type:String,default:null},metricsNoInline:{type:Boolean,default:null},metricColor:{type:String,default:null},metricCardColor:{type:String,default:null},metricLabelColor:{type:String,default:null},metricValueClass:{type:String,default:null},metricLabelClass:{type:String,default:null},metricNoInline:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>({...a.metricColor?{metricColor:a.metricColor}:{},...a.metricCardColor?{metricCardColor:a.metricCardColor}:{},...a.metricLabelColor?{metricLabelColor:a.metricLabelColor}:{},...a.metricValueClass?{metricValueClass:a.metricValueClass}:{},...a.metricLabelClass?{metricLabelClass:a.metricLabelClass}:{},...a.metricNoInline?{metricNoInline:a.metricNoInline}:{}})),r=computed(()=>a.items.map(i=>({...a.metricsBgHeaderColor?{bgHeaderColor:a.metricsBgHeaderColor}:{},...a.metricsNoInline?{noInline:a.metricsNoInline}:{},...o.value,...i})));return(i,n)=>{const l=resolveComponent("ue-metrics");return openBlock(),createBlock(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(s,u)=>(openBlock(),createBlock(VCol,mergeProps({key:u,ref_for:!0},{...e.defaultCol,...s.col??{}}),{default:withCtx(()=>[createVNode(l,mergeProps({ref_for:!0},{...i.$lodash.omit(s,"col")}),null,16)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})}}},__vite_glob_0_23=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1h},Symbol.toStringTag,{value:"Module"})),_hoisted_1$Q={class:"py-2"},_sfc_main$1g={__name:"Metrics",props:{title:{type:String,required:!0},subtitle:{type:String,default:null},items:{type:Array,default:()=>[]},color:{type:String,default:null},cardColor:{type:String,default:null},filterColor:{type:String,default:null},bgHeaderColor:{type:String,default:null},hasGutter:{type:Boolean,default:!1},gutterStep:{type:Number,default:1},rowClass:{type:String,default:null},noInline:{type:Boolean,default:!1},dateLabel:{type:String,default:"Today"},date:{type:String,default:null},metricWidth:{type:[String,Number],default:null},minMetricWidth:{type:[String,Number],default:130},metricAttributes:{type:Object,default:()=>({})},endpoint:{type:String,default:null}},setup(e){const a=e,o=computed(()=>[a.noInline?"":"d-inline-block"]),r=computed(()=>[a.bgHeaderColor?`bg-${a.bgHeaderColor}`:"","d-flex justify-space-between align-center pa-4"]),i=computed(()=>[a.color?`text-${a.color}`:"","font-weight-medium text-body-1 text-wrap"]),n=computed(()=>[a.filterColor?`text-${a.filterColor}`:"","d-flex align-center"]),l=computed(()=>["d-flex flex-wrap ga-4",a.rowClass?a.rowClass:"",a.hasGutter?`mx-n${a.gutterStep}`:""]),s=computed(()=>({...a.metricAttributes??{}})),u=ref(a.items),c=computed(()=>u.value.filter(v=>v.connectorFilter&&isObject(v.connectorFilter)&&v.connectorFilter.name&&v.connectorFilter.args)),p=computed(()=>c.value.length>0),f=ref(null),m=ref(!1),y=()=>{m.value=!0,axios.post(a.endpoint,{date_range:f.value,items:u.value}).then(v=>{v.data.variant==="success"&&(u.value=v.data.data)}).catch(v=>{console.log(v)}).finally(()=>{m.value=!1})};return watch$1(f,(v,g)=>{(Array.isArray(v)&&v.length>1||!v&&g&&g.length>1)&&y()}),(v,g)=>{const b=resolveComponent("ue-title"),k=resolveComponent("v-date-input"),C=resolveComponent("ue-metric");return openBlock(),createBlock(VCard,{color:e.cardColor,class:normalizeClass(o.value),elevation:"0"},{default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(r.value)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$Q,[createVNode(b,{padding:"a-0",text:e.title,class:normalizeClass(i.value)},null,8,["text","class"]),createVNode(b,{padding:"a-0",text:e.subtitle,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none"},null,8,["text"])]),p.value&&e.endpoint?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(n.value),style:{width:"280px"}},[createVNode(k,{modelValue:f.value,"onUpdate:modelValue":g[0]||(g[0]=w=>f.value=w),Xlabel:v.$t(""),"validate-on":"submit blur",variant:"outlined",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"",required:"","hide-details":"",multiple:"range",clearable:"",disabled:m.value,class:"w-100"},null,8,["modelValue","Xlabel","disabled"])],2)):createCommentVNode("",!0)]),_:1},8,["class"]),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(l.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,(w,V)=>(openBlock(),createBlock(C,mergeProps({key:V,style:[e.metricWidth?`width: ${e.metricWidth}`:"",e.minMetricWidth?`min-width: ${e.minMetricWidth}px`:""],dense:"","no-inline":"",ref_for:!0},{...s.value,...w}),createSlots({_:2},[w.filtered?{name:"value",fn:withCtx(T=>[createVNode(VBadge,{color:"grey-lighten-4",class:"text-white",icon:"mdi-filter-check",inline:"",Xdot:"","X-floating":""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(T.classes)},toDisplayString(T.value),3)]),_:2},1024)]),key:"0"}:void 0]),1040,["style"]))),128))],2)]),_:1})]),_:1},8,["color","class"])}}},__vite_glob_0_24=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1g},Symbol.toStringTag,{value:"Module"})),_sfc_main$1f={name:"ue-navigation-group",inject:["activeMenu"],props:{items:{type:Array,required:!0},level:{type:Number,default:0},hideIcons:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1},profileMenu:{type:Boolean,default:!1}},setup(e,a){const o=(r,i)=>(Array.isArray(i)&&i.forEach(function(n){__isset(n.is_active)&&n.is_active&&__isset(n.items)&&(r.push(n.name),o(r,n.items))}),r);return{getListGroupOpens:o}},data:()=>({opened:[]}),computed:{activeIndex:{get(){try{return this.items.findIndex(e=>e.is_active==1)}catch{return 0}},set(e){}},style(){return{marginLeft:"0rem"}}},created(){this.opened=this.getListGroupOpens([],this.items)},watch:{},methods:{getComponentType(e){return this.isSubgroup(e)?"v-list-group":this.isMenu(e)?"v-menu-wrapper":"v-list-item"},getComponentProps(e,a){const o={index:a};return this.isSubgroup(e)?{...e.props??{},"prepend-icon":e.icon,value:e.name,items:e.items,level:this.level+1,...o}:this.isMenu(e)?{item:e,...e.props??{},hideIcons:this.hideIcons,...o}:{...o,...this.getListItemProps(e,a)}},getListItemProps(e,a){const o={nav:!0,active:this.activeIndex===a,ripple:!1,append:!1,title:e.name,"prepend-icon":this.hideIcons?null:e.icon};return this.isRoute(e)?(o.href=e.route||e.href,Object.assign(o,this.$bindAttributes(e))):this.isEvent(e)?o.onClick=()=>this.$call(e.event):this.isMenuRoute(e)?(o.density="compact",o.href=e.route||e.href,o.slim=!0,o.class={"px-4":!this.hideIcons,"ml-2":!0},Object.assign(o,this.$bindAttributes(e))):this.isHeader(e)&&(o.inactive=!0,o.disabled=!0),o},getListGroupOpens(e,a){return Array.isArray(a)&&a.forEach(o=>{o.is_active&&o.items&&(e.push(o.name),this.getListGroupOpens(e,o.items))}),e},isSubgroup:e=>!!e.items,isRoute(e){return!e.items&&(!!e.route||!!e.href)&&!this.profileMenu},isEvent:e=>!!e.attr,isHeader:e=>!e.href&&!e.route&&!e.items&&!!e.name,isMenu:e=>!!e.menuItems,isMenuRoute(e){return!e.menuItems&&this.profileMenu&&(!!e.route||!!e.href)},formatBadgeContent(e){let a=parseInt(e);return a>9?"9+":a}}};function _sfc_render$16(e,a,o,r,i,n){const l=resolveComponent("ue-navigation-group");return openBlock(),createBlock(VList,{modelValue:n.activeIndex,"onUpdate:modelValue":a[0]||(a[0]=s=>n.activeIndex=s),opened:e.opened,"onUpdate:opened":a[1]||(a[1]=s=>e.opened=s),style:normalizeStyle(n.style),"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,class:"mb-2 pl-0",nav:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(s,u)=>(openBlock(),createElementBlock(Fragment,{key:u},[n.isSubgroup(s)?(openBlock(),createBlock(VListGroup,{key:u+"subgroup",index:u,ripple:!0,"prepend-icon":s.icon,"sub-group":!1,"active-class":`sidebar-item-active sidebar-item-active-${o.level}`,value:s.name},{activator:withCtx(({props:c})=>[createVNode(VTooltip,{bottom:"",disabled:!o.showTooltip},{activator:withCtx(p=>[createBaseVNode("div",mergeProps({ref_for:!0},p.props),[createVNode(VListItem,mergeProps({ref_for:!0},c,{title:s.name,"prepend-icon":o.hideIcons?null:s.icon,nav:""}),createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(f=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:s.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040,["title","prepend-icon"])],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"])]),default:withCtx(()=>[createVNode(l,{items:s.items,level:o.level+1,hideIcons:o.hideIcons,"show-tooltip":o.showTooltip},null,8,["items","level","hideIcons","show-tooltip"])]),_:2},1032,["index","prepend-icon","active-class","value"])):n.isMenu(s)?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VListItem,{nav:"",title:s.name,"prepend-icon":s.icon,"append-icon":"mdi-menu-right",density:"compact",id:s.menuActivator,slim:!0,onClick:c=>e.$emit("activateMenu",s.menuActivator)},createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(c=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,{icon:s.icon},null,8,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1032,["title","prepend-icon","id","onClick"]),n.activeMenu===`#${s.menuActivator}`?(openBlock(),createBlock(VMenu,{key:0,location:"end",activator:n.activeMenu},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(l,{items:Object.values(s.menuItems),"show-tooltip":o.showTooltip},null,8,["items","show-tooltip"])]),_:2},1024)]),_:2},1032,["activator"])):createCommentVNode("",!0)],64)):(openBlock(),createBlock(VTooltip,{key:2,bottom:"",disabled:!o.showTooltip},{activator:withCtx(({props:c})=>[createBaseVNode("div",mergeProps({ref_for:!0},c),[(openBlock(),createBlock(resolveDynamicComponent(n.getComponentType(s)),mergeProps({ref_for:!0},n.getComponentProps(s,u)),createSlots({_:2},[s.badge?{name:"prepend",fn:withCtx(p=>[createVNode(VBadge,mergeProps({color:"warning",ref_for:!0},s.badgeProps??{},{content:n.formatBadgeContent(s.badge)}),{default:withCtx(()=>[createVNode(VIcon,mergeProps({ref_for:!0},s.iconProps??{},{icon:s.icon}),null,16,["icon"])]),_:2},1040,["content"])]),key:"0"}:void 0]),1040))],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s.name),1)]),_:2},1032,["disabled"]))],64))),128))]),_:1},8,["modelValue","opened","style","active-class"])}const NavigationGroup=_export_sfc(_sfc_main$1f,[["render",_sfc_render$16]]),__vite_glob_0_25=Object.freeze(Object.defineProperty({__proto__:null,default:NavigationGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$1e={props:{payload:{type:Object,required:!0},endpoint:{type:String,required:!0},printKeys:{type:[Array,Object],required:!0},loadingText:{type:String,default:"Loading..."}},data(){return{values:{},loading:!0}},methods:{getDisplayText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||0]=="string")return e[this.printKeys[a||0]];const o=this.printKeys[a||0];return e[o==null?void 0:o.text]}return e[this.printKeys.text]??""},getSubText(e,a=null){if(Array.isArray(this.printKeys)){if(typeof this.printKeys[a||1]=="string")return e[this.printKeys[a||1]];const o=this.printKeys[a||0];return e[o==null?void 0:o.subText]}return e[this.printKeys.subText]??""},async sendRequest(){this.loading=!0;try{const e=await axios$1.post(this.endpoint,this.payload);e.status===200&&(this.values=e.data)}catch(e){console.error("Error calculating price:",e)}finally{this.loading=!1}}},mounted(){this.sendRequest()},watch:{payload:{handler(){this.sendRequest()},deep:!0}}},_hoisted_1$P={key:0,class:"d-flex flex-column align-center"},_hoisted_2$G={class:"mt-2"};function _sfc_render$15(e,a,o,r,i,n){const l=resolveComponent("ue-text-display");return openBlock(),createElementBlock("div",null,[i.loading?(openBlock(),createElementBlock("div",_hoisted_1$P,[createVNode(VProgressCircular,{indeterminate:"",color:"primary"}),createBaseVNode("span",_hoisted_2$G,toDisplayString(o.loadingText),1)])):(openBlock(),createElementBlock(Fragment,{key:1},[Array.isArray(i.values)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(i.values,(s,u)=>(openBlock(),createElementBlock("div",{key:u},[createVNode(l,{class:"text-h5",text:n.getDisplayText(s,u),"sub-text":n.getSubText(s,u)},null,8,["text","sub-text"])]))),128)):(openBlock(),createBlock(l,{key:1,class:"text-h5",text:n.getDisplayText(i.values),"sub-text":n.getSubText(i.values)},null,8,["text","sub-text"]))],64))])}const PrintRequest=_export_sfc(_sfc_main$1e,[["render",_sfc_render$15]]),__vite_glob_0_26=Object.freeze(Object.defineProperty({__proto__:null,default:PrintRequest},Symbol.toStringTag,{value:"Module"})),_hoisted_1$O={key:0},_hoisted_2$F=["innerHTML"],_hoisted_3$E=["innerHTML"],_sfc_main$1d={__name:"PropertyList",props:{data:{type:[Array,Object],default:()=>[]},noPadding:{type:Boolean,default:!1}},setup(e){const a=e,o=computed(()=>Array.isArray(a.data)?a.data:typeof a.data=="object"&&a.data!==null?Object.entries(a.data).map(([i,n])=>[i,n]):[]),r=i=>!i||i.length===0?null:i.map(l=>Array.isArray(l)?l.join(", "):l).join(", ");return(i,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["ue-property-list",e.noPadding?"":"ue-property-list--padding"])},[!o.value||o.value.length===0?(openBlock(),createElementBlock("div",_hoisted_1$O,"No data available")):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(o.value,(l,s)=>(openBlock(),createElementBlock("div",{key:s,class:"ue-property-list__item d-flex flex-wrap"},[createBaseVNode("span",{class:"text-caption font-weight-bold pr-1",innerHTML:l[0].trim()+(l.slice(1).length>0?":":"")},null,8,_hoisted_2$F),createBaseVNode("span",{class:"text-caption",innerHTML:r(l.slice(1))},null,8,_hoisted_3$E)]))),128))],2))}},PropertyList=_export_sfc(_sfc_main$1d,[["__scopeId","data-v-b43b9e9f"]]),__vite_glob_0_27=Object.freeze(Object.defineProperty({__proto__:null,default:PropertyList},Symbol.toStringTag,{value:"Module"})),_sfc_main$1c={name:"ue-recursive-data-viewer",props:{data:{type:[Array,Object,String,Number,Boolean],required:!0},allArrayItemsClosed:{type:Boolean,default:!1},allArrayItemsOpen:{type:Boolean,default:!1},arrayIndex:{type:Number,default:null},objectDepth:{type:Number,default:0},allObjectsClosed:{type:Boolean,default:!1},allObjectsOpen:{type:Boolean,default:!1},objectTitle:{type:String,default:null}},data(){return{isExpanded:this.determineInitialExpanded(),expandedItems:new Set(this.determineInitialExpandedItems())}},methods:{determineInitialExpanded(){return Array.isArray(this.data)?this.allArrayItemsClosed?!1:this.allArrayItemsOpen?!0:this.arrayIndex===0:typeof this.data=="object"&&this.data!==null?this.allObjectsClosed?!1:this.allObjectsOpen?!0:this.objectDepth===0:!0},determineInitialExpandedItems(){return this.allArrayItemsClosed?[]:this.allArrayItemsOpen?Array.from({length:this.data.length},(e,a)=>a):[0]},toggleItem(e){this.expandedItems.has(e)?this.expandedItems.delete(e):this.expandedItems.add(e)},isItemExpanded(e){return this.expandedItems.has(e)},getPreview(e){return Array.isArray(e)?`Array(${e.length})`:typeof e=="object"&&e!==null?"Object":typeof e=="string"?`"${e.substring(0,30)}${e.length>30?"...":""}"`:String(e)}}},_hoisted_1$N={class:"text-body-2"},_hoisted_2$E={class:"array-items"},_hoisted_3$D={class:""},_hoisted_4$w={class:"json-key"},_hoisted_5$r={class:"json-value"},_hoisted_6$p={key:2};function _sfc_render$14(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-data-viewer");return Array.isArray(o.data)?(openBlock(),createBlock(VCard,{key:0,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"py-2 px-4"},{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-code-brackets",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_1$N,"Array ("+toDisplayString(o.data.length)+" items)",1)]),_:1}),createBaseVNode("div",_hoisted_2$E,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(s,u)=>(openBlock(),createElementBlock("div",{key:u,class:"array-item"},[createVNode(VCard,{variant:"flat",class:"mb-1"},{default:withCtx(()=>[createVNode(l,{data:s,"array-index":0,"object-depth":u===0?o.objectDepth:o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open"])]),_:2},1024)]))),128))])]),_:1})):typeof o.data=="object"&&o.data!==null?(openBlock(),createBlock(VCard,{key:1,variant:"flat",class:"mb-2"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex align-center py-2 px-4 collapsible-header text-body-2",onClick:a[0]||(a[0]=s=>i.isExpanded=!i.isExpanded)},{default:withCtx(()=>[createVNode(VIcon,{icon:i.isExpanded?"mdi-chevron-down":"mdi-chevron-right",class:"mr-2",size:"small"},null,8,["icon"]),createVNode(VIcon,{icon:"mdi-code-braces",class:"mr-2",size:"small"}),createBaseVNode("span",_hoisted_3$D," Object ("+toDisplayString(Object.keys(o.data).length)+" properties) ",1)]),_:1}),createVNode(VExpandTransition,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",null,[createVNode(VTable,{density:"compact",class:"json-table"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.data,(s,u)=>(openBlock(),createElementBlock("tr",{key:u,class:"json-row"},[createBaseVNode("td",_hoisted_4$w,toDisplayString(u),1),createBaseVNode("td",_hoisted_5$r,[createVNode(l,{data:s,"array-index":0,"object-depth":o.objectDepth+1,"all-array-items-closed":o.allArrayItemsClosed,"all-array-items-open":o.allArrayItemsOpen,"all-objects-closed":o.allObjectsClosed,"all-objects-open":o.allObjectsOpen,"object-titlex":e.window.__isObject(s)?u:null},null,8,["data","object-depth","all-array-items-closed","all-array-items-open","all-objects-closed","all-objects-open","object-titlex"])])]))),128))])]),_:1})],512),[[vShow,i.isExpanded]])]),_:1})]),_:1})):(openBlock(),createElementBlock("span",_hoisted_6$p,toDisplayString(o.data),1))}const RecursiveDataViewer=_export_sfc(_sfc_main$1c,[["render",_sfc_render$14],["__scopeId","data-v-c5013ed3"]]),__vite_glob_0_28=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveDataViewer},Symbol.toStringTag,{value:"Module"})),_sfc_main$1b={props:{configuration:{type:[Object,Array,String],default(){return{}}},level:{type:Number,default:0},bindData:{type:Object,default(){return{}}}},setup(props,context){const{castObjectAttributes}=useCastAttributes(),componentElement=ref(null);getCurrentInstance();const FuncPattern=/^\{(.*)\}$/,CastPattern=/\$([\w|.|\_|\-]+)/,slots=computed(()=>props.configuration.hasOwnProperty("slots")?props.configuration.slots:{});function isTextable(e){return isString(e)||isNumber(e)}function hasSlot(e){return e.hasOwnProperty("slots")}function isObject(e){return __isObject(e)}function applyCasting(value,funcs=[]){if(!window.__isString(value))return value;if(FuncPattern.test(value)){const matches=value.match(FuncPattern),evalText=matches[1];let evalParts=evalText.split(" ").map(e=>{if(CastPattern.test(e)){let o=e.match(CastPattern)[1],r=__data_get(props.bindData,o,void 0);if(r!==void 0)return r}return e});try{return eval(evalParts.join(" "))}catch(e){console.error(e)}}if(CastPattern.test(value)){const e=value.match(CastPattern);if(e){let a=get(props.bindData,e[1]);if(a!==void 0)try{funcs.forEach(o=>{window[o]&&typeof window[o]=="function"&&(a=window[o](a))})}catch(o){console.error(o)}return a}}return value}const filteredAttributes=cloneDeep(props.configuration.attributes),castedAttributes=computed(()=>{const e=props.configuration.attributes??{},a=cloneDeep(e);return castObjectAttributes(a,props.bindData)}),bindAttributes=computed(()=>{const e=props.bindData;let a={};if(e&&isObject(e)){let o=props.configuration.bind;o&&(isString(o)&&(o=[o]),isArray(o)&&e&&o.forEach(r=>{let i=r,n=r.match(CastPattern);n&&(i=n[1]);let l;Object.prototype.hasOwnProperty.call(e,i)?l=__data_get(e,i,void 0):Object.prototype.hasOwnProperty.call(e,r)&&(l=__data_get(e,r,void 0)),l!==void 0&&(a={...a,...l})}))}return a}),castedElements=computed(()=>{let e=props.configuration.elements??"";return e&&castObjectAttributes(e,props.bindData)}),hasDirectives=computed(()=>props.configuration.directives&&Object.keys(props.configuration.directives).length>0),builtInDirectives={html:!0,text:!0,show:!0,if:!0,else:!0,"else-if":!0,for:!0,on:!0,bind:!0,model:!0,slot:!0,pre:!0,cloak:!0,once:!0},builtInDirectivesForWithDirectives=computed(()=>{if(!props.configuration.directives)return[];const e=[];return Object.entries(props.configuration.directives).forEach(([a,o])=>{builtInDirectives.hasOwnProperty(a)&&(a==="html"?e.push([{beforeMount(r,i){r.innerHTML=i.value},updated(r,i){r.innerHTML=i.value}},applyCasting(o)]):a==="text"?e.push([{beforeMount(r,i){r.textContent=i.value},updated(r,i){r.textContent=i.value}},applyCasting(o)]):a==="show"&&e.push([vShow,applyCasting(o)]))}),e}),customDirectives=computed(()=>props.configuration.directives?Object.entries(props.configuration.directives).filter(([e])=>!builtInDirectives.hasOwnProperty(e)).map(([e,a])=>{try{const o=resolveDirective(e);let r=applyCasting(a);return[o,r]}catch(o){return console.error(`Custom directive '${e}' could not be resolved:`,o),null}}).filter(Boolean):[]),allDirectives=computed(()=>[...builtInDirectivesForWithDirectives.value,...customDirectives.value]),builtInDirectiveAttributes=computed(()=>({})),renderComponentWithDirectives=()=>{const e={...filteredAttributes,...bindAttributes.value,...castedAttributes.value,...builtInDirectiveAttributes.value},a=[];isArray(castedElements.value)?castedElements.value.forEach((i,n)=>{a.push(h("ue-recursive-stuff",{key:`tag-${props.level}-${n}`,level:props.level+1,configuration:i,"bind-data":props.bindData??{}}))}):isObject(castedElements.value)?a.push(h("ue-recursive-stuff",{key:`tag-${props.level}-object`,level:props.level+1,configuration:castObjectAttributes(props.configuration.elements,props.bindData),"bind-data":props.bindData??{}})):isTextable(castedElements.value)&&a.push(applyCasting(castedElements.value));const o={};Object.entries(slots.value).forEach(([i,n])=>{o[i]=(l={})=>h("ue-recursive-stuff",{level:props.level+1,configuration:n,"bind-data":{...props.bindData,...l}})});const r=h(props.configuration.tag,e,a.length>0?a:o);return allDirectives.value.length>0?withDirectives(r,allDirectives.value):r};return{isTextable,isArray,isObject,applyCasting,castObjectAttributes,hasSlot,filteredAttributes,castedAttributes,castedElements,bindAttributes,slots,componentElement,hasDirectives,renderComponentWithDirectives}},data(){return{}},created(){}};function _sfc_render$13(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return!o.configuration.tag&&r.isTextable(r.castedElements)?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(r.applyCasting(r.castedElements)),1)],64)):!o.configuration.tag&&r.isArray(r.castedElements)?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(r.castedElements,(s,u)=>(openBlock(),createBlock(resolveDynamicComponent(s.tag),mergeProps({key:`tag-${o.level}-${u}`,ref_for:!0},s.attributes),{default:withCtx(()=>[createTextVNode(toDisplayString(r.castObjectAttributes(s.elements,o.bindData)),1)]),_:2},1040))),128)):o.configuration.tag&&r.hasDirectives?(openBlock(),createBlock(resolveDynamicComponent(r.renderComponentWithDirectives),{key:2})):o.configuration.tag?(openBlock(),createBlock(resolveDynamicComponent(o.configuration.tag),normalizeProps(mergeProps({key:3},{...r.filteredAttributes,...r.bindAttributes,...r.castedAttributes})),createSlots({default:withCtx(()=>[r.isArray(r.castedElements)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(r.castedElements,(s,u)=>(openBlock(),createBlock(l,{key:`tag-${o.level}-${u}`,level:o.level+1,configuration:s,"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"]))),128)):createCommentVNode("",!0),r.isObject(r.castedElements)?(openBlock(),createBlock(l,{key:`tag-${o.level}-${e.i}`,level:o.level+1,configuration:r.castObjectAttributes(o.configuration.elements,o.bindData),"bind-data":o.bindData??{}},null,8,["level","configuration","bind-data"])):r.isTextable(r.castedElements)?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(r.applyCasting(r.castedElements)),1)],64)):createCommentVNode("",!0)]),_:2},[renderList(r.slots,(s,u)=>({name:`${u}`,fn:withCtx(c=>[createVNode(l,{level:o.level+1,configuration:s,"bind-data":{...o.bindData,...c}},null,8,["level","configuration","bind-data"])])}))]),1040)):createCommentVNode("",!0)}const RecursiveStuff=_export_sfc(_sfc_main$1b,[["render",_sfc_render$13]]),__vite_glob_0_29=Object.freeze(Object.defineProperty({__proto__:null,default:RecursiveStuff},Symbol.toStringTag,{value:"Module"})),_sfc_main$1a={props:{token:String,env:String,paymentId:String,revolutOrderId:String,orderId:String,completeUrl:String},setup(e){const a=useDynamicModal();let o=ref(null);return RevolutCheckoutLoader(e.token,e.env).then(r=>{o=r.createCardField({target:document.getElementById("embed-form"),onSuccess(){a.open("ue-recursive-stuff",{props:{configuration:{elements:[{tag:"v-progress-circular",attributes:{size:24,color:"primary",indeterminate:!0}},{tag:"div",attributes:{class:"d-flex flex-column justify-center align-center w-100"},elements:"Payment is processing..."}]}},modalProps:{widthType:"md",noActions:!0}}),axios.post(e.completeUrl+"?id="+e.paymentId+"&status=success",{id:e.paymentId,status:"success"}).then(i=>{i.status===200&&i.data.variant==="success"&&i.data.redirector&&redirector(i.data)}).finally(()=>{a.close()})},onError(i){console.log("error",i)}})}),watch$1(o,r=>{r&&console.log("createCardField",r)}),{}},mounted(){document.getElementById("revolut-loader")}};function _sfc_render$12(e,a,o,r,i,n){return openBlock(),createElementBlock(Fragment,null,[createVNode(VContainer,{class:"d-flex flex-column justify-center align-center w-100 pa-8"},{default:withCtx(()=>[a[1]||(a[1]=createBaseVNode("div",{id:"embed-form",class:"d-flex flex-column",style:{height:"200px"}},null,-1)),createVNode(VBtn,{class:"mt-4",block:"",onClick:e.submit},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Pay")])),_:1},8,["onClick"])]),_:1}),a[2]||(a[2]=createBaseVNode("div",{id:"revolut-loader",style:{position:"fixed",inset:"0",display:"none","align-items":"center","justify-content":"center",background:"rgba(255,255,255,0.7)","z-index":"9999"}},[createBaseVNode("div",{style:{display:"flex","flex-direction":"column","align-items":"center","font-family":"system-ui, -apple-system, Segoe UI, Roboto"}},[createBaseVNode("div",{style:{width:"32px",height:"32px",border:"3px solid #ccc","border-top-color":"#111","border-radius":"50%",animation:"spin .9s linear infinite"}}),createBaseVNode("div",{style:{"margin-top":"10px",color:"#111"}},"Processing...")])],-1))],64)}const RevolutCheckout=_export_sfc(_sfc_main$1a,[["render",_sfc_render$12],["__scopeId","data-v-3609aedd"]]),__vite_glob_0_30=Object.freeze(Object.defineProperty({__proto__:null,default:RevolutCheckout},Symbol.toStringTag,{value:"Module"})),_sfc_main$19={props:{token:String,env:String,paymentId:String,orderId:String,revolutOrderId:String,completeUrl:String},setup(e){const a=useDynamicModal();console.log("props",e);let o=null;return RevolutCheckoutLoader(e.token,e.env).then(i=>{console.log("instance",i),o=i.payWithPopup}),{pay:()=>{o({email:"test@test.com",onSuccess(...i){a.open("ue-recursive-stuff",{props:{configuration:{elements:[{tag:"v-progress-circular",attributes:{size:24,color:"primary",indeterminate:!0}},{tag:"div",attributes:{class:"d-flex flex-column justify-center align-center w-100"},elements:"Payment is processing..."}]}},modalProps:{widthType:"md",noActions:!0}}),axios.post(e.completeUrl+"?id="+e.paymentId+"&status=success",{id:e.paymentId,status:"success"}).then(n=>{n.status===200&&n.data.variant==="success"&&n.data.redirector&&redirector$1(n.data)}).finally(()=>{a.close()})},onError(...i){axios.post(e.completeUrl+"?id="+e.paymentId+"&status=error",{id:e.paymentId,status:"error"}).then(()=>{a.close()}),console.log("error",i)},onClose(){console.log("close")},onCancel(){console.log("cancel")}})}}},mounted(){}},_hoisted_1$M={style:{"margin-top":"12px"}};function _sfc_render$11(e,a,o,r,i,n){return openBlock(),createBlock(VContainer,{class:"d-flex flex-column justify-center align-center w-100"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$M,[renderSlot(e.$slots,"button",normalizeProps(guardReactiveProps({pay:r.pay})),()=>[createVNode(VBtn,{id:"pay-button",onClick:r.pay},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Pay")])),_:1},8,["onClick"])],!0)])]),_:3})}const RevolutCheckoutModal=_export_sfc(_sfc_main$19,[["render",_sfc_render$11],["__scopeId","data-v-faeb85db"]]),__vite_glob_0_31=Object.freeze(Object.defineProperty({__proto__:null,default:RevolutCheckoutModal},Symbol.toStringTag,{value:"Module"})),_sfc_main$18={name:"StepperHeader",props:{forms:{type:Array,required:!0},activeStep:{type:Number,required:!0}},emits:["step-click"]},_hoisted_1$L=["onClick"];function _sfc_render$10(e,a,o,r,i,n){return openBlock(),createBlock(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(l,s)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${s}`,complete:o.activeStep>s+1,title:l.title,value:s+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{icon:withCtx(u=>[u.hasCompleted?(openBlock(),createBlock(VIcon,{key:0,icon:"$check",color:"white",onClick:c=>e.$emit("step-click",u.step)},null,8,["onClick"])):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(u.step),1)],64))]),title:withCtx(u=>[createBaseVNode("div",{onClick:c=>e.$emit("step-click",s+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([u.hasCompleted||u.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(u.title),3)],8,_hoisted_1$L)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:o.activeStep>o.forms.length,title:"Preview & Summary",value:o.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(l=>[createBaseVNode("span",{class:normalizeClass([l.hasCompleted||l.step==o.activeStep?"text-primary font-weight-bold":""])},toDisplayString(l.title),3)]),_:1},8,["complete","value"])]),_:1})}const StepperHeader=_export_sfc(_sfc_main$18,[["render",_sfc_render$10]]),_sfc_main$17={name:"StepperContent",props:{modelValue:{type:Array,required:!0},forms:{type:Array,required:!0},schemas:{type:Array,required:!0,default:()=>[]},activeStep:{type:Number,required:!0},formRefs:{type:Array,required:!0},isEditing:{type:Boolean,default:!1},maxHeight:{type:String,default:"84vh"},coverHeight:{type:Number,default:0}},emits:["form-input","form-valid","update:modelValue","update:schemas"],data(){return{models:cloneDeep(this.modelValue),localSchemas:cloneDeep(this.schemas)}},computed:{inputModels:{get(){return this.modelValue},set(e,a){}},inputSchemas:{get(){return this.schemas},set(e,a){isEqual(e,a)}}},methods:{updateFormModel(e,a){this.models.splice(a,1,e)},updateFormSchema(e,a){this.localSchemas.splice(a,1,cloneDeep(e))}},watch:{modelValue:{handler(e){isEqual(e,this.models)||(this.models=cloneDeep(e))},deep:!0},schemas:{handler(e){isEqual(e,this.localSchemas)||(this.localSchemas=cloneDeep(e))},deep:!0},models:{handler(e){isEqual(e,this.modelValue)||this.$emit("update:modelValue",cloneDeep(e))},deep:!0},localSchemas:{handler(e){isEqual(e,this.schemas)||this.$emit("update:schemas",cloneDeep(e))},deep:!0}}};function _sfc_render$$(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(s,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{id:"ue-stepper-content-window",class:"fill-height overflow-y-auto px-4",style:normalizeStyle(`max-height: calc(${o.maxHeight} - ${o.coverHeight}px)`)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(u,c)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${c}`,value:c+1},{default:withCtx(()=>[o.activeStep>c?(openBlock(),createBlock(l,{key:0,ref_for:!0,ref:o.formRefs[c],id:`stepper-form-${c+1}`,isEditing:o.isEditing,modelValue:i.models[c],"onUpdate:modelValue":[p=>i.models[c]=p,p=>n.updateFormModel(p,c)],XmodelValue:n.inputModels[c],"onXupdate:modelValue":p=>n.updateFormModel(p,c),schema:i.localSchemas[c],"onUpdate:schema":p=>n.updateFormSchema(p,c),Xschema:n.inputSchemas[c],"onXupdate:schema":p=>n.updateFormSchema(p,c),onInput_:a[0]||(a[0]=p=>e.$log("input emitted from form on steppercontent",p)),onInput:p=>e.$emit("form-input",{event:p,index:c}),"onUpdate:valid":p=>e.$emit("form-valid",{event:p,index:c}),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","XmodelValue","onXupdate:modelValue","schema","onUpdate:schema","Xschema","onXupdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:o.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview")]),_:3},8,["value"])]),_:3},8,["style"])]),_:3})}const StepperContent=_export_sfc(_sfc_main$17,[["render",_sfc_render$$]]),_sfc_main$16={name:"StepperSummary",props:{isLastStep:Boolean,forms:Array,activeStep:Number,models:Array,schemas:Array,previewModel:Array,previewTitles:Array,isPreviewModelFilled:Function},emits:["next-form","complete-form"]};function _sfc_render$_(e,a,o,r,i,n){const l=resolveComponent("ue-form-summary-item"),s=resolveComponent("v-btn-secondary"),u=resolveComponent("v-sheet-rounded");return openBlock(),createBlock(u,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[o.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(o.isLastStep,"")])},{default:withCtx(()=>[o.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:o.models,schema:o.schemas,previewModel:o.previewModel,onComplete:()=>e.$emit("complete-form")}))):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(c,p)=>renderSlot(e.$slots,`summary-form-${p+1}`,mergeProps({key:`stepper-summary-item-${p}`,ref_for:!0},{index:p,order:p+1,title:o.previewTitles[p],isPreviewModelFilled:o.isPreviewModelFilled,model:o.models[p],schema:o.schemas[p],previewModel:o.previewModel[p]??{},length:o.forms.length}),()=>[o.isPreviewModelFilled(p)&&p!==0&&p<o.forms.length-1?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),o.isPreviewModelFilled(p)?(openBlock(),createBlock(l,{key:1,index:p,title:o.previewTitles[p],model:o.previewModel[p]},null,8,["index","title","model"])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(s,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:a[0]||(a[0]=c=>e.$emit("next-form",o.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])}const StepperSummary=_export_sfc(_sfc_main$16,[["render",_sfc_render$_]]),_sfc_main$15={name:"StepperPreview",emits:["final-form-action"],props:{formattedPreview:{type:Array,default:()=>[]},previewFormData:{type:Array,default:()=>[]},lastStepModel:{type:Object,required:!0},finalFormTitle:{type:String,required:!0},finalFormSubtitle:{type:String,default:null},protectedLastStepModel:{type:Object,default:()=>{}}},methods:{fieldSelected(e){const a=e.fieldName,o=this.lastStepModel[a]??[],r=e._fieldFormat??"id",i=e._fieldFormatUniqueKey??"id",n=e._fieldFormatSourceKey??"id";let l=!1;if(isString(r))result=includes(o,e[r]);else if(isObject(r)){let s=o.find(u=>u[i]===e[n]);l=s!=null}return l},getFieldIcon(e){return this.fieldSelected(e)?"mdi-minus":"mdi-plus"},getFieldColor(e){return this.fieldSelected(e)?"grey":"primary"},isReadOnly(e){const a=e.fieldName,o=this.protectedLastStepModel[a]??[],r=e._fieldFormat??"id",i=e._fieldFormatUniqueKey??"id",n=e._fieldFormatSourceKey??"id";let l=!1;if(isString(r))l=includes(o,e[r]);else if(isObject(r)){let s=o.find(u=>__isset(e[n])&&__isset(u[i])&&u[i]===e[n]);l=s!=null}return l}},created(){}},_hoisted_1$K={class:"d-flex flex-column ga-2 my-4"},_hoisted_2$D={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$C=["innerHTML"],_hoisted_4$v={key:0,class:"text-caption mt-4 d-flex ga-4 flex-wrap"},_hoisted_5$q={class:"text-h4 font-weight-medium py-auto justify-center w-100"},_hoisted_6$o={class:"d-flex fill-height align-content-md-center"};function _sfc_render$Z(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-configurable-card"),u=resolveDirective("fit-grid");return openBlock(),createBlock(VSheet,null,{default:withCtx(()=>[createVNode(l,{type:"body-1",weight:"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.formattedPreview,(c,p)=>(openBlock(),createBlock(VCol,{key:`summary-${p}`,cols:"12",md:c.col||6,class:"d-flex"},{default:withCtx(()=>[createVNode(s,mergeProps({ref_for:!0},c,{elevation:"2","title-color":"primary",class:"my-2 w-100 h-100","col-padding-x":"4"}),null,16)]),_:2},1032,["md"]))),128)),o.previewFormData.length>0?withDirectives((openBlock(),createBlock(VCol,{key:0,cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$K,[createVNode(l,{type:"body-1","font-weight":"bold",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormTitle),1)]),_:1}),o.finalFormSubtitle?(openBlock(),createBlock(l,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormSubtitle),1)]),_:1})):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.previewFormData,(c,p)=>(openBlock(),createBlock(s,{key:`final-form-data-${p}`,"row-min-height":"120px",style:{"background-color":"transparent","min-height":"150px"},class:normalizeClass([[n.fieldSelected(c)?"bg-primary":"bg-grey-lighten-5","w-100"],"mb-4 py-4"]),elevation:"2","col-padding-x":"4",items:c.form_card_items||[[c.name||"N/A ",c.description||"N/A",c.tags||[]],c.base_price_without_vat_formatted||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{0:"",1:"",_actions:""},"column-classes":{0:"flex-1-1-0",1:"flex-0-1 d-flex align-center",_actions:"flex-0-1"}},{"segment.1":withCtx(f=>[createBaseVNode("div",_hoisted_2$D,toDisplayString(f.data[0]),1),createBaseVNode("p",{class:"text-caption",style:{"white-space":"pre-wrap","word-wrap":"break-word"},innerHTML:f.data[1]},null,8,_hoisted_3$C),Array.isArray(f.data[2])&&f.data[2].length>0?(openBlock(),createElementBlock("div",_hoisted_4$v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.data[2],m=>(openBlock(),createBlock(VChip,{key:m,variant:"outlined",size:"small",class:""},{default:withCtx(()=>[createTextVNode(toDisplayString(m.name??m.slug),1)]),_:2},1024))),128))])):createCommentVNode("",!0)]),"segment.2":withCtx(f=>[createBaseVNode("div",_hoisted_5$q,toDisplayString(f.data),1)]),"segment.actions":withCtx(f=>[createBaseVNode("div",_hoisted_6$o,[createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":f.actionProps.actionIconMinHeight,"min-height":f.actionProps.actionIconMinHeight,size:f.actionProps.actionIconSize,icon:n.getFieldIcon(c),color:n.getFieldColor(c),onClick:m=>e.$emit("final-form-action",{index:p,event:!n.fieldSelected(c)}),readonly:n.isReadOnly(c)},null,8,["min-width","min-height","size","icon","color","onClick","readonly"])])]),_:2},1032,["class","items"]))),128))]),_:1})]),_:1})),[[u]]):createCommentVNode("",!0)]),_:1})]),_:1})}const StepperPreview=_export_sfc(_sfc_main$15,[["render",_sfc_render$Z],["__scopeId","data-v-e813b9cb"]]),_sfc_main$14={name:"StepperFinalSummary",props:{loading:{type:Boolean,default:!1},isCompleted:{type:Boolean,default:!1}},emits:["complete"]},_hoisted_1$J={class:"py-0"},_hoisted_2$C={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$B={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$u={class:"text-caption text-grey-lighten-1 mb-6"};function _sfc_render$Y(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-text-display"),u=resolveComponent("v-btn-secondary");return openBlock(),createElementBlock(Fragment,null,[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(l,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider,{style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),renderSlot(e.$slots,"body",{},void 0,!0)]),_:3}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$J,[createBaseVNode("td",_hoisted_2$C,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$B,[renderSlot(e.$slots,"total",{},()=>[createVNode(s,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})],!0)])])])]),_:3}),createBaseVNode("div",_hoisted_4$u,[renderSlot(e.$slots,"description",{},()=>[a[1]||(a[1]=createTextVNode(" At "))],!0)]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(u,{class:"v-stepper-form__nextButton",block:"",disabled:o.loading||o.isCompleted,loading:o.loading,onClick:a[0]||(a[0]=c=>e.$emit("complete"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete Request").toUpperCase()),1)]),_:1},8,["disabled","loading"])]),_:1})],64)}const StepperFinalSummary=_export_sfc(_sfc_main$14,[["render",_sfc_render$Y],["__scopeId","data-v-eaf07dc3"]]),_sfc_main$13={name:"StepperForm",components:{StepperHeader,StepperContent,StepperSummary,StepperPreview,StepperFinalSummary},props:{flexBreakpoint:{type:String,default:null,validator:e=>["sm","md","lg","xl","xxl"].includes(e)},forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:[Array,Object],default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormSubtitle:{type:String,default:null},finalFormFields:{type:Array,default:()=>[]},validationScrollingDuration:{type:Number,default:1e3},validationScrollingEasing:{type:String,default:"easeInOutCubic"},validationScrollingOffset:{type:Number,default:0},protectInitialValue:{type:Boolean,default:!1},responseModalIcon:{type:String,default:"mdi-check-circle-outline"},responseModalTitle:{type:String,default:"Request Complete"},responseModalMessage:{type:String,default:"Congratulations! Your request was completed successfully."},responseModalButtonText:{type:String,default:"Ok"},responseModalOptions:{type:Object,default:()=>({})}},setup(e,a){const o=useInputHandlers(),r=useValidation(e),i=useGoTo(),n=ref(null),l=ref(!1),s=reactive({stepperActionRef:n,loading:l}),u=computed(()=>map(e.forms,(c,p)=>ref(null)));return{...o,...r,...toRefs(s),formRefs:u,goTo:i}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,lastFormPreviewLoading:!1,schemas:[],models:[],valids:[],lastFormPreview:[],lastStepModel:{},protectedLastStepModel:{},previewModel:[],pendingHandleFunctions:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var o;const e=(o=this.payload)!=null&&o.id?"put":"post",a=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(r){r.status===200&&r.data.variant==="success"?(a.loading=!1,a.isCompleted=!0,a.modalMessage=r.data.message,a.modalActive=!0):(a.loading=!1,this.$store.commit(ALERT.SET_ALERT,r.data))},function(r){a.loading=!1,__log(r)})},isPreviewModelFilled(e){const a=this.previewModel[e]??{};let o=!1;for(const r in a)if(a){o=!0;break}return o},handleInput(e){const{event:a,index:o}=e,{on:r,key:i,obj:n,value:l}=a;if(r==="input"&&i){let s=get(this.models[o],i);JSON.stringify(s)!==JSON.stringify(l)?this.pendingHandleFunctions.push((u,c,p)=>{handleMultiFormEvents(u,c,n.schema,o,p)}):handleMultiFormEvents(this.models,this.schemas,n.schema,o,this.previewModel)}},updateFormValid(e){const{event:a,index:o}=e;this.valids[o]=a},goStep(e){if(e<this.activeStep){this.activeStep=e;return}this.valids.slice(0,e-1).every(a=>a===!0)&&(this.activeStep=e)},async nextForm(e){await this.validateForm(e),this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const o=this.formRefs[e].value[0];o.manualValidation=!0;const r=await o.validate();return o.manualValidation=!1,isBoolean(r.valid)&&r.valid===!1&&this.$nextTick(()=>{const i=this.$el.querySelector(".v-input--error .v-input__details[role='alert'] .v-messages");i&&this.goTo(i,{container:"#ue-stepper-content-window",duration:this.validationScrollingDuration,offset:this.validationScrollingOffset,easing:this.validationScrollingEasing})}),r},handleFinalFormAction({index:e,event:a}){const o=this.lastFormPreview[e],r=o.fieldName,i=o._fieldFormat??"id",n=cloneDeep(this.lastStepModel);let l=this.lastStepModel[r]??[];if(isString(i))n[r]=l.includes(o[i])?l.filter(s=>s!==o[i]):[...l,o[i]];else if(isObject(i)){const s=o._fieldFormatUniqueKey??"id",u=o._fieldFormatSourceKey??"id";if(a===!1)for(const c in l){let p=l[c];if(isObject(p)&&a===!1&&p[s]===o[u]){l.splice(c,1);break}}else if(a===!0){let c={};for(const p in i){const f=i[p];c[p]=get(o,f)}l.push(c)}n[r]=l}this.lastStepModel=n},async handlePreviewFormField(e){if(!e.modelNotation)return;let a=e.modelNotation,o=`preview-form-field-${a}`,r=`preview-form-field-values-${a}`;this.lastFormPreviewLoading=!0;let i=this.$cacheGet(o,{}),n=reduce(i,(u,c,p)=>(u.push(parseInt(p)),u),[]),l=this.$cacheGet(r,[]),s=get(this.models,a);if(s&&e.endpoint){this.lastFormPreview=[];let u=Array.isArray(s)?s:[s],c=u.filter(f=>!n.includes(f)),p=u.filter(f=>n.includes(f));if(p.length>0&&p.forEach(f=>{l.filter(y=>y.form_field_id===f&&y.form_field_notation===a).forEach(y=>{this.lastFormPreview.push(y)}),i[f]=!0}),c.length>0){if(!e.endpoint)return;let f=window.__addParametersToUrl(e.endpoint,{ids:c}),m=await axios.get(f);if(m.status===200){let y=m.data;y.forEach(g=>{i[g.id]=!0}),e.notation?y=y.map(g=>{let b=get(g,e.notation,[]),k=e.cardFields??["name"],C=e.fieldName||a.split(".").pop();return Array.isArray(b)?b=b.map(w=>({...w,isSelected:!1,fieldName:C,form_field_notation:a,form_field_id:g.id,form_card_items:k.map(V=>Array.isArray(V)?V.map(T=>w[T]??"N/A"):w[V]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"})):b={...b,isSelected:!1,fieldName:C,form_field_notation:a,form_field_id:g.id,form_card_items:k.map(w=>Array.isArray(w)?w.map(V=>b[V]??"N/A"):b[w]??"N/A"),_fieldFormat:e.format??"id",_fieldFormatSourceKey:e.formatSourceKey??"id",_fieldFormatUniqueKey:e.formatUniqueKey??"id"},b}):y=y.map(g=>({...g,form_field_notation:e.notation,form_field_id:g.id})),reduce(y,(g,b)=>Array.isArray(b)?[...g,...b]:[...g,b],[]).forEach(g=>{this.$cachePush(r,g),this.lastFormPreview.push(g)})}}this.$cachePut(o,i)}this.lastFormPreviewLoading=!1}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,a)=>{let o=this.forms[a],r=__isset(o.previewTitle)?o.previewTitle:o.title;return this.$castValueMatch(r,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const a in this.schemas)e[a]=this.$getDisplayData(this.schemas[a],this.models[a]);return e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},payload(){let e=reduce(this.models,function(r,i,n){return{...r,...i}},{}),a=this.lastFormPreview,o=reduce(this.lastStepModel,function(r,i,n){return Array.isArray(i)&&(i=i.reduce((l,s)=>((isObject(s)?a.find(c=>c[c._fieldFormatSourceKey??"id"]===s[c._fieldFormatUniqueKey??"id"]&&c.fieldName===n):a.find(c=>c.id===s&&c.fieldName===n))&&l.push(s),l),[])),r[n]=i,r},{});return{...e,...o}},summaryFormScopes(){return reduce(this.$slots,(e,a,o)=>(o.match(/summary-form-\d+/)&&(e[o]=a),e),{})},activeStepIsFullWidth(){var e;return this.forms[this.activeStep-1]?((e=this.forms[this.activeStep-1])==null?void 0:e.fullWidth)===!0:!1},formCol(){let e={cols:12,lg:8,md:8};return this.activeStepIsFullWidth?{cols:12,lg:12,md:12}:e},summaryCol(){let e={cols:12,lg:4,md:4};return this.activeStepIsFullWidth?{class:"d-none"}:e},calculateHeights(){let e=0,a=76,o=64;return this.activeStepIsFullWidth&&(e+=a),this.$vuetify.display.mobile&&(e+=o),e}},watch:{schemas:{handler(e,a){isEqual(e,this.schemas)||(this.schemas=e)},deep:!0},models:{handler(e,a){this.pendingHandleFunctions.length>0&&(this.pendingHandleFunctions.forEach(o=>{typeof o=="function"&&o(this.models,this.schemas,this.previewModel)}),this.pendingHandleFunctions=[]),this.models.forEach((o,r)=>{this.previewModel[r]&&Object.keys(this.previewModel[r]).forEach(i=>{this.models[r][i]||delete this.previewModel[r][i]})})},deep:!0},activeStep:{handler(e,a){this.finalFormFields.forEach(o=>{o.afterStep&&o.afterStep===a&&this.handlePreviewFormField(o)})},deep:!0}},created(){let e=this;this.forms.forEach((a,o)=>{let r=a.schema,i=getModel(r,this.modelValue);e.models.push(i),e.schemas.push(e.invokeRuleGenerator(r,i)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormFields,(a,o,r)=>{let i=null;return __isObject(o)?i=o.inputName||o.fieldName||o.modelNotation.split(".").pop():i=o.split(".").pop(),__isset(a[i])||(a[i]=[]),a},{}),this.lastStepModel=this.$lodash.mapValues(this.lastStepModel,(a,o)=>this.modelValue[o]?this.modelValue[o]:a),this.protectInitialValue&&(this.protectedLastStepModel=cloneDeep(this.lastStepModel))}},_hoisted_1$I={key:1,class:"d-flex align-center justify-center",style:{height:"70vh"}},_hoisted_2$B={class:"d-flex flex-column align-center justify-center"},_hoisted_3$A={class:"text-h4 mb-4 text-success"},_hoisted_4$t={class:"text-subtitle-1 grey--text text-center",style:{"white-space":"pre-line"}},_hoisted_5$p={class:"d-flex justify-center w-100"};function _sfc_render$X(e,a,o,r,i,n){const l=resolveComponent("StepperHeader"),s=resolveComponent("StepperPreview"),u=resolveComponent("StepperContent"),c=resolveComponent("ue-text-display"),p=resolveComponent("StepperFinalSummary"),f=resolveComponent("StepperSummary"),m=resolveComponent("v-sheet-rounded"),y=resolveComponent("ue-modal"),v=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:i.activeStep,"onUpdate:modelValue":a[7]||(a[7]=g=>i.activeStep=g),color:"prima",class:normalizeClass(["ue-stepper-form ue-stepper--no-background fill-height flex-column",o.flexBreakpoint?`d-${o.flexBreakpoint}-flex`:"d-flex"]),"mobile-breakpoint":"md"},{default:withCtx(({prev:g,next:b})=>[createVNode(l,{forms:o.forms,"active-step":i.activeStep,onStepClick:n.goStep},null,8,["forms","active-step","onStepClick"]),createVNode(VRow,{class:"mt-2 flex-fil"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,mergeProps(n.formCol,{"order-md":"1",order:"2"}),{default:withCtx(()=>[createVNode(u,{modelValue:i.models,"onUpdate:modelValue":a[0]||(a[0]=k=>i.models=k),schemas:i.schemas,"onUpdate:schemas":a[1]||(a[1]=k=>i.schemas=k),forms:o.forms,"active-step":i.activeStep,"form-refs":r.formRefs,"is-editing":o.isEditing,onFormInput:a[2]||(a[2]=k=>n.handleInput(k)),onFormValid:a[3]||(a[3]=k=>n.updateFormValid(k)),"cover-height":n.calculateHeights},{preview:withCtx(()=>[!i.lastFormPreviewLoading&&n.isLastStep?(openBlock(),createBlock(s,{key:0,"formatted-preview":n.formattedPreview,"preview-form-data":i.lastFormPreview,"last-step-model":i.lastStepModel,"protected-last-step-model":i.protectedLastStepModel,"final-form-title":o.finalFormTitle,"final-form-subtitle":o.finalFormSubtitle,onFinalFormAction:n.handleFinalFormAction},null,8,["formatted-preview","preview-form-data","last-step-model","protected-last-step-model","final-form-title","final-form-subtitle","onFinalFormAction"])):i.lastFormPreviewLoading&&n.isLastStep?(openBlock(),createElementBlock("div",_hoisted_1$I,[createVNode(VProgressCircular,{"model-value":"20",indeterminate:""})])):createCommentVNode("",!0)]),_:1},8,["modelValue","schemas","forms","active-step","form-refs","is-editing","cover-height"])]),_:1},16)),[[v]]),createVNode(VCol,mergeProps(n.summaryCol,{"order-md":"2",order:"1"}),{default:withCtx(()=>[createVNode(f,{"is-last-step":n.isLastStep,forms:o.forms,"active-step":i.activeStep,models:i.models,schemas:i.schemas,"preview-model":i.previewModel,"preview-titles":n.previewTitles,"is-preview-model-filled":n.isPreviewModelFilled,onNextForm:n.nextForm,onCompleteForm:n.completeForm},createSlots({"summary.final":withCtx(({onComplete:k})=>[renderSlot(e.$slots,"summary.final",normalizeProps(guardReactiveProps({model:i.models,schema:i.schemas,previewModel:i.previewModel,completeForm:n.completeForm})),()=>[createVNode(p,{loading:e.loading,"is-completed":i.isCompleted,onComplete:k},createSlots({total:withCtx(()=>[renderSlot(e.$slots,"summary.final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(c,{class:"text-h5 text-white",text:"$2500",subText:"+ VAT"})])]),description:withCtx(()=>[renderSlot(e.$slots,"summary.final.description",{},()=>[a[8]||(a[8]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),_:2},[e.$slots["summary.final.body"]?{name:"body",fn:withCtx(()=>[renderSlot(e.$slots,"summary.final.body",normalizeProps(guardReactiveProps({models:i.models,schemas:i.schemas,lastStepModel:i.lastStepModel,finalFormFields:o.finalFormFields,lastFormPreview:i.lastFormPreview})))]),key:"0"}:void 0]),1032,["loading","is-completed","onComplete"])])]),_:2},[renderList(n.summaryFormScopes,(k,C)=>({name:`${C}`,fn:withCtx(w=>[renderSlot(e.$slots,C,normalizeProps(guardReactiveProps(w)))])}))]),1032,["is-last-step","forms","active-step","models","schemas","preview-model","preview-titles","is-preview-model-filled","onNextForm","onCompleteForm"])]),_:3},16)]),_:3}),n.activeStepIsFullWidth?(openBlock(),createBlock(m,{key:0,class:"mt-4 elevation-2 pt-4"},{default:withCtx(()=>[createVNode(VStepperActions,{"click:prev":"","onClick:prev":a[5]||(a[5]=k=>n.goStep(i.activeStep-1))},{next:withCtx(()=>[createVNode(VBtn,{variant:"elevated",color:"secondary",onClick:a[4]||(a[4]=k=>n.nextForm(i.activeStep-1)),disabled:e.$hasRequestInProgress()},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(y,mergeProps({ref:"modal",modelValue:i.modalActive,"onUpdate:modelValue":a[6]||(a[6]=k=>i.modalActive=k),"width-type":"md",description:i.modalMessage,persistent:""},o.responseModalOptions),{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_2$B,[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalIcon),1)]),_:1}),createBaseVNode("h2",_hoisted_3$A,toDisplayString(o.responseModalTitle),1),createBaseVNode("p",_hoisted_4$t,toDisplayString(o.responseModalMessage),1)])]),"body.options":withCtx(()=>[createBaseVNode("div",_hoisted_5$p,[createVNode(VBtn,{variant:"flat",color:"success",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(o.responseModalButtonText),1)]),_:1},8,["onClick"])])]),_:1},16,["modelValue","description"])]),_:3},8,["modelValue","class"])}const StepperForm=_export_sfc(_sfc_main$13,[["render",_sfc_render$X]]),__vite_glob_0_32=Object.freeze(Object.defineProperty({__proto__:null,default:StepperForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$12={props:{forms:{type:Object,default(){return[]}},actionUrl:{type:String},modelValue:{type:Object,default:()=>({})},redirectUrl:{type:String,default:null},preview:{type:Array,default:[]},currentStep:{type:Number,default:1},cardsNotation:{type:String,default:"models.1.pressReleasePackages"},summaryNotations:{type:Array,default:()=>({})},previewNotations:{type:[Array,Object],default:()=>[]},isEditing:{type:Boolean,default:!1},finalFormTitle:{type:String,default:null},finalFormNotations:{type:Object,default:()=>({"0.PackageCountry":{pattern:"0.wrap_location.schema.PackageCountry.items.*.package_addons",inputName:"pressReleasePackageAddons"},"0.PackageRegion":{pattern:"0.wrap_location.schema.PackageRegion.items.*.package_addons",inputName:"pressReleasePackageAddons"}})},finalCardShowFields:{type:Array,default:()=>[["name","description"],["basePrice_show"]]}},setup(e,a){const o=useInputHandlers(),r=useValidation(e),i=ref(null),n=ref(!1),l=reactive({stepperActionRef:i,loading:n}),s=computed(()=>map(e.forms,(u,c)=>ref(null)));return{...o,...r,...toRefs(l),formRefs:s}},data(){return{activeStep:this.currentStep,modalActive:!1,modalMessage:"",isCompleted:!1,schemas:[],models:[],valids:[],lastStepModel:{},previewModel:[]}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},completeForm(){var o;const e=(o=this.payload)!=null&&o.id?"put":"post",a=this;this.loading=!0,api$1[e](this.actionUrl,this.payload,function(r){a.loading=!1,a.isCompleted=!0,a.modalMessage=r.data.message,a.modalActive=!0},function(r){a.loading=!1,__log(r)})},isPreviewModelFilled(e){const a=this.previewModel[e]??{};let o=!1;for(const r in a)if(a){o=!0;break}return o},handleInput(e,a){const{on:o,key:r,obj:i}=e;o==="input"&&r&&handleMultiFormEvents(this.models,this.schemas,i.schema,a,this.previewModel)},updateFormValid(e,a){this.valids[a]=e},goStep(e){this.valids.slice(0,e-1).every(a=>a===!0)&&(this.activeStep=e)},async goNextForm(e,a){this.formRefs[a].value[0].validModel===!0?e():await this.validateForm(a)},async nextForm(e){this.formRefs[e].value[0].validModel===!0?this.activeStep+=1:e<this.forms.length&&await this.validateForm(e)},async validateForm(e){const a=this.formRefs[e];a.value[0].manualValidation=!0;const o=await a.value[0].validate();return a.value[0].manualValidation=!1,o},handleFinalFormAction(e){const a=this.previewFormData[e],o=this.lastStepModel[a.fieldName];this.lastStepModel[a.fieldName]=o.includes(a.id)?o.filter(r=>r!==a.id):[...o,a.id],this.lastStepModel={...this.lastStepModel}}},computed:{disabled(){return this.activeStep===1?"prev":this.activeStep===this.forms.length?"next":void 0},previewTitles(){return map(this.models,(e,a)=>{let o=this.forms[a],r=__isset(o.previewTitle)?o.previewTitle:o.title;return this.$castValueMatch(r,e)})},isLastStep(){return this.activeStep>this.forms.length},summaryCardModels(){return __data_get(this,this.cardsNotation,[])},displayInfo(){let e=[];for(const a in this.schemas)e[a]=this.$getDisplayData(this.schemas[a],this.models[a]);return e},formattedSummary(){let e=NotationUtil.formattedSummary(this.displayInfo,this.summaryNotations),a=this.previewFormData,o=this.lastStepModel;const r=reduce(o,function(i,n,l){let s=Array.isArray(n)?n:[n];return forEach(s,u=>{const c=find(a,p=>p.id===u&&p.fieldName===l);c&&i.push(c)}),i},[]);return r.length>0&&(e.lastStepSelections={title:this.finalFormTitle,values:map(r,i=>({title:i.name||i.title||"N/A",value:i.basePrice_show||"N/A"}))}),e},formattedPreview(){return NotationUtil.formattedPreview(this.displayInfo,this.previewNotations)},previewFormData(){let e=[];for(const a in this.finalFormNotations){let o=__data_get(this.models,a);if(!o)continue;let r=this.finalFormNotations[a],i=null,n=null;if(__isObject(r)?(n=r.pattern,i=r.inputName||r.fieldName||n.split(".").pop()):(n=r,i=n.split(".").pop()),__log(r,n,i),n){n=__wildcard_change(n,o);let l=__data_get(this.schemas,n,null);if(l){const s=(u,c)=>{if(Array.isArray(u))for(const p of u)s(p,c);else typeof u=="object"&&u!==null&&e.push({...u,fieldName:c,isSelected:!1})};s(l,i)}}}return e},payload(){return{...reduce(this.models,function(a,o,r){return{...a,...o}},{}),...this.lastStepModel}}},watch:{schemas:{handler(e,a){},deep:!0},models:{handler(e,a){this.models.forEach((o,r)=>{this.previewModel[r]&&Object.keys(this.previewModel[r]).forEach(i=>{this.models[r][i]||delete this.previewModel[r][i]})})},deep:!0}},created(){let e=this;this.forms.forEach((a,o)=>{let r=a.schema,i=getModel(r,this.modelValue);e.models.push(i),e.schemas.push(e.invokeRuleGenerator(r,i)),e.valids.push(null)}),this.previewModel=this.preview,this.lastStepModel=reduce(this.finalFormNotations,(a,o,r)=>{let i=null;return __isObject(o)?i=o.inputName||o.fieldName||o.pattern.split(".").pop():i=o.split(".").pop(),__isset(a[i])||(a[i]=[]),a},{})}},_hoisted_1$H=["onClick"],_hoisted_2$A={class:"text-body-2 font-weight-medium mb-1"},_hoisted_3$z={class:"text-caption"},_hoisted_4$s={class:"text-body-2 font-weight-medium py-auto"},_hoisted_5$o={class:"d-flex fill-height justify-space-evenly align-content-md-center"},_hoisted_6$n={class:"text-h6 mb-2"},_hoisted_7$j={class:"text-body-2 text-grey-darken-1"},_hoisted_8$h={key:1,class:"mb-6"},_hoisted_9$f={class:"d-inline-flex align-center text-body-2",style:{"line-height":"1"}},_hoisted_10$e={class:"font-weight-bold text-primary"},_hoisted_11$a={class:"text-body-1 font-weight-bold text-truncate mb-5"},_hoisted_12$7={key:0,class:""},_hoisted_13$6={class:"text-primary font-weight-bold",style:{"margin-inline-end":"8px"}},_hoisted_14$4={class:"py-0"},_hoisted_15$3={class:"border-0 h-auto py-1 pl-0 text-body-1"},_hoisted_16$2={class:"border-0 h-auto py-1 text-right pr-0 font-weight-bold text-body-1"},_hoisted_17$2={class:"py-0"},_hoisted_18$2={class:"border-0 h-auto py-1 pl-0 text-h5"},_hoisted_19$2={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_20$2={class:"text-caption text-grey mb-6"};function _sfc_render$W(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-title"),u=resolveComponent("ue-configurable-card"),c=resolveComponent("v-sheet-rounded"),p=resolveComponent("v-btn-secondary"),f=resolveComponent("ue-text-display"),m=resolveComponent("ue-modal"),y=resolveDirective("fit-grid");return openBlock(),createBlock(VStepper,{modelValue:i.activeStep,"onUpdate:modelValue":a[3]||(a[3]=v=>i.activeStep=v),color:"prima",class:normalizeClass(["ue-stepper-form","ue-stepper--no-background","fill-height  d-flex flex-column"])},{default:withCtx(({prev:v,next:g})=>[createVNode(VStepperHeader,{class:"rounded elevation-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(b,k)=>(openBlock(),createBlock(VStepperItem,{key:`stepper-item-${k}`,complete:i.activeStep>k+1,title:b.title,value:k+1,color:"primary",step:"Step {{ n }}","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(C=>[createBaseVNode("div",{onClick:w=>n.goStep(k+1),style:{cursor:"pointer"}},[createBaseVNode("span",{class:normalizeClass([C.hasCompleted||C.step==i.activeStep?"text-primary font-weight-bold":""])},toDisplayString(C.title),3)],8,_hoisted_1$H)]),_:2},1032,["complete","title","value"]))),128)),createVNode(VStepperItem,{complete:i.activeStep>o.forms.length,title:"Preview & Summary",value:o.forms.length+1,color:"primary",step:"Step Summary","complete-icon":"$complete",class:"ue-stepper-item__icon--border25"},{title:withCtx(b=>[createBaseVNode("span",{class:normalizeClass([b.hasCompleted||b.step==i.activeStep?"text-primary font-weight-bold":""])},toDisplayString(b.title),3)]),_:1},8,["complete","value"])]),_:1}),createVNode(VRow,{class:"mt-4 flex-fill"},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",lg:"8"},{default:withCtx(()=>[createVNode(c,{class:"ue-stepper-form__body d-flex w-100 flex-column justify-space-between elevation-2"},{default:withCtx(()=>[createVNode(VStepperWindow,{class:"fill-height overflow-y-auto px-6",style:{"max-height":"80vh"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(b,k)=>(openBlock(),createBlock(VStepperWindowItem,{key:`content-${k}`,value:k+1,class:""},{default:withCtx(()=>[i.activeStep>k?(openBlock(),createBlock(l,{key:0,ref_for:!0,ref:r.formRefs[k],id:`stepper-form-${k+1}`,isEditing:o.isEditing,modelValue:i.models[k],"onUpdate:modelValue":C=>i.models[k]=C,schema:i.schemas[k],"onUpdate:schema":C=>i.schemas[k]=C,onInput:C=>n.handleInput(C,k),"onUpdate:valid":C=>n.updateFormValid(C,k),noDefaultFormPadding:""},null,8,["id","isEditing","modelValue","onUpdate:modelValue","schema","onUpdate:schema","onInput","onUpdate:valid"])):createCommentVNode("",!0)]),_:2},1032,["value"]))),128)),createVNode(VStepperWindowItem,{value:o.forms.length+1,class:"pt-3"},{default:withCtx(()=>[renderSlot(e.$slots,"preview",{},()=>[createVNode(VSheet,{class:""},{default:withCtx(()=>[createVNode(s,{weight:"medium",color:"black",padding:"a-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Preview & Summary").toUpperCase()),1)]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedPreview,(b,k)=>withDirectives((openBlock(),createBlock(VCol,{key:`summary-${k}`,cols:"12",md:b.col||6},{default:withCtx(()=>[createVNode(u,mergeProps({ref_for:!0},b,{elevation:"2",class:"my-2"}),null,16)]),_:2},1032,["md"])),[[y]])),128)),createVNode(VCol,{cols:"12"},{default:withCtx(()=>[createVNode(VSheet,{class:"px-4"},{default:withCtx(()=>[createVNode(s,{type:"body-1",color:"primary","font-weight":"bold",padding:"a-0",margin:"y-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.finalFormTitle),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.previewFormData,(b,k)=>(openBlock(),createBlock(u,{key:`final-form-data-${k}`,style:{"background-color":"transparent"},class:normalizeClass([[i.lastStepModel[b.fieldName].includes(b.id)?"bg-primary":"bg-grey-lighten-5"],"mx-n4 mb-4 py-4"]),elevation:"2",items:[[b.name||"N/A ",b.description||"N/A"],b.basePrice_show||"N/A"],actions:[{onClick:()=>{}}],"hide-separator":"","align-center-columns":"","justify-center-columns":"","column-styles":{1:"flex-basis: 50%;",2:"flex-grow: 1; display: flex; justify-content: center; align-items: center;",3:"flex-grow: 1; display: flex; align-items: end;"}},{"segment.1":withCtx(C=>[createBaseVNode("div",_hoisted_2$A,toDisplayString(C.data[0]),1),createBaseVNode("div",_hoisted_3$z,toDisplayString(C.data[1]),1)]),"segment.2":withCtx(C=>[createBaseVNode("div",_hoisted_4$s,toDisplayString(C.data),1)]),"segment.actions":withCtx(C=>[createBaseVNode("div",_hoisted_5$o,[e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VDivider,{key:0,vertical:""})):createCommentVNode("",!0),createVNode(VBtn,{class:"mx-1 rounded-circle","min-width":C.actionProps.actionIconMinHeight,"min-height":C.actionProps.actionIconMinHeight,size:C.actionProps.actionIconSize,icon:i.lastStepModel[b.fieldName].includes(b.id)?"mdi-minus":"mdi-plus",color:i.lastStepModel[b.fieldName].includes(b.id)?"grey":"primary",onClick:w=>n.handleFinalFormAction(k)},null,8,["min-width","min-height","size","icon","color","onClick"])])]),_:2},1032,["class","items"]))),128)),(openBlock(),createElementBlock(Fragment,null,renderList([{id:1,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50},{id:2,title:"Lorem Ipsum Dolor",description:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis At vero eos et accusamus etiu.",price:50}],(b,k)=>(openBlock(),createElementBlock(Fragment,{key:b.id},[createCommentVNode("",!0)],64))),64))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:3},8,["value"])]),_:3}),createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)),[[y]]),createVNode(VCol,{cols:"12",lg:"4"},{default:withCtx(()=>[renderSlot(e.$slots,"summary",{},()=>[createVNode(c,{class:normalizeClass(["d-flex flex-column fill-height pa-6 elevation-2",[n.isLastStep?"pa-6 bg-primary-darken-2":""]]),style:normalizeStyle([(n.isLastStep,"")])},{default:withCtx(()=>[n.isLastStep?renderSlot(e.$slots,"summary.final",normalizeProps(mergeProps({key:1},{model:i.models,schema:i.schemas,previewModel:i.previewModel,completeForm:n.completeForm})),()=>[createVNode(VSheet,{class:"bg-primary-darken-2"},{default:withCtx(()=>[createVNode(s,{justify:"center",color:"white",text:e.$t("Total Amount").toUpperCase(),type:"h5"},null,8,["text"]),createVNode(VDivider),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedSummary,(b,k)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(s,{text:b.title,transform:"capitalize",type:"h6",color:"white",padding:"x-6",margin:"t-6",class:"mx-n6 py-3 bg-primary-darken-1"},null,8,["text"]),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(b.values,(C,w)=>(openBlock(),createElementBlock("tr",_hoisted_14$4,[createBaseVNode("td",_hoisted_15$3,toDisplayString(C.parentTitle||C.title||"N/A"),1),createBaseVNode("td",_hoisted_16$2,toDisplayString(C.value||"N/A"),1)]))),256))])]),_:2},1024)],64))),256))]),_:1}),createVNode(VSpacer),createVNode(VDivider),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_17$2,[createBaseVNode("td",_hoisted_18$2,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_19$2,[renderSlot(e.$slots,"final.total",normalizeProps(guardReactiveProps({payload:this.payload})),()=>[createVNode(f,{class:"text-h5",text:"$2500",subText:"+ VAT"})])])])])]),_:3}),createBaseVNode("div",_hoisted_20$2,[renderSlot(e.$slots,"final.description",{},()=>[a[5]||(a[5]=createTextVNode(" At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium iusto odio "))])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom",style:{"background-color":"#005868"}},{default:withCtx(()=>[createVNode(p,{class:"v-stepper-form__nextButton",block:"",disabled:e.loading||i.isCompleted,loading:e.loading,onClick:n.completeForm},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Complete").toUpperCase()),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]):renderSlot(e.$slots,"summary.forms",{key:0},()=>[createVNode(VSheet,{class:"ue-stepper-form__preview fill-height"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.forms,(b,k)=>renderSlot(e.$slots,`summary-form-${k+1}`,mergeProps({key:`stepper-summary-item-${k}`,ref_for:!0},{index:k,order:k+1,title:n.previewTitles[k],isPreviewModelFilled:n.isPreviewModelFilled,model:i.models[k],schema:i.schemas[k],previewModel:i.previewModel[k]??{}}),()=>[n.isPreviewModelFilled(k)&&k!==0?(openBlock(),createBlock(VDivider,{key:0,class:"mb-6"})):createCommentVNode("",!0),n.isPreviewModelFilled(k)?(openBlock(),createElementBlock("div",_hoisted_8$h,[createBaseVNode("div",_hoisted_9$f,[createVNode(VAvatar,{variant:"flat",color:"primary",class:"ue-avatar--border25",style:{width:"24px",height:"24px","margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(k+1),1)]),_:2},1024),createBaseVNode("span",_hoisted_10$e,toDisplayString(e.$t("fields.step"))+" "+toDisplayString(k+1),1)]),createBaseVNode("div",_hoisted_11$a,toDisplayString(n.previewTitles[k]),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.previewModel[k],(C,w)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${w}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.previewModel[k][w],(V,T)=>(openBlock(),createElementBlock(Fragment,{key:`stepper-preview-item-subtitle-${w}-${k}`},[Array.isArray(V)?(openBlock(),createElementBlock("div",_hoisted_12$7,[createBaseVNode("span",_hoisted_13$6,toDisplayString(e.window.__isObject(i.previewModel[k][w])?T:V[0])+":",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.window.__isObject(i.previewModel[k][w])?V:V.slice(1),S=>(openBlock(),createElementBlock("span",{key:`stepper-preview-item-subtitle-${w}-${k}-${w}-${T}`,style:{"margin-inline-end":"8px"}},toDisplayString(S),1))),128))])):(openBlock(),createBlock(VBtn,{key:1,readonly:"","active-color":"black",color:"black",variant:"outlined",style:{"margin-inline-end":"8px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(V),1)]),_:2},1024))],64))),128))],64))),128))])):createCommentVNode("",!0)])),128))]),_:3}),createVNode(VSpacer),createVNode(VSheet,{class:"ue-stepper-form__preview-bottom"},{default:withCtx(()=>[createVNode(p,{class:"v-stepper-form__nextButton",density:"comfortable",disabled:e.$hasRequestInProgress(),onClick:a[1]||(a[1]=b=>n.nextForm(i.activeStep-1))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("next").toUpperCase()),1)]),_:1},8,["disabled"])]),_:1})])]),_:3},8,["style","class"])])]),_:3})]),_:2},1024),createVNode(m,{ref:"modal",modelValue:i.modalActive,"onUpdate:modelValue":a[2]||(a[2]=b=>i.modalActive=b),"width-type":"lg","cancel-text":"$t('Cancel')","confirm-text":"$t('Cancel')","description-text":i.modalMessage},{"body.options":withCtx(()=>[createVNode(VBtn,{variant:"outlined",color:"primary",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Ok")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","description-text"])]),_:3},8,["modelValue"])}const StepperFormOld=_export_sfc(_sfc_main$12,[["render",_sfc_render$W]]),__vite_glob_0_33=Object.freeze(Object.defineProperty({__proto__:null,default:StepperFormOld},Symbol.toStringTag,{value:"Module"})),_sfc_main$11=defineComponent({name:"UeSuccess",props:{title:{type:String,required:!0},description:{type:String,required:!0},button_text:{type:String,required:!0},button_url:{type:String,required:!0}},setup(e){return{}}}),_hoisted_1$G={class:"text-h4 mb-2 text-success"},_hoisted_2$z={class:"text-body-1 text-medium-emphasis mb-6"};function _sfc_render$V(e,a,o,r,i,n){return openBlock(),createBlock(VContainer,{class:"fill-height"},{default:withCtx(()=>[createVNode(VRow,{justify:"center",align:"center"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"12",md:"12",lg:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VCard,{flat:"",class:"bg-transparent"},{default:withCtx(()=>[createVNode(VCardItem,null,{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi-check-circle",color:"success",size:"64",class:"mb-4"}),createBaseVNode("h1",_hoisted_1$G,toDisplayString(e.title),1),createBaseVNode("p",_hoisted_2$z,toDisplayString(e.description),1),createVNode(VBtn,{color:"success",class:"mt-10",href:e.button_url,"min-width":"200",density:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.button_text),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Success=_export_sfc(_sfc_main$11,[["render",_sfc_render$V]]),__vite_glob_0_34=Object.freeze(Object.defineProperty({__proto__:null,default:Success},Symbol.toStringTag,{value:"Module"})),_sfc_main$10={props:{symbol:{type:String,required:!0},height:{type:String},width:{type:String},style:{type:String,default:""}},setup(e){const a=computed(()=>{if(e.symbol)return e.symbol}),o=computed(()=>{if(e.height||e.width)return"height:"+e.height+"px;width:"+e.width+"px;"});return{symbol:a,style:o}}},_hoisted_1$F=["symbol"];function _sfc_render$U(e,a,o,r,i,n){const l=resolveDirective("svg");return openBlock(),createElementBlock("div",{style:normalizeStyle(r.style)},[withDirectives(createBaseVNode("span",{symbol:r.symbol},null,8,_hoisted_1$F),[[l]])],4)}const SvgIcon=_export_sfc(_sfc_main$10,[["render",_sfc_render$U]]),__vite_glob_0_35=Object.freeze(Object.defineProperty({__proto__:null,default:SvgIcon},Symbol.toStringTag,{value:"Module"})),_sfc_main$$={name:"ue-tab-groups",props:{...makeModuleProps(),groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""}},setup(e,a){return{...useModule(e)}},data(){return{searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,r,i)=>{this.noAllGroup||o[e].push(r);const n=__data_get(r,this.groupKey);if(Array.isArray(n))for(const l of n)o[l]??(o[l]=[]),o[l].push(r);else __isString(n)&&(o[n]??(o[n]=[]),o[n].push(r));return o},a)}},watch:{},methods:{loadItems(e={}){let a=this;e={...this.searchModel!==""?{search:this.searchModel}:{},...e},api$2.get(this.endpoints.index,e,function(o,r){const i=getParameters(r.request.responseURL);a.elements=o.resource.data,replaceState(addParametersToUrl(getURLWithoutQuery(),i))})},enterSearch(){this.searchModel!==this.searchInput&&(this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1}))}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}};function _sfc_render$T(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createVNode(l,{text:e.moduleTitle,classes:[]},null,8,["text"]),createVNode(s,{items:n.groupedItems,modelValue:i.activeTab,"onUpdate:modelValue":a[0]||(a[0]=u=>i.activeTab=u)},createSlots({_:2},[renderList(e.$slots,(u,c)=>({name:c,fn:withCtx(p=>[renderSlot(e.$slots,c,normalizeProps(guardReactiveProps(p)))])}))]),1032,["items","modelValue"])]),_:3})}const TabGroups=_export_sfc(_sfc_main$$,[["render",_sfc_render$T]]),__vite_glob_0_36=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroups},Symbol.toStringTag,{value:"Module"})),_sfc_main$_={name:"ue-tab-groups",props:{...makeModuleProps(),subtitle:{type:String},groupKey:{type:String,required:!0},noAllGroup:{type:Boolean,default:!1},items:{type:Array,default:[]},groupedTestItems:{type:Object,default:()=>({Hepsi:[{id:1,name:"Deneme",description:"Description 1"},{id:2,name:"Deneme 2",description:"Description 2"},{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}],Deneme:[{id:2,name:"Deneme 2",description:"Description 2"}],Yayın:[{id:3,name:"Yayın 3",description:"Description 3"},{id:4,name:"Yayın 4",description:"Description 4"}]})},search:{type:String,default:""},noSearch:{type:Boolean,default:!1},queryParameters:{type:Object,default:()=>({})},responseResourceKey:{type:String,default:"resource.data"}},setup(e,a){return{...useModule(e)}},data(){return{loading:!1,searchInput:this.search,activeTab:Object.keys(this.groupedItems??{})[0]??0,elements:[]}},computed:{groupedItems(){let e=this.$t("All"),a={};return this.noAllGroup||(a[e]=[]),this.elements.reduce((o,r,i)=>{this.noAllGroup||o[e].push(r);const n=__data_get(r,this.groupKey);if(Array.isArray(n))for(const l of n)o[l]??(o[l]=[]),o[l].push(r);else __isString(n)&&(o[n]??(o[n]=[]),o[n].push(r));return o},a)},searchable(){return this.searchModel!==this.searchInput}},watch:{},methods:{loadItems(e={}){let a=this;this.loading=!0,e={...this.searchModel!==""?{search:this.searchModel}:{},...e,...this.queryParameters},this.searchInput=this.searchModel,api$2.get(this.endpoints.index,e,function(o,r){var i;getParameters(r.request.responseURL),a.elements=get(o,a.responseResourceKey),a.activeTab=((i=Object.keys(a.groupedItems??{}))==null?void 0:i[0])??0,a.loading=!1},function(o){a.loading=!1})},enterSearch(){this.searchModel!==this.searchInput&&this.loadItems({replaceUrl:!1})}},created(){this.searchModel=this.searchInput,this.loadItems({replaceUrl:!1})}},_hoisted_1$E={class:"py-4 d-flex justify-space-between flex-wrap ga-2"},_hoisted_2$y={class:"flex-1-0",style:{"max-width":"100%"}},_hoisted_3$y={key:0,class:"flex-1-1"},_hoisted_4$r={key:0,class:"text-center pa-8"};function _sfc_render$S(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-tabs-previous");return openBlock(),createBlock(VSheet,{class:"fill-height"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$E,[createBaseVNode("div",_hoisted_2$y,[createVNode(l,{text:e.moduleTitle,classes:[],padding:"a-0"},null,8,["text"]),o.subtitle?(openBlock(),createBlock(l,{key:0,class:"text-wrap",text:o.subtitle,classes:[],padding:"a-0",weight:"regular",transform:"none",type:"subtitle-2"},null,8,["text"])):createCommentVNode("",!0)]),o.noSearch?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$y,[createVNode(VTextField,{modelValue:e.searchModel,"onUpdate:modelValue":a[0]||(a[0]=u=>e.searchModel=u),label:"Search",variant:"outlined",density:"compact",color:"primary","hide-details":"",style:{"min-width":"300px"},onKeydown:withKeys(n.enterSearch,["enter"])},{"append-inner":withCtx(()=>[n.searchable?(openBlock(),createBlock(VIcon,{key:0,icon:"mdi-magnify",variant:"text",onClick:n.enterSearch},null,8,["onClick"])):createCommentVNode("",!0)]),_:1},8,["modelValue","onKeydown"])]))]),createVNode(VDivider),i.loading?(openBlock(),createElementBlock("div",_hoisted_4$r,[createVNode(VProgressCircular,{size:50,color:"primary",indeterminate:""})])):(openBlock(),createBlock(s,{key:1,items:n.groupedItems,modelValue:i.activeTab,"onUpdate:modelValue":a[1]||(a[1]=u=>i.activeTab=u)},createSlots({_:2},[renderList(e.$slots,(u,c)=>({name:c,fn:withCtx(p=>[renderSlot(e.$slots,c,normalizeProps(guardReactiveProps(p)))])}))]),1032,["items","modelValue"]))]),_:3})}const TabGroupsPrevious=_export_sfc(_sfc_main$_,[["render",_sfc_render$S]]),__vite_glob_0_37=Object.freeze(Object.defineProperty({__proto__:null,default:TabGroupsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$Z={__name:"TableActions",props:{actions:{type:Array,required:!0}},emits:["actionComplete"],setup(e,{emit:a}){const o=e,r=a,i=useAttrs(),n=useSlots(),{generateButtonProps:l}=useGenerate(),s={};o.actions.forEach((v,g)=>{const{generatedButtonProps:b}=useGenerate(v);s[g]=b});const u=computed(()=>Object.keys(s).reduce((v,g)=>(v[g]=s[g].value,v),{})),{isBadge:c,badgeProps:p}=useBadge(),{handleAction:f,allActions:m,hasActions:y}=useItemActions(o,{...i,...n,...r,actionItem:o.modelValue});return(v,g)=>{const b=resolveComponent("ue-form"),k=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",{class:normalizeClass([unref(y)||v.$slots.prepend?"d-flex flex-wrap ga-2":""])},[renderSlot(v.$slots,"prepend"),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(m),(C,w)=>(openBlock(),createBlock(VTooltip,{disabled:!C.icon||C.forceLabel,location:C.tooltipLocation??"top"},{activator:withCtx(({props:V})=>[C.type==="publish"?(openBlock(),createBlock(VSwitch,mergeProps({key:0,modelValue:v.editedItem[C.key??"published"]??C.default??!1,"onUpdate:modelValue":T=>unref(f)(C),ref_for:!0},{...C.componentProps,...V}),null,16,["modelValue","onUpdate:modelValue"])):C.type==="modal"&&C.endpoint&&C.schema?(openBlock(),createBlock(k,mergeProps({key:1,"close-on-content-click":!1,transition:"scale-transition",widthType:"md","use-model-value":!1,ref_for:!0},C.modalAttributes??{}),{activator:withCtx(T=>[unref(c)(C)?(openBlock(),createBlock(VBadge,{key:0,content:C.badge,color:C.badgeColor??"warning","text-color":C.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...unref(l)(C),...T.props,...V}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...unref(l)(C),...T.props,...V}),null,16))]),body:withCtx(T=>[createVNode(b,mergeProps({ref_for:!0,ref:`extra-form-${w}`,modelValue:v.createModel(C.schema),title:C.formTitle??null,schema:C.schema,"action-url":C.endpoint.replace(":id",v.modelValue.id),valid:v.valids[w],"is-editing":v.isEditing,style:T.isFullActive?"height: 90vh !important;":"height: 70vh !important;","has-divider":"","has-submit":"","button-text":"Save",onSubmitted:S=>v.$emit("actionComplete",{action:C}),"onUpdate:valid":S=>v.valids[w]=S,"onUpdatex:modelValue":g[0]||(g[0]=S=>v.$log(S))},C.formAttributes??{}),null,16,["modelValue","title","schema","action-url","valid","is-editing","style","onSubmitted","onUpdate:valid"])]),_:2},1040)):C.type!=="modal"?(openBlock(),createElementBlock(Fragment,{key:2},[unref(c)(C)?(openBlock(),createBlock(VBadge,{key:0,content:C.badge,color:C.badgeColor??"warning","text-color":C.badgeTextColor??"white"},{default:withCtx(()=>[createVNode(VBtn,mergeProps({ref_for:!0},{...u.value[w],...V}),null,16)]),_:2},1032,["content","color","text-color"])):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref_for:!0},{...u.value[w],...V},{onClick:()=>console.log(u.value[w])}),null,16,["onClick"]))],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(C.tooltip??C.label),1)]),_:2},1032,["disabled","location"]))),256)),renderSlot(v.$slots,"append")],2)}}},_sfc_main$Y={props:{...makeActiveTableItemProps()},setup(e,a){return{...useActiveTableItem(e,a)}},created(){}};function _sfc_render$R(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal"),u=resolveComponent("ue-table");return openBlock(),createElementBlock("div",null,[createVNode(s,{ref:"customModal",modelValue:e.modalActive,"onUpdate:modelValue":a[0]||(a[0]=c=>e.modalActive=c),scrollable:"",transition:"dialog-bottom-transition","width-type":"md","onClick:outside":e.clickOutside},{body:withCtx(c=>[createVNode(VCard,{class:"pa-12"},{default:withCtx(()=>[createVNode(VItemGroup,{"selected-class":"bg-primary"},{default:withCtx(()=>[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemData,(p,f)=>(openBlock(),createBlock(VCol,mergeProps({key:f,ref_for:!0},e.$bindAttributes(p.clickBlock?p.clickBlock.col:{cols:12})),{default:withCtx(()=>[createVNode(VItem,null,{default:withCtx(({isSelected:m,selectedClass:y,toggle:v})=>[p.clickBlock&&p.clickBlock.elements?(openBlock(),createBlock(l,{key:0,configuration:p.clickBlock.elements,onClick:g=>e.selectNested(f)},{default:withCtx(()=>[createTextVNode(toDisplayString(p.title),1)]),_:2},1032,["configuration","onClick"])):(openBlock(),createBlock(VBtn,{key:1,onClick:g=>e.selectNested(f),class:"w-100",style:{"max-width":"unset","text-transform":"uppercase"}},{default:withCtx(()=>[createTextVNode(toDisplayString(p.title),1)]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"]),e.item&&!e.modalActive&&e.activeBlock?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(u,mergeProps({...e.$bindAttributes(),tableClasses:e.$parent.tableClasses},{"custom-title":e.activeBlock.title,class:"mb-12","is-row-editing":!1,"embedded-form":!1,"create-on-modal":!1,"edit-on-modal":!1,"row-actions":[],columns:e.tableHeaders,items:e.items,"table-options":{page:1,itemsPerPage:1,multiSort:!1,mustSort:!1},"hide-footer":"","no-footer":"","no-form":"","no-full-screen":"","ignore-formatters":["activate"]}),{headerRight:withCtx(()=>[createVNode(VBtn,{class:"bg-grey-darken-1",color:"white",variant:"tonal",icon:"$close",density:"compact",onClick:a[1]||(a[1]=c=>e.closeItemDetails())},{default:withCtx(()=>[createVNode(VIcon,{icon:"$close",size:"small"})]),_:1})]),_:1},16,["custom-title","columns","items"]),createBaseVNode("div",null,[createVNode(l,{configuration:e.activeBlock.elements},null,8,["configuration"])])],64)):createCommentVNode("",!0)])}const ActiveTableItem=_export_sfc(_sfc_main$Y,[["render",_sfc_render$R]]),_imports_0="/vendor/modularity/png/cardtypes/chip.png",_sfc_main$X={name:"CreditCard",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},setup(e){const a=ref(null),o=ref(null),r=ref(!1),i=ref(!1),n="#### ###### #####",l="#### ###### ####",s="#### #### #### ####",u=ref(""),c=computed(()=>{let b=new URL(import.meta.url);return`${b.protocol}//${b.hostname}${b.port?":"+b.port:""}`}),p=computed(()=>{let b=e.labels.cardNumber,k="./vendor/modularity/png/cardtypes/";switch(!0){case/^4/.test(b):k=k+"visa.png";break;case/^(34|37)/.test(b):k=k+"amex.png";break;case/^5[1-5]/.test(b):k=k+"mastercard.png";break;case/^6011/.test(b):k=k+"discover.png";break;case/^62/.test(b):k=k+"unionpay.png";break;case/^9792/.test(b):k=k+"troy.png";break;case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(b):k=k+"dinersclub.png";break;case/^35(2[89]|[3-8])/.test(b):k=k+"jcb.png";break;default:k=k+"visa.png";break}return new URL(k,c.value).href}),f=computed(()=>{let b=e.labels.cardNumber;switch(!0){case/^4/.test(b):return"visa";case/^(34|37)/.test(b):return"amex";case/^5[1-5]/.test(b):return"mastercard";case/^6011/.test(b):return"discover";case/^62/.test(b):return"unionpay";case/^9792/.test(b):return"troy";case/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/.test(b):return"dinersclub";case/^35(2[89]|[3-8])/.test(b):return"jcb";default:return"visa"}}),m=computed(()=>{if(e.randomBackgrounds&&!e.backgroundImage){let k=`./vendor/modularity/jpg/payment/${Math.floor(Math.random()*25+1)}.jpeg`;return new URL(k,c.value).href}else return e.backgroundImage?e.backgroundImage:null}),y=()=>{const b=document.querySelector(`label[for="${o.value}"]`);a.value=b?{width:`${b.offsetWidth}px`,height:`${b.offsetHeight}px`,transform:`translateX(${b.offsetLeft}px) translateY(${b.offsetTop}px)`}:null},v=(b,k)=>b>4&&b<14&&e.labels.cardNumber.length>b&&k.trim()!==""&&e.isCardNumberMasked,g=()=>{f.value==="amex"?u.value=n:f.value==="dinersclub"?u.value=l:u.value=s,nextTick(()=>{y()})};return watch$1(o,()=>{o.value?y():a.value=null}),watch$1(f,()=>{g()}),onMounted(()=>{g(),document.querySelectorAll("[data-card-field] input").forEach(k=>{k.addEventListener("focus",()=>{r.value=!0,k.id===e.fields.cardYear||k.id===e.fields.cardMonth?o.value="cardDate":o.value=k.id,i.value=k.id===e.fields.cardCvv}),k.addEventListener("blur",()=>{i.value=k.id===e.fields.cardCvv,setTimeout(()=>{r.value||(o.value=null)},300),r.value=!1})})}),{focusElementStyle:a,currentFocus:o,isFocused:r,isCardFlipped:i,baseUrl:c,currentPlaceholder:u,cardType:f,cardImage:p,currentCardBackground:m,changeFocus:y,getIsNumberMasked:v,changePlaceholder:g}}},_hoisted_1$D={class:"card-item__side -front"},_hoisted_2$x={class:"card-item__cover"},_hoisted_3$x=["src"],_hoisted_4$q={class:"card-item__wrapper"},_hoisted_5$n={class:"card-item__top"},_hoisted_6$m={class:"card-item__type"},_hoisted_7$i=["src"],_hoisted_8$g=["for"],_hoisted_9$e={key:0,class:"card-item__numberItem"},_hoisted_10$d={class:"card-item__content"},_hoisted_11$9=["for"],_hoisted_12$6={class:"card-item__holder"},_hoisted_13$5={class:"card-item__name",key:"1"},_hoisted_14$3={class:"card-item__name",key:"2"},_hoisted_15$2={class:"card-item__date",ref:"cardDate"},_hoisted_16$1=["for"],_hoisted_17$1=["for"],_hoisted_18$1={key:"2"},_hoisted_19$1=["for"],_hoisted_20$1={key:"2"},_hoisted_21$1={class:"card-item__side -back"},_hoisted_22$1={class:"card-item__cover"},_hoisted_23=["src"],_hoisted_24={class:"card-item__cvv"},_hoisted_25={class:"card-item__cvvBand"},_hoisted_26={class:"card-item__type"},_hoisted_27=["src"];function _sfc_render$Q(e,a,o,r,i,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["card-item",{"-active":r.isCardFlipped}])},[createBaseVNode("div",_hoisted_1$D,[createBaseVNode("div",{class:normalizeClass(["card-item__focus",{"-active":r.focusElementStyle}]),style:normalizeStyle(r.focusElementStyle),ref:"focusElement"},null,6),createBaseVNode("div",_hoisted_2$x,[r.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:r.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_3$x)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$q,[createBaseVNode("div",_hoisted_5$n,[a[0]||(a[0]=createBaseVNode("img",{src:_imports_0,class:"card-item__chip"},null,-1)),createBaseVNode("div",_hoisted_6$m,[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[r.cardImage?(openBlock(),createElementBlock("img",{src:r.cardImage,key:r.cardImage,alt:"",class:"card-item__typeImg"},null,8,_hoisted_7$i)):createCommentVNode("",!0)]),_:1})])]),createBaseVNode("label",{for:o.fields.cardNumber,class:"card-item__number",ref:o.fields.cardNumber},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.currentPlaceholder,(l,s)=>(openBlock(),createElementBlock("span",{key:s},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[r.getIsNumberMasked(s,l)?(openBlock(),createElementBlock("div",_hoisted_9$e,"*")):o.labels.cardNumber.length>s?(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":l.trim()===""}]),key:r.currentPlaceholder},toDisplayString(o.labels.cardNumber[s]),3)):(openBlock(),createElementBlock("div",{class:normalizeClass(["card-item__numberItem",{"-active":l.trim()===""}]),key:r.currentPlaceholder+1},toDisplayString(l),3))]),_:2},1024)]))),128))],8,_hoisted_8$g),createBaseVNode("div",_hoisted_10$d,[createBaseVNode("label",{for:o.fields.cardName,class:"card-item__info",ref:o.fields.cardName},[createBaseVNode("div",_hoisted_12$6,toDisplayString(e.$t("Card Holder")),1),createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardName.length?(openBlock(),createElementBlock("div",_hoisted_13$5,[createVNode(TransitionGroup,{name:"slide-fade-right"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardName.replace(/\s\s+/g," "),(l,s)=>(openBlock(),createElementBlock("span",{class:"card-item__nameItem",key:s+1},toDisplayString(l),1))),128))]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_14$3,toDisplayString(e.$t("Full Name")),1))]),_:1})],8,_hoisted_11$9),createBaseVNode("div",_hoisted_15$2,[createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateTitle"},toDisplayString(e.$t("Expire Date")),9,_hoisted_16$1),createBaseVNode("label",{for:o.fields.cardMonth,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardMonth?(openBlock(),createElementBlock("span",{key:o.labels.cardMonth},toDisplayString(o.labels.cardMonth),1)):(openBlock(),createElementBlock("span",_hoisted_18$1,toDisplayString(e.$t("MM")),1))]),_:1})],8,_hoisted_17$1),a[1]||(a[1]=createTextVNode(" / ")),createBaseVNode("label",{for:o.fields.cardYear,class:"card-item__dateItem"},[createVNode(Transition$1,{name:"slide-fade-up"},{default:withCtx(()=>[o.labels.cardYear?(openBlock(),createElementBlock("span",{key:o.labels.cardYear},toDisplayString(String(o.labels.cardYear).slice(2,4)),1)):(openBlock(),createElementBlock("span",_hoisted_20$1,toDisplayString(e.$t("YY")),1))]),_:1})],8,_hoisted_19$1)],512)])])]),createBaseVNode("div",_hoisted_21$1,[createBaseVNode("div",_hoisted_22$1,[r.currentCardBackground?(openBlock(),createElementBlock("img",{key:0,src:r.currentCardBackground,class:"card-item__bg"},null,8,_hoisted_23)):createCommentVNode("",!0)]),a[3]||(a[3]=createBaseVNode("div",{class:"card-item__band"},null,-1)),createBaseVNode("div",_hoisted_24,[a[2]||(a[2]=createBaseVNode("div",{class:"card-item__cvvTitle"},"CVV",-1)),createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.labels.cardCvv,(l,s)=>(openBlock(),createElementBlock("span",{key:s},"*"))),128))]),createBaseVNode("div",_hoisted_26,[r.cardImage?(openBlock(),createElementBlock("img",{key:0,src:r.cardImage,class:"card-item__typeImg"},null,8,_hoisted_27)):createCommentVNode("",!0)])])])],2)}const CreditCard=_export_sfc(_sfc_main$X,[["render",_sfc_render$Q],["__scopeId","data-v-4fa28647"]]),__vite_glob_3_6=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$W={name:"CreditCardForm",directives:{"number-only":{beforeMount(e){function a(o){if(o.target.value=o.target.value.replace(/[^0-9 ]/g,""),o.charCode>=48&&o.charCode<=57||o.charCode===32)return!0;o.preventDefault()}e.addEventListener("keypress",a)}},"letter-only":{beforeMount(e){function a(o){return o.charCode>=48&&o.charCode<=57&&o.preventDefault(),!0}e.addEventListener("keypress",a)}}},props:{formData:{type:Object,default:()=>reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""})},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0},inputDensity:{type:String,default:"default"}},components:{CreditCard},setup(e,{emit:a}){const o=reactive({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"}),r=inject("submitForm"),i=new Date().getFullYear(),n=ref(!0),l=ref(e.formData.cardNumber),s=ref(19),u=computed(()=>["01","02","03","04","05","06","07","08","09","10","11","12"]),c=computed(()=>{const F=new URLSearchParams(window.location.search);return F.has("testYears")?Array.from({length:F.get("testYears")},(E,z)=>i+z):Array.from({length:12},(E,z)=>i+z)}),p=computed(()=>e.formData.cardYear===i?new Date().getMonth()+1:1);watch$1(()=>e.formData.cardYear,()=>{e.formData.cardMonth<p.value&&(e.formData.cardMonth="")}),onMounted(()=>{V()});const f=F=>F<10?`0${F}`:F,m=reactive({cardName:"",cardNumber:"",cardNumberNotMask:"",cardMonth:"",cardYear:"",cardCvv:""}),y=()=>{a("v-card-name",e.formData.cardName),a("update:cardName",m.cardName)},v=F=>{e.formData.cardNumber=F.target.value;let E=e.formData.cardNumber.replace(/\D/g,"");/^3[47]\d{0,13}$/.test(E)?(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(E)?(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),s.value=16):/^\d{0,16}$/.test(E)&&(e.formData.cardNumber=E.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),s.value=19),F.inputType==="deleteContentBackward"&&e.formData.cardNumber.substring(e.formData.cardNumber.length-1)===" "&&(e.formData.cardNumber=e.formData.cardNumber.substring(0,e.formData.cardNumber.length-1)),m.cardNumber=e.formData.cardNumber,a("input-card-number",e.formData.cardNumber),a("update:cardNumber",m.cardNumber)},g=()=>{a("input-card-month",e.formData.cardMonth),a("update:cardMonth",m.cardMonth)},b=()=>{a("input-card-year",e.formData.cardYear),a("update:cardYear",m.cardYear)},k=()=>{a("input-card-cvv",e.formData.cardCvv),a("update:cardCvv",m.cardCvv)},C=()=>{let F=e.formData.cardNumberNotMask.replace(/ /g,""),E=0;for(let z=0;z<F.length;z++){let B=parseInt(F.substr(z,1));z%2===0&&(B*=2,B>9&&(B=1+B%10)),E+=B}E%10!==0&&alert(e.$t("cardForm.invalidCardNumber"))},w=()=>{n.value&&V()},V=()=>{e.formData.cardNumberNotMask=e.formData.cardNumber,l.value=e.formData.cardNumber;let F=e.formData.cardNumber.split("");F.forEach((E,z)=>{z>4&&z<14&&E.trim()!==""&&(F[z]="*")}),e.formData.cardNumber=F.join("")},T=()=>{e.formData.cardNumber=l.value},S=()=>{T()},A=()=>{n.value=!n.value,n.value?V():T()},D=F=>useValidation({rules:"required|min:16|max:19|regex:/^[0-9]+$/"}),P=F=>useValidation({rules:"required"}),N=(F,E)=>{const z=new Date;return new Date(E,F-1)<z?"Card has expired":!0},$=F=>useValidation({rules:"required|min:3|max:4"});return watch$1(()=>e.formData.cardNumber,D),watch$1(()=>e.formData.cardName,P),watch$1([()=>e.formData.cardMonth,()=>e.formData.cardYear],([F,E])=>N(F,E)),watch$1(()=>e.formData.cardCvv,$),watch$1(()=>m.cardName,F=>a("update:cardName",F)),watch$1(()=>m.cardNumber,F=>a("update:cardNumber",F)),watch$1(()=>m.cardMonth,F=>a("update:cardMonth",F)),watch$1(()=>m.cardYear,F=>a("update:cardYear",F)),watch$1(()=>m.cardCvv,F=>a("update:cardCvv",F)),{fields:o,minCardYear:i,isCardNumberMasked:n,mainCardNumber:l,cardNumberMaxLength:s,months:u,years:c,minCardMonth:p,generateMonthValue:f,changeName:y,changeNumber:v,changeMonth:g,changeYear:b,changeCvv:k,invaildCard:C,blurCardNumber:w,maskCardNumber:V,unMaskCardNumber:T,focusCardNumber:S,toggleMask:A,submitForm:r,validateCardNumber:D,validateCardName:P,validateExpiryDate:N,validateCVV:$,formData:m}}},_hoisted_1$C={class:"card-form"},_hoisted_2$w={class:"card-list"},_hoisted_3$w={class:"card-form__inner"},_hoisted_4$p={class:"card-input"},_hoisted_5$m={for:"cardNumber",class:"card-input__label"},_hoisted_6$l={class:"card-input"},_hoisted_7$h={for:"cardName",class:"card-input__label"},_hoisted_8$f={class:"card-form__row"},_hoisted_9$d={class:"card-form__col"},_hoisted_10$c={class:"card-form__group"},_hoisted_11$8={for:"cardMonth",class:"card-input__label"},_hoisted_12$5={class:"card-form__col -cvv"},_hoisted_13$4={class:"card-input"},_hoisted_14$2={for:"cardCvv",class:"card-input__label"};function _sfc_render$P(e,a,o,r,i,n){const l=resolveComponent("CreditCard"),s=resolveDirective("number-only");return openBlock(),createElementBlock("div",_hoisted_1$C,[createBaseVNode("div",_hoisted_2$w,[createVNode(l,{fields:r.fields,labels:r.formData,isCardNumberMasked:r.isCardNumberMasked,randomBackgrounds:o.randomBackgrounds,backgroundImage:o.backgroundImage},null,8,["fields","labels","isCardNumberMasked","randomBackgrounds","backgroundImage"])]),createBaseVNode("div",_hoisted_3$w,[createBaseVNode("div",_hoisted_4$p,[createBaseVNode("label",_hoisted_5$m,toDisplayString(e.$t("Card Number")),1),withDirectives(createVNode(VTextField,{id:r.fields.cardNumber,modelValue:r.formData.cardNumber,"onUpdate:modelValue":a[0]||(a[0]=u=>r.formData.cardNumber=u),onInput:r.changeNumber,onFocus:r.focusCardNumber,onBlur:r.blurCardNumber,"data-card-field":"",type:"tel",variant:"outlined",maxlength:r.cardNumberMaxLength,density:o.inputDensity},null,8,["id","modelValue","onInput","onFocus","onBlur","maxlength","density"]),[[s]])]),createBaseVNode("div",_hoisted_6$l,[createBaseVNode("label",_hoisted_7$h,toDisplayString(e.$t("Card Holder")),1),createVNode(VTextField,{id:r.fields.cardName,modelValue:r.formData.cardName,"onUpdate:modelValue":a[1]||(a[1]=u=>r.formData.cardName=u),onInput:r.changeName,"data-card-field":"",variant:"outlined",density:o.inputDensity},null,8,["id","modelValue","onInput","density"])]),createBaseVNode("div",_hoisted_8$f,[createBaseVNode("div",_hoisted_9$d,[createBaseVNode("div",_hoisted_10$c,[createBaseVNode("label",_hoisted_11$8,toDisplayString(e.$t("Expire Date")),1),createVNode(VSelect,{id:r.fields.cardMonth,items:r.months,label:e.$t("Month"),modelValue:r.formData.cardMonth,"onUpdate:modelValue":a[2]||(a[2]=u=>r.formData.cardMonth=u),onChange:r.changeMonth,"disabled-item":u=>u<r.minCardMonth,"data-card-field":"",variant:"outlined",density:o.inputDensity},null,8,["id","items","label","modelValue","onChange","disabled-item","density"]),createVNode(VSelect,{id:r.fields.cardYear,items:r.years,label:e.$t("Year"),modelValue:r.formData.cardYear,"onUpdate:modelValue":a[3]||(a[3]=u=>r.formData.cardYear=u),onChange:r.changeYear,"data-card-field":"",variant:"outlined",density:o.inputDensity},null,8,["id","items","label","modelValue","onChange","density"])])]),createBaseVNode("div",_hoisted_12$5,[createBaseVNode("div",_hoisted_13$4,[createBaseVNode("label",_hoisted_14$2,toDisplayString(e.$t("CVV")),1),withDirectives(createVNode(VTextField,{type:"tel",modelValue:r.formData.cardCvv,"onUpdate:modelValue":a[4]||(a[4]=u=>r.formData.cardCvv=u),id:r.fields.cardCvv,maxlength:"4",onInput:r.changeCvv,"data-card-field":"",autocomplete:"off",variant:"outlined",density:o.inputDensity},null,8,["modelValue","id","onInput","density"]),[[s]])])])]),createVNode(VBtn,{class:"card-form__button bg-success",onClick:r.submitForm,density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("PAY")),1)]),_:1},8,["onClick"])])])}const CreditCardForm=_export_sfc(_sfc_main$W,[["render",_sfc_render$P]]),__vite_glob_3_7=Object.freeze(Object.defineProperty({__proto__:null,default:CreditCardForm},Symbol.toStringTag,{value:"Module"})),_sfc_main$V={name:"PaymentService",components:{CreditCardForm},emits:[...makeInputEmits,"update:price","currency-converted"],props:{...makeInputProps(),modelValue:{type:Object,default:()=>({})},itemValue:{type:String,default:"id"},items:{type:Array,default:()=>[]},supportedCurrencies:{type:Array,default:()=>[]},price_object:{type:[Object,Array,Proxy],default:()=>({})},currencyConversionEndpoint:{type:String,default:""},currencyCardTypes:{type:[Object,Proxy,Array],default:()=>({})},baseCurrency:{type:String,default:"EUR"},transferFormSchema:{type:[Array,Object],default:()=>[]},paymentUrl:{type:String,default:""},checkoutUrl:{type:String,default:null},completeUrl:{type:String,default:null}},setup(e,{emit:a}){var z,B,O;const o=inject("submitForm"),{formatPrice:r}=useCurrency(),i=ref(""),n=ref("-1"),l=ref(e.price_object.currency_id||((z=e.supportedCurrencies[0])==null?void 0:z.id)),s=ref(r.value(e.price_object.total_amount/100,((B=e.supportedCurrencies[0])==null?void 0:B.symbol)||"")),u=ref(!0),c=ref({}),p=reactive({card_name:"",card_number:"",card_month:"",card_year:"",card_cvv:""}),f=computed(()=>e.supportedCurrencies.find(M=>M.id===l.value)),m=computed(()=>e.supportedCurrencies.map(M=>({id:M.id,display:`${M.symbol} - ${M.name}`}))),y=computed(()=>l.value?e.items.filter(M=>{var L;return(L=M.payment_currencies)==null?void 0:L.some(R=>R.id===l.value)}):[]),v=computed(()=>{const M=y.value,L=i.value;return L==null||L===""?null:M.find(R=>R[e.itemValue]===L)||null}),g=ref({...getModel(e.transferFormSchema),price_id:e.price_object.id,payment_service_id:i.value,currency_id:((O=f.value)==null?void 0:O.id)??null}),b=computed(()=>getSchema(e.transferFormSchema,g.value)),k=M=>M?M.transferrable:!1,C=M=>M?M.is_internal&&!k(M):!0,w=computed(()=>C(v.value)),V=computed(()=>k(v.value)),T=computed({get:()=>e.modelValue,set:M=>a("update:modelValue",M)}),S=computed(()=>{var M;return((M=f.value)==null?void 0:M.iso_4217)!==e.baseCurrency}),A=ref(0),D=M=>{g.value=M},P=()=>{var M;return{...getModel(e.transferFormSchema),price_id:e.price_object.id,payment_service_id:i.value,currency_id:((M=f.value)==null?void 0:M.id)??null}},N=M=>{console.log("transfer submitted",M)},$=M=>{c.value=M},F=()=>{axios.post(e.checkoutUrl,{price_id:e.price_object.id,payment_service:{payment_method:f.value.payment_service_id,credit_card:{card_name:p.card_name,card_number:p.card_number,card_month:p.card_month,card_year:p.card_year,card_cvv:p.card_cvv},currency:f.value}}).then(M=>{$({...M.data,orderId:M.data.order_id}),u.value=!1})},E=async M=>{l.value=M,i.value=n.value;const L=e.supportedCurrencies.find(R=>R.id===M);if(!(!L||!e.currencyConversionEndpoint))try{const R=await axios.post(e.currencyConversionEndpoint,{currency:L.iso_4217,amount:e.price_object.discounted_raw_amount/100});A.value=R.data.exchange_rate;const G=R.data.converted_amount*(1+e.price_object.vat_multiplier);s.value=r.value(G,L.symbol),a("update:price",s.value),a("currency-converted",s.value)}catch(R){console.error("Currency conversion error:",R)}};return watch$1(()=>e.modelValue,M=>{M&&typeof M=="object"&&(i.value=M.payment_method||n.value,Object.assign(p,M.credit_card||{}))},{immediate:!0,deep:!0}),watch$1([i,p,f],()=>{f.value.has_built_in_form&&F(),T.value={payment_method:i.value,credit_card:{...p},currency:f.value}},{deep:!0}),watch$1(V,M=>{if(M){let L=i.value;g.value.payment_service_id=L,g.value.currency_id=f.value.id}},{deep:!0}),f.value.has_built_in_form&&F(),{input:T,localPaymentMethod:i,localDefaultPaymentMethod:n,localCreditCard:p,isCreditCardForm:w,isTransferrableForm:V,submitForm:o,currencyModel:l,selectedCurrency:f,formattedCurrencies:m,filteredServiceItems:y,transferSchema:b,transferFormModel:g,createTransferModel:P,updateTransferModel:D,handleTransferSubmit:N,handleCurrencyChange:E,displayPrice:s,selectedService:v,exchangeRate:A,isExchanged:S,builtInFormLoading:u,builtInFormAttributes:c,setBuiltInFormAttributes:$,runBuiltInForm:F}}},_hoisted_1$B={class:"select-title"},_hoisted_2$v={class:"service-icon-container"},_hoisted_3$v={class:"total mb-2"},_hoisted_4$o={class:"amount mb-2"},_hoisted_5$l={key:0,class:""},_hoisted_6$k={class:"ml-2 font-weight-bold text-body-2 text-align-center"},_hoisted_7$g={key:1,class:"w-100 h-100 d-flex border-thin d-flex flex-column pa-4 ga-4"},_hoisted_8$e={class:"text-body-1 font-weight-bold"},_hoisted_9$c={class:"text-body-1"},_hoisted_10$b={class:"ml-2 font-weight-bold text-body-2 text-align-center"};function _sfc_render$O(e,a,o,r,i,n){const l=resolveComponent("v-img-icon"),s=resolveComponent("ue-revolut-checkout-modal"),u=resolveComponent("CreditCardForm"),c=resolveComponent("ue-form");return openBlock(),createBlock(VInput,{modelValue:r.input,"onUpdate:modelValue":a[7]||(a[7]=p=>r.input=p)},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex flex-column justify-center px-0"},{default:withCtx(()=>[createVNode(VCard,{class:"pa-4 payment-container",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"pa-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$B,toDisplayString(e.$t("How would you like to pay?")),1)]),_:1}),createVNode(VSelect,{modelValue:r.currencyModel,"onUpdate:modelValue":[a[0]||(a[0]=p=>r.currencyModel=p),r.handleCurrencyChange],items:r.formattedCurrencies,label:"Currency",variant:"outlined",density:"comfortable","item-title":"display","item-value":"id",class:"mx-6"},null,8,["modelValue","items","onUpdate:modelValue"]),createVNode(VRadioGroup,{modelValue:r.localPaymentMethod,"onUpdate:modelValue":a[1]||(a[1]=p=>r.localPaymentMethod=p),column:""},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["service-container px-3 py-cs-1 credit-card-service",{"selected-service--focus":r.localPaymentMethod===r.localDefaultPaymentMethod}])},[createVNode(VRadio,{label:e.$t("Credit Card"),value:r.localDefaultPaymentMethod,class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.currencyCardTypes[r.selectedCurrency.iso_4217],(p,f)=>(openBlock(),createBlock(l,{key:`type-${f}`,src:p.logo,style:{"max-width":"64px"}},null,8,["src"]))),128))]),_:1})]),_:1})],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filteredServiceItems,(p,f)=>(openBlock(),createElementBlock("div",{key:`service-${f}`,class:normalizeClass(["service-container px-3 py-1",{"selected-service--focus":r.localPaymentMethod===p[o.itemValue]}])},[createVNode(VRadio,{label:p.name,value:p[o.itemValue],class:"service-label"},null,8,["label","value"]),createVNode(VRow,{align:"center"},{default:withCtx(()=>[createVNode(VCol,{class:"d-flex justify-content-end"},{default:withCtx(()=>{var m;return[createBaseVNode("div",_hoisted_2$v,[createVNode(l,{Xsrc:"/storage/uploads/"+((m=p==null?void 0:p.medias.find(y=>{var v;return((v=y==null?void 0:y.pivot)==null?void 0:v.role)==="logo"}))==null?void 0:m.uuid),src:p.button_logo_url,class:"v-img__img--relative"},null,8,["Xsrc","src"])])]}),_:2},1024)]),_:2},1024)],2))),128))]),_:1},8,["modelValue"])]),_:1}),createVNode(VCardTitle,{class:"headline"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_3$v,toDisplayString(e.$t("Total Amount")),1),createBaseVNode("p",_hoisted_4$o,toDisplayString(r.displayPrice),1),r.isExchanged?(openBlock(),createElementBlock("p",_hoisted_5$l,toDisplayString(e.$t("Exchange Rate"))+": ~"+toDisplayString(r.exchangeRate),1)):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(VCol,{class:"pa-4 pa-sm-0 d-flex align-center justify-center"},{default:withCtx(()=>{var p,f;return[r.isCreditCardForm?(openBlock(),createElementBlock(Fragment,{key:0},[r.selectedCurrency.has_built_in_form?(openBlock(),createElementBlock(Fragment,{key:0},[r.builtInFormLoading?(openBlock(),createBlock(VProgressCircular,{key:0,indeterminate:""})):(openBlock(),createBlock(s,mergeProps({key:1},r.builtInFormAttributes,{"complete-url":o.completeUrl}),{button:withCtx(({pay:m})=>{var y,v;return[createVNode(VBtn,{style:normalizeStyle((v=(y=r.selectedCurrency)==null?void 0:y.payment_service)==null?void 0:v.button_style),block:"",density:"comfortable","max-width":"300px","max-height":"","min-width":"80%",class:"d-flex align-center justify-center py-8",onClick:m},{default:withCtx(()=>{var g,b,k,C;return[(b=(g=r.selectedCurrency)==null?void 0:g.payment_service)!=null&&b.button_logo_url?(openBlock(),createBlock(VImg,{key:0,contain:"",width:100,style:{"max-height":"36px","max-width":"100px"},"aspect-ratio":"16/9",src:(C=(k=r.selectedCurrency)==null?void 0:k.payment_service)==null?void 0:C.button_logo_url},null,8,["src"])):createCommentVNode("",!0),createBaseVNode("span",_hoisted_6$k,toDisplayString(r.displayPrice),1)]}),_:2},1032,["style","onClick"])]}),_:1},16,["complete-url"]))],64)):(openBlock(),createBlock(u,{key:1,cardName:r.localCreditCard.card_name,"onUpdate:cardName":a[2]||(a[2]=m=>r.localCreditCard.card_name=m),cardNumber:r.localCreditCard.card_number,"onUpdate:cardNumber":a[3]||(a[3]=m=>r.localCreditCard.card_number=m),cardMonth:r.localCreditCard.card_month,"onUpdate:cardMonth":a[4]||(a[4]=m=>r.localCreditCard.card_month=m),cardYear:r.localCreditCard.card_year,"onUpdate:cardYear":a[5]||(a[5]=m=>r.localCreditCard.card_year=m),cardCvv:r.localCreditCard.card_cvv,"onUpdate:cardCvv":a[6]||(a[6]=m=>r.localCreditCard.card_cvv=m)},null,8,["cardName","cardNumber","cardMonth","cardYear","cardCvv"]))],64)):r.isTransferrableForm?(openBlock(),createElementBlock("div",_hoisted_7$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(((p=r.selectedService)==null?void 0:p.bank_details)??{},(m,y)=>(openBlock(),createElementBlock("div",{key:y,class:""},[createBaseVNode("h6",_hoisted_8$e,toDisplayString(e.$headline(y)),1),createBaseVNode("p",_hoisted_9$c,toDisplayString(m),1)]))),128)),createVNode(c,{ref:"transferForm",schema:r.transferSchema,modelValue:r.createTransferModel(),"action-url":o.paymentUrl,noDefaultSurface:"",noDefaultFormPadding:"",hasSubmit:"",buttonText:"I Have Completed The Transfer",onSubmitted:r.handleTransferSubmit},{submit:withCtx(({validForm:m,loading:y,saveForm:v})=>[createVNode(VBtn,{color:"success",block:"",disabled:!m,loading:y,onClick:v},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("I Have Completed The Transfer")),1)]),_:2},1032,["disabled","loading","onClick"])]),_:1},8,["schema","modelValue","action-url","onSubmitted"])])):(openBlock(),createBlock(VBtn,{key:2,style:normalizeStyle((f=r.selectedService)==null?void 0:f.button_style),onClick:r.submitForm,density:"comfortable","max-width":"300px","min-width":"80%",class:"d-flex align-center justify-center"},{default:withCtx(()=>{var m;return[createVNode(VImg,{contain:"",width:"100px",height:"36px",style:{"max-width":"100px","max-height":"36px"},src:(m=r.selectedService)==null?void 0:m.button_logo_url},null,8,["src"]),createBaseVNode("span",_hoisted_10$b,toDisplayString(r.displayPrice),1)]}),_:1},8,["style","onClick"]))]}),_:1})]),_:1})]),_:1},8,["modelValue"])}const PaymentService=_export_sfc(_sfc_main$V,[["render",_sfc_render$O],["__scopeId","data-v-03671753"]]),__vite_glob_3_17=Object.freeze(Object.defineProperty({__proto__:null,default:PaymentService},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$4}=makeFormatterProps(),_sfc_main$U={components:{ActiveTableItem,Draggable,VDataTableRow,PaymentService,TableActions:_sfc_main$Z},props:{...makeTableNamesProps(),...makeTableFiltersProps(),...makeTableHeadersProps(),...makeTableFormsProps(),...makeTableItemActionsProps(),...makeTableActionsProps(),...makeTableModalsProps(),...makeTableProps(),...makeDraggableProps(),...ignoreFormatters$4},setup(e,a){return{...useDraggable(e),...useTable(e,a)}},data(){return{datatable:{}}},mounted(){document.documentElement.style.setProperty("--table-header-color",this.headerOptions.color),this.$nextTick(()=>{this.$refs.datatable&&(this.datatable=this.$refs.datatable)}),this.initialize()},created(){},methods:{}},_hoisted_1$A={class:"d-flex align-start"},_hoisted_2$u={class:"ue-table-top__wrapper"},_hoisted_3$u={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"},_hoisted_4$n={class:"d-flex justify-end py-4"},_hoisted_5$k=["onClick"],_hoisted_6$j=["onClick"],_hoisted_7$f={key:1};function _sfc_render$N(e,a,o,r,i,n){const l=resolveComponent("ActiveTableItem"),s=resolveComponent("ue-title"),u=resolveComponent("TableActions"),c=resolveComponent("v-btn-secondary"),p=resolveComponent("ue-form"),f=resolveComponent("ue-modal"),m=resolveComponent("ue-recursive-data-viewer"),y=resolveComponent("ue-recursive-stuff"),v=resolveComponent("ue-copy-text"),g=resolveComponent("ue-dynamic-component-renderer"),b=resolveComponent("Draggable");return withDirectives((openBlock(),createBlock(VLayout,{fluid:"",class:normalizeClass([e.noFullScreen?"h-100":"",e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.elevation?`elevation-${e.elevation}`:""]),style:normalizeStyle(e.$vuetify.display.lgAndUp?"max-height: calc(100vh - 24px)":"max-height: calc(100vh - 24px - 64px)")},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["ue-datatable__container",e.noFullScreen?"fill-height":"fill-heigh ue-datatable--full-screen"])},[createVNode(l,mergeProps({class:"",modelValue:e.activeTableItem,"onUpdate:modelValue":a[0]||(a[0]=k=>e.activeTableItem=k)},e.$lodash.pick(this.$props??{},["name","fullWidthWrapper"]),{"table-headers":Object.values(e.$lodash.omitBy(this.headers,"actions")),"item-data":e.activeItemConfiguration,onToggle:a[1]||(a[1]=k=>e.hideTable=k)}),null,16,["modelValue","table-headers","item-data"]),e.hideTable?createCommentVNode("",!0):(openBlock(),createBlock(VDataTableServer,{key:0,class:normalizeClass(["px-4 h-100",e.tableClasses,e.rounded?e.$lodash.isBoolean(e.rounded)?"rounded":`rounded-${e.rounded}`:"",e.fullWidthWrapper?"":"ue-table--narrow-wrapper",e.tableElevation?`elevation-${e.tableElevation}`:"",e.striped?"ue-datatable--striped":"",e.roundedRows?"ue-datatable--rounded-row":"",e.hideBorderRow?"ue-datatable--no-border-row":"",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"ue-datatable--bottom-controls":""]),id:"ue-table",headers:e.selectedHeaders,"fixed-header":e.fixedHeader,sticky:e.sticky,items:e.elements,hover:!0,"items-per-page-options":e.itemsPerPageOptions,"items-per-page":e.options.itemsPerPage,search:e.options.search,page:e.options.page,"items-length":e.totalNumberOfElements,"item-title":e.titleKey,ref:"datatable",height:e.windowSize.y-64-24-59-(e.hideFooter?0:76)-(e.$vuetify.display.mdAndDown?80:0),"hide-default-header":e.hideHeaders||e.$vuetify.display.smAndDown&&!e.showMobileHeaders,"multi-sort":e.multiSort,"must-sort":e.mustSort,density:e.tableDensity??"comfortable","disable-sort":e.disableSort,loading:e.loading,"loading-text":e.$t("Loading... Please wait"),Xmobile:e.$vuetify.display.smAndDown,"mobile-breakpoint":e.mobileBreakpoint,"show-select":e.$store.getters.isSuperAdmin&&e.showSelect,"item-value":"id",modelValue:e.selectedItems,"onUpdate:modelValue":a[13]||(a[13]=k=>e.selectedItems=k),"onUpdate:options":a[14]||(a[14]=k=>e.changeOptions(k))},createSlots({top:withCtx(({someSelected:k})=>[createVNode(VToolbar,mergeProps(e.toolbarOptions,{class:["pt-3",e.$vuetify.display.smAndUp?"d-flex":""]}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"":"flex-lg-1-1-100 h-100 d-flex flex-column"]),style:{"min-width":"33%"}},[createVNode(s,{type:"subtitle-1",color:"black",text:e.tableTitle,padding:"a-0"},null,8,["text"]),e.tableSubtitle?(openBlock(),createBlock(s,{key:0,type:"caption",weight:"medium",color:"grey-darken-1",transform:"none",padding:"a-0",text:e.tableSubtitle},null,8,["text"])):createCommentVNode("",!0)],2),e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?(openBlock(),createBlock(VDivider,{key:0,class:"my-2"})):createCommentVNode("",!0),createVNode(VSlideXTransition,{group:!0},{default:withCtx(()=>[createBaseVNode("div",{key:"table-controls",class:normalizeClass(["d-flex ga-2 align-md-center",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"mb-2":"flex-1-1-100 justify-end",e.$vuetify.display.smAndDown?"flex-column":""])},[k?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.bulkActions,(C,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[e.$can(C.name,e.permissionName)?withDirectives((openBlock(),createBlock(VBtn,mergeProps({key:0,ref_for:!0},e.filterBtnOptions,{"append-icon":!1,"prepend-icon":C.icon?C.icon:`$${C.name}`,text:e.window.__headline(C.name),color:C.color??"primary",onClick:V=>e.itemAction(C,C.name)}),null,16,["prepend-icon","text","color","onClick"])),[[Tooltip,e.$lodash.startCase(C.name)]]):createCommentVNode("",!0)],64))),128)):(openBlock(),createElementBlock(Fragment,{key:1},[!e.hideSearchField&&e.hasSearchableHeader?(openBlock(),createBlock(VTextField,{key:0,id:"search-field",ref:"searchField",modelValue:e.searchModel,"onUpdate:modelValue":a[3]||(a[3]=C=>e.searchModel=C),variant:"outlined","append-inner-iconx":e.searchModel!==e.search?"mdi-magnify":null,"hide-details":"",density:"compact","single-line":"",placeholder:e.searchPlaceholder,class:normalizeClass([e.controlsPosition==="bottom"||!e.$vuetify.display.xs?"flex-sm-grow-1":""]),style:normalizeStyle(["display: inline","min-width: 200px",e.controlsPosition==="bottom"||e.$vuetify.display.smAndDown?"":"max-width: 250px"]),"onClick:appendInner":e.searchItems,disabled:e.loading,onKeydown:withKeys(e.searchItems,["enter"])},{"append-inner":withCtx(()=>[createVNode(VBtn,{disabled:e.searchModel===e.search,icon:"mdi-magnify",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=C=>e.searchItems())},null,8,["disabled"])]),_:1},8,["modelValue","append-inner-iconx","placeholder","class","style","onClick:appendInner","disabled","onKeydown"])):createCommentVNode("",!0),createVNode(u,{class:normalizeClass(e.$vuetify.display.mdAndUp?"flex-grow-0 flex-shrink-0":""),actions:e.actions},{prepend:withCtx(()=>[createVNode(VMenu,null,{activator:withCtx(({props:C})=>[e.mainFilters.length>0&&!e.hideFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"filter-btn-activator"},{...e.filterBtnOptions,...e.filterBtnTitle,...C},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,Xtext:e.$vuetify.display.smAndDown?null:e.filterBtnTitle.text,text:e.filterBtnTitle.text,"prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.smAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","Xtext","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mainFilters,(C,w)=>(openBlock(),createBlock(VListItem,{key:w,onClick:withModifiers(V=>e.changeFilter(C.slug),["prevent"]),class:normalizeClass([C.slug===e.activeFilterSlug?"bg-primary":"",C.class??""])},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(C.name+"("+C.number+")"),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}),createVNode(VMenu,{"close-on-content-click":!1,location:"end"},{activator:withCtx(({props:C})=>[Object.keys(e.advancedFilters).length>0&&!e.hideAdvancedFilters?(openBlock(),createBlock(VBtn,mergeProps({key:0,id:"advanced-filter-btn"},{...e.filterBtnOptions,...e.filterBtnTitle,...C},{icon:e.$vuetify.display.smAndDown?e.filterBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:"Filters","prepend-icon":e.$vuetify.display.smAndDown?null:e.filterBtnOptions["prepend-icon"],block:e.$vuetify.display.mdAndUp?!1:e.filterBtnOptions.block??!1,density:e.$vuetify.display.smAndDown?"compact":e.filterBtnOptions.density??"comfortable"}),null,16,["icon","text","prepend-icon","block","density"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{title:"Filters","min-width":"40vw","max-width":"50vw"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.advancedFilters,(C,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[(openBlock(!0),createElementBlock(Fragment,null,renderList(C,(V,T)=>(openBlock(),createBlock(resolveDynamicComponent(`v-${V.type}`),mergeProps({ref_for:!0},V.componentOptions,{modelValue:V.selecteds,"onUpdate:modelValue":S=>V.selecteds=S}),null,16,["modelValue","onUpdate:modelValue"]))),256))],64))),128))]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"Clear",variant:"plain",onClick:e.resetAdvancedFilter},null,8,["onClick"]),createVNode(VBtn,{color:"primary",text:"Apply",variant:"tonal",onClick:e.changeAdvancedFilter},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),append:withCtx(()=>[e.$can("create",e.permissionName)&&!e.noForm&&!k&&e.createOnModal?(openBlock(),createBlock(VBtn,mergeProps({key:0},e.addBtnOptions,{onClick:e.createForm,icon:e.$vuetify.display.smAndDown?e.addBtnOptions["prepend-icon"]:null,text:e.$vuetify.display.smAndDown?null:e.addBtnTitle,"prepend-icon":e.$vuetify.display.smAndDown?null:e.addBtnOptions["prepend-icon"],density:e.$vuetify.display.smAndDown?"compact":e.addBtnOptions.density??"comfortable"}),null,16,["onClick","icon","text","prepend-icon","density"])):createCommentVNode("",!0)]),_:2},1032,["class","actions"])],64))],2)]),_:2},1024)]),_:2},1040,["class"]),e.hideHeaders&&e.loading?(openBlock(),createBlock(VProgressLinear,{key:0,class:"w-100 mb-4 mt-2",color:"success",indeterminate:"",reverse:""})):e.controlsPosition==="top"&&e.$vuetify.display.mdAndUp?(openBlock(),createBlock(VDivider,{key:1,class:"mb-2 mt-2"})):createCommentVNode("",!0),e.embeddedForm?createCommentVNode("",!0):(openBlock(),createBlock(f,mergeProps({key:2,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[6]||(a[6]=C=>e.formActive=C),transition:"dialog-bottom-transition",fullscreen:!1,"width-type":"lg"},e.formModalAttributes),{body:withCtx(C=>[createVNode(VCard,{class:"fill-height d-flex flex-column py-4"},{default:withCtx(()=>[createVNode(p,mergeProps({ref:"UeForm","form-class":"px-4","fill-height":"",scrollable:"","has-divider":"","no-default-form-padding":""},e.formAttributes,{title:{...e.formAttributes.title??{},text:e.formTitle},subtitle:e.formSubtitle,isEditing:e.editedIndex>-1,style:C.isFullActive?"height: 95vh !important;":"height: 70vh !important;",actions:e.formActions,"has-submit":"","button-text":e.editedIndex>-1?e.$t("fields.update"):e.$t("fields.create"),onActionComplete:e.handleFormActionComplete,onSubmitted:e.handleFormSubmission}),createSlots({"header.right":withCtx(()=>[renderSlot(e.$slots,"form.header.right",{},()=>[createBaseVNode("div",_hoisted_1$A,[createVNode(VBtn,{icon:C.isFullActive?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:w=>C.toggleFullscreen()},null,8,["icon","onClick"]),createVNode(VBtn,{icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[4]||(a[4]=w=>e.closeForm())})])])]),top:withCtx(w=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(w)))]),_:2},[e.$slots["form.header.left"]?{name:"header.left",fn:withCtx(w=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(w)),()=>[createTextVNode(toDisplayString(w.title),1)])]),key:"0"}:void 0,e.$slots["form.top"]?{name:"top",fn:withCtx(w=>[renderSlot(e.$slots,"form.top",normalizeProps(guardReactiveProps(w)))]),key:"1"}:void 0,e.$slots["form.bottom"]?{name:"bottom",fn:withCtx(w=>[renderSlot(e.$slots,"form.bottom",normalizeProps(guardReactiveProps(w)))]),key:"2"}:void 0,e.$slots["form.right.top"]?{name:"right.top",fn:withCtx(w=>[renderSlot(e.$slots,"form.right.top",normalizeProps(guardReactiveProps(w)))]),key:"3"}:void 0,e.$slots["form.right.middle"]?{name:"right.middle",fn:withCtx(w=>[renderSlot(e.$slots,"form.right.middle",normalizeProps(guardReactiveProps(w)))]),key:"4"}:void 0,e.$slots["form.right.bottom"]?{name:"right.bottom",fn:withCtx(w=>[renderSlot(e.$slots,"form.right.bottom",normalizeProps(guardReactiveProps(w)))]),key:"5"}:void 0,e.$slots["form.actions.prepend"]?{name:"actions.prepend",fn:withCtx(w=>[renderSlot(e.$slots,"form.actions.prepend",normalizeProps(guardReactiveProps(w)))]),key:"6"}:void 0,e.$slots["form.actions.append"]?{name:"actions.append",fn:withCtx(w=>[renderSlot(e.$slots,"form.actions.append",normalizeProps(guardReactiveProps(w)))]),key:"7"}:void 0,e.$store.getters.isSuperAdmin?{name:"options",fn:withCtx(w=>[w.isSubmittable?(openBlock(),createBlock(c,{key:0,slim:!1,variant:"outlined",onClick:a[5]||(a[5]=V=>e.$refs.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.validate")),1)]),_:1})):createCommentVNode("",!0)]),key:"8"}:void 0]),1040,["title","subtitle","isEditing","style","actions","button-text","onActionComplete","onSubmitted"])]),_:2},1024)]),_:3},16,["modelValue"])),createBaseVNode("div",_hoisted_2$u,[e.embeddedForm&&!e.noForm?(openBlock(),createElementBlock("div",{key:0,class:"",style:normalizeStyle(e.formStyles)},[createVNode(VExpandTransition,null,{default:withCtx(()=>[e.formActive?(openBlock(),createBlock(VCard,{key:0,class:"mb-theme",elevation:"4"},{default:withCtx(()=>[createVNode(p,{"has-submit":"","button-text":"save",title:e.formTitle,ref:"form",isEditing:e.editedIndex>-1},{"header.left":withCtx(C=>[renderSlot(e.$slots,"form.header.left",normalizeProps(guardReactiveProps(C)),()=>[createTextVNode(toDisplayString(C.title),1)])]),headerCenter:withCtx(()=>a[15]||(a[15]=[])),"header.right":withCtx(()=>[createVNode(VBtn,{class:"",variant:"text",icon:"$close",density:"compact",onClick:a[7]||(a[7]=C=>e.closeForm())})]),_:3},8,["title","isEditing"])]),_:3})):createCommentVNode("",!0)]),_:3})],4)):createCommentVNode("",!0),createVNode(f,mergeProps({modelValue:e.modals.dialog.active,"onUpdate:modelValue":a[8]||(a[8]=C=>e.modals.dialog.active=C),ref:e.modals.dialog.ref,transition:"dialog-bottom-transition","width-type":"sm"},e.modals.dialog.modalAttributes??{}),null,16,["modelValue"]),e.modals.show.active?(openBlock(),createBlock(f,{key:1,ref:e.modals.show.ref,modelValue:e.modals.show.active,"onUpdate:modelValue":a[9]||(a[9]=C=>e.modals.show.active=C),transition:e.modals.show.transition||"dialog-bottom-transition","width-type":e.modals.show.widthType||"lg",persistent:e.modals.show.persistent,description:e.modals.show.description,title:e.modals.show.title,"has-fullscreen-button":"","has-close-button":"","no-confirm-button":"","has-title-divider":"","cancel-text":"Close","reject-button-attributes":{variant:"elevated",color:"primary"},scrollable:""},{"body.description":withCtx(()=>[createBaseVNode("div",null,[createVNode(m,{data:e.modals.show.data,"all-array-items-open":!1,"all-array-items-closed":!1},null,8,["data"])])]),_:1},8,["modelValue","transition","width-type","persistent","description","title"])):createCommentVNode("",!0),createVNode(f,mergeProps({modelValue:e.customFormModalActive,"onUpdate:modelValue":a[11]||(a[11]=C=>e.customFormModalActive=C),ref:"customFormModal","width-type":"lg",persistent:"","description-body-class":"d-flex flex-column fill-height w-100 pa-4","no-default-body-padding":"","no-actions":"","has-close-button":"",scrollable:""},e.customFormModalAttributes),{"body.description":withCtx(()=>[createVNode(p,mergeProps({ref:"customForm",modelValue:e.customFormModel,"onUpdate:modelValue":a[10]||(a[10]=C=>e.customFormModel=C),title:null,"fill-height":"",scrollable:"","no-default-form-padding":"",style:{height:"80vh !important"}},e.customFormAttributes),null,16,["modelValue"])]),_:1},16,["modelValue"])])]),"header.actions":withCtx(k=>[e.hideHeaders||e.hideMobileActions&&e.$vuetify.display.xs?createCommentVNode("",!0):(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:C})=>[createVNode(VBtn,mergeProps({size:"large",variant:"plain",color:"black",icon:"mdi-cog-outline"},C),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(VList,{class:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersModel,(C,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[C.key!=="actions"&&!(e.$vuetify.display.xs&&C.noMobile===!0)?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.headersModel[w].visible,"onUpdate:modelValue":V=>e.headersModel[w].visible=V,color:"primary",class:"ml-n2",disabled:e.headersModel.filter(V=>V.key!=="actions"&&V.visible===!0).length<2&&e.headersModel[w].visible===!0,label:C.title,"hide-details":"",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","disabled","label"])):createCommentVNode("",!0)],64))),128))]),_:1})]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VBtn,{color:"primary",text:"Save",variant:"tonal",onClick:e.applyHeaders,block:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1}))]),"item.actions":withCtx(({item:k})=>[e.hideMobileActions&&e.$vuetify.display.xs||e.visibleRowActions.length===0?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[e.actionShowingType==="dropdown"?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,left:"","offset-x":"",class:"action-dropdown"},{activator:withCtx(({props:C})=>[createVNode(VIcon,mergeProps({size:"large",color:"primary",icon:"$list"},C),null,16)]),default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(C,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[e.itemHasAction(k,C)?(openBlock(),createBlock(VListItem,{key:0,class:normalizeClass(C.class??""),onClick:V=>e.itemAction(k,C)},{default:withCtx(()=>[createVNode(VIcon,{small:"",color:C.iconColor,left:""},{default:withCtx(()=>[createTextVNode(toDisplayString(C.icon),1)]),_:2},1032,["color"]),createTextVNode(" "+toDisplayString(e.$t(C.label)),1)]),_:2},1032,["class","onClick"])):createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024)):(openBlock(),createElementBlock("div",_hoisted_7$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.visibleRowActions,(C,w)=>(openBlock(),createElementBlock(Fragment,{key:w},[e.itemHasAction(k,C)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(C.label),location:"top",disabled:C.is!=="v-icon",class:normalizeClass(C.class??"")},{activator:withCtx(({props:V})=>[createTextVNode(toDisplayString(e.$log(C))+" ",1),(openBlock(),createBlock(resolveDynamicComponent(C.is),mergeProps({onClick:T=>e.itemAction(k,C),ref_for:!0},{...C.hasTooltip?V:{},...C.componentProps??{}}),{prepend:withCtx(()=>[createVNode(VIcon,{small:"",color:C.iconColor,left:"",icon:C.icon},null,8,["color","icon"])]),default:withCtx(()=>[C.is!=="v-icon"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.$t(C.label)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(C.icon),1)],64))]),_:2},1040,["onClick"]))]),_:2},1032,["text","disabled","class"])):createCommentVNode("",!0)],64))),128))]))],64))]),"body.append":withCtx(()=>[e.enableInfiniteScroll?withDirectives((openBlock(),createBlock(VCard,{key:0},null,512)),[[Intersect,e.onIntersect]]):createCommentVNode("",!0),e.enableInfiniteScroll&&e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,indeterminate:e.loading},null,8,["indeterminate"])):createCommentVNode("",!0)]),_:2},[e.hasCustomRow?{name:"body",fn:withCtx(({items:k})=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(k,(C,w)=>(openBlock(),createBlock(VCol,mergeProps({key:C.id,ref_for:!0},e.customRow.col),{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(`ue-${e.customRow.name}`),{key:C.id,name:e.name,titlePrefix:e.titlePrefix,titleKey:e.titleKey,item:C,headers:e.headers,rowActions:e.rowActions,onClickAction:e.itemAction},{actions:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_3$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(V,T)=>(openBlock(),createElementBlock(Fragment,{key:T},[e.itemHasAction(C,V)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(V.label??e.$headline(V.name)),location:"top"},{activator:withCtx(({props:S})=>[createVNode(VBtn,mergeProps({ref_for:!0},S,{text:V.forceLabel?e.$t(V.label??e.$headline(V.name)):null,variant:V.variant??"elevated",density:V.density??(V.forceLabel?"comfortable":"compact"),size:V.size??(V.forceLabel,"default"),icon:V.forceLabel?null:V.icon?V.icon:"$"+V.name,color:V.color??"primary",rounded:V.forceLabel?null:!0,onClick:A=>e.itemAction(C,V),class:"text-capitalize"}),null,16,["text","variant","density","size","icon","color","rounded","onClick"])]),_:2},1032,["text"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1064,["name","titlePrefix","titleKey","item","headers","rowActions","onClickAction"])),w<k.length-1?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)]),_:2},1040))),128))]),_:2},1024)]),key:"0"}:void 0,e.hideFooter?{name:"bottom",fn:withCtx(({page:k,pageCount:C})=>[]),key:"1"}:e.enableCustomFooter||e.$vuetify.display.smAndDown?{name:"bottom",fn:withCtx(({page:k,pageCount:C})=>[createBaseVNode("div",_hoisted_4$n,[createVNode(VContainer,{class:"max-width text-center"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VProgressCircular,{key:1,width:"3",size:"small",indeterminate:""})):(openBlock(),createBlock(VPagination,mergeProps({key:0,modelValue:e.options.page,"onUpdate:modelValue":w=>e.options.page=w,length:e.totalNumberOfPages,density:"compact",size:"small","total-visible":e.$vuetify.display.smAndDown?1:3,"show-first-last-page":""},e.footerProps),{first:withCtx(({onClick:w,disabled:V,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-left",onClick:w,disabled:V}),null,16,["onClick","disabled"])]),prev:withCtx(({onClick:w,disabled:V,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:T,onClick:w,disabled:V}),null,16,["icon","onClick","disabled"])]),next:withCtx(({onClick:w,disabled:V,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:T,onClick:w,disabled:V}),null,16,["icon","onClick","disabled"])]),last:withCtx(({onClick:w,disabled:V,icon:T})=>[createVNode(VBtn,mergeProps(e.defaultPaginationButtonProps,{icon:"mdi-chevron-double-right",onClick:w,disabled:V}),null,16,["onClick","disabled"])]),_:2},1040,["modelValue","onUpdate:modelValue","length","total-visible"]))]),_:2},1024)])]),key:"2"}:void 0,renderList(e.slots,(k,C)=>({name:C,fn:withCtx(()=>[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.elements,(w,V)=>(openBlock(),createBlock(y,{key:`tag-0-${V}`,configuration:w},null,8,["configuration"]))),128))])])})),renderList(e.formattableHeaders,(k,C)=>({name:`header.${k.key}`,fn:withCtx(w=>[createTextVNode(toDisplayString(w.column.title)+" ",1),k.searchable&&!e.hideSearchField?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t("Search")},{activator:withCtx(({props:V})=>[createVNode(VIcon,mergeProps(V,{color:"medium-emphasis",size:"small",icon:"mdi-table-search",onClick:a[12]||(a[12]=T=>e.$refs.searchField.focus())}),null,16)]),_:1},8,["text"])):createCommentVNode("",!0),k.removable?(openBlock(),createBlock(VTooltip,{key:1,text:e.$t("Remove Column")},{activator:withCtx(({props:V})=>[k.removable?(openBlock(),createBlock(VIcon,mergeProps({key:0,color:"medium-emphasis",size:"small",icon:"$close",onClick:T=>e.removeHeader(k.key)},V),null,16,["onClick"])):createCommentVNode("",!0)]),_:2},1032,["text"])):createCommentVNode("",!0)])})),renderList(e.formatterColumns,(k,C)=>({name:`item.${k.key}`,fn:withCtx(({item:w})=>[k.formatterName=="edit"||k.formatterName=="activate"?(openBlock(),createBlock(VTooltip,{text:w[k.key],key:C,disabled:k.isFormatting},{activator:withCtx(({props:V})=>[(openBlock(),createElementBlock("span",mergeProps({key:C},V,{class:"pa-0 justify-start text-none text-wrap text-primary darken-1 cursor-pointer",onClick:T=>e.itemAction(w,k.formatterName)}),[k.isFormatting?(openBlock(),createBlock(y,normalizeProps(mergeProps({key:0},e.handleFormatter(k.formatter,e.window.__shorten(w[k.key]??"",e.cellOptions.maxChars)))),null,16)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(e.window.__isset(w[k.key])?e.window.__shorten(w[k.key],(k==null?void 0:k.textLength)??8):""),1)],64))],16,_hoisted_5$k)),(k.hasCopy??!1)||k.key.match(/^id|uuid$/)?(openBlock(),createBlock(v,{key:0,text:w[k.key]},null,8,["text"])):createCommentVNode("",!0)]),_:2},1032,["text","disabled"])):k.formatterName=="switch"?(openBlock(),createBlock(VSwitch,{key:C,"model-value":w[k.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":V=>e.itemAction(w,"switch",V,k.key)},{label:withCtx(()=>a[16]||(a[16]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):k.formatterName=="dynamic"?(openBlock(),createBlock(g,{subject:w[k.key],key:w[k.key]},null,8,["subject"])):(openBlock(),createBlock(y,mergeProps({key:3},e.handleFormatter(k.formatter,e.window.__shorten(w[k.key]??"",e.cellOptions.maxChars)),{key:w[k.key]}),null,16))])})),e.isClickableRows?{name:"item",fn:withCtx(k=>[createVNode(VDataTableRow,mergeProps(k.props,{onClick:C=>e.$isset(k.item[e.clickableItemAttribute])||e.endpoints.show?e.itemAction(k.item,"link"):null,style:{cursor:"pointer"}}),createSlots({_:2},[renderList(e.formatterColumns,(C,w)=>({name:`item.${C.key}`,fn:withCtx(({item:V})=>[C.formatter=="edit"||C.formatter=="activate"?(openBlock(),createBlock(VTooltip,{text:V[C.key],key:w},{activator:withCtx(({props:T})=>{var S;return[(openBlock(),createElementBlock("span",mergeProps({key:w},T,{class:"pa-0 justify-start text-none text-wrap text-primary darken-1 cursor-pointer",onClick:A=>e.itemAction(V,...C.formatter)}),toDisplayString(e.window.__isset(V[C.key])?e.window.__shorten(V[C.key],((S=V[C.key])==null?void 0:S.textLength)??8):""),17,_hoisted_6$j)),C.key.match(/^id|uuid$/)?(openBlock(),createBlock(v,{key:0,text:V[C.key]},null,8,["text"])):createCommentVNode("",!0)]}),_:2},1032,["text"])):C.formatter=="switch"?(openBlock(),createBlock(VSwitch,{key:w,"model-value":V[C.key],color:"success","true-value":1,"false-value":"0","hide-details":"","onUpdate:modelValue":T=>e.itemAction(V,"switch",T,C.key)},{label:withCtx(()=>a[17]||(a[17]=[])),_:2},1032,["model-value","onUpdate:modelValue"])):C.formatter=="dynamic"?(openBlock(),createBlock(g,{subject:V[C.key],key:V[C.key]},null,8,["subject"])):(openBlock(),createBlock(y,mergeProps({key:3},e.handleFormatter(C.formatter,e.window.__shorten(V[C.key]??"",e.cellOptions.maxChars)),{key:V[C.key]}),null,16))])}))]),1040,["onClick"])]),key:"3"}:void 0,e.draggable?{name:"default",fn:withCtx(()=>[createBaseVNode("thead",null,[renderSlot(e.$slots,e.headers,{},()=>[createVNode(VDataTableHeaders,{mobile:this.datatable.mobile,color:this.headerOptions.color},createSlots({_:2},[renderList(this.datatable.$slots,(k,C)=>({name:C,fn:withCtx(w=>[renderSlot(e.$slots,C,normalizeProps(guardReactiveProps(w)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[C]),normalizeProps(guardReactiveProps(w)),null,16))])])}))]),1032,["mobile","color"])])]),createVNode(b,mergeProps({"model-value":e.elements,"item-key":"position"},e.dragOptions,{tag:"tbody",class:"v-data-table__tbody","onUpdate:modelValue":e.sortElements}),{item:withCtx(k=>[createVNode(VDataTableRow,{item:e.draggableItems[k.index],mobile:this.datatable.mobile},createSlots({_:2},[renderList(this.datatable.$slots,(C,w)=>({name:w,fn:withCtx(V=>[renderSlot(e.$slots,w,normalizeProps(guardReactiveProps(V)),()=>[(openBlock(),createBlock(resolveDynamicComponent(this.datatable.$slots[w]),mergeProps({",":""},{...V,item:e.elements[k.index]}),null,16))])])}))]),1032,["item","mobile"])]),_:3},16,["model-value","onUpdate:modelValue"])]),key:"4"}:void 0]),1032,["class","headers","fixed-header","sticky","items","items-per-page-options","items-per-page","search","page","items-length","item-title","height","hide-default-header","multi-sort","must-sort","density","disable-sort","loading","loading-text","Xmobile","mobile-breakpoint","show-select","modelValue"]))],2)]),_:3},8,["class","style"])),[[Resize,e.onResize]])}const Table=_export_sfc(_sfc_main$U,[["render",_sfc_render$N]]),__vite_glob_0_38=Object.freeze(Object.defineProperty({__proto__:null,default:Table},Symbol.toStringTag,{value:"Module"})),_sfc_main$T={props:{componentName:{type:String},tableAttributes:{type:Object,required:!0,default:{}}}};function _sfc_render$M(e,a,o,r,i,n){return openBlock(),createBlock(resolveDynamicComponent(`ue-${o.componentName}`),normalizeProps(guardReactiveProps(o.tableAttributes)),null,16)}const TableBinder=_export_sfc(_sfc_main$T,[["render",_sfc_render$M]]),__vite_glob_0_39=Object.freeze(Object.defineProperty({__proto__:null,default:TableBinder},Symbol.toStringTag,{value:"Module"})),_sfc_main$S={props:{elements:{type:Array,default(){return[]}},color:{type:String,default:""}},data(){return{defaultCols:[]}},computed:{textColor(){return this.color!==""?`text-${this.color}`:""}}};function _sfc_render$L(e,a,o,r,i,n){return openBlock(),createBlock(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.elements,(l,s)=>(openBlock(),createBlock(VCol,mergeProps({key:s,ref_for:!0},l.col),{default:withCtx(()=>[createBaseVNode("label",{class:normalizeClass([`${n.textColor}`,l.class]),style:normalizeStyle(l.style)},toDisplayString(l.text),7)]),_:2},1040))),128))]),_:1})}const RowFormat=_export_sfc(_sfc_main$S,[["render",_sfc_render$L]]),_sfc_main$R={name:"ue-tabs",emits:["update:modelValue"],components:{RowFormat},props:{modelValue:{type:[String,Number]},tabValue:{type:String,default:"id"},tabTitle:{type:String,default:"name"},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{tab_:this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null,models:{},elements:__isObject(this.items)?Object.keys(this.items).map(e=>({[this.tabTitle]:e,...this.items[e],[this.tabValue]:e})):this.items}},watch:{tab_:{handler(e,a){this.$emit("update:modelValue",e)}}},computed:{tab:{get(){return this.modelValue??Object.keys(this.items)[0]??this.items[0][this.tabValue]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$K(e,a,o,r,i,n){const l=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:n.tab,"onUpdate:modelValue":a[0]||(a[0]=s=>n.tab=s),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.elements,s=>renderSlot(e.$slots,`tab.${s[o.tabValue]}`,{key:`tab-${s[o.tabValue]}`},()=>[createVNode(VTab,{value:s[o.tabValue]},{prepend:withCtx(()=>[renderSlot(e.$slots,`tab.${s[o.tabValue]}.prepend`)]),append:withCtx(()=>[renderSlot(e.$slots,`tab.${s[o.tabValue]}.append`)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(s[o.tabTitle]),1)]),_:2},1032,["value"])])),128))]),_:3},8,["modelValue"]),renderSlot(e.$slots,"windows",normalizeProps(guardReactiveProps({active:n.tab})),()=>[createVNode(VTabsWindow,{modelValue:n.tab,"onUpdate:modelValue":a[1]||(a[1]=s=>n.tab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(s,u)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${u}`,value:s[o.tabValue]},{default:withCtx(()=>[renderSlot(e.$slots,`window.${u}`,mergeProps({ref_for:!0},{index:u,item:s,model:i.models[s[o.tabValue]]}),()=>[createVNode(l,{elements:[{text:`${s[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"])])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])])],64)}const Tabs=_export_sfc(_sfc_main$R,[["render",_sfc_render$K]]),__vite_glob_0_40=Object.freeze(Object.defineProperty({__proto__:null,default:Tabs},Symbol.toStringTag,{value:"Module"})),_sfc_main$Q={name:"ue-tabs",components:{RowFormat},props:{modelValue:{type:String,default:null},itemTitle:{type:String,default:"name"},items:{type:Object,default:()=>({})}},data(){return{models:{}}},computed:{activeTab:{get(){return this.modelValue??Object.keys(this.items)[0]??null},set(e){this.$emit("update:modelValue",e)}}},created(){this.models=Object.keys(this.items).map((e,a)=>[])}};function _sfc_render$J(e,a,o,r,i,n){const l=resolveComponent("RowFormat");return openBlock(),createElementBlock(Fragment,null,[createVNode(VTabs,{modelValue:n.activeTab,"onUpdate:modelValue":a[0]||(a[0]=s=>n.activeTab=s),"align-tabs":"center","center-active":"","show-arrows":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),s=>(openBlock(),createBlock(VTab,{key:`tab-${s}`,value:s},{default:withCtx(()=>[createTextVNode(toDisplayString(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),createVNode(VTabsWindow,{modelValue:n.activeTab,"onUpdate:modelValue":a[1]||(a[1]=s=>n.activeTab=s)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(o.items),(s,u)=>(openBlock(),createBlock(VTabsWindowItem,{key:`tab-window-${s}`,value:s,class:"pa-theme"},{default:withCtx(()=>[renderSlot(e.$slots,"window",mergeProps({ref_for:!0},{index:u,key:s,items:o.items[s],model:i.models[s]}),()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items[s],(c,p)=>(openBlock(),createBlock(l,{key:`window-row-${p}]`,elements:[{text:`${c[o.itemTitle]}`,col:{cols:4}}]},null,8,["elements"]))),128)),renderSlot(e.$slots,"windowItem")])]),_:2},1032,["value"]))),128))]),_:3},8,["modelValue"])],64)}const TabsPrevious=_export_sfc(_sfc_main$Q,[["render",_sfc_render$J]]),__vite_glob_0_41=Object.freeze(Object.defineProperty({__proto__:null,default:TabsPrevious},Symbol.toStringTag,{value:"Module"})),_sfc_main$P={name:"ue-text-display",props:{text:{type:String,required:!0},subText:{type:String,required:!1}}},_hoisted_1$z={class:"d-flex align-baseline"},_hoisted_2$t={class:"font-weight-bold"},_hoisted_3$t={key:0,class:"text-body-1"};function _sfc_render$I(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("span",_hoisted_2$t,toDisplayString(o.text),1),o.subText?(openBlock(),createElementBlock("span",_hoisted_3$t,toDisplayString(o.subText),1)):createCommentVNode("",!0)])}const TextDisplay=_export_sfc(_sfc_main$P,[["render",_sfc_render$I]]),__vite_glob_0_42=Object.freeze(Object.defineProperty({__proto__:null,default:TextDisplay},Symbol.toStringTag,{value:"Module"})),_hoisted_1$y=["innerHTML"],_sfc_main$O={__name:"Title",props:{text:String,subTitle:String,tag:{type:String,default:"div",validator:e=>["div","h1","h2","h3","h4","h5","h6"].includes(e)},type:{type:String,default:"body-1",validator:e=>e===null||["h1","h2","h3","h4","h5","h6","subtitle-1","subtitle-2","body-1","body-2","button","caption","overline"].includes(e)},weight:{type:String,default:"bold",validator:e=>e===null||["black","bold","medium","regular","light","thin"].includes(e)},transform:{type:String,default:"uppercase",validator:e=>e===null||["none","capitalize","lowercase","uppercase"].includes(e)},color:{type:String},bg:{type:String},padding:{type:String,default:"a-3"},margin:{type:String,default:"a-0"},align:{type:String,default:"start",validator:e=>["start","center","end"].includes(e)},textPosition:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},justify:{type:String,default:"start",validator:e=>["start","center","end","space-between"].includes(e)},classes:{type:[String,Array]},paddingReset:{type:Boolean,default:!1},descriptionClasses:{type:[String,Array],default:"font-weight-light text-subtitle-2 text-truncate"}},setup(e){const a=e,o=computed(()=>["ue-title",`text-${a.type}`,a.bg?`bg-${a.bg}`:"",a.color?`text-${a.color}`:"",`text-${a.transform}`,`font-weight-${a.weight}`,a.padding?`p${a.padding}`:"",a.margin?`m${a.margin}`:"",`text-${a.textPosition}`,`align-${a.align}`,`justify-${a.justify}`]);return(r,i)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass([o.value,e.classes,"d-flex"])},{default:withCtx(()=>[renderSlot(r.$slots,"default",normalizeProps(guardReactiveProps({text:e.text})),()=>[createBaseVNode("span",{innerHTML:e.text},null,8,_hoisted_1$y)]),renderSlot(r.$slots,"right")]),_:3},8,["class"]))}},__vite_glob_0_43=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$O},Symbol.toStringTag,{value:"Module"})),illegalRe=/[\/\?<>\\:\*\|":]/g,controlRe=/[\x00-\x1f\x80-\x9f]/g,reservedRe=/^\.+$/,windowsReservedRe=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,windowsTrailingRe=/[\. ]+$/,defaultDiacriticsRemovalap=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],diacriticsMap={};for(let e=0;e<defaultDiacriticsRemovalap.length;e++){const a=defaultDiacriticsRemovalap[e].letters.split("");for(let o=0;o<a.length;o++)diacriticsMap[a[o]]=defaultDiacriticsRemovalap[e].base}function noAccents(e,a,o){let r=e.replace(/[^\u0000-\u007E]/g,function(i){return diacriticsMap[i]||i});return o=o||"",r=r.replace(/[^\u0000-\u007E]/g,o),r}function sanitize(e,a){let o=noAccents(e).replace(illegalRe,a).replace(controlRe,a).replace(reservedRe,a).replace(windowsReservedRe,a).replace(windowsTrailingRe,a);const r=/[^0-9a-zA-Z-.,;_]/g;return o=o.replace(r,""),truncate(o,{length:255})}function sanitizeFilename(e,a){return sanitize(e,"")}const _sfc_main$N={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){const e=this.uploaderConfig.allowedExtensions;return{allowedExtensions:e,acceptFiles:"."+e.join(", ."),stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){const a={debug:!0,maxConnections:5,button:this.$refs.uploaderBrowseButton,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader=this.uploaderConfig.endpointType==="s3"?new _default({options:{...a,validation:{...this.uploaderValidation},objectProperties:{key:o=>this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)),region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):this.uploaderConfig.endpointType==="azure"?new _default$1({options:{...a,validation:{...this.uploaderValidation},cors:{expected:!0,sendCredentials:!0},blobProperties:{name:o=>new Promise(r=>{r(this.unique_folder_name+"/"+sanitizeFilename(this._uploader.methods.getName(o)))})},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}}):new _default$2({options:{...a,validation:{...this.uploaderValidation,sizeLimit:this.uploaderConfig.filesizeLimit*1048576},request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}}})},replaceMedia:function(e){this.media_to_replace_id=e;const a=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');a[Array.from(a).length-1].click()},loadingProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,a){this.$emit("loaded",a),this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(MEDIA_LIBRARY.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(MEDIA_LIBRARY.PROGRESS_UPLOAD,e)},_onCompleteCallback(e,a,o,r){const i=this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e));o.success?this.loadingFinished(this.loadingMedias[i],o.media):this.loadingError(this.loadingMedias[i])},_onAllCompleteCallback(e,a){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback(e,a){this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+qq.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);const o=URL.createObjectURL(this._uploader.methods.getFile(e)),r=new Image;r.onload=()=>{this._uploader.methods.setParams({width:r.width,height:r.height,unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e),this.media_to_replace_id=null},r.src=o;const i={id:this._uploader.methods.getUuid(e),name:sanitizeFilename(a),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};this.type.value==="file"&&(this.media_to_replace_id=null),this.loadingMedias.push(i),this.loadingProgress(i)},_onProgressCallback(e,a,o,r){const i=this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e));if(i>=0){const n=this.loadingMedias[i];n.progress=o/r*100||0,n.error=!1,this.loadingProgress(n)}},_onErrorCallback(e,a,o,r){const i=e?this.loadingMedias.findIndex(n=>n.id===this._uploader.methods.getUuid(e)):-1;if(i>=0)this.loadingMedias[i].errorMessage=o,this.loadingError(this.loadingMedias[i]);else{const n={id:e?this._uploader.methods.getUuid(e):Math.floor(Math.random()*1e3),name:sanitizeFilename(a),progress:0,error:!0,errorMessage:o};this.loadingMedias.push(n),this.loadingProgress(n),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback(e,a,o){if(o==="retrying upload"){const r=this.loadingMedias.findIndex(function(i){return i.id===e});if(r>=0){const i=this.loadingMedias[r];i.progress=0,i.error=!1,this.loadingProgress(i)}}},_onTotalProgressCallback(e,a){const o=Math.floor(e/a*100);this.uploadProgress(o)},_onDropError(e,a){console.error(e,a)},_onProcessingDroppedFilesComplete(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted(){this.initUploader();const e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new qq.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeUnmount(){this._qqDropzone&&this._qqDropzone.dispose()}},_hoisted_1$x={class:"uploader"},_hoisted_2$s={class:"uploader__dropzone",ref:"uploaderDropzone"},_hoisted_3$s={class:"uploader__dropzone--desktop"};function _sfc_render$H(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$s,[createBaseVNode("div",{class:"button",ref:"uploaderBrowseButton"},toDisplayString(e.$trans("uploader.upload-btn-label","Add new")),513),createBaseVNode("div",_hoisted_3$s,toDisplayString(e.$trans("uploader.dropzone-text","or drop new files here")),1)],512)])}const Uploader=_export_sfc(_sfc_main$N,[["render",_sfc_render$H],["__scopeId","data-v-936f2c80"]]),__vite_glob_0_44=Object.freeze(Object.defineProperty({__proto__:null,default:Uploader},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$3}=makeFormatterProps(),_sfc_main$M={props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$3},setup(e,a){return{...useTableIterator(e,a)}},data(){return{isExpanded:!1}},methods:{toggleExpand(){this.isExpanded=!this.isExpanded}}};function _sfc_render$G(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VCard,{onClick:n.toggleExpand,color:"#EBEFF280",variant:"flat",rounded:"l",class:"mr-0 pr-0"},{default:withCtx(()=>[createVNode(VRow,{class:"d-flex align-center pr-0 mr-0 ga-0"},{default:withCtx(()=>[createVNode(VCol,{cols:"11"},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.headerKey].formatter.length?(openBlock(),createBlock(l,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.headerKey].formatter,e.item[e.iteratorOptions.headerKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1}))]),_:1}),createVNode(VSpacer),createVNode(VIcon,{icon:"mdi-menu-down",class:"pr-3"})]),_:1}),(openBlock(),createBlock(VExpandTransition,{key:e.item.id},{default:withCtx(()=>[i.isExpanded?(openBlock(),createBlock(VCard,{key:0},{default:withCtx(()=>[e.headersWithKeys[e.iteratorOptions.expandedKey].formatter.length?(openBlock(),createBlock(l,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.expandedKey].formatter,e.item[e.iteratorOptions.expandedKey]),{key:e.key}),null,16)):(openBlock(),createBlock(VCardItem,{key:0,class:"value"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.expandedKey]),1)]),_:1}))]),_:1})):createCommentVNode("",!0)]),_:1}))]),_:1},8,["onClick"])}const ExpandableIterator=_export_sfc(_sfc_main$M,[["render",_sfc_render$G]]),__vite_glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:ExpandableIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$2}=makeFormatterProps(),_sfc_main$L={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$2},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$w={class:"text-h6"},_hoisted_2$r={key:0},_hoisted_3$r={key:1},_hoisted_4$m={key:2},_hoisted_5$j={class:"d-flex justify-end"};function _sfc_render$F(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createBlock(VSheet,{border:""},{default:withCtx(()=>[createVNode(VImg,{gradient:"to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, .1), rgba(0, 0, 0, .15)",src:e.headersWithKeys[e.iteratorOptions.imgSrc]??"https://ih1.redbubble.net/image.4905811447.8675/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",height:"150"},null,8,["src"]),createVNode(VListItem,{title:e.item.name,density:"comfortable",lines:"one"},{title:withCtx(()=>[createBaseVNode("strong",_hoisted_1$w,toDisplayString(e.item.name),1)]),_:1},8,["title"]),createVNode(VTable,{class:"data-iterator-table",density:"compact"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headersWithKeys,(s,u)=>{var c,p;return openBlock(),createElementBlock("tr",null,[createBaseVNode("th",null,toDisplayString(s.title),1),s.key!=="actions"&&!((c=s.formatter)!=null&&c.length)?(openBlock(),createElementBlock("td",_hoisted_2$r,toDisplayString(e.item[s.key]),1)):s.key!=="actions"&&((p=s.formatter)!=null&&p.length)?(openBlock(),createElementBlock("td",_hoisted_3$r,[(openBlock(),createBlock(l,mergeProps({ref_for:!0},e.handleFormatter(s.formatter,e.item[s.key]),{key:s.key}),null,16))])):s.key==="actions"&&!s.formatter.length?(openBlock(),createElementBlock("td",_hoisted_4$m,[createBaseVNode("div",_hoisted_5$j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(f=>e.itemHasAction(e.item,f)),(f,m)=>(openBlock(),createBlock(VIcon,{ripple:!0,density:"compact",size:"medium",key:m,onClick:y=>e.itemAction(e.item,f),small:"",icon:f.icon??`$${f.name}`},null,8,["onClick","icon"]))),128))])])):createCommentVNode("",!0)])}),256))])]),_:1})]),_:1})}const RichCardIterator=_export_sfc(_sfc_main$L,[["render",_sfc_render$F]]),__vite_glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:RichCardIterator},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters:ignoreFormatters$1}=makeFormatterProps(),_sfc_main$K={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters:ignoreFormatters$1},setup(e,a){return{...useTableIterator(e,a)}}},_hoisted_1$v={class:"d-flex"},_hoisted_2$q={class:"header"},_hoisted_3$q={key:0,class:"value"},_hoisted_4$l={class:"d-flex"},_hoisted_5$i={class:"header"},_hoisted_6$i={key:0,class:"value"},_hoisted_7$e={key:0,class:"featured"},_hoisted_8$d={key:1};function _sfc_render$E(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff");return openBlock(),createElementBlock(Fragment,null,[createVNode(VCard,{class:"data-iterable-rich-row",variant:"flat",elevation:"0"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.item[e.iteratorOptions.headerKey]),1)]),_:1})]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{class:"action-area"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions.filter(s=>e.itemHasAction(e.item,s)),(s,u)=>(openBlock(),createBlock(VBtn,{ripple:!0,density:"compact",size:"small",key:u,onClick:c=>e.itemAction(e.item,s)},{default:withCtx(()=>[createVNode(VIcon,{small:"",icon:s.icon??`$${s.name}`},null,8,["icon"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"3",class:"first-column"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.firstColumn,(s,u)=>(openBlock(),createElementBlock("div",_hoisted_1$v,[createBaseVNode("p",_hoisted_2$q,toDisplayString(e.headersWithKeys[s].title),1),e.headersWithKeys[s].formatter.length?(openBlock(),createBlock(l,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_3$q,toDisplayString(e.item[s]),1))]))),256))]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.iteratorOptions.secondColumn,(s,u)=>{var c,p;return openBlock(),createElementBlock("div",_hoisted_4$l,[createBaseVNode("p",_hoisted_5$i,toDisplayString(((c=e.headersWithKeys[s])==null?void 0:c.title)??s),1),(p=e.headersWithKeys[s])!=null&&p.formatter.length?(openBlock(),createBlock(l,mergeProps({key:1,ref_for:!0},e.handleFormatter(e.headersWithKeys[s].formatter,e.item[s]),{key:s}),null,16)):(openBlock(),createElementBlock("p",_hoisted_6$i,toDisplayString(e.item[s]??""),1))])}),256))]),_:1}),createVNode(VCol,{cols:"3",class:"featured"},{default:withCtx(()=>{var s;return[(s=e.headersWithKeys[e.iteratorOptions.featured])!=null&&s.formatter.length?(openBlock(),createBlock(l,mergeProps({key:1},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.featured].formatter,e.item[e.iteratorOptions.featured]),{key:e.item[e.iteratorOptions.featured].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_7$e,toDisplayString(e.item[e.iteratorOptions.featured]),1))]}),_:1}),createVNode(VCol,{cols:"3",class:"last-column"},{default:withCtx(()=>[e.headersWithKeys.published.formatter.length?(openBlock(),createBlock(l,mergeProps({key:0},e.handleFormatter(e.headersWithKeys[e.iteratorOptions.lastColumn].formatter,e.item[e.iteratorOptions.lastColumn]),{key:e.item[e.iteratorOptions.lastColumn].key}),null,16)):(openBlock(),createElementBlock("p",_hoisted_8$d,toDisplayString(e.item[e.iteratorOptions.lastColumn]),1)),createVNode(VBtn,{variant:"outlined",ripple:!0},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode("Report")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VDivider)],64)}const RichRowIterator=_export_sfc(_sfc_main$K,[["render",_sfc_render$E]]),__vite_glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:RichRowIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$J={name:"Footer",props:{items:{type:Array,required:!0},show:{type:Boolean,default:!0}},data:function(){return{links:this.items,display:this.show}},created(){}};function _sfc_render$D(e,a,o,r,i,n){return withDirectives((openBlock(),createBlock(VFooter,{dark:"",padless:""},{default:withCtx(()=>[createVNode(VCard,{flat:"",tile:"",class:"indigo lighten-1 white--text text-center"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.links,(l,s)=>(openBlock(),createBlock(VBtn,{key:s,class:"mx-4 white--text",href:l.url,icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"24px"},{default:withCtx(()=>[createTextVNode(toDisplayString(l.icon),1)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),createVNode(VCardText,{class:"white--text pt-0"},{default:withCtx(()=>a[0]||(a[0]=[createTextVNode(" Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. ")])),_:1}),createVNode(VDivider),createVNode(VCardText,{class:"white--text"},{default:withCtx(()=>[createTextVNode(toDisplayString(new Date().getFullYear())+" — ",1),a[1]||(a[1]=createBaseVNode("strong",null,"Vuetify",-1))]),_:1})]),_:1})]),_:1},512)),[[vShow,e.display]])}const Footer=_export_sfc(_sfc_main$J,[["render",_sfc_render$D]]),__vite_glob_2_0=Object.freeze(Object.defineProperty({__proto__:null,default:Footer},Symbol.toStringTag,{value:"Module"})),_sfc_main$I={provide(){return{activeMenu:computed(()=>this.activeMenu)}},setup(){const e=useGoTo();return{...useSidebar(),goTo:e}},props:{items:{type:Array,required:!0},profileMenu:{type:Array,required:!1,default:()=>[]},rating:{type:Number,default:0}},data(){return{dialog:!1,logo:"@/sass/themes/template/main-logo.svg",profileMenuOpen:!1}},mounted(){try{const e=window.$(".sidebar-item-active"),a=e[e.length-1];this.goTo(a,{container:".v-navigation-drawer__content",duration:200,offset:-200,easing:"easeInOutQuad"})}catch(e){console.log(e)}this.profileMenu.length>0&&(this.profileMenuOpen=this.profileMenu.some(e=>e.is_active==1))},methods:{profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})}}},_hoisted_1$u={key:1,class:"mx-3 text-subtitle-2"},_hoisted_2$p={class:"flex-grow-1"},_hoisted_3$p={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_4$k={class:"flex-grow-1"},_hoisted_5$h={class:"flex-grow-0 ml-1 font-weight-bold"},_hoisted_6$h={class:"d-flex align-center position-relatie",style:{}};function _sfc_render$C(e,a,o,r,i,n){const l=resolveComponent("ue-svg-icon"),s=resolveComponent("ue-navigation-group"),u=resolveComponent("ue-logout-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{ref:"navigationDrawer",id:"navigation-drawer",modelValue:e.status,"onUpdate:modelValue":a[3]||(a[3]=c=>e.status=c),rail:e.rail,"expand-on-hover":e.isHoverable,location:e.options.location,railWidth:e.options.railWidth,persistent:e.options.persistent??!1,width:e.width},{prepend:withCtx(()=>[createVNode(VList,{class:"ue-sidebar__info"},{default:withCtx(()=>[e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock("div",_hoisted_1$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(c,p)=>(openBlock(),createElementBlock("div",{key:p,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_2$p,toDisplayString(e.$headline(p))+":",1),createBaseVNode("div",_hoisted_3$p,toDisplayString(c),1)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],c=>createBaseVNode("div",{key:c,class:"d-flex align-center my-1"},[createBaseVNode("div",_hoisted_4$k,toDisplayString(c==="appDebug"?"Debug Mode":e.$headline(c))+":",1),createBaseVNode("div",_hoisted_5$h,toDisplayString(c==="appDebug"?e.$store.getters[c]?"Active":"Inactive":e.$store.getters[c]),1)])),64)):createCommentVNode("",!0)])):(openBlock(),createBlock(VListItem,{key:0,"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",subtitle:e.$store.getters.appEmail,title:e.$store.getters.appName,class:"ue-sidebar__info-item"},{prepend:withCtx(()=>[createVNode(VAvatar,{class:"ue-sidebar__avatar",color:"primary"},{default:withCtx(()=>[createVNode(l,{class:"ue-sidebar__logo",symbol:"main-logo-dark"})]),_:1})]),_:1},8,["subtitle","title"]))]),_:1}),createBaseVNode("div",_hoisted_6$h,[createVNode(VDivider,{class:"flex-grow-1"}),!e.hasRail&&e.$vuetify.display.lgAndUp?(openBlock(),createBlock(VBtn,{key:0,icon:"",color:"orange",onClick:a[0]||(a[0]=c=>e.railManual=!e.railManual),class:"sidebar-toggle-btn",size:"small",style:{position:"absolute",right:"-20px","z-index":"9999"}},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.rail?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1})):createCommentVNode("",!0)])]),append:withCtx(()=>[e.$store.getters.isGuest?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VDivider),createVNode(VList,{class:""},{default:withCtx(()=>[createVNode(VListItem,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:e.$store.getters.userProfile.name,subtitle:e.$store.getters.userProfile.email,class:"ue-sidebar__info-item"},{prepend:withCtx(c=>[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])]),subtitle:withCtx(()=>[createVNode(VTooltip,{text:e.$store.getters.userProfile.email,location:"top"},{activator:withCtx(c=>[createBaseVNode("div",mergeProps({class:"v-list-item-subtitle"},c.props),toDisplayString(e.$store.getters.userProfile.email),17)]),_:1},8,["text"])]),append:withCtx(()=>[createVNode(VBtn,{onClick:a[1]||(a[1]=c=>i.profileMenuOpen=!i.profileMenuOpen),icon:i.profileMenuOpen?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text"},null,8,["icon"])]),_:1},8,["title","subtitle"]),createVNode(VExpandTransition,null,{default:withCtx(()=>[i.profileMenuOpen?(openBlock(),createBlock(s,{key:0,items:o.profileMenu,profileMenu:!0,onActivateMenu:a[2]||(a[2]=c=>e.handleMenu(c))},null,8,["items"])):createCommentVNode("",!0)]),_:1}),createVNode(u,{csrf:e.$csrf()},{activator:withCtx(({props:c})=>[createVNode(VTooltip,{text:"Logout",location:"top",disabled:!(e.rail&&!e.isHoverable)},{activator:withCtx(p=>[createBaseVNode("div",normalizeProps(guardReactiveProps(p.props)),[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-logout"},c,{disabled:e.$store.getters.isGuest}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("authentication.logout")),1)]),_:2},1040,["disabled"])],16)]),_:2},1032,["disabled"])]),_:1},8,["csrf"]),e.$store.getters.versions&&!e.$store.getters.isGuest&&!e.$store.getters.isClient&&!e.$store.getters.isSuperAdmin?(openBlock(),createBlock(VDialog,{key:0,ref:"aboutDialog","max-width":"500"},{activator:withCtx(({props:c})=>[createVNode(VListItem,mergeProps({"prepend-icon":"mdi-information"},c),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("About")),1)]),_:2},1040)]),default:withCtx(({isActive:c})=>[createVNode(VCard,{title:e.$t("About")},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.$store.getters.versions,(p,f)=>(openBlock(),createElementBlock("div",{key:f,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(e.$headline(f))+": ",1),createVNode(VChip,{variant:"outlined",color:"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(p),1)]),_:2},1024)]))),128)),e.$store.getters.isSuperAdmin?(openBlock(),createElementBlock(Fragment,{key:0},renderList(["appName","appEnv","appDebug"],p=>createBaseVNode("div",{key:p,class:"d-flex align-center my-1"},[createTextVNode(toDisplayString(p==="appDebug"?"Debug Mode":e.$headline(p))+": ",1),createVNode(VChip,{variant:"outlined",color:p==="appDebug"?e.$store.getters[p]?"success":"error":"primary",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(p==="appDebug"?e.$store.getters[p]?"Active":"Inactive":e.$store.getters[p]),1)]),_:2},1032,["color"])])),64)):createCommentVNode("",!0)]),_:1}),createVNode(VDivider),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"outlined",text:e.$t("Close"),onClick:p=>c.value=!1},null,8,["text","onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:1},512)):createCommentVNode("",!0)]),_:1})],64)),renderSlot(e.$slots,"bottom")]),default:withCtx(()=>[createVNode(s,{items:o.items,hideIcons:e.hideIcons,showTooltip:e.rail&&!e.isHoverable,id:"ue-sidebar__menu"},null,8,["items","hideIcons","showTooltip"])]),_:3},8,["modelValue","rail","expand-on-hover","location","railWidth","persistent","width"]),e.options.contentDrawer.exists?(openBlock(),createBlock(VNavigationDrawer,{key:0,width:e.width,location:e.options.location,style:{"max-width":"15%"}},null,8,["width","location"])):createCommentVNode("",!0),e.secondaryOptions.exists?(openBlock(),createBlock(VNavigationDrawer,{key:1,location:e.secondaryOptions.location,width:e.width},null,8,["location","width"])):createCommentVNode("",!0)],64)}const Sidebar=_export_sfc(_sfc_main$I,[["render",_sfc_render$C]]),__vite_glob_2_3=Object.freeze(Object.defineProperty({__proto__:null,default:Sidebar},Symbol.toStringTag,{value:"Module"})),_sfc_main$H={name:"Home",data(){return{sidebarItems:[{icon:"fas fa-plus"},{icon:"fas fa-th-large"},{icon:"fas fa-align-center"},{icon:"fas fa-gitter"},{icon:"fas fa-chart-line"}]}},components:{Sidebar}};function _sfc_render$B(e,a,o,r,i,n){const l=resolveComponent("Sidebar");return openBlock(),createBlock(VApp,{id:"inspire",style:normalizeStyle({background:e.$vuetify.theme.themes.dark.background})},{default:withCtx(()=>[createVNode(l,{items:i.sidebarItems},null,8,["items"])]),_:1},8,["style"])}const Home=_export_sfc(_sfc_main$H,[["render",_sfc_render$B]]),__vite_glob_2_1=Object.freeze(Object.defineProperty({__proto__:null,default:Home},Symbol.toStringTag,{value:"Module"})),_sfc_main$G={props:{fixedAppBar:{type:Boolean,default:!1},appBarOrder:{type:Number,default:0},headerTitle:{type:String},hideDefaultSidebar:{type:Boolean,default:!1},navigation:{type:Object,default(){return{sidebar:[{icon:"$package",text:"Packages",action:"",is_active:!1},{icon:"$creditCards",text:"Payments",action:"",is_active:!1},{icon:"$product",text:"Customers",action:"",is_active:!1},{icon:"$users",text:"Users",is_active:!0,items:[{icon:"$users",text:"Show Users",action:"",is_active:!1},{icon:"$userAdd",text:"Add User",action:"",is_active:!1},{icon:"$role",text:"Roles",is_active:!0,items:[{icon:"$permission",text:"Add Permission",action:"",is_active:!0}]}]},{icon:"$check",text:"Settings",action:"",is_active:!1},{icon:"fas fa-plus",text:"Others",action:"",is_active:!1}]}}},impersonation:{type:Object,default(){return{}}},authorization:{type:Object,default(){return{}}}},data(){return{loader:null,loading:!1,langs:["tr","en"],footerDisplay:!1,sidebarItem:[{icon:"$package",text:"Packages",action:""},{icon:"$creditCards",text:"Payments",action:""},{icon:"$product",text:"Customers",action:""},{icon:"$users",text:"Users",items:[{icon:"$users",text:"Show Users",action:""},{icon:"$userAdd",text:"Add User",action:""}]},{icon:"$check",text:"Settings",action:""},{icon:"fas fa-plus",text:"Others",action:""}],sidebarItems:this.navigation&&this.navigation.sidebar?this.navigation.sidebar:[],breadcrumbs:this.navigation.breadcrumbs??[],profileMenu:this.navigation.profileMenu??[],sidebarBottom:this.navigation.sidebarBottom??[],footerLinks:[{icon:"mdi-facebook",url:"facebook.com"},{icon:"mdi-twitter",url:"twitter.com"},{icon:"mdi-linkedin",url:"linkedin.com"},{icon:"mdi-instagram",url:"instagram.com"}],showDeleteWarning:!1,showImpersonateToolbar:!1}},computed:{alertDialog:{get(){return this.$store.state.alert.dialog},set(e){this.$store.commit(ALERT$1.SET_DIALOG_SHOW,e)}},alertDialogMessage(){return this.$store.state.alert.dialogMessage}},created(){this.$vuetify.display.mdAndDown&&this.$store.commit(CONFIG.SET_SIDEBAR,!1),this.$store.commit(MEDIA_LIBRARY.SET_ACCESSIBLE,this.authorization&&!this.$lodash.isEmpty(this.authorization)&&!this.authorization.isClient)},mounted(){},methods:{addSidebarItem:function(e){this.$refs.sidebar.addItem({icon:"fa-regular fa-circle-question",text:"New"})},submit(){alert("Submit Form")},closeAlertDialog(){this.$store.commit(ALERT$1.CLEAR_DIALOG)},profileFormSubmitted(e){typeof URLS<"u"&&URLS&&axios.get(URLS.profileShow).then(a=>{this.$store.commit(USER.SET_PROFILE_DATA,a.data)})},loginFormSubmitted(e){e.variant==="success"&&(this.$store.commit(ALERT$1.SET_ALERT,{...e}),e.timeout?setTimeout(()=>{window.location.reload()},e.timeout):window.location.reload())}}},_hoisted_1$t={class:"d-flex justify-end mr-4"},_hoisted_2$o={class:"d-flex align-center"},_hoisted_3$o=["value"],_hoisted_4$j={key:0},_hoisted_5$g={class:"d-flex flex-column align-center justify-center"},_hoisted_6$g={class:"modal--tiny-title"},_hoisted_7$d=["innerHTML"],_hoisted_8$c={class:"d-flex align-center"},_hoisted_9$b={class:"d-flex"},_hoisted_10$a={class:"my-3 flex-grow-0"},_hoisted_11$7=["innerHTML"],_hoisted_12$4={class:"text-grey-darken-2 text-caption"};function _sfc_render$A(e,a,o,r,i,n){const l=resolveComponent("ue-navigation-group"),s=resolveComponent("ue-impersonate-toolbar"),u=resolveComponent("ue-sidebar"),c=resolveComponent("ue-modal-media"),p=resolveComponent("ue-modal"),f=resolveComponent("ue-title"),m=resolveComponent("ue-form"),y=resolveComponent("ue-alert"),v=resolveComponent("ue-dynamic-modal"),g=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VApp,{id:"inspire"},{default:withCtx(()=>[e.$store.getters.isHot?(openBlock(),createBlock(VChip,{key:0,color:"green",class:"position-absolute",style:{top:"4px",right:"0","z-index":"10000"},onClick:a[0]||(a[0]=b=>e.$store.state.ambient.isHot=!1)},{default:withCtx(()=>a[11]||(a[11]=[createTextVNode(" Development Mode ")])),_:1})):createCommentVNode("",!0),e.$vuetify.display.mdAndDown||o.fixedAppBar?(openBlock(),createBlock(VAppBar,{key:1,app:"",order:o.appBarOrder},{default:withCtx(()=>[renderSlot(e.$slots,"app-bar",{},()=>[!e.$vuetify.display.lgAndUp&&!o.hideDefaultSidebar?(openBlock(),createBlock(VAppBarNavIcon,{key:0,icon:e.$store.getters.sidebarStatus?"$close":"$menu",onClick:a[1]||(a[1]=b=>e.$toggleSidebar())},null,8,["icon"])):createCommentVNode("",!0),createVNode(VToolbarTitle,{class:"flex-1-1-100 ml-0 text-center"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.headerTitle),1)]),_:1}),createVNode(VSpacer),createBaseVNode("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$o,[createVNode(VAvatar,{image:e.$store.getters.userProfile.avatar_url,onClick:e.$openProfileDialog},null,8,["image","onClick"])])]),createCommentVNode("",!0)])]),_:3},8,["order"])):createCommentVNode("",!0),o.hideDefaultSidebar?createCommentVNode("",!0):(openBlock(),createBlock(u,{key:2,ref:"sidebar",items:i.sidebarItems,profileMenu:i.profileMenu},{bottom:withCtx(()=>[i.sidebarBottom.length>0?(openBlock(),createBlock(l,{key:0,items:i.sidebarBottom},null,8,["items"])):createCommentVNode("",!0),o.impersonation.active?(openBlock(),createBlock(s,mergeProps({key:1,modelValue:i.showImpersonateToolbar,"onUpdate:modelValue":a[3]||(a[3]=b=>i.showImpersonateToolbar=b)},o.impersonation),null,16,["modelValue"])):createCommentVNode("",!0)]),_:1},8,["items","profileMenu"])),createVNode(VMain,null,{default:withCtx(()=>[renderSlot(e.$slots,"top"),createCommentVNode("",!0),renderSlot(e.$slots,"default"),renderSlot(e.$slots,"bottom")]),_:3}),e.$store.getters.mediaLibraryAccessible?(openBlock(),createBlock(c,{key:3,ref:"mediaLibrary",modelValue:e.$store.state.mediaLibrary.showModal,"onUpdate:modelValue":a[4]||(a[4]=b=>e.$store.state.mediaLibrary.showModal=b)},null,8,["modelValue"])):createCommentVNode("",!0),createVNode(p,{ref:"deleteWarningMediaModal",modelValue:i.showDeleteWarning,"onUpdate:modelValue":a[5]||(a[5]=b=>i.showDeleteWarning=b),transition:"dialog-bottom-transition","width-type":"sm","confirm-text":e.$t("media-library.dialogs.delete.delete-media-confirm"),"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_5$g,[createBaseVNode("p",_hoisted_6$g,[createBaseVNode("strong",null,toDisplayString(e.$t("media-library.dialogs.delete.delete-media-title")),1)]),createBaseVNode("p",{innerHTML:e.$t("media-library.dialogs.delete.delete-media-desc")},null,8,_hoisted_7$d)])]),_:1},8,["modelValue","confirm-text"]),createVNode(p,{ref:"profileDialog",modelValue:e.$store.state.user.profileDialog,"onUpdate:modelValue":a[7]||(a[7]=b=>e.$store.state.user.profileDialog=b),Xwidth:"500",scrollable:""},{body:withCtx(({isActive:b,toggleFullscreen:k,close:C,isFullActive:w})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(f,{padding:"y-3",text:e.$t("Upload Profile Image"),color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_8$c,[createVNode(VIcon,{icon:w?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"default",onClick:V=>k()},null,8,["icon","onClick"]),createVNode(VIcon,{icon:"$close",variant:"plain",color:"grey-darken-5",size:"default",onClick:V=>C()},null,8,["onClick"])])]),_:2},1032,["text"]),createVNode(VDivider)]),_:2},1024),createVNode(VCardText,{Xstyle:"height: 30vh;"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$b,[createBaseVNode("div",_hoisted_10$a,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"100"},null,8,["image"])]),createVNode(m,{class:"flex-grow-1 pl-6",schema:e.$store.state.user.profileShortcutSchema,modelValue:e.$store.state.user.profileShortcutModel,"onUpdate:modelValue":a[6]||(a[6]=V=>e.$store.state.user.profileShortcutModel=V),"action-url":e.$store.state.user.profileRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"","is-editing":"",buttonText:"fields.save",onSubmitted:n.profileFormSubmitted},null,8,["schema","modelValue","action-url","onSubmitted"])])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),createVNode(y,{ref:"alert"},null,512),createVNode(v),createVNode(p,{ref:"dialog",modelValue:n.alertDialog,"onUpdate:modelValue":a[8]||(a[8]=b=>n.alertDialog=b),scrollable:"",transition:"dialog-bottom-transition","width-type":"lg",persistent:""},{body:withCtx(b=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,{class:"text-center",style:{"word-break":"break-word"}},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.alertDialogMessage},null,8,_hoisted_11$7)]),_:1}),createVNode(VDivider),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(g,{onClick:n.closeAlertDialog},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(p,{ref:"loginModal",modelValue:e.$store.state.user.showLoginModal,"onUpdate:modelValue":a[10]||(a[10]=b=>e.$store.state.user.showLoginModal=b),scrollable:"",transition:"dialog-bottom-transition","width-type":"sm",persistent:""},{body:withCtx(({isActive:b,toggleFullscreen:k,close:C,isFullActive:w})=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createVNode(f,{padding:"y-3",color:"grey-darken-5",transform:"none",align:"center",justify:"space-between"},{default:withCtx(()=>[createBaseVNode("div",null,[createTextVNode(toDisplayString(e.$t("Login"))+" ",1),a[13]||(a[13]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",_hoisted_12$4,toDisplayString(e.$t("Your session has expired, please login again.")),1)])]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(m,{class:"flex-grow-1",schema:e.$store.state.user.loginShortcutSchema,modelValue:e.$store.state.user.loginShortcutModel,"onUpdate:modelValue":a[9]||(a[9]=V=>e.$store.state.user.loginShortcutModel=V),"action-url":e.$store.state.user.loginRoute,async:!0,hasSubmit:!0,"no-default-form-padding":"",buttonText:"fields.login",onSubmitted:n.loginFormSubmitted,titleJustify:"center"},null,8,["schema","modelValue","action-url","onSubmitted"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3})}const Main=_export_sfc(_sfc_main$G,[["render",_sfc_render$A]]),__vite_glob_2_2=Object.freeze(Object.defineProperty({__proto__:null,default:Main},Symbol.toStringTag,{value:"Module"})),_hoisted_1$s={class:"w-100"},_hoisted_2$n={class:"d-flex flex-wrap gc-4"},_hoisted_3$n=["innerHTML"],_hoisted_4$i=["innerHTML"],_hoisted_5$f=["innerHTML"],_hoisted_6$f=["innerHTML"],_hoisted_7$c=["innerHTML"],_hoisted_8$b=["innerHTML"],_hoisted_9$a={class:"d-flex justify-space-between gc-4"},_hoisted_10$9={class:"d-flex justify-space-between gc-4 mt-2"},_hoisted_11$6={class:"d-flex justify-end gc-4"},_sfc_main$F={__name:"Assignment",props:{...makeInputProps(),variant:{type:String,default:"outlined"},density:{type:String,default:"default"},items:{type:Array,default:()=>[]},fetchEndpoint:{type:String,default:null},saveEndpoint:{type:String,default:null},assignableType:{type:String,default:null},assigneeType:{type:String,default:null},authorizedRoles:{type:Array,default:()=>["superadmin","admin"]},minDueDays:{type:Number,default:0},filepond:{type:Object,default:null}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,r=a,{input:i,id:n,boundProps:l}=useInput(o,{emit:r}),{requiredRule:s,minRule:u,futureDateRule:c,dateRule:p,invokeRule:f}=useValidation(o),{t:m,d:y}=useI18n(),v=useDynamicModal(),g=useAuthorization(),b=useAlert(),k=ref(!1),C=ref(!1);ref(o.modelValue),ref([]),ref([]);const w=ref([]),V=ref(!1),T=ref(null),S=ref(!1),A=ref({assignee_id:null,due_at:null,description:null});ref(!1);const D=ref([]),P=ref(!1),N=computed(()=>g.hasRoles(o.authorizedRoles)),$=computed(()=>w.value.length>0?w.value[0]:null),F=computed(()=>w.value.length>0),E=computed(()=>$.value&&g.isYou($.value.assignee_id));computed(()=>N.value&&E.value);const z=computed(()=>{let x=[];return w.value.reduce((U,I,j)=>{let K=I.assignee_avatar??"",q=g.isYou(I.assigner_id)?m("You"):I.assigner_name,H=g.isYou(I.assignee_id)?m("You"):I.assignee_name,W=`to <span class="text-blue-darken-1">${H}</span> &mdash; by <span class="text-success">${q}</span>`;`${m("Until")}${y(new Date(I.due_at),"medium")}`;let X=`${m("From")}: <span class="">${y(I.created_at?new Date(I.created_at):new Date,"medium")}</span>`,Y=`${I.description} </br> </br>`,Q="",Z=null;return Q=`${I.status_interval_description}`,Z=I.status_vuetify_icon,Q+=` ${X}`,Y+=Q,U.push({prependAvatar:K,assignerName:q,assigneeName:H,title:W,subtitle:Y,subDescription:Q,appendInnerIcon:Z,attachments:I.attachments??[]}),j!==w.value.length-1&&U.push({type:"divider",inset:!0}),U},x)}),B=computed(()=>z.value.length>0?z.value[0]:null);watch$1(()=>w.value,x=>{x&&x.length>0&&(D.value=x[0].attachments??[])});const O=async(x,U=null,I=null,j=null)=>{const K=o.saveEndpoint.replace(":id",i.value);return axios$1.post(K,x).then(q=>{U&&U(q)}).catch(q=>{I&&I(q)}).finally(()=>{j&&j()}),!1},M=async()=>{if(i.value){const x=o.fetchEndpoint.replace(":id",i.value);k.value=!0,axios$1.get(x).then(U=>{U.status===200&&(w.value=U.data)}).finally(()=>{k.value=!1})}},L=async()=>{if(i.value){if(!await T.value.validate())return;const U={...A.value,assignee_type:o.assigneeType,assignable_id:i.value,assignable_type:o.assignableType};C.value=!0,O(U,I=>{I.status===200&&(b.openAlert({message:"You have successfully assigned a task!",location:"top",variant:"success",...I.data}),w.value.unshift(I.data),A.value={assignee_id:null,due_at:null,description:null},S.value=!1)},I=>{__log(I)},()=>{C.value=!1})}},R=async x=>i.value!==null?(C.value=!0,await O(x,I=>{I.status===200&&(b.openAlert({message:"Assignment updated successfully",...I.data}),I.data.assignments?w.value=I.data.assignments:M(),v.close())},I=>{__log(I)},()=>{C.value=!1})):!1,G=()=>{v.open(null,{modalProps:{widthType:"md",description:m("Are you sure you want to complete this task?"),title:m("Complete Task"),confirmText:m("Yes"),cancelText:m("No"),confirmLoading:C,rejectLoading:C,confirmCallback:async()=>{await R({status:"completed"})}}})};return onMounted(()=>{M()}),(x,U)=>{const I=resolveComponent("ue-filepond-preview"),j=resolveComponent("v-input-filepond"),K=resolveComponent("ue-dynamic-component-renderer"),q=resolveComponent("ue-modal"),H=resolveComponent("v-date-input"),W=resolveComponent("v-btn-secondary");return openBlock(),createBlock(VInput,{modelValue:unref(i),"onUpdate:modelValue":U[12]||(U[12]=X=>isRef(i)?i.value=X:null),variant:unref(l).variant,"hide-details":"",class:"v-input-assignment"},{default:withCtx(X=>[createBaseVNode("div",_hoisted_1$s,[k.value?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"list-item-two-line"})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_2$n,[F.value?(openBlock(),createBlock(VMenu,{key:0,"close-on-content-click":!1,location:"end","Xopen-on-hover":""},{activator:withCtx(({props:Y})=>[(E.value||N.value)&&B.value?(openBlock(),createBlock(VList,mergeProps({key:0,id:"assigneeList",items:[{title:x.$t("Assignee"),prependAvatar:B.value.prependAvatar??"",subtitle:B.value.assigneeName}],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee flex-grow-1 flex-shrink-0",color:"primary"},Y,{variant:"plain"}),{title:withCtx(({title:Q})=>[createBaseVNode("div",{class:"text-primary font-weight-bold",innerHTML:Q},null,8,_hoisted_3$n)]),subtitle:withCtx(({subtitle:Q})=>[createBaseVNode("div",{class:"font-weight-medium",innerHTML:Q},null,8,_hoisted_4$i)]),_:2},1040,["items"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCard,{"min-width":"300","max-width":"500"},{default:withCtx(()=>[createVNode(VList,{id:"assigneeList",items:[B.value],lines:"three","item-props":"",class:"pa-0 v-input-assignment__list--assignee"},{title:withCtx(({title:Y})=>[createBaseVNode("div",{innerHTML:Y},null,8,_hoisted_5$f)]),subtitle:withCtx(Y=>[createBaseVNode("div",{innerHTML:B.value.subDescription},null,8,_hoisted_6$f)]),_:1},8,["items"]),createVNode(VDivider),createVNode(VList,{lines:"10"},{default:withCtx(()=>[createVNode(VListItem,{title:x.$t("Description"),subtitle:$.value.description,class:""},{prepend:withCtx(({isSelected:Y,select:Q})=>[createVNode(VIcon,{icon:"mdi-information-outline"})]),_:1},8,["title","subtitle"]),N.value&&!E.value&&$.value.attachments&&$.value.attachments.length>0?(openBlock(),createBlock(VListItem,{key:0,title:x.$t("Files"),subtitle:"Files subtitle"},{prepend:withCtx(({isSelected:Y,select:Q})=>[createVNode(VIcon,{icon:"mdi-file-outline"})]),subtitle:withCtx(({subtitle:Y})=>[createVNode(I,{source:$.value.attachments??[],"show-inline-file-name":"","image-size":"24"},null,8,["source"])]),_:1},8,["title"])):createCommentVNode("",!0)]),_:1}),E.value?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[e.filepond?(openBlock(),createBlock(j,mergeProps({key:0,label:"Files",ref:"inputFilepond"},unref(f)(x.$lodash.omit(e.filepond,["type"])),{modelValue:D.value,"onUpdate:modelValue":U[0]||(U[0]=Y=>D.value=Y),xmodelValue:D.value,"onXupdate:modelValue":U[1]||(U[1]=Y=>x.$log("update:modelValue",Y)),onLoadingFile:U[2]||(U[2]=Y=>P.value=!0),onLoadedFile:U[3]||(U[3]=Y=>P.value=!1)}),null,16,["modelValue","xmodelValue"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),createVNode(VDivider),E.value?(openBlock(),createBlock(VCardActions,{key:1},{default:withCtx(()=>[createVNode(VBtn,{variant:"tonal",color:"success",onClick:G},{default:withCtx(()=>U[13]||(U[13]=[createTextVNode(" Complete ")])),_:1}),createVNode(VSpacer),createVNode(VBtn,{color:"primary",variant:"tonal",onClick:U[4]||(U[4]=Y=>D.value.length>0&&R({attachments:D.value})),loading:P.value||C.value,disabled:D.value.length<1},{default:withCtx(()=>U[14]||(U[14]=[createTextVNode(" Save ")])),_:1},8,["loading","disabled"])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0),N.value?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VTooltip,{location:"top"},{activator:withCtx(({props:Y})=>[createVNode(VBtn,mergeProps({id:"createAssignmentBtn",icon:"mdi-account-reactivate",size:"default",rounded:"",color:"success",density:"compact",class:"flex-grow-0 flex-shrink-1"},Y,{disabled:!unref(i)||C.value,loading:C.value,onClick:U[5]||(U[5]=Q=>S.value=!0)}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(x.$t("Assign")),1)]),_:1}),F.value?(openBlock(),createBlock(q,{key:0,modelValue:V.value,"onUpdate:modelValue":U[6]||(U[6]=Y=>V.value=Y),widthType:"md",transition:"scroll-y-reverse-transition",scrollable:"",height:"450",title:x.$t("Task History"),"has-close-button":"","has-title-divider":"","no-default-body-padding":"","no-actions":""},{activator:withCtx(Y=>[createVNode(VTooltip,{location:"top"},{activator:withCtx(Q=>[createVNode(VBtn,mergeProps({id:"showHistoryBtn",icon:"mdi-clipboard-list-outline",size:"default",rounded:"",color:"info",density:"compact",class:"flex-grow-0 flex-shrink-1",disabled:!unref(i)||C.value,loading:C.value},{...Y.props,...Q.props}),null,16,["disabled","loading"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(x.$t("Show History")),1)]),_:2},1024)]),"body.description":withCtx(()=>[createBaseVNode("div",null,[createVNode(VList,{class:"pb-4 flex-1-0",items:z.value,lines:"ten","item-props":""},{title:withCtx(({title:Y})=>[createBaseVNode("div",{innerHTML:Y},null,8,_hoisted_7$c)]),subtitle:withCtx(({item:Y,subtitle:Q})=>[createBaseVNode("div",{class:"w-100",style:{"word-break":"break-word","white-space":"pre-wrap"},innerHTML:Q},null,8,_hoisted_8$b),Y.attachments&&Y.attachments.length>0?(openBlock(),createBlock(I,{key:0,class:"my-2",source:Y.attachments,"show-inline-file-name":"","image-size":"24"},null,8,["source"])):createCommentVNode("",!0)]),append:withCtx(Y=>[createVNode(K,{subject:Y.item.appendInnerIcon},null,8,["subject"])]),_:1},8,["items"])])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createVNode(q,{ref:"createFormModal",modelValue:S.value,"onUpdate:modelValue":U[11]||(U[11]=Y=>S.value=Y),widthType:"md",persistent:"",transition:"scale-transition"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VForm,{id:"createAssignmentForm",ref_key:"createForm",ref:T,class:"d-flex flex-column",onSubmit:withModifiers(L,["prevent"])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$a,[createVNode(VSelect,{modelValue:A.value.assignee_id,"onUpdate:modelValue":U[7]||(U[7]=Y=>A.value.assignee_id=Y),items:e.items,label:x.label,variant:e.variant,density:"compact","item-title":"name","item-value":"id","return-object":!1,"validate-on":"submit blur",class:"w-50",rules:[unref(s)("classic",1,void 0,"Assignee is required")],required:"","auto-select-first":"exact"},null,8,["modelValue","items","label","variant","rules"]),createVNode(H,{modelValue:A.value.due_at,"onUpdate:modelValue":U[8]||(U[8]=Y=>A.value.due_at=Y),variant:e.variant,label:x.$t("Due Date"),rules:[unref(s)("classic",1,1,"Pick a due date"),unref(p)(),unref(c)(e.minDueDays,"days")],"validate-on":"submit blur",class:"w-50",density:"compact","prepend-icon":"","append-inner-icon":"$calendar","persistent-placeholder":"","show-adjacent-months":"","show-week":"",required:"",Xmultiple:"4",Ymultiple:"range"},null,8,["modelValue","variant","label","rules"])]),createBaseVNode("div",_hoisted_10$9,[createVNode(VTextarea,{modelValue:A.value.description,"onUpdate:modelValue":U[9]||(U[9]=Y=>A.value.description=Y),variant:e.variant,label:x.$t("Description"),density:"compact",class:"flex-grow-1",rules:[unref(s)("classic",1,1,"Description is required"),unref(u)(10,"Description must be at least 10 characters")],"validate-on":"input blur"},null,8,["modelValue","variant","label","rules"])]),createVNode(VDivider),createBaseVNode("div",_hoisted_11$6,[createVNode(W,{class:"mt-4",density:"comfortable",variant:"plain",loading:C.value,onClick:U[10]||(U[10]=Y=>S.value=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(x.$t("Cancel")),1)]),_:1},8,["loading"]),createVNode(VBtn,{class:"mt-4",density:"comfortable",type:"submit",loading:C.value,disabled:!unref(i)||C.value||T.value&&!T.value.isValid},{default:withCtx(()=>[createTextVNode(toDisplayString(x.$t("Assign")),1)]),_:1},8,["loading","disabled"])])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))])]),_:1},8,["modelValue","variant"])}}},__vite_glob_3_0=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$F},Symbol.toStringTag,{value:"Module"})),_sfc_main$E={props:{modelValue:{type:Object,required:!0},avatarSize:{type:Number,default:50},mobileAvatarSize:{type:Number,default:25},reverse:{type:Boolean,default:!1},updateEndpoint:{type:String,required:!0},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1},contentTruncateLength:{type:Number,default:50}},data(){return{readingTimer:null,isExpanded:!1}},computed:{input:{get(){return this.modelValue},set(e){this.message=e,this.$emit("update:modelValue",e)}},message(){return this.modelValue},isUnread(){return!this.message.is_read&&!this.reverse},truncatedContent(){var e;return this.message.content&&this.message.content.length>this.contentTruncateLength?this.message.content.substring(0,this.contentTruncateLength):((e=this.message)==null?void 0:e.content)??""},formattedContent(){return this.message.content?this.message.content.replace(/\n/g,"<br>"):""},formattedTruncatedContent(){var e,a;return this.message.content.length>this.contentTruncateLength?this.message.content.substring(0,this.contentTruncateLength).replace(/\n/g,"<br>"):((a=(e=this.message)==null?void 0:e.content)==null?void 0:a.replace(/\n/g,"<br>"))??""}},methods:{formatDate(e){let a=window.$moment().fromNow();if(e.created_at){let o=new Date(e.created_at);Date.now()-o.getTime()<48*60*60*1e3?a=window.$moment(o).fromNow():a=this.$d(new Date(e.created_at),"numeric-full")}return a},updateMessage(e,a){let o=this.updateEndpoint.replace(":id",this.input.id),r=this;axios.put(o,{[e]:a}).then(i=>{r.input={...r.input,[e]:a}})},startReading(){this.isUnread&&(this.readingTimer=setTimeout(()=>{this.markAsRead()},1e3))},markAsRead(){this.updateMessage("is_read",!0)},toggleExpand(){this.isExpanded=!this.isExpanded}},beforeUnmount(){this.readingTimer&&clearTimeout(this.readingTimer)}},_hoisted_1$r=["stylex"],_hoisted_2$m={key:0,style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},_hoisted_3$m={class:"d-flex justify-end"},_hoisted_4$h={class:"w-100",style:{color:"#32454A","font-weight":"400","font-size":"12px"}},_hoisted_5$e=["innerHTML"],_hoisted_6$e={key:1},_hoisted_7$b=["innerHTML"],_hoisted_8$a={key:0,class:"mt-1"},_hoisted_9$9=["innerHTML"],_hoisted_10$8={key:0,class:"mt-2 py-1 rounded"};function _sfc_render$z(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-filepond-preview");return openBlock(),createElementBlock("div",{class:normalizeClass(["d-flex mb-4 w-100",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{style:normalizeStyle([e.$vuetify.display.smAndUp?"max-width: 60%; min-width: 30%;":"max-width: 100%; min-width: 100%;"]),class:normalizeClass(["d-flex bg-grey-lighten-6 elevation-2 px-4 py-3 rounded position-relative",o.reverse?"flex-row-reverse":"flex-row",n.isUnread?"v-input-chat__message--unread":""]),onMouseenter:a[2]||(a[2]=(...u)=>n.startReading&&n.startReading(...u))},[createVNode(VTooltip,{text:n.formatDate(n.message),location:"top"},{activator:withCtx(({props:u})=>[createVNode(VAvatar,mergeProps({size:e.$vuetify.display.smAndUp?o.avatarSize:o.mobileAvatarSize,class:[o.reverse?"ml-3":"mr-3"],image:n.message.user_profile.avatar_url},u),null,16,["size","class","image"])]),_:1},8,["text"]),createBaseVNode("div",{stylex:{width:`calc(50% - ${o.avatarSize}px)`},class:"w-100"},[createBaseVNode("div",{class:normalizeClass(["text-grey text-caption w-100 d-flex justify-space-between",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",{class:normalizeClass([e.$vuetify.display.smAndUp?"w-50":"w-75",o.reverse?"text-end":"text-start"])},[e.$vuetify.display.smAndDown?(openBlock(),createElementBlock("div",_hoisted_2$m,toDisplayString(n.formatDate(n.message)),1)):createCommentVNode("",!0),createBaseVNode("div",null,toDisplayString(n.message.user_profile.name),1)],2),createBaseVNode("div",_hoisted_3$m,[o.noStarring?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,icon:n.message.is_starred?"mdi-star":"mdi-star-outline",color:n.message.is_starred?"secondary":"grey",onClick:a[0]||(a[0]=u=>n.updateMessage("is_starred",!n.message.is_starred))},null,8,["icon","color"])),o.noPinning?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:1,icon:n.message.is_pinned?"mdi-pin":"mdi-pin-outline",color:n.message.is_pinned?"primary":"grey",onClick:a[1]||(a[1]=u=>n.updateMessage("is_pinned",!n.message.is_pinned))},null,8,["icon","color"]))])],2),createBaseVNode("div",{class:normalizeClass(["message-content",n.isUnread?"message-content--unread":""])},[createBaseVNode("div",{class:normalizeClass(["d-flex mt-2 text-break",o.reverse?"flex-row-reverse":"flex-row"])},[createBaseVNode("div",_hoisted_4$h,[n.message.content&&n.message.content.length>o.contentTruncateLength?(openBlock(),createElementBlock(Fragment,{key:0},[i.isExpanded?(openBlock(),createElementBlock("div",{key:0,innerHTML:n.formattedContent},null,8,_hoisted_5$e)):(openBlock(),createElementBlock("div",_hoisted_6$e,[createBaseVNode("span",{innerHTML:n.formattedTruncatedContent},null,8,_hoisted_7$b),a[3]||(a[3]=createBaseVNode("span",{class:"text-grey-darken-1"},"...",-1))])),createVNode(VExpandTransition,null,{default:withCtx(()=>[n.message.content&&n.message.content.length>o.contentTruncateLength?(openBlock(),createElementBlock("div",_hoisted_8$a,[createVNode(VBtn,{text:i.isExpanded?e.$t("Show less"):e.$t("Show more"),variant:"plain",size:"small",color:"primary",onClick:n.toggleExpand},null,8,["text","onClick"])])):createCommentVNode("",!0)]),_:1})],64)):(openBlock(),createElementBlock("div",{key:1,innerHTML:n.formattedContent},null,8,_hoisted_9$9))])],2),n.message.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_10$8,[createVNode(l,{text:e.$t("Attachments"),padding:"b-2",type:"caption",color:"none",transform:"none"},null,8,["text"]),createVNode(s,{source:n.message.attachments,"image-size":"24","show-file-name":"","no-overlay":"","show-datex":""},null,8,["source"])])):createCommentVNode("",!0)],2)],8,_hoisted_1$r)],38)],2)}const ChatMessage=_export_sfc(_sfc_main$E,[["render",_sfc_render$z]]),_sfc_main$D={name:"v-input-emojis",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","emoji-selected"],data(){return{emojiList:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","💌","💘","💝","💖","💗","💓","💞","💕","💟","❣️","💔","❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💯","💢","💥","💫","💦","💨","🕳️","💬","🗨️","🗯️","💭","💤","👋","🤚","🖐️","✋","🖖","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🤝","🙏","✍️","💪","🦾","🦿","🦵","🦶","👂","🦻","👃","🧠","🫀","🫁","🦷","🦴","👀","👁️","👅","👄","💋","🩸"]}},computed:{showEmojiPicker:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{openEmojiPicker(){this.showEmojiPicker=!0},closeEmojiPicker(){this.showEmojiPicker=!1},selectEmoji(e){this.$emit("emoji-selected",e),this.closeEmojiPicker()}}},_hoisted_1$q={class:"emoji-grid"};function _sfc_render$y(e,a,o,r,i,n){return openBlock(),createElementBlock("div",null,[createVNode(VDialog,{modelValue:n.showEmojiPicker,"onUpdate:modelValue":a[0]||(a[0]=l=>n.showEmojiPicker=l),width:"400","max-width":"90vw"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,{class:"d-flex justify-space-between align-center"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select Emoji"))+" ",1),createVNode(VBtn,{icon:"mdi-close",variant:"text",size:"small",onClick:n.closeEmojiPicker},null,8,["onClick"])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.emojiList,l=>(openBlock(),createBlock(VBtn,{key:l,variant:"text",size:"small",class:"emoji-btn",onClick:s=>n.selectEmoji(l)},{default:withCtx(()=>[createTextVNode(toDisplayString(l),1)]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Emojis=_export_sfc(_sfc_main$D,[["render",_sfc_render$y]]),__vite_glob_3_9=Object.freeze(Object.defineProperty({__proto__:null,default:Emojis},Symbol.toStringTag,{value:"Module"})),_sfc_main$C={name:"v-input-chat",emits:[...makeInputEmits],components:{ChatMessage,Emojis},props:{...makeInputProps(),subtitle:{type:String,default:null},color:{type:String},disabled:{type:Boolean,default:!1},height:{type:String,default:"50vh"},background:{type:String},elevation:{type:Number,default:2},density:{type:String,default:"comfortable"},variant:{type:String,default:"plain"},endpoints:{type:Object,default:()=>({})},perPage:{type:Number,default:-1},initialPage:{type:Number,default:1},filepond:{type:Object,default:null},noSendAction:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},dialogHeight:{type:String,default:"80vh"},bodyHeight:{type:String,default:null},loadMoreText:{type:String,default:null},refreshTime:{type:Number,default:1e4},inputVariant:{type:String,default:"outlined"},noStarring:{type:Boolean,default:!1},noPinning:{type:Boolean,default:!1},contentTruncateLength:{type:Number,default:50},noDivider:{type:Boolean,default:!1},noTab:{type:Boolean,default:!1},noEmoji:{type:Boolean,default:!1},maxMessageboxRows:{type:Number,default:5}},setup(e,a){const{invokeRule:o}=useValidation();return{...useInput(e,a),invokeRule:o}},data:function(){return{message:"",messages:[],loading:!0,loadingAttachment:!1,page:this.initialPage,lastPage:1,dialogOpen:!1,textareaRows:1,attachments:[],uploadedAttachments:[],uploadedAttachmentsDialog:!1,refreshInterval:null,pinnedMessage:null,showEmojiPicker:!1,pinnedMessageExpanded:!1}},computed:{currentUser(){return this.$store.getters.userProfile},formattedMessages(){return this.formatMessages(this.messages)},noRemainingItems(){return!this.loading&&this.perPage>-1&&this.page===this.lastPage},showLoadMoreButton(){return!this.noRemainingItems&&this.perPage>-1},isInfiniteScrollable(){return this.perPage>-1},isMessageEmpty(){return!this.message||!this.message.trim()},isSendButtonDisabled(){const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();return this.loading||this.loadingAttachment||!e&&!a},sendButtonIcon(){if(this.isSendButtonDisabled)return"mdi-send-lock";const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();return e||a?"mdi-send-check":"mdi-send"},calculatedBodyHeight(){let e=0,a="";if(this.pinnedMessage&&(e+=this.$jquery("#PinnedMessage").outerHeight(!0)),this.textareaRows>0){const o=this.$jquery("#messageBox").height();console.log(o),e+=this.textareaRows*20}return e>0&&(a=` - ${e}px`),this.bodyHeight?`calc(${this.bodyHeight}${a})`:`calc(${this.height}*0.65${a})`}},watch:{messages:{handler(e){this.pinnedMessage=e.find(a=>a.is_pinned),this.pinnedMessage||this.fetchPinnedMessage()},deep:!0},attachments:{handler(e){e&&e.length>0&&e.every(o=>{const r=o.serverId,i=o.preview||o.dataURL,n=o.source,l=o.status==="success"||o.status==="complete";return r||i||n||l})&&this.loadingAttachment&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},deep:!0},message:{handler(e){if(e.includes(`
`)){const a=(e.match(/\n/g)||[]).length;this.textareaRows=a>this.maxMessageboxRows?this.maxMessageboxRows:a}else this.textareaRows=1}}},methods:{togglePinnedMessageExpand(){this.pinnedMessageExpanded=!this.pinnedMessageExpanded},scrollEndInfiniteScroll(){this.$nextTick(()=>{const e=this.$refs.infiniteScroll.$el;e.scrollTop=e.scrollHeight})},formatMessage(e){return e={user_profile:this.$lodash.cloneDeep(this.currentUser),attachments:[],reverse:!1,loading:!1,...e},e.user_profile.id===this.currentUser.id&&(e.reverse=!0,e.is_read=!0,e.user_profile.name=this.$t("You")),e},formatMessages(e){return e.sort((a,o)=>new Date(a.created_at)-new Date(o.created_at)).map(a=>this.formatMessage(a))},loadMessages(e){const a=this.endpoints.index.replace(":id",this.input);let o={};this.perPage!==-1&&(o.page=this.page,o.perPage=this.perPage),this.loading=!0,axios.get(a,{params:o}).then(r=>{if(r.status===200)if(this.perPage>-1){const i=r.data.total;this.lastPage=r.data.last_page,this.page=r.data.current_page,this.messages=[...r.data.data,...this.messages],i!==0?e&&(this.page===this.lastPage?e("empty"):e("ok")):e&&e("empty")}else this.messages=this.formatMessages(r.data),e("empty")}).finally(()=>{this.loading=!1,(!this.isInfiniteScrollable||this.page===1)&&this.scrollEndInfiniteScroll()})},loadMoreMessages({done:e}){this.page++,this.loadMessages(e)},addMessage(e){return this.messages.push(e)-1},unpinMessage(e){let a=this.endpoints.update.replace(":id",e.id),o=this,r=this.messages.findIndex(i=>i.id===e.id);axios.put(a,{is_pinned:!1}).then(i=>{o.messages[r]={...o.messages[r],is_pinned:!1}})},findMessageByTempId(e){return this.messages.findIndex(a=>a.tempId===e)},updateMessageByTempId(e,a){this.messages=this.messages.filter(r=>r.id!==a.id);const o=this.findMessageByTempId(e);o!==-1&&(this.messages[o]={...this.messages[o],...a})},sendMessage(){const e=this.attachments&&this.attachments.length>0,a=this.message&&this.message.trim();if(!e&&!a)return;const o=this.endpoints.store.replace(":id",this.input),r={loading:!0,content:this.message,tempId:Date.now(),attachments:[...this.attachments]};let i=r.tempId;this.addMessage(r),this.loading=!0;const n={content:this.message,attachments:this.attachments};axios.post(o,n).then(l=>{if(l.status===200){let s=l.data;s.loading=!1,this.updateMessageByTempId(i,s),this.message="",this.attachments=[]}}).catch(l=>{var s,u;console.error("Error sending message:",l),console.error("Request payload was:",n),console.error("Response data:",(s=l.response)==null?void 0:s.data),this.updateMessageByTempId(i,{loading:!1,error:!0}),((u=l.response)==null?void 0:u.status)===500&&console.error("Server error - this might be a backend validation issue")}).finally(()=>{this.loading=!1,this.scrollEndInfiniteScroll(),this.$nextTick(()=>{this.$refs.messageBox&&this.$refs.messageBox.focus()})})},getAttachments(){const e=this.endpoints.attachments.replace(":id",this.input);axios.get(e).then(a=>{this.uploadedAttachments=a.data})},fetchPinnedMessage(){const e=this.endpoints.pinnedMessage.replace(":id",this.input);axios.get(e).then(a=>{a.status===200&&a.data&&Object.keys(a.data).length>0&&(this.pinnedMessage=a.data)})},refreshMessages(){const e=this.endpoints.index.replace(":id",this.input);let a=new Date().toISOString();if(this.messages.length){let o=this.messages.filter(r=>!!r.created_at).sort((r,i)=>new Date(i.created_at)-new Date(r.created_at))[0];o&&o.created_at&&(a=o.created_at)}axios.get(e,{params:{from:a,user_id:this.currentUser.id}}).then(o=>{o.status===200&&o.data.length>0&&(this.messages=[...this.messages,...o.data],this.getAttachments()),o.status===401&&(clearInterval(this.refreshInterval),this.refreshInterval=null)})},handleEnterKey(e){e.shiftKey||(e.preventDefault(),this.sendMessage())},handleTabKey(e){if(this.noTab)return;e.preventDefault();const a=e.target,o=a.selectionStart,r=a.selectionEnd,i=this.message.substring(0,o)+"	"+this.message.substring(r);this.message=i,this.$nextTick(()=>{a.selectionStart=a.selectionEnd=o+1})},updatedMessage(e){let a=[...this.messages],o=a.findIndex(i=>i.id===e.id);if(this.messages[o].is_pinned!==e.is_pinned)if(e.is_pinned){let i=this.pinnedMessage;if(this.pinnedMessage=e,i){let n=a.findIndex(l=>l.id===i.id);n!==-1&&(a[n]={...a[n],is_pinned:!1})}}else this.pinnedMessage=null;o!==-1&&(a[o]={...a[o],...e}),this.messages=a},insertEmoji(e){const a=this.$refs.messageBox;if(a){const o=a.selectionStart,r=a.selectionEnd,i=this.message.substring(0,o)+e+this.message.substring(r);this.message=i,this.$nextTick(()=>{a.selectionStart=a.selectionEnd=o+e.length,a.focus()})}this.showEmojiPicker=!1},openEmojiPicker(){this.showEmojiPicker=!0},removeAttachment(e){this.attachments.splice(e,1)},handleLoadingFile(e){this.loadingAttachment=!0,setTimeout(()=>{this.loadingAttachment&&(this.loadingAttachment=!1)},5e3)},handleFileSelected(){this.loadingAttachment=!0},handleAttachmentClick(){this.$refs.inputFilepond.browse(),this.detectFilePickerCancellation()},detectFilePickerCancellation(){setTimeout(()=>{this.attachments.length===0&&this.loadingAttachment&&(this.loadingAttachment=!1)},1e3)},handleModelValueUpdate(e){e&&e.length>0&&this.attachments.length<e.length&&(this.loadingAttachment=!0),this.$log("update:modelValue",e)},handleFileLoaded(e){(e.serverId||e.status==="success")&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},handleFileProcessing(e){this.loadingAttachment=!0},handleFileProcessed(e){(e.serverId||e.status==="success")&&(this.loadingAttachment=!1,this.$nextTick(()=>{this.focusOnTextarea()}))},handleFileError(e){this.loadingAttachment=!1},handleAddFile(e){this.loadingAttachment=!0},handleRemoveFile(e){this.attachments.length===0&&(this.loadingAttachment=!1)},handleFileRevert(e){console.log("File reverted:",e)},handleFieldFocus(){if(this.message.includes(`
`)){let e=(this.message.match(/\n/g)||[]).length;this.textareaRows=e>this.maxMessageboxRows?this.maxMessageboxRows:e}else this.textareaRows=1},handleFieldBlur(){setTimeout(()=>{var a,o;const e=(o=(a=this.$refs.messageBox)==null?void 0:a.$el)==null?void 0:o.closest(".v-input");e&&(e.querySelector(":focus")||(this.textareaRows=1))},100)},focusOnTextarea(){this.$refs.messageBox&&this.$refs.messageBox.focus()}},mounted(){this.input&&this.input>-1&&(this.loadMessages(),this.getAttachments(),this.refreshInterval=setInterval(()=>{this.refreshMessages()},this.refreshTime))},beforeUnmount(){clearInterval(this.refreshInterval),this.refreshInterval=null,this.input&&this.input>-1}},_hoisted_1$p={class:"w-100 d-flex justify-end"},_hoisted_2$l={class:"d-flex w-100 justify-end"},_hoisted_3$l={key:0},_hoisted_4$g=["innerHTML"],_hoisted_5$d={key:1},_hoisted_6$d=["innerHTML"],_hoisted_7$a={class:"flex-grow-0"},_hoisted_8$9={key:0,class:"d-flex align-center mr-2"},_hoisted_9$8={class:"text-h5 mb-3 text-primary font-weight-medium"},_hoisted_10$7={class:"text-body-1 text-medium-emphasis mb-4"};function _sfc_render$x(e,a,o,r,i,n){const l=resolveComponent("v-input-chat"),s=resolveComponent("ue-title"),u=resolveComponent("ue-filepond-preview"),c=resolveComponent("ChatMessage"),p=resolveComponent("v-input-filepond"),f=resolveComponent("Emojis");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[9]||(a[9]=m=>e.input=m),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-chat"},{default:withCtx(m=>[createVNode(VCard,{class:normalizeClass(["w-100",[!o.noBackground&&o.background?`bg-${o.background}`:"",o.disabled?"bg-grey-lighten-4":""]]),variant:o.variant,elevation:o.elevation,color:o.color,heightx:o.height,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardTitle,{class:"w-100 py-4 text-wrap"},{default:withCtx(()=>[createVNode(s,{text:e.label,align:"center",padding:"a-0",transform:"none",class:"w-100",type:"body-1",color:"grey-darken-4",weight:"medium"},{rightX:withCtx(()=>[createBaseVNode("div",_hoisted_1$p,[renderSlot(e.$slots,"actions",{},()=>[o.perPage!==-1?(openBlock(),createBlock(VDialog,{key:0,width:"70%",height:o.dialogHeight,modelValue:e.dialogOpen,"onUpdate:modelValue":a[1]||(a[1]=y=>e.dialogOpen=y)},{activator:withCtx(({props:y})=>[createVNode(VBtn,mergeProps({variant:"elevated",density:"comfortable"},y,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{text:withCtx(()=>[createVNode(l,{label:e.$t("All Messages"),background:o.background,modelValue:e.input,endpoints:o.endpoints,perPage:10,density:o.density,noSendAction:!1,elevation:0,"body-height":`calc(${o.dialogHeight} * 0.60)`,height:`calc(${o.dialogHeight} * 0.80)`,noStarring:o.noStarring,noPinning:o.noPinning},{actions:withCtx(()=>[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[0]||(a[0]=y=>e.dialogOpen=!1)})]),_:1},8,["label","background","modelValue","endpoints","density","body-height","height","noStarring","noPinning"])]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),e.uploadedAttachments.length>0?(openBlock(),createBlock(VDialog,{key:1,width:"70%",height:o.dialogHeight,modelValue:e.uploadedAttachmentsDialog,"onUpdate:modelValue":a[3]||(a[3]=y=>e.uploadedAttachmentsDialog=y)},{activator:withCtx(({props:y})=>[createVNode(VBtn,mergeProps({variant:"outlined",density:"comfortable"},y,{class:"mr-2"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show All Attachments")),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:normalizeClass([`bg-${o.background}`]),height:"70vh"},{default:withCtx(()=>[createVNode(s,{text:e.$t("Attachments"),align:"center",transform:"none",padding:"x-4",class:"w-100 pt-2",color:"grey-darken-5"},{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$l,[createVNode(VBtn,{color:"grey-darken-1",icon:"mdi-close",size:"default",variant:"plain",density:"compact",onClick:a[2]||(a[2]=y=>e.uploadedAttachmentsDialog=!1)})])]),_:1},8,["text"]),createVNode(VDivider,{class:"mx-4"}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VInfiniteScroll,{height:`calc(${o.dialogHeight} * 0.75)`},{loading:withCtx(()=>a[10]||(a[10]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.uploadedAttachments,y=>(openBlock(),createBlock(u,{class:"my-2",source:y,"image-size":"24","show-file-name":"","max-file-name-length":"70","no-overlay":"","show-date":""},null,8,["source"]))),256))]),_:1},8,["height"])]),_:1})]),_:1},8,["class"])]),_:1},8,["height","modelValue"])):createCommentVNode("",!0),createVNode(VBtn,{variant:"elevated",density:"comfortable",onClick:n.sendMessage},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Confirm")),1)]),_:1},8,["onClick"])])])]),_:3},8,["text"]),o.subtitle?(openBlock(),createBlock(s,{key:0,text:e.$t(o.subtitle),align:"center",transform:"none",padding:"a-0",type:"caption",weight:"regular",color:"grey-darken-4",l:""},null,8,["text"])):createCommentVNode("",!0),o.noDivider?createCommentVNode("",!0):(openBlock(),createBlock(VDivider,{key:1,class:"mt-2"})),e.pinnedMessage?(openBlock(),createBlock(VList,{key:2,id:"PinnedMessage",elevation:"3",class:"bg-grey-lighten-4 mx-n4",style:{"z-index":"1000",height:"92px"},items:[{title:e.pinnedMessage.content,subtitle:e.pinnedMessage.created_at?e.$d(new Date(e.pinnedMessage.created_at),"short"):"",prepend:e.pinnedMessage.user_profile.avatar_url}],lines:"two",prependIcon:"mdi-pin","item-props":""},{title:withCtx(({title:y})=>[e.pinnedMessageExpanded||y.length<20?(openBlock(),createElementBlock("div",_hoisted_3$l,[createBaseVNode("span",{class:"text-wrap",innerHTML:y},null,8,_hoisted_4$g),y.length>=20?(openBlock(),createBlock(VBtn,{key:0,density:"compact",variant:"plain",size:"x-small",onClick:n.togglePinnedMessageExpand},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show less")),1)]),_:1},8,["onClick"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_5$d,[createBaseVNode("span",{class:"text-wrap",innerHTML:y.slice(0,20)},null,8,_hoisted_6$d),a[11]||(a[11]=createBaseVNode("span",{class:"text-grey-darken-1"},"...",-1)),createVNode(VBtn,{variant:"plain",size:"small",onClick:n.togglePinnedMessageExpand},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Show more")),1)]),_:1},8,["onClick"])]))]),prepend:withCtx(y=>[createVNode(VIcon,{size:"small",color:"primary",class:"mr-2",style:{transform:"rotate(325deg)"},onClick:a[4]||(a[4]=v=>n.unpinMessage(e.pinnedMessage))},{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("mdi-pin")])),_:1}),createVNode(VTooltip,{text:e.pinnedMessage.user_profile.name,location:"top"},{activator:withCtx(({props:v})=>[createVNode(VAvatar,mergeProps({image:y.item.prepend,size:"24"},v),null,16,["image"])]),_:2},1032,["text"])]),_:1},8,["items"])):createCommentVNode("",!0)]),_:3}),createVNode(VCardText,{class:"mr-n2 mb-n4 mt-n4 pb-0"},{default:withCtx(()=>[createVNode(VInfiniteScroll,{ref:"infiniteScroll",height:n.calculatedBodyHeight,mode:"manual",side:"start",onLoad:n.loadMoreMessages,"load-more-text":o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")},{"load-more":withCtx(({props:y})=>[n.showLoadMoreButton?(openBlock(),createBlock(VBtn,mergeProps({key:0,variant:"outlined"},y),{default:withCtx(()=>[createTextVNode(toDisplayString(o.loadMoreText?o.loadMoreText:e.$t("Load More Messages")),1)]),_:2},1040)):createCommentVNode("",!0)]),empty:withCtx(({props:y})=>a[13]||(a[13]=[])),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.formattedMessages,(y,v)=>(openBlock(),createElementBlock("div",{key:v,class:"v-input-chat__messages"},[renderSlot(e.$slots,"message",{message:y,index:v},()=>[createVNode(c,{class:normalizeClass(["v-input-chat__message",y.loading?"v-input-chat__message--loading":""]),modelValue:y,"onUpdate:modelValue":g=>n.updatedMessage(g,v),reverse:y.reverse,updateEndpoint:o.endpoints.update,noStarring:o.noStarring,noPinning:o.noPinning,contentTruncateLength:o.contentTruncateLength},null,8,["class","modelValue","onUpdate:modelValue","reverse","updateEndpoint","noStarring","noPinning","contentTruncateLength"])])]))),128))]),_:3},8,["height","onLoad","load-more-text"])]),_:3}),o.filepond?(openBlock(),createBlock(p,mergeProps({key:0,ref:"inputFilepond",class:"d-none"},r.invokeRule(e.$lodash.omit(o.filepond,["type","rules","rawRules"])),{modelValue:e.attachments,"onUpdate:modelValue":a[5]||(a[5]=y=>e.attachments=y),xmodelValue:e.attachments,"onXupdate:modelValue":n.handleModelValueUpdate,onLoadingFile:n.handleLoadingFile,onLoaded:n.handleFileLoaded,onProcessing:n.handleFileProcessing,onProcessed:n.handleFileProcessed,onError:n.handleFileError,onRevert:n.handleFileRevert,onAddfile:n.handleAddFile,onRemovefile:n.handleRemoveFile}),{activator:withCtx(y=>a[14]||(a[14]=[])),_:1},16,["modelValue","xmodelValue","onXupdate:modelValue","onLoadingFile","onLoaded","onProcessing","onProcessed","onError","onRevert","onAddfile","onRemovefile"])):createCommentVNode("",!0),o.noSendAction?createCommentVNode("",!0):(openBlock(),createBlock(VCardActions,{key:1,class:"bg-surface",id:"messageBox"},{default:withCtx(()=>[renderSlot(e.$slots,"sending",{},()=>[createVNode(VTextarea,{_class:"position-absolute bg-surface px-4 pb-4",style:{bottom:"0",left:"0",right:"0","z-index":"1000"},ref:"messageBox",modelValue:e.message,"onUpdate:modelValue":a[6]||(a[6]=y=>e.message=y),variant:o.inputVariant,disabled:e.loading,"hide-details":"",placeholder:"Type here...",density:"compact","onClick:append":n.sendMessage,onKeydown:[withKeys(n.handleEnterKey,["enter"]),withKeys(n.handleTabKey,["tab"])],onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur,rows:e.textareaRows},createSlots({"append-inner":withCtx(()=>[e.attachments.length>0?(openBlock(),createElementBlock("div",_hoisted_8$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.attachments,(y,v)=>(openBlock(),createElementBlock("div",{key:y.id||v,class:"attachment-preview-wrapper position-relative mr-1"},[createVNode(VBtn,{icon:"mdi-close",size:"x-small",variant:"text",color:"error",class:"attachment-delete-btn",onClick:g=>n.removeAttachment(v)},null,8,["onClick"]),createVNode(u,{source:[y],"image-size":"32"},null,8,["source"])]))),128))])):createCommentVNode("",!0),o.noEmoji?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,disabled:e.loadingAttachment,color:o.color,size:e.$vuetify.display.smAndUp?"default":"small",icon:"mdi-emoticon-outline",density:"compact",onClick:n.openEmojiPicker,onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur},null,8,["disabled","color","size","onClick","onFocus","onBlur"])),createVNode(VBtn,{color:o.color,size:e.$vuetify.display.smAndUp?"default":"small",icon:"mdi-paperclip",density:"compact",onClick:n.handleAttachmentClick,onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur},null,8,["color","size","onClick","onFocus","onBlur"]),createVNode(VBtn,{variant:"elevated",density:"compact",icon:n.sendButtonIcon,size:e.$vuetify.display.smAndUp?"small":"x-small",disabled:n.isSendButtonDisabled,onClick:n.sendMessage,onFocus:n.handleFieldFocus,onBlur:n.handleFieldBlur},null,8,["icon","size","disabled","onClick","onFocus","onBlur"])]),_:2},[e.$vuetify.display.smAndUp?{name:"prepend",fn:withCtx(()=>[createBaseVNode("div",_hoisted_7$a,[createVNode(VAvatar,{class:"my-aut",image:e.$store.getters.userProfile.avatar_url,size:"40"},null,8,["image"])])]),key:"0"}:void 0]),1032,["modelValue","variant","disabled","onClick:append","onKeydown","onFocus","onBlur","rows"])])]),_:3}))]),_:3},8,["variant","elevation","class","color","heightx","disabled"]),o.noEmoji?createCommentVNode("",!0):(openBlock(),createBlock(f,{key:0,modelValue:e.showEmojiPicker,"onUpdate:modelValue":a[7]||(a[7]=y=>e.showEmojiPicker=y),disabled:e.loadingAttachment,onEmojiSelected:n.insertEmoji},null,8,["modelValue","disabled","onEmojiSelected"])),createVNode(VDialog,{modelValue:e.loadingAttachment,"onUpdate:modelValue":a[8]||(a[8]=y=>e.loadingAttachment=y),persistent:"",width:"400","max-width":"90vw",transition:"dialog-bottom-transition","retain-focus":!1},{default:withCtx(()=>[createVNode(VCard,{class:"upload-modal-card"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center pa-8"},{default:withCtx(()=>[createVNode(VProgressCircular,{size:64,width:6,color:"primary",indeterminate:"",class:"mb-6"}),createBaseVNode("div",_hoisted_9$8,toDisplayString(e.$t("Uploading Attachment")),1),createBaseVNode("div",_hoisted_10$7,toDisplayString(e.$t("Please wait while your file is being processed...")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:3},8,["modelValue","variant"])}const Chat=_export_sfc(_sfc_main$C,[["render",_sfc_render$x]]),__vite_glob_3_1=Object.freeze(Object.defineProperty({__proto__:null,default:Chat},Symbol.toStringTag,{value:"Module"})),_sfc_main$B={name:"v-input-checkbox-card",emits:[...makeInputEmits],props:{...makeInputProps(),title:{type:String,required:!0},description:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},value:{type:[Number,String],default:null},activeColor:{type:String,default:null},activeTitleColor:{type:String,default:null},checkboxColor:{type:String,default:"primary"},stats:{type:Array,default:null,validator:e=>e===null||e.every(a=>"label"in a&&"value"in a&&(!("color"in a)||typeof a.color=="string"))},checkboxOnRight:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data(){return{input_:!1}},methods:{toggleSelection(){!this.disabled&&!this.readonly&&(this.input.includes(this.value)?this.input=this.input.filter(e=>e!==this.value):this.input=[...this.input,this.value])}}};function _sfc_render$w(e,a,o,r,i,n){return openBlock(),createBlock(VInput,{modelValue:e.input[o.value],"onUpdate:modelValue":a[2]||(a[2]=l=>e.input[o.value]=l),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-checkbox-card",readonly:o.readonly},{default:withCtx(l=>[createVNode(VCard,{class:normalizeClass(["v-input-checkbox-card__item border border-sm border-opacity-75",e.input.includes(o.value)?"border-primary":"border-grey-lighten-4",o.disabled?"v-input-checkbox-card__item--disabled":""]),variant:e.input.includes(o.value)?"elevated":"outlined",onClick:n.toggleSelection,disabled:o.disabled},{default:withCtx(()=>[createVNode(VCardItem,null,createSlots({append:withCtx(()=>[o.checkboxOnRight?(openBlock(),createBlock(VCheckbox,{key:0,modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VCardTitle,{class:normalizeClass(["v-input-checkbox-card__title",e.input.includes(o.value)?`border-primary ${o.activeTitleColor?`text-${o.activeTitleColor}`:""}`:"",e.input.includes(o.value)?`v-input-checkbox-card__title--selected ${o.activeTitleColor?`text-${o.activeTitleColor}`:""}`:""])},{default:withCtx(()=>[createTextVNode(toDisplayString(o.title),1)]),_:1},8,["class"])]),_:2},[o.checkboxOnRight?void 0:{name:"prepend",fn:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=s=>e.input=s),value:o.value,disabled:o.disabled,color:o.checkboxColor,"hide-details":"",readonly:o.readonly},null,8,["modelValue","value","disabled","color","readonly"])]),key:"0"}]),1024),o.description?(openBlock(),createBlock(VCardText,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(o.description),1)]),_:1})):createCommentVNode("",!0),o.stats?(openBlock(),createBlock(VCardText,{key:1},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.stats,(s,u)=>(openBlock(),createBlock(VCol,{key:u,cols:12/o.stats.length,class:"text-center"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["text-h4 font-weight-bold",`text-${s.color||"primary"}`])},toDisplayString(s.value),3),createBaseVNode("div",{class:normalizeClass(`text-body-2 text-${s.color||"primary"}`)},toDisplayString(s.label),3)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1},8,["class","variant","onClick","disabled"])]),_:1},8,["modelValue","variant","readonly"])}const CheckboxCard=_export_sfc(_sfc_main$B,[["render",_sfc_render$w]]),__vite_glob_3_2=Object.freeze(Object.defineProperty({__proto__:null,default:CheckboxCard},Symbol.toStringTag,{value:"Module"})),_sfc_main$A={name:"v-input-checklist",emits:[...makeInputEmits],props:{...makeInputProps(),color:{type:String,default:null},labelColor:{type:String,default:"grey-darken-1"},subtitleColor:{type:String,default:"grey-darken-1"},activeTextColor:{type:String,default:null},checkboxColor:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},subtitle:{type:String,default:null},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},items:{type:Array,default:()=>[]},orderBy:{type:String,default:null},orderByDirection:{type:String,default:"asc"},isTreeview:{type:Boolean,default:!1},chunkCharacter:{type:String,default:"_"},chunkTitleKey:{type:String,default:"name"},chunkField:{type:String,default:null},truncateItemLabel:{type:Boolean,default:!1},flexColumn:{type:Boolean,default:!0},checkboxHighlighted:{type:Boolean,default:!1},checkboxHighlightedColor:{type:String,default:"grey-lighten-5"},checkboxPosition:{type:String,default:"right"},checkboxCol:{type:Object,default:()=>({cols:3,sm:6,md:4,lg:3})},noGroupAllSelectable:{type:Boolean,default:!1},hasGroupBottomDivider:{type:Boolean,default:!0},openAllGroups:{type:Boolean,default:!1},closeAllGroups:{type:Boolean,default:!1},rawRules:{type:[String,Array],default:null},max:{type:[Number,String],default:null},mandatory:{type:String,default:null},isCard:{type:Boolean,default:!1},cardStats:{type:Array,default:()=>[]}},setup(e,a){const o=computed(()=>{var c;let u=e.max;return window.__isString(u)?u=parseInt(u):!u&&window.__isString(e.rawRules)&&(u=(c=e.rawRules.match(/max:\d+/))==null?void 0:c[0].split(":")[1]),u??999}),r=ref(e.protectInitialValue?e.modelValue:[]),i=u=>r.value.includes(u),n=u=>{let c=!1,p=null;if(e.mandatory){if(p=e.items.filter(f=>__data_get(f,e.mandatory,!1)),e.max){let f=parseInt(e.max);p.length>f&&(p=p.slice(0,f))}if(p.length>0){const f=cloneDeep(u),m=Array.isArray(f)?f:[],y=p.map(g=>g[e.itemValue]),v=y.filter(g=>!m.includes(g));u=[...new Set([...Array.isArray(u)?u:[],...y])],v.length>0&&(c=!0)}}if(o.value>1&&u.length>o.value){if(p&&p.length>0){const f=p.map(b=>b[e.itemValue]),m=u.filter(b=>f.includes(b)),y=u.filter(b=>!f.includes(b)),v=o.value-m.length,g=v>0?y.slice(0,v):[];u=[...m,...g]}else u=u.sort((f,m)=>f-m).slice(0,o.value);c=!0}return c&&a.emit("update:modelValue",u),u},l=ref([]),s=computed(()=>{let u=e.items;return e.orderBy&&u.sort((c,p)=>e.orderByDirection==="asc"?c[e.orderBy].localeCompare(p[e.orderBy]):p[e.orderBy].localeCompare(c[e.orderBy])),u});return{...useInput(e,{...a,initializeInput:n}),openedGroups:toRef(l),maxSelectable:o,isProtected:i,flattenedItems:s}},methods:{isAllSelected(e){return e.items.map(o=>o.id).every(o=>this.input.includes(o))},isIndeterminateGroup(e){const a=e.items.map(o=>o.id);return!a.every(o=>this.input.includes(o))&&a.some(o=>this.input.includes(o))},updatedParent(e,a){const o=a.items.map(r=>r.id);if(!e)this.input=this.input.filter(function(r){return!o.includes(r)});else{if(this.maxSelectable){const r=o.filter(i=>!this.input.includes(i)).length;if(this.input.length+r>this.maxSelectable)return}o.forEach(r=>{this.input.includes(r)||this.input.push(r)})}},getRowStyles(){const e="flex: 1 1;";return this.flexColumn&&this.$vuetify.display.mdAndUp?`${e} flex: 1 1 60%;`:e},getCheckboxContainerClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["d-flex align-center rounded-sm",this.checkboxOnRight?"pl-2":"",this.checkboxOnRight&&a?"checked":"",this.checkboxHighlighted&&a?`bg-${this.checkboxHighlightedColor}`:""]},isSelectedItem(e){return Array.isArray(this.input)&&this.input.includes(e[this.itemValue])},getCheckboxClasses(e){const a=Array.isArray(this.input)&&this.input.includes(e[this.itemValue]);return["flex-shrink-0 flex-grow-0",this.isSelectedItem(e)?`v-input-checklist__checkbox--selected ${this.activeTextColor?`text-${this.activeTextColor}`:""}`:"",this.truncateItemLabel?"v-input-checklist__checkbox--truncate":"",this.checkboxOnLeft?"rounded-sm":"v-input-checklist__checkbox--right",this.checkboxOnLeft&&a?"checked":""]},canSelectMore(){return!this.disabled&&(!this.maxSelectable||Array.isArray(this.input)&&this.input.length<this.maxSelectable)},isMandatoryItem(e){return!!__data_get(e,this.mandatory,!1)},isGroupOpen(e){return this.openAllGroups?!0:this.closeAllGroups?!1:e===0},getCardStats(e){return this.cardStats.map(a=>({...a,value:e[a.key]}))}},computed:{checkboxOnRight(){return this.checkboxPosition==="right"},checkboxOnLeft(){return this.checkboxPosition==="left"},groupedItems(){const e={};for(const o in this.items)if(this.chunkField){const r=this.items[o][this.chunkField],i=this.items[o][this.chunkTitleKey],n=this.items[o];Object.prototype.hasOwnProperty.call(e,r)?e[r].items.unshift({id:n.id,name:i}):e[r]={name:this.$lodash.startCase(this.$lodash.camelCase(r)),items:[{id:n.id,name:i}]}}else{const r=this.items[o][this.chunkTitleKey].split(this.chunkCharacter);if(r.length>1){const i=r[0],n=r[1];Object.prototype.hasOwnProperty.call(e,i)?(__isset(e[i].id)&&delete e[i].id,e[i].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(n))})):e[i]={name:this.$lodash.startCase(this.$lodash.camelCase(i)),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(n))}]}}else{const i="alpha";Object.prototype.hasOwnProperty.call(e,i)?(__isset(e[i].id)&&delete e[i].id,e[i].items.unshift({id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))})):e[i]={name:this.$t("General"),items:[{id:this.items[o].id,name:this.$lodash.startCase(this.$lodash.camelCase(this.items[o][this.chunkTitleKey]))}]}}}const a=Object.values(e);if(a.sort(function(o,r){return o.hasOwnProperty("items")?1:r.hasOwnProperty("items")?-1:0}),this.closeAllGroups?this.openedGroups=[]:this.openedGroups=this.openAllGroups?a.map(o=>o.name):[a[0].name],this.orderBy)for(const o in a)a[o].items.sort((r,i)=>this.orderByDirection==="asc"?r[this.orderBy].localeCompare(i[this.orderBy]):i[this.orderBy].localeCompare(r[this.orderBy]));return a},disabledCheckbox(){return this.$attrs.disabled||!this.canSelectMore()&&!Array.isArray(this.input)},hasMandatoryItems(){return this.items.some(e=>__data_get(e,this.mandatory,!1))},treeviewCols(){return this.chunkField?{cols:12}:{lg:6,md:8,sm:12}}},created(){}},_hoisted_1$o={class:normalizeClass(["w-100 d-flex flex-wrap"]),style:{"max-width":"100%"}},_hoisted_2$k=["innerHTML"],_hoisted_3$k=["innerHTML"],_hoisted_4$f={class:"d-flex align-center"};function _sfc_render$v(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("v-input-checkbox-card");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[6]||(a[6]=u=>e.input=u),hideDetails:"auto",disabled:o.disabled,class:"v-input-checklist"},{default:withCtx(u=>[createBaseVNode("div",_hoisted_1$o,[e.label?(openBlock(),createElementBlock("div",{key:0,class:"d-flex flex-column mb-2 mr-md-3",style:normalizeStyle(["max-width: 100%;",o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 0 1 auto;":"flex: 1 0 100%;"])},[e.label?(openBlock(),createBlock(l,{key:0,padding:"","data-test":"title",color:o.labelColor,transform:"none"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:e.label},null,8,_hoisted_2$k)]),_:1},8,["color"])):createCommentVNode("",!0),o.subtitle?(openBlock(),createBlock(l,{key:1,padding:"",type:"caption",weight:"medium",transform:"none",color:o.subtitleColor,"data-test":"title"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:o.subtitle},null,8,_hoisted_3$k)]),_:1},8,["color"])):createCommentVNode("",!0)],4)):createCommentVNode("",!0),o.flexColumn&&e.$vuetify.display.mdAndUp&&(e.label||o.subtitle)?(openBlock(),createBlock(VDivider,{key:1,vertical:"",class:"mr-3 border-current"})):createCommentVNode("",!0),o.isTreeview?(openBlock(),createBlock(VRow,{key:2,style:normalizeStyle([o.flexColumn&&e.$vuetify.display.mdAndUp?"flex: 1 0 70%;":"flex: 1 1;"])},{default:withCtx(()=>[createVNode(VCol,normalizeProps(guardReactiveProps({...n.treeviewCols})),{default:withCtx(()=>[createVNode(VList,{opened:r.openedGroups,"onUpdate:opened":a[3]||(a[3]=c=>r.openedGroups=c)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.groupedItems,(c,p)=>(openBlock(),createElementBlock(Fragment,{key:`checkbox-${p}`},[e.$isset(c.items)&&c.items.length>0?(openBlock(),createBlock(VListGroup,{key:0,class:"pl-0","collapse-icon":"","expand-icon":"",value:c.name},{activator:withCtx(({props:f,isOpen:m})=>[o.noGroupAllSelectable?(openBlock(),createBlock(l,mergeProps({key:1,text:c[`${o.itemTitle}`],type:"body-1",color:"grey-darken-5",weight:"medium",justify:"space-between",ref_for:!0},f),{right:withCtx(()=>[createBaseVNode("div",_hoisted_4$f,[createVNode(VIcon,{icon:m?"$collapse":"$expand"},null,8,["icon"])])]),_:2},1040,["text"])):(openBlock(),createBlock(VCheckbox,mergeProps({key:0,class:"ue-checklist-checkbox",label:c[`${o.itemTitle}`],color:"success","hide-details":"",indeterminate:n.isIndeterminateGroup(c),density:"compact",modelValue:n.isAllSelected(c),"onUpdate:modelValue":y=>n.updatedParent(y,c),readonly:n.isMandatoryItem(c)||o.readonly,ref_for:!0},f),createSlots({label:withCtx(y=>[createBaseVNode("label",mergeProps({ref_for:!0},f),toDisplayString(y.label),17)]),_:2},[o.chunkField?void 0:{name:"prepend",fn:withCtx(()=>[createVNode(VIcon,mergeProps({ref_for:!0},f,{icon:m?"$collapse":"$expand"}),null,16,["icon"])]),key:"0"}]),1040,["label","indeterminate","modelValue","onUpdate:modelValue","readonly"])),o.hasGroupBottomDivider?(openBlock(),createBlock(VDivider,{key:2,class:"mt-0"})):createCommentVNode("",!0)]),default:withCtx(()=>[o.chunkField?(openBlock(),createBlock(VListItem,{key:0,style:{"padding-inline-start":"0px !important"}},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",style:normalizeStyle([o.flexColumn?"":"flex: 1 0 60%;"])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.items,(f,m)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${m}`,ref_for:!0},o.checkboxCol,{class:"pb-0 pr-0"}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(n.getCheckboxContainerClasses(f))},[createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=y=>e.input=y),disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(f[o.itemValue]),value:f[o.itemValue],color:o.checkboxColor??o.color??"primary","hide-details":"",label:f[o.itemTitle],class:normalizeClass(n.getCheckboxClasses(f)),readonly:n.isMandatoryItem(f)||r.isProtected(f[o.itemValue])||o.readonly},null,8,["modelValue","disabled","value","color","label","class","readonly"])],2)]),_:2},1040))),128))]),_:2},1032,["style"])]),_:2},1024)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(c.items,(f,m)=>(openBlock(),createBlock(VListItem,{key:`checkbox-${m}`,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{class:"ue-checklist-checkbox",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=y=>e.input=y),label:f[`${o.itemTitle}`],value:f[`${o.itemValue}`],disabled:!n.canSelectMore()&&!e.input.includes(f[o.itemValue]),color:"success","hide-details":"",density:"compact",readonly:n.isMandatoryItem(f)||o.readonly},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))),128))]),_:2},1032,["value"])):(openBlock(),createBlock(VListItem,{key:1,class:"pl-0"},{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.input,"onUpdate:modelValue":a[2]||(a[2]=f=>e.input=f),label:c[`${o.itemTitle}`],value:c[`${o.itemValue}`],disabled:!n.canSelectMore()&&!e.input.includes(c[o.itemValue]),readonly:n.isMandatoryItem(c)||r.isProtected(c[o.itemValue])||o.readonly,color:"success","hide-details":"",density:"compact"},null,8,["modelValue","label","value","disabled","readonly"])]),_:2},1024))],64))),128))]),_:1},8,["opened"])]),_:1},16)]),_:1},8,["style"])):(openBlock(),createBlock(VRow,{key:3,style:normalizeStyle(n.getRowStyles()),"no-gutters":e.$vuetify.display.xs,class:"align-stretch"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.flattenedItems,(c,p)=>(openBlock(),createBlock(VCol,mergeProps({key:`checkbox-${p}`,cols:"12",sm:"6",md:"4",lg:"3",ref_for:!0},o.checkboxCol,{class:""}),{default:withCtx(()=>[o.isCard?(openBlock(),createBlock(s,{key:0,modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=f=>e.input=f),value:c[o.itemValue],class:normalizeClass([n.getCheckboxClasses(c),"h-100"]),color:o.checkboxColor??o.color??"primary",title:c[o.itemTitle],description:c.description,disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(c[o.itemValue]),readonly:n.isMandatoryItem(c)||r.isProtected(c[o.itemValue])||o.readonly,checkboxOnRight:n.checkboxOnRight,stats:n.getCardStats(c),activeTitleColor:o.activeTextColor},null,8,["modelValue","value","class","color","title","description","disabled","readonly","checkboxOnRight","stats","activeTitleColor"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(n.getCheckboxContainerClasses(c))},[createVNode(VCheckbox,{"data-test":"checkbox",modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=f=>e.input=f),value:c[o.itemValue],disabled:(e.$attrs.disabled??!1)||!n.canSelectMore()&&!e.input.includes(c[o.itemValue]),color:o.checkboxColor??o.color??"primary","hide-details":"",label:c[o.itemTitle],class:normalizeClass(n.getCheckboxClasses(c)),readonly:n.isMandatoryItem(c)||r.isProtected(c[o.itemValue])||o.readonly},null,8,["modelValue","value","disabled","color","label","class","readonly"])],2))]),_:2},1040))),128))]),_:1},8,["style","no-gutters"]))])]),_:1},8,["modelValue","disabled"])}const Checklist=_export_sfc(_sfc_main$A,[["render",_sfc_render$v]]),__vite_glob_3_3=Object.freeze(Object.defineProperty({__proto__:null,default:Checklist},Symbol.toStringTag,{value:"Module"})),_sfc_main$z={name:"v-input-checklist-group",emits:[...makeInputEmits],components:{Checklist},props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}}},setup(e,a){return{...useInput(e,a)}},data:function(){return{selectedGroup:Object.keys(this.schema)[0]??1,selectedItems:[]}},computed:{},watch:{selectedGroup:{handler(e,a){this.selectedItems=[]}},selectedItems:{handler(e,a){this.$emit("update:modelValue",{group:this.selectedGroup,items:this.selectedItems})}}},methods:{},created(){}};function _sfc_render$u(e,a,o,r,i,n){const l=resolveComponent("Checklist");return openBlock(),createBlock(VInput,{modelValue:e.selectedItems,"onUpdate:modelValue":a[2]||(a[2]=s=>e.selectedItems=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-checklist-group"},{default:withCtx(s=>{var u;return[createVNode(VRadioGroup,{modelValue:e.selectedGroup,"onUpdate:modelValue":a[0]||(a[0]=c=>e.selectedGroup=c),direction:"horizontal"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.schema,(c,p)=>(openBlock(),createBlock(VCol,{key:p},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-checklist-group__btn",variant:e.selectedGroup==p?"elevated":"outlined",onClick:f=>e.selectedGroup=p},{prepend:withCtx(()=>[createVNode(VRadio,{value:p},null,8,["value"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(c.label.toUpperCase()),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),createBaseVNode("div",null,[createVNode(l,{modelValue:e.selectedItems,"onUpdate:modelValue":a[1]||(a[1]=c=>e.selectedItems=c),items:((u=o.schema[e.selectedGroup??0])==null?void 0:u.items)??[]},null,8,["modelValue","items"])])]}),_:1},8,["modelValue","variant"])}const ChecklistGroup=_export_sfc(_sfc_main$z,[["render",_sfc_render$u]]),__vite_glob_3_4=Object.freeze(Object.defineProperty({__proto__:null,default:ChecklistGroup},Symbol.toStringTag,{value:"Module"})),_sfc_main$y={name:"v-input-comparison-table",emits:[...makeInputEmits],components:{Table},props:{...makeInputProps(),schema:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},comparatorField:{type:String,default:"name"},comparatorValue:{type:String,default:"value"},comparators:{type:Object,default:()=>{}},selectable:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!0},itemsPerPage:{type:Number,default:50},comparatorWidth:{type:Number,default:400},minComparatorWidth:{type:Number,default:250},itemWidth:{type:Number,default:80},maxItemWidth:{type:Number,default:100},maxHeight:{type:[String,Number],default:null},height:{type:[String,Number],default:null},noFixedHeader:{type:Boolean,default:!1},noFixedComparator:{type:Boolean,default:!1},noFixedSelectable:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data:function(){return{model:null}},computed:{headers(){return[{title:this.label,key:"comparator_name",width:this.comparatorWidth,fixed:!this.noFixedComparator,cellProps:{class:"py-2",style:{minWidth:`${this.minComparatorWidth}px`}}}].concat(this.items.map(e=>({title:e.name,key:e.name,align:"center",id:e.id,width:this.itemWidth,cellProps:{style:{...this.$vuetify.display.mobile?{}:{maxWidth:`${this.maxItemWidth}px`}}}})))},inputAndTableStyle(){let e=/(\d+)(vh|px|rem|em|%)/,a=this.maxHeight,o={};if(!this.$vuetify.display.smAndDown){if(a){if(isNumber(a)&&(a=`${a}px`),isString(a)){let r=a.match(e);r||!isNaN$1(parseInt(r[1]))&&(a=`${parseInt(r[1])}px`)}o.maxHeight=a}if(this.height){let r=this.height;if(isNumber(r)&&(r=`${r}vh`),isString(r)){let i=r.match(e);i||!isNaN$1(parseInt(i[1]))&&(r=`${parseInt(i[1])}vh`)}o.height=r}}return o},comparisonItems(){let e=Object.keys(this.comparators).reduce((o,r)=>{const i=this.comparators[r];let n=(i==null?void 0:i.key)??r;return this.items.forEach(l=>{if(Array.isArray(l[n]))l[n].forEach(function(s){find(o,["id",s.id])||o.push({...s,_comparatorField:(i==null?void 0:i.field)??"name",...i!=null&&i.itemClasses?{_comparatorItemClasses:i.itemClasses}:{}})});else{let s=__isset(l[`${n}_show`])?`${n}_show`:n;o.includes(s)||o.push(s)}}),o},[]),a=[];if(this.selectable){let o={comparator_name:""};this.items.forEach(r=>{o[r.name]="__input"}),a.push(o)}return e.map(o=>{let r={},i=null;if(__isObject(o))i=o[o._comparatorField],__isset(o._comparatorItemClasses)&&(i=`<span class="${o._comparatorItemClasses}">${i}</span>`);else{let n=null;if((n=find(this.comparators,["key",o]))&&__isset(n.title))i=n.title;else{let l=o.match(/(\w+)?(_show)/);l?i=this.$headline(l[1]):i=this.$headline(o)}__isset(n.itemClasses)&&(i=`<span class="${n.itemClasses}"> ${i} </span>`)}return r.comparator_name=i,this.items.forEach(n=>{if(__isObject(o)){let l=find(n[this.comparatorField],["id",o.id]);if(l){let s=get(l,this.comparatorValue,"unknown");s==="unknown"&&(console.error(`${this.comparatorField} not found for ${this.comparatorValue}`),s=""),r[n.name]=s}else r[n.name]=""}else{let l=n[o];r[n.name]=l;let s=null;(s=find(this.comparators,["key",o]))&&__isset(s.itemClasses)&&(r[n.name]=`<span class="${s.itemClasses}"> ${l} </span>`)}}),r}).concat(a)}},watch:{input(e,a){},modelValue(e,a){}}},_hoisted_1$n={key:0,class:"v-input-comparison-table__header--selected"},_hoisted_2$j=["innerHTML"],_hoisted_3$j=["innerHTML"];function _sfc_render$t(e,a,o,r,i,n){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=l=>e.input=l),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:normalizeClass(["v-input-comparison-table",{"v-input-comparison-table--striped":o.striped,"v-input-comparison-table--highlighted":o.highlighted}]),rules:e.$attrs.rules,style:normalizeStyle(n.inputAndTableStyle)},{default:withCtx(l=>[createVNode(VDataTable,{class:normalizeClass(["h-100",o.selectable&&!o.noFixedSelectable?"v-data-table--fixed-selectable":""]),style:normalizeStyle(n.inputAndTableStyle),headers:n.headers,items:n.comparisonItems,itemsLength:"0","disable-sort":"","hide-default-footer":"","items-per-page":o.itemsPerPage,"mobile-breakpoint":"sm","fixed-header":!o.noFixedHeader},createSlots({_:2},[renderList(n.headers,(s,u)=>({name:`header.${s.key}`,fn:withCtx(c=>[e.$isset(s.id)&&e.input==s.id?(openBlock(),createElementBlock("span",_hoisted_1$n,toDisplayString(s.title),1)):(openBlock(),createElementBlock("span",{key:1,innerHTML:s.title},null,8,_hoisted_2$j))])})),renderList(n.headers,(s,u)=>({name:`item.${s.key}`,fn:withCtx(({item:c})=>[c[s.key]=="__input"?(openBlock(),createBlock(VBtn,{key:0,class:"my-2",onClick:p=>e.input=s.id,variant:e.input==s.id?"elevated":"outlined",readonly:e.protectInitialValue},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Select")),1)]),_:2},1032,["onClick","variant","readonly"])):(openBlock(),createElementBlock("span",{key:1,innerHTML:c[s.key]},null,8,_hoisted_3$j))])}))]),1032,["class","style","headers","items","items-per-page","fixed-header"])]),_:1},8,["modelValue","variant","class","rules","style"])}const ComparisonTable=_export_sfc(_sfc_main$y,[["render",_sfc_render$t]]),__vite_glob_3_5=Object.freeze(Object.defineProperty({__proto__:null,default:ComparisonTable},Symbol.toStringTag,{value:"Module"})),_sfc_main$x={__name:"Date",props:{...makeInputProps(),name:{type:String,default:"date"},variant:{type:String,default:"outlined"},density:{type:String,default:"default"},useTimezone:{type:Boolean,default:!1}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,r=a,i=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,n=p=>{i();const f=new Date(p),m=f.getTimezoneOffset();return new Date(f.getTime()-m*6e4)},l=p=>{i();const f=new Date(p),m=f.getTimezoneOffset();return new Date(f.getTime()+m*6e4)},{input:s,id:u,boundProps:c}=useInput(o,{emit:r,initializeInput:p=>o.useTimezone?p:l(p),updateModelValue:(p,f)=>{o.useTimezone?r("update:modelValue",p):r("update:modelValue",n(p))}});return useValidation(o),useI18n(),useDynamicModal(),useAuthorization(),useAlert(),(p,f)=>{const m=resolveComponent("v-date-input");return openBlock(),createBlock(VInput,{modelValue:unref(s),"onUpdate:modelValue":f[1]||(f[1]=y=>isRef(s)?s.value=y:null),"hide-details":"",class:"v-input-date"},{default:withCtx(y=>[createVNode(m,mergeProps({modelValue:unref(s),"onUpdate:modelValue":f[0]||(f[0]=v=>isRef(s)?s.value=v:null),density:e.density,label:p.label,variant:e.variant},p.$attrs),null,16,["modelValue","density","label","variant"])]),_:1},8,["modelValue"])}}},__vite_glob_3_8=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$x},Symbol.toStringTag,{value:"Module"})),LocaleMixin={props:{locale:{default:null}},data(){return{_locale:this.locale}},computed:{hasLocale:function(){return this._locale!=null},hasCurrentLocale:function(){return this.currentLocale!=null},isLocaleRTL:function(){const e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return this.hasLocale?e.includes(this.locale.shortlabel.toLowerCase()):!1},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return this.currentLocale.shortlabel},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all})},methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}},mounted(){}},_EXTENSIONS={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},_sfc_main$w={name:"UeFileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){const e=this.currentItem.extension;if(_EXTENSIONS.hasOwnProperty(e))return _EXTENSIONS[e].icon;for(const a in _EXTENSIONS)if(_EXTENSIONS[a].FileExtensions.findIndex(r=>r===e)>-1)return _EXTENSIONS[a].icon;return"gen"}}},_hoisted_1$m={class:"fileItem"},_hoisted_2$i={key:0,class:"fileItem__cell fileItem__cell--drag"},_hoisted_3$i={key:1,class:"fileItem__cell fileItem__cell--extension"},_hoisted_4$e={href:"#",target:"_blank"},_hoisted_5$c=["symbol"],_hoisted_6$c={class:"fileItem__cell fileItem__cell--name"},_hoisted_7$9={key:0},_hoisted_8$8=["src"],_hoisted_9$7=["href"],_hoisted_10$6={class:"f--link-underlined--o"},_hoisted_11$5=["name","value"],_hoisted_12$3={key:2,class:"fileItem__cell fileItem__cell--size"},_hoisted_13$3={class:"fileItem__cell"};function _sfc_render$s(e,a,o,r,i,n){const l=resolveDirective("svg");return openBlock(),createElementBlock("tr",_hoisted_1$m,[o.draggable?(openBlock(),createElementBlock("td",_hoisted_2$i,a[0]||(a[0]=[createBaseVNode("div",{class:"drag__handle--drag"},null,-1)]))):createCommentVNode("",!0),n.currentItem.hasOwnProperty("extension")?(openBlock(),createElementBlock("td",_hoisted_3$i,[createBaseVNode("a",_hoisted_4$e,[withDirectives(createBaseVNode("span",{symbol:n.getSvgIconName()},null,8,_hoisted_5$c),[[l]])])])):createCommentVNode("",!0),createBaseVNode("td",_hoisted_6$c,[n.currentItem.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("span",_hoisted_7$9,[createBaseVNode("img",{src:n.currentItem.thumbnail},null,8,_hoisted_8$8)])):createCommentVNode("",!0),createBaseVNode("a",{href:n.currentItem.hasOwnProperty("original")?n.currentItem.original:"#",download:""},[createBaseVNode("span",_hoisted_10$6,toDisplayString(n.currentItem.name),1)],8,_hoisted_9$7),createBaseVNode("input",{type:"hidden",name:o.name,value:n.currentItem.id},null,8,_hoisted_11$5)]),n.currentItem.hasOwnProperty("size")?(openBlock(),createElementBlock("td",_hoisted_12$3,toDisplayString(n.currentItem.size),1)):createCommentVNode("",!0),createBaseVNode("td",_hoisted_13$3,[createVNode(VBtn,{icon:"$close",onClick:n.deleteItem},null,8,["onClick"])])])}const FileItem=_export_sfc(_sfc_main$w,[["render",_sfc_render$s],["__scopeId","data-v-4430099c"]]),_sfc_main$v={name:"v-input-file",emits:[...makeInputEmits],components:{FileItem,draggable:Draggable},mixins:[LocaleMixin],props:{...makeFileProps()},setup(e,a){return{...useFile(e,a)}},created(){},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))}}},_hoisted_1$l={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$h={class:"v-field__field","data-no-activator":""},_hoisted_3$h={class:"fileField"},_hoisted_4$d={key:0,class:"fileField__trigger"},_hoisted_5$b=["name","value"],_hoisted_6$b={class:"fileField__note f--small"},_hoisted_7$8={key:1,class:"fileField__list"},_hoisted_8$7={key:2,class:"fileField__trigger"},_hoisted_9$6=["name","value"],_hoisted_10$5={class:"fileField__note f--small"},_hoisted_11$4={class:"v-field__outline"},_hoisted_12$2={class:"v-field__outline__notch"},_hoisted_13$2={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$r(e,a,o,r,i,n){const l=resolveComponent("FileItem"),s=resolveComponent("draggable");return openBlock(),createBlock(VInput,{hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-file"},{default:withCtx(u=>[createBaseVNode("div",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$h,[e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_4$d,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_5$b),createVNode(VBtn,{type:"button",onClick:a[0]||(a[0]=c=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_6$b,toDisplayString(e.note),1)])):createCommentVNode("",!0),e.input.length?(openBlock(),createElementBlock("table",_hoisted_7$8,[createVNode(s,{tag:"tbody",modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=c=>e.input=c),itemKey:"id"},{item:withCtx(c=>[createVNode(l,{class:"item__content",name:`${e.name}_${c.index}`,"item-label":e.$t("form-labels.File"),item:e.input[`${c.index}`],onDelete:p=>e.deleteItem(c.index)},null,8,["name","item-label","item","onDelete"])]),_:1},8,["modelValue"])])):createCommentVNode("",!0),!e.buttonOnTop&&e.remainingItems?(openBlock(),createElementBlock("div",_hoisted_8$7,[createBaseVNode("input",{type:"hidden",name:e.name,value:e.itemsIds},null,8,_hoisted_9$6),createVNode(VBtn,{type:"button",onClick:a[2]||(a[2]=c=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1}),createBaseVNode("span",_hoisted_10$5,toDisplayString(e.note),1)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$4,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("label",_hoisted_13$2,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:1},8,["variant"])}const File$1=_export_sfc(_sfc_main$v,[["render",_sfc_render$r],["__scopeId","data-v-2057ba1c"]]),__vite_glob_3_10=Object.freeze(Object.defineProperty({__proto__:null,default:File$1},Symbol.toStringTag,{value:"Module"})),Component="Filepond",FilePond=vueFilePond(plugin$2,plugin$1,plugin),_sfc_main$u={name:"v-input-filepond",components:{FilePond},emits:[...makeInputEmits,"loading","loaded","loadedFile"],props:{...makeInputProps(),...makeFilepondProps()},setup(e,a){const{requiredRule:o}=useValidation(e);return{...useInput(e,a),...useFilepond(e),requiredRule:o}},data(){return{fileFieldClasses:["v-input-filepond__file-field",this.$slots.activator||this.$slots.body?"d-none":""],errorMessages:[],onStart:!0,files:isArray(this.modelValue)?this.modelValue.map(function(e){return{source:e.source??`${this.endPoints.load}${e.uuid}`,options:{type:`${e.type??"local"}`,metadata:{date:e.created_at},file:e.file}}}):[],slotBindings:{browse:this.browse,addFile:this.addFile,removeFile:this.removeFile,removeFiles:this.removeFiles,getFiles:this.getFiles,getFile:this.getFile,files:this.files}}},methods:{postProcessFilepond:function(e,a){e?__log("postProcess error",e):this.input=this.input.concat({uuid:a.serverId,file_name:a.filename,source:`${this.endPoints.load}${a.serverId}`})},removeFilepond:function(e,a){var i;const o=a.filename??((i=a.serverId)==null?void 0:i.replace(`/${a.filename}`,""))??a.uuid;let r=this.input.findIndex(n=>n.uuid==o);if(r==-1){const n=a.source;r=this.input.findIndex(l=>l.source==n)}if(r!=-1){const n=this.input.slice(0,r).concat(this.input.slice(r+1));this.input=n}else console.error("removeFilepond error not found",a,this.input)},init(){setOptions({server_:{process_:this.endPoints.process,revert_:this.endPoints.revert,load_:this.endPoints.load}})},addFile(...e){return this.$refs.pond.addFile(...e)},browse(...e){return this.$refs.pond._pond.browse()},removeFile(...e){return this.$refs.pond.removeFile(...e)},removeFiles(...e){return this.$refs.pond.removeFiles(...e)},getFiles(...e){return this.$refs.pond.getFiles(...e)},getFile(...e){return this.$refs.pond.getFile(...e)},warning(e){this.$store.commit(ALERT$1.SET_ALERT,{message:e.body,variant:"warning"})},error(e){__log("error",e)}},computed:{classes(){return["v-input-filepond",this.class??""]},server(){return{revert:(e,a,o)=>{let r="revert-"+e;axios.delete(this.endPoints.revert,{requestId:r,data:e}).then(i=>{this.input=this.input.filter(n=>n.uuid!=e),a()}).catch(i=>{console.error("server revert error",i)})},process:(e,a,o,r,i,n,l,s,u)=>{const c=new FormData;if(e.match(/(\w)+.(\w)+/)){let f=e.split(".");e="";for(const m in f)m==0?e+=f[m]:e+=`[${f[m]}]`}c.append(e,a,a.name);let p="process-"+e;return axios.post(this.endPoints.process,c,{requestId:p,onUploadProgress:f=>{n(f.lengthComputable,f.loaded,f.total)}}).then(function(f){r(f.data)}).catch(function(f){f.status==500&&f.response.match(/^\<script\> Sfdump/)?(globalError$1(Component,{message:"Filepond process error.",value:request}),i("Dump error on processing")):i("Processing Error")}),{abort:()=>{__log("aborted"),axios.abort(p),l()}}},load:(e,a,o,r,i,n)=>(axios.get(e,{responseType:"blob",validateStatus:l=>l>=200&&l<300||l===422}).then(l=>{if(l.status==200)a(l.data);else throw l.status==500?new Error("Answer not found"):new Error("Some other status code")}).catch(function(l){console.error(l)}),{abort:()=>{i()}}),headers:{"X-Csrf-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},input:{get(){return this.modelValue??[]},set(e){__log("input set",e),this.updateModelValue(e)}},key:{get(){return`filepond-${Date.now()}`}},name(){let e=this.$attrs.name;return this.obj&&this.obj.schema&&this.obj.schema.parentName&&(e=`${this.obj.schema.parentName}.${e}`),e}},watch:{modelValue:{handler(e){}},disabled:{handler(e){}}},created(){},mounted(){this.$refs.VInput&&this.$watch(()=>this.$refs.VInput.errorMessages,e=>{this.onStart||(this.errorMessages=e),this.onStart=!1},{deep:!0})}},_hoisted_1$k={class:normalizeClass(["w-100"])},_hoisted_2$g=["innerHTML"],_hoisted_3$g={key:2,class:"v-input__details",role:"alert","aria-live":"polite"},_hoisted_4$c={key:0,class:"v-messages"},_hoisted_5$a={class:"v-messages__message"},_hoisted_6$a=["innerHTML"];function _sfc_render$q(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("FilePond");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:n.input,"onUpdate:modelValue":a[4]||(a[4]=u=>n.input=u),"hide-details":"",class:normalizeClass(n.classes),rules:e.noRules?[]:e.filepondRules},{default:withCtx(u=>[renderSlot(e.$slots,"activator",normalizeProps(guardReactiveProps({...i.slotBindings})),void 0,!0),createBaseVNode("div",_hoisted_1$k,[e.label?(openBlock(),createBlock(l,{key:0,transform:"none",padding:"a-0",weight:e.labelWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label,ref:e.$refs.VInput})),()=>[createTextVNode(toDisplayString(e.label),1)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),e.subtitle?(openBlock(),createBlock(l,{key:1,type:"caption",transform:"none",padding:"a-0",weight:e.subtitleWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"subtitle",normalizeProps(guardReactiveProps({subtitle:e.subtitle,ref:e.$refs.VInput})),()=>[createBaseVNode("span",{innerHTML:e.subtitle},null,8,_hoisted_2$g)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(i.fileFieldClasses)},[(openBlock(),createBlock(s,mergeProps({ref:"pond",key:n.key,id:n.key},e.$lodash.omit(e.$bindAttributes(),["rules"]),{name:n.name,"allow-image-preview":e.allowImagePreview,"allow-multiple":e.allowMultiple,"allow-process":e.allowProcess,"allow-remove":e.allowRemove,"allow-reorder":e.allowReorder,"allow-replace":e.allowReplace,"drop-on-page":e.dropOnPage,"drop-on-element":e.dropOnElement,"drop-validation":e.dropValidation,"allow-file-type-validation":!0,"accepted-file-types":e.acceptedFileTypes,"max-files":e.max,disabled:e.disabled,"allow-drop":!e.disabled,"allow-browse":!e.disabled,"allow-file-size-validation":e.allowFileSizeValidation,"max-file-size":e.maxFileSize,"min-file-size":e.minFileSize,"max-total-file-size":e.maxTotalFileSize,"label-max-file-size":e.labelMaxFileSize,"label-max-file-size-exceeded":e.labelMaxFileSizeExceeded,files:i.files,server:n.server,onProcessfile:n.postProcessFilepond,onRemovefile:n.removeFilepond,onAddfilestart:a[0]||(a[0]=c=>e.$emit("loadingFile",c)),onAddfileprogress:a[1]||(a[1]=c=>e.$emit("loadingFileProgress",c)),onAddfile:a[2]||(a[2]=c=>e.$emit("loadedFile",c)),onInit:n.init,onWarning:n.warning,onError:n.error}),null,16,["id","name","allow-image-preview","allow-multiple","allow-process","allow-remove","allow-reorder","allow-replace","drop-on-page","drop-on-element","drop-validation","accepted-file-types","max-files","disabled","allow-drop","allow-browse","allow-file-size-validation","max-file-size","min-file-size","max-total-file-size","label-max-file-size","label-max-file-size-exceeded","files","server","onProcessfile","onRemovefile","onInit","onWarning","onError"]))],2),renderSlot(e.$slots,"body",mergeProps({...i.slotBindings},{onClick:a[3]||(a[3]=(...c)=>n.browse&&n.browse(...c))}),void 0,!0),e.hideDetails?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$g,[i.errorMessages.length>0?(openBlock(),createElementBlock("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$a,toDisplayString(i.errorMessages.join(", ")),1)])):e.hint?(openBlock(),createBlock(l,{key:1,class:"v-messages",type:"caption",transform:"none",padding:"a-0",weight:e.hintWeight,color:"grey-darken-5"},{default:withCtx(()=>[renderSlot(e.$slots,"hint",normalizeProps(guardReactiveProps({hint:e.hint})),()=>[createBaseVNode("span",{innerHTML:e.hint},null,8,_hoisted_6$a)],!0)]),_:3},8,["weight"])):createCommentVNode("",!0)]))])]),_:3},8,["modelValue","class","rules"])}const Filepond=_export_sfc(_sfc_main$u,[["render",_sfc_render$q],["__scopeId","data-v-ea0a0858"]]),__vite_glob_3_11=Object.freeze(Object.defineProperty({__proto__:null,default:Filepond},Symbol.toStringTag,{value:"Module"})),_sfc_main$t={__name:"FilepondAvatar",props:{disabled:{type:Boolean,default:!1},...makeInputProps(),...makeFilepondProps()},emits:makeInputEmits,setup(e,{emit:a}){const o=e,r=a;ref(null);const i=useInput(o,{emit:r,updateModelValue:(p,f)=>{p.length>1?i.input.value=[p[1]]:r("update:modelValue",p)}}),n=ref(!1),l=ref(null),s=()=>{n.value||o.disabled||l.value.browse()},u=()=>{n.value=!0},c=()=>{n.value=!1};return(p,f)=>{const m=resolveComponent("v-input-filepond");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:"v-input-filepond__avatar-wrapper",onClick:s},[createVNode(VAvatar,{size:"90",class:normalizeClass(e.disabled?"":"cursor-pointer")},{default:withCtx(()=>[unref(i).input.value.length>0?(openBlock(),createBlock(VImg,{key:0,alt:"Avatar",src:unref(i).input.value[0].source},null,8,["src"])):(openBlock(),createBlock(VIcon,{key:1,icon:"mdi-account"}))]),_:1},8,["class"]),createBaseVNode("div",{class:normalizeClass(["v-input-filepond__edit-icon",n.value?"bg-surface":"bg-primary-lighten-3"])},[n.value?(openBlock(),createBlock(VProgressCircular,{key:0,size:25,color:"success",indeterminate:""})):createCommentVNode("",!0),createVNode(VIcon,{disabled:e.disabled,size:"default"},{default:withCtx(()=>f[1]||(f[1]=[createTextVNode("mdi-account-edit-outline")])),_:1},8,["disabled"])],2)]),createVNode(m,{ref_key:"FilepondRef",ref:l,modelValue:unref(i).input.value,"onUpdate:modelValue":f[0]||(f[0]=y=>unref(i).input.value=y),class:"v-input-filepond-avatar","hide-details":p.hideDetails,hint:p.hint,min:p.min,"max-files":p.maxFiles,rules:p.rules,"hint-weight":p.hintWeight,"end-points":p.endPoints,"label-weight":p.labelWeight,subtitle:p.subtitle,"subtitle-weight":p.subtitleWeight,"accepted-file-types":p.acceptedFileTypes,"allow-multiple":!1,"allow-replace":!0,onLoadingFile:u,onLoadedFile:c},{activator:withCtx(y=>f[2]||(f[2]=[])),_:1},8,["modelValue","hide-details","hint","min","max-files","rules","hint-weight","end-points","label-weight","subtitle","subtitle-weight","accepted-file-types"])],64)}}},FilepondAvatar=_export_sfc(_sfc_main$t,[["__scopeId","data-v-c017f40d"]]),__vite_glob_3_12=Object.freeze(Object.defineProperty({__proto__:null,default:FilepondAvatar},Symbol.toStringTag,{value:"Module"})),_sfc_main$s={name:"v-input-form-tabs",emits:[...makeInputEmits],inject:[...makeInputInjects],props:{...makeInputProps(),modelValue:{type:Object,default:()=>{}},schema:{type:Object,default:()=>{}},tabFields:{type:Object,default:()=>{}},items:{type:Object,default:()=>[]},triggers:{type:Object,default:()=>[]},protectDefiner:{type:String},protectedInputs:{type:Array,default:()=>["*"]}},setup(e,{emit:a}){const o=useInputHandlers(),r=useValidation(e);useI18n();const i=useInput(e,{emit:a}),{matchStandardAttribute:n,castStandardAttribute:l,castEvalAttribute:s,castAttribute:u,castObjectAttribute:c}=useCastAttributes(),p=ref(e.items),f=ref(!0),m=reactive(new Map),y=(S,A)=>{A?m.set(S,A):m.delete(S)},v=S=>m.get(S),g=ref(p.value.reduce((S,A)=>{var D;return __isset(S[A.id])||(S[A.id]={...getModel(e.schema,{}),...((D=i.input.value)==null?void 0:D[A.id])??{}}),S},{})),b=(S,A,D)=>{let P=!1;return Object.keys(S).forEach($=>{const F=filter(e.triggers,O=>O.trigger===$);if(F.length<1)return;const E=S[$],z=cloneDeep(D[A][$]);let B=null;z.items&&Array.isArray(z.items)&&(B=z.items.find(O=>O.id==E)),F.forEach(O=>{let M=cloneDeep(D[A][O.target]),L=!1;forEach(O.actions,(R,G)=>{if(Array.isArray(R)){if(G==="class"){let x=(M==null?void 0:M.class)??"";if(x){let U=x.split(" "),[I,...j]=R;I==="remove"?U=U.filter(K=>!j.includes(K)):I==="add"&&(U=[...U,...j]),M.class=U.join(" "),P=!0}}}else P=!0,G==="rules"&&(L=!0,G="raw"+startCase(G)),G==="disabled"&&(M._originalDisabled=R),G==="items"?M[G]=__data_get(B,R,[]):B&&(M[G]=n(R)?l(R,B):R)}),D[A][O.target]=M,L&&(D[A]=r.invokeRuleGenerator(D[A]))})}),{schemas:D,schemasChanged:P}},k=S=>{var P;const A=cloneDeep(e.schema);let D=e.protectInitialValue&&e.protectDefiner&&__isset(e.modelValue[S.id])&&__isset(e.modelValue[S.id][e.protectDefiner])&&e.modelValue[S.id][e.protectDefiner]!==null&&e.modelValue[S.id][e.protectDefiner]!==void 0;for(const N in e.tabFields)D&&Array.isArray(e.protectedInputs)&&e.protectedInputs.length>0&&(e.protectedInputs[0]==="*"||e.protectedInputs.includes(N))&&(A[N].protectInitialValue=!0),__isset(A[N])&&(A[N].items=S[e.tabFields[N]]),forEach(A[N],($,F)=>{isString($)?A[N][F]=n($)?l($,S):$:A[N][F]=$});return getSchema(A,((P=g.value)==null?void 0:P[S.id])??{})},C=ref(p.value.reduce((S,A,D)=>{if(!__isset(S[A.id])){S[A.id]=k(A);const{schemas:P}=b(g.value[A.id],A.id,S);S=P}return S},{})),w=ref(p.value.reduce((S,A,D)=>(S[D]=null,S),{}));p.value.length>0&&(f.value=!1);const V=reactive({loading:f,elements:p,formRefs:m,activeTab:1,models:g,schemas:C,valids:w});watch$1(()=>e.items,S=>{f.value=!0;let A=S.filter(P=>!p.value.find(N=>N.id==P.id)),D=p.value.filter(P=>!S.find(N=>N.id==P.id));A.length>0&&A.forEach(P=>{var N;if(__isset(g.value[P.id])||(g.value[P.id]={...getModel(e.schema,{}),...((N=i.input.value)==null?void 0:N[P.id])??{}}),!__isset(C.value[P.id])){C.value[P.id]=k(P);const{schemas:$}=b(g.value[P.id],P.id,C.value);C.value=$}w.value[P.id]=null}),D.length>0&&D.forEach(P=>{delete g.value[P.id],delete C.value[P.id],delete w.value[P.id],y(P.id,null)}),p.value=S}),watch$1(()=>p.value,S=>{setTimeout(()=>{S.length>0&&(f.value=!1)},1e3)});const T=(S,A)=>{let D=cloneDeep(g.value);D[A];let P=cloneDeep(C.value);const{schemas:N,schemasChanged:$}=b(S,A,P);$&&(C.value=cloneDeep(N)),D[A]=S,g.value=cloneDeep(D),a("update:modelValue",g.value)};return{...i,...o,...r,...toRefs(V),setFormRef:y,getFormRef:v,updateModel:T,schemas:C}},data(){return{formTabsRules:[e=>{var o;let a=!0;e:for(const r in e){let i=e[r];for(const n in this.schema){let l=i[n],s=this.schema[n];if(a=this.validateInput(s,l),a!==!0&&this.manualValidation){this.activeTab=parseInt(r);let u=this.getFormRef(this.activeTab);if(u){u.validate();break e}else console.info("FormTabs validateInput",{id:r,formRef:u,formRefValue:(o=this.getFormRef(r))==null?void 0:o.value,activeTab:this.activeTab,formRefs:this.formRefs})}if(a!==!0)break e}}return a}]}},computed:{},watch:{models:{handler(e,a){this.validate()},deep:!0}},methods:{async validate(){this.VInput&&await this.VInput.validate()},async validateForm(e){return await this.getFormRef(e).value[0].validate()},init(){}},created(){}};function _sfc_render$p(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("ue-tabs");return openBlock(),createBlock(VInput,{ref:"VInput",modelValue:e.models,"onUpdate:modelValue":a[2]||(a[2]=u=>e.models=u),"hide-details":"",multiple:"",rules:i.formTabsRules,class:"v-input-form-tabs"},{default:withCtx(u=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-row-divider, table-row@4",height:"400px",width:"100%"})):(openBlock(),createBlock(s,{key:1,modelValue:e.activeTab,"onUpdate:modelValue":a[1]||(a[1]=c=>e.activeTab=c),items:e.elements,"tab-value":"id","tab-title":"name"},createSlots({windows:withCtx(({active:c})=>[createVNode(VWindow,{modelValue:e.activeTab,"onUpdate:modelValue":a[0]||(a[0]=p=>e.activeTab=p)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.elements,(p,f)=>(openBlock(),createBlock(VWindowItem,{key:p.id,value:p.id},{default:withCtx(()=>[(openBlock(),createBlock(l,{ref_for:!0,ref:m=>r.setFormRef(p.id,m),key:`form-${p.id}-${JSON.stringify(r.schemas[p.id])}`,"vvvvv-model":"models[item.id]",modelValue:e.models[p.id],"onUpdate:modelValue":m=>r.updateModel(m,p.id),"onXupdate:modelValue":m=>e.$log("update:modelValue",m,p.id),schema:r.schemas[p.id],valid:e.valids[f],"onUpdate:valid":m=>e.valids[f]=m,noDefaultFormPadding:"",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","onXupdate:modelValue","schema","valid","onUpdate:valid"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:2},[renderList(e.elements,(c,p)=>({name:`tab.${c.id}`,fn:withCtx(()=>[createVNode(VTab,{value:c.id,color:!this.valids[p]&&e.window.__isBoolean(this.valids[p])?"error":"primary",class:normalizeClass([e.window.__isBoolean(this.valids[p])&&!this.valids[p]?"bg-red-lighten-5":""])},{append:withCtx(()=>[e.window.__isBoolean(e.valids[p])?(openBlock(),createBlock(VIcon,{key:0,icon:e.valids[p]?"$check":"$close"},null,8,["icon"])):createCommentVNode("",!0)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(c.name),1)]),_:2},1032,["value","color","class"])])}))]),1032,["modelValue","items"]))]),_:1},8,["modelValue","rules"])}const FormTabs=_export_sfc(_sfc_main$s,[["render",_sfc_render$p]]),__vite_glob_3_13=Object.freeze(Object.defineProperty({__proto__:null,default:FormTabs},Symbol.toStringTag,{value:"Module"})),mediaLibrayMixin={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}},mediaFieldMixin={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!0},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default(){return[]}}}},cropConversion=(e,a,o)=>({x:Math.round(e.x*a.width/o.width),y:Math.round(e.y*a.height/o.height),width:Math.round(e.width*a.width/o.width),height:Math.round(e.height*a.height/o.height)}),IS_SAFARI$1=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$r={name:"v-input-image",emits:[...makeInputEmits],components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps(),imageCol:{type:Object,default:()=>({cols:12,md:6,lg:4})}},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$t("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$t("fields.medias.edit-close"))??"",active:!1},totalElementCount:range(0,this.max)}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$store.getters.mediaLibraryAccessible&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$store.commit(MEDIA_LIBRARY.OPEN_MODAL),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),r=o.width,i=o.height;this.canvas.width=r,this.canvas.height=i,this.ctx.drawImage(this.img,o.x,o.y,r,i,0,0,r,i),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const r=this.allCrops[this.cropContext][o][0].ratio,i=this.media.width,n=this.media.height,l={x:i/2,y:n/2};let s=i,u=n;r>0&&r<1?(s=Math.floor(Math.min(n*r,i)),u=Math.floor(s/r)):r>=1&&(u=Math.floor(Math.min(i/r,n)),s=Math.floor(u*r));let c={x:0,y:0,width:s,height:u};c=cropConversion(c,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:c.width,height:c.height,minScale:1}));const p=Math.floor(l.x-s/2),f=Math.floor(l.y-u/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=p,e[o].y=f,e[o].width=s,e[o].height=u}Promise.all(a).then(o=>{let r=0;o.forEach(i=>{const n={x:i.topCrop.x,y:i.topCrop.y,width:i.topCrop.width,height:i.topCrop.height},l=e[Object.keys(e)[r]],s=cropConversion(n,this.originalDim,this.naturalDim);l.x=s.x,l.y=s.y,l.width=s.width,l.height=s.height,r++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",r=>{console.error(r),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI$1||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",r=>{a(r)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$j={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$f={class:"v-field__field","data-no-activator":""},_hoisted_3$f={class:"_media__field"},_hoisted_4$b={class:"media__img px-2 py-2"},_hoisted_5$9={key:0,class:"media__note f--small"},_hoisted_6$9=["name","value"],_hoisted_7$7={class:"v-field__outline"},_hoisted_8$6={class:"v-field__outline__notch"},_hoisted_9$5={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$o(e,a,o,r,i,n){const l=resolveDirective("fit-grid");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant,class:"v-input-image"},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$f,[createVNode(VHover,null,{default:withCtx(({isHovering:u,props:c})=>[createBaseVNode("div",mergeProps({class:["media w-100",{"media--slide":e.isSlide}]},c),[createBaseVNode("div",_hoisted_3$f,[createVNode(VRow,{dense:"",class:"","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.totalElementCount,p=>withDirectives((openBlock(),createBlock(VCol,mergeProps({key:p,ref_for:!0},o.imageCol),{default:withCtx(()=>[createVNode(VCard,{color:"",class:"w-100 d-flex flex-column justify-end",style:{"box-shadow":"unset"}},createSlots({default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:f,props:m})=>[e.input[p]!==void 0?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"d-flex flex-no-wrap",ref_for:!0},m,{"data-test":"imageCard"}),[createBaseVNode("div",_hoisted_4$b,[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:v})=>[createBaseVNode("div",mergeProps({class:"media__imgFrame",ref_for:!0},v),[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(n.cropThumbnailStyle)},[e.showImg?(openBlock(),createBlock(VImg,{key:0,src:e.input[p].thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass([n.cropThumbnailClass]),"max-width":"240"},null,8,["src","class"])):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createBlock(VOverlay,{key:0,"model-value":y,class:"align-end justify-end",contained:"",onClick:g=>n.openMediaLibrary(1,n.mediaKey,p),elevation:y?12:2},{default:withCtx(()=>[createVNode(VBtn,{icon:"$edit",size:"small",class:"mb-2 mr-2",color:"blue-lighten-5"})]),_:2},1032,["model-value","onClick","elevation"]))],16)]),_:2},1024)]),createVNode(VList,{lines:"one",class:normalizeClass([[!e.hover||f?"opacity-100":"opacity-70","w-50"],"w-50"]),style:{"min-width":"50px",transition:"opacity 250ms ease-in"}},{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:v})=>[createVNode(VListItem,mergeProps({ref_for:!0},v,{class:{"text-blue":y},title:e.input[p].name,onClick:g=>n.openMediaLibrary(1,n.mediaKey,p)}),null,16,["class","title","onClick"])]),_:2},1024),e.input[p].size?(openBlock(),createBlock(VListItem,{key:0,subtitle:"File size: {{ input[index].size }}"})):createCommentVNode("",!0),e.input[p].width+e.input[p].height?(openBlock(),createBlock(VListItem,{key:1,subtitle:`${e.$t("fields.medias.original-dimensions")}: ${e.input[p].width} × ${e.input[p].height}`},null,8,["subtitle"])):createCommentVNode("",!0)]),_:2},1032,["class"]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,style:{"min-width":"50px",transition:"opacity 250ms ease-in"},class:normalizeClass([!e.hover||f?"opacity-100":"opacity-10","d-flex justify-end ma-2"])},[createVNode(VBtn,{"data-test":"downloadButton",icon:"$download",color:"blue-lighten-5",rounded:"0",size:"small",href:e.input[p].original,download:""},null,8,["href"]),createVNode(VBtn,{"data-test":"cropButton",icon:"mdi-crop",color:"blue-lighten-5",rounded:"0",size:"small"}),createVNode(VBtn,{"data-test":"deleteButton",icon:"$delete",color:"blue-lighten-5",rounded:"0",size:"small",onClick:y=>n.deleteMediaClick(p,s.validate)},null,8,["onClick"])],2))],16)):createCommentVNode("",!0)]),_:2},1024)]),_:2},[e.input[p]===void 0?{name:"actions",fn:withCtx(()=>[createVNode(VBtn,{"data-test":"addButton","append-icon":"$add",variant:"outlined",block:"",onClick:a[0]||(a[0]=f=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1040)),[[l]])),128))]),_:2},1024),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_5$9,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(n.media),type:"hidden"},null,8,_hoisted_6$9)],16)]),_:2},1024)]),createBaseVNode("div",_hoisted_7$7,[a[2]||(a[2]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_8$6,[createBaseVNode("label",_hoisted_9$5,[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps({label:e.label})),()=>[createTextVNode(toDisplayString(e.boundProps.label),1)],!0)])]),a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const Image$1=_export_sfc(_sfc_main$r,[["render",_sfc_render$o],["__scopeId","data-v-d7ac9ab5"]]),__vite_glob_3_14=Object.freeze(Object.defineProperty({__proto__:null,default:Image$1},Symbol.toStringTag,{value:"Module"})),IS_SAFARI=navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,_sfc_main$q={name:"v-input-image",components:{},mixins:[mediaLibrayMixin,mediaFieldMixin],props:{...makeImageProps()},setup(e,a){return{...useImage(e,a)}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!0,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textOpen:(this==null?void 0:this.$trans("fields.medias.edit-info"))??"",textClose:(this==null?void 0:this.$trans("fields.medias.edit-close"))??"",active:!1}}},filters,computed:{...mapState({useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions}),cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia?this.media.crops?this.cropSrc.length===0?{}:{backgroundImage:`url(${this.cropSrc})`}:{}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};const e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){let e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.input[0]||{}},cropInfos:function(){const e=[];if(this.media.crops){for(const a in this.media.crops)if(this.media.crops[a].width+this.media.crops[a].height){let o="";o+=this.media.crops[a].name+" "+this.$trans("fields.medias.crop-list")+": ",o+=this.media.crops[a].width+"&nbsp;&times;&nbsp;"+this.media.crops[a].height,e.push(o)}}return e.length>0?e:null},hasMedia:function(){return this.input.length>0},cropperKey:function(){return`${this.mediaKey}-${this.index}_${this.cropContext}`},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return`${name}Modal`},...mapState({selectedMedias:e=>e.mediaLibrary.selected,allCrops:e=>e.mediaLibrary.crops})},watch:{media:function(e,a){this.hasMediaChanged=e!==a,Object.prototype.hasOwnProperty.call(this.selectedMedias,this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{openMediaLibrary:function(e=1,a=this.name,o=-1){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,a),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,this.mediaType),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,o),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,e),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$main()&&this.$main().$refs.mediaLibrary&&(__isset(this.$store.state.mediaLibrary.selected[a])&&(this.$store.state.mediaLibrary.selected[a]=[]),this.$store.state.mediaLibrary.selected[a]=this.input,this.$main().$refs.mediaLibrary.openModal(),this.$nextTick(()=>{this.mediableActive=!0}))},canvasCrop(){const e=this.media.crops[Object.keys(this.media.crops)[0]];if(!e)return;if(e.width+e.height===0){this.showDefaultThumbnail();return}let a=this.media.thumbnail;this.$nextTick(()=>{try{const o=cropConversion(e,this.naturalDim,this.originalDim),r=o.width,i=o.height;this.canvas.width=r,this.canvas.height=i,this.ctx.drawImage(this.img,o.x,o.y,r,i,0,0,r,i),a=this.canvas.toDataURL("image/png"),this.cropSrc!==a&&(this.showImg=!1,this.cropSrc=a)}catch(o){console.error(o),this.cropSrc!==a&&(this.showImg=!0,this.cropSrc=a)}})},setDefaultCrops:function(){const e={},a=[];if(Object.prototype.hasOwnProperty.call(this.allCrops,this.cropContext)){for(const o in this.allCrops[this.cropContext]){const r=this.allCrops[this.cropContext][o][0].ratio,i=this.media.width,n=this.media.height,l={x:i/2,y:n/2};let s=i,u=n;r>0&&r<1?(s=Math.floor(Math.min(n*r,i)),u=Math.floor(s/r)):r>=1&&(u=Math.floor(Math.min(i/r,n)),s=Math.floor(u*r));let c={x:0,y:0,width:s,height:u};c=cropConversion(c,this.naturalDim,this.originalDim),a.push(smartCrop.crop(this.img,{width:c.width,height:c.height,minScale:1}));const p=Math.floor(l.x-s/2),f=Math.floor(l.y-u/2);e[o]={},e[o].name=this.allCrops[this.cropContext][o][0].name||o,e[o].x=p,e[o].y=f,e[o].width=s,e[o].height=u}Promise.all(a).then(o=>{let r=0;o.forEach(i=>{const n={x:i.topCrop.x,y:i.topCrop.y,width:i.topCrop.width,height:i.topCrop.height},l=e[Object.keys(e)[r]],s=cropConversion(n,this.originalDim,this.naturalDim);l.x=s.x,l.y=s.y,l.width=s.width,l.height=s.height,r++})},o=>{console.error(o)})}},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){const e=()=>{this.setNaturalDimensions(),this.setOriginalDimensions(),this.mediaHasCrop?this.canvasCrop():this.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then(()=>{e()},a=>{console.error(a),this.showDefaultThumbnail(),this.$nextTick(()=>{const o=this.$refs.mediaImg;o?(o.addEventListener("load",()=>{this.img=o,e()},{once:!0,passive:!0,capture:!0}),o.addEventListener("error",r=>{console.error(r),this.showDefaultThumbnail()})):(this.showImg=!1,this.cropSrc=this.media.thumbnail)})}),this.hasMediaChanged=!1)},initImg:function(){return new Promise((e,a)=>{this.img=new Image,IS_SAFARI||(this.img.crossOrigin="Anonymous"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.img.addEventListener("load",()=>{e()},{once:!0,passive:!0,capture:!0}),this.img.addEventListener("error",r=>{a(r)});let o="?";this.media.thumbnail.indexOf("?")>-1&&(o="&"),this.img.src=this.media.thumbnail+o+"no-cache"})},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(e,a){this.deleteMedia(e),this.$nextTick(()=>a())},deleteMedia:function(e){let a=this.input;a.splice(e,1),this.input=a,__log(e,this.input,this.boundProps)},updateMetadata:function(e){this.$store.commit(MEDIA_LIBRARY.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},_hoisted_1$i={class:"v-field v-field--active v-field--center-affix v-field--dirty v-field--variant-outlined v-locale--is-ltr"},_hoisted_2$e={class:"v-field__field","data-no-activator":""},_hoisted_3$e={class:"media__field"},_hoisted_4$a={key:0,class:"media__info"},_hoisted_5$8={class:"media__img"},_hoisted_6$8={class:"media__imgFrame"},_hoisted_7$6=["src"],_hoisted_8$5=["onClick"],_hoisted_9$4={class:"media__edit--button"},_hoisted_10$4={symbol:"edit"},_hoisted_11$3=["onClick"],_hoisted_12$1={class:"media__delete--button"},_hoisted_13$1={key:0,class:"media__metadatas"},_hoisted_14$1=["onClick"],_hoisted_15$1=["title"],_hoisted_16={key:0,class:"f--small"},_hoisted_17={key:1,class:"f--small"},_hoisted_18={key:2,class:"media__note f--small"},_hoisted_19=["name","value"],_hoisted_20={class:"v-field__outline"},_hoisted_21={class:"v-field__outline__notch"},_hoisted_22={class:"v-label v-field-label v-field-label--floating","aria-hidden":"true",for:"input-29"};function _sfc_render$n(e,a,o,r,i,n){const l=resolveDirective("svg");return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[1]||(a[1]=s=>e.input=s),hideDetails:"auto",appendIcon:"mdi-close",variant:e.boundProps.variant},{default:withCtx(s=>[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",{class:normalizeClass(["media",{"media--hoverable":e.hover,"media--slide":e.isSlide}])},[createBaseVNode("div",_hoisted_3$e,[n.hasMedia?(openBlock(),createElementBlock("div",_hoisted_4$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.input,(u,c)=>(openBlock(),createElementBlock(Fragment,{key:c},[createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",{class:"media__imgCentered",style:normalizeStyle(n.cropThumbnailStyle)},[e.showImg?(openBlock(),createElementBlock("img",{key:0,src:u.thumbnail,ref_for:!0,ref:"mediaImg",class:normalizeClass(n.cropThumbnailClass)},null,10,_hoisted_7$6)):createCommentVNode("",!0)],4),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"media__edit",onClick:p=>n.openMediaLibrary(1,n.mediaKey,c)},[createBaseVNode("span",_hoisted_9$4,[withDirectives((openBlock(),createElementBlock("span",_hoisted_10$4,[createVNode(VIcon,{icon:"$edit"})])),[[l]])])],8,_hoisted_8$5)),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:"media__delete",onClick:p=>n.deleteMediaClick(c,s.validate)},[createBaseVNode("span",_hoisted_12$1,[createVNode(VIcon,{icon:"$delete"})])],8,_hoisted_11$3))])]),e.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("ul",_hoisted_13$1,[createBaseVNode("li",{class:"media__name",onClick:p=>n.openMediaLibrary(1,n.mediaKey,c)},[createBaseVNode("strong",{title:u.name},toDisplayString(u.name),9,_hoisted_15$1)],8,_hoisted_14$1),u.size?(openBlock(),createElementBlock("li",_hoisted_16,"File size: "+toDisplayString(u.size),1)):createCommentVNode("",!0),u.width+u.height?(openBlock(),createElementBlock("li",_hoisted_17,toDisplayString(e.$trans("fields.medias.original-dimensions"))+": "+toDisplayString(u.width)+" × "+toDisplayString(u.height),1)):createCommentVNode("",!0)])),a[2]||(a[2]=createBaseVNode("div",{class:"media__actions-dropDown"},null,-1))],64))),128))])):createCommentVNode("",!0),e.remainingItems?(openBlock(),createBlock(VBtn,{key:1,type:"button",onClick:a[0]||(a[0]=u=>n.openMediaLibrary(e.remainingItems))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addLabel),1)]),_:1})):createCommentVNode("",!0),this.$slots.default?(openBlock(),createElementBlock("p",_hoisted_18,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)]),createBaseVNode("input",{name:this.name,value:JSON.stringify(n.media),type:"hidden"},null,8,_hoisted_19)],2)]),createBaseVNode("div",_hoisted_20,[a[3]||(a[3]=createBaseVNode("div",{class:"v-field__outline__start"},null,-1)),createBaseVNode("div",_hoisted_21,[createBaseVNode("label",_hoisted_22,toDisplayString(e.boundProps.label),1)]),a[4]||(a[4]=createBaseVNode("div",{class:"v-field__outline__end"},null,-1))])])]),_:3},8,["modelValue","variant"])}const ImageOld=_export_sfc(_sfc_main$q,[["render",_sfc_render$n],["__scopeId","data-v-8cc5a462"]]),__vite_glob_3_15=Object.freeze(Object.defineProperty({__proto__:null,default:ImageOld},Symbol.toStringTag,{value:"Module"})),makeModalProps=propsFactory({modelValue:{type:Boolean,default:!1}}),ModalMixin={emits:["update:modelValue","confirm","cancel"],props:{cancelText:{type:String,default:""},confirmText:{type:String,default:""},...makeModalProps()},data(){return{id:Math.ceil(Math.random()*1e6)+"-modal"}},computed:{show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},methods:{setValue(e){this[e.target.name]=e.target.value},openModal(){this.show=!0},closeModal(){this.show=!1},cancelModal(e=null){typeof this.cancelCallback>"u"?this.closeModal():this.cancelCallback(),e&&e(),this.$emit("cancel")},confirmModal(e=null){typeof this.confirmCallback>"u"?e?e():this.closeModal():this.confirmCallback(),this.$emit("confirm")}},created(){}},_sfc_main$p={name:"v-input-locale",emits:[...makeInputEmits],mixins:[LocaleMixin],setup(e,a){return{...useInput(e,a)}},props:{...makeInputProps(),type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}}},watch:{modelValue(e){if(__isObject(e))for(const a in e)this.input[a]=e[a]},attributes:{handler(e,a){},deep:!0}},computed:{input:{get(){return this.modelValue},set(e,a){this.inputOnSet(e,a),this.updateModelValue(e)}},...mapState({currentLocale:e=>e.language.active,languages:e=>e.language.all}),attributesPerLang:function(){const e={},a=this.attributes.errorMessages;return this.languages.forEach(o=>{const r=cloneDeep(omit(this.attributes,["errorMessages"]));r.required=!!o.published&&this.isRequired,r.name=`${r.name}[${o.value}]`,__isset(a[o.value])&&(r.errorMessages=a[o.value],r.error=!1),this.input?r.modelValue=this.input[o.value]:r.default,e[o.value]=r}),e}},data(){return{isCustomForm:!1,isRequired:this.attributes.required,inputObject:this.modelValue}},mounted(){this.isCustomForm=this.$root.$refs.customForm!==void 0,this.isRequired=this.attributes.required??!1},created(){},methods:{attributesPerLang_:function(e){const a=this.languages.find(r=>r.value===e),o=cloneDeep(this.attributes);return o.required=!!a.published&&this.isRequired,o.name=`${o.name}[${e}]`,this.input&&(o.modelValue=this.input[e]),o},attributesNoLang:function(){const e=cloneDeep(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(LANGUAGE.SWITCH_LANG,{oldValue:e}),this.$nextTick(function(){})},updateValue:function(e,a){},modelUpdated(e,a){try{this.input&&__isset(this.input[a])?(this.input[a]=e,this.updateModelValue(this.input)):this.input&&!__isset(this.input[a])&&e?(this.input={},this.input[a]=e,this.updateModelValue(this.input)):!this.input&&e&&(this.input={})}catch{__log("catch",this.input,a,e)}}}},_hoisted_1$h={class:"locale"};function _sfc_render$m(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$h,[e.languages&&e.languages.length&&e.languages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.languages,l=>(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:l.value,ref_for:!0},n.attributesPerLang[`${l.value}`],{class:[l.value===e.currentLocale.value||i.isCustomForm?"":"d-none"],"onUpdate:modelValue":s=>n.modelUpdated(s,l.value)}),{appendx:withCtx(()=>[e.languages.length>1?(openBlock(),createBlock(VChip,{key:0,onClick:a[0]||(a[0]=s=>n.updateLocale(e.currentLocale))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale)+" ",1),createVNode(VTooltip,{activator:"parent",location:"top"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.switch-language")),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),label:withCtx(s=>[createTextVNode(toDisplayString(s.label)+" ",1),s.label&&s.isActive&&(s.isActive.value||s.isFocused.value)?(openBlock(),createBlock(VChip,{key:0,style:{"font-size":"var(--v-field-label-scale)",height:"calc(var(--v-field-label-scale) * 1.5)"},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):s.label&&!e.$isset(s.isActive)?(openBlock(),createBlock(VChip,{key:1,style:{},size:"x-small",density:"compact",color:"primary",class:"ml-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.displayedLocale),1)]),_:1})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:2},1040,["class","onUpdate:modelValue"]))),128)):(openBlock(),createBlock(resolveDynamicComponent(`${o.type}`),mergeProps({key:1,name:o.attributes.name},n.attributesNoLang(),{onChange:a[1]||(a[1]=l=>n.updateValue(!1,...arguments)),onBlur:a[2]||(a[2]=l=>e.$emit("blur")),onFocus:a[3]||(a[3]=l=>e.$emit("focus"))}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:3},16,["name"]))])}const Locale=_export_sfc(_sfc_main$p,[["render",_sfc_render$m],["__scopeId","data-v-38020bfc"]]),__vite_glob_3_16=Object.freeze(Object.defineProperty({__proto__:null,default:Locale},Symbol.toStringTag,{value:"Module"}));function getCountry(){return fetch("https://ip2c.org/s").then(e=>e.text()).then(e=>{const a=(e||"").toString();if(!a||a[0]!=="1")throw new Error("unable to fetch the country");return a.substr(2,2)})}function setCaretPosition(e,a){if(e.setSelectionRange)e.focus(),e.setSelectionRange(a,a);else if(e.createTextRange){const o=e.createTextRange();o.collapse(!0),o.moveEnd("character",a),o.moveStart("character",a),o.select()}}const allCountries=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]].map(e=>({name:e[0],iso2:e[1].toUpperCase(),dialCode:e[2],priority:e[3]||0,areaCodes:e[4]||null})),defaultOptions={placeholder:"Enter a phone number",label:"Enter a Phone Number",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,mode:"international",invalidMsg:"",required:!1,allCountries,defaultCountry:"tr",enabledCountryCode:!1,enabledFlags:!0,preferredCountries:[],onlyCountries:[],ignoredCountries:[],autofocus:!1,autocomplete:"on",name:"telephone",wrapperClasses:"",inputClasses:"",inputId:"",dropdownOptions:{},inputOptions:{},maxLen:25,dynamicPlaceholder:!1},Phone$1={options:{...defaultOptions}};function getDefault(e){return Phone$1.options[e]}function getParents(e,a){const o=a||[],{parentNode:r}=e;return r?getParents(r,o.concat(r)):o}const _sfc_main$o={emits:[...makeInputEmits,"country-changed","validate","onValidate","keydown","mousedown","mouseup","input","change","focus","blur","click","space","onInput","onSpace","onBlur","onMouseup","onMousedown"],directives:{"click-outside":{bind(e,a,o){if(typeof a.value!="function"){const n=o.context.name;let l=`[Vue-click-outside:] provided expression ${a.expression} is not a function, but has to be`;n&&(l+=`Found in component ${n}`),console.warn(l)}const{bubble:r}=a.modifiers,i=n=>{const l=n.path||(n.composedPath?n.composedPath():!1)||getParents(n.target);(r||l.length&&!e.contains(l[0])&&e!==l[0])&&a.value(n)};e.__vueClickOutside__=i,document.addEventListener("click",i)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},props:{...makeInputProps(),invalidMsg:{type:String,default:()=>getDefault("invalidMsg")},mode:{type:String,default:()=>getDefault("mode")},disabled:{type:Boolean,default:!1},disabledFetchingCountry:{type:Boolean,default:()=>getDefault("disabledFetchingCountry")},allCountries:{type:Array,default:()=>getDefault("allCountries")},defaultCountry:{type:String,default:()=>getDefault("defaultCountry")},preferredCountries:{type:Array,default:()=>getDefault("preferredCountries")},onlyCountries:{type:Array,default:()=>getDefault("onlyCountries")},ignoredCountries:{type:Array,default:()=>getDefault("ignoredCountries")}},setup(e,a){return{...useInput(e,a)}},data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:{handler(e){e&&e!==this.activeCountry&&this.choose(e,!0)},deep:!0},lastValidCountry:null,data(){return{phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:null,phoneRule:e=>e?PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON().valid||"Geçersiz telefon numarası":"Telefon Numarası gerekli"}}}},computed:{parsedMode(){if(this.mode)if(!["international","national"].includes(this.mode))console.error('Invalid value of prop "mode"');else return this.mode;return!this.phone||this.phone[0]!=="+"?"national":"international"},filteredCountries(){return this.onlyCountries.length?this.getCountries(this.onlyCountries):this.ignoredCountries.length?this.allCountries.filter(({iso2:e})=>!this.ignoredCountries.includes(e.toUpperCase())&&!this.ignoredCountries.includes(e.toLowerCase())):this.allCountries},sortedCountries(){return[...this.getCountries(this.preferredCountries).map(a=>({...a,preferred:!0})),...this.filteredCountries]},phoneObject(){const e=PhoneNumber(this.phone||"",this.activeCountry.iso2).toJSON();return Object.assign(e,{isValid:e.valid,country:this.activeCountry}),this.phone?e:{...e,number:{_phone:""}}},phoneText(){let e="_phone";return this.phoneObject.isValid?e=this.parsedMode:this.boundProps.validate=!1,this.phoneObject.number[e]||""}},watch:{"phoneObject.valid":function(e){e&&(this.phone=this.phoneText,this.lastValidCountry={...this.activeCountry}),this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)},modelValue(e,a){__isString(e)&&(this.phone=this.modelValue)},open(e){e?this.$emit("open"):this.$emit("close")},phone:{handler(e,a){if(e){if(e[0]==="+"){const o=PhoneNumber(e).getRegionCode();if(o){const r=this.findCountry(o);r&&(this.activeCountry=r,this.countryCode=r)}}else for(const o of this.sortedCountries)if(PhoneNumber(e,o.iso2).valid){this.activeCountry=o,this.countryCode=o;break}}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},immediate:!0},activeCountry(e){e&&e.iso2&&(this.boundProps.placeholder=awesomePhonenumberExports.getExample(e.iso2).toJSON().number.national,this.boundProps.persistentPlaceholder=!0,this.$emit("country-changed",e))},countryCode(e,a){this.choose(e,!0)}},mounted(){this.$watch(`$refs.${this.getReference("countryInput")}.isResetting`,e=>e&&this.reset()),(!this.activeCountry||!this.activeCountry.iso2)&&this.reset()},created(){if(this.modelValue&&(this.phone=this.modelValue.trim(),this.phone[0]==="+")){const e=PhoneNumber(this.phone).getRegionCode();if(e){const a=this.findCountry(e);a&&(this.activeCountry=a,this.countryCode=a)}}__isset(this.boundProps.rules)||(this.boundProps.rules=[]),this.boundProps.rules.push(this.phoneRule)},methods:{inputOnSet(e,a){if((e||__isString(e))&&e[0]==="+"){const o=PhoneNumber(e).getRegionCode();o&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}a&&this.cursorPosition<a.length&&this.$nextTick(()=>{setCaretPosition(this.$refs[this.getReference("phoneInput")],this.cursorPosition)}),this.updateModelValue(this.phoneText)},initializeCountry(){return new Promise(e=>{if(this.phone&&this.phone[0]==="+"){const o=PhoneNumber(this.input).getRegionCode();if(o){this.choose(o),e();return}}if(this.defaultCountry){const o=this.findCountry(this.defaultCountry);if(o){this.choose(o),e();return}}const a=this.findCountry(this.preferredCountries[0])||this.filteredCountries[0];this.disabledFetchingCountry?(this.choose(a),e()):getCountry().then(o=>{this.phone===""&&(this.activeCountry=this.findCountry(o)||this.activeCountry)}).catch(o=>{console.warn(o),this.choose(a)}).finally(()=>{e()})})},getCountries(e=[]){return e.map(a=>this.findCountry(a)).filter(Boolean)},findCountry(e=""){return this.allCountries.find(a=>a.iso2===e.toUpperCase())},getItemClass(e,a){const o=this.selectedIndex===e,r=e===this.preferredCountries.length-1,i=this.preferredCountries.some(n=>n.toUpperCase()===a);return{highlighted:o,"last-preferred":r,preferred:i}},choose(e,a=!1){if(this.activeCountry=e||this.activeCountry||{},this.phone&&this.phone[0]==="+"&&this.activeCountry.iso2&&this.phoneObject.number.significant){const o=PhoneNumber(this.phoneObject.number.significant,this.activeCountry.iso2);o.valid&&(this.phone=o.getNumber("international"))}else this.inputOptions&&this.inputOptions.showDialCode&&e&&e.dialCode&&(this.phone=`+${e.dialCode}`);this.countryCode=this.activeCountry,a&&(this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject))},reset(){this.activeCountry&&this.activeCountry.iso2&&(this.countryCode=this.activeCountry),this.initializeCountry().then(()=>{!this.phone&&this.inputOptions&&this.inputOptions.showDialCode&&this.activeCountry.dialCode&&(this.phone=`+${this.activeCountry.dialCode}`),this.countryCode=this.activeCountry,this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)}).catch(console.error).finally(()=>{this.finishMounted=!0}),this.open=!1},onInput(e){e&&e.target&&(this.cursorPosition=e.target.selectionStart)},onBlur(){this.$emit("blur"),this.$emit("onBlur")},onFocus(e){this.$emit("focus",e)},onClick(e){this.$emit("click",e)},onChange(e){this.$emit("change",e)},onMouseUp(e){this.$emit("mouseup",e)},onMouseDown(e){this.$emit("mousedown",e)},onKeyDown(e){this.$emit("keydown",e)},onEnter(){this.$emit("enter"),this.$emit("onEnter")},onSpace(){this.$emit("space"),this.$emit("onSpace")},focus(){this.$refs[this.getReference("phoneInput")].focus()},toggleDropdown(){this.disabled||(this.open=!this.open)},clickedOutside(){this.open=!1},keyboardNav(e){if(e.keyCode===40){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=0:this.selectedIndex=Math.min(this.sortedCountries.length-1,this.selectedIndex+1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop+a.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight&&(this.$refs.list.scrollTop=a.offsetTop-this.$refs.list.clientHeight+a.clientHeight)}else if(e.keyCode===38){e.preventDefault(),this.open=!0,this.selectedIndex===null?this.selectedIndex=this.sortedCountries.length-1:this.selectedIndex=Math.max(0,this.selectedIndex-1);const a=this.$refs.list.children[this.selectedIndex];a.offsetTop<this.$refs.list.scrollTop&&(this.$refs.list.scrollTop=a.offsetTop)}else if(e.keyCode===13)this.selectedIndex!==null&&this.choose(this.sortedCountries[this.selectedIndex]),this.open=!this.open;else{this.typeToFindInput+=e.key,clearTimeout(this.typeToFindTimer),this.typeToFindTimer=setTimeout(()=>{this.typeToFindInput=""},700);const a=this.sortedCountries.slice(this.preferredCountries.length).findIndex(o=>o.name.toLowerCase().startsWith(this.typeToFindInput));if(a>=0){this.selectedIndex=this.preferredCountries.length+a;const o=this.$refs.list.children[this.selectedIndex],r=o.offsetTop<this.$refs.list.scrollTop,i=o.offsetTop+o.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight;(r||i)&&(this.$refs.list.scrollTop=o.offsetTop-this.$refs.list.clientHeight/2)}}}}};function _sfc_render$l(e,a,o,r,i,n){return openBlock(),createBlock(VRow,{"no-gutters":"",class:normalizeClass(["vue-tel-input-vuetify flex-nowrap",e.$lodash.pick(e.boundProps,["wrapperClasses"])??e.getDefault("wrapperClasses")])},{default:withCtx(()=>[createVNode(VAutocomplete,mergeProps({class:"flex-grow-0 flex-shrink-1",ref:e.makeReference("countryInput"),modelValue:i.countryCode,"onUpdate:modelValue":a[0]||(a[0]=l=>i.countryCode=l)},e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{items:n.sortedCountries,"item-title":"name","item-value":"iso2","menu-props":{maxHeight:200},autocomplete:"off","return-object":"","onUpdate:modelValue":n.choose,disabled:o.disabled}),{selection:withCtx(()=>[i.activeCountry&&i.activeCountry.iso2?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([i.activeCountry.iso2.toLowerCase(),"vti__flag"])},null,2)):createCommentVNode("",!0)]),item:withCtx(({item:l,props:s})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(s)),{prepend:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([l.raw.iso2.toLowerCase(),"vti__flag"])},null,2)]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(" +"+toDisplayString(l.raw.dialCode),1)]),_:2},1024)]),_:2},1040)]),_:1},16,["modelValue","items","onUpdate:modelValue","disabled"]),createVNode(VTextField,mergeProps({ref:e.makeReference("phoneInput"),type:"tel",class:"flex-grow-1 flex-shrink-0",modelValue:i.phone,"onUpdate:modelValue":a[1]||(a[1]=l=>i.phone=l)},e.boundProps,{onInput:n.onInput,onBlur:n.onBlur,onFocus:n.onFocus,onClick:n.onClick,onChange:n.onChange,onMousedown:n.onMouseDown,onMouseup:n.onMouseUp,onKeydown:n.onKeyDown,onKeyup:[withKeys(n.onEnter,["enter"]),withKeys(n.onSpace,["space"])],disabled:o.disabled}),null,16,["modelValue","onInput","onBlur","onFocus","onClick","onChange","onMousedown","onMouseup","onKeydown","onKeyup","disabled"])]),_:1},8,["class"])}const Phone=_export_sfc(_sfc_main$o,[["render",_sfc_render$l]]),__vite_glob_3_18=Object.freeze(Object.defineProperty({__proto__:null,default:Phone},Symbol.toStringTag,{value:"Module"})),_sfc_main$n={name:"ue-currency-number",props:{modelValue:Number,errorMessages:{type:Array,default:()=>[]}},setup(e,a){return{...useCurrencyNumber(e)}},created(){}};function _sfc_render$k(e,a,o,r,i,n){return openBlock(),createBlock(VTextField,mergeProps({ref:"inputRef",modelValue:e.formattedValue,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formattedValue=l)},{...e.$bindAttributes(e.$lodash.pick(e.$attrs,["label","error"]))},{errorMessages:o.errorMessages}),createSlots({_:2},[renderList(e.$slots,(l,s)=>({name:s,fn:withCtx(u=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(u)))])}))]),1040,["modelValue","errorMessages"])}const CurrencyNumber=_export_sfc(_sfc_main$n,[["render",_sfc_render$k]]),_sfc_main$m={name:"v-input-price",emits:[...makeInputEmits],components:{CurrencyNumber},props:{...makeInputProps(),modelValue:{type:[Array,Object],default(){return[{[this.priceInputName]:1,currency_id:1,vat_rate_id:1,price_type_id:1,raw_amount:1,discount_percentage:0}]}},priceInputName:{type:String},currencyInputName:{type:String,default:"currency_id"},numberMultiplier:{type:Number,default:100},items:{type:Array},vatRates:{type:Array,default:()=>[]},rules:{type:Array,default:()=>[]},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasDiscount:{type:Boolean,default:!1}},setup(e,a){const o=useInput(e,a),r=ref(Array.isArray(e.modelValue)?e.modelValue.map(u=>u):[e.modelValue]),i=ref(r.value.map(u=>[])),n=reactive(new Map);return{...o,deepModel:r,inputRefs:n,setInputRef:(u,c)=>{c?n.set(u,c):n.delete(u)},getInputRef:u=>n.get(u),errorMessages:i}},data(){return{}},methods:{changeCurrency(e,a){if(this.readonly)return;const o=this.currencies.findIndex(r=>r.id===this.modelValue[a][this.currencyInputName]);this.deepModel[a][this.currencyInputName]=o===this.totalCurrencies-1?this.currencies[0].id:this.currencies[o+1].id},updateNumberInput(e,a){this.deepModel[a][this.priceInputName]=e,this.$nextTick(()=>{try{let o=this.inputRefs.get(a);this.errorMessages[a]=o.errorMessages}catch(o){console.error(o)}})},updateVatRate(e,a){this.deepModel[a].vat_rate_id=e},updateModelValue(){this.$emit("update:modelValue",this.deepModel.map(e=>e))},displayFormattedPrice(e,a){var l;const o=((l=this.$lodash.find(this.vatRates,["value",a.vat_rate_id]))==null?void 0:l.rate)/100,r=(a.discount_percentage||0)/100,i=a[this.priceInputName],n=(Math.round(i*(1-r))*(1+o)).toFixed(2);try{return Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(n)}catch(s){console.log(s)}return e+" "+n}},watch:{modelValue:{deep:!0,handler(e,a){e?this.deepModel=Array.isArray(e)?e.map(o=>o):[e]:this.deepModel=[{[this.priceInputName]:1,currency_id:1}]}},deepModel:{deep:!0,handler(e){}}},computed:{currencies(){return this.items},displayedCurrency(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).name)},displayedCurrencyISO4217(){return this.deepModel.map((e,a)=>this.currencies.find(o=>o.id===e[this.currencyInputName]).iso)},totalCurrencies(){return this.currencies.length}},created(){}},_hoisted_1$g={class:"d-flex w-100 ga-2"},_hoisted_2$d={key:0,class:"w-100 d-flex justify-center"},_hoisted_3$d={class:"text-h2 text-white font-weight-bold"};function _sfc_render$j(e,a,o,r,i,n){const l=resolveComponent("CurrencyNumber");return openBlock(!0),createElementBlock(Fragment,null,renderList(r.deepModel,(s,u)=>(openBlock(),createElementBlock(Fragment,{key:`price-${u}`},[createBaseVNode("div",_hoisted_1$g,[createVNode(VInput,mergeProps({ref_for:!0,ref:c=>r.setInputRef(u,c),modelValue:r.deepModel[u][o.priceInputName],"onUpdate:modelValue":c=>r.deepModel[u][o.priceInputName]=c,class:"v-input-price"},{...e.$lodash.pick(e.$attrs,["error","errorMessages"])},{rules:o.rules,"hide-details":""}),{default:withCtx(c=>[createVNode(l,mergeProps({class:"flex-grow-1",ref_for:!0},{label:e.label,...e.$attrs},{name:`${e.$attrs.name}-${u}`,modelValue:r.deepModel[u][o.priceInputName],"onUpdate:modelValue":p=>n.updateNumberInput(p,u),readonly:o.readonly,errorMessages:r.errorMessages[u]}),{"append-inner":withCtx(({isActive:p,isFocused:f,controlRef:m,focus:y,blur:v})=>[createVNode(VChip,{onClick:g=>n.changeCurrency(g,u)},{default:withCtx(()=>[createTextVNode(toDisplayString(n.displayedCurrency[u]),1)]),_:2},1032,["onClick"])]),_:2},1040,["name","modelValue","onUpdate:modelValue","readonly","errorMessages"])]),details:withCtx(()=>[createTextVNode(toDisplayString(r.errorMessages[u]),1)]),_:2},1040,["modelValue","onUpdate:modelValue","rules"]),withDirectives(createVNode(VSelect,mergeProps({ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("VAT Rate"),items:o.vatRates,class:"flex-grow-0",modelValue:r.deepModel[u].vat_rate_id,"onUpdate:modelValue":c=>r.deepModel[u].vat_rate_id=c}),null,16,["label","items","modelValue","onUpdate:modelValue"]),[[vShow,o.vatRates.length>0]]),o.hasDiscount?(openBlock(),createBlock(VNumberInput,mergeProps({key:0,modelValue:r.deepModel[u].discount_percentage,"onUpdate:modelValue":c=>r.deepModel[u].discount_percentage=c,ref_for:!0},{...e.$lodash.pick(e.$attrs,["density","color","clearable","variant"])},{label:e.$t("Discount %"),"control-variant":"stacked",min:0,max:100,rules:[]}),null,16,["modelValue","onUpdate:modelValue","label"])):createCommentVNode("",!0)]),o.vatRates.length>0?(openBlock(),createElementBlock("div",_hoisted_2$d,[createVNode(VCard,{class:"w-75",color:"success",rounded:"lg",elevation:"0"},{default:withCtx(()=>[createVNode(VCardText,{class:"text-center py-6"},{default:withCtx(()=>[a[0]||(a[0]=createBaseVNode("div",{class:"text-h6 text-white mb-2"},"Total Pay",-1)),createBaseVNode("div",_hoisted_3$d,toDisplayString(n.displayFormattedPrice(n.displayedCurrencyISO4217[u],r.deepModel[u])),1)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)],64))),128)}const Price=_export_sfc(_sfc_main$m,[["render",_sfc_render$j]]),__vite_glob_3_19=Object.freeze(Object.defineProperty({__proto__:null,default:Price},Symbol.toStringTag,{value:"Module"})),_sfc_main$l={name:"v-input-process",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),color:{type:String,default:"primary"},cardVariant:{type:String,default:"outlined"},process:{type:Object},processableTitle:{type:String,default:"name"},processableDetails:{type:Array,default:()=>[]},schema:{type:Object},formatters:{type:Object,default:()=>{}},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},processableEditableRoles:{type:[Array,Object],default:()=>["superadmin"]},processEditableRoles:{type:Array,default:()=>["superadmin"]},processableShowStatuses:{type:[Array,Object],default:()=>["*"]},actionRoles:{type:Object,default:()=>{}},displayColRatio:{type:Array,default:()=>[5,7]},historyColRatio:{type:Array,default:null},statusConfiguration:{type:Object,default:()=>{},value:()=>({preparing:{title:"Preparing",icon:"mdi-progress-clock",color:"secondary",card_color:"grey",card_variant:"outlined",next_action_label:"Preparing",next_action_color:"secondary",dialog_title:"Preparing",dialog_message:"The contents are being prepared or updated. Please check back later.",dialog_confirm_text:"Preparing",dialog_cancel_text:"The contents are being prepared or updated. Please check back later.",response_message:"The contents are being prepared or updated. Please check back later."}})},responseLocation:{type:String,default:"top"}},setup(e,a){var G;const{t:o}=useI18n(),r=useStore(),{hasRoles:i}=useAuthorization(),n=useDynamicModal(),u=useInput(e,{...a,initializeInput:x=>x,updateModelValue:x=>{a.emit("update:modelValue",x)}}),c=ref(e.process),p=ref(((G=e.process)==null?void 0:G.processable)??null),f=ref(!1),m=ref(!1),y=()=>{let x={},U=lodash.get(c.value,"processable",{});if(e.schema&&__isObject(e.schema)&&(x=e.schema,e.formatters&&__isObject(e.formatters))){for(const[I,j]of Object.entries(e.formatters))if(x[I])for(const[K,q]of Object.entries(j)){let H=q;__isString(q)&&(H=q.split(","));let[W,X]=H;if(__isset(U[W])){let Y=U[W];__isset(Y[X])&&(x[I][K]=Y[X])}}}return x},v=ref(!e.process),g=ref(!1),b=ref(null),k=ref(!1),C=ref(e.process?y():null),w=computed(()=>{var x;return((x=b.value)==null?void 0:x.validModel)??null}),V=()=>{C.value=y()},T=ref(""),S=ref(!1),A=(x,U)=>{var H,W;let I=o("Are you sure you want to update the process?"),j=o("This action cannot be undone.");e.statusConfiguration&&e.statusConfiguration[x]&&e.statusConfiguration[x].dialog_title?I=e.statusConfiguration[x].dialog_title:(H=c.value)!=null&&H.status_dialog_titles&&c.value.status_dialog_titles[x]&&(I=c.value.status_dialog_titles[x]),e.statusConfiguration&&e.statusConfiguration[x]&&e.statusConfiguration[x].dialog_message?j=e.statusConfiguration[x].dialog_message:(W=c.value)!=null&&W.status_dialog_messages&&c.value.status_dialog_messages[x]&&(j=c.value.status_dialog_messages[x]);let K=N(x,"dialog_confirm_text",o("Yes")),q=N(x,"dialog_cancel_text",o("No"));n.open(null,{modalProps:{widthType:"md",title:I,description:j,confirmText:K,cancelText:q,titleJustify:"center",confirmCallback:async()=>{await U()}}})},D=()=>{if(u.input.value>0&&!e.process){const x=e.fetchEndpoint.replace(":id",u.input.value);v.value=!0,axios.get(x).then(U=>{var I;v.value=!1,U.status===200&&(c.value=U.data,p.value=((I=c.value)==null?void 0:I.processable)??{},V(),nextTick().then(async()=>{b.value&&(await b.value.validate(),await b.value.VForm.resetValidation(),m.value=b.value.validModel)}))}).catch(U=>{}).finally(()=>{v.value=!1})}},P=async x=>{if(u.input.value){if(z.value&&(await b.value.validate(),!b.value.validModel)){r.commit(ALERT$1.SET_ALERT,{message:o("Please fill all the required fields"),variant:"error",location:"top",timeout:2e3});return}g.value=!0;const U=e.updateEndpoint.replace(":id",u.input.value),I={status:x,reason:T.value};axios.put(U,I).then(j=>{var K,q;if(j.status===200){S.value=!1,T.value="";let H=j.data.process_status,W=((q=(K=e.statusConfiguration)==null?void 0:K[H])==null?void 0:q.response_message)??j.data.message;r.commit(ALERT$1.SET_ALERT,{message:W,variant:j.data.variant,location:e.responseLocation}),D()}}).finally(()=>{g.value=!1})}},N=(x,U,I=null)=>e.statusConfiguration&&e.statusConfiguration[x]&&e.statusConfiguration[x][U]?e.statusConfiguration[x][U]:I,$=async x=>{A(x,()=>P(x))},F=x=>!e.actionRoles[x]||i(e.actionRoles[x]),E=()=>{var U;let x=e.processableEditableRoles;return __isString(x)&&x==="*"?["*"]:Array.isArray(x)&&x.includes("*")?["*"]:Array.isArray(x)?x:__isObject(x)?x[(U=c.value)==null?void 0:U.status]??[]:[]},z=computed(()=>{let x=E();return Array.isArray(x)&&x.includes("*")?!0:i(x)}),B=x=>{let U=e.processableShowStatuses;if(__isString(U)&&U==="*"||Array.isArray(U)&&U.includes("*"))return!0;if(!(x!=null&&x.status))return!1;const I=x.status;if(__isObject(U)){for(const[j,K]of Object.entries(U))if(I===j&&(__isString(K)&&K==="*"||Array.isArray(K)&&K.includes("*")||i(K)))return!0}else if(Array.isArray(U)&&U.includes(x==null?void 0:x.status))return!0;return!1},O=computed(()=>B(c.value)),M=computed(()=>{var x;return(x=c.value)!=null&&x.status?c.value.status_informational_message:o("The contents are being prepared or updated. Please check back later.")}),L=reactive({loading:v,updating:g,UeForm:b,formActive:k,formIsValid:w,processableModel:p,processValid:f,processableValid:m,hasProcessableEditing:z,showProcessableDetails:O,informationalMessage:M,reason:T,promptModalActive:S,title:computed(()=>{var x;return(x=c.value)!=null&&x.processable?lodash.get(c.value.processable,e.processableTitle,""):null}),flattenedProcessableDetails:computed(()=>{var I;const x=((I=c.value)==null?void 0:I.processable)??{};let U=[];for(const j of e.processableDetails)__isset(j.field)&&__isset(j.title)&&U.push({title:o(j.title),value:lodash.get(x,j.field,"")});return U}),bothFormAndProcessableValid:computed(()=>m.value&&w.value),onlyOneValid:computed(()=>m.value&&!w.value||!m.value&&w.value),status:computed(()=>{var I,j,K,q,H,W,X,Y,Q,Z,J,ee,ae,oe,ne,re,ie,le,se,de;const x={label:"",icon:"",color:"",card_color:"",card_variant:"outlined",next_action_label:"",next_action_color:"",dialog_title:"",dialog_message:"",response_message:null};if(!c.value)return x;let U=c.value;return x.label=((j=(I=e.statusConfiguration)==null?void 0:I[U.status])==null?void 0:j.title)??U.status_label,x.icon=((q=(K=e.statusConfiguration)==null?void 0:K[U.status])==null?void 0:q.icon)??U.status_icon,x.color=((W=(H=e.statusConfiguration)==null?void 0:H[U.status])==null?void 0:W.color)??U.status_color,x.card_color=((Y=(X=e.statusConfiguration)==null?void 0:X[U.status])==null?void 0:Y.card_color)??U.status_card_color??e.color,x.card_variant=((Z=(Q=e.statusConfiguration)==null?void 0:Q[U.status])==null?void 0:Z.card_variant)??U.status_card_variant??e.cardVariant,x.next_action_label=((ee=(J=e.statusConfiguration)==null?void 0:J[U.status])==null?void 0:ee.next_action_label)??U.next_action_label,x.next_action_color=((oe=(ae=e.statusConfiguration)==null?void 0:ae[U.status])==null?void 0:oe.next_action_color)??U.next_action_color,x.dialog_title=((re=(ne=e.statusConfiguration)==null?void 0:ne[U.status])==null?void 0:re.dialog_title)??U.status_dialog_title,x.dialog_message=((le=(ie=e.statusConfiguration)==null?void 0:ie[U.status])==null?void 0:le.dialog_message)??U.status_dialog_message,x.response_message=(de=(se=e.statusConfiguration)==null?void 0:se[U.status])==null?void 0:de.response_message,x})}),R=reactive({setSchema:V,canAction:F,fetchProcess:D,updateProcess:P,confirmUpdateProcess:$,getStatusConfigurationValue:N});return onMounted(()=>{D()}),{...u,...toRefs(L),formSchema:C,processModel:c,...toRefs(R)}},watch:{input:{handler(e,a){},immediate:!0},processableModel:{handler(e){e&&this.$nextTick(()=>{})},immediate:!0}},methods:{async updateProcessable(){if(this.input){let e={...this.$lodash.omit(this.UeForm.model,["id"])};const a=this.updateEndpoint.replace(":id",this.input),o=this;axios.put(a,e).then(r=>{r.data.variant==="success"&&(o.$store.commit(ALERT$1.SET_ALERT,{message:r.data.message,variant:r.data.variant}),o.$refs.formModal&&typeof o.$refs.formModal.close=="function"&&o.$refs.formModal.close(),o.fetchProcess())})}}}},_hoisted_1$f={key:0,class:"text-subtitle-1 mb-4"};function _sfc_render$i(e,a,o,r,i,n){const l=resolveComponent("ue-form"),s=resolveComponent("v-btn-secondary"),u=resolveComponent("v-btn-primary"),c=resolveComponent("ue-modal"),p=resolveComponent("ue-list-section"),f=resolveComponent("ue-filepond-preview"),m=resolveComponent("ue-title");return openBlock(),createElementBlock("div",null,[r.formSchema&&e.processableModel?(openBlock(),createBlock(c,{key:0,ref:"formModal",modelValue:e.formActive,"onUpdate:modelValue":a[3]||(a[3]=y=>e.formActive=y),scrollablex:"",transition:"dialog-bottom-transition","width-type":"md",full:"",eager:""},{body:withCtx(y=>[createVNode(VCard,{class:"fill-height d-flex flex-column"},{default:withCtx(()=>[createVNode(l,{ref:"UeForm",modelValue:e.processableModel,"onUpdate:modelValue":a[0]||(a[0]=v=>e.processableModel=v),schema:r.formSchema,title:e.title,style:normalizeStyle(y.isFullActive?"height: 90vh !important;":"height: 70vh !important;"),"is-editing":"","fill-height":"",scrollable:"","has-divider":""},null,8,["modelValue","schema","title","style"]),createVNode(VDivider,{class:"mx-6 mt-4"}),createVNode(VCardActions,{class:"px-6 flex-grow-0"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(s,{slim:!1,variant:"outlined",onClick:a[1]||(a[1]=v=>e.$refs.formModal.close())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Close")),1)]),_:1}),e.$store.getters.isSuperAdmin?(openBlock(),createBlock(s,{key:0,slim:!1,variant:"outlined",onClick:a[2]||(a[2]=v=>e.UeForm.validate())},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Validate")),1)]),_:1})):createCommentVNode("",!0),createVNode(u,{slim:!1,variant:"elevated",onClick:n.updateProcessable,disabled:!e.formIsValid},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("fields.save")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:2},1024)]),_:1},8,["modelValue"])):createCommentVNode("",!0),createVNode(VCard,{color:e.status.card_color,variant:e.status.card_variant,class:"mb-4 w-100 h-100 d-flex flex-column"},{default:withCtx(()=>[e.loading?(openBlock(),createBlock(VSkeletonLoader,{key:0,type:"table-heading, list-item-three-line",class:"mb-4 w-100 h-100",style:{"min-height":"300px"}})):r.processModel?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(VCardText,{class:"d-flex flex-column"},{default:withCtx(()=>{var y;return[createVNode(VRow,{"no-gutters":"",class:"pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"7",xl:"8",class:"text-h5 font-weight-medium text-wrap"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1}),createVNode(VCol,{cols:"12",sm:"6",md:"6",lg:"5",xl:"4",class:"d-flex justify-sm-end"},{default:withCtx(()=>[createVNode(VChip,{"prepend-icon":e.status.icon,color:e.status.color,class:"text-subtitle-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.status.label),1)]),_:1},8,["prepend-icon","color"])]),_:1})]),_:1}),createVNode(VSpacer,{class:"flex-grow-0"}),e.hasProcessableEditing?(openBlock(),createBlock(VRow,{key:0},{default:withCtx(()=>[r.formSchema&&e.processableModel?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[createVNode(VBtn,{ref:"editButton",colorx:"primary",density:"compact",variant:e.bothFormAndProcessableValid?"outlined":"elevated",elevation:e.bothFormAndProcessableValid?null:10,color:e.bothFormAndProcessableValid?"success":e.onlyOneValid?"warning":"secondary","prepend-icon":e.bothFormAndProcessableValid?"mdi-check-circle-outline":e.onlyOneValid?"mdi-progress-question":"mdi-gesture-tap",onClick:a[4]||(a[4]=v=>e.$log("edit",e.$refs.formModal.open())),class:"mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.bothFormAndProcessableValid?e.$t("Edit"):e.onlyOneValid?e.$t("Complete"):e.$t("Fill")),1)]),_:1},8,["variant","elevation","color","prepend-icon"])]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),e.flattenedProcessableDetails.length>0?(openBlock(),createBlock(p,{key:1,items:e.flattenedProcessableDetails,"item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"col-ratios":[5,7]},null,8,["items"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(r.formSchema,v=>{var g;return openBlock(),createBlock(p,{key:v.name,items:[{title:v.label??e.$t("Unknown"),value:(g=e.processableModel)==null?void 0:g[v.name]}],"col-element":"div","item-fields":["title","value"],"col-classes":["font-weight-medium text-wrap","d-flex justify-start"],"item-classes":"text-body-2","col-ratios":o.displayColRatio,"vertical-align-top":""},{"field.1":withCtx(b=>[v.type==="input-filepond"?(openBlock(),createBlock(f,{key:0,source:b.value,"show-inline-file-name":"","image-size":"24",style:{width:"155px"}},null,8,["source"])):v.type==="text"&&v.ext==="date"||v.type==="date-input"?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(b.value?e.$d(b.value,"numeric"):""),1)],64)):(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(b.value),1)],64))]),_:2},1032,["items","col-ratios"])}),128)):createCommentVNode("",!0),r.processModel.last_history&&r.processModel.last_history.reason?(openBlock(),createBlock(p,{key:3,items:[{title:r.processModel.status_reason_label,value:r.processModel.last_history.reason}],"item-fields":["title","value"],"col-classes":["font-weight-bold text-wrap","d-flex justify-start"],"col-ratios":o.historyColRatio??o.displayColRatio},null,8,["items","col-ratios"])):createCommentVNode("",!0),e.showProcessableDetails&&e.processableModel?createCommentVNode("",!0):(openBlock(),createBlock(VAlert,{key:4,type:"info",variant:"tonal",color:((y=r.processModel)==null?void 0:y.status_card_color)??o.color,class:"my-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.informationalMessage),1)]),_:1},8,["color"]))]}),_:1}),createVNode(VSpacer),e.$hasRoles(o.processEditableRoles)?(openBlock(),createBlock(VCardActions,{key:0,class:"px-4"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[r.processModel&&r.processModel.status?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center"},{default:withCtx(()=>[r.processModel.status.match(/waiting_for_confirmation|waiting_for_reaction/)&&e.canAction(r.processModel.status)?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(c,{ref:"promptModal",modelValue:e.promptModalActive,"onUpdate:modelValue":a[8]||(a[8]=y=>e.promptModalActive=y),"width-type":"sm",transition:"dialog-bottom-transition"},{activator:withCtx(({props:y})=>[createVNode(VBtn,mergeProps({color:"error",variant:"outlined",class:"mr-2"},y),{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[11]||(a[11]=[createTextVNode("mdi-close")])),_:1})]),_:2},1040)]),body:withCtx(y=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(m,{padding:"b-6",justify:"center"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.getStatusConfigurationValue("rejected","dialog_title",e.$t("Confirm Rejection"))),1)]),_:1}),e.getStatusConfigurationValue("rejected","dialog_message")?(openBlock(),createElementBlock("p",_hoisted_1$f,toDisplayString(e.getStatusConfigurationValue("rejected","dialog_message")),1)):createCommentVNode("",!0),createVNode(VTextarea,{modelValue:e.reason,"onUpdate:modelValue":a[5]||(a[5]=v=>e.reason=v),variant:"outlined",label:"Reason"},null,8,["modelValue"])]),_:1}),createVNode(VCardActions,{class:"justify-center"},{default:withCtx(()=>[createVNode(VBtn,{slim:!1,color:"grey",variant:"outlined",disabled:e.updating,onClick:a[6]||(a[6]=v=>e.promptModalActive=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(e.getStatusConfigurationValue("rejected","dialog_cancel_text",e.$t("Close"))),1)]),_:1},8,["disabled"]),createVNode(VBtn,{color:"error",slim:!1,variant:"elevated",disabled:!e.reason,loading:e.updating,onClick:a[7]||(a[7]=v=>e.updateProcess("rejected"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.getStatusConfigurationValue("rejected","dialog_confirm_text",e.$t("Reject"))),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VBtn,{color:"success",variant:"elevated",loading:e.updating,onClick:a[9]||(a[9]=y=>e.confirmUpdateProcess("confirmed"))},{default:withCtx(()=>[createVNode(VIcon,{left:""},{default:withCtx(()=>a[12]||(a[12]=[createTextVNode("mdi-check")])),_:1})]),_:1},8,["loading"])],64)):e.canAction(r.processModel.status)?(openBlock(),createBlock(VBtn,{key:1,color:e.status.next_action_color,variant:"elevated",loading:e.updating,disabled:r.processModel.status==="preparing"&&!e.bothFormAndProcessableValid,onClick:a[10]||(a[10]=y=>e.confirmUpdateProcess(r.processModel.status==="preparing"?"waiting_for_confirmation":"waiting_for_reaction"))},{default:withCtx(()=>[createTextVNode(toDisplayString(e.status.next_action_label),1)]),_:1},8,["color","loading","disabled"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),_:1},8,["color","variant"])])}const Process=_export_sfc(_sfc_main$l,[["render",_sfc_render$i]]),__vite_glob_3_20=Object.freeze(Object.defineProperty({__proto__:null,default:Process},Symbol.toStringTag,{value:"Module"})),_hoisted_1$e=["innerHTML"],_sfc_main$k={__name:"RadioGroup",props:{...makeInputProps(),items:{type:Object,default:()=>[]},itemTitle:{type:String,default:"name"},itemValue:{type:String,default:"id"},descriptionTitle:{type:String,default:"description"},color:{type:String,default:"primary"},maxWidth:{type:[String,Number],default:null},minWidth:{type:[String,Number],default:null},isCentered:{type:Boolean,default:!1}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,r=a,i=l=>l,{input:n}=useInput(o,{emit:r,initializeInput:i});return(l,s)=>{const u=resolveComponent("ue-title");return openBlock(),createBlock(VRadioGroup,{modelValue:unref(n),"onUpdate:modelValue":s[0]||(s[0]=c=>isRef(n)?n.value=c:null),direction:"horizontal",class:"v-input-radio-group","hide-details":""},{default:withCtx(()=>[l.label?(openBlock(),createBlock(u,{key:0,text:l.label,color:"grey-darken-5",padding:"b-4",margin:"b-0",transform:"none"},null,8,["text"])):createCommentVNode("",!0),createVNode(VRow,{class:normalizeClass([l.$vuetify.display.mdAndUp&&e.isCentered?"me-auto ms-auto":""]),style:normalizeStyle({...l.$vuetify.display.mobile?{}:{maxWidth:e.maxWidth,minWidth:e.minWidth}})},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(c,p)=>(openBlock(),createBlock(VCol,{key:`col-${c[e.itemValue]}`,cols:12,md:6},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"v-input-radio-group__btn",color:e.color,variant:unref(n)==c[e.itemValue]?"elevated":"outlined",disabled:l.$attrs.disabled??!1,readonly:l.protectInitialValue,onClick:f=>n.value=c[e.itemValue]},{prepend:withCtx(()=>[createVNode(VRadio,{value:c[e.itemValue],disabled:l.$attrs.disabled??!1},null,8,["value","disabled"])]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(c[e.itemTitle].toUpperCase()),1)]),_:2},1032,["color","variant","disabled","readonly","onClick"]),c[e.descriptionTitle]?(openBlock(),createElementBlock("div",{key:0,class:"text-caption pa-2",innerHTML:c[e.descriptionTitle]},null,8,_hoisted_1$e)):createCommentVNode("",!0)]),_:2},1024))),128))]),_:1},8,["class","style"])]),_:1},8,["modelValue"])}}},__vite_glob_3_21=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$k},Symbol.toStringTag,{value:"Module"})),_sfc_main$j={name:"v-input-repeater",emits:[...makeInputEmits],components:{Draggable},props:{...makeDraggableProps(),...makeRepeaterProps(),noToolbar:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1}},setup(e,a){return{...useDraggable(e),...useRepeater(e,a)}},data(){return{isOpen:!0}},computed:{},methods:{},watch:{},created(){}},_hoisted_1$d={class:"w-100"},_hoisted_2$c={key:0,class:"d-flex justify-center align-center h-100 pa-16"},_hoisted_3$c={key:0,class:"d-flex"},_hoisted_4$9={class:"d-flex flex-column"},_hoisted_5$7={class:"mt-4"},_hoisted_6$7={key:1,class:normalizeClass(["v-input-repeater__block v-input-repeater__block--draggable"])},_hoisted_7$5={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_8$4={key:0,class:"v-input-repeater__item--toolbar"},_hoisted_9$3={key:3,class:"v-input-repeater__bottom mb-12"},_hoisted_10$3={class:"d-flex"},_hoisted_11$2={class:"ml-auto"};function _sfc_render$h(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-recursive-stuff"),u=resolveComponent("v-custom-form-base"),c=resolveComponent("Draggable"),p=resolveComponent("ue-collapsible");return openBlock(),createBlock(VInput,{class:normalizeClass(["v-input-repeater",e.totalRepeats===0&&e.hideIfEmpty?"d-none":""])},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?(openBlock(),createElementBlock("div",_hoisted_2$c,[createVNode(VProgressCircular,{indeterminate:"","bg-color":"primary-lighten-3",color:"primary",size:50,width:6})])):createCommentVNode("",!0),createVNode(p,{modelValue:i.isOpen,"onUpdate:modelValue":a[3]||(a[3]=f=>i.isOpen=f),"no-collapse":!o.collapsible,"no-header-background":"","horizontal-padding":0,"vertical-padding":0,class:normalizeClass(e.hasSchemaInputSourceLoading&&!e.noWaitSourceLoading?"d-none":"")},createSlots({default:withCtx(()=>[createBaseVNode("div",_hoisted_5$7,[!e.noHeaders&&e.hasRepeaterModels?(openBlock(),createBlock(VRow,{key:0,class:"mb-4","no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headers,f=>(openBlock(),createBlock(VCol,mergeProps({key:f.title,ref_for:!0},f.col),{default:withCtx(()=>[createTextVNode(toDisplayString(f.title),1)]),_:2},1040))),128))]),_:1})):createCommentVNode("",!0),e.draggable?(openBlock(),createElementBlock("div",_hoisted_6$7,[createVNode(c,mergeProps({class:"v-input-repeater__content",modelValue:e.repeaterModels,"onUpdate:modelValue":a[1]||(a[1]=f=>e.repeaterModels=f),"item-key":"id"},e.dragOptions),{item:withCtx(f=>[createBaseVNode("div",null,[createVNode(VHover,null,{default:withCtx(({isHovering:m,props:y})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",m?"active":"",e.draggable?"draggable":""]},y),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$5,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[0]||(a[0]=v=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:v=>e.duplicateRepeaterBlock(f.index),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:v=>e.deleteRepeaterBlock(f.index),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(u,{id:`ue-repeater-form-${f.index}`,modelValue:f.element,schema:e.repeaterSchemas[f.index],row:e.formRowAttribute,"onUpdate:schema":v=>e.onUpdateRepeaterSchema(v,f.index),"onUpdate:modelValue":v=>e.onUpdateRepeaterModel(v,f.index)},createSlots({_:2},[renderList(e.selectFieldSlots[f.index],(v,g)=>({name:`slot-inject-${v.name}-key-ue-repeater-form-${f.index}-${v.inputName}`,fn:withCtx(b=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.context.elements,(k,C)=>(openBlock(),createBlock(s,{key:C,configuration:k,bindData:b},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:schema","onUpdate:modelValue"])],2)],16)]),_:2},1024)])]),_:1},16,["modelValue"])])):(openBlock(),createBlock(VRow,mergeProps({key:2,class:"v-input-repeater__block"},e.rowAttribute),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.repeaterModels,(f,m)=>(openBlock(),createBlock(VCol,mergeProps({key:f.id,ref_for:!0},e.$lodash.pick(e.formCol,["cols","xs","sm","md","lg","xl"])),{default:withCtx(()=>[createVNode(VHover,null,{default:withCtx(({isHovering:y,props:v})=>[createBaseVNode("div",mergeProps({class:["v-input-repeater__item",y?"active":"",e.draggable?"draggable":""],ref_for:!0},v),[createBaseVNode("div",{class:normalizeClass(["v-input-repeater__item--body",{gutter:e.withGutter}])},[o.noToolbar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_8$4,[e.isAddible?(openBlock(),createBlock(VBtn,{key:0,onClick:a[2]||(a[2]=g=>e.addRepeaterBlock()),color:"success",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-plus"})]),_:1})):createCommentVNode("",!0),e.isUnique?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:1,onClick:g=>e.duplicateRepeaterBlock(m),variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"mdi-content-copy"})]),_:2},1032,["onClick"])),createVNode(VBtn,{onClick:g=>e.deleteRepeaterBlock(m),color:"red",variant:"text",density:"compact",class:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"x-small",icon:"$delete"})]),_:2},1032,["onClick"])])),createVNode(u,{id:`ue-repeater-form-${m}`,class:"w-100 h-100",modelValue:f,schema:e.repeaterSchemas[m],row:e.formRowAttribute,"onUpdate:modelValue":g=>e.onUpdateRepeaterModel(g,m),"onUpdate:schema":g=>e.onUpdateRepeaterSchema(g,m)},createSlots({_:2},[renderList(e.selectFieldSlots[m],(g,b)=>({name:`slot-inject-${g.name}-key-ue-repeater-form-${m}-${g.inputName}`,fn:withCtx(k=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.context.elements,(C,w)=>(openBlock(),createBlock(s,{key:w,configuration:C,bindData:k},null,8,["configuration","bindData"]))),128))])}))]),1032,["id","modelValue","schema","row","onUpdate:modelValue","onUpdate:schema"])],2)],16)]),_:2},1024)]),_:2},1040))),128))]),_:1},16)),!e.noAddButton||e.$slots.addButton||e.$slots.addButtonRight?(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",_hoisted_10$3,[renderSlot(e.$slots,"addButton",normalizeProps(guardReactiveProps({text:e.addButtonContent,addRepeaterBlock:e.addRepeaterBlock,isActive:e.addButtonIsActive})),()=>[!e.noAddButton&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(VBtn,{key:0,variant:"outlined",class:"",disabled:!e.addButtonIsActive,onClick:e.addRepeaterBlock,appendIcon:"$add"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.addButtonContent),1)]),_:1},8,["disabled","onClick"])):createCommentVNode("",!0)],!0),createBaseVNode("div",_hoisted_11$2,[renderSlot(e.$slots,"addButtonRight",normalizeProps(guardReactiveProps({})),void 0,!0)])])])):createCommentVNode("",!0)])]),_:2},[(e.label||e.subtitle||e.$slots.title||e.$slots.append)&&!(!e.noHeaders&&e.hasRepeaterModels)?{name:"title",fn:withCtx(()=>[(e.label||e.subtitle)&&(e.schema.length||Object.keys(e.schema).length)||e.$slots.append?(openBlock(),createElementBlock("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$9,[e.label&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(l,{key:0,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label),1)]),_:1})):createCommentVNode("",!0),e.subtitle&&(e.schema.length||Object.keys(e.schema).length)?(openBlock(),createBlock(l,{key:1,classes:["pl-0 pt-0"],color:"grey-darken-5",transform:"none",weight:"regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.subtitle),1)]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"append",{},void 0,!0)])):createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["modelValue","no-collapse","class"])])]),_:3},8,["class"])}const Repeater=_export_sfc(_sfc_main$j,[["render",_sfc_render$h],["__scopeId","data-v-566f0edc"]]),__vite_glob_3_22=Object.freeze(Object.defineProperty({__proto__:null,default:Repeater},Symbol.toStringTag,{value:"Module"})),_sfc_main$i={name:"v-input-select-scroll",emits:[...makeInputEmits],props:{...makeInputProps(),...makeInputFetchProps(),rules:{type:Array,default:()=>[]},componentType:{type:String,default:"v-autocomplete"}},setup(e,a){const o=useInput(e,a),r=useInputFetch(e,{...a,input:o.input});return{...o,...r}},data(){return{noFilter:this.activeLastPage>0&&this.activeLastPage>=this.nextPage}},methods:{handleIntersect(e,a,o){e&&this.getItemsFromApi()},makeReference(e){return`${e}-${states.id}`}},computed:{},created(){this.getItemsFromApi()},watch:{}},_hoisted_1$c={key:0};function _sfc_render$g(e,a,o,r,i,n){return openBlock(),createBlock(resolveDynamicComponent(o.componentType),mergeProps(e.$bindAttributes(),{modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=l=>e.input=l),class:["v-input-select-scroll"],items:e.elements,label:e.label,"onUpdate:search":e.searched,onInput:e.getItemsFromApi,multiple:e.multiple,"return-object":e.$attrs.returnObject??e.returnObject??!1,"item-value":e.itemValue,"item-title":e.itemTitle,loading:e.loading,readonly:e.$attrs.readonly||e.readonly||e.elements.length===0,"hide-no-data":e.loading,"no-filter":i.noFilter,rules:o.rules}),createSlots({"append-item":withCtx(()=>[e.activeLastPage>0&&e.activeLastPage>=e.nextPage?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$c,null,512)),[[Intersect,n.handleIntersect]]):createCommentVNode("",!0)]),_:2},[renderList(e.$slots,(l,s)=>({name:s,fn:withCtx(u=>[renderSlot(e.$slots,s,normalizeProps(guardReactiveProps(u)))])}))]),1040,["modelValue","items","label","onUpdate:search","onInput","multiple","return-object","item-value","item-title","loading","readonly","hide-no-data","no-filter","rules"])}const SelectScroll=_export_sfc(_sfc_main$i,[["render",_sfc_render$g]]),__vite_glob_3_23=Object.freeze(Object.defineProperty({__proto__:null,default:SelectScroll},Symbol.toStringTag,{value:"Module"})),_sfc_main$h={name:"v-select-tag",emits:[...makeInputEmits],props:{...makeInputProps(),endpoint:{type:String},selected:{type:Array}},setup(e,a){return{...useInput(e,a)}},data(){return{value:this.selected,elements:[],page:1,lastPage:-1,customElement:null,selectedItems:[]}},methods:{getItemsFromApi(e){return new Promise(()=>{this.$axios.get(this.fullUrl).then(a=>{if(this.lastPage<0&&(this.lastPage=a.data.resource.last_page),this.search==""?this.elements=this.elements.concat(a.data.resource.data??[]):this.elements=a.data.resource.data??[],this.page++,this.input){let o=!1,r=this;this.input&&this.input.length>0&&!r.elements.find(i=>i.id==this.input)&&(o=!0),o&&this.getItemsFromApi()}})})},makeReference(e){return`${e}-${states.id}`},handleUpdateModelValue(e){this.value=e,this.updateModelValue(e.toString()),document.getElementById("tags-form-input").value=e.toString(),this.$emit("change",e.toString())},handleSearch(e){if(!e)return;if(!e.trim()){if(this.customElement!==null&&!this.selectedItems.includes(this.customElement)){const i=this.elements.indexOf(this.customElement);i!==-1&&this.elements.splice(i,1),this.customElement=null}return}const a=Array.isArray(this.elements)?this.elements:Array.from(this.elements),o=e.toLowerCase();if(!a.some(i=>typeof i=="string"&&i.toLowerCase()===o)){if(this.customElement!==null){const i=this.elements.indexOf(this.customElement);i!==-1&&this.elements.splice(i,1,e)}else this.elements.push(e);this.customElement=e}}},computed:{input:{get(){return Array.isArray(this.value)&&this.value.length>0?typeof this.value[0]=="object"?this.value.map(e=>e.value):this.value:[]},set(e){this.handleUpdateModelValue(e)}},filteredElements(){return this.elements.filter(e=>!this.input.includes(e.id))},queryParameters(){return new URLSearchParams({page:this.page}).toString()},fullUrl(){return`${this.endpoint}?${this.queryParameters}`}},created(){this.getItemsFromApi()},watch:{selected:{handler(e){this.value=e||[]},immediate:!0}}};function _sfc_render$f(e,a,o,r,i,n){return openBlock(),createElementBlock("div",null,[createVNode(VAutocomplete,mergeProps(e.$bindAttributes(),{modelValue:n.input,"onUpdate:modelValue":[a[0]||(a[0]=l=>n.input=l),n.handleUpdateModelValue],variant:"outlined",clearable:"","closable-chips":"",chips:"","clear-on-select":"",label:e.label,items:n.filteredElements,multiple:"","onUpdate:search":n.handleSearch,onChange:n.input}),null,16,["modelValue","label","items","onUpdate:modelValue","onUpdate:search","onChange"]),createVNode(VTextField,{type:"hidden",hidden:"",name:"tags",id:"tags-form-input"})])}const SelectTag=_export_sfc(_sfc_main$h,[["render",_sfc_render$f]]),__vite_glob_3_24=Object.freeze(Object.defineProperty({__proto__:null,default:SelectTag},Symbol.toStringTag,{value:"Module"})),_hoisted_1$b={class:"meta-editor"},_hoisted_2$b=["height"],_hoisted_3$b={class:"px-2"},_hoisted_4$8={class:"px-2"},_hoisted_5$6={class:"px-2"},_hoisted_6$6={class:"px-2"},_sfc_main$g={__name:"Spread",props:{...makeInputProps(),reservedKeys:{type:[Object,Array,Proxy],default:()=>({})},scrollable:{type:Boolean,default:!1},height:{type:String,default:"300px"}},emits:[...makeInputEmits],setup(e,{emit:a}){const o=e,i=useInput(o,{emit:a}),n=computed({get:()=>i.input.value,set:N=>{i.updateModelValue.value(N)}}),l=["string","number","boolean"],s=ref([]),u=ref({}),c=ref(!1),p=computed(()=>s.value.some(N=>N.keyError)),f=(N,$)=>{const F=s.value[$];return(Array.isArray(o.reservedKeys)?o.reservedKeys.includes(N):N in o.reservedKeys)?(F.keyError=!0,F.keyErrorMessage="This key is reserved",!1):(F.keyError=!1,F.keyErrorMessage="",!0)};onMounted(()=>{o.modelValue&&(u.value=lodash.cloneDeep(o.modelValue),y(o.modelValue))}),watch$1(()=>o.modelValue,N=>{(!u.value||Object.keys(u.value).length===0)&&(u.value=lodash.cloneDeep(N||{}),y(N||{}))},{deep:!0});const m=()=>{s.value=s.value.filter(N=>Array.isArray(o.reservedKeys)?!o.reservedKeys.includes(N.key):!(N.key in o.reservedKeys)),n.value=A(),S()},y=N=>{s.value=Object.entries(N||{}).map(([$,F])=>({key:$,tempKey:$,currentValue:F,initialValue:F,originalValue:F,currentType:v(F),initialType:v(F),originalType:v(F),saved:!0,valueBeforeTypeChange:F,keyError:!1,keyErrorMessage:""})),m(),S()},v=N=>typeof N=="boolean"?"boolean":typeof N=="number"?"number":"string",g=N=>{const $=s.value[N];$.saved=!1,S()},b=N=>{const $=s.value[N];$.tempKey!==$.key&&($.key=$.tempKey,f($.key,N),n.value=A())},k=N=>{const $=s.value[N];$.saved=!1,$.currentType==="number"?$.currentValue=Number($.currentValue)||0:$.currentType==="boolean"&&typeof $.currentValue=="string"&&($.currentValue=$.currentValue.toLowerCase()==="true"||$.currentValue==="1"),$.savedValues?$.savedValues[$.currentType]=$.currentValue:$.savedValues={[$.currentType]:$.currentValue};const F=A();n.value=F,S()},C=N=>{const $=s.value[N],E=(l.indexOf($.currentType)+1)%l.length,z=l[E];$.currentType===$.originalType&&!$.valueBeforeTypeChange&&($.valueBeforeTypeChange=$.currentValue),z===$.originalType?($.currentType=$.originalType,$.currentValue=$.originalValue):($.currentType=z,$.currentValue=w($.originalValue,z,$.originalType,$.originalValue)),$.saved=!1,S(),n.value=A()},w=(N,$,F=null,E=null)=>{if(F&&$===F&&E!==null)return E;switch($){case"number":return Number(N)||0;case"boolean":return typeof N=="string"?N.toLowerCase()==="true"||N==="1":typeof N=="number"?N!==0:!!N;case"string":return typeof N=="boolean"?N?"true":"false":String(N);default:return String(N)}},V=N=>{s.value.splice(N,1),S(),n.value=A()},T=()=>{const N=`key_${s.value.length+1}`;s.value.push({key:N,tempKey:N,currentValue:"",initialValue:"",currentType:"string",initialType:"string",originalType:"string",saved:!1,valueBeforeTypeChange:"",keyError:!1,keyErrorMessage:""}),S(),n.value=A()},S=()=>{const N=A();c.value=!lodash.isEqual(N,u.value)},A=()=>{const N={};return s.value.forEach($=>{if($.key&&$.currentValue!==void 0){let F=$.currentValue;switch($.currentType){case"number":F=Number($.currentValue)||0;break;case"boolean":typeof $.currentValue=="string"?F=$.currentValue.toLowerCase()==="true"||$.currentValue==="1":typeof $.currentValue=="number"?F=$.currentValue!==0:F=!!$.currentValue;break;case"string":F=String($.currentValue);break}N[$.key]=F}}),N},D=()=>{const N=A();u.value=lodash.cloneDeep(N),s.value.forEach($=>{$.initialValue=$.currentValue,$.initialType=$.currentType,$.valueBeforeTypeChange=$.currentValue,$.saved=!0}),n.value=N,c.value=!1},P=N=>{switch(N){case"number":return"primary";case"boolean":return"success";default:return"default"}};return(N,$)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode(VRow,{"no-gutters":"",class:"header-row py-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>$[0]||($[0]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Key",-1)])),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>$[1]||($[1]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Value",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>$[2]||($[2]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Type",-1)])),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>$[3]||($[3]=[createBaseVNode("div",{class:"px-3 text-subtitle-1 font-weight-medium"},"Actions",-1)])),_:1})]),_:1}),createBaseVNode("div",{class:normalizeClass(["data-rows",["data-rows",{scrollable:e.scrollable}]]),height:e.height},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(F,E)=>(openBlock(),createBlock(VRow,{key:F.key+E,"no-gutters":"",class:"data-row py-1"},{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$b,[createVNode(VTextField,{modelValue:F.tempKey,"onUpdate:modelValue":z=>F.tempKey=z,onInput:z=>g(E),onBlur:z=>b(E),variant:"outlined",density:"compact","bg-color":"surface",error:F.keyError,"error-messages":F.keyErrorMessage,"hide-details":"auto",class:"meta-field"},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur","error","error-messages"])])]),_:2},1024),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$8,[F.currentType==="boolean"?(openBlock(),createBlock(VSelect,{key:0,modelValue:F.currentValue,"onUpdate:modelValue":z=>F.currentValue=z,items:[{text:"true",value:!0},{text:"false",value:!1}],"item-title":"text","item-value":"value",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:z=>k(E)},null,8,["modelValue","onUpdate:modelValue","onInput"])):(openBlock(),createBlock(VTextField,{key:1,modelValue:F.currentValue,"onUpdate:modelValue":z=>F.currentValue=z,type:F.currentType==="number"?"number":"text",variant:"outlined",density:"compact","bg-color":"surface","hide-details":"",class:"meta-field",onInput:z=>k(E)},null,8,["modelValue","onUpdate:modelValue","type","onInput"]))])]),_:2},1024),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$6,[createVNode(VBtn,{class:"type-toggle-btn",variant:"outlined",onClick:z=>C(E),color:P(F.currentType),density:"comfortable",block:""},{default:withCtx(()=>[createTextVNode(toDisplayString(F.currentType.toUpperCase()),1)]),_:2},1032,["onClick","color"])])]),_:2},1024),createVNode(VCol,{cols:"2",class:"d-flex align-center"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$6,[createVNode(VBtn,{color:"error",variant:"text",onClick:z=>V(E),density:"compact",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>$[4]||($[4]=[createTextVNode("mdi-trash-can-outline")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))],10,_hoisted_2$b),createVNode(VRow,{"no-gutters":"",class:"mt-4 px-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"auto",class:"mr-2"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:T},{default:withCtx(()=>$[5]||($[5]=[createTextVNode(" Add row ")])),_:1})]),_:1}),createVNode(VCol,{cols:"auto"},{default:withCtx(()=>[createVNode(VBtn,{color:"primary",disabled:!c.value||p.value,onClick:D,"prepend-icon":"mdi-content-save"},{default:withCtx(()=>$[6]||($[6]=[createTextVNode(" Save All ")])),_:1},8,["disabled"])]),_:1})]),_:1})]))}},__vite_glob_3_25=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$g},Symbol.toStringTag,{value:"Module"})),_sfc_main$f={name:"v-input-tag",emits:[...makeInputEmits],props:{...makeInputProps(),taggable:{type:String,default:null},items:{type:Array,default:[]},multiple:{type:Boolean,default:!1},endpoint:{type:String,required:null},updateEndpoint:{type:String,required:null},itemValue:{type:String,default:"value"},itemTitle:{type:String,default:"label"}},setup(e,a){const o=useStore(),r=ref(!1);o.state.form.taggableItems[e.taggable]||o.commit(FORM.SET_TAGGABLE_ITEMS,{taggable_type:e.taggable,items:e.items??[]});const i=computed(()=>o.state.form.taggableItems[e.taggable]);return{...useInput(e,a),loading:r,items:i}},methods:{async handleEnter(){const e=this.input;if(!Array.isArray(e)&&!(!e||this.items.includes(e))&&!(!e||this.items.find(a=>a[this.itemValue]===e||a[this.itemTitle]===e)))try{this.loading=!0;let a=this;api$1.put(this.updateEndpoint,{value:e,taggable:this.taggable},function(o){o.status===200&&a.$store.commit(FORM.ADD_TAGGABLE_ITEM,{taggable_type:a.taggable,item:{[a.itemValue]:o.data.id,[a.itemTitle]:e}})});return}catch(a){console.error("Error creating new item:",a)}finally{this.loading=!1}}}};function _sfc_render$e(e,a,o,r,i,n){return openBlock(),createBlock(VCombobox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[0]||(a[0]=l=>e.input=l),items:r.items,loading:r.loading,"item-value":o.itemValue,"item-title":o.itemTitle,multiple:o.multiple,"onUpdatex:search":e.handleSearch,onKeydown:withKeys(n.handleEnter,["enter"]),class:"v-input-tag"},null,8,["modelValue","items","loading","item-value","item-title","multiple","onUpdatex:search","onKeydown"])}const Tag=_export_sfc(_sfc_main$f,[["render",_sfc_render$e]]),__vite_glob_3_26=Object.freeze(Object.defineProperty({__proto__:null,default:Tag},Symbol.toStringTag,{value:"Module"})),_sfc_main$e={name:"v-input-tagger",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),items:{type:Array},multiple:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"name"},fetchEndpoint:{type:String,required:!0},updateEndpoint:{type:String,required:!0},colors:{type:Array,default:()=>["green","purple","indigo","cyan","teal","orange"]},returnItemValue:{type:Boolean,default:!1}},setup(e,a){return{...useInput(e,a)}},data:function(){return{editingItem:null,nonce:1,search:null,model:[]}},computed:{handleKey(){return this.returnItemValue?this.itemValue:this.itemTitle}},watch:{model(e,a){if(e.length===a.length)return;this.model=e.map(r=>(typeof r=="string"&&(r={[this.itemTitle]:r,[this.itemValue]:r,color:this.colors[this.nonce%this.colors.length]},this.items.push(r),this.nonce++),r));let o=this.model.map(r=>r[this.handleKey]);o!==this.input&&(this.input=o)}},methods:{edit(e){this.editingItem?this.editingItem=null:this.editingItem=e},filter(e,a,o){const r=u=>String(u??"").toLowerCase(),i=r(a),l=this.items.filter(u=>!this.model.includes(u)).some(u=>!u.header&&r(u[this.itemTitle]).includes(i));return o.raw.header?!l:r(o.raw[this.itemTitle]).includes(i)},removeSelection(e){this.model=[...this.model.slice(0,e),...this.model.slice(e+1)]}},mounted(){this.model=this.items.reduce((e,a)=>(a.header||this.input.includes(a[this.handleKey])&&e.push(a),e),[])},created(){}};function _sfc_render$d(e,a,o,r,i,n){return openBlock(),createBlock(VInput,{modelValue:e.input,"onUpdate:modelValue":a[5]||(a[5]=l=>e.input=l),hideDetails:"auto",variant:e.boundProps.variant,class:"v-input-tagger"},{default:withCtx(l=>[createVNode(VCombobox,mergeProps(e.$lodash.pick(e.boundProps,["variant","menuProps","selectClasses","selectLabel","dense","density","color"]),{label:e.label,"hide-selected":"",items:o.items,loading:o.loading,multiple:o.multiple,itemValue:o.itemValue,itemTitle:o.itemTitle,modelValue:e.model,"onUpdate:modelValue":a[3]||(a[3]=s=>e.model=s),search:e.search,"onUpdate:search":a[4]||(a[4]=s=>e.search=s),"custom-filter":n.filter}),{selection:withCtx(({item:s,index:u})=>[s===Object(s)?(openBlock(),createBlock(VChip,{key:0,color:`${s.raw.color}-lighten-3`,text:s.title,size:"small",variant:"flat",closable:"",label:"","onClick:close":c=>n.removeSelection(u)},null,8,["color","text","onClick:close"])):createCommentVNode("",!0)]),item:withCtx(({props:s,item:u})=>[u.raw.header&&e.search?(openBlock(),createBlock(VListItem,{key:0},{default:withCtx(()=>[a[6]||(a[6]=createBaseVNode("span",{class:"mr-3"},"Create",-1)),createVNode(VChip,{color:`${o.colors[e.nonce-1]}-lighten-3`,size:"small",variant:"flat",label:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.search),1)]),_:1},8,["color"])]),_:1})):u.raw.header?(openBlock(),createBlock(VListSubheader,{key:1,title:s.title},null,8,["title"])):(openBlock(),createBlock(VListItem,{key:2,onClick:s.onClick},{append:withCtx(()=>[createVNode(VBtn,{color:e.editingItem!==u.raw?"primary":"success",icon:e.editingItem!==u.raw?"mdi-pencil":"mdi-check",size:"small",variant:"text",onClick:withModifiers(c=>n.edit(u.raw),["stop","prevent"])},null,8,["color","icon","onClick"])]),default:withCtx(()=>[e.editingItem===u.raw?(openBlock(),createBlock(VTextField,{key:0,modelValue:e.editingItem[o.itemTitle],"onUpdate:modelValue":a[0]||(a[0]=c=>e.editingItem[o.itemTitle]=c),"bg-color":"transparent",class:"mr-3",density:"compact",variant:"plain",autofocus:"","hide-details":"",onClick:a[1]||(a[1]=withModifiers(()=>{},["stop"])),onKeydown:a[2]||(a[2]=withModifiers(()=>{},["stop"])),onKeyup:withKeys(c=>n.edit(u.raw),["enter"])},null,8,["modelValue","onKeyup"])):(openBlock(),createBlock(VChip,{key:1,color:`${u.raw.color}-lighten-3`,text:s.title,variant:"flat",label:""},null,8,["color","text"]))]),_:2},1032,["onClick"]))]),_:1},16,["label","items","loading","multiple","itemValue","itemTitle","modelValue","search","custom-filter"])]),_:1},8,["modelValue","variant"])}const Tagger=_export_sfc(_sfc_main$e,[["render",_sfc_render$d]]),__vite_glob_3_27=Object.freeze(Object.defineProperty({__proto__:null,default:Tagger},Symbol.toStringTag,{value:"Module"})),_sfc_main$d={name:"v-input-terms-checkbox",emits:[...makeInputEmits],components:{},props:{...makeInputProps(),label:{type:String,default:"I agree to the terms and conditions"},terms:{type:String,default(){const{t:e}=useI18n();return e("authentication.terms-policy")}},conditions:{type:String,default(){const{t:e}=useI18n();return e("authentication.conditions-policy")}},trueValue:{type:[Boolean,String,Number],default:1},falseValue:{type:[Boolean,String,Number],default:0},noCheckbox:{type:Boolean,default:!1},noHandleClick:{type:Boolean,default:!1}},setup(e,a){const o=ref(!1);return{...useInput(e,{...a,initializeInput:r=>r===e.trueValue?e.trueValue:e.falseValue}),showDialog:o}},data:function(){return{showDialog:!1,isRead:!1,readType:null,count:0}},computed:{checkboxRules(){return[e=>this.count<2||!!e||"You must agree to continue!"]},modalContent(){return this.readType==="terms"?this.terms:this.conditions}},methods:{agreeAndClose(){this.isRead=!0,this.showDialog=!1,this.input=this.trueValue},handleReadTerms(e){this.isRead=!0,this.showDialog=!0,this.readType=e},handleCheckboxClick(){this.noHandleClick||(this.isRead?this.showDialog||(this.count++,this.input=this.input===this.trueValue?this.falseValue:this.trueValue):(this.readType??(this.readType="terms"),this.showDialog=!0,this.isRead=!0))}}},_hoisted_1$a={class:"text-grey-lighten-2"},_hoisted_2$a={class:"d-flex flex-column align-center justify-center"},_hoisted_3$a=["innerHTML"];function _sfc_render$c(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-modal");return openBlock(),createBlock(VCheckbox,{ref:"VInput",modelValue:e.input,"onUpdate:modelValue":a[4]||(a[4]=u=>e.input=u),hideDetails:"auto",variant:e.boundProps.variant,rules:n.checkboxRules,label:o.label,class:normalizeClass(["v-input-terms-checkbox",o.noCheckbox?"v-input-terms-checkbox-no-checkbox":""]),onClick:withModifiers(n.handleCheckboxClick,["prevent"]),"true-value":o.trueValue,"false-value":o.falseValue},{label:withCtx(u=>[renderSlot(e.$slots,"label",normalizeProps(guardReactiveProps(u)),()=>[createBaseVNode("span",_hoisted_1$a,[createTextVNode(toDisplayString(e.$t("I agree with"))+" ",1),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:c})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},c,{onClick:a[0]||(a[0]=p=>n.handleReadTerms("terms"))}),toDisplayString(e.$t("Terms")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Terms")),1)]),_:1}),a[5]||(a[5]=createTextVNode(" "+toDisplayString(" and ")+" ")),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:c})=>[createBaseVNode("a",mergeProps({class:"text-decoration-underline"},c,{onClick:a[1]||(a[1]=p=>n.handleReadTerms("conditions"))}),toDisplayString(e.$t("Conditions")),17)]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(e.$t("Show Conditions")),1)]),_:1})])])]),append:withCtx(()=>[createVNode(s,{modelValue:r.showDialog,"onUpdate:modelValue":a[3]||(a[3]=u=>r.showDialog=u),Xtitle:"Terms and Conditions","max-width":"600px","no-cancel-button":"","confirm-callback":n.agreeAndClose,"confirm-text":"I agree"},{activator:withCtx(({props:u})=>[(e.isRead,createCommentVNode("",!0))]),"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_2$a,[createVNode(l,{justify:"center",text:e.$t(`${e.readType}`),class:"mb-4"},null,8,["text"]),createVNode(VSheet,{class:"pa-4 overflow-y-auto","max-height":"400px"},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:n.modalContent},null,8,_hoisted_3$a)]),_:1})])]),_:1},8,["modelValue","confirm-callback"])]),_:3},8,["modelValue","variant","rules","label","class","onClick","true-value","false-value"])}const TermsCheckbox=_export_sfc(_sfc_main$d,[["render",_sfc_render$c]]),__vite_glob_3_28=Object.freeze(Object.defineProperty({__proto__:null,default:TermsCheckbox},Symbol.toStringTag,{value:"Module"})),_sfc_main$c={components:{RowFormat},props:{bgColor:{type:String,default:"white"},color:{type:String,default:"success"},textColor:{type:String,default:""},title:{type:String,default:""},value:{type:String,default:""}},data(){return{}},computed:{_textColor(){return this.textColor!==""?this.textColor:this.color}}};function _sfc_render$b(e,a,o,r,i,n){const l=resolveComponent("RowFormat");return openBlock(),createBlock(VSheet,{class:"rounded-0"},{default:withCtx(()=>[createVNode(VAlert,{class:"rounded-0 v-callout",border:"start",color:o.bgColor,"border-color":o.color,elevation:"2"},{default:withCtx(()=>[createVNode(l,{elements:[{text:o.title,col:{cols:8,class:"d-flex align-center"}},{text:o.value,col:{cols:4},style:{"font-size":"1.5rem"}}],color:n._textColor},null,8,["elements","color"])]),_:1},8,["color","border-color"])]),_:1})}const Callout=_export_sfc(_sfc_main$c,[["render",_sfc_render$b]]),_sfc_main$b={components:{Callout},props:{title:{type:String}},data(){return{statuses:[["Pending Approval","999","warning"],["Unapproved","3","error"],["Approved","0","info"],["Published","5","success"]],details:[["Account Type","Pre-paid"],["Packages","10"],["Credits","$210"]]}}},_hoisted_1$9={class:"mt-1 mb-5 pb-6"},_hoisted_2$9={class:"font-weight-bold text-primary"},_hoisted_3$9={class:"text-grey"},_hoisted_4$7={class:"d-flex flex-lg-column flex-sm-column align-start align-lg-end justify-lg-center pl-10 pl-lg-0 pr-lg-10"};function _sfc_render$a(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("Callout"),u=resolveComponent("v-btn-tertiary"),c=resolveDirective("fit-grid");return openBlock(),createBlock(VRow,{class:"ue-board-information","no-gutters":""},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"9",lg:"8"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"12",class:""},{default:withCtx(()=>[createVNode(l,{"padding-reset":"",classes:""},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("AT A GLANCE")),1)]),_:1})]),_:1}),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"7",lg:"6",md:"8",sm:"8",class:""},{default:withCtx(()=>[createVNode(VList,{class:"v-callout-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.statuses,([p,f,m],y)=>(openBlock(),createBlock(VListItem,{key:y},{default:withCtx(()=>[createVNode(s,{title:p,value:f,color:m},null,8,["title","value","color"])]),_:2},1024))),128))]),_:1})]),_:1})),[[c]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"5",lg:"6",md:"4",sm:"4"},{default:withCtx(()=>[createVNode(VList,{class:"v-details-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.details,([p,f],m)=>(openBlock(),createBlock(VListItem,{key:m,class:"pl-4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,[createBaseVNode("span",_hoisted_2$9,toDisplayString(p),1),a[0]||(a[0]=createBaseVNode("span",{class:"font-weight-bold text-primary"}," : ",-1)),createBaseVNode("span",_hoisted_3$9,toDisplayString(f),1)])]),_:2},1024))),128))]),_:1})]),_:1})),[[c]])]),_:1})]),_:1})),[[c]]),withDirectives((openBlock(),createBlock(VCol,{cols:"12",xl:"3",lg:"4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$7,[createVNode(u,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Package")),1)]),_:1}),createVNode(u,{class:"mb-5 mr-lg-0 mr-5"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Top Up Credit")),1)]),_:1})])]),_:1})),[[c]])]),_:1})}const BoardInformation=_export_sfc(_sfc_main$b,[["render",_sfc_render$a],["__scopeId","data-v-396c0094"]]),__vite_glob_0_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:BoardInformation},Symbol.toStringTag,{value:"Module"})),_sfc_main$a={name:"ue-custom-package-selector",props:{modelValue:{type:Object,default:()=>({})},title:{type:String,required:!0},submitButtonText:{type:String,default:"Complete"},subtitle:{type:String,required:!0},summaryDescription:{type:String},filterTitle:{type:String,required:!0},schema:{type:Object,required:!0},filterSchema:{type:Object,required:!0},actionUrl:{type:String},redirectUrl:{type:String},calculatorUrl:{type:String}},data(){return{loading:!1,modalActive:!1,modalMessage:"",isCompleted:!1,model:{...getModel(this.schema,this.modelValue),...getModel(this.filterSchema,this.modelValue),...this.modelValue},dynamicSchema:this.schema,dynamicFilterSchema:this.filterSchema,mainModel:getModel(this.schema,this.modelValue),filterModel:getModel(this.filterSchema,this.modelValue),mainValid:!1,filterValid:!1}},methods:{completed(){this.modalActive=!1,this.redirectUrl&&(window.location.href=this.redirectUrl)},sendRequest(){if(!this.filterValid){this.$refs.filterForm.manualValidation=!0,this.$refs.filterForm.validate(),this.$refs.filterForm.manualValidation=!1;return}if(!this.mainValid){this.$refs.mainForm.manualValidation=!0,this.$refs.mainForm.validate(),this.$refs.mainForm.manualValidation=!1;return}let e={...this.filterModel,...this.mainModel};const a=e!=null&&e.id?"put":"post",o=this;api$1[a](this.actionUrl,e,function(r){o.loading=!1,r.data.variant==="success"&&(r.data.cached?o.$store.commit(ALERT$1.SET_ALERT,pick(r.data,["variant","message","location","timeout"])):o.modalActive=!0)},function(r){o.loading=!1,__log(r)})},async updateModelValue(e,a=null){if(a==="filter"){if(isEqual(this.filterModel,e))return;const o=Object.keys(e).reduce((i,n)=>(isEqual(this.filterModel[n],e[n])||(i[n]={old:this.filterModel[n],new:e[n]}),i),{}),r=this;await forEach(o,async(i,n)=>{var l,s;if(n==="location")this.dynamicSchema.pressReleasePackages.items=[];else if(n==="packageables"){let u=i.old,c=i.new,p=c.filter(w=>!u.includes(w)),f=u.filter(w=>!c.includes(w)),m=[],y=(l=this.dynamicFilterSchema.location.items.find(w=>w.id===this.filterModel.location))==null?void 0:l.filterEndpoint,v=this.dynamicSchema.pressReleasePackages.eagers??[],g=this.dynamicSchema.pressReleasePackages.lazy??[];r.loading=!0,m=await Promise.all(map(p,async w=>(await axios.get(y.replace(":id",w),{params:{eagers:v,lazy:g}})).data));let b=(((s=this.dynamicSchema.pressReleasePackages)==null?void 0:s.items)??[]).filter(w=>f.includes(w.id)),k=cloneDeep(this.dynamicSchema.pressReleasePackages.items??[]),C=!1;m.length>0&&(m.forEach(w=>{k.find(V=>V.id===w.id)||k.push(w)}),C=!0),b.length>0&&(b.forEach(w=>{k.find(V=>V.id===w.id)&&(k=k.filter(V=>V.id!==w.id))}),C=!0),C&&(this.dynamicSchema.pressReleasePackages.items=orderBy(k,["id"],["asc"])),r.loading=!1}this.filterModel[n]=i.new})}else{if(isEqual(this.mainModel,e))return;let o={};const r=Object.keys(e).reduce((i,n)=>(isEqual(this.mainModel[n],e[n])||(i[n]={old:this.mainModel[n],new:e[n]},n==="pressReleasePackages"&&Object.keys(e[n]).forEach(l=>{e[n][l].packageLanguages.forEach(u=>{o[`${u}_content`]=[]})})),i),{});forEach(r,(i,n)=>{this.mainModel[n]=i.new}),Object.keys(o).forEach(i=>{__isset(this.mainModel.content[i])||(this.mainModel.content[i]=o[i])}),Object.keys(this.mainModel.content).forEach(i=>{i.match(/^(\d+)_content$/)&&(Object.keys(o).includes(i)||delete this.mainModel.content[i])})}},updateSchema(e,a=null){if(__log("updateSchema"),a==="filter"){if(isEqual(this.dynamicFilterSchema,e))return}else{if(isEqual(this.dynamicSchema,e))return;__log("updateSchema",{old:this.dynamicSchema,new:e})}},handleInput(e){}},computed:{payload(){return{...this.filterModel,...this.mainModel}},isValid(){return this.filterValid&&this.mainValid}},watch:{filterModel:{handler(e){},deep:!0},dynamicSchema:{handler(e){},deep:!0},dynamicFilterSchema:{handler(e){},deep:!0}},created(){}},_hoisted_1$8={class:"py-0"},_hoisted_2$8={class:"border-0 h-auto py-1 pl-0 text-h5 text-white"},_hoisted_3$8={class:"border-0 h-auto py-1 d-flex justify-end pr-0 font-weight-bold"},_hoisted_4$6={class:"text-caption text-grey-lighten-1 mb-6"},_hoisted_5$5={class:"d-flex flex-column align-center justify-center"},_hoisted_6$5={class:"text-h4 mb-4 text-success"},_hoisted_7$4={class:"text-subtitle-1 grey--text"},_hoisted_8$3={class:"d-flex justify-center w-100"};function _sfc_render$9(e,a,o,r,i,n){const l=resolveComponent("ue-title"),s=resolveComponent("ue-form"),u=resolveComponent("v-sheet-rounded"),c=resolveComponent("ue-print-request"),p=resolveComponent("v-btn-secondary"),f=resolveComponent("ue-modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(VRow,{class:"h-100 pa-3"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",lg:"8",class:"d-flex","order-lg":"1",order:"2"},{default:withCtx(()=>[createVNode(u,{class:"h-100 w-100 pa-6",elevation:"2"},{default:withCtx(()=>[o.title?(openBlock(),createBlock(l,{key:0,text:o.title,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),o.subtitle?(openBlock(),createBlock(l,{key:1,text:o.subtitle,padding:"",class:"pt-1",transform:"none",weight:"regular",type:"caption"},null,8,["text"])):createCommentVNode("",!0),createVNode(s,{ref:"mainForm",schema:i.dynamicSchema,modelValue:i.mainModel,"onUpdate:modelValue":a[0]||(a[0]=m=>n.updateModelValue(m)),valid:i.mainValid,"onUpdate:valid":a[1]||(a[1]=m=>i.mainValid=m),"onUpdate:schema":a[2]||(a[2]=m=>n.updateSchema(m)),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["schema","modelValue","valid"])]),_:1})]),_:1}),createVNode(VCol,{cols:"12",lg:"4",class:"d-flex","order-lg":"2",order:"1"},{default:withCtx(()=>[createVNode(u,{class:"bg-primary-darken-2 h-100 w-100 d-flex flex-column fill-height pa-6",elevation:"2"},{default:withCtx(()=>[o.filterTitle?(openBlock(),createBlock(l,{key:0,text:o.filterTitle,padding:"",class:""},null,8,["text"])):createCommentVNode("",!0),createVNode(VDivider,{class:"my-3",style:{"border-color":"rgb(var(--v-theme-on-primary-darken-1))"}}),createVNode(s,{ref:"filterForm",modelValue:i.filterModel,"onUpdate:modelValue":a[3]||(a[3]=m=>n.updateModelValue(m,"filter")),schema:i.dynamicFilterSchema,"onUpdate:schema":a[4]||(a[4]=m=>n.updateSchema(m,"filter")),valid:i.filterValid,"onUpdate:valid":a[5]||(a[5]=m=>i.filterValid=m),noDefaultSurface:"",noDefaultFormPadding:""},null,8,["modelValue","schema","valid"]),createVNode(VSpacer),createVNode(VDivider,{class:"my-3"}),createVNode(VTable,{class:"bg-transparent my-3"},{default:withCtx(()=>[createBaseVNode("tbody",null,[createBaseVNode("tr",_hoisted_1$8,[createBaseVNode("td",_hoisted_2$8,toDisplayString(e.$t("Total").toUpperCase()),1),createBaseVNode("td",_hoisted_3$8,[renderSlot(e.$slots,"summary.final.total",{},()=>[o.calculatorUrl?(openBlock(),createBlock(c,{key:0,payload:n.payload,endpoint:o.calculatorUrl,"print-keys":{text:"total",subText:"vatText"},"loading-text":e.$t("Calculating...")},null,8,["payload","endpoint","loading-text"])):createCommentVNode("",!0)])])])])]),_:3}),createBaseVNode("div",_hoisted_4$6,[renderSlot(e.$slots,"summary.final.description",{},()=>[o.summaryDescription?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(o.summaryDescription),1)],64)):createCommentVNode("",!0)])]),createVNode(VSheet,{class:"pb-0 px-0 ue-stepper-form__preview-bottom bg-primary-darken-3"},{default:withCtx(()=>[createVNode(p,{class:"v-stepper-form__nextButton",block:"",disabled:i.loading,loading:i.loading,onClick:n.sendRequest},{default:withCtx(()=>[createTextVNode(toDisplayString(o.submitButtonText),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:3})]),_:3})]),_:3}),createVNode(f,{ref:"modal",modelValue:i.modalActive,"onUpdate:modelValue":a[6]||(a[6]=m=>i.modalActive=m),"width-type":"md",description:i.modalMessage,persistent:""},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_5$5,[createVNode(VIcon,{size:"64",color:"success",class:"mb-4"},{default:withCtx(()=>a[7]||(a[7]=[createTextVNode("mdi-check-circle-outline")])),_:1}),createBaseVNode("h2",_hoisted_6$5,toDisplayString(e.$t("Request Complete")),1),createBaseVNode("p",_hoisted_7$4,toDisplayString(e.$t("Congratulations! Your PR request is complete.")),1)])]),"body.options":withCtx(()=>[createBaseVNode("div",_hoisted_8$3,[createVNode(VBtn,{variant:"flat",color:"success",onClick:n.completed},{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("Go Back")),1)]),_:1},8,["onClick"])])]),_:1},8,["modelValue","description"])],64)}const PackageSelector=_export_sfc(_sfc_main$a,[["render",_sfc_render$9]]),__vite_glob_0_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:PackageSelector},Symbol.toStringTag,{value:"Module"})),{ignoreFormatters}=makeFormatterProps(),_sfc_main$9={emits:tableIterableEmits,props:{...makeTableIteratorProps(),ignoreFormatters},setup(e,a){return{...useTableIterator(e,a)}},computed:{languageFiles(){let e=/content\.(\d+)_content/;return this.item.fileponds.filter(a=>a.role.match(e))},languageFileNames(){return this.languageFiles.map(e=>this.getFileName(e)).join(", ")},mediaFiles(){return this.item.fileponds.filter(e=>e.role.match(/press_release_image/))},mediaFileNames(){return this.mediaFiles.map(e=>this.getFileName(e)).join(", ")}},methods:{getFileName(e){const a=e.file_name.split("."),o=a.slice(0,a.length-1).join("."),r=a[a.length-1];return __shorten(o,10)+"."+r}},created(){}},_hoisted_1$7={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_2$7={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_3$7={class:"h-100 d-flex flex-wrap align-center justify-space-between"},_hoisted_4$5={class:"d-flex flex-wrap ga-2 justify-sm-end ml-n2 ml-md-0"};function _sfc_render$8(e,a,o,r,i,n){var c,p;const l=resolveComponent("ue-title"),s=resolveComponent("ue-dynamic-component-renderer"),u=resolveComponent("ue-configurable-card");return openBlock(),createElementBlock(Fragment,null,[createVNode(l,{type:"caption",text:e.item.id,weight:"regular",color:"grey-lighten-1",padding:"x-2",margin:"t-2"},null,8,["text"]),createVNode(l,{color:"primary",text:((p=(c=e.item)==null?void 0:c.content)==null?void 0:p.headline)||e.$t("Please update the headline"),padding:"x-2"},null,8,["text"]),createVNode(u,{title:e.item.name,style:{"background-color":"transparent"},elevation:"0","hide-separator":"","align-center-columns":"","Xno-actions":e.$vuetify.display.mdAndDown,"col-ratios":e.$vuetify.display.mdAndUp?[2,1,1,1]:[3,1,1,1],"mobile-breakpoint":"sm",items:[Object.entries(e.item.press_release_packages??e.item.pressReleasePackages??{}).reduce((f,[m,y])=>(f.push(y),f),[]),e.item.content.date||(e.item.content.estimated_scheduled_at?e.$d(e.item.content.estimated_scheduled_at,"numeric"):"N/A"),[e.item._price??"N/A"],[e.item._status??"Draft"]],actions:[{name:"edit",icon:"mdi-pencil",color:"primary"}]},{"segment.1":withCtx(f=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.data,m=>(openBlock(),createBlock(VRow,{key:`package-${m.id}`,"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createTextVNode(toDisplayString(m.packageable.name),1)]),_:2},1024),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createTextVNode(toDisplayString(m.name),1)]),_:2},1024)]),_:2},1024))),128))]),"segment.2":withCtx(f=>[createBaseVNode("div",_hoisted_1$7,toDisplayString(f.data),1)]),"segment.3":withCtx(f=>[createBaseVNode("div",_hoisted_2$7,[createVNode(s,{subject:e.item.state_formatted},null,8,["subject"])])]),"segment.4":withCtx(f=>[createBaseVNode("div",_hoisted_3$7,[createVNode(s,{subject:e.item.payment_status_formatted},null,8,["subject"])])]),"segment.actions":withCtx(f=>[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowActions,(m,y)=>(openBlock(),createElementBlock(Fragment,{key:y},[e.itemHasAction(e.item,m)?(openBlock(),createBlock(VTooltip,{key:0,text:e.$t(m.label??e.$headline(m.name)),location:"top",disabled:m.forceLabel??!1},{activator:withCtx(({props:v})=>[createVNode(VBtn,mergeProps({text:m.forceLabel?e.$t(m.label??e.$headline(m.name)):null,variant:m.variant??"elevated",density:m.density??(m.forceLabel?"comfortable":"compact"),size:m.size??(m.forceLabel,"default"),icon:m.forceLabel?null:m.icon?m.icon:"$"+m.name,color:m.color??"primary",rounded:m.forceLabel?null:!0,class:m.class??"",ref_for:!0},{...v,...m.componentProps},{onClick:g=>e.itemAction(e.item,m)}),null,16,["text","variant","density","size","icon","color","rounded","class","onClick"])]),_:2},1032,["text","disabled"])):createCommentVNode("",!0)],64))),128))])])]),_:2},1032,["title","Xno-actions","col-ratios","items"])],64)}const PressReleaseCardIterator=_export_sfc(_sfc_main$9,[["render",_sfc_render$8]]),__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:PressReleaseCardIterator},Symbol.toStringTag,{value:"Module"})),_sfc_main$8={};function _sfc_render$7(e,a){return" How To Install Vue 3 in Laravel 10 with Vite - TechvBlogs "}const TestApp=_export_sfc(_sfc_main$8,[["render",_sfc_render$7]]),__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:TestApp},Symbol.toStringTag,{value:"Module"}));function assignBOMHElpers(){window.__log=console.log,window.__isString=e=>Object.prototype.toString.call(e)==="[object String]",window.__isBoolean=e=>typeof e=="boolean",window.__isNumber=e=>!isNaN(e),window.__isObject=e=>Object.prototype.toString.call(e)==="[object Object]",window.__isArray=e=>Array.isArray(e),window.__isset=(...e)=>{const a=e,o=a.length;let r=0,i;if(o===0)throw new Error("Empty isset");for(;r!==o;){if(a[r]===i||a[r]===null)return!1;r++}return!0},window.__issetReturn=(e,a)=>__isset(e)?e:a,window.__getMethods=e=>Object.getOwnPropertyNames(e).filter(a=>typeof e[a]=="function"),window.__globalizeMethods=e=>{Array.isArray(e)?e.forEach(function(a){__getMethods(a).forEach(function(o){window[o]=a[o]})}):__isObject(e)&&__getMethods(obj).forEach(function(a){window[a]=obj[a]})},window.__responseHandler=e=>__isset(e.data.errors)?{status:!1,text:errorHandler(e.data.errors)}:{status:!0,data:e.data.data},window.__errorHandler=e=>{let a="";return Object.keys(e).forEach((r,i)=>{a+=`
              <tr>
                  <td> <strong> ${capitalCase(r)} </strong> </td>
                  <td>
                      ${e[r].join("</br>")}
                  </td>
              </tr>
          `}),`
      <table>          <tbody>           ${a}          </tbody>       </table>`},window.__functionDefinition=e=>Function.prototype.toString.call(e),window.__convertArrayOrObject=(e,a=null)=>{if(__isObject(e)){const o={};return Object.keys(e).forEach(r=>{o[r]=__convertArrayOrObject(e[r],r)}),o}else if(Array.isArray(e)){const o=[];return e.forEach(r=>{o.push(__convertArrayOrObject(r))}),o}else if(typeof e=="function"){let o=__functionDefinition(e);return a&&(o=o.replace(a+"(","function (")),o}else return e instanceof RegExp?e.toString():e},window.__printDefinition=e=>JSON.stringify(__convertArrayOrObject(e)),window.__shorten=(e,a=40)=>e.length>a?e.substring(0,a)+"...":e,window.__preg_quote=(e,a="")=>(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&"),window.__extract=e=>{for(var a in e)window[a]=e[a]},window.__dot=(e,a="")=>Object.keys(e).reduce((o,r)=>{const i=a?`${a}.${r}`:r;return typeof e[r]=="object"&&e[r]!==null&&!Array.isArray(e[r])?Object.assign(o,__dot(e[r],i)):o[i]=e[r],o},{}),window.__reverseDot=e=>{const a={};for(const[o,r]of Object.entries(e)){const i=o.split(".");let n=a;for(let l=0;l<i.length;l++){const s=i[l];l===i.length-1?n[s]=r:(n[s]=n[s]||{},n=n[s])}}return a},window.__wildcard_change=(e,a,o="id")=>{let r=Array.isArray(a)?a.join(","):a;return e.replace(/^([\w\.]+)?(\*)([\w_\-\.\*]+)$/,`$1*${o}=${r}$3`)},window.__data_get=(e,a,o)=>{if(!e||typeof a!="string")return o;const r=tokenizePath(a);let i=e;for(const n in r){let l=r[n];if(i==null)return o;if(typeof i=="object"){let s,u=l?l.match(/^\*(.*)/):!1;if(u){let c;if(u[1]&&(c=u[1].match(/^(\w+)\=([\w\d\,]+)/))){let p=c[1],f=c[2].split(",");i=lodash.filter(i,m=>f.includes(lodash.isNumber(m[p])?m[p].toString():m[p]))}if(Array.isArray(i)){let p=parseInt(n);return i.map(f=>__data_get(f,r.slice(p+1).join("."),o))}else return Object.assign({},i)}else if(l.indexOf("[")!==-1){const c=extractKeyFromBracket(l);if(c!==void 0)i=i[c];else return o}else s=i[l];if(s)i=s;else if(i=lodash.get(i,r.slice(n).join(".")),i)break}else return o}return i},window.__snakeToHeadline=e=>e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "),window.__headline=e=>(e=snakeCase(e),e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")),window.__extractForeignKey=e=>{if(typeof e!="string")throw new TypeError("modelName must be a string");let a=lodash.snakeCase(e);return`${pluralize.isPlural(a)?pluralize.singular(a):a}_id`},window.__snakeNameFromForeignKey=e=>{let a=e.match(/(.*)(_id)/);return a?snakeCase(a[1]):!1},window.__nameFromForeignKey=e=>(e=__snakeNameFromForeignKey(e),e||__snakeToHeadline(e)),window.__moduleName=e=>{let a=e.match("/(.*)(_id)/");return a?__snakeNameFromForeignKey(a[1]):snakeCase(e)},window.__moduleTranslationName=e=>{const{t:a,te:o}=useI18n({useScope:"global"});let r=!1,i=e,n=__snakeNameFromForeignKey(i);return n&&(i=n,e=n),pluralize.isPlural(i)&&(r=!0,i=pluralize.singular(i)),i=snakeCase(i),e=snakeCase(e),o(`modules.${i}`)?a(`modules.${i}`,r?1:0):__snakeToHeadline(e)},window.__removeQueryParams=e=>{const a=new URL(window.location.href);let o={};for(const[n,l]of a.searchParams.entries())o[n]=l;e.forEach(n=>{delete o[n]}),Object.keys(o).forEach(n=>(o[n]===void 0||o[n]===null)&&delete o[n]);const r=new URLSearchParams;Object.keys(o).forEach(n=>{r.append(n,o[n])});const i=a.origin+a.pathname+(r.toString()?"?"+r.toString():"");window.history.replaceState({},"",i)},window.__pluralize=e=>pluralize.plural(e),window.__pushQueryParams=e=>{const a=new URL(window.location),o=a.searchParams;Object.entries(e).forEach(([r,i])=>{o.set(r,i)}),window.history.pushState({},"",a)},window.__formatCurrencyPrice=(e,a,o="en")=>{if(typeof e!="number"||isNaN(e))throw new Error("Amount must be a valid number");const r=new Intl.NumberFormat(o,{minimumFractionDigits:2,maximumFractionDigits:2});return`${a}${r.format(e)}`},window.__addParametersToUrl=(e,a)=>{const o=new URL(e),r=o.searchParams;return Object.entries(a).forEach(([i,n])=>{r.set(i,n)}),o.toString()},window.__removeParametersFromUrl=(e,a)=>{const o=new URL(e),r=o.searchParams;return Object.entries(a).forEach(([i,n])=>{r.delete(i)}),o.toString()}}function tokenizePath(e){const a=[];let o="",r=!1,i=!1;for(let n=0;n<e.length;n++){const l=e[n];if(i)o+=l,i=!1;else if(l==="\\")i=!0;else if(l==="[")o&&(a.push(o),o=""),r=!0,o+=l;else if(l==="]"){if(!r)throw new Error("Mismatched brackets in path");o+=l,a.push(extractBracketContent(o)),o="",r=!1}else l==="."&&!r?o&&(a.push(o),o=""):o+=l}return o&&a.push(o),a}function extractBracketContent(e){const a=e.slice(1,-1).trim();return/^\d+$/.test(a),a}function extractKeyFromBracket(e){const a=e.match(/\[([^\]]*)\]/);return a?a[1]:void 0}function assignObjectHelpers(){Object.equals||(Object.equals=function(e,a){for(const o in e){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1}for(const o in a){if(e.hasOwnProperty(o)!=a.hasOwnProperty(o))return!1;if(typeof e[o]!=typeof a[o])return!1;if(e.hasOwnProperty(o)){if(e[o]instanceof Array&&a[o]instanceof Array){if(!Array.equals(e[o],a[o]))return!1}else if(e[o]instanceof Object&&a[o]instanceof Object){if(!Object.equals(e[o],a[o]))return!1}else if(e[o]!=a[o])return!1}}return!0})}function assignArrayHelpers(){Array.equals||(Array.equals=function(e,a){if(!a||e.length!=a.length)return!1;for(let o=0,r=e.length;o<r;o++)if(e[o]instanceof Array&&a[o]instanceof Array){if(!e[o].equals(a[o]))return!1}else if(e[o]!=a[o])return!1;return!0})}function init(){assignBOMHElpers(),assignObjectHelpers(),assignArrayHelpers(),window.axios=axios$1,window.$=jquery,window._=lodash,window.$moment=hooks;const e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};window.axios.defaults.headers.common=e,axios$1.defaults.headers.common=e,window.axios.defaults.headers.post={"Content-Type":"application/json"};const a=o=>o>=200&&o<300||o===422||o===401||o===419;axios$1.defaults.validateStatus=a,window.axios.defaults.validateStatus=a,axios$1.interceptors.request.use(function(o){return store.commit(CONFIG.INCREASE_AXIOS_REQUEST),o},function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),Promise.reject(o)}),axios$1.interceptors.response.use(function(o){return store.commit(CONFIG.DECREASE_AXIOS_REQUEST),o.status===401&&o.data.message==="Unauthenticated."&&store.commit(USER.OPEN_LOGIN_MODAL),o.status===419||o.data.message,handleSuccessResponse(o),o},function(o){var r;return handleErrorResponse(o),store.commit(CONFIG.DECREASE_AXIOS_REQUEST),(r=o.response)==null||r.status,Promise.reject(o)})}function setup(){init(),window.__globalizeMethods([changeCase])}const UECompose=function(){setup()},typeToComponent={text:"v-text-field",password:"v-text-field",email:"v-text-field",tel:"v-text-field",url:"v-text-field",search:"v-text-field",number:"v-text-field",date:"v-date-picker",time:"v-time-picker",color:"v-color-picker",img:"v-img",textarea:"v-textarea",range:"v-slider",file:"v-file-input",switch:"v-switch",checkbox:"v-checkbox",card:"v-card",hidden:"input"},orderDirection="ASC",pathDelimiter=".",classKeyDelimiter="-",defaultID="form-base",isPicker="date|time|color",mouse="mouseenter|mouseleave",change="input|click",watch="focus|input|click|blur",display="resize|swipe|intersect",topAppendix="top",bottomAppendix="bottom",slotAppendix="slot",tooltipAppendix="tooltip",injectAppendix="inject",itemClassAppendix="item",typeClassAppendix="type",keyClassAppendix="key",arrayClassAppendix="array",propertyClassAppendix="prop",injectSlotAppendix=`${slotAppendix}-${injectAppendix}`,topSlotAppendix=`${slotAppendix}-${topAppendix}`,itemSlotAppendix=`${slotAppendix}-${itemClassAppendix}`,bottomSlotAppendix=`${slotAppendix}-${bottomAppendix}`,tooltipSlotAppendix=`${slotAppendix}-${tooltipAppendix}`,clear="clear",button="button",treeview="treeview",list="list",focus="focus",blur="blur",append="append",appendInner="append-inner",prepend="prepend",prependInner="prepend-inner",hour="hour",minute="minute",second="second",dropEffect="move",rowDefault={noGutters:!1},rowGroupDefault={noGutters:!1,class:"my-2"},colDefault={cols:"auto"},defaultSchemaIfValueIsNullOrUndefined=e=>({type:"text",label:e}),defaultSchemaIfValueIsString=e=>({type:"text",label:e}),defaultSchemaIfValueIsNumber=e=>({type:"number",label:e}),defaultSchemaIfValueIsBoolean=e=>({type:"checkbox",label:e}),defaultPickerSchemaText={type:"text",readonly:!0},defaultPickerSchemaMenu={closeOnContentClick:!1,transition:"scale-transition",nudgeRight:32,maxWidth:"290px",minWidth:"290px"},defaultInternGroupType="v-card",emits=["update:modelValue","update:schema","input","update","resize","blur","click"],_sfc_main$7={setup(){return{vueInstance:getCurrentInstance().appContext}},name:"VFormBase",emits,props:{id:{type:String,default:defaultID},rootId:{type:String,default:defaultID},row:{type:[Object]},rowGroup:{type:[Object]},col:{type:[Object,Number,String]},colGroup:{type:[Object,Number,String]},flex:{type:[Object,Number,String]},modelValue:{type:[Object,Array],default:()=>null},model:{type:[Object,Array]},schema:{type:[Object,Array],default:()=>({})},formItem:{type:Object,default:()=>({})},noAutoGenerateSchema:{type:Boolean,default:!1}},data(){return{flatCombinedArray:[],clear,button,treeview,list,focus,blur,append,appendInner,prepend,prependInner,hour,minute,second}},computed:{valueIntern(){const e=this.model||this.modelValue;return this.updateArrayFromState(e,this.formSchema),e},parent(){let e=this;if(e.$parent&&e.$parent.$parent)for(;e.id.startsWith(e.$parent.$parent.id+"-");)e=e.$parent.$parent;return e},index(){const e=this.id&&this.id.match(/\d+/g);return e?e.map(Number):null},getRow(){return this.row||rowDefault},flatCombinedArraySorted(){return orderBy(this.flatCombinedArray,["schema.sort"],[orderDirection])},storeStateData(){return this.updateArrayFromState(this.valueIntern,this.formSchema),this.valueIntern},storeStateSchema(){return this.updateArrayFromState(this.valueIntern,this.formSchema),formEvents.setSchemaInputField(this.formSchema,this.valueIntern),this.formSchema},formSchema:{get(){return this.schema},set(e){this.$emit("update:schema",e),this.schema.value=e}}},watch:{schema:{handler(e,a){},deep:!0},modelValue:{handler(e,a){JSON.stringify(Object.keys(__dot(e)))!==JSON.stringify(Object.keys(__dot(a)))&&this.rebuildArrays(this.valueIntern,this.formSchema)},deep:!0}},methods:{mapTypeToComponent(e){const a={...typeToComponent,...this.vueInstance.components};return a[e]?a[e]:`v-${e}`},isDateTimeColorTypeAndExtensionText(e){return isPicker.includes(e.schema.type)&&e.schema.ext==="text"},isDateTimeColorExtension(e){return isPicker.includes(e.schema.ext)},bindOptions(e){return isString(e)?{value:e,label:e}:e},bindSchemaText(e){return{...defaultPickerSchemaText,...e.schema.text}},bindSchemaMenu(e){return{...defaultPickerSchemaMenu,...e.schema.menu}},bindSchema(e){return Object.prototype.hasOwnProperty.call(e.schema,"falseValue")&&e.schema.falseValue==0&&(e.schema.falseValue="0"),omit(e.schema,["type","col","order","offset","ext","event"])},suspendClickAppend(e){return/(select|combobox|autocomplete)/.test(e.schema.type)?"":"click:append"},searchInputSync(e){return typeof e.schema.searchInput<"u"?"search-input":""},checkExtensionType(e){let a;return["number","range","date","time","color"].includes(e.schema.ext)&&(a=e.schema.ext),a||e.schema.type},checkInternType(e){return e.schema.typeInt||e.schema.type},checkInternGroupType(e){const a=e.schema.typeInt||defaultInternGroupType;return a.startsWith("v-")||a.startsWith("ue-")?a:`v-${a}`},getKeyForArray(e,a,o,r){const i=a.schema.key;return i?Array.isArray(i)?i.map(n=>o[n]).join("_"):o[i]:isNaN(r)?r:`${e}-${a.key}-${r}`},getImageSource(e){return e.schema.src?e.schema.src:`${e.schema.base}${e.value}${e.schema.tail}`},getIconValue(e){return e.schema.label?e.schema.label:this.setValue(e)},getShorthandTooltip(e){return isString(e)?{location:"top",text:e}:e},getShorthandTooltipLabel(e){return isString(e)?e:e&&e.label},getFormTopSlot(){return`${topSlotAppendix}-${this.id}`},getFormBottomSlot(){return`${bottomSlotAppendix}-${this.id}`},getKeyInjectSlot(e,a){return this.getKeyClassNameWithAppendix(e,`${injectSlotAppendix}-${a}-${keyClassAppendix}`)},getKeyTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${keyClassAppendix}`)},getKeyItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${keyClassAppendix}`)},getKeyBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${keyClassAppendix}`)},getKeyTooltipSlot(e){return this.getKeyClassNameWithAppendix(e,`${tooltipSlotAppendix}-${keyClassAppendix}`)},getTooltipSlot(e){return`${tooltipSlotAppendix}`},getArrayTopSlot(e){return this.getKeyClassNameWithAppendix(e,`${topSlotAppendix}-${arrayClassAppendix}`)},getArrayItemSlot(e){return this.getKeyClassNameWithAppendix(e,`${itemSlotAppendix}-${arrayClassAppendix}`)},getArrayBottomSlot(e){return this.getKeyClassNameWithAppendix(e,`${bottomSlotAppendix}-${arrayClassAppendix}`)},getTypeTopSlot(e){return this.getTypeClassNameWithAppendix(e,`${topSlotAppendix}-${typeClassAppendix}`)},getTypeItemSlot(e){return this.getTypeClassNameWithAppendix(e,`${itemSlotAppendix}-${typeClassAppendix}`)},getTypeBottomSlot(e){return this.getTypeClassNameWithAppendix(e,`${bottomSlotAppendix}-${typeClassAppendix}`)},getPropertyClassNameWithAppendix(e,a){return e.key?e.key.split(pathDelimiter).map(o=>`${a?a+classKeyDelimiter:""}${o}`).join(" "):""},getPropertyClassName(e){return this.getPropertyClassNameWithAppendix(e,propertyClassAppendix)},getKeyClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.key.replace(/\./g,"-")}`},getKeyClassName(e){return this.getKeyClassNameWithAppendix(e,keyClassAppendix)},getTypeClassNameWithAppendix(e,a){return`${a?a+classKeyDelimiter:""}${this.id?this.id+classKeyDelimiter:""}${e.schema.type}`},getTypeClassName(e){return this.getTypeClassNameWithAppendix(e,typeClassAppendix)},getClassName(e){return`${itemClassAppendix} ${this.getTypeClassName(e)} ${this.getKeyClassName(e)} ${this.getPropertyClassName(e)}`},gridMapper(e,a){e&&["sm","md","lg","xl"].map(o=>{e[o]&&(e[a+o]=e[o],delete e[o])})},gridReplaceXS(e,a){e&&e.xs&&(e[a]=e.xs,delete e.xs)},getGridAttributes(e){const a=e.schema.col||e.schema.flex,o=this.col||this.flex||colDefault,r=a?isPlainObject(a)?a:isNumber(a)||isString(a)?{cols:a}:{cols:"auto"}:o?isPlainObject(o)?o:isNumber(o)||isString(o)?{cols:o}:{cols:"auto"}:{cols:"auto"};this.gridReplaceXS(r,"cols");const i=e.schema.offset,n=i&&(isPlainObject(i)?i:{offset:i});this.gridMapper(n,"offset-"),this.gridReplaceXS(n,"offset");const l=e.schema.order,s=l&&(isPlainObject(l)?l:{order:l});return this.gridMapper(s,"order-"),this.gridReplaceXS(s,"order"),{...r,...n,...s}},getRowGroupOrArray(e){return e.schema.rowGroup||this.rowGroup||rowGroupDefault},getColGroupOrArray(e){return e.schema.col||this.col||colDefault},getInjectedScopedSlots(e,a){const o=new RegExp(`${injectSlotAppendix}-(.*?)-${keyClassAppendix}`);return Object.keys(this.$slots).filter(r=>r.includes(`${e}${classKeyDelimiter}${a.key.replace(/\./g,"-")}`)&&r.includes(injectSlotAppendix)).map(r=>r.match(o)[1])},toCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.toCtrl)?e.obj.schema.toCtrl(e):e.value},fromCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.fromCtrl)?e.obj.schema.fromCtrl(e):e.value},dropCtrl(e){return e.obj.schema&&isFunction(e.obj.schema.drop)?e.obj.schema.drop(e):e.value},dragstart(e,a){if(!a.schema.drag)return;e.dataTransfer.dropEffect=dropEffect,e.dataTransfer.effectAllowed=dropEffect;const o=this.onEvent(e,a);e.dataTransfer.setData("text",JSON.stringify(o))},dragover(e,a){return a.schema.drop?e.preventDefault():null},drop(e,a){if(!a.schema.drop||(a.dragEvent=JSON.parse(e.dataTransfer.getData("text")),a.key===a.dragEvent.obj.key&&a.id===a.dragEvent.id))return e.preventDefault();isFunction(a.schema.drop)&&(a.value=this.dropValue(a,e)),this.onEvent(e,a),e.preventDefault()},dropValue(e,a){return this.dropCtrl({value:e.dragEvent.value,obj:e,event:a,data:this.storeStateData,schema:this.storeStateSchema})},setValue(e,a){return e.schema.type==="wrap"?this.toCtrl({value:this.storeStateData,obj:e,data:this.storeStateData,schema:this.storeStateSchema}):this.toCtrl({value:e.value,obj:e,data:this.storeStateData,schema:this.storeStateSchema})},onInput(e,a,o="input"){e=this.fromCtrl({value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema}),e=!e||e===""?null:e,e=a.schema.type==="number"?Number(e):e,this.setObjectByPath(this.storeStateData,a.key,e),a.value=a.value!==e?e:a.value;let r=a.key;formEvents.onInputEventFormData(a,this.formSchema,this.storeStateData,this.flatCombinedArraySorted,this.valueIntern);const i={on:o,id:this.id,index:this.index,params:{index:this.index,lastValue:a.value},key:r,value:e,obj:a,data:this.storeStateData,schema:this.storeStateSchema,parent:this.parent};return this.emitValue(o,i),i},onInputWrapper(e,a){a.schema.type=="wrap"&&`${a.key}${e.key}`,this.emitValue("input",e)},onEvent(e={},a,o){const r=e&&e.srcElement&&e.srcElement.innerText,i=a.schema.model,n=a.schema.open,l=this.index,s=e.type!=="dragstart"?this.parent:void 0,u={on:e.type,id:this.id,index:l,params:{text:r,tag:o,model:i,open:n,index:l},key:a.key,value:a.value,obj:a,event:e,data:this.storeStateData,schema:this.storeStateSchema,parent:s};return delay(()=>{this.emitValue(e.type,u)}),u},onClickOutside(e,a){if(!(!a.schema||!a.schema.clickOutside)){if(isFunction(a.schema.clickOutside))return a.schema.clickOutside(a,e);this.emitValue("clickOutside",{on:"clickOutside",id:this.id,key:a.key,value:a.value,obj:a,params:{x:e.clientX,y:e.clientY},event:e,data:this.storeStateData,schema:this.storeStateSchema})}},onIntersect(e,a,o,r){const i=this.index;this.emitValue("intersect",{on:"intersect",id:this.id,index:i,key:r.key,value:r.value,obj:r,params:{isIntersecting:e,entries:a,observer:o},data:this.storeStateData,schema:this.storeStateSchema})},onSwipe(e,a){this.emitValue("swipe",{on:"swipe",id:this.id,key:a.key,value:a.value,obj:a,params:{tag:e},data:this.storeStateData,schema:this.storeStateSchema})},onResize(e){this.emitValue("resize",{on:"resize",id:this.id,params:{x:window.innerWidth,y:window.innerHeight},event:e,data:this.storeStateData,schema:this.storeStateSchema})},emitValue(e,a){const o=change.includes(e)?"onChange":watch.includes(e)?"onWatch":mouse.includes(e)?"onMouse":display.includes(e)?"onDisplay":e;(e==="onInput"||o==="onChange")&&this.$emit("update:modelValue",this.storeStateData),emits.includes(e)&&this.$emit(`${e}`,a)},deprecateEventCustomID(e){console.warn(`--- DEPRECATION ${e}:${this.id}: ----------------------------------------------------------------------------`),console.warn(`<v-form-base  @${e}:${this.id}="handler" /> is deprecated use simplified version <v-form-base  @${e}="handler" />`),console.warn("---------------------------------------------------------------------------------------------")},deprecateCombinedEvents(e,a){e!==a&&(console.warn("--- DEPRECATION Combined Listener:  --------------------------------------------------------------------------"),console.warn(`Combined Event-Listener '${e}' have been removed for better comprehensibility and simplification`),console.warn('Please use separate listener for each event like <v-form-base  @focus="handler" @input="handler" @blur="handler"/>'),console.warn("---------------------------------------------------------------------------------------------"))},setObjectByPath(e,a,o){const r=a.split(pathDelimiter);r.forEach((i,n)=>{n===r.length-1&&(e[i]=o),e=e[i]})},updateArrayFromState(e,a){this.flatCombinedArray.forEach(o=>{o.value=get(a,[o.key,"type"])==="select"?get(e,o.key,null)||get(a,[o.key,"default"],null):get(e,o.key,null),o.schema=get(a,o.key,null)})},sanitizeShorthandType(e,a){return isString(a)?{type:a,label:e}:a},flattenObjects(e={},a){const o={},r={};return Object.keys(a).forEach(i=>{a[i]=this.sanitizeShorthandType(i,a[i]);const n=Array.isArray(e[i])&&Array.isArray(a[i]),l=isPlainObject(e[i])&&!a[i].type,s=e[i]&&e[i].type&&a[i]&&a[i].type,u=!(e[i]instanceof File);if(n||l||s&&u){const{data:c,schema:p}=this.flattenObjects(e[i],a[i]);Object.keys(c).forEach(f=>{o[i+pathDelimiter+f]=c[f],r[i+pathDelimiter+f]=p[f]})}else o[i]=e[i],r[i]=a[i]}),{data:o,schema:r}},combineObjectsToArray({data:e,schema:a}){const o=[];return Object.keys(a).forEach(r=>{if(!isPlainObject(a[r])){console.warn(`Schema '${JSON.stringify(a)}' of Prop '${r}' must be a string with value of type key:'text' or a plainobject with at least key:{ type:'text'} definition.  Prop '${r}' will be ignored!`);return}o.push({key:r,value:e[r],schema:a[r]})}),o},flattenAndCombineToArray(e,a){const o=this.flattenObjects(e,a);return this.combineObjectsToArray(o)},autogenerateSchema(e){let a=JSON.stringify(e,(o,r)=>r===void 0?null:r);a=JSON.parse(a,(o,r)=>r==null?defaultSchemaIfValueIsNullOrUndefined(o):typeof r=="string"?defaultSchemaIfValueIsString(o):typeof r=="number"?defaultSchemaIfValueIsNumber(o):typeof r=="boolean"?defaultSchemaIfValueIsBoolean(o):r),Object.keys(a).forEach(o=>this.formSchema[o]=a[o])},tryAutogenerateModelStructure(e,a){Object.keys(a).forEach(o=>{if(!isEmpty(e[o]))return;const r=a[o];r.type==="group"?(e[o]={},this.tryAutogenerateModelStructure(e[o],r.schema)):r.type==="array"?(e[o]={},this.tryAutogenerateModelStructure(e[o],r.schema)):r.type==="list"?e[o]={}:isPlainObject(r)&&!r.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],r)),Array.isArray(r)&&!r.type&&(e[o]={},this.tryAutogenerateModelStructure(e[o],r))})},rebuildArrays(e,a){if(!e)throw`Property 'model' is null or undefined. Use '<v-form-base :model="myModel" :schema="mySchema" />'. myModel must be at least an empty Object.`;isEmpty(a)&&isEmpty(e)&&console.warn("At least one of the properties 'model' or 'schema' in <v-form-base /> must be at least an empty Object. Ignore this Warning on async loading 'model' or 'schema' "),this.tryAutogenerateModelStructure(e,a),isEmpty(a)&&!this.noAutoGenerateSchema&&this.autogenerateSchema(e),this.flatCombinedArray=this.flattenAndCombineToArray(this.storeStateData,this.storeStateSchema)},setCascadeSelect(e){var a;if(e.schema.type==="select"&&e.schema.hasOwnProperty("cascade")){const o=e.schema.name.includes("repeater")?e.schema.name.match(/repeater\d+-input\[\d+\]/)+`[${e.schema.cascade}]`:e.schema.cascade,r=e.schema.cascadeKey??"items",i=e.schema.itemValue??"id";this.formSchema[o][r]=((a=find(e.schema[r],[i,this.valueIntern[e.key]]))==null?void 0:a.schema)??[];const n=findIndex(this.flatCombinedArraySorted,["key",o]);this.storeStateData[o]=this.formSchema[o][r].length>0?this.formSchema[o][r][0].value:[],this.flatCombinedArraySorted[n].value=this.valueIntern[o],this.setCascadeSelect(this.flatCombinedArraySorted[n])}else e.schema.type==="select"&&e.schema.hasOwnProperty("autofill")&&e.schema.autofill.forEach(o=>{var r;this.formSchema[o].autofillable&&(this.storeStateData[o]=((r=find(e.schema.items,["id",this.valueIntern[e.key]]))==null?void 0:r[o])??"")})},updateInput(e,a){var o;if(Array.isArray(e)){const r=cloneDeep(this.formSchema);let i=!1;e.forEach(n=>{var l;n.key&&(n.value!==null||n.value!==void 0)&&((l=this.formSchema)!=null&&l[a.key])&&(r[a.key][n.key]=n.value,i=!0)}),i&&(this.formSchema=r)}else if(e.key&&e.value&&((o=this.formSchema)!=null&&o[a.key])){const r=cloneDeep(this.formSchema);r[a.key][e.key]=e.value,this.formSchema=r}}},created(){this.rebuildArrays(this.valueIntern,this.formSchema)}},_hoisted_1$6=["modelValue"],_hoisted_2$6={key:0,class:"mb-3"},_hoisted_3$6=["innerHTML"];function _sfc_render$6(e,a,o,r,i,n){const l=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-dynamic-component-renderer"),u=resolveComponent("ue-title"),c=resolveComponent("v-custom-form-base"),p=resolveComponent("v-input-locale"),f=resolveDirective("mask");return withDirectives((openBlock(),createBlock(VRow,mergeProps({id:o.id},n.getRow),{default:withCtx(()=>[renderSlot(e.$slots,n.getFormTopSlot(),{id:o.id}),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.flatCombinedArraySorted,(m,y)=>(openBlock(),createBlock(VTooltip,mergeProps({key:y,disabled:!m.schema.tooltip,ref_for:!0},n.getShorthandTooltip(m.schema.tooltip)),{activator:withCtx(({props:v})=>[withDirectives((openBlock(),createBlock(VCol,mergeProps({key:y,ref_for:!0},{...n.getGridAttributes(m),...v},{class:n.getClassName(m),draggable:m.schema.drag,onMouseenter:g=>n.onEvent(g,m),onMouseleave:g=>n.onEvent(g,m),onDragstart:g=>n.dragstart(g,m),onDragover:g=>n.dragover(g,m),onDrop:g=>n.drop(g,m)}),{default:withCtx(()=>[renderSlot(e.$slots,n.getTypeTopSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id})),renderSlot(e.$slots,n.getKeyTopSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id})),renderSlot(e.$slots,n.getTypeItemSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}),()=>[renderSlot(e.$slots,n.getKeyItemSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}),()=>[m.schema.type==="preview"&&m.schema.configuration?(openBlock(),createBlock(l,{key:0,configuration:m.schema.configuration,"bind-data":{...n.valueIntern,...o.formItem}},null,8,["configuration","bind-data"])):m.schema.type==="dynamic-component"?(openBlock(),createBlock(s,{key:1,subject:m.schema.subject},null,8,["subject"])):m.schema.type==="title"?(openBlock(),createBlock(u,mergeProps({key:2,text:m.schema.title??m.schema.text??m.schema.label??m.schema.name,ref_for:!0},n.bindSchema(m)),null,16,["text"])):m.schema.type==="radio"?(openBlock(),createBlock(VRadioGroup,mergeProps({key:3,ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m),onChange:g=>n.onInput(g,m)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.schema.options,(g,b)=>(openBlock(),createBlock(VRadio,mergeProps({key:b,ref_for:!0},n.bindOptions(g)),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),k=>({name:k,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,k),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,idx:b,option:g}))])}))]),1040))),128))]),_:2},1040,["modelValue","onChange"])):n.isDateTimeColorTypeAndExtensionText(m)?(openBlock(),createBlock(VMenu,mergeProps({key:4,ref_for:!0},n.bindSchemaMenu(m)),{activator:withCtx(({props:g})=>[createVNode(VTextField,mergeProps({ref_for:!0},{...n.bindSchemaText(m),...g},{modelValue:n.setValue(m)},{[toHandlerKey(n.suspendClickAppend(m))]:b=>n.onEvent(b,m,i.append)},{"onClick:appendInner":b=>n.onEvent(b,m,i.appendInner),"onClick:prepend":b=>n.onEvent(b,m,i.prepend),"onClick:prependInner":b=>n.onEvent(b,m,i.prependInner)}),null,16,["modelValue","onClick:appendInner","onClick:prepend","onClick:prependInner"])]),default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({ref_for:!0},n.bindSchema(m),{type:n.checkInternType(m),modelValue:n.setValue(m),"onUpdate:modelValue":g=>n.onInput(g,m),"onClick:hour":g=>n.onEvent({type:"click"},m,i.hour),"onClick:minute":g=>n.onEvent({type:"click"},m,i.minute),"onClick:second":g=>n.onEvent({type:"click"},m,i.second)}),null,16,["type","modelValue","onUpdate:modelValue","onClick:hour","onClick:minute","onClick:second"]))]),_:2},1040)):m.schema.type==="array"?(openBlock(!0),createElementBlock(Fragment,{key:5},renderList(n.setValue(m),(g,b)=>(openBlock(),createElementBlock("div",mergeProps({key:n.getKeyForArray(o.id,m,g,b),ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m)}),[renderSlot(e.$slots,n.getArrayTopSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:b,item:g})),renderSlot(e.$slots,n.getArrayItemSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:b,item:g}),()=>[createVNode(c,{id:`${o.id}-${m.key}-${b}`,modelValue:g,"onUpdate:modelValue":k=>g=k,schema:m.schema.schema,"onUpdate:schema":k=>m.schema.schema=k,row:n.getRowGroupOrArray(m),col:n.getColGroupOrArray(m),class:normalizeClass(`${o.id}-${m.key}`)},createSlots({_:2},[renderList(e.$slots,(k,C)=>({name:C,fn:withCtx(w=>[renderSlot(e.$slots,C,mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,idx:b,item:g,...w}))])}))]),1032,["id","modelValue","onUpdate:modelValue","schema","onUpdate:schema","row","col","class"])]),renderSlot(e.$slots,n.getArrayBottomSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:b,item:g}))],16,_hoisted_1$6))),128)):/^(wrap|group)$/.test(m.schema.type)?(openBlock(),createElementBlock(Fragment,{key:6},[m.schema&&m.schema.schema?(openBlock(),createBlock(resolveDynamicComponent(n.checkInternGroupType(m)),mergeProps({key:0,ref_for:!0},n.bindSchema(m),{title:m.schema.typeIntTitle??null,modelValue:m.schema.typeIntModelValue||!1,onClick:g=>n.onEvent(g,m)}),{default:withCtx(()=>[m.schema.noLabel!==!0&&(m.schema.title||m.schema.subtitle)?(openBlock(),createElementBlock("div",_hoisted_2$6,[m.schema.title?(openBlock(),createBlock(u,{key:0,padding:"a-0",margin:"b-0",transform:"none",weight:"bold",class:"text-body-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.title),1)]),_:2},1024)):createCommentVNode("",!0),m.schema.subtitle?(openBlock(),createBlock(u,{key:1,padding:"a-0",margin:"b-4",transform:"none",weight:"regular",class:"text-caption"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:m.schema.subtitle},null,8,_hoisted_3$6)]),_:2},1024)):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(c,{id:`${o.id}-${m.key}`,modelValue:n.setValue(m),schema:m.schema.schema,"onUpdate:schema":g=>m.schema.schema=g,row:n.getRowGroupOrArray(m),col:n.getColGroupOrArray(m),class:normalizeClass(`${o.id}-${m.key}`),onInput:g=>n.onInputWrapper(g,m)},createSlots({_:2},[renderList(e.$slots,(g,b)=>({name:b,fn:withCtx(k=>[renderSlot(e.$slots,b,mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...k}))])}))]),1032,["id","modelValue","schema","onUpdate:schema","row","col","class","onInput"])]),_:2},1040,["title","modelValue","onClick"])):createCommentVNode("",!0)],64)):m.schema.type===i.treeview?(openBlock(),createBlock(resolveDynamicComponent(e.v-i.treeview),mergeProps({key:7,open:m.schema.open,"onUpdate:open":g=>m.schema.open=g,ref_for:!0},n.bindSchema(m),{"onUpdate:open":g=>n.onEvent({type:"click"},m,"open"),"onUpdate:active":g=>n.onEvent({type:"click"},m,"selected"),items:m.schema.items,modelValue:n.setValue(m),"onUpdate:modelValue":g=>n.onInput(g,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(b=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...b}))])}))]),1040,["open","onUpdate:open","onUpdate:active","items","modelValue","onUpdate:modelValue"])):m.schema.type===i.list?(openBlock(),createBlock(VList,{key:8},{default:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,"label"),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}),()=>[m.schema.label?(openBlock(),createBlock(VToolbar,mergeProps({key:0,ref_for:!0},n.bindSchema(m),{dark:""}),{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.label),1)]),_:2},1024)]),_:2},1040)):createCommentVNode("",!0)]),createVNode(VList,mergeProps({modelValue:m.schema.model,"onUpdate:modelValue":g=>m.schema.model=g,ref_for:!0},n.bindSchema(m),{light:""}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.setValue(m),(g,b)=>(openBlock(),createBlock(VListItem,{key:b,onClick:k=>n.onEvent(k,m,i.list)},{default:withCtx(()=>[renderSlot(e.$slots,n.getArrayItemSlot(m),mergeProps({ref_for:!0},{obj:m,id:o.id,index:y,idx:b,item:g}),()=>[createVNode(VListItem,{icon:m.schema.icon,title:m.schema.item?g[m.schema.item]:g},null,8,["icon","title"])])]),_:2},1032,["onClick"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])]),_:2},1024)):/(switch|checkbox)/.test(m.schema.type)?(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({key:9,modelValue:n.setValue(m),"onUpdate:modelValue":g=>n.onInput(g,m),ref_for:!0},n.bindSchema(m)),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}))])}))]),1040,["modelValue","onUpdate:modelValue"])):m.schema.type==="file"?(openBlock(),createBlock(VFileInput,mergeProps({key:10,ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m),onFocus:g=>n.onEvent(g,m),onBlur:g=>n.onEvent(g,m),onChange:g=>n.onInput(g,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(b=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...b}))])}))]),1040,["modelValue","onFocus","onBlur","onChange"])):m.schema.type==="icon"?(openBlock(),createBlock(VIcon,mergeProps({key:11,ref_for:!0},n.bindSchema(m),{textContent:toDisplayString(n.getIconValue(m)),onClick:g=>n.onEvent(g,m)}),null,16,["textContent","onClick"])):m.schema.type==="slider"?(openBlock(),createBlock(VSlider,mergeProps({key:12,ref_for:!0},n.bindSchema(m),{"onUpdate:modelValue":g=>n.onInput(g,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}))])}))]),1040,["onUpdate:modelValue"])):m.schema.type==="img"?(openBlock(),createBlock(VImg,mergeProps({key:13,src:n.getImageSource(m),ref_for:!0},n.bindSchema(m),{onClick:g=>n.onEvent(g,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y}))])}))]),1040,["src","onClick"])):m.schema.type==="btn-toggle"?(openBlock(),createBlock(VBtnToggle,mergeProps({key:14,ref_for:!0},n.bindSchema(m),{modelValue:n.setValue(m),onChange:g=>n.onInput(g,m)}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.schema.options,(g,b)=>(openBlock(),createBlock(VBtn,mergeProps({key:b,ref_for:!0},n.bindOptions(g),{icon:!!g.icon}),{default:withCtx(()=>[createVNode(VIcon,{dark:m.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(n.bindOptions(g).icon),1)]),_:2},1032,["dark"]),createTextVNode(" "+toDisplayString(n.bindOptions(g).label),1)]),_:2},1040,["icon"]))),128))]),_:2},1040,["modelValue","onChange"])):m.schema.type==="btn"?(openBlock(),createBlock(VBtn,mergeProps({key:15,ref_for:!0},n.bindSchema(m),{onClick:g=>n.onEvent(g,m,i.button),type:"button"}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.setValue(m))+" ",1),m.schema.iconCenter?(openBlock(),createBlock(VIcon,{key:0,dark:m.schema.dark},{default:withCtx(()=>[createTextVNode(toDisplayString(m.schema.iconCenter),1)]),_:2},1032,["dark"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(m.schema.label),1)]),_:2},1040,["onClick"])):m.schema.translated?(openBlock(),createBlock(p,{key:16,type:n.mapTypeToComponent(m.schema.type),attributes:m.schema,modelValue:n.setValue(m),"onUpdate:modelValue":g=>n.onInput(g,m)},null,8,["type","attributes","modelValue","onUpdate:modelValue"])):m.schema.mask?withDirectives((openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({key:17,ref_for:!0},n.bindSchema(m),{type:n.checkExtensionType(m),modelValue:n.setValue(m),obj:m,[n.searchInputSync(m)]:m.schema.searchInput,["onUpdate:"+n.searchInputSync(m)]:g=>m.schema.searchInput=g,onFocus:g=>n.onEvent(g,m),onBlur:g=>n.onEvent(g,m)},{[toHandlerKey(n.suspendClickAppend(m))]:g=>n.onEvent(g,m,i.append)},{"onClick:appendInner":g=>n.onEvent(g,m,i.appendInner),"onClick:prepend":g=>n.onEvent(g,m,i.prepend),"onClick:prependInner":g=>n.onEvent(g,m,i.prependInner),"onClick:clear":g=>n.onEvent(g,m,i.clear),"onClick:hour":g=>n.onEvent({type:"click"},m,i.hour),"onClick:minute":g=>n.onEvent({type:"click"},m,i.minute),"onClick:second":g=>n.onEvent({type:"click"},m,i.second),"onUpdate:modelValue":g=>n.onInput(g,m),"onUpdate:input":g=>n.updateInput(g,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(()=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,model:n.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"])),[[f,m.schema.mask]]):(openBlock(),createBlock(resolveDynamicComponent(n.mapTypeToComponent(m.schema.type)),mergeProps({key:18,ref_for:!0},n.bindSchema(m),{type:n.checkExtensionType(m),modelValue:n.setValue(m),obj:m,[n.searchInputSync(m)]:m.schema.searchInput,["onUpdate:"+n.searchInputSync(m)]:g=>m.schema.searchInput=g,onFocus:g=>n.onEvent(g,m),onBlur:g=>n.onEvent(g,m)},{[toHandlerKey(n.suspendClickAppend(m))]:g=>n.onEvent(g,m,i.append)},{"onClick:appendInner":g=>n.onEvent(g,m,i.appendInner),"onClick:prepend":g=>n.onEvent(g,m,i.prepend),"onClick:prependInner":g=>n.onEvent(g,m,i.prependInner),"onClick:clear":g=>n.onEvent(g,m,i.clear),"onClick:hour":g=>n.onEvent({type:"click"},m,i.hour),"onClick:minute":g=>n.onEvent({type:"click"},m,i.minute),"onClick:second":g=>n.onEvent({type:"click"},m,i.second),"onUpdate:modelValue":g=>n.onInput(g,m),"onUpdate:input":g=>n.updateInput(g,m)}),createSlots({_:2},[renderList(n.getInjectedScopedSlots(o.id,m),g=>({name:g,fn:withCtx(b=>[renderSlot(e.$slots,n.getKeyInjectSlot(m,g),mergeProps({ref_for:!0},{id:o.id,obj:m,index:y,...b,model:n.valueIntern}))])}))]),1040,["type","modelValue","obj","onFocus","onBlur","onClick:appendInner","onClick:prepend","onClick:prependInner","onClick:clear","onClick:hour","onClick:minute","onClick:second","onUpdate:modelValue","onUpdate:input"]))])]),renderSlot(e.$slots,n.getTypeBottomSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id})),renderSlot(e.$slots,n.getKeyBottomSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}))]),_:2},1040,["class","draggable","onMouseenter","onMouseleave","onDragstart","onDragover","onDrop"])),[[vShow,!m.schema.hidden],[Intersect,(g,b,k)=>n.onIntersect(g,b,k,m)],[Touch,{left:()=>n.onSwipe("left",m),right:()=>n.onSwipe("right",m),up:()=>n.onSwipe("up",m),down:()=>n.onSwipe("down",m)}],[ClickOutside,g=>n.onClickOutside(g,m)]]),m.schema.spacer?(openBlock(),createBlock(VSpacer,{key:`s-${y}`})):createCommentVNode("",!0)]),default:withCtx(()=>[renderSlot(e.$slots,n.getTooltipSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}),()=>[createBaseVNode("span",null,toDisplayString(n.getShorthandTooltipLabel(m.schema.tooltip)),1)]),renderSlot(e.$slots,n.getKeyTooltipSlot(m),mergeProps({ref_for:!0},{obj:m,index:y,id:o.id}))]),_:2},1040,["disabled"]))),128)),renderSlot(e.$slots,n.getFormBottomSlot(),{id:o.id})]),_:3},16,["id"])),[[Resize,n.onResize,void 0,{quiet:!0}]])}const VCustomFormBase=_export_sfc(_sfc_main$7,[["render",_sfc_render$6]]),_sfc_main$6={emits:["update:modelValue","opened","confirm","cancel"],props:{...makeModalProps$1()},setup(e,a){return{...useModal(e,a)}},computed:{textCancel(){return this.cancelText!==""?this.cancelText:this.$t("fields.cancel")},textConfirm(){return this.confirmText!==""?this.confirmText:this.$t("fields.confirm")}},watch:{dialog(e){e&&this.emitOpened()}},methods:{toggle(){return this.toggleModal()},close(e=null){return e&&e(),this.closeModal()},open(e=null,a=null){if(e&&e(),this.openModal(),a){const o=this;this.$nextTick().then(()=>{o.$refs.modalConfirm&&o.$refs.modalConfirm.$el.addEventListener("click",r=>{a(),o.close()}),o.$refs.modalCancel&&o.$refs.modalCancel.$el.addEventListener("click",r=>{o.close()})})}return!0},async confirm(e=null){let a=!0;if(e)a=!!await e(),a&&(this.closeModal(),this.$emit("confirm"));else if(this.confirmCallback&&typeof this.confirmCallback=="function"){let o=await this.confirmCallback();a=typeof o=="boolean"?o:!0,a&&this.confirmClosing&&this.closeModal(),this.$emit("confirm")}else this.closeModal(),this.$emit("confirm");return a},async cancel(e=null){if(e&&e(),this.rejectCallback&&typeof this.rejectCallback=="function"){let a=await this.rejectCallback();shouldClose=typeof a=="boolean"?a:!0,shouldClose&&this.rejectClosing&&this.closeModal()}else this.closeModal()},toggleFullscreen(){this.full=!this.full},screenListener(e){this.full=e.target.fullScreen}}},_hoisted_1$5={key:0,class:"text-h5 text-center",style:{"word-break":"break-word"}},_hoisted_2$5={class:"d-flex align-center"},_hoisted_3$5=["innerHTML"];function _sfc_render$5(e,a,o,r,i,n){const l=resolveComponent("ue-title");return openBlock(),createBlock(VDialog,mergeProps({modelValue:e.dialog,"onUpdate:modelValue":a[5]||(a[5]=s=>e.dialog=s)},e.$bindAttributes(),{transition:e.transition,fullscreen:e.full,width:e.modalWidth}),createSlots({default:withCtx(s=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps({...s,isFullActive:this.full,toggleFullscreen:()=>this.toggleFullscreen(),close:()=>this.close(),confirm:()=>this.confirm(),open:()=>this.open()})),()=>[renderSlot(e.$slots,"systembar",{},()=>[e.hasSystembar?(openBlock(),createBlock(VLayout,{key:0,style:{height:"40px"}},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VSystemBar,{dark:""},{default:withCtx(()=>[createVNode(VIcon,{onClick:a[0]||(a[0]=u=>n.toggleFullscreen()),"x-small":e.full},{default:withCtx(()=>a[6]||(a[6]=[createTextVNode(" mdi-checkbox-blank-outline ")])),_:1},8,["x-small"]),createVNode(VIcon,{onClick:a[1]||(a[1]=u=>n.close())},{default:withCtx(()=>a[7]||(a[7]=[createTextVNode("mdi-close")])),_:1})]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),renderSlot(e.$slots,"body",mergeProps({textCancel:this.textCancel,textConfirm:this.textConfirm,textDescription:this.description,isFullActive:this.full,open:()=>this.open(),close:()=>this.close(),confirm:()=>this.confirm(),toggleFullscreen:()=>this.toggleFullscreen()},{closeDialog:n.close}),()=>[createVNode(VCard,null,{default:withCtx(()=>[e.title?(openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(l,{justify:e.titleJustify,padding:e.titlePadding,class:normalizeClass(e.titleClass)},{right:withCtx(()=>[createBaseVNode("div",_hoisted_2$5,[e.hasFullscreenButton?(openBlock(),createBlock(VBtn,{key:0,icon:e.full?"mdi-fullscreen-exit":"mdi-fullscreen",variant:"plain",color:"grey-darken-5",size:"compact",onClick:n.toggleFullscreen},null,8,["icon","onClick"])):createCommentVNode("",!0),e.hasCloseButton?(openBlock(),createBlock(VBtn,{key:1,icon:"$close",variant:"plain",size:"compact",color:"grey-darken-5",rounded:"",onClick:a[2]||(a[2]=u=>n.close())})):createCommentVNode("",!0)])]),default:withCtx(()=>[createTextVNode(toDisplayString(e.title)+" ",1)]),_:1},8,["justify","padding","class"]),e.hasTitleDivider?(openBlock(),createBlock(VDivider,{key:0})):createCommentVNode("",!0)])):createCommentVNode("",!0),e.description||e.$slots["body.description"]?(openBlock(),createBlock(VCardText,{key:1,class:normalizeClass([e.descriptionBodyClass,{"pa-0":e.noDefaultBodyPadding}]),style:{"word-break":"break-word"}},{default:withCtx(()=>[renderSlot(e.$slots,"body.description",normalizeProps(guardReactiveProps({description:e.description})),()=>[createBaseVNode("div",{innerHTML:e.description},null,8,_hoisted_3$5)])]),_:3},8,["class"])):createCommentVNode("",!0),e.noActions?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:2},[createVNode(VDivider,{class:"my-2"}),createVNode(VCardActions,null,{default:withCtx(()=>[renderSlot(e.$slots,"body.options",normalizeProps(guardReactiveProps({description:e.description})),()=>[createVNode(VSpacer),e.noCancelButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:0,ref:"modalCancel"},e.rejectButtonAttributes,{class:"modal-cancel",onClick:a[3]||(a[3]=u=>n.cancel()),loading:e.rejectLoading,disabled:e.rejectLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.textCancel),1)]),_:1},16,["loading","disabled"])),e.noConfirmButton?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,mergeProps({key:1,ref:"modalConfirm"},e.confirmButtonAttributes,{class:"modal-confirm",onClick:a[4]||(a[4]=u=>n.confirm()),loading:e.confirmLoading,disabled:e.confirmLoading}),{default:withCtx(()=>[createTextVNode(toDisplayString(n.textConfirm),1)]),_:1},16,["loading","disabled"]))]),createVNode(VSpacer)]),_:3})],64))]),_:3})])])]),_:2},[renderList(e.$slots,(s,u)=>({name:u,fn:withCtx(c=>[renderSlot(e.$slots,u,normalizeProps(guardReactiveProps(c||{})))])}))]),1040,["modelValue","transition","fullscreen","width"])}const UEModal=_export_sfc(_sfc_main$6,[["render",_sfc_render$5]]),component="MEDIA-LIBRARY",api={get(e,a,o,r){axios$1.get(e,{params:a}).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component,{message:"Media library get error.",value:i}),r&&typeof r=="function"&&r(i)})},update(e,a,o,r){axios$1.put(e,a).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component,{message:"Media library update error.",value:i}),r&&typeof r=="function"&&r(i)})},delete(e,a,o){axios$1.delete(e).then(function(r){a&&typeof a=="function"&&a(r)},function(r){globalError$1(component,{message:"Media library delete error.",value:r}),o&&typeof o=="function"&&o(r)})},bulkDelete(e,a,o,r){axios$1.put(e,a).then(function(i){o&&typeof o=="function"&&o(i)},function(i){globalError$1(component,{message:"Media library bulk delete error.",value:i}),r&&typeof r=="function"&&r(i)})}},scrollToY=function(e){const a={el:document,offset:0,duration:250,easing:"linear"},o=Date.now();let r=0,i=!1;const n={linear:function(m){return m},easeIn:function(m){return m*m*m},easeOut:function(m){return--m*m*m+1},easeInOut:function(m){return m<.5?4*m*m*m:(m-1)*(2*m-2)*(2*m-2)+1}},l=window.requestAnimationFrame;let s;for(const m in e)typeof e[m]<"u"&&(a[m]=e[m]);if(a.el===document&&(i=!0,a.el=document.documentElement.scrollTop?document.documentElement:document.body),r=a.el.scrollTop,r===a.offset)return;function u(m,y){return m<y?m:y}function c(){if(l)try{cancelAnimationFrame(s)}catch{}else clearTimeout(s)}function p(){if(i&&r===0)document.documentElement.scrollTop=1,document.body.scrollTop=1,r=1,a.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(p);else{const m=Date.now(),y=u(1,(m-o)/a.duration),v=n[a.easing](y);a.el.scrollTop=v*(a.offset-r)+r,y<1?f():(c(),(typeof a.onComplete).toLowerCase()==="function"&&a.onComplete.call(this))}}function f(){l?s=requestAnimationFrame(p):s=setTimeout(function(){p()},1e3/60)}f()},mediaItemsMixin={props:{items:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},usedItems:{type:Array,default:()=>[]}},computed:{...mapState({itemsLoading:e=>e.mediaLibrary.loading}),replacingMediaIds:function(){return this.itemsLoading.reduce((e,a)=>(a.isReplacement&&(e[a.replacementId]=a.id),e),{})}},methods:{isSelected:function(e,a=["id"]){return!!this.selectedItems.find(o=>a.every(r=>o[r]===e[r]))},isUsed:function(e,a=["id"]){return!!this.usedItems.find(o=>a.every(r=>o[r]===e[r]))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}},_sfc_main$5={name:"A17Mediagrid",mixins:[mediaItemsMixin],computed:{...mapState({showFileName:e=>e.mediaLibrary.showFileName})},methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},_hoisted_1$4={class:"mediagrid"},_hoisted_2$4={class:"mediagrid__button s--loading"},_hoisted_3$4={key:0,class:"mediagrid__progress"},_hoisted_4$4={key:1,class:"mediagrid__progressError"},_hoisted_5$4=["onClick"],_hoisted_6$4=["src"],_hoisted_7$3=["title"];function _sfc_render$4(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(l,s)=>withDirectives((openBlock(),createElementBlock("div",{class:"mediagrid__item",key:"mediaLoading_"+l.id},[createBaseVNode("span",_hoisted_2$4,[l.error?(openBlock(),createElementBlock("span",_hoisted_4$4,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_3$4,[createBaseVNode("span",{class:"mediagrid__progressBar",style:normalizeStyle(n.loadingProgress(s))},null,4)]))])])),[[vShow,!l.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,l=>(openBlock(),createElementBlock("div",{class:normalizeClass(["mediagrid__item",{"s--hasFilename":e.showFileName}]),key:l.id},[createBaseVNode("span",{class:normalizeClass(["mediagrid__button",{"s--picked":e.isSelected(l),"s--used":e.isUsed(l)||!!e.replacingMediaIds[l.id],"s--disabled":l.disabled}]),onClick:[withModifiers(s=>e.toggleSelection(l),["exact"]),withModifiers(s=>e.shiftToggleSelection(l),["shift","exact"])]},[createBaseVNode("img",{src:l.thumbnail,class:"mediagrid__img"},null,8,_hoisted_6$4)],10,_hoisted_5$4),e.showFileName?(openBlock(),createElementBlock("p",{key:0,title:l.name,class:"mediagrid__name"},toDisplayString(l.name),9,_hoisted_7$3)):createCommentVNode("",!0)],2))),128))])}const MediaGrid=_export_sfc(_sfc_main$5,[["render",_sfc_render$4],["__scopeId","data-v-a5c29ae6"]]),_sfc_main$4={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:()=>["id"]}},mixins:[mediaItemsMixin],filters,computed:{allItems:function(){return this.items.map(e=>{if(this.replacingMediaIds[e.id]){const a=this.itemsLoading.find(o=>o.replacementId===e.id);return a||e}else return e})},columnsNumber:function(){if(!this.items.length)return 0;let e=this.extraColumns.length;const a=this.items[0];return a.hasOwnProperty("id")&&e++,a.hasOwnProperty("name")&&e++,a.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];const e=this.items[0];return Object.keys(e).filter(a=>!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(a)&&typeof e[a]=="string")},checkedItems:function(){const e=[];return this.selectedItems.length&&this.selectedItems.forEach(function(a){e.push(a.endpointType+"_"+a.id)}),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,a){const o=a?this[a]:this.itemsLoading;return{width:o[e].progress?o[e].progress+"%":"0%"}}}},_hoisted_1$3={class:"itemlist"},_hoisted_2$3={class:"itemlist__table"},_hoisted_3$3=["colspan"],_hoisted_4$3={key:0,class:"itemlist__progress"},_hoisted_5$3={key:1,class:"itemlist__progressError"},_hoisted_6$3=["onClick"],_hoisted_7$2={key:0,class:"itemlist__cell itemlist__cell--btn"},_hoisted_8$2={key:1,class:"itemlist__cell itemlist__cell--thumb"},_hoisted_9$2=["src"],_hoisted_10$2={key:2,class:"itemlist__cell itemlist__cell--name"},_hoisted_11$1=["innerHTML"],_hoisted_12={key:1},_hoisted_13=["colspan"],_hoisted_14={key:0,class:"itemlist__progress"},_hoisted_15={key:1,class:"itemlist__progressError"};function _sfc_render$3(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("table",_hoisted_2$3,[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.itemsLoading,(l,s)=>withDirectives((openBlock(),createElementBlock("tr",{class:"itemlist__row",key:l.id},[createBaseVNode("td",{class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":l.error}]),colspan:n.columnsNumber},[l.error?(openBlock(),createElementBlock("span",_hoisted_5$3,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_4$3,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(n.loadingProgress(s))},null,4)]))],10,_hoisted_3$3)])),[[vShow,!l.isReplacement]])),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.allItems,(l,s)=>(openBlock(),createElementBlock("tr",{class:normalizeClass(["itemlist__row",{"s--picked":e.isSelected(l,o.keysToCheck),"s--disabled":l.disabled||!!e.replacingMediaIds[l.id]}]),key:`${l.endpointType}_${l.id}`,onClick:[withModifiers(u=>e.toggleSelection(l),["exact","prevent"]),withModifiers(u=>e.shiftToggleSelection(l),["shift","exact","prevent"])]},[l.isReplacement?l.isReplacement?(openBlock(),createElementBlock("td",{key:1,class:normalizeClass(["itemlist__cell itemlist__cell--loading",{"itemlist__cell--error":l.error}]),colspan:n.columnsNumber},[l.error?(openBlock(),createElementBlock("span",_hoisted_15,"Upload Error")):(openBlock(),createElementBlock("span",_hoisted_14,[createBaseVNode("span",{class:"itemlist__progressBar",style:normalizeStyle(n.loadingProgress(s,"allItems"))},null,4)]))],10,_hoisted_13)):createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[l.hasOwnProperty("id")?(openBlock(),createElementBlock("td",_hoisted_7$2)):createCommentVNode("",!0),l.hasOwnProperty("thumbnail")?(openBlock(),createElementBlock("td",_hoisted_8$2,[createBaseVNode("img",{src:l.thumbnail},null,8,_hoisted_9$2)])):createCommentVNode("",!0),l.hasOwnProperty("name")?(openBlock(),createElementBlock("td",_hoisted_10$2,[l.hasOwnProperty("renderHtml")?(openBlock(),createElementBlock("div",{key:0,innerHTML:l.name},null,8,_hoisted_11$1)):(openBlock(),createElementBlock("div",_hoisted_12,toDisplayString(l.name),1))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.extraColumns,(u,c)=>(openBlock(),createElementBlock("td",{class:normalizeClass(["itemlist__cell",n.rowClass(u)]),key:c},[u==="size"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(l[u].toUpperCase()),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(l[u]),1)],64))],2))),128))],64))],10,_hoisted_6$3))),128))])])])}const ItemList=_export_sfc(_sfc_main$4,[["render",_sfc_render$3],["__scopeId","data-v-c7fcfc1f"]]),_sfc_main$3={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:{loadingProgress:function(){return{transform:"translateX("+(-100+this.uploadProgress)+"%)"}},...mapState({mediasLoading:e=>e.mediaLibrary.loading,uploadProgress:e=>e.mediaLibrary.uploadProgress})},methods:{cancelUpload:function(e){this.$store.commit(MEDIA_LIBRARY.DONE_UPLOAD_MEDIA,e)}}},_hoisted_1$2={class:"mediasidebar__inner mediasidebar__inner--single"},_hoisted_2$2={class:"f--note"},_hoisted_3$2={class:"mediasidebar__progress"},_hoisted_4$2={class:"mediasidebar__loading"},_hoisted_5$2={key:0,class:"mediasidebar__errorMessage"},_hoisted_6$2=["onClick"];function _sfc_render$2(e,a,o,r,i,n){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("p",_hoisted_2$2,"Uploading "+toDisplayString(e.mediasLoading.length)+" file"+toDisplayString(e.mediasLoading.length>1?"s":""),1),createBaseVNode("div",_hoisted_3$2,[createBaseVNode("span",{class:"mediasidebar__progressBar",style:normalizeStyle(n.loadingProgress)},null,4)]),createBaseVNode("div",_hoisted_4$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.mediasLoading,l=>(openBlock(),createElementBlock("p",{class:normalizeClass(["f--small",{"s--error":l.error}]),key:l.id},[l.error?(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString(l.errorMessage),1)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(l.name),1),a[0]||(a[0]=createTextVNode()),l.error?(openBlock(),createElementBlock("a",{key:1,href:"#",onClick:withModifiers(s=>n.cancelUpload(l),["prevent"])},"Cancel",8,_hoisted_6$2)):createCommentVNode("",!0)],2))),128))])])}const UeMediaSidebarUpload=_export_sfc(_sfc_main$3,[["render",_sfc_render$2],["__scopeId","data-v-2c5af2a8"]]),_sfc_main$2={name:"A17MediaSidebar",components:{"ue-mediasidebar-upload":UeMediaSidebarUpload,SelectTag},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[],deleteModalActive:!1}},filters,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:{firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return this.medias.length===1},hasMedia:function(){return this.medias.length>0},isImage:function(){return this.type.value==="image"},sharedTags:function(){return this.medias.map(e=>e.tags).reduce((e,a)=>e.filter(o=>a.includes(o)))},sharedMetadata(){return(e,a)=>this.hasMultipleMedias?this.medias.map(o=>o.metadatas.default[e]).every((o,r,i)=>Array.isArray(o)?o[0]==i[0]:o==i[0])?this.firstMedia.metadatas.default[e]:a==="object"?{}:a==="boolean"?!1:"":typeof this.firstMedia.metadatas.default[e]=="object"||a==="boolean"?this.firstMedia.metadatas.default[e]:{}},captionValues(){return typeof this.firstMedia.metadatas.default.caption=="object"?this.firstMedia.metadatas.default.caption:{}},altValues(){return typeof this.firstMedia.metadatas.default.altText=="object"?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map(function(e){return e.id}).join(",")},mediasIdsToDelete:function(){return this.medias.filter(e=>e.deleteUrl).map(e=>e.id)},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every(e=>e.deleteUrl)||this.hasMultipleMedias&&!this.medias.every(e=>!e.deleteUrl)},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){return this.extraMetadatas.filter(e=>e.multiple&&!this.translatableMetadatas.includes(e.name))},singleOnlyMetadatas:function(){return this.extraMetadatas.filter(e=>!e.multiple||e.multiple&&this.translatableMetadatas.includes(e.name))},...mapState({mediasLoading:e=>e.mediaLibrary.loading,useWysiwyg:e=>e.mediaLibrary.config.useWysiwyg,wysiwygOptions:e=>e.mediaLibrary.config.wysiwygOptions})},methods:{replaceMedia:function(){this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open(()=>{this.triggerMediaReplace()}):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){if(this.loading)return!1;if(this.mediasIdsToDelete.length!==this.medias.length){this.$refs.warningDelete.open();return}this.$main().$refs.deleteWarningMediaModal?this.$main().$refs.deleteWarningMediaModal.open(null,()=>{this.deleteSelectedMedias()}):this.deleteSelectedMedias()},deleteSelectedMedias:function(){if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?api.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{}):api.delete(this.firstMedia.deleteUrl,e=>{this.loading=!1,this.$emit("delete",this.mediasIdsToDelete),this.$refs.warningDelete.close(),this.$store.commit(ALERT$1.SET_ALERT,{message:e.data.message,variant:e.data.variant})},e=>{})},clear:function(){this.$emit("clear")},getFormData:function(e){return FormDataAsObj(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){this.focused=!1,this.save();const e=this.$refs.form,a=this.getFormData(e);this.hasSingleMedia?(a.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=a.alt_text:this.firstMedia.metadatas.default.altText="",a.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=a.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach(o=>{a.hasOwnProperty(o.name)?this.firstMedia.metadatas.default[o.name]=a[o.name]:this.firstMedia.metadatas.default[o.name]=""})):this.singleAndMultipleMetadatas.forEach(o=>{a.hasOwnProperty(o.name)&&this.medias.forEach(r=>{r.metadatas.default[o.name]=a[o.name]})})},save:function(){const e=this.$refs.form;if(!e)return;const a=this.getFormData(e);!isEqual(a,this.previousSavedData)&&!this.loading&&(this.previousSavedData=a,this.update(e))},submit:function(e){e.preventDefault(),this.save()},update:function(e){if(this.loading)return;this.loading=!0;const a=this.getFormData(e);a.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;const o=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;api.update(o,a,r=>{this.loading=!1,r.data.tags&&this.$emit("tagUpdated",r.data.tags),this.hasMultipleMedias&&r.data.items&&this.medias.forEach(function(i){r.data.items.some(function(n){return n.id===i.id&&(i.tags=n.tags),n.id===i.id})})},r=>{this.loading=!1,r.data.message})}}},_hoisted_1$1={class:"mediasidebar"},_hoisted_2$1={key:0,class:"f--note"},_hoisted_3$1={key:1,class:"mediasidebar__info"},_hoisted_4$1=["src","alt"],_hoisted_5$1={class:"mediasidebar__name"},_hoisted_6$1={key:0,class:"mediasidebar__loader"},_hoisted_7$1=["value"],_hoisted_8$1=["value"],_hoisted_9$1={class:"d-flex flex-column align-center justify-center"},_hoisted_10$1={class:"modal--tiny-title"};function _sfc_render$1(e,a,o,r,i,n){const l=resolveComponent("ue-mediasidebar-upload"),s=resolveComponent("SelectTag"),u=resolveComponent("ue-modal");return openBlock(),createElementBlock("div",_hoisted_1$1,[e.mediasLoading.length?(openBlock(),createBlock(l,{key:0})):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:normalizeClass(["mediasidebar__inner",n.containerClasses])},[n.hasMedia?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_2$1,toDisplayString(e.$trans("media-library.sidebar.empty-text","No file selected")),1)),n.hasMultipleMedias?(openBlock(),createElementBlock("p",_hoisted_3$1,[createTextVNode(toDisplayString(o.medias.length)+" "+toDisplayString(e.$trans("media-library.sidebar.files-selected","files selected"))+" ",1),createBaseVNode("a",{href:"#",onClick:a[0]||(a[0]=withModifiers((...c)=>n.clear&&n.clear(...c),["prevent"]))},toDisplayString(e.$trans("media-library.sidebar.clear","Clear")),1)])):createCommentVNode("",!0),n.hasSingleMedia?(openBlock(),createElementBlock(Fragment,{key:2},[n.isImage?(openBlock(),createElementBlock("img",{key:0,src:n.firstMedia.thumbnail,class:"mediasidebar__img",alt:n.firstMedia.original},null,8,_hoisted_4$1)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_5$1,toDisplayString(n.firstMedia.name),1),createVNode(VList,{density:"compact",class:"bg-transparent"},{default:withCtx(()=>[n.firstMedia.size?(openBlock(),createBlock(VListItem,{key:0,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode("File size: "+toDisplayString(n.firstMedia.size.toUpperCase()),1)]),_:1})]),_:1})):createCommentVNode("",!0),n.isImage&&n.firstMedia.width+n.firstMedia.height?(openBlock(),createBlock(VListItem,{key:1,color:"primary",variant:"tonal"},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("media-library.sidebar.dimensions","Dimensions"))+": "+toDisplayString(n.firstMedia.width)+" × "+toDisplayString(n.firstMedia.height),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})],64)):createCommentVNode("",!0),n.hasMedia?(openBlock(),createBlock(VRow,{key:3,align:"center",justify:"space-around",class:"mt-12"},{default:withCtx(()=>[n.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:0,href:n.firstMedia.original,download:"",icon:"mdi-download",size:"small"},null,8,["href"])):createCommentVNode("",!0),n.allowDelete&&o.authorized?(openBlock(),createBlock(VBtn,{key:1,icon:"$trash",size:"small",type:"button",onClick:n.deleteSelectedMediasValidation},null,8,["onClick"])):(openBlock(),createBlock(VBtn,{key:2,icon:"$trash",disabled:"",size:"small",type:"button"})),n.hasSingleMedia?(openBlock(),createBlock(VBtn,{key:3,icon:"mdi-recycle",size:"small",type:"button",onClick:n.replaceMedia},null,8,["onClick"])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)],2),n.hasMedia?(openBlock(),createElementBlock("form",{key:0,ref:"form",class:"mediasidebar__inner mediasidebar__form",onSubmit:a[4]||(a[4]=(...c)=>n.submit&&n.submit(...c))},[e.loading?(openBlock(),createElementBlock("span",_hoisted_6$1,a[6]||(a[6]=[createBaseVNode("span",{class:"loader loader--small"},[createBaseVNode("span")],-1)]))):createCommentVNode("",!0),n.hasMultipleMedias?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(s,{label:e.$trans("media-library.sidebar.tags"),key:n.firstMedia.id+"-"+o.medias.length,name:"","v-model":n.hasMultipleMedias?n.sharedTags:n.firstMedia.tags,options:e.tags,selected:n.hasMultipleMedias?n.sharedTags:n.firstMedia.tags,searchable:!0,multiple:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:o.type.tagsEndpoint,onChange:n.save},null,8,["label","v-model","options","selected","emptyText","endpoint","onChange"])),n.isImage?(openBlock(),createBlock(VTextField,{key:0,label:e.$trans("media-library.sidebar.alt-text"),variant:"outlined",name:"alt_text",onBlur:n.blur,modelValue:n.firstMedia.metadatas.default.altText,"onUpdate:modelValue":a[1]||(a[1]=c=>n.firstMedia.metadatas.default.altText=c)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0),n.isImage?(openBlock(),createBlock(VTextarea,{key:1,label:e.$trans("media-library.sidebar.caption"),variant:"outlined",name:"caption",onBlur:n.blur,modelValue:n.firstMedia.metadatas.default.caption,"onUpdate:modelValue":a[2]||(a[2]=c=>n.firstMedia.metadatas.default.caption=c)},null,8,["label","onBlur","modelValue"])):createCommentVNode("",!0)],64)),o.extraMetadatas.length&&n.isImage&&n.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?(openBlock(),createBlock(VTooltip,{key:2,text:"Remove this field if you do not want to update it on all selected medias",location:"top"},{activator:withCtx(({props:c})=>[createBaseVNode("span",mergeProps(c,{class:"f--tiny f--note f--underlined",onClick:a[3]||(a[3]=p=>n.removeFieldFromBulkEditing("tags"))})," Remove from bulk edit ",16)]),_:1})):createCommentVNode("",!0),n.hasMultipleMedias?(openBlock(),createElementBlock("input",{key:3,type:"hidden",name:"ids",value:n.mediasIds},null,8,_hoisted_7$1)):(openBlock(),createElementBlock("input",{key:4,type:"hidden",name:"id",value:n.firstMedia.id},null,8,_hoisted_8$1))],544)):createCommentVNode("",!0)],64)),createVNode(u,{ref:"warningDelete",transition:"dialog-bottom-transition",modelValue:e.deleteModalActive,"onUpdate:modelValue":a[5]||(a[5]=c=>e.deleteModalActive=c),"width-type":"sm","confirm-text":`Delete ( ${n.mediasIdsToDelete.length} )`,"cancel-text":"Cancel"},{"body.description":withCtx(()=>[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("p",_hoisted_10$1,[createBaseVNode("strong",null,toDisplayString(e.$trans("media-library.dialogs.delete.title","Are you sure ?")),1)]),createBaseVNode("p",null,toDisplayString(n.warningDeleteMessage),1)])]),_:1},8,["modelValue","confirm-text"])])}const MediaSidebar=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-d0eb8a4b"]]),_sfc_main$1={mixins:[ModalMixin],components:{MediaGrid,ItemList,MediaSidebar},setup(e,{attrs:a,slots:o,emit:r}){},props:{...makeModalMediaProps(),initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!0},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default(){return[]}},translatableMetadatas:{type:Array,default(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1,full:!0,sharedFilterState:{search:"",tag:null,type:this.type??"image",page:this.page??this.initialPage}}},computed:{renderedMediaItems:function(){return this.mediaItems.map(e=>(e.disabled=this.filesizeMax>0&&e.filesizeInMb>this.filesizeMax||this.widthMin>0&&e.width<this.widthMin||this.heightMin>0&&e.height<this.heightMin,e))},currentTypeObject:function(){return this.types.find(e=>e.value===this.type)},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+" – "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+" – "+this.btnLabelMulti:this.modalTitlePrefix+" – "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){let e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=getCurrentInstance().appContext.config.globalProperties.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){const e=this;return e.types.filter(function(o){return o.value===e.type})[0]},canInsert:function(){return!this.selectedMedias.some(e=>!!this.usedMedias.find(a=>a.id===e.id))},...mapState({connector:e=>e.mediaLibrary.connector,max:e=>e.mediaLibrary.max,filesizeMax:e=>e.mediaLibrary.filesizeMax,widthMin:e=>e.mediaLibrary.widthMin,heightMin:e=>e.mediaLibrary.heightMin,type:e=>e.mediaLibrary.type,types:e=>e.mediaLibrary.types,strict:e=>e.mediaLibrary.strict,selected:e=>e.mediaLibrary.selected,indexToReplace:e=>e.mediaLibrary.indexToReplace}),filterSchema:function(){return{tag:{type:"select",name:"tag",label:"Filter by tags",items:this.tags,variant:"outlined",clearable:"true",chips:"true",col:"12"}}}},watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1,this.sharedFilterState.type=this.type},page:function(e){this.sharedFilterState.page=e}},methods:{deleteSelectedMedias:function(e){let a=[];e&&e.length!==this.selectedMedias.length&&(a=this.selectedMedias.filter(o=>!o.deleteUrl)),e.forEach(()=>{this.$store.commit(MEDIA_LIBRARY.DECREMENT_MEDIA_TYPE_TOTAL,this.type)}),this.mediaItems=this.mediaItems.filter(o=>!this.selectedMedias.includes(o)||a.includes(o)),this.selectedMedias=a,this.mediaItems.length<=40&&this.reloadGrid()},replaceMedia:function({id:e}){this.$refs.uploader.replaceMedia(e)},addMedia:function(e){const a=this.mediaItems.findIndex(function(o){return o.id===e.id});if(a>-1){for(const o in this.selected)this.selected[o].forEach((r,i)=>{if(e.id===r.id){const n=[];for(const l in r.crops)n[l]={height:e.height===r.height?r.crops[l].height:e.height,name:l,width:e.width===r.width?r.crops[l].width:e.width,x:e.width===r.width?r.crops[l].x:0,y:e.height===r.height?r.crops[l].y:0};this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIAS,{index:i,media:{...e,width:e.width===r.width?r.width:e.width,height:e.height===r.height?r.height:e.height,crops:n},mediaRole:o})}});this.$set(this.mediaItems,a,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(MEDIA_LIBRARY.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},open:function(){this.$refs.modal.open()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateSelectedMedias:function(e,a=!1){const o=e.id;if(this.selectedMedias.filter(function(i){return i.id===o}).length===0){if(this.max===1&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(a&&this.selectedMedias.length>0){const i=this.selectedMedias[this.selectedMedias.length-1],n=this.mediaItems.findIndex(p=>p.id===i.id),l=this.mediaItems.findIndex(p=>p.id===o);if(l===-1&&n===-1)return;let s=null,u=null;n<l?(s=n+1,u=l+1):(s=l,u=n),this.mediaItems.slice(s,u).forEach(p=>{if(this.selectedMedias.length>=this.max&&this.max>0)return;this.selectedMedias.findIndex(m=>m.id===p.id)===-1&&this.selectedMedias.push(p)})}else{const i=this.mediaItems.filter(function(n){return n.id===o});i.length&&this.selectedMedias.push(i[0])}}else this.selectedMedias=this.selectedMedias.filter(function(i){return i.id!==o})},clearSelectedMedias:function(){this.selectedMedias.splice(0)},clearFilters:function(){const e=this;if(this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){const a=this.$refs.unused.$el.querySelector("input");a&&a.checked&&a.click()}this.$nextTick(function(){e.submitFilter()})},clearDropdownFilters:function(){const e=this;this.sharedFilterState={tag:null,type:this.type,page:this.page},this.$nextTick(function(){e.submitFilter()})},submitFilter:function(e){const a=this,o=this.$refs.list;if(this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),o.scrollTop===0){a.reloadGrid();return}scrollToY({el:o,offset:0,easing:"easeOut",onComplete:function(){a.reloadGrid()}})},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){const e=this;this.loading=!0,this.$refs.form;const a=e.cleanEmptyFilters(this.sharedFilterState);api.get(this.endpoint,a,o=>{o.data.items.forEach(i=>{this.mediaItems.find(n=>n.id===i.id)||this.mediaItems.push(i)}),this.maxPage=o.data.maxPage||1;let r=o.data.tags.map(({label:i,...n})=>({title:i,...n}));this.tags=r||[],this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE_TOTAL,{type:this.type,total:o.data.total}),this.loading=!1,this.gridLoaded=!0},o=>{})},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_TYPE,e),this.submitFilter())},getFormData:function(e){let a=FormDataAsObj(e);return a?a.page=this.page:a={page:this.page},a.type=this.type,Array.isArray(a.unused)&&a.unused.length&&(a.unused=a.unused[0]),a},listenScrollPosition:function(){this.$nextTick(function(){if(!this.gridLoaded)return;const e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)})},scrollToPaginate:function(){if(!this.gridLoaded)return;const e=this.$refs.list;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop},saveAndClose:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_IS_INSERTED,!0),this.$store.commit(MEDIA_LIBRARY.SAVE_MEDIAS,this.selectedMedias),this.$nextTick(()=>{this.closeModal()})},reloadTags:function(e=[]){this.tags=e},cleanEmptyFilters:function(e){return Object.entries(e).reduce((a,[o,r])=>(r!=null&&r!==""&&(typeof r=="object"&&!Array.isArray(r)?a[o]=this.cleanEmptyFilters(r):a[o]=r),a),{})}},created(){if(this.gridLoaded||this.reloadGrid(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){const e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}}},_hoisted_1={class:"medialibrary"},_hoisted_2={class:"medialibrary__frame"},_hoisted_3={class:"medialibrary__header",ref:"form"},_hoisted_4={key:0,class:"secondarynav secondarynav--desktop py",slot:"navigation"},_hoisted_5={key:0,class:"secondarynav__number"},_hoisted_6={class:"medialibrary__inner"},_hoisted_7={class:"medialibrary__grid"},_hoisted_8={class:"medialibrary__sidebar"},_hoisted_9={key:0,class:"medialibrary__footer"},_hoisted_10={class:"medialibrary__list",ref:"list"},_hoisted_11={class:"medialibrary__list-items"};function _sfc_render(e,a,o,r,i,n){const l=resolveComponent("ue-filter"),s=resolveComponent("ue-dropdown-filter"),u=resolveComponent("MediaSidebar"),c=resolveComponent("ue-uploader"),p=resolveComponent("ItemList"),f=resolveComponent("MediaGrid"),m=resolveComponent("ue-modal");return openBlock(),createBlock(m,{ref:"modalMedia",id:"modalMedia",modelValue:e.show,"onUpdate:modelValue":a[2]||(a[2]=y=>e.show=y),fullscreen:"","content-class":"",width:"",onOpened:n.opened,eager:""},{activator:withCtx(({props:y})=>[renderSlot(e.$slots,"activator",{props:{...y}},void 0,!0)]),body:withCtx(({props:y})=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(VToolbar,{dark:"",color:"primary"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(n.modalTitle),1)]),_:1}),createVNode(VSpacer),createVNode(VToolbarItems,null,{default:withCtx(()=>[createVNode(VBtn,{icon:"",dark:"",onClick:e.closeModal},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>a[3]||(a[3]=[createTextVNode("mdi-close")])),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_3,[createVNode(l,{onSubmit:n.submitFilter,clearOption:!0,onClear:n.clearFilters,filterState:e.sharedFilterState,"onUpdate:filterState":a[0]||(a[0]=v=>e.sharedFilterState=v)},{default:withCtx(()=>[e.types.length?(openBlock(),createElementBlock("ul",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.types,v=>(openBlock(),createBlock(VChip,{key:v.value,class:"ma-2",onClick:withModifiers(g=>n.updateType(v.value),["prevent"])},{default:withCtx(()=>[createTextVNode(toDisplayString(v.text)+" ",1),v.total>0?(openBlock(),createElementBlock("span",_hoisted_5," ("+toDisplayString(v.total)+") ",1)):createCommentVNode("",!0)]),_:2},1032,["onClick"]))),128))])):createCommentVNode("",!0),a[4]||(a[4]=createBaseVNode("div",{slot:"hidden-filters"},null,-1))]),_:1},8,["onSubmit","onClear","filterState"]),createVNode(s,{onSubmit:n.submitFilter,onClear:n.clearDropdownFilters,loading:e.loading,"filter-ref":e.$refs.filter,filterState:e.sharedFilterState,"onUpdate:filterState":a[1]||(a[1]=v=>e.sharedFilterState=v),schema:n.filterSchema},null,8,["onSubmit","onClear","loading","filter-ref","filterState","schema"])],512),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("aside",_hoisted_8,[createVNode(u,{medias:e.selectedMedias,authorized:o.authorized,extraMetadatas:o.extraMetadatas,onClear:n.clearSelectedMedias,onDelete:n.deleteSelectedMedias,onTagUpdated:n.reloadTags,type:n.currentTypeObject,translatableMetadatas:o.translatableMetadatas,onTriggerMediaReplace:n.replaceMedia},null,8,["medias","authorized","extraMetadatas","onClear","onDelete","onTagUpdated","type","translatableMetadatas","onTriggerMediaReplace"])]),e.selectedMedias.length&&o.showInsert&&e.connector?(openBlock(),createElementBlock("footer",_hoisted_9,[n.canInsert?(openBlock(),createBlock(VBtn,{key:0,onClick:n.saveAndClose},{default:withCtx(()=>[createTextVNode(toDisplayString(n.btnLabel),1)]),_:1},8,["onClick"])):(openBlock(),createBlock(VBtn,{key:1,disabled:!0},{default:withCtx(()=>[createTextVNode(toDisplayString(n.btnLabel),1)]),_:1}))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10,[o.authorized?(openBlock(),createBlock(c,{key:0,ref:"uploader",onLoaded:n.addMedia,onClear:n.clearSelectedMedias,type:n.currentTypeObject},null,8,["onLoaded","onClear","type"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11,[e.type==="file"?(openBlock(),createBlock(p,{key:0,items:n.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":n.usedMedias,onChange:n.updateSelectedMedias,onShiftChange:n.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"])):(openBlock(),createBlock(f,{key:1,items:n.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":n.usedMedias,onChange:n.updateSelectedMedias,onShiftChange:n.updateSelectedMedias},null,8,["items","selected-items","used-items","onChange","onShiftChange"]))])],512)])])])])]),_:3},8,["modelValue","onOpened"])}const UEModalMedia=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-12d8f088"]]),_sfc_main={__name:"DynamicModal",setup(e){const a=inject("modalService");if(!a)throw new Error("[DynamicModal] modalService not found");const o=a.state,r=computed(()=>{const i={};return Object.entries(o.emits).forEach(([n,l])=>{i[n]=s=>l(s)}),i});return provide("modalRef",{close:a.close.bind(a),data:o.data}),(i,n)=>{const l=resolveComponent("ue-recursive-stuff"),s=resolveComponent("ue-modal");return openBlock(),createBlock(s,mergeProps({modelValue:unref(o).visible,"onUpdate:modelValue":n[0]||(n[0]=u=>unref(o).visible=u),persistent:"",widthType:"md"},unref(o).modalProps),createSlots({_:2},[unref(o).component?{name:"body.description",fn:withCtx(()=>[unref(o).component?(openBlock(),createBlock(resolveDynamicComponent(unref(o).component),mergeProps({key:0},unref(o).props,toHandlers(r.value)),null,16)):createCommentVNode("",!0)]),key:"0"}:void 0,renderList(Object.keys(unref(o).slots),u=>({name:u,fn:withCtx(c=>[createVNode(l,{configuration:unref(o).slots[u],bindData:c},null,8,["configuration","bindData"])])}))]),1040,["modelValue"])}}},customMdiIcons={accountSettings:"mdi mdi-account-cog",add:"mdi-plus",alert:"mdi-alert-outline",arrowLeft:"mdi-arrow-left-thin",arrowRight:"mdi-arrow-right-thin",check:"mdi-check",close:"mdi-close",company:"mdi-office-building-cog",creditCards:"mdi-credit-card-search",dashboard:"mdi-view-dashboard-outline",delete:"mdi-trash-can-outline",download:"mdi-download",duplicate:"mdi-content-copy",edit:"mdi-pencil-box-outline",error:"mdi-close-circle-outline",filter_list:"mdi-filter",header:"mdi-text-short",info:"mdi-information",list:"mdi-dots-vertical-circle-outline",media:"mdi-image-album",modules:"mdi-view-module","non-visibility":"mdi-eye-off",package:"mdi-package",permission:"mdi-account-arrow-right",product:"mdi-dropbox",restore:"mdi-file-restore",role:"mdi-account-key",submodule:"mdi-file-tree",success:"mdi-check-circle-outline",support:"mdi-lifebuoy",trash:"mdi-delete",userAdd:"mdi-account-edit",users:"mdi:mdi-account-multiple",visibility:"mdi-eye",warning:"mdi-alert-circle-outline"},unusualify={dark:!1,colors:{background:"#F5F5F5",red:"#DE3730","red-lighten-1":"#FFEDEA","red-darken-1":"#93000A",error:"#DE3730",blue:"#2196F3","blue-lighten-1":"#D3EAFD","blue-darken-1":"#077BD8","blue-accent-1":"#176FC7","blue-accent-2":"#63ADED",info:"#2196F3",green:"#54AF4C","green-lighten-1":"#E4F4D8","green-darken-1":"#1C7F20",success:"#54AF4C",warning:"#FDB022",primary:"#27A0B4","primary-lighten-1":"#4DBBC6","primary-lighten-2":"#74CED7","primary-lighten-3":"#AFE2E7","primary-lighten-4":"#F5FAFC","primary-darken-1":"#00758D","primary-darken-2":"#00566A","primary-darken-3":"#01404F","primary-accent":"#DEF5FA","on-primary":"#FFFFFF",secondary:"#E16437","secondary-lighten-1":"#EC9F83","secondary-lighten-2":"#F2BAA6","secondary-lighten-3":"#F7D6CA","secondary-lighten-4":"#FCF1ED","secondary-lighten-5":"#F7D6CA","secondary-lighten-6":"#F2BAA6","secondary-darken-1":"#D55020","secondary-darken-2":"#C3491D","secondary-darken-3":"#B1431B","secondary-darken-4":"#A03C18","secondary-darken-5":"#8E3515","secondary-darken-6":"#7C2F13","on-secondary":"#FFFFFF","on-secondary-lighten-1":"#FFFFFF","on-secondary-lighten-2":"#FFFFFF","on-secondary-darken-1":"#FFFFFF","on-secondary-darken-2":"#FFFFFF","on-secondary-darken-3":"#FFFFFF","on-secondary-darken-4":"#FFFFFF","on-secondary-darken-5":"#FFFFFF",grey:"#768184","grey-lighten-1":"#879092","grey-lighten-2":"#999FA1","grey-lighten-3":"#AAEAEF","grey-lighten-6":"#F2F1F1","grey-lighten-4":"#CACBCB","grey-lighten-5":"#E4E4E4","grey-lighten-6":"#F2F1F1","grey-darken-1":"#657275","grey-darken-2":"#546367","grey-darken-3":"#435458","grey-darken-4":"#32454A","grey-darken-5":"#20363B","grey-accent-1":"#EEF1F2","grey-accent-2":"#DEE3E5","grey-accent-3":"#BFC8CB","grey-accent-4":"#8CA0A7","grey-accent-5":"#6F797B","grey-accent-6":"#3F484A","grey-accent-7":"#171D1E","on-green-lighten-1":"#FFFFFF","on-green-lighten-2":"#FFFFFF","on-green-lighten-3":"#FFFFFF","on-green-lighten-4":"#FFFFFF","on-green-lighten-5":"#FFFFFF","on-green-lighten-6":"#FFFFFF"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},themes=Object.freeze(Object.defineProperty({__proto__:null,unusualify},Symbol.toStringTag,{value:"Module"})),APP_THEME="unusualify",opts={aliases:{VBtnPrimary:VBtn,VBtnSecondary:VBtn,VBtnSuccess:VBtn,VImgIcon:VImg,VSheetRounded:VSheet,VRowSecondary:VRow,VRowTertiary:VRow},defaults:{global:{ripple:!1},VSheet:{},VSheetRounded:{class:"rounded"},VBtn:{color:"primary",density:"comfortable",variant:"elevated"},VBtnPrimary:{color:"primary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSecondary:{color:"secondary",density:"comfortable",variant:"elevated",class:"text-uppercase"},VBtnSuccess:{color:"success",variant:"elevated"},VImgIcon:{height:"2.5rem"},VRowSecondary:{class:"v-row-secondary"},VRowTertiary:{class:"v-row-tertiary"}},theme:{defaultTheme:APP_THEME,themes},icons:{defaultSet:"mdi",aliases:{...aliases,...customMdiIcons},sets:{mdi,fa}},directives,components:{...components,VDateInput}},vuetify=createVuetify(opts),broadcasting={install:(e,a)=>{window.Pusher=Pusher}};class ModalService{constructor(){this.state=reactive({visible:!1,component:null,props:{},emits:{},slots:{},data:void 0,onClose:void 0,modalProps:{}})}open(a,o={}){this.state.component=a,this.state.props=o.props||{},this.state.emits=o.emits||{},this.state.data=o.data,this.state.onClose=o.onClose,this.state.visible=!0,this.state.modalProps=o.modalProps||{},this.state.slots=o.slots||{}}close(a){this.state.visible=!1;const o=this.state.onClose;this.state.component=null,this.state.props={},this.state.emits={},this.state.data=void 0,this.state.onClose=void 0,this.state.modalProps={},this.state.slots={},o&&o(a)}getModalServiceData(a){return a.modalService?a.modalService:null}getModalServiceKey(a){return a.modalServiceKey?a.modalServiceKey:null}async handleObject(a){var n;const o=this.getModalServiceKey(a),r=this.getModalServiceData(a);let i=null;if(o)try{const l=await fetch(`/api/modal-service/${o}`,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))||""}});if(l.ok)i=(await l.json()).modalService;else{console.error("Failed to fetch modal service data from session");return}removeParameterFromHistory("modalServiceKey")}catch(l){console.error("Failed to fetch modal service data:",l);return}if(!i&&r)try{i=JSON.parse(r)}catch(l){console.error("Failed to parse modalService parameter:",l);return}if(isObject(i))try{this.open(i.component??null,omit(i,["component"])),removeParameterFromHistory("modalService")}catch(l){console.error("Failed to open modal from URL parameters:",l)}return null}async handleUrlQueryParameters(a=null){const o=getParameters(a??window.location);await this.handleObject(o)}}const ModalService$1={install(e){const a=new ModalService;e.provide("modalService",a),e.config.globalProperties.$modalService=a,window.$modalService=a,setTimeout(async()=>{await a.handleUrlQueryParameters()},0)}},CVV$1="CVV",MM$1="MM",Month$1="Month",PAY$1="PAY",Year$1="Year",YY$1="YY",en={"ADD NEW":"ADD NEW","Are you sure logout?":"Are you sure logout?","AT A GLANCE":"AT A GLANCE","Card Holder":"Card Holder","Card Number":"Card Number","Company Information":"Company Information",CVV:CVV$1,"Expire Date":"Expire Date","Loading... Please wait":"Loading... Please wait",MM:MM$1,Month:Month$1,PAY:PAY$1,"Personal Information":"Personal Information","Update Password":"Update Password",Year:Year$1,YY:YY$1},__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,CVV:CVV$1,MM:MM$1,Month:Month$1,PAY:PAY$1,YY:YY$1,Year:Year$1,default:en},Symbol.toStringTag,{value:"Module"})),All="Hepsi",CVV="CVV",Month="Ay",MM="AA",No="Hayır",PAY="ÖDE",Regards="Saygılar",VAT="KDV",YY="YY",Yes="Evet",Year="Yıl",Total="Toplam",tr={"ADD NEW":"EKLE","Are you sure logout?":"Çıkış yapmak istediğinize emin misiniz?","AT A GLANCE":"GENEL BAKIŞ",All,"Card Holder":"Kart Üstündeki İsim","Card Number":"Kart No","Company Information":"Şirket Bilgileri",CVV,"Expire Date":"Son Kullanma Tarihi","Frequently Asked Questions":"Sıkça Sorulan Sorular","If you did not request a password reset, no further action is required.":"Şifre sıfırlama talebinde bulunmadıysanız, herhangi bir işlem yapmanız gerekli değildir","Loading... Please wait":"Yükleniyor, lütfen bekleyin...",Month,MM,No,PAY,"Personal Information":"Kişisel Bilgiler",Regards,"Reset Password":"Yeni Şifre Oluştur","Reset Password Notification":"Yeni Şifre Oluşturma Bildirimi","This password reset link will expire in :count minutes.":"Bu şifre oluşturma linki :count dakika içerisinde sonlanacak.","Total Amount":"Genel Toplam","Update Password":"Şifreyi Güncelle",VAT,YY,"You are receiving this email because we received a password reset request for your account.":"Hesabınızın şifresini sıfırlamak için bu maili alıyorsunuz",Yes,Year,Total},__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,All,CVV,MM,Month,No,PAY,Regards,Total,VAT,YY,Year,Yes,default:tr},Symbol.toStringTag,{value:"Module"}));function loadStaticMessages(){const e=Object.assign({"../../../../lang/en.json":__vite_glob_0_0,"../../../../lang/tr.json":__vite_glob_0_1}),a={};return Object.keys(e).forEach(o=>{const n=o.split("/").pop().match(/([A-Za-z0-9-_]+)\.json/i)[1].match(/([A-Za-z0-9-_]+)/i);if(n&&n.length>1){const l=n[1];a[l]=e[o]}}),a}const datetimeFormats={en:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!0}},tr:{numeric:{year:"numeric",month:"numeric",day:"numeric"},"numeric-full":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},short:{year:"2-digit",month:"short",day:"numeric"},medium:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}}},numberFormats={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}},en:{currency:{style:"currency",currency:"EUR"}},tr:{currency:{style:"currency",currency:"TRY"}}},setupOptions={locale:"tr",fallbackLocale:"en",legacy:!1,missingWarn:!1,fallbackWarn:!1,messages:loadStaticMessages(),datetimeFormats,numberFormats},i18n=setupI18n(setupOptions);function setupI18n(e={locale:"en"}){const a=createI18n(e);return setI18nLocale(a,e.locale),a}function setI18nLocale(e,a){e.mode==="legacy"?e.global.locale=a:e.global.locale.value=a,document.querySelector("html").setAttribute("lang",a)}async function loadLocaleMessages(e,a){if(typeof TRANSLATIONS<"u"&&TRANSLATIONS)for(const o in TRANSLATIONS)loadLocaleMessage(e,o,TRANSLATIONS[o])}function loadLocaleMessage(e,a,o){return e.global.setLocaleMessage(a,o),nextTick()}function addSvg(e,a,o){const r=["icon"],i=a.expression||o.props.symbol;let n=e;o.type==="span"&&(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(n)),r.push(`icon--${i}`),r.forEach(function(c){e.classList.add(c)});const l=document.createElementNS("http://www.w3.org/2000/svg","title");l.textContent=i,n.appendChild(l);const s=`#icon--${i}`,u=document.createElementNS("http://www.w3.org/2000/svg","use");u.setAttributeNS("http://www.w3.org/1999/xlink","href",s),n.appendChild(u)}function removeSvg(e){const a=e.querySelector("svg");a&&a.parentNode.removeChild(a),e.className.split(" ").filter(function(r){return r.indexOf("icon")===0}).forEach(function(r){e.classList.remove(r)})}const SvgSprite={install(e,a={}){const o={beforeMount(r,i,n){addSvg(r,i,n)},updated:function(r,i,n,l){removeSvg(r),addSvg(r,i,n)},mounted:function(r,i,n){},unmounted:function(r,i,n){}};e.directive("svg",o)}},Column={install(e,a={}){const o={cols:12},r={created(i,n,l,s){n.value,n.instance},beforeMount(i,n,l,s){const u=n.value;u?__isObject(u)&&Object.entries(u).forEach(([c,p])=>{i.classList.add(`v-col-${c==="cols"?p:c+"-"+p}`)}):Object.entries(o).forEach(([c,p])=>{i.classList.add(`v-col-${c==="cols"?p:c+"-"+p}`)})},mounted(i,n,l,s){},beforeUpdate(i,n,l,s){},updated(i,n,l,s){},beforeUnmount(i,n,l,s){},unmounted(i,n,l,s){}};e.directive("column",r)}},FitGrid={install(e,a={}){const o={created(r,i,n,l){},beforeMount(r,i,n,l){r.classList.add("d-flex"),r.firstElementChild.classList.add("h-100","w-100")},mounted(r,i,n,l){},beforeUpdate(r,i,n,l){},updated(r,i,n,l){},beforeUnmount(r,i,n,l){},unmounted(r,i,n,l){}};e.directive("fit-grid",o)}},Scrollable={install(e,a={}){const o={created(r,i,n,l){},beforeMount(r,i,n,l){if(r.classList.add("ue-scrollable"),i.modifiers.height){const s=i.value;typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/)?(r.style.height=typeof s=="number"?`${s}px`:s,r.style.overflowY="auto"):console.warn("v-scrollable: Invalid height value. Please provide a number (for px) or a valid CSS height value.")}},mounted(r,i,n,l){},updated(r,i,n,l){if(i.modifiers.height&&i.value!==i.oldValue){const s=i.value;(typeof s=="number"||typeof s=="string"&&s.match(/^\d+(\.\d+)?(px|em|rem|vh|%)$/))&&(r.style.height=typeof s=="number"?`${s}px`:s)}},beforeUpdate(r,i,n,l){},beforeUnmount(r,i,n,l){},unmounted(r,i,n,l){}};e.directive("scrollable",o)}},Transition={install(e,a={}){const o={beforeMount(r,i){var l;const n=i.arg||"scale";(l=i.modifiers)!=null&&l.slow,r.classList.add(`${n}-transition`)},mounted(r,i){const n=i.arg||"scale";r.classList.contains("d-none")||r.classList.add(`${n}-1`);const l=new MutationObserver(s=>{s.forEach(u=>{u.type==="attributes"&&u.attributeName==="class"&&(r.classList.contains("d-none")?r.classList.remove(`${n}-1`):setTimeout(()=>{r.classList.add(`${n}-1`)},50))})});r._transitionObserver=l,l.observe(r,{attributes:!0,attributeFilter:["class"]})},updated(r,i){},unmounted(r){r._transitionObserver&&(r._transitionObserver.disconnect(),delete r._transitionObserver)}};e.directive("transition",o)}},commonMethods={$csrf:function(){return document.querySelector('meta[name="csrf-token"]').getAttribute("content")},$log:function(...e){return window.__log(...e)},$isset:function(...e){return window.__isset(...e)},$bindAttributes:function(e=null){const a={};if(e)Object.keys(e).forEach((o,r)=>{parseInt(o)>-1?a[e[o]]=!0:a[o]=e[o]});else if(e==null)return{...this.$attrs};return a},$main:function(){return this.$app._instance.refs.main},$profileDialog:function(){return this.$root.$refs.sidebar.$refs.profileDialog},$openProfileDialog:function(){if(!this.$store.getters.isGuest)return this.$store.state.user.profileDialog=!0},$closeProfileDialog:function(){return this.$store.state.user.profileDialog=!1},$can:function(e,a=null){const{can:o}=useAuthorization();return o(e,a)},$hasRoles:function(e){const{hasRoles:a}=useAuthorization();return a(e)},$isYou:function(e){const{isYou:a}=useAuthorization();return a(e)},$isSuperAdmin:function(){return this.$store.getters.isSuperAdmin},$toggleSidebar:function(){this.$store.commit(CONFIG.SIDEBAR_TOGGLE)},$castValueMatch:function(e,a){const{castStandardAttribute:o}=useCastAttributes();return o(e,a)},$notif:function(e){this.$store.commit(ALERT$1.SET_ALERT,e)},$dialog:function(e){this.$store.commit(ALERT$1.SET_DIALOG,e)},$hasRequestInProgress:function(){return this.$store.getters.isRequestInProgress},$trans:function(e,a){var o;return this.$lodash.get((o=window.MODULARITY)==null?void 0:o.modularityLocalization.lang,e,a)},$changeLocale:function(e){this.$i18n.locale.value=e},$localization:function(e){if(e.indexOf(" ")>-1)return this.$t(e);let o=lodash.split(e,".");if(o.length>1)return this.$te(e)?this.$t(e):lodash.join(o," ");let r=!1,i=e;pluralize.isPlural(i)&&(r=!0,i=pluralize.singular(i));let n=lodash.kebabCase(i),l=lodash.snakeCase(i);return this.$translation(`modules.${l}`,r?1:0)||this.$translation(`fields.${n}`)||this.$translation(`fields.${l}`)||window.__snakeToHeadline(e)},$moduleTranslationName:function(e){let a=!1,o=e,r=window.__snakeNameFromForeignKey(o);return r&&(o=r,e=r),pluralize.isPlural(o)&&(a=!0,o=pluralize.singular(o)),o=lodash.snakeCase(o),e=lodash.snakeCase(e),this.$te(`modules.${o}`)?this.$t(`modules.${o}`,a?1:0):window.__snakeToHeadline(e)},$translation:function(e,...a){return this.$te(e)?this.$t(e,...a):!1},$headline:function(e){return window.__headline(e)},$getDisplayData:function(e,a){let o={};for(const r in e){const i=e[r],n=a[r];let l=i.displayLabel||i.label||i.name||r;if(l=this.$localization(l),!(!i.type||i.type=="hidden")&&!(!n&&n!==0&&n!==!1&&l!==null&&i.type!=="wrap"))switch(o[r]={_title:l,_type:i.type},i.type){default:if(__isObject(n))o[r]._value=n;else if(Array.isArray(n)&&i.items)o[r]._value=n.map(c=>{const p=i.items.find(f=>f[i.itemValue]===c);return p?p[i.itemTitle]:c});else if(i.items){const c=i.items.find(p=>p[i.itemValue]===n);o[r]._value=c?c[i.itemTitle]:n}else o[r]._value=n;case"wrap":i.schema&&(delete o[r],o=Object.assign(o,this.$getDisplayData(i.schema,a)));break;case"group":i.schema&&typeof n=="object"&&(o[r]={...o[r],...this.$getDisplayData(i.schema,n)});break;case"input-repeater":Array.isArray(n)&&i.schema?o[r]._value=n.map(c=>this.$getDisplayData(i.schema,c)):o[r]._value=n;break;case"input-filepond":Array.isArray(n)?o[r]._value=n.map(c=>c.file_name):o[r]._value=n.file_name;break;case"input-form-tabs":o[r]._value=lodash.reduce(n,(c,p,f)=>{f=__isString(f)?parseInt(f):f;const m=i.items.find(g=>g.id==f);if(!m)return c;let v={_title:m.title||m.name,_model:m.id??null,_value:{}};return lodash.each(i.tabFields,(g,b)=>{let k=i.schema[b],w={_title:this.$localization(k.displayLabel||k.label||k.name||b),_type:i.type,_value:null},V=p[b],T=m[g];if(Array.isArray(V)&&T)w._value=V.map(S=>{let A=T.find(D=>D.id==S);return A?A.title||A.name:"N/A"});else if(T){let S=T.find(D=>D.id==V);V=S?S.title||S.name:V,w._value=V;let A=this.$getDisplayKeys(S);for(const D in A)w[D]||(w[A[D]]=S[D])}v[b]=w}),c.push(v),c},[]);break;case"input-price":const s=this.$numberFormats[this.$getLocale].currency,u=i.items.find(c=>c.iso===s.currency);o[r]._value=this.$n(n.find(c=>c.currency_id===u.id).raw_amount,{style:"currency",currency:s.currency});break;case"date-input":case"input-date":case"text":if(!(i.type=="text"&&i.ext!=="date"))try{o[r]._value=this.$d(n,i.displayDateFormat??"numeric")}catch(c){console.log(c),o[r]._value=n}break}}return o},$getDisplayKeys:function(e){return lodash.reduce(Object.keys(e??{}),(a,o)=>{let r=o.match(/^([a-zA-Z0-9]+)(_(show|formatted))$/);return r&&(a[o]=r[1]),a},{})},$d:function(e,a="long"){const{d:o}=useI18n({useScope:"global"});return o(new Date(e),a)},$copy:function(e){window.navigator.clipboard.writeText(e)},$openLoginModal:function(){this.$store.commit(USER.OPEN_LOGIN_MODAL)},$closeLoginModal:function(){this.$store.commit(USER.CLOSE_LOGIN_MODAL)},$cacheGet:function(e,a=null){const{get:o}=useCache();return o(e,a)},$cachePut:function(e,a){const{put:o}=useCache();o(e,a)},$cachePush:function(e,a){const{push:o}=useCache();o(e,a)},$cacheLast:function(e,a=null){const{last:o}=useCache();return o(e,a)},$cacheForget:function(e){const{forget:a}=useCache();a(e)}},includeGlobalComponents=Object.assign({"/src/js/components/Alert.vue":__vite_glob_0_0$2,"/src/js/components/Auth.vue":__vite_glob_0_1$2,"/src/js/components/BoardInformationPlus.vue":__vite_glob_0_2$1,"/src/js/components/Btn.vue":__vite_glob_0_3$1,"/src/js/components/Collapsible.vue":__vite_glob_0_4,"/src/js/components/ConfigurableCard.vue":__vite_glob_0_5,"/src/js/components/CopyText.vue":__vite_glob_0_6,"/src/js/components/Dashboard.vue":__vite_glob_0_7,"/src/js/components/DropdownFilter.vue":__vite_glob_0_8,"/src/js/components/DynamicComponentRenderer.vue":__vite_glob_0_9,"/src/js/components/ErrorCard.vue":__vite_glob_0_10,"/src/js/components/Expansion.vue":__vite_glob_0_11,"/src/js/components/FilepondPreview.vue":__vite_glob_0_12,"/src/js/components/Filter.vue":__vite_glob_0_13,"/src/js/components/Form.vue":__vite_glob_0_14,"/src/js/components/FormSummaryItem.vue":__vite_glob_0_15,"/src/js/components/ImpersonateToolbar.vue":__vite_glob_0_16,"/src/js/components/ListElement.vue":__vite_glob_0_17,"/src/js/components/ListSection.vue":__vite_glob_0_18,"/src/js/components/LogoutModal.vue":__vite_glob_0_19,"/src/js/components/MarkdownRender.vue":__vite_glob_0_20,"/src/js/components/MediaMetadata.vue":__vite_glob_0_21,"/src/js/components/Metric.vue":__vite_glob_0_22,"/src/js/components/MetricGroups.vue":__vite_glob_0_23,"/src/js/components/Metrics.vue":__vite_glob_0_24,"/src/js/components/NavigationGroup.vue":__vite_glob_0_25,"/src/js/components/PrintRequest.vue":__vite_glob_0_26,"/src/js/components/PropertyList.vue":__vite_glob_0_27,"/src/js/components/RecursiveDataViewer.vue":__vite_glob_0_28,"/src/js/components/RecursiveStuff.vue":__vite_glob_0_29,"/src/js/components/RevolutCheckout.vue":__vite_glob_0_30,"/src/js/components/RevolutCheckoutModal.vue":__vite_glob_0_31,"/src/js/components/StepperForm.vue":__vite_glob_0_32,"/src/js/components/StepperFormOld.vue":__vite_glob_0_33,"/src/js/components/Success.vue":__vite_glob_0_34,"/src/js/components/SvgIcon.vue":__vite_glob_0_35,"/src/js/components/TabGroups.vue":__vite_glob_0_36,"/src/js/components/TabGroupsPrevious.vue":__vite_glob_0_37,"/src/js/components/Table.vue":__vite_glob_0_38,"/src/js/components/TableBinder.vue":__vite_glob_0_39,"/src/js/components/Tabs.vue":__vite_glob_0_40,"/src/js/components/TabsPrevious.vue":__vite_glob_0_41,"/src/js/components/TextDisplay.vue":__vite_glob_0_42,"/src/js/components/Title.vue":__vite_glob_0_43,"/src/js/components/Uploader.vue":__vite_glob_0_44}),includeIteratorComponents=Object.assign({"/src/js/components/data_iterators/ExpandableIterator.vue":__vite_glob_1_0,"/src/js/components/data_iterators/RichCardIterator.vue":__vite_glob_1_1,"/src/js/components/data_iterators/RichRowIterator.vue":__vite_glob_1_2}),includeLayouts=Object.assign({"/src/js/components/layouts/Footer.vue":__vite_glob_2_0,"/src/js/components/layouts/Home.vue":__vite_glob_2_1,"/src/js/components/layouts/Main.vue":__vite_glob_2_2,"/src/js/components/layouts/Sidebar.vue":__vite_glob_2_3}),includeFormInputs=Object.assign({"/src/js/components/inputs/Assignment.vue":__vite_glob_3_0,"/src/js/components/inputs/Chat.vue":__vite_glob_3_1,"/src/js/components/inputs/CheckboxCard.vue":__vite_glob_3_2,"/src/js/components/inputs/Checklist.vue":__vite_glob_3_3,"/src/js/components/inputs/ChecklistGroup.vue":__vite_glob_3_4,"/src/js/components/inputs/ComparisonTable.vue":__vite_glob_3_5,"/src/js/components/inputs/CreditCard.vue":__vite_glob_3_6,"/src/js/components/inputs/CreditCardForm.vue":__vite_glob_3_7,"/src/js/components/inputs/Date.vue":__vite_glob_3_8,"/src/js/components/inputs/Emojis.vue":__vite_glob_3_9,"/src/js/components/inputs/File.vue":__vite_glob_3_10,"/src/js/components/inputs/Filepond.vue":__vite_glob_3_11,"/src/js/components/inputs/FilepondAvatar.vue":__vite_glob_3_12,"/src/js/components/inputs/FormTabs.vue":__vite_glob_3_13,"/src/js/components/inputs/Image.vue":__vite_glob_3_14,"/src/js/components/inputs/ImageOld.vue":__vite_glob_3_15,"/src/js/components/inputs/Locale.vue":__vite_glob_3_16,"/src/js/components/inputs/PaymentService.vue":__vite_glob_3_17,"/src/js/components/inputs/Phone.vue":__vite_glob_3_18,"/src/js/components/inputs/Price.vue":__vite_glob_3_19,"/src/js/components/inputs/Process.vue":__vite_glob_3_20,"/src/js/components/inputs/RadioGroup.vue":__vite_glob_3_21,"/src/js/components/inputs/Repeater.vue":__vite_glob_3_22,"/src/js/components/inputs/SelectScroll.vue":__vite_glob_3_23,"/src/js/components/inputs/SelectTag.vue":__vite_glob_3_24,"/src/js/components/inputs/Spread.vue":__vite_glob_3_25,"/src/js/components/inputs/Tag.vue":__vite_glob_3_26,"/src/js/components/inputs/Tagger.vue":__vite_glob_3_27,"/src/js/components/inputs/TermsCheckbox.vue":__vite_glob_3_28}),includeCustomComponents=Object.assign({"/src/js/components/customs/BoardInformation.vue":__vite_glob_0_0$1,"/src/js/components/customs/PackageSelector.vue":__vite_glob_0_1$1,"/src/js/components/customs/PressReleaseCardIterator.vue":__vite_glob_0_2,"/src/js/components/customs/TestApp.vue":__vite_glob_0_3});UECompose();const UEConfig={install:(e,a)=>{var o;window.vm=e,e.use(vuetify),e.use(store),e.use(i18n),e.use(broadcasting),e.config.globalProperties.$jquery=window.$,e.config.globalProperties.$axios=window.axios,e.config.globalProperties.$lodash=window._,e.config.globalProperties.window=window,e.config.globalProperties.$app=e,setI18nLocale(i18n,store.state.user.locale),loadLocaleMessages(i18n,((o=window.MODULARITY)==null?void 0:o.ENDPOINTS.languages)??""),e.config.globalProperties={...e.config.globalProperties,$getLocale:i18n.global.locale.value,$numberFormats:i18n.global.numberFormats.value,$te:function(r,i){const n=i18n.global.te;return n(r,i)??!1},$tc:function(r,i){const n=i18n.global.tc;return n(r,i)??!1},$plural:function(r){return pluralize.plural(r)},registerComponentsV1:function(r,i="",n="ue"){i=i!==""?i+"/":"",r.keys().forEach(l=>{const s=l.split("/").pop().split(".")[0],u=n+s.replace(/[A-Z]/g,c=>"-"+c.toLowerCase());e.component(u,require(`__components/${i}${s}.vue`).default)})},registerComponents:function(r,i="",n="Ue"){i=i!==""?i+"/":"",Object.keys(r).forEach(l=>{l.split("/").pop();const s=l.split("/").pop().split(".")[0],u=r[l],c=n+upperFirst(s);e.component(c,u.default)})},$call:function(r,...i){return this[r](...i)}},Object.keys(commonMethods).forEach(r=>{e.config.globalProperties[r]=commonMethods[r].bind(e.config.globalProperties)}),e.mixin({methods:{notif:function(r){this.$store.commit(ALERT$1.SET_ALERT,r)},openFreeMediaLibrary:function(){this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(MEDIA_LIBRARY.RESET_MEDIA_TYPE),this.$store.commit(MEDIA_LIBRARY.UPDATE_REPLACE_INDEX,-1),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(MEDIA_LIBRARY.UPDATE_MEDIA_MODE,!1),this.$root.$refs.main&&this.$root.$refs.main.$refs.mediaLibrary&&this.$root.$refs.main.$refs.mediaLibrary.openModal()}}}),e.component("VCustomFormBase",VCustomFormBase),e.component("UeDynamicModal",_sfc_main),e.component("UeModal",UEModal),e.component("UeModalMedia",UEModalMedia),e.config.globalProperties.registerComponents(includeGlobalComponents),e.config.globalProperties.registerComponents(includeIteratorComponents),e.config.globalProperties.registerComponents(includeLayouts,"layouts"),e.config.globalProperties.registerComponents(includeFormInputs,"inputs","VInput"),e.config.globalProperties.registerComponents(includeCustomComponents,"customs","UeCustom"),e.directive("mask",directive),e.use(SvgSprite),e.use(Column),e.use(FitGrid),e.use(Scrollable),e.use(Transition),e.use(ModalService$1),e.provide("$app",e)}},getFieldIndex=(e,a)=>e.findIndex(o=>o.name===a.name),state$1={baseUrl:window.MODULARITY.STORE.form.baseUrl||"",inputs:window.MODULARITY.STORE.form.inputs||{},serverValid:!0,errors:{},editedItem:window.MODULARITY.STORE.form.inputs?getModel(window.MODULARITY.STORE.form.inputs,null):{},loading:!1,taggableItems:{}},getters={defaultItem:e=>getModel(e.inputs)},mutations={[FORM.SET_EDITED_ITEM](e,a){e.editedItem=Object.assign({},a)},[FORM.RESET_EDITED_ITEM](e){e.editedItem=getModel(e.inputs)},[FORM.UPDATE_FORM_FIELD](e,a){let o=a.locale?{}:null;const r=getFieldIndex(e.fields,a);r!==-1&&(a.locale&&(o=e.fields[r].value||{}),e.fields.splice(r,1)),a.locale?o[a.locale]=a.value:o=a.value,e.fields.push({name:a.name,value:o})},[FORM.UPDATE_FORM_LOADING](e,a){e.loading=a||!e.loading},[FORM.SET_FORM_ERRORS](e,a){e.errors=a},[FORM.SET_SERVER_VALID](e,a){e.serverValid=a},[FORM.CLEAR_FORM_ERRORS](e){e.errors=[]},[FORM.SET_TAGGABLE_ITEMS](e,{taggable_type:a,items:o}){e.taggableItems[a]=o},[FORM.ADD_TAGGABLE_ITEM](e,{taggable_type:a,item:o}){e.taggableItems[a].push(o)}},actions={[ACTIONS.SAVE_FORM]({commit:e,state:a,getters:o,rootState:r,dispatch:i},{item:n=null,callback:l=null,errorCallback:s=null,plain:u=!1}){e(FORM.CLEAR_FORM_ERRORS),e(FORM.UPDATE_FORM_LOADING,!0);const c=u?n:getSubmitFormData(a.inputs,n??a.editedItem,r);let p="post",f=window.MODULARITY.ENDPOINTS.store;Object.prototype.hasOwnProperty.call(c,"id")&&(p="put",f=window.MODULARITY.ENDPOINTS.update.replace(":id",c.id)),api$1[p](f,c,function(m){if(e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(m.data,"errors"))e(FORM.SET_SERVER_VALID,!1),e(FORM.SET_FORM_ERRORS,m.data.errors);else if(Object.prototype.hasOwnProperty.call(m.data,"variant")&&m.data.variant.toLowerCase()==="success"){e(ALERT$1.SET_ALERT,{message:m.data.message,variant:m.data.variant}),e(FORM.SET_SERVER_VALID,!0),p==="post"&&e(FORM.RESET_EDITED_ITEM);try{i(ACTIONS.GET_DATATABLE)}catch{}}l&&typeof l=="function"&&l(m.data)},function(m){e(FORM.UPDATE_FORM_LOADING,!1),Object.prototype.hasOwnProperty.call(m.data,"errors")?(e(FORM.SET_FORM_ERRORS,m.data.errors),e(FORM.SET_SERVER_VALID,!1)):Object.prototype.hasOwnProperty.call(m.data,"exception")?e(ALERT$1.SET_ALERT,{message:"Your submission could not be processed.",variant:"error"}):(i(ACTIONS.HANDLE_ERRORS,m.data),e(ALERT$1.SET_ALERT,{message:"Your submission could not be validated, please fix and retry",variant:"error"})),s&&typeof s=="function"&&s(m.data)})},[ACTIONS.HANDLE_ERRORS]({commit:e,state:a,getters:o,rootState:r},i){const n=r.repeaters;Object.keys(i).forEach(l=>{const s=l.split(".");if(s.length>=4){const u=s[0],c=s[1],p=s[2],f=s[3];if(u==="repeaters"){const y=`blocks[${n[c][p].id}][${f}]`;i[y]=i[l]}}}),e(FORM.SET_FORM_ERRORS,i)}},form={state:state$1,getters,actions,mutations};export{ALERT$1 as A,UEConfig as U,__vite_glob_0_0$1 as _,__vite_glob_0_1$1 as a,__vite_glob_0_2 as b,__vite_glob_0_3 as c,ACTIONS as d,_export_sfc as e,form as f,api$2 as g,makeTableProps as m,store as s,useTable as u};
//# sourceMappingURL=form.BFDRuQBk.js.map
