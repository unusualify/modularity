{"ast":null,"code":"import _objectSpread from \"/var/www/crm_template/packages/oobook/crm-base/vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport { mapState, mapGetters } from 'vuex';\nexport default {\n  props: ['value', 'obj'],\n  data: function data() {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + \"-input\"\n    };\n  },\n  created: function created() {},\n  watch: {\n    value: function value(val) {\n      // __log(\n      //   'mixins/input.js value changed',\n      //   val\n      // )\n    }\n  },\n  computed: _objectSpread(_objectSpread({\n    input: {\n      get: function get() {\n        return this.value;\n      },\n      set: function set(val) {\n        this.$emit('input', val);\n      } // listen to @input=\"handler\"\n    }\n  }, mapState({\n    errors: function errors(state) {\n      return state.form.errors;\n    }\n  })), {}, {\n    props: function props() {\n      if (!!this.attributes.props) {\n        return this.configureProps(this.attributes.props);\n      } else {\n        return {};\n      }\n    },\n    secondaryProps: function secondaryProps() {\n      if (!!this.attributes.props && !!this.attributes.props.props) {\n        return this.configureProps(this.attributes.props.props);\n      } else {\n        return {};\n      }\n    }\n  }),\n  methods: {\n    update: function update(value) {\n      this.$emit('input', value);\n    },\n    errorMessages: function errorMessages(name) {\n      return this.errors[name];\n    },\n    bindProps: function bindProps(props) {\n      var _props = {};\n      if (!!props) {\n        Object.keys(props).forEach(function (v, i) {\n          if (parseInt(v) > -1) {\n            _props[props[v]] = true;\n          } else {\n            _props[v] = props[v];\n          }\n        });\n      }\n      // __log(_props)\n      return _props;\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","props","data","id","Math","ceil","random","created","watch","value","val","computed","_objectSpread","input","get","set","$emit","errors","state","form","attributes","configureProps","secondaryProps","methods","update","errorMessages","name","bindProps","_props","Object","keys","forEach","v","i","parseInt"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/mixins/custom-input.js"],"sourcesContent":["import { mapState, mapGetters } from 'vuex'\n\nexport default {\nprops: ['value', 'obj'],\n  data: function() {\n    return {\n      id: Math.ceil(Math.random()*1000000) + \"-input\",\n    }\n  },\n  created() {\n\n  },\n\n  watch: {\n    value(val){\n      // __log(\n      //   'mixins/input.js value changed',\n      //   val\n      // )\n    }\n  },\n  computed: {\n    input:{\n        get(){  return this.value},\n        set(val){ this.$emit('input', val)}  // listen to @input=\"handler\"\n    },\n\n    ...mapState({\n        errors: state => state.form.errors\n    }),\n\n    props() {\n      if(!!this.attributes.props){\n        return this.configureProps(this.attributes.props)\n      }else{\n        return {}\n      }\n    },\n    secondaryProps() {\n      if(!!this.attributes.props && !!this.attributes.props.props){\n        return this.configureProps(this.attributes.props.props);\n      }else{\n        return {}\n      }\n    }\n  },\n  methods: {\n    update(value) {\n      this.$emit('input', value )\n    },\n    errorMessages(name){\n      return this.errors[name];\n    },\n    bindProps(props){\n      let _props = {};\n      if(!!props){\n        Object.keys(props).forEach( (v,i) => {\n          if(parseInt(v) > -1){\n            _props[props[v]] = true;\n          }else{\n            _props[v] = props[v];\n          }\n        })\n      }\n      // __log(_props)\n      return _props;  \n    }\n  }\n}\n"],"mappings":";;;;;;AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,MAAM;AAE3C,eAAe;EACfC,KAAK,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC;EACrBC,IAAI,EAAE,SAAAA,KAAA,EAAW;IACf,OAAO;MACLC,EAAE,EAAEC,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,EAAE,GAAC,OAAO,CAAC,GAAG;IACzC,CAAC;EACH,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG,CAEV,CAAC;EAEDC,KAAK,EAAE;IACLC,KAAK,WAAAA,MAACC,GAAG,EAAC;MACR;MACA;MACA;MACA;IAAA;EAEJ,CAAC;EACDC,QAAQ,EAAAC,aAAA,CAAAA,aAAA;IACNC,KAAK,EAAC;MACFC,GAAG,WAAAA,IAAA,EAAE;QAAG,OAAO,IAAI,CAACL,KAAK;MAAA,CAAC;MAC1BM,GAAG,WAAAA,IAACL,GAAG,EAAC;QAAE,IAAI,CAACM,KAAK,CAAC,OAAO,EAAEN,GAAG,CAAC;MAAA,CAAC,CAAE;IACzC;EAAC,GAEEX,QAAQ,CAAC;IACRkB,MAAM,EAAE,SAAAA,OAAAC,KAAK;MAAA,OAAIA,KAAK,CAACC,IAAI,CAACF,MAAM;IAAA;EACtC,CAAC,CAAC;IAEFhB,KAAK,WAAAA,MAAA,EAAG;MACN,IAAG,CAAC,CAAC,IAAI,CAACmB,UAAU,CAACnB,KAAK,EAAC;QACzB,OAAO,IAAI,CAACoB,cAAc,CAAC,IAAI,CAACD,UAAU,CAACnB,KAAK,CAAC;MACnD,CAAC,MAAI;QACH,OAAO,CAAC,CAAC;MACX;IACF,CAAC;IACDqB,cAAc,WAAAA,eAAA,EAAG;MACf,IAAG,CAAC,CAAC,IAAI,CAACF,UAAU,CAACnB,KAAK,IAAI,CAAC,CAAC,IAAI,CAACmB,UAAU,CAACnB,KAAK,CAACA,KAAK,EAAC;QAC1D,OAAO,IAAI,CAACoB,cAAc,CAAC,IAAI,CAACD,UAAU,CAACnB,KAAK,CAACA,KAAK,CAAC;MACzD,CAAC,MAAI;QACH,OAAO,CAAC,CAAC;MACX;IACF;EAAC,EACF;EACDsB,OAAO,EAAE;IACPC,MAAM,WAAAA,OAACf,KAAK,EAAE;MACZ,IAAI,CAACO,KAAK,CAAC,OAAO,EAAEP,KAAK,CAAE;IAC7B,CAAC;IACDgB,aAAa,WAAAA,cAACC,IAAI,EAAC;MACjB,OAAO,IAAI,CAACT,MAAM,CAACS,IAAI,CAAC;IAC1B,CAAC;IACDC,SAAS,WAAAA,UAAC1B,KAAK,EAAC;MACd,IAAI2B,MAAM,GAAG,CAAC,CAAC;MACf,IAAG,CAAC,CAAC3B,KAAK,EAAC;QACT4B,MAAM,CAACC,IAAI,CAAC7B,KAAK,CAAC,CAAC8B,OAAO,CAAE,UAACC,CAAC,EAACC,CAAC,EAAK;UACnC,IAAGC,QAAQ,CAACF,CAAC,CAAC,GAAG,CAAC,CAAC,EAAC;YAClBJ,MAAM,CAAC3B,KAAK,CAAC+B,CAAC,CAAC,CAAC,GAAG,IAAI;UACzB,CAAC,MAAI;YACHJ,MAAM,CAACI,CAAC,CAAC,GAAG/B,KAAK,CAAC+B,CAAC,CAAC;UACtB;QACF,CAAC,CAAC;MACJ;MACA;MACA,OAAOJ,MAAM;IACf;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}