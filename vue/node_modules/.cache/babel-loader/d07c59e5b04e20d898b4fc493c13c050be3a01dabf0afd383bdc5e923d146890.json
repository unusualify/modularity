{"ast":null,"code":"import _objectSpread from \"/var/www/crm_template/packages/oobook/crm-base/vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VIcon.css\";\n\n// Composables\nimport { IconValue, useIcon } from \"../../composables/icons.mjs\";\nimport { makeSizeProps, useSize } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { useTextColor } from \"../../composables/color.mjs\"; // Utilities\nimport { computed, Text, toRef } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport var makeVIconProps = propsFactory(_objectSpread(_objectSpread(_objectSpread({\n  color: String,\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue\n}, makeSizeProps()), makeTagProps({\n  tag: 'i'\n})), makeThemeProps()), 'v-icon');\nexport var VIcon = genericComponent()({\n  name: 'VIcon',\n  props: makeVIconProps(),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var slotIcon;\n    if (slots[\"default\"]) {\n      slotIcon = computed(function () {\n        var _slots$default, _slot$filter$;\n        var slot = (_slots$default = slots[\"default\"]) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots);\n        if (!slot) return;\n        return (_slot$filter$ = slot.filter(function (node) {\n          return node.type === Text && node.children && typeof node.children === 'string';\n        })[0]) === null || _slot$filter$ === void 0 ? void 0 : _slot$filter$.children;\n      });\n    }\n    var _provideTheme = provideTheme(props),\n      themeClasses = _provideTheme.themeClasses;\n    var _useIcon = useIcon(slotIcon || props),\n      iconData = _useIcon.iconData;\n    var _useSize = useSize(props),\n      sizeClasses = _useSize.sizeClasses;\n    var _useTextColor = useTextColor(toRef(props, 'color')),\n      textColorClasses = _useTextColor.textColorClasses,\n      textColorStyles = _useTextColor.textColorStyles;\n    useRender(function () {\n      return _createVNode(iconData.value.component, {\n        \"tag\": props.tag,\n        \"icon\": iconData.value.icon,\n        \"class\": ['v-icon', 'notranslate', themeClasses.value, sizeClasses.value, textColorClasses.value, {\n          'v-icon--clickable': !!attrs.onClick,\n          'v-icon--start': props.start,\n          'v-icon--end': props.end\n        }],\n        \"style\": [!sizeClasses.value ? {\n          fontSize: convertToUnit(props.size),\n          height: convertToUnit(props.size),\n          width: convertToUnit(props.size)\n        } : undefined, textColorStyles.value],\n        \"role\": attrs.onClick ? 'button' : undefined,\n        \"aria-hidden\": !attrs.onClick\n      }, {\n        \"default\": function _default() {\n          var _slots$default2;\n          return [(_slots$default2 = slots[\"default\"]) === null || _slots$default2 === void 0 ? void 0 : _slots$default2.call(slots)];\n        }\n      });\n    });\n    return {};\n  }\n});","map":{"version":3,"names":["IconValue","useIcon","makeSizeProps","useSize","makeTagProps","makeThemeProps","provideTheme","useTextColor","computed","Text","toRef","convertToUnit","genericComponent","propsFactory","useRender","makeVIconProps","_objectSpread","color","String","start","Boolean","end","icon","tag","VIcon","name","props","setup","_ref","attrs","slots","slotIcon","_slots$default","_slot$filter$","slot","call","filter","node","type","children","_provideTheme","themeClasses","_useIcon","iconData","_useSize","sizeClasses","_useTextColor","textColorClasses","textColorStyles","_createVNode","value","component","onClick","fontSize","size","height","width","undefined","_default","_slots$default2"],"sources":["../../../src/components/VIcon/VIcon.tsx"],"sourcesContent":["// Styles\nimport './VIcon.sass'\n\n// Composables\nimport { IconValue, useIcon } from '@/composables/icons'\nimport { makeSizeProps, useSize } from '@/composables/size'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useTextColor } from '@/composables/color'\n\n// Utilities\nimport { computed, Text, toRef } from 'vue'\nimport { convertToUnit, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { ComputedRef } from 'vue'\n\nexport const makeVIconProps = propsFactory({\n  color: String,\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue,\n\n  ...makeSizeProps(),\n  ...makeTagProps({ tag: 'i' }),\n  ...makeThemeProps(),\n}, 'v-icon')\n\nexport const VIcon = genericComponent()({\n  name: 'VIcon',\n\n  props: makeVIconProps(),\n\n  setup (props, { attrs, slots }) {\n    let slotIcon: ComputedRef<string | undefined> | undefined\n    if (slots.default) {\n      slotIcon = computed(() => {\n        const slot = slots.default?.()\n        if (!slot) return\n\n        return slot.filter(node =>\n          node.type === Text && node.children && typeof node.children === 'string'\n        )[0]?.children as string\n      })\n    }\n\n    const { themeClasses } = provideTheme(props)\n    const { iconData } = useIcon(slotIcon || props)\n    const { sizeClasses } = useSize(props)\n    const { textColorClasses, textColorStyles } = useTextColor(toRef(props, 'color'))\n\n    useRender(() => (\n      <iconData.value.component\n        tag={ props.tag }\n        icon={ iconData.value.icon }\n        class={[\n          'v-icon',\n          'notranslate',\n          themeClasses.value,\n          sizeClasses.value,\n          textColorClasses.value,\n          {\n            'v-icon--clickable': !!attrs.onClick,\n            'v-icon--start': props.start,\n            'v-icon--end': props.end,\n          },\n        ]}\n        style={[\n          !sizeClasses.value ? ({\n            fontSize: convertToUnit(props.size),\n            height: convertToUnit(props.size),\n            width: convertToUnit(props.size),\n          }) : undefined,\n          textColorStyles.value,\n        ]}\n        role={ attrs.onClick ? 'button' : undefined }\n        aria-hidden={ !attrs.onClick }\n      >\n        { slots.default?.() }\n      </iconData.value.component>\n    ))\n\n    return {}\n  },\n})\n\nexport type VIcon = InstanceType<typeof VIcon>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}