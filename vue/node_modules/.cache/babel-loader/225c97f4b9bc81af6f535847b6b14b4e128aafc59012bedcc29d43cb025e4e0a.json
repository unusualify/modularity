{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { mapState, mapGetters } from 'vuex';\nimport htmlClasses from '@/utils/htmlClasses';\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      \"default\": false\n    },\n    cancelText: {\n      type: String,\n      \"default\": ''\n    },\n    confirmText: {\n      type: String,\n      \"default\": ''\n    }\n  },\n  data: function data() {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + '-modal',\n      show: this.value\n    };\n  },\n  computed: {\n    // show: {\n    //   get () {\n    //     return this.value\n    //   },\n    //   set (value) {\n    //     // __log('mixins/modal->show->setter', value)\n    //     this.$emit('input', value)\n    //     // __log(this.show)\n    //   }\n    // },\n    textCancel: function textCancel() {\n      return this.cancelText !== '' ? this.cancelText : this.$t('cancel');\n    },\n    textConfirm: function textConfirm() {\n      return this.confirmText !== '' ? this.confirmText : this.$t('confirm');\n    }\n  },\n  methods: {\n    setValue: function setValue(e) {\n      __log('setValue', e.target.name);\n      this[e.target.name] = e.target.value;\n    },\n    openModal: function openModal() {\n      this.show = true;\n    },\n    closeModal: function closeModal() {\n      this.show = false;\n    },\n    cancelModal: function cancelModal() {\n      if (typeof this.cancelCallback === 'undefined') {\n        this.closeModal();\n      } else {\n        this.cancelCallback();\n      }\n      this.$emit('cancel');\n    },\n    confirmModal: function confirmModal() {\n      if (typeof this.confirmCallback === 'undefined') {\n        this.closeModal();\n      } else {\n        this.confirmCallback();\n      }\n      this.$emit('confirm');\n    }\n  },\n  created: function created() {\n    setInterval(function (self) {\n      __log('show', self.show);\n    }, 5000, this);\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","htmlClasses","props","value","type","Boolean","cancelText","String","confirmText","data","id","Math","ceil","random","show","computed","textCancel","$t","textConfirm","methods","setValue","e","__log","target","name","openModal","closeModal","cancelModal","cancelCallback","$emit","confirmModal","confirmCallback","created","setInterval","self"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/mixins/modal.js"],"sourcesContent":["import { mapState, mapGetters } from 'vuex'\nimport htmlClasses from '@/utils/htmlClasses'\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    cancelText: {\n      type: String,\n      default: ''\n    },\n    confirmText: {\n      type: String,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + '-modal',\n      show: this.value\n    }\n  },\n\n  computed: {\n    // show: {\n    //   get () {\n    //     return this.value\n    //   },\n    //   set (value) {\n    //     // __log('mixins/modal->show->setter', value)\n    //     this.$emit('input', value)\n    //     // __log(this.show)\n    //   }\n    // },\n    textCancel () {\n      return this.cancelText !== '' ? this.cancelText : this.$t('cancel')\n    },\n    textConfirm () {\n      return this.confirmText !== '' ? this.confirmText : this.$t('confirm')\n    }\n  },\n  methods: {\n    setValue (e) {\n      __log('setValue', e.target.name)\n      this[e.target.name] = e.target.value\n    },\n    openModal () {\n      this.show = true\n    },\n    closeModal () {\n      this.show = false\n    },\n\n    cancelModal () {\n      if (typeof this.cancelCallback === 'undefined') {\n        this.closeModal()\n      } else {\n        this.cancelCallback()\n      }\n      this.$emit('cancel')\n    },\n\n    confirmModal () {\n      if (typeof this.confirmCallback === 'undefined') {\n        this.closeModal()\n      } else {\n        this.confirmCallback()\n      }\n      this.$emit('confirm')\n    }\n  },\n  created () {\n    setInterval((self) => {\n      __log('show', self.show)\n    }, 5000, this)\n  }\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,MAAM;AAC3C,OAAOC,WAAW,MAAM,qBAAqB;AAE7C,eAAe;EACbC,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,OAAO;MACb,WAAS;IACX,CAAC;IACDC,UAAU,EAAE;MACVF,IAAI,EAAEG,MAAM;MACZ,WAAS;IACX,CAAC;IACDC,WAAW,EAAE;MACXJ,IAAI,EAAEG,MAAM;MACZ,WAAS;IACX;EACF,CAAC;EACDE,IAAI,WAAAA,KAAA,EAAI;IACN,OAAO;MACLC,EAAE,EAAEC,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,OAAO,CAAC,GAAG,QAAQ;MACjDC,IAAI,EAAE,IAAI,CAACX;IACb,CAAC;EACH,CAAC;EAEDY,QAAQ,EAAE;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC,UAAU,WAAAA,WAAA,EAAI;MACZ,OAAO,IAAI,CAACV,UAAU,KAAK,EAAE,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI,CAACW,EAAE,CAAC,QAAQ,CAAC;IACrE,CAAC;IACDC,WAAW,WAAAA,YAAA,EAAI;MACb,OAAO,IAAI,CAACV,WAAW,KAAK,EAAE,GAAG,IAAI,CAACA,WAAW,GAAG,IAAI,CAACS,EAAE,CAAC,SAAS,CAAC;IACxE;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,QAAQ,WAAAA,SAAEC,CAAC,EAAE;MACXC,KAAK,CAAC,UAAU,EAAED,CAAC,CAACE,MAAM,CAACC,IAAI,CAAC;MAChC,IAAI,CAACH,CAAC,CAACE,MAAM,CAACC,IAAI,CAAC,GAAGH,CAAC,CAACE,MAAM,CAACpB,KAAK;IACtC,CAAC;IACDsB,SAAS,WAAAA,UAAA,EAAI;MACX,IAAI,CAACX,IAAI,GAAG,IAAI;IAClB,CAAC;IACDY,UAAU,WAAAA,WAAA,EAAI;MACZ,IAAI,CAACZ,IAAI,GAAG,KAAK;IACnB,CAAC;IAEDa,WAAW,WAAAA,YAAA,EAAI;MACb,IAAI,OAAO,IAAI,CAACC,cAAc,KAAK,WAAW,EAAE;QAC9C,IAAI,CAACF,UAAU,EAAE;MACnB,CAAC,MAAM;QACL,IAAI,CAACE,cAAc,EAAE;MACvB;MACA,IAAI,CAACC,KAAK,CAAC,QAAQ,CAAC;IACtB,CAAC;IAEDC,YAAY,WAAAA,aAAA,EAAI;MACd,IAAI,OAAO,IAAI,CAACC,eAAe,KAAK,WAAW,EAAE;QAC/C,IAAI,CAACL,UAAU,EAAE;MACnB,CAAC,MAAM;QACL,IAAI,CAACK,eAAe,EAAE;MACxB;MACA,IAAI,CAACF,KAAK,CAAC,SAAS,CAAC;IACvB;EACF,CAAC;EACDG,OAAO,WAAAA,QAAA,EAAI;IACTC,WAAW,CAAC,UAACC,IAAI,EAAK;MACpBZ,KAAK,CAAC,MAAM,EAAEY,IAAI,CAACpB,IAAI,CAAC;IAC1B,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}