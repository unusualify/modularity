{"ast":null,"code":"// SVGs\n\n// Should output : '<span class=\"icon icon--${id}\"><svg><title>id</title><use xlink:href=\"#icon--${id}\"></use></svg></span>';\n// <svg class=\"icon icon--${id}\"><title>id</title><use xlink:href=\"#icon--${id}\"></use></svg> if node is already a svg\n\nexport function addSvg(el, binding, vnode) {\n  const classNames = ['icon'];\n  const id = binding.expression || vnode.data.attrs.symbol;\n  let svg = el;\n  // span or svg ?\n  if (vnode.tag === 'span') {\n    // add SVG element\n    svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    el.appendChild(svg);\n  }\n  // add classes to wrapper\n  classNames.push(`icon--${id}`);\n  classNames.forEach(function (className) {\n    el.classList.add(className);\n  });\n\n  // add title to SVGs\n  const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');\n  title.textContent = id;\n  svg.appendChild(title);\n\n  // Add the <use> element to <svg>\n  const href = `#icon--${id}`;\n  const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n  use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', href);\n  svg.appendChild(use);\n}\nexport function removeSvg(el) {\n  const svg = el.querySelector('svg');\n\n  // remove svg\n  if (svg) svg.parentNode.removeChild(svg);\n\n  // clean up classes\n  const classNames = el.className.split(' ').filter(function (c) {\n    return c.indexOf('icon') === 0;\n  });\n  classNames.forEach(function (className) {\n    el.classList.remove(className);\n  });\n}","map":{"version":3,"names":["addSvg","el","binding","vnode","classNames","id","expression","data","attrs","symbol","svg","tag","document","createElementNS","appendChild","push","forEach","className","classList","add","title","textContent","href","use","setAttributeNS","removeSvg","querySelector","parentNode","removeChild","split","filter","c","indexOf","remove"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/utils/svg.js"],"sourcesContent":["// SVGs\n\n// Should output : '<span class=\"icon icon--${id}\"><svg><title>id</title><use xlink:href=\"#icon--${id}\"></use></svg></span>';\n// <svg class=\"icon icon--${id}\"><title>id</title><use xlink:href=\"#icon--${id}\"></use></svg> if node is already a svg\n\nexport function addSvg (el, binding, vnode) {\n  const classNames = ['icon']\n  const id = binding.expression || vnode.data.attrs.symbol\n  let svg = el\n  // span or svg ?\n  if (vnode.tag === 'span') {\n    // add SVG element\n    svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n    el.appendChild(svg)\n  }\n  // add classes to wrapper\n  classNames.push(`icon--${id}`)\n  classNames.forEach(function (className) {\n    el.classList.add(className)\n  })\n\n  // add title to SVGs\n  const title = document.createElementNS('http://www.w3.org/2000/svg', 'title')\n\n  title.textContent = id\n  svg.appendChild(title)\n\n  // Add the <use> element to <svg>\n  const href = `#icon--${id}`\n  const use = document.createElementNS('http://www.w3.org/2000/svg', 'use')\n\n  use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', href)\n  svg.appendChild(use)\n}\n\nexport function removeSvg (el) {\n  const svg = el.querySelector('svg')\n\n  // remove svg\n  if (svg) svg.parentNode.removeChild(svg)\n\n  // clean up classes\n  const classNames = el.className.split(' ').filter(function (c) {\n    return c.indexOf('icon') === 0\n  })\n\n  classNames.forEach(function (className) {\n    el.classList.remove(className)\n  })\n}\n"],"mappings":"AAAA;;AAEA;AACA;;AAEA,OAAO,SAASA,MAAMA,CAAEC,EAAE,EAAEC,OAAO,EAAEC,KAAK,EAAE;EAC1C,MAAMC,UAAU,GAAG,CAAC,MAAM,CAAC;EAC3B,MAAMC,EAAE,GAAGH,OAAO,CAACI,UAAU,IAAIH,KAAK,CAACI,IAAI,CAACC,KAAK,CAACC,MAAM;EACxD,IAAIC,GAAG,GAAGT,EAAE;EACZ;EACA,IAAIE,KAAK,CAACQ,GAAG,KAAK,MAAM,EAAE;IACxB;IACAD,GAAG,GAAGE,QAAQ,CAACC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC;IACnEZ,EAAE,CAACa,WAAW,CAACJ,GAAG,CAAC;EACrB;EACA;EACAN,UAAU,CAACW,IAAI,CAAE,SAAQV,EAAG,EAAC,CAAC;EAC9BD,UAAU,CAACY,OAAO,CAAC,UAAUC,SAAS,EAAE;IACtChB,EAAE,CAACiB,SAAS,CAACC,GAAG,CAACF,SAAS,CAAC;EAC7B,CAAC,CAAC;;EAEF;EACA,MAAMG,KAAK,GAAGR,QAAQ,CAACC,eAAe,CAAC,4BAA4B,EAAE,OAAO,CAAC;EAE7EO,KAAK,CAACC,WAAW,GAAGhB,EAAE;EACtBK,GAAG,CAACI,WAAW,CAACM,KAAK,CAAC;;EAEtB;EACA,MAAME,IAAI,GAAI,UAASjB,EAAG,EAAC;EAC3B,MAAMkB,GAAG,GAAGX,QAAQ,CAACC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC;EAEzEU,GAAG,CAACC,cAAc,CAAC,8BAA8B,EAAE,YAAY,EAAEF,IAAI,CAAC;EACtEZ,GAAG,CAACI,WAAW,CAACS,GAAG,CAAC;AACtB;AAEA,OAAO,SAASE,SAASA,CAAExB,EAAE,EAAE;EAC7B,MAAMS,GAAG,GAAGT,EAAE,CAACyB,aAAa,CAAC,KAAK,CAAC;;EAEnC;EACA,IAAIhB,GAAG,EAAEA,GAAG,CAACiB,UAAU,CAACC,WAAW,CAAClB,GAAG,CAAC;;EAExC;EACA,MAAMN,UAAU,GAAGH,EAAE,CAACgB,SAAS,CAACY,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,UAAUC,CAAC,EAAE;IAC7D,OAAOA,CAAC,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC;EAChC,CAAC,CAAC;EAEF5B,UAAU,CAACY,OAAO,CAAC,UAAUC,SAAS,EAAE;IACtChB,EAAE,CAACiB,SAAS,CAACe,MAAM,CAAChB,SAAS,CAAC;EAChC,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}