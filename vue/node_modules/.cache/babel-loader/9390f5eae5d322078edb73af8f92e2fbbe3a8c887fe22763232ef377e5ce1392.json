{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { mapState, mapGetters } from 'vuex';\nimport htmlClasses from '@/utils/htmlClasses';\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      \"default\": false\n    },\n    cancelText: {\n      type: String,\n      \"default\": ''\n    },\n    confirmText: {\n      type: String,\n      \"default\": ''\n    }\n  },\n  data: function data() {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + '-modal'\n      //   show: this.value\n    };\n  },\n\n  computed: {\n    show: {\n      get: function get() {\n        return this.value;\n      },\n      set: function set(value) {\n        // __log('mixins/modal->show->setter', value)\n        this.$emit('input', value);\n        // __log(this.show)\n      }\n    },\n    textCancel: function textCancel() {\n      return this.cancelText != '' ? this.cancelText : this.$t('cancel');\n    },\n    textConfirm: function textConfirm() {\n      return this.confirmText != '' ? this.confirmText : this.$t('confirm');\n    }\n  },\n  methods: {\n    setValue: function setValue(e) {\n      __log('setValue', e.target.name);\n      this[e.target.name] = e.target.value;\n    },\n    openModal: function openModal() {\n      this.show = true;\n    },\n    closeModal: function closeModal() {\n      this.show = false;\n    },\n    cancelModal: function cancelModal() {\n      if (typeof this.cancelCallback === 'undefined') {\n        this.closeModal();\n      } else {\n        this.cancelCallback();\n      }\n      this.$emit('cancel');\n    },\n    confirmModal: function confirmModal() {\n      if (typeof this.confirmCallback === 'undefined') {\n        this.closeModal();\n      } else {\n        this.confirmCallback();\n      }\n      this.$emit('confirm');\n    }\n  },\n  created: function created() {\n    setInterval(function (self) {\n      __log('show', self.show);\n    }, 2000, this);\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","htmlClasses","props","value","type","Boolean","cancelText","String","confirmText","data","id","Math","ceil","random","computed","show","get","set","$emit","textCancel","$t","textConfirm","methods","setValue","e","__log","target","name","openModal","closeModal","cancelModal","cancelCallback","confirmModal","confirmCallback","created","setInterval","self"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/mixins/modal.js"],"sourcesContent":["import { mapState, mapGetters } from 'vuex'\nimport htmlClasses from '@/utils/htmlClasses'\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    cancelText: {\n      type: String,\n      default: ''\n    },\n    confirmText: {\n      type: String,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + '-modal'\n    //   show: this.value\n    }\n  },\n\n  computed: {\n    show: {\n      get () {\n        return this.value\n      },\n      set (value) {\n        // __log('mixins/modal->show->setter', value)\n        this.$emit('input', value)\n        // __log(this.show)\n      }\n    },\n    textCancel () {\n      return this.cancelText != '' ? this.cancelText : this.$t('cancel')\n    },\n    textConfirm () {\n      return this.confirmText != '' ? this.confirmText : this.$t('confirm')\n    }\n  },\n  methods: {\n    setValue (e) {\n      __log('setValue', e.target.name)\n      this[e.target.name] = e.target.value\n    },\n    openModal () {\n      this.show = true\n    },\n    closeModal () {\n      this.show = false\n    },\n\n    cancelModal () {\n      if (typeof this.cancelCallback === 'undefined') {\n        this.closeModal()\n      } else {\n        this.cancelCallback()\n      }\n      this.$emit('cancel')\n    },\n\n    confirmModal () {\n      if (typeof this.confirmCallback === 'undefined') {\n        this.closeModal()\n      } else {\n        this.confirmCallback()\n      }\n      this.$emit('confirm')\n    }\n  },\n  created () {\n    setInterval((self) => {\n      __log('show', self.show)\n    }, 2000, this)\n  }\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,MAAM;AAC3C,OAAOC,WAAW,MAAM,qBAAqB;AAE7C,eAAe;EACbC,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,OAAO;MACb,WAAS;IACX,CAAC;IACDC,UAAU,EAAE;MACVF,IAAI,EAAEG,MAAM;MACZ,WAAS;IACX,CAAC;IACDC,WAAW,EAAE;MACXJ,IAAI,EAAEG,MAAM;MACZ,WAAS;IACX;EACF,CAAC;EACDE,IAAI,WAAAA,KAAA,EAAI;IACN,OAAO;MACLC,EAAE,EAAEC,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,OAAO,CAAC,GAAG;MAC3C;IACA,CAAC;EACH,CAAC;;EAEDC,QAAQ,EAAE;IACRC,IAAI,EAAE;MACJC,GAAG,WAAAA,IAAA,EAAI;QACL,OAAO,IAAI,CAACb,KAAK;MACnB,CAAC;MACDc,GAAG,WAAAA,IAAEd,KAAK,EAAE;QACV;QACA,IAAI,CAACe,KAAK,CAAC,OAAO,EAAEf,KAAK,CAAC;QAC1B;MACF;IACF,CAAC;IACDgB,UAAU,WAAAA,WAAA,EAAI;MACZ,OAAO,IAAI,CAACb,UAAU,IAAI,EAAE,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI,CAACc,EAAE,CAAC,QAAQ,CAAC;IACpE,CAAC;IACDC,WAAW,WAAAA,YAAA,EAAI;MACb,OAAO,IAAI,CAACb,WAAW,IAAI,EAAE,GAAG,IAAI,CAACA,WAAW,GAAG,IAAI,CAACY,EAAE,CAAC,SAAS,CAAC;IACvE;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,QAAQ,WAAAA,SAAEC,CAAC,EAAE;MACXC,KAAK,CAAC,UAAU,EAAED,CAAC,CAACE,MAAM,CAACC,IAAI,CAAC;MAChC,IAAI,CAACH,CAAC,CAACE,MAAM,CAACC,IAAI,CAAC,GAAGH,CAAC,CAACE,MAAM,CAACvB,KAAK;IACtC,CAAC;IACDyB,SAAS,WAAAA,UAAA,EAAI;MACX,IAAI,CAACb,IAAI,GAAG,IAAI;IAClB,CAAC;IACDc,UAAU,WAAAA,WAAA,EAAI;MACZ,IAAI,CAACd,IAAI,GAAG,KAAK;IACnB,CAAC;IAEDe,WAAW,WAAAA,YAAA,EAAI;MACb,IAAI,OAAO,IAAI,CAACC,cAAc,KAAK,WAAW,EAAE;QAC9C,IAAI,CAACF,UAAU,EAAE;MACnB,CAAC,MAAM;QACL,IAAI,CAACE,cAAc,EAAE;MACvB;MACA,IAAI,CAACb,KAAK,CAAC,QAAQ,CAAC;IACtB,CAAC;IAEDc,YAAY,WAAAA,aAAA,EAAI;MACd,IAAI,OAAO,IAAI,CAACC,eAAe,KAAK,WAAW,EAAE;QAC/C,IAAI,CAACJ,UAAU,EAAE;MACnB,CAAC,MAAM;QACL,IAAI,CAACI,eAAe,EAAE;MACxB;MACA,IAAI,CAACf,KAAK,CAAC,SAAS,CAAC;IACvB;EACF,CAAC;EACDgB,OAAO,WAAAA,QAAA,EAAI;IACTC,WAAW,CAAC,UAACC,IAAI,EAAK;MACpBX,KAAK,CAAC,MAAM,EAAEW,IAAI,CAACrB,IAAI,CAAC;IAC1B,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}