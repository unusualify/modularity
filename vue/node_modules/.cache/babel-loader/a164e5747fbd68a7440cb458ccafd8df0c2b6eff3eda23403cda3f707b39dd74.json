{"ast":null,"code":"import _slicedToArray from \"/var/www/crm_template/packages/oobook/crm-base/vue/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/var/www/crm_template/packages/oobook/crm-base/vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { mergeProps as _mergeProps, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VSnackbar.css\";\n\n// Components\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VOverlay } from \"../VOverlay/index.mjs\"; // Composables\nimport { genOverlays, makeVariantProps, useVariant } from \"../../composables/variant.mjs\";\nimport { makeLocationProps, useLocation } from \"../../composables/location.mjs\";\nimport { makePositionProps, usePosition } from \"../../composables/position.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\";\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\"; // Utilities\nimport { mergeProps, onMounted, ref, watch } from 'vue';\nimport { genericComponent, omit, useRender } from \"../../util/index.mjs\";\nimport { filterVOverlayProps, makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\";\nexport var VSnackbar = genericComponent()({\n  name: 'VSnackbar',\n  props: _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n    multiLine: Boolean,\n    timeout: {\n      type: [Number, String],\n      \"default\": 5000\n    },\n    vertical: Boolean\n  }, makeLocationProps({\n    location: 'bottom'\n  })), makePositionProps()), makeRoundedProps()), makeVariantProps()), makeThemeProps()), omit(makeVOverlayProps({\n    transition: 'v-snackbar-transition'\n  }), ['persistent', 'noClickAnimation', 'scrim', 'scrollStrategy'])),\n  emits: {\n    'update:modelValue': function updateModelValue(v) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var isActive = useProxiedModel(props, 'modelValue');\n    var _useLocation = useLocation(props),\n      locationStyles = _useLocation.locationStyles;\n    var _usePosition = usePosition(props),\n      positionClasses = _usePosition.positionClasses;\n    var _useScopeId = useScopeId(),\n      scopeId = _useScopeId.scopeId;\n    var _provideTheme = provideTheme(props),\n      themeClasses = _provideTheme.themeClasses;\n    var _useVariant = useVariant(props),\n      colorClasses = _useVariant.colorClasses,\n      colorStyles = _useVariant.colorStyles,\n      variantClasses = _useVariant.variantClasses;\n    var _useRounded = useRounded(props),\n      roundedClasses = _useRounded.roundedClasses;\n    var overlay = ref();\n    watch(isActive, startTimeout);\n    watch(function () {\n      return props.timeout;\n    }, startTimeout);\n    onMounted(function () {\n      if (isActive.value) startTimeout();\n    });\n    var activeTimeout = -1;\n    function startTimeout() {\n      window.clearTimeout(activeTimeout);\n      var timeout = Number(props.timeout);\n      if (!isActive.value || timeout === -1) return;\n      activeTimeout = window.setTimeout(function () {\n        isActive.value = false;\n      }, timeout);\n    }\n    function onPointerenter() {\n      window.clearTimeout(activeTimeout);\n    }\n    useRender(function () {\n      var _filterVOverlayProps = filterVOverlayProps(props),\n        _filterVOverlayProps2 = _slicedToArray(_filterVOverlayProps, 1),\n        overlayProps = _filterVOverlayProps2[0];\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-snackbar', {\n          'v-snackbar--active': isActive.value,\n          'v-snackbar--multi-line': props.multiLine && !props.vertical,\n          'v-snackbar--vertical': props.vertical\n        }, positionClasses.value]\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n          return isActive.value = $event;\n        },\n        \"contentProps\": mergeProps({\n          style: locationStyles.value\n        }, overlayProps.contentProps),\n        \"persistent\": true,\n        \"noClickAnimation\": true,\n        \"scrim\": false,\n        \"scrollStrategy\": \"none\"\n      }, scopeId), {\n        \"default\": function _default() {\n          return [_createVNode(\"div\", {\n            \"class\": ['v-snackbar__wrapper', themeClasses.value, colorClasses.value, roundedClasses.value, variantClasses.value],\n            \"style\": [colorStyles.value],\n            \"onPointerenter\": onPointerenter,\n            \"onPointerleave\": startTimeout\n          }, [genOverlays(false, 'v-snackbar'), slots[\"default\"] && _createVNode(\"div\", {\n            \"class\": \"v-snackbar__content\",\n            \"role\": \"status\",\n            \"aria-live\": \"polite\"\n          }, [slots[\"default\"]()]), slots.actions && _createVNode(VDefaultsProvider, {\n            \"defaults\": {\n              VBtn: {\n                variant: 'text',\n                ripple: false\n              }\n            }\n          }, {\n            \"default\": function _default() {\n              return [_createVNode(\"div\", {\n                \"class\": \"v-snackbar__actions\"\n              }, [slots.actions()])];\n            }\n          })])];\n        },\n        activator: slots.activator\n      });\n    });\n    return forwardRefs({}, overlay);\n  }\n});","map":{"version":3,"names":["VDefaultsProvider","VOverlay","genOverlays","makeVariantProps","useVariant","makeLocationProps","useLocation","makePositionProps","usePosition","makeRoundedProps","useRounded","makeThemeProps","provideTheme","useProxiedModel","useScopeId","forwardRefs","mergeProps","onMounted","ref","watch","genericComponent","omit","useRender","filterVOverlayProps","makeVOverlayProps","VSnackbar","name","props","_objectSpread","multiLine","Boolean","timeout","type","Number","String","vertical","location","transition","emits","updateModelValue","v","setup","_ref","slots","isActive","_useLocation","locationStyles","_usePosition","positionClasses","_useScopeId","scopeId","_provideTheme","themeClasses","_useVariant","colorClasses","colorStyles","variantClasses","_useRounded","roundedClasses","overlay","startTimeout","value","activeTimeout","window","clearTimeout","setTimeout","onPointerenter","_filterVOverlayProps","_filterVOverlayProps2","_slicedToArray","overlayProps","_createVNode","_mergeProps","onUpdateModelValue","$event","style","contentProps","_default","actions","VBtn","variant","ripple","activator"],"sources":["../../../src/components/VSnackbar/VSnackbar.tsx"],"sourcesContent":["// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\n\n// Composables\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\nimport { makeLocationProps, useLocation } from '@/composables/location'\nimport { makePositionProps, usePosition } from '@/composables/position'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useScopeId } from '@/composables/scopeId'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Utilities\nimport { mergeProps, onMounted, ref, watch } from 'vue'\nimport { genericComponent, omit, useRender } from '@/util'\nimport { filterVOverlayProps, makeVOverlayProps } from '@/components/VOverlay/VOverlay'\n\ntype VSnackbarSlots = {\n  activator: [{ isActive: boolean, props: Record<string, any> }]\n  default: []\n  actions: []\n}\n\nexport const VSnackbar = genericComponent<VSnackbarSlots>()({\n  name: 'VSnackbar',\n\n  props: {\n    multiLine: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    vertical: Boolean,\n\n    ...makeLocationProps({ location: 'bottom' } as const),\n    ...makePositionProps(),\n    ...makeRoundedProps(),\n    ...makeVariantProps(),\n    ...makeThemeProps(),\n    ...omit(makeVOverlayProps({\n      transition: 'v-snackbar-transition',\n    }), ['persistent', 'noClickAnimation', 'scrim', 'scrollStrategy']),\n  },\n\n  emits: {\n    'update:modelValue': (v: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { locationStyles } = useLocation(props)\n    const { positionClasses } = usePosition(props)\n    const { scopeId } = useScopeId()\n    const { themeClasses } = provideTheme(props)\n    const { colorClasses, colorStyles, variantClasses } = useVariant(props)\n    const { roundedClasses } = useRounded(props)\n\n    const overlay = ref<VOverlay>()\n\n    watch(isActive, startTimeout)\n    watch(() => props.timeout, startTimeout)\n\n    onMounted(() => {\n      if (isActive.value) startTimeout()\n    })\n\n    let activeTimeout = -1\n    function startTimeout () {\n      window.clearTimeout(activeTimeout)\n      const timeout = Number(props.timeout)\n\n      if (!isActive.value || timeout === -1) return\n\n      activeTimeout = window.setTimeout(() => {\n        isActive.value = false\n      }, timeout)\n    }\n\n    function onPointerenter () {\n      window.clearTimeout(activeTimeout)\n    }\n\n    useRender(() => {\n      const [overlayProps] = filterVOverlayProps(props)\n\n      return (\n        <VOverlay\n          ref={ overlay }\n          class={[\n            'v-snackbar',\n            {\n              'v-snackbar--active': isActive.value,\n              'v-snackbar--multi-line': props.multiLine && !props.vertical,\n              'v-snackbar--vertical': props.vertical,\n            },\n            positionClasses.value,\n          ]}\n          { ...overlayProps }\n          v-model={ isActive.value }\n          contentProps={ mergeProps({\n            style: locationStyles.value,\n          }, overlayProps.contentProps) }\n          persistent\n          noClickAnimation\n          scrim={ false }\n          scrollStrategy=\"none\"\n          { ...scopeId }\n          v-slots={{ activator: slots.activator }}\n        >\n          <div\n            class={[\n              'v-snackbar__wrapper',\n              themeClasses.value,\n              colorClasses.value,\n              roundedClasses.value,\n              variantClasses.value,\n            ]}\n            style={[colorStyles.value]}\n            onPointerenter={ onPointerenter }\n            onPointerleave={ startTimeout }\n          >\n            { genOverlays(false, 'v-snackbar') }\n\n            { slots.default && (\n              <div\n                class=\"v-snackbar__content\"\n                role=\"status\"\n                aria-live=\"polite\"\n              >\n                { slots.default() }\n              </div>\n            ) }\n\n            { slots.actions && (\n              <VDefaultsProvider\n                defaults={{\n                  VBtn: {\n                    variant: 'text',\n                    ripple: false,\n                  },\n                }}\n              >\n                <div class=\"v-snackbar__actions\">\n                  { slots.actions() }\n                </div>\n              </VDefaultsProvider>\n            ) }\n          </div>\n        </VOverlay>\n      )\n    })\n\n    return forwardRefs({}, overlay)\n  },\n})\n\nexport type VSnackbar = InstanceType<typeof VSnackbar>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}