{"ast":null,"code":"import _typeof from \"/var/www/crm_template/packages/oobook/crm-base/vue/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nfunction mounted(el, binding) {\n  var _binding$modifiers;\n  var _ref = (_binding$modifiers = binding.modifiers) !== null && _binding$modifiers !== void 0 ? _binding$modifiers : {},\n    _ref$self = _ref.self,\n    self = _ref$self === void 0 ? false : _ref$self;\n  var value = binding.value;\n  var options = _typeof(value) === 'object' && value.options || {\n    passive: true\n  };\n  var handler = typeof value === 'function' || 'handleEvent' in value ? value : value.handler;\n  var target = self ? el : binding.arg ? document.querySelector(binding.arg) : window;\n  if (!target) return;\n  target.addEventListener('scroll', handler, options);\n  el._onScroll = Object(el._onScroll);\n  el._onScroll[binding.instance.$.uid] = {\n    handler: handler,\n    options: options,\n    // Don't reference self\n    target: self ? undefined : target\n  };\n}\nfunction unmounted(el, binding) {\n  var _el$_onScroll;\n  if (!((_el$_onScroll = el._onScroll) !== null && _el$_onScroll !== void 0 && _el$_onScroll[binding.instance.$.uid])) return;\n  var _el$_onScroll$binding = el._onScroll[binding.instance.$.uid],\n    handler = _el$_onScroll$binding.handler,\n    options = _el$_onScroll$binding.options,\n    _el$_onScroll$binding2 = _el$_onScroll$binding.target,\n    target = _el$_onScroll$binding2 === void 0 ? el : _el$_onScroll$binding2;\n  target.removeEventListener('scroll', handler, options);\n  delete el._onScroll[binding.instance.$.uid];\n}\nfunction updated(el, binding) {\n  if (binding.value === binding.oldValue) return;\n  unmounted(el, binding);\n  mounted(el, binding);\n}\nexport var Scroll = {\n  mounted: mounted,\n  unmounted: unmounted,\n  updated: updated\n};\nexport default Scroll;","map":{"version":3,"names":["mounted","el","binding","_binding$modifiers","_ref","modifiers","_ref$self","self","value","options","_typeof","passive","handler","target","arg","document","querySelector","window","addEventListener","_onScroll","Object","instance","$","uid","undefined","unmounted","_el$_onScroll","_el$_onScroll$binding","_el$_onScroll$binding2","removeEventListener","updated","oldValue","Scroll"],"sources":["../../../src/directives/scroll/index.ts"],"sourcesContent":["import type { DirectiveBinding } from 'vue'\n\ninterface ScrollDirectiveBinding extends Omit<DirectiveBinding, 'modifiers'> {\n  value: EventListener | {\n    handler: EventListener\n    options?: AddEventListenerOptions\n  } | EventListenerObject & { options?: AddEventListenerOptions }\n  modifiers?: {\n    self?: boolean\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: ScrollDirectiveBinding) {\n  const { self = false } = binding.modifiers ?? {}\n  const value = binding.value\n  const options = (typeof value === 'object' && value.options) || { passive: true }\n  const handler = typeof value === 'function' || 'handleEvent' in value ? value : value.handler\n\n  const target = self\n    ? el\n    : binding.arg\n      ? document.querySelector(binding.arg)\n      : window\n\n  if (!target) return\n\n  target.addEventListener('scroll', handler, options)\n\n  el._onScroll = Object(el._onScroll)\n  el._onScroll![binding.instance!.$.uid] = {\n    handler,\n    options,\n    // Don't reference self\n    target: self ? undefined : target,\n  }\n}\n\nfunction unmounted (el: HTMLElement, binding: ScrollDirectiveBinding) {\n  if (!el._onScroll?.[binding.instance!.$.uid]) return\n\n  const { handler, options, target = el } = el._onScroll[binding.instance!.$.uid]!\n\n  target.removeEventListener('scroll', handler, options)\n  delete el._onScroll[binding.instance!.$.uid]\n}\n\nfunction updated (el: HTMLElement, binding: ScrollDirectiveBinding) {\n  if (binding.value === binding.oldValue) return\n\n  unmounted(el, binding)\n  mounted(el, binding)\n}\n\nexport const Scroll = {\n  mounted,\n  unmounted,\n  updated,\n}\n\nexport default Scroll\n"],"mappings":";AAYA,SAASA,OAAOA,CAAEC,EAAe,EAAEC,OAA+B,EAAE;EAAA,IAAAC,kBAAA;EAClE,IAAAC,IAAA,IAAAD,kBAAA,GAAyBD,OAAO,CAACG,SAAS,cAAAF,kBAAA,cAAAA,kBAAA,GAAI,CAAC,CAAC;IAAAG,SAAA,GAAAF,IAAA,CAAxCG,IAAI;IAAJA,IAAI,GAAAD,SAAA,cAAG,QAAAA,SAAA;EACf,IAAME,KAAK,GAAGN,OAAO,CAACM,KAAK;EAC3B,IAAMC,OAAO,GAAIC,OAAA,CAAOF,KAAK,MAAK,QAAQ,IAAIA,KAAK,CAACC,OAAO,IAAK;IAAEE,OAAO,EAAE;EAAK,CAAC;EACjF,IAAMC,OAAO,GAAG,OAAOJ,KAAK,KAAK,UAAU,IAAI,aAAa,IAAIA,KAAK,GAAGA,KAAK,GAAGA,KAAK,CAACI,OAAO;EAE7F,IAAMC,MAAM,GAAGN,IAAI,GACfN,EAAE,GACFC,OAAO,CAACY,GAAG,GACTC,QAAQ,CAACC,aAAa,CAACd,OAAO,CAACY,GAAG,CAAC,GACnCG,MAAM;EAEZ,IAAI,CAACJ,MAAM,EAAE;EAEbA,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAEN,OAAO,EAAEH,OAAO,CAAC;EAEnDR,EAAE,CAACkB,SAAS,GAAGC,MAAM,CAACnB,EAAE,CAACkB,SAAS,CAAC;EACnClB,EAAE,CAACkB,SAAS,CAAEjB,OAAO,CAACmB,QAAQ,CAAEC,CAAC,CAACC,GAAG,CAAC,GAAG;IACvCX,OAAO,EAAPA,OAAO;IACPH,OAAO,EAAPA,OAAO;IACP;IACAI,MAAM,EAAEN,IAAI,GAAGiB,SAAS,GAAGX;EAC7B,CAAC;AACH;AAEA,SAASY,SAASA,CAAExB,EAAe,EAAEC,OAA+B,EAAE;EAAA,IAAAwB,aAAA;EACpE,IAAI,GAAAA,aAAA,GAACzB,EAAE,CAACkB,SAAS,cAAAO,aAAA,eAAZA,aAAA,CAAexB,OAAO,CAACmB,QAAQ,CAAEC,CAAC,CAACC,GAAG,CAAC,GAAE;EAE9C,IAAAI,qBAAA,GAA0C1B,EAAE,CAACkB,SAAS,CAACjB,OAAO,CAACmB,QAAQ,CAAEC,CAAC,CAACC,GAAG,CAAE;IAAxEX,OAAO,GAAAe,qBAAA,CAAPf,OAAO;IAAEH,OAAO,GAAAkB,qBAAA,CAAPlB,OAAO;IAAAmB,sBAAA,GAAAD,qBAAA,CAAEd,MAAM;IAANA,MAAM,GAAAe,sBAAA,cAAG3B,EAAA,GAAA2B,sBAAA;EAEnCf,MAAM,CAACgB,mBAAmB,CAAC,QAAQ,EAAEjB,OAAO,EAAEH,OAAO,CAAC;EACtD,OAAOR,EAAE,CAACkB,SAAS,CAACjB,OAAO,CAACmB,QAAQ,CAAEC,CAAC,CAACC,GAAG,CAAC;AAC9C;AAEA,SAASO,OAAOA,CAAE7B,EAAe,EAAEC,OAA+B,EAAE;EAClE,IAAIA,OAAO,CAACM,KAAK,KAAKN,OAAO,CAAC6B,QAAQ,EAAE;EAExCN,SAAS,CAACxB,EAAE,EAAEC,OAAO,CAAC;EACtBF,OAAO,CAACC,EAAE,EAAEC,OAAO,CAAC;AACtB;AAEA,OAAO,IAAM8B,MAAM,GAAG;EACpBhC,OAAO,EAAPA,OAAO;EACPyB,SAAS,EAATA,SAAS;EACTK,OAAA,EAAAA;AACF,CAAC;AAED,eAAeE,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}