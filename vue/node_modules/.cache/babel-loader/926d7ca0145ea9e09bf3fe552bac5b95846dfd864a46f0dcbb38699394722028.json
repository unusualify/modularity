{"ast":null,"code":"import { mapState, mapGetters } from 'vuex';\nexport default {\n  props: ['value', 'obj'],\n  data: function () {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + \"-input\"\n    };\n  },\n  created() {},\n  watch: {\n    value(val) {\n      // __log(\n      //   'mixins/input.js value changed',\n      //   val\n      // )\n    }\n  },\n  computed: {\n    input: {\n      get() {\n        return this.value;\n      },\n      set(val) {\n        this.$emit('input', val);\n      } // listen to @input=\"handler\"\n    },\n\n    ...mapState({\n      errors: state => state.form.errors\n    }),\n    props() {\n      if (!!this.attributes.props) {\n        return this.configureProps(this.attributes.props);\n      } else {\n        return {};\n      }\n    },\n    secondaryProps() {\n      if (!!this.attributes.props && !!this.attributes.props.props) {\n        return this.configureProps(this.attributes.props.props);\n      } else {\n        return {};\n      }\n    }\n  },\n  methods: {\n    update(value) {\n      this.$emit('input', value);\n    },\n    errorMessages(name) {\n      return this.errors[name];\n    },\n    bindProps(props) {\n      let _props = {};\n      if (!!props) {\n        Object.keys(props).forEach((v, i) => {\n          if (parseInt(v) > -1) {\n            _props[props[v]] = true;\n          } else {\n            _props[v] = props[v];\n          }\n        });\n      }\n      // __log(_props)\n      return _props;\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","props","data","id","Math","ceil","random","created","watch","value","val","computed","input","get","set","$emit","errors","state","form","attributes","configureProps","secondaryProps","methods","update","errorMessages","name","bindProps","_props","Object","keys","forEach","v","i","parseInt"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/mixins/custom-input.js"],"sourcesContent":["import { mapState, mapGetters } from 'vuex'\n\nexport default {\nprops: ['value', 'obj'],\n  data: function() {\n    return {\n      id: Math.ceil(Math.random()*1000000) + \"-input\",\n    }\n  },\n  created() {\n\n  },\n\n  watch: {\n    value(val){\n      // __log(\n      //   'mixins/input.js value changed',\n      //   val\n      // )\n    }\n  },\n  computed: {\n    input:{\n        get(){  return this.value},\n        set(val){ this.$emit('input', val)}  // listen to @input=\"handler\"\n    },\n\n    ...mapState({\n        errors: state => state.form.errors\n    }),\n\n    props() {\n      if(!!this.attributes.props){\n        return this.configureProps(this.attributes.props)\n      }else{\n        return {}\n      }\n    },\n    secondaryProps() {\n      if(!!this.attributes.props && !!this.attributes.props.props){\n        return this.configureProps(this.attributes.props.props);\n      }else{\n        return {}\n      }\n    }\n  },\n  methods: {\n    update(value) {\n      this.$emit('input', value )\n    },\n    errorMessages(name){\n      return this.errors[name];\n    },\n    bindProps(props){\n      let _props = {};\n      if(!!props){\n        Object.keys(props).forEach( (v,i) => {\n          if(parseInt(v) > -1){\n            _props[props[v]] = true;\n          }else{\n            _props[v] = props[v];\n          }\n        })\n      }\n      // __log(_props)\n      return _props;  \n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,MAAM;AAE3C,eAAe;EACfC,KAAK,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC;EACrBC,IAAI,EAAE,SAAAA,CAAA,EAAW;IACf,OAAO;MACLC,EAAE,EAAEC,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,EAAE,GAAC,OAAO,CAAC,GAAG;IACzC,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG,CAEV,CAAC;EAEDC,KAAK,EAAE;IACLC,KAAKA,CAACC,GAAG,EAAC;MACR;MACA;MACA;MACA;IAAA;EAEJ,CAAC;EACDC,QAAQ,EAAE;IACRC,KAAK,EAAC;MACFC,GAAGA,CAAA,EAAE;QAAG,OAAO,IAAI,CAACJ,KAAK;MAAA,CAAC;MAC1BK,GAAGA,CAACJ,GAAG,EAAC;QAAE,IAAI,CAACK,KAAK,CAAC,OAAO,EAAEL,GAAG,CAAC;MAAA,CAAC,CAAE;IACzC,CAAC;;IAED,GAAGX,QAAQ,CAAC;MACRiB,MAAM,EAAEC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAACF;IAChC,CAAC,CAAC;IAEFf,KAAKA,CAAA,EAAG;MACN,IAAG,CAAC,CAAC,IAAI,CAACkB,UAAU,CAAClB,KAAK,EAAC;QACzB,OAAO,IAAI,CAACmB,cAAc,CAAC,IAAI,CAACD,UAAU,CAAClB,KAAK,CAAC;MACnD,CAAC,MAAI;QACH,OAAO,CAAC,CAAC;MACX;IACF,CAAC;IACDoB,cAAcA,CAAA,EAAG;MACf,IAAG,CAAC,CAAC,IAAI,CAACF,UAAU,CAAClB,KAAK,IAAI,CAAC,CAAC,IAAI,CAACkB,UAAU,CAAClB,KAAK,CAACA,KAAK,EAAC;QAC1D,OAAO,IAAI,CAACmB,cAAc,CAAC,IAAI,CAACD,UAAU,CAAClB,KAAK,CAACA,KAAK,CAAC;MACzD,CAAC,MAAI;QACH,OAAO,CAAC,CAAC;MACX;IACF;EACF,CAAC;EACDqB,OAAO,EAAE;IACPC,MAAMA,CAACd,KAAK,EAAE;MACZ,IAAI,CAACM,KAAK,CAAC,OAAO,EAAEN,KAAK,CAAE;IAC7B,CAAC;IACDe,aAAaA,CAACC,IAAI,EAAC;MACjB,OAAO,IAAI,CAACT,MAAM,CAACS,IAAI,CAAC;IAC1B,CAAC;IACDC,SAASA,CAACzB,KAAK,EAAC;MACd,IAAI0B,MAAM,GAAG,CAAC,CAAC;MACf,IAAG,CAAC,CAAC1B,KAAK,EAAC;QACT2B,MAAM,CAACC,IAAI,CAAC5B,KAAK,CAAC,CAAC6B,OAAO,CAAE,CAACC,CAAC,EAACC,CAAC,KAAK;UACnC,IAAGC,QAAQ,CAACF,CAAC,CAAC,GAAG,CAAC,CAAC,EAAC;YAClBJ,MAAM,CAAC1B,KAAK,CAAC8B,CAAC,CAAC,CAAC,GAAG,IAAI;UACzB,CAAC,MAAI;YACHJ,MAAM,CAACI,CAAC,CAAC,GAAG9B,KAAK,CAAC8B,CAAC,CAAC;UACtB;QACF,CAAC,CAAC;MACJ;MACA;MACA,OAAOJ,MAAM;IACf;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}