{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { createVNode as _createVNode, mergeProps as _mergeProps, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VCarousel.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VProgressLinear } from \"../VProgressLinear/index.mjs\";\nimport { VWindow } from \"../VWindow/index.mjs\"; // Composables\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { useLocale } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\"; // Utilities\nimport { convertToUnit, genericComponent, useRender } from \"../../util/index.mjs\";\nimport { onMounted, ref, watch } from 'vue';\n\n// Types\n\nexport var VCarousel = genericComponent()({\n  name: 'VCarousel',\n  props: {\n    color: String,\n    cycle: Boolean,\n    delimiterIcon: {\n      type: IconValue,\n      \"default\": '$delimiter'\n    },\n    height: {\n      type: [Number, String],\n      \"default\": 500\n    },\n    hideDelimiters: Boolean,\n    hideDelimiterBackground: Boolean,\n    interval: {\n      type: [Number, String],\n      \"default\": 6000,\n      validator: function validator(value) {\n        return value > 0;\n      }\n    },\n    modelValue: null,\n    progress: [Boolean, String],\n    showArrows: {\n      type: [Boolean, String],\n      \"default\": true,\n      validator: function validator(v) {\n        return typeof v === 'boolean' || v === 'hover';\n      }\n    },\n    verticalDelimiters: [Boolean, String]\n  },\n  emits: {\n    'update:modelValue': function updateModelValue(val) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var model = useProxiedModel(props, 'modelValue');\n    var _useLocale = useLocale(),\n      t = _useLocale.t;\n    var windowRef = ref();\n    var slideTimeout = -1;\n    watch(model, restartTimeout);\n    watch(function () {\n      return props.interval;\n    }, restartTimeout);\n    watch(function () {\n      return props.cycle;\n    }, function (val) {\n      if (val) restartTimeout();else window.clearTimeout(slideTimeout);\n    });\n    onMounted(startTimeout);\n    function startTimeout() {\n      if (!props.cycle || !windowRef.value) return;\n      slideTimeout = window.setTimeout(windowRef.value.group.next, +props.interval > 0 ? +props.interval : 6000);\n    }\n    function restartTimeout() {\n      window.clearTimeout(slideTimeout);\n      window.requestAnimationFrame(startTimeout);\n    }\n    useRender(function () {\n      return _createVNode(VWindow, {\n        \"ref\": windowRef,\n        \"modelValue\": model.value,\n        \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n          return model.value = $event;\n        },\n        \"class\": ['v-carousel', {\n          'v-carousel--hide-delimiter-background': props.hideDelimiterBackground,\n          'v-carousel--vertical-delimiters': props.verticalDelimiters\n        }],\n        \"style\": {\n          height: convertToUnit(props.height)\n        },\n        \"continuous\": true,\n        \"mandatory\": \"force\",\n        \"showArrows\": props.showArrows\n      }, {\n        \"default\": slots[\"default\"],\n        additional: function additional(_ref2) {\n          var group = _ref2.group;\n          return _createVNode(_Fragment, null, [!props.hideDelimiters && _createVNode(\"div\", {\n            \"class\": \"v-carousel__controls\",\n            \"style\": {\n              left: props.verticalDelimiters === 'left' && props.verticalDelimiters ? 0 : 'auto',\n              right: props.verticalDelimiters === 'right' ? 0 : 'auto'\n            }\n          }, [group.items.value.length > 0 && _createVNode(VDefaultsProvider, {\n            \"defaults\": {\n              VBtn: {\n                color: props.color,\n                icon: props.delimiterIcon,\n                size: 'x-small',\n                variant: 'text'\n              }\n            },\n            \"scoped\": true\n          }, {\n            \"default\": function _default() {\n              return [group.items.value.map(function (item, index) {\n                var props = {\n                  'aria-label': t('$vuetify.carousel.ariaLabel.delimiter', index + 1, group.items.value.length),\n                  \"class\": [group.isSelected(item.id) && 'v-btn--active'],\n                  onClick: function onClick() {\n                    return group.select(item.id, true);\n                  }\n                };\n                return slots.item ? slots.item({\n                  props: props,\n                  item: item\n                }) : _createVNode(VBtn, _mergeProps(item, props), null);\n              })];\n            }\n          })]), props.progress && _createVNode(VProgressLinear, {\n            \"class\": \"v-carousel__progress\",\n            \"color\": typeof props.progress === 'string' ? props.progress : undefined,\n            \"modelValue\": (group.getItemIndex(model.value) + 1) / group.items.value.length * 100\n          }, null)]);\n        },\n        prev: slots.prev,\n        next: slots.next\n      });\n    });\n    return {};\n  }\n});","map":{"version":3,"names":["VBtn","VDefaultsProvider","VProgressLinear","VWindow","IconValue","useLocale","useProxiedModel","convertToUnit","genericComponent","useRender","onMounted","ref","watch","VCarousel","name","props","color","String","cycle","Boolean","delimiterIcon","type","height","Number","hideDelimiters","hideDelimiterBackground","interval","validator","value","modelValue","progress","showArrows","v","verticalDelimiters","emits","updateModelValue","val","setup","_ref","slots","model","_useLocale","t","windowRef","slideTimeout","restartTimeout","window","clearTimeout","startTimeout","setTimeout","group","next","requestAnimationFrame","_createVNode","onUpdateModelValue","$event","additional","_ref2","_Fragment","left","right","items","length","icon","size","variant","_default","map","item","index","isSelected","id","onClick","select","_mergeProps","undefined","getItemIndex","prev"],"sources":["../../../src/components/VCarousel/VCarousel.tsx"],"sourcesContent":["// Styles\nimport './VCarousel.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VProgressLinear } from '@/components/VProgressLinear'\nimport { VWindow } from '@/components/VWindow'\n\n// Composables\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { convertToUnit, genericComponent, useRender } from '@/util'\nimport { onMounted, ref, watch } from 'vue'\n\n// Types\nimport type { GroupProvide } from '@/composables/group'\nimport type { PropType } from 'vue'\nimport type { VWindowSlots } from '../VWindow/VWindow'\n\nexport const VCarousel = genericComponent<VWindowSlots>()({\n  name: 'VCarousel',\n\n  props: {\n    color: String,\n    cycle: Boolean,\n    delimiterIcon: {\n      type: IconValue,\n      default: '$delimiter',\n    },\n    height: {\n      type: [Number, String],\n      default: 500,\n    },\n    hideDelimiters: Boolean,\n    hideDelimiterBackground: Boolean,\n    interval: {\n      type: [Number, String],\n      default: 6000,\n      validator: (value: string | number) => value > 0,\n    },\n    modelValue: null,\n    progress: [Boolean, String],\n    showArrows: {\n      type: [Boolean, String],\n      default: true,\n      validator: (v: any) => typeof v === 'boolean' || v === 'hover',\n    },\n    verticalDelimiters: [Boolean, String] as PropType<boolean | 'left' | 'right'>,\n  },\n\n  emits: {\n    'update:modelValue': (val: any) => true,\n  },\n\n  setup (props, { slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const { t } = useLocale()\n    const windowRef = ref<typeof VWindow>()\n\n    let slideTimeout = -1\n    watch(model, restartTimeout)\n    watch(() => props.interval, restartTimeout)\n    watch(() => props.cycle, val => {\n      if (val) restartTimeout()\n      else window.clearTimeout(slideTimeout)\n    })\n\n    onMounted(startTimeout)\n\n    function startTimeout () {\n      if (!props.cycle || !windowRef.value) return\n\n      slideTimeout = window.setTimeout(windowRef.value.group.next, +props.interval > 0 ? +props.interval : 6000)\n    }\n\n    function restartTimeout () {\n      window.clearTimeout(slideTimeout)\n      window.requestAnimationFrame(startTimeout)\n    }\n\n    useRender(() => (\n      <VWindow\n        ref={ windowRef }\n        v-model={ model.value }\n        class={[\n          'v-carousel',\n          {\n            'v-carousel--hide-delimiter-background': props.hideDelimiterBackground,\n            'v-carousel--vertical-delimiters': props.verticalDelimiters,\n          },\n        ]}\n        style={{ height: convertToUnit(props.height) }}\n        continuous\n        mandatory=\"force\"\n        showArrows={ props.showArrows }\n      >\n        {{\n          default: slots.default,\n          additional: ({ group }: { group: GroupProvide }) => (\n            <>\n              { !props.hideDelimiters && (\n                <div\n                  class=\"v-carousel__controls\"\n                  style={{\n                    left: props.verticalDelimiters === 'left' && props.verticalDelimiters ? 0 : 'auto',\n                    right: props.verticalDelimiters === 'right' ? 0 : 'auto',\n                  }}\n                >\n                  { group.items.value.length > 0 && (\n                    <VDefaultsProvider\n                      defaults={{\n                        VBtn: {\n                          color: props.color,\n                          icon: props.delimiterIcon,\n                          size: 'x-small',\n                          variant: 'text',\n                        },\n                      }}\n                      scoped\n                    >\n                      { group.items.value.map((item, index) => {\n                        const props = {\n                          'aria-label': t('$vuetify.carousel.ariaLabel.delimiter', index + 1, group.items.value.length),\n                          class: [group.isSelected(item.id) && 'v-btn--active'],\n                          onClick: () => group.select(item.id, true),\n                        }\n\n                        return slots.item\n                          ? slots.item({ props, item })\n                          : (<VBtn { ...item } { ...props } />)\n                      }) }\n                    </VDefaultsProvider>\n                  ) }\n                </div>\n              )}\n\n              { props.progress && (\n                <VProgressLinear\n                  class=\"v-carousel__progress\"\n                  color={ typeof props.progress === 'string' ? props.progress : undefined }\n                  modelValue={ (group.getItemIndex(model.value) + 1) / group.items.value.length * 100 }\n                />\n              )}\n            </>\n          ),\n          prev: slots.prev,\n          next: slots.next,\n        }}\n      </VWindow>\n    ))\n\n    return {}\n  },\n})\n\nexport type VCarousel = InstanceType<typeof VCarousel>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}