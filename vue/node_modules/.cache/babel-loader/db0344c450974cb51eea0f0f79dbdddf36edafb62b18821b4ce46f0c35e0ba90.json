{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport axios from 'axios';\nimport { replaceState } from '@/utils/pushState.js';\n// import { globalError } from '@/utils/errors'\n\nvar component = 'DATATABLE';\nexport default {\n  /*\n    *\n    * Main listing request with multiple params\n    *\n    * sortKey : column used for sorting content\n    * sortDir : desc or asc\n    * page : current page number\n    * offset : number of items per page\n    * columns: the set of visible columns\n    * filter: the current navigation (\"all\", \"mine\", \"published\", \"draft\", \"trash\")\n    *\n    */\n  get: function get(params, callback) {\n    // console.log(\n    //     'store.api.datatable',\n    //     params\n    // )\n    var url = window[process.env.VUE_APP_NAME].ENDPOINTS.index;\n    axios.get(url, {\n      params: params\n    }).then(function (resp) {\n      if (resp.data.replaceUrl) {\n        var _url = resp.request.responseURL;\n        replaceState(_url);\n      }\n      if (callback && typeof callback === 'function') {\n        // const data = {\n        //     // data: resp.data.data ? resp.data.data : [],\n        //     // data: resp.data.tableData ? resp.data.tableData : [],\n        //     // nav: resp.data.tableMainFilters ? resp.data.tableMainFilters : [],\n        //     // maxPage: (resp.data.maxPage ? resp.data.maxPage : 1)\n        // }\n\n        callback(resp.data.resource);\n      }\n    }, function (resp) {\n      var error = {\n        message: 'Get request error.',\n        value: resp\n      };\n      //   globalError(component, error)\n    });\n  },\n  // delete (item, callback) {\n  \"delete\": function _delete(id, callback) {\n    var url = window[process.env.VUE_APP_NAME].ENDPOINTS[\"delete\"].replace(':id', id);\n    // var url = window[process.env.VUE_APP_NAME].ENDPOINTS.index.replace(':id', item.id);\n\n    axios[\"delete\"](url).then(function (resp) {\n      if (callback && typeof callback === 'function') callback(resp);\n    }, function (resp) {\n      var error = {\n        message: 'Delete request error.',\n        value: resp\n      };\n      //   globalError(component, error)\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}