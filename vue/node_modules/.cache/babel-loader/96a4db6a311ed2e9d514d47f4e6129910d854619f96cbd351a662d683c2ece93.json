{"ast":null,"code":"import debounce from 'lodash/debounce';\nimport FormDataAsObj from '@/utils/formDataAsObj.js';\nexport default {\n  name: 'UEFilter',\n  props: {\n    initialSearchValue: {\n      type: String,\n      default: ''\n    },\n    placeholder: {\n      type: String,\n      default() {\n        return this.$trans('filter.search-placeholder', 'Search');\n      }\n    },\n    closed: {\n      type: Boolean,\n      default: false\n    },\n    clearOption: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function () {\n    return {\n      openable: !this.closed,\n      open: false,\n      withHiddenFilters: true,\n      withNavigation: true,\n      searchValue: this.initialSearchValue,\n      transitionTimeout: null\n    };\n  },\n  computed: {\n    opened: function () {\n      return this.open && this.openable;\n    }\n  },\n  watch: {\n    closed: function () {\n      this.openable = !this.closed;\n    },\n    initialSearchValue: function () {\n      this.searchValue = this.initialSearchValue;\n    }\n  },\n  methods: {\n    getHeight: function () {\n      // Retrieve height from more inner container\n      return this.$refs.moreInner.clientHeight;\n    },\n    beforeEnter: function (el) {\n      el.style.height = '0px';\n      el.style.overflow = 'hidden';\n    },\n    enter: function (el, done) {\n      // Reset height.\n      this.resetHeight();\n\n      // Delete timeout if exists.\n      if (this.transitionTimeout) {\n        clearTimeout(this.transitionTimeout);\n      }\n\n      // Set timeout.\n      this.transitionTimeout = setTimeout(() => {\n        el.style.overflow = 'visible';\n      }, 275);\n\n      // Add resize event.\n      window.addEventListener('resize', this._resize, false);\n    },\n    beforeLeave: function (el) {\n      // Delete timeout if exists.\n      if (this.transitionTimeout) {\n        clearTimeout(this.transitionTimeout);\n      }\n\n      // Reset height.\n      this.resetHeight();\n\n      // Hide content.\n      el.style.overflow = 'hidden';\n\n      // Remove resize event.\n      window.removeEventListener('resize', this._resize);\n    },\n    leave: function (el, done) {\n      el.style.height = '0px';\n    },\n    toggleFilter: function () {\n      this.openable = true;\n      this.open = !this.open;\n    },\n    submitFilter: function () {\n      const formData = FormDataAsObj(this.$refs.form);\n      this.$emit('submit', formData);\n    },\n    onSearchInput: function (val) {\n      this.searchValue = val;\n    },\n    clear: function () {\n      this.searchValue = '';\n      this.$emit('clear');\n    },\n    resetHeight: function () {\n      // Return if ref is not set.\n      if (!this.$refs.more) return;\n\n      // Set height to the container.\n      this.$refs.more.style.height = this.getHeight() + 'px';\n    },\n    _resize: debounce(function () {\n      this.resetHeight();\n    }, 50)\n  },\n  beforeMount: function () {\n    if (!this.$slots.navigation) this.withNavigation = false;\n    if (!this.$slots['hidden-filters']) this.withHiddenFilters = false;\n  }\n};","map":{"version":3,"names":["debounce","FormDataAsObj","name","props","initialSearchValue","type","String","default","placeholder","$trans","closed","Boolean","clearOption","data","openable","open","withHiddenFilters","withNavigation","searchValue","transitionTimeout","computed","opened","watch","methods","getHeight","$refs","moreInner","clientHeight","beforeEnter","el","style","height","overflow","enter","done","resetHeight","clearTimeout","setTimeout","window","addEventListener","_resize","beforeLeave","removeEventListener","leave","toggleFilter","submitFilter","formData","form","$emit","onSearchInput","val","clear","more","beforeMount","$slots","navigation"],"sources":["/Users/oguzhanbukcuoglu/Desktop/Projects/crm_template/packages/oobook/crm-base/vue/src/js/components/Filter.vue"],"sourcesContent":["<template>\n    <form class=\"filter\" :class=\"{ 'filter--opened' : opened, 'filter--single' : !withNavigation, 'filter--withHiddenFilters' : withHiddenFilters }\" @submit.prevent=\"submitFilter\" ref=\"form\">\n      <div class=\"filter__inner\">\n        <div class=\"filter__navigation\"><slot name=\"navigation\"></slot></div>\n  \n        <div class=\"filter__search\">\n\n            <!-- <input type=\"search\" class=\"form__input form__input--small\" name=\"search\" :value=\"searchValue\" :placeholder=\"placeholder\" @input=\"onSearchInput\" /> -->\n            <v-text-field \n                type=\"search\" \n                class=\"form__input form__input--small v-filter__search__input\" \n                name=\"search\" \n                :value=\"searchValue\" \n                @change=\"onSearchInput\" \n                :placeholder=\"placeholder\" \n                />\n            <ue-btn \n                class=\"filter__toggle\" \n                variant=\"ghost\" \n                @click=\"toggleFilter\" \n                v-if=\"withHiddenFilters\" \n                :aria-expanded=\"opened ?  'true' : 'false'\" \n\n                fab\n                >\n                {{ $trans('filter.toggle-label', 'Filter') }} \n                <span class=\"float-right\" v-svg symbol=\"dropdown_module\"></span>\n            </ue-btn>\n          <slot name=\"additional-actions\"></slot>\n          <!-- Fix for Safari: the hidden submit button enables form submission by pressing Enter... -->\n          <button class=\"visually-hidden\" aria-hidden=\"true\" type=\"submit\">{{ $trans('filter.apply-btn', 'Apply') }}</button>\n        </div>\n      </div>\n      <transition :css='false' :duration=\"275\" @before-enter=\"beforeEnter\" @enter=\"enter\" @before-leave=\"beforeLeave\" @leave=\"leave\">\n        <div class=\"filter__more\" v-show=\"opened\" v-if=\"withHiddenFilters\" :aria-hidden=\"!opened ? true : null\" ref=\"more\">\n          <div class=\"filter__moreInner\" ref=\"moreInner\">\n            <slot name=\"hidden-filters\"></slot>\n            <ue-btn variant=\"ghost\" type=\"submit\">{{ $trans('filter.apply-btn', 'Apply') }}</ue-btn>\n            <ue-btn v-if=\"clearOption\" variant=\"ghost\" type=\"button\" @click=\"clear\">{{ $trans('filter.clear-btn', 'Clear') }}</ue-btn>\n          </div>\n        </div>\n      </transition>\n    </form>\n  </template>\n  \n  <script>\n    import debounce from 'lodash/debounce'\n    import FormDataAsObj from '@/utils/formDataAsObj.js'\n  \n    export default {\n      name: 'UEFilter',\n      props: {\n        initialSearchValue: {\n          type: String,\n          default: ''\n        },\n        placeholder: {\n          type: String,\n          default () {\n            return this.$trans('filter.search-placeholder', 'Search')\n          }\n        },\n        closed: {\n          type: Boolean,\n          default: false\n        },\n        clearOption: {\n          type: Boolean,\n          default: false\n        }\n      },\n      data: function () {\n        return {\n          openable: !this.closed,\n          open: false,\n          withHiddenFilters: true,\n          withNavigation: true,\n          searchValue: this.initialSearchValue,\n          transitionTimeout: null\n        }\n      },\n      computed: {\n        opened: function () {\n          return this.open && this.openable\n        }\n      },\n      watch: {\n        closed: function () {\n          this.openable = !this.closed\n        },\n        initialSearchValue: function () {\n          this.searchValue = this.initialSearchValue\n        }\n      },\n      methods: {\n        getHeight: function () {\n          // Retrieve height from more inner container\n          return this.$refs.moreInner.clientHeight\n        },\n        beforeEnter: function (el) {\n          el.style.height = '0px'\n          el.style.overflow = 'hidden'\n        },\n        enter: function (el, done) {\n          // Reset height.\n          this.resetHeight()\n  \n          // Delete timeout if exists.\n          if (this.transitionTimeout) {\n            clearTimeout(this.transitionTimeout)\n          }\n  \n          // Set timeout.\n          this.transitionTimeout = setTimeout(() => {\n            el.style.overflow = 'visible'\n          }, 275)\n  \n          // Add resize event.\n          window.addEventListener('resize', this._resize, false)\n        },\n        beforeLeave: function (el) {\n          // Delete timeout if exists.\n          if (this.transitionTimeout) {\n            clearTimeout(this.transitionTimeout)\n          }\n  \n          // Reset height.\n          this.resetHeight()\n  \n          // Hide content.\n          el.style.overflow = 'hidden'\n  \n          // Remove resize event.\n          window.removeEventListener('resize', this._resize)\n        },\n        leave: function (el, done) {\n          el.style.height = '0px'\n        },\n        toggleFilter: function () {\n          this.openable = true\n          this.open = !this.open\n        },\n        submitFilter: function () {\n          const formData = FormDataAsObj(this.$refs.form)\n          this.$emit('submit', formData)\n        },\n        onSearchInput: function (val) {\n          this.searchValue = val\n        },\n        clear: function () {\n          this.searchValue = ''\n          this.$emit('clear')\n        },\n        resetHeight: function () {\n          // Return if ref is not set.\n          if (!this.$refs.more) return\n  \n          // Set height to the container.\n          this.$refs.more.style.height = this.getHeight() + 'px'\n        },\n        _resize: debounce(function () {\n          this.resetHeight()\n        }, 50)\n      },\n      beforeMount: function () {\n        if (!this.$slots.navigation) this.withNavigation = false\n        if (!this.$slots['hidden-filters']) this.withHiddenFilters = false\n      }\n    }\n  </script>\n  \n  <style lang=\"scss\" scoped>\n  \n    .filter__inner {\n      display: flex;\n      justify-content: space-between;\n    }\n  \n    .filter__search, .filter__navigation {\n      padding:20px 0;\n      white-space: nowrap;\n    }\n    .filter__search {\n      .v-filter__search__input {\n        display:inline-block;\n        width:20vw;\n        max-width:300px;\n      }\n  \n      .icon {\n        position:relative;\n        top:-2px;\n        margin-left:9px;\n      }\n  \n      div {\n        display:inline-block;\n  \n        button, a {\n          vertical-align: middle;\n        }\n  \n        input, button, a {\n          margin-left:15px;\n        }\n      }\n    }\n  \n    /* variant when filter has hidden filters on small screens */\n    @include breakpoint(xsmall) {\n      .filter--withHiddenFilters {\n        .filter__inner {\n          display:block;\n        }\n  \n        .filter__search {\n          display:flex;\n  \n          input {\n            flex-grow:1;\n          }\n        }\n      }\n    }\n  \n    .filter__more {\n      transition: height 0.275s ease;\n      overflow: hidden;\n    }\n  \n    .filter__moreInner {\n      padding: 20px 0 0 0;\n      border-top:1px solid $color__border;\n  \n      button {\n        margin-right: 10px;\n        margin-bottom: 20px;\n      }\n    }\n  \n    @include breakpoint('small+') {\n      .filter__moreInner {\n        display: flex;\n        flex-flow: row wrap;\n      }\n    }\n  \n    .filter__toggle {\n      position: relative;\n      padding-right:  20px + 20px !important;\n      margin-left: 15px !important;\n  \n      .icon {\n        transition: all .2s linear;\n        transform: rotate(0deg);\n        position: absolute;\n        right: 20px;\n        top: 50%;\n        margin-top: -3px;\n      }\n    }\n  \n    /* Opened filters */\n    .filter--opened {\n      .filter__toggle .icon {\n        transform: rotate(180deg);\n      }\n    }\n\n    .filter__navigation {\n        padding: 20px 0;\n\n    }\n  \n    .filter--single {\n      .filter__navigation {\n        display: none;\n      }\n    }\n  </style>\n  \n  <style lang=\"scss\">\n  \n    .filter {\n      .filter__moreInner {\n        .input {\n          margin-top: 0;\n          margin-bottom: 20px;\n        }\n      }\n  \n      @include breakpoint('small+') {\n        .filter__moreInner {\n          .input {\n            margin-top: 0;\n            margin-right: 20px;\n          }\n  \n          > div {\n            display: flex;\n            flex-flow: row wrap;\n          }\n  \n          > div > * {\n            margin-right: 20px;\n          }\n        }\n      }\n    }\n  </style>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}