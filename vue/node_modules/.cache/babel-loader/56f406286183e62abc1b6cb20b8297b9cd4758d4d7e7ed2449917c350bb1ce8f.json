{"ast":null,"code":"// Composables\nimport { useRtl } from \"./locale.mjs\"; // Utilities\nimport { computed } from 'vue';\nimport { parseAnchor, propsFactory } from \"../util/index.mjs\"; // Types\nvar oppositeMap = {\n  center: 'center',\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n};\nexport var makeLocationProps = propsFactory({\n  location: String\n}, 'location');\nexport function useLocation(props) {\n  var opposite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var offset = arguments.length > 2 ? arguments[2] : undefined;\n  var _useRtl = useRtl(),\n    isRtl = _useRtl.isRtl;\n  var locationStyles = computed(function () {\n    if (!props.location) return {};\n    var _parseAnchor = parseAnchor(props.location.split(' ').length > 1 ? props.location : \"\".concat(props.location, \" center\"), isRtl.value),\n      side = _parseAnchor.side,\n      align = _parseAnchor.align;\n    function getOffset(side) {\n      return offset ? offset(side) : 0;\n    }\n    var styles = {};\n    if (side !== 'center') {\n      if (opposite) styles[oppositeMap[side]] = \"calc(100% - \".concat(getOffset(side), \"px)\");else styles[side] = 0;\n    }\n    if (align !== 'center') {\n      if (opposite) styles[oppositeMap[align]] = \"calc(100% - \".concat(getOffset(align), \"px)\");else styles[align] = 0;\n    } else {\n      if (side === 'center') styles.top = styles.left = '50%';else {\n        styles[{\n          top: 'left',\n          bottom: 'left',\n          left: 'top',\n          right: 'top'\n        }[side]] = '50%';\n      }\n      styles.transform = {\n        top: 'translateX(-50%)',\n        bottom: 'translateX(-50%)',\n        left: 'translateY(-50%)',\n        right: 'translateY(-50%)',\n        center: 'translate(-50%, -50%)'\n      }[side];\n    }\n    return styles;\n  });\n  return {\n    locationStyles: locationStyles\n  };\n}","map":{"version":3,"names":["useRtl","computed","parseAnchor","propsFactory","oppositeMap","center","top","bottom","left","right","makeLocationProps","location","String","useLocation","props","opposite","arguments","length","undefined","offset","_useRtl","isRtl","locationStyles","_parseAnchor","split","concat","value","side","align","getOffset","styles","transform"],"sources":["../../src/composables/location.ts"],"sourcesContent":["// Composables\nimport { useRtl } from '@/composables/locale'\n\n// Utilities\nimport { computed } from 'vue'\nimport { parseAnchor, propsFactory } from '@/util'\n\n// Types\nimport type { CSSProperties, PropType } from 'vue'\nimport type { Anchor } from '@/util'\n\nconst oppositeMap = {\n  center: 'center',\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left',\n} as const\n\nexport interface LocationProps {\n  location: Anchor | undefined\n}\n\nexport const makeLocationProps = propsFactory({\n  location: String as PropType<Anchor>,\n}, 'location')\n\nexport function useLocation (props: LocationProps, opposite = false, offset?: (side: string) => number) {\n  const { isRtl } = useRtl()\n\n  const locationStyles = computed(() => {\n    if (!props.location) return {}\n\n    const { side, align } = parseAnchor(\n      props.location.split(' ').length > 1\n        ? props.location\n        : `${props.location} center` as Anchor,\n      isRtl.value\n    )\n\n    function getOffset (side: string) {\n      return offset\n        ? offset(side)\n        : 0\n    }\n\n    const styles = {} as CSSProperties\n\n    if (side !== 'center') {\n      if (opposite) styles[oppositeMap[side]] = `calc(100% - ${getOffset(side)}px)`\n      else styles[side] = 0\n    }\n    if (align !== 'center') {\n      if (opposite) styles[oppositeMap[align]] = `calc(100% - ${getOffset(align)}px)`\n      else styles[align] = 0\n    } else {\n      if (side === 'center') styles.top = styles.left = '50%'\n      else {\n        styles[({\n          top: 'left',\n          bottom: 'left',\n          left: 'top',\n          right: 'top',\n        } as const)[side]] = '50%'\n      }\n      styles.transform = {\n        top: 'translateX(-50%)',\n        bottom: 'translateX(-50%)',\n        left: 'translateY(-50%)',\n        right: 'translateY(-50%)',\n        center: 'translate(-50%, -50%)',\n      }[side]\n    }\n\n    return styles\n  })\n\n  return { locationStyles }\n}\n"],"mappings":"AAAA;AAAA,SACSA,MAAM,wBAEf;AACA,SAASC,QAAQ,QAAQ,KAAK;AAAA,SACrBC,WAAW,EAAEC,YAAY,6BAElC;AAIA,IAAMC,WAAW,GAAG;EAClBC,MAAM,EAAE,QAAQ;EAChBC,GAAG,EAAE,QAAQ;EACbC,MAAM,EAAE,KAAK;EACbC,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE;AACT,CAAU;AAMV,OAAO,IAAMC,iBAAiB,GAAGP,YAAY,CAAC;EAC5CQ,QAAQ,EAAEC;AACZ,CAAC,EAAE,UAAU,CAAC;AAEd,OAAO,SAASC,WAAWA,CAAEC,KAAoB,EAAuD;EAAA,IAArDC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAAA,IAAEG,MAAiC,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACpG,IAAAE,OAAA,GAAkBpB,MAAM,EAAE;IAAlBqB,KAAA,GAAAD,OAAA,CAAAC,KAAA;EAER,IAAMC,cAAc,GAAGrB,QAAQ,CAAC,YAAM;IACpC,IAAI,CAACa,KAAK,CAACH,QAAQ,EAAE,OAAO,CAAC,CAAC;IAE9B,IAAAY,YAAA,GAAwBrB,WAAW,CACjCY,KAAK,CAACH,QAAQ,CAACa,KAAK,CAAC,GAAG,CAAC,CAACP,MAAM,GAAG,CAAC,GAChCH,KAAK,CAACH,QAAQ,MAAAc,MAAA,CACXX,KAAK,CAACH,QAAS,YAAkB,EACxCU,KAAK,CAACK,KAAK,CACZ;MALOC,IAAI,GAAAJ,YAAA,CAAJI,IAAI;MAAEC,KAAA,GAAAL,YAAA,CAAAK,KAAA;IAOd,SAASC,SAASA,CAAEF,IAAY,EAAE;MAChC,OAAOR,MAAM,GACTA,MAAM,CAACQ,IAAI,CAAC,GACZ,CAAC;IACP;IAEA,IAAMG,MAAM,GAAG,CAAC,CAAkB;IAElC,IAAIH,IAAI,KAAK,QAAQ,EAAE;MACrB,IAAIZ,QAAQ,EAAEe,MAAM,CAAC1B,WAAW,CAACuB,IAAI,CAAC,CAAC,kBAAAF,MAAA,CAAkBI,SAAS,CAACF,IAAI,CAAE,QAAI,MACxEG,MAAM,CAACH,IAAI,CAAC,GAAG,CAAC;IACvB;IACA,IAAIC,KAAK,KAAK,QAAQ,EAAE;MACtB,IAAIb,QAAQ,EAAEe,MAAM,CAAC1B,WAAW,CAACwB,KAAK,CAAC,CAAC,kBAAAH,MAAA,CAAkBI,SAAS,CAACD,KAAK,CAAE,QAAI,MAC1EE,MAAM,CAACF,KAAK,CAAC,GAAG,CAAC;IACxB,CAAC,MAAM;MACL,IAAID,IAAI,KAAK,QAAQ,EAAEG,MAAM,CAACxB,GAAG,GAAGwB,MAAM,CAACtB,IAAI,GAAG,KAAK,MAClD;QACHsB,MAAM,CAAE;UACNxB,GAAG,EAAE,MAAM;UACXC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAE,KAAK;UACXC,KAAK,EAAE;QACT,CAAC,CAAWkB,IAAI,CAAC,CAAC,GAAG,KAAK;MAC5B;MACAG,MAAM,CAACC,SAAS,GAAG;QACjBzB,GAAG,EAAE,kBAAkB;QACvBC,MAAM,EAAE,kBAAkB;QAC1BC,IAAI,EAAE,kBAAkB;QACxBC,KAAK,EAAE,kBAAkB;QACzBJ,MAAM,EAAE;MACV,CAAC,CAACsB,IAAI,CAAC;IACT;IAEA,OAAOG,MAAM;EACf,CAAC,CAAC;EAEF,OAAO;IAAER,cAAA,EAAAA;EAAe,CAAC;AAC3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}