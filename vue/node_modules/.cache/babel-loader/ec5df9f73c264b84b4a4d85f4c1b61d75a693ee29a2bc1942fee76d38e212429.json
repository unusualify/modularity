{"ast":null,"code":"import _objectSpread from \"/var/www/crm_template/packages/oobook/crm-base/vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n// Utilities\nimport { h, Transition, TransitionGroup } from 'vue';\nimport { genericComponent } from \"../../util/index.mjs\"; // Types\nexport function createCssTransition(name) {\n  var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top center 0';\n  var mode = arguments.length > 2 ? arguments[2] : undefined;\n  return genericComponent()({\n    name: name,\n    props: {\n      group: Boolean,\n      hideOnLeave: Boolean,\n      leaveAbsolute: Boolean,\n      mode: {\n        type: String,\n        \"default\": mode\n      },\n      origin: {\n        type: String,\n        \"default\": origin\n      }\n    },\n    setup: function setup(props, _ref) {\n      var slots = _ref.slots;\n      return function () {\n        var tag = props.group ? TransitionGroup : Transition;\n        return h(tag, {\n          name: name,\n          mode: props.mode,\n          onBeforeEnter: function onBeforeEnter(el) {\n            el.style.transformOrigin = props.origin;\n          },\n          onLeave: function onLeave(el) {\n            if (props.leaveAbsolute) {\n              var offsetTop = el.offsetTop,\n                offsetLeft = el.offsetLeft,\n                offsetWidth = el.offsetWidth,\n                offsetHeight = el.offsetHeight;\n              el._transitionInitialStyles = {\n                position: el.style.position,\n                top: el.style.top,\n                left: el.style.left,\n                width: el.style.width,\n                height: el.style.height\n              };\n              el.style.position = 'absolute';\n              el.style.top = \"\".concat(offsetTop, \"px\");\n              el.style.left = \"\".concat(offsetLeft, \"px\");\n              el.style.width = \"\".concat(offsetWidth, \"px\");\n              el.style.height = \"\".concat(offsetHeight, \"px\");\n            }\n            if (props.hideOnLeave) {\n              el.style.setProperty('display', 'none', 'important');\n            }\n          },\n          onAfterLeave: function onAfterLeave(el) {\n            if (props.leaveAbsolute && el !== null && el !== void 0 && el._transitionInitialStyles) {\n              var _el$_transitionInitia = el._transitionInitialStyles,\n                position = _el$_transitionInitia.position,\n                top = _el$_transitionInitia.top,\n                left = _el$_transitionInitia.left,\n                width = _el$_transitionInitia.width,\n                height = _el$_transitionInitia.height;\n              delete el._transitionInitialStyles;\n              el.style.position = position || '';\n              el.style.top = top || '';\n              el.style.left = left || '';\n              el.style.width = width || '';\n              el.style.height = height || '';\n            }\n          }\n        }, slots[\"default\"]);\n      };\n    }\n  });\n}\nexport function createJavascriptTransition(name, functions) {\n  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'in-out';\n  return genericComponent()({\n    name: name,\n    props: {\n      mode: {\n        type: String,\n        \"default\": mode\n      }\n    },\n    setup: function setup(props, _ref2) {\n      var slots = _ref2.slots;\n      return function () {\n        return h(Transition, _objectSpread({\n          name: name\n        }, functions), slots[\"default\"]);\n      };\n    }\n  });\n}","map":{"version":3,"names":["h","Transition","TransitionGroup","genericComponent","createCssTransition","name","origin","arguments","length","undefined","mode","props","group","Boolean","hideOnLeave","leaveAbsolute","type","String","setup","_ref","slots","tag","onBeforeEnter","el","style","transformOrigin","onLeave","offsetTop","offsetLeft","offsetWidth","offsetHeight","_transitionInitialStyles","position","top","left","width","height","concat","setProperty","onAfterLeave","_el$_transitionInitia","createJavascriptTransition","functions","_ref2","_objectSpread"],"sources":["../../../src/components/transitions/createTransition.ts"],"sourcesContent":["// Utilities\nimport { h, Transition, TransitionGroup } from 'vue'\nimport { genericComponent } from '@/util'\n\n// Types\nimport type { FunctionalComponent, PropType } from 'vue'\n\nexport function createCssTransition (\n  name: string,\n  origin = 'top center 0',\n  mode?: string\n) {\n  return genericComponent()({\n    name,\n\n    props: {\n      group: Boolean,\n      hideOnLeave: Boolean,\n      leaveAbsolute: Boolean,\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    setup (props, { slots }) {\n      return () => {\n        const tag = props.group ? TransitionGroup : Transition\n\n        return h(tag as FunctionalComponent, {\n          name,\n          mode: props.mode,\n          onBeforeEnter (el: HTMLElement) {\n            el.style.transformOrigin = props.origin\n          },\n          onLeave (el: HTMLElement) {\n            if (props.leaveAbsolute) {\n              const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = el\n              el._transitionInitialStyles = {\n                position: el.style.position,\n                top: el.style.top,\n                left: el.style.left,\n                width: el.style.width,\n                height: el.style.height,\n              }\n              el.style.position = 'absolute'\n              el.style.top = `${offsetTop}px`\n              el.style.left = `${offsetLeft}px`\n              el.style.width = `${offsetWidth}px`\n              el.style.height = `${offsetHeight}px`\n            }\n\n            if (props.hideOnLeave) {\n              el.style.setProperty('display', 'none', 'important')\n            }\n          },\n          onAfterLeave (el: HTMLElement) {\n            if (props.leaveAbsolute && el?._transitionInitialStyles) {\n              const { position, top, left, width, height } = el._transitionInitialStyles\n              delete el._transitionInitialStyles\n              el.style.position = position || ''\n              el.style.top = top || ''\n              el.style.left = left || ''\n              el.style.width = width || ''\n              el.style.height = height || ''\n            }\n          },\n        }, slots.default)\n      }\n    },\n  })\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n) {\n  return genericComponent()({\n    name,\n\n    props: {\n      mode: {\n        type: String as PropType<'in-out' | 'out-in' | 'default'>,\n        default: mode,\n      },\n    },\n\n    setup (props, { slots }) {\n      return () => {\n        return h(Transition, {\n          name,\n          // mode: props.mode, // TODO: vuejs/vue-next#3104\n          ...functions,\n        }, slots.default)\n      }\n    },\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}