{"ast":null,"code":"export function globalError(component = null, error = {\n  message: '',\n  value: null\n}) {\n  let prefix = '';\n  if (component && typeof component === 'string') {\n    prefix = `${process.env.VUE_APP_NAME} - [${component}]: `;\n  }\n  const errorMessage = prefix + error.message;\n  const statusCode = error?.value?.response?.status ?? error?.response?.status ?? null;\n  console.error(errorMessage);\n  if (error?.value && error.value?.response) {\n    console.error(error.value.response?.data);\n  }\n\n  // Error 401 = session expired / not authenticated\n  // Error 419 = CSRF token mismatched\n  if (statusCode === 401 || statusCode === 419) {\n    window[process.env.VUE_APP_NAME].vm.notif({\n      message: 'Your session has expired, please <a href=\"' + document.location + '\" target=\"_blank\">login in another tab</a>. You can then continue working here.',\n      variant: 'warning'\n    });\n  }\n}","map":{"version":3,"names":["globalError","component","error","message","value","prefix","process","env","VUE_APP_NAME","errorMessage","statusCode","response","status","console","data","window","vm","notif","document","location","variant"],"sources":["/Users/oguzhanbukcuoglu/Desktop/Projects/crm_template/packages/oobook/crm-base/vue/src/js/utils/errors.js"],"sourcesContent":["export function globalError (component = null, error = { message: '', value: null }) {\n  let prefix = ''\n\n  if (component && typeof component === 'string') {\n    prefix = `${process.env.VUE_APP_NAME} - [${component}]: `\n  }\n\n  const errorMessage = prefix + error.message\n\n  const statusCode = error?.value?.response?.status ?? error?.response?.status ?? null\n\n  console.error(errorMessage)\n\n  if (error?.value && error.value?.response) {\n    console.error(error.value.response?.data)\n  }\n\n  // Error 401 = session expired / not authenticated\n  // Error 419 = CSRF token mismatched\n  if (statusCode === 401 || statusCode === 419) {\n    window[process.env.VUE_APP_NAME].vm.notif({\n      message: 'Your session has expired, please <a href=\"' + document.location + '\" target=\"_blank\">login in another tab</a>. You can then continue working here.',\n      variant: 'warning'\n    })\n  }\n}\n"],"mappings":"AAAA,OAAO,SAASA,WAAWA,CAAEC,SAAS,GAAG,IAAI,EAAEC,KAAK,GAAG;EAAEC,OAAO,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,EAAE;EACnF,IAAIC,MAAM,GAAG,EAAE;EAEf,IAAIJ,SAAS,IAAI,OAAOA,SAAS,KAAK,QAAQ,EAAE;IAC9CI,MAAM,GAAI,GAAEC,OAAO,CAACC,GAAG,CAACC,WAAY,OAAMP,SAAU,KAAI;EAC1D;EAEA,MAAMQ,YAAY,GAAGJ,MAAM,GAAGH,KAAK,CAACC,OAAO;EAE3C,MAAMO,UAAU,GAAGR,KAAK,EAAEE,KAAK,EAAEO,QAAQ,EAAEC,MAAM,IAAIV,KAAK,EAAES,QAAQ,EAAEC,MAAM,IAAI,IAAI;EAEpFC,OAAO,CAACX,KAAK,CAACO,YAAY,CAAC;EAE3B,IAAIP,KAAK,EAAEE,KAAK,IAAIF,KAAK,CAACE,KAAK,EAAEO,QAAQ,EAAE;IACzCE,OAAO,CAACX,KAAK,CAACA,KAAK,CAACE,KAAK,CAACO,QAAQ,EAAEG,IAAI,CAAC;EAC3C;;EAEA;EACA;EACA,IAAIJ,UAAU,KAAK,GAAG,IAAIA,UAAU,KAAK,GAAG,EAAE;IAC5CK,MAAM,CAACT,OAAO,CAACC,GAAG,CAACC,WAAW,CAAC,CAACQ,EAAE,CAACC,KAAK,CAAC;MACvCd,OAAO,EAAE,4CAA4C,GAAGe,QAAQ,CAACC,QAAQ,GAAG,iFAAiF;MAC7JC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}
