{"ast":null,"code":"import _objectSpread from \"/var/www/crm_template/packages/oobook/crm-base/vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport { mapState, mapGetters } from 'vuex';\nexport default {\n  props: {\n    value: null,\n    attributes: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      id: Math.ceil(Math.random() * 1000000) + \"-input\",\n      label: this.attributes.title\n    };\n  },\n  created: function created() {},\n  watch: {\n    value: function value(val) {\n      // __log(\n      //   'mixins/input.js value changed',\n      //   val\n      // )\n    }\n  },\n  computed: _objectSpread(_objectSpread(_objectSpread({}, mapState({\n    errors: function errors(state) {\n      return state.form.errors;\n    }\n  })), mapGetters([])), {}, {\n    props: function props() {\n      if (!!this.attributes.props) {\n        return this.configureProps(this.attributes.props);\n      } else {\n        return {};\n      }\n    },\n    secondaryProps: function secondaryProps() {\n      if (!!this.attributes.props && !!this.attributes.props.props) {\n        return this.configureProps(this.attributes.props.props);\n      } else {\n        return {};\n      }\n    }\n  }),\n  methods: {\n    update: function update(value) {\n      this.$emit('input', value);\n    },\n    errorMessages: function errorMessages(name) {\n      return this.errors[name];\n    },\n    configureProps: function configureProps(props) {\n      var _props = {};\n      Object.keys(props).forEach(function (v, i) {\n        if (parseInt(v) > -1) {\n          _props[props[v]] = true;\n        } else {\n          _props[v] = props[v];\n        }\n      });\n      // __log(_props)\n      return _props;\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","props","value","attributes","type","Object","_default","data","id","Math","ceil","random","label","title","created","watch","val","computed","_objectSpread","errors","state","form","configureProps","secondaryProps","methods","update","$emit","errorMessages","name","_props","keys","forEach","v","i","parseInt"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/mixins/input.js"],"sourcesContent":["import { mapState, mapGetters } from 'vuex'\n\nexport default {\n  props: {\n    value: null,\n    attributes: {\n        type: Object,\n        default() {\n            return {}\n        }\n    }\n  },\n  data: function() {\n    return {\n      id: Math.ceil(Math.random()*1000000) + \"-input\",\n      label: this.attributes.title\n    }\n  },\n  created() {\n\n  },\n\n  watch: {\n    value(val){\n      // __log(\n      //   'mixins/input.js value changed',\n      //   val\n      // )\n    }\n  },\n  computed: {\n    ...mapState({\n        errors: state => state.form.errors\n    }),\n    ...mapGetters([\n        \n    ]),\n\n    props() {\n      if(!!this.attributes.props){\n        return this.configureProps(this.attributes.props)\n      }else{\n        return {}\n      }\n    },\n    secondaryProps() {\n      if(!!this.attributes.props && !!this.attributes.props.props){\n        return this.configureProps(this.attributes.props.props);\n      }else{\n        return {}\n      }\n    }\n  },\n  methods: {\n    update(value) {\n      this.$emit('input', value )\n    },\n    errorMessages(name){\n      return this.errors[name];\n    },\n    configureProps(props){\n      let _props = {};\n\n      Object.keys(props).forEach( (v,i) => {\n        if(parseInt(v) > -1){\n          _props[props[v]] = true;\n        }else{\n          _props[v] = props[v];\n        }\n      })\n      // __log(_props)\n      return _props;  \n    }\n  }\n}\n"],"mappings":";;;;;;AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,MAAM;AAE3C,eAAe;EACbC,KAAK,EAAE;IACLC,KAAK,EAAE,IAAI;IACXC,UAAU,EAAE;MACRC,IAAI,EAAEC,MAAM;MAAA,oBAAAC,SAAA,EACF;QACN,OAAO,CAAC,CAAC;MACb;IACJ;EACF,CAAC;EACDC,IAAI,EAAE,SAAAA,KAAA,EAAW;IACf,OAAO;MACLC,EAAE,EAAEC,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,EAAE,GAAC,OAAO,CAAC,GAAG,QAAQ;MAC/CC,KAAK,EAAE,IAAI,CAACT,UAAU,CAACU;IACzB,CAAC;EACH,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG,CAEV,CAAC;EAEDC,KAAK,EAAE;IACLb,KAAK,WAAAA,MAACc,GAAG,EAAC;MACR;MACA;MACA;MACA;IAAA;EAEJ,CAAC;EACDC,QAAQ,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACHnB,QAAQ,CAAC;IACRoB,MAAM,EAAE,SAAAA,OAAAC,KAAK;MAAA,OAAIA,KAAK,CAACC,IAAI,CAACF,MAAM;IAAA;EACtC,CAAC,CAAC,GACCnB,UAAU,CAAC,EAEb,CAAC;IAEFC,KAAK,WAAAA,MAAA,EAAG;MACN,IAAG,CAAC,CAAC,IAAI,CAACE,UAAU,CAACF,KAAK,EAAC;QACzB,OAAO,IAAI,CAACqB,cAAc,CAAC,IAAI,CAACnB,UAAU,CAACF,KAAK,CAAC;MACnD,CAAC,MAAI;QACH,OAAO,CAAC,CAAC;MACX;IACF,CAAC;IACDsB,cAAc,WAAAA,eAAA,EAAG;MACf,IAAG,CAAC,CAAC,IAAI,CAACpB,UAAU,CAACF,KAAK,IAAI,CAAC,CAAC,IAAI,CAACE,UAAU,CAACF,KAAK,CAACA,KAAK,EAAC;QAC1D,OAAO,IAAI,CAACqB,cAAc,CAAC,IAAI,CAACnB,UAAU,CAACF,KAAK,CAACA,KAAK,CAAC;MACzD,CAAC,MAAI;QACH,OAAO,CAAC,CAAC;MACX;IACF;EAAC,EACF;EACDuB,OAAO,EAAE;IACPC,MAAM,WAAAA,OAACvB,KAAK,EAAE;MACZ,IAAI,CAACwB,KAAK,CAAC,OAAO,EAAExB,KAAK,CAAE;IAC7B,CAAC;IACDyB,aAAa,WAAAA,cAACC,IAAI,EAAC;MACjB,OAAO,IAAI,CAACT,MAAM,CAACS,IAAI,CAAC;IAC1B,CAAC;IACDN,cAAc,WAAAA,eAACrB,KAAK,EAAC;MACnB,IAAI4B,MAAM,GAAG,CAAC,CAAC;MAEfxB,MAAM,CAACyB,IAAI,CAAC7B,KAAK,CAAC,CAAC8B,OAAO,CAAE,UAACC,CAAC,EAACC,CAAC,EAAK;QACnC,IAAGC,QAAQ,CAACF,CAAC,CAAC,GAAG,CAAC,CAAC,EAAC;UAClBH,MAAM,CAAC5B,KAAK,CAAC+B,CAAC,CAAC,CAAC,GAAG,IAAI;QACzB,CAAC,MAAI;UACHH,MAAM,CAACG,CAAC,CAAC,GAAG/B,KAAK,CAAC+B,CAAC,CAAC;QACtB;MACF,CAAC,CAAC;MACF;MACA,OAAOH,MAAM;IACf;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}