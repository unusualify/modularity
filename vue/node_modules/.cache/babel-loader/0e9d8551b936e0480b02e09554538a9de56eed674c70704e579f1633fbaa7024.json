{"ast":null,"code":"const inBrowser = typeof window !== 'undefined';\nexport const supportsPushState = inBrowser && function () {\n  const ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) {\n    return false;\n  }\n  return window.history && 'pushState' in window.history;\n}();\n\n// use User Timing api (if present) for more accurate key precision\nconst Time = inBrowser && window.performance && window.performance.now ? window.performance : Date;\nlet _key = genKey();\nfunction genKey() {\n  return Time.now().toFixed(3);\n}\nexport function getStateKey() {\n  return _key;\n}\nexport function setStateKey(key) {\n  _key = key;\n}\nexport function pushState(url, replace) {\n  // try...catch the pushState call to get around Safari\n  // DOM Exception 18 where it limits to 100 pushState calls\n  const history = window.history;\n  try {\n    if (replace) {\n      history.replaceState({\n        key: _key\n      }, '', url);\n    } else {\n      _key = genKey();\n      history.pushState({\n        key: _key\n      }, '', url);\n    }\n  } catch (e) {\n    window.location[replace ? 'replace' : 'assign'](url);\n  }\n}\nexport function replaceState(url) {\n  pushState(url, true);\n}\nexport function getURLWithoutQuery() {\n  return location.protocol + '//' + location.host + location.pathname;\n}","map":{"version":3,"names":["inBrowser","window","supportsPushState","ua","navigator","userAgent","indexOf","history","Time","performance","now","Date","_key","genKey","toFixed","getStateKey","setStateKey","key","pushState","url","replace","replaceState","e","location","getURLWithoutQuery","protocol","host","pathname"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/utils/pushState.js"],"sourcesContent":["const inBrowser = typeof window !== 'undefined'\n\nexport const supportsPushState = inBrowser && (function () {\n  const ua = window.navigator.userAgent\n\n  if (\n    (ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\n    ua.indexOf('Mobile Safari') !== -1 &&\n    ua.indexOf('Chrome') === -1 &&\n    ua.indexOf('Windows Phone') === -1\n  ) {\n    return false\n  }\n\n  return window.history && 'pushState' in window.history\n})()\n\n// use User Timing api (if present) for more accurate key precision\nconst Time = inBrowser && window.performance && window.performance.now\n  ? window.performance\n  : Date\n\nlet _key = genKey()\n\nfunction genKey () {\n  return Time.now().toFixed(3)\n}\n\nexport function getStateKey () {\n  return _key\n}\n\nexport function setStateKey (key) {\n  _key = key\n}\n\nexport function pushState (url, replace) {\n  // try...catch the pushState call to get around Safari\n  // DOM Exception 18 where it limits to 100 pushState calls\n  const history = window.history\n  try {\n    if (replace) {\n      history.replaceState({ key: _key }, '', url)\n    } else {\n      _key = genKey()\n      history.pushState({ key: _key }, '', url)\n    }\n  } catch (e) {\n    window.location[replace ? 'replace' : 'assign'](url)\n  }\n}\n\nexport function replaceState (url) {\n  pushState(url, true)\n}\n\nexport function getURLWithoutQuery () {\n  return location.protocol + '//' + location.host + location.pathname\n}\n"],"mappings":"AAAA,MAAMA,SAAS,GAAG,OAAOC,MAAM,KAAK,WAAW;AAE/C,OAAO,MAAMC,iBAAiB,GAAGF,SAAS,IAAK,YAAY;EACzD,MAAMG,EAAE,GAAGF,MAAM,CAACG,SAAS,CAACC,SAAS;EAErC,IACE,CAACF,EAAE,CAACG,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,IAAIH,EAAE,CAACG,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,KACpEH,EAAE,CAACG,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,IAClCH,EAAE,CAACG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAC3BH,EAAE,CAACG,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,EAClC;IACA,OAAO,KAAK;EACd;EAEA,OAAOL,MAAM,CAACM,OAAO,IAAI,WAAW,IAAIN,MAAM,CAACM,OAAO;AACxD,CAAC,EAAG;;AAEJ;AACA,MAAMC,IAAI,GAAGR,SAAS,IAAIC,MAAM,CAACQ,WAAW,IAAIR,MAAM,CAACQ,WAAW,CAACC,GAAG,GAClET,MAAM,CAACQ,WAAW,GAClBE,IAAI;AAER,IAAIC,IAAI,GAAGC,MAAM,EAAE;AAEnB,SAASA,MAAMA,CAAA,EAAI;EACjB,OAAOL,IAAI,CAACE,GAAG,EAAE,CAACI,OAAO,CAAC,CAAC,CAAC;AAC9B;AAEA,OAAO,SAASC,WAAWA,CAAA,EAAI;EAC7B,OAAOH,IAAI;AACb;AAEA,OAAO,SAASI,WAAWA,CAAEC,GAAG,EAAE;EAChCL,IAAI,GAAGK,GAAG;AACZ;AAEA,OAAO,SAASC,SAASA,CAAEC,GAAG,EAAEC,OAAO,EAAE;EACvC;EACA;EACA,MAAMb,OAAO,GAAGN,MAAM,CAACM,OAAO;EAC9B,IAAI;IACF,IAAIa,OAAO,EAAE;MACXb,OAAO,CAACc,YAAY,CAAC;QAAEJ,GAAG,EAAEL;MAAK,CAAC,EAAE,EAAE,EAAEO,GAAG,CAAC;IAC9C,CAAC,MAAM;MACLP,IAAI,GAAGC,MAAM,EAAE;MACfN,OAAO,CAACW,SAAS,CAAC;QAAED,GAAG,EAAEL;MAAK,CAAC,EAAE,EAAE,EAAEO,GAAG,CAAC;IAC3C;EACF,CAAC,CAAC,OAAOG,CAAC,EAAE;IACVrB,MAAM,CAACsB,QAAQ,CAACH,OAAO,GAAG,SAAS,GAAG,QAAQ,CAAC,CAACD,GAAG,CAAC;EACtD;AACF;AAEA,OAAO,SAASE,YAAYA,CAAEF,GAAG,EAAE;EACjCD,SAAS,CAACC,GAAG,EAAE,IAAI,CAAC;AACtB;AAEA,OAAO,SAASK,kBAAkBA,CAAA,EAAI;EACpC,OAAOD,QAAQ,CAACE,QAAQ,GAAG,IAAI,GAAGF,QAAQ,CAACG,IAAI,GAAGH,QAAQ,CAACI,QAAQ;AACrE"},"metadata":{},"sourceType":"module","externalDependencies":[]}