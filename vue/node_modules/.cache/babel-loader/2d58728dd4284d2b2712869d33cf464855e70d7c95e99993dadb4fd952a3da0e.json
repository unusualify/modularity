{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toHandlers as _toHandlers, mergeProps as _mergeProps, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createSlots as _createSlots } from \"vue\";\nvar _hoisted_1 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_v_icon = _resolveComponent(\"v-icon\");\n  var _component_v_btn = _resolveComponent(\"v-btn\");\n  var _component_v_list_item = _resolveComponent(\"v-list-item\");\n  var _component_v_list = _resolveComponent(\"v-list\");\n  var _component_v_menu = _resolveComponent(\"v-menu\");\n  var _component_v_data_table = _resolveComponent(\"v-data-table\");\n  return _openBlock(), _createBlock(_component_v_data_table, {\n    \"class\": \"elevation-1\",\n    headers: _ctx.headers,\n    items: _ctx.elements,\n    loading: _ctx.loading,\n    \"items-per-page\": _ctx.options.itemsPerPage,\n    \"onUpdate:itemsPerPage\": _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.options.itemsPerPage = $event;\n    }),\n    \"multi-sort\": _ctx.options.multiSort,\n    \"onUpdate:multiSort\": _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.options.multiSort = $event;\n    }),\n    \"server-items-length\": _ctx.totalElements,\n    search: _ctx.search,\n    \"hide-default-header\": _ctx.hideDefaultHeader,\n    \"hide-default-footer\": _ctx.hideDefaultFooter,\n    \"footer-props\": {\n      showFirstLastPage: true,\n      firstIcon: 'mdi-arrow-collapse-left',\n      lastIcon: 'mdi-arrow-collapse-right',\n      nextIcon: 'mdi-chevron-right',\n      prevIcon: 'mdi-chevron-left'\n    },\n    \"disable-pagination\": false,\n    \"disable-sort\": false\n  }, _createSlots({\n    \"item.actions\": _withCtx(function (_ref) {\n      var item = _ref.item;\n      return [_createCommentVNode(\" @click's editItem|deleteItem \"), _createCommentVNode(\" #actions \"), _ctx.rowActionsType == 'dropdown' || _ctx.$vuetify.display.smOnly ? (_openBlock(), _createBlock(_component_v_menu, {\n        key: 0,\n        \"close-on-content-click\": false,\n        \"open-on-hover\": \"\",\n        left: \"\",\n        \"offset-x\": \"\"\n      }, {\n        activator: _withCtx(function (_ref2) {\n          var on = _ref2.on,\n            attrs = _ref2.attrs;\n          return [_createVNode(_component_v_btn, _mergeProps({\n            icon: \"\"\n          }, attrs, _toHandlers(on)), {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_v_icon, {\n                color: \"green darken-2\"\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createTextVNode(\" $list \")];\n                }),\n                _: 1 /* STABLE */\n              })];\n            }),\n\n            _: 2 /* DYNAMIC */\n          }, 1040 /* FULL_PROPS, DYNAMIC_SLOTS */)];\n        }),\n\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_v_list, null, {\n            \"default\": _withCtx(function () {\n              return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.rowActions, function (action, k) {\n                return _openBlock(), _createBlock(_component_v_list_item, {\n                  key: k,\n                  onClick: function onClick($event) {\n                    return _ctx.handleFunctionCall(action.name + 'Item', item);\n                  }\n                }, {\n                  \"default\": _withCtx(function () {\n                    return [_createVNode(_component_v_icon, {\n                      small: \"\",\n                      color: action.color,\n                      left: \"\"\n                    }, {\n                      \"default\": _withCtx(function () {\n                        return [_createTextVNode(_toDisplayString(action.icon ? action.icon : '$' + action.name), 1 /* TEXT */)];\n                      }),\n\n                      _: 2 /* DYNAMIC */\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"color\"]), _createTextVNode(\" \" + _toDisplayString(_ctx.$t(action.name)), 1 /* TEXT */)];\n                  }),\n\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]);\n              }), 128 /* KEYED_FRAGMENT */))];\n            }),\n\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)];\n        }),\n\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.rowActions, function (action, k) {\n        return _openBlock(), _createBlock(_component_v_icon, {\n          key: k,\n          small: \"\",\n          \"class\": \"mr-2\",\n          onClick: function onClick($event) {\n            return _ctx.handleFunctionCall(action.name + 'Item', item);\n          },\n          color: action.color\n        }, {\n          \"default\": _withCtx(function () {\n            return [_createTextVNode(_toDisplayString(action.icon ? action.icon : '$' + action.name), 1 /* TEXT */)];\n          }),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\", \"color\"]);\n      }), 128 /* KEYED_FRAGMENT */))]))];\n    }),\n\n    \"no-data\": _withCtx(function () {\n      return [_createVNode(_component_v_btn, {\n        color: \"primary\",\n        onClick: _ctx.initialize\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createTextVNode(\" Reset \")];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])];\n    }),\n    _: 2 /* DYNAMIC */\n  }, [_renderList(_ctx.formatterColumns, function (col, i) {\n    return {\n      name: \"item.\".concat(col.value),\n      fn: _withCtx(function (_ref3) {\n        var header = _ref3.header,\n          value = _ref3.value;\n        return [_createTextVNode(_toDisplayString(_ctx.handleFunctionCall(header.formatter, value)) + \" \", 1 /* TEXT */), _createCommentVNode(\" {{ [header.formatter](value) }} \")];\n      })\n    };\n  })]), 1032 /* PROPS, DYNAMIC_SLOTS */, [\"headers\", \"items\", \"loading\", \"items-per-page\", \"multi-sort\", \"server-items-length\", \"search\", \"hide-default-header\", \"hide-default-footer\"]);\n}","map":{"version":3,"names":["_createBlock","_component_v_data_table","headers","_ctx","items","elements","loading","options","itemsPerPage","$event","multiSort","totalElements","search","hideDefaultHeader","hideDefaultFooter","_withCtx","_ref","item","_createCommentVNode","rowActionsType","$vuetify","display","smOnly","_component_v_menu","left","activator","_ref2","on","attrs","_createVNode","_component_v_btn","_mergeProps","icon","_toHandlers","_component_v_icon","color","_component_v_list","_createElementBlock","_Fragment","_renderList","rowActions","action","k","_component_v_list_item","key","onClick","handleFunctionCall","name","small","_toDisplayString","$t","_hoisted_1","initialize","formatterColumns","col","i","value","_ref3","header","formatter"],"sources":["/var/www/crm_template/packages/oobook/crm-base/vue/src/js/components/others/Datatable.vue"],"sourcesContent":["<template>\n  <v-data-table\n    class=\"elevation-1\"\n\n    :headers=\"headers\"\n    :items=\"elements\"\n    :loading=\"loading\"\n\n    v-model:items-per-page=\"options.itemsPerPage\"\n    v-model:multi-sort=\"options.multiSort\"\n    :server-items-length=\"totalElements\"\n\n    :search=\"search\"\n    :hide-default-header=\"hideDefaultHeader\"\n    :hide-default-footer=\"hideDefaultFooter\"\n    :footer-props=\"{\n      showFirstLastPage: true,\n      firstIcon: 'mdi-arrow-collapse-left',\n      lastIcon: 'mdi-arrow-collapse-right',\n      nextIcon: 'mdi-chevron-right',\n      prevIcon: 'mdi-chevron-left'\n    }\"\n\n    :disable-pagination=\"false\"\n    :disable-sort=\"false\"\n  >\n\n    <template v-slot:item.actions=\"{ item }\">\n\n      <!-- @click's editItem|deleteItem -->\n      <!-- #actions -->\n      <v-menu v-if=\"rowActionsType == 'dropdown' || $vuetify.display.smOnly\"\n        :close-on-content-click=\"false\"\n        open-on-hover\n        left\n        offset-x\n        >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n            <v-icon color=\"green darken-2\">\n              $list\n            </v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n\n          <v-list-item\n            v-for=\"(action, k) in rowActions\"\n            :key=\"k\"\n            @click=\"handleFunctionCall(action.name + 'Item', item)\"\n            >\n              <v-icon small :color=\"action.color\" left>\n                {{ action.icon ? action.icon : '$' + action.name }}\n              </v-icon>\n              {{ $t(action.name) }}\n          </v-list-item>\n\n        </v-list>\n      </v-menu>\n\n      <div v-else=\"\">\n        <v-icon\n          v-for=\"(action, k) in rowActions\"\n          :key=\"k\"\n          small\n          class=\"mr-2\"\n          @click=\"handleFunctionCall(action.name + 'Item', item)\"\n          :color=\"action.color\"\n          >\n          {{ action.icon ? action.icon : '$' + action.name }}\n        </v-icon>\n      </div>\n    </template>\n\n    <template v-slot:no-data>\n      <v-btn\n        color=\"primary\"\n        @click=\"initialize\"\n      >\n        Reset\n      </v-btn>\n    </template>\n\n    <!-- #formatterColumns -->\n    <template\n      v-for=\"(col, i) in formatterColumns\"\n      v-slot:[`item.${col.value}`]=\"{ header, value }\"\n      >\n        {{ handleFunctionCall(header.formatter, value ) }}\n        <!-- {{ [header.formatter](value) }} -->\n\n    </template>\n\n    <!-- #edit-dialog for editableColumns-->\n    <!-- <template\n      v-for=\"(header, k) in editableColumns\"\n      v-slot:[`item.${header.value}`]=\"props\"\n      :key=\"k\"\n      >\n        <v-edit-dialog\n          v-model:return-value=\"props.item[header.value]\"\n          :save-text=\"$t('save')\"\n          @open=\"setEditedItem(props.item)\"\n          @cancel=\"resetEditedItem()\"\n          @close=\"resetEditedItem()\"\n          @save=\"updateCell(header.value)\"\n\n          persistent\n          large\n\n        >\n          {{ props.item[header.value] }}\n          <template v-slot:input>\n            <v-text-field\n              :value=\"props.item[header.value]\"\n              @input=\"columnChanged\"\n              @keyup.enter=\"updateCell(header.value)\"\n              label=\"Edit\"\n              single-line\n              counter\n            >\n            </v-text-field>\n          </template>\n        </v-edit-dialog>\n    </template> -->\n\n    <!-- <template slot=\"headers\" slot-scope=\"props\">\n      <tr>\n        <th>\n          <v-checkbox\n            :input-value=\"props.all\"\n            :indeterminate=\"props.indeterminate\"\n            primary\n            hide-details\n            @click.native=\"toggleAll\"\n          ></v-checkbox>\n        </th>\n        <th\n          v-for=\"header in props.headers\"\n          :key=\"header.text\"\n          :class=\"['column sortable', pagination.descending ? 'desc' : 'asc', header.value === pagination.sortBy ? 'active' : '']\"\n          @click=\"changeSort(header.value)\"\n        >\n          <v-icon small>arrow_upward</v-icon>\n          {{ header.text }}\n        </th>\n      </tr>\n      <tr class=\"grey lighten-3\">\n        <th>\n          <v-icon>$filter_list</v-icon>\n        </th>\n        <th\n          v-for=\"header in props.headers\"\n          :key=\"header.text\"\n        >\n          <div v-if=\"filters.hasOwnProperty(header.value)\">\n            <v-select flat hide-details small multiple clearable\n              :items=\"columnValueList(header.value)\" v-model=\"filters[header.value]\"\n              >\n\n            </v-select>\n\n          </div>\n        </th>\n      </tr>\n    </template> -->\n\n  </v-data-table>\n</template>\n\n<script>\nimport { VDataTable } from 'vuetify/labs/VDataTable'\nimport { mapState } from 'vuex'\nimport { DATATABLE, FORM, ALERT } from '@/store/mutations'\nimport ACTIONS from '@/store/actions'\n\nimport { DatatableMixin } from '@/mixins'\n\nexport default {\n  components: {\n    VDataTable\n  },\n  mixins: [DatatableMixin],\n  data: function () {\n    return {\n      formModalActive: false,\n      dialogActive: false,\n\n      langs: ['tr', 'en'],\n\n      cellInput: ''\n\n    }\n  },\n  computed: {\n    dialogDescription () {\n      return this.$t('confirm-deletion', {\n        route: this.transName.toLowerCase(),\n        name: this.editedItem[this.titleKey]\n      })\n    },\n    transName () {\n      return this.$t('modules.' + this.name.toLowerCase())\n    }\n  },\n  created () {\n\n  },\n\n  watch: {\n    formModalActive (val) {\n      val || this.resetEditedItem()\n    },\n    dialogActive (val) {\n      val || this.resetEditedItem()\n    }\n  },\n\n  methods: {\n    deleteRow: function () {\n      const self = this\n\n      this.$store.dispatch(ACTIONS.DELETE_ITEM, {\n        id: this.editedItem.id,\n        callback: () => {\n          this.$refs.dialog.closeModal()\n        },\n        errorCallback: () => {\n\n        }\n      })\n    },\n    columnChanged (value) {\n      this.cellInput = value\n    },\n    /**\n       * @param {string} key - related key of object\n       */\n    updateCell (key) {\n      this.$store.commit(ALERT.CLEAR_ALERT)\n\n      if (this.editedItem[key] !== this.cellInput) {\n        const data = {\n          id: this.editedItem.id,\n          [key]: this.cellInput\n          // reload: false\n        }\n\n        this.$store.dispatch(ACTIONS.SAVE_FORM, { item: data })\n      }\n    },\n\n    changeSort (column) {\n      if (this.pagination.sortBy === column) {\n        this.pagination.descending = !this.pagination.descending\n      } else {\n        this.pagination.sortBy = column\n        this.pagination.descending = false\n      }\n    },\n    columnValueList (val) {\n      return this.elements.map(d => d[val])\n    }\n\n  }\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}