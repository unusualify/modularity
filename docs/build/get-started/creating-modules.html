<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating a Module | Modularity</title>
    <meta name="description" content="Modularity Docs">
    <meta name="generator" content="VitePress v1.2.2">
    <link rel="preload stylesheet" href="/assets/style.5cf7t4j2.css" as="style">
    
    <script type="module" src="/assets/app.C2WEnOV7.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.Dzy1sSWx.js">
    <link rel="modulepreload" href="/assets/chunks/theme.B-f5TZCO.js">
    <link rel="modulepreload" href="/assets/get-started_creating-modules.md.UeYhJrkD.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar has-sidebar top" data-v-f1e365da data-v-40788ea0><div class="wrapper" data-v-40788ea0><div class="container" data-v-40788ea0><div class="title" data-v-40788ea0><div class="VPNavBarTitle has-sidebar" data-v-40788ea0 data-v-28a961f9><a class="title" href="/" data-v-28a961f9><!--[--><!--]--><!----><span data-v-28a961f9>Modularity</span><!--[--><!--]--></a></div></div><div class="content" data-v-40788ea0><div class="content-body" data-v-40788ea0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-40788ea0><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-40788ea0 data-v-492ea56d><span id="main-nav-aria-label" class="visually-hidden" data-v-492ea56d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-492ea56d data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/get-started/what-is-modularity" tabindex="0" data-v-492ea56d data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Get Started</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-492ea56d data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-e5380155><span class="text" data-v-e5380155><!----><span data-v-e5380155>Version</span><span class="vpi-chevron-down text-icon" data-v-e5380155></span></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-97491713><div class="items" data-v-97491713><!--[--><!--[--><div class="VPMenuLink" data-v-97491713 data-v-8b74d055><span class="VPLink" data-v-8b74d055><!--[-->1.0.0<!--]--></span></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-40788ea0 data-v-ead91a81><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-ead91a81 data-v-b79b56d4 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-b79b56d4></span><span class="vpi-moon moon" data-v-b79b56d4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-40788ea0 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/unusualify/modularity" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-40788ea0 data-v-9b536d0b data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e5380155><span class="vpi-more-horizontal icon" data-v-e5380155></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-97491713><!----><!--[--><!--[--><!----><div class="group" data-v-9b536d0b><div class="item appearance" data-v-9b536d0b><p class="label" data-v-9b536d0b>Appearance</p><div class="appearance-action" data-v-9b536d0b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-9b536d0b data-v-b79b56d4 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-b79b56d4></span><span class="vpi-moon moon" data-v-b79b56d4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-9b536d0b><div class="item social-links" data-v-9b536d0b><div class="VPSocialLinks social-links-list" data-v-9b536d0b data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/unusualify/modularity" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-40788ea0 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-40788ea0><div class="divider-line" data-v-40788ea0></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-bc9dc845><button data-v-bc9dc845>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-ec846e01><div class="curtain" data-v-ec846e01></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ec846e01><span class="visually-hidden" id="sidebar-aria-label" data-v-ec846e01> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ec846e01><section class="VPSidebarItem level-0 collapsible" data-v-ec846e01 data-v-2ea20db7><div class="item" role="button" tabindex="0" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><h2 class="text" data-v-2ea20db7>Advanced Guide</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-2ea20db7><span class="vpi-chevron-right caret-icon" data-v-2ea20db7></span></div></div><div class="items" data-v-2ea20db7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/advanced-guide/api-examples" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Api Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ec846e01><section class="VPSidebarItem level-0 collapsible has-active" data-v-ec846e01 data-v-2ea20db7><div class="item" role="button" tabindex="0" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><h2 class="text" data-v-2ea20db7>Get Started</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-2ea20db7><span class="vpi-chevron-right caret-icon" data-v-2ea20db7></span></div></div><div class="items" data-v-2ea20db7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/get-started/what-is-modularity" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>What Is Modularity</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/get-started/what-is-modular-design" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>What Is Modular Design</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/get-started/installation-guide" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Installation Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/get-started/creating-modules" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Creating Modules</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _get-started_creating-modules" data-v-83890dd9><div><h1 id="creating-a-module" tabindex="-1">Creating a Module <a class="header-anchor" href="#creating-a-module" aria-label="Permalink to &quot;Creating a Module&quot;">​</a></h1><p>Creating a plain module is simple and straightforward.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unusual:make:module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YourModuleName</span></span></code></pre></div><p>Running this command will create the module with empty module structure with a config.php file where you can configure and customize your module&#39;s user interface, CRUD form schema and etc.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Creating module and a module options are similar while default option of the creating a module is generating a plain folder structure for the given module name.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Creating module and route options are similar if default option is not used and parent domain entity is created. Options will be explain under creating route header</p></div><p><strong>Config File</strong></p><p>Module&#39;s config file under Modules/YourModuleName/Config directory is containing the main configuration of your module and routes where you can configure CRUD form inputs, user interface options, icons, urls and etc. Initial config file will be constructed as follows for a plain module generation:</p><p>Assume a module named Authentication is created with default plain option</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;name&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Authentication&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;system_prefix&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;base_prefix&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;headline&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Authentication&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;routes&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre></div><p>where you can configure your modules <code>headline</code> presenting on sidebar, whether the module route will be generated with system_prefix or base_prefix. <code>Routes</code> key will contain all your route configrations generated. Them can be customized in future.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Config file can be customized in many ways, see <a href="/">Module Config</a></p></div><br><p><strong>File module.json</strong></p><h2 id="creating-routes" tabindex="-1">Creating Routes <a class="header-anchor" href="#creating-routes" aria-label="Permalink to &quot;Creating Routes&quot;">​</a></h2><p>Creating a route is highly customizable using command options, simplest way to create a route with default schema and relationship options is:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unusual:make:route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YourModuleName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YourRouteName</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span></span></code></pre></div><p>This will automatically create route with its <code>Controllers</code> <code>Entity</code> <code>Migration File</code> <code>Repository</code> <code>Request</code> <code>Resource</code> and also its route files like <code>web.php</code> and default <code>index</code> and <code>form</code> blade components.</p><div class="tip custom-block"><p class="custom-block-title">Customization and Config File</p><p>As mentioned, config.php file underneath the module folder can and should be used to customize forms, user interfaces and etc. (See [Module Config]). You do not need to customize generated files to reach your goals mostly.</p></div><div class="tip custom-block"><p class="custom-block-title">IMPORTANT</p><p>This documentation will include brief explanation of the technical information about create route command. For further presentation about Modularity Know-how please see [Examples]</p></div><h2 id="artisan-command-options" tabindex="-1">Artisan Command Options <a class="header-anchor" href="#artisan-command-options" aria-label="Permalink to &quot;Artisan Command Options&quot;">​</a></h2><br><h4 id="schema" tabindex="-1"><code>--schema</code> <a class="header-anchor" href="#schema" aria-label="Permalink to &quot;`--schema`&quot;">​</a></h4><p>Use this option to define your model&#39;s database schema. It will automatically configure your migration files.</p><h4 id="relationships" tabindex="-1"><code>--relationships</code> <a class="header-anchor" href="#relationships" aria-label="Permalink to &quot;`--relationships`&quot;">​</a></h4><p>Relationships option should not be confict with migration relationships. Database migrations should be set on the <code>--schema</code> option. On the other hand, <code>--relationship</code> options will be used to define model relationship methods like <code>Polymorphic Relationships</code> where you need a pivot or any other external database table to define relationships. See [Example Page]</p><h4 id="rules" tabindex="-1"><code>--rules</code> <a class="header-anchor" href="#rules" aria-label="Permalink to &quot;`--rules`&quot;">​</a></h4><p>Rules options will be used to define CRUD form validations for both backend and front-end validation scripts.</p><h4 id="no-migrate" tabindex="-1"><code>--no-migrate</code> <a class="header-anchor" href="#no-migrate" aria-label="Permalink to &quot;`--no-migrate`&quot;">​</a></h4><p>Default route generation automatically runs migrations. You can skip migration with this option.</p><h4 id="force" tabindex="-1"><code>--force</code> <a class="header-anchor" href="#force" aria-label="Permalink to &quot;`--force`&quot;">​</a></h4><p>Force the operation to run when the route files already exist. Use this option to override the route files with new options.</p><h2 id="defining-model-schema" tabindex="-1">Defining Model Schema <a class="header-anchor" href="#defining-model-schema" aria-label="Permalink to &quot;Defining Model Schema&quot;">​</a></h2><p>Model schema is where you define your enties&#39; attributes (columns) and these attributes&#39; types and modifiers. Modularity schema builder contains all availiable column types and column modifiers in Laravel Framework</p><p>( See <a href="https://laravel.com/docs/11.x/migrations#available-column-types" target="_blank" rel="noreferrer">Availiable Laravel Column Types</a> - <a href="https://laravel.com/docs/11.x/migrations#column-modifiers" target="_blank" rel="noreferrer">Available Laravel Column Modifiers</a> )</p><div class="danger custom-block"><p class="custom-block-title">Relationships</p><p>Defining relation type attributes are different in Unusualify/Modularity. Please see <a href="#defining-relations-between-routes">Defining Relationships</a></p></div><h3 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h3><p><strong>Defining a series of attributes</strong></p><p>When defining a series of entity attributes, desired schema should be typed between double quotes <code>&quot;</code>, columnTypes should be seperated by colons <code>:</code> and lastly attributes should be seperated by commas <code>,</code> if exist.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unusual:make:route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ModuleName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RouteName</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --schema=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;attributeName:columnType#1:columnType#2,attributeName#2:...columnType#:..columnModifiers#&quot;</span></span></code></pre></div><p>Running this command will generate your model&#39;s</p><ul><li><code>controller</code>, with source methods</li><li><code>migration</code> files with defined columns</li><li><code>routes</code>,</li><li><code>entity</code> with fillable array,</li><li><code>request</code> with default methods</li><li><code>repository</code></li><li><code>index</code> and <code>form</code> blade components with default configuration</li><li>also module config file will be overriden with route properties</li></ul><div class="tip custom-block"><p class="custom-block-title">Module Config.php</p><p>Module config file is where user interface, CRUD form schema and etc. can be customized. Please see [Module Config]</p></div><p>For an example, assume building a user entity with string name and string, unique email address underneath the Authentication module:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unusual:make:route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Authentication</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> User</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --schema=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name:string,email:string:unique&quot;</span></span></code></pre></div><br><h2 id="defining-relations-between-routes" tabindex="-1"><strong>Defining relations between routes</strong> <a class="header-anchor" href="#defining-relations-between-routes" aria-label="Permalink to &quot;**Defining relations between routes**&quot;">​</a></h2><p>In Laravel migrations, only <code>foreignId</code> and <code>morphs</code> column types can be used to define relationsips between models. In Modularity, <code>reverse relationship method names</code> can be used as an attribute while creating route.</p><div class="warning custom-block"><p class="custom-block-title">Reverse Relations</p><p>Since creating route command will automatically create all of the required files and running migrations, it is suggested to follow <code>reverse relationship</code> path to define relation between models</p></div><p><strong>Presentation</strong></p><p>Assume database schema as follows, for a Module <code>Citizens</code>, with recorded citizens and their cars. A citizen can have many cars,</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Module Name : Citizens</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">citizen</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> integer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    citizen_id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (unique)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cars</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> integer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    user_id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> integer</span></span></code></pre></div><p>Following the given example, creating user route:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unusual:make:route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Aparment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Citizen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --schema=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name:string,citizen_id:integer:unique&quot;</span></span></code></pre></div><p><code>Citizen</code> route is now generated with all required files. Next, we can create <code>Car</code> route with <code>belongsTo</code> relationship related column(s) and model method(s) with the following artisan command:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unusual:make:route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Aparment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Car</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --schema=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;model:string,plate:string:unique,citizen:belongsTo&quot;</span></span></code></pre></div><p>Runnings these couple of commands, will also create relationship related model methods as:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Citizen.php</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cars</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \Illuminate\Database\Eloquent\Relations\HasMany</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $this</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\Modules\Testify\Entities\Car</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Car.php</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> citizen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \Illuminate\Database\Eloquent\Relations\BelongsTo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $this</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">belongsto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\Modules\Testify\Entities\Citizen</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;citizen_id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></div><p>Also migration of the Car route will be generated with the line:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$table</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foreignId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;testify_id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">constrained</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cascade&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cascade&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Relationship Summary</p><p>While defining direct relationships that will affect migration and database tables, <code>--schema</code> option should be used. On the other hand, with un-direct relations like <code>many-to-many</code> and <code>through</code> relations you need to use <code>--relationships</code> option. This option will set required pivot table and required model methods without altering migration files.</p></div><h3 id="available-relationship-methods" tabindex="-1">Available Relationship Methods <a class="header-anchor" href="#available-relationship-methods" aria-label="Permalink to &quot;Available Relationship Methods&quot;">​</a></h3><p>For this version of <code>Unusualify/Modularity</code>, available relationship methods can be defined are:</p><table><thead><tr><th style="text-align:left;">Reverse Relationship</th><th style="text-align:right;">Relationship</th></tr></thead><tbody><tr><td style="text-align:left;">belongsTo</td><td style="text-align:right;">hasMany</td></tr><tr><td style="text-align:left;">morphTo</td><td style="text-align:right;">morphMany</td></tr><tr><td style="text-align:left;">belongsToMany</td><td style="text-align:right;">belongsToMany</td></tr><tr><td style="text-align:left;">hasOneThrough</td><td style="text-align:right;">hasOneThrough</td></tr></tbody></table><div class="info custom-block"><p class="custom-block-title">ToMany Relationship Usage</p><p>Since * to many relations provides the same functionality with the * to one relations, <code>Unusualify/Modularity</code> serves only * to many relationship methods and migrations. Cases with * to one relationship usage, it can be supplied with request validations.</p></div></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-b88cabfa><!--[--><!--]--><div class="edit-info" data-v-b88cabfa><!----><div class="last-updated" data-v-b88cabfa><p class="VPLastUpdated" data-v-b88cabfa data-v-9da12f1d>Last updated: <time datetime="2024-06-07T12:47:15.000Z" data-v-9da12f1d></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-b88cabfa><span class="visually-hidden" id="doc-footer-aria-label" data-v-b88cabfa>Pager</span><div class="pager" data-v-b88cabfa><a class="VPLink link pager-link prev" href="/get-started/installation-guide" data-v-b88cabfa><!--[--><span class="desc" data-v-b88cabfa>Previous page</span><span class="title" data-v-b88cabfa>Installation Guide</span><!--]--></a></div><div class="pager" data-v-b88cabfa><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"PkCKRmmS\",\"get-started_what-is-modular-design.md\":\"cdclWznM\",\"get-started_index.md\":\"CpZxWCXp\",\"get-started_what-is-modularity.md\":\"CaYGRMQG\",\"get-started_installation-guide.md\":\"C8MYFOMa\",\"advanced-guide_api-examples.md\":\"Du90QyGL\",\"get-started_creating-modules.md\":\"UeYhJrkD\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Modularity\",\"description\":\"Modularity Docs\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Get Started\",\"link\":\"get-started/what-is-modularity\"},{\"text\":\"Version\",\"items\":[{\"text\":\"1.0.0\",\"link\":\"\"}]}],\"sidebar\":[{\"text\":\"Advanced Guide\",\"collapsed\":false,\"base\":\"/advanced-guide/\",\"items\":[{\"text\":\"Api Examples\",\"link\":\"api-examples.md\",\"sidebarPos\":99}]},{\"text\":\"Get Started\",\"collapsed\":false,\"base\":\"/get-started/\",\"items\":[{\"text\":\"What Is Modularity\",\"link\":\"what-is-modularity.md\",\"sidebarPos\":1},{\"text\":\"What Is Modular Design\",\"link\":\"what-is-modular-design.md\",\"sidebarPos\":2},{\"text\":\"Installation Guide\",\"link\":\"installation-guide.md\",\"sidebarPos\":3},{\"text\":\"Creating Modules\",\"link\":\"creating-modules.md\",\"sidebarPos\":4}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/unusualify/modularity\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>